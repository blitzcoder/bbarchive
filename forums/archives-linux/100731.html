<!DOCTYPE html><html lang="en" ><head ><title >Testing: Multi Distribuition Bmax/Dep Installer</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Testing: Multi Distribuition Bmax/Dep Installer</h1><a href="forums.php" >Archives Forums</a>/<a href="topics.php?forum=109" >Linux Discussion</a>/<a href="#bottom" >Testing: Multi Distribuition Bmax/Dep Installer</a><br><br>
<a name="1191754"></a>

<a name="1191756"></a>

<a name="1191757"></a>

<a name="1191758"></a>

<a name="1191762"></a>

<a name="1191763"></a>

<a name="1191764"></a>

<a name="1191766"></a>

<a name="1191768"></a>

<a name="1191799"></a>

<a name="1191800"></a>

<a name="1191802"></a>

<a name="1191804"></a>

<a name="1191807"></a>

<a name="1191828"></a>

<a name="1191831"></a>

<a name="1191918"></a>

<a name="1191919"></a>

<a name="1192034"></a>

<a name="1192035"></a>

<a name="1192054"></a>

<a name="1192059"></a>

<a name="1192074"></a>

<a name="1192078"></a>

<a name="1192081"></a>

<a name="1192084"></a>

<a name="1192085"></a>

<a name="1192091"></a>

<a name="1192113"></a>

<a name="1192114"></a>

<a name="1192128"></a>

<a name="1192184"></a>

<a name="1192272"></a>

<a name="1192273"></a>

<a name="1192286"></a>

<a name="1192288"></a>

<a name="1192292"></a>

<a name="1192293"></a>

<a name="1192294"></a>

<a name="1192295"></a>

<a name="1192296"></a>

<a name="1192297"></a>

<a name="1192298"></a>

<a name="1192299"></a>

<a name="1192300"></a>

<a name="1192301"></a>

<a name="1192302"></a>

<a name="1192303"></a>

<a name="1192304"></a>

<a name="1192305"></a>

<a name="1192306"></a>

<a name="1192307"></a>

<a name="1192308"></a>

<a name="1192309"></a>

<a name="1192310"></a>

<a name="1192315"></a>

<a name="1192316"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Something weird is happening to this forum again. <br><br></td></tr></table><br>
<a name="1192319"></a>

<a name="1192362"></a>

<a name="1192363"></a>

<a name="1192364"></a>

<a name="1192365"></a>

<a name="1192366"></a>

<a name="1192367"></a>

<a name="1192368"></a>

<a name="1192369"></a>

<a name="1192371"></a>

<a name="1192388"></a>

<a name="1192759"></a>

<a name="1192929"></a>

<a name="1192930"></a>

<a name="1200381"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Greeting to all.<br><br><b>WARNING:</b> I know some of you will just skip the stuff below and just jump straight in and try to run the code. But remember this is a script and can do serious damage to your system if something isn't right when run with elevated privileges . <b>SO YOU HAVE BEEN WARNED</b>. If any thing try it on a virtual machine like virtualbox first before using it on working system. I don't know how this script would react if run on in a multi-user environment like a server ( as unlike some around here I haven't got access to one ) so if you know what you are doing and are better than me at scripting in bash ( which more than likely you will be ) then have a go. You should always consider anything post in this thread as a work in progress and treat such code as alpha/beta testing. It should also be note that a package removed may remove more than just the named packages so if you are on real hardware be careful.<br><br>As some of you know from previous posts I've been working on an install script that will install the dependencies for using Blitz  Max. And I think it's at a point where it should be useful to take some of the pain out of getting things building with BlitzMax on Linux.<br><br><b>Don't forget</b> some of the graphic drivers that come with the distributions are the free versions and may not be up to the task of working with applications written in BlitzMax. So if there is a problem you will have to install the proprietary drivers from the graphics cards hardware vendor.<br><b>SIDE NOTE:</b> If any out there are using a dual monitor set up. Blitz Max applications don't seem to like twin view. On my system I had to set it up as separate screens and do a bit of xorg.conf modification. <br><br>So far I have got those listed below to work: 32/64bit Desktop versions only.<br>Debian 7.x<br>*ubuntu 12.04, 12.10, 13.04<br>Linux Mint 13, 14, 15 ( ubuntu ) the debian version is known as LMDE<br>openSUSE 12.3<br>Fedora 18<br>Mageia 2, 3 (64bit version has to have PNG MMX assembly disabled to get the gnu compiler to compile).<br>PCLinuxOS (64bit version has to have PNG MMX assembly disabled to get the gnu compiler to compile).<br>Arch Linux (64bit version has to have PNG MMX assembly disabled to get the gnu compiler to compile).<br><br>Remember BRL recommend ubuntu and if your using a different distribution that differs significantly from Ubuntu then support could be sketchy.  <br><br>There are three scripts that can possibly be used.<br>1) The main install script named <b>bmax-install</b><br>2) A installation script for BlitzMax named just <b>max</b>. And relies on bmax-install to work.<br>3) A patching script named <b>patcher_148</b> to automatically fix version 1.48 for a few issues that have arisen with the latest distributions. This script can be run independently with an extracted copy of BlitzMax and should be placed in the same directory as BlitzMax not in the BlitzMax directory it's self.<br><br>To find your way around these files the, important sections have got a #*name field so you can jump to that location in the script using the editors FIND function. To get to the list of these use #*quick<br><br>A description of what the files are meant to do.<br><br><b>Bmax-install</b><br>This is what does all the work of installing the dependencies. It first checks the system to get the distribution name and release number if lsb_release is supported else it will try just for a name for a time being.<br>It then uses these to select the package manager and a list of packages to install for that distribution.<br>Before calling the actual package manager it calls a function where code should be placed for any special house keeping that needs to be done ( like adding an architecture to dpkg on debian 64bit ) before the package manager is finally run.<br>There is also a function to call anything that needs to be done after package installation. Note linking 32bit libraries for a 64bit distribution are done separately and don't use that function.<br>After the packages have been installed and depending on which option was selected and if the there is a file named “<b>max</b>”. Then it will run that file to install or remove Blitz Max to/from /opt else it will exit.<br>There is also an option to remove packages, but I wouldn't recommend that as you never no what else will get removed.<br>If the install was interrupted there is an option (-l) to remove any broken links. This has been disabled and can be enabled by removing the comment marker for that option in the script. It's been disabled as it it will remove any broken link not just those made by this script. And I can't say if it will work on all distributions.<br><br><b>max</b><br>This files job is just to install Blitz Max to /opt directory and make links in /usr/local/bin and well as adding a menu and desktop launcher if you are using a full desktop environment (e.g gnome/KDE). It will also relocate the modules directory to the installers home. This file should only be run in conjunction with bmax-install as it could be unpredictable otherwise. This file will also call the patch file if there is one.<br><br><b>patcher_148</b><br>This files job is to fix the sound and link issue in Blitz Max version 1.48. To cut it short it patches appstub, threads, freeaudioaudio, freeaudio, alsadevice.cpp and adds pulseaudiodevice.cpp.<br>And makes the default audio driver selected pulseaudio. You can also pass arguments for addition patches that can be added to a script. New functions in this script should have the format "patch_function_name".<br>Currently the only argument you can pass is png_no_mmx_code.<br><br><b>NOTE</b>: If there is an error in the script or it does something that it not meant to do then please post.....<br>1) script version number<br>2) distribution listing year and revision (line 53 in bmax-install)<br>3) what Linux distribution it is with release number<br>4) which script and the line the error occurred in. e.g bmax-install line 500, max line 10,  patcher line 5.<br>5) a console output.<br>And list any thing that it's doing/not doing e.g. menu item not being see etc. And any one posting “It's not working” see the line below.<br><b>NOTE</b>: If you cannot be bothered to do those items above then I cannot be bothered to help or fix it.<br>The only exception to the above is if you run a BlitzMax compiled application and you get a error. You should recompile the application in debug mode. And then try again and see what information it outputs. Also try to run the applications from the terminal console to get out put and you should try ldd to get information on required libraries. e.g. ldd /opt/BlitzMax/MaxIDE <br>It is possible that during a release change that things will break.<br><br><b>NOTE</b>: If you want to help by posting package list names. Please post<br>1) distribution and release<br>2) the package manager used<br>3) the highest know package that will automatically select the other packages in a group that Blitz Max uses.<br>	For examples g++ will select gcc which will select libc6-dev.<br>	And libglu1-mesa-dev will select libX11-dev etc.<br>4) and any special things that need to be done to get multi-arch support enabled.<br><br>If I see and full update code I will test it and if it works I will and if possible update this first post to reflect the new script.<br><br>There is also a few rules that should be followed if any one should decide to repost these scripts in there entirety with there own alterations. The details are at the top of each script.<br><br>EDIT:<br>OK there was three code boxes, but when I updated the code from v0.3m to the latest version (0.4) some thing weird started to happen to the post. Guess there is a limit to how big a post can get :o.<br><br>So now the files are supplied in zip file format. This was not something that I want to do, but doing it this way makes sure that there should be no problems with copy and pasting code.<br><a href="http://www.dawlane.pwp.blueyonder.co.uk/files/bmax/installer/bmax-install-0.5-3.zip" target="_blank">bmax-install-0.5-3.zip</a><br><br>Below are links to text file that are contained within the zip file. Make a directory and use right click and "save as" and put them there or the web browser will open them up.<br><a href="http://www.dawlane.pwp.blueyonder.co.uk/files/bmax/installer/README" target="_blank">README</a><br><a href="http://www.dawlane.pwp.blueyonder.co.uk/files/bmax/installer/adding-a-distro" target="_blank">adding-a-distro</a><br><a href="http://www.dawlane.pwp.blueyonder.co.uk/files/bmax/installer/adding-a-patch" target="_blank">adding-a-patch</a><br><a href="http://www.dawlane.pwp.blueyonder.co.uk/files/bmax/installer/bmax-install" target="_blank">bmax-install</a><br><a href="http://www.dawlane.pwp.blueyonder.co.uk/files/bmax/installer/max" target="_blank">max</a><br><a href="http://www.dawlane.pwp.blueyonder.co.uk/files/bmax/installer/patcher_148" target="_blank">patcher_148</a><br><a href="http://www.dawlane.pwp.blueyonder.co.uk/files/bmax/installer/distribution-notes" target="_blank">distribution-notes</a><br><br>Using the script files.<br><br>Make sure that the file permissions for bmax-install are set the execute. If you do not wish to install BlitzMax to /opt then rename or remove it doing this means that you will have to patch and move the BlitzMax directory and make your own links etc.<br><br>Now place a copy of the tar.gz archive of BlitzMax 1.48 into the same directory as these files.<br>If you would like an icon to be installed then place a png file renamed name icon.png in the directory where the scripts are. It will be detected and copied to the BlitzMax directory.<br><br><b>Tip:</b> If you haven't got one then one way is to open the BlitzMax archive and extract the B-Max.png found in sample/breakout/media. Resize it to 48x48 in an image editing tool and export it as icon.png to the scripts location.<br><br>Now open a terminal and change directory to it<br><pre class=code>cd Desktop/bmax-install</pre><br>Before the script is run make sure the system is up to date. Use the distributions graphic update tool for this unless you know how to do it from the command line.<br> <br>You now needed to run the script with root privileges. This depends on the distribution on how this is achieved. In some this is just running the script like ` sudo ./bmax-install ` in others you have to execute the su command then the script can be run like so ` ./bmax-install. `<br><br>Now type: ./bmax-install -h<br><br>You will then see all the options. The default is just to get the required packages so you can move BlitzMax and patch manually, but you will have to do any system links yourself other than those that are created by default for the 64bit version of Linux. <br><br>The options:<br>-i : Installs all the packages and places BlitzMax into /opt and sets up links so that who ever did the install is the only one who can use it.<br>-u : Removes all the packages,links and BliztMax. But not build tools g++ and multiarch libs for the 64bit.<br>-p : Just installs the packages and any links for the 64bit version of Linux.<br>-r : Just removes the packages and any links for the 64bit version of Linux.<br>-m : Just installs BlitzMax to /opt and set up links same as -i<br>-n : Just removes BlitzMax.<br>-l : Removes any broken system links. This is disabled by default and can be enabled by removing the # comment marker in the install part of the code.<br><br>So typing: sudo ./bmax-install.sh -i <br>will install everything. If all files a present and named correctly.<br><br>Once the script has been run and every thing has installed and you included the <b>max</b> install script then you will be able to start BlitzMax IDE from the command line using MaxIDE or maxide or use the link on your desktop. You can also use bmk from the command line too. Don't forget that you need to rebuild the modules, but make sure that if you used the super user (su) command that you make your self back to a normal user. Typing “<b>exit</b>” usually does this. If you don't and you use the command line then you will have problems later building modules or code.<br><br>As always constructive suggestions welcome. <br><br></td></tr></table><br>
<a name="1192017"></a>

<a name="1192018"></a>

<a name="1192019"></a>

<a name="1192020"></a>

<a name="1192021"></a>

<a name="1192023"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'd like to reiterate dawlane's point:<br><br><div class="quote"> But remember this is a script and can do serious damage to your system if something isn't right when run with elevated privileges . SO YOU HAVE BEEN WARNED. If any thing try it on a virtual machine like virtualbox first before using it on working system.  <br></div><br><br><div class="quote">  If any thing try it on a virtual machine like virtualbox  <br></div> I'm gonna give it a whirl within VMWare Player with Mint 15, I like Murray Mint's and yesterday Andy Murray was Mint! I'm sure I've got a Mint Installation on one of my VM's already.<br><br>I don't even know what native package manager Mint uses, I'll soon find out. Installing VMWare tools in Mint is a little more of a winding path in Mint than Debian, I do like to be able to 'full-screen' my VMWare Linux installs. Okay, Mint playing in lurvly 1920x1200, now on with Dawlane's Installation script:<br><br><img src="http://www.wishingwellsoftware.co.uk/mint.jpg"> <br><br></td></tr></table><br>
<a name="1192044"></a>

<a name="1192045"></a>

<a name="1192046"></a>

<a name="1192047"></a>

<a name="1192048"></a>

<a name="1192050"></a>

<a name="1192051"></a>

<a name="1192052"></a>

<a name="1192055"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, <br><br>My bash scripting is a bit rusty - don't you need open parentheses within case / esac select statements?<br><br>removed some double semi-colons &amp; added some open parentheses to get the script to run?  Line 567 has some double semi-colons. I am currently using:<br><br>1)0.31<br>Linux Mint version 15 within VMWare Player: Please see screen grab (coming): <br><br></td></tr></table><br>
<a name="1192053"></a>

<a name="1192056"></a>

<a name="1192057"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> My bash scripting is a bit rusty - don't you need open parentheses within case / esac select statements? <br></div><br>Read is <a href="http://wiki.bash-hackers.org/syntax/ccmd/case" target="_blank">http://wiki.bash-hackers.org/syntax/ccmd/case</a><br>The thing with bash is that there's more than one way to do the same job.<br><br><div class="quote">  Line 567 has some double semi-colons  <br></div>oops missed that. Serves me right for making a minor alteration late at night just be for posting. I shall update it, but I don't think that deserves a version update. I will have to double check and make sure that there are no double types.<br><br>Edit: Got to get a new keyboard as the one I'm using at the moment is awful to use. Had a little accident with a cup of coffee. <br><br></td></tr></table><br>
<a name="1192058"></a>

<a name="1192060"></a>

<a name="1192061"></a>

<a name="1192062"></a>

<a name="1192063"></a>

<a name="1192064"></a>

<a name="1192065"></a>

<a name="1192067"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here is the code I've modified so far - it has a version 0.31 in it - obviously this can be scrubbed.<br><br>Thanks for the link to bash scripting for rusty folk ;)<br><br>[EDIT]<br><br>Confession - as you can see from the screengrab the directory I'm working from is something other than 'bmax-install', so I didn't follow this step to the letter - my bad. Moving my files around now to adhere to the instructions.<br><br><div class="quote"> Now script creation.<br><br>Make a directory on you desktop and call it bmax-install and within this directory make an empty text file ( or more if you want to automatically install and patch BlitzMax) with no extensions and named it...<br><br>bmax-install <br></div><br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">

#!/bin/bash 

# EDITOR TABS SET TO 4 FONT SIZE 8 
#*changes QUICK FIND 
#*quick QUICK FIND 
VERSION="0.31" 
############################################################################# 
#																			# 
#	Name: bmax-install	AKA Blitz Max Installer								# 
#	Author: Jason Cook														# 
#	Version: 0.31															# 
#																			# 
#	NOTE: Script version number should only be updated if there has been	# 
#	a change to how the script works not with adding/removing alteration	# 
#	of Linux distributions.	  												# 
#	These changes should be added below in the next sections.				# 
#	And no hard to follow/read bash code should	be used.					# 
#																			# 
#	Description																# 
#	This script will set up dependencies for Blitz Max on know and tested	# 
#	Linux distributions. If the distribution is x86_64bit and supports 		# 
#	multiple architectures it will install the x86 compiled libraries and	# 
#	set up links as necessary.												# 
#																			#		 
# THIS SCRIPT COMES WITH NO WARRANTIES WHAT SO EVER USE AT YOUR OWN RISK	# 
#																			# 
# This script will load and setup the dependencies for Blitz Max on			# 
# a number of supported systems.											# 
#																			# 
# NOTE: THIS SCRIPT WILL CALL AN INSTALL FILE FOR BLITZ MAX IF IT EXISTS	# 
#								
############################################################################# 

############################################################################################################################################# 
#	RULES:																																	# 
#	Only those distribution that are currently support should be added to this script or if the distribution has a yearly release cycle		# 
#	then only the last 3 releases should be added other wise they should be removed to stop the script from getting too big and cluttered.	# 
#	Those that have a rolling/yearly release should just have only a package_xxx_commom function unless there has been a major change to 	# 
#	package	names within the 3 release limit, then addition package_xxx_release function is to be used.										# 
#	Any changes must be comment near to those changes not in the list below unless a problem has been fixed.								# 
#	If any new package manager or release is added then to aid fast finding make a comment like #*name at it's start and add it to the		# 
#	quick finds (#*quick) below. Where the code for distributions goes depends on which package manager it uses. e.g Fedora should go 		# 
#	where yum  is etc.																														# 
#																																			# 
#	Naming of functions should follow the form of ..																						# 
#	Package Managers: install_xxx remove_xxx update_xxx where xxx is the name of the package manager										# 
#	Distribution:	package_xxx_common where xxx should be the base that all distribution derive from. e.g. Ubuntu is based on debian		# 
#					so debian is the common name.																							# 
#					package_xxx_release where xxx is any branch e.g. mint, ubuntu, etc														# 
#					package_xxx_before where xxx is any distribution that needs to do some special house keeping before installing			# 
#					packages. e.g. adding i386 to dpkg on debian.																			# 
#					package_xxx_after where xxx is any distribution that needs to some special house keeping after installing packages.		# 
#																																			# 
# 	NOTE: When selecting a package; use one that will install it's lower dependencies. And let the package manager do all the work			# 
#	e.g. g++ will install gcc with libc6-dev, libglu1-mesa-dev will install the mesa-dev with libX11-dev etc								# 
##################################################################################################################################################### 
#																																					# 
#	DISTRIBUTION AS OF 2013 revision 0 July																											# 
#	Any alteration within the year should have it's revision number chanegd and if it's a new year set back to 0 with the month it was done 		# 
# 																																					# 
#	Works	|	Distribution			|	Architecture	|	Versions			| 	Known Problems												# 
#-----------+---------------------------+-------------------+-----------------------+---------------------------------------------------------------# 
#	yes		|	Debian					|	32/64bit		|	7.x					|																# 
#	yes		|	*Ubuntu					|	32/64bit		|	12.04/12.10/13.04	|																# 
#	yes		|	Linux Mint (ubuntu)		|	32/64bit		|	13/14/15			|	13`who am i` issue --fixed									# 
#	yes		|	OpenSUSE				|	32/64bit		|	12.3				|																# 
#	yes		|	Fedora					|	32/64bit		|	18					|																# 
##################################################################################################################################################### 

#*changes 
##	Changes to main code only 
##	format 
##	dd/mm/yyyy	: version :	name											:	whats changed 
##  03/07/2013  :   0.31  : M Gormley (Blitzplotter)                        :   REmoved some double semi-colons and added some opening parens
##	01/07/2013	:	0.3	  :	Jason Cook (dawlane)							:	Added a way to override automatic link finding using a # to indicate it should use path to follow instead 
##	27/06/2013	:	0.2	  :	Jason Cook (dawlane)							:	Rewritten script while still using parts of the old one 
##																				New method for getting distribution name, version and architecture. Still a work in progress 
##																				and may not detect the distrbution/version correctly if not using standard lsb_release 
##																				Add a new way to detect and link 64bit libraries. 
##																				Moved the BlitzMax install section to it's own file and can only be installed if present 
##																				Updated method for getting name of the user calling sudo as some systems had a problem with who with arguments (`am i`) 
## 
##	TO DO LIST: 
##		Add or remove other distributions 
##		Add a way to get the release number if there is no rsb_release command 
##		Find and fix bugs 

#*quick 
## QUICK FIND MAIN 
#*system_check #*usage #*dist #*entry #*linker #*install #*bmax #*distsbefore #*distsafter 

## QUICK PACKAGE MANAGER FIND 
#*apt #*zypper #*yum 

## QUICK SPECIAL FIND 
#*aptspecial 

## QUICK DISTRO FIND COMMON 
#*aptpack #*opensusepack #*fedorapack 

## QUICK DISTRO FIND RELEASE 
#*ubuntu #*mint #*debian 

## Set some global variables 
INSTALL=2		# Installation type install or remove Default is install packages only 
SCRIPTPATH=		# Holds path to this script 
RESTART=0		# Use for letting user know that they need to log out/restart 
PKGS_IN=		# Holds the packages to install 
PKGS_OUT=		# Holds the packages to remove 
PKGMGR=			# Holds the package manger to use 
ARCH=			# Holds the OS architecture 
RELEASE=		# Current distribution version 
DISTRO=			# Linux distributors name 
WHO=			# Hold the installing users name 
RESULT=			# General return value variable. Make sure it's cleared be for use 
LIB32="/usr/lib";			# Path to where the 32bit binary libraries are stored. Over-ride if different 
LINK32="$LIB32";			# Location to place the 64bit links to the 32bit libraries. Over-ride if different 
# The variable below holds lists for distributions current libraries names that need to be linked on 64bit systems. 
# NOTE: Adding an hash ( # ) in front of a library name means you want to use a path instead of automatic find as there could be more than one location for the same library 
# but do not edit the line below just over-ride the that particular index e.g. for libGL.so.1 should be over-ridden like so LINK_LIB[1]="#mesa/libGL.so.1" 
# If you only need to use one of the links then over-ride LINK_LIB completely. e.g Say that libpulse-simple.so.0 is only needed LINK_LIB="${LINK_LIB[8]}", LINK_LIB="#sound/${LINK_LIB[8]}", LINK_LIB=( "#sound/libpulse-simple.so.0" ) 
# e.g. "libGL.so.1" could have more than one location so "#mesa/libGL.so.1" should be use to direct the linker. 
# Associative arrays are not used at this time as it is unknown if all distributions that use bash support them. 
LINK_LIB=( "libX11.so.6" "libGL.so.1" "libGLU.so.1" "libfreetype.so.6" "libXxf86vm.so.1" "libXpm.so.4" "libXft.so.2" "libasound.so.2" "libpulse-simple.so.0" "libopenal.so.1" )	# Curren as of 27/06/2013 

#*system_check 
##################################### 
# Find the Distribution	and release	# 
##################################### 
system_check(){ 
	echo "BMAX-INSTALL: Preforming distribution check";	 
	## Use to detemine which distributions and architecture 
	ARCH=$( uname -m | sed 's/x86_//;s/i[3-6]86/32/' )	 
	DISTRO="Unknown" 
	RELEASE="Unknown" 
	## Some regular expressions to get information 
	regExpLsbFile="/etc/(.*)[-_]" 
	## lsb_release available 
	if type -a lsb_release 2&gt;/dev/null; then       
		DISTRO=`lsb_release -si` 
		RELEASE=`lsb_release -sr` 
	else 
		## lsb_release not available fall back to at least get a name 
		## NOTE: FIX ME TO GET BOTH A NAME AND VERSION IF POSSIBLE.                                           
		Files=`ls /etc/*[-_]{release,version} 2&gt;/dev/null` 
		for file in $Files; do 
			if [[ $file =~ $regExpLsbFile ]]; then 
				# RELEASE="$file" | sed 's/[^0-9.]*//g'	# Get a number 
				DISTRO=${BASH_REMATCH[1]} 
				break; 
			else 
				echo "BMAX-INSTALL: Should not occur: Didn't find any etcFiles ???" 
				exit 1; 
			fi 
			done 
	fi 
	## Set distribution name to lower case 
	DISTRO=`echo $DISTRO | tr "[:upper:]" "[:lower:]"` 
	# Get scripts location 
	BASEDIR=$(dirname $0) 
	SCRIPT=$(readlink -f $0) 
	SCRIPTPATH=$(dirname $SCRIPT)		 
} 

show_info(){ 
    ## Info 
    echo "Blitzmax Installation Script version $VERSION"; 
    echo "Please report bugs or suggestions to the same place you got these files"; 
    echo ""; 
} 

list_check(){	 
	echo "BMAX-INSTALL: Distribution is: $DISTRO"; 
	echo "BMAX-INSTALL: Distribution release is: $RELEASE"; 
	echo "BMAX-INSTALL: Machine architecture is $ARCH bit"; 
	echo "BMAX-INSTALL: User is $WHO"; 
} 

user_check(){ 
	echo "BMAX-INSTALL: Performing user check"; 
	# Get the installers user name and home directory 
	WHO=$( who am i | awk '{print $1}' ) 
	 
	# See if we can get a sudoer user name 
	if [ -z $WHO ]; then WHO=$SUDO_USER; echo "BMAX-INSTALL: \`who am i\` failed. Trying \$SUDO_USER"; else echo "BMAX-INSTALL: \`who am i\` works"; fi 
	## Check if script is run as root 
	if [ `whoami` = "root" ]; then 
		echo "BMAX-INSTALL: User $WHO is logged in as root/su/sudoer user."; 
		if [ "$WHO" = "root" ]; then 
			echo "BMAX-INSTALL: You are logged in as root it is not wise to install as root."; 
			read -p "			Do you wish to continue (y/n)?."; 
			if [ "$REPLY" != "y" ]; then echo "BMAX-INSTALL: Exiting."; exit 0; fi 
		fi 
	else 
		echo "BMAX-INSTALL: You need to be root/su/sudoer."; 
		exit $?; 
	fi	 
} 

#*usage 
################################# 
#	Usage Instructions			# 
################################# 

usage(){ 
	clear; 
	echo "Blitzmax Installation Script version 0.2"; 
	echo "Please report bugs, problems or suggestions to the same place you got these files"; 
	echo ""; 
	echo "USAGE:"; 
	echo "Place BlitzMax tar.gz file in same directory as install script then type as sudoer/root..."; 
	echo "./bmax-install [OPTIONS]"; 
	echo "[OPTIONS]"; 
	echo "	-i	: 	Install Packages and BlitzMax"; 
	echo "	-u	: 	Uninstall Packages and BlitzMax"; 
	echo "	-p	:	Install all required packages 32/64bit (Default)"; 
	echo "	-r	:	Uninstall all required packages and BlitzMax."; 
	echo "	-m	:	Install BlitzMax Only"; 
	echo "	-n	:	Uninstall BlitzMax Only"; 
	echo "	-l	:	Remove any broken system links. Disabled by default see"; 
	echo "			install section on how to activate it."; 
	echo "	-h	:	Display this help"; 
	echo ""; 
} 

######################### 
# PACKAGE INSTALLATIONS	# 
######################### 

#*apt 
################# 
#    apt-get	# 
################# 
install_aptget(){ 
	# Install packages 
	echo "BMAX-INSTALL: apt-get is installing packages. Please wait..."; 
	apt-get -y -qq install $PKGS_IN 
	if [ $? -gt 0 ]; then echo "BMAX-INSTALL: apt-get install reported an error."; exit $?; fi 
	return $?; 
} 

remove_aptget(){ 
	# Remove anc clean packages, but it would be best to leave them in 
	echo "BMAX-INSTALL: Removing pacakges is unwise as it could break other programs or your system"; 
	echo "BMAX-INSTALL: Removing...  Please wait..."; 
	apt-get --purge remove $PKGS_OUT; 
	if [ $? -gt 0 ]; then echo "BMAX-INSTALL: apt-get remove reported an error."; exit $?; fi 
	echo "BMAX-INSTALL: Performing apt-get cleanup...  Please wait..."; 
	apt-get autoremove; 
	if [ $? -gt 0 ]; then echo "BMAX-INSTALL: apt-get autoremove reported an error."; exit $?; fi 
	apt-get autoclean; 
	if [ $? -gt 0 ]; then echo "BMAX-INSTALL: apt-get autoclean reported an error."; exit $?; fi 
	return $?; 
} 
update_aptget(){ 
	echo "BMAX-INSTALL: Now updating repositories data base.  Please wait..."; 
	apt-get -y -qq update; 
	if [ $? -gt 0 ]; then 
		echo "BMAX-INSTALL: Reports that there was an error while updating the repository data base"; 
		echo "				Check that /etc/apt/sources.list hasn't been corrupted or that repository supports i386."; 
		exit 1; 
	fi 
	return $? 
} 

#*aptpack 
##	Common packages for debian family 
package_debian_common(){ 
	# Common apt-get packages 
	PKGMGR="aptget" 
	# common packages all versions 
	PKGS_IN="libglu1-mesa-dev libasound2-dev libfreetype6-dev libxpm-dev libxft-dev libpulse-dev libopenal-dev" 
	PKGS_OUT="$PKGS_IN"; 
	if [ $ARCH -eq 64 ]; then 
		PKGS_IN="$PKGS_IN g++-multilib"; 
		LIB32="/usr/lib";	# common base library path 
		LINK32="/usr/lib32"; 
	else 
		PKGS_IN="$PKGS_IN g++"; 
	fi 
	return $?;	 
} 

#*ubuntu 
#	Release specific 
package_ubuntu_release(){ 
	case "$RELEASE" in 
		("12.04" | "12.10" ) 
			PKGS_IN="$PKGS_IN libxxf86vm-dev"; 
			PKGS_OUT="$PKGS_OUT libxxf86vm-dev"; 
			if [ $ARCH -eq 64 ]; then PKGS_IN="$PKGS_IN ia32-libs-multiarch"; LIB32="$LIB32/i386-linux-gnu"; fi ; 
		("13.04"  )	# Note package libxxf8vm-dev appears to install with the mesa packages 
			if [ $ARCH -eq 64 ]; then PKGS_IN="$PKGS_IN ia32-libs-multiarch"; LIB32="$LIB32/i386-linux-gnu"; fi ; 
	esac 
	return $?; 
} 

#*mint 
package_mint_release(){ 
	case "$RELEASE" in 
		( "13" | "14" | "15" ) 
			PKGS_IN="$PKGS_IN libxxf86vm-dev"; 
			PKGS_OUT="$PKGS_OUT libxxf86vm-dev"; 
			# LINK_LIB[1]="#mesa/${LINK_LIB[1]}" isn't needed but I had the # path some how 
			if [ $ARCH -eq 64 ]; then PKGS_IN="$PKGS_IN ia32-libs-multiarch"; LIB32="$LIB32/i386-linux-gnu"; LINK_LIB[1]="#mesa/${LINK_LIB[1]}"; fi ; 
	esac 
	return $?; 
} 

#*debian 
package_debian_release(){ 
	case "$RELEASE" in 
		"7.0" | "7.1" ) 
			PKGS_IN="$PKGS_IN libxxf86vm-dev"; 
			PKGS_OUT="$PKGS_OUT libxxf86vm-dev"; 
			if [ $ARCH -eq 64 ]; then PKGS_IN="$PKGS_IN ia32-libs-i386"; LIB32="$LIB32/i386-linux-gnu"; fi ;; 
	esac 
	return $?; 
} 

#*aptspecial 
# As some debian style systems don't have the i386 repositories installed as default they need to be add. 
package_debian_before(){ 
	# See if i386 as been added to the system 
	echo "BMAX-INSTALL: Checking to see if Multi-Arch is setup."; 
	if [ ! -f /var/lib/dpkg/arch ]; then 						 
		dpkg --add-architecture i386 ; 
		if [ $? -eq 0 ]; then echo "BMAX-INSTALL: Added i386 architecture to dpkg."; else echo "BMAX-INSTALL: Reported an error from dpkg."; exit 1; fi 
		update_aptget;				 
	else 
		echo "BMAX-INSTALL: Found /var/lib/dpkg/arch. Checking to see is i386 is there."; 
		if [ ! `grep -F "i386" /var/lib/dpkg/arch` ]; then 
			dpkg --add-architecture i386 ; 
			if [ $? -eq 0 ]; then echo "BMAX-INSTALL: Added i386 architecture to dpkg."; else echo "BMAX-INSTALL: Reported an error from dpkg."; exit 1; fi 
			update_aptget; 
		else 
			echo "BMAX-INSTALL: i386 is initialised."; 
			update_aptget;						 
		fi 
	fi 
	return $? 
} 

#*zypper 
################# 
#    ZYPPER		# 
################# 
install_zypper(){	 
	echo "BMAX-INSTALL: zypper is installing packages. Please wait..."; 
	zypper -qn install $PKGS_IN; 
	if [ $? -gt 0 ]; then echo "BMAX-INSTALL: zypper install reported an error."; exit $?; fi	 
	return $?; 
} 

remove_zypper(){ 
	# Remove anc clean packages, but it would be best to leave them in 
	echo "BMAX-INSTALL: Removing pacakges is unwise as it could break other programs or your system";	 
	echo "BMAX-INSTALL: Removing... Please wait..."; 
	zypper remove $PKGS_OUT; 
	if [ $? -gt 0 ]; then echo "BMAX-INSTALL: zypper remove reported an error."; exit $?; fi	 
	echo "BMAX-INSTALL: Performing zypper cleanup..."; 
	zypper clean; 
	if [ $? -gt 0 ]; then echo "BMAX-INSTALL: zypper clean reported an error."; exit $?; fi	 
	return $?; 
} 
update_aptget(){ 
	echo "BMAX-INSTALL: Now updating repositories data base.  Please wait..."; 
	zypper -qn update; 
	if [ $? -gt 0 ]; then 
		echo "BMAX-INSTALL: Reports that there was an error while updating the repository data base"; 
		echo "				Check that /etc/apt/sources.list hasn't been corrupted or that repository supports i386."; 
		exit 1; 
	fi 
	return $? 
} 

#*opensusepack 
#	Common packages for openSUSE 
package_opensuse_common(){ 
	# openSUSE common 
	PKGMGR="zypper"; 
	# Common packages 
	PKGS_IN="Mesa-devel libX11-devel freetype2-devel libXpm-devel freeglut-devel glu-devel openal-soft-devel alsa-devel libpulse-devel"; 
	PKGS_OUT="$PKGS_IN"; 
	 
	if [ $ARCH -eq 64 ]; then 
		PKGS_OUT="$PKGS_OUT Mesa-devel-32bit libX11-devel-32bit freetype2-devel-32bit libXpm-devel-32bit libXxf86vm-devel-32bit libXft-devel-32bit glu-devel-32bit alsa-devel-32bit"; 
		PKGS_IN="$PKGS_IN gcc-c++-32bit Mesa-devel-32bit libX11-devel-32bit freetype2-devel-32bit libXpm-devel-32bit libXxf86vm-devel-32bit libXft-devel-32bit glu-devel-32bit alsa-devel-32bit alsa-plugins-pulse-32bit";	 
		LINK32="$LIB32"; 
		LINK_LIB=( "libpulse-simple.so.0" ) 
	else 
		PKGS_IN="$PKGS_IN gcc-c++"; 
	fi 
	return $?; 
} 

#*yum 
################# 
#		YUM		# 
################# 
install_yum(){ 
	echo "BMAX-INSTALL: yum is installing packages. Please wait..."; 
	yum -y -q install $PKGS_IN; 
	if [ $? -gt 0 ]; then echo "BMAX-INSTALL: yum insatll reported an error."; exit $?; fi 
	return $?; 
} 

remove_yum(){ 
	# Remove anc clean packages, but it would be best to leave them in 
	echo "BMAX-INSTALL: Removing pacakges is unwise as it could break other programs or your system"; 
	echo "BMAX-INSTALL: Removing... Please wait..."; 
	yum remove $PKGS_OUT; 
	if [ $? -gt 0 ]; then echo "BMAX-INSTALL: yum remove reported an error."; exit $?; fi 
	echo "BMAX-INSTALL: Performing yum cleanup..."; 
	yum clean all; 
	if [ $? -gt 0 ]; then echo "BMAX-INSTALL: yum clean reported an error."; exit $?; fi 
	return $?; 
} 
update_aptget(){ 
	echo "BMAX-INSTALL: Now updating repositories data base.  Please wait..."; 
	yum -y -q update; 
	if [ $? -gt 0 ]; then 
		echo "BMAX-INSTALL: Reports that there was an error while updating the repository data base"; 
		echo "				Check that /etc/apt/sources.list hasn't been corrupted or that repository supports i386."; 
		exit 1; 
	fi 
	return $?; 
} 

#*fedorapack 
# Common packages for fedora 
package_ferodra_common(){ 
	PKGMGR="yum"; 
	PKGS_IN="libX11-devel libXxf86vm-devel mesa-libGL-devel freetype-devel libXft-devel libXpm-devel alsa-lib-devel freeglut-devel mesa-libGLU-devel pulseaudio-libs-devel openal-soft-devel alsa-plugins-pulseaudio"; 
	PKGS_OUT="$PKGS_IN"; 
	if [ $ARCH -eq 64 ]; then 
		PKGS_IN="$PKGS_IN gcc-c++"; 
	else 
		PKGS_IN="$PKGS_IN gcc-c++ glibc-devel" 
	fi 
	return $?; 
} 

#*fedora : NOTE when first tried lsb_releas was not installed as default 
package_fedora_release(){ 
	if [ $ARCH -eq 64 ]; then 
		PKGS_IN="$PKGS_IN  glibc-devel.i686 libgcc.i686 libX11-devel.i686 libXxf86vm-devel.i686 mesa-libGL-devel.i686 freetype-devel.i686 libXft-devel.i686 libXpm-devel.i686 alsa-lib-devel.i686 freeglut-devel.i686 mesa-libGLU-devel.i686 pulseaudio-libs-devel.i686 openal-soft-devel.i686 alsa-plugins-pulseaudio.i686"; 
		PKGS_OUT="$PKGS_OUT glibc-devel.i686 libX11-devel.i686 libXxf86vm-devel.i686 mesa-libGL-devel.i686 freetype-devel.i686 libXft-devel.i686 libXpm-devel.i686 alsa-lib-devel.i686 freeglut-devel.i686 mesa-libGLU-devel.i686 pulseaudio-libs-devel.i686 openal-soft-devel.i686"; 
	fi 
	 
} 

#*linker 
############################# 
#	64Bit Library Linking	# 
############################# 
## Strip every think after .so to get a link name the BlitzMax recognises 
strip_so(){ 
	for baselib in "$1" 
		do 
    		shortlib=$baselib 
    		while extn=$(echo $shortlib | sed -n '/\.[0-9][0-9]*$/s/.*\(\.[0-9][0-9]*\)$/\1/p') 
        		[ -n "$extn" ]	# if with out if 
    			do 
        			shortlib=$(basename $shortlib $extn) 
    			done	 
		done 
			RESULT=$shortlib 
	return $?; 
} 

# Attempt to search for the libraries that BlitzMax uses and generate a link of the fly. EXPERIMENTAL may detect other files so be careful and use # to set path 
# Variables needed.... 
# LIB32 = Location of the 32bit libraries 
# LINK32 = Location of where the links are to be placed 
# LINK_LIB = List of libraries to link. 
# These should be set up in the package manager sections 

links_64(){	 
	RESULT="" 
	# See if there are any links required 
	if [ -a ${LINK_LIB[0]} ]; then echo "BMAX-INSTALL: No links to 32bit libraries are needed."; return $?; fi 
	echo "BMAX-INSTALL: Sorting links on 32bit libraries on 64bit systen"; 
	# Check to see if the link exist; If not make it 
	# Go through all the library types 
	for link in "${LINK_LIB[@]}" 
		do	 
			# If installing add a link			 
			strip_so "$link"	# RESULT variable will hold the striped version 
            # Test for a '#' and set lib_path to follow a that path 
			if [ "${link:0:1}" = "#" ]; then 
				link="${link:1}";	# get rid of the hash 
				lib_path="$LIB32/$link" # Make the path 
				RESULT="${RESULT##*/}"	# get rid of every thing apart for the .so link name 
				if ! find "$lib_path" ; then echo "BMAX-INSTALL: Reports that there is no library at $lib_parh to link $link to"; exit 1; fi 
			else	 
                # Use find to get the absolute path 
				lib_path=$(find $LIB32/ -name "$link") 
				if [ -z $lib_path ]; then echo "BMAX-INSTALL: Reports that there is no library to link $link to"; exit 1; fi	 
			fi	 
            # Make a link if installing 
			if [ $INSTALL -eq 0 ] || [ $INSTALL -eq 2 ]; then					 
				# Create the link if one doesn't exist and our library exists 
				if [ ! -f $LINK32/$RESULT ]; then 
					if [ -z $lib_path ]; then 
						echo "BMAX-INSTALL: Failed to make link $RESULT &gt;&gt; $link. Does $link exist?"; 
					else 
						ln -s $lib_path $LINK32/$RESULT ; echo "BMAX-INSTALL: Linked $RESULT &gt;&gt; $lib_path"; 
					fi 
				else 
					echo "BMAX-INSTALL: $RESULT Already exists.";	 
				fi 
			else 
			    # remove a link 
				if [ -f $LINK32/$RESULT ]; then rm $LINK32/$RESULT ; echo "BMAX-INSTALL: Removed $RESULT &lt;&lt; $lib_path"; fi 
			fi 
		done 
	return $?;	 
} 

#*dist 
############################################################# 
#		Set packages for distribution and version			# 
############################################################# 
distribution_packages(){ 
	case $DISTRO in 
	(	"ubuntu" ) 
				echo "BMAX-INSTALL: Package manager ubuntu apt-get selected."; 
				package_debian_common; 
				package_ubuntu_release; 
				return $?; 
	(	"linuxmint" ) 
				echo "BMAX-INSTALL: Package manager Linux Mint apt-get selected."; 
				package_debian_common; 
				package_mint_release; 
				return $?; 
	(	"debian" ) 
				echo "BMAX-INSTALL: Package manager Debian apt-get selected.";				 
				package_debian_common; 
				package_debian_release; 
				return $?; 
	(	"opensuse project" ) 
				echo "BMAX-INSTALL: Package manager openSUSE zypper selected."; 
				package_opensuse_common; 
				return $?; 
	(	"fedora" ) 
				echo "BMAX-INSTALL: Package manager Fedora yum selected."; 
				package_fedora_common; 
				package_fedora_release; 
				return $?; 
	esac 
	 
	# Currently if the distribustion isn't know then exit. 
	echo "BMAX-INSTALL: Unknow distribution... Exiting.";
        echo "DEBUG: Current $DISTRO is: $DISTRO "; 
	exit 1;	 
} 

#*distsbefore 
# This function should be executed just before calling the package manager 
# Place distribution configurations stuff here 
distribution_before(){ 
    case "$DISTRO" in 
        ( "debian" ) 
            package_debian_before; # Use this to set dpkg for i386 architectures 
    	( "Unknown" ) 
			return $? ;
    esac 
    return $? ;
} 

#*distsafter 
# This function should be executed just after calling the package manager 
# Place distribution configurations stuff here 
distribution_after(){ 
	case "$DISTRO" in 
	(	"Unknown" ) 
			return $? ;
	esac 
   return $? ;
} 

#*bmax 
################################# 
#		BLTZMAX INSTALLER		# 
################################# 
## Install the BlitzMax directory into /opt 
install_max(){ 
	# Check to see if BlizMax is installed 
	case "$INSTALL" in 
	(	"0" | "4" ) 
					# Check to see if Blitzmax is already installed 
					if [ -d /opt/BlitzMax ]; then 
						echo "BMAX-INSTALL: BlitzMax directory alreay exists. Remove with option -n and re-install with option -m."; 
						exit $?; 
					fi;; 
	(	"1" | "5" ) 
					if [ ! -d /opt/BlitzMax ]; then 
						echo "BMAX-INSTALL: BlitzMax is NOT installed."; 
						exit $?; 
					fi;; 
	esac 
	# If the BlitzMax install script is present 
	if  [ $SCRIPTPATH/max ]; then 
		echo "BMAX-INSTALL: Executing BlitzMax script."; 
		chmod 700 $SCRIPTPATH/max ; 
		./max $INSTALL $WHO $SCRIPTPATH ; RESTART=$? 
		if [ $? -eq 0 ] || [ $? -eq 3 ]; then 
			return $? 
		else 
			echo "BMAX-INSTALL: MAX SCRIPT reported an error :SCRIPT CALL"; exit $?; 
		fi 
	else 
		echo "BMAX-INSTALL: BlitzMax install script not present."; fi 
	return $?; 
} 
 
#*entry 
################################# 
#		INTSTALL ENERTY			# 
################################# 
# Clear the terminal 
printf "\033c" 

## intercept ctrl-c (SIGINT). 
trap trap_int INT; 

## Get the system and users details 
show_info; 
system_check; 
user_check; 
list_check; 

# Get the Distributions manager and packages 
distribution_packages; 

## Control+C Exit 
trap_int() 
{ 
	echo "	  SIGINT detected. Exiting script."; 
	echo "    Note that this may leave some operations incomplete."; 
	echo "    Run the script again to complete any pending operations."; 
	exit 0; 
} 

## Remove Broken System links 
clean_link(){	 
	FILES=`find $1 | grep -v '\.disabled$' | sort` 

	for F in $FILES; do 
    		if [ ! -e $F ]; then echo "Removing: $F"; rm $F ; fi 
	done 
	return $?; 
} 

#*inst 
######################### 
#		INSTALL			# 
######################### 

# Check for commandline options: 
while getopts iuprmnh option; do 
	case "${option}" in 
		i) INSTALL=0; 
		u) INSTALL=1; 
		p) INSTALL=2; 
		r) INSTALL=3; 
		m) INSTALL=4; 
		n) INSTALL=5; 
		l) INSTALL=6;	 
		h) usage; exit 0; 
		*?) usage; exit 0; 
	esac 
done 
unset opt; 

install_packages(){ 
	# insall packages 
	echo "BMAX-INSTALL: Installing Packages"; 
    distribution_before; 
	install_$PKGMGR; 
	distribution_after; 
	if [ $ARCH -eq 64 ]; then links_64; fi 
	echo "BMAX-INSTALL: Package install complete"; 
	return $?; 
} 
remove_packages(){ 
	# remove packages 
	echo "BMAX-INSTALL: Removing packages"; 
	remove_$PKGMGR; 
	if [ $ARCH -eq 64 ]; then links_64; fi 
	echo "BMAX-INSTALL: Package removal complete"; 
	return $?; 
} 

case "$INSTALL" in 
	# Install all 
(	"0" ) 
		install_packages; 
		install_max;; 
	# Remove all 
(	"1" ) 
		remove_packages; 
		install_max;; 
	# Install packages 
(	"2" ) 
		install_packages;; 
	# Remove packages 
(	"3" ) 
		remove_packages;; 
	# Install or remove BlitzMax 
(	"4" | "5" ) 
				install_max;; 
(	"6" ) 
		# Un-comment the last lines below to find and remove any broken system links. 
		# Note this should remove all broken links not just those created by this installer and should be used for debuging of links only 
		# or if the script was interrupted. 
		#clean_link /usr/local/bin ; clean_link $LINK32 ; clean_link $INSTALLER/.local/share/applictions ; clean $INSTALLER/Desktop ;; 
esac 

# Final check 
if [ $? -eq 0 ] || [ $? -eq 3 ]; then 
	if [ $RESTART -eq 3 ]; then echo "BMAX-INSTALL: You need to log out or restart your system."; fi 
	echo "BMAX-INSTALL: Script completed." 
	exit $?; 
else 
	echo "BMAX-INSTALL: Reported an error. : BMAX-INSTALL:"; exit 1; 
fi 
exit $?;


</textarea><br><br><img src="http://www.wishingwellsoftware.co.uk/mintmax.jpg"><br><br>[EDIT] coffee + keyboard = sticky keys..... <br><br></td></tr></table><br>
<a name="1192069"></a>

<a name="1192070"></a>

<a name="1192071"></a>

<a name="1192072"></a>

<a name="1192076"></a>

<a name="1192077"></a>

<a name="1192079"></a>

<a name="1192082"></a>

<a name="1192083"></a>

<a name="1192086"></a>

<a name="1192087"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Blitzploter: you was right about your bash script being rusty. You removed the ;; at the end of each statement that singles that, that condition has ended.<br><br>e.g. Your code<br>case "${option}" in <br>		i) INSTALL=0; <br>		u) INSTALL=1; <br>		p) INSTALL=2; <br>		r) INSTALL=3; <br>		m) INSTALL=4; <br>		n) INSTALL=5; <br>		l) INSTALL=6;	 <br>		h) usage; exit 0; <br>		*?) usage; exit 0; <br>	esac<br><br>Should be<br>case "${option}" in <br>		i) INSTALL=0;; <br>		u) INSTALL=1;; <br>		p) INSTALL=2;; <br>		r) INSTALL=3;; <br>		m) INSTALL=4;; <br>		n) INSTALL=5;; <br>		l) INSTALL=6;;	 <br>		h) usage; exit 0;; <br>		*?) usage; exit 0;; <br>	esac <br><br>The only mistakes I did was to add one too many ; the the return statement that was out side of case/esac that what would have stopped it in its tracks and two functions for different package managers that had the same name ( copy &amp; paste maybe quick but it's a bugger to find buggs in a script ). The opening parentheses are optional on a case and you must ensure that there is a space before/after certain commands or bash get confused. You wouldn't believe the trouble that caused me.<br>Edit: And just forgot it to add a -f option for the if statement when seeing if the <b>max</b> file exists.<br>Thing is this is fixed on the current version that I'm working on at the moment, currently trying to add support for Mageia 3. But the 64bit version doesn't like the version of png that comes with BlitzMax. It's a MMX instruction issue and the gcc compiler doesn't like it. So I've touched up the first script and give it a letter "m" for minor fix.<br><br>Copy and paste the bmax-install script again in the first post I did and try again. <br><br></td></tr></table><br>
<a name="1192073"></a>

<a name="1192075"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> If I see and full update code I will test it and if it works I will and if possible update the first post. <br><br></td></tr></table><br>
<a name="1192088"></a>

<a name="1192089"></a>

<a name="1192090"></a>

<a name="1192093"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ahhh, thanks for the feedback - was about to delve into some B3D, but I'll crack open my Mint again ;) PS - its only been 6 years since I did some bash scripting - just needed to blow away those cobwebs ;)<br><br><div class="quote"> You wouldn't believe the trouble that caused me. <br></div> I think I'd forgotten the fun you could have with bash scripting, its all flooding back.<br><br>looking promising, Mint reports:<br><br>BMAX-INSTALL: apt-get is installing packages. Please wait... <br><br></td></tr></table><br>
<a name="1192092"></a>

<a name="1192094"></a>

<a name="1192097"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's been longer for me had to dig out my copy of "Unix in a Nutshell" for references and scan the net. I don't think that I have missed any thing with the fixes, but just check to make sure. <br><br></td></tr></table><br>
<a name="1192095"></a>

<a name="1192096"></a>

<a name="1192099"></a>

<a name="1192101"></a>

<a name="1192111"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Tried to find a scripting reference I used 7 years ago, typically it was on the shelf at the top of the stairs until last week - did you think I could find it this morning though?<br><br>I'd to 'chmod u+x bmax-install' to get it to execute.<br><br>Success - good work dawlane!<br><br>I've gotta have a quick peek at line 237 &amp; 154 of max now though....<br><br><img src="http://www.wishingwellsoftware.co.uk/sweet.jpg"> <br><br></td></tr></table><br>
<a name="1192100"></a>

<a name="1192104"></a>

<a name="1192105"></a>

<a name="1192106"></a>

<a name="1192107"></a>

<a name="1192108"></a>

<a name="1192110"></a>

<a name="1192115"></a>

<a name="1192138"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thing is with bash some things that will work with one version; isn't guaranteed to work on another. One version ignores scripting errors while another will choke and die.<br><br>The EOF error usually happens if then end EOF has any characters in front of it. Think I put a comment there about it.<br>Edit: I did but not a like I did below.<br><br>e.g.<br>cat &gt; testfile &lt;&lt;EOF<br>ehco "yes";<br>EOF   # NOTE DON'T put any thing before this on this line or it fails ( or after? )<br><br>Think I should have kept it as echo "blah" &gt;&gt; testfile.<br>If you want some to blame then blame Derron for suggesting it ;) <br><br></td></tr></table><br>
<a name="1192116"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> If you want some to blame then blame Derron for suggesting it ;)  <br></div> Heh heh - have just been trying to debug (with limited success....) ;) <br><br></td></tr></table><br>
<a name="1192117"></a>

<a name="1192118"></a>

<a name="1192119"></a>

<a name="1192120"></a>

<a name="1192121"></a>

<a name="1192123"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Replace the <br>cat &gt; $INSTALLER/.local/share/applications/MaxIDE.desktop &lt;EOF<br>everything in side.<br>EOF<br><br>with this<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">echo "#!/usr/bin/env xdg-open" &gt;&gt; $INSTALLER/.local/share/applications/MaxIDE.desktop
echo "[Desktop Entry]" &gt;&gt; $INSTALLER/.local/share/applications/MaxIDE.desktop
echo "Version=1.0" &gt;&gt; $INSTALLER/.local/share/applications/MaxIDE.desktop
echo "Type=Application" &gt;&gt; $INSTALLER/.local/share/applications/MaxIDE.desktop
echo "Terminal=false" &gt;&gt; $INSTALLER/.local/share/applications/MaxIDE.desktop
echo "Icon[en_GB]=/opt/BlitzMax/icon.png" &gt;&gt; $INSTALLER/.local/share/applications/MaxIDE.desktop
echo "Name[en_GB]=Blitz Max IDE" &gt;&gt; $INSTALLER/.local/share/applications/MaxIDE.desktop
echo "Exec=/opt/BlitzMax/MaxIDE" &gt;&gt; $INSTALLER/.local/share/applications/MaxIDE.desktop
echo "Comment[en_GB]=Intergrated Development Environment" &gt;&gt; $INSTALLER/.local/share/applications/MaxIDE.desktop
echo "Name=Blitz Max IDE" &gt;&gt; $INSTALLER/.local/share/applications/MaxIDE.desktop
echo "Comment=Blitz Max Intergrated Development Environment" &gt;&gt; $INSTALLER/.local/share/applications/MaxIDE.desktop
echo "Icon=/opt/BlitzMax/icon.png" &gt;&gt; $INSTALLER/.local/share/applications/MaxIDE.desktop
echo "MimeType=application/x-executable; charset=binary" &gt;&gt; $INSTALLER/.local/share/applications/MaxIDE.desktop
echo "Categories=Development" &gt;&gt; $INSTALLER/.local/share/applications/MaxIDE.desktop
</textarea><br>I hope to god the the patcher_148 file works as it uses the same bloody thing. I think I didn't update the original for that it's in another thread.<br>I didn't it's here <a href="/post.php?topic=100580&amp;post=1191226" target="_blank">http://www.blitzbasic.com/Community/post.php?topic=100580&amp;post=1191226</a> if that fails.<br><br>If you try again and it says something about max being installed use option -n and then try again with option -m. <br><br></td></tr></table><br>
<a name="1192130"></a>

<a name="1192131"></a>

<a name="1192134"></a>

<a name="1192137"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Updated <b>max</b> and <b>patcher_148</b> and KILLED THE CATS ..... as they looked like the was causing a few problems. At the moment can't add bmax-install v0.4 yet with Mageia 3 added to it as the 64bit version gcc on that version hates MMX. See here <a href="http://www.blitzbasic.com/Community/posts.php?topic=100741" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=100741</a> <br><br></td></tr></table><br>
<a name="1192160"></a>

<a name="1192187"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Dawlane, will give it a whirl later , am on android just now. <br><br></td></tr></table><br>
<a name="1192318"></a>

<a name="1192389"></a>

<a name="1192390"></a>

<a name="1192394"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK tried to update the scripts in the first post but something weird started to happen. Only got half of the post and for some reason a second post was added that broke the formatting of the script so now I've had to add this as a zip file which I didn't really want to do. I guess that the must be a limit to how big a post can be.<br><br>New version <a href="http://www.dawlane.pwp.blueyonder.co.uk/files/bmax/installer/bmax-install-0.4.zip" target="_blank">bmax-install-0.4.zip</a><br>Mageia 2, 3 added.<br><br>Edit: updated the contents of the zip file to include a few instruction if any one wants to add a few distributions of patches. And placed links to on the opening post to individual files. <br><br></td></tr></table><br>
<a name="1192336"></a>

<a name="1192339"></a>

<a name="1192342"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh, will give that a quick whirl. Mint is better than I gave it credit for - I nievely thought zip extension - I'[ll windows that first then, but then I thought, soddit - why not try it within my VMWare Mint - whaddya know - it extracts it despite the .zip, sweet.<br><br>I'm so getting more sold on the recent Linux derivatives - the GUI file manipulation in tandem with the terminal oriented stuff is just cool. <br><br></td></tr></table><br>
<a name="1192372"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  it extracts it despite the .zip, sweet. <br></div>That's because zip file format is like treading in dog poop.... It get everywhere.<br>The archive manager that comes with mate (Engrampa) can create archives with following formats:<br>* Tar (.tar) archives, including those compressed with<br>gzip (.tar.gz, .tgz), bzip (.tar.bz, .tbz), bzip2 (.tar.bz2, .tbz2),<br>compress (.tar.Z, .taz), lzip (.tar.lz, .tlz), lzop (.tar.lzo, .tzo),<br>lzma (.tar.lzma) and xz (.tar.xz)<br>* Zip archives (.zip)<br>* Jar archives (.jar, .ear, .war)<br>* 7z archives (.7z)<br>* iso9660 CD images (.iso)<br>* Lha archives (.lzh)<br>* Single files compressed with gzip (.gz), bzip (.bz), bzip2 (.bz2),<br>compress (.Z), lzip (.lz), lzop (.lzo), lzma (.lzma) and xz (.xz)<br><br>Engrampa doesn't perform archive operations by itself, but relies on<br>standard tools for this. It can open a hell of a lot of formats as well. <br><br></td></tr></table><br>
<a name="1192398"></a>

<a name="1192399"></a>

<a name="1192400"></a>

<a name="1192401"></a>

<a name="1192402"></a>

<a name="1192403"></a>

<a name="1192429"></a>

<a name="1192430"></a>

<a name="1192450"></a>

<a name="1192451"></a>

<a name="1192476"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Currently adding support for PCLinuxOS 2013.04. And here's something: I didn't patch the BlitzMax install yet and the alsa driver works (at least it does in virtualbox) could this mean that the code patch that I will apply break it?<br><br>Edit: something more interesting. I'm getting a 'Assertion 's' failed at pulse/simple.c:255, function pa_simple_free() with pulse enabled. And I'm not even doing the 64bit yet.<br>I will see what it does on real hardware.<br><br>Edit: OK was missing the pulse driver (would have thought that would have been installed along with the development files) but still no sound.<br><br>Edit:Had a suspicion that to use pulse you had down load the full pulseaudio kit (mixer,etc) and then enable it in the hardware control center. Guess I was right as sound is now working after 5 minutes of messing around.<br><br>I may have to think about rewriting the patching file<br><br>EDIT: The 64bit version of PCLinuxOS will not work with BlitzMax as the distributors only supply a limited number of 32bit libraries ( and I can not find any other information on this issue ). This will also mean that any binary created with BlitzMax will not work unless you supply these yourself with instructions on how to install them.<br><br>EDIT: Looks like I may be able to add 64bit support but this means going to have to add some functions to allow download from the repository server and extract the files necessary to be added to the system. <br><br></td></tr></table><br>
<a name="1192701"></a>

<a name="1192702"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  Looks like I may be able to add 64bit support but this means going to have to add some functions to allow download from the repository server and extract the files necessary to be added to the system.<br> <br></div> Good you found a work around! That'll keep BMax compiling into 64 bit linux land. <br><br></td></tr></table><br>
<a name="1192705"></a>

<a name="1192736"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually the work around was a lot easier than I thought it would be. I figured out how the repository was structured. It was then just a case of copying the sources.list with and duplicating the repositories, but with swapping x86_64 for update and the year repository from 2011 to 2010.<br><br>The down side here is that you have to explicitly pass the package name.<br>You can't just type libxpm-devel as the package manager gets confused and will either ask which package version you want or just download the 32bit version. So to get any 32bit binaries you have to add .32bit to the end and for 64bit you have to include 64 in the name somewhere e.g. lib64xpm-devel. <br><br>Arch Linux 64bit is a little more tricky ( and I'm not talking about getting it up and running). For some reason some of the 32bit libraries are in the Arch User Repository and not in the main multilib repository.<br><br>Edit: Well Arch Linux's pacman is a mess along with multilib support. <br><br></td></tr></table><br>
<a name="1192761"></a>

<a name="1192762"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK updated to include PCLinuxOS and Arch Linux (fingers crossed)<br><a href="http://www.dawlane.pwp.blueyonder.co.uk/files/bmax/installer/bmax-install-0.5-3.zip" target="_blank">bmax-install-0.5-3.zip</a> <br><br></td></tr></table><br>
<a name="1192832"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK having a look at Manjaro Linux this morning.... This is a distribution based of Arch Linux that's much simpler to install. My verdict is not good as this OS is still in a beta phase from what I can gather and isn't going to be added until you can update it without telling you that you need to update the same bloody packages all the time. <br><br></td></tr></table><br>
<a name="1192862"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jkrankie</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm using crunchbang linux at the minute, will this work do you think? It's debian based.<br><br>Cheers<br>Charlie <br><br></td></tr></table><br>
<a name="1192901"></a>

<a name="1192937"></a>

<a name="1192939"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi charlie<br>Just tested crunchbang out in virtualbox and I have to say that the distributor is very sloppy when it comes to distribution identification.<br>It's one of those distributions that I can't see the point of as to me it's just Debian with a window manager that's already set up with a just a script to update and install a few packages. You can do the same thing with the minimal Debian install and a bit of work.<br><br>Does it work? Yes to a point and providing that it's using Debian 7.1 as it's base, but without a full desktop environment such as GNOME or KDE then menus and desktop icons are out (ignore the error when it tries to create a desktop icon). At some point in the future I will have to look into what needs to be done to set such things up, but if I remember different window managers haven't got a standard and do things in there own way. You can add maxide using the obmenu tool or run it from the command line.<br><br>If you are going to try these scripts on real hardware; then for gods sake <b>backup everything that's important</b> before commencing. It's always best to try them out with a virtual machine first. But if a virtual machine is out; then backing up your files is a must. I will not be held responsible for ant data lost, time waste etc. <br><br>I should also point out that the full 32bit multi-lib packages are installed on any 64bit OS, not just those that are required to run Blitz Max. So make sure that if is it's a Linux on a stick set up that there is enough room. I was going to modify the apt sources.list directly (there another topic <a href="/posts.php?topic=99220" target="_blank">here</a> about that), but if there are any third party repositories in there that don't support 32bit binaries it could break updating and installing. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
