<!DOCTYPE html><html lang="en" ><head ><title >BlitzMax on Ubuntu AMD 64: A Solution</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >BlitzMax on Ubuntu AMD 64: A Solution</h1><a href="forums.php" >Archives Forums</a>/<a href="topics.php?forum=109" >Linux Discussion</a>/<a href="#bottom" >BlitzMax on Ubuntu AMD 64: A Solution</a><br><br>
<a name="870954"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have finally figured out a way to use BlitzMax in the 64 bit version Ubuntu so that every thing works (so far). The only down side is that you may have to sacrifice 1.5GB (oops got it wrong read on) of hard drive space to do it (I could be wrong as the chroot's home folder is linked to /home).<br><br>EDIT: You only have to sacrifice a few hundred megs (if that), thats the chroot directories and the 32bit software thats needed to compile for 32bit apps (synaptic,gcc,g++, 32bit libs and a few others). I originally thought it installed almost a full distro ( checked the size of chroot folder and  was 1.5GB ). As it turns out the /chroot/home folder is system linked to /home and I had a bit of stuff there. <br><br>The solution is simple in theory but a little tricky to set up as we have to create a “second minimal” install of Ubuntu as a chroot ( here's the description <a href="http://en.wikipedia.org/wiki/Chroot" target="_blank">http://en.wikipedia.org/wiki/Chroot</a> ).<br><br>What I list here can be found here <a href="http://ubuntuforums.org/showthread.php?t=24575" target="_blank">http://ubuntuforums.org/showthread.php?t=24575</a>  by Crad<br><br>NOTE DISCLAIMER:  I WILL NOT BE HELD RESPONSIBLE IF.....<br>1) YOU SCREW UP YOUR SYSTEM.<br>2) THE WORLD COMES TO AN END.<br>3) YOU CAN'T GET IT TO WORK, BECAUSE I DID GET IT TO WORK.<br><br><div class="quote"> <br>Step 1:<br>Open a command terminal. Note replace hardy with the code name of the Ubuntu distribution (keep this terminal open it saves time).<br><br>sudo apt-get install dchroot debootstrap <br>sudo mkdir /chroot/ <br>sudo gedit /etc/dchroot.conf<br>Add this line to dchroot.conf:<br> hardy /chroot <br><br>sudo debootstrap --arch i386 hardy /chroot/ <a href="http://archive.ubuntu.com/ubuntu" target="_blank">http://archive.ubuntu.com/ubuntu</a> <br>sudo chroot /chroot/ <br>dpkg-reconfigure locales <br><br>Step 2:<br>In another terminal window (or by existing chroot):<br><br>sudo gedit /chroot/etc/apt/sources.list <br>Add the following 2 lines to sources.list:<br>    deb <a href="http://archive.ubuntu.com/ubuntu" target="_blank">http://archive.ubuntu.com/ubuntu</a> hardy main restricted universe multiverse <br>    deb <a href="http://security.ubuntu.com/ubuntu" target="_blank">http://security.ubuntu.com/ubuntu</a> hardy-security main restricted universe multiverse <br><br>(We do this step because gedit has yet to be installed in the chroot environment)<br><br>Step 3:<br>In your chrooted environment (chroot /chroot):<br><br>apt-get update<br>apt-get upgrade <br><br>Step 4:<br>In another terminal window (or by existing chroot):<br><br>sudo cp /etc/passwd /chroot/etc/ <br>sudo cp /etc/shadow /chroot/etc/ <br>sudo cp /etc/group /chroot/etc/ <br>sudo cp /etc/sudoers /chroot/etc/ <br>sudo cp /etc/hosts /chroot/etc/ <br>sudo gedit /etc/fstab <br>Add the following 6 lines to fstab:<br>    /home /chroot/home none bind 0 0 <br>    /tmp /chroot/tmp none bind 0 0 <br>    /dev /chroot/dev none bind 0 0 <br>    /proc /chroot/proc proc defaults 0 0 <br>    /media/cdrom0 /chroot/media/cdrom0 none bind 0 0 ( this can be omitted as it can cause problems mounting and unmounting cd/dvd media)<br>    /usr/share/fonts /chroot/usr/share/fonts none bind 0 0  <br>(you may get a complaint about this not mounting so you will have to do mkdir /chroot/usr/share/fonts before running sudo mount -a)<br> <br>sudo mkdir /chroot/media/cdrom0 <br>sudo mount -a 			<br>sudo gedit /usr/local/bin/do_dchroot <br>Add the 2 following to do_dchroot:<br>#!/bin/sh <br>/usr/bin/dchroot -d "`echo $0 | sed 's|^.*/||'` $*" <br>sudo chmod 755 /usr/local/bin/do_dchroot<br> <br>Step 5:<br>In a new terminal:<br><br>dchroot -d <br>sudo apt-get install synaptic <br>sudo ln -s /usr/sbin/synaptic /usr/sbin/synaptic32 <br>exit <br>sudo ln -s /usr/local/bin/do_dchroot /usr/local/bin/synaptic32 <br>sudo synaptic32 <br> <br></div><br><br>Now we need to install the libs and the GCC compiler.<br>In synaptic32 (type it in a command terminal) find and mark these for installation or try apt-get install in the chroot environment.<br><br>UPDATE: If you want to use Ubuntu 8.10 (intrepid) then you will have to manual install g++-3.3/gcc-3.3 from the hardy section in the ubuntu archives. For more on this follow this thread.<br><a href="http://www.blitzbasic.com/Community/posts.php?topic=81247" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=81247</a> <br><div class="quote"> <br>g++-3.3<br>gcc-3.3	..... (NOTE the gcc-doc package will throw errors so just remove it)<br>libglu1-mesa-dev <br>x11proto-core-dev<br>x11proto-gl-dev <br>x11proto-kb-dev <br>libxxf86vm-dev <br>libasound2-dev<br>libidn11-dev<br> <br></div><br>And if you want to use gtk applications using Brucey's GTK mod<br><div class="quote"> <br>libglib2.0-dev<br>libgtk2.0-dev<br> <br></div><br><br>Now we have to make a couple of system links so the 32bit version of GCC can be found<br><div class="quote"> <br>sudo ln -s /usr/local/bin/do_dchroot /usr/local/bin/g++-3.3<br>sudo ln -s /usr/local/bin/do_dchroot /usr/local/bin/gcc-3.3<br> <br></div><br>As alway make sure you have 3D Accelarted drivers installed and desktop effects turned off (only for some graphics cards).<br>And don't forget when you update the 64bit version update the minimal install too.<br><br>With any luck BRL may build BlitzMax against the GCC 4.2 suit so all we have to do then is install the mulit-libs package as the chroot method is over kill. (It's how they got 32bit applications to build and work in the early days of 64bit linux) <br><br></td></tr></table><br>
<a name="887482"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Torrente</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Works perfectly, and awesomely.<br><br>And I didn't even have to turn off desktop effects.<br><br>Thanks! <br><br></td></tr></table><br>
<a name="927515"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WildStorm</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> print "test"<br><br>leads to:<br><br><br>Building untitled1<br>Compiling:untitled1.bmx<br>flat assembler  version 1.64<br>3 passes, 2508 bytes.<br>Linking:untitled1.debug<br>keyctl_search: Required key not available<br>Perhaps try the interactive 'ecryptfs-mount-private'<br>W: Konnte nicht in das Verzeichnis »/media/sda4/Receiving/Web/BlitzMax« wechseln: No such file or directory<br>W: Verwende stattdessen Verzeichnis »/«<br>I: [Chroot hardy] Starte Kommando: »g++-3.3 -m32 -s -Os --eh-frame-hdr -pthread -static-libgcc -o /media/sda4/Receiving/Web/BlitzMax/tmp/untitled1.debug /media/sda4/Receiving/Web/BlitzMax/tmp/ld.tmp -L/usr/X11R6/lib -L/usr/lib -L/media/sda4/Receiving/Web/BlitzMax/lib«<br>g++-3.3: /media/sda4/Receiving/Web/BlitzMax/tmp/ld.tmp: No such file or directory<br>g++-3.3: no input files<br>keyctl_search: Required key not available<br>Perhaps try the interactive 'ecryptfs-mount-private'<br>Build Error: Failed to link /media/sda4/Receiving/Web/BlitzMax/tmp/untitled1.debug<br>Process complete<br><br><br>any idea?<br><br><br>---------------------------<br><br><br>and ehm, how can i uninstall this chroot thing again? <br><br></td></tr></table><br>
<a name="927521"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try adding in fstab <br><pre class=code>/media/ /chroot/media/ none bind 0 0</pre><br>and then sudo mount -a<br><br>This basically will link the /media to the chrooted /media. Note /chroot/media must exist for this to work. Only ever tried this with the /media/cdrom0 and caused headaches accessing the DVD/CD device.<br><br>The other is to move your BlitzMax folder to your users home directory.<br><br>There is another way to get BlitzMax working on a 64bit machine and thats by using gcc-4.x read here for more <a href="http://www.blitzbasic.com/Community/posts.php?topic=81261" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=81261</a><br>I haven't check the SVN for a bit so there may be a fix there already, but one problem you will face is build MaxGTK applications.<br><br>To remove the chroot environment as root delete the chroot directory, remove or comment out the new lines in fstab and remove the system links and /usr/local/bin/do_dchroot. <br><br></td></tr></table><br>
<a name="995471"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DH</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's worth adding that this works for jaunty as well! <br><br></td></tr></table><br>
<a name="995580"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >D4NM4N</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I had a problem with -so-5 of libstdc++ (as in it is not there)<br>Here is how i got a fix:<br><br>Code:<br>Add these:<br><br>deb <a href="http://mirror.cc.columbia.edu/pub/linux/ubuntu/archive/" target="_blank">http://mirror.cc.columbia.edu/pub/linux/ubuntu/archive/</a> intrepid main restricted<br>deb <a href="http://mirror.cc.columbia.edu/pub/linux/ubuntu/archive/" target="_blank">http://mirror.cc.columbia.edu/pub/linux/ubuntu/archive/</a> intrepid multiverse<br>deb <a href="http://mirror.cc.columbia.edu/pub/linux/ubuntu/archive/" target="_blank">http://mirror.cc.columbia.edu/pub/linux/ubuntu/archive/</a> intrepid-security main restricted<br>deb <a href="http://mirror.cc.columbia.edu/pub/linux/ubuntu/archive/" target="_blank">http://mirror.cc.columbia.edu/pub/linux/ubuntu/archive/</a> intrepid-security multiverse<br>deb <a href="http://mirror.cc.columbia.edu/pub/linux/ubuntu/archive/" target="_blank">http://mirror.cc.columbia.edu/pub/linux/ubuntu/archive/</a> intrepid-security universe<br>deb <a href="http://mirror.cc.columbia.edu/pub/linux/ubuntu/archive/" target="_blank">http://mirror.cc.columbia.edu/pub/linux/ubuntu/archive/</a> intrepid universe<br>deb <a href="http://mirror.cc.columbia.edu/pub/linux/ubuntu/archive/" target="_blank">http://mirror.cc.columbia.edu/pub/linux/ubuntu/archive/</a> intrepid-updates main restricted<br>deb <a href="http://mirror.cc.columbia.edu/pub/linux/ubuntu/archive/" target="_blank">http://mirror.cc.columbia.edu/pub/linux/ubuntu/archive/</a> intrepid-updates multiverse<br>deb <a href="http://mirror.cc.columbia.edu/pub/linux/ubuntu/archive/" target="_blank">http://mirror.cc.columbia.edu/pub/linux/ubuntu/archive/</a> intrepid-updates universe<br><br>to "sudo gedit /etc/apt/sources.list.d/intel_suite.list" then do "sudo apt-get update", "sudo apt-get install libstdc++5",you only need one of these lines, but I couldnt be bothered to filter (nor could the guy who gave me the rep names :).<br><br>I am not sure why the only thing of mine that ever seems to break over this is blitzmax. All my binaries written in c++ &amp; irrlicht work fine.<br>Any idea why? <br><br></td></tr></table><br>
<a name="995581"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> What did you need "5" for? <br><br></td></tr></table><br>
<a name="995648"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >D4NM4N</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Compiled apps are asking for it. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
