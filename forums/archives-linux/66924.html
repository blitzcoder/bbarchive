<!DOCTYPE html><html lang="en" ><head ><title >Some GTK Code part 2</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Some GTK Code part 2</h1><a href="forums.php" >Archives Forums</a>/<a href="topics.php?forum=109" >Linux Discussion</a>/<a href="#bottom" >Some GTK Code part 2</a><br><br>
<a name="747336"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thread continued <a href="/posts.php?topic=60689" target="_blank">from here</a>.<br><br>Brucie, (bad design cheap and dirty filter) fix for maxide.bmx[5305] to work better under GTK:<br><pre class=code>
		If activerequester
			Select eventid
				Case EVENT_MOUSEENTER,EVENT_MOUSELEAVE,EVENT_GADGETLOSTFOCUS
					Return
			End Select
</pre><br><br>also, any ideas what apt-get install i may need to do to get over the following link issues I have with gtkwebmozilla version<br><div class="quote"> <br>/usr/bin/ld: warning: libxpcom_core.so, needed by /usr/lib/mozilla-firefox/libgtkembedmoz.so, not found (try using -rpath or -rpath-link)<br>/usr/bin/ld: warning: libstdc++.so.6, needed by /usr/lib/mozilla-firefox/libgtkembedmoz.so, may conflict with libstdc++.so.5<br>/usr/lib/mozilla-firefox/libxpcom.so: undefined reference to `NS_GetTraceRefcnt_P'<br>/usr/lib/mozilla-firefox/libgtkembedmoz.so: undefined reference to `nsPromiseFlatCString::Init(nsACString_internal const&amp;)'<br>/usr/lib/mozilla-firefox/libgtkembedmoz.so: undefined reference to `NS_Free_P'<br>etc. etc.<br> <br></div> <br><br></td></tr></table><br>
<a name="747353"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sounds a lot like a different installation of firefox.<br><br>If you look in the gtkwebmozilla source, you'll see<br><pre class=code>
'Import "-lxpcom_core"   ' On some installations, this is required.
</pre><br>My FC3 install of firefox used this library, but FC4/5 and my 5.10 ubuntu Firefoxes all have a different set of libs.<br><br>Try uncommenting that line.<br><br>....<br><br>Funnily enough, I've just ran Software Update on my 5.10 Ubuntu, and it's installed a new version of Firefox, in /usr/lib/firefox  (removing the installation from /usr/lib/mozilla-firefox !). This new dist has that libxpcom_core.so in it...<br><br>Looks like each release of Firefox is slightly different.<br><br>:-S <br><br></td></tr></table><br>
<a name="747643"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow, firefox looks fantastic in the CE build, well done sir! <br><br></td></tr></table><br>
<a name="747653"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks ;-)<br><br>The only thing I haven't managed to get working with it are,<br>1) Context menus<br>2) Clipboard/copy access<br><br>The embedding docs don't go near things like that, unfortunately... <br><br></td></tr></table><br>
<a name="751426"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi - me again! ;-)<br><br>I was wondering if there was a way I could get the absolute screen position of a specified point within an interactive Panel?<br><br>I.e. say if the pixel specified was 20,50 then would I be able to call a GTK function that would return the same pixel but in relation to the top-left corner of the screen instead of the top left corner of the panel.<br><br>I've managed to get a Windows and <a href="/posts.php?topic=67271#751400" target="_blank">Cocoa version</a> working (with some help from Skid and Craig) and I just need a GTK one to complete the cross-platform set.<br><br>Any ideas?<br><br>Thanks<br><br>Seb<br><br>P.S. I tried to "fake" such a function by looping through the parent of the gadget adding the xpos to an accumulating variable every time, but discrepancies in Client XPos, and Gadget XPos, break it. (Sorry if what I've said is confusing). <br><br></td></tr></table><br>
<a name="751457"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I tried to "fake" such a function by looping through the parent of the gadget adding the xpos to an accumulating variable every time, but discrepancies in Client XPos, and Gadget XPos, break it <br></div><br><br>I've used this method before and it should work on all platforms so IMHO it would be better any "discrepancies" be dealt with than a new function be required. <br><br></td></tr></table><br>
<a name="751478"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I've used this method before and it should work on all platforms so IMHO it would be better any "discrepancies" be dealt with than a new function be required. <br> <br></div><br><br>I was originally using this method too, but when absolute values are calculated this way across things like tabbers or group panels, the distance between the gadget's reported xpos and the client's xpos is thought to be the same (when actually there is quite a big difference on pixel-perfect precision). As such, any drag operations I were doing jumped significantly when this happens. I couldn't think of a way to get around this as it's hard to get the height / width of tab/group panel margins etc.<br><br>Scratching my head, I looked for other ways, and Windows has an API command exactly for this job that was easy to implement and now it works perfecly. OS X (as you know) took a bit longer to implement but, again it provides perfect drag operations.<br><br>So all I need to do now is to get a Linux/GTK compatible one and drag operations will be flawless on all three platforms.<br><br>Hope I've made myself clearer... <br><br></td></tr></table><br>
<a name="766215"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm, actually, I have some code for all platforms that gets the mouse coords for the screen...   been lying around for months - never got around to posting it anywhere.<br>Was thinking it would be one of those nice-to-haves built in to Max... but I'm still waiting for other things to appear in the Max trunk...<br><br>Actually, now I look at the code, there's a GetScreenPointerPos function included with the GTK module. (I've got win32/Mac functions of the same functionality too, if anyone cares?)<br><br><br>Anyhoo (which is why I'm here)... just thought I'd mention I've uploaded (to syncmods) updates to GTKMaxGUI and GTKWebMozilla.<br><br>GTKMaxGUI (1.18)<br><pre class=code>
1.18 :
  * Fixed generation of GADGETSELECT on TreeView creation.
  * Fixed loss of next text change event after setting empty text field to empty.

1.17 :
  * Added FormatTextAreaBackground support.
    ( there's the whole cross-platform stuff in the Tweaks area somewhere for this one)
</pre><br><br>GTKWebMozilla (1.03)<br><pre class=code>
* Fixed mem issue in GetText.
</pre> <br><br></td></tr></table><br>
<a name="772092"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hallo...<br><br>Time for a new update.<br><br>This one fixes the nasty issues concerned with the splitter in the IDE.<br><br>GTKMaxGUI (1.19)<br><pre class=code>
  * Fixed x,y coords returned by Panel MouseMove events. Now calculated relative to parent widget.
</pre><br><br>Hope that improves everyone's Linux IDE experience...<br><br>Pick it up from the usual places, either via syncmods, or from the website (link in my sig or in my profile)<br><br>:o) <br><br></td></tr></table><br>
<a name="772106"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Tiffany</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ta Brucey! <br><br></td></tr></table><br>
<a name="772163"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Brucey! One thing I've been meaning to ask is concerning the Firefox web browser 'plug-in' module. I can only run apps compiled with this module when I call in the console (under root user):<br><br><i>ldconfig /usr/lib/firefox</i><br><br>I don't really know what this does, but my MaxIDE is currently using the Firefox HTML Gadget and if it won't run first time, executing the above line fixes it. However, when Ubuntu installs any updates or packages, it seems like ldconfig changes and I need to set it again in order for MaxIDE to work.<br><br>Is there a way I can get it to locate Firefox's shared libraries in a less fragile manner?<br><br>Best Regards<br><br><br>Seb <br><br></td></tr></table><br>
<a name="772219"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Is there a way I can get it to locate Firefox's shared libraries in a less fragile manner? <br></div><br><br>Without implementing some kind of runtime library loading, I don't think so, however, there is a file :<br><br><i>/etc/ld.so.conf</i><br><br>which stores a list of folders that ldconfig checks.<br>Add the path in that file too. It should be more permanent then.<br>You might need to do something like :<br><br>sudo vi /etc/ld.so.conf<br><br>or be "root" user, to change it.<br><br>HTH :o) <br><br></td></tr></table><br>
<a name="792387"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kernle 32DLL_2</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> hey<br><br>I'm scrolling through your gtkwebgtkhtml module and look for a possibility to display an internet page like blitzbasic.com. Is it possible without using other brl modules? <br><br></td></tr></table><br>
<a name="792445"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, it's been wrapped specifically to be like a MaxGUI module, so to have it work otherwise would require a fair bit of effort.<br><br>As for generally displaying internet pages, it works as you'd expect since it's essentially Firefox underneath. <br><br></td></tr></table><br>
<a name="793185"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Heh Brucey,<br><br>Finally managed to get Ubuntu working again. Is there a way I can disable the "feature" in GTKMaxGUI whereby gadgets cannot be placed at negative coordinates. It breaks a lot of Max'd GUI's drag n' drop functionality, and I can't remember the reason why you added it (it was probably because of something important, but I've forgotten, :-) ).<br><br>Thanks<br><br>Seb <br><br></td></tr></table><br>
<a name="794595"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Found it in SetRect() :-), however removing the Max(x,0) lines doesn't really have much of an effect, so I assume GTK doesn't allow widgets to be drawn at negative locations. :-(<br><br>One other thing I've noticed is that when using event hooks, the gadget properties returned by MaxGUI functions aren't updated until after the hook.<br><br>E.g. a tabber gadget generates an EVENT_GADGETACTION. If you called SelectGadgetItem() on the tabber within the hook, then it would still return the old selected item index (as oppose to the one just clicked). In this case I could have used event.data, but as the other platforms allow for this, would it be possible for a fix to be implemented. I can't think how it would be done...<br><br>Thanks<br><br><br>Seb <br><br></td></tr></table><br>
<a name="796647"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kernle 32DLL_2</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> hey<br><br>i've got a little question. I work with your gtk module and i'm very happy that something like this exists. But there is a problem, after changing the gtk theme the size of nearly all gtk-elements are different. So also the distance between the gui elements. Perhaps you could write an importer  for glade....[Xmas ;)] or how can i fix the different sizes and distances by the different gtk themes. i hope you understand my problem.... <br><br></td></tr></table><br>
<a name="796710"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> The problem with a MaxGUI-based UI is that all the coordinates are set exactly (x, y, w, h)... whereas Glade uses weightings to space the UI out, thereby avoiding the issues of different theme sizing.<br><br>The easiest way to avoid this would be to build a custom Max UI for GTK that worked with Glade files, using the standard layouts/resizing that normal GTK-based apps have.<br>If I were to do that, then the code would be incompatible with the other platforms, but it would look and work much better than it does now.<br>This way would also allow for better widget control, and the full implementation of things like Tables. <br><br></td></tr></table><br>
<a name="796770"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kernle 32DLL_2</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> would be fantastic....to me who uses gtk in Windows? no one, only for the windows-port of gimp. Perhaps you think about it ;) <br><br></td></tr></table><br>
<a name="803957"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Found another tiny bug (although it's more of a warning, than a bug)...<br><br>If you call <b>MenuChecked()</b> on a menu before calling <b>UncheckMenu()</b> or <b>CheckMenu()</b> then GTK complains that the menu isn't a check menu. A work-around I found was to call <b>UncheckMenu()</b> after creating each menu. Could this be done internally within the GTK MaxGUI driver so that this error doesn't appear?<br><br>Thanks <br><br></td></tr></table><br>
<a name="803989"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sounds like a reasonable request, Seb :-) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
