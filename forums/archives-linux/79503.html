<!DOCTYPE html><html lang="en" ><head ><title >Exit errors on Linux Apps</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Exit errors on Linux Apps</h1><a href="forums.php" >Archives Forums</a>/<a href="topics.php?forum=109" >Linux Discussion</a>/<a href="#bottom" >Exit errors on Linux Apps</a><br><br>
<a name="892690"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tachyon</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Closing a graphics window (pressing the "x" button in the window's corner) on Linux gives me:<br><br><pre class=code>
XIO:  fatal IO error 22 (Invalid argument) on X server ":0.0"
      after 57 requests (57 known processed) with 0 events remaining.
</pre>The app does end, but not without throwing this error to the system<br><br>I've tried to put in an "If AppTerminate() = True" statement in the loop to see if I could catch the event and shut down "properly", but it seems to ignore this line (could be that I am doing wrong?).<br><br>Ubuntu 8.04, nVidia 7900GTX, BlitzMax 1.30 <br><br></td></tr></table><br>
<a name="892693"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Did this happen to you before? <br><br></td></tr></table><br>
<a name="892696"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tachyon</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Unsure when this started (i.e. before Ubuntu 8.04, or before BlitzMax 1.30) as I just noticed it while trying to hunt down why I am getting exit error messages on Linux,<br><br>A small sample program will display this error just fine-<br><br><pre class=code>Graphics 640, 480
Repeat
   Cls
   Drawline Rand(640), Rand(480), Rand(640), Rand(480)
   Flip
Forever</pre>...now press "[X]" to close the window.<br><br>Also, another exit error message on Linux is to call GCCollect() before calling END. If your program has a lot of variables, you'll get an "appstub.linux signal handler 11 WARNING: Child process terminated by signal 11" error because the GCCollect() process isn't finished before the program terminates. Easy enough to fix: leave GCCollect() out of there...but it probably shouldn't spit that error. <br><br></td></tr></table><br>
<a name="892801"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, I'm running Ubuntu 8.04 and BMax 1.30 with SVN modules and when I compile the above code and click the X it closes without an error message. <br><br></td></tr></table><br>
<a name="892810"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tachyon</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmmm....<br><br>I am running a nVidia GeForce 7900 card with restricted drivers, with mid-level visual effects. How about you? <br><br></td></tr></table><br>
<a name="892822"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have an ATI Radeon VE/7000 with no hardware drivers and no effects. <br><br></td></tr></table><br>
<a name="892839"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> terrminated by signal 11" error because the GCCollect() process isn't finished <br></div><br>Are you sure that's the case?<br><br>The problem with the signal 11 handler is that it catches the seg fault, handles it nicely, but in turn makes it hard to see where it went wrong - ie. if you try running your mini example it will probably not stop at the seg fault point.<br>It is possible to disable that handler, so that running it through gdb will allow you to pinpoint the exact location of the error (although, depending on where the error occurs this may or may not be helpful to you - eg. if it breaks in a library, fine, if it breaks in BlitzMax generated assm, bad luck). <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
