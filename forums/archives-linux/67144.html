<!DOCTYPE html><html lang="en" ><head ><title >Some Qt Code</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Some Qt Code</h1><a href="forums.php" >Archives Forums</a>/<a href="topics.php?forum=109" >Linux Discussion</a>/<a href="#bottom" >Some Qt Code</a><br><br>
<a name="749660"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is the latest source code for my Qt GUI module.<br><br>You can download version 0.97 <a href="http://brucey.net/programming/blitz/modules/qtmaxgui/qtmaxgui_097.zip" target="_blank"> HERE</a>.<br><br>Version Date : 14 Apr 2007<br>Version Summary :<br><pre class=code>
* Fixed CountTreeViewNodes always returning 0.
* Added Key events to active Panel and Canvas.
* Added Panel Pixmap support.
* Added Popup Menu support.
</pre><br><br><b>HOWTO</b> : build on various platforms.<br><br>The Qt module requires version 4.2.2 of Qt.<br>The paths defined in qtcommon.bmx refer to the default directories for :<br>* Windows - the binary install (During installation, you'll probably get a message telling you that your MinGW is not new enough. Just let it Continue, and it should work fine)<br>* Mac - the source dist compiled with  -shared -no-framework<br>* Linux - the source dist compiled with  -shared -release<br><br>If your Qt libraries are installed elsewhere, you need to modify appropriately.<br><br><br><b>NOTE</b> : To link on Mac or Windows, requires changes to the <b>bmk</b> compiler tool that comes with BlitzMax. This is because by default the Mac version doesn't support linking to .dylib (Mac shared objects), or on Windows a non BlitzMax/lib folder of .a files.<br>I've posted fixes for the Mac <a href="/posts.php?topic=66565" target="_blank">HERE</a> and Windows <a href="/posts.php?topic=66962" target="_blank">HERE</a>. Hopefully BRL might update it officially one day... but until then...<br><br><b>NOTE 2</b> : Currently, "Mac Canvas" does not work. You will get errors or the app will crash. Be warned !<br><br><b>WORKLOG</b><br>Follow the worklog <a href="/logs/userlog.php?user=8077&amp;log=1420" target="_blank">HERE</a>.<br><br><br>Please remember that this fairly bleeding edge stuff, so only have a go if you aren't afraid of things going wrong :-) <br><br></td></tr></table><br>
<a name="749662"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> After 9 days of part-time hacking (some of us do have a day-job, you know!), I'm almost happy to release the first version of my Qt GUI module.<br>I say almost, because I would have liked to have things working better before now, but I ran into a brick wall with regards the Menus. So here I am, asking the community for some help :-p<br><br>Please be kind when you take a look at my C++ efforts, since I hadn't typed a single line of C++ until I took on this project. So, useful comments in this area would be welcome.<br><br>Here's a summary of how I've tried to work with the C++...<br>Basically, I have sub-classed each Qt Widget I wanted to use, adding to it a "maxHandle" field to represent the Max TGadget object to which the widget belongs.<br>Where required the classes also include a "public slots" section which defines a function which works like a callback for certain widget events/signals. These functions call actual BlitzMax functions on the appropriate TQtGadget types, passing back the relevant maxHandle and params. These Max functions generally raise a Max GUI event.<br>A lot of the logic has been coded in C++ since it's a lot less kludgy than calling C++ to return an object just to then send it back to C++ to do something with it.<br><br>Along with qtglue.cpp is another .cpp called moc4glue.cpp. This file is generated by a Qt commandline app called "moc". Any time a new GUI class is added or its slots/signals are modifed, this generator needs to be run against qtglue.cpp. It's how Qt works.<br>There's a note at the foot of qtglue.cpp explaining its usage.<br><br>Oh, btw, I apologise for my (lack of) coding standards with regards the C++. I'm a Java guy, so I'm used to putting curly brackets at the end of lines, rather than the start of new ones... ;-)<br><br>One more thing.<br>This module actually runs on ALL THREE platforms. I've posted here cuz there's nowhere else really to put it. That and Linux is my primary development platform.<br>When not on Linux, I've been using my Mac to work on it, while occasionally trying out some of the examples on Windows.<br>Surprisingly, to me at least, each platform runs in exactly the same way.<br><br>:-) <br><br></td></tr></table><br>
<a name="749665"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Please please please, if someone who knows C++ can have a look at why the menu stuff might be nuking, I'd be very grateful.<br><br>The Max-side is at the bottom of qtgadget.bmx, and at the bottom of qtglue.cpp (both MENU and ACTION).<br><br>Thanks in advance... :-) <br><br></td></tr></table><br>
<a name="749932"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not to worry, I've worked out what I was doing wrong....  User error, I guess... :-p <br><br></td></tr></table><br>
<a name="750224"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>Summary of Previous Versions...</b><br><br><b>0.96</b><br>Version Date : 22 Feb 2007<br>Version Summary :<br><pre class=code>
* Fixed Canvas flicker.
* Added Canvas events.
* Fixed gadget not remembering colour changes.
* Added 'Busy' style to progressbar. Set style to 1 at create time.
* Added 'Display Percent' style to progressbar. Set style to 2 at create time.
* Added QueryGadget support.
* Fixed Window creation not using styles.
* Added List/Tree View icon support.
* Added Tabber icon support.
* Fixed TextArea forgetting formatting (notably background colour) after SetText.
* Added mouse Wheel events for active Panel and Canvas.
</pre><br><br><b>0.95</b><br>Version Date : 19 Feb 2007<br>Version Summary :<br><pre class=code>
* Fixed TextArea speed issues.
* Fixed TextArea ReplaceText offset issue.
* Implemented TextArea text-changed event.
* More TextArea cursor tweaks.
* Disabled specific shortcuts on QTextEdit to enable use in Max.
* Fixed TextArea SetColor. (partly... doesn't seem to stay set in IDE?)
* Fixed Tabber client size calculations.
* Added HTMLView style support.
* Tweaked Window initial sizing events.
* Added Gadget State().
* Added Tree/List view keyboard navigation.
* Fixed non-visible gadget mouse event generation.
* Added Label mouse events.
* Added Label GetText not returning anything.
* Fixed Window activate problem.
* Added Canvas gadget. ( glcube test draws ok, but it currently flickers like crazy :-p )
</pre><br><br><b>0.94</b><br>Version Date : 15 Feb 2007<br>Version Summary :<br><pre class=code>
* Added Combobox setItem.
* Added Tabber removeItem.
* Fixed SetTextAreaText.
* Fixed TextArea cursor position values.
* Added LOSTFOCUS events to TextField and TextArea.
* Added Window activate, minimum size.
* Added Radio/Check button action events, and state/change.
* Added keymappings. Enabled Button and Menu HotKey support.
* Added Label alignment.
* Added Text Field/Area clipboard support.
* Added HTMLView navigation.
* Added Window State().
* Added TextArea SetStyle. Fixed some TextArea cursor position issues.
</pre><br><br><b>0.93</b><br>Version Date : 12 Feb 2007<br>Version Summary :<br><pre class=code>
* Implemented utf-8/unicode support. Strings into and out of Qt are converted on the fly.
* Added hack for setting client width/height for windows created hidden...
* Reworked Toolbar code. Added tooltips.
* Added node open/close events for TreeView.
* Added TreeView SELECT, ACTION and MENU events.
* Added tab sizing to TextArea.
* Added Window max/min/restore methods.
* Added gadget SetTextColor().
* Added RequestFile dialog.
* Panel mouse events now record button.
* Fixed gadgetmap not storing correct values.
* Added Toolbar events. Implemented Toolbar toggle support.
</pre><br><br><b>0.92</b><br>Version Date : 9 Feb 2007<br>Version Summary :<br><pre class=code>
* Fixed Font dialog crash.
* Added setFont to gadgets.
* Added LoadGuiFont.
* Added PANEL_GROUP support.
* Added ComboBox ClearListItems() and RemoveListItem().
* Added ListBox ClearListItems().
* Added RequestDir dialog.
* Fixed menuitem SetSelected to remember checked status.
</pre><br><br><b>0.91</b><br>Version Date : 8 Feb 2007<br>Version Summary :<br><pre class=code>
* Added window Menu support.
* Added Enable/disable of gadgets.
* Fixed iconstrip image issues.
* Fixed listbox doubleclick out of bounds error.
* Added basic HTMLView support using QTextBrowser. Local pages only.
</pre><br><br><b>0.90</b><br>Version Date : 6 Feb 2007<br>Version Summary :<br><pre class=code>
Initial Release.

As usual.. lots working, lots not.
Main issue as of this release are CRASHING menus. That is, any app with a menu *will* crash, guaranteed.

Other than that, most gadgets are working, with the exception of the currently unimplemented Stepper, Canvas and HTMLView.
Toolbar icons appear corrupted. General icon support not implemented yet.
Not all events caught on tree view.
TextArea doesn't support styles.
</pre> <br><br></td></tr></table><br>
<a name="750243"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Brucey,<br><br>I have never heard of Qt before and so did a Google search for it. It came up with the following <a href="http://www.trolltech.com/products/qt/licenses/pricing" target="_blank">website</a> but the toolkit costs $1000s of dollars.<br><br>Is this the right website/product I'm looking at?<br><br><br>Cheers<br><br><br>Seb <br><br></td></tr></table><br>
<a name="750264"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Aye, but they do an open-source GPL version that you can download too.<br><br>There's a Windows binary you can download from <a href="http://www.trolltech.com/developer/downloads/qt/windows" target="_blank">HERE</a>.<br>Specifically, go for the ...mingw.exe installer.<br><br>For Linux, the source is available <a href="http://www.trolltech.com/developer/downloads/qt/x11" target="_blank">HERE</a>.<br>For Mac, the source is available <a href="http://www.trolltech.com/developer/downloads/qt/mac" target="_blank">HERE</a>.<br><br>FYI, the KDE gui is built on top of Qt...<br>(in the same way that Gnome is built on top of GTK)<br><br><br>They do a "dual-license" thing. You can use the GPL license if you are happy having the source to your code available. For closed-source stuff, you would use their commercial license, which would require you looking at the product prices page on their site ;-)<br><br>:o) <br><br></td></tr></table><br>
<a name="750545"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Updated... See first post for details. <br><br></td></tr></table><br>
<a name="751573"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Another update... still plenty to do, but it's usable in places... ;-) <br><br></td></tr></table><br>
<a name="752868"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yet another update...<br><br>Alas, it seems that syntax-highlighting in the IDE is mind-numbingly slow... (which is quite the understatement).<br><br>And I've no idea how to go about making it faster.<br><br>So, if anyone has any bright ideas... :-/ <br><br></td></tr></table><br>
<a name="753053"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Fear not... after much investigation and reading of APIs and browsing Qt's own syntax highlighter code, I worked out what I was doing wrong.<br>I am happy to say that now, at least on Windows, it is faster than the default IDE highlighter ;-)<br><br>Oh well, back to working on less interesting stuff... <br><br></td></tr></table><br>
<a name="753817"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here we are then...  the latest 0.95 release is working much better.<br><br>Here's a wee screeny showing my Locale module utility app running in KDE.<br><img src="http://brucey.net/programming/blitz/modules/qtmaxgui/screenshot_blfbuilder.png"><br><br>TextArea syntax-highlighting is very speedy indeed now. (I imagine it's even faster with a good lexer ;-)<br><br>Started work on the Canvas. It appears to be drawing on the widget, but flickers like mad. (so be warned people with epilepsy !!)<br>I've dropped it onto a QGraphicsView, which may, or may not be, a good idea. I think the flicker is from the view laying it's own graphics onto the widget too... but who knows...<br><br>And yes, it all appears to function identically on all three platforms. (so if you find a bug on one, it's likely to be on the rest too) <br><br></td></tr></table><br>
<a name="753863"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> If anyone is interested, I seem to have fixed the Canvas flicker problem on Windows... (after a lot of googling and browsing of the Qt source to see where I was going wrong).<br>Will check that both Linux and Mac are also now working, tonight.<br><br>Outstanding (biggish) issues :<br><br>No Panel pixmaps<br>No event trapping on Canvas<br>No scroll-wheel event trapping<br>No Stepper<br>...and maybe some other stuff I've missed.<br><br>If anyone gets around to trying this (on any platform), some feedback would be quite welcome. <br><br></td></tr></table><br>
<a name="753933"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nigel Brown</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Brucey, Great to see yet another BIG module coming to BlitzMAX. Downloaded your module from the link above and also the MINGW version of QT. "qt-win-opensource-4.2.2-mingw.exe"<br><br>  During the Installation procedure I get "There is a problem with your MinGW installation: The installer could not find a valid C:\MinGW\include\w32api.h (The supported version is 3.2)<br>Do you still want to continue?(Your installation may not work) <br><br></td></tr></table><br>
<a name="753935"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh yeah... forgot to mention that. Tell it to continue... and all seems to work fine.<br>You may see an "Info:" during compilation of the app (I get it), but it's harmless.<br><br>I'll update the HOWTO at the top to mention the warning on the windows install... <br><br></td></tr></table><br>
<a name="754015"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nigel Brown</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Next problem, HOWTO links to BMK broken. <br><br></td></tr></table><br>
<a name="754043"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> me too, after adding your modification to bmk, BMax doesn't link anything. everytime I get linker errors. also modulebuilding etc. doesn't work with your modification.<br><br>I'm really interrested in seeing this in action. <br><br></td></tr></table><br>
<a name="754177"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> The link is: <a href="http://blitzmax.com/Community/posts.php?topic=66962" target="_blank">http://blitzmax.com/Community/posts.php?topic=66962</a><br>Depending on how you are logged in, it might need to be : <a href="http://blitzbasic.com/Community/posts.php?topic=66962" target="_blank">http://blitzbasic.com/Community/posts.php?topic=66962</a><br><br>I'll make a modified working exe of bmk available from the Tweaks section...<br><br>Download available in the Tweaks section here: <a href="http://blitzmax.com/Community/posts.php?topic=67519" target="_blank">http://blitzmax.com/Community/posts.php?topic=67519</a> <br><br></td></tr></table><br>
<a name="754216"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nigel Brown</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Brucey, still get "ERROR:Internal error" from the tweaks section?<br><br>Fixed by logging-in to that section. <br><br></td></tr></table><br>
<a name="754220"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry.... is posted in Tweaks because it is a "Private" forum, and I include links to Max-derived source code..<br><br>:-) <br><br></td></tr></table><br>
<a name="754225"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nigel Brown</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> after a little copying of dlls into the examples folder SUCCESS! I get this:<br><br>Info: resolving __ZN7QString16codecForCStringsE by linking to __imp___ZN7QString16codecForCStringsE (auto-import)<br><br>but as everything so far is working guess I should not be concerned.<br><br>The glcube demo flickers badly? Gusee there will have been a fix by now though :-) <br><br></td></tr></table><br>
<a name="754230"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> The glcube demo flickers badly? <br></div><br>Fixed for the next release.<br>It's also working mostly fine on Linux too, except when the window is resized - hopfully I only need to implement a different event and make Max redraw the canvas...<br><br>On the same note, it turns out that Qt/Mac uses <b>Carbon</b> to draw all it's widgety stuff, which for now means that the Canvas won't work on Mac - not until I can find a way to either get Qt to let me use Cocoa on a widget, or create a modified version of GlGraphics to expect an HIView instead of an NSView... (any ideas on that Mr Skid?? ;-)<br><br>Btw, on Windows, you can avoid having to copy the dlls by adding to your PATH environment variable: C:\Qt\4.2.2\bin   (or where you installed it). <br><br></td></tr></table><br>
<a name="754231"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nigel Brown</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Everyone that has complained about the inability to use color with labels should now sit up and look at this module as a serious replacement for the BlitzMAX GUI.<br><br><pre class=code>
Local label:TGadget = CreateLabel("A plain label",10,10,280,52,window)
SetGadgetTextColor(label,255,255,255)
'SetGadgetColor(label, 255,0,0)
</pre><br><br>It would still seem there are some limitations, as you cannot change the text color of a label and then the background color because the second changes the first! But when you change themes the newly set background color remains. If I had this module a month ago it would have changed my current apps look considerably. <br><br></td></tr></table><br>
<a name="754234"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> It would still seem there are some limitations, as you cannot change the text color of a label and then the background color because the second changes the first! <br></div><br>I may be able to fix that... leave it with me and I'll have a look into it.<br><br>There's only so many combinations of things one can test (or think of testing) against... which is where "live" testing helps immensely :-)<br><br><b>UPDATE</b> - Fixed for the next release ;-)<br>Turns out I was using a "new/blank" widget palette on each colour change, rather than getting the current palette and modifying it. (put this down to my 3 weeks of C++ experience...) <br><br></td></tr></table><br>
<a name="754238"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nigel Brown</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just compiled the last application I released there are a few things that have problems:<br><br>1. Canvas attached to panel fails to appear. Or appear as white area.<br>2. SetWindowFunc() seems not to get messages passed to it.<br>3. Treeview fails to attach icons using SetGadgetIconStrip(tree,strip)<br>4. Cannot create a window without furniture.<br>5. Unable to set icon in top left of window.<br>6. Bubble help, no longer works.<br><br> Is there scope for additional gadgets? One of things I have not been able to do is a delay bar similar to a progress bar but under windows just scrolls 5-6 squares accross the bar and on Apple produces a barberpole. <br><br></td></tr></table><br>
<a name="754243"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> 1. will look into it.<br>2. maybe I missed something... what's SetWindowFunc() ?<br>3. not yet implemented :-)<br><br>I'm hoping once I reach 1.00 most of the mess will be sorted out (with the likely exception of Mac Canvas)<br><br>As far as new gadgets...  how about I change the progress bar so that if you set the style parameter to say, 1, you get a delay bar style instead of the usual progress bar. (at the moment, progress bars ignore style).<br>Of course, this would make it fixed to that on creation - unless I implemented more stuff to allow you to switch between the two..<br><br>Am open to ideas. And this one would actually be very useful for MaxGUI generally. <br><br></td></tr></table><br>
<a name="754245"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nigel Brown</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry, there's me assuming prior knowledge again. Have added a couple more to the list above. It would seem whenever a direct call to windows is involved things go wrong i.e. window icons, additional message handler, adding help balloons. I use the SetWindowFunc() to monitor when a USB key has been added or removed.<br><br><pre class=code>
    OldWindowFunc = SetWindowFunc( main_window, WindowFunc )
</pre><br><br><pre class=code>
Function SetWindowFunc:Int( window:TGadget, newfunc:Int( hwnd:Int, msg:Int, wparam:Int, lparam:Int))
	Local hwnd:Int = QueryGadget( window, QUERY_HWND)
	Local oldfunc:Int = GetWindowLong( hwnd, GWL_WNDPROC)
	SetWindowLong( hwnd, GWL_WNDPROC, Int(Byte Ptr newfunc))
	Return oldfunc
EndFunction
</pre><br><br><pre class=code>
Function WindowFunc:Int( hwnd:Int, msg:Int, wparam:Int, lparam:Int) "Win32"

	Local hdr:Int Ptr = Int Ptr(lparam)

	Select msg

		Case WM_DEVICECHANGE

		' this MUST be handled, otherwise MaxGUI freezes on window close.
		Case WM_DESTROY
			SetWindowLong( hwnd, GWL_WNDPROC, OldWindowFunc)
	EndSelect
    Return CallWindowProc( OldWindowFunc, hwnd, msg, wparam, Int(lparam))
End Function
</pre> <br><br></td></tr></table><br>
<a name="754246"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nigel Brown</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> Brucey, The delay bar as a style would be perfect. For a pre 1.0 release this is looking so very good already. <br><br></td></tr></table><br>
<a name="754251"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ratchet</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br>I'm really interested to use this mod! I try to get it to run in Windows, but if I try to compile one of your samples I got this:<br><br><pre class=code>Building createbutton
Compiling:createbutton.bmx
flat assembler  version 1.66
3 passes, 2149 bytes.
Linking:createbutton.exe
Info: resolving __ZN7QString16codecForCStringsE by linking to __imp___ZN7QString16codecForCStringsE (auto-import)
D:/Anwendungen/BlitzMax/mod/bah.mod/qtmaxgui.mod/qtmaxgui.release.win32.x86.a(qtgadget.bmx.release.win32.x86.o)(data+0x16c): undefined reference to `_brl_maxgui_TGadget_SetBGStyle'
D:/Anwendungen/BlitzMax/mod/bah.mod/qtmaxgui.mod/qtmaxgui.release.win32.x86.a(qtgadget.bmx.release.win32.x86.o)(data+0x328): undefined reference to `_brl_maxgui_TGadget_SetBGStyle'
D:/Anwendungen/BlitzMax/mod/bah.mod/qtmaxgui.mod/qtmaxgui.release.win32.x86.a(qtgadget.bmx.release.win32.x86.o)(data+0x4e4): undefined reference to `_brl_maxgui_TGadget_SetBGStyle'
D:/Anwendungen/BlitzMax/mod/bah.mod/qtmaxgui.mod/qtmaxgui.release.win32.x86.a(qtgadget.bmx.release.win32.x86.o)(data+0x6c0): undefined reference to `_brl_maxgui_TGadget_SetBGStyle'
D:/Anwendungen/BlitzMax/mod/bah.mod/qtmaxgui.mod/qtmaxgui.release.win32.x86.a(qtgadget.bmx.release.win32.x86.o)(data+0x888): undefined reference to `_brl_maxgui_TGadget_SetBGStyle'
D:/Anwendungen/BlitzMax/mod/bah.mod/qtmaxgui.mod/qtmaxgui.release.win32.x86.a(qtgadget.bmx.release.win32.x86.o)(data+0xa54): more undefined references to `_brl_maxgui_TGadget_SetBGStyle' follow
Build Error: Failed to link D:/Anwendungen/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/createbutton.exe
Process complete</pre><br><br>I got no idea where's the problem. I've done everything from your HOWTO.<br>Maybe you can help?<br><br>I hope I get it to work on Linux this evening.... <br><br></td></tr></table><br>
<a name="754256"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do you have the MaxGUI module?<br>It won't work without it. (This is a GUI module for MaxGUI) <br><br></td></tr></table><br>
<a name="754258"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ratchet</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes I have MaxGUI. <br><br></td></tr></table><br>
<a name="754264"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nigel Brown</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here is some example code than will run from the tests folder.<br><br>  Try removing the framework and uncommenting the win32maxgui you will see the differences.<br><br><pre class=code>
Strict 

Framework bah.qtmaxgui
'Import	 brl.win32maxgui

Import		brl.d3d7max2d

Local window:TGadget
Local panel:TGadget
Local panel2:TGadget
Local group:TGadget

Global image:TPixmap
Global canvas:TGadget

window=CreateWindow("My Window",140, 140, 320, 240)
AddHook EmitEventHook, MyHook

' create a purple panel that occupies entire window client area
panel=CreatePanel(0,0,ClientWidth(window),ClientHeight(window),window,PANEL_ACTIVE|PANEL_BORDER)
SetGadgetLayout panel,1,1,1,1
SetPanelColor panel,100,0,200

panel2=CreatePanel(10,10,114,87,panel,0)

image:TPixmap = LoadPixmapPNG( "bmax120.png" )
Assert image, "Unable to load image"
SetPanelPixmap(panel2,image)

canvas = CreateCanvas(134,10,114,87,panel)

While True
	WaitEvent 
	Print CurrentEvent.ToString()
	Select EventID()
		Case EVENT_WINDOWCLOSE
			End
	End Select
Wend

Function MyHook:Object( iId:Int, tData:Object, tContext:Object )

	Local event:TEvent=TEvent(tData)
	If event = Null Return Null

	Select event.ID

		Case EVENT_GADGETPAINT

			If event.source = canvas
				SetGraphics CanvasGraphics(canvas)
				SetClsColor(Rnd(255),Rnd(255),Rnd(255))
				Cls
				Flip
			EndIf

	EndSelect

	Return tData

End Function
</pre> <br><br></td></tr></table><br>
<a name="754265"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ratchet</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> With Win32maxGUI it compiles and runs fine. Still the same messages if I'm using QTMaxGUI. <br><br></td></tr></table><br>
<a name="754271"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Ratchet, if you have Mingw installed, maybe you could try a Modules build (ctl-D).<br>I think perhaps the windows libs are out of sync with the source - maybe.<br><br>@Nigel, Qt has the Win32 function :<br><pre class=code>bool QWidget::winEvent ( MSG * message, long * result )</pre><br>which might be of use to your WindowFunc stuff.<br><div class="quote"> This special event handler can be reimplemented in a subclass to receive native Windows events which are passed in the message parameter.<br>In your reimplementation of this function, if you want to stop the event being handled by Qt, return true and set result to the value that the window procedure should return. If you return false, this native event is passed back to Qt, which translates the event into a Qt event and sends it to the widget. <br></div><br><br>The trouble you are having with doing direct windows stuff is that Qt abstracts it away and only exposes bits and pieces.<br><br>Am also not entirely sure what the bubble help stuff is that you mention. I'm generally better with Linux/Mac platforms :-/<br><br>In the GTK module I added a SetAppIcon(pix:TPixmap) function. I was considering adding it to Qt as well - as it's easy to implement. <br><br></td></tr></table><br>
<a name="754281"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> ... QueryGadget  isn't implemented yet... perhaps that too is causing you problems, Nigel. (Added to my list ;-) <br><br></td></tr></table><br>
<a name="754283"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ratchet</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> It looks like my MinGW installation is totally broken. I even can't compile the modules because most header files (like ctypes.h) can not be found. I now have installes MinGW and BM on a other PC. I have to recompile your QT module and it workes fine now. So my dream since BM released becomes within reach: Using BM to write QT apps under linux. I hope I get it to work on my SuSE system :)<br>Thanks Brucey, you're always making the best mods! *thumbs up* <br><br></td></tr></table><br>
<a name="754704"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ratchet</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi guys,<br>I tried to compile the mod on openSuSE 10.2. I really don't know what the following error is meaning:<br><br><pre class=code>Building Modules
Compiling:qtglue.cpp
/tmp/cc03nlvb.s: Assembler messages:
/tmp/cc03nlvb.s:2301: Error: suffix or operands invalid for `xchg'
Build Error: failed to compile /home/vanyanie/bin/blitzmax/mod/bah.mod/qtmaxgui.mod/qtglue.cpp
Process complete</pre><br><br>Do you have an idea? <br><br></td></tr></table><br>
<a name="754828"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yet another release - 0.96.<br><br>Fixes a lot of issues with Canvas, amongst other things.<br>Still no Mac Canvas support (see my worklog for details - link in top post).<br><br>Still to do (that I can think of at the moment) :<br>* Key support on active panel and canvas<br>* Panel pixmaps<br>* Stepper (you'd think I'd been putting this off, or something)<br>* Proper file:/// support on the HTMLView  (perhaps http too, if I can work out how)<br>* Popup Menus! <br><br></td></tr></table><br>
<a name="754829"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ratchett,<br><br>I assume that is a 32bit SuSe?<br><br>Also, I take it you have compiled and installed Qt 4.2.2 ? (Trolltech don't provide binaries for Linux/Mac on their site)<br><br>Usually, only Qt 3.x is installed on a Linux distro - and I decided not to build the module against 3.x because it's out of date now and there is better cross-platform support on 4.x<br><br>I searched Google for ideas of your problem, but didn't come up with much.<br>All I know is that I compiled and installed on my FC6 box and it works great. <br><br></td></tr></table><br>
<a name="754840"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LarsG</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just wanted to say that I'm amazed by the amount of work you're putting into this, Brucey..<br><br>I'm pretty sure that both Skidracer/BRL, and the community in general, appreciate all your hard work and effort.. :)<br><br>Thanks.. :) <br><br></td></tr></table><br>
<a name="754847"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ratchet</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's a 64bit SuSE but I have installed all 32bit stuff, too. BlitzMax compiles without problems.<br>And yes, I've downloaded QT 4.2.2, compiled and installed without errors.<br>I've searched Google too - there are not really any helpfully information :( <br><br></td></tr></table><br>
<a name="754849"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> Make sure your Qt is compiling for 32 bit, otherwise the two (max and qt) won't work together - you cannot mix 32bit and 64bit code.<br><br>For compiling, it should be using the -m32 flag (if I'm not mistaken). I know that stuff we build at work on 64bit SuSe 9 defaults to 64bit if the compiler flag isn't used.<br><br><br>@ Lars<br>Thanks :-)  I enjoy the challenge mostly (that and banging ones head off the desk when you realise that a bug that has pestered you for 4 hours turns out to be a typo somewhere else ;-) <br><br></td></tr></table><br>
<a name="754883"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nigel Brown</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just checked 0.96, looking better again. Is there a way to stop start the new BUSY style on progress bar?<br><br>you may want to check CountTreeViewNodes() seems to return zero always. <br><br></td></tr></table><br>
<a name="754885"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Is there a way to stop start the new BUSY style on progress bar? <br></div><br>I'll see what I can do.<br><br>Thanks :-) <br><br></td></tr></table><br>
<a name="754950"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nigel Brown</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oops just noticed something else, open a menu from a menu bar click somewhere other than on the menu or indeed on the menu itself. Now move all windows away from where the menu was open and I have menus left on the backdrop. Persistent until I quit the application. <br><br></td></tr></table><br>
<a name="755150"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's strange.<br>Whenever I click somewhere other than the menu, it always closes. Any chance of a very small example and instructions for repeating it? <br><br></td></tr></table><br>
<a name="755168"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nigel Brown</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> Using the example createmenu.bmx. Run application, move to a clear part of the desktop. Click file menu then click on the window but not on the menu. Menu closes, now move the window to uncover the desktop it obscured. The file menu still persists. <br><br></td></tr></table><br>
<a name="755176"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmmm... perhaps it is a Qt bug on the version of Windows you are running. On my Win2k here, it doesn't seem to do it. <br><br></td></tr></table><br>
<a name="763750"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ratchet</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you still working on it Brucey? <br><br></td></tr></table><br>
<a name="768349"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> I are indeed.<br><br>After a "wee" break (during which time I hacked together some other modules... RegEx, Format, Database &amp; 6 drivers), I've come back to it and done a bit more work.<br><br>For the latest version details, see the first post here.<br><br>Interestingly for me, to get the Panel Pixmap stuff working, I ended up porting my Max-only code from the GTK module to C++ for it to work on Qt, given that most of the "working" code for this module is written in C++.<br><br>Enjoy,<br><br>C++ noob<br><br>:-) <br><br></td></tr></table><br>
<a name="769056"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ratchet</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#51">[#51]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've compiled MAXIDE with your Qt module. Everything looks fine but there is one bug: Open the IDE Option menu. Then move your mouse over one of the buttons. The window closes, the font dialog opens, depending on wich button you move the cursor. Strange. <br><br></td></tr></table><br>
<a name="769058"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#52">[#52]</a></td></tr></table></td></tr><tr ><td class="posttext"> Recent versions of MaxIDE include fix for this (~line 5962):<br><pre class=code>
		If activerequester
			Select event
				Case EVENT_MOUSEENTER,EVENT_MOUSELEAVE,EVENT_GADGETLOSTFOCUS
					Return
			End Select
'			DebugLog CurrentEvent.ToString()
			activerequester.Poll
			Return
		EndIf

</pre> <br><br></td></tr></table><br>
<a name="769213"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ratchet</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#53">[#53]</a></td></tr></table></td></tr><tr ><td class="posttext"> @skid: Do you mean the normal or the CE version of the IDE? <br><br></td></tr></table><br>
<a name="769225"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#54">[#54]</a></td></tr></table></td></tr><tr ><td class="posttext"> Both, probably.<br><br>The issue is I added extra events to buttons, and the requesters in the IDE only expect a button to raise an Action event, and hence don't even check for Action events before "actioning"...<br><br>so it's all my fault, I guess ;-) <br><br></td></tr></table><br>
<a name="769363"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Tiffany</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#55">[#55]</a></td></tr></table></td></tr><tr ><td class="posttext"> Should now be fixed in the source of the CE version (maxide and maxide2 code branches), although untested with qt.<br><br>Skid's fix is a little hacky for my tastes, in that it's deciding upfront what events to pass on to the event handler.  I've implemented this in the CE version by fixing the code in the IDE Option event handling code to check the eventid (it wasn't!  at all!)  Admittedly, those events are the only interesting ones for now, but just in case... <br><br></td></tr></table><br>
<a name="785520"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >#Reaper</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#56">[#56]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>I have also some problems with your nice Module:<br><br><pre class=code>
Building cooleffect
Compiling:cooleffect.bmx
flat assembler  version 1.67.21  (1520366 kilobytes memory)
4 passes, 33072 bytes.
Linking:cooleffect.debug.exe
C:/Programme/BlitzMax/lib/crtbegin.o(.text+0x0):crtstuff.c: multiple definition of `__do_sjlj_init'
C:/Programme/BlitzMax/lib/crtbegin.o(.text+0x0):crtstuff.c: first defined here
C:/Programme/BlitzMax/lib/crt2.o(.text+0x240):crt1.c: multiple definition of `mainCRTStartup'
C:/Programme/BlitzMax/lib/crt2.o(.text+0x240):crt1.c: first defined here
C:/Programme/BlitzMax/lib/crt2.o(.text+0x260):crt1.c: multiple definition of `WinMainCRTStartup'
C:/Programme/BlitzMax/lib/crt2.o(.text+0x260):crt1.c: first defined here
C:/Programme/BlitzMax/lib/crt2.o(.text+0x280):crt1.c: multiple definition of `atexit'
C:/Programme/BlitzMax/lib/crt2.o(.text+0x280):crt1.c: first defined here
C:/Programme/BlitzMax/lib/crt2.o(.text+0x2a0):crt1.c: multiple definition of `_onexit'
C:/Programme/BlitzMax/lib/crt2.o(.text+0x2a0):crt1.c: first defined here
C:/Programme/BlitzMax/lib/crt2.o(.data+0x0):crt1.c: multiple definition of `_argc'
C:/Programme/BlitzMax/lib/crt2.o(.data+0x0):crt1.c: first defined here
C:/Programme/BlitzMax/lib/crt2.o(.data+0x4):crt1.c: multiple definition of `_argv'
C:/Programme/BlitzMax/lib/crt2.o(.data+0x4):crt1.c: first defined here
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/cooleffect.bmx.console.debug.win32.x86.o(code+0x2c2c): multiple definition of `_bb_BITMAPINFO_Delete'
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/cooleffect.bmx.console.debug.win32.x86.o(code+0x2c2c): first defined here
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/cooleffect.bmx.console.debug.win32.x86.o(code+0x2b4d): multiple definition of `_bb_BITMAPINFO_New'
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/cooleffect.bmx.console.debug.win32.x86.o(code+0x2b4d): first defined here
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/cooleffect.bmx.console.debug.win32.x86.o(code+0x0): multiple definition of `_bb_main'
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/cooleffect.bmx.console.debug.win32.x86.o(code+0x0): first defined here
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/cooleffect.bmx.console.debug.win32.x86.o(code+0x2333): multiple definition of `_bb_tchunk_Delete'
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/cooleffect.bmx.console.debug.win32.x86.o(code+0x2333): first defined here
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/cooleffect.bmx.console.debug.win32.x86.o(code+0x2202): multiple definition of `_bb_tchunk_New'
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/cooleffect.bmx.console.debug.win32.x86.o(code+0x2202): first defined here
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/cooleffect.bmx.console.debug.win32.x86.o(code+0x2438): multiple definition of `bb_GetScreenCaptureHeight'
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/cooleffect.bmx.console.debug.win32.x86.o(code+0x2438): first defined here
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/cooleffect.bmx.console.debug.win32.x86.o(code+0x2404): multiple definition of `bb_GetScreenCaptureWidth'
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/cooleffect.bmx.console.debug.win32.x86.o(code+0x2404): first defined here
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/cooleffect.bmx.console.debug.win32.x86.o(code+0x626): multiple definition of `bb_Swapscreens'
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/cooleffect.bmx.console.debug.win32.x86.o(code+0x626): first defined here
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/cooleffect.bmx.console.debug.win32.x86.o(data+0x5c): multiple definition of `bb_canvas'
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/cooleffect.bmx.console.debug.win32.x86.o(data+0x5c): first defined here
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/cooleffect.bmx.console.debug.win32.x86.o(code+0x246c): multiple definition of `bb_getpixmapfromwindow'
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/cooleffect.bmx.console.debug.win32.x86.o(code+0x246c): first defined here
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/cooleffect.bmx.console.debug.win32.x86.o(data+0x24): multiple definition of `bb_height'
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/cooleffect.bmx.console.debug.win32.x86.o(data+0x24): first defined here
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/cooleffect.bmx.console.debug.win32.x86.o(data+0x30): multiple definition of `bb_hwnd'
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/cooleffect.bmx.console.debug.win32.x86.o(data+0x30): first defined here
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/cooleffect.bmx.console.debug.win32.x86.o(data+0xa8): multiple definition of `bb_image'
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/cooleffect.bmx.console.debug.win32.x86.o(data+0xa8): first defined here
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/cooleffect.bmx.console.debug.win32.x86.o(data+0x7c): multiple definition of `bb_pixmap'
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/cooleffect.bmx.console.debug.win32.x86.o(data+0x7c): first defined here
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/cooleffect.bmx.console.debug.win32.x86.o(data+0x8c): multiple definition of `bb_topixmap'
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/cooleffect.bmx.console.debug.win32.x86.o(data+0x8c): first defined here
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/cooleffect.bmx.console.debug.win32.x86.o(data+0x18): multiple definition of `bb_width'
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/cooleffect.bmx.console.debug.win32.x86.o(data+0x18): first defined here
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/cooleffect.bmx.console.debug.win32.x86.o(data+0x50): multiple definition of `bb_window'
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/cooleffect.bmx.console.debug.win32.x86.o(data+0x50): first defined here
Build Error: Failed to link C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/cooleffect.debug.exe
Process complete
</pre><br>(I tried to run your cooleffect.bmx)<br><br>Yeah...<br>Maybe my MinGW is newer than it should be?<br>I also have to "comment" the Win32MaxGUI-Module, because it also cause errors.. :(<br>But I could compile your Module.. :-/<br>If you could help me, that would be nice :)<br><br>Thank your very much! :)<br><br>grettings :)<br>#Reaper <br><br></td></tr></table><br>
<a name="785605"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#57">[#57]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't think the cooleffect one is working....  but the others should be okay. <br><br></td></tr></table><br>
<a name="785757"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >#Reaper</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#58">[#58]</a></td></tr></table></td></tr><tr ><td class="posttext"> Mmm.. no, other examples don't work, too :(<br><br><pre class=code>
Building glcube
Compiling:glcube.bmx
flat assembler  version 1.67.21  (1607702 kilobytes memory)
3 passes, 12211 bytes.
Linking:glcube.debug.exe
C:/Programme/BlitzMax/lib/crtbegin.o(.text+0x0):crtstuff.c: multiple definition of `__do_sjlj_init'
C:/Programme/BlitzMax/lib/crtbegin.o(.text+0x0):crtstuff.c: first defined here
C:/Programme/BlitzMax/lib/crt2.o(.text+0x240):crt1.c: multiple definition of `mainCRTStartup'
C:/Programme/BlitzMax/lib/crt2.o(.text+0x240):crt1.c: first defined here
C:/Programme/BlitzMax/lib/crt2.o(.text+0x260):crt1.c: multiple definition of `WinMainCRTStartup'
C:/Programme/BlitzMax/lib/crt2.o(.text+0x260):crt1.c: first defined here
C:/Programme/BlitzMax/lib/crt2.o(.text+0x280):crt1.c: multiple definition of `atexit'
C:/Programme/BlitzMax/lib/crt2.o(.text+0x280):crt1.c: first defined here
C:/Programme/BlitzMax/lib/crt2.o(.text+0x2a0):crt1.c: multiple definition of `_onexit'
C:/Programme/BlitzMax/lib/crt2.o(.text+0x2a0):crt1.c: first defined here
C:/Programme/BlitzMax/lib/crt2.o(.data+0x0):crt1.c: multiple definition of `_argc'
C:/Programme/BlitzMax/lib/crt2.o(.data+0x0):crt1.c: first defined here
C:/Programme/BlitzMax/lib/crt2.o(.data+0x4):crt1.c: multiple definition of `_argv'
C:/Programme/BlitzMax/lib/crt2.o(.data+0x4):crt1.c: first defined here
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/glcube.bmx.console.debug.win32.x86.o(code+0x0): multiple definition of `_bb_main'
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/glcube.bmx.console.debug.win32.x86.o(code+0x0): first defined here
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/glcube.bmx.console.debug.win32.x86.o(code+0x7fa): multiple definition of `bb_DrawSizeCube'
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/glcube.bmx.console.debug.win32.x86.o(code+0x7fa): first defined here
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/glcube.bmx.console.debug.win32.x86.o(data+0x10): multiple definition of `bb_ax'
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/glcube.bmx.console.debug.win32.x86.o(data+0x10): first defined here
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/glcube.bmx.console.debug.win32.x86.o(data+0x18): multiple definition of `bb_ay'
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/glcube.bmx.console.debug.win32.x86.o(data+0x18): first defined here
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/glcube.bmx.console.debug.win32.x86.o(data+0x20): multiple definition of `bb_tim'
C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/.bmx/glcube.bmx.console.debug.win32.x86.o(data+0x20): first defined here
Build Error: Failed to link C:/Programme/BlitzMax/mod/bah.mod/qtmaxgui.mod/tests/glcube.debug.exe
Process complete
</pre><br><br><br>Could this be because of MinGW? <br><br></td></tr></table><br>
<a name="785799"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#59">[#59]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do you have GUI build enabled?<br>Not sure what those "crt" objects are, but you shouldn't get multiple definitions of those things unless the compile itself is going wrong somewhere...<br><br>Perhaps do a non-quick build of the app ?<br>Also, rebuilding of modules might help too... <br><br></td></tr></table><br>
<a name="785816"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >#Reaper</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#60">[#60]</a></td></tr></table></td></tr><tr ><td class="posttext"> Mm.. GUI-App was disabled, but also with it enabled and Quick-Build disabled, the same :(<br>Could it be because of Qt version 4.3.0? Or maybe I have done something wrong with the bmk(.exe)? Because with it I also can't start my own Code... :-/ :O It's more or less the same..<br>Maybe you could send me your bmk.exe then? *shameonme* <br><br></td></tr></table><br>
<a name="786052"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#61">[#61]</a></td></tr></table></td></tr><tr ><td class="posttext"> I know this a Linux discussion thread, but I'm trying to get your QT module to work on Windows. The modules build fine, and so does the project I import it to, however as soon as it executes, I get a message box saying...<br><br><div class="quote"> <b>Unable to locate component</b><br><br>This application failed to start because QtCore4.dll was not found. Re-installing the application may fix the problem. <br></div><br><br>Any ideas? <br><br></td></tr></table><br>
<a name="786762"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ratchet</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#62">[#62]</a></td></tr></table></td></tr><tr ><td class="posttext"> The QtCore4.dll is in the bin directory of QT (ie C:\Qt\4.2.2\bin). Add this path to your path environment variable or copy the dll to &lt;Windows&gt;\System32 (ie C:\Windows\System32) directory. <br><br></td></tr></table><br>
<a name="788890"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LAB[au]</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#63">[#63]</a></td></tr></table></td></tr><tr ><td class="posttext"> Didn't find QT 4.2.2 for win32, seems there is only the 4.3.0 available, obviously the module isn't compiling anymore.<br><br>So I just changed the name of the folder from 4.3.0 to 4.2.2 and guess what ... it works :) <br><br></td></tr></table><br>
<a name="788903"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#64">[#64]</a></td></tr></table></td></tr><tr ><td class="posttext"> The module expects a certain folder structure....  perhaps it's easier to change the module rather than the folder name? :-)<br><br>Of course, it would be nicer not to have to expect a specific version... but I guess it's easier (for me at least) to say "I've only tested it with X version"... <br><br></td></tr></table><br>
<a name="795239"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >#Reaper</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#65">[#65]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, I got it working now :)<br>(I put the Libs into the Lib-Folder of BMax... But now I have to use the DLL's of Qt, but no problem ;) ) <br><br>Are you still working at this Qt-Module? :) <br><br></td></tr></table><br>
<a name="1076842"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nigel Brown</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#66">[#66]</a></td></tr></table></td></tr><tr ><td class="posttext"> has this project come to an end Brucey? <br><br></td></tr></table><br>
<a name="1076851"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#67">[#67]</a></td></tr></table></td></tr><tr ><td class="posttext"> Better to use fltk for MaxGui, I'd imagine. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
