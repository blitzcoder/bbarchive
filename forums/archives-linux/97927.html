<!DOCTYPE html><html lang="en" ><head ><title >How to : BlitzMax on Ubuntu 12.04 LTS</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >How to : BlitzMax on Ubuntu 12.04 LTS</h1><a href="forums.php" >Archives Forums</a>/<a href="topics.php?forum=109" >Linux Discussion</a>/<a href="#bottom" >How to : BlitzMax on Ubuntu 12.04 LTS</a><br><br>
<a name="1140513"></a>

<a name="1140514"></a>

<a name="1140515"></a>

<a name="1140516"></a>

<a name="1140517"></a>

<a name="1140518"></a>

<a name="1140520"></a>

<a name="1140523"></a>

<a name="1140524"></a>

<a name="1140531"></a>

<a name="1140532"></a>

<a name="1140533"></a>

<a name="1140534"></a>

<a name="1140623"></a>

<a name="1143066"></a>

<a name="1143067"></a>

<a name="1143068"></a>

<a name="1143069"></a>

<a name="1143212"></a>

<a name="1143213"></a>

<a name="1143214"></a>

<a name="1143219"></a>

<a name="1143220"></a>

<a name="1143223"></a>

<a name="1143229"></a>

<a name="1143311"></a>

<a name="1143312"></a>

<a name="1148806"></a>

<a name="1148807"></a>

<a name="1148808"></a>

<a name="1148809"></a>

<a name="1148810"></a>

<a name="1163644"></a>

<a name="1163645"></a>

<a name="1163646"></a>

<a name="1174411"></a>

<a name="1174412"></a>

<a name="1174430"></a>

<a name="1174431"></a>

<a name="1174433"></a>

<a name="1188695"></a>

<a name="1188835"></a>

<a name="1189387"></a>

<a name="1189388"></a>

<a name="1189389"></a>

<a name="1189390"></a>

<a name="1189391"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Greetings to all. It's been a while since I've played around with Ubuntu and now it's at version 12.04, so I thought I would have a bash at getting BlitzMax to work with it.<br><br>So to start with I used a clean install of Ubuntu 12.04 LTS and using BlitzMax 1.48. An upgraded from a earlier version of Ubuntu could be a bit of a mess.<br><br><b>32bit Installation</b><br><pre class=code>sudo apt-get update
sudo apt-get install g++ gcc build-essential
sudo apt-get install libglu1-mesa-dev x11proto-core-dev x11proto-gl-dev x11proto-kb-dev libxxf86vm-dev libasound2-dev libfreetype6-dev libxpm-dev libxft-dev</pre> You will also need to follow one of skid's threads to get sound working (see below the 64bit version install method.)<br><br><b>64Bit Installation</b><br>I've found out there have been a few changes regarding the 64bit version as the usual ia32-libs package is being replaced with a new method of dealing with 32bit application on a 64bit system. The /usr/libs32 directory is still there, but there are very few libs left in there as now they reside in /usr/lib/i386-linux-gnu when the new ia32-libs-mutiarch package is installed.<br>One problem I've had is sound out of the box; but I've got sound working by using skidracers pulse-audio driver or you can now use the fixed ALSA driver.<br><br>First we install the packages using a terminal.<br><br><pre class=code>sudo apt-get update
sudo apt-get install ia32-libs-multiarch g++-multilib build-essential
sudo apt-get install libglu1-mesa-dev x11proto-core-dev x11proto-gl-dev x11proto-kb-dev libxxf86vm-dev libasound2-dev libfreetype6-dev libxpm-dev libxft-dev</pre><br><br>Next we need some symbolic links to the libs that we need to use.<br><pre class=code>sudo ln -s /usr/lib/i386-linux-gnu/mesa/libGL.so.1 /usr/lib32/libGL.so
sudo ln -s /usr/lib/i386-linux-gnu/libGLU.so.1 /usr/lib32/libGLU.so
sudo ln -s /usr/lib/i386-linux-gnu/libX11.so.6 /usr/lib32/libX11.so
sudo ln -s /usr/lib/i386-linux-gnu/libfreetype.so.6 /usr/lib32/libfreetype.so
sudo ln -s /usr/lib/i386-linux-gnu/libXxf86vm.so.1 /usr/lib32/libXxf86vm.so
sudo ln -s /usr/lib/i386-linux-gnu/libXft.so.2 /usr/lib32/libXft.so
sudo ln -s /usr/lib/i386-linux-gnu/libXpm.so.4 /usr/lib32/libXpm.so</pre><br>If you compile and you get can't find such and such due to an update etc, then use the method above to create a symbolic link by first finding the actual target libs true name. The symbolic's links usually the targets name with every thing to the right of the .so.x removed (x being any number ).<br>Note if things break after an update use the rm command to remove the current broken link e.g. sudo rm /usr/lib/libfreetype.so and then redo the link with the updated version of that .so file.<br><br>Ok you should now be able to compile the sample files that come with BMax. But you may not get sound.<br><br><b>The sound issue.</b><br>As I haven't got the time to look deeply into this. I used skidracer's pulse audio driver as an alternative.<br>Here's the <a href="/posts.php?topic=93662" target="_blank">link</a> read it through and don't use MaxIDE to copy and paste the cpp code. Use a text editor like notepad for this. skid's also also fixed the ALSA driver as well. See <a href="/posts.php?topic=98049#1143064" target="_blank">here</a> for details.<br>I actually put these files into path_to_blitzmax/mod/pub.mod/freeaudio.mod<br>One thing to note is that BlitzMax/mod/brl.mod/freeaudioaudio.bmx is related to this so you may want to update the code at the bottom to reflect what sound driver name your using.<br>Then rebuild all the modules.<br><br>If your using the 64bit version of ubuntu then you'll need to add another symbolic link for the dound driver your using.<br>For Pulse Audio<pre class=code>sudo ln -s /usr/lib/i386-linux-gnu/libpulse-simple.so.0 /usr/lib32/libpulse-simple.so</pre>For ALSA<pre class=code>sudo ln -s /usr/lib/i386-linux-gnu/libasound.so.2 /usr/lib32/libasound.so</pre>and you should have sound. <br><br></td></tr></table><br>
<a name="1151687"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >impixi</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks. I had to follow this procedure to get BlitzMax working for Linux Mint 13 64-bit (MATE desktop). Skidracer's pulse audio driver also works nicely. <br><br></td></tr></table><br>
<a name="1152182"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SystemError51</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I did those steps on 11.10 before, apps did segfault (but compiling fine). Will test again on 12.04. <br><br></td></tr></table><br>
<a name="1152215"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> @SystemError51:What GFX hardware are you using? And where does the segfault occur when you debug the code?<br>All the samples compile and run fine apart from when I try the GUI launcher sample then I get a segfault when it tries to create a FLT canvas. <br><br></td></tr></table><br>
<a name="1154060"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SystemError51</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> On Ubuntu 12.04 the above steps with all the multilibs etc, now seems to have fixed the problem. Programs compile and run fine.<br><br>Weird. <br><br></td></tr></table><br>
<a name="1155162"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can someone please describe how to get the audio driver running under Ubuntu 12.04 (32-Bit). - I can't create the symbolic links as mentioned in the #1 post. <br><br>Is Brucey's FMod module still usable under the latest Ubuntu distribution?<br>I get a segmentation fault, but this might be related to my general audio driver problem.<br><br><img src="http://i.imgur.com/Fls6u.jpg"> <br><br></td></tr></table><br>
<a name="1155231"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> You shouldn't need a symbolic link for any 32bit OS. The two links in the first post are for the 64bit OS versions only.<br><br>The pulse audio drive isn't installed by default in Ubuntu 12.04. And the current version of BlitzMax's oss/alsa audio driver doesn't work. You have to either use skidracer's pulse audio driver or the fix that skidracer has done for the alsa driver and then rebuild the modules. Links are in the first post.<br><br>If your getting a segfault see if it's any of the maxGUI code, for some reason the gui launcher caused this to happend to me (I suspect FLT Canvas has something to do with it). <br><br></td></tr></table><br>
<a name="1155235"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, got the alsa driver and Fmod working now. Can't these fixes be added to the official distribution?<br><br>MaxGUI has massive problems with the WINDOW_HIDDEN flag as well as Hide and Showgadget(), these caused segmentation faults for me. <br><br></td></tr></table><br>
<a name="1155240"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> MaxGUI has massive problems with the WINDOW_HIDDEN flag as well as Hide and Showgadget(), these caused segmentation faults for me. <br></div>The are a few posts in the MaxGUI bug section about this. <br><br></td></tr></table><br>
<a name="1163434"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dinosorceror</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've just updated my Linux Mint, and now BlitzMax projects won't compile anymore.  I had gotten it to work for quite a few updates with the instructions in this post, but now when I try to compile anything, I get an error near the end.  The error is:<br><br>/usr/bin/ld: cannot find -lGLU<br><br>Here's a example of me trying to compile Digesteroids:<br><br><br>Building digesteroids<br>Compiling:simplephysics.bmx<br>flat assembler  version 1.68  (32768 kilobytes memory)<br>4 passes, 57473 bytes.<br>Compiling:minitimer.bmx<br>flat assembler  version 1.68  (32768 kilobytes memory)<br>3 passes, 5416 bytes.<br>Compiling:dynamicgame.bmx<br>flat assembler  version 1.68  (32768 kilobytes memory)<br>3 passes, 11278 bytes.<br>Compiling:MathUtil.bmx<br>flat assembler  version 1.68  (32768 kilobytes memory)<br>3 passes, 6542 bytes.<br>Compiling:digesteroids.bmx<br>flat assembler  version 1.68  (32768 kilobytes memory)<br>4 passes, 152908 bytes.<br>Linking:digesteroids.debug<br>/usr/bin/ld: cannot find -lGLU<br>collect2: ld returned 1 exit status<br>Build Error: Failed to link /home/xo4/BlitzMax/samples/digesteroids/digesteroids.debug<br>Process complete <br><br></td></tr></table><br>
<a name="1163437"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dinosorceror</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh, I'm betting I need to update one of those symbolic links, and I see which one.  I'll give it a shot. <br><br></td></tr></table><br>
<a name="1163438"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dinosorceror</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep, that did it.  I had to issue the following commands:<br><br>sudo rm /usr/lib32/libGLU.so<br>sudo ln -s /usr/lib/i386-linux-gnu/libGLU.so.1.3.08004 /usr/lib32/libGLU.so<br><br>...since that GLU library updated from 08000 to 08004.  Compiling works again! <br><br></td></tr></table><br>
<a name="1168616"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dinosorceror</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, now I've rebuilt a box with Ubuntu 12.10 (64-bit), and I can't even get the IDE to run at all.  Before I start putting the dependencies back for compilation, this doesn't seem right.  Back when I opened the BlitzMAX archive in Mint, the IDE would run, but I needed to follow the steps for compilation.  Now the IDE won't run at all?  Does that seem weird to anyone else? <br><br></td></tr></table><br>
<a name="1168620"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dinosorceror</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hrm, guess I did need to do those dependencies just to run the IDE.  I'm going to make a fresh post about Ubuntu 12.10 64-bit for reference in the future, including how to get the PulseAudio working. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
