<!DOCTYPE html><html lang="en" ><head ><title >Step two: Getting the &amp;%&amp;*$ sound to work!</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Step two: Getting the &amp;%&amp;*$ sound to work!</h1><a href="forums.php" >Archives Forums</a>/<a href="topics.php?forum=109" >Linux Discussion</a>/<a href="#bottom" >Step two: Getting the &amp;%&amp;*$ sound to work!</a><br><br>
<a name="1081023"></a>

<a name="1081024"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Every single program that uses sound on Ubuntu 10.10 works perfectly, except BlitzMax programs I compile. I've even installed openal and openal-dev (synaptic package manager - which I love!) and used <br><pre class=code>
SetAudioDriver("openal")      'EnableOpenALAudio() returns True
</pre><br>but to no avail. Programs compile and run (usually), but no sound and I get this error:<br><pre class=code>
bt_audio_service_open: connect() failed: Connection refused (111)
bt_audio_service_open: connect() failed: Connection refused (111)
bt_audio_service_open: connect() failed: Connection refused (111)
bt_audio_service_open: connect() failed: Connection refused (111)
Cannot connect to server socket err = No such file or directory
Cannot connect to server socket
jack server is not running or cannot be started
</pre><br>Apparently, sound has been a big problem with Bmax on linux for a while.<br><br>Any workarounds?<br>Russell<br><br>[EDIT: If there IS something that BMax needs to produce sound on Linux, maybe it should be added to the BMax dependencies script.]<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1081027"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have the same problem, see here<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=88613#1053208" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=88613#1053208</a><br><br>I've installed these 3 package libopenal1, libopenal1-dbg and libopenal1-dev.<br>Dont' know if it could changes the result.<br><br>Question: audio works with other applications? What are the audio system drivers present on your system (PULSE, ALSA)? <br><br></td></tr></table><br>
<a name="1081081"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I now have Ubuntu installed on its own partition, rather than having it run in VirtualBox, so that may simplify things.<br><br>Anyway, BlitzMax will not compile anything until the script mentioned above is executed (Why this script is not part of BlitzMax's Linux installation procedure or even mentioned in a 'readme', I can't imagine...).<br><br>I'm totally new to Linux, so I have no idea what sound system I have, but I did use Synaptic Package Manager to install the OpenAL libraries. Then I used EnableOpenALAudio() and SetAudioDriver("openal"), but that still produced no sound :(<br><br>Which sound driver(s) is/are <u>known</u> to work with BMax/Ubuntu? And how do I install it/them? (I imagine it's something like "sudo apt-get install blah-blah")<br><br>(I thought I had abandoned the command line 25+ years ago, with the advent of the GUI interface... LOL)<br><br>Anyway, since Ubuntu is supposedly the official Linux distro for BlitzMax (which is why I chose it over the others), I'm sure I'm not the only one having issues with sound.<br><br>Any ideas/help is greatly appreciated.<br><br>Russell <br><br></td></tr></table><br>
<a name="1081082"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could help <a href="/posts.php?topic=93662" target="_blank">test the new pulse audio driver</a>. <br><br></td></tr></table><br>
<a name="1081095"></a>

<a name="1081096"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I will reboot into Ubuntu (I'm on Win7 right now) and test this for sure!<br><br>One question (Remember that I'm new to Linux...): If I compile programs using your audio driver, will the end-user need anything extra, or is everything kosher since I presume it will be statically linked into the executable? The latter would be preferable, of course, barring licensing issues.<br><br>Russell<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1081104"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep it worked swell! Hopefully this will find its way into the official linux Bmax in the near future!<br><br>(See also my other reply in the link you supplied)<br>Russell <br><br></td></tr></table><br>
<a name="1081106"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> In the docs for Brucey's irrklang.mod, it says that one of the requirements for linux is to have the libirrklang.so file in the place referenced by the LD_LIBRARY_PATH environmental variable.<br><br>I did some searching to find out how to get/set this. I use <div class="quote"> printenv <br></div> to list all of the currently defined environmental variables and LD_LIBRARY_PATH is not one of them! Do I need to create this variable? And if so, where should it point to?<br><br>Putting the libirrklang.so file in the same directory as the source file doesn't help. I get this error:<br><pre class=code>
Linking:helloworld
/usr/bin/ld: cannot find -lirrKlang
collect2: ld returned 1 exit status
Build Error: Failed to link /home/russell/BlitzMax/mod/bah.mod/irrklang.mod/examples/helloworld
Process complete
</pre><br>Now, I just thought of one thing: I think I read that the irrklang library used to be called irrklang.so (like the name mentioned in the output) instead of libirrklang.so. Could this be it?<br><br>(Nope, I tried renaming it to irrklang.so and the result was the same...)<br><br>Any ideas?<br>Russell <br><br></td></tr></table><br>
<a name="1081177"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Typicially linux programmers do not use capital letters (shift key contributes to carpal tunnel syndrome) and their file systems are case sensitive so maybe try irrklang? <br><br></td></tr></table><br>
<a name="1083113"></a>

<a name="1083114"></a>

<a name="1083115"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ole JR</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>As a nonroot user:</b><br><pre class=code>
export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/path-to-libirrklang.so-file
</pre><br>Should set LD_LIBRARY_PATH so ld finds it.<br><br>Putting that into <b>.bashrc</b> in your homedir, should set it for you everytime.<br>(Notice the '.' as in hidden file)<br><br><b>Or as root (sudo) user:</b><br>Or you could try copying the libirrklang.so to a place where ld <br>default searches. As in /usr/local/lib, then maybe do a 'ldconfig' to<br>rebuild the lib cache..<br><br>The problem with both of the above is that if you release something,<br>everyone that install your app also have to do the same..<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
