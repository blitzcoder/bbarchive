<!DOCTYPE html><html lang="en" ><head ><title >Experimental BlitzMax NG installer script</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Experimental BlitzMax NG installer script</h1><a href="forums.php" >Archives Forums</a>/<a href="topics.php?forum=109" >Linux Discussion</a>/<a href="#bottom" >Experimental BlitzMax NG installer script</a><br><br>
<a name="1320915"></a>

<a name="1320916"></a>

<a name="1320918"></a>

<a name="1320919"></a>

<a name="1320920"></a>

<a name="1320922"></a>

<a name="1320931"></a>

<a name="1320932"></a>

<a name="1320961"></a>

<a name="1320964"></a>

<a name="1320969"></a>

<a name="1321000"></a>

<a name="1321125"></a>

<a name="1321126"></a>

<a name="1321132"></a>

<a name="1321133"></a>

<a name="1321134"></a>

<a name="1321137"></a>

<a name="1321228"></a>

<a name="1321229"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well folks I've been scripting again, but this time I've knock up something to make building BlitzMax NG easier. It's still a work in progress, so be warned! you should test it out in virtual box.<br><br>You can get it <a href="https://www.dropbox.com/s/i8hubx0zue41rri/install-scripts.tar.gz?dl=0" target="_blank">here</a>.<br>md5check: da1094eaeb1b8b4ab5f56240a4f87fc4<br><br>Usage:<br>If you use sudo on any of the commands apart from the one with the parameter <b>fix</b>. Then it will run the dependency install script for a base distribution.<br>To just download and build the vanilla BlitzMax from git-hub<br><pre class=code>./blitzmas-install.sh</pre><br>To build BlitzMax NG there are two ways<br>Download and build just enough to get BlitzMax NG built.<br><pre class=code>./blitzmas-install.sh ng</pre>Just use an installed BlitzMax version and don't bother downloading (NOTE not retested this yet)<pre class=code>./blitzmas-install.sh ng "/path-to-vanilla-installed-blitzmax"</pre>Build both the git vanilla BlitzMax and the BlitzMax NG versions.<pre class=code>./blitzmas-install.sh both</pre><br><br>If, for some reason the build was interrupted and you used sudo. Then you need to fix the file permissions with<br><pre class=code>sudo ./blitzmax-install.sh fix</pre>If it was downloading or extracting an archive; then you will have to delete the files in the directories <b>package</b> and the directories <b>bah.mod</b>,<b>BlitzMax</b> and <b>BlitzMax NG</b>.<br><br>Enjoy. <br><br></td></tr></table><br>
<a name="1320952"></a>

<a name="1320954"></a>

<a name="1320955"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Your download contains a user (you) specific hidden file ".directory".<br><br>Regardless of this minor-minor it works like a charm here for vanilla/original.<br><br>BTW: The NG-64bit-build stalls here:<br>[ 62%] Compiling:glew.bmx.debug.linux.x64.c<br>(which might be an issue with NG-64bit and the module's sources)<br>Takes a big bit of time until it continues - so be warned :-p<br><br><br>Little suggestion:<br>Of course I tried to build NG too but it does the whole thing again. I mean: it skips downloading vanilla (because already there) but it still does a complete module-rebuild (release, debug and mt) just to be able to compile the ng toolchain...<br>a) only rebuild release modules<br>b) directly use a NG-bmk which auto builds modules on demand<br><br>Spelling bee cries for help in line 103: "Retrievingq $3".<br><br>Ah ... and once you used "bmk ng" you could use "-quick" to make compilation a bit faster (disables some file lookups).<br><br><br><br>Hmm, do not get above's criticism wrong: good work!<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1320957"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hidden file, well that's the Dolphin file browser for you. I will have to knock up an auto clean up script for those before compressing as that settings file tends to get around a bit.<br><br>The script is only ment to up a run once affair. You either pass <b>ng</b> or <b>both</b> as a parameter. I will play around with it when I get some time. <br><br></td></tr></table><br>
<a name="1320960"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
Rebuilding bmk as a threaded 64 bit executable
[ 52%] Compiling:waitpid.c
[ 86%] Processing:bmk_cores_linux.bmx
Illegal instruction
~&gt;Unhandled Exception:Build Error: failed to compile /home/ronny/Downloads/install_scripts/BlitzMax_NG/src/bmk/bmk_cores_linux.bmx
</pre><br>Hmm, seems like an BMK issue then.<br><br><br>@ Autoclean<br><br><pre class=code>
zip -9 \
 -x '*/.git/*' \
 -x '*/*.bak' \
 -x '*/.gitignore' \
 -x '*/.DS_Store' \
 -r ../$OUTPUTNAME *
</pre><br>A similar thing for your gzip should do well (above was a snipped of my "create-release-zip"-script.<br><br><br>@ playing around and "run once affair"<br>No hurry. We have all the time we want. I just tried to follow your "steps" and the 3) and above parts sounded as if it was an additional step to call the installer with "ng" param.<br><br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1320965"></a>

<a name="1320967"></a>

<a name="1320970"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Rebuilding bmk as a threaded 64 bit executable<br>[ 52%] Compiling:waitpid.c<br>[ 86%] Processing:bmk_cores_linux.bmx<br>Illegal instruction<br>~&gt;Unhandled Exception:Build Error: failed to compile /home/ronny/Downloads/install_scripts/BlitzMax_NG/src/bmk/bmk_cores_linux.bmx <br></div><br>What distribution are you currently using Ron? Vanilla bmk has got a few problems building any release build with a number of later distribution versions. Not sure whats causing that, but making core dumps and a dose of printf's keep showing the problems with bbStringFromUTF8String, bbStringFromShorts and bbStringNew. I don't think that its GC related and possibly more gcc optimisation related. The while loop in bbStringFromUTF8String on Debian 8 screws up the size to pass to bbStringFromShorts, but appears to be a GC problem on Ubuntu.<br>It's either that or Brucey has broken something, but today's build work perfectly.<br><br>Another issue is with later releases of freetype on a 64 bit distribution expecting to find header files in /usr/include/i386-linux-gnu when non exist. <br><br></td></tr></table><br>
<a name="1321002"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
ronny@RonnyPC ~ $  cat /etc/*-release
DISTRIB_ID=LinuxMint
DISTRIB_RELEASE=17.3
DISTRIB_CODENAME=rosa
DISTRIB_DESCRIPTION="Linux Mint 17.3 Rosa"
NAME="Ubuntu"
VERSION="14.04.3 LTS, Trusty Tahr"
ID=ubuntu
ID_LIKE=debian
PRETTY_NAME="Ubuntu 14.04.3 LTS"
VERSION_ID="14.04"
</pre><br><br>PS: I have read about that bbStringFrom... thing in another thread already. Hmm<br><br><br>Bye<br>Ron <br><br></td></tr></table><br>
<a name="1321136"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Right just uploaded a new set of scripts.<br><br>Linux Mint 17.3 doesn't suffer from the release build issue, but Linux Mint 18 does. So there should be no problems with with Linux Mint 17. I would suspect that anything new than Ubuntu 14.04 (gcc 4.8 if I remember) would have the problem.<br><br>All multi-thread stuff has been removed. It builds single thread releases unless it's one of the problem distributions. Then it will build the basic debug version of vanilla bcc and bmk to get BlitzMax NG going with release builds. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
