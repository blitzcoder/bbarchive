<!DOCTYPE html><html lang="en" ><head ><title >Linking error - 1st attempt to use Linux BlitzMax</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Linking error - 1st attempt to use Linux BlitzMax</h1><a href="forums.php" >Archives Forums</a>/<a href="topics.php?forum=109" >Linux Discussion</a>/<a href="#bottom" >Linking error - 1st attempt to use Linux BlitzMax</a><br><br>
<a name="1069072"></a>

<a name="1069073"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mulawa1</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> After many successful years with Windows BlitzMax and, more recently, a win with Mac OSX, I decided to give Linux a go. But I'm a Linux newbie. I'm using Fedora 14.<br><br>My "hello World" produces this when I try to compile, link and run:<br><br>Linking:untitled1.debug<br>/usr/bin/ld:<br>/home/liveuser/Peter/BlitzMax/mod/pub.mod/openal.mod/openal.debug.linux.x86.a(openal.c.debug.linux.x86.o):<br>undefined reference to symbol 'dlopen@@...'<br>/usr/bin/ld: note: 'dlopen@@...' is defined in DSO /lib/libdl.so.2<br>so try adding it to the linker command line<br>/lib/libdl.so.2: could not read symbols: Invalid operation<br>collect2: ld returned 1 exit status<br>Build Error: Failed to link /home/liveuser/Peter/BlitzMax/tmp/untitled1.debug<br><br>Can one of you Linux gurus help?<br><br>Thanks ... Peter<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1069082"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >shinkiro1</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Look at this thread: <a href="http://blitzbasic.com/Community/posts.php?topic=88613" target="_blank">http://blitzbasic.com/Community/posts.php?topic=88613</a><br>Run this script, it will install all dependencies BlitzMax needs. <br><br></td></tr></table><br>
<a name="1069173"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mulawa1</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you for your reply.<br><br>Sadly I had already run that script and it completed without error.<br><br>Peter <br><br></td></tr></table><br>
<a name="1069183"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you rebuilt all the modules?<br><br>The build error refers to a version of glibc that you appear not to have installed on your system - which implies that your version of linux is significantly newer than that against which the modules were compiled.... <br><br></td></tr></table><br>
<a name="1069185"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mulawa1</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes - I rebuilt all the modules.<br><br>Peter <br><br></td></tr></table><br>
<a name="1069190"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could try adding :<br><pre class=code>
?linux
Import "-ldl"
?
</pre><br>to pub.mod/openal.mod/openal.bmx, somewhere after ModuleInfo, and before Private... <br><br></td></tr></table><br>
<a name="1069193"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mulawa1</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is your middle name "Magic" per chance?<br><br>Thanks a heap!<br><br>I had to rebuild all modules - couldn't work out how to just rebuild this module but now we're looking good!<br><br>Peter <br><br></td></tr></table><br>
<a name="1069195"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> No worries ;-)<br><br>The IDE doesn't let you build specific modules, but if you are happy with the command-line you can do things like this from the BlitzMax/bin dir :<br><pre class=code>
rebuild all modules :
./bmk makemods -a

build all modules (only compiles those which have changed since the last build) :
./bmk makemods

re-build a specific module :
./bmk makemods -a pub.openal

build a specific module (only compiles if it has changed since last time) :
./bmk makemods pub.openal
</pre><br>If you want to make multi-thread builds of the modules you need to add -h flag after "makemods".<br><br>HTH <br><br></td></tr></table><br>
<a name="1069208"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mulawa1</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for that. Rebuilding the lot didn't take long.<br><br>Any thoughts on what I should look at to get sound working?<br><br>Peter <br><br></td></tr></table><br>
<a name="1069256"></a>

<a name="1069257"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ouch, it looks like both ALSA and OSS audio systems have now been displaced by PulseAudio in world of Linux. Unfortunately BlitzMax doesn't yet support PulseAudio API so you could try using OpenAL, at top of your program try:<br><br><pre class=code>

EnableOpenALAudio()
SetAudioDriver("OpenAL Default")

</pre><br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1069353"></a>

<a name="1069430"></a>

<a name="1069830"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mulawa1</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Didn't help.<br><br>Both the above lines return False.<br><br>Do I need to install some package?<br><br>Peter<br><br>&lt;later&gt; <b>started a new topic.</b><br><br><font class="tiny">Last edited 2011</font><br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
