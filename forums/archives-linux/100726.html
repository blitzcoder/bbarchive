<!DOCTYPE html><html lang="en" ><head ><title >Segmentation Fault on nearly EVERYTHING in Mint</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Segmentation Fault on nearly EVERYTHING in Mint</h1><a href="forums.php" >Archives Forums</a>/<a href="topics.php?forum=109" >Linux Discussion</a>/<a href="#bottom" >Segmentation Fault on nearly EVERYTHING in Mint</a><br><br>
<a name="1191721"></a>

<a name="1191722"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tricky</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Let's put it like this... MaxIDE works, and that's about it.<br><br>When I try to rebuild the documentation this is the result:<br><pre class=code>Rebuilding documentation...
Segmentation fault
Building: BlitzMax Help
Error writing to stream
Process complete</pre><br><br>Maybe something wrong with the module builder so let's re-compile that....<br>Result:<br><pre class=code>Compiling:docnode.bmx
flat assembler  version 1.68  (32768 kilobytes memory)
3 passes, 7507 bytes.
Compiling:parse.bmx
flat assembler  version 1.68  (32768 kilobytes memory)
3 passes, 5485 bytes.
Compiling:bbdoc.bmx
flat assembler  version 1.68  (32768 kilobytes memory)
4 passes, 17262 bytes.
Compiling:docstyle.bmx
flat assembler  version 1.68  (32768 kilobytes memory)
4 passes, 22872 bytes.
Compiling:fredborgstyle.bmx
flat assembler  version 1.68  (32768 kilobytes memory)
3 passes, 15992 bytes.
Compiling:makedocs.bmx
flat assembler  version 1.68  (32768 kilobytes memory)
4 passes, 26969 bytes.
Linking:makedocs
Segmentation fault
</pre><br><br>Then this program<br><pre class=code>Print "Hello World"</pre><br><br>Results into<br><pre class=code>Compiling:HelloWorld.bmx
flat assembler  version 1.68  (32768 kilobytes memory)
3 passes, 2886 bytes.
Linking:HelloWorld
Segmentation fault</pre><br><br><br>This happens in all settings... Debug or release, threaded or unthreaded, GUI or console, it all results into this. Oddly enough it USED to work and especially the fact that MakeDocs can't be compiled (I didn't modify the source code AT ALL), makes things odd....<br><br>Any ideas what I can do to stop this?<br><br><br><br><br>==== Supplement ====<br>I tried to run bmk with  'sudo' for "Hello World" to see what would happen....<br><pre class=code>[sudo] password for rachel: 
Linking:HelloWorld
/usr/bin/ld: /home/rachel/Apps/BlitzMax/mod/pub.mod/openal.mod/openal.debug.linux.x86.a(openal.c.debug.linux.x86.o): undefined reference to symbol 'dlopen@@...'
/usr/bin/ld: note: 'dlopen@@...' is defined in DSO /lib/i386-linux-gnu/libdl.so.2 so try adding it to the linker command line
/lib/i386-linux-gnu/libdl.so.2: could not read symbols: Invalid operation
collect2: error: ld returned 1 exit status
Build Error: Failed to link</pre><br><br>Riiiiiiiight <br><br></td></tr></table><br>
<a name="1191727"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >*</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Add <br><pre class=code>
Import "-ldl"
</pre><br>to the top of your program does it help? <br><br></td></tr></table><br>
<a name="1191732"></a>

<a name="1191734"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Tricky: From what your posting sound like EdzUp[GD] is right. Rebuilding the modules wouldn't show this problem until you tried to run something. I always try and build one or two of the samples in debug mode first. If it works the all is well. But you should be aware that previous applications may need to rebuilt as well as a result of this.<br><br>@EdzUp[GD]<br>The best place to add Import "-ldl" is in BlitzMax/brl/appstub.mod/appstub.bmx, BlitzMax/brl/threads.mod/threads.bmx.<br>It got to the point I was sick of patching BlitzMax manually so I wrote a script to do the job for me here <a href="/post.php?topic=100580&amp;post=1191226" target="_blank">http://www.blitzbasic.com/Community/post.php?topic=100580&amp;post=1191226</a>.<br>It's near the bottom of the first post and should be run on a freshly unaltered BlitzMax extraction. <br><br></td></tr></table><br>
<a name="1191771"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tricky</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Import "-ldl" was present, actually in a project I tried with the same problems, but for my "Hello World" it could indeed be the problem. <br><br>I could solve the problem by using the Mint script somewhere on this forum (the up to date one) and running everything with "sudo"...<br><br>Now I had the problem in a project that I was already halfway up on Mac. Well, on Mac it runs as perfectly as a half-complete project could run, and in Windows the same deal, but on Linux WaitKey() rather works as "Wait Forever", and KeyHit needed several keys to be held down in succession in order to make them registered. MouseHit() too by the way (I didn't have joypad, so I could try JoyHit).Does anyone have similar experiences?<br><br>I don't have Linux at my disposal until thursday (when I can borrow a screen for my MintBox), or I could try to set up some code to track the problem. <br><br></td></tr></table><br>
<a name="1191797"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  and running everything with "sudo"... <br></div>Why would you need to run everything as sudo. Using sudo should only be used to do administrative tasks. e.g. installation of packages, user/group management. It is not meant to be used for running programs as such running program would have elevated privileges and could do all sorts of damage if it should crash or change something unexpectedly. <br><br></td></tr></table><br>
<a name="1191971"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tricky</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Without sudo NOTHING compiles except the modules, even the documentation doesn't build without sudo, and with sudo it works...<br>Hey I didn't invent Linux, if I did it would be a lot user-friendlier.... <br><br></td></tr></table><br>
<a name="1191976"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Tricky: Are you still running BlitzMax of a usb memory stick? As that's the only thing I can think of where you would have to use sudo to run any thing.<br>If you still are have a look at this <a href="/posts.php?topic=100593" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=100593</a>.<br>If your running it from your home directory. Use <pre class=code>chown -R user_name BlitzMax</pre> on the directory it's self. The other two commands that are useful are chmod,chgrp. You most likely have to run chown,chgrp commands as sudo to take control, but once you have ownership chmod is a easy.<br>To read about these commands ( or any of them ); in a terminal type <pre class=code>man chown</pre> When the <b>man</b>ual page opens, use the arrow keys to move about and q to quit. There's also a gui version called xman and all you need to do with this it type just xman; press the Manual Page button and use the Sections tab to browse by command type or use the options tab and use search.<br><br><div class="quote"> Hey I didn't invent Linux, if I did it would be a lot user-friendlier....  <br></div>Neither did I. The Linux bit ( the kernel ) was originally create by Linus Torvalds as at the time Unix ( which is what Linux is a clone of ) was expensive and he needed a free alternative. And as Unix was used in universities and government departments. It was mostly computer scientist who wrote it and used it.<br>I've been using Linux since RedHat 5.2 ( about 13-14 years ago ) was out and even I have a hard time keeping up with whats going on. And let me say in those days it was a lot hard to get thing working. <br><br></td></tr></table><br>
<a name="1194393"></a>

<a name="1194394"></a>

<a name="1194395"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>/home/rachel/Apps/BlitzMax<br> <br></div><br><br><br>I have no idea what the Apps folder is but it sounds like you should install BlitzMax directly in the home folder where you shouldn't need sudo. <br><br>Also, you did not specify exactly what you did to unpack the original .tar.gz archive. <br><br></td></tr></table><br>
<a name="1199756"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tricky</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> To go into the deep of a few things:<br><br><div class="quote"> Are you still running BlitzMax of a usb memory stick? As that's the only thing I can think of where you would have to use sudo to run any thing. <br></div><br>I am running both the MacOS and Windows versions of BMax on a USB portable harddrive (FAT32 formatted) and both accept that just fine. The linux version is on my home drive. (as from my portable harddrive it doesn't work at all as I cannot put the 'executable' bit on files on a device like that)<br><br><br><div class="quote"> Also, you did not specify exactly what you did to unpack the original .tar.gz archive.  <br></div><br>Unpacked it with the GUI based archive utility that comes with Linux.<br><br><div class="quote"> I have no idea what the Apps folder is <br></div><br>I created the 'Apps' folder myself, to keep my home folder clean and not completely swamped with all kinds of subfolders.<br><br><br><div class="quote"> And let me say in those days it was a lot hard to get thing working. <br></div><br>Yeah, a lot has been improved on user-friendlyness, but Linux still has a far way to go. That much is clear.<br><br>Oh yeah, I'll try out the 'chown' business, to see if that will free me from using Sudo all the time. <br><br></td></tr></table><br>
<a name="1202680"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >*</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try running it in a window, on my Linux laptop if I run it full screen it causes problems but it works fine in a window <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
