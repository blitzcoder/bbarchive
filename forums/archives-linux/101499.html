<!DOCTYPE html><html lang="en" ><head ><title >Importing a C++ static library and linking</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Importing a C++ static library and linking</h1><a href="forums.php" >Archives Forums</a>/<a href="topics.php?forum=109" >Linux Discussion</a>/<a href="#bottom" >Importing a C++ static library and linking</a><br><br>
<a name="1205571"></a>

<a name="1205572"></a>

<a name="1205581"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I compiled Leadwerks as a Linux static library and am trying to build a BlitzMax application that imports it.  When it gets to the linking phase I get a lot of "undefined reference" for the OpenAL and OpenGL commands.<br><br>I need to import OpenAL, OpenGL, and X11 into my BlitzMax program so the static library can use them.  Simply importing pub.OpenAL doesn't do it.  Does anyone know how to solve this?  Thank you. <br><br></td></tr></table><br>
<a name="1205586"></a>

<a name="1205587"></a>

<a name="1205588"></a>

<a name="1205589"></a>

<a name="1205590"></a>

<a name="1205595"></a>

<a name="1205596"></a>

<a name="1205597"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Never tried using a static library with Blitz Max or including any GL, Openal library, etc statically in my own code as you can never tell what the libraries license allows and I wouldn't want to find that someone want's my code because I statically linked to some GPL library.<br><br>But to link a library you would use Import "-lname.a". The .a is usually associated with static libs. Any Framework that uses the library should come before the Import and Strict should come after any imports.<br>E.G.<pre class=code>Import "-lopenal.a"</pre><br>The  above is an example you will never find any GPL/LGPL library as a static binary  due to license issues. Licenses can be found in /usr/share/doc.<br><br>EDIT: If possible Josh send me some test code. <br><br></td></tr></table><br>
<a name="1205603"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> The OpenAL and OpenGL libraries are shared objects. <br><br></td></tr></table><br>
<a name="1205605"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> OpenAL and OpenGL libraries are shared <br></div>And I take that you have already tried using Import "-lopenal", Import "-lx11".<br>Is the leadwerks lib compiled as 32bit or 64bit? <br><br></td></tr></table><br>
<a name="1205608"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah, you are right, thank you.  On to other issues... <br><br></td></tr></table><br>
<a name="1205990"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> The trick here is to have this code AFTER the library that needs it is imported:<br><pre class=code>Import "-lopenal"</pre> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
