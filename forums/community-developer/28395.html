<!DOCTYPE html><html lang="en" ><head ><title >Tattoo Projection Paint Demo</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Tattoo Projection Paint Demo</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=83" >Developer Stations</a>/<a href="#bottom" >Tattoo Projection Paint Demo</a><br><br>
<a name="298616"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TeraBit</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi all,<br><br>Still working on Tattoo's projection painting.<br><br>I did a little video (&lt;1 Mb) which shows it in action.<br><br><a href="http://www.terabit.nildram.co.uk/prodemo.zip" target="_blank"> Download </a><br><br>If you don't have the CODEC already, it is included in the zip. <br><br>Let me know what you think so far.<br><br>BTW: I'm using a DISCO mapped model with a low resolution (disperate Atlas Mapped with some UVs reversed etc.) texture to show how seams are coped with!)<br><img src="http://www.terabit.nildram.co.uk/tattoo/img/skn.jpg"><img src="http://www.terabit.nildram.co.uk/tattoo/img/man.jpg"> <br><br></td></tr></table><br>
<a name="298618"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wohooo :) Looks great! This has been missing from Tattoo, for too long.<br><br>Why is the paint only updated at the end of the sequence? Can't it be updated in realtime? <br><br></td></tr></table><br>
<a name="298621"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TeraBit</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do you mean the reprojection at the end of the video?<br><br>Unfortunately it take a fair bit of power to reproject the image. Even BodyPaint2 and DeepPaint3D take several seconds to reproject when coming out of projection mode.<br><br>I'm also limited in speed since ReadPixelFast and WritePixelFast are still relatively slow for large images.<br><br>If you mean "Why does each *stroke* appear after it finishes", this is just a 5 fps video, in actual fact the screen refresh is as normal. <br><br></td></tr></table><br>
<a name="298626"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Even BodyPaint2 and DeepPaint3D take several seconds to reproject when coming out of projection mode. <br></div><br><br>Yup... we need faster HW! :) <br><br></td></tr></table><br>
<a name="298628"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TeraBit</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is the problem really. If you take away the 1x scan of the viewport into the Texture using ReadPixel and WritePixel, I can reproject at something like 10-30 Frames Per Second. <br><br>The couple of seconds delay comes from the initial compare of two textures (using the ReadPixel stuff) to look for changes. <br><br></td></tr></table><br>
<a name="298684"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TeraBit</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was thinking of making some other changes to the next release. <br><br>I was thnking of doing away with the 'Solid Brush' and making the first entry on the brush list, a multi purpose configurable airbrush type with dynamic opacity falloff etc. <br><br></td></tr></table><br>
<a name="298747"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >QuickSilva</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> This looks GREAT! Lee, I can`t wait to test drive it :) In response to your last note, I agree with losing the solid brush in favour of the multi purpose airbrush, it makes sense.<br><br>Keep up the great work,<br>Jason. <br><br></td></tr></table><br>
<a name="298876"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Space_guy</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oyy. pls dont take away the only ool i use hehe. the Solidbrush hehe :) <br><br></td></tr></table><br>
<a name="298956"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TeraBit</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> LOL! :) <br><br></td></tr></table><br>
<a name="298984"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> That is very cool man! Nice to see it in action, as i wasn't 100% sure what you meant. :) Can't wait for the next release :D <br><br></td></tr></table><br>
<a name="298989"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tom</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice work!<br>DP3D &amp; BP3D watch out :P <br><br></td></tr></table><br>
<a name="299423"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Panno</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Lee<br>u need a faster read /writepixelfast ?<br>would glad to help <br><br></td></tr></table><br>
<a name="299424"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TeraBit</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi PANNO,<br><br>A lot of Pixel type things are quite slow in blitz. The WritePixelFast stuff and also the CopyRect command for textures and buffers.<br><br>If there was a faster way to do these (which would work also on every target PC) that would be very useful indeed!<br><br>For example<br><pre class=code>
RenderWorld

CopyRect 150,24,vpw,vph,0,0,BackBuffer(),TextureBuffer(fsc)
CopyRect 0,0,vpw,vph,0,0,TextureBuffer(protex),TextureBuffer(fsc3)

For suy = 0 To vph
	For sux = 0 To vpw
		AX = ReadPixelFast(sux,suy,TBFSC)
		BX = ReadPixelFast(sux,suy,TBFSC3)
		If AX&lt;&gt;BX Then 
			WritePixelFast sux,suy,bx,TBFSC 
		Else
			WritePixelFast sux,suy,bx And $00FFFFFF,TBFSC
		EndIf
	Next
Next
</pre><br><br>takes up to two seconds on my reasonably powerful PC! <br><br></td></tr></table><br>
<a name="299426"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Panno</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok i will help !<br>email later ! <br><br></td></tr></table><br>
<a name="300906"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Panno</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> email4u <br><br></td></tr></table><br>
<a name="300985"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TeraBit</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks. I'll take a look :) <br><br></td></tr></table><br>
<a name="301202"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Panno</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> email <br><br></td></tr></table><br>
<a name="301323"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Panno</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> @lee<br><br>memoryswap is to slow to make a fast dll<br><br>the texturetest (your code) <br>need 60 ms here (only the function)<br><br>BUT the memory swapping need 1692 ms<br><br>In this case i have more ms as bb function'S<br>i must swapp the texture 3 times ,grrr<br>if i use memory directly in the dll it's  also slower<br>grrrrrr<br><br>sorry i cant help u in this case <br>Anyone knows a fast way to access imagebuffer ?<br><br>if i use asm  it's not fast<br>if i use rtlmovememory also<br>get bytes from a bb application is slow<br> <br>      ! cld<br>      ! mov esi, src ; bb memory<br>      ! mov edi, dst ; dll memory<br>      ! mov ecx, ln  ;1024*1024*4 <br>      ! shr ecx, 2<br>      ! rep movsd<br>      ! mov ecx, ln<br>      ! and ecx, 3<br>      ! rep movsb            <br><br>this is the fastet memorymove that i know <br>but i get over 1000 ms if src a adress in the bb application<br>is it windows ? <br>i dont know ?<br>hm <br>need i a call for windows or dx that i will use the memory<br><br>Mr. Sibly  u know why ? <br><br></td></tr></table><br>
<a name="301354"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TeraBit</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's been interesting to see how some things can go fast and others seem to be locked down. <br><br>Perhaps it is in the nature of the Direct 3D architecture involved. <br><br>Mark doesn't strike me as someone who would leave it as slow if there wasn't a good reason. <br><br>All I was hoping for in this case, was that customising the movement routine for a specific type of movement (such as copying an entire texture at a time) or accessing a set of pixels where you already know the format. Could be sped up.<br><br>Your efforts have been appreciated, even if they didn't go as far as you would have liked :) <br><br></td></tr></table><br>
<a name="301595"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Panno</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> For suy = 0 To vph<br>	For sux = 0 To vpw<br>		AX = ReadPixelFast(sux,suy,TBFSC)<br>		BX = ReadPixelFast(sux,suy,TBFSC3)<br>		If AX&lt;&gt;BX Then <br>			WritePixelFast sux,suy,bx,TBFSC <br>		Else<br>			WritePixelFast sux,suy,bx And $00FFFFFF,TBFSC<br>		EndIf<br>	Next<br>Next<br><br>this need 69 ms here as a dll function  <br>but the images swapping  is not real fast !<br><br>for the next update i wish a <br>copymemory to bank or copyrect to bank  for b3d <br><br>added later <br>will mutex  or semaphore help me or iam on the wrong way ?<br>edited later <br>forget mutex <br><br>He Marc it'S Cristmas ;) <br><br></td></tr></table><br>
<a name="301627"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> the reason why is when you eighter write or read, assembler is a lot faster than when you do both at the "same time". Instruction cache works much better in that case. So maybe you should push and pop blocks instead of countless single 32 Bit i/o accesses ? <br><br></td></tr></table><br>
<a name="301630"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Panno</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> no jfk not the goal <br><br></td></tr></table><br>
<a name="301646"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> at least this happened when I wrote a 3d engine in FASM. I tried to read the pixel colors before drawing to them, but this reduced the speed by about 4 times. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
