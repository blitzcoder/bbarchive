<!DOCTYPE html><html lang="en" ><head ><title >Anybody interested in a fancy terrain system?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Anybody interested in a fancy terrain system?</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=83" >Developer Stations</a>/<a href="#bottom" >Anybody interested in a fancy terrain system?</a><br><br>
<a name="335802"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skitchy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Depending on the interest (or lack thereof :) shown in this post, I'll either release it or not. I just don't want to spend ages giving it a fancy GUI/manual/website/etc. if nobody really wants it.<br><br>So here's the philosophy :<br>I was thinking about how to put roads and other non-repeating things onto a terrain, and it occured to me that terrains one the whole are very boring. Most of the time you just get different tiled textures based on height with blending in between : snow on the high points, then a bit of rock, then some dirt, and the obligatory grass at ground level.<br>What I then did was come up with a way of using one ENORMOUS square image (bigger than 8192x8192) as the texture. This allows you to just paint a plan view (top down) of the entire area, with as much variation and as many roads, dirt tracks, cobbled streets, quarries, flower beds etc. etc as you want.<br>As for setting the height of any point on the mesh, the system just uses a single enormous greyscale heightmap (lighter pixel=higher land) that is the same size as the texture.<br>The MAJOR advantage with this is that you can have the texture and then draw the heights over the top in your paint program eg. if you had a aerial photograph of your town, you could draw over the flat roads in a single shade of grey. The resulting terrain would have all the roads in exactly the right place, and precisely texture mapped.<br><br>Obviously, using one big texture in a game would be very silly, so I found a way around that - and in the process I kept finding out great things about what I'd just done :<br><br>1) LOD can be *precalculated* by the system and implemented with an *amazingly* simple function in the game code.<br>2) Flat areas are reduced to 2 polygons. Yes, I just said 2. :)<br>3) It complements Blitzs culling system beautifully.<br><br><br>Using it will be like this :<br>1) Load your enormous plan-view image<br>2) Load your heightmap<br>3) Press go<br><br>Loading terrains into Blitz will be something like :<br>t.typeterrain=LoadSkitchyTerrain(filename$,collision_id)<br><br>Updateing the LOD :<br>UpdateTerrainLOD()<br><br>Scaling will require a special function:<br>ScaleSkitchyTerrain(t.typeterrain,x#,y#,z#)<br><br><br>I also have a further idea for a REALLY simple way to put objects such as trees onto the terrain, but I haven't coded it yet (would take all of 5 minutes) ;)<br><br>So, what do you think? <br><br></td></tr></table><br>
<a name="335866"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sir Felgar</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would be interested - providing the performance is good enough! Is the required LOD customisable like Blitz terrains? <br><br>I assume you are splitting the terrain mesh into tiles with appropriate LOD, but what about the texture image? 8192 x 8192 would require almost 200MB of texture memory(!), are you dynamically streaming chunks of this in realtime? <br><br></td></tr></table><br>
<a name="335906"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SabataRH</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think it's a great idea.. Just had a test with blitz's terrain system and found they are very crippling to the overall preformace.. A system such as your proposal would be welcomed! if it proved to outdo the native terrains in blitz. :) <br><br></td></tr></table><br>
<a name="335932"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skitchy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'll sort out a demo :) <br><br></td></tr></table><br>
<a name="335960"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SabataRH</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Skitchy, i couldnt find an email addy for you.. Email me please I have an idea I'd like to discuss with you.. :) <br><br></td></tr></table><br>
<a name="335991"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ashmantle</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Anyway if you're using such big textures, it will take diskspace anyways.. and how would this effect download size? ^^<br><br>I would much rather like a tiled-texture terrain using vertex alpha to blend between different textures. <br><br></td></tr></table><br>
<a name="336024"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >NobodyInParticular</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would probably be very interested in such a system... <br><br></td></tr></table><br>
<a name="336066"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wmaass</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'd love it for creating golf courses. Go for it. <br><br></td></tr></table><br>
<a name="336087"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skitchy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> My e-mail is :<br>skitchy@...<br><br>I was thinking of perhaps integrating it with some kind of tree system, and I must say I was quite impressed by TreeD :)<br><br>@AshMantle : This isn't really the kind of feature that would ever be disk-space friendly. More detail=more bytes ;) Having said that though, there is no need to include the heightmap in the finished game, and the textures can be as compressed as you like - I'm saving as .bmp for now but I might include .png as well if it goes public. From there you can batch convert to whatever you want :) <br><br></td></tr></table><br>
<a name="336177"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Doggie</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have to see the demo. Do you get better resolution so grass looks like grass instead of just a green color? If it improves the overall appearance of the terrains resolution, makes them look more detailed and thus more lifelike, then bring it on. <br><br></td></tr></table><br>
<a name="336189"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sounds promising. ;) But, like Sir Felgar, I'd like to know how such a huge texture is managed re: video mem. I'm not too worried about disk space, though. <br><br></td></tr></table><br>
<a name="336291"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Forbidden</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sounds Great.  .. Need to see a demo, I been working on this for a long time, I tryed to make large pictures and place them ontop of terrain.  I then crashed photoshop about 10 times. =( <br><br></td></tr></table><br>
<a name="336441"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> My own terrain system isn't very popular.  It'll have to be better than my LOD based terrains to have any hope of selling.  I considered writing a better system, but considering the weak reception fo the one I have now, which ain't too bad, I'm hesitant to create another. <br><br></td></tr></table><br>
<a name="336472"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I been working on this for a long time, I tryed to make large pictures and place them ontop of terrain. I then crashed photoshop about 10 times. <br></div><br><br>Yeah, I was kinda wondering how you make an 8192x8192 image as well, because Photoshop spent about 20 minutes rattling the hard drive before finally giving up and dying when I tried to save one. And that's with a gig of ram, 100 gig of free space on a fast hard drive. <br><br></td></tr></table><br>
<a name="336499"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nacra</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, maybe the source heightmaps and textures could be broken up into tiles, just to make the development easier.  But Skitchy must have built these large images already.  <br><br>And I'm also pretty interested in a system like this.  I'd like to build detailed, static terrain just like Skitchy describes.  Aerial photos?  Yeah!<br><br><br>Paul <br><br></td></tr></table><br>
<a name="336528"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skitchy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, the 8192 textures weren't a problem to make. I used ULead PhotoImpact (from a cover disc!). Thing is though that they seem to crash Blitz on about 9/10 tries :(<br>4096x4096 is fine though - works every time.<br><br>I'm pretty sure it must be a (lack of) memory issue. You can still make an enormous terrain with a 4096 image though, so it doesn't really matter. Sorry - I didn't intentionally mean to mislead anybody but this thing is in *VERY* early development so specs change as I experiment with it. :)<br><br>Thanks for the insight SSwift - I didn't know you'd already written a terrin system. I'll have a look - if it's better than mine I might just buy it :) <br><br></td></tr></table><br>
<a name="336548"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> 8192x8192 = 67 million pixels, 268 million bytes in a 24 bit image with alpha. <br><br></td></tr></table><br>
<a name="336560"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ricky Smith</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> @sswift - I really like your terrain system - the only reason I havent bought it yet is I havent got to the stage in a project where I need it. It could well be that many people are in the same sort of situation - the same goes for your shadow system - its a definite buy for the near future so I hope you keep on producing these really great libraries and in the long run I'm sure you'll find you sell loads. <br><br></td></tr></table><br>
<a name="336567"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) sinu</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> gimme gimme gimme :)<br>seriously though, i'd like a tool like that. <br><br></td></tr></table><br>
<a name="338288"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Micha</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sounds good :)<br><br>I´ve played around with Blitz Terrains but what i really need is a highly detailled Terrain, that´s almost infinte.<br>Well not infinite , but much larger than blitz Terrains can be. <br><br>@sswift  i downloaded your demo and was impressed by it.<br>But as Smiff i´m also at a point where i play around with other things and have no really a need for implemeting a large landscape right now. Will come to that point when every other parts of the game are working :) <br><br></td></tr></table><br>
<a name="338338"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Al Mackey</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> hmmm, I've got a question..  Will it have a way to make a terrain that has more than 8 bits of detail, height-wise?  For a game I'm planning, I need terrains that can have fine detail, but also realisticly high peaks for mountains.  There's too much stepping with 8-bit terrains when the height difference is that great.  I've been suffering through Blitz's internal Terrains, and I've looked at Sswift's system as well, but I was already planning on making my own.  If yours won't do more than 8 bits of percision, I'd at least be interested in seeing your precaluclated LOD code. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
