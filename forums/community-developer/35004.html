<!DOCTYPE html><html lang="en" ><head ><title >Mesh tool request</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Mesh tool request</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=83" >Developer Stations</a>/<a href="#bottom" >Mesh tool request</a><br><br>
<a name="379790"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ZombieWoof</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm looking for a tool that will take a 3ds/x/b3d mesh, and output 2 b3d meshes, an exterior and interior mesh. Say for instance a building with one or more rooms, produce a mesh that is just the building exterior with all textures &amp; materials intact, and the same again for the inside of the building. The idea being that the interior will be hidden until the player enters the building.<br><br>I know this can be done by hand, but I would like to automate the processing of props from my artists as there will be a substantial number of buildings done this way. <br><br></td></tr></table><br>
<a name="380107"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> how would you do that? checking the visibility of the interior things from outside? but what if thins can be seen trough windows, doors etc?<br>Maybe it wouldn't be that hard to quickly run trough the levels an "shoot" everything, that should be inside, so it can be stored in a list. <br><br></td></tr></table><br>
<a name="380367"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ZombieWoof</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would be happy at 1st cut with code that takes the normal of a face, shoots a ray from the center and each vertex of the face along the normal, and marks it "exterior" if all the rays tested intersect no other polys of the model.<br><br>Not 100% accurate, but a good starting point if you accept the restriction that you cant see through windows/doors until you open/pass through them. A more accurate but more time consuming method would be to test if the rays cross the plane of any polys in the model.<br><br>My artists are creating insanely complex buildings that will be placed as props on a terrain, want to seperate interior and exterior so I can alpha out the interior until the player enters a building.<br><br>I'd like source code too, so I can add on features as I come up with them. I'll even agree that any derivative works will be released free to the community :)<br><br>Edit: I've been catching up on the portal / occlusion / visibility discussions and just got your csp_vis code to look at. That may be enough to get me started on doing what I want for myself. <br><br>In fact -- it has me thinking about doing an automatic portal detection system using the color codes to indicate depth along the camera view axis. will take multiple passes, one for each angle checked. using flat projection and scaning the 2D limits of the bounding box normal to the camera view vector, you can test if adjacent pixels have radically different colors, which would indicate a portal. <br><br>Have to think about this more :) such as what color to assign for surfaces at an angle, and some way to optimize moving "through" the mesh to catch interior portals without having to scan every point of a fixed grid. (besides the fact that this likely should be in a thread on its own if it has any merit at all) <br><br></td></tr></table><br>
<a name="380609"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ZombieWoof</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sleeping on it worked :)<br><br>only do the view vectors that are normal to a face in the mesh.... i.e. scan each surface for portals using ICU... when you get that color change, it shouldnt be hard to figure the verts that bound the color change and create a clockwise list of verts to be the portal.<br><br>create a box larger than the bounding box of the mesh, and place the mesh in it for this test -- set it to a specific unique color (all faces of it).. any portal that shows this color leads "outside" and can be ignored (will never do portal operations on whats beyond that portal since we cant know what will be past that portal at this stage of processing). <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
