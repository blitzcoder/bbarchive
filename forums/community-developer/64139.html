<!DOCTYPE html><html lang="en" ><head ><title >custom loader in Gile[s]</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >custom loader in Gile[s]</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=83" >Developer Stations</a>/<a href="#bottom" >custom loader in Gile[s]</a><br><br>
<a name="715758"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey, i was wondering if Gile[s] supported some sort of script, so i could load in a level saved in my own format. The reason being i have an editor, and it's easy to position and rotate items and such. But, i would like to lightmap them when i'm done. Does Gile[s] have this functionality? <br><br></td></tr></table><br>
<a name="716111"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey I need the same thing. Giles has a plugin folder and will load all DLLS found inside. DLLs must be written following some specs. I hate this. So I'd rather write a little import script myself. I think it will be most easy to use the giles file format to declare meshes and a number of lights.<br><br>I have to say and I hope Fredborg doesn't mind - I really don't like the interface. It usually takes me a year or so to position a single light. So I'd like to write a little tool that will convert my level editor files to something giles can read. <br><br></td></tr></table><br>
<a name="716137"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey, i'm glad to see someone else has the same issue :o) Great for lightmapping. Not much on positioning though :o) I was tinking with the idea of trying to get a save .b3d working, that would svae everything as the one scene and try and import it to Gile[s]. <br><br></td></tr></table><br>
<a name="716175"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, I thought the same too. I probably will edit the SlimShady source so it will allow to use/apply/save masked and alpha textures, plus some additional things that are required, eg. ScaleTexture etc.<br><br>A lot of work. However, if I can manage the SaveB3D code to work with all kinds of meshes (includes hacking of brush properties etc.) then I'll let you know.<br><br>I also wonder if giles will create a light when there's a light object in the scene. I'll test this asap with a 3ds scene file that includes a light. And if it work, how would i have to do that with a b3d file? <br><br></td></tr></table><br>
<a name="716320"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>Please feel free to suggest any improvements in the positioning of lights and stuff.<br><br>You can load lights from a B3D file if you follow the guidelines given in the gile[s] manual (see the exporting section). gile[s] will load lights from 3ds, ase, and some other file formats as well. <br><br></td></tr></table><br>
<a name="716362"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Fredborg. Thanks for your help. I've seen 3ds lights can be imported. <br><br>Do I get this right, gile[s] will save light properties in the model name of a pivot? So names may include line breaks? I have no idea, are they enclosed in ""? I even don't know how to save a pivot in a B3D file.<br><br>The B3D docs I got only refer to meshes, brushes, textures.<br><br>The user interface of gile[s] is powerful, but I found it not very intuitive. I have the choice to: A read the entire docs first or B try a lot of buttons and things. As I said, I'm not very patient. I also am not familar with the graph system you're using, I guess this is something common?<br><br>Probably it's only me. I also often make the mistake to try to learn how to handle a tool with a way to big mesh loaded, so every little test takes ages. It's really my mistake. Personally I would like a real flytrough first person camera mode that allows to click meshes or light dummies to open their properties panel, including position, scale, rotation etc. clicking the numeric values should activate a virtual scrollbar that allows to alter the values. Well that's the system I use in my editor, so no surprise I like it :o)<br><br>If such a properties panel needs to be closed by a click on a close button or the X-Button - what a waste of time. I'd rather suggest the panel should be opened and closed by a single click, eg. rmb.<br><br>The user should also be able to load a mesh at the current camera position at any time.<br><br>Basicly, most important is the speed. one click good, two clicks nice, 20 clicks for a single action: bad. (Not saying this is so in gile[s]).<br><br>You see, this is kind of "my world", it may be hard to add to an app with Standard controls. <br><br></td></tr></table><br>
<a name="716381"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>Yes, lights are saved as pivots with extra info in the name. In a b3d file a pivot is saved the same as a mesh, just without the 'MESH' chunk :) So basically just a node with position, rotation, scale etc.<br><br>So let's say you save a pivot with this name in your b3d file:<pre class=code>bob
[LIGHT]
Omni
1.0
0.5
0.0
1.0
1.0
1000.0
0.0
80.0
1
1
0
0
[/LIGHT]</pre>gile[s] would load this as a light named 'bob' which is an omni light with an orange color, an intensity of 1.0, ranges 1.0-1000.0, innercone/outercone are ignored for omni lights, it's active, it casts shadows, it's not infinite and overshoot is ignored for omni lights.<br><br>It's very simple, just seperate each parameter by a line feed (Chr(10) in Blitz3D). <br><br></td></tr></table><br>
<a name="716392"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks a lot! Probably I'll try to write a DLL in PureBasic. I got an older version only, will this work too? (v 3.3)<br><br>My Level editor allows to load and position etc. a number of meshes.<br><br>So I could add a gile[s] flag to each object that will tell the gile[s] import DLL if it has to merge a certain mesh or light. Indeed an importer for my engines native format would be great.<br><br>Tho, for me who is completely unfamilar with PureBasic it would be WAY easier if there was some kind of standard import macro format, eg:<br><br>path<br>name<br>x<br>y<br>z<br>pitch<br>yaw<br>roll<br>tex1<br>tex2<br>...<br><br>And so on. Basicly a list of lists of all to be wrapped parameters of the objects of a scene. All world editors out there would then be easily capable of converting their save format to such a macro list. Only a suggestion, tho I confess it would be very useful for me.<br><br>EDIT - of course, it may be an option to use the B3D format right away. Although, I found it always a little tricky to make things work. Additionally, there are some diffrences in the ways blitz3D and giles are loading B3D. I remember one of my editors saved a map as B3D that was looking ok when loaded in BLitz3D, but the UVs were messed up in giles. This may have something to do with the fact that I used UV values greater than 1.0 to achieve texture tiling. <br><br></td></tr></table><br>
<a name="716893"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have just realized: it isn't all so easy. Because in a game most things that are using masked textures, eg. fences, grass etc. have to be unpickable to allow the player to shoot trough, as well as the enemies to linepick trough (see the player behind the fence etc.) So these masked things need to be saved as a seperate mesh. It would be useful if I could group things in giles and then save the lightmapped result as several mehses, depending on their group membership. I know I should RTFM, but - are groups yet possible somehow? <br><br></td></tr></table><br>
<a name="717290"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh and BTW, I need to load the mesh(es) as static meshes, using LoadMesh. So it's no option for me to use LoadAnimMesh and then parse the childrens entity names. This would force me to completely restructure a big lot of things. Ok maybe a bad design. But it's the way it is, and worked for me so far. I also think the handling is faster, since it doesn't require to apply everything recursively to the map mesh. <br><br>Right now I don't see possibilities for groups in giles, other than to use certain string tags in texture names that would allow to create partial clone meshes with individual settings (pickabilitiy etc. as mentioned before) in the game engine level loading process. Pretty complicated IMHO. <br><br></td></tr></table><br>
<a name="717662"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok ok ok, shame on me. Of course you can group things in gile[s].<br><br>There are the "group selected" and "ungroup selected" functions in the edit menu. This works nicely. Tho, if you got a lot of little merged objects, you may wish to be able to add or remove a certain mesh from a group with the help of some kind of a simple group membership manager. (I wouldn't be surprised if this is already implemented and I only didn't see it).<br><br>The more I use gile[s], the more respect I get cause this is really a top application. Its huge amount of features only requires to take some time to learn the basics.<br><br>So please excuse me if I was kind of negative. <br><br></td></tr></table><br>
<a name="717663"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> From the manual:<div class="quote"> <b>Hierachy</b><br><br>If a model has children, an arrow is shown next to the eye icon and a tree branch shows which models are children of that model. You can hide the children of a model (in the list only) by clicking on the arrow, and show them again by clicking once more.<br><br>To modify the hierachy of models, click on a model in the list and keep the mouse button pressed, while dragging the model onto another model.<br><br>If you release a model on top of it self, no changes will be made.<br><br>If you release a model on top of it's parent, the model (and it's children) will be detached completely from any parent model. If you are dragging a model over it's parent, you will see the parent model highlighted in red.<br><br>Releasing the model on any other model, will make that model the parent of the selected model. This is indicated by the model being highlighted in green. <br></div> <br><br></td></tr></table><br>
<a name="721975"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey Fredbord. Any chance of implementing a simple text scripting, for loading say meshes in? For example, say i save the positions, rotations and scale... to a text file.<br><br>Is there any chance you could implement a simple script engine to allow the use of positionmesh, scale mesh, load mesh.. etc..<br><br>For example:<br><br>TEXT FILE<br><br>LOADMESH("model.b3d")<br>POSITIONENTITY 30,30,30<br>SCALEENTITY 2,2,2<br><br>LOADMESH("model1.b3d")<br>POSITIONENTITY 30,30,30<br>SCALEENTITY 1,2,1<br><br><br>Something very simple, that will allow people to save their level easily, and import it into Gile[s]. Most people who make their own editors, would tend to save it to an easy format like a text file, holding positions and such anyway. <br><br></td></tr></table><br>
<a name="725242"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >D4NM4N</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would find this useful too, to have an option to allow users of ted to use the internal lm (prop2terrain) and lightmap just the props using Giles as an external app.<br><br>Would be great if it could batch process read and write a list ie. with:<br><br>[Light info]<br> type position rot etc,<br>[/light info]<br><br>[mesh load filenames]<br> list of filenames position rotation scale..<br>[/mesh load filenames]<br><br><br><br>Then giles could:<br><pre class=code>
setuplights()

choose to merge all objects or load separately(batch)
repeat
   load or merge respectively and position next mesh in list 
   lightmap it
   save it again lightmapped with mabe the file prefix "GileLM_"
until end of list
</pre><br>exit when done<br><br>This could also turn giles into a kind of batch processor for either doing loads of scenes in one go, or lightmapping individual meshes in a scene onto each other without making an actual scene out of them. <br><br></td></tr></table><br>
<a name="726111"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> good point. This way you can shoot lightbulbs to darken a single room (by replacing its lightmap dynamicly). <br><br></td></tr></table><br>
<a name="740785"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ice9</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would like to see something like this also. It would<br>allow you to put it in just about any pipeline. <br><br></td></tr></table><br>
<a name="740900"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >D4NM4N</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> What would be cool is if you could load in custom properties from an imported meshes name (in the format it exports)<br><br>also, if a mesh or pivot has a certain custom properties it will appear as a light in giles<br>ie:<br>class=light<br>color=rgb<br>range=etc etc etc<br><br>This would make it kind of I/O pipelineable with other worldeditors. <br><br></td></tr></table><br>
<a name="741035"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> can I suggest that you put these suggestions on the gile[s] forum? <a href="http://www.frecle.net/forum/" target="_blank">http://www.frecle.net/forum/</a> <br><br></td></tr></table><br>
<a name="743373"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> As Fredborg said, you can import lights with relative ease.<br><br>Simply grab the SaveB3D code from the archives, remove everything but the NODE writing part. Write a NODE for every light, using an entityname like this:<br>bob<br>[LIGHT]<br>OMNI<br>255<br>255<br>255<br>1.0<br>1.0<br>1000.0<br>0.0<br>80.0<br>1<br>1<br>0<br>0<br>[/LIGHT]<br>For a description of the parameters read Fredborgs post in this thread. Note: RGB isn't 0 to 1.0 as he said, but 0 to 255. The parameters must be seperated by a linebreak ( CHR$(10) ).<br><br>I just added an export for giles function to slimshady, so I can use its fast workflow to drop a number of lights and stuff, then export as mesh with giles compatible lights, then import it in giles as a scene or merge its light to an already loaded scene.<br><br>One thing that I'm missing in Giles is copy/paste at camera position. Altough CREATE will create a light at the camera position when the 3D window is active, using ctrl-v (clone) will only clone the currently selected object - and position it at its "genetic origin" location. This complicates things and prevents me from dropping lights while flying around. If you got to model a dozen or so maps then every saved hour counts. And the diffrence is huge. I add 20 LIghts in a few minutes in slimshady, where I needs hours for the same job in giles. Of course, probably also because I'm not familar with the interface and the shortcuts. Slimshadys interaction is much simpler, but also more intuitive. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
