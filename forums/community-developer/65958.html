<!DOCTYPE html><html lang="en" ><head ><title >Molebox problem with copyfile</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Molebox problem with copyfile</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=83" >Developer Stations</a>/<a href="#bottom" >Molebox problem with copyfile</a><br><br>
<a name="736932"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is really strange, Copyfile worked some time ago, but right now it seems to fail for some unknown reason.<br><br>I have tested it several times, it really seems it's molebox. I even tried to read the file to a bank, then save it as a second file instead, THis works and may be a work around. Noless, it used to work with copyfile (copy a packed file to the harddrive) some time ago, so what's up?!? <br><br></td></tr></table><br>
<a name="737389"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WendellM</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just tried a tiny test program in BlitzMax 1.22 (haven't updated yet):<br><pre class=code>CopyFile "1.txt", "2.txt"</pre>with MoleBox Pro 2.5.12 (just noticed that I need to update this, too &lt;g&gt;).  I tried this once where "1.txt" was in the same folder as the MoleBoxed .exe but wasn't included in its archive, and once where it was included in the package but wasn't in the folder outside the package.  CopyFile created a copied "2.txt" both times.<br><br>I then tried the same program in Blitz3D 1.98 and it worked with "1.txt" in the folder but <i>not</i> where it was packed instead of in the archive (which sounds like what you're describing).  <br><br>I also tried using uppercase filenames (I once had problem with MoleBox converting ReadLine-ed text to all-uppercase, though that particular issue was fixed in a MoleBox update).  It still didn't work in the B3D version, while it still worked in the BlitzMax version (and uppercased the copied filename correctly).<br><br>Neither using a separate data section nor changing "Make packed files visible for standard OpenFile dialog" made any difference in the B3D version.  Neither did using a debug build in B3D.<br><br>So, it does look like while BlitzMax's CopyFile works with MoleBox, Blitz3D's version currently doesn't.  If you contact March on the <a href="http://devforum.teggo.com/viewforum.php?f=2" target="_blank">http://devforum.teggo.com/viewforum.php?f=2</a> forum, they might be able to fix this with a MoleBox update like that which fixed my B3D uppercase text file problem. <br><br></td></tr></table><br>
<a name="737445"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's an old (9. juni 2005) Molebox support answer I got on this: <br><div class="quote"> &gt; The reason of this behavior is that MoleBox does not intercept<br>&gt; system function 'CopyFileA()' used by Blitz Basic's CopyFile command.<br>&gt;<br>&gt; If necessary, you can copy the contents of a text file using a<br>&gt; sequence of commands instead of single CopyFile command. You'll have<br>&gt; to create an empty file, read the contents of the original file, and<br>&gt; write the data to the new file.<br>&gt;<br>&gt; Please note that you may also need to use absolute file names in a<br>&gt; Blitz Basic program which will be moleboxed. For example, instead of<br>&gt; "original.txt" file name, you have to use (AppDir + "original.txt"),<br>&gt; where AppDir is a string path for the application directory - I'm not<br>&gt; sure for the syntax. <br></div> <br><br></td></tr></table><br>
<a name="737541"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok ,thanks. The strange part is, I got this implemented in an app that was compiled with blitz3D 1.98 some months ago and then it used to work! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
