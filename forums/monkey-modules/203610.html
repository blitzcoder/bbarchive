<!DOCTYPE html><html lang="en" ><head ><title >wxMonkey</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >wxMonkey</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=524" >User Modules</a>/<a href="#bottom" >wxMonkey</a><br><br>
<a name="2076391"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> wxMonkey v0.12<br>-------------<br>a binding of wxWidgets to monkey<br><br>download:<br><a href="https://github.com/adamredwoods/wxMonkey" target="_blank">https://github.com/adamredwoods/wxMonkey</a><br><br><br>**CURRENTLY HIGHLY EXPERIMENTAL**<br>- full libraries are not available, currently in a testing and growth phase.<br>- currently only windows with mingw, Mac osx with Xcode<br><br>TO DO:<br>- get mojo and opengl working<br><br>To install, you must be able to create a new target comfortably:<br>..WINDOWS..<br>1. download and build wxwidgets (2.8.12) as a static library (recommend non-monolithic + opengl + non-debug switches)<br>2. remember location of build and include files<br>3. copy targets/wxmonkey folder to your local monkey/targets folder<br>4. copy transcc/builders/wxmonkey.monkey to your local src/transcc/builders/ folder<br>5. rebuild src/transcc, and copy to monkey/bin folder (use the C++_STD TOOL)<br>6. edit targets/wxmonkey/template/CONFIG.MONKEY, make sure the paths in CONFIG point to wxWidgets paths for include, mingw (or compiler stdlibs), and wx static libs<br>7. compile minimal example<br><br>..OSX (10.6+)..<br>1. download and build wxwidgets (2.8.12) as a static library (recommend non-monolithic + opengl + non-debug switches, arch i386 no x64)<br>2. remember location of build and include files<br>3. copy targets/wxmonkey folder to your local monkey/targets folder 3b. copy xcode folder to monkey/targets/wxmonkey folder<br>4. copy transcc/builders/wxmonkey.monkey to your local src/transcc/builders/ folder<br>5. rebuild src/transcc, and copy to monkey/bin folder (use the C++_STD TOOL)<br>6. rebuild src/trans, and copy to monkey/bin folder<br>7. edit targets/wxmonkey/template/CONFIG.MONKEY, make sure the paths in CONFIG point to wxWidgets paths for include, and wx static libs<br>8. compile minimal example again<br><br><br><img src="http://i295.photobucket.com/albums/mm144/adamredwoods/wxmonkey_minimal_1.gif"><br><img src="http://i295.photobucket.com/albums/mm144/adamredwoods/wxmonkey_mac_ss.jpg"> <br><br></td></tr></table><br>
<a name="2048542"></a>

<a name="2048541"></a>

<a name="2048215"></a>

<a name="2048216"></a>

<a name="2042195"></a>

<a name="2038624"></a>

<a name="2038608"></a>

<a name="2038561"></a>

<a name="2038567"></a>

<a name="2038568"></a>

<a name="2038505"></a>

<a name="2038510"></a>

<a name="2038512"></a>

<a name="2039029"></a>

<a name="2039030"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> there's also a bitmap_example which shows:<br>- file dialog to load a JPG<br>- displays JPG<br>- timer that executes every one second (prints one second)<br>- buttons<br>- file menu<br>- text input<br><br>...also to compile wxWidgets, i just used<br><b>mingw32-make -f makefile.gcc BUILD=release USE_OPENGL=1 CFLAGS=-DwxUSE_GLCANVAS</b> <br><br></td></tr></table><br>
<a name="2038506"></a>

<a name="2038507"></a>

<a name="2038508"></a>

<a name="2038509"></a>

<a name="2038511"></a>

<a name="2038514"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Don't forget that your CC_OPTS changes are in monkey-ext too.  That might be easier for some people than configuring and building trans. <br><br></td></tr></table><br>
<a name="2038535"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Don't forget that your CC_OPTS changes are in monkey-ext too. <br></div><br>I also do some crazy things by extending cppTranslator, which I stuck in the stdcpp target, so it needs to be created. That's why I replaced stdcpp (which does not effect anything else) so people don't have to mess with configuring targets.monkey. <br><br></td></tr></table><br>
<a name="2038539"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> velly nice, <br><br></td></tr></table><br>
<a name="2038649"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> update for Mac OSX version.<br><br>modifies the stdcpp target, and uses an xcode project to create the app bundle.<br><br>Install for OSX(10.6+)<br><br>1. download and build wxwidgets (2.8.12) as a static library (recommend non-monolithic + opengl + non-debug switches, arch i386 no x64)<br>2. remember location of build and include files<br>3. copy targets/stdcpp.monkey to your local monkey/src/trans/targets folder<br>4. copy xcode folder to monkey/targets/stdcpp folder<br>5. rebuild src/trans, and copy to monkey/bin folder<br>6. build the minimal app example... it will fail<br>7. go inside the .build folder and edit CONFIG.TXT. add the new CC_OPTS from the provided CONFIG_OSX.TXT file.<br>8. make sure the paths in CONFIG point to wxWidgets paths for include, and wx static libs<br>9. compile minimal example again, and should be successful<br><br><br>To build the OSX wxWidgets (wxMac) library I used:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
arch_flags="-arch i386"

./configure CFLAGS="$arch_flags" CXXFLAGS="$arch_flags" CPPFLAGS="$arch_flags" LDFLAGS="$arch_flags" OBJCFLAGS="$arch_flags" OBJCXXFLAGS="$arch_flags" --disable-shared --with-opengl --with-macosx-sdk=/Developer/SDKs/MacOSX10.5.sdk --with-macosx-version-min=10.5

make
</textarea><br>If you don't have 10.5sdk, use your version.<br><br>It could be possible to use the wx 2.9 version and create x64 Cocoa version. I haven't tried yet. <br><br></td></tr></table><br>
<a name="2038570"></a>

<a name="2038571"></a>

<a name="2038572"></a>

<a name="2038573"></a>

<a name="2038574"></a>

<a name="2038575"></a>

<a name="2038576"></a>

<a name="2039472"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Qcat</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very Very Nice <br><br></td></tr></table><br>
<a name="2039609"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shinkiro1</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> That looks really nice <br><br></td></tr></table><br>
<a name="2044169"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> How is this project working with the new target system? <br><br>Looking for a nice way to make a simple crossplatform desktop-app - would be awesome to do it in Monkey. Seems wx is the way to go. <br><br></td></tr></table><br>
<a name="2044182"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I haven't tried the new target system, but shouldn't be a problem. I also managed to get some of mojo working on wx, but still had some odd problems that need to get sorted out first. <br><br></td></tr></table><br>
<a name="2044270"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >julesd</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Will wxmonkey work with minib3d? <br><br></td></tr></table><br>
<a name="2044278"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> not yet (i tried). i am waiting for monkeyV67 and then I will try again. <br><br></td></tr></table><br>
<a name="2048222"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> updated for monkey v67<br><a href="https://github.com/adamredwoods/wxMonkey" target="_blank">https://github.com/adamredwoods/wxMonkey</a><br><br>still trying to get mojo to work, but otherwise works ok...<br><br>EDIT:<br><br>I'm starting to get Mojo working on this. more to come. <br><br></td></tr></table><br>
<a name="2048171"></a>

<a name="2048419"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Qcat</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sounds Good! <br><br>Will you be including A build of wxwidgets with the final target has i can not figger out how to build it to be honest. <br><br></td></tr></table><br>
<a name="2048420"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> How you handle Garbage Collection? currently non mojo c++ targets don't collect garbage, they just keep garbage growing and growing and it's never collected. I'm very interested on this for other projects I have in mind (like a SDL monkey target, or any third party 3D engine, etc, etc.) <br><br></td></tr></table><br>
<a name="2048488"></a>

<a name="2048489"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> How you handle Garbage Collection? <br></div><br>I wrote a quick tutorial:<br><a href="http://monkeycoder.co.nz/Community/posts.php?topic=4105" target="_blank">http://monkeycoder.co.nz/Community/posts.php?topic=4105</a><br><br>In wxApps, i call the gc_collect using a wxTimer whenever the application's main window wxIDLE is called. I tried doing it every one second, but the GC was destroying modal windows.<br><br><div class="quote"> Will you be including A build of wxwidgets with the final target has i can not figger out how to build it to be honest. <br></div><br>I can.<br><br>I've also successfully gotten Mojo to work, but miniB3D is crashing hard. not sure why... <br><br></td></tr></table><br>
<a name="2048526"></a>

<a name="2048528"></a>

<a name="2048529"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Couldn't it be a good idea to make a stdcpp target (that can be extended) that uses one of the avaiables Boehm Demers Weiser garbage collectors for C++? I think this would allow us to create very nice user targets for Monkey, without having to mess with the mojo-dependant GC on C++ based targets. <br><br></td></tr></table><br>
<a name="2048539"></a>

<a name="2048540"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Couldn't it be a good idea to make a stdcpp target <br></div><br>exactly what i am doing.<br>wxMonkey can be used with or without mojo. this is due to the new monkeyV67 changes.<br><br>EDIT: Updated wxMonkey instructions to clarify. <br><br></td></tr></table><br>
<a name="2048544"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> So you've create a base stdcpp target with a proper garbage collector? <br>I love you. <br><br></td></tr></table><br>
<a name="2048548"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> with a proper garbage collector <br></div><br>don't give me your love yet, i'm using Mark's, which is a mark-sweep. it's what monkey uses, but is not a part of mojo.<br>is there a dire need for a better GC? <br><br></td></tr></table><br>
<a name="2048680"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> is there a dire need for a better GC?  <br></div>Yes. I'm not 100% sure on this, but as far as I know current GC does not collect automatically depending on memory presure. Instead it has to be manually called. In mojo it's called from within the app driver (after OnRender, OnUpdate, etc.) so it's transparent on glfw and it works, but on other potential targets it has to be called from the native part.<br><br>If I don't misunderstand, you're calling it using a timer on wxWidgets. That's all nice and should work most of the time but, how can you balance if the timer interval is short or long enough to collect all possible garbage generated in the interval, even if the device is too fast or too slow, or it has tones of RAM or not? Then, what happens it the eventqueue is manually processed in the middle of method or function? any local variable could be potentially collected while still "alive", introducing a mem access violation. (maybe I'm missing something?) As far as I know, local variables are not took into account on current Mark GC design.<br><br>This GC is designed to be realtime fast on games and that's a godsend that makes Monkey wonderful when used with Mojo, but it makes it almost unusable to create mojo-less targets that are not always driverbased. I was planing on creating a SDL target and I abandoned it just becouse of this same issue. Also I've paused my Harpl project (temporary) becouse of the same reason. <br><br></td></tr></table><br>
<a name="2048679"></a>

<a name="2048793"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Then, what happens it the eventqueue is manually processed in the middle of method or function? <br></div><br>good points, but to put a new GC in would mean i would have to rewrite most of Monkey lang.cpp since monkey strings and arrays are calling the GC directly. it might be easier to modify the current GC.<br><br>i'll have to look into this when i have more free time. <br><br></td></tr></table><br>
<a name="2059010"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> @AdamRedwoods, it seems that mark is adding a proper generational GC to c++ target (nothing confirmed, but taking a look to github, it looks like it's on its way!) That super good news for this module (and for potential users like me).<br>It seems you'll have to add a #GC_MODE=2 to enable the Garbage collector to meka a generational collection with a threshold of 8 MegaBytes if I don't get it wrong. It seems to be on the current in-development v71 of Monkey.<br><br>I hope it gets promoted to official, as my Harpl language compiler and VM suffers from the same problem <br><br></td></tr></table><br>
<a name="2059095"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> right on, dude!<br><div class="quote"> <br>// GC mode:<br>//<br>// 0 = disabled<br>// 1 = Full GC every OnUpdate<br>// 2 = Incremental GC every OnUpdate<br>// 3 = Incremental GC every allocation<br>//<br> <br></div> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
