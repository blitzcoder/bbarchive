<!DOCTYPE html><html lang="en" ><head ><title >Diddy - An Open Source Framework - Part 8</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Diddy - An Open Source Framework - Part 8</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=524" >User Modules</a>/<a href="#bottom" >Diddy - An Open Source Framework - Part 8</a><br><br>
<a name="2100608"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thread continued from <a href="http://monkey-x.com/Community/posts.php?topic=4589" target="_blank">here</a>...<br><div class="quote"> An Open Source Framework that includes a set of extra functions and APIs for the Monkey language.<br><br>Diddy includes the following modules:<br><br>* Easy to use Screen based framework<br>* Sprite class<br>* Resource managers for sounds and images<br>* A* Path finding<br>* XML parser<br>* Asserts<br>* Serialization<br>* Particles<br>* Containers<br>* Tweening<br>* GUI (Buttons, Sliders, Windows) <br>* Base64 encoding/decoding <br>* Tile Engine (Using the Tiled Map Editor)<br>* ..and more <br></div><br><br>Diddy has moved to GitHub!<br><a href="https://github.com/swoolcock/diddy" target="_blank">https://github.com/swoolcock/diddy</a> <br><br></td></tr></table><br>
<a name="2083959"></a>

<a name="2083958"></a>

<a name="2083960"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Reserved. <br><br></td></tr></table><br>
<a name="2085082"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Storyboard now uses a &lt;resources&gt; tag in the xml file rather than accessing the framework GameImages.  This allows you to use storyboards without using the screen framework.<br>Added an extra example that shows how to do this. <br><br></td></tr></table><br>
<a name="2085658"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dylan at sea</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Samah, apologies if you've answered this before, but I just came back to Monkey after being away for a long time, and I didn't find any updates. In any case, I'm wondering whether you'll be able to add threading (coroutine) support for winrt/xna targets. <br><br></td></tr></table><br>
<a name="2085664"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> XNA shouldn't be too hard to do, I just need to search MSDN etc. for how to implement C# threading.  I have no experience with compiling for WinRT.  Does it just use .NET? <br><br></td></tr></table><br>
<a name="2085688"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  I have no experience with compiling for WinRT. Does it just use .NET? <br></div>No, AFAIK it's c++/cli <a href="http://en.wikipedia.org/wiki/C%2B%2B/CLI" target="_blank">http://en.wikipedia.org/wiki/C%2B%2B/CLI</a> <br><br></td></tr></table><br>
<a name="2085687"></a>

<a name="2085770"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @ziggy: No, AFAIK it's c++/cli... <br></div><br>If it's C++ it should already work, although there may need to be some precompiler tweaking done.  It uses TinyThread++ for its C++ target, which is a lightweight implementation of POSIX threads.<br><br>Edit:<br>Dylan at sea:  Try changing these lines in thread.monkey, threading.monkey, and coroutine.monkey:<br><pre class=code>#If TARGET &lt;&gt; "ios" And TARGET &lt;&gt; "stdcpp" And TARGET &lt;&gt; "glfw" And TARGET &lt;&gt; "android" And TARGET &lt;&gt; "bmax" Then</pre><br>To:<br><pre class=code>#If TARGET &lt;&gt; "ios" And TARGET &lt;&gt; "stdcpp" And TARGET &lt;&gt; "glfw" And TARGET &lt;&gt; "android" And TARGET &lt;&gt; "bmax" And TARGET &lt;&gt; "winrt" Then</pre><br><br>Tell me if WinRT compiles (and works).  Don't forget to copy header files, etc. <br><br></td></tr></table><br>
<a name="2085769"></a>

<a name="2085768"></a>

<a name="2085761"></a>

<a name="2086168"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SGEM</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>Bug or intended consequence?</b><br><br>The recent addition of the math module duplicates the name "Tween" - in math it is a function, but it also exists as a class with static members in the tween module.<br><br>This has forced me to use some unpleasant qualification in my code, such for example<br><br><pre class=code>Local tween := diddy.tween.Tween.CreateSine(durationMillis, 0.5, -0.25, 0.5)</pre><br><br>Is this an intentional change?<br><br>Additionally shouldn't RectsOverlap() return a Bool rather than an Int?<br><br>I'm happy to contribute changes if someone can tell me how (including a fix for <a href="https://code.google.com/p/diddy/issues/detail?id=43)." target="_blank">https://code.google.com/p/diddy/issues/detail?id=43).</a><br><br>Zac <br><br></td></tr></table><br>
<a name="2086177"></a>

<a name="2086178"></a>

<a name="2086179"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Bug or intended consequence? <br></div><br>Definitely a bug... I added a bunch of helpful calculations functions, I didn't even think it would cause a clash with a Class name :(<br>I'll fix up the function name...<br><br><div class="quote"> Additionally shouldn't RectsOverlap() return a Bool rather than an Int? <br></div><br>In the end it doesn't really matter as a lot of Monkey Bools get converted to Ints anyway and you can use Ints as a Bool in most situations. I would be reluctant to change it now as its very old code.<br><br><div class="quote"> I'm happy to contribute changes if someone can tell me how  <br></div><br>Thanks for the offer, do you know Hg well? You can clone Diddy and submit pull requests. <br><br></td></tr></table><br>
<a name="2086206"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @SGEM: This has forced me to use some unpleasant qualification in my code... <br></div><br>You could use an alias if you want.  At the top of your source:<br><pre class=code>Alias DiddyTween = diddy.tween.Tween</pre><br>Then you can use it like this:<br><pre class=code>Local tween := DiddyTween.CreateSine(durationMillis, 0.5, -0.25, 0.5)</pre> <br><br></td></tr></table><br>
<a name="2086320"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dylan at sea</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> [Samah] Tell me if WinRT compiles (and works). <br></div><br>I tested with a simple project. Without Threading imported, it works fine. With Threading imported (and no code changes), it spits out errors like so:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Error	25	error C3861: 'InitializeCriticalSection': identifier not found	project.buildv77f\winrt_win8\tinythread.h	160	1	MonkeyGameNative
Error	26	error C3861: 'Sleep': identifier not found	project.buildv77f\winrt_win8\tinythread.h	184	1	MonkeyGameNative
Error	27	error C3861: 'InitializeCriticalSection': identifier not found	project.buildv77f\winrt_win8\tinythread.h	249	1	MonkeyGameNative
Error	28	error C3861: 'Sleep': identifier not found	project.buildv77f\winrt_win8\tinythread.h	666	1	MonkeyGameNative
Error	29	error C3861: 'CreateEvent': identifier not found	project.buildv77f\winrt_win8\monkeygame.cpp	4791	1	MonkeyGameNative
Error	30	error C3861: 'CreateEvent': identifier not found	project.buildv77f\winrt_win8\monkeygame.cpp	4792	1	MonkeyGameNative
Error	31	error C3861: 'InitializeCriticalSection': identifier not found	project.buildv77f\winrt_win8\monkeygame.cpp	4793	1	MonkeyGameNative
Error	32	error C3861: 'WaitForMultipleObjects': identifier not found	project.buildv77f\winrt_win8\monkeygame.cpp	4811	1	MonkeyGameNative
Error	33	error C3861: '_beginthreadex': identifier not found	project.buildv77f\winrt_win8\monkeygame.cpp	4937	1	MonkeyGameNative
Error	34	error C3861: 'WaitForSingleObject': identifier not found	project.buildv77f\winrt_win8\monkeygame.cpp	4962	1	MonkeyGameNative
Error	35	error C3861: 'GetSystemInfo': identifier not found	project.buildv77f\winrt_win8\monkeygame.cpp	4992	1	MonkeyGameNative
</textarea><br>The header files (tinythread.h and fast_mutex.h) are in the build folder. I'm note sure exactly how to fix it. <br><br></td></tr></table><br>
<a name="2086319"></a>

<a name="2086318"></a>

<a name="2086335"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Alright, looks like I might have to reimplement it natively unless I can extern that stuff for TinyThread.  I'll see what I can do.<br>It gives me an excuse to code the C# wrapper too.<br><br>Edit: ThreadPool class looks like the way to go, and I should be able to reuse that in C#. <br><br></td></tr></table><br>
<a name="2086326"></a>

<a name="2086469"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nikoniko</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Diddy seems a bit easy to understanding then fantomEngine or Ignition X but  its documentation is poor too and uses incompatible with ted format of help file. <br><br></td></tr></table><br>
<a name="2086508"></a>

<a name="2086509"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nikoniko</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> opps. look above. <br><br></td></tr></table><br>
<a name="2086983"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @nikoniko: ...but its documentation is poor too and uses incompatible with ted format of help file. <br></div><br>I've been trying to slowly document what I can, but it's a big task. :)<br>As for documentation format, it was decided to use the Jungle format rather than monkeydoc. <br><br></td></tr></table><br>
<a name="2087292"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just implemented XNA threading and it seems to work.  I'll port it over to WinRT when I can.<br><br>Edit: Looks like it's nigh on impossible to properly emulate pthreads in Windows Store apps.  The API provided by Microsoft is just too restrictive.  Sorry. :( <br><br></td></tr></table><br>
<a name="2087189"></a>

<a name="2087319"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Asmodean</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there an editor for Storyboard? I looked at the xml-File and this is far to complicated for me. An editor would be very handy. <br><br></td></tr></table><br>
<a name="2087351"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @Asmodean: Is there an editor for Storyboard? <br></div><br>I have actually been working on one recently, but it got put on hold because no-one was specifically asking for it.  I guess now I have incentive to continue it. :) <br><br></td></tr></table><br>
<a name="2087369"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Asmodean</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  I guess now I have incentive to continue it. <br></div><br>That would be great. I think that Stroyboard is a great and useful feature and I wonder nobody ask about an editor. <br><br></td></tr></table><br>
<a name="2087475"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Asmodean</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>SetGraphics and Html5</b><br><br>I have a little problem with SetGraphics. I tried it with different resolutions, but the canvas in Html5 is always 640x480. <br>With the target "Desktop" it works fine. I tried it with Chrome 34 and FireFox 29. <br>Doesn't  SetGraphics work with Html5? <br><br></td></tr></table><br>
<a name="2087492"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Doesn't SetGraphics work with Html5? <br></div><br>It works here.... but with MonkeyX's new resizable template you can only tell by that the images within the canvas changes. <br><br></td></tr></table><br>
<a name="2087523"></a>

<a name="2087524"></a>

<a name="2087525"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Asmodean</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, I see. I thought it would resize automatically in the Browser-Window. <br>With Ziggys 'EnableAutoSize' from here  <a href="http://www.monkey-x.com/Community/posts.php?topic=8088&amp;post=81235" target="_blank"> EnableAutoSize</a> it works fine. <br>Thanks for your help. <br><br></td></tr></table><br>
<a name="2088683"></a>

<a name="2088684"></a>

<a name="2088685"></a>

<a name="2088686"></a>

<a name="2088687"></a>

<a name="2088691"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sionco</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi,<br>I've just started playing with the module, and love the tiled integration.<br><br>But, is there a way in diddy to separate the drawing of the layers, so I could draw one layer behind the player and another infront of them, so instead of<br><br><pre class=code>
tilemap.RenderMap(diddyGame.scrollX, diddyGame.scrollY, SCREEN_WIDTH, SCREEN_HEIGHT, 1, 1)
		'player.Draw(diddyGame.scrollX, diddyGame.scrollY, True)
</pre><br><pre class=code>
something like
tilemap.RenderLayer(layer1,...)
player.Draw(...)
tileMap.RenderLayer(layer2,..)
</pre><br><br>not the best example, but, <br><img src="http://liza.io/images/2012/02/creatures-and-castles.png"> <br><br></td></tr></table><br>
<a name="2088698"></a>

<a name="2088699"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've added two RenderLayer methods to the TileMap class:<br><pre class=code>Method RenderLayer:Void(layerName:String, bx:Int, by:Int, bw:Int, bh:Int, sx:Float = 1, sy:Float = 1)</pre><br>and<br><pre class=code>Method RenderLayer:Void(layer:TileMapLayer, bx:Int, by:Int, bw:Int, bh:Int, sx:Float = 1, sy:Float = 1)</pre><br><br>Also changed RenderMap so you can add the layer name too.<br><pre class=code>Method RenderMap:Void(bx:Int, by:Int, bw:Int, bh:Int, sx:Float = 1, sy:Float = 1, layerName:String = "ALL")</pre><br><br>If you use RenderLayer, it <b>will not</b> call PreRenderMap and PostRenderMap.<br><br>Example:<br><pre class=code>tilemap.RenderLayer("CollisionLayer", diddyGame.scrollX, diddyGame.scrollY, SCREEN_WIDTH, SCREEN_HEIGHT, 1, 1) ' using the name of the layer we want to draw
tilemap.RenderLayer(tileLayer, diddyGame.scrollX, diddyGame.scrollY, SCREEN_WIDTH, SCREEN_HEIGHT, 1, 1) ' using the object of the layer we want to draw
player.Draw(diddyGame.scrollX, diddyGame.scrollY, True)
tilemap.RenderMap(diddyGame.scrollX, diddyGame.scrollY, SCREEN_WIDTH, SCREEN_HEIGHT, 1, 1, "Background") ' using the RenderMap to draw the layer with the name background
</pre> <br><br></td></tr></table><br>
<a name="2088721"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nikoniko</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>Asmodean wrote:</b><br><div class="quote"> I have a little problem with SetGraphics. I tried it with different resolutions, but the canvas in Html5 is always 640x480.<br>With the target "Desktop" it works fine. I tried it with Chrome 34 and FireFox 29.<br>Doesn't SetGraphics work with Html5? <br></div><br><br>Fix for it <a href="http://www.monkey-x.com/Community/posts.php?topic=8515&amp;post=88697" target="_blank">http://www.monkey-x.com/Community/posts.php?topic=8515&amp;post=88697</a> <br><br></td></tr></table><br>
<a name="2088726"></a>

<a name="2088727"></a>

<a name="2088728"></a>

<a name="2088729"></a>

<a name="2088730"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Asmodean</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>nikoniko wrote:</b><br><br><div class="quote">  Fix for it <a href="http://www.monkey-x.com/Community/posts.php?topic=8515&amp;post=88697" target="_blank">http://www.monkey-x.com/Community/posts.php?topic=8515&amp;post=88697</a> <br></div><br><br>Oh, that's nice, Thanks. But I have a little trouble with the coordinates. I tried it with 800x600<br>Then I have a canvas with 800x600, but I can only use 640x480 pixel of the canvas. The coordinates in the 640x480-Canvas are for a 800x600 canvas.(I hope I could make myself clear :) )<br>If I set 'SetGraphics(800,600) at the begin, all works fine<br><br><pre class=code>
Import diddy
Import sethtmlsize

Function Main:Int()
	New MyGame()
	Return 0
End

Class MyGame Extends DiddyApp
	Method Create:Void()
		SetGraphics(800, 600)
		SetScreenSize(800, 600)
		SetHTMLSize(800, 600)
		
		Start(Singleton&lt;MyScreen&gt;.Instance())
	End	
End

Class MyScreen Extends Screen
	Method Start:Void()
	End
	
	Method Update:Void()

	End
	
	Method Render:Void()
		Cls
		DrawRect(0, 0, 20, 20)
		DrawRect(780, 580, 20, 20)
	End
End
</pre> <br><br></td></tr></table><br>
<a name="2088738"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nikoniko</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Set third parameter to True.<br>SetScreenSize(w, h, True)<br><br><b>Asmodean wrote:</b><br><div class="quote"> If I set 'SetGraphics(800,600) at the begin, all works fine <br></div><br><br>It does the same as SetHMTLSize(), except call canvas.updateSize()<br><br>So new version for diddy's function is<br><br><pre class=code>
diddy.setGraphics=function(w, h)
{
	var canvas=document.getElementById( "GameCanvas" );
	canvas.width  = w;
	canvas.height = h;
        if( canvas.updateSize ) canvas.updateSize();
	//return window.innerHeight;
}
</pre> <br><br></td></tr></table><br>
<a name="2088739"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Asmodean</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Set third parameter to True. <br></div><br><br>Ok, I thougt, it would be true by default. Now it works fine. <br>Thanks! <br><br></td></tr></table><br>
<a name="2088740"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sionco</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>I've added two RenderLayer methods to the TileMap class:<br>Method RenderLayer:Void(layerName:String, bx:Int, by:Int, bw:Int, bh:Int, sx:Float = 1, sy:Float = 1)<br><br>and<br>Method RenderLayer:Void(layer:TileMapLayer, bx:Int, by:Int, bw:Int, bh:Int, sx:Float = 1, sy:Float = 1)<br><br>Also changed RenderMap so you can add the layer name too.<br>Method RenderMap:Void(bx:Int, by:Int, bw:Int, bh:Int, sx:Float = 1, sy:Float = 1, layerName:String = "ALL")<br><br>If you use RenderLayer, it will not call PreRenderMap and PostRenderMap.<br><br>Example:<br>tilemap.RenderLayer("CollisionLayer", diddyGame.scrollX, diddyGame.scrollY, SCREEN_WIDTH, SCREEN_HEIGHT, 1, 1) ' using the name of the layer we want to draw<br>tilemap.RenderLayer(tileLayer, diddyGame.scrollX, diddyGame.scrollY, SCREEN_WIDTH, SCREEN_HEIGHT, 1, 1) ' using the object of the layer we want to draw<br>player.Draw(diddyGame.scrollX, diddyGame.scrollY, True)<br>tilemap.RenderMap(diddyGame.scrollX, diddyGame.scrollY, SCREEN_WIDTH, SCREEN_HEIGHT, 1, 1, "Background") ' using the RenderMap to draw the layer with the name background<br> <br></div><br>Thanks for this, this is fantastic! <br><br></td></tr></table><br>
<a name="2088741"></a>

<a name="2088742"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you "zOrder" your layers, you could also extend the code to allow "RenderLayers(0,10)" which draw all layers (non-exclusive) between 0 and 10 - then draw your player and then "RenderLayers(11,-1)" to draw all 10.<br><br>I am doing this in my BlitzMax-framework's gui-managing classes (framework is of course heavily inspired by the genious work done with diddy :D).<br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="2088766"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> Regarding the HTML5 screen size, I'll have a look at it tonight if I get time. I think the SetHTMLSize should be part of SetScreenSize to be more inline with the other targets. <br><br></td></tr></table><br>
<a name="2088783"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, I've had a look at the HTML5 resize code... this looks like all that is needed:<br><pre class=code>diddy.setGraphics=function(w, h)
{
	var canvas = document.getElementById("GameCanvas");
	canvas.width  = w;
	canvas.height = h;
	canvas.setAttribute("style", "");
}</pre><br><br>By setting the style to be empty it seems to work... what do you guys think? <br><br></td></tr></table><br>
<a name="2088786"></a>

<a name="2088787"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nikoniko</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> Or set if it needs or remove style attribute that is correct.<br><pre class=code>canvas.style.height=h;</pre><br><br><br>updateSize() method calcs also xscale/yscale if they are used in diddy...<br><br><pre class=code>
	canvas.updateSize=function(){
		xscale=canvas.width/canvas.clientWidth;
		yscale=canvas.height/canvas.clientHeight;
		game.RenderGame();
	}
</pre> <br><br></td></tr></table><br>
<a name="2088788"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> what about this:<br><pre class=code>diddy.setGraphics=function(w, h)
{
	var canvas = document.getElementById("GameCanvas");
	canvas.width  = w;
	canvas.height = h;
	canvas.setAttribute("style", "");
	if( canvas.updateSize ) canvas.updateSize();
}</pre><br><br>From my testing we need to clear the style of the canvas and now we call updateSize just in case anyone wants to use the xscale/yscale... <br><br></td></tr></table><br>
<a name="2088800"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nikoniko</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>therevills wrote:</b><br><div class="quote"> canvas.setAttribute("style", ""); <br></div><br><br>I am not sure that is fully correct.  Someone may set canvas' style in the html file (set backround-color, padding, margin, etc) this code remove all his changes. <br><br></td></tr></table><br>
<a name="2088838"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah that is true... I think I may leave Diddy as it is then, as the issue with setting the size depends on what HTML page the developer includes it in. <br><br></td></tr></table><br>
<a name="2089376"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've just committed a WIP SnapFling module, here its running:<br><a href="http://www.therevillsgames.com/monkey/snapfling/MonkeyGame.html" target="_blank">http://www.therevillsgames.com/monkey/snapfling/MonkeyGame.html</a><br><br>(Horizontal only at the moment) <br><br></td></tr></table><br>
<a name="2089391"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nikoniko</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice!<br><br>Question about autoCls<br><br>I want to disable it in my code:<br><br><pre class=code>
Class MyGame Extends DiddyApp
	Method Create:Void()
    Local w:Int = 800
    Local h:Int = 600
    
    autoCls = False
    drawFPSOn = True
    
    'SetGraphics(w, h)
    SetHTMLSize(w, h)
    SetScreenSize(w, h, True)

		Start(GameScreen.GetInstance())
	End
End

</pre><br><br>FPS is displayed. And screen is cleared too! What do I wrong? <br><br></td></tr></table><br>
<a name="2089393"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Asmodean</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Question about autoCls<br>I want to disable it  <br></div><br><br>autoCLS is by default False you shouldn't need to call it. <br>The problem seems to be SetScreenSize. If you change it form 640x480 autoCLS doesen't work anymore. <br><br></td></tr></table><br>
<a name="2089394"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nikoniko</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>Asmodean wrote:</b><br><div class="quote"> The problem seems to be SetScreenSize. If you change it form 640x480 autoCLS doesen't work anymore. <br></div><br><br>You're right! It's strange <br><br></td></tr></table><br>
<a name="2089406"></a>

<a name="2089407"></a>

<a name="2089408"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> Seems to work for me fine...<br><br><pre class=code>Strict

Import diddy

Function Main:Int()
	New MyGame()
	Return 0
End

Class MyGame Extends DiddyApp
	Method Create:Void()
		drawFPSOn = True
		SetGraphics(800, 600)
		SetScreenSize(800, 600)
		Start(Singleton&lt;MyScreen&gt;.Instance())
	End	
End

Class MyScreen Extends Screen
	Field x:Float = 0
	
	Method Start:Void()
	End
	
	Method Update:Void()
		x += 1 * dt.delta
	End
	
	Method Render:Void()
		DrawRect(x, SCREEN_HEIGHT2, 20, 20)
	End
End</pre><br><br>If you use DiddyData, autoCls is set to true automatically.<br><br>BTW some targets don't like not having CLS, so be careful ;) <br><br></td></tr></table><br>
<a name="2089412"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> Re: Storyboard Editor: It's still being developed, don't worry! ;) <br><br></td></tr></table><br>
<a name="2089414"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nikoniko</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> I used code as template from this topic <a href="http://www.monkey-x.com/Community/posts.php?topic=8396" target="_blank">http://www.monkey-x.com/Community/posts.php?topic=8396</a> <br><br></td></tr></table><br>
<a name="2089416"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Asmodean</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> @nikoniko:<br>If you use only SetScreenSize without! SetGraphics and you set the 'useAspectRatio' = true then autoCLS is enabled. With SetGraphics all works fine.<br><br><br><b>Samah:</b><br><div class="quote"> Re: Storyboard Editor: It's still being developed, don't worry! ;) <br></div><br>That's nice. I'm looking forward to it. :D <br><br></td></tr></table><br>
<a name="2089417"></a>

<a name="2089418"></a>

<a name="2089419"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nikoniko</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>Asmodean wrote:</b><br><div class="quote"> If you use only SetScreenSize without! SetGraphics and you set the 'useAspectRatio' = true then autoCLS is enabled. With SetGraphics all works fine. <br></div><br><br>Ok. I did not find relation between these methods and autoCls/cls() in the framework.monkey. That is confused me. <br><br></td></tr></table><br>
<a name="2089428"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> @nikoniko - can you post your code here? I am also confused as I can't see the issue with autoCls :) <br><br></td></tr></table><br>
<a name="2089441"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nikoniko</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> Monkey 79c/d, diddy don't know, got it from google rep.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Strict

Import diddy

#If TARGET="html5"
	Import dom
	Extern Private
		Global win:windowExtended = "window"
		Class windowExtended Extends dom.Window = "Window"
			Field innerWidth:Int
			Field innerHeight:Int
			Method eval:Object(parameter:String) = "eval"
		End
	Public
#END


Function EnableAutoSize:Void(canvasName:String = "GameCanvas")
	#If TARGET="html5"
		Local elem:= document.getElementById(canvasName)
		If elem &lt;&gt; Null Then
			elem.setAttribute("style", "");
		EndIf
		win.eval("var canvas=document.getElementById( '" + canvasName + "' );canvas.onresize=null;");
		win.eval("window.onresize=function (e) {var canvas=document.getElementById( '" + canvasName + "' ); canvas.width = window.innerWidth; canvas.height = window.innerHeight; canvas.style='outline:initial;';} ;")
		win.eval("window.onresize()")
		
	#End
End

Function SetHTMLSize:Void(_w:Int, _h:Int, _canvasName:String = "GameCanvas")
	#If TARGET="html5"
		EnableAutoSize()
		win.eval("var canvas=document.getElementById( '" + _canvasName + "' );")
		'win.eval("CANVAS_WIDTH = "+_w+"; CANVAS_HEIGHT = "+_h+";")
		win.eval("canvas.width = "+_w+"; canvas.height = "+_h+";")
		win.eval("if( canvas.updateSize ) canvas.updateSize();")
		
	#End
End


Global readyUpdate:Bool = True


Function Main:Int()
	New MyGame()
	Return True
End

Class MyGame Extends DiddyApp
	Method Create:Void()
    Local w:Int = 800
    Local h:Int = 600
    
    SetUpdateRate(60)
    
    autoCls = False
    drawFPSOn = True
    
    'SetGraphics(w, h)
    SetHTMLSize(w, h)
    SetScreenSize(w, h, True)

    

		Start(GameScreen.GetInstance())
	End
End






'######################## MOVE TO UTIL.MONKEY
Global cEnum:Int = 0
Function enum:Int( i:Int = cEnum )
	cEnum = i + 1
	Return i
End
'########################


Class APad
  Field xPos:Float
  Field yPos:Float
  
  Field prevXPos:Float
  Field prevYPos:Float
  
  Field canUpdate: Bool = True
  
  
  
  
  Method New()
  End Method
  
  Method Update:Void()
  
    If Not canUpdate Then Return
    canUpdate = False
    
    If TouchHit(0)
      xPos = TouchX(0)
      yPos = TouchY(0)

      Print "Click at : " + xPos +" "+ yPos
    
    Endif
    
    if TouchDown(0)
      xPos = TouchX(0)
      yPos = TouchY(0)
      
      Print "Move " + xPos + " " + yPos
    
    Else
      
    End if
    
  End Method
  
  Method Render:Void()
    'Cls
    DrawCircle(xPos, yPos, 10)
    canUpdate = True
  End Method
  
  Method SendPosition:Void()
  End Method

End Class


Class AGameField
  
  Field width: Float
  Field height: Float
  Field left: Float
  Field top: Float
  
  Field rows: Int
  Field cols: Int
  
  Field gameField:Int[] 'size W * H

  
  ' set border size for best image game
  Field borderSize:Float = 50.0
  Field cellWidth: Float 
  Field cellHeight: Float
  
  Global ERROR_OUT_OF_BOUNDS:Int = -1000
  
  Field img: Image
  
  Field pad: APad
  
  
  
  Method New(_cols:Int, _rows:Int)

    rows = _rows
    cols = _cols
    gameField = New Int[rows * cols]
    
    'now define size of cell
    cellWidth = Ceil((DeviceWidth() - borderSize) / cols)
    cellHeight = Ceil((DeviceHeight() - borderSize) / rows)
    'set to cell size to min - one of sides
    cellWidth = Min(cellWidth, cellHeight)
    cellHeight = cellWidth
     
    Print cellWidth + " = " + cellHeight
    
    width = cellWidth * cols
    height = cellHeight * rows 
    
    left = (DeviceWidth() - width) / 2
    top = (DeviceHeight() - height) / 2 
    
    Print left + " = " + top + " = " + width + " = " + height
    
    img = LoadImage("monkey://data/zapor.jpg")
      
    'stripsMan = New AStripManager(img, 15) 
    
    'board = New ABoard(6, 6)
      
    pad = New APad()
    
  
  End Method
 
    
  Method Update:Void()

    pad.Update()
    
    
  End Method
  
  Method Render:Void()
    pad.Render()
  End Method
  
End Class




Class TitleScreen Extends Screen
	Global instance:TitleScreen = Null
	
	Method New()
		name = "Title"
	End
	
	Function GetInstance:TitleScreen()
		If instance = Null
			instance = New TitleScreen()
		End
		Return instance
	End
	
	Method Start:Void()
	End

	Method Render:Void()
		'Cls
		DrawText "TITLE SCREEN!", SCREEN_WIDTH2, SCREEN_HEIGHT2, 0.5, 0.5
		DrawText "Space to Play!", SCREEN_WIDTH2, SCREEN_HEIGHT2 + 20, 0.5, 0.5
		DrawText "Escape to Quit!", SCREEN_WIDTH2, SCREEN_HEIGHT2 + 40, 0.5, 0.5
	End

	Method Update:Void()
		If KeyHit(KEY_ESCAPE)
			FadeToScreen(diddyGame.exitScreen)
		End
		If KeyHit(KEY_SPACE) Or TouchHit()
			FadeToScreen(GameScreen.GetInstance())
		End
	End
End

Class GameScreen Extends Screen
	Global instance:GameScreen = Null
	
	Field countScreen:Int = 1
	Field TheGameField:AGameField
	
	Method New()
		name = "GameScreen"
		
		TheGameField = New AGameField(10, 5)

		
		
	End 
	
	Function GetInstance:GameScreen()
		If instance = Null
			instance = New GameScreen()
		End
		Return instance
	End
	
	Method Start:Void()
    Print "Started screen " + countScreen
    countScreen = countScreen + 1
	End

	Method Render:Void()
    'If Not readyUpdate Return
    'Print autoCls
		'Cls
		DrawText "GAME SCREEN!", SCREEN_WIDTH2, SCREEN_HEIGHT2, 0.5, 0.5
		DrawText "Escape to go back to the Title!", SCREEN_WIDTH2, SCREEN_HEIGHT2 + 40, 0.5, 0.5
		TheGameField.Render()
		
	End

	Method Update:Void()

    
      TheGameField.Update()

    

		If KeyHit(KEY_ESCAPE)
			FadeToScreen(TitleScreen.GetInstance())
		End
		
		
	End
End


Class AdvScreen Extends Screen
  Global instance:AdvScreen = Null
  
  Method New()
    name = "Advertising screen"
  End Method
  
  Function GetInstance:AdvScreen()
		If instance = Null
			instance = New AdvScreen()
		End
		Return instance
	End Function
  
  Method Start:Void()
  End Method
  
  Method Render:Void()
 		'Cls
		DrawText "Adv screen!", SCREEN_WIDTH2, SCREEN_HEIGHT2, 0.5, 0.5
		DrawText "Click anywhere to exit", SCREEN_WIDTH2, SCREEN_HEIGHT2 + 40, 0.5, 0.5

  End Method
  
  Method Update:Void()
    If TouchHit() 
      FadeToScreen(GameScreen.GetInstance())
    Endif
  End Method
  
  
End Class



</textarea> <br><br></td></tr></table><br>
<a name="2089475"></a>

<a name="2089476"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks nikoniko, the issue is not with autoCls but it is caused by SetScreenSize as Asmodean stated. When using a virtual resolution and maintaining the aspect ratio the AutoFit code clears the screen. <br><br></td></tr></table><br>
<a name="2089543"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Asmodean</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>Problem with FileSystem example </b><br><br>I tried the FileSystem example 'testFileSystem', but the example doesn't generate any files. I compiled for Desktop with Windows7/VC2010  and I searched all folders but there was no file generated. If I use the brl import from Monkey without diddy, the files will be generated in the VC2010 Folder. With diddy and brl Import I get an error about an duplicate identifier 'FileStream'. <br><br></td></tr></table><br>
<a name="2089579"></a>

<a name="2089580"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >StoneFaceEXE</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've had problems with compiling desktop target using MSVC so I switched to MinGW and very happy, except that I keep getting a certain error<br><br><pre class=code>
../main.cpp: In static member function 'static String diddy::openfilename()':
../main.cpp:5102:18: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]
   char *filter = "All Files (*.*)\0*.*\0";
                  ^
../main.cpp: In static member function 'static String diddy::savefilename()':
../main.cpp:5130:18: warning: deprecated conversion from string constant to 'char*' [-Wwrite-strings]
   char *filter = "All Files (*.*)\0*.*\0";
                  ^
</pre><br><br>It doesn't affect anything really, builds are working perfectly, it's just the sound that I am missing. Could that be an issue or is it I just have to get my openal drivers reinstalled?<br><br>And I have the newest version of both monkey and diddy now. <br><br></td></tr></table><br>
<a name="2089596"></a>

<a name="2089597"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#51">[#51]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Asmodean<br><div class="quote"> Problem with FileSystem example <br></div><br>The FileSystem within Diddy (created by Gfk) is a virtual file system which uses Monkey's LoadState and SaveState commands. It doesn't actually create physical files.<br><div class="quote"> With diddy and brl Import I get an error about an duplicate identifier 'FileStream'. <br></div><br>Diddy's came first... you need to fully qualify which module you want to use.<br><br>@StoneFaceEXE<br>Nah its just a warning with the "OpenFileName" and "SaveFileName" native commands in Diddy, don't worry about them. <br><br></td></tr></table><br>
<a name="2089623"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Asmodean</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#52">[#52]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> The FileSystem within Diddy (created by Gfk) is a virtual file system which uses Monkey's LoadState and SaveState commands. It doesn't actually create physical files. <br></div><br><br>Ah,ok. So there is no way to load a file from a directory with diddy? <br><br></td></tr></table><br>
<a name="2089663"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#53">[#53]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Ah,ok. So there is no way to load a file from a directory with diddy? <br></div><br>You can use the normal MonkeyX commands, such as LoadString etc. <br><br></td></tr></table><br>
<a name="2089697"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Asmodean</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#54">[#54]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> You can use the normal MonkeyX commands, such as LoadString etc. <br></div><br>OK. Thanks for your help. <br><br></td></tr></table><br>
<a name="2090995"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sionco</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#55">[#55]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi again, another question.<br><br>If I want to use the Path finding module with a tiled map, what do I put in the PathFinder.SetMap() brackets?<br><br><pre class=code>
PathFinder.SetMap(tilemap.??, tilemap.width,tilemap.width, 2, 0)
</pre> <br><br></td></tr></table><br>
<a name="2090831"></a>

<a name="2090367"></a>

<a name="2091767"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#56">[#56]</a></td></tr></table></td></tr><tr ><td class="posttext"> Had a little play with Diddy and it's tilemap stuff recently, and just have a couple of questions.<br><br>1) Is there any way to use *just* the tilemap stuff on it's own, without any other Diddy stuff (screens, images etc) or having to be extended from a DiddyApp?<br>I guess I would like to be able to create a vanilla Monkey project and drop in the tilemap stuff and have it work if this is possible?<br><br>2) I may be doing something wrong, but I couldn't seem to find a way to get any tile data from the map - being able to get the current tile under the mouse, the properties of tiles etc etc<br>I'm sure it's possible, but the docs are a little lacking and the example from the wiki online are different than example code I've seen around the forum to do the same thing.<br><br>3) It seems that when my app "Extends DiddyApp" that #MOJO_IMAGE_FILTERING_ENABLED is ignored (or set again somewhere in the Diddy code after I have set it) as graphics that are in a vanilla "App" work fine, but when I use "DiddyApp" it seems image filtering is applied anyway and the resulting images are aliased/blurred.<br><br>Any help appreciated. <br><br></td></tr></table><br>
<a name="2091762"></a>

<a name="2091924"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#57">[#57]</a></td></tr></table></td></tr><tr ><td class="posttext"> Bump.<br><br>Any Diddy devs/users got any ideas? <br><br></td></tr></table><br>
<a name="2091947"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#58">[#58]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>@sionco</b><br><div class="quote"> If I want to use the Path finding module with a tiled map, what do I put in the PathFinder.SetMap() brackets? <br></div><br>Adding this here, just in case someone else finds it useful: <br><br>Here is an example of a Tiled map using pathfinding:<br><a href="http://code.google.com/p/diddy/source/detail?r=322c5ed4894ab246e1318fcf5a4830ef3b24d60a" target="_blank">http://code.google.com/p/diddy/source/detail?r=322c5ed4894ab246e1318fcf5a4830ef3b24d60a</a><br><br><b>@rIKmAN</b><br>Sorry - I didn't see this post until you bumped it...<br><br><div class="quote"> 1) Is there any way to use *just* the tilemap stuff on it's own, without any other Diddy stuff (screens, images etc) or having to be extended from a DiddyApp?<br>I guess I would like to be able to create a vanilla Monkey project and drop in the tilemap stuff and have it work if this is possible? <br></div><br>Not at the moment, the tiled module uses the framework internally for images and of course it uses the Diddy XML parser. By the way a DiddyApp is a normal Mojo App but extended.<br><br><div class="quote"> I may be doing something wrong, but I couldn't seem to find a way to get any tile data from the map - being able to get the current tile under the mouse, the properties of tiles  <br></div><br>Check out the testTiled example: <a href="http://code.google.com/p/diddy/source/browse/examples/Tile/testTile.monkey" target="_blank">http://code.google.com/p/diddy/source/browse/examples/Tile/testTile.monkey</a><br>And the platformer example: <a href="http://code.google.com/p/diddy/source/browse/#hg%2Fexamples%2FPlatformer" target="_blank">http://code.google.com/p/diddy/source/browse/#hg%2Fexamples%2FPlatformer</a><br><br><div class="quote">  It seems that when my app "Extends DiddyApp" that #MOJO_IMAGE_FILTERING_ENABLED <br></div><br>Works fine here for me:<br><pre class=code>Strict
#MOJO_IMAGE_FILTERING_ENABLED=False

Import diddy

Global game:MyGame

Function Main:Int()
	game = New MyGame()
	Return 0
End

Class MyGame Extends DiddyApp
	Method Create:Void()</pre><br><br>Have you got an example? <br><br></td></tr></table><br>
<a name="2091981"></a>

<a name="2091982"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#59">[#59]</a></td></tr></table></td></tr><tr ><td class="posttext"> I added a new RandomSource class that lets you separate random seeds across your application.  This is amazingly useful for procedural world generation, because it no longer matters what order you create your entities, and it will not interfere with the global seed.  I'll throw together a simple example at some point showing world generation.<br><br>At the moment it reuses the system Rnd() function, but I may rework some magic on it later to allow for your own pseudorandom algorithms.<br><br><pre class=code>Import diddy.math

Function Main()
	' NextInt() ' returns a random value within the entire 32-bit signed integer range (-2147483648 to +2147483647)
	' NextInt(n) ' returns a random integer value from 0 (inclusive) to n (exclusive)
	' NextInt(low,high) ' returns a random integer value from low (inclusive) to high (inclusive)
	' NextFloat() ' returns a random float value from 0 (inclusive) to 1 (exclusive) - this is essentially the same as Rnd()
	' NextBool() ' returns true or false with an approximately 50/50 spread
	
	' create a RandomSource - you could store the seed in your savegame
	Local one:RandomSource = New RandomSource(12345)
	Print "First"
	Print "a "+one.NextInt(1,10) ' a
	Print "b "+one.NextInt(5) ' b
	Print "c "+one.NextFloat() ' c
	
	' create another one with a different seed
	Local two:RandomSource = New RandomSource(67890)
	Print "d "+two.NextInt() ' d
	If two.NextBool() Print "e true" Else Print "e false" ' e
	Print "f "+two.NextInt(7) ' f
	
	' recreate them
	one = New RandomSource(12345)
	two = New RandomSource(67890)
	
	' as long as the calls are in the same order within each source, you can mix and match them with no conflicts
	' these will give you the same values as before, even though the calls for one and two are mixed together
	Print "Second"
	Print "a "+one.NextInt(1,10) ' a
	Print "d "+two.NextInt() ' d
	If two.NextBool() Print "e true" Else Print "e false" ' e
	Print "b "+one.NextInt(5) ' b
	Print "f "+two.NextInt(7) ' f
	Print "c "+one.NextFloat() ' c
End

#Rem
First
a 1
b 0
c 0.5431557893753052
d -1945622467
e true
f 4
Second
a 1
d -1945622467
e true
b 0
f 4
c 0.5431557893753052
#End
</pre> <br><br></td></tr></table><br>
<a name="2092028"></a>

<a name="2092029"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#60">[#60]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Sorry - I didn't see this post until you bumped it... <br></div><br>No apology needed mate :)<br><div class="quote"> Not at the moment, the tiled module uses the framework internally for images and of course it uses the Diddy XML parser. By the way a DiddyApp is a normal Mojo App but extended. <br></div><br>Ahh I see, yeah I was hoping there was a simple way to remove it from the internal image use etc, and have it as just a standalone tilemap reader/renderer.<br>I wrote a simple reader/renderer yesterday for tmx maps, but I've not added multiple layers, object layers etc yet and not sure if it will be worth re-inventing the wheel...yet! :)<br><div class="quote"> Check out the testTiled example: <a href="http://code.google.com/p/diddy/source/browse/examples/Tile/testTile.monkey" target="_blank">http://code.google.com/p/diddy/source/browse/examples/Tile/testTile.monkey</a><br>And the platformer example: <a href="http://code.google.com/p/diddy/source/browse/#hg%2Fexamples%2FPlatformer" target="_blank">http://code.google.com/p/diddy/source/browse/#hg%2Fexamples%2FPlatformer</a><br> <br></div><br>Ahh thanks, I did look through those examples but must have missed it, I see the "tileData" part now.<br>Is there any documentation on the tilemap usage/commands in diddy or just the code examples?<br><br><div class="quote"> Works fine here for me:<br>Have you got an example?<br> <br></div><br>It's largish project that I added in the diddy tilemap stuff into, and as soon as I did all the (previously pixelated) graphics became blurred like they were being filtered.<br>When I removed it, they went back to being pixelated again (which is what I wanted)<br><br>I will knock up a smaller test case and report back, might be a couple of days though before I can get back to it. <br><br></td></tr></table><br>
<a name="2092044"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#61">[#61]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm hacking the Diddy tilemap stuff now to support raw images.  It shouldn't affect existing code. <br><br></td></tr></table><br>
<a name="2092058"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#62">[#62]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> It shouldn't affect existing code. <br></div><br>It better not ;) <br><br></td></tr></table><br>
<a name="2092114"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#63">[#63]</a></td></tr></table></td></tr><tr ><td class="posttext"> Done.<br><br>rIKmAN: The tile module now has no hard dependency on the screen framework (but it still works fine with existing code).  Try it now with the latest changeset.  You'll need to move your tileset image out of the "graphics" directory and into the root of your data directory. <br><br></td></tr></table><br>
<a name="2092153"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#64">[#64]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey Samah, thanks and I will try this when I get home later on tonight.<br><br>Just a question: you say the tileset image should now be placed in the root of the data directory, is this hardcoded or will the path from the tmx/xml file be used for the path to the tileset images?<br><br>Thanks again. <br><br></td></tr></table><br>
<a name="2092158"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#65">[#65]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @rIKmAN: ...will the path from the tmx/xml file be used for the path to the tileset images? <br></div><br>Correct.  The difference is that with the framework, it always looks in the graphics directory first.  Without the framework it will go by the path relative to the root data directory. <br><br></td></tr></table><br>
<a name="2093241"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#66">[#66]</a></td></tr></table></td></tr><tr ><td class="posttext"> Having a bit of a brain fart at the moment, trying to do the bellow.<br><br><pre class=code>
Class gameScreen Extends Screen 'gameScr
	Field starfield:Int[20]
End Class

Class anotherScreen Extends Screen
  Method blah()
     GameScr.starfield[1]=1
  End Method 
End
</pre> <br><br></td></tr></table><br>
<a name="2093246"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hotshot</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#67">[#67]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was running testGUI from your Example folder but I get compilation error saying Method Component.ApplySkin:Void() is private. <br><br></td></tr></table><br>
<a name="2093262"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#68">[#68]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Paul - What are you trying to do? Do you want anotherScreen to inherit the array or just access it?<br><br>@Hotshot - I'll check tonight. <br><br></td></tr></table><br>
<a name="2093263"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amon</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#69">[#69]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Paul <br><br>Instead of making it a field swap the field for Global.<br><br><pre class=code>
Class gameScreen Extends Screen 'gameScr
	Global starfield:Int[20]
End Class

Class anotherScreen Extends Screen
  Method blah()
     gameScreen.starfield[1]=1
  End Method 
End
</pre> <br><br></td></tr></table><br>
<a name="2093264"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#70">[#70]</a></td></tr></table></td></tr><tr ><td class="posttext"> @therevills , yeah I want access to the array from some where outside it's parent class so I could change the content of the array from within my main menu screen for example..<br>@Amon , yeah it is global but I wanted to know if I could access it from outside of the class directly. <br><br></td></tr></table><br>
<a name="2093271"></a>

<a name="2093272"></a>

<a name="2093273"></a>

<a name="2093274"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#71">[#71]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Hotshot - I've committed a fix for that issue, thanks for letting us know :)<br><br>@Paul, there are a few years to do it - Amon is correct a global would do it, but if you want to be a field I would do it something like this:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Strict

Import diddy

Global game:MyGame

Function Main:Int()
	game = New MyGame()
	Return 0
End

Class MyGame Extends DiddyApp
	Method Create:Void()
		Start(TitleScreen.GetInstance())
	End
End

Class TitleScreen Extends Screen
	Global instance:TitleScreen
	Field starfield:Int[20]

	Function GetInstance:TitleScreen()
		If instance = Null
			instance = New TitleScreen
		End
		Return instance
	End
	
	Method New()
		name = "TitleScreen"
	End
	
	Method Load:Void()
	End
	
	Method Start:Void()
	End
	
	Method Update:Void()
		If MouseHit(MOUSE_LEFT) Then FadeToScreen(GameScreen.GetInstance())
	End
	
	Method Render:Void()
		Cls
		DrawText(Self.name, 100, 100)
		DrawText(Self.starfield[1], 100, 120)
	End
End

Class GameScreen Extends Screen
	Global instance:GameScreen
	
	Function GetInstance:GameScreen()
		If instance = Null
			instance = New GameScreen
		End
		Return instance
	End
	
	Method New()
		name = "GameScreen"
	End
	
	Method Load:Void()
	End
	
	Method Start:Void()
		TitleScreen.GetInstance().starfield[1] += 1
	End
	
	Method Update:Void()
		If MouseHit(MOUSE_LEFT) Then FadeToScreen(TitleScreen.GetInstance())
	End
	
	Method Render:Void()
		Cls
		DrawText(Self.name, 100, 100)
	End
End</textarea> <br><br></td></tr></table><br>
<a name="2093304"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hotshot</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#72">[#72]</a></td></tr></table></td></tr><tr ><td class="posttext"> When Can I have update of Diddy as I like focus on GUI :) <br><br></td></tr></table><br>
<a name="2093312"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#73">[#73]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks will look that over later.. knew there had to be a way of doing it. <br><br></td></tr></table><br>
<a name="2094035"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hotshot</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#74">[#74]</a></td></tr></table></td></tr><tr ><td class="posttext"> Had TestGUI been fixed yet? <br><br></td></tr></table><br>
<a name="2094036"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#75">[#75]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Had TestGUI been fixed yet? <br></div><br><br><a href="http://www.monkey-x.com/Community/posts.php?topic=8291&amp;post=93274" target="_blank">http://www.monkey-x.com/Community/posts.php?topic=8291&amp;post=93274</a><br><br><div class="quote"> @Hotshot - I've committed a fix for that issue, thanks for letting us know :) <br></div> <br><br></td></tr></table><br>
<a name="2094688"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Lugato</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#76">[#76]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Samah,<br><br>I'm trying to use the "gameservice" module from Diddy, to include a Leaderboard in my game. I made all steps in Developer Console, create the "ids.value" file in "res/values" directory of my android project with this XML structure (ID and number_guesses_leaderboard: is valid in my file):<br>&lt;string name="app_id"&gt;11111111111&lt;/string&gt;<br>&lt;string name="number_guesses_leaderboard"&gt;XXXXXXXXXXXX&lt;/string&gt;<br><br>But when I try to build (using the Android Game Experimental), the build process stop and give me the message:<br><br>..../android_new/res/values/ids.xml:2: error: Error parsing XML: junk after document element<br>[aapt]<br><br>BUILD FAILED<br>/android-sdk-mac_x86/tools/ant/build.xml:653: The following error occurred while executing this line:<br>/android-sdk-mac_x86/tools/ant/build.xml:698: null returned: 1<br><br>Can you give a little help to solve this ?<br><br>thanks <br><br></td></tr></table><br>
<a name="2094685"></a>

<a name="2094836"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CGV</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#77">[#77]</a></td></tr></table></td></tr><tr ><td class="posttext"> About a year ago several people requested a change to Diddy's FadeToScreen method to allow for different types of fade transitions.<br><br>Was this feature ever added to Diddy? <br><br></td></tr></table><br>
<a name="2094841"></a>

<a name="2094842"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#78">[#78]</a></td></tr></table></td></tr><tr ><td class="posttext"> @CGV:<br>What kind of different fade transitions? Like, colour?<br><br>@Lugato:<br>Can you give us a bit more of your XML?  Sounds to me like there might be an extra opening or closing tag somewhere. <br><br></td></tr></table><br>
<a name="2094848"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CGV</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#79">[#79]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Samah, check out page 4 of the thread "Diddy - An Open Source Framework - Part 7"<br><a href="http://www.monkey-x.com/Community/posts.php?topic=4589&amp;page=4" target="_blank">http://www.monkey-x.com/Community/posts.php?topic=4589&amp;page=4</a><br><br>scroll down to post #87 by zoqfotpik and you'll see what I'm taking about. <br><br></td></tr></table><br>
<a name="2094850"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#80">[#80]</a></td></tr></table></td></tr><tr ><td class="posttext"> Shows how poor my memory is, hey. :)<br>I'll take a look at it and see what I can do. <br><br></td></tr></table><br>
<a name="2094891"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Lugato</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#81">[#81]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello Samah, <br><br>I managed to fix the errors that prevented the build, I had to create the following files in "resource / values" directory: <br>- ids.xml <br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;resources&gt;
    &lt;string name="app_id"&gt;MyAppID&lt;/string&gt;
&lt;/resources&gt;
</textarea><br><br>- version.xml <br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;resources&gt;
    &lt;integer name="google_play_services_version"&gt;4242000&lt;/integer&gt; # for ironstorm google-play-services version
    &lt;integer name="google_play_services_version"&gt;4452000&lt;/integer&gt; # for diddy version (I'm using this one)
&lt;/resources&gt;
</textarea><br>I read the comment you made in the Ironstorm post, to sign in in OnUpdate and not in onCreate, and adjusted my code.<br><br>My #ANDROID_APP_PACKAGE is the same that are in the google play developer console<br><br>The game start, but when I click in the button to initialise the Google Play Service the error "null pointer exception" occur again ... <br><br></td></tr></table><br>
<a name="2094853"></a>

<a name="2094851"></a>

<a name="2094856"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#82">[#82]</a></td></tr></table></td></tr><tr ><td class="posttext"> I assume those "for ... version" comments are only in your post and not in the XML file. :)<br>I also assume you don't have both of those google_play_services_version lines in the XML, otherwise only the second one will count.<br>therevills knows more about this, he might want to reply... <br><br></td></tr></table><br>
<a name="2094889"></a>

<a name="2094890"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Lugato</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#83">[#83]</a></td></tr></table></td></tr><tr ><td class="posttext"> Samah, you are right in the two points :) <br><br>My version.xml:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;resources&gt;
&lt;integer name="google_play_services_version"&gt;4452000&lt;/integer&gt;
&lt;/resources&gt;
</textarea><br>I put the comments because I don't have any information about what files I need to put in the resource directory, to Google Play Service work and what your content .. :(. So I checked the ironstorm module and see what's files are using and what the content in the files.<br><br>I made a module that abstract the IOS Game Center and Android Google Service, but I need adjust the error in the Android Layer, before put the module in the forum<br><br>Therevills can you give a little help here ?? :) <br><br></td></tr></table><br>
<a name="2094867"></a>

<a name="2094884"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#84">[#84]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would need to see your code to work out why you are getting a null pointer exception. <br><br></td></tr></table><br>
<a name="2095364"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raul</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#85">[#85]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi guys,<br><br>Recently I found this issue regarding the filesystem.<br><br>Asmodean talked about it earleir:<br><div class="quote"> <br>With diddy and brl Import I get an error about an duplicate identifier 'FileStream'.<br> <br></div><br><br><div class="quote"> <br>Diddy's came first... you need to fully qualify which module you want to use.<br> <br></div><br>How exactly do I fully qulify the module I want to use? <br><br></td></tr></table><br>
<a name="2095362"></a>

<a name="2095363"></a>

<a name="2095420"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raul</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#86">[#86]</a></td></tr></table></td></tr><tr ><td class="posttext"> Update on this?<br><br>I receive the error message: Duplicate identifier 'FileStream' found in module 'filestream' and module 'filesystem'. if I try to compile on desktop target.<br>I am using diddy for the filesystem features.<br><br>Also I do not import brl in my program.<br><br>How to handle this?<br><br>Thanks, <br><br></td></tr></table><br>
<a name="2095447"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#87">[#87]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry Raul, I've been pretty busy.<br><br>Anyway, I've decided to rename the Diddy's FileSystem to VirtualFileSystem, go get the latest version from GoogleCode. <br><br></td></tr></table><br>
<a name="2095439"></a>

<a name="2095442"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raul</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#88">[#88]</a></td></tr></table></td></tr><tr ><td class="posttext"> many thanks man. <br><br></td></tr></table><br>
<a name="2097227"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#89">[#89]</a></td></tr></table></td></tr><tr ><td class="posttext"> All,<br>Over the holidays I replaced Diddy's tweening system with a conversion of the Java Universal Tweening Engine.  It's not 100% tested and there's a few changes still to be made, but for the most part it works.  You can still use the old system by changing any references to the Tween class to TweenDep.  The screen framework will automatically handle both the new and old systems.  Just update to the latest changeset to use it.<br><br>Java version:<br><a href="https://code.google.com/p/java-universal-tween-engine/" target="_blank">https://code.google.com/p/java-universal-tween-engine/</a><br><br>Once the system is fully tested I'll create an example file and add documentation.<br><br>Samah <br><br></td></tr></table><br>
<a name="2099127"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#90">[#90]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not checked this thread in a while and just saw ligado's post about a gameservice module part of diddy, is there any example source for using this yet in the docs? I'm also a bit hesitant to just update my out of date version of diddy for fear of braking something lol, will test an update later tonight if I have time. <br><br></td></tr></table><br>
<a name="2099145"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#91">[#91]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @Taiphoz: ...gameservice module part of diddy... <br></div><br>You'd have to ask therevills about that, he added that module.<br><div class="quote"> @Taiphoz: I'm also a bit hesitant to just update my out of date version of diddy for fear of braking something lol, <br></div><br>This is what version control is for. ;) <br><br></td></tr></table><br>
<a name="2100491"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#92">[#92]</a></td></tr></table></td></tr><tr ><td class="posttext"> So with the upcoming closure of Google Code, what are peoples preferences? BitBucket or GitHub? (If we move to GitHub, it will mean moving to GIT).<br><br><a href="http://google-opensource.blogspot.com/2015/03/farewell-to-google-code.html" target="_blank">http://google-opensource.blogspot.com/2015/03/farewell-to-google-code.html</a> <br><br></td></tr></table><br>
<a name="2100488"></a>

<a name="2100487"></a>

<a name="2100499"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#93">[#93]</a></td></tr></table></td></tr><tr ><td class="posttext"> My preference is GitHub, simply for the fact that Monkey and most of the community frameworks are too. <br><br></td></tr></table><br>
<a name="2100509"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CGV</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#94">[#94]</a></td></tr></table></td></tr><tr ><td class="posttext"> GitHub please. Mainly for the reason Samah mentioned. I think most of us are more familiar with GitHub since everything we already use is hosted there. <br><br></td></tr></table><br>
<a name="2100530"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#95">[#95]</a></td></tr></table></td></tr><tr ><td class="posttext"> therevills if we decide to go down the GitHub path, do you want me to do the migration?  I already have an account with some public repositories. <br><br></td></tr></table><br>
<a name="2100607"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#96">[#96]</a></td></tr></table></td></tr><tr ><td class="posttext"> Done.<br><br><a href="https://github.com/swoolcock/diddy" target="_blank">https://github.com/swoolcock/diddy</a> <br><br></td></tr></table><br>
<a name="2100613"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#97">[#97]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Samah, I was going to wait a bit for more replies... We weren't in too much of a rush <br><br>I'm still keen on hearing what other users think. But it's good to know its there.<br><br>I want to clean it up too, maybe separate the extern code totally out of it to another module.... But as you know I'm quite busy. <br><br></td></tr></table><br>
<a name="2100723"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#98">[#98]</a></td></tr></table></td></tr><tr ><td class="posttext"> But the "Export to GitHub" button did absolutely everything for me short of make me a cup of tea. XD<br><br>Edit: To be honest, I clicked the button to see how many steps were required, and as soon as I logged into GitHub it was done! <br><br></td></tr></table><br>
<a name="2100633"></a>

<a name="2100715"></a>

<a name="2100716"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#99">[#99]</a></td></tr></table></td></tr><tr ><td class="posttext"> The current diddy implementation of "Libgdx-Atlasloader" does not work for me.<br><br>I wrote "'Ronny" to things I adjusted:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
	Method LoadLibGdxAtlas:Void(fileName:String, midHandle:Bool=True, readPixels:Bool = False, maskRed:Int = 0, maskGreen:Int = 0, maskBlue:Int = 0)
			Local str:String = LoadAtlasString(fileName)
			Local all:String[] = str.Split("~n")
			Local spriteFileName:String = all[0].Trim()
			'Ronny: my libgdx adds a new line before name
			Local skipFirstLine:Bool = False
			If all[0].Trim() = "" then spriteFileName = all[1].Trim();skipFirstLine = True
			
			Local pointer:Image = LoadImage(path + spriteFileName)
			AssertNotNull(pointer, "Error loading bitmap atlas "+ path + spriteFileName)
			Local atlasGameImageName:String = SaveAtlasToBank(pointer, fileName)
			
			Local line:String = ""
			Local i:Int = 4
	
			'Ronny: add this line too
			If skipFirstLine then i += 1
			'Ronny: also for me there are 4 lines between title + first
			'sprite while diddy assumes 3 lines
			i += 1
	
			Local xy:String[] =["",""]
			Local debug:Bool = False
			While True
				' name of the image
				line = all[i].Trim()
				If debug Then Print "name = "+line
				If line = "" Then Exit
				Local name:String = line
				'rotate
				i+=1
				line = all[i].Trim()
				If debug Then Print "rotate = "+line
				Local rotate:String = line
				' x and y
				i+=1
				line = all[i].Trim()
				If debug Then Print "x and y = "+line
				xy = line[ (line.FindLast(":")+1)..].Split(",")
				Local x:Int = Int(xy[0].Trim())
				Local y:Int = Int(xy[1].Trim())
				' width and height
				i+=1
				line = all[i].Trim()
				If debug Then Print "width and height = "+line
				xy = line[ (line.FindLast(":")+1)..].Split(",")
				Local width:Int = Int(xy[0].Trim())
				Local height:Int = Int(xy[1].Trim())
				' origX and origY
				i+=1
				line = all[i].Trim()
				If debug Then Print "origX and origY = "+line
				xy = line[ (line.FindLast(":")+1)..].Split(",")
				Local origX:Int = Int(xy[0].Trim())
				Local origY:Int = Int(xy[1].Trim())
				' offsets
				i+=1
				line = all[i].Trim()
				If debug Then Print "offsets = "+line
				xy = line[ (line.FindLast(":")+1)..].Split(",")
				Local offsetX:Int = Int(xy[0].Trim())
				Local offsetY:Int = Int(xy[1].Trim())
				'index
				i+=1
				line = all[i].Trim()
				If debug Then Print "index = "+line
				Local index:Int = Int(line[ (line.FindLast(":") + 1) ..].Trim())
				i+=1
				Local gi:GameImage = New GameImage
				If index &gt; - 1
					name += index
				End
				If debug
					Print "name    = " + name
					Print "x       = " + x
					Print "y       = " + y
					Print "width   = " + width
					Print "height  = " + height
					Print "origX   = " + origX
					Print "origY   = " + origY
					Print "offsetX = " + offsetX
					Print "offsetY = " + offsetY
					Print "index   = " + index
				End
				
				gi.name = name.ToUpper()
				gi.image = pointer.GrabImage(x, y, width, height)
				gi.CalcSize()
				gi.MidHandle(midHandle)
	
				'Ronny: offset of each image is defined differently!
				'		libgdx "offsetX" is what was cut from "left"
				'		libgdx "offsetY" is what was cut from "bottom"
				'		(because libgdx has	0,0 in bottom left). 
				'		libgdx encodes the "left"/"top" portions in
				'		origY and height
				'       -&gt; so offset for top is:
				'       offsetTop: (origY - height) + "bottom"
				gi.offSetX = offsetX
				gi.offSetY = (origY - height) - offsetY
	
				gi.atlasName = atlasGameImageName
				gi.subX = x
				gi.subY = y
				gi.readPixels = readPixels
				gi.SetMaskColor(maskRed, maskGreen, maskBlue)
				
				Self.Set(gi.name, gi)
			Wend
	End
</textarea><br><br>If thats ok with you I would fork diddy and send out pull requests with my patches then.<br><br><br>Another flaw is the volume adjustment during screen changes. If someone does not use diddy's sound functions it should not manipulate global things.<br><br>In other words: diddy fades out and in - but does not care of the "old volume". So Diddy just needs to store volumes of all channels before fading out - and then fade in to this old value (in my jam entry I recognized that because I use a volume of &lt;&gt; 1 and after fading volume was bigger than I wanted).<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="2100724"></a>

<a name="2100725"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#100">[#100]</a></td></tr></table></td></tr><tr ><td class="posttext"> Derron: Before any code changes are made to the atlas loader, can you give an example of where the current Diddy code breaks?<br><br>As for the volume thing, that does indeed sound like a bug.  I'll look at it tonight. <br><br></td></tr></table><br>
<a name="2100726"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#101">[#101]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey Ron, could you test the included example for loading in the Atlases with your changes:<br><br><a href="https://code.google.com/p/diddy/source/browse/examples/SpriteAtlas/spriteAtlas.monkey" target="_blank">https://code.google.com/p/diddy/source/browse/examples/SpriteAtlas/spriteAtlas.monkey</a><br><br>I'm not too keen on the LibGdx format, I prefer either JSON or XML.<br><br>Also I read you had issues with the loading screen and had to do your own, the loading screen was done really quickly and there is a way to use it currently but it isn't straight forward. We'll have a look at your way to see which is better :) <br><br></td></tr></table><br>
<a name="2100730"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#102">[#102]</a></td></tr></table></td></tr><tr ><td class="posttext"> therevills: Ron's proposed changes look to be very implementation-specific.  I would prefer that some smarts be put in to skip all unwanted newlines rather than a binary yes/no for a single line. <br><br></td></tr></table><br>
<a name="2100759"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#103">[#103]</a></td></tr></table></td></tr><tr ><td class="posttext"> Therevills asked me in the blitzmax.com-forum what I missed from Diddy during the jam (as I mentioned I missed some things)<br><br>All below is based on my fresh and very limited knowledge about Monkey - so things might exist somewhere and I just do not know it. Same for the diddy-framework.<br><br>----<br><br>@therevills<br>All basic things I had to implement on my own are things it missed :p<br><br>--[ * ] --<br>a proper music-crossfader: to enable this the sound engine must use some kind of "music channels" or "protected channels". So if you play 31 sfx simultaneously, the two music channels (needed for crossfading) are not touched -&gt; implemented in "jam/resources.monkey: TSoundManager"<br><br>--[ * ] --<br>music loops (not really needed in a framework - but in mobile dev this lowers total file size) -&gt; implemented in "jam/resources.monkey: TMusicSound" (not implemented in a good way but it works)<br><br>--[ * ] --<br>I miss a way to measure "activetime". Millisecs() returns the time since initial load, but for html5 this runs even with the app being suspended. Why? Music stops during suspension ... but my crossfader crossfades as soon as the time of a "music" (which might be a loop of 3 samples) is run out. Having such a helper is simpler than listening to various events<br><br>--[ * ] --<br>ChannelVolumes are touched during fading screens (if enabled) but not reset to the previous value<br><br>--[ * ] --<br>LoadingScreen does not work<br><br>There are some other things I would change, but this could happen in each individual app - eg "SpriteAnimation" uses constant frame times ... In my BlitzMax-Game I have setup'ed idle animations with individual frametimes - eg to blink with your eyes. Also this allows to add a bit of randomness: [open 200ms, closed 20ms, open 250ms, closed 25ms, ....]. I'd better call that "feature request".<br><br><br>@LibGDX<br>I am with Samah, my fixes just did it the same way as the original loader (and because I did not want to use time for this during the jam). The better alternative is to use everything in the file the loader is capable of recognizing.<br>I will try to adjust it properly and do a pull request on github then...<br><br><br>@Loading screen<br>I am not deep enough into Monkey (need Pro for it :p). There are multiple options do handle things in a loader. In my BlitzMax game/framework I load my assets using a big "to load resources"-table containing tresource-containers, these containers abstract individual "load"-functions so all my resources implement loading on their own (they then call LoadImage(), Load an xml and append new resources, ...).<br>The AssetManager is run on every loop of the app (so you could dynamically add new resources during the game). The AssetManager has a "needed for start" resource table which has to get "emptied" before a loading-bar could get displayed somewhere (means: it loads eg mouse cursor, basic font and loading bar ...)<br><br>Every loaded resource sends out an event with the resource object and information about total loaded assets and current asset count. So the event contains everything needed for other objects without the need to know the asset manager.<br><br>Ok, so how to implement a loading screen there? If you do not use the "load while ingame" feature you have to have a loop calling the AssetManager until there is nothing more to load. But contrary to the current Diddy Loading screen, you have of course to Render your Loading screen inbetween.<br><br>Diddys logic:<br>- set screen to loading screen<br>- LoadResources()<br>- - load image 1<br>- - load image 2<br>- - load image 3<br>- first calls to Update()/Render() (results in loading being finished then already)<br><br>Needed logic is:<br>- set screen to loading screen<br>- loop calling Render() (or Update() - you know the best call of both) of the loading screen<br>- - LoadNextResource()<br>- - If AllResourcesLoaded() 'done separately because assets could add more assets or delay loading (dependencies!)<br>- - - refresh "loading bar state"<br>- - else<br>- - - finish with loading screen and fade to desired one<br>- render/update-call finished<br><br>BUT - like said I do not know enough about Monkey, I have read there is some kind of "onLoad"-call when things get loaded, in this case the portion done in Render()/Update() should not be needed. But if that worked -  the current loading screen implementation should work fine - which doesn't<br><br>Aboves approach does not work well for async loading, you might need to introduce a "AllResourcesFinishedLoading()" check too.<br><br>My described implementation can be found here:<br><a href="https://github.com/GWRon/Dig/blob/master/base.util.registry.bmx" target="_blank">https://github.com/GWRon/Dig/blob/master/base.util.registry.bmx</a><br>It is of course not flawless too - but maybe you find problems there or get inspired... who knows. (I got inspired by many things of Diddy without using it - just looking at the code/approach in the sources).<br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="2100758"></a>

<a name="2100757"></a>

<a name="2100756"></a>

<a name="2100773"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#104">[#104]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, made a fix proposal for "LoadLibGdxAtlas".<br><br>Fixes variation in config orders and properly adjusts "offsetX" and "offsetY" (see my comment in the source code).<br>Because of the added flexibility I naturally needed a bit more lines of code - feel free to truncate even more (eg. reuse variable names - which I added to keep things clear).<br><br><br>I thought I could symlink the diddy-src-diddy-directory to Monkey/modules/diddy ... but guess what, Monkey has the same problem as BlitzMax regarding file paths (it uses the "real path" instead of first trying the given one). This eg. leads in our case to an error because Diddy has own exceptions and Monkey base too... But as said, without having Pro I wont furtherly into it (in BlitzMax I believe it is in the Brl.mod/blitz.mod core - the one giving back Paths).<br><br>So for now I have to have 2 copies: the one I use, and the one I do the fixes in - or how to use the whole diddy-directory in the "modules" folder?<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="2100771"></a>

<a name="2100783"></a>

<a name="2100784"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#105">[#105]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, I'll go through it tomorrow and make a few small changes before I merge.  Need to test it though.<br><br>You can give the Monkey compiler a list of module directories, they don't have to all be in the same place.  Open config.winnt.txt (or whatever OS) and check out the MODPATH variable.<br><br>As an example, here's mine:<br><pre class=code>MODPATH="${MONKEYDIR}/modules;${MONKEYDIR}/modules_ext;D:/Shane/Dropbox/Repositories/DiddyHg/src;D:/Shane/Dropbox/Repositories/junglegui;D:/Shane/Dropbox/Repositories/fontmachine"</pre> <br><br></td></tr></table><br>
<a name="2100790"></a>

<a name="2100791"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#106">[#106]</a></td></tr></table></td></tr><tr ><td class="posttext"> Isn't this a bit hmm "inconvenient" - instead of just using symlinks the correct way (inconvenient  in the way of being invisible when looking at the module-directory, invisible regarding portable installs ...). But at least it is an option.<br><br>@changes<br>You could do this, I made a new branch so this is unproblematic if you decline the patch.<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="2100833"></a>

<a name="2100834"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#107">[#107]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @Derron: Isn't this a bit hmm "inconvenient"... <br></div><br>I don't see a problem with it.  You'd do the same with include and lib directories in a C project.<br><br><div class="quote"> ...instead of just using symlinks the correct way... <br></div><br>Windows symlinks are a lot harder to manage than their *nix equivalents.  Most Monkey developers will not have (nor should they need) the knowhow to do this.<br><br>By the way, you don't need to put your name in source code comments.  GitHub will tie the changeset to your email/GitHub account, so it's unnecessary. <br><br></td></tr></table><br>
<a name="2100832"></a>

<a name="2100877"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#108">[#108]</a></td></tr></table></td></tr><tr ><td class="posttext"> @include<br>I do this in a "per file" base, not in a "per compiler-environment-installation-base". When doing everything in with the second variant (aka putting things to the "module" directory) the for me ideal solution would be to allow symlinks. And I do not bother if this is "harder" or "easier" on Windows - if something is possible, and for more than one user a convenient approach, it might be tried to get it working. But we do not want to derail the thread, so we just leave that open - okay?<br><br><br>@name in source code<br>I got used to read names of contributors in my OSS if they are not sure whether they did thingsk correct, or if they want to have a personal explanation of things in it so other see: ahh ok, no general way of doing but a very personal approach. Of course maintainer of the main project may remove such things.<br><br>@changesets<br>I think "git" itself does that already. GitHub "just" adds the convenient way of "pull requests".<br><br>But yeah, I will try to remember your hint and leave my name out of the next commit (especially if this is is "common sense" your the diddy-project).<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="2100880"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#109">[#109]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tried to patch the sound-portion of the diddy framework. But I was surprised there is no "GetChannelVolume()" available in Monkey. Am I right that there is no way to get the current channel volume? I mean seriously: is there a way to do that?<br><br>If not it seems the core needs to get at least a patch to store the initial value of a channel volume (1.0) and on each SetChannelVolume adjusts this array entry. This allows easy integration of a GetChannelVolume()-function.<br>If that is done somewhen, it is very easy to take care of volume changes in diddy.<br><br>Another little unneccessary thing in diddy is done in "ScreenFade.CalcRatio()"<br><br>The function is only called in the "Update()"-Method of the same class. This "Update()" already adjusts volume of all 33 channels (0-31 + 32 for music). It does that on the calculated ratio. So any previous adjustment in "CalcRatio()" is overridden.<br><br><pre class=code>
	Method CalcRatio:Void()
		ratio = counter / fadeTime
		If ratio &lt; 0 Then ratio = 0
		If ratio &gt; 1 Then ratio = 1
		If fadeOut Then ratio = 1 - ratio
	End
</pre><br><br>Should be all the CalcRatio() method should do. At least - until I did not understand the previous version properly.<br>I tried my current code and it seems to work flawless without too -- but of course I cannot check everything to be absolutely sure (that is why I just propose it here than making a push to my fork).<br><br>For now I patched my "mojo/audio.monkey" to store the volumes. I added "GetChannelVolume(channel)" and "GetMusicVolume()". Using these new functions I appended something to the screen fader. When the screen fades out it stores the current volume and uses this for its volume adjustments. I needed to do it that way, because screenfaders are used 2 times instead of a single one with "fadeIn" and "fadeOut"  methods. I thought of using FadeToScreen() to store volumes in the screenfade, but this a) isnt encapsulated properly and b) isnt the only way to change the screen.<br>So to make it properly I would opt for multiple things:<br>- Monkey/mojo needs GetChannelVolume() and GetMusicVolume()<br>- Diddy-Screenfade needs something which is called _once_ per screen transition (so on initial FadeIn of the app, and on FadeOuts on each screen change) - this is then the function to attach the volume-backup (and volume-array-initialization)<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="2100920"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#110">[#110]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I got used to read names of contributors in my OSS if they are not sure whether they did thingsk correct, or if they want to have a personal explanation of things in it so other see: ahh ok, no general way of doing but a very personal approach. Of course maintainer of the main project may remove such things. <br></div><br>You can certainly (and should!) put comments in the code explaining how it works, but my point is that you don't need to put your actual name there.  That's the only comment I'll remove, the rest are fine.<br><br><div class="quote"> I think "git" itself does that already. GitHub "just" adds the convenient way of "pull requests". <br></div><br>Git/Hg/Subversion and pretty much every other version control tool will tag a commit with the email or name of the person who made it.  GitHub then ties it to your GitHub account based on the email.<br><br><div class="quote"> But yeah, I will try to remember your hint and leave my name out of the next commit (especially if this is is "common sense" your the diddy-project). <br></div><br>It's common practice at my place of work, too. <br><br></td></tr></table><br>
<a name="2100936"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#111">[#111]</a></td></tr></table></td></tr><tr ><td class="posttext"> Updated my pull request: removed my name and reformatted the comments to fit into the "72 chars per line" suggestion many editors have (you might know them from the commit-windows in your GUI-VCS-Tool).<br><br>Hope this saves some work for you (copy paste the code and adjusting the comments).<br><br>If you have any improvement to make for my suggestion regarding "audio channels", feel free to drop a line:<br><a href="https://github.com/blitz-research/monkey/pull/76" target="_blank">https://github.com/blitz-research/monkey/pull/76</a><br>Like said ... am not into Monkey (yet) so I do not know much about better ways to approach this subject.<br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="2101001"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#112">[#112]</a></td></tr></table></td></tr><tr ><td class="posttext"> Unrelated update:<br>I'm currently working on DiddyMap and reworking some of the containers framework.  In testing DiddyMap I unwittingly found a serious bug in DiddySet.  As in, it doesn't work at all.  I was unaware that creating custom Set classes requires you to pass a Map object to the constructor.  Originally there was no proper way for me to automate this, since Map requires a subclass to implement Compare.  Now that DiddyMap exists, I can fix it.<br>Here's the catch: To use DiddyMap or DiddySet, you MUST make your generic type implement IComparable or assign an IComparator to the Map/Set.  This is still more convenient than having to extend Map or Set every time you want a new generic.<br><br>I have also created a DiddyDeque that extends the recent(ish) Deque class.  It adds all the functionality of IContainer to Deque, such as sorting and predicates, and much of the functionality from Stack/List/Set that doesn't exist in Deque (such as adding/removing arbitrary elements).  I've also added Deque methods (AddAll, RemoveAll, etc.) to IContainer and therefore all its subclasses (DiddyStack, DiddyList, DiddySet), including initialisation constructors.<br><pre class=code>' regular monkey Deque
Local d:Deque&lt;Foo&gt; = New Deque&lt;Foo&gt;
' creates a DiddyStack initialised with the contents of the Deque
Local s:DiddyStack&lt;Foo&gt; = New DiddyStack&lt;Foo&gt;(d)</pre><br>Gotta clean up the code a bit and add some doco, then I'll push to GitHub. <br><br></td></tr></table><br>
<a name="2101000"></a>

<a name="2101073"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#113">[#113]</a></td></tr></table></td></tr><tr ><td class="posttext"> DiddyMap/DiddyDeque pushed.  Feel free to break it.  :) <br><br></td></tr></table><br>
<a name="2101321"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >k.o.g.</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#114">[#114]</a></td></tr></table></td></tr><tr ><td class="posttext"> Will diddy updated to be compatible with glfw3? <br><br></td></tr></table><br>
<a name="2101341"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#115">[#115]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @k.o.g.: Will diddy updated to be compatible with glfw3? <br></div><br>I never thought to check that... I'll take a look tomorrow. <br><br></td></tr></table><br>
<a name="2101349"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#116">[#116]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>@k.o.g.: Will diddy updated to be compatible with glfw3?<br><br>I never thought to check that... I'll take a look tomorrow.<br> <br></div><br><br>I think it'll need a new native file and the native functions have to be recoded to work with GLFW3... <br><br></td></tr></table><br>
<a name="2101397"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#117">[#117]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @therevills: I think it'll need a new native file and the native functions have to be recoded to work with GLFW3... <br></div><br>Off you go then... ;) <br><br></td></tr></table><br>
<a name="2107411"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#118">[#118]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi!  I've done some work on the Tiled loader to remove its dependency on Diddy.  It seems pretty thorough, but there are a few portions that don't seem complete, so I'm curious to know:<br><br>*  Does it truly support layer wrapping?  (I've tried adding wrap_x/wrap_y properties to a layer in the example map and it didn't seem to wrap when rendering...)<br>*  If it does support layer wrapping, does this jive well with parallax?<br>*  Did map/layer scaling in render actually ever get completed?<br>*  Was the code touched anytime recently?  The declarative style is very java-like, and some usage of Diddy containers can now be done in Monkey.<br><br>Since my project doesn't need isometric maps, these questions apply only to orthogonal maps.  <br><br>I've also changed the xml dependency from Diddy's to skn3's xml, and might incorporate some of the new node-fetching features in it to reduce the amount of code used for the loader and prepare it for an eventual separate release.  However, I'd like to avoid doing any extra work if I can avoid it, hence the questions :) <br><br></td></tr></table><br>
<a name="2107410"></a>

<a name="2107426"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#119">[#119]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Hi! I've done some work on the Tiled loader to remove its dependency on Diddy. <br></div><br>Cool!  What changes have you made, exactly?  The importing of "framework"?<br><br><div class="quote"> * Does it truly support layer wrapping? (I've tried adding wrap_x/wrap_y properties to a layer in the example map and it didn't seem to wrap when rendering...) <br></div><br>It should do.  If it's not, that's a bug (raise an issue).<br><br><div class="quote"> * If it does support layer wrapping, does this jive well with parallax? <br></div><br>Wrapping should be independent per layer.<br><br><div class="quote"> * Did map/layer scaling in render actually ever get completed? <br></div><br>I don't think so, but it's something I never had time to do.<br><br><div class="quote"> * Was the code touched anytime recently? The declarative style is very java-like, and some usage of Diddy containers can now be done in Monkey. <br></div><br>What do you mean by "java-like"?  Which usage of Diddy containers "can now be done in Monkey"?  Note that the new containers module extends the core Monkey classes anyway.<br><br><div class="quote"> I've also changed the xml dependency from Diddy's to skn3's xml... <br></div><br>I'm not so keen Diddy having a dependency on another 3rd party framework, to be honest.  I have in the works an implementation of SAX, anyway, so that should improve performance immensely.<br><br><div class="quote"> ...prepare it for an eventual separate release <br></div><br>Fork and pull request! <br><br></td></tr></table><br>
<a name="2107422"></a>

<a name="2107450"></a>

<a name="2107451"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#120">[#120]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> ool! What changes have you made, exactly? The importing of "framework"? <br></div><br><br>Haha, no, that's the exact opposite of what I wanted to do.  Framework's the core of Diddy!  I don't want to dig in there, so off it went.  All references to DiddyStack and AssertError are gone and replaced with brl equivalents (where applicable).  References to GameImage have been removed.  StripDir() now references brl.filepath.StripDir().  diddy.xml has been replaced by skn3's xml.  (That last one was a bit annoying seeing as how skn3 gave some public properties lowercase names!!!)<br><a href="https://www.diffchecker.com/qknvucb5" target="_blank">https://www.diffchecker.com/qknvucb5</a><br><br>It's still a bit messy;  with the new changes to skn3's xml from the other day, it's likely that turning nodes into an internal list of properties can be simplified.  Furthermore, some references to check for the existence of diddyGame to find a preloaded resource have been removed.  I think that there's a better way to do this, namely having specific points where someone can say "look for an image source here first" without having to override the entire loader.<br><br><div class="quote"> <br>[regarding wrapping] It should do. If it's not, that's a bug (raise an issue).<br> <br></div><br><br>I'll check it with the official example first to make sure it's not my code or something I did when removing the diddy framework references.<br><br><div class="quote"> What do you mean by "java-like"?  <br></div><br><br><pre class=code>Field layers:DiddyStack&lt;TileMapLayer&gt; = New DiddyStack&lt;TileMapLayer&gt;</pre><br><br>^  declarations like this and longer are all over the file;  I'm surprised there's no "late-bound" syntax here to save a few electrons :)<br><br>The extra encapsulation between the xml loader and the parser seems pointless when using skn3's xml, but perhaps makes more sense when using diddy.xml for other things.  I did a half-assed job of removing it, but the root node stuff and assembling the property list seems like places the code can be trimmed down some more. <br><br>Also the assertions are a bit "strict", I was thinking of letting some of them print a warning to debug console instead and let the program error out if it couldn't recover (exposing a more relevant stack trace just in case the error assertion was premature or caught the wrong thing), but there weren't too many places where this seemed like it would be helpful.<br><br><br><div class="quote"> Which usage of Diddy containers "can now be done in Monkey"? Note that the new containers module extends the core Monkey classes anyway. <br></div><br> The only thing in DiddyStack which was used here was FillArray, and I find its functionality a bit strained now that stack.data[] is exposed.  It was used only once in this file, and was pretty easily replaced.<br><br><div class="quote"> I'm not so keen Diddy having a dependency on another 3rd party framework, to be honest. I have in the works an implementation of SAX, anyway, so that should improve performance immensely. <br></div><br><br>what's SAX?  I swapped out the dependency because I didn't want the tilemap loader to have a dependency on Diddy, lol.  Outside of diddy I believe skn3's xml is the most used, and so I've used it here (and indeed have already done so in my own framework, where json can't be used) <br><br></td></tr></table><br>
<a name="2107448"></a>

<a name="2107449"></a>

<a name="2107447"></a>

<a name="2107495"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#121">[#121]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @Nobuyuki: All references to DiddyStack... <br></div><br>Generally I only use DiddyStack within the framework if I need extra functionality.  If it's only using vanilla functionality, it can be safely replaced with Stack.  It extends Stack for this exact reason.<br><br><div class="quote"> @Nobuyuki: ...and I find its functionality a bit strained now that stack.data[] is exposed <br></div><br>This is the one of the reasons it existed, and yes you're correct that it's no longer required.<br><br><div class="quote"> @Nobuyuki: References to GameImage have been removed... <br></div><br>That was there for backward compatibility, because at one point the renderer required you to use the screen framework.  I changed it to handle raw Images if you don't use GameImage.<br><br><div class="quote"> @Nobuyuki: That last one was a bit annoying seeing as how skn3 gave some public properties lowercase names!!!) <br></div><br>Yeah, I try to make all properties start with uppercase.<br><br><div class="quote"> @Nobuyuki: ...declarations like this and longer are all over the file; I'm surprised there's no "late-bound" syntax here to save a few electrons :) <br></div><br>Personal taste, due to (as you stated) Java 5/6 requiring it.  Java 7+ has the diamond operator so that you can use inferred generics (albeit the other direction).<br>In Monkey you would do this:<br><pre class=code>Field layers := New DiddyStack&lt;TileMapLayer&gt;</pre><br>In Java 7+ you would do this:<br><pre class=code>Stack&lt;TileMapLayer&gt; layers = new Stack&lt;&gt;();</pre><br>I tend to dislike inferred variable declaration (especially fields, locals are generally ok).<br><br><div class="quote"> @Nobuyuki: what's SAX? <br></div><br><a href="https://en.wikipedia.org/wiki/Simple_API_for_XML" target="_blank">https://en.wikipedia.org/wiki/Simple_API_for_XML</a><br>Basically the developer creates a class that dynamically handles XML tags as they're read, rather than reading the entire thing into memory.<br>Much much much lower memory requirement, and it lets you stream multi-megabyte XML from disk or network rather than downloading the entire file at once.<br>The downside is not being able to use any kind of Xpath-style magic, but it means that your data (map format, etc.) is not directly tied to an XML document or its elements.<br><br><div class="quote"> @Nobuyuki: I didn't want the tilemap loader to have a dependency on Diddy... <br></div><br>But the Tiled loader is part of Diddy. :)<br>Otherwise you may as well strip every submodule of Diddy into its own directory.  Also, unless you import reflection, Monkey will strip anything it doesn't need.<br>People seem to have this mindset that to use part of Diddy you need to use all of it.  This is true in some cases due to poor encapsulation on my part, but it's one of those 20:20 hindsight things where you learn from your mistakes.  If I were to write Diddy 2 (maybe I already am?) it would be a lot cleaner.<br><br><div class="quote"> @Nobuyuki: Outside of diddy I believe skn3's xml is the most used... <br></div><br>I wouldn't have a problem with this if skn3's xml was distributed with Monkey, or if Monkey had a nice Maven-style dependency management system.<br><br>Something that might be awesome is for me to work with Skn3 to make both XML parsers work with a common interface, so that the developer can choose which engine they want to use.<br>For example, Diddy's XMLElement and Skn3's XMLNode could be changed to implement IXMLNode which provides method declarations that both parsers understand.<br><br>If you'd like I can add you as a contributor, just make sure to put your modifications on a separate branch for now, and once we've decided on final changes it can be merged into develop. <br><br></td></tr></table><br>
<a name="2107494"></a>

<a name="2107499"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#122">[#122]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Otherwise you may as well strip every submodule of Diddy into its own directory. <br></div><br><br>A difference in preferences, I suppose!  I've kept my framework modular to the point that there's been one or two times where I've had to suck it up and have duplicate code because it was "just too clever" for a transport object to do justice... Normally though, I <i>do</i> pretty much separate everything out into folders like you say.  The Tiled loader is really neat and probably deserves its own module.  So would your XML thing if you get that SAX thing working.<br><br><br><div class="quote"> Something that might be awesome is for me to work with Skn3 to make both XML parsers work with a common interface, so that the developer can choose which engine they want to use.<br>For example, Diddy's XMLElement and Skn3's XMLNode could be changed to implement IXMLNode which provides method declarations that both parsers understand. <br></div><br><br>The only thing really keeping skn3's xml parser working with yours are a couple differences in type names that could be overcome with a transport object, and that (frankly <i>really annoying</i>) change of some public properties to lowercase instead of the usual Sentence case.  Just guessing here, but those are maybe the way they are for backwards compatibility from an earlier time when the original variables were completely exposed in his code.  <br><br>You're probably more likely to get cooperation by using direct-casted transport objects than a unified Interface;  you might have to bite the bullet on that one even if it's less "safe".  (I had this same issue when trying to unify sorters under an interface with skn3 -- he really insisted on having part of the implementation exposed (ascending/descending:Bool) in the function definition, despite that not jiving with things like collating and unicode locale-specifc sorting.  Hurrgh!)  That's just the thing about personal preference in coding styles, though.<br><br><br><div class="quote"> If you'd like I can add you as a contributor, just make sure to put your modifications on a separate branch for now, and once we've decided on final changes it can be merged into develop. <br></div><br>If it's possible to somehow start a separate repo or fork for just the tile portion so I can make lazy pull requests upstream, I'd be okay with it.  However I don't plan on doing <i>too much</i> work, so it may be just as easy once all's said and done to just re-incorporate it yourself.  I've never really screwed around with Git too much to know about how convenient forking is -- merging branches in the same repo, yes.  Forking to separate repos and sending stuff back upstream, no idea.<br><br>My changes are a bit "radical" to easily re-merge a separate branch, since all of Diddy's gone save for base64 and tile (renamed tilemap for my project) and put into different folders... <br><br></td></tr></table><br>
<a name="2107497"></a>

<a name="2107498"></a>

<a name="2107496"></a>

<a name="2107502"></a>

<a name="2107503"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#123">[#123]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @Nobuyuki: If it's possible to somehow start a separate repo or fork for just the tile portion so I can make lazy pull requests upstream, I'd be okay with it. <br></div><br>Easily done.  You can just directly edit a file in the master repository on GitHub and it will automatically fork it for you.  Once you're done, click the big green "Create pull request" button.<br><br><div class="quote"> @Nobuyuki: ...since all of Diddy's gone save for base64 and tile... <br></div><br>Then it doesn't really matter if it's still in the diddy package. :) <br><br></td></tr></table><br>
<a name="2107748"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#124">[#124]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've filed a bug report about the wrapping, with a link to a file which utilizes wrapping. <br><br></td></tr></table><br>
<a name="2107757"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#125">[#125]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool, I'll check it out. <br><br></td></tr></table><br>
<a name="2107764"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#126">[#126]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm... looks like it's something to do with the wacky way I implemented screen boundaries.  It's something I've been wanting to fix for ages, but backward compatibility etc.<br>I may have to rewrite the rendering engine to fix it.  No biggie, I guess, I'll just have to be careful so that people will only have to make minor changes to their code. <br><br></td></tr></table><br>
<a name="2107799"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#127">[#127]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hopefully whatever the rewrite does still deals with rects (and popping the matrix state, if necessary);  dunno much about the screen framework but if it gets tied heavily into that, it may be a bit harder to interop with it again<br><br>Was the problem more complicated than just how the render rect was specified? <br><br></td></tr></table><br>
<a name="2107803"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#128">[#128]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @Nobuyuki: Was the problem more complicated than just how the render rect was specified? <br></div><br>Kinda... originally it was designed such that the RenderMap call expected the screen boundaries, and you'd do the offset manually in DrawTile.  Since the base RenderMap call knows nothing about where the map starts and ends, it can't do wrapping properly.<br>I'm rewriting it such that RenderMap accepts the offset as well as the target rectangle, and I'm fixing the scaling in the process.  DrawTile should be automatically handled for you so you only need to override it if you want to do something special. <br><br></td></tr></table><br>
<a name="2108301"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#129">[#129]</a></td></tr></table></td></tr><tr ><td class="posttext"> Let me know when you've made an update, I look forward to seeing the results :) <br><br></td></tr></table><br>
<a name="2108312"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#130">[#130]</a></td></tr></table></td></tr><tr ><td class="posttext"> Samah is currently having some RL issues, it may take a bit of time. :( <br><br></td></tr></table><br>
<a name="2108329"></a>

<a name="2108330"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#131">[#131]</a></td></tr></table></td></tr><tr ><td class="posttext"> RL issues all good now, back to Diddy. ;)<br>Just working out some glitches with the scaling, then I'll update it.  The next thing I'll do is strip out most of the XML stuff and have the loader in a separate module.  Now that there's a working SAX implementation it should be a lot easier to do.<br><br>Edit: Done, in theory.  Update to latest develop. <br><br></td></tr></table><br>
<a name="2108327"></a>

<a name="2108437"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#132">[#132]</a></td></tr></table></td></tr><tr ><td class="posttext"> haven't tested it yet, but looks good so far.  <strike>There are a lot of local variables which Jungle flags as hiding local variables in an enclosing block.  These variables are defined near the top level of the render method, but don't appear to be used in the outside block.  The diffs show that you added a lot of these locals in the latest update.  Was this for safety purposes (variables living outside their scope)?  When they're re-declared like this in the nested blocks, the enclosing block declarations appear to become useless.</strike>  My bad, I missed a line in the diff where you got rid of the upper block level locals. <br><br></td></tr></table><br>
<a name="2108436"></a>

<a name="2108441"></a>

<a name="2108442"></a>

<a name="2108444"></a>

<a name="2108445"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#133">[#133]</a></td></tr></table></td></tr><tr ><td class="posttext"> A couple things:<br><br>1.  Wrapping still doesn't appear to work on my end, in either the example or in my project's test map.<br>2.  I've removed the diddygame references again, particularly the one at line 619.  I don't believe this causes any problems, but......<br>3.  The routine now breaks when combined with an autofit routine.  I'm assuming this is because when doing RenderLayer() either the operations after PushMatrix() don't respect the global matrix the way it was before, or the viewport calculations don't take into effect matrix state at all, or both.  I have yet to pin down where the problem is, but I'm tweaking it right now.  Tile rendering boundaries however are currently all kinds of messed up when I resize my window using AutoScale, even when the viewport appears to match the scissor rectangle.  <b>EDIT:</b>  I've managed to fix it on my end, adding a pull request but no guarantees it will work with whatever diddy uses to scale screens....<br><br>P.S.  The scaling now seems to work.  Nice!  When combined with wrapping, it would be pretty neat to support layer scale metadata so that we can make even more convincing parallax scrolling effects. <br><br></td></tr></table><br>
<a name="2108446"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#134">[#134]</a></td></tr></table></td></tr><tr ><td class="posttext"> At a glance I'd guess that your GetMatrix call is probably all it needs, and the screen ratio stuff can be totally ripped out.  Also, wrapping works on my end...<br>I'll take a look tonight. <br><br></td></tr></table><br>
<a name="2108477"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#135">[#135]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh, I think I'm using wrapping differently than you are.  It looks like you're looking for wrap properties on the map level, whereas I'm setting the properties on the layer level, and wrapping seems to be done on the map level as well, but not on the individual layer level! <br><br></td></tr></table><br>
<a name="2108504"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#136">[#136]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've updated my pull request to the develop branch to include individual layer control for wrapping. <br><br></td></tr></table><br>
<a name="2108525"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#137">[#137]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> ...and wrapping seems to be done on the map level as well, but not on the individual layer level! <br></div><br>Wow... that was a pretty dumb mistake. XD<br>Thanks. :)<br><br>Edit: Merged. <br><br></td></tr></table><br>
<a name="2108523"></a>

<a name="2108526"></a>

<a name="2108527"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#138">[#138]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool.<br><br>One last thing I did,  I added better support for relative and hardcoded paths into the thing, since the diddy example I believe relies on atlases.  I haven't gotten around to messing around with my version to support atlas overrides, yet, but the non-atlas support in the file is a bit fragile and likes to explode on relative paths due to the use of StripDir().  Since the fix is not something I'm comfortable putting directly on the diddy fork, I'm providing you a diff between the previous version of my fork, and the version with the fixed graphicsPath support.  Please consider adding it, or adding a routine to check if the file exists in a few locations before crapping out:<br><br><a href="https://www.diffchecker.com/g9rhpr0w" target="_blank">https://www.diffchecker.com/g9rhpr0w</a><br><br>the block near line 429 (or 227) is where I'd normally do the "safe" check but since the preloader and attribute crap is all separated out into other objects, doing this would break your encapsulation philosophy a bit, since checking if a file exists would require checking for null using mojo's LoadImage, unless you use another module :P <br><br></td></tr></table><br>
<a name="2108528"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#139">[#139]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've just done a minor refactor on the tile module to allow the usage of Skn3's XML module without importing diddy.xml.<br>Since it imports framework it will still get the Diddy XML module, but I'm working on removing that dependency too.<br>The catch is, you have to import and extend DiddyTiledTileMapLoader or Skn3TiledTileMapLoader.  Neither of them are automatically imported by tile.monkey, to avoid dependencies.<br><br><pre class=code>Import diddy.tile
Class MyLoader Extends TiledTileMapLoader
	' ...
End</pre><br>Becomes:<br><pre class=code>Import diddy.tile
Import diddy.tile.diddyloader
Class MyLoader Extends DiddyTiledTileMapLoader
	' ...
End</pre><br>Or:<br><pre class=code>Import diddy.tile
Import diddy.tile.skn3loader
Class MyLoader Extends Skn3TiledTileMapLoader
	' ...
End</pre> <br><br></td></tr></table><br>
<a name="2108743"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#140">[#140]</a></td></tr></table></td></tr><tr ><td class="posttext"> "Fixed" an issue with the XML readers.  LoadMap now only supports direct XML strings, not filenames.  This is because LoadString() is in Mojo for everything but stdcpp and glfw.<br>I've also applied this to Diddy's XML parser, so that ParseFile is essentially disabled unless you provide the preprocessor statement #XML_USE_LOADSTRING=True in your game.  I removed a bunch of dependencies in diddy.xml too, such as the screen framework and container modules.  It's just about standalone now. <br><br></td></tr></table><br>
<a name="2109219"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#141">[#141]</a></td></tr></table></td></tr><tr ><td class="posttext"> As mentioned here: <a href="http://www.monkey-x.com/Community/posts.php?topic=8816&amp;post=109218" target="_blank">http://www.monkey-x.com/Community/posts.php?topic=8816&amp;post=109218</a><br>I've removed the screen framework dependency from the tile engine, and fixed some compilation errors. <br><br></td></tr></table><br>
<a name="2109248"></a>

<a name="2109249"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#142">[#142]</a></td></tr></table></td></tr><tr ><td class="posttext"> any suggestions on how to reduce/eliminate stitching when scaling the map?  I was thinking of disabling image filtering for my project, but I'm wondering if there'd be a fast way to batch the tiles without having to go to mojo2 for draw surface support. <br><br></td></tr></table><br>
<a name="2109284"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#143">[#143]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm.... I can only think of manual pixel manipulation, or maybe use raw OpenGL commands to load/draw the tileset.  Then you could manually set the texture filter for the tileset to nearest neighbour. <br><br></td></tr></table><br>
<a name="2109296"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#144">[#144]</a></td></tr></table></td></tr><tr ><td class="posttext"> I wonder if increasing a tileset's padding in Tiled while extruding out each tile's edge pixels could possibly work.  Not sure if this would translate to less visible seams, but it's kinda a PITA to do this without a special tool like TexturePacker.  Annoying moreso because the bin-packing routine doesn't have a high level of control over what goes where... <br><br></td></tr></table><br>
<a name="2109474"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#145">[#145]</a></td></tr></table></td></tr><tr ><td class="posttext"> As per a suggestion from therevills, I've moved the Diddy examples to a separate repository.<br>Core: <a href="https://github.com/swoolcock/diddy" target="_blank">https://github.com/swoolcock/diddy</a><br>Examples: <a href="https://github.com/swoolcock/diddy-examples" target="_blank">https://github.com/swoolcock/diddy-examples</a> <br><br></td></tr></table><br>
<a name="2109481"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#146">[#146]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've written a tool to extrude tiles out in a tileset.  However, when specifying spacing and margin parameters for a tileset, it causes Diddy's calculations to chuff up and ultimately crash with an array index out of range error.  Here is an example map with an extruded tileset:<br><br><a href="https://www.mediafire.com/?omccqkloplaf9gj" target="_blank">https://www.mediafire.com/?omccqkloplaf9gj</a><br><br>Can you confirm the bug? <br><br></td></tr></table><br>
<a name="2109518"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#147">[#147]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah broken on my end too.  I'll take a look at it. <br><br></td></tr></table><br>
<a name="2109527"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#148">[#148]</a></td></tr></table></td></tr><tr ><td class="posttext"> Fixed.  It was calculating the tile count incorrectly.  Note that scaling still looks a bit strange, but I think that might be a combination of a poor tileset and Mojo's image filtering.  It's certainly a lot better than it was! <br><br></td></tr></table><br>
<a name="2109862"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#149">[#149]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've added some bugfixes to renderer and diddyreader.  There should be two pull requests pending. <br><br></td></tr></table><br>
<a name="2111533"></a>

<a name="2111539"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#150">[#150]</a></td></tr></table></td></tr><tr ><td class="posttext"> Been cracking at it again, this time writing a custom TileMapLoader to turn dynamically-generated dungeons from an array into a fully-fledged tilemap based on some default metadata.  What an absolute pain in the ass!  Anyway, because the maps have to have a set size, and my generator tends to wander around a lot, I decided to (at first) take the "safe" approach and make really huge arrays that are sparsely populated.<br><br><strike><br>I didn't expect it, but it seems that this brings my game's speed to a crawl.  Doesn't tilemap cull rendering that is out of the viewing plane?  I'm guessing this isn't my problem, since I'm missing my update target as well on the large maps (150x150 tiles, 48x48px each, 2 layers), not just my render target.   What is looped through the most here?  I noticed that I have to make a lot of TileMapCells for everything to display properly.  Maybe ??  Any advice you may have would be helpful.<br><br>For reference, my uFPS is about 31 (half of what it needs to be) and rFPS is 10 (1/6th).  Confirmed similar results on another person's machine, a recent (~2yrs) build.</strike><br><br>Edit:  Embarrassingly, the majority of the slowdown was due to the rendering of a minimap I was using to debug for crashes / missing tiles....  Please disregard. <br><br></td></tr></table><br>
<a name="2111541"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#151">[#151]</a></td></tr></table></td></tr><tr ><td class="posttext"> Has something changed with diddy.collections or IComparable in more recent versions?<br><br>I'm getting "Type IComparable not found" in some old code that was working, and the same with working example code given by Samah and therevills in part 7 of this thread - it was to do with z-sorting.<br><br>edit: Fixed - needed to change IComparable to IDepComparable, I must have missed a change in between updates. <br><br></td></tr></table><br>
<a name="2111540"></a>

<a name="2111559"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#152">[#152]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @rIKmAN: Fixed - needed to change IComparable to IDepComparable. <br></div><br>Yeah, when I introduced the containers module I had to deprecate some of the collections interface names to reuse them.  I could have used a different name, but: a) I couldn't think of anything other than IComparable, b) It's a minor change to existing code.<br><br>Having said that, you should probably be using the containers module rather than collections.  It gives you better interoperability with the official Monkey classes and has a helluva lot more functionality.  Just use DiddyStack instead of ArrayList. <br><br></td></tr></table><br>
<a name="2111581"></a>

<a name="2111582"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#153">[#153]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ahhh I missed the introduction of containers so didn't realise anything had been deprecated - thanks Samah.<br><br><div class="quote"> Just use DiddyStack instead of ArrayList <br></div><br><br>Is this the only change needed to my code? <br><br></td></tr></table><br>
<a name="2111593"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#154">[#154]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @rIKmAN: Is this the only change needed to my code? <br></div><br>I've updated the containers wiki with a migration section at the bottom.<br><a href="https://github.com/swoolcock/diddy/blob/wiki/Containers.md" target="_blank">https://github.com/swoolcock/diddy/blob/wiki/Containers.md</a> <br><br></td></tr></table><br>
<a name="2112169"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#155">[#155]</a></td></tr></table></td></tr><tr ><td class="posttext"> does diddy play nice with mojo2  ? <br><br></td></tr></table><br>
<a name="2112173"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#156">[#156]</a></td></tr></table></td></tr><tr ><td class="posttext"> Quick Q:  What's the secret to getting animated tiles?  I can see something in the code for it, but I don't wanna spend all day trying different things just to find out it's not complete if it isn't (this is for the game jam!)<br><br>Sorry for the laziness,  hopefully there's an easy answer on how to make it work :) <br><br></td></tr></table><br>
<a name="2112266"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#157">[#157]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> does diddy play nice with mojo2 ? <br></div><br>Havent tried it yet... but I dont think so. Watch out for Samah's new project ;)<br><br><div class="quote"> What's the secret to getting animated tiles? <br></div><br>Samah did have an example a year or so ago... but I cant find it.... <br><br></td></tr></table><br>
<a name="2112523"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#158">[#158]</a></td></tr></table></td></tr><tr ><td class="posttext"> Where is the diddy repo at the moment is it still being worked on or is the one on google code the most upto date ? iv not touched it in months so suspect my version is way out of date/. <br><br></td></tr></table><br>
<a name="2112535"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#159">[#159]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nvm found it on git. <br><br></td></tr></table><br>
<a name="2113094"></a>

<a name="2113095"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#160">[#160]</a></td></tr></table></td></tr><tr ><td class="posttext"> More work added to the JSON loader for the SimpleGUI added, it now can load in Sliders as well as Buttons. Still WIP, but committed to GIT.<br><br>Sample JSON file:<br><pre class=code>
{
	"menu": {
		"y": 210,
		"buttons": {
			"button": [
				{
					"name": "Resume",
					"image": "button1",
					"offsetY": 10,
					"redText": 255,
					"blueText": 255,
					"greenText": 255
				},
				{
					"name": "Quit",
					"image": "button1",
					"offsetY": 10,
					"redText": 255,
					"blueText": 255,
					"greenText": 255
				}
			]
		},
		"sliders": {
			"slider": [
				{
					"name": "Sound",
					"image": "slider",
					"borderX": 35,
					"borderY": 20,
					"x": 100,
					"y": 100
				}	
			]
		}
	}
}
</pre> <br><br></td></tr></table><br>
<a name="2113125"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >malublu</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#161">[#161]</a></td></tr></table></td></tr><tr ><td class="posttext"> There is a bug in the GUI module.<br>I only run the GUI example and ist crashed, beause they could not find button_enter.wav<br>It should not requierd or?<br>After i added an wav (copy paste the example file and renamed it)<br>it works<br><br>Also the loading example not working<br>Should it work with LoadingScreen.Progress?<br><br>I try it out. :)<br>I hope it is not my ERROR ^^<br><br>Okay its work :)<br>You should update your example! :)<br><br>I maked a pull request :) <br><br></td></tr></table><br>
<a name="2113123"></a>

<a name="2113122"></a>

<a name="2113118"></a>

<a name="2113119"></a>

<a name="2113120"></a>

<a name="2113130"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#162">[#162]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I only run the GUI example and ist crashed, beause they could not find button_enter.wav <br></div><br>We removed some of the sound file formats to reduce the size of the repo.<br><br><div class="quote"> I maked a pull request :) <br></div><br>Ta :) <br><br></td></tr></table><br>
<a name="2113132"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#163">[#163]</a></td></tr></table></td></tr><tr ><td class="posttext"> What did you do to fix the loading screen because mine wont work either the progress bar just jumps to full after a long pause during which time i guess its loading in all the assets. <br><br></td></tr></table><br>
<a name="2113133"></a>

<a name="2113135"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >malublu</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#164">[#164]</a></td></tr></table></td></tr><tr ><td class="posttext"> look @ github<br><a href="https://github.com/malublu/diddy-examples/commit/67188f9953f0a409e9d3bd057dd0b73cc28eabe3" target="_blank">https://github.com/malublu/diddy-examples/commit/67188f9953f0a409e9d3bd057dd0b73cc28eabe3</a><br><br>In the tile system is also a bug.<br>I check it to.<br>And sorry for my bad english ^^ <br><br></td></tr></table><br>
<a name="2113139"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >malublu</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#165">[#165]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay i fix the imporet in the example.<br>You could also edit the source file<br>(diddy)<br><br>I also edit the example with the new map and the new loader:<br><a href="https://github.com/swoolcock/diddy-examples/pull/2/files" target="_blank">https://github.com/swoolcock/diddy-examples/pull/2/files</a> <br><br></td></tr></table><br>
<a name="2113140"></a>

<a name="2113142"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#166">[#166]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> What did you do to fix the loading screen because mine wont work either the progress bar just jumps to full after a long pause during which time i guess its loading in all the assets. <br></div><br>Because Diddy doesnt use the Async loader you have to do it manually, something like this:<br><br><pre class=code>Class MyGame Extends DiddyApp
	Method Create:Void()
		SetDeviceWindow(1366, 768, 4)
		SetScreenSize(1366, 768, True)
		diddyGame.loadingScreen.Init("graphics/loading/Loadingscreen.jpg", "graphics/loading/loadingbar.png", "graphics/loading/loadingbarempty.png", 10, -1, 700)
		diddyGame.loadingScreen.destination = TitleScreen.GetInstance()
		diddyGame.loadingScreen.loadingScreenDelegate = New MyLoadingScreenDelegate()
		Start(MySplashScreen.GetInstance())
	End
End

Class MyLoadingScreenDelegate Extends LoadingScreenDelegate
	Field i:Int = 0
	Field delay:Float = 0
	Field load:Bool
	Field fadeDelay:Float
		
	Method Load:Void()
		Local tmpImage:Image
		If Not load
			delay += 1 * dt.delta
			If delay &gt; 1 Then
				i += 1
				delay = 0
				load = True
			End
		End

		If load
			Select i
				Case 1
					game.font = New BitmapFont("fonts/font.txt", True)
					diddyGame.loadingScreen.Progress()
					load = False
				Case 2
					game.buttonFont = New BitmapFont("fonts/buttonFont.txt", True)
					diddyGame.loadingScreen.Progress()
					load = False
				Case 3
					diddyGame.images.LoadAnim("game/cardAtlas1.png", 136, 195, 52, tmpImage)
					diddyGame.loadingScreen.Progress()
					load = False
				Case 4
					diddyGame.images.Load("game/backcard1.png")
					diddyGame.images.Load("game/wild1.png")
					diddyGame.loadingScreen.Progress()
					load = False
				Case 5
					diddyGame.images.Load("game/progress_bar_empty.png", "", False)
					diddyGame.loadingScreen.Progress()
					load = False
				Case 6
					diddyGame.images.Load("game/progress_bar_fullpng.png", "", False)
					diddyGame.loadingScreen.Progress()
					load = False
				Case 7
					diddyGame.images.Load("game/PanelTop.png", "", False)
					diddyGame.loadingScreen.Progress()
					load = False
				Case 8
					diddyGame.images.LoadAnim("game/stars.png", 38, 38, 2, tmpImage)
					diddyGame.loadingScreen.Progress()
					load = False
				Case 9
					diddyGame.images.LoadAnim("game/menuboard.png", 200, 215, 2, tmpImage)
					diddyGame.loadingScreen.Progress()
					load = False
				Case 10
					diddyGame.loadingScreen.Progress()
					load = False
			End
		End
	End
	
	Method Draw:Void()
		If game.font &lt;&gt; Null Then
			game.font.DrawText("Loading...", SCREEN_WIDTH2, SCREEN_HEIGHT2, eDrawAlign.CENTER)
		End
	End
End
</pre><br><br>@malublu - Yeah the examples are out of date, thanks for your input :) <br><br></td></tr></table><br>
<a name="2113144"></a>

<a name="2113145"></a>

<a name="2113146"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#167">[#167]</a></td></tr></table></td></tr><tr ><td class="posttext"> @therevills: I'll handle the pull requests, but could you test the example for me, please?<br><br>@therevills: I cherry picked the commits to develop.  Don't merge with master until they're tested, please. :)<br>Also please work from develop and not master, and pull before committing anything that would inadvertently create a new branch. <br><br></td></tr></table><br>
<a name="2113147"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#168">[#168]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for that therevills, seems ok for small things with only a few sprites but seems a little OTT for larger projects with lots of assets, any reason you don't do it async? <br><br></td></tr></table><br>
<a name="2113161"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >malublu</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#169">[#169]</a></td></tr></table></td></tr><tr ><td class="posttext"> @therevills: No Problem :)<br>What means TA? ^^ <br><br></td></tr></table><br>
<a name="2113173"></a>

<a name="2113174"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#170">[#170]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @Samah - but could you test the example for me, please? <br></div><br>Ah you still look here :)  When I get time...<br><br><div class="quote"> @Paul - any reason you don't do it async? <br></div><br>Havent needed it yet and they were new commands to Monkey... Diddy normally gets enhancements when we need to add something to it. For example when I'm actually working on a game :)<br><br><div class="quote"> @Malublu - What means TA? ^^ <br></div><br>English slang for "Thanks". <br><br></td></tr></table><br>
<a name="2113181"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#171">[#171]</a></td></tr></table></td></tr><tr ><td class="posttext"> My loading bar gets to step 9 of 12 using your code above therevills, I only added a few extra steps but it halts on step 9, any clues? <br><br></td></tr></table><br>
<a name="2113182"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#172">[#172]</a></td></tr></table></td></tr><tr ><td class="posttext"> Lol forgot to call diddyGame.loadingScreen.Progress() on the additional steps my bad. <br><br></td></tr></table><br>
<a name="2113198"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#173">[#173]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @therevills: When I get time... <br></div><br>You make it sound like I have time myself. XD<br><br><pre class=code>[samah conformsToProtocol:@protocol(FreeTime)]</pre><br>Resolves to NO. ;) <br><br></td></tr></table><br>
<a name="2113216"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >malublu</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#174">[#174]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
Method LoadMap:TileMap(xmlString:String)
		' look for the data encoding, if we cant find it assume its RAW XML and thats just too slow!
		Local findData:Int = xmlString.Find("&lt;data encoding")
		If findData = -1
			Error("Tiled Raw XML is not supported!")
		End
</pre><br><br>You should allow the Raw XML, with an extra function like:<br><pre class=code>
Method LoadMap:TileMap(xmlString:String, allowRaw:Bool)
		' look for the data encoding, if we cant find it assume its RAW XML and thats just too slow!
		If Not allowRaw
			Local findData:Int = xmlString.Find("&lt;data encoding")
			If findData = -1
				Error("Tiled Raw XML is not supported!")
			End
		End
</pre><br><br>Because if you use only the object zone, you dont have an tile layer.<br>Why? Okay its a bit dirty, because a tiled map is only for tiled map. But you can reusing it for other stuff.<br>Only a improvement :) <br><br></td></tr></table><br>
<a name="2113222"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#175">[#175]</a></td></tr></table></td></tr><tr ><td class="posttext"> We found that Tiled Raw XML was way to slow to parse, thats why Diddy doesnt support it. Also with Tiled it really easy to save your levels as base64. <br><br></td></tr></table><br>
<a name="2113236"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >malublu</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#176">[#176]</a></td></tr></table></td></tr><tr ><td class="posttext"> but if you not have a tiled layer? ;)<br>So its not working.<br>Like here:<br><pre class=code>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;map version="1.0" orientation="orthogonal" renderorder="right-down" width="100" height="100" tilewidth="32" tileheight="32" nextobjectid="8"&gt;
 &lt;tileset firstgid="1" name="test" tilewidth="871" tileheight="919" tilecount="5"&gt;
  &lt;tile id="0"&gt;
   &lt;image width="625" height="229" source="test.png"/&gt;
  &lt;/tile&gt;
 &lt;/tileset&gt;
 &lt;objectgroup name="Objektebene 1"&gt;
  &lt;object id="1" gid="1" x="1839" y="1214" width="625" height="229"/&gt;
 &lt;/objectgroup&gt;
&lt;/map&gt;
</pre> <br><br></td></tr></table><br>
<a name="2113237"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#177">[#177]</a></td></tr></table></td></tr><tr ><td class="posttext"> It might be easier to convert it to the new SAX parser and just throw an exception if it tries to read a raw layer. <br><br></td></tr></table><br>
<a name="2113238"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >malublu</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#178">[#178]</a></td></tr></table></td></tr><tr ><td class="posttext"> objectgroup is every time raw. (xml)<br>only the tile is base64 encoded.<br>So if you try an file that not have an tile layer.<br>Only a group or image layer, thats crashet.<br>You can throw anm error if the tile layer not encoded<br>Like:<br><pre class=code>
&lt;layer name="Kachelebene 1" width="100" height="100"&gt;
  &lt;data encoding="base64" compression="zlib"&gt;
   eJztwTEBAAAAwqD1T+1lC6AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAbnEAAAQ==
  &lt;/data&gt;
 &lt;/layer&gt;
</pre><br><br>So thats not working:<br><pre class=code>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;map version="1.0" orientation="orthogonal" renderorder="right-down" width="100" height="100" tilewidth="32" tileheight="32" nextobjectid="8"&gt;
 &lt;tileset firstgid="1" name="test" tilewidth="871" tileheight="919" tilecount="5"&gt;
  &lt;tile id="0"&gt;
   &lt;image width="625" height="229" source="test.png"/&gt;
  &lt;/tile&gt;
 &lt;/tileset&gt;
 &lt;objectgroup name="Objektebene 1"&gt;
  &lt;object id="1" gid="1" x="1839" y="1214" width="625" height="229"/&gt;
 &lt;/objectgroup&gt;
&lt;/map&gt;
</pre><br><br>but that:<br><pre class=code>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;map version="1.0" orientation="orthogonal" renderorder="right-down" width="100" height="100" tilewidth="32" tileheight="32" nextobjectid="8"&gt;
 &lt;tileset firstgid="1" name="test" tilewidth="871" tileheight="919" tilecount="5"&gt;
  &lt;tile id="0"&gt;
   &lt;image width="625" height="229" source="test.png"/&gt;
  &lt;/tile&gt;
 &lt;/tileset&gt;
 &lt;objectgroup name="Objektebene 1"&gt;
  &lt;object id="1" gid="1" x="1839" y="1214" width="625" height="229"/&gt;
 &lt;/objectgroup&gt;
 &lt;layer name="Kachelebene 1" width="100" height="100"&gt;
  &lt;data encoding="base64" compression="zlib"&gt;
   eJztwTEBAAAAwqD1T+1lC6AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAbnEAAAQ==
  &lt;/data&gt;
 &lt;/layer&gt;
&lt;/map&gt;
</pre><br><br>You see it is not the best soluion to test on &lt;data encoding. It should be testet if layer exist.<br>You know what I mean? <br><br></td></tr></table><br>
<a name="2113239"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >k.o.g.</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#179">[#179]</a></td></tr></table></td></tr><tr ><td class="posttext"> @off topic<br>Hi malublu, is there any chance to contact you on skype? <br><br></td></tr></table><br>
<a name="2113249"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#180">[#180]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>&lt;data encoding="base64" compression="zlib"&gt;</pre><br>Diddy doesnt support the compression flags of TIled, you need to select Tile layer format as Base64 (uncompressed) or CSV. <br><br></td></tr></table><br>
<a name="2113269"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >malublu</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#181">[#181]</a></td></tr></table></td></tr><tr ><td class="posttext"> Its only an example!<br>About the object Group,not about the compression.<br>If there are no tiled layer the code does not work.<br>But a map can have only an object layer.<br>So thats not working:<br><pre class=code>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;map version="1.0" orientation="orthogonal" renderorder="right-down" width="100" height="100" tilewidth="32" tileheight="32" nextobjectid="8"&gt;
 &lt;tileset firstgid="1" name="test" tilewidth="871" tileheight="919" tilecount="5"&gt;
  &lt;tile id="0"&gt;
   &lt;image width="625" height="229" source="test.png"/&gt;
  &lt;/tile&gt;
 &lt;/tileset&gt;
 &lt;objectgroup name="Objektebene 1"&gt;
  &lt;object id="1" gid="1" x="1839" y="1214" width="625" height="229"/&gt;
 &lt;/objectgroup&gt;
&lt;/map&gt;
</pre><br><br>It needs an  &lt;data encoding<br><br>@k.o.g<br>yes of course but my english is not perfect.<br>Skype: <pre class=code>removed</pre> <br><br></td></tr></table><br>
<a name="2113253"></a>

<a name="2113252"></a>

<a name="2113251"></a>

<a name="2113250"></a>

<a name="2113255"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#182">[#182]</a></td></tr></table></td></tr><tr ><td class="posttext"> Raw XML may be faster to parse when using the new skn3 XML library, if the speed issues were related to string operations.  A warning would be preferable to throwing an error on a raw layer, considering reading a raw XML layer shouldn't be that big of a problem... <br><br></td></tr></table><br>
<a name="2113259"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >k.o.g.</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#183">[#183]</a></td></tr></table></td></tr><tr ><td class="posttext"> Another Topic:<br><br>Is it possible to split tile engine of diddy and remove all graphic parts?<br>For my server i need a TileD parser without graphics, but now i must remove all Parts from diddy renderer &amp; co. ;) <br><br></td></tr></table><br>
<a name="2113264"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#184">[#184]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @k.o.g.: Is it possible to split tile engine of diddy and remove all graphic parts? <br></div><br>I'm pretty busy at the moment, but I could probably look at refactoring it out. <br><br></td></tr></table><br>
<a name="2113299"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#185">[#185]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> but I could probably look at refactoring it out. <br></div><br>I dont think its worth it. The code is there and if k.o.g just needs the parser he/she can alter the code for their own needs. <br><br></td></tr></table><br>
<a name="2116310"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CGV</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#186">[#186]</a></td></tr></table></td></tr><tr ><td class="posttext"> Upgraded my box with an SSD and forgot how daunting it would be to get all my development tools reinstalled but I thought Monkey would be the easy one. No such luck.<br><br>I reinstalled the lasted Monkey (85e) and downloaded the lasted Diddy from github, using the zip.<br>I think I was still using Monkey 78h and the equivalent Diddy before.<br><br>I'm able to build and run all the bananas examples so Monkey's working.<br><br>When I tried to build a game of mine that was building fine before, I got this error:<br>    --&gt;   Unable to find overload for AddButton(GameImage,GameImage,String)   &lt;--<br><br>But when I check Diddy's source code, the overloaded function is there. So, what do I need to do to get my program running?<br><br><br>EDIT:<br>Just discovered that Diddy's platformer example is returning this error:<br>Type 'TiledTileMapReader' not found.<br><br>Did I download the wrong version of Diddy? I could have sworn the github repo is the correct one. <br><br></td></tr></table><br>
<a name="2116309"></a>

<a name="2116308"></a>

<a name="2116306"></a>

<a name="2116307"></a>

<a name="2116303"></a>

<a name="2116304"></a>

<a name="2116305"></a>

<a name="2116301"></a>

<a name="2116302"></a>

<a name="2116316"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#187">[#187]</a></td></tr></table></td></tr><tr ><td class="posttext"> What URL did you use? Also did you get the Master or the Dev build?<br><br>Also where'd you get the platfomer example from? <br><br></td></tr></table><br>
<a name="2116318"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CGV</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#188">[#188]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="https://github.com/swoolcock/diddy" target="_blank">https://github.com/swoolcock/diddy</a> and the plalformer example from <a href="https://github.com/swoolcock/diddy-examples" target="_blank">https://github.com/swoolcock/diddy-examples</a><br><br>both masters. <br><br></td></tr></table><br>
<a name="2116319"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#189">[#189]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can you try to Dev versions? <br><br></td></tr></table><br>
<a name="2116325"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CGV</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#190">[#190]</a></td></tr></table></td></tr><tr ><td class="posttext"> Tried the dev versions.<br><br>My game still returns the same error.<br>The dev version of the platformer now builds but after the title screen, when I hit space to play, It just goes black and gives the following error:<br><br>Debug version error:<br>Monkey Runtime Error : Tiled Raw XML is not supported!<br>C:/Program Files (x86)/MonkeyXPro85e/modules/diddy/tile/diddyreader.monkey&lt;23&gt;<br><br>Release version error:<br>AssertException: Error loading Atlas graphics/gripe.xml 0=0<br><br>EDIT: Just noticed that the data folder disappears when I build for release. <br><br></td></tr></table><br>
<a name="2116322"></a>

<a name="2116323"></a>

<a name="2116324"></a>

<a name="2116320"></a>

<a name="2116321"></a>

<a name="2116345"></a>

<a name="2116346"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#191">[#191]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's very odd... <br><br>[edit]Could you put MonkeyX and Diddy is a folder structure without spaces and try again?[/edit] <br><br></td></tr></table><br>
<a name="2116350"></a>

<a name="2116351"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CGV</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#192">[#192]</a></td></tr></table></td></tr><tr ><td class="posttext"> Moved everything, including the source code, to folder structures without spaces but no difference.<br><br>The really odd thing is that this is happening on two different computers. But they're both running Windows 10.<br><br>Could that be the problem?<br><br>EDIT: I downloaded the IngnitionX and Pyro 30 day trial versions that Playniax recently offered and they both function fine so this seems to specifically be a Diddy issue. <br><br></td></tr></table><br>
<a name="2116348"></a>

<a name="2116357"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#193">[#193]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay... when Samah changed the readers he didnt fix up that example, he did fix up the "Tiled" example though.<br><br>This is what you need to do:<br><br><b>main.monkey</b><br>Add the following after #TEXT_FILES:<br><pre class=code>#TILEMAP_USE_DIDDYGAME=True</pre><br><br><b>screens.monkey</b><br>Add LoadString as the parameter of LoadMap... (really dont like this change!)<br><pre class=code>Local tm:TileMap = reader.LoadMap(LoadString("levels/level1.tmx"))</pre><br>Change the tilemap.RenderMap call:<br><pre class=code>tilemap.RenderMap(0, 0, SCREEN_WIDTH, SCREEN_HEIGHT, 1, 1, diddyGame.scrollX, diddyGame.scrollY)</pre><br><br><b>level.monkey</b><br>Remove the DrawTile method.<br><br>When I get time I'll commit this... <br><br></td></tr></table><br>
<a name="2116355"></a>

<a name="2116354"></a>

<a name="2116365"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CGV</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#194">[#194]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, that fixed the platformer example.<br><br>As for my own game, I'm also having trouble with my haxe written games so there seems to be some glitch in my os install.<br><br>I'm going to wipe my ssd and reinstall. <br><br></td></tr></table><br>
<a name="2116450"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matiaz</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#195">[#195]</a></td></tr></table></td></tr><tr ><td class="posttext"> with last version of diddy and last free version of monkeyx (v84f) when i compile the example testsimpleGUI i received the error "Error : Unable to find overload for AddButton(GameImage,GameImage,String)" ... how can i fix this? i've try both version of diddy (master and dev) downloaded from <a href="https://github.com/swoolcock/diddy" target="_blank">https://github.com/swoolcock/diddy</a> <br><br></td></tr></table><br>
<a name="2116459"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ratking</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#196">[#196]</a></td></tr></table></td></tr><tr ><td class="posttext"> Seems like someone forgot to add the " = Null" standard values for the last 2 parameters of AddButton(GameImage,...) - just add them on line 234 in simplegui.monkey, and open an issue at github. <br><br></td></tr></table><br>
<a name="2116458"></a>

<a name="2116457"></a>

<a name="2116465"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matiaz</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#197">[#197]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks now it works! <br><br></td></tr></table><br>
<a name="2116479"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#198">[#198]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the bug report (here... cant see a github issue). I've fixed it and pushed it. Also merged the master with dev branch as its been awhile. <br><br></td></tr></table><br>
<a name="2116480"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ratking</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#199">[#199]</a></td></tr></table></td></tr><tr ><td class="posttext"> Did you have a look at my issue? <a href="https://github.com/swoolcock/diddy/issues/57" target="_blank">https://github.com/swoolcock/diddy/issues/57</a> <br><br></td></tr></table><br>
<a name="2116515"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#200">[#200]</a></td></tr></table></td></tr><tr ><td class="posttext"> I havent looked at the new Tween stuff and Samah has kind of abandoned Monkey (for a while at least)....<br><br>Okay, not sure if his version is totally complete. I've looked at the source of the Java version and its got this method:<br><pre class=code>public Object getUserData() {
	return userData;
}</pre><br><br>The MX version isnt a one to one with the Java version anyway... I've added a property getter to BaseTween for userdata:<br><br><pre class=code>Method UserData:Object() Property
	Return userData
End</pre><br><br>Pushed to the dev branch. <br><br></td></tr></table><br>
<a name="2116513"></a>

<a name="2116514"></a>

<a name="2116789"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#201">[#201]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @threvills: Add LoadString as the parameter of LoadMap... (really dont like this change!) <br></div><br>I haven't used Monkey in a while, is LoadString still dependent on Mojo?  It's the main reason I removed it, so that you could use it as a pure parser.  If LoadString was in monkey.lang I would have left it.<br><br><div class="quote"> @therevills: Also merged the master with dev branch as its been awhile. <br></div><br>We use git-flow on all our projects, so master pretty much never gets touched until you want to do a release.  Much cleaner imo.  If you frequently merge develop into master, you may as well not even have two branches.<br><a href="http://nvie.com/posts/a-successful-git-branching-model/" target="_blank">http://nvie.com/posts/a-successful-git-branching-model/</a><br><br><div class="quote"> @therevills: ...Samah has kind of abandoned Monkey (for a while at least).... <br></div><br>I actually have work to do now, no slacking off. :)<br><br><div class="quote"> @therevills: The MX version isnt a one to one with the Java version anyway... <br></div><br>A lot of it was language limitations.  I dislike the way I implemented some of the chaining, but Monkey doesn't support cyclic generics or wildcards.  It's the reasoning behind the protected underscore methods.  A bit ugly, but the public API is fairly elegant, and yay for encapsulation!<br><br><div class="quote"> @therevills: I've added a property getter to BaseTween for userdata: <br></div><br>Huh... I must have missed that one.  Thanks. <br><br></td></tr></table><br>
<a name="2116791"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#202">[#202]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Samah.... <br></div><br><br>Who are you? ;) <br><br></td></tr></table><br>
<a name="2118002"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#203">[#203]</a></td></tr></table></td></tr><tr ><td class="posttext"> @therevills:<br>I've set "develop" as the default branch, which means:<br>1) It's the one you'll see on GitHub if you just click the link to Diddy<br>2) It's the one you'll get when you clone the repo unless you specify master<br>3) It's the one that pull requests will default to<br><br>So from now on, we can leave master alone.  :) <br><br></td></tr></table><br>
<a name="2118019"></a>

<a name="2118020"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#204">[#204]</a></td></tr></table></td></tr><tr ><td class="posttext"> Fair enough...  do you still want to use the master branch at all? <br><br></td></tr></table><br>
<a name="2118050"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#205">[#205]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @therevills: Fair enough... do you still want to use the master branch at all? <br></div><br>Not really, unless we start doing version numbers.  It might be good to look at doing that as major Monkey version releases happen, as long as they're tested.  Anything that could potentially break or is uncompiled shouldn't be merged into master.  If you're working on something new (use your best judgment) create a feature branch.  Once you're happy, merge it into develop.<br><br>Check that branching model I linked before, if you're curious.  It's a best practice that a lot of companies (including ours) uses. <br><br></td></tr></table><br>
<a name="2118152"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#206">[#206]</a></td></tr></table></td></tr><tr ><td class="posttext"> @therevills do you have any plans to add zooming in and out psudo camera controls to diddy ? <br><br></td></tr></table><br>
<a name="2118189"></a>

<a name="2118190"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#207">[#207]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not at the moment, but should be pretty straight forward by messing with the matrix commands... just need to make sure the virtual resolution stuff still works afterwards!<br><br>Edit: There is already some panning stuff in the tiled code. <br><br></td></tr></table><br>
<a name="2118194"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#208">[#208]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @therevills: ... but should be pretty straight forward by messing with the matrix commands... <br></div><br>My initial thoughts too, but I was chatting with Taiphoz about this, and I'm not sure it's as easy as it sounds.  The dev isn't going to want a global zoom to apply to their UI, for example, but the virtual resolution should.  So the dev should be able to turn it on and off multiple times per loop. <br><br></td></tr></table><br>
<a name="2118192"></a>

<a name="2118610"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#209">[#209]</a></td></tr></table></td></tr><tr ><td class="posttext"> Chef Solitaire USA: TriPeaks now on GooglePlay - using 100% MonkeyX and 100% Diddy:<br><br><a href="https://play.google.com/store/apps/details?id=com.therevillsgames.csusatripeaks" target="_blank">https://play.google.com/store/apps/details?id=com.therevillsgames.csusatripeaks</a> <br><br></td></tr></table><br>
<a name="2118622"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#210">[#210]</a></td></tr></table></td></tr><tr ><td class="posttext"> I found it a little annoying , I found that when I tied the zoom factor I was going from scale .8 to scale 1 as pulling out .8 was more than enough for my game, that it seemed to me like the offset to center the new translated screen wasnt as simple as a 1:1 move if you follow me, in the end I got frustraited with fighting with is and I manually set the zoom to each stage .81 .82 .83 etc and then manually centered the offset values to center the screen I then took note of all 20 needed values and filled an array which I then use when doing the zoom to make sure the screen is always centered.<br><br>I think it your not so worried about the screen being centered over your player it's probably not as big an issue, what I found odd and could not wrap my head around , or my math brain around was that the offset was not fixed in steps it trended toward 0 or 1 take a look at my array/.<br><br>So these are the x,y values that I needed to offset my world by after a zoom with the last element being zero zoom or scale of 1<br><pre class=code>
Field ZoomOffeset:int[] =[98, 92, 86, 80, 75, 69, 64, 58, 53, 48, 43, 38, 33, 29, 24, 20, 15, 11, 7, 3, -1]
</pre><br><br>and if you look at the amount of change between 1 zoom level to the next you can see I found the values a little odd.<br><br><pre class=code>
[xx, -6,  -6, -6, -5, -6, -5, -6, -5, -5, -5, -5, -5, -4, -5, -4, -5, -4,-4,-4, -4 ]
[98, 92, 86, 80, 75, 69, 64, 58, 53, 48, 43, 38, 33, 29, 24, 20, 15, 11, 7, 3, -1]
</pre><br><br>I'm sure some one with a better mathy brain than me will look at this and go "Oh duh" and it will be something easily fixed, in the mean time I will use my little pre-calced array. :) <br><br></td></tr></table><br>
<a name="2118621"></a>

<a name="2118620"></a>

<a name="2118619"></a>

<a name="2124898"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rieha</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#211">[#211]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi there dear Diddyguys! I'd appreciate your help.<br><br>Should the Game Service module work with the latest version of Monkey? It would be super nice if someone who knows how to use it could try it with v87x and confirm if I'm just doing something wrong. <a href="http://www.monkey-x.com/Community/posts.php?topic=12704" target="_blank">Posted about this here already.</a><br><br>The module is also quite old - has there been any major improvements to Game Services which make it unwise to use?<br><br>Thanks! <br><br></td></tr></table><br>
<a name="2124910"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#212">[#212]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry Rieha, I havent got the time to look into this at the moment. Maybe after Xmas... <br><br></td></tr></table><br>
<a name="2124935"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rieha</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#213">[#213]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's ok. I have to come up with some solution a lot sooner, but thanks anyway! <br><br></td></tr></table><br>
<a name="2124951"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#214">[#214]</a></td></tr></table></td></tr><tr ><td class="posttext"> Again sorry, I've got so much to do and so little time these days :( <br><br></td></tr></table><br>
<a name="2124950"></a>

<a name="2124952"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rieha</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#215">[#215]</a></td></tr></table></td></tr><tr ><td class="posttext"> I got it working already so no worries at all! Thanks for the awesome module! I have to play some Chef Solitaire as a thank you when I have a moment of free time. :) <br><br></td></tr></table><br>
<a name="2124953"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#216">[#216]</a></td></tr></table></td></tr><tr ><td class="posttext"> Excellent! Let us know how you fixed it, I'm sure others would love to know too :) <br><br></td></tr></table><br>
<a name="2124954"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rieha</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#217">[#217]</a></td></tr></table></td></tr><tr ><td class="posttext"> I decided to use the older compatible version of Game Services library. Checked what has changed with the Android target (not much) and copy/pasted any bug fixes to the older target. That wouldn't work with AdMob as it requires the newer library, I think, so anyone using it would probably like to have an updated module, but I'm happy with the current one (almost) as it is. Works like it should, but haven't tested much yet. :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
