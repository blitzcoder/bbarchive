<!DOCTYPE html><html lang="en" ><head ><title >Spine - Animation Module (part2)</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Spine - Animation Module (part2)</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=524" >User Modules</a>/<a href="#bottom" >Spine - Animation Module (part2)</a><br><br>
<a name="2073030"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>continued from:</b><br>Part1:<br><a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=5114" target="_blank">http://www.monkeycoder.co.nz/Community/posts.php?topic=5114</a><br><br>---<br><br><a href="https://github.com/skn3/monkeyspine" target="_blank">https://github.com/skn3/monkeyspine</a><br>Please read the wiki for some instructions.<br><br><b>If anyone would like to contribute to this project then please do, the help would be greatly appreciated.</b><br><br>Enjoy, for free :D<br><a href="https://www.paypal.com/cgi-bin/webscr?cmd=_donations&amp;business=jon%2epittock%40gmail%2ecom&amp;lc=US&amp;item_name=Skn3&amp;no_note=0&amp;currency_code=GBP&amp;bn=PP%2dDonationsBF%3abtn_donate_SM%2egif%3aNonHostedGuest" target="_blank"><img src="http://help.yahoo.com/l/us/yahoo/smallbusiness/webhosting/yss/paypal/media/images/paypal_donate_button.gif"></a><br><br>---<br><br>Hey there monkey brains, I have been beavering away at some more monkey developments. This time I have created a module and it has been sponsored by Tony from Playniax/Ignition.<br><br>Thanks should go to him as I'm sure this will benefit a lot of monkey games.<br><br>So he tasked me to create a monkey module to support the spine runtime. I have nearly finished this, but for now here is a little demo.<br><br><a href="http://www.skn3.com/junk/spine/demos/v03/MonkeyGame.html" target="_blank">http://www.skn3.com/junk/spine/demos/v03/MonkeyGame.html</a><br><img src="http://www.skn3.com/junk/spine/screenshots/spine01.png"> <br><br></td></tr></table><br>
<a name="2073033"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry for the slowness all, just generally not had time to touch monkey stuff for last 2 weeks... which saddens me!<br><br>tiresius:<br>I would like to support all of the spine features once they are added. I guess once they release it to the public, I could contact Mark and see if its worth my while to try and hack something in the meantime. It would definitely be cool to see freeform deformations working... and potentially a general purpose texture coords rendering approach is something I have needed in monkey before.<br><br>rikman:<br>re SetSlotColor():<br>I think at the time of creating the spineentity I was trying not to replicate so much data twice and just have the spine-glue-entity speak to the spine runtime directly. The built in animation process would override slot colors anyway so anything I would add is going to have to update the slot colors every frame. I designed it like this because I didnt want to make changes to the way the underlying spine runtime works. <br><br>You could potentially take out my glueentity stuff and use spine as it was originally intended.<br><br>re mixing animation:<br>What kind of thing are you doing? I havn't looked at any animation mixing in spine. <br><br></td></tr></table><br>
<a name="2073041"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey skn3,<br><br>re: SetSlotColor() - yep I realised after I posted that anything you added would be doing what I was doing anyway, just probably cleaner and more efficient :)<br><br>re Mixing: I noticed there is a "Mix" Method in SpineAnimation so thought it may be implemented, but could'nt seem to get it to work even though I got it compiling.<br><br>The Mix stuff basically allows you to mix 2 animations together, or overlay them as such.<br><br>ie. A blink mixed with any other animation, or a walking/running animation on the lower half of a character, mixed with a shooting animation which would affect just the top half so you could ie. Go from walking/running normally to walking/running whilst shooting smoothly and without having to create specific animations for every variation as you could just mix them. <br><br></td></tr></table><br>
<a name="2073050"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> When  I get a chance I will take a look at mixing and a way to possibly change slot colors. Can't say when but I'll get it done eventually aye ;)<br><br>I would be interested to see what your making with spine ? <br><br></td></tr></table><br>
<a name="2073049"></a>

<a name="2073205"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey skn3,<br><br>No problem mate - I really appreciate everything you have done on the module, it really is a great piece of work!<br>As I've said previously as soon as I'm able I will be sending a donation your way without question.<br><br>Information on mixing/combining animations as I mentioned above can be found in the Spine docs here:<br><br><a href="http://esotericsoftware.com/spine-using-runtimes/#mixing-animations" target="_blank">Mixing Animations</a><br><a href="http://esotericsoftware.com/spine-using-runtimes/#combining-animations" target="_blank">Combining Animations</a><br><a href="http://esotericsoftware.com/spine-using-runtimes/#animationstate" target="_blank">Animation State</a><br><br>Unfortunately I can't give any details publicly about my game just yet, except that it is targeted for an Easter 2014 release on iOS to start with, and other formats to follow.<br><br>I could maybe send you some information or screens privately if you are really that interested or if it will help with the modules development?<br>I assume you are cursing and wondering what I am doing to be asking about all these Spine features? :)<br><br>On that note - is it possible to add/remove attachments programmatically during runtime using the module?<br><br>I know it is <a href="http://esotericsoftware.com/spine-using-runtimes/#creating-attachments" target="_blank">mentioned in the Spine docs</a> but I'm not sure if this functionality is in the module, and I'm not at home until Sunday so can't check through the source atm. <br><br></td></tr></table><br>
<a name="2073204"></a>

<a name="2073369"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cheers for the links info for handy reference.<br><br>No unfortunately its not possible to add/delete attachments at runtime with the glue spine entity. There doesnt seem to be much detail on that link either about the process of doing it. Its possible to call "SetAttachment" though on the actual spine skeleton, this might help?<br><br>Yeah I would like to see some details via email if you are happy to send? Haha not much cursing ;) Interested to see what its being used for. <br><br></td></tr></table><br>
<a name="2073374"></a>

<a name="2073375"></a>

<a name="2073376"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> ' - added MixAnimation to gluespineentity see example2 for example of usage <br></div><br><br>Added update for animation mixing.<br><br>So you call <br><pre class=code>entity.SetAnimation("animation1")
entity.MixAnimation("animation2",0.5)</pre><br><br>The next call to SetAnimation will remove the mixanimation so you will need to set mix again.<br><br>I could quite easily add in teh ability to mix in infinite animations, but probably (for performance) its best to keep it to just two? <br><br></td></tr></table><br>
<a name="2073403"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey skn3,<br><br>First - sorry for the late reply, got back a day later than planned.<br>Secondly - mixing already, awesome!!!! :)<br><br>I've just tried it quickly and it works great :) <br>I didn't expect an update so quickly so its nullified a few hours work I did creating variations of animations (with/without blinks and that sort of thing) but that's a small price to pay for the ease and flexibility this will bring with a bit of code refactoring - thanks man! :D<br><br>I think maybe 3 animations minimum for the mixing, this would allow something like the following example: <br><br>(1) Lower body walking (or running etc)<br>(2) Upper body shooting (or aiming etc)<br>(3) Ambient animation (ie. blinking etc)<br><br>Although if it is quite easy to allow infinite mixing then maybe allow that with a proviso in the notes regarding performance - and leave it upto the coder to decide how many are possible without affecting performance, as this would vary per target I think?<br><br>With regards to the attachment adding/deleting at runtime, I have been using SetAttachment in some circumstances, but this only works with attachments that have already been setup inside of Spine itself.<br><br>In an example with a character that has 100 possible attachments for a given slot (different clothing, armour or whatever), this means setting up all attachments in Spine and then loading them all into memory when the SpineEntity is loaded.<br><br>If these attachments are things that can be selected by the player, or not available until they bought in a shop (so they may in fact never be selected or needed), then it would be much better to be able create/delete the relevant attachments as they were needed in code, which on mobiles would be a huge memory saver - only attachments that were needed would ever be loaded.<br><br>I have done a little digging in the Spine docs and it seems that programmatical attachment creation/deletion is related to the AttachmentLoader, which is in the monkey code but is defined as Abstract,  so I found myself getting "Cannot create instance of an abstract class." errors when trying to create a new SpineAttachment.<br><br>It also seems to require a "skin" parameter, although I'm not sure if this is a necessity or not, or whether you can simply add them to a normal slot on an existing entity.<br><br>Here are the docs I found:<br><a href="http://esotericsoftware.com/spine-using-runtimes/#attachmentloader" target="_blank">AttachmentLoader in Spine Docs</a><br><br>I will get some details of my game over to you but unless you just want a description it may be over the weekend before I can get some screens etc together.<br><br>Sorry for the long post, and thanks again for the mixing! :) <br><br></td></tr></table><br>
<a name="2073402"></a>

<a name="2073471"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Update: more info...<br><br><div class="quote"> <br>At runtime, all attachments are in a skin. Attachments in Spine that are not in a skin are placed in a skin named "default".<br><br>Most attachment loaders don't use the skin parameter:<br><a href="https://github.com/EsotericSoftware/spine-runtimes/blob/master/spine-csharp/src/Attachments/AtlasAttachmentLoader.cs#L45" target="_blank">https://github.com/EsotericSoftware/spine-runtimes/blob/master/spine-csharp/src/Attachments/AtlasAttachmentLoader.cs#L45</a><br><br>The attachment loader is used by SkeletonJson as a way to customize creating attachments. You don't actually need the attachment loader to create a new attachment. Eg, you can copy the code from the link above, though if the attachment loader is convenient, go ahead and use it.<br><br>Note that you need to do additional configuration for your attachment beyond what the attachment loader does. See SkeletonJson, just after it does attachment loader NewAttachment. It configures the attachment with data from the JSON. You'll need to do the same.<br> <br></div> <br><br></td></tr></table><br>
<a name="2073768"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey skn3,<br><br>I'm not sure if you have the Ignition Framework by Playniax, but there seems to be an issue when using it together with the Spine module, specifically the iBitmapFont part of the framework.<br><br>If you have it, if you open one of the the iBitmapFont examples (bananas\playniax\ignition\01_simple_modules\08_bitmap_font) and just add<br><pre class=code>Import spine</pre> at the top of the source and run it, then no fonts are displayed.<br>Remove the line and the fonts work as expected.<br><br>Not sure why, as there are no other commands being used, simply importing the spine module causes it to happen.<br>Using Monkey v76d, Ignition 1.11 and v17 of the Spine module.<br><br>PS. I will email over those details as promised later tonight when I get home :) <br><br></td></tr></table><br>
<a name="2073767"></a>

<a name="2073765"></a>

<a name="2073766"></a>

<a name="2073843"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> skn3, email sent to the addy on your profile :) <br><br></td></tr></table><br>
<a name="2074026"></a>

<a name="2074027"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Playniax</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>The problem is this line in spine.monkey:<br><br>#TEXT_FILES += "*.atlas;*.json"<br><br>The Ignition font module uses .txt files to load font data and somehow this setting excludes text files so the solution is to add *.txt<br><br>#TEXT_FILES += "*.atlas;*.json;*.txt"<br><br>You can add this line at the beginning of your code or change it at the spine.monkey file.<br><br>.txt is (or was?) a default format for monkey so this could lead to more problems with other 3rd party software. This should be tested more when I have time :) <br><br></td></tr></table><br>
<a name="2074164"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Soap</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://www.kickstarter.com/projects/esotericsoftware/spine-features/posts/699561" target="_blank">http://www.kickstarter.com/projects/esotericsoftware/spine-features/posts/699561</a><br><br>&gt;Less than a month after the Kickstarter and just in time for Christmas, meshes are now available in Spine Professional, version 1.7+! <br><br></td></tr></table><br>
<a name="2074168"></a>

<a name="2074169"></a>

<a name="2074170"></a>

<a name="2074171"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I emailed aswell, but thanks Playniax, that didn't even cross my mind! :)<br><br>Soap, I think this update may well change the exported .json (vertex info etc) and thus not work with this module (yet! :))<br>I'm only assuming this as I have locked my version at 1.6.42 so have not updated, but I know that version plays nice with the module.<br><br>Have you tested v1.7.x with this module?<br><br>You can't animate the mesh deformations yet either, but that will be coming soon. <br><br></td></tr></table><br>
<a name="2075450"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> The vertex info *should* just be added as another type of attachment so Id imagine the latest spine wont break anything.<br><br>I am still waiting for this all to be fleshed out a bit before continuing any dev.<br><br>The Christmas break has wiped my memory it seems. Are there any major important fixes/tweaks that need to be added ATM ? <br><br></td></tr></table><br>
<a name="2075705"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Completely missed your reply in this thread skn3, apologies!<br><br>For me I would like the ability to create/delete/manage attachments in code at runtime, and bounding boxes for collision detection, hitboxes etc<br>I'm not sure how tied into a "major" update these would be, but those are my 2 "would likes" until a major update :)<br><br>PS. Thanks for your feedback re: email, and hope you had a good one mate. <br><br></td></tr></table><br>
<a name="2076073"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Soap</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://www.youtube.com/watch?v=JIfrAO-jzHs&amp;feature=youtu.be" target="_blank">http://www.youtube.com/watch?v=JIfrAO-jzHs&amp;feature=youtu.be</a><br><br><a href="http://www.kickstarter.com/projects/esotericsoftware/spine-features/posts/720214" target="_blank">http://www.kickstarter.com/projects/esotericsoftware/spine-features/posts/720214</a><br><br>Spine - FFD and Meshes<br><a href="http://www.youtube.com/watch?v=0Dd2M8XBTo0" target="_blank">http://www.youtube.com/watch?v=0Dd2M8XBTo0</a> <br><br></td></tr></table><br>
<a name="2076018"></a>

<a name="2077181"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey sk3n,<br><br>I have noticed that when calling entity.SetAlpha() or entity.SetSlotColor() that it doesn't seem to return the alpha or color to what it was before the call to set the alpha/color on the spine entity.<br><br>ie. If I call entity.SetAlpha(0.0), then afterwards, HUD elements disappear as I am guessing that SetAlpha has not been returned to 1.0 from inside the entity.SetAlpha(0.0) call.<br><br>Is this behaviour a bug or is it intended that we reset the value manually after the call? <br><br></td></tr></table><br>
<a name="2077175"></a>

<a name="2077176"></a>

<a name="2077174"></a>

<a name="2077173"></a>

<a name="2077837"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is anyone else using this module, or is it literally just me? <br><br></td></tr></table><br>
<a name="2077839"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm using it but only the basis of it <br><br></td></tr></table><br>
<a name="2078277"></a>

<a name="2078278"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey ziggy,<br><br>Have you exeprienced the alpha/color problem from above when using SetSlotAlpha()/SetSlotColor() or entity.SetAlpha() at all?<br><br>What do you mean by "basis of it"?<br><br>I'm really suprised how little this module is being used, Spine (and of course this module) are awesome! <br><br></td></tr></table><br>
<a name="2078343"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Whoops I missed the bug report... looking now... <br><br></td></tr></table><br>
<a name="2078347"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok I added an update.<br><div class="quote"> 'version 18<br>' - added RevertColor() and RevertAlpha() to spine entity (cheers rikman) <br></div><br><br>Does that do what you want?<br><br>I wasn't sure what you meant. The setcolor and setalpha commands are on the glue entity itself (so e.g. you are not changing a slot/attachment or something that can be overwritten by spine). So for these commands if you set alpha/color to 0 then they would remain at 0.<br><br>Do the Revert methods make sense here or should I rename them? <br><br></td></tr></table><br>
<a name="2078346"></a>

<a name="2078350"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> P.S. I will get around to updating the spine module with some new features, but just soooooo very busy these days!<br><br>Compared to a year ago (roughly when I did the spine module) things are like a snail vs a cheetah in terms of workload! I had tons of time to pump out lots of module code. <br><br></td></tr></table><br>
<a name="2078395"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just ran into a really terrible runtime problem attempting to use spine on glfw builds with MinGW.  The runtime error is the classic "Memory Access Violation", but the cause is befuddling.  See if you can venture a guess as to what the heck is going on.  It occurs in gluefiles.monkey, riiiiiight around here:<br><br><img src="https://s3.amazonaws.com/uploads.hipchat.com/11212/31746/KHgpRiPlGIbCIG7/garbageFileStreamInput.png"><br><br>The problem doesn't occur with the exact same code using MSBuild.  I am compiling in debug mode, so -o1 should still be standard-compliant.<br><br>Please also note that the input file exists and is valid JSON according to JSONlint!  It's not the file!  It's gotta be something with how Spine interacts differently with msbuild vs. gcc.... <br><br></td></tr></table><br>
<a name="2078392"></a>

<a name="2078390"></a>

<a name="2078396"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Lol wtf, that's a weird one!<br><br>Could you provide a test example so I can try it out when I get a spare moment? <br><br></td></tr></table><br>
<a name="2078414"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'll see what I can do about getting something for you to test.  I don't have Spine, myself, so I have to get someone to make a test file that's OK to send that reproduces the bug on my end.<br><br>It's possible that because of the garbage coming in from the file stream that this may actually be an issue with the BRL implementation.  I hope not, but it is always a possibility.  To make sure, though, I'll obviously need your confirmation.  Right now I'm using gcc 4.7.2, which is over a year old now <strike>and may contain some regressions that could be behind this bug if it's not spine or brl</strike> (Edit:  4.7.2 is the latest for MinGW, I just checked).  I will look into seeing if a newer version of mingw will fix the issue, but first I want to reproduce the bug in a test example. <br><br></td></tr></table><br>
<a name="2078410"></a>

<a name="2078411"></a>

<a name="2078412"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here is an example file.  <a href="https://s3.amazonaws.com/uploads.hipchat.com/11212/127278/JoUCuV0rFiynR8I/spinetest.rar" target="_blank">https://s3.amazonaws.com/uploads.hipchat.com/11212/127278/JoUCuV0rFiynR8I/spinetest.rar</a> <br><br></td></tr></table><br>
<a name="2078568"></a>

<a name="2078569"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry to bother so soon, but have you been able to test and confirm the bug?  Running the example code on a glfw build from minGW should produce a crash. <br><br></td></tr></table><br>
<a name="2078958"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> Update:  Here is my call stack.  I've tested specifically extracting SpineDefaultFileStream to a dummy file and running a few functions on it in an attempt to get it to spit out garbage but wasn't able to do it.  It worked as expected there.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Monkey Runtime Error : Memory access violation
spinetest/spine/glue/gluefiles.monkey&lt;78&gt;
spinetest/spine/spineskeletonjson.monkey&lt;57&gt;
spinetest/spine/glue/gluespineentity.monkey&lt;105&gt;
spinetest/spine/glue/gluespineentity.monkey&lt;72&gt;
spinetest/testMain.monkey&lt;14&gt;
</textarea><br><br>In the test code, I altered ReadAll to spit out start, total, and result before the offending line (which is start=total).   Start and total report back that their values are -36, which I find improbable.  The result string is jibberish, about 19 bytes, although because I copied it from the print buffer it may have been null-terminated.  It's probably garbage because it tried to peek in an area of memory that it shouldn't have.  The data reads successfully from SpineDefaultFileStream.Load(), however, returning a total of 12155.  Somewhere between Load() and ReadAll(), start's position is moved to -36.  Perhaps some other piece of memory has overflowed into the integer's position.<br><br>I believe I've narrowed it down to the late-binding of your inherited interfaces.  This may be a Monkey bug.  Will report.<br><b>Edit:</b>  <a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=7958" target="_blank">http://www.monkeycoder.co.nz/Community/posts.php?topic=7958</a>  Reported <br><br></td></tr></table><br>
<a name="2078952"></a>

<a name="2079038"></a>

<a name="2079039"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey Nobu,<br><br>Appologies for delay getting back to you. I was just going to look into this now but then saw it was potentially out of my control. Could you confirm (from other thread) if this is still an issue?<br><br>Cheers!<br><br>P.S. I hear rumblings of MojoX in some other threads, I wonder if this would facilitate the mesh support? I wonder how far MojoX is from a release? <br><br></td></tr></table><br>
<a name="2079046"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's still gonna be an issue for anyone who uses the current stable version of MinGW, I think.  The regression seems to affect specifically that version and is a result I think of how your interface code is being translated into C++.  It's actually neither the fault of your code or Mark's, but a nasty upstream bug in gcc.  Luckily, though, it seems you can upgrade gcc from the commandline without much trouble...<br><br>I see references to MojoX in some of the v77f examples, but other than that I don't see many hints of what it includes. <br><br></td></tr></table><br>
<a name="2079648"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry for the late response sk3n, been really busy.<br><br>I will test the update to see if it fixes the alpha/color issues, but to summarise, it seems as though any call to alpha or color methods do not return the alpha/color to it's original value before the call.  This may be intended behaviour, but seems unlikely?<br><br><br><pre class=code>
Method OnUpdate()

		If KeyHit(KEY_1)
			Self.entity.SetAlpha(0.0)
			Self.entity.OnCalculate()
		EndIf
		If KeyHit(KEY_2)
			Self.entity.SetAlpha(1.0)
			Self.entity.OnCalculate()
		EndIf
		
		Self.entity.Update()
		
		Return True
	End Method



        Method OnRender:Int()
		Cls
		
		' this will be drawn
		DrawText "Before Text", 480, 50
		
		Self.entity.Render()
		
		' this will  be alpha'd along with the entity unless I put a SetAlpha(1.0) after the entity.Render().
		DrawText "After Text", 480, 600

		Return True
	End Method
</pre><br><br><br><br><br><br><br>@Nobuyuki<br>If you don't mind sharing, what is it you are doing with Spine to cause the errors?<br>I ask I have been using Spine quite a lot (can you tell from the thread haha) and have not come across the issues you mention, but would be interested in knowing how you got there for future reference.<br><br>I am using the version of MinGW linked to from the Monkey docs. <br><br></td></tr></table><br>
<a name="2079644"></a>

<a name="2079645"></a>

<a name="2079646"></a>

<a name="2080356"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> @rikman<br>Check the link to the bug report thread I made in a previous post. If loading a spine json doesn't crash then you're fine. <br><br></td></tr></table><br>
<a name="2080400"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> Will try and look more into this afternoon, I understand the alpha issue now, so will restore the alpha flag in that call. <br><br></td></tr></table><br>
<a name="2083299"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >monkeyteets</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey Jon!<br><br>Firstly thanks for making this, I just purchased Spine and have been using it, today I noticed there is a bug that has to do with negatively scaled objects. I use the same graphic asset in my atlas in multiple instances (for arms and legs) to save on file size (I use same image asset but just flip horizontally / vertically with -1.0 scale)<br><br>It works great in Spine, but in monkey these are very thin.<br><br>Edit:<br>Okay I removed negative scaling on images and put them on bones and it works better EXCEPT nested bones. For some reason there is problem with nested bones turning it upside down. It shows correctly in the Spine Editor, but not in Monkey <br><br></td></tr></table><br>
<a name="2083297"></a>

<a name="2083296"></a>

<a name="2083549"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey there, I plan to attempt some time with monkey modules on Frioday, so will look into this then :) <br><br></td></tr></table><br>
<a name="2084711"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DeadFall</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey Skn3, is it possible to just change the skin of one bone object from within monkey? Say I have multiple helmets for a soldier, but I don't want to change the main armor just the helmet. Is that possible? <br><br></td></tr></table><br>
<a name="2085178"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Soap</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="https://www.kickstarter.com/projects/esotericsoftware/spine-features/posts/821808" target="_blank">https://www.kickstarter.com/projects/esotericsoftware/spine-features/posts/821808</a> <br><br></td></tr></table><br>
<a name="2085200"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> Isn't mesh stuff the thing that might not be possible in Monkey? <br><br></td></tr></table><br>
<a name="2085243"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Soap</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's certainly possible, just not immediately simple or easy - it would take work beyond what Monkey allows by default yes. With Mojo3D it may be easy. <br><br></td></tr></table><br>
<a name="2085340"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> once Monkey supports DrawTriangles for reals, and has some sorta fallback (if possible) on non GL/DX targets, it'll be entirely possible.  Right now it might be possible with a quads hack using DrawPoly's undocumented texture mapped option.  You'd see seams, though. <br><br></td></tr></table><br>
<a name="2085884"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Timotron</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sharing a fix for the monkey spine engine for drawing spine files that actively use negative scale in animations to flip bones.<br><br>below you will see a modified version of draw from the SpineDefaultAtlasRegion class that I am used when testing the fix<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
	Method Draw2:Void(x:Float, y:Float, rotation:Float, scaleX:Float, scaleY:Float, bone_rotation:Float, bone_scaleX:Float, bone_scaleY:Float, handleX:Float, handleY:Float, vertices:Float[])
		' --- draw the region using the provided details ---
		'both sets of details are provided so it is upto the implementation to choose how to render
		PushMatrix()
		Translate(x, y)
			
		'To make bones that scale and rotate draw correcxtly first rotate and scale the bone
		If bone_rotation &lt;&gt; 0 								Rotate (bone_rotation)
		If bone_scaleX &lt;&gt; 1.0 Or bone_scaleY &lt;&gt; 1.0		Scale(bone_scaleX, bone_scaleY)
		
		'then rotate and scale the attachment
		If rotation &lt;&gt; 0 									Rotate (rotation)
		If scaleX &lt;&gt; 1.0 Or scaleY &lt;&gt; 1.0					Scale(scaleX, scaleY)
		
		Translate(handleX, handleY)
		DrawImage(image, 0, 0)
		PopMatrix()
	End
</textarea><br><br>the calling code from inside the method OnRender from the class SpineEntity<br><pre class=code>
	attachment.Region.Draw2(attachment.WorldX, attachment.WorldY, attachment.Rotation, attachment.ScaleX, attachment.ScaleY, attachment.WorldRotation - attachment.Rotation, attachment.WorldScaleX - attachment.ScaleX + 1.0, attachment.WorldScaleY - attachment.ScaleY +1.0, -Int(attachment.Region.GetWidth() / 2.0), -Int(attachment.Region.GetHeight() / 2.0), attachment.Vertices)
</pre> <br><br></td></tr></table><br>
<a name="2085885"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Timotron</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> Another item of note is I have a fix that I made to the SpineAnimation class that allows proper mixing of any number of animations with changing mix percents on the fly.  Although I am unsure if I maybe just miss understood the current mix system and I was just redoing what I could already do.  <br><br>My way of doing it requires an extra skeleton.SetBonesToBindPose() every update and then in the SpineAnimation methods for handling SpineRotateTimeline, SpineTranslateTimeline and SpineScaleTimeline you have set the complete change instead of adding the delta.  But you can do cool stuff like have one animation end where you tail it off over .2 seconds while another animation spins up over that same .2 seconds and it is a smooth transition.<br><br>Of course, the caveat is that I may have missunderstood the current mix system...<br><br>Tim <br><br></td></tr></table><br>
<a name="2089589"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry for complete lack of update on all my modules. Just not had the motivation or time recently. With regards to the spine update, it was kind of waiting on Monkey being able to support it natively. I don't really want to go ahead and hack in drawing polygons and whatnot if it requires hacks to mojo (which it would). So unfortunately its on hold. <br><br></td></tr></table><br>
<a name="2089729"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Soap</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="https://www.kickstarter.com/projects/esotericsoftware/spine-features/posts/877736" target="_blank">https://www.kickstarter.com/projects/esotericsoftware/spine-features/posts/877736</a><br><br>IK constraints now available in Spine 1.9.0+!<br><br><a href="https://www.youtube.com/watch?v=orqb4Hz4rqI" target="_blank">https://www.youtube.com/watch?v=orqb4Hz4rqI</a> <br><br></td></tr></table><br>
<a name="2089728"></a>

<a name="2090405"></a>

<a name="2090406"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Soap</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> Skn3, can you post a bid for doing the necessary hacking? Possibly a few of us who could make use of it can fund doing it. Spine alone is really useful, but having mesh deformation support would really make current project assets look more alive. If a target can't support it, possible to still make the animations work without mesh deformation data being used? <br><br></td></tr></table><br>
<a name="2090442"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey Soap,<br><br>Give me an email (see signature) and we can discuss potential funded project. Id rather not discuss business rates in a public forum.<br><br>The big issue I see with hacking it into monkey is that I would have to duplicate work for the wide set of platforms monkey supports. It makes supporting said hacks incredibly time consuming and its going to be a bit of a mess to maintain a version of the module that works without hacks, and a version that has the hacks... if that was the way forward.<br><br>I think realistically I would have to code a separate module for creating/texturing meshes and have that work by itself. Spine could then utilise the functionality... <br><br></td></tr></table><br>
<a name="2091731"></a>

<a name="2091732"></a>

<a name="2091733"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not sure if anything has changed recently, but I just tried out Monkey v79e and am getting an error on a project that works fine in v78c.<br>I am using the latest version of the module from the svn.<br><br>The error is:<br><pre class=code>
MonkeyXPro79e/modules/spine/spineskeleton.monkey&lt;106&gt; : Error : Method SpineSlot.SetToBindPose:Void(Local slotIndex:Int) is private.
</pre><br><br>but I've checked and there is no "Private" declaration in spineskeleton.monkey.<br><br>Anyone else had any issues? <br><br></td></tr></table><br>
<a name="2091736"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> The error is:<br><br>MonkeyXPro79e/modules/spine/spineskeleton.monkey&lt;106&gt; : Error : Method SpineSlot.SetToBindPose:Void(Local slotIndex:Int) is private.<br><br>but I've checked and there is no "Private" declaration in spineskeleton.monkey. <br></div><br><br>Look in spineslot.monkey, line 49:<br><pre class=code>	Private
	Method SetToBindPose:Void(slotIndex:int)
</pre> <br><br></td></tr></table><br>
<a name="2091735"></a>

<a name="2091734"></a>

<a name="2091759"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#51">[#51]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah thanks therevills!<br><br>What is the change to Monkey that would make it work on v78c yet crap out on v79e using the exact same version of the module?<br>It's like v78 ignores the Private declaration... <br><br></td></tr></table><br>
<a name="2091758"></a>

<a name="2091770"></a>

<a name="2091771"></a>

<a name="2091772"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#52">[#52]</a></td></tr></table></td></tr><tr ><td class="posttext"> Added a small update for this. Also noticed this recently in another module that used to work but then didn't.<br><div class="quote"> 'version 19<br>' - small fix to remove private method in spineslot.monkey <br></div> <br><br></td></tr></table><br>
<a name="2091789"></a>

<a name="2091790"></a>

<a name="2091791"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >navyRod</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#53">[#53]</a></td></tr></table></td></tr><tr ><td class="posttext"> Spine  looks pretty cool but kinda bummed out on there model -- the free model to see what you think of it is fully enabled  with mesh deforming etc   but once you go to purchase it  you loose  quite a bit of the nice to have features  if you just buy the single user $60 version vice the $229 dollar one. <br><br>Seems kinda like a bait and switch model -- gotcha hooked but you will have to eat the whole worm if you want to continue  ... $ 200 + is pretty pricey <br><br><br>but I guess if ya want it .. they got ya. <br><br></td></tr></table><br>
<a name="2091795"></a>

<a name="2091796"></a>

<a name="2091797"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#54">[#54]</a></td></tr></table></td></tr><tr ><td class="posttext"> TBH I think its something they had to do as their kickstarter funds surely can't carry them forever. It is a fairly niche product so maybe they are finding out they can't charge the "indie/1-person" price they were doing so at the start. <br><br></td></tr></table><br>
<a name="2092211"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mouser</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#55">[#55]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello,<br><br>It seems that multipack for the textureatlas is not working.<br>Whenever there  is more than one file (for example: spine_1-1.png and spine 1-2.png) I get the following error:<br><br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Monkey Runtime Error : Uncaught Monkey Exception
C:/Users/Dennis/Desktop/MonkeyPro75d/modules/spine/attachments/spineatlasattachmentloader.monkey&lt;21&gt;
C:/Users/Dennis/Desktop/MonkeyPro75d/modules/spine/spineskeletonjson.monkey&lt;213&gt;
C:/Users/Dennis/Desktop/MonkeyPro75d/modules/spine/spineskeletonjson.monkey&lt;165&gt;
</textarea><br><br><br>An higher max width and max height in the texturepacker settings helps here but is no solution for older devices.<br><br>Dennis <br><br></td></tr></table><br>
<a name="2092210"></a>

<a name="2092448"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#56">[#56]</a></td></tr></table></td></tr><tr ><td class="posttext"> I will be doing some work on the spine module in a couple of weeks, so will look at this at the same time. <br><br></td></tr></table><br>
<a name="2094120"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#57">[#57]</a></td></tr></table></td></tr><tr ><td class="posttext"> Calling all spine module users.<br><br>Subsoap has kindly started funding some further developments of the spine module. If you check the repository you can see I have started a new branch. This is a complete re-port of the latest runtime. It includes stuff like bounding boxes, FFD and limited IK support (IK support didn't appear to be fully functional in the official runtime but I got it working for Monkey)<br><br><br><b>New Branch</b><br><a href="https://github.com/skn3/monkeyspine/tree/csharp_runtime_3_sep_2014" target="_blank">https://github.com/skn3/monkeyspine/tree/csharp_runtime_3_sep_2014</a><br><br><br><b>Help fund this module</b><br>We are looking for your help to fund this development:<br><a href="https://fundly.com/spine-module-update" target="_blank">https://fundly.com/spine-module-update</a><br><br>If you want to use paypal, use the button below. I'll make sure to manually add paypal contributions to the funding page.<br><a href="https://www.paypal.com/cgi-bin/webscr?cmd=_donations&amp;business=jon%40skn3%2ecom&amp;lc=US&amp;item_name=Skn3&amp;no_note=0&amp;currency_code=GBP&amp;bn=PP%2dDonationsBF%3abtn_donate_SM%2egif%3aNonHostedGuest" target="_blank"><img src="http://help.yahoo.com/l/us/yahoo/smallbusiness/webhosting/yss/paypal/media/images/paypal_donate_button.gif"></a><br><br><br>A large chunk of time has been taken to create these new developments and that does not include inevitable bug fixes/improvements in the coming weeks. Currently subsoap has upfronted a portion of the cost and I have taken an equal hit in cost to support the module. We are looking for contributions to help support this module.<br><br>I have totally revamped the glue aspects of the module. You can now use the module stand-alone without the SpineEntity stuff ontop. To do so, you will need to <b>Import spine</b> and write some handlers for loading files/atlases/rendering images. You can see examples of these here:<br><a href="https://github.com/skn3/monkeyspine/tree/csharp_runtime_3_sep_2014/spinemojo" target="_blank">https://github.com/skn3/monkeyspine/tree/csharp_runtime_3_sep_2014/spinemojo</a><br><br>Of course if you want to use my handy SpineEntity then this is still in existence. To use the mojo orientated spine in your projects all you need to do is:<br><pre class=code>Import spine.spinemojo</pre><br><br>From here you can then call:<br><pre class=code>Function LoadMojoSpineEntity:SpineEntity(skeletonPath:String)</pre><br><br>...to load a spine export file. Please see the file below for variations of this function:<br><a href="https://github.com/skn3/monkeyspine/blob/csharp_runtime_3_sep_2014/spinemojo/spinemojo.monkey" target="_blank">https://github.com/skn3/monkeyspine/blob/csharp_runtime_3_sep_2014/spinemojo/spinemojo.monkey</a><br><br>I have included a new example7.monkey which lets you modify a pre processor variable to compile various different example files:<br><a href="https://github.com/skn3/monkeyspine/blob/csharp_runtime_3_sep_2014/example7/example7.monkey#L38" target="_blank">https://github.com/skn3/monkeyspine/blob/csharp_runtime_3_sep_2014/example7/example7.monkey#L38</a><br><br>each of the available options can be seen in the Select statement below and each one demonstrates a working aspect of the spine runtime. <br><br></td></tr></table><br>
<a name="2094073"></a>

<a name="2094069"></a>

<a name="2094068"></a>

<a name="2094067"></a>

<a name="2094114"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Lugato</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#58">[#58]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Jon, <br><br>I can contribute with £50 but I need a link to paypal :) <br><br></td></tr></table><br>
<a name="2094118"></a>

<a name="2094119"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#59">[#59]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey Luiz,<br><br>Much thanks :D I'll make sure to manually add paypal contributions to the funding page.<br><br><a href="https://www.paypal.com/cgi-bin/webscr?cmd=_donations&amp;business=jon%40skn3%2ecom&amp;lc=US&amp;item_name=Skn3&amp;no_note=0&amp;currency_code=GBP&amp;bn=PP%2dDonationsBF%3abtn_donate_SM%2egif%3aNonHostedGuest" target="_blank"><img src="http://help.yahoo.com/l/us/yahoo/smallbusiness/webhosting/yss/paypal/media/images/paypal_donate_button.gif"></a> <br><br></td></tr></table><br>
<a name="2094176"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#60">[#60]</a></td></tr></table></td></tr><tr ><td class="posttext"> Much thanks to everyone else who has supported so far. <br><br></td></tr></table><br>
<a name="2094178"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Landon</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#61">[#61]</a></td></tr></table></td></tr><tr ><td class="posttext"> just sent  £10.00 <br><br></td></tr></table><br>
<a name="2094245"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#62">[#62]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks :D could you confirm where you sent it please :) ? I don't see anything in paypal on fundly. Just want to make sure it is working properly... <br><br></td></tr></table><br>
<a name="2094246"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#63">[#63]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nevermind I see it.<br><br>Odd for some reason the payment has been sent to my non business related paypal account. Did you click the button above or do some other way?<br><br>Anyways, much thanks, I will add it to the fundly campaign. <br><br></td></tr></table><br>
<a name="2094271"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Landon</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#64">[#64]</a></td></tr></table></td></tr><tr ><td class="posttext"> i dunno i clicked the link that was in the OP <br><br></td></tr></table><br>
<a name="2094498"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mouser</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#65">[#65]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe a bug? I can't switch the skin.<br><br><pre class=code>
spine.SetSkin("skin_2")
</pre><br><br><pre class=code>
Monkey Runtime Error : TypeError: dbg_array(...)[dbg_index] is null
C:/Users/Dennis/Desktop/MonkeyPro75d/modules/spine/lib/spineskin.monkey&lt;69&gt;
C:/Users/Dennis/Desktop/MonkeyPro75d/modules/spine/lib/spineskeleton.monkey&lt;281&gt;
C:/Users/Dennis/Desktop/MonkeyPro75d/modules/spine/glue/spineentity.monkey&lt;1208&gt;
C:/Users/Dennis/Desktop/MonkeyPro75d/modules/spine/glue/spineentity.monkey&lt;1199&gt;
</pre> <br><br></td></tr></table><br>
<a name="2094661"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#66">[#66]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looking into it now.. will update when fixed. <br><br></td></tr></table><br>
<a name="2094662"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#67">[#67]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok this is fixed. I have also fixed some other bits with the module:<br><div class="quote"> ' - major fix to UpdateCache and UpdateWorldTransform in spine skeleton. Now has fully functional IK<br>' - updated license in accordance with spines new license<br>' - small tweak to fix bug when switching from old skin to new skin <br></div> <br><br></td></tr></table><br>
<a name="2094805"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mouser</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#68">[#68]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi again!<br><br>I've found a new problem with events:<br><br><pre class=code>
Method OnSpineEntityEvent:Void(entity:SpineEntity, event:String, intValue:Int, floatValue:Float, stringValue:String)
        Print "OnSpineEntityEvent"
        Print "event: " + event
        Print "intValue: " + intValue
        Print "floatValue: " + floatValue
        Print "stringValue: " + stringValue
End
</pre><br><br>returns no data or only default data<br><br><pre class=code>
OnSpineEntityEvent
event: cast_the_fishing_rod
intValue: 0
floatValue: 0
stringValue: 
</pre> <br><br></td></tr></table><br>
<a name="2094804"></a>

<a name="2094930"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#69">[#69]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not ignoring this, just been fairly busy over the weekend. I will look into this on a lunch break this week.<br><br>Thanks for the bug testing btw, it really helps :D <br><br></td></tr></table><br>
<a name="2095342"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Law</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#70">[#70]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok. I think instructions should be updated somewhere. It's a big mess!<br>I'm not sure I'm even getting the correct version.<br><br>This wiki is pretty old: <a href="https://github.com/skn3/monkeyspine/wiki/Installation" target="_blank">https://github.com/skn3/monkeyspine/wiki/Installation</a><br>So, which link do I download?<br>This:<br>   <a href="https://github.com/skn3/monkeyspine" target="_blank">https://github.com/skn3/monkeyspine</a><br>Or this:<br>   <a href="https://github.com/skn3/monkeyspine/tree/csharp_runtime_3_sep_2014" target="_blank">https://github.com/skn3/monkeyspine/tree/csharp_runtime_3_sep_2014</a><br>or both!?<br><br>Where do I unzip to exactly?<br><br>Here you can see I've put it in 'modules\spine" and I got the following error:<br>   Mungo/modules/spine/spineskeleton.monkey&lt;156&gt; : Error : Method SpineSkin.AttachAll:Void(Local skeleton:SpineSkeleton,Local oldSkin:SpineSkin) is private.<br>(I'm using Mungo) I was trying to build example1. I have the json module too -  it came with mungo, actually.<br>This is with the <a href="https://github.com/skn3/monkeyspine" target="_blank">https://github.com/skn3/monkeyspine</a> version. The other version only has example7 and I can't build that either!<br><br>I'd appreciate an update on step by step instructions. Too many links and (i think) old stuff. Confusing to me!<br><br>Thanks in advance!,<br>Lawrence <br><br></td></tr></table><br>
<a name="2095961"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#71">[#71]</a></td></tr></table></td></tr><tr ><td class="posttext"> I will look into this week plus hopefully merge a commit. I had two weeks off hence no updates. Stay tuned:) <br><br></td></tr></table><br>
<a name="2096017"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#72">[#72]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> 'version 21<br>' - fixed event data not coming through, cheers mouser<br>' - added SetIgnoreRootPosition to SpineEntity. By default now spineentity will utilise the root bone position compared to 0,0 in spine editor. Set this to true if spine entity should ignore root bone position and force set to x,y of SpineEntity. <br></div><br><br>The second item in that update might mean you have to adjust your project. Previously the SpineEntity would assume that the root bone should always be placed at the x,y of the SpineEntity. This meant that all positional animation data for root bone was ignored. Now, the default behavior is to use the root bone position. When you place the root bone at 100,100 in the spine editor, the SpineEntity will be placed at 100,100 offset from the entities x,y.<br><br>So make sure you set your root bone to 0,0 in the spine editor. If you want to use the old behavior then call SetIgnoreRootPosition(true) on your SpineEntity . <br><br></td></tr></table><br>
<a name="2096031"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#73">[#73]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have merged the development branch into master now, so just download direct from spine module repo.<br><br>Law,<br>I have also removed some dead wiki pages and updated some of the information. Please let me know if it helps. Example7 should run out of the box if you have followed the installation procedure.<br><br>I am not sure if there are conflicts with Mungo, perhaps we can resolve this together. Let me know how you get on. <br><br></td></tr></table><br>
<a name="2096033"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#74">[#74]</a></td></tr></table></td></tr><tr ><td class="posttext"> Another quick commit:<br><div class="quote"> 'version 22<br>' - issue with merging pull request with different line-end-encoding ~r is now stripped out in mojo file reader <br></div><br><br>Basically a 3rd party pull request changed the line-endings which was breaking the SpineMojoFile implementation. <br><br></td></tr></table><br>
<a name="2098167"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Soap</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#75">[#75]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can you check Example7 with building on 82b? For me it is a white screen. <br><br></td></tr></table><br>
<a name="2098290"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#76">[#76]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yo I will check soon. Sorry struggling to gather some time, got a hell two weeks up ahead. I will fit this in though, as I suspect it is a very quick fix! Stay tuned! <br><br></td></tr></table><br>
<a name="2099138"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Soap</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#77">[#77]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can take a quick look at this soon? <br><br></td></tr></table><br>
<a name="2099143"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#78">[#78]</a></td></tr></table></td></tr><tr ><td class="posttext"> Whoops, I will add this to my calendar for tomorrow. <br><br></td></tr></table><br>
<a name="2099163"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#79">[#79]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry about the delay!<br><br>I tried in glfw and things seemed to work fine. In HTML5 not.<br><br>I did have a look through the code and found a bug that the atlasScale multiplier on entity was defaulting to 0.0. Which meant the eventual draw operation was drawn at scale 0x0.<br><br><div class="quote"> 'version 23<br>' - small tweak to set initial atlasScale in spineentity to 1.0 (otherwise images would render with 0x0 scale because multiplied by atlasScale = 0.0) <br></div><br><br>Let me know if this fixes it for you, tried in latest 83a version. <br><br></td></tr></table><br>
<a name="2099211"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Soap</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#80">[#80]</a></td></tr></table></td></tr><tr ><td class="posttext"> Works now! Thank you! <br><br></td></tr></table><br>
<a name="2099430"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Soap</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#81">[#81]</a></td></tr></table></td></tr><tr ><td class="posttext"> Could you give some insight into the best way of doing this?<br><br><a href="http://esotericsoftware.com/forum/viewtopic.php?f=3&amp;t=1131" target="_blank">http://esotericsoftware.com/forum/viewtopic.php?f=3&amp;t=1131</a><br><br>What I want is an easy way to swap out images of slots programmatically, which replace presets in the spine files but are not included in the spine files. Similar to thing rIKmAN was talking about before. It seems like the proper way would be to build a new attachment and then set a slot to that new attachment.<br><br>Also<br><br><a href="http://esotericsoftware.com/blog/Finally-an-update" target="_blank">http://esotericsoftware.com/blog/Finally-an-update</a><br><br><a href="http://esotericsoftware.com/blog/Upcoming-views-sneak-peek" target="_blank">http://esotericsoftware.com/blog/Upcoming-views-sneak-peek</a> <br><br></td></tr></table><br>
<a name="2099426"></a>

<a name="2099425"></a>

<a name="2099423"></a>

<a name="2099441"></a>

<a name="2099442"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#82">[#82]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey Brian,<br><br>Looks like some nice tweaks to their UI!<br><br>So the best way would be to GetSlot() on the SpineEntity. You should then be able to set the attachment by just doing <pre class=code>slot.Attachment = theNewSpineRegionAttachment '(this sets via property)</pre><br><br>You could create the attachment manually and it should work as long as you set all the fields properly. <br><br></td></tr></table><br>
<a name="2099467"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Soap</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#83">[#83]</a></td></tr></table></td></tr><tr ><td class="posttext"> How would you do that - creating the attachment manually? I am studying the Monkey Spine code, and it seems the way I am trying to do it is the hard way with maybe more steps than there should be.<br><br>The main problem is I want to use spare images as replacement for the attachments. As rIKmAN said before like the situation is there is a character which can equip any number of sword images but do not want all loaded in memory at once. <br><br></td></tr></table><br>
<a name="2099480"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#84">[#84]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> 'version 24<br>' - renamed SpineMojoRendererObject to SpineMojoTextureRenderObject<br>' - added SpineMojoImageRenderObject<br>' - added SpineMojoImageAttachment<br>' - added new example to demonstrate custom attachment<br>' - added SetSlotAttachment() and  SetSlotCustomAttachment() to spine entity <br></div><br><br>Hey, I have added some functionality to the module. Check out the example to see it working. It is like other commands, you will have to make modifications to the slot each update. <br><br></td></tr></table><br>
<a name="2099481"></a>

<a name="2099482"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#85">[#85]</a></td></tr></table></td></tr><tr ><td class="posttext"> Basically...<br><pre class=code>Local banana := New SpineMojoImageAttachment("banana_attachment", "monkey://data/banana.png")
'...
'...
'...
spineEntity.Update()
spineEntity.SetSlotCustomAttachment("gun",banana)</pre> <br><br></td></tr></table><br>
<a name="2099488"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Soap</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#86">[#86]</a></td></tr></table></td></tr><tr ><td class="posttext"> You rock, Jon!! Thank you! <br><br></td></tr></table><br>
<a name="2101078"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >k.o.g.</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#87">[#87]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does Mesh Manipulation complete not work on html5 target? <br><br></td></tr></table><br>
<a name="2101082"></a>

<a name="2101083"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#88">[#88]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey KOG,<br><br>Html5 doesn't have draw poly (textured) so unfortunately not.<br><br>If you however wrote a monkey implementation for draw poly it would work without changes to the spine module.<br><br>If you were wanting to look into it, you might be able to look at webgl stuff to draw a poly with texture uvs... <br><br></td></tr></table><br>
<a name="2101086"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >k.o.g.</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#89">[#89]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey<br><br>Sorry im not good in that :)<br>is it possible, that you look into this for me?<br><br>i found something like:<br><a href="http://stackoverflow.com/a/10661945" target="_blank">http://stackoverflow.com/a/10661945</a> <br><br></td></tr></table><br>
<a name="2101620"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#90">[#90]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey KOG, slow reply sorry. I don't think it's really possible without getting massively hacky. It would only be webgl possible I think, so that would be the route.<br><br>Spine module needs to be without hacks otherwise it becomes a nightmare to maintain. I'd be happy if somone else wanted to contribute? <br><br></td></tr></table><br>
<a name="2104862"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mouser</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#91">[#91]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br>I'm unable to render two or more spine-objects using the same skin. Only one of them is displayed.<br><br><pre class=code>
Class Character
    Method New(skin:String, x:Int = 0, y:Int = 0)
        Super.New("characters", x, y)
        spine.SetSkin(skin)
    End
 ...
End

...
oscar = New Character("oscar", 50, 120)
oscar2 = New Character("oscar", 150, 120)
...

</pre> <br><br></td></tr></table><br>
<a name="2106051"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#92">[#92]</a></td></tr></table></td></tr><tr ><td class="posttext"> Been away a while and wow a lot has happened - Monkey2, Pyro etc, madness!<br><br>Thanks for the addition of the attachment stuff skin, I think it's exactly what I was after in previous posts :)<br><br>Quick question - would Mojo2 allow this module to use all the latest Spine features?<br><br>Obviously it would need to be updated, but is the core functionality there in Mojo2 to allow for bounding boxes etc as I know you said Mojo would make things very hacky in terms of updating to be in line with the latest Spine runtimes. <br><br></td></tr></table><br>
<a name="2106565"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#93">[#93]</a></td></tr></table></td></tr><tr ><td class="posttext"> Haven't had a chance to investigate mojo2 enough but I'd imagine so. Slightly busy at the moment with wedding planning, but it is on my todo list to take a look. I will have a look next week. <br><br></td></tr></table><br>
<a name="2109588"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Peeling</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#94">[#94]</a></td></tr></table></td></tr><tr ><td class="posttext"> EDIT: Nothing to do with Spine per se. Turns out Transcc explodes if you import too many files in the course of compiling your project. <br><br></td></tr></table><br>
<a name="2109580"></a>

<a name="2110529"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#95">[#95]</a></td></tr></table></td></tr><tr ><td class="posttext"> Appologies for any delays getting the spine module update for mojo2. I was in the process of getting married and going on my honeymoon :)<br><br>Well and truely married now!<br><img src="http://i62.tinypic.com/f9qejc.jpg"><br><br><div class="quote"> 'version 25<br>' - big update to port spine to work with mojo2 <br></div><br><br>OK so I have updated the main branch so that we are running with mojo2.<br><a href="https://github.com/skn3/monkeyspine" target="_blank">https://github.com/skn3/monkeyspine</a><br><br>If you are still using mojo1 you can access the archived branch here:<br><a href="https://github.com/skn3/monkeyspine/tree/mojo1_archived" target="_blank">https://github.com/skn3/monkeyspine/tree/mojo1_archived</a><br><br>I wont continue to support this branch, but it is here for those who need it.<br><br>So this update I have got things working with mojo2. There are been quite heavy changes, and there are probably more that can be made in the future. For now it seems to be working OK. A few things to remember:<br>- all draw operations now need a drawlist/canvas<br>- all color values are now floats instead of 0-255<br>- html5 mesh deforms now working!<br><br>Let me know how you get on! <br><br></td></tr></table><br>
<a name="2110528"></a>

<a name="2110527"></a>

<a name="2110526"></a>

<a name="2111200"></a>

<a name="2111202"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Peeling</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#96">[#96]</a></td></tr></table></td></tr><tr ><td class="posttext"> First of all: Congratulations :)<br><br>Secondly, an FYI: I think there's a discrepancy between the way Spine transforms ordinary image regions and the way your module transforms them. Whether this affects your new version, I don't know; we're having to stick with the old version.<br><br>The relevant bit of code is this:<br><br><pre class=code>'render
If snapToPixels
	region.RenderObject.Draw(Int(slotWorldX[index]), Int(slotWorldY[index]), slotWorldRotation[index], slotWorldScaleX[index], slotWorldScaleY[index], Self.atlasScale)
Else
	region.RenderObject.Draw(slotWorldX[index], slotWorldY[index], slotWorldRotation[index], slotWorldScaleX[index], slotWorldScaleY[index], Self.atlasScale)
EndIf</pre><br><br><br>This code draws images based on the pre-calculated 'slotWorld###' values. Specifically, it uses a position, a rotation, and two scale values.<br><br>This means that everything drawn through this code will be a rectangle (strictly 90 degree corners). It will be at the correct angle, but the <b>scale</b> is propagated through from the bone to the region by multiplying bone.scale.x and region.scale.x.<br><br>This <i>is</i> how scale is propagated through the skeleton in Spine, but it is <i>not</i> how bone scaling is applied to regions attached to those bones. This is easy to demonstrate: just attach a region to a bone at 90 degrees, then scale up the bone's X-axis. In Spine the region will get bigger along the x-axis of the bone. In Monkey, the region will get bigger along its own x-axis.<br><br>If you put the region at 45 degrees instead of 90, you can see that in Spine the rectangle of the region is distorted into a diamond shape, while in Monkey the region remains a rectangle and scales along its own axes.<br><br><b>EDIT:</b><br>In our local implementation I've ended up adding 'slot matrices', concatenations of the slot's local matrix and the parent bone matrix, and passing that through to the Mojo matrix when drawing the region. <br><br></td></tr></table><br>
<a name="2111198"></a>

<a name="2111199"></a>

<a name="2111237"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Peeling</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#97">[#97]</a></td></tr></table></td></tr><tr ><td class="posttext"> Also, this line at the end of SetAnimation seems to cause a glitch:<br><br>		dirtyPose = True<br><br>This forces the spine code to set the skeleton back to its Setup Pose <i>after</i> the animation has been applied, which means you get one frame of setup pose every time you play an animation.<br><br>I've changed it locally so that it only dirties the Pose if the animation is set to null; this seems to fix the glitch. <br><br></td></tr></table><br>
<a name="2111238"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#98">[#98]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey Peeling,<br><br>cool fancy sharing your version so I can review and add to official? <br><br></td></tr></table><br>
<a name="2111339"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Peeling</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#99">[#99]</a></td></tr></table></td></tr><tr ><td class="posttext"> I absolutely would, except that I've integrated the spine module into our own UI module rather than directly into Mojo (and our version of Mojo has been heavily modified as well), so the fixes aren't suitable for general use.<br><br>The glitch fix is dead simple: just don't dirty the pose at the end of SetAnimation.<br><br>The transform fix you could do one of two ways: for me it was easier to generate a matrix at the point where the 'slotworld' values were calculated (because all our UI rendering is deferred and done via sortable renderpackets). Since you're drawing directly through Mojo, it might be simpler to use the Mojo pushmatrix/scale/rotate functions to concatenate the bone and region transforms either before calling the region renderer or as parameters to it. <br><br></td></tr></table><br>
<a name="2111793"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#100">[#100]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does anyone know the latest version of Spine the latest Mojo1 runtimes support? <br><br></td></tr></table><br>
<a name="2111813"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Soap</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#101">[#101]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think latest Spine works with archived Mojo1 version.<br><br>I don't plan to update to Mojo2 for a while... I hope nothing breaks! <br><br></td></tr></table><br>
<a name="2111829"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#102">[#102]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I think latest Spine works with archived Mojo1 version.<br><br>I don't plan to update to Mojo2 for a while... I hope nothing breaks! <br></div><br><br>Same here!<br>If you could confirm what version of Spine you are using and what version of the runtime I would really appreciate it!<br><br>When I tried a quick update of Monkey and Spine my existing projects gave me errors, but I didn't have time to sit and look at it properly so assumed it was a version/feature mismatch with the runtimes and Spine. <br><br></td></tr></table><br>
<a name="2111838"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Soap</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#103">[#103]</a></td></tr></table></td></tr><tr ><td class="posttext"> Spine app is 2.1.27 Pro<br>Monkey Spine runtime version 18 in one project<br><br>It looks like latest is version 24<br><br>I've not needed to make new assets in a while, but I'll be working on it again soon so I'll confirm for sure what does work... <br><br></td></tr></table><br>
<a name="2111844"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#104">[#104]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah v24 is the latest one I grabbed from the repo - I'll try 18 as suggested and update Spine on a laptop to 2.1.27 Pro.<br><br>Thanks for the info, I won't get time to code now til the end of the week but I will also report back what I find out when I get chance to play.<br><br>If skn3 still pops round here - could you confirm the latest version of Spine supported by the last Mojo1 runtimes please mate? <br><br></td></tr></table><br>
<a name="2111853"></a>

<a name="2111854"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Soap</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#105">[#105]</a></td></tr></table></td></tr><tr ><td class="posttext"> Did some spine work and can confirm it works. Later I'll test with the last version, as we probably should upgrade to it. If mojo1 version ever needs updating and we have not already updated to mojo2 I can help pay for more work costs to update it.<br><br>@skn3  maybe move the mojo1 version to its own git so it can still accept pull requests and so on? <br><br></td></tr></table><br>
<a name="2111852"></a>

<a name="2112014"></a>

<a name="2112015"></a>

<a name="2112016"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#106">[#106]</a></td></tr></table></td></tr><tr ><td class="posttext"> Will jump on this next week. Stay tuned :)<br><br>I don't get much time to monkey recently but do check back here and try to keep modules updated albeit sometimes slowly...depending on work load. <br><br>I'll get a response back in the week. <br><br></td></tr></table><br>
<a name="2114977"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DeadFall</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#107">[#107]</a></td></tr></table></td></tr><tr ><td class="posttext"> Any chance to switch from using 3rd party json and instead use the brl.json? <br><br></td></tr></table><br>
<a name="2115744"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#108">[#108]</a></td></tr></table></td></tr><tr ><td class="posttext"> Got a bit of a weird bug, and was wondering if anyone else had encountered anything similar.<br><br>Basically I am programmatically setting attachments during runtime, for example:<br><pre class=code>
' set on
Self.entity.skeleton.SetAttachment("mySlot", "myAttachment")
' set to off
Self.entity.skeleton.SetAttachment("mySlot", "")
</pre><br><br>I am then trying to check the current active attachment name so i can do something depending on the result:<br><pre class=code>
DebugLog "attachmentName: " + Self.entity.GetSlot("mySlot").Data.AttachmentName
</pre><br><br>To test I have set a couple of KeyHit() calls to turn on/off the attachment, and it works fine - it appears and disappears as it should.<br><br>However the DebugLog always returns "myAttachment" as the name, even when I have set it to an empty string ("") and it is hidden/off visually on screen as it should be.<br><br>I checked the Spine site and most other runtimes use "SetAttachment("mySlot", Null)" to do this, but I can't do this as SetAttachment only takes a string as the second parameter, and "" seems to do the trick visually, but the attachment name always returns the original "myAttachment" like it doesn't update or know it should now be empty "".<br><br>I am using the mojo1 version of the runtime, and wondering if I am doing something wrong or if it is a bug?<br><br>The issue is that I need to set/turn off an attachment based on Y position, and need to know what it currently is to avoid re-setting the attachment every frame if it is already set.<br><br>On a lighter note, Spine 3.0.0 is out!<br><a href="http://esotericsoftware.com/blog/Spine-3.0.00-released" target="_blank">http://esotericsoftware.com/blog/Spine-3.0.00-released</a> <br><br></td></tr></table><br>
<a name="2115743"></a>

<a name="2115742"></a>

<a name="2115741"></a>

<a name="2115740"></a>

<a name="2115749"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#109">[#109]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry guys for slowwwwwwwwwwwww delay in getting back to you. I am still supporting this module.<br><br>I have updated the repo to use brl.json. I didn't even know monkey had gained its own json lib!<br><div class="quote"> 'version 26<br>' - removed dependancy of external json module and switched code to brl.json <br></div><br><br>I will jump on your bug soon (hopefully tomorrow) Rik. Sorry, I have run out of time today! <br><br></td></tr></table><br>
<a name="2115763"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#110">[#110]</a></td></tr></table></td></tr><tr ><td class="posttext"> No problem skn3, appreciate it mate, thanks! <br><br></td></tr></table><br>
<a name="2115832"></a>

<a name="2115833"></a>

<a name="2115834"></a>

<a name="2115835"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#111">[#111]</a></td></tr></table></td></tr><tr ><td class="posttext"> Rik<br><br>So the <b>Data</b> structure stores the loaded details so it never changes after loading. You should not really be using the .Data objects anywhere throughout the spine module. If you do, it will always return the name of the attachment, as you are seeing.<br><br>You may want to use GetSlot().Attachment. Check to see if it is null, if it is not null then you can check attachment.Name on the SpineAttachment object that was returned.<br><br>Does that help?<br><br>E.g.<br><pre class=code>
Function GetSlotAttachmentName:String(slot:SpineSlot)
	If slot.Attachment = Null Return ""
	Return slot.Attachment.Name
End

DebugLog "attachment = " + GetSlotAttachmentName(entity.GetSlot("mySlot"))</pre> <br><br></td></tr></table><br>
<a name="2115831"></a>

<a name="2115882"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#112">[#112]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey Skn3,<br><br>Ahhh OK that makes sense - and yeah I've not been using any of the .Data structures at all until now, it was one of those one of those where I tried a few different things and Data.AttachmentName seemed logical (to me) that it would return the currently active attachment name, and an empty string if null.<br><br>I'll try it when I get home later, but I'm sure you are right and that will work fine.<br><br>Thanks mate! :) <br><br></td></tr></table><br>
<a name="2115902"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#113">[#113]</a></td></tr></table></td></tr><tr ><td class="posttext"> No problemo! Hope it works! <br><br></td></tr></table><br>
<a name="2119663"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#114">[#114]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm just trying to convert an older project to use the new updated (v24?) version of the Spine Mojo1 module to see how much work is involved and whether it is going to be worth porting a larger project, but obviously a lot has been added/changed from the version am currently using (v18 I think)<br><br>Is it still possible to use separate images or does the new mojo1 runtime require we use an atlas?<br><br>My current project uses<br><pre class=code>player = New SpineEntity("player/player.json", "", SpineSeperateImageLoader.instance)</pre><br>...and the image paths used are the paths from within Spine.<br><br>I see looking at the new example7.monkey we now need to use:<br><pre class=code>LoadMojoSpineEntity("player/player.json")</pre><br><br>but this is giving me an error because it can't find "player.atlas", and I can't seem to use the overload methods either as "SpineSeparateImageAtlas" doesn't seem to be available any more?<br><br>Sorry for the stupid question but thought I'd ask rather than waste a few hours only to discover we do actually require an atlas now after all (if that is the case)<br><br>Also did anyone ever confirm the most recent version of Spine that works with the latest mojo1 runtime?<br><br>It's all got a bit confusing to me since the split between mojo1/mojo2 etc - is there a rough guide of what would need to be changed when porting a project from the old module to the new Spine mojo1 module? <br><br></td></tr></table><br>
<a name="2119662"></a>

<a name="2119661"></a>

<a name="2119834"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#115">[#115]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do you have an example I can run?<br><br>What does player.atlas pertain to?<br><br>So the Mojo1 version is no longer supported but it is still archived on the repo. Is there any reason you are not able to use the mojo2 module? <br><br>In terms of individual image loader, I am pretty sure I removed this in the latest update as there really isnt a reason not to use an atlas. It would be possible to make new a new atlas loader and plug this into the loading routines. The spine module was designed to make this possible.<br><br>If you look in spinemojo.monkey you see I create loader functions which plumb in the global loader objects. Eg<br><pre class=code>Function LoadMojoSpineEntity:SpineEntity(skeletonPath:String, atlasPath:String, atlasDir:String)
	'allows to specify atlas images dir
	Return New SpineEntity(skeletonPath, atlasPath, atlasDir, spineMojoFileLoader, spineMojoAtlasLoader, spineMojoTextureLoader)
End</pre><br><br>So you can see here this passes of the atlas loader responsibility to the spineMojoAtlasLoader object that is created in the global. If you check the source for SpineMojoAtlasLoader you can see its fairly simple. It returns a SpineAtlas object. We can return our own implementation of SpineAtlas to do whatever we want<br><br>So if you were to do something like:<br><pre class=code>Class SpineSeperateImageAtlasLoader Implements SpineAtlasLoader
	Method Load:SpineAtlas(file:SpineFile, dir:String, textureLoader:SpineTextureLoader)
		Local atlas:= New SpineSeperateImageAtlas
		atlas.Load(file, dir, textureLoader)
		Return atlas
	End
End

Class SpineSeperateImageAtlas Implements SpineAtlas
	Private
	Field imagesDir:String
	Field textureLoader:SpineMojoTextureLoader
	Public
	
	Method Load:Void(file:SpineFile, imagesDir:String, textureLoader:SpineTextureLoader)
		'preload SpineSeperateImageAtlasRegion 's here
		'cache = new SpineSeperateImageAtlas();
	End
	
	Method Discard:Void()
	End
	
	Method FindRegion:SpineAtlasRegion(name:String)
		'load/get SpineSeperateImageAtlas
		Return SpineAtlasRegion(regions.ValueForKey(name))
	End
End

Class SpineSeperateImageAtlasRegion Implements SpineAtlasRegion
	'implement SpineAtlasRegion here
Endd</pre><br><br>Above code is pseudo code. The basic idea is you would have to make it appear to the spine module that it is using an atlas, but  you have just constructed an atlas yourself. You could do this by loading separate images and creating the appropriate interface code to speak to the module.<br><br>You can see in SpineMojoAtlasRegion.monkey I implement all of the functionality that an atlas region has to. There is no reason you couldn't hook this up to do whatever you chose. <br><br></td></tr></table><br>
<a name="2119833"></a>

<a name="2119832"></a>

<a name="2119838"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#116">[#116]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Do you have an example I can run? <br></div><br>No the code doesn't run, I get the error I posted above, hence my post lol! :)<br>or did you mean an example of something else?<br><br><div class="quote"> What does player.atlas pertain to? <br></div><br>I assume it's because in the above code I am trying to load "player.json" and so it automatically tries to load "player.atlas" for the atlas in the new (old archived) mojo1 module?<br><br>During dev I just use single images (or have been) as it's easier to manage (changes to images etc), but you said you have removed the SeparateImageLoader stuff, so now you have confirmed that I guess it makes sense why it no longer works when trying to use the last mojo1 module (v24?).<br><br><div class="quote"> So the Mojo1 version is no longer supported but it is still archived on the repo. Is there any reason you are not able to use the mojo2 module? <br></div><br>Mainly just that it was written using mojo1 and is a large project that would take time I don't have to convert to use mojo2.<br>I'd also have to get to grips with mojo2 as I've not used it at all yet - no time again! <br><br>It's no problem, I'll just go back to using an old version of the Spine module and the latest supported version of Spine for that module.<br>v18 works, and I'm not sure when the change occurred to mojo1/mojo2 but I'll see what the latest version I can use is and set up a few different Monkey folders with various module versions installed that I can use as required until I can fully learn and move over to mojo2.<br><br>Cheers mate. <br><br></td></tr></table><br>
<a name="2119837"></a>

<a name="2119836"></a>

<a name="2123437"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#117">[#117]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yo to the all,<br><br>Its been a while since I have posted here. Busy at work is my only excuse!<br><br>Anyway I have added an update to the module. It has also been back ported to the archived mojo1 version as well.<br><br><div class="quote"> 'version 27<br>' - fixed bug in attachment timeline, causing duplicate attachments to render! <br></div><br><br>This should solve duplicate attachments rendering on the first loop of animation.<br><br>mojo2: <a href="https://github.com/skn3/monkeyspine" target="_blank">https://github.com/skn3/monkeyspine</a><br>mojo1: <a href="https://github.com/skn3/monkeyspine/tree/mojo1_archived" target="_blank">https://github.com/skn3/monkeyspine/tree/mojo1_archived</a> <br><br></td></tr></table><br>
<a name="2123436"></a>

<a name="2123478"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#118">[#118]</a></td></tr></table></td></tr><tr ><td class="posttext"> Skn3 - that's awesome mate, as a mojo1 user thank you so much for backporting the fix! :) <br><br></td></tr></table><br>
<a name="2123477"></a>

<a name="2123485"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Playniax</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#119">[#119]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great man! <br><br></td></tr></table><br>
<a name="2125200"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Soap</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#120">[#120]</a></td></tr></table></td></tr><tr ><td class="posttext"> Dragon Bones now exports to Spine 3.3 format <a href="http://dragonbones.com/en/animation.html" target="_blank">http://dragonbones.com/en/animation.html</a> <br><br></td></tr></table><br>
<a name="2125277"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#121">[#121]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Soap: But you still need to own a Spine licence to use the Spine runtimes, so at that point you may as well use Spine as you have a licence. <br><br></td></tr></table><br>
<a name="2125280"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Soap</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#122">[#122]</a></td></tr></table></td></tr><tr ><td class="posttext"> Skn3 wrote the Monkey one so it shouldn't apply like the official ones do, but he did include this in the license so.. yeah.. <a href="https://github.com/skn3/monkeyspine/blob/master/license.txt" target="_blank">https://github.com/skn3/monkeyspine/blob/master/license.txt</a> I was going to say this would be a good option for people with very little money, but with this license even if Skn3 wrote it it's a no go unless he changes it. <br><br></td></tr></table><br>
<a name="2125278"></a>

<a name="2125279"></a>

<a name="2125289"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#123">[#123]</a></td></tr></table></td></tr><tr ><td class="posttext"> He wrote a wrapper for the official Spine runtimes, so the actual Spine licence applies as well - ie. need a Spine licence to use them.<br><br>Until DragonBones makes it's own runtimes (and they get converted to work with Monkey) it's a no-go for proper releases, although I suppose people learning with personal projects could go this route - just don't release anything.<br><br>What version of Spine are you currently using with the Monkey module mate? <br><br></td></tr></table><br>
<a name="2126827"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anatol</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#124">[#124]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi! I'm just wondering if the Monkey <a href="https://github.com/skn3/monkeyspine" target="_blank">Spine module</a> supports meshes. A commit message mentions "meshes now animation, but no visual yet" but I'm not sure what that means. I'm considering to purchase Spine, but I'm yet unsure if the essential or professional version. The professional price is a bit steep, but if mesh deformation is supported it may be worth it. Well, the inverse kinematics feature alone would be awesome to have, but I'm a bit on a budget. Thanks. And many thanks also for the work you've put into this already, Skn3! <br><br></td></tr></table><br>
<a name="2126847"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Soap</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#125">[#125]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm pretty sure it does, but you can test running examples from the runtime with mesh deformations. Check git the old example might have that. <br><br></td></tr></table><br>
<a name="2126848"></a>

<a name="2126849"></a>

<a name="2126850"></a>

<a name="2126851"></a>

<a name="2126852"></a>

<a name="2126853"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anatol</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#126">[#126]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the reply. I'm trying hard to make the example work, I was testing the <a href="https://github.com/skn3/monkeyspine/tree/master/example8" target="_blank">example8</a> and <a href="https://github.com/skn3/monkeyspine/tree/master/oldExample" target="_blank">oldExample</a>, and also a "banana" example from Pyro in <i>bananas/e06_3rdparty/e02_spine/e01_render_to_scene_graph_layer</i>.<br><br>It took quite a while to fix a lot of dependencies, i.e. importing everything from spine, glue, (spine) lib, json, fixing import paths from either <i>spine</i> or <i>spine.spinemojo</i>. It finally builds without errors but on HTML5 I only get a blank screen (no runtime error), and Android launches the app but crashes immediately on FATAL EXCEPTION: GLThread 13845.<br><br>Has anyone managed to run this? I checked out the latest <a href="https://github.com/skn3/monkeyspine" target="_blank">master</a>. It looks like there went a lot of effort into this, so it'd be nice to get it to work. <br><br></td></tr></table><br>
<a name="2126854"></a>

<a name="2126855"></a>

<a name="2126857"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anatol</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#127">[#127]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry, my bad. You know how you publish the post and in the same moment the penny drops? Well. I should've just checked out the entire <a href="https://github.com/skn3/monkeyspine/tree/master" target="_blank">monkeyspine</a> into my MonkeyX modules folder, and make sure that the folder is called "spine", not "monkeyspine". The example works out of the box. I don't quite understand the example yet, but at least it's running.<br><br><a href="https://github.com/skn3/monkeyspine/tree/master/example8" target="_blank">example8</a> looks more like a spritesheet animation, but <a href="https://github.com/skn3/monkeyspine/tree/master/oldExample" target="_blank">oldExample</a> is similar to <a href="http://www.skn3.com/junk/spine/demos/v03/MonkeyGame.html" target="_blank">this one</a>. <br><br></td></tr></table><br>
<a name="2126856"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Soap</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#128">[#128]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you have questions feel free to ask. I worked with Spine a ton a while ago so I can probably answer most general questions. One important tip with animation of meshes is to never animation single verts, and instead animate bones which are weighed on your meshes. Animating single verts is dramatically more resource intense because of the lack of batching. <br><br></td></tr></table><br>
<a name="2126858"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anatol</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#129">[#129]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Soap. I'm just starting with this. I have no experience with Spine (and still only have the trial version), but I did rigging with bone weights before in Blender and with stop motion animation. I love the idea to work with an armature, once the character is set up properly it's fairly easy to animate. I'll keep playing with this, but no doubt I'll have questions. Thank you! <br><br></td></tr></table><br>
<a name="2126859"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anatol</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#130">[#130]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK, so MonkeyX definitely supports mesh deformation and IK. I just went through the different demos in the "old example" and <a href="https://github.com/skn3/monkeyspine/blob/master/oldExample/oldExample.monkey#L44" target="_blank">set TEST to any of the available modes</a>. Tested on HTML5 and Android. That's quite powerful! <br><br></td></tr></table><br>
<a name="2126895"></a>

<a name="2126896"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anatol</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#131">[#131]</a></td></tr></table></td></tr><tr ><td class="posttext"> In case anyone else wants to know, I tested if Spine in MonkeyX supports light sources, and it does right out of the box! This is one of the bananas examples with added light source plus normals and specular map on the Spine texture atlas. Even for Spine with mesh deformation, the maps get transformed just the same. It just works. Nice!<br><img src="http://attic.nugob.org/communities/monkeycoder.co.nz/forum/attachments/monkey_x_spine_with_light_source_normals_and_specular_map.png"> <br><br></td></tr></table><br>
<a name="2126897"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#132">[#132]</a></td></tr></table></td></tr><tr ><td class="posttext"> Good stuff Anatol - fancy posting a small example? :)<br>I've been meaning to get some use out of SpriteIlluminator which I got in a HumbleBundle a few months ago.<br><br>Also what version of Spine are you using? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
