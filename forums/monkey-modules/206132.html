<!DOCTYPE html><html lang="en" ><head ><title >SimpleUI: An input-agnostic, skinless UI</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >SimpleUI: An input-agnostic, skinless UI</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=524" >User Modules</a>/<a href="#bottom" >SimpleUI: An input-agnostic, skinless UI</a><br><br>
<a name="2070360"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Since there appears to be more and more GUI toolkits for monkey coming out lately, and I'm sure a lot of people are getting ready to add more to the pile when they show off theirs, I figured I might as well open source the library I've been working on / using for the past year or so.<br><br><img src="http://i.imgur.com/acs0W74.png"><br><br>It's been used in at least one commercially-released project already, and internally, I've been using it (and still working on it) for at least 2 other projects.  It's not done yet!  In a bit of a state of flux, method signatures might change to improve consistency (especially with newer components such as WidgetManager/CircularProgressbar/TextBox), but a lot of it has been stable for a year now, so heck, why not.<br><br>I imagine the main users of this library (if that's anyone other than me), would be using it because it's designed to be extra modular, and let <i>you</i> design the components you want.  Originally, it only included a PushButton to extend from, and that's it.  There is no "default skin" or graphical motif you have to follow, you just plop it in your game and draw the controls the way you like.<br><br>The main functionality is offered through a polling-based system that handles input for you, and some basic "Events", tied to a generic input interface. There's only one "Complete" end-to-end example widget included, the forementioned <i>PushButton</i>, which you can extend to do whatever you need.  Everything else is a basic shell type object which you can expand to do other things.<br><br>For example, in the example picture, 3 types of <b>Scroller</b> objects are shown:  A typical numbered listbox, an endless looping scroller (both of which are trivial to make with SimpleUI), and a more complex example where the click/scroll functionality's hijacked to spin a ring of vectorballs.  All of these are optimized for mobile, and work how you expect scrolling lists of content there to work.<br><br>SimpleUI respects your global scissor and matrix.  It won't screw with automatic scaling, and it even has functions to push and pop a localized scissor, if you need to localize your widget's blitting area, or start making nested widgets.<br><br>SimpleUI also doesn't force you to go with a single input paradigm.  The input and the interface are separated, so you can input with a controller or a keyboard if you wanted to on nearly all the widgets.  (This is still a WIP for the textbox control! Soft keyboard is hard-coded to mobile platforms, etc.)<br><br>So if you don't need an entire library, why not give it a shot?<br><br><a href="https://github.com/nobuyukinyuu/SimpleUI/" target="_blank">https://github.com/nobuyukinyuu/SimpleUI/</a><br><br>(coming soon:  more widgets) <br><br></td></tr></table><br>
<a name="2070359"></a>

<a name="2070357"></a>

<a name="2070356"></a>

<a name="2070355"></a>

<a name="2070367"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amon</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool, will give it a try in a bit.<br><br>You're quite a productive Monkey Coder and it's good to have people like you here. <br><br></td></tr></table><br>
<a name="2070385"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sammy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well done Nobuyuki, thank you! :D <br><br></td></tr></table><br>
<a name="2070395"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very nice :D <br><br></td></tr></table><br>
<a name="2070405"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RENGAC</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool! <br><br></td></tr></table><br>
<a name="2076625"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've added a 2d <b>Panel</b> object to the collection of widgets available.  The panel may provide an easier way to serve content compared to the Scroller classes -- the main disadvantage being that the panel can't loop endlessly.  However for many purposes, it is probably a better widget to use.  It's simpler to add children (you Attach them like you would to a WidgetManager), and input is "captured" from child widgets in a way that's transparent to the child widget -- the panel employs a special <i>PanelPointer</i> which overrides the child widget's Input and only passes input down when scrolling is not in progress.  It still passes down hover events at all times, so your controls won't appear to "Freeze" on desktop targets when hovering.  <br><br>As usual, there's no default skinning.  You can add your own by overriding RenderContent() -- Render() controls the matrix operations, so if you don't want to mess with that, override RenderContent(), and call Super in the place you want the child widgets to render.  I've provided PercentX and PercentY properties for your own position indicator drawing convenience.<br><br><img src="https://s3.amazonaws.com/uploads.hipchat.com/11212/31746/qKBymnbi8pnCmPx/scrollPanel.png"><br><br>I've also added a new <i>ScaleAwarePointer</i> for those of you who are too lazy to implement your own.  It's compatible with both <a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=4963" target="_blank">AutoScale</a> and Autofit.<br><br>Finally.... In the process of making my game, I'll be needing to update SimpleUI to better support Multitouch.  As a result, I started a MultiTouchPointer class;  however, it doesn't implement InputPointer (yet) and I haven't decided if it will or won't.  Breaking input-agostity is something I hope to avoid, but it's either that or try to change the simple assumptions <i>InputPointer</i> makes about the input device.  It may be enough to simply hack-on backwards-compatibility with InputPointer to MultiTouchPointer, but it would force multitouch widgets (such as the future MultiTouchPanel, which will have zoom, and possibly rotate support) to be aware of this and take a MultiTouchPointer instead, and might not be able to share property names with InputPointer.  There's no use for MultiTouchPointer yet, so consider the code a preview of what's to come. <br><br></td></tr></table><br>
<a name="2076696"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Galt</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey thanks man, this looks very nice. <br><br></td></tr></table><br>
<a name="2076721"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sammy</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Much appreciated, thank you! <br><br></td></tr></table><br>
<a name="2076732"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sledge</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> This looks great, thanks for sharing! Have you got an example of using the new ScrollablePanel class as I'm finding that when I do this...<br><br><pre class=code>
scroll2 = New ScrollablePanel(120,10, 190,300, Cursor)
scroll2.__endlessX = False
scroll2.__endlessY = false
For Local i:Int = 1 To 32
	Local newButton:PushButton = New PushButton(0, (32*i)-32, 190, 32, Cursor)
	newButton.Text = "Panel Button "+i
	scroll2.Attach newButton
Next

widgets.Attach(scroll2)
</pre><br><br>...it won't scroll along the y axis despite the content being taller than the container. If I set __endlessY to True then it scrolls but, well, endlessly(!), which is typically not what one wants. Any guidance appreciated.<br><br>Also, if you're interested in feedback, I notice that when you drag a scroller up and down it looks fine (lovely even) regardless of speed, but when you release it and it slows down by itself it uses sub-pixel rendering, which looks awful. An option to have the widgets positioned in integers regardless of whether they are being dragged or animated would be good. <br><br></td></tr></table><br>
<a name="2076817"></a>

<a name="2076818"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Sledge<br><br>Check example.monkey for an example.  Make sure you're correctly polling first your InputPointer, and then the widget (or the parent the widget's attached to).  There shouldn't be any reason for the control not to scroll if the content size is set to be larger than the dimensions of the panel.  (I even tested this on both axes before releasing, so I'm not sure where the problem may lie) <br><br></td></tr></table><br>
<a name="2076832"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sledge</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cheers, I'll take another look. Note that the code I posted there is what I added to example.monkey to test it out (just under where the original scroller is defined) so I dunno if there's anything obviously wrong with how the polling would be set up there?<br><br>EDIT: Full source of the edited example.monkey<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Strict

Import mojo

'This imports the most basic things needed to get started.
Import SimpleUI.common
'The following are not included in the common init, add them as necessary.
Import SimpleUI.widgetManager
Import SimpleUI.Scrollers
Import SimpleUI.panel

Function Main:Int()
	New Game()
	Return 0
End Function

Class Game Extends App
	Field status:String = "Better example coming soon..."

	'This is the cursor we use for the example. It -should- support scaled screens...
	Field Cursor:= New ScaledTouchPointer()
	'This is a widget manager.  For lazy people, you can poll/render batches of widgets at once!
	Field widgets:WidgetManager
	'Some pushbuttons.  You'll want to extend these to provide your own functionality.
	Field button:PushButton[3]
	'A scroller.
	Field scroll:EndlessScroller
	Field scroll2:ScrollablePanel
	
	Method OnCreate:Int()
		SetUpdateRate 60
				
		'Set up the widget manager to utilize our global InputPointer.
		widgets = New WidgetManager(Cursor)
		
		'Initialize the buttons.
		For Local i:Int = 0 Until 3
			button[i] = New PushButton(16, 32 + i * 48, 96, 32, Cursor)
			button[i].Text = "Button " + i
			
			widgets.Attach(button[i])
		Next

		'Set up the scroller.
		scroll = New EndlessScroller(320, 32, 256, 320, 10, Cursor, 48)
		scroll.Items = scroll.Items.Resize(10)
		For Local i:Int = 0 Until 10
			Local c:= New ExampleCell()
			c.w = 256
			c.h = 48
			c.text = "Cell " + i
			c.r = Rnd(255)
			c.g = Rnd(255)
			c.b = Rnd(255)
			
			scroll.Items[i] = c
		Next
		widgets.Attach(scroll)
		
		scroll2 = New ScrollablePanel(120,10, 190,300, Cursor)
		scroll2.__endlessX = False
		scroll2.__endlessY = False
		For Local i:Int = 1 To 32
			Local newButton:PushButton = New PushButton(0, (32*i)-32, 190, 32, Cursor)
			newButton.Text = "Panel Button "+i
			scroll2.Attach newButton
		Next
		
		widgets.Attach(scroll2)
				
		Return 0
	End Method
	
	Method OnUpdate:Int()				
		If KeyHit(KEY_ESCAPE) or KeyHit(KEY_CLOSE) or KeyHit(KEY_BACK) Then Error("")

		'In order for anything to detect, we must poll the InputPointer at the beginning of each frame.
		Cursor.Poll()

		'Tell our widget manager "Okay, let's poll our widgets for input."		
		widgets.PollAll()

		'Now let's check that input.		
		For Local i:Int = 0 Until 3
			If button[i].hit
				status = "Button " + i + " hit."
			End If			
		Next
		
		Local i:Int = 1
		For Local currentWidget:Widget = Eachin scroll2.Widgets
			Local currentButton:PushButton = PushButton(currentWidget)
			If currentButton.hit status = "Scroll2 Button " + i + " hit."
			i=i+1
		next

		Return 0		
	End Method
	
	Method OnRender:Int()
		Cls(0, 16, 64)

		widgets.RenderAll()
				
		SetAlpha(0.4)
		DrawCircle(Cursor.x, Cursor.y, 8)
		SetAlpha(1)
		
		Local m:Float[] = GetMatrix()
		DrawText(status, 0, 0)
		Return 0
	End Method
End Class

'Summary: Class providing a SimpleUI InputPointer for an AutoScaled touchscreen.  No multitouch.
Class ScaledTouchPointer Extends MousePointer
	Method x:Float() Property
		Return dTouchX()
	End Method
	Method y:Float() Property
		Return dTouchY()
	End Method
	
'Derived multitouch positions
Function dTouchX:Int(index:Int = 0)
	Local m:Float[] = GetMatrix()
		Return TouchX(index) / m[0] - (m[4] / m[0])
End Function

Function dTouchY:Int(index:Int=0)
	Local m:Float[] = GetMatrix()
		Return TouchY(index) / m[3] - (m[5] / m[3])
End Function
End Class
</textarea><br><br>EDIT 2: <strike>Oh, I'm looking at panel.monkey and the maffs for the __endlessY clause is off... I wrote a stack scroller (sans touch input) just prior to finding your lib and did exactly the same thing I think, so I can probably just look at what I did to fix that and do the same here (if you don't beat me to it with an official fix). I should be good, ta :)</strike><br><br>EDIT 3: Okay, I was suspicious of the maffs because when I took 'em out the thing went back to scrolling BUT it turns out the problem was that ch for scroll2 was always 0.0 so it threw your (perfectly fine) maths awry. This is easily fixed by updating ch as one adds elements to the ScrollablePanel widget, for example:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Strict

Import mojo

'This imports the most basic things needed to get started.
Import SimpleUI.common
'The following are not included in the common init, add them as necessary.
Import SimpleUI.widgetManager
Import SimpleUI.Scrollers
Import SimpleUI.panel

Function Main:Int()
	New Game()
	Return 0
End Function

Class Game Extends App
	Field status:String = "Better example coming soon..."

	'This is the cursor we use for the example. It -should- support scaled screens...
	Field Cursor:= New ScaledTouchPointer()
	'This is a widget manager.  For lazy people, you can poll/render batches of widgets at once!
	Field widgets:WidgetManager
	'Some pushbuttons.  You'll want to extend these to provide your own functionality.
	Field button:PushButton[3]
	'A scroller.
	Field scroll:EndlessScroller
	Field scroll2:ScrollablePanel
	
	Method OnCreate:Int()
		SetUpdateRate 60
				
		'Set up the widget manager to utilize our global InputPointer.
		widgets = New WidgetManager(Cursor)
		
		'Initialize the buttons.
		For Local i:Int = 0 Until 3
			button[i] = New PushButton(16, 32 + i * 48, 96, 32, Cursor)
			button[i].Text = "Button " + i
			
			widgets.Attach(button[i])
		Next

		'Set up the scroller.
		scroll = New EndlessScroller(320, 32, 256, 320, 10, Cursor, 48)
		scroll.Items = scroll.Items.Resize(10)
		For Local i:Int = 0 Until 10
			Local c:= New ExampleCell()
			c.w = 256
			c.h = 48
			c.text = "Cell " + i
			c.r = Rnd(255)
			c.g = Rnd(255)
			c.b = Rnd(255)
			
			scroll.Items[i] = c
		Next
		widgets.Attach(scroll)
		
		scroll2 = New ScrollablePanel(120,10, 190,300, Cursor)
		scroll2.__endlessX = False
		scroll2.__endlessY = False
		For Local i:Int = 1 To 32
			Local newButton:PushButton = New PushButton(0, (32*i)-32, 190, 32, Cursor)
			newButton.Text = "Panel Button "+i
			scroll2.Attach newButton
			scroll2.ch = scroll2.ch + 32 ' &lt;&lt;&lt;&lt;&lt;&lt; HERE!!!!!!!
		Next
		
		widgets.Attach(scroll2)
				
		Return 0
	End Method
	
	Method OnUpdate:Int()				
		If KeyHit(KEY_ESCAPE) or KeyHit(KEY_CLOSE) or KeyHit(KEY_BACK) Then Error("")

		'In order for anything to detect, we must poll the InputPointer at the beginning of each frame.
		Cursor.Poll()

		'Tell our widget manager "Okay, let's poll our widgets for input."		
		widgets.PollAll()

		'Now let's check that input.		
		For Local i:Int = 0 Until 3
			If button[i].hit
				status = "Button " + i + " hit."
			End If			
		Next
		
		Local i:Int = 1
		For Local currentWidget:Widget = Eachin scroll2.Widgets
			Local currentButton:PushButton = PushButton(currentWidget)
			If currentButton.hit status = "Scroll2 Button " + i + " hit."
			i=i+1
		next

		Return 0		
	End Method
	
	Method OnRender:Int()
		Cls(0, 16, 64)

		widgets.RenderAll()
				
		SetAlpha(0.4)
		DrawCircle(Cursor.x, Cursor.y, 8)
		SetAlpha(1)
		
		Local m:Float[] = GetMatrix()
		DrawText(status, 0, 0)
		Return 0
	End Method
End Class

'Summary: Class providing a SimpleUI InputPointer for an AutoScaled touchscreen.  No multitouch.
Class ScaledTouchPointer Extends MousePointer
	Method x:Float() Property
		Return dTouchX()
	End Method
	Method y:Float() Property
		Return dTouchY()
	End Method
	
'Derived multitouch positions
Function dTouchX:Int(index:Int = 0)
	Local m:Float[] = GetMatrix()
		Return TouchX(index) / m[0] - (m[4] / m[0])
End Function

Function dTouchY:Int(index:Int=0)
	Local m:Float[] = GetMatrix()
		Return TouchY(index) / m[3] - (m[5] / m[3])
End Function
End Class
</textarea><br><br>If there's something else I'm supposed to be doing that means ch gets updated automagically then please let me know as I've obviously missed it. Like I said, I'd been working on a scroller but was kinda dreading having to add touch control to it and make it carry clickable objects properly (i.e. responding appropriately to something that was potentially a click turning into a swipe) because I just wanted to get on with the actual application -- you've no idea what a godsend SimpleUI is. <br><br></td></tr></table><br>
<a name="2076831"></a>

<a name="2076830"></a>

<a name="2076829"></a>

<a name="2076828"></a>

<a name="2076827"></a>

<a name="2076826"></a>

<a name="2076825"></a>

<a name="2076823"></a>

<a name="2076821"></a>

<a name="2076819"></a>

<a name="2076820"></a>

<a name="2076864"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> No, the panel's content dimensions aren't updated automatically at all.  That's up to you!  And, as you've found out, the content size defaults to 0, which basically means that it won't scroll and will act like a simple scissor container for the objects attached to it.  You can define a larger content size in either the extended constructor, or by setting cw/ch manually. <br><br></td></tr></table><br>
<a name="2076981"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >monkeyteets</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey Nobuyuki, Just tried out SimpleUI example, looks really nice! <br>Scrolling is liquidy-smooth!<br><br>Do you have any plans for 9 slice scaling? <br><br>Edit: I just saw you created <a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=5940" target="_blank">NinePatch</a> already? Will these projects get merged? <br><br>Would be super helpful! <br><br></td></tr></table><br>
<a name="2076980"></a>

<a name="2076979"></a>

<a name="2077071"></a>

<a name="2077072"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> @monkeyteets<br><br>I like to keep my projects modular, so that people don't get "locked-in" to a framework or certain set of code if it can be avoided -- since I always want to improve my code but also have it be adopted, I try to avoid big integrated solutions that would break existing code which relies on the implementation when upgraded.<br><br>Perhaps the UI class could stand to have a NinePatch function?  But it would simply provide the same functionality as before.... In any case, <strike>there is no built-in use of Image anywhere in the lib</strike> so I think maybe SimpleUI's not the best place for it in any case!<br><br>Thanks for reminding me about NinePatch, though;  I was thinking about coming back to it and rewriting a nDrawExts2 version so that it's both seamless and supports image alpha<br><br><b>Edit</b>:  I lied;  CircularProgressBars use images.  But still! <br><br></td></tr></table><br>
<a name="2077082"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >monkeyteets</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> I like your style of keeping your modules.. modular :P<br>the nDrawExts2 idea would be really cool!<br><br>In any case, I imagine most ui elements would be skinned for production release, you know best though. <br><br></td></tr></table><br>
<a name="2077849"></a>

<a name="2077850"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> SimpleUI now supports a preliminary way of loading widgets from JSON metadata(!)<br><br><img src="http://i.imgur.com/hEerDYB.png"><br><br>This works automatically with some of the basic widgets included with the library (Widget, PushButton, Textbox).  I will look to try adding other widgets later, since I kinda got lazy and don't want to write the deep inspection stuff now  (particularly for Panel, which will require its own unpacking routines).  Custom widgets derived from the base class are of course also supported by the json unpacker.  To implement unpacking for your own widgets, you need to do a few things:<br><br>1.  Override the Spawn() method of your widget so that the output returns the type of your widget (Stupid hack, what I wouldn't give for a TypeOf operator!)<br>2.  (If necessary) Override the UnpackJSON() method and call Super if you want to unpack the base class fields.  Then, load your custom fields from the supplied json argument.<br>3.  Update Unpacker.ValidTypes with a new copy of your widget prototype.  This allows the Unpacker to call your widget type's custom overrides and spawn new ones.<br>4.  Call Unpacker.UnpackForm(json:String), it returns a new WidgetManager containing all the widgets defined in the json!  Magic :o<br><br>Obviously this is a bit preliminary and my first attempt at this kinda generic de-serialization of objects.  <b>However</b>, the advantages of being able to load from metadata are pretty obvious:  <b><i>You can now write your own form editors!</i></b> Automatic serialization is not currently implemented for SimpleUI, however, I doubt that's going to be a problem since the module was originally written for games, not form designer apps.  You can serialize your own data externally, or use the new formdesigner.monkey example included with the module to see one way how to do it.  The data structure's really simple and can be incorporated into your level format:  Simply add a "Widgets" keypair, with the data being an array of objects.  UnpackForm() does the rest. <br><br></td></tr></table><br>
<a name="2077848"></a>

<a name="2077846"></a>

<a name="2077845"></a>

<a name="2077844"></a>

<a name="2077843"></a>

<a name="2077893"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CopperCircle</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great, thanks for the update. <br><br></td></tr></table><br>
<a name="2077981"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >maltic</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just thought I would let you know I am using this with great success in a project of mine. Thank you for making it, and I hope you keep adding features! <br><br></td></tr></table><br>
<a name="2078179"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks guys, I'll be sure to keep working on it.  I make new widgets all the time for projects I'm paid for, but they're usually little things to go with my personal framework and thus aren't fit for inclusion in there.  Things like atlas buttons and special toggles and such.  I really want to genericize a few of these things (like toggles, progress bars, sliders and option lists), but they're imperfect to various degrees and I don't want them to start being used everywhere should I decide to rewrite them later and force people to refactor.<br><br>A little bird told me that any serious new features I have had plans for in the near future may have to be delayed from a public release until a few more projects have been published.  That means that you'll probably see certain widgets/features being used in a commercial project first before being "handed down" to SimpleUI for the time being.  I made json unpacking on a whim as a request for someone, and got a little bit of hell for sharing the code publicly the same day I wrote it from someone else (lol) &lt;:)<br><br>In particular, I was planning on making a zoomable version of the ScrollablePanel with support for MultiTouchPointer.  I probably won't be allowed to put it up on GitHub though until we've got at least 1 or 2 games out that use it.  There's nothing that'll stop you from making your own multitouch controls now, though, since on my last update I fixed up the multitouch pointers which are now backwards-compatible with InputPointer.  You can make your global game cursor a ScaleAwareMultitouchPointer with no ill effects, and extend widgets yourself to take advantage of it right now!  But sadly will have to wait for perhaps the most obvious way to use it.<br><br>Watch this space..... <br><br></td></tr></table><br>
<a name="2078178"></a>

<a name="2078177"></a>

<a name="2078176"></a>

<a name="2083853"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Landon</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> This UI is slick, i think what i love about it the most is it's barebones. I can just extend a widget and change the rending a bit and bam it's fully skinned the way i want. I don't have to hassle with some external xml or JSON file to make it look right. <br><br>Great job! <br><br></td></tr></table><br>
<a name="2122861"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> SimpleUI  now has support for a color picker.<br><br><img src="https://i.imgur.com/uxFnQez.png"><br><br>I still haven't added the color sliders I made many years ago, but maybe those will be next?  :)<br><br>This wheel was designed for a palette editor that I  hope to use in combination with a simple tile and animation editor to make doing 8-bit style games in Monkey a bit easier.  However it's also a great addition to any graphics editor. <br><br></td></tr></table><br>
<a name="2123051"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CopperCircle</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great, yeh sliders and knobs would be good. <br><br></td></tr></table><br>
<a name="2123203"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amon</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool. This just keeps getting better and better. <br><br>Thank, Nobuyuki! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
