<!DOCTYPE html><html lang="en" ><head ><title >Socialite - social networking made easy!</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Socialite - social networking made easy!</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=524" >User Modules</a>/<a href="#bottom" >Socialite - social networking made easy!</a><br><br>
<a name="2086100"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sygem</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> My first post - yay!<br><br>I would like to introduce my first MonkeyX module - Socialite.<br><br>Supporting Android and iOS (maybe Windows Phone 8 in the future), the goal of this module is to provide easy access to social networks. <br><br>Socialite currently supports the following networks:<br><br>- Twitter (text only)<br>- Facebook (posting only for now)<br>- Email (a social network? yeah, why not)<br><br>And it's on GitHub too: <a href="https://github.com/sygem/socialite" target="_blank">https://github.com/sygem/socialite</a><br><br>Please note: this hasn't been used in an app yet - I am just writing a load of modules before starting on my next game. It is still WIP, and could change at any time. Especially the Facebook part, which is nowhere near complete and has some inconsistencies between Android and iOS. I will be uploading some samples soon, and there is some limited documentation in the README files on GitHub.<br><br>Next up: ModPlug modules for Android &amp; iOS :) <br><br></td></tr></table><br>
<a name="2086105"></a>

<a name="2086106"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >erebel55</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> This looks great sygem!<br><br>Can't wait for more facebook/twitter functionality to be added.  Am very glad that you are choosing to support both ios and android :D<br><br>Also, looking forward to future modules from you. <br><br></td></tr></table><br>
<a name="2086432"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >erebel55</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can this module bring the user to a specific facebook/twitter page within the appropriate facebook/twitter app?  If not, this would be a great addition to the module in order to support the in game buttons that will bring the user to the appropriate facebook/twitter page so they can like/follow.<br><br>I am also looking forward to your samples :) <br><br></td></tr></table><br>
<a name="2086927"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >erebel55</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hoping to see some more commits soon :) And hopefully some samples. <br><br></td></tr></table><br>
<a name="2086987"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sygem</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry for the silence, I've been on holiday for a week :) I'll try to get the samples uploaded this week.<br><br>Progress will be slow, and I might even drop Android support - Google decided to terminate my account last week, so I'm going to concentrate on iOS development. <br><br></td></tr></table><br>
<a name="2086989"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >erebel55</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Google strikes again :/ I really hope you continue android support. <br><br></td></tr></table><br>
<a name="2087380"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >erebel55</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Any chance on those samples soon? :) <br><br></td></tr></table><br>
<a name="2087585"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sygem</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> A quick example of how to post to Twitter...<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Import socialite
Import mojo.app

#TWITTER = true
#TWITTER_CONSUMER_KEY="&lt;PUT YOUR KEY HERE&gt;"
#TWITTER_CONSUMER_SECRET="&lt;PUT YOUR SECRET HERE&gt;"

Function Main:Int()
    New TwitterTest()
End

Class TwitterTest Extends App

    Method OnCreate()
        SetUpdateRate(0)
        Local t:TwitterSharer = New TwitterSharer()
        t.SetPostListener(New TwitterPostListener())
        #if TARGET="android"
        t.ShareText("This is an android test")
        #else if TARGET="ios"
        t.ShareText("This is an ios test")
        #endif

    End

End

Class TwitterPostListener Extends SocialPostListener
    Method OnPostComplete:Void()
        Print("Message Tweeted Successfully");
    End
    
    Method OnPostFailure:Void(errorCode:Int, message:String)
        Print("Message Not Tweeted: " + errorCode + " " + message)
    End
End
</textarea> <br><br></td></tr></table><br>
<a name="2087605"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >erebel55</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks sygem :) <br><br></td></tr></table><br>
<a name="2087610"></a>

<a name="2087612"></a>

<a name="2087615"></a>

<a name="2087616"></a>

<a name="2087618"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >erebel55</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm getting the following when I try and compile your example for android<br><pre class=code>
Type 'SocialListener' not found
</pre><br><br>on line 40 of twitterSharer.monkey<br><br>And I don't see this class defined anywhere within sociallistener.monkey or the social natives. <br><br></td></tr></table><br>
<a name="2087619"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sygem</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry about that - I have pushed an update to GitHub, so it should compile now. <br><br></td></tr></table><br>
<a name="2087620"></a>

<a name="2087621"></a>

<a name="2087622"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >erebel55</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cheers for the quick reply :)<br><br>Now, I am getting<br><pre class=code>
Unable to find overload for SetPostListener(TwitterPostListener)
</pre><br><br>on line 17 of your example.<br><br>Edit:<br>Ahh I fixed it in your example<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Import socialite
Import mojo.app

#TWITTER = true
#TWITTER_CONSUMER_KEY=""
#TWITTER_CONSUMER_SECRET=""

Function Main:Int()
    New TwitterTest()
End

Class TwitterTest Extends App

    Method OnCreate()
        SetUpdateRate(0)
        Local t:TwitterSharer = New TwitterSharer()
        t.SetPostListener(New TwitterPostListener())
        #if TARGET="android"
        t.ShareText("This is an android test")
        #else if TARGET="ios"
        t.ShareText("This is an ios test")
        #endif

    End

End

Class TwitterPostListener Extends PostListener
    Method OnPostComplete:Void()
        Print("Message Tweeted Successfully");
    End
    
    Method OnPostFailure:Void(errorCode:Int, message:String)
        Print("Message Not Tweeted: " + errorCode + " " + message)
    End
End
</textarea> <br><br></td></tr></table><br>
<a name="2087623"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >erebel55</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does this not open the twitter app when sharing text? <br><br></td></tr></table><br>
<a name="2087625"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sygem</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> No, the only user-interaction required is during the login process. <br><br></td></tr></table><br>
<a name="2087627"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >erebel55</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay and facebook is the same way? Do you need to have the facebook/twitter apps installed on the device?<br><br>I am planning on adding a open facebook profile / twitter page function as well. So the user can like / follow my page on facebook / twitter.<br>This function would open the page in the appropriate social app and if they aren't present would open them in the browser instead. <br><br></td></tr></table><br>
<a name="2087629"></a>

<a name="2087630"></a>

<a name="2087632"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >erebel55</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am getting the following with your twitter example<br><img src="https://scontent-b-ord.xx.fbcdn.net/hphotos-prn2/v/t34.0-12/10291094_10203275061773814_3411044840595975230_n.jpg?oh=634b1bf9138e04c38d63255576551566&amp;oe=537C1623"><br><br>I set the TWITTER_CONSUMER_KEY and TWITTER_CONSUMER_SECRET.<br><br>Also, on apps.twitter.com I set "Sign in with Twitter" to yes and changed the access permission to "Read and Write".<br><br>Is there anything else I need to do there? Do I need to set the callback url? <br><br></td></tr></table><br>
<a name="2087647"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CopperCircle</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great work, I look forward to testing it.  How about adding linkedin? <br><br></td></tr></table><br>
<a name="2087654"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sygem</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Is there anything else I need to do there? Do I need to set the callback url? <br></div><br><br>Yes, I think you do need to set the callback URL. Doesn't look like it matters what it is set to, as long as there is something set. There is something about your exact error here: <a href="https://dev.twitter.com/discussions/14503" target="_blank">https://dev.twitter.com/discussions/14503</a> <br><br></td></tr></table><br>
<a name="2087655"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sygem</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> How about adding linkedin? <br></div><br><br>LinkedIn looks possible - there seems to be unofficial Android &amp; iOS libraries around. Maybe in the future... <br><br></td></tr></table><br>
<a name="2087660"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >erebel55</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> It worked after I set the callback URL to a placeholder.  Thank you :) <br><br></td></tr></table><br>
<a name="2087662"></a>

<a name="2087663"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >erebel55</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm so even if I have the twitter / facebook apps installed and am logged in, this still prompts for the user to login? <br><br></td></tr></table><br>
<a name="2087665"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sygem</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Hmm so even if I have the twitter / facebook apps installed and am logged in, this still prompts for the user to login? <br></div><br><br>I believe so - each app needs to be authenticated, so just being logged into your twitter account in the twitter app is not enough. You still need to explicitly state that each twitter "app" - i.e. your Monkey app - is allowed to post to your feed. I think this only needs to happen once though. <br><br></td></tr></table><br>
<a name="2088056"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >erebel55</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am attempting to get a facebook example up and running<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Import socialite
Import mojo.app

#FACEBOOK = true
#FACEBOOK_APPLICATION_ID=""
#FACEBOOK_APPLICATION_NAMESPACE=""

Function Main:Int()
    New FacebookTest()
End

Class FacebookTest Extends App

    Method OnCreate()
        SetUpdateRate(0)
        
        Local fb:FacebookSharer = New FacebookSharer()
        fb.AddPermission(Permission.USER_PHOTOS)
        fb.AddPermission(Permission.EMAIL)
        fb.AddPermission(Permission.PUBLISH_ACTION)
        fb.SetPostListener(New PostListener())
        fb.SetLoginListener(New LogInOutListener())
        fb.Initialize(New InitializationListener())
        fb.Login()
        fb.ShareText("Testing Android FB Sharing")
    End

End
</textarea><br><br>However, I am getting a null pointer exception at line 38 of facebookSharer.android.java<br><br><img src="https://dl.dropboxusercontent.com/u/106998981/null_pointer_exception.png"> <br><br></td></tr></table><br>
<a name="2088057"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sygem</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Facebook is a little tricky - the initialization happens in a thread, so you can't call Login() until the initialization is complete. This is my test app - the call to Login() only happens after the InitializationListener returns. Similarly, the actual posting only happens after the LogInOutListener returns.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Import socialite
Import mojo.app

#FACEBOOK = true
#FACEBOOK_APPLICATION_ID = "&lt;YOUR ID HERE&gt;"
#FACEBOOK_APPLICATION_NAMESPACE = "&lt;YOUR NAMESPACE HERE&gt;"

Function Main:Int()
    New FacebookTest()
End

Class FacebookTest Extends App

    Method OnCreate()
        SetUpdateRate(0)
        fb = New FacebookSharer()
        fb.AddPermission(Permission.USER_PHOTOS)
        fb.AddPermission(Permission.EMAIL)
        fb.AddPermission(Permission.PUBLISH_ACTION) ' Only required for Android, which is a bit messy and will change
        fb.SetPostListener(New FacebookPostListener())
        fb.SetLoginListener(New FacebookLoginListener(Self))
        fb.Initialize(New FacebookInitializationListener(Self))

    End
    
    Method PostStatusUpdate()
        #if TARGET="android"
        fb.ShareText("This is an android status update: " + FormatDate());
        #else if TARGET="ios"
        fb.ShareText("This is an ios status update: " + FormatDate());
        #endif
    End
    
    Method FormatDate:String()
        Local date:= GetDate()
        Local months:=["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]
    
        Local day:=("0"+date[2])[-2..]
        Local month:=months[date[1]-1]
        Local year:=date[0]
        Local hour:=("0"+date[3])[-2..]
        Local min:=("0"+date[4])[-2..]
        Local sec:=("0"+date[5])[-2..] + "." + ("00"+date[6])[-3..]
        
        Local now:= hour + ":" + min + ":" + sec + "  " + day + " " + month + " " + year
        Return now
    End
    
    Method InitializationComplete:Void()
        If Not fb.IsLoggedIn()
            Print("Not logged in")
            fb.Login()
        EndIf
    End
        
    Field fb:FacebookSharer

End

Class FacebookLoginListener Extends LogInOutListener

    Method New(fb:FacebookTest)
        Self.fb = fb
    End

    Method OnLoginComplete:Void()
        Print("Logged into Facebook!!!");
        fb.PostStatusUpdate()
    End
    
    Method OnLoginFailure:Void(errorCode:Int, message:String)
        Print("Login to Facebook failed: " + errorCode + " " + message)
    End
    
    Method OnLogoutComplete:Void()
        Print("Logged out of Facebook!!!");
    End
    
    Private
    Field fb:FacebookTest
End

Class FacebookPostListener Extends PostListener
    Method OnPostComplete:Void()
        Print("Message Posted Successfully");
    End
    
    Method OnPostFailure:Void(errorCode:Int, message:String)
        Print("Message posting failed: " + errorCode + " " + message)
    End
End

Class FacebookInitializationListener Extends InitializationListener

    Method New(fb:FacebookTest)
        Self.fb = fb
    End

    Method OnInitializeComplete:Void()
        Print("Init complete!!!");
        fb.InitializationComplete()
    End
    
    Method OnInitializeFailure:Void(errorCode:Int, message:String)
    End
    
    Private
    Field fb:FacebookTest
End
</textarea><br><br>Hope that helps :) <br><br></td></tr></table><br>
<a name="2088075"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >erebel55</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hm with your example I am still getting a NullPointerException on<br><pre class=code>
fb.Initialize(New FacebookInitializationListener(Self))
</pre> <br><br></td></tr></table><br>
<a name="2088063"></a>

<a name="2088074"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sygem</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have pushed an update to GitHub which should solve the NPE. I also slightly tweaked the example...<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Import socialite
Import mojo.app

#FACEBOOK = true
#FACEBOOK_APPLICATION_ID = "&lt;YOUR ID HERE&gt;"
#FACEBOOK_APPLICATION_NAMESPACE = "&lt;YOUR NAMESPACE HERE&gt;"

Function Main:Int()
    New FacebookTest()
End

Class FacebookTest Extends App

    Method OnCreate()
        SetUpdateRate(0)
        fb = New FacebookSharer()
        fb.AddPermission(Permission.USER_PHOTOS)
        fb.AddPermission(Permission.EMAIL)
        fb.AddPermission(Permission.PUBLISH_ACTION) ' Only required for Android, which is a bit messy
        fb.SetPostListener(New FacebookPostListener())
        fb.SetLoginListener(New FacebookLoginListener(Self))
        fb.Initialize(New FacebookInitializationListener(Self))

    End
    
    Method PostStatusUpdate()
        Print("Post Status Update")
        #if TARGET="android"
        fb.ShareText("This is an android status update: " + FormatDate());
        #else if TARGET="ios"
        fb.ShareText("This is an ios status update: " + FormatDate());
        #endif
    End
    
    Method FormatDate:String()
        Local date:= GetDate()
        Local months:=["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]
    
        Local day:=("0"+date[2])[-2..]
        Local month:=months[date[1]-1]
        Local year:=date[0]
        Local hour:=("0"+date[3])[-2..]
        Local min:=("0"+date[4])[-2..]
        Local sec:=("0"+date[5])[-2..] + "." + ("00"+date[6])[-3..]
        
        Local now:= hour + ":" + min + ":" + sec + "  " + day + " " + month + " " + year
        Return now
    End
    
    Method InitializationComplete:Void()
        If Not fb.IsLoggedIn()
            Print("Not logged in")
            fb.Login()
        Else
            PostStatusUpdate()
        EndIf
    End
        
    Field fb:FacebookSharer

End

Class FacebookLoginListener Extends LogInOutListener

    Method New(fb:FacebookTest)
        Self.fb = fb
    End

    Method OnLoginComplete:Void()
        Print("Logged into Facebook!!!");
        fb.PostStatusUpdate()
    End
    
    Method OnLoginFailure:Void(errorCode:Int, message:String)
        Print("Login to Facebook failed: " + errorCode + " " + message)
    End
    
    Method OnLogoutComplete:Void()
        Print("Logged out of Facebook!!!");
    End
    
    Private
    Field fb:FacebookTest
End

Class FacebookPostListener Extends PostListener
    Method OnPostComplete:Void()
        Print("Message Posted Successfully");
    End
    
    Method OnPostFailure:Void(errorCode:Int, message:String)
        Print("Message posting failed: " + errorCode + " " + message)
    End
End

Class FacebookInitializationListener Extends InitializationListener

    Method New(fb:FacebookTest)
        Self.fb = fb
    End

    Method OnInitializeComplete:Void()
        Print("Init complete!!!");
        fb.InitializationComplete()
    End
    
    Method OnInitializeFailure:Void(errorCode:Int, message:String)
    End
    
    Private
    Field fb:FacebookTest
End

</textarea> <br><br></td></tr></table><br>
<a name="2088078"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >erebel55</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep, it's working now. Thanks sygem :) <br><br></td></tr></table><br>
<a name="2089881"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Steve Oliver</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the module, sygem!<br><br>I noticed that I had to make a tweak for iOS for the Email share.<br><br>In emailSharer.ios.cpp, I changed 3 lines -- <br><br><pre class=code>
    //SocialNetworkListener *listener;
    SocialPostListener *listener;

//+(SocialiteEmailDelegate*)delegateWithListener:(SocialNetworkListener*)listener;
+(SocialiteEmailDelegate*)delegateWithListener:(SocialPostListener*)listener;

//+(SocialiteEmailDelegate*)delegateWithListener:(SocialNetworkListener*)_listener {
+(SocialiteEmailDelegate*)delegateWithListener:(SocialPostListener*)_listener {
</pre><br><br>and then it worked fine. <br><br></td></tr></table><br>
<a name="2092960"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does this still work with the latest Monkey?<br><br>I tried running the example that was posted but I just got errors, though that maybe me doing something wrong? <br><br></td></tr></table><br>
<a name="2092961"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sygem</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm still using 77d - did you get errors at compile or run time? What platform are you using? <br><br></td></tr></table><br>
<a name="2092985"></a>

<a name="2092987"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> It was at compile time using the Android target in v79e, with the example code you gave in post #28.<br><br>Sorry I can't give the exact error at the moment as I'm not home right now - I'll post it as soon as I am.<br><br>Edit:<br>Managed to VNC in and get this from the error log...<br><br><pre class=code>
-compile:
    [javac] Compiling 3 source files to C:\Rik\socialite\socialite.buildv79e\android\bin\classes
    [javac] C:\Rik\socialite\socialite.buildv79e\android\src\com\monkeycoder\monkeygame\MonkeyGame.java:40: error: package com.facebook does not exist
    [javac] import com.facebook.SessionState;
    [javac]                    ^
    [javac] C:\Rik\socialite\socialite.buildv79e\android\src\com\monkeycoder\monkeygame\MonkeyGame.java:2844: error: cannot access Session
    [javac]         if (mSimpleFacebook.getSession() != null &amp;&amp; mSimpleFacebook.getSession().getState().equals(SessionState.CREATED_TOKEN_LOADED)) {
    [javac]                                       ^
    [javac]   class file for com.facebook.Session not found
    [javac] C:\Rik\socialite\socialite.buildv79e\android\src\com\monkeycoder\monkeygame\MonkeyGame.java:2844: error: cannot find symbol
    [javac]         if (mSimpleFacebook.getSession() != null &amp;&amp; mSimpleFacebook.getSession().getState().equals(SessionState.CREATED_TOKEN_LOADED)) {
    [javac]                                                                                                    ^
    [javac]   symbol:   variable SessionState
    [javac]   location: class NativeFacebookSharer
    [javac] Note: C:\Rik\socialite\socialite.buildv79e\android\src\com\monkeycoder\monkeygame\MonkeyGame.java uses unchecked or unsafe operations.
BUILD FAILED
C:\android-sdk-windows\tools\ant\build.xml:710: The following error occurred while executing this line:
C:\android-sdk-windows\tools\ant\build.xml:723: Compile failed; see the compiler error output for details.

Total time: 4 seconds
    [javac] Note: Recompile with -Xlint:unchecked for details.
    [javac] 3 errors

TRANS FAILED: Android build failed.
Abnormal program termination. Exit code: -1
</pre> <br><br></td></tr></table><br>
<a name="2094052"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> Bumpety bump! <br><br></td></tr></table><br>
<a name="2094053"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sygem</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> It was at compile time using the Android target in v79e, <br></div><br><br>Have you downloaded the Facebook SDK and edited your project.properties file to point at the Facebook library project? It should look something like this...<br><br><pre class=code>android.library.reference.1=../../../../SDKs/facebook-android-sdk-3.8.0/facebook</pre> <br><br></td></tr></table><br>
<a name="2094074"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> No I didn't (*hangs head in shame*)<br><br>I didn't realise you had to, but maybe I was confusing this with the other FB module, or maybe I completely missed the instructions - either way no I didn't.<br>I only tried on Android as I have BlueStacks and wanted a quick test (I normally target iOS) of the FB stuff working, so I'm not too clued up on the Android side of things.<br><br>Could you give the steps required to get this working in an actual project please sygem? <br><br></td></tr></table><br>
<a name="2094171"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sygem</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm working on it :) I am close to finishing my next game, which uses Socialite for both Twitter &amp; Facebook. I have upgraded to version 3.15 of the Facebook SDK, which has required a few modifications to get it working, so I will upload those to GitHub soon.<br><br>The basic steps are:<br><br>1. Download the Facebook SDK - probably use version 3.8, as that is what the current version was written with. This should be extracted to the same drive as your Monkey project. The Android tools don't seem to be able to handle different drive letters.<br>2. Build your Android project at least once - this will fail, but it creates the project.properties file in the android folder of your build.<br>3. Edit this file as I wrote above - pay attention to the number of levels you need to go up before finding the Facebook SDK<br>4. Build your project again - hopefully you will see it compiling the Facebook library project<br><br>And don't forget to include the preprocessor codes in your Monkey file too. Something like this...<br><br>' Facebook config<br>#FACEBOOK=True<br>#FACEBOOK_APPLICATION_ID = "1460361630906889"<br>#FACEBOOK_APPLICATION_NAMESPACE = "com_beatthis"<br>#ANDROID_MANIFEST_APPLICATION+="&lt;meta-data android:name=~qcom.facebook.sdk.ApplicationId~q android:value=~q1460361630906889~q/&gt;"<br><br>Hope that helps... <br><br></td></tr></table><br>
<a name="2097221"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zurrr</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> Facebook work here! Thank a lot. <br><br>Is there any way I can get the name of the user? And may be their profile picture to be use in my game <br><br></td></tr></table><br>
<a name="2099272"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rieha</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey sygem - thanks for the module! Any updates? I've tried to run the sample but I'm getting an error: package com.facebook does not exist. Tried to change the SDK path in project.properties but no success. I have the latest version of FB Android SDK installed (3.23.0) and using OS X.<br><br>Zurrr - did it work for you without any tinkering?<br><br>Is it possible to share a picture to FB with this? Anyway would love to get this working! <br><br></td></tr></table><br>
<a name="2099273"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sygem</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I have the latest version of FB Android SDK installed (3.23.0) <br></div><br><br>The last version of the Facebook SDK I used was 3.15.0 - can you try using that version? I have never built an Android app using OS X.<br><br><div class="quote"> Is it possible to share a picture to FB with this? <br></div><br><br>Do you mean like a screenshot? It is possible to share a link to a picture, so you could upload a picture somewhere first, then share the URL to that picture.<br><br>I am nearly at the Facebook/Twitter stage of my latest project, so I will be turning my attention there soon, hopefully next week. I will use the latest FB SDK, so that should iron out any remaining issues. <br><br></td></tr></table><br>
<a name="2099275"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rieha</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> Tried 3.15.0 and getting the same error as before. Maybe this is something to do with OS X paths or something, as I'm still fairly new to developing on a Mac. I'll try to investigate this further soon. Great that you're still working on this! Looking forward to see your game.<br><br>Screenshots are exactly what I was thinking of. It would be a cool way to get free promotion to share a screenshot with your score. <br><br></td></tr></table><br>
<a name="2099277"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sygem</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> It might be possible to construct a Photo object using ReadPixels and publish that. I'll certainly look into it. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
