<!DOCTYPE html><html lang="en" ><head ><title >miniB3D: monkey 3d engine - part5</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >miniB3D: monkey 3d engine - part5</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=524" >User Modules</a>/<a href="#bottom" >miniB3D: monkey 3d engine - part5</a><br><br>
<a name="2051461"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> <img src="http://i295.photobucket.com/albums/mm144/adamredwoods/minib3d_logo.png"><br><b>minib3d+monkey</b><br>Latest update v0.33.5<br><br>Download:<br><a href="https://github.com/adamredwoods/minib3d-monkey" target="_blank">https://github.com/adamredwoods/minib3d-monkey</a><br><br>Win8 target:<br><a href="https://github.com/sascha-schmidt217/minib3d-monkey" target="_blank">https://github.com/sascha-schmidt217/minib3d-monkey</a><br><br>Thread continued from:<br><a href="http://monkeycoder.co.nz/Community/posts.php?topic=3897" target="_blank">http://monkeycoder.co.nz/Community/posts.php?topic=3897</a><br><br><br><br><br>notes:<br>- current branch: v0.33.5 requires Monkey V66 (Monkey V68 is easy to integrate)<br>- tested on glfw, android, macos, ios, xna, webgl<br><br>Works:<br>- normals<br>- textures, mipmaps<br>- vbos and non-vbo fallback <br>- sprites<br>- batch sprites<br>- context handling for mobile devices<br>- pick<br>- collisions<br>- binary load for b3d files (base64)<br>- animation, bone &amp; vertex<br>- Load OBJ<br>- animated textures<br>- XNA, Win8 target (courtesy of Rone)<br>- HTML5 (webGL)<br>- Shaders<br>- normal mapping (opengl2.0)<br>- MDD/PC2 animation loaders<br><br><br>To Do:<br>- Flash, Ouya target<br>- bones to quat/matrix internals<br>- glow shaders, shadows, fast vertex shaders<br>- physics<br>- terrain<br><br><img src="http://i295.photobucket.com/albums/mm144/adamredwoods/P1040945b.jpg"><br><img src="http://i295.photobucket.com/albums/mm144/adamredwoods/xna.jpg"> <br><br></td></tr></table><br>
<a name="2049679"></a>

<a name="2049349"></a>

<a name="2049350"></a>

<a name="2047244"></a>

<a name="2046868"></a>

<a name="2046858"></a>

<a name="2046857"></a>

<a name="2046856"></a>

<a name="2046870"></a>

<a name="2046871"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> ****************************************<br>minib3d v0.33<br><br>- MDD and PC2 import for vertex animation (almost all 3d programs export this)<br>[monkeycode]<br>	TModelMDD.LoadMDD:Void(mesh:TMesh, url:String, flipz:Int=0, variance:Float = EPSI)<br>	TModelMDD.LoadPC2:Void(mesh:TMesh, url:String, flipz:Int=0, variance:Float = EPSI)<br>[/monkeycode]<br>	-- applied to an existing mesh (like OBJ)<br>	-- use variance to allow slight offset between loaded OBJ and MDD<br>	-- frame 0 MUST be reference pose<br>	<br>- ReadPixel/WritePixel for TPixmap (TTextures). all targets, even html5.<br>Example:<br>	[monkeycode]<br>	pixtemp = TPixmap.CreatePixmap(64,64) ''must be powers-of-two<br><br>	''edit pixmap<br>	Local x:Int = 20, y:Int=20<br>	For Local x:Int=0 To 63<br>		pixtemp.SetPixel( x,y, 255,0,255)<br>	Next<br><br>	'Print	ToHex(pixtemp.GetPixel( 1,y))<br><br>	<br>	''when done<br>	textemp = TTexture.LoadTexture(pixtemp , 1) ''flags 9=1+8=color+mipmapping<br>	<br>	cube.EntityTexture(textemp)<br>	[/monkeycode]<br>	<br>- Camera Pick and Collisions now work<br>	Added CollisionSetup() for easier setup.<br>[monkeycode]<br>	CollisionSetup(type_no, pick_mode) 'for auto sphere radius (uses cull radius)<br>	CollisionSetup(type_no, pick_mode, radius) 'for sphere/polygon<br>	CollisionSetup(type_no, pick_mode, x, y, z, w, d, h) 'for box<br>[/monkeycode]<br><br>- mymesh.Wireframe(bool) --to turn on/off individual wireframes<br>- auto-correct ratio of sprites / Draw()<br>- entity.PositionToVertex(mesh, surf, vertex_id) --to position an entity to a specific vertex on a mesh (animated too!)<br>- Added CreateLine() for thin lines (no thickness yet)<br>- CreateMiniB3DMonkey() -- creates a minib3d monkey head mesh<br><br>- other bug fixes (inc. b3d loading, xna fog, parenting problem) <br><br></td></tr></table><br>
<a name="2046865"></a>

<a name="2046861"></a>

<a name="2046860"></a>

<a name="2046859"></a>

<a name="2046869"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> sorry for the delays everyone. i can't tell you how mind blowing collisions are.<br><br>i'm also working on a Flash target, since i find it more available (currently) than webgl. <br><br></td></tr></table><br>
<a name="2046866"></a>

<a name="2046867"></a>

<a name="2046880"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >StoneFaceEXE</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> So I deleted my last .build directory, refreshed minib3d and tried to compile my project that worked perfectly previously on android. Now I get error I had before:<br><br>Monkey Runtime Error:<br>index=134174, limit=134174<br><br>which refers to certain model I'll try to upload<br><br>Here:<br><a href="https://docs.google.com/file/d/0B6cGK2VCmtfqZWJyZWdNSjRVaWM/edit" target="_blank">https://docs.google.com/file/d/0B6cGK2VCmtfqZWJyZWdNSjRVaWM/edit</a> <br><br></td></tr></table><br>
<a name="2046877"></a>

<a name="2046876"></a>

<a name="2046875"></a>

<a name="2046874"></a>

<a name="2046873"></a>

<a name="2046881"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> OBJ or B3D?<br>i wonder if it is hitting a string size limit, or early eof.<br><br>you can send models for me to test to awpiette (which is at) yahoo dot com.<br>you can also use #MINIB3D_DEBUG_MODEL=1 to see the log of the parser (ddms on android). <br><br></td></tr></table><br>
<a name="2046884"></a>

<a name="2046885"></a>

<a name="2046886"></a>

<a name="2046887"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> @StoneFaceEXE<br><br>in "monkeybuffer.monkey" change line 491 (ReadTag) to:<br><pre class=code>		If pos+3&gt;size Then Return 0</pre><br><br>i will update github now. sorry about that. <br><br></td></tr></table><br>
<a name="2046888"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amon</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is so cool, thanks man! <br><br></td></tr></table><br>
<a name="2046889"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shinkiro1</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Adam! You are doing an awesome job, keep it up. <br><br></td></tr></table><br>
<a name="2046890"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >StoneFaceEXE</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>If pos+3&gt;size Then Return 0</pre><br>That did really hit the spot, but now I have another error with another mesh:<br><br>Monkey Runtime Error : Array index out of bounds.<br><br>That reffers to line:<br>Model = LoadAnimMesh("_3dm_human.txt")<br><br>The model is here:<br><a href="https://docs.google.com/file/d/0B6cGK2VCmtfqaURLbWYxd1dYaDQ/edit" target="_blank">https://docs.google.com/file/d/0B6cGK2VCmtfqaURLbWYxd1dYaDQ/edit</a><br><br>PS: Yes the first and this one are OBJ files <br><br></td></tr></table><br>
<a name="2046929"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rone</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great, nice update!<br><a href="http://sascha-schmidt217.github.com/minib3d-monkey/" target="_blank">Merged with my latest d3d11</a>...hopefully not forget anything.<br><br>How is merging envisaged in github? ...had to do it by hand, that sucks.<br><br>What happened to TEntity? ...breaks my project :(<br><br>Edit: <br>It is intended that UpdateMatTrans' now overwrites mat if load_identity=False And parent&lt;&gt;Null, in contrast to 0.32, where it is not done? ...probably not, because local rotation is overwritten by MoveEntity this way <br><br></td></tr></table><br>
<a name="2046909"></a>

<a name="2046908"></a>

<a name="2046907"></a>

<a name="2046901"></a>

<a name="2046904"></a>

<a name="2046905"></a>

<a name="2046906"></a>

<a name="2046900"></a>

<a name="2046899"></a>

<a name="2046898"></a>

<a name="2046897"></a>

<a name="2046933"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Edit: <br>It is intended that UpdateMatTrans' now overwrites mat if load_identity=False And parent&lt;&gt;Null, in contrast to 0.32, where it is not done? ...probably not, because local rotation is overwritten by MoveEntity this way <br> <br></div><br>you are correct. Thanks for pointing that out, i am not sure why i did that. Unfortunately i am out of pocket so some of these bugs may wait.<br>EDIT: i made the change and updated GitHub.<br><br>i need to revisit those matrix routines, i know there is another problem with scaling. I need to keep in mind when the parent matrix is loaded and when children matrix are updated vs. local updates.<br><br><div class="quote"> How is merging envisaged in github? ...had to do it by hand, that sucks <br></div><br>good question. I'll try to do some research. <br><br></td></tr></table><br>
<a name="2046932"></a>

<a name="2046967"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rone</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>i made the change and updated GitHub.<br> <br></div><br>Thank you very much. <br><br><div class="quote"> <br>Unfortunately i am out of pocket so some of these bugs may wait.<br> <br></div><br><br>I have a lot of time and would like to contribute more, respectively support your efforts...<br><br>Do not know if it is desired, if so, the development process needs to be more open. Maybe work in the same repository/different branch(?), using the issue-tracker + milestones...<br>I think we can quickly move forward, if we coordinate our efforts<br><br><br><div class="quote"> <br>i'm also working on a Flash target, since i find it more available (currently) than webgl. <br> <br></div><br><br>Cool!<br>In connection with flash, GLSL2AGAL might useful<br><br><a href="https://github.com/adobe/glsl2agal" target="_blank">https://github.com/adobe/glsl2agal</a><br><a href="http://www.cmodule.org/glsl2agal/" target="_blank">http://www.cmodule.org/glsl2agal/</a><br><br>I did also some experiments with cg toolkit. Seems very useful for shader conversion cg&lt;-&gt;hlsl&lt;-&gt;glsl...<br><br>I think we should at least consider optional support for using one single shading language for all targets. Everyone is going this route, also Unity. The conversion tool they use is even open source<br><br><a href="http://blogs.unity3d.com/2010/10/20/shader-compilation-for-multiple-platforms/" target="_blank">http://blogs.unity3d.com/2010/10/20/shader-compilation-for-multiple-platforms/</a><br><br>The 'Surface Shader' article is pretty interesting, too<br><br><a href="http://blogs.unity3d.com/2010/07/17/unity-3-technology-surface-shaders/" target="_blank">http://blogs.unity3d.com/2010/07/17/unity-3-technology-surface-shaders/</a><br><br>I will start a evaluation, when xna shader support integration in 0.33 is finished. <br><br></td></tr></table><br>
<a name="2046965"></a>

<a name="2046966"></a>

<a name="2046964"></a>

<a name="2046963"></a>

<a name="2046961"></a>

<a name="2046979"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Awesome work, guys, incredible! Thank you so much! <br><br></td></tr></table><br>
<a name="2047056"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EdzUp</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Excellent stuff, will have a serious play with creating something with this what with monkey targets etc it will cut development times quite considerably :-) <br><br></td></tr></table><br>
<a name="2047063"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bruZard</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Excellent! <br><br></td></tr></table><br>
<a name="2047111"></a>

<a name="2047112"></a>

<a name="2047113"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I think we should at least consider optional support for using one single shading language for all targets.  <br></div><br>also look to Ogre3D how they did it there, that is an engine i look at a lot.<br>(At some point I want to be able to read Ogre.scene files, so we can use Ogitor as a scene editor.)<br>http://www.ogre3d.org/tikiwiki/tiki-index.php?page=Deferred+Shading&amp;structure=Development<br><br>The first decision I think would be one of these directions: <br>1. Is shader language is external (custom .exe like Nvidia Cg)? <br>2. Is shader compiled by engine at runtime (Win8 problem)?<br>3. Is shader a hybrid monkey+runtime using heavy reflection? (extending a certain class will build the string for the glsl/hlsl/agal compiler) <br><br></td></tr></table><br>
<a name="2047128"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rone</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>also look to Ogre3D how they did it there, that is an engine i look at a lot.<br> <br></div><br>Yes, I know their material/compositor framework.<br>I wanted at this point not to touch minib3d to very. only make it work with .cgfx(for example), on all targets.<br><br>So, keep it stupid simple:<br><pre class=code>
local shader:IShader = TShader.LoadShader("myshader.cgfx")
local brush0:= CreateBrush()
brush0.AttachShader(shader)

local p:= shader.Parameters.Get("color")
p.SetValue(255,0,255)
</pre><br>So first implement IShader in OpenGl, as I have done in d3d11/xna. This basically requires only minor changes...<br>I think it's the next logical step, because every effect/material framework needs to be build on a common shader interface when targeting lot of platforms.<br><br><div class="quote"> <br>1. Is shader language is external (custom .exe like Nvidia Cg)? <br> <br></div><br>Yes, it is probably easiest. I thought about a 'monkey c++ tool', that compiles all changed shaders automatically for each target.<br><br><div class="quote"> <br>2. Is shader compiled by engine at runtime (Win8 problem)?<br> <br></div><br>Yes, runtime shader compilation can only done during development,when all platforms are considered.<br>So, if the engine is to be responsible for shader compilation, something like this is necessary:<br><pre class=code>
#If MINIB3D_RELEASE="false" 
    ' compile changed shaders
    ' reflect shaders
    ' save to data/shader
#End 
</pre><br>before redistribution, the project needs to be compiled with #MINIB3D_RELEASE?"true". <a href="https://github.com/sascha-schmidt217/minib3d-monkey/wiki/Release-Notes" target="_blank">That's the way I did it in d3d11...</a> if anyone knows a more elegant method, let me know it.<br><br>Drawback: No write permission in 'monkey / data' on all targets -&gt; thus requires manual copy, before release<br><br><div class="quote"> <br>3. Is shader a hybrid monkey+runtime using heavy reflection? (extending a certain class will build the string for the glsl/hlsl/agal compiler)<br> <br></div><br>How do you imagine that exactly?. Can you describe bit more detail? I've been thinking about something similar, but I have come to no solution .. <br><br></td></tr></table><br>
<a name="2047127"></a>

<a name="2047126"></a>

<a name="2047125"></a>

<a name="2047124"></a>

<a name="2047123"></a>

<a name="2047122"></a>

<a name="2047121"></a>

<a name="2047119"></a>

<a name="2047118"></a>

<a name="2047233"></a>

<a name="2047235"></a>

<a name="2047236"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >julesd</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Rone <br><br>Can you create your own minB3D-mojo topic in modules, and have the correct link to github.<br><br>in the note.txt file at top can we get something like<br>tested with: v67b<br>or something letting us know what version of monkey you are working with.<br><br>I also think minB3D should be called minM3D.<br><br>B=blitz language <br>M=monkey language <br><br>was posted in part 4, meant to post it here. <br><br></td></tr></table><br>
<a name="2047239"></a>

<a name="2047240"></a>

<a name="2047241"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >julesd</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Rone<br><br>i use your version of minB3D from github<br><br>when I run the animation demo.<br><br>config.monkey all true but resize and fullscreen<br><br>turn on wire frame mode.<br><br>when I do this the text is no longer readable in the top left corner.<br><br>I think it has something todo with wireframe mode.<br><br>I would like to be able to read the text in wireframe mode. <br><br></td></tr></table><br>
<a name="2047243"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> i've uploaded some bug fixes for v0.33.2 <br><br></td></tr></table><br>
<a name="2047245"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> @julesd<br><br>B3D is actually the 3D fileformat that Blitz supports and so tries MiniB3D.  :-))) <br><br></td></tr></table><br>
<a name="2047273"></a>

<a name="2047274"></a>

<a name="2047275"></a>

<a name="2047276"></a>

<a name="2047277"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rone</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> @julesd<br>isn't the text in the animation sample created using TText?<br>Anyway, I disabled Wireframe in B2DBeginRender. So use "B2DSetFont( Null ) &amp; B2DDrawText(...)"...or fontmachine<br><br>I just wonder whether wireframe has ever worked. Looks like it was disabled again directly in trender.rendercamera...?? doesn't work here...<br>from  trender.RenderCamera:<br><pre class=code>
If mesh.wireframe Or wireframe Then wireframe = True
TRender.render.Render(mesh,cam)
wireframe = False
</pre><br><b>Adam, can you explain that to me...I don't get it.</b><br>I need to do this, in order to get it work:<br><pre class=code>
Local wireFrameIsEnabled:= wireframe
If mesh.wireframe Then wireframe = True		
TRender.render.Render(mesh,cam)		
wireframe = wireFrameIsEnabled
</pre><br><div class="quote"> <br>i've uploaded some bug fixes for v0.33.2 <br> <br></div><br>I still do not know how to merge clever...hope that I have removed the errors from the last merge correctly. Releasetag chaos seems inevitable...<br><br>Edit:<br>just wanted to link it here also..<br>I created a great mip mapping enhancement for minib3d, using sharpening filter when creating the mipmaps.<br>the blurry is not a display error, it's just how mipmapping looks without filtering^^<br><img src="http://s14.directupload.net/images/130131/jptk9x34.gif"> <br><br></td></tr></table><br>
<a name="2047267"></a>

<a name="2047269"></a>

<a name="2047271"></a>

<a name="2047252"></a>

<a name="2047253"></a>

<a name="2047246"></a>

<a name="2047247"></a>

<a name="2047248"></a>

<a name="2047249"></a>

<a name="2047250"></a>

<a name="2047251"></a>

<a name="2047288"></a>

<a name="2047289"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sledge</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Defo have a couple of hiccups with Monkey v66b and MiniB3D v0.33 &amp; v0.33.2 here. Will list 'em in case they're significant (running under Win7, 64-bit):<br><br>firepaint3d.monkey<br>...MonkeyPro66b/modules/minib3d/tsprite.monkey&lt;400&gt; : Error : Unable to find overload for EntityParent(TEntity,Int).<br><br>pick_collision_test.monkey<br>...MonkeyPro66b/modules/minib3d/examples/pick_collision_test.monkey&lt;80&gt; : Error : Identifier 'EntityCollision' not found.<br><br>All the examples from MiniB3D v0.32 worked, conversely.<br><br>Very nice to see this coming together on so many platforms, though. Awesome stuff. <br><br></td></tr></table><br>
<a name="2047290"></a>

<a name="2047291"></a>

<a name="2047293"></a>

<a name="2047299"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> another quick bug fix is up.<br>this one fixes a hard crash in tcamera, so be sure to UPDATE!<br><br>wireframe, fixed.<br><br><div class="quote"> ...MonkeyPro66b/modules/minib3d/tsprite.monkey&lt;400&gt; : Error : Unable to find overload for EntityParent(TEntity,Int). <br></div><br>fixed<br><div class="quote"> ...MonkeyPro66b/modules/minib3d/examples/pick_collision_test.monkey&lt;80&gt; : Error : Identifier 'EntityCollision' not found. <br></div><br>fixed. this was because i was using "EntityCollision()" but that command made no sense to me, and is now "CollisionSetup()".<br><br>Sorry for all the bugs everyone. Hopefully it will come together. <br><br></td></tr></table><br>
<a name="2047298"></a>

<a name="2047301"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >apamment</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Edit: It seems to be a specific thing to virtualbox<br><br>I'm having a Memory Access Violation<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Monkey Runtime Error : Memory access violation
STOPPED
C:/Documents and Settings/andrew/Desktop/MonkeyPro66b/modules/minib3d/opengl/opengles11.monkey&lt;438&gt;
C:/Documents and Settings/andrew/Desktop/MonkeyPro66b/modules/minib3d/trender.monkey&lt;390&gt;
C:/Documents and Settings/andrew/Desktop/MonkeyPro66b/modules/minib3d/trender.monkey&lt;240&gt;
C:/Documents and Settings/andrew/Desktop/MonkeyPro66b/modules/minib3d/functions.monkey&lt;1136&gt;
Z:/Monkey Projects/CultStormMobile/CultStormMobile.monkey&lt;51&gt;
C:/Documents and Settings/andrew/Desktop/MonkeyPro66b/modules/mojo/app.monkey&lt;74&gt;
</textarea><br><br>The line is<br><br>[monkeycode]<br>glMaterialfv(GL_FRONT_AND_BACK,GL_SHININESS,mat_shininess)<br>[/monkeycode] <br><br></td></tr></table><br>
<a name="2047302"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I'm having a Memory Access Violation <br></div><br>that does seem like a strange error, and perhaps by virtualbox. i have not tried any of the engine through VMs. <br>Have you tried commenting out the offending glMaterial line? I wonder if there would be other errors. <br><br></td></tr></table><br>
<a name="2047328"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >apamment</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Have you tried commenting out the offending glMaterial line? I wonder if there would be other errors.  <br></div><br><br>It seems to work fine with that line commented, thankyou :D <br><br></td></tr></table><br>
<a name="2047620"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >apamment</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think I've found a bug with collisions, I'm not really sure how to explain it except if I turn left into a wall at the start of my game I warp to the z coordinate set to 0<br><br>Heres the coordinates printed out each frame<br><br>X54.0 Y0.0 Z32.0 &lt;-- At the Start<br>X54.0 Y0.0 Z32.0<br>X54.0 Y0.0 Z32.0<br>X53.903873443603516 Y0.0 Z31.972436904907227 &lt;- starting to turn into the wall<br>X53.615493774414062 Y0.0 Z-0.054128021001815796 &lt;- warp to 0 Z coordinate<br>X53.519367218017578 Y0.0 Z-0.081691756844520569<br>X53.327114105224609 Y0.0 Z-0.13681922852993011<br><br>I'm using Collision Boxes for the walls (they are lots of cubes next to each other) and a Collision Sphere for the camera. The collision method for the collision command is COLLISION_METHOD_BOX changing the sphere to a collision box so everything is boxes seems to do the same thing. <br><br></td></tr></table><br>
<a name="2047801"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >chimaera</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was wondering if there are any tutorials on how to get a fully textured 3D-model loaded and displayed with miniB3D.<br><br>I have been reading the forum threads about miniB3D after I have downloaded the module and have tried to play around with it for a bit, but can't seem to get anywhere as I don't find any documentation.<br><br>I have been trying to load a OBJ-file with LoadMesh (collision test example as a base) but have not succeeded. Is the only way to make it work to  convert OBJ-&gt;B3D-&gt;Base 64 Encode? When I do this I still get a "glerror: 1282".<br><br>Now my head is spinning...and I don't feel much smarter. :P<br><br>Can someone point me in a good direction? Thanks! <br><br></td></tr></table><br>
<a name="2047805"></a>

<a name="2047806"></a>

<a name="2047807"></a>

<a name="2047808"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I was wondering if there are any tutorials on how to get a fully textured 3D-model loaded and displayed with miniB3D. <br></div><br>so far there's two formats: b3d and obj<br>So you can export to OBJ from any 3d modeling application. I have tested Lightwave 9, 3DCoat, and Blender3D. It will export 2 files, obj and mtl, just change each to ".txt" at the end and place in the "monkeygame.data" folder. Then LoadMesh("mymodel.obj.txt"). No need for conversion.<br><br>there's a B3D exporter for blender if you need animation, i'll dig up the link i've seen to have lost it... but you can also export PC2 or MDD for vertex animation, which is faster than boned animation but requires more memory (200-300 frames per object is good). the only requirement for MDD/PC2 is that your frame 0 is the EXACT model/pose that is exported as an OBJ. then any animation can take place afterwards.<br><br>Other commands can be found on the Blitz3D website, since that is the base set that miniB3D+monkey is based on (not all commands were interchanged):<br><a href="http://www.blitzbasic.com/b3ddocs/command_list_3d_cat.php" target="_blank">http://www.blitzbasic.com/b3ddocs/command_list_3d_cat.php</a><br><br>One thing i need to do is get the wiki going on github. <br><br></td></tr></table><br>
<a name="2047809"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I think I've found a bug with collisions <br></div><br>ok, i'll look into it. <br><br></td></tr></table><br>
<a name="2047818"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >chimaera</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Adam,<br><br>Thanks for your fast response! I'll try your instructions when I get home tonight, but it sounds very promising. <br><br>As I have been reading through the threads I have seen that you are working very hard on MiniB3D and like many others I really want to say "Thanks, and keep up the good work".<br><br>If you get the wiki online maybe we in the community can help to populate it.<br><br>Well, thanks for help! I will probably back for more. ;) <br><br></td></tr></table><br>
<a name="2047823"></a>

<a name="2047824"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >StoneFaceEXE</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here is the b3d exporter for blender that I use<br><a href="https://docs.google.com/file/d/0B6cGK2VCmtfqS0hTU2JTenIybU0/edit?usp=sharing" target="_blank">https://docs.google.com/file/d/0B6cGK2VCmtfqS0hTU2JTenIybU0/edit?usp=sharing</a><br>path is "*blenderpath*/2.62/scripts" and don't forget to turn it on in addons in user preference<br><br>Worked allright with blender 2.62 but animations don't work well with me. Its either because of my b64 encoder or because of blender doesn't have "reset joint value" function that milkshape3d had which was a solution to all bugs that appeared with animated meshes. <br><br></td></tr></table><br>
<a name="2047840"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bruZard</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> here's another b3d exporter for blender 2.6x: <a href="http://www.colorflow.de/monkey/minib3d/B3DExport.zip" target="_blank">http://www.colorflow.de/monkey/minib3d/B3DExport.zip</a> <br><br></td></tr></table><br>
<a name="2048187"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sledge</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> Which b64 encoder are people favouring? Google kinda spoils you for choice and it's difficult to say, when you hit a problem with a b3d, whether it's an issue with MiniB3D that should be raised or a wonky encoder. <br><br></td></tr></table><br>
<a name="2048202"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://www.opinionatedgeek.com/dotnet/tools/base64encode/" target="_blank">http://www.opinionatedgeek.com/dotnet/tools/base64encode/</a><br><br>most problems with b3d i've encountered is sudden End Of File.<br>I'm planning on creating a new JSON format, similar to three.js. <br><br></td></tr></table><br>
<a name="2049348"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> v0.33.3 is a bug fix for tcamera. the frustum cache was removed (wasnt working).<br>v0.33.4 is a bug fix for collisions. should be a large speed increase and hopefully stable enough for use. i still find occasional collision errors, if anyone finds problems and has a test case, please let me know. <br><br></td></tr></table><br>
<a name="2049361"></a>

<a name="2049362"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >impixi</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks. This is a great project. I've been using miniB3d with Monkey V0.66b with minimal problems, targeting the HTML5 platform. See here, bottom of thread: <a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=374" target="_blank">http://www.monkeycoder.co.nz/Community/posts.php?topic=374</a> <br><br>No luck with Monkey V67e though... "module opengl.databuffer not found." <br><br></td></tr></table><br>
<a name="2049395"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> No luck with Monkey V67e though... "module opengl.databuffer not found."  <br></div><br>to use V67e, just change this to read:<br>in monkeybuffer.monkey<br><pre class=code>
#If TARGET="html5" Or TARGET="glfw" Or TARGET="mingw" Or TARGET="ios" Or TARGET="android"

	Import brl.databuffer
	'Import opengl.databuffer

	Function CreateDataBuffer:DataBuffer(i:Int)
		Return New DataBuffer(i)
	End
	Function GetBufferLength:Int(buf:DataBuffer)
		Return buf.Length()
	End
</pre> <br><br></td></tr></table><br>
<a name="2049394"></a>

<a name="2049461"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >impixi</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> Then I get an "unable to determine overload to use..." error in tsurface.monkey. <br><br></td></tr></table><br>
<a name="2049466"></a>

<a name="2049467"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rone</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> You need to remove the default parameters(begin/bend) from CopyDataBuffer...I guess at least <br><br></td></tr></table><br>
<a name="2049516"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> yup, in monkeybuffers.monkey a couple lines need to be changed, i changed them on the GitHub master just now. sorry about that I kept forgetting to update it. <br><br></td></tr></table><br>
<a name="2049678"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> updated.<br><br>v0.33.5 -- improved collisions tenfold. turns out i was creating rays for every object and testing each one O(n*n) times. also added pre-emptive AABB testing. it's fast, even on android. <br><br></td></tr></table><br>
<a name="2049688"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amon</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> You have imho done the Monkey Community proud with your version of MiniB3D. Relentless updates and feature packed, you have produced the definitive 3D Module for Monkey!<br><br>You are the dude! :) <br><br></td></tr></table><br>
<a name="2049719"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tOmzone</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> I wonder if somebody is gonna build a scenegraph-engine on top of this great module :D <br><br></td></tr></table><br>
<a name="2049918"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sammy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> You have imho done the Monkey Community proud with your version of MiniB3D. Relentless updates and feature packed, you have produced the definitive 3D Module for Monkey!<br><br>You are the dude! :) <br></div><br><br>Could not have said it better myself, I totally agree! <br><br></td></tr></table><br>
<a name="2049919"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EdzUp</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> Will the b3d loader be implemented soon, I know the current one is base64 at the moment just wondering on the eta of the new version?<br><br>I ask as I have LOADS of b3d models and currently the only way I have found to convert them is blender with the plugin. <br><br></td></tr></table><br>
<a name="2049922"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >StoneFaceEXE</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> If that may interest anyone: this b3d exported b64 model file causes my app to crash on android target with "Unexpected error occured that stoped the application. Try again" or something like that ) GLFW and some other target work good, even though they can't animate this model if I try to. Thing is - the error tha occurs is not even monkey runtime error )<br><br><a href="https://docs.google.com/file/d/0B6cGK2VCmtfqeVZheG1YamFJRTg/edit?usp=sharing" target="_blank">https://docs.google.com/file/d/0B6cGK2VCmtfqeVZheG1YamFJRTg/edit?usp=sharing</a><br><br>UPD: Figured that armatures caused this, but then I cannot animate using blender tools ( <br><br></td></tr></table><br>
<a name="2049921"></a>

<a name="2049923"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EdzUp</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm thats not good :/ <br><br></td></tr></table><br>
<a name="2049925"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >StoneFaceEXE</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> I still think it is because we use different b64 encoder AND python scripts for exporting to B3D from blender. <br><br></td></tr></table><br>
<a name="2049926"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EdzUp</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#51">[#51]</a></td></tr></table></td></tr><tr ><td class="posttext"> this is another reason for the standard b3d loader <br><br></td></tr></table><br>
<a name="2049939"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#52">[#52]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> this b3d exported b64 model file causes my app to crash on android target with <br></div><br>updated the tmodelb3d.monkey to handle this error. please let me know if you still get errors.<br><br>Are you using the blender exporter? how are these b3d made?<br><br><div class="quote"> <br>this is another reason for the standard b3d loader  <br></div><br>it's in there, just waiting for monkey v67. <br><br></td></tr></table><br>
<a name="2049938"></a>

<a name="2049943"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EdzUp</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#53">[#53]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>it's in there, just waiting for monkey v67. <br> <br></div><br>Ah thats good to know, hopefully it will be usable soon :D <br><br></td></tr></table><br>
<a name="2050095"></a>

<a name="2050096"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >StoneFaceEXE</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#54">[#54]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> updated the tmodelb3d.monkey to handle this error. please let me know if you still get errors.<br><br>Are you using the blender exporter? how are these b3d made?<br> <br></div><br><br>I rebuild the app and here is the result:<br>LoadAnimMesh doesn't load mesh at all. I just don't see anything, but it solved the problem with app crashing for unknown non-monkey runtime reason ) I'd say this is a progres, because I left joints in the model and they seem not to interfere with game anymore.<br><br>I use different b3d exporters from blender (two different python scripts) I'll share them asap.<br><br>Model is a very simple mesh, the only hard part of it could be the wires that were made with bezier curves, but I converted them to mesh as soon as I finished working with them. <br><br>Here are two scripts I use, output model after I b64 converted it and the source *.b3d model<br><a href="https://docs.google.com/file/d/0B6cGK2VCmtfqMVU1NVNnWS1LY0E/edit?usp=sharing" target="_blank">https://docs.google.com/file/d/0B6cGK2VCmtfqMVU1NVNnWS1LY0E/edit?usp=sharing</a><br><a href="https://docs.google.com/file/d/0B6cGK2VCmtfqQm5Bem1zZVNrZ2M/edit?usp=sharing" target="_blank">https://docs.google.com/file/d/0B6cGK2VCmtfqQm5Bem1zZVNrZ2M/edit?usp=sharing</a><br><a href="https://docs.google.com/file/d/0B6cGK2VCmtfqLWRkdDQ5ZXBEam8/edit?usp=sharing" target="_blank">https://docs.google.com/file/d/0B6cGK2VCmtfqLWRkdDQ5ZXBEam8/edit?usp=sharing</a><br><a href="https://docs.google.com/file/d/0B6cGK2VCmtfqZF9zQXljZ1I3TVE/edit?usp=sharing" target="_blank">https://docs.google.com/file/d/0B6cGK2VCmtfqZF9zQXljZ1I3TVE/edit?usp=sharing</a> <br><br></td></tr></table><br>
<a name="2050097"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >StoneFaceEXE</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#55">[#55]</a></td></tr></table></td></tr><tr ><td class="posttext"> yeah it's still possible just to LoadMesh without animations and it will work ) (tried html5, android and glfw) <br><br></td></tr></table><br>
<a name="2050138"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#56">[#56]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok, well i'd have to double-check the pythons script.<br><br>but what do people prefer?<br>1. blender export script that works for B3D (+ optional base64 export)<br>2. on-line javascript collada(dae)-&gt;b3d converter + optional base64 export (can be hosted at github)<br><br>let me know. <br><br></td></tr></table><br>
<a name="2050184"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >StoneFaceEXE</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#57">[#57]</a></td></tr></table></td></tr><tr ><td class="posttext"> second variant makes it TRIPPLE conversion for blender user.<br>Like that:<br>1. blender -&gt; b3d -&gt; b64<br>2. blender -&gt; dae -&gt; b3d -&gt; b64<br>I don't know whether it's good to have such many conversions, but if it is easy and more solid way to do it then do it, otherwise we could just define the one and THE only python script and place it for everyone to see and dl. <br><br></td></tr></table><br>
<a name="2050199"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EdzUp</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#58">[#58]</a></td></tr></table></td></tr><tr ><td class="posttext"> Tbh i would have just b3d import in minib3d as adam has already said hes waiting for v67 to go final then its a go, not only would this solve most of the issues but would make it work in line with blitzmax's minib3d. Making everything work across the whole blitz family from blitz3d to blitzmax and finally monkey will aid transition between the languages :) <br><br></td></tr></table><br>
<a name="2050584"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EdzUp</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#59">[#59]</a></td></tr></table></td></tr><tr ><td class="posttext"> Now that monkey v68 is out what is the ETA on importing b3d files into monkey minib3d? <br><br></td></tr></table><br>
<a name="2051003"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#60">[#60]</a></td></tr></table></td></tr><tr ><td class="posttext"> am trying to get the Flash target working, but maybe i need to update V68 first. will look into this. <br><br></td></tr></table><br>
<a name="2051005"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EdzUp</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#61">[#61]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah ok is there a variable i can change to load b3d's <br><br></td></tr></table><br>
<a name="2051111"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IceVAN</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#62">[#62]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi all.<br><br>I'm new monkey. <br>Long ago I use minib3d in BlitzMax and now I'm starting to use in monkey. You did a good job with minib3d for monkey!<br><br>I don't know if it is wise, but the lights don't work properly. The objects don't light as in BlitzMax.<br><br>If a mesh is rotated faces that are illuminated also rotate. It's as if the light turn once the mesh.<br><br>Greetings! <br><br></td></tr></table><br>
<a name="2051115"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#63">[#63]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I don't know if it is wise, but the lights don't work properly. The objects don't light as in BlitzMax. <br></div><br>is this in html5? <br><br></td></tr></table><br>
<a name="2051116"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IceVAN</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#64">[#64]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, Adam<br><br>I tried with html5 and glfw (windows), and the last version of monkey.<br>In both is the same. <br><br></td></tr></table><br>
<a name="2051122"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#65">[#65]</a></td></tr></table></td></tr><tr ><td class="posttext"> after loading the mesh, try mesh.UpdateNormals(). does that help? <br><br></td></tr></table><br>
<a name="2051184"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IceVAN</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#66">[#66]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, UpdateNormals() fixes the problem. But, I still have a problem ;)<br><br>UpdateNormals() smooths the mesh and I don't want a smoothed mesh.<br><br>And EntityFX(obj, 4) not solve this problem.<br><br><img src="https://dl.dropbox.com/u/21855483/bmvmonk.jpg"><br><br>BlitzMax<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Strict

Import sidesign.minib3d

Graphics3D(640,480,32,2)

ClearTextureFilters()

AmbientLight(0,0,0)

Local cam:tcamera = CreateCamera()
Local luz:tlight = CreateLight(1)

RotateEntity(luz,0,0,0)

Local cubo1:tmesh = LoadMesh("bonus.b3d")
PositionEntity(cubo1,-2,0,4)
UpdateNormals(cubo1)

Local cubo2:tmesh = LoadMesh("bonus.b3d")
PositionEntity(cubo2,2,0,4)

While Not KeyHit(KEY_ESCAPE)
	TurnEntity(cubo1,0,1,0)
	TurnEntity(cubo2,0,1,0)

	RenderWorld()
	Flip(1)
Wend
</textarea><br><br><br>Monkey<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Import minib3d

Function Main()
	New Game
End

Class Game Extends App
	
	Field cam:TCamera
	Field cubo1:TMesh
	Field cubo2:TMesh
	Field luz:TLight

	Field init_gl:Bool = False
	
	Method init()
		If init_gl Then Return
		init_gl = True

		luz = CreateLight(1)
			
		cam=CreateCamera()
	
		cubo1=LoadMesh("bonus.B3D.txt")
		PositionEntity(cubo1,-2,0,4)
		UpdateNormals(cubo1)

		cubo2=LoadMesh("bonus.B3D.txt")
		PositionEntity(cubo2,2,0,4)



	End
	
	Method OnCreate()	
		SetUpdateRate(60)	
		SetRender()
		ClearTextureFilters()
	End

	Method OnUpdate()
		init()
		If KeyDown(KEY_ESCAPE) Then Error("")
			
		TurnEntity(cubo1,0,1,0)	
		TurnEntity(cubo2,0,1,0)
	
	End
	
	Method OnRender()
		RenderWorld()
	End
End
</textarea> <br><br></td></tr></table><br>
<a name="2051249"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#67">[#67]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, thanks for explaining the problem.  I'll look this over and get some answers tonight. <br><br></td></tr></table><br>
<a name="2051305"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >charlie</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#68">[#68]</a></td></tr></table></td></tr><tr ><td class="posttext"> That looks like the difference between face and vertex normals with the update normals images.<br><br>Cheers<br>Charlie <br><br></td></tr></table><br>
<a name="2051460"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#69">[#69]</a></td></tr></table></td></tr><tr ><td class="posttext"> Re: Normals and flat shading<br><br>miniB3D does not allow multiple normals for a single vertex, so normals are generally averaged out, creating a smooth appearance. additionally the OpenGL fixed function pipeline allows for non-interpolated normals, so it will create flat surfaces, but for people who need to write their own shaders, it would require optimally a separate shader for non-interpolated surfaces. (more shaders=more overhead=more testing=more time!)<br><br>So what to do?<br><br>There's a way to separate triangles from each other, so no interpolation is done and no vertex weighting is averaged. Generally, this is called unwelding (see various 3D programs like Blender for this command in action).<br><br>Here is a small routine for this, and I will add this to the miniB3D TMesh API:<br>unweldtriangles.monkey<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Function UnWeldTriangles:Int(mesh:TMesh, inSurf:TSurface=Null, updatenorms:Bool=True)
	
	Local list:List&lt;TSurface&gt; = mesh.surf_list
	If inSurf
		list = New List&lt;TSurface&gt;
		list.AddLast(inSurf)
	Endif
	
	Local newlist:List&lt;TSurface&gt; = New List&lt;TSurface&gt;
	
	For Local surf:TSurface = Eachin list
		
		Local newSurf:TSurface = surf.Copy()
		newSurf.ClearSurface(True,True)
		
		Local data0:Vertex, data1:Vertex, data2:Vertex, v0:Int,v1:Int,v2:Int, norm:Vector = New Vector
	
		For Local i:Int = 0 To surf.no_tris-1
			Local a0%=surf.TriangleVertex(i,0)
			Local a1%=surf.TriangleVertex(i,1)
			Local a2%=surf.TriangleVertex(i,2)
			v0 = newSurf.AddVertex(0.0,1.0,0.0)
			v1 = newSurf.AddVertex(0.0,0.0,1.0)
			v2 = newSurf.AddVertex(0.0,1.0,1.0)
			
			data0 = surf.GetVertex(a0)
			data1 = surf.GetVertex(a1)
			data2 = surf.GetVertex(a2)
			
			If updatenorms
				Local ax#=data1.x-data0.x
				Local ay#=data1.y-data0.y
				Local az#=-data1.z+data0.z
		
				Local bx#=data2.x-data1.x
				Local by#=data2.y-data1.y
				Local bz#=-data2.z+data1.z
	
				Local nx#=(ay*bz)-(az*by)
				Local ny#=(az*bx)-(ax*bz) 
				Local nz#=-(ax*by)+(ay*bx)

				norm.Update(nx,ny,nz)
				norm = norm.Normalize()
				data0.nx = norm.x
				data0.ny = norm.y
				data0.nz = norm.z
				data1.nx = norm.x
				data1.ny = norm.y
				data1.nz = norm.z
				data2.nx = norm.x
				data2.ny = norm.y
				data2.nz = norm.z

			Endif
			
			newSurf.SetVertex(v0,data0)
			newSurf.SetVertex(v1,data1)
			newSurf.SetVertex(v2,data2)
			
			newSurf.AddTriangle(v0,v1,v2)
			
		Next
		
		newSurf.CropSurfaceBuffers()
		newlist.AddLast(newSurf)
		
		surf.ClearSurface(True,True)


	Next
	
	mesh.surf_list.Clear()
	mesh.surf_list = newlist
	
	
	Return 1
	
End
</textarea><br>usage:<br>UnWeldTriangles(mesh) or<br>UnWeldTriangles(mesh, optional surface, optional bool dont create new normals)<br><br>don't UpdateNormals after using this routine, or it will smooth the normals again. <br><br></td></tr></table><br>
<a name="2051459"></a>

<a name="2051458"></a>

<a name="2051457"></a>

<a name="2051456"></a>

<a name="2051455"></a>

<a name="2051454"></a>

<a name="2051453"></a>

<a name="2051527"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sammy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#70">[#70]</a></td></tr></table></td></tr><tr ><td class="posttext"> This could be very handy for lots of situations. <br><br></td></tr></table><br>
<a name="2051524"></a>

<a name="2051531"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#71">[#71]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great! I know I was a bit silent the last weeks (had some hard private stuff to sort out) but I still like what you're doing here, Adam! Incredible!<br><br>So what has to be done to have it working with v68? I guess you will update it anyway soon now as it's not experimental anymore? <br><br></td></tr></table><br>
<a name="2051554"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#72">[#72]</a></td></tr></table></td></tr><tr ><td class="posttext"> this post above explains how to get this working with v67/v68 until i can get an update in:<br><a href="http://monkeycoder.co.nz/Community/post.php?topic=4396&amp;post=49395" target="_blank">http://monkeycoder.co.nz/Community/post.php?topic=4396&amp;post=49395</a><br><br><div class="quote"> I guess you will update it anyway soon now as it's not experimental anymore?  <br></div><br>yes, i would like to update a few minor things. hopefully soon. <br><br></td></tr></table><br>
<a name="2051641"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#73">[#73]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Adam! <br><br></td></tr></table><br>
<a name="2051658"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sammy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#74">[#74]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there a way to implement shadows? <br><br></td></tr></table><br>
<a name="2051664"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IceVAN</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#75">[#75]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great!! Thanks Adam! <br><br></td></tr></table><br>
<a name="2051700"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rone</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#76">[#76]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi adam, I just read that you have installed win8 ... have you tried minib3d on win8 yet? <br><br></td></tr></table><br>
<a name="2051734"></a>

<a name="2051735"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#77">[#77]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Is there a way to implement shadows?  <br></div><br>yes, custom shaders. i've done this, but i'm researching an glsl/hlsl solution first before i make any gbuffer shaders.<br><br><div class="quote"> have you tried minib3d on win8 yet?  <br></div><br>not yet, soon! (glfw works fine). <br><br></td></tr></table><br>
<a name="2051814"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sammy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#78">[#78]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> yes, custom shaders. i've done this, but i'm researching an glsl/hlsl solution first before i make any gbuffer shaders. <br></div> Ok thanks for the reply Adam. I think I'll hang back till you've completed your research and then follow your lead. <br><br></td></tr></table><br>
<a name="2051846"></a>

<a name="2051847"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#79">[#79]</a></td></tr></table></td></tr><tr ><td class="posttext"> for shaders:<br><br>I recommend doing this a similar way we handle audio.  Let the end-coder deal with it!  "Try" to compile shaders in whatever the target is, let the code fail if it's not supported on a target.  XNA's/Win8's the only targets that uses HLSL shaders, and pretty much all the others use GLSL.  Why not let the user convert their shaders to HLSL themselves?  There are tools for this.  Other solutions would add another potential point of failure in the chain if they involve some sort of "automagic" translation from a higher level language to the target's shader language <br><br></td></tr></table><br>
<a name="2052082"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >charlie</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#80">[#80]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think i'd rather handle my own shaders outside of commonly wanted stuff (like shadows). There's plenty of tools to test them/debug them out outside of minib3d, plus it'd likely make the codebase easier to manage for you.<br><br>Cheers<br>Charlie <br><br></td></tr></table><br>
<a name="2052146"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EdzUp</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#81">[#81]</a></td></tr></table></td></tr><tr ><td class="posttext"> Adam has something changed when I compile with v68c I get<br>[code<br>MonkeyPro68c/modules/minib3d/monkeybuffer.monkey&lt;11&gt; : Error : Module 'opengl.databuffergl' not found.<br>[/code]<br><br>There is no opengl.monkey, I got minib3d from github this morning? <br><br></td></tr></table><br>
<a name="2052191"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >impixi</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#82">[#82]</a></td></tr></table></td></tr><tr ><td class="posttext"> @EdzUp: <br>See post #39: <a href="http://www.monkeycoder.co.nz/Community/post.php?topic=4396&amp;post=49395" target="_blank">http://www.monkeycoder.co.nz/Community/post.php?topic=4396&amp;post=49395</a> <br><br></td></tr></table><br>
<a name="2052195"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EdzUp</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#83">[#83]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah missed that one thanks :) <br><br></td></tr></table><br>
<a name="2052538"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Landon</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#84">[#84]</a></td></tr></table></td></tr><tr ><td class="posttext"> I got minib3d to work on windows 8, <br><br>31 fps the zombie animations seem a tad choppy but moving the cube around and the zombies turning seems really smooth. <br><br></td></tr></table><br>
<a name="2052539"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#85">[#85]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> the zombie animations seem a tad choppy <br></div><br>in the example, the zombies are converted to vertex animation. Vertex animation is where the data is stored and bones are not used. so when played at a slower rate they are choppy by nature since it is playing back frame by frame, rather than by calculating bones.<br><br>this allows for many, many zombies. <br><br></td></tr></table><br>
<a name="2052542"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Landon</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#86">[#86]</a></td></tr></table></td></tr><tr ><td class="posttext"> ah cool, i had a feeling that was it, reminded me of how the animations on players in dungeons and dragons online when far away.<br><br>at anyrate i am pleasantly impressed. I may just head down the road to win8 app development with this. <br><br>any recommendations on a UI that's decent and wouldn't be hard to port into minib3d? <br><br></td></tr></table><br>
<a name="2052550"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EdzUp</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#87">[#87]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah is there mojo compatibility in minib3d so we can put text etc on screen <br><br></td></tr></table><br>
<a name="2052567"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Landon</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#88">[#88]</a></td></tr></table></td></tr><tr ><td class="posttext"> ah yea i see that, i don't have to wrestle to put 2d stuff up. suhweet <br><br></td></tr></table><br>
<a name="2052568"></a>

<a name="2052569"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#89">[#89]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does MiniB3D support bone animation in a B3D file? <br><br></td></tr></table><br>
<a name="2052586"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#90">[#90]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Yeah is there mojo compatibility in minib3d <br></div><br>not really. Rone has integrated some things in his separate mod you can try, but for the most part, Mojo will not work with miniB3D on all targets. I can get mojo working for cpp targets, but not opengl2.0 because mojo is only opengles1.1. I think someone has made a HTML5 WebGl mojo target, which would be opengles2.0 compatible.<br><br>I have included a myentity.Draw(x,y) command used with TText and TSprites, for all targets.<br><br>...and now after thinking for a bit, there may be a way to extend mojo's GraphicDevice class to use miniB3D directly (written in monkey, not native, all targets). this would be an interesting experiment.<br><br><div class="quote"> Does MiniB3D support bone animation in a B3D file?  <br></div><br>yes. the problem is there are few programs that create an animated B3D file. I am working on a collada-&gt;b3d converter. <br><br></td></tr></table><br>
<a name="2052604"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rone</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#91">[#91]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>I got minib3d to work on windows 8<br> <br></div><br>Do you use my implementation...just wondering, cause I have not updated since v67b...<br><br><div class="quote"> <br>any recommendations on a UI that's decent and wouldn't be hard to port into minib3d?<br> <br></div><br>I ported junglegui a while ago, using my mojo like commands... but it was very slow due to performance issues with my 2d commands / minib3d...<br>what interface do you use for 2d drawing?<br><br><div class="quote"> <br>Yeah is there mojo compatibility in minib3d so we can put text etc on screen <br> <br></div><br>You can also you fontmachine<br><a href="https://github.com/sascha-schmidt217/minib3d-monkey/tree/minib3d.0.33.2/util" target="_blank">https://github.com/sascha-schmidt217/minib3d-monkey/tree/minib3d.0.33.2/util</a><br>-------------------<br><br>Adam, what's your plan with win8 and xna highdef? Are you going to integrate these with the next update, or does it make more sense if I merge with your latest updates..?<br><br>btw: <br>I have a rudimentary d3d9 blitzmax driver, has anyone usage for this? <br><br></td></tr></table><br>
<a name="2052603"></a>

<a name="2052602"></a>

<a name="2052600"></a>

<a name="2052599"></a>

<a name="2052597"></a>

<a name="2052596"></a>

<a name="2052595"></a>

<a name="2052601"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Landon</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#92">[#92]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>yes. the problem is there are few programs that create an animated B3D file. I am working on a collada-&gt;b3d converter.<br> <br></div><br><br>I usually just export my animated meshes out as ms3d, then from milkshape export to b3d. got tired of wrestling with exporters. <br><br><div class="quote"> <br>what interface do you use for 2d drawing?<br> <br></div><br><br>i haven't made anything for monkey yet. I bought it and sat on it for a while. <br><br></td></tr></table><br>
<a name="2052607"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#93">[#93]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Adam, what's your plan with win8 and xna highdef? <br></div><br>i'll merge these into mine, but not sure when i'll get to this. i should probably up this priority since i've changed some key things to get Flash3D working. probably next week? so much going on...<br><br><div class="quote"> I have a rudimentary d3d9 blitzmax target <br></div><br>interesting, is that a d3d9 mojo target or minib3d target?<br>also, does it need the special dx9c or will it work on standard dx9? i never understod dx9c since it was not compatible with dx10. <br><br></td></tr></table><br>
<a name="2052613"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rone</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#94">[#94]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>i'll merge these into mine...<br> <br></div><br>Cool!<br><br><div class="quote"> <br>interesting, is that a d3d9 mojo target or minib3d target?<br> <br></div><br>it's a d3d9 minib3d driver for the monkey blitzmax target.<br>based on blitzMax's pub.directx.d3d9...don't know if it is standard dx9 or not, but I guess it needs nothing special. <br><br></td></tr></table><br>
<a name="2052609"></a>

<a name="2052614"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Landon</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#95">[#95]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Do you use my implementation...just wondering, cause I have not updated since v67b...<br> <br></div><br><br>i used this one<br><br><a href="https://github.com/sascha-schmidt217/minib3d-monkey" target="_blank">https://github.com/sascha-schmidt217/minib3d-monkey</a> <br><br></td></tr></table><br>
<a name="2052616"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rone</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#96">[#96]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes, that's mine...minib3d core is 0.33.2 there, but the drivers are ok. <br><br></td></tr></table><br>
<a name="2052617"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Landon</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#97">[#97]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>yes, that's mine...minib3d core is 0.33.2 there, but the drivers are ok. <br> <br></div><br><br>Seemed to work fine. i was running monkey v69 <br><br></td></tr></table><br>
<a name="2053182"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IceVAN</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#98">[#98]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi<br><br>I think the texture flags don't work.<br><br>LoadTexture("texture.png", 65) &lt;- Sphere mapping + color<br><br>gives the same result that<br><br>LoadTexture("texture.png", 9) &lt;- color + mipmaping<br><br>I tested with different targets and all is the same.<br><br>Regards! <br><br></td></tr></table><br>
<a name="2053191"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#99">[#99]</a></td></tr></table></td></tr><tr ><td class="posttext"> sphere mapping and cubemapping are not implemented, as there is none for OpenGLES1.1. i can implement cubemapping in OpenGLES2.0, but after i get a deferred shader going.<br><br>cubemapping in ES1.1 would require creating UV coordinates for a cubemap, and then setting the rotation of the texture to world matrix (ie doesnt move). <br><br></td></tr></table><br>
<a name="2053291"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Landon</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#100">[#100]</a></td></tr></table></td></tr><tr ><td class="posttext"> How far off do you think you are from adding the LoadAnimSeq and AddAnimSeq? I could really use those. i absolutely hate having to put all my animations into one file. :D <br><br></td></tr></table><br>
<a name="2053298"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#101">[#101]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> How far off do you think you are from adding the LoadAnimSeq and AddAnimSeq? <br></div><br>There's code in there but I haven't used these yet, so I'm assuming they don't work.<br><br>With my Collada loader starting to come together, I will test these functions when I get minib3d loading collada animation. May take a couple weeks though, i've been busy. <br><br></td></tr></table><br>
<a name="2053303"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Landon</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#102">[#102]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'd advocate a Cal3D loader. i may just write one myself. <br><br></td></tr></table><br>
<a name="2053306"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#103">[#103]</a></td></tr></table></td></tr><tr ><td class="posttext"> animation blending? i haven't thought of it, but this could be a future project. might be easy just by blending animation keys before vertex deform.<br><br>BlendAnimSeq( ExtractAnimSeq(m1,0,10),ExtractAnimSeq(m2,0,10), 0.5) <br><br></td></tr></table><br>
<a name="2053305"></a>

<a name="2053307"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Landon</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#104">[#104]</a></td></tr></table></td></tr><tr ><td class="posttext"> i had a question about animated models,i'm at work right now so i can't test.<br><br>so currently i can attach an object to a bone and it will follow the animations right? <br><br></td></tr></table><br>
<a name="2053308"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >time-killer-games</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#105">[#105]</a></td></tr></table></td></tr><tr ><td class="posttext"> How do I load plain old wavefront obj models? I tried loading a b3d file I exported from blender and tried converting it to base64 from that opinionated geek website. Both gave me an "open device failed" error, it's strange because the zombie animation example and the other examples work just fine. An I doing something wrong?<br><br>My model has a ton of polygons, could that be why? I don't think there is anything wrong with my code, perhaps the model isn't loading because it isn't a properly formatted b3d? I'll upload it in a few if that helps. <br><br></td></tr></table><br>
<a name="2053309"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Landon</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#106">[#106]</a></td></tr></table></td></tr><tr ><td class="posttext"> i noticed after i convert a b3d to base64 i get an error until i convert the encoded file to use Unix EOL format in notepad++ <br><br></td></tr></table><br>
<a name="2053310"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >time-killer-games</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#107">[#107]</a></td></tr></table></td></tr><tr ><td class="posttext"> ^thanks I'll try that. :) <br><br></td></tr></table><br>
<a name="2053339"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#108">[#108]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> How do I load plain old wavefront obj models?  <br></div><br>so, by default, monkey will not copy .obj files over to the build folder. you have to add the file filter thing... can't remember the exacts right now.<br><br>*OR* you can simply add .txt at the end of the obj filename, ie "mymodel.obj.txt" and monkey will copy it during the build and minib3d will LoadMesh("mymodel.obj.txt"). No base64 needed. <br><br></td></tr></table><br>
<a name="2053338"></a>

<a name="2053382"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Landon</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#109">[#109]</a></td></tr></table></td></tr><tr ><td class="posttext"> Question, any particular reason why the mesh of this model is on the skeleton backwards? see screenshot below.<br><br><img src="http://vigilart.com/problemm.png"> <br><br></td></tr></table><br>
<a name="2053387"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Landon</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#110">[#110]</a></td></tr></table></td></tr><tr ><td class="posttext"> Another weird issue is some models which do have animations i've verified in pace maker seem to load the mesh fine but do not animate at all.<br><br>the ones that do animate are old b3d files i think exported with the 3dsmax exporter. the one that doesn;t animate i exported from milkshape. <br><br>i can supply you with the models if you want for testing. <br><br></td></tr></table><br>
<a name="2053386"></a>

<a name="2053388"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#111">[#111]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> i can supply you with the models if you want for testing.  <br></div><br>yes, send to awpiette ... yahoo ..etc<br><br><div class="quote"> why the mesh of this model is on the skeleton backwards? <br></div><br>don't know, but you can easily fix: mymesh.RotateMesh(0,180,0)<br>(note: RotateMesh will rotate the base mesh, not the entity) <br><br></td></tr></table><br>
<a name="2053422"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IceVAN</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#112">[#112]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Adam<br><br>I detected a few small bugs.<br><br>In the method PaintMesh ()<br>- You copy bursh.tex_frame and this field does not exist in TBrush<br>- And you forgot to copy shine_strength<br><br>I added in TBrush: <b>Field tex_frame: Int = 0</b><br>And I added in PaintMesh: <b>surf.brush.shine_strength = bru.shine_strength</b><br><br>I have also detected that AddMesh not work well at all.<br><br>This don't work, the mesh is badly copied.<br><pre class=code>
local cubes:TMesh = CreateMesh()

For Local n:Int = 0 Until 50	
	Local c:TMesh = CreateCube()
        RotateMesh(c,Rnd(0,360), Rnd(0,360), Rnd(0,360))
	PositionMesh(c,Cos(Rnd(0,360)) * r, Sin(Rnd(0,360)) * r,Rnd(-5,100))
			
	Local b:TBrush = CreateBrush(Rnd(0,360), Rnd(0,360), Rnd(0,360)
	
        PaintEntity(c,b)

	c.AddMesh(cubos)

	FreeEntity(c)
	b = null
Next
</pre><br><br><br>This work <br><pre class=code>
local cubes:TMesh = CreateMesh()

For Local n:Int = 0 Until 50
			
	Local c:TMesh = CreateCube()
        RotateMesh(c,Rnd(0,360), Rnd(0,360), Rnd(0,360))
	PositionMesh(c,Cos(Rnd(0,360)) * r, Sin(Rnd(0,360)) * r,Rnd(-5,100))
			
	Local b:TBrush = CreateBrush(Rnd(0,360), Rnd(0,360), Rnd(0,360)
	
        PaintMesh(c,b)    ' &lt;----------------- difference

	c.AddMesh(cubos)

	FreeEntity(c)
	b = null
Next
</pre><br><br><br>I changed your method addmesh() by this one:<br><br>(From BlitzMax version)<br><pre class=code>
	Method AddMesh(mesh2:TMesh)
		
		If Not mesh2 Then Return
		
		For Local surf1:TSurface=Eachin surf_list
			
			' if surface is empty, don't add it
			If surf1.CountVertices()=0 And surf1.CountTriangles()=0 Then Continue
				
			Local new_surf:Bool=True
			
			For Local surf2:TSurface = Eachin mesh2.surf_list
			
				Local no_verts2=surf2.CountVertices()
				
				If (TBrush.CompareBrushes(surf1.brush,surf2.brush)=True)
				
					' add vertices
				
					For Local v=0 Until surf1.CountVertices()
		
						Local vx:Float=surf1.VertexX(v)
						Local vy:Float=surf1.VertexY(v)
						Local vz:Float=surf1.VertexZ(v)
						Local vr:Float=surf1.VertexRed(v)
						Local vg:Float=surf1.VertexGreen(v)
						Local vb:Float=surf1.VertexBlue(v)
						Local va:Float=surf1.VertexAlpha(v)
						Local vnx:Float=surf1.VertexNX(v)
						Local vny:Float=surf1.VertexNY(v)
						Local vnz:Float=surf1.VertexNZ(v)
						Local vu0:Float=surf1.VertexU(v,0)
						Local vv0:Float=surf1.VertexV(v,0)
						Local vw0:Float=surf1.VertexW(v,0)
						Local vu1:Float=surf1.VertexU(v,1)
						Local vv1:Float=surf1.VertexV(v,1)
						Local vw1:float=surf1.VertexW(v,1)
						
						Local v2=surf2.AddVertex(vx,vy,vz)
						surf2.VertexColor(v2,vr,vg,vb,va)
						surf2.VertexNormal(v2,vnx,vny,vnz)
						surf2.VertexTexCoords(v2,vu0,vv0,vw0,0)
						surf2.VertexTexCoords(v2,vu1,vv1,vw1,1)

					Next
		
					' add triangles
				
					For Local t=0 Until surf1.CountTriangles()
		
						Local v0=surf1.TriangleVertex(t,0)+no_verts2
						Local v1=surf1.TriangleVertex(t,1)+no_verts2
						Local v2=surf1.TriangleVertex(t,2)+no_verts2
						
						surf2.AddTriangle(v0,v1,v2)

					Next

					' mesh shape has changed - update reset flags
					surf2.reset_vbo=-1 ' (-1 = all)
	
					new_surf=False
					Exit


				end
				
				
			Next
			
			' add new surface
			
			If new_surf=true
			
				Local surf:TSurface=mesh2.CreateSurface()
				
				' add vertices
				
				For Local v=0 Until surf1.CountVertices()
	
					Local vx:Float=surf1.VertexX(v)
					Local vy:Float=surf1.VertexY(v)
					Local vz:Float=surf1.VertexZ(v)
					Local vr:Float=surf1.VertexRed(v)
					Local vg:Float=surf1.VertexGreen(v)
					Local vb:Float=surf1.VertexBlue(v)
					Local va:Float=surf1.VertexAlpha(v)
					Local vnx:Float=surf1.VertexNX(v)
					Local vny:Float=surf1.VertexNY(v)
					Local vnz:Float=surf1.VertexNZ(v)
					Local vu0:Float=surf1.VertexU(v,0)
					Local vv0:Float=surf1.VertexV(v,0)
					Local vw0:Float=surf1.VertexW(v,0)
					Local vu1:Float=surf1.VertexU(v,1)
					Local vv1:Float=surf1.VertexV(v,1)
					Local vw1:float=surf1.VertexW(v,1)
					
					Local v2=surf.AddVertex(vx,vy,vz)
					surf.VertexColor(v2,vr,vg,vb,va)
					surf.VertexNormal(v2,vnx,vny,vnz)
					surf.VertexTexCoords(v2,vu0,vv0,vw0,0)
					surf.VertexTexCoords(v2,vu1,vv1,vw1,1)

				Next
	
				' add triangles
			
				For Local t=0 Until surf1.CountTriangles()
	
					Local v0=surf1.TriangleVertex(t,0)
					Local v1=surf1.TriangleVertex(t,1)
					Local v2=surf1.TriangleVertex(t,2)
					
					surf.AddTriangle(v0,v1,v2)

				Next
				
				' copy brush
				
				If surf1.brush&lt;&gt;Null
				Print("supeficie copiada")
					surf.brush=surf1.brush.Copy()
					
				End
				
				' mesh shape has changed - update reset flags
				surf.reset_vbo=-1 ' (-1 = all)
			
			End
							
		Next
		
		' mesh shape has changed - update reset flags
		mesh2.reset_bounds=True
		mesh2.col_tree.reset_col_tree=True
	End 	

</pre> <br><br></td></tr></table><br>
<a name="2053690"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#113">[#113]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, thanks for finding these bugs!<br><br>The blitmax version of AddMesh() will crash/give wrong results on certain examples. the reason for the bad addmesh was flipping of z/normal z. a change i had made a while back.<br><br>i've also updated the paintmesh/paintentity check while doing the AddMesh().<br><br>these changes will appear on the next update. <br><br></td></tr></table><br>
<a name="2053692"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Landon</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#114">[#114]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool deal.<br><br>Any idea why my meshes are not loading the animations? <br><br></td></tr></table><br>
<a name="2053714"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#115">[#115]</a></td></tr></table></td></tr><tr ><td class="posttext"> Re: brush.tex_frame<br><br>I've always struggled with where to define that value. I have placed it under TTexture, because texture contains a pointer to TPixmap and overhead is minor for each copy.<br><br>But you pointed out a bug: Brushes should be able to have individual frames. So I've now added that in by applying a TTexture copy(). Thus, textures will all be animated the same if applied via PaintEntity(TTexture), but will all be different if applied through a brush PaintEntity(TBrush). <br><br></td></tr></table><br>
<a name="2053717"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Landon</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#116">[#116]</a></td></tr></table></td></tr><tr ><td class="posttext"> Rotate Mesh seemed to have fixed most of the problems with one of the meshes but it borked the arm bones completely. Not sure exactly why the bones are so out of whack.<br><br><img src="http://vigilart.com/knight.JPG"> <br><br></td></tr></table><br>
<a name="2053720"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#117">[#117]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Any idea why my meshes are not loading the animations?  <br></div><br>the bone weights seem to be set to 0.0<br><div class="quote">  Not sure exactly why the bones are so out of whack. <br></div><br>checking this <br><br></td></tr></table><br>
<a name="2053719"></a>

<a name="2053722"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Landon</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#118">[#118]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> the bone weights seem to be set to 0.0 <br></div><br><br>that's weird, i opened the exported meshes into fragmotion and pacemaker and both of them play the skinned animation just fine. There must be some difference in the file structure that i'm exporting that is causing the module to not read the bone weights. <br><br></td></tr></table><br>
<a name="2053721"></a>

<a name="2053730"></a>

<a name="2053731"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Landon</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#119">[#119]</a></td></tr></table></td></tr><tr ><td class="posttext"> . <br><br></td></tr></table><br>
<a name="2053807"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Landon</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#120">[#120]</a></td></tr></table></td></tr><tr ><td class="posttext"> After experimenting aroundit seems with every attempt to export a b3d model from milkshape, blender and fragmotion i noticed that it only seems to read in weights of 1 or 0. for some reason if it's a non zero weight it comes in as 0. i checked the zombie and every weight is 1, that seems to be why it works. <br><br></td></tr></table><br>
<a name="2053812"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Landon</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#121">[#121]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok after going into milkshape and assigning all vertexes to have only one weight on one bone at 1.0 the animations worked just fine. <br><br>I find that really odd. there must be some issue somewhere that is preventing me from saving more than one bone weight. <br><br></td></tr></table><br>
<a name="2053821"></a>

<a name="2053822"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#122">[#122]</a></td></tr></table></td></tr><tr ><td class="posttext"> something is an INT where it should be a FLOAT.<br>EDIT: do all the animations work correctly, even the knight?<br>i found a 'dwarf' b3d from pacemaker3d, and i could not load that so i'm experimenting... <br><br></td></tr></table><br>
<a name="2053830"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Landon</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#123">[#123]</a></td></tr></table></td></tr><tr ><td class="posttext"> well the bone placement is still off on soem of the models but outside of that issue the animations DO work when i set all the weights to 1.<br><br>But i found this when looking at the milkshape b3d exporter source<br><br><br><br><pre class=code>
int weight1 = msVertexEx_GetBoneWeights(vert2, 0);
			int weight2 = msVertexEx_GetBoneWeights(vert2, 1);
			int weight3 = msVertexEx_GetBoneWeights(vert2, 2);
			int weight4 = 100 - (weight1 + weight2 + weight3);

.... then later on

		for (size_t j = 0; j &lt; bone_vertices[k].size(); j++)
		{
			writeInt(bone_vertices[k][j]);
			writeFloat((float) bone_weights[k][j] / 100.0f);
		}
</pre><br><br>Seems to be writing a float but for whatever reason when it's read in as a float it's a 0<br><br>Also when i load my model into minib3d(blitzmax) the bones are aligned just fine. But when i try to use it in monkey minib3d the bones are all in the wrong places. <br><br></td></tr></table><br>
<a name="2053826"></a>

<a name="2053825"></a>

<a name="2053836"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Landon</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#124">[#124]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok got my model's bones to line up perfectly as well as animate<br><br>i changed the code in TModelb3d to reflect minib3d on blitzmax and skeletal structure are in their proper placements.<br><br><pre class=code>
				Case BONE
				
					Local ix:Int=0
					
					new_tag=file.ReadTag()
				
					bo_bone = New TBone
					bo_no_bones=bo_no_bones+1
					Print "New Tag: "+PrintTag(new_tag)
					
					While NewTag(new_tag)&lt;&gt;True And file.Eof()&lt;&gt;True
				
						bo_vert_id=file.ReadInt()
						bo_vert_w=file.ReadFloat()
						Print "Vert_id: "+bo_vert_id+" Bone weight: "+bo_vert_w
						If bo_vert_id&gt;surf.no_verts Or bo_vert_id &lt;0 Then Exit	'' a check for corrupt files			
						
						' assign weight values, with the strongest weight in vert_weight[1], and weakest in vert_weight[4]
									
						For Local anim_surf:TSurface=Eachin mesh.anim_surf
							
							'anim_surf = mesh.anim_surf[surf.surf_id]
							
							'If bo_vert_id&gt;=anim_surf.vmin And bo_vert_id&lt;=anim_surf.vmax
						
								If anim_surf&lt;&gt;Null
								
									'Local vid=bo_vert_id-anim_surf.vmin
									Local vid:Int = vert_lookup[bo_vert_id]-1 ''offset from 1
								
									If bo_vert_w&gt;anim_surf.vert_weight1[vid]
														
										anim_surf.vert_bone4_no[vid]=anim_surf.vert_bone3_no[vid]
										anim_surf.vert_weight4[vid]=anim_surf.vert_weight3[vid]
										
										anim_surf.vert_bone3_no[vid]=anim_surf.vert_bone2_no[vid]
										anim_surf.vert_weight3[vid]=anim_surf.vert_weight2[vid]
										
										anim_surf.vert_bone2_no[vid]=anim_surf.vert_bone1_no[vid]
										anim_surf.vert_weight2[vid]=anim_surf.vert_weight1[vid]
										
										anim_surf.vert_bone1_no[vid]=bo_no_bones
										anim_surf.vert_weight1[vid]=bo_vert_w
																
									Else If bo_vert_w&gt;anim_surf.vert_weight2[vid]
									
										anim_surf.vert_bone4_no[vid]=anim_surf.vert_bone3_no[vid]
										anim_surf.vert_weight4[vid]=anim_surf.vert_weight3[vid]
										
										anim_surf.vert_bone3_no[vid]=anim_surf.vert_bone2_no[vid]
										anim_surf.vert_weight3[vid]=anim_surf.vert_weight2[vid]
										
										anim_surf.vert_bone2_no[vid]=bo_no_bones
										anim_surf.vert_weight2[vid]=bo_vert_w
																							
									Else If bo_vert_w&gt;anim_surf.vert_weight3[vid]
									
										anim_surf.vert_bone4_no[vid]=anim_surf.vert_bone3_no[vid]
										anim_surf.vert_weight4[vid]=anim_surf.vert_weight3[vid]
						
										anim_surf.vert_bone3_no[vid]=bo_no_bones
										anim_surf.vert_weight3[vid]=bo_vert_w
							
									Else If bo_vert_w&gt;anim_surf.vert_weight4[vid]
									
										anim_surf.vert_bone4_no[vid]=bo_no_bones
										anim_surf.vert_weight4[vid]=bo_vert_w
												
									Endif
													
								Endif
								
							'Endif
							
						Next
						
						new_tag=file.ReadTag()
							
					Wend
					

					bo_bone.classname="Bone"
					bo_bone.name=n_name
					bo_bone.px=n_px  '' bone rest_mat takes care of original positions
					bo_bone.py=n_py
					bo_bone.pz=n_pz
					bo_bone.sx=n_sx
					bo_bone.sy=n_sy
					bo_bone.sz=n_sz
					bo_bone.rx=n_rx
					bo_bone.ry=n_ry
					bo_bone.rz=n_rz
					bo_bone.qw=n_qw
					bo_bone.qx=n_qx
					bo_bone.qy=n_qy
					bo_bone.qz=n_qz
					
					bo_bone.n_px=n_px
					bo_bone.n_py=n_py
					bo_bone.n_pz=n_pz
					bo_bone.n_sx=n_sx
					bo_bone.n_sy=n_sy
					bo_bone.n_sz=n_sz
					bo_bone.n_rx=n_rx
					bo_bone.n_ry=n_ry
					bo_bone.n_rz=n_rz
					bo_bone.n_qw=n_qw
					bo_bone.n_qx=n_qx
					bo_bone.n_qy=n_qy
					bo_bone.n_qz=n_qz
				
					bo_bone.keys=New TAnimationKeys
					bo_bone.keys.frames=a_frames
					bo_bone.keys.flags=bo_bone.keys.flags.Resize(a_frames+1)
					bo_bone.keys.px=bo_bone.keys.px.Resize(a_frames+1)
					bo_bone.keys.py=bo_bone.keys.py.Resize(a_frames+1)
					bo_bone.keys.pz=bo_bone.keys.pz.Resize(a_frames+1)
					bo_bone.keys.sx=bo_bone.keys.sx.Resize(a_frames+1)
					bo_bone.keys.sy=bo_bone.keys.sy.Resize(a_frames+1)
					bo_bone.keys.sz=bo_bone.keys.sz.Resize(a_frames+1)
					bo_bone.keys.qw=bo_bone.keys.qw.Resize(a_frames+1)
					bo_bone.keys.qx=bo_bone.keys.qx.Resize(a_frames+1)
					bo_bone.keys.qy=bo_bone.keys.qy.Resize(a_frames+1)
					bo_bone.keys.qz=bo_bone.keys.qz.Resize(a_frames+1)
							
					' root ent?
					If root_ent=Null Then root_ent=bo_bone
					
					' if ent nested then add parent
					If node_level&gt;0 Then bo_bone.AddParent(parent_ent)
					
					Quaternion.QuatToMatrix(bo_bone.n_qx,bo_bone.n_qy,-bo_bone.n_qz,-bo_bone.n_qw, bo_bone.mat)
					
					bo_bone.mat.grid[3][0]=bo_bone.n_px
					bo_bone.mat.grid[3][1]=bo_bone.n_py
					bo_bone.mat.grid[3][2]=bo_bone.n_pz
					
					bo_bone.rest_mat.Overwrite(bo_bone.mat) '' keep rest mat
					bo_bone.loc_mat.Overwrite(bo_bone.mat) '' keep local mat
					bo_bone.mat2.Overwrite(bo_bone.mat)
					
					'' setting the glbola mat doesn't work? weird
					'If bo_bone.parent&lt;&gt;Null
						'bo_bone.mat.Overwrite(bo_bone.parent.mat)
						'bo_bone.mat.Multiply(bo_bone.loc_mat)
					'Endif
					
					If bo_bone.parent&lt;&gt;Null And TBone(bo_bone.parent)&lt;&gt;Null ' And... onwards needed to prevent inv_mat being incorrect if external parent supplied
						
						temp_mat.Overwrite(TBone(bo_bone.parent).mat2)
						temp_mat.Multiply(bo_bone.mat2)
						bo_bone.mat2.Overwrite(temp_mat)
						
						
					Endif

					bo_bone.inv_mat=bo_bone.mat2.Inverse() ''move rotation origin
				
					temp_mat.Overwrite(bo_bone.mat2)
					temp_mat.Multiply(bo_bone.inv_mat) ''set initial pose with tform_mat
					bo_bone.tform_mat.Overwrite(temp_mat) 

				
					If new_tag&lt;&gt;KEYS
						
						''**** removing bones to entity list-- how will this effect things? *******
						'bo_bone.entity_link = TEntity.entity_list.EntityListAdd(bo_bone)
						mesh.bones=mesh.bones.Resize(bo_no_bones)
						mesh.bones[bo_no_bones-1]=bo_bone
						last_ent=bo_bone
						mesh.no_bones = bo_no_bones
						
					Endif
					
					
						
		
				Case KEYS
</pre> <br><br></td></tr></table><br>
<a name="2053835"></a>

<a name="2053840"></a>

<a name="2053841"></a>

<a name="2053842"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#125">[#125]</a></td></tr></table></td></tr><tr ><td class="posttext"> ah, the quat needed flipping<br><pre class=code>Quaternion.QuatToMatrix(bo_bone.n_qx,bo_bone.n_qy,-bo_bone.n_qz,-bo_bone.n_qw, bo_bone.mat)</pre><br>nice find thanks!<br><br>still a few other problems with loading the dwarf.b3d file. will check this. UPDATE: i think i fixed that as well. <br><br></td></tr></table><br>
<a name="2053845"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Landon</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#126">[#126]</a></td></tr></table></td></tr><tr ><td class="posttext"> No prob,<br><br>also i found it's actually the exporters that are not exporting the weights properly. (Well milkshape so far) I'm not sure why but, even though i have a loaded mesh that is rigged properly in blender or milkshape it doesn't export the weights unless i go in and manually highlight the assigned vertices for each bone and then press assign weight. <br><br>I was actually able to get some models to load with shared weights of 0.5 across two bones. What bothers me is how the heck does Pacemaker as well as Fragmotion recognize the weighted vertices if they are reading in as 0.0 in minib3d?<br><br>Weird.. Oh well lol.<br><br><img src="http://i730.photobucket.com/albums/ww310/haleymayo/derp/DERP.jpg"> <br><br></td></tr></table><br>
<a name="2053843"></a>

<a name="2053846"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#127">[#127]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> What bothers me is how the heck does Pacemaker as well as Fragmotion recognize the weighted vertices if they are reading in as 0.0 in minib3d? <br></div><br>i've no idea either, but if i put in a line that "if weight=0.0 then weight=1.0", it starts to animate... <br><br></td></tr></table><br>
<a name="2053928"></a>

<a name="2053929"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#128">[#128]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've updated GitHub for B3D loader bug fixes. This update is slated as 0.34 as it contains numerous changes and I wanted to get XNA, DX11 updates in this but haven't had time yet. So label it as "in progress" but if you need the B3D fixes, they are there. Oh, and no, Flash11 does not work yet (in progress).<br><br><a href="https://github.com/adamredwoods/minib3d-monkey" target="_blank">https://github.com/adamredwoods/minib3d-monkey</a> <br><br></td></tr></table><br>
<a name="2054104"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IceVAN</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#129">[#129]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Adam<br><br>Another little bug. <br><br>In EntityVisible() [tpick.monkey] <br><br>LINE 75   :  Local psurf:TSurface = picked_surface<br>LINE 104 :  picked_surface=psurf<br><br>picked_surface is an Int not a TSurface<br><br>bye! <br><br></td></tr></table><br>
<a name="2054355"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IceVAN</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#130">[#130]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi again Adam.<br><br>Another small bug that I have fixed.<br><br>EntityOrder () does no effect.<br><br>The problem is in Render() Method of opengles11 and opengless20.<br><br>I've corrected by adding this code after glDisable(GL_ALPHA_TEST)<br><br><pre class=code>
If ent.order&lt;&gt;0
   glDisable(GL_DEPTH_TEST)
   glDepthMask(False)
Else
   glEnable(GL_DEPTH_TEST)
   glDepthMask(True)
Endif
</pre><br><br>bye!<br><br>When will we have a new version? Thank you! <br><br></td></tr></table><br>
<a name="2054385"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#131">[#131]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> EntityOrder () does no effect. <br></div><br>i always thought it was only used to help with z-fighting....<br>but from the blitz3d manual:<br><div class="quote"> Setting an entity's order to non-0 also disables z-buffering for the entity, so should be only used for simple, convex entities like skyboxes, sprites etc. <br><br>EntityOrder affects the specified entity but none of its child entities, if any exist.  <br></div><br><br>ok, so you're correct, we need to fix that. thanks!<br><br><div class="quote"> When will we have a new version? Thank you!  <br></div><br>i can update these couple bugs to github, but the new version i'm working on is interesting. unfotunately it will take a while as my time is pulled in all directions, so i am just trying to release updates slowly through a 0.34.x system. <br><br></td></tr></table><br>
<a name="2054429"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#132">[#132]</a></td></tr></table></td></tr><tr ><td class="posttext"> i've some interesting news.<br>I managed to get Mojo working, which may be on ALL TARGETS, by extending the Mojo's graphics class and leveraging miniB3D's own engine. it is seamless, meaning mojo commands just work as is. cool. <br><br></td></tr></table><br>
<a name="2054430"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CopperCircle</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#133">[#133]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow, great job.  Having Mojo would be cool for creating a UI/Level Editor.<br>I haven't used mini B3D for a awhile, has the .b3d loader changed much? I always struggled to get my models loaded. <br><br></td></tr></table><br>
<a name="2054431"></a>

<a name="2054432"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#134">[#134]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> .b3d loader changed much? I always struggled to get my models loaded.  <br></div><br>yes. Landon found a few bugs, and I have put in a binary loader for direct .b3d files.<br>i'm also making a collada loader. <br><br></td></tr></table><br>
<a name="2054440"></a>

<a name="2054441"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sammy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#135">[#135]</a></td></tr></table></td></tr><tr ><td class="posttext"> Full cross-platform Mojo integration in one update, that's quite an achievement Adam, well done! <br><br></td></tr></table><br>
<a name="2054487"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#136">[#136]</a></td></tr></table></td></tr><tr ><td class="posttext"> The mojo integration sounds fantastic. Checking github every day now to see when you commit it :-) <br><br></td></tr></table><br>
<a name="2054496"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IceVAN</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#137">[#137]</a></td></tr></table></td></tr><tr ><td class="posttext"> mojo integration? yes!! <br><br></td></tr></table><br>
<a name="2054514"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EdzUp</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#138">[#138]</a></td></tr></table></td></tr><tr ><td class="posttext"> When can we get the version with mojo integration <br><br></td></tr></table><br>
<a name="2054833"></a>

<a name="2054834"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IceVAN</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#139">[#139]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Adam.<br><br>Another litle bug.<br><br>In opengles20.monkey, line (493 aprox)<br><br>If an entity have disable fog fx then all entitys in the world have disable fog fx.<br><br><br>Original code:<br><pre class=code>
' fx flag 8 - disable fog
If fx&amp;8
     'glDisable(GL_FOG)
     If shader.u.fogflag&lt;&gt; -1 Then glUniform1i( shader.u.fogflag, 0 )
Endif
</pre><br><br>Corrected code:<br><pre class=code>
' fx flag 8 - disable fog
If fx&amp;8
     'glDisable(GL_FOG)
     If shader.u.fogflag&lt;&gt; -1 Then glUniform1i( shader.u.fogflag, 0 )
Else
     If shader.u.fogflag&lt;&gt; -1 Then glUniform1i( shader.u.fogflag, 1 )
Endif
</pre><br><br>opengless11 don't have this bug.<br><br>Bye! <br><br></td></tr></table><br>
<a name="2054904"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bruZard</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#140">[#140]</a></td></tr></table></td></tr><tr ><td class="posttext"> is there an example which explains CameraLayer() ? <br><br></td></tr></table><br>
<a name="2054915"></a>

<a name="2054916"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#141">[#141]</a></td></tr></table></td></tr><tr ><td class="posttext"> bruZard, yes there is:<br><br><a href="http://monkeycoder.co.nz/Community/post.php?topic=3211&amp;post=40613" target="_blank">http://monkeycoder.co.nz/Community/post.php?topic=3211&amp;post=40613</a><br><br>I did use it for 2d stuff. <br><br></td></tr></table><br>
<a name="2054929"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EdzUp</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#142">[#142]</a></td></tr></table></td></tr><tr ><td class="posttext"> When compiling my game for android I get:<br><pre class=code>
BUILD SUCCESSFUL
Total time: 1 minute 0 seconds
Starting: Intent { cmp=com.monkey/.MonkeyGame }
--------- beginning of /dev/log/main
--------- beginning of /dev/log/system
I/[Monkey](14118): **OPENGL VERSION:1.1
I/[Monkey](14118): ..max textures:11
I/[Monkey](14118): Monkey Runtime Error : Invalid int: ""
I/[Monkey](14118): /Volumes/8GIG/Linux/MonkeyPro69/modules/minib3d/tmodelobj.monkey&lt;402&gt;
I/[Monkey](14118): /Volumes/8GIG/Linux/MonkeyPro69/modules/minib3d/tmodelobj.monkey&lt;251&gt;
I/[Monkey](14118): /Volumes/8GIG/Linux/MonkeyPro69/modules/minib3d/tmodelobj.monkey&lt;68&gt;
I/[Monkey](14118): /Volumes/8GIG/Linux/MonkeyPro69/modules/minib3d/tmesh.monkey&lt;238&gt;
I/[Monkey](14118): /Volumes/8GIG/Linux/MonkeyPro69/modules/minib3d/tmesh.monkey&lt;209&gt;
I/[Monkey](14118): /Volumes/8GIG/Linux/MonkeyPro69/modules/minib3d/functions.monkey&lt;921&gt;
I/[Monkey](14118): /Volumes/8GIG/A.I/AI.monkey&lt;49&gt;
I/[Monkey](14118): /Volumes/8GIG/A.I/AI.monkey&lt;76&gt;
I/[Monkey](14118): /Volumes/8GIG/Linux/MonkeyPro69/modules/mojo/app.monkey&lt;60&gt;
E/AndroidRuntime(14118): FATAL EXCEPTION: main
E/AndroidRuntime(14118): java.lang.NumberFormatException: Invalid int: ""
E/AndroidRuntime(14118): 	at java.lang.Integer.invalidInt(Integer.java:138)
E/AndroidRuntime(14118): 	at java.lang.Integer.parseInt(Integer.java:359)
E/AndroidRuntime(14118): 	at java.lang.Integer.parseInt(Integer.java:332)
E/AndroidRuntime(14118): 	at com.monkey.c_TModelObj.m_ParseFaces(MonkeyGame.java:12642)
E/AndroidRuntime(14118): 	at com.monkey.c_TModelObj.m_ParseObj(MonkeyGame.java:12881)
E/AndroidRuntime(14118): 	at com.monkey.c_TModelObj.m_LoadMesh(MonkeyGame.java:13003)
E/AndroidRuntime(14118): 	at com.monkey.c_TMesh.m_LoadAnimMesh(MonkeyGame.java:9154)
E/AndroidRuntime(14118): 	at com.monkey.c_TMesh.m_LoadMesh(MonkeyGame.java:9427)
E/AndroidRuntime(14118): 	at com.monkey.bb_functions2.g_LoadMesh(MonkeyGame.java:17626)
E/AndroidRuntime(14118): 	at com.monkey.c_AIApp.p_Init(MonkeyGame.java:2769)
E/AndroidRuntime(14118): 	at com.monkey.c_AIApp.p_OnUpdate(MonkeyGame.java:2802)
E/AndroidRuntime(14118): 	at com.monkey.c_GameDelegate.UpdateGame(MonkeyGame.java:2953)
E/AndroidRuntime(14118): 	at com.monkey.BBGame.UpdateGame(MonkeyGame.java:559)
E/AndroidRuntime(14118): 	at com.monkey.BBAndroidGame.UpdateGame(MonkeyGame.java:1205)
E/AndroidRuntime(14118): 	at com.monkey.BBAndroidGame$GameTimer.run(MonkeyGame.java:791)
E/AndroidRuntime(14118): 	at android.os.Handler.handleCallback(Handler.java:725)
E/AndroidRuntime(14118): 	at android.os.Handler.dispatchMessage(Handler.java:92)
E/AndroidRuntime(14118): 	at android.os.Looper.loop(Looper.java:137)
E/AndroidRuntime(14118): 	at android.app.ActivityThread.main(ActivityThread.java:5041)
E/AndroidRuntime(14118): 	at java.lang.reflect.Method.invokeNative(Native Method)
E/AndroidRuntime(14118): 	at java.lang.reflect.Method.invoke(Method.java:511)
E/AndroidRuntime(14118): 	at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:793)
E/AndroidRuntime(14118): 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:560)
E/AndroidRuntime(14118): 	at dalvik.system.NativeStart.main(Native Method)
</pre><br>Anyone have any ideas how to fix this, I have tried the game on other platforms and it works perfectly (OSX, Win32, Linux, HTML5) but wont compile for Android. <br><br></td></tr></table><br>
<a name="2054927"></a>

<a name="2054931"></a>

<a name="2054932"></a>

<a name="2054933"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#143">[#143]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Anyone have any ideas how to fix this, I have tried the game on other platforms and it works perfectly <br></div><br>android freaks out if there's anything, including spaces, when trying to convert a string to an int. it's annoying. i'll have to throw another strip function for spaces in TModelObj (assuming that's the problem). can you check to see if there's spaces in the "f 1 2 3" part? <br><br></td></tr></table><br>
<a name="2054934"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bruZard</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#144">[#144]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks Xaron. This will work with fullscreen sprites with the same ratio (e.g. 16:9). But how should i handle a smaller sprite? <br><br></td></tr></table><br>
<a name="2054935"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EdzUp</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#145">[#145]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Adam: where am I looking for the spaces as from what I can see most of the separators in the obj files are spaces :)<br><br>There does seem to be a data.Find( " ") in the obj loader at several places. <br><br></td></tr></table><br>
<a name="2054988"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#146">[#146]</a></td></tr></table></td></tr><tr ><td class="posttext"> in tmodelobj.monkey<br>under the function "ParseFaces"<br>swap this part:<br><pre class=code>fdata[s].vi = Int(D2[0])
fdata[s].ti = Int(D2[1])
fdata[s].ni = Int(D2[2])
</pre><br>for this:<br><pre class=code>
If D2[0]&lt;&gt;"" Then fdata[s].vi = Int(D2[0])
If D2[1]&lt;&gt;"" Then fdata[s].ti = Int(D2[1])
If D2[2]&lt;&gt;"" Then fdata[s].ni = Int(D2[2])</pre><br><br>i'll update this for the next update, coming tonight hopefully. <br><br></td></tr></table><br>
<a name="2054987"></a>

<a name="2055003"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EdzUp</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#147">[#147]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah brilliant thanks :-) will test it later :-) <br><br></td></tr></table><br>
<a name="2055017"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#148">[#148]</a></td></tr></table></td></tr><tr ><td class="posttext"> ****************************<br>THREAD CONTINUES HERE:<br><br><a href="http://monkeycoder.co.nz/Community/posts.php?topic=5016" target="_blank">http://monkeycoder.co.nz/Community/posts.php?topic=5016</a> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
