<!DOCTYPE html><html lang="en" ><head ><title >monkey-libmikmod, a module player library</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >monkey-libmikmod, a module player library</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=524" >User Modules</a>/<a href="#bottom" >monkey-libmikmod, a module player library</a><br><br>
<a name="2040207"></a>

<a name="2040208"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Risc</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi!<br>I've created a Monkey module for libmikmod (http://mikmod.shlomifish.org)<br><br>You can find the Bitbucket repository here: <a href="https://bitbucket.org/r1sc/monkey-libmikmod" target="_blank">https://bitbucket.org/r1sc/monkey-libmikmod</a><br><br>Edit: Currently only GLFW and stdcpp is supported. Android and iOS is probably possible but requires a ported library.<br><br>/Risc <br><br></td></tr></table><br>
<a name="2051504"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool, man.<br><br>I'm interested in checking this out, although I kinda prefer libmodplug to libmikmod for accuracy..... Anyway, I tried running the code and it seemed to do the job well after following your installation instructions, except it doesn't seem to build in Release mode on the GLFW target.  Debug mode builds fine, but when trying Release mode, I get the following error:<br><br><div class="quote"> <br>Build started 3/11/2013 11:25:51 PM.<br>Project "C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\MonkeyGame.sln" on node 1 (default targets).<br>ValidateSolutionConfiguration:<br>  Building solution configuration "Release|win32".<br>Project "C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\MonkeyGame.sln" (1) is building "C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\MonkeyGame.vcxproj" (2) on node 1 (default targets).<br>InitializeBuildStatus:<br>  Touching "C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\build\Release\MonkeyGame.unsuccessfulbuild".<br>ClCompile:<br>  All outputs are up-to-date.<br>  c:\Program Files\Microsoft Visual Studio 10.0\VC\bin\CL.exe /c /I"../bdwgc/libatomic_ops-1.2/src" /I../bdwgc/include /I../stb /I../openal/include /I../glfw/include /I../glfw/lib /I../glfw/lib/win32 /Zi /nologo /W0 /WX- /O2 /Oi /Oy- /GL /D WIN32 /D NDEBUG /D _WINDOWS /D _MBCS /Gm- /EHa /MT /GS /Gy- /fp:precise /Zc:wchar_t /Zc:forScope /Fo"C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\build\Release\\" /Fd"C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\build\Release\vc100.pdb" /Gd /TP /analyze- /errorReport:queue ..\main.cpp /bigobj <br>  main.cpp<br>Link:<br>  c:\Program Files\Microsoft Visual Studio 10.0\VC\bin\link.exe /ERRORREPORT:QUEUE /OUT:"C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\Release\MonkeyGame.exe" /INCREMENTAL:NO /NOLOGO /LIBPATH:../openal/libs/Win32 opengl32.lib glu32.lib openal32.lib Ws2_32.lib kernel32.lib user32.lib gdi32.lib winspool.lib comdlg32.lib advapi32.lib shell32.lib ole32.lib oleaut32.lib uuid.lib odbc32.lib odbccp32.lib /MANIFEST /ManifestFile:"C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\build\Release\MonkeyGame.exe.intermediate.manifest" /MANIFESTUAC:"level='asInvoker' uiAccess='false'" /PDB:"C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\Release\MonkeyGame.pdb" /SUBSYSTEM:WINDOWS /OPT:REF /OPT:ICF /LTCG /TLBID:1 /ENTRY:"mainCRTStartup" /DYNAMICBASE /NXCOMPAT /IMPLIB:"C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\Release\MonkeyGame.lib" /MACHINE:X86 "C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\build\Release\enable.obj"<br>  "C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\build\Release\fullscreen.obj"<br>  "C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\build\Release\glext.obj"<br>  "C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\build\Release\image.obj"<br>  "C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\build\Release\init.obj"<br>  "C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\build\Release\input.obj"<br>  "C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\build\Release\joystick.obj"<br>  "C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\build\Release\stream.obj"<br>  "C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\build\Release\tga.obj"<br>  "C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\build\Release\thread.obj"<br>  "C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\build\Release\time.obj"<br>  "C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\build\Release\win32_dllmain.obj"<br>  "C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\build\Release\win32_enable.obj"<br>  "C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\build\Release\win32_fullscreen.obj"<br>  "C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\build\Release\win32_glext.obj"<br>  "C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\build\Release\win32_init.obj"<br>  "C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\build\Release\win32_joystick.obj"<br>  "C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\build\Release\win32_thread.obj"<br>  "C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\build\Release\win32_time.obj"<br>  "C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\build\Release\win32_window.obj"<br>  "C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\build\Release\window.obj"<br>  "C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\build\Release\main.obj"<br>  "C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\build\Release\stb_image.obj"<br>  "C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\build\Release\stb_vorbis.obj"<br>libcmtd.lib(dbgheap.obj) : error LNK2005: __heap_alloc already defined in LIBCMT.lib(malloc.obj) [C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\MonkeyGame.vcxproj]<br>libcmtd.lib(dbgheap.obj) : error LNK2005: __recalloc already defined in LIBCMT.lib(recalloc.obj) [C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\MonkeyGame.vcxproj]<br>libcmtd.lib(dbgheap.obj) : error LNK2005: __msize already defined in LIBCMT.lib(msize.obj) [C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\MonkeyGame.vcxproj]<br>libcmtd.lib(isctype.obj) : error LNK2005: __isctype_l already defined in LIBCMT.lib(isctype.obj) [C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\MonkeyGame.vcxproj]<br>libcmtd.lib(isctype.obj) : error LNK2005: __isctype already defined in LIBCMT.lib(isctype.obj) [C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\MonkeyGame.vcxproj]<br>libcmtd.lib(dbghook.obj) : error LNK2005: __crt_debugger_hook already defined in LIBCMT.lib(dbghook.obj) [C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\MonkeyGame.vcxproj]<br>LIBCMT.lib(crt0init.obj) : warning LNK4098: defaultlib 'libcmtd.lib' conflicts with use of other libs; use /NODEFAULTLIB:library [C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\MonkeyGame.vcxproj]<br>C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\Release\MonkeyGame.exe : fatal error LNK1169: one or more multiply defined symbols found [C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\MonkeyGame.vcxproj]<br>Done Building Project "C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\MonkeyGame.vcxproj" (default targets) -- FAILED.<br>Done Building Project "C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\MonkeyGame.sln" (default targets) -- FAILED.<br><br>Build FAILED.<br><br>"C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\MonkeyGame.sln" (default target) (1) -&gt;<br>"C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\MonkeyGame.vcxproj" (default target) (2) -&gt;<br>(Link target) -&gt; <br>  LIBCMT.lib(crt0init.obj) : warning LNK4098: defaultlib 'libcmtd.lib' conflicts with use of other libs; use /NODEFAULTLIB:library [C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\MonkeyGame.vcxproj]<br><br><br>"C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\MonkeyGame.sln" (default target) (1) -&gt;<br>"C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\MonkeyGame.vcxproj" (default target) (2) -&gt;<br>(Link target) -&gt; <br>  libcmtd.lib(dbgheap.obj) : error LNK2005: __heap_alloc already defined in LIBCMT.lib(malloc.obj) [C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\MonkeyGame.vcxproj]<br>  libcmtd.lib(dbgheap.obj) : error LNK2005: __recalloc already defined in LIBCMT.lib(recalloc.obj) [C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\MonkeyGame.vcxproj]<br>  libcmtd.lib(dbgheap.obj) : error LNK2005: __msize already defined in LIBCMT.lib(msize.obj) [C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\MonkeyGame.vcxproj]<br>  libcmtd.lib(isctype.obj) : error LNK2005: __isctype_l already defined in LIBCMT.lib(isctype.obj) [C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\MonkeyGame.vcxproj]<br>  libcmtd.lib(isctype.obj) : error LNK2005: __isctype already defined in LIBCMT.lib(isctype.obj) [C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\MonkeyGame.vcxproj]<br>  libcmtd.lib(dbghook.obj) : error LNK2005: __crt_debugger_hook already defined in LIBCMT.lib(dbghook.obj) [C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\MonkeyGame.vcxproj]<br>  C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\Release\MonkeyGame.exe : fatal error LNK1169: one or more multiply defined symbols found [C:\Documents and Settings\Jim\Desktop\asdf\mikmod_test.build\glfw\vc2010\MonkeyGame.vcxproj]<br><br>    1 Warning(s)<br>    7 Error(s)<br><br>Time Elapsed 00:00:04.59<br>TRANS FAILED: TRANS Failed to execute 'C:\WINDOWS\Microsoft.NET\Framework\v4.0.30319\MSBuild.exe /p:Configuration=Release;Platform="win32" MonkeyGame.sln', return code=1<br>Abnormal program termination. Exit code: -1<br> <br></div><br><br>No good, right?  Since mikmod's being distributed in this project as a static lib, I have no idea what's going on here, but I'm guessing the linker doesn't like something that's included in there and conflicts with the optimizations that are supposed to be made on release build... <br><br></td></tr></table><br>
<a name="2051511"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Risc</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Weird. I suppose you tried to clean the project first right?<br>Also, I should mention that I haven't tried to build this on the latest versions of Monkey. I don't remember exactly but I think it built fine on v66. <br><br></td></tr></table><br>
<a name="2051510"></a>

<a name="2051513"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh fantastic :)<br><br>I'm not in a position to look myself right now, but Risc, are you able to tell me if I can use this module to change the playback frequency of a module? I'm looking at the docs and it seems to mention Voice Frequency a lot, I'm not sure if that's the same thing<br><br>Thanks<br>:) <br><br></td></tr></table><br>
<a name="2051564"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Weird. I suppose you tried to clean the project first right?<br>Also, I should mention that I haven't tried to build this on the latest versions of Monkey. I don't remember exactly but I think it built fine on v66.<br> <br></div><br><br>Of course.  I tried it on v66b.  Perhaps the conflict is in stb_vorbis?  That wasn't always a part of the glfw target.  The issue seems to have to do with the fact that the Release build performs certain optimizations which try to static-link code which I guess there is a duplicate implementation of (in mikmod.lib, maybe?) <br><br></td></tr></table><br>
<a name="2052435"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >caffeinekid</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Copied here from the Android section:-<br><br>The person who made AndModPlug very kindly took a look at the Monkey problem but he says it probably needs someone more familiar with the language and its ins and outs.<br><br>It would be a fantastic boon to the language to have tracker/module support I think - inbuilt would be idea but a wrapper for this stuff would work too.<br><br>I used to love the fact that mods could be loaded and played in Blitz and Blitz3D.<br><br>Anyway the AndModPlug creator has put together some great notes if anyone wants to give this a go - maybe this shouldn't be in the android forum but in a more general place if it's ported/wrapped hopefully it can be made to work for more than just one platform.<br><br>Take a look at the notes and information (and source) here:-<br><br><a href="https://sites.google.com/a/peculiar-games.com/monkeymodplug/" target="_blank">https://sites.google.com/a/peculiar-games.com/monkeymodplug/</a><br><br>Hopefully Risc or someone else might be able to get this working, if you guys want to give it a go. <br><br></td></tr></table><br>
<a name="2052523"></a>

<a name="2052524"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks buddy.  I was actually planning on using andmodplug in some capacity as a starting point for that target.  When I get more free time, I'll have to take a look at it... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
