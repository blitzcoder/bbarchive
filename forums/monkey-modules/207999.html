<!DOCTYPE html><html lang="en" ><head ><title >Diddy - Android - Crash on DiddyData + Reflection</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Diddy - Android - Crash on DiddyData + Reflection</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=524" >User Modules</a>/<a href="#bottom" >Diddy - Android - Crash on DiddyData + Reflection</a><br><br>
<a name="2079519"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GuShh</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, whenever we attempt to run the DiddyData example on Android we get a crash on all devices, I contacted the author via email but so far I haven't got a response, maybe someone here could know what's wrong?<br><br>Is 76d at fault or what am I missing?<br><br>Not only are the compile times massive but the resulting binaries are also huge. Including on html5 target, we get a 7MB or so javascript result, could someone explain why reflection is doing this? is it because of the wildcard used by the example?<br><br>Hereâ€™s the debugger output of diddydata example on android:<br> <br>BUILD SUCCESSFUL<br>Total time: 1 minute 11 seconds<br>Starting: Intent { cmp=com.monkeycoder.monkeygame/.MonkeyGame }<br>--------- beginning of /dev/log/main<br>--------- beginning of /dev/log/system<br>E/cutils  ( 4650): to chown(/mnt/shell/emulated/0, 0, 0)<br>E/cutils  ( 4650): to chown(/mnt/shell/emulated/obb, 0, 0)<br>E/cutils  ( 4650): to chown(/storage/emulated/0/Android, 0, 0)<br>E/cutils  ( 4650): to chown(/storage/emulated/0/Android/obb, 0, 0)<br>E/jdwp    ( 4643): jdwp::setsockopt(SO_SNDTIMEO)<br>E/jdwp    ( 4643): jdwp::setsockopt(SO_RCVTIMEO)<br>E/cutils  ( 4676): to chown(/mnt/shell/emulated/0, 0, 0)<br>E/cutils  ( 4676): to chown(/mnt/shell/emulated/obb, 0, 0)<br>E/cutils  ( 4676): to chown(/storage/emulated/0/Android, 0, 0)<br>E/cutils  ( 4676): to chown(/storage/emulated/0/Android/obb, 0, 0)<br>E/cutils  ( 4696): to chown(/mnt/shell/emulated/0, 0, 0)<br>E/cutils  ( 4696): to chown(/mnt/shell/emulated/obb, 0, 0)<br>E/cutils  ( 4696): to chown(/storage/emulated/0/Android, 0, 0)<br>E/cutils  ( 4696): to chown(/storage/emulated/0/Android/obb, 0, 0)<br>E/.AppDataSearchProvider( 2871): Could not connect to AppDataSearchClient for registerCorpora, error 2<br>E/cutils  ( 4713): to chown(/mnt/shell/emulated/0, 0, 0)<br>E/cutils  ( 4713): to chown(/mnt/shell/emulated/obb, 0, 0)<br>E/cutils  ( 4713): to chown(/storage/emulated/0/Android, 0, 0)<br>E/cutils  ( 4713): to chown(/storage/emulated/0/Android/obb, 0, 0)<br>E/.AppDataSearchProvider( 2871): Could not connect to AppDataSearchClient for onTableChanged, error 2<br>E/cutils  ( 4742): to chown(/mnt/shell/emulated/0, 0, 0)<br>E/cutils  ( 4742): to chown(/mnt/shell/emulated/obb, 0, 0)<br>E/cutils  ( 4742): to chown(/storage/emulated/0/Android, 0, 0)<br>E/cutils  ( 4742): to chown(/storage/emulated/0/Android/obb, 0, 0)<br>I/[Monkey]( 4676): Monkey Runtime Error : Invalid int: ""<br>I/[Monkey]( 4676): C:/Monkey/MonkeyPro76d/modules/diddy/diddydata.monkey&lt;106&gt;<br>I/[Monkey]( 4676): C:/Monkey/MonkeyPro76d/modules/diddy/diddydata.monkey&lt;47&gt;<br>I/[Monkey]( 4676): C:/Monkey/MonkeyPro76d/modules/diddy/framework.monkey&lt;569&gt;<br>I/[Monkey]( 4676): C:/Monkey/MonkeyPro76d/bananas/diddy/examples/DiddyData/diddydata_example.monkey&lt;23&gt;<br>I/[Monkey]( 4676): C:/Monkey/MonkeyPro76d/modules/diddy/framework.monkey&lt;213&gt;<br>I/[Monkey]( 4676): C:/Monkey/MonkeyPro76d/modules/mojo/app.monkey&lt;43&gt;<br>E/AndroidRuntime( 4676): FATAL EXCEPTION: GLThread 28123<br>E/AndroidRuntime( 4676): java.lang.NumberFormatException: Invalid int: ""<br>E/AndroidRuntime( 4676):     at java.lang.Integer.invalidInt(Integer.java:138)<br>E/AndroidRuntime( 4676):     at java.lang.Integer.parseInt(Integer.java:359)<br>E/AndroidRuntime( 4676):     at java.lang.Integer.parseInt(Integer.java:332)<br>E/AndroidRuntime( 4676):     at com.monkeycoder.monkeygame.c_DiddyData.p_LoadXMLImages(MonkeyGame.java:8522)<br>E/AndroidRuntime( 4676):     at com.monkeycoder.monkeygame.c_DiddyData.m_DiddyData_new(MonkeyGame.java:8707)<br>E/AndroidRuntime( 4676):     at com.monkeycoder.monkeygame.c_DiddyApp.p_LoadDiddyData(MonkeyGame.java:3036)<br>E/AndroidRuntime( 4676):     at com.monkeycoder.monkeygame.c_MyGame.p_Create(MonkeyGame.java:3672)<br>E/AndroidRuntime( 4676):     at com.monkeycoder.monkeygame.c_DiddyApp.p_OnCreate(MonkeyGame.java:3187)<br>E/AndroidRuntime( 4676):     at com.monkeycoder.monkeygame.c_GameDelegate.StartGame(MonkeyGame.java:3705)<br>E/AndroidRuntime( 4676):     at com.monkeycoder.monkeygame.BBGame.StartGame(MonkeyGame.java:517)<br>E/AndroidRuntime( 4676):     at com.monkeycoder.monkeygame.BBAndroidGame.onDrawFrame(MonkeyGame.java:1306)<br>E/AndroidRuntime( 4676):     at android.opengl.GLSurfaceView$GLThread.guardedRun(GLSurfaceView.java:1516)<br>E/AndroidRuntime( 4676):     at android.opengl.GLSurfaceView$GLThread.run(GLSurfaceView.java:1240)<br>E/AppErrorDialog(14444): Failed to get ILowStorageHandle instance<br>E/JavaBinder(14444): !!! FAILED BINDER TRANSACTION !!!<br>E/JavaBinder(14444): !!! FAILED BINDER TRANSACTION !!!<br>E/FWKEXT  (14444): Enter GetCurrentOP<br>E/FWKEXT  (14444): Enter GetCurrentOP<br>E/FWKEXT  (14444): Enter GetCurrentOP<br>E/FWKEXT  (14444): Enter GetCurrentOP<br>E/FWKEXT  (14444): Enter GetCurrentOP<br>E/FWKEXT  (14444): Enter GetCurrentOP<br>E/InputDispatcher(14444): channel '43029200 com.monkeycoder.monkeygame/com.monkeycoder.monkeygame.MonkeyGame (server)' ~ Channel is unrecoverably broken and will be disposed!<br>E/hwcomposer_v1.0(  125): [WKR] Timed out waiting for FrameSyncThread...<br>E/ReaderDataProvider( 4585): In Query READER_LATESTBOOKPATH_ID!!!!!<br>E/        (14012): AudioCloseDumpPCMFile file== NULL<br>E/        (14012): AudioCloseDumpPCMFile file== NULL<br><br><br>Any help will be appreciated!<br>Thanks, <br><br></td></tr></table><br>
<a name="2079551"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I contacted the author via email but so far I haven't got a response,  <br></div><br>You only emailed me yesterday... I do have a life away from Monkey :/<br><br>As to your question, due to the way Monkey and DiddyData uses reflection it currently includes everything causes huge files and long compile times.<br><br>And with that error log, it looks like Monkey isn't converting something correctly in LoadXMLImages...  Is that just from the example file or your own code? <br><br></td></tr></table><br>
<a name="2079553"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GuShh</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi therevills,<br>Don't get me wrong I wasn't complaining for "lack of support" or anything like that, I just thought in the meantime someone else could chip in while I waited for your answer. I was just stating that I did contact you about it -- But maybe I should have phrased it differently :P<br><br>With both my code and the bare example I'm getting the same errors on all Android (4.2.2) devices I tested it with (4 in total now)<br><br>Is reflection absolutely required to use DiddyData just as a list for the media files? Should I be looking at some other alternative?<br><br>Thanks,<br>Gus <br><br></td></tr></table><br>
<a name="2079554"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry - woken up in a bad mood (got a headache...) :)<br><br>Any chance you can post your bare bones example? <br><br></td></tr></table><br>
<a name="2079560"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GuShh</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, it's the same one provided in diddy/examples/DiddyData/ <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
