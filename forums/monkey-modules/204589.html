<!DOCTYPE html><html lang="en" ><head ><title >Diddy - An Open Source Framework - Part 7</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Diddy - An Open Source Framework - Part 7</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=524" >User Modules</a>/<a href="#bottom" >Diddy - An Open Source Framework - Part 7</a><br><br>
<a name="2073641"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thread continued from <a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=3552" target="_blank">here</a>...<br><br><div class="quote"> An Open Source Framework that includes a set of extra functions and APIs for the Monkey language.<br><br><a href="http://code.google.com/p/diddy/" target="_blank">Diddy</a> includes the following modules:<br><br>* Easy to use Screen based framework<br>* Sprite class<br>* Resource managers for sounds and images<br>* A* Path finding<br>* XML parser<br>* Asserts<br>* Serialization<br>* Particles<br>* Collections <br>* Tweening<br>* GUI (Buttons, Sliders, Windows) <br>* Base64 encoding/decoding <br>* Tile Engine (Using the Tiled Map Editor)  <br></div><br><br><br>I have uploaded the final version of Diddy which will work on v66b to Google Code.<br><br>And I have started work on the changes required to get Diddy working with v67(a,b,c,d,e,f) ;)<br><br>The first major change for Diddy is that the global "game" variable has been renamed to "diddyGame" to avoid any future conflicts.<br><br><img src="https://diddy.googlecode.com/hg/utils/download_zip.jpg"> <br><br></td></tr></table><br>
<a name="2049628"></a>

<a name="2049629"></a>

<a name="2049631"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> My 3g quota thanks you for creating a new thread :-) <br><br></td></tr></table><br>
<a name="2049917"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Auburn</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> So moving my question to this thread as I still haven't found a fix.<br><br><div class="quote"> Auburn	(Posted 3 weeks ago) Edit #119<br>Hi, I am having a problem with the tiling engine in diddy; if i change a tile using any of the set methods it will update that information for collision detection, but it will not render the map with any changes, it just renders the original map that was loaded. When i check the tile data with get method it returns the tile it set previously.<br><br>Is this something I am doing wrong or is it a bug?<br><br>This is my code:<br>SetTile ( mouseX, mouseY, 2, layerName )<br><br>This is inside a method in my tilemap class.<br><br>Edit: I know it is updating the correct tile as collisions work on the updated tile. <br><br><br>Samah	(Posted 3 weeks ago) #120<br>Given that tile collision and image are on different layers, you need to update both of them. This is a side-effect of the fact that collision detection in the tile engine is a bit of a hack given that (last time I used it) Tiled does not initially support the concept of "collisions". They must be handled manually by the engine that reads the Tiled map files. <br><br>Auburn	(Posted 2 weeks ago) Edit #121<br>Ok, but how do I update the image for the map then?<br><br>I have spent a while looking through the tile module but could find nothing on updating the image from the map data. <br></div><br>Would really appreciate some guidance with this issue as I current using a simple rendering method I made, but it is only a temporary fix.<br><br>Summary: How do I update the rendered map image with any edits I made to the map data? <br><br></td></tr></table><br>
<a name="2049916"></a>

<a name="2049915"></a>

<a name="2049914"></a>

<a name="2050045"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Belimoth</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> The first major change for Diddy is that the global "game" variable has been renamed to "diddyGame" to avoid any future conflicts.  <br></div><br><br>Very glad to see this. <br><br></td></tr></table><br>
<a name="2050232"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rushino</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am glad also. +1 <br><br></td></tr></table><br>
<a name="2050305"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> HTML5, Android and Flash now fully work with Diddy using v67f. <br><br></td></tr></table><br>
<a name="2050316"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rushino</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks a lots therevills! <br><br></td></tr></table><br>
<a name="2050359"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> GLFW and XNA now works with v67f.<br><br>I've added the fixes to iOS, but cant test them at the moment. But I think they should work.<br><br>So I believe Diddy has been fully updated to v67 :) <br><br></td></tr></table><br>
<a name="2050368"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great stuff. <br><br></td></tr></table><br>
<a name="2050419"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looking forward to getting diddy to work. Have a bunch of projects I haven't been able to compile for many weeks now! Your work is greatly appreciated!<br><br>If you have this:[monkeycode]<br>Import diddy<br><br>Function Main:Int()<br>	Local game:MyGame = New MyGame()<br>End<br><br>Class MyGame Extends DiddyApp<br>	<br>End[/monkeycode]<br><br>I get the runtime error "cannot set Delegate of Undefined". It only seems to happen in diddy apps, but I could not figure out why, because the crash itself is from app.monkey row 103. <br><br>Maybe using Monkey or Mojo Commands before OnCreate?<br><br>I'm using the diddy verion found on bitbucket :) <br><br></td></tr></table><br>
<a name="2050418"></a>

<a name="2050417"></a>

<a name="2050416"></a>

<a name="2050415"></a>

<a name="2050414"></a>

<a name="2050421"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> have you deleted your build folder? <br><br></td></tr></table><br>
<a name="2050450"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Tibit - As Ziggy asked - "Have you deleted your build folder?"<br>Also the framework only needs to be initialised like this:<br><pre class=code>Import diddy

Function Main:Int()
	New MyGame()
	Return 0
End

Class MyGame Extends DiddyApp
</pre><br><br>@ALL - We have moved our main code base back to Google Code but this time we will be using Hg there. This means there is no need to maintain (take snapshots) between two sites. <br><br></td></tr></table><br>
<a name="2050447"></a>

<a name="2050468"></a>

<a name="2050469"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> No I haven't haha.<br><br>Thanks for reminding me! Works now:) <br><br></td></tr></table><br>
<a name="2051289"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zwer99</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the update, but Flash isn't working...<br><br><pre class=code>For obj = EachIn Self.updateList   'This line causes an error
	obj.Update()
Next</pre><br><br>updateList is an ArrayList&lt;OEObject&gt;<br><br>Error:<br><pre class=code>Monkey Runtime Error : TypeError: Error #1009</pre><br><br>I don't know if it's a diddy bug. Sorry if it isn't ;)<br><br>My Versions:<br> - diddy_v67<br> - MonkeyPro 68b<br> - Flex v4.9<br><br>And yep, I deleted my build-dir ;)<br><br>Zwer99 <br><br></td></tr></table><br>
<a name="2051254"></a>

<a name="2051255"></a>

<a name="2051332"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Strange... works fine here.<br><br>Can you try running this:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Strict

Import diddy
Import mojo

Function Main:Int()
	New Game()
	Return 0
End

Class Game Extends App
	Field boneMap:ArrayList&lt;SpriterBone&gt; = New ArrayList&lt;SpriterBone&gt;
	
	Method OnCreate:Int()
		SetUpdateRate(60)
		For Local i% = 0 To 9
			Local b:SpriterBone = New SpriterBone
			b.x = Rnd(0, 640)
			b.y = Rnd(0, 480)
			boneMap.Add(b)
		Next
		Return 0
	End
	
	Method OnUpdate:Int()
		Return 0
	End
		
	Method OnRender:Int()
		Cls
		Local obj:SpriterBone
		For obj = Eachin boneMap
			obj.Draw()
		End
		Return 0
	End
End

Class SpriterBone
	Field x:Float, y:Float
	
	Method Draw:Void()
		DrawOval x, y, 10, 10
	End
End</textarea> <br><br></td></tr></table><br>
<a name="2051384"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zwer99</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Got it! The problem was that I fill the "Self.updateList" on different places in the code depending on the used platform, because in Monkey 66b Flash executes Draw before Update and in HTML5 it executes Update before Draw. The objects to update and to draw are always the same. That's why I didn't want to fill the objects list twice.<br>To solve that, I used the pre-processor commands to get the used TARGET. But with Monkey 68b Flash ALSO executes Update before Draw - the result is that the objects list in Update is empty because I just fill it in Draw. Now I just deleted the target distinction.<br><br>Thank you so much for your help, therevills! <br><br></td></tr></table><br>
<a name="2051667"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >frank</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there any way to keep one sample (looped) playing across screens? So not stop/starting? <br><br></td></tr></table><br>
<a name="2051704"></a>

<a name="2051705"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Zwer99 - glad you figured it out, sounds pretty nasty!<br><br>@frank - how are you changing screens? <br><br></td></tr></table><br>
<a name="2051770"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >frank</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm using FadeToScreen(); so basically I want the same loop to play from intro screen, menu, all in between, help screens and the game itself. I know I can probably do that 'manually' by using LoadSound and some such, but is there a 'diddy way'?<br><br>Edit also some transparency code bug thing; in Flash it DOES continue playing with exactly the same code while in HTML5 it stops after every screen... <br><br></td></tr></table><br>
<a name="2051755"></a>

<a name="2051818"></a>

<a name="2051819"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Strange, works here. Open up the Music example (diddy/examples/Music/music.example), and comment out "diddyGame.MusicPlay("SplitInSynapse"+musicExt, 1)" in the GameScreen Start method.<br><br>When you run the app, you will hear the music on the Title Screen and it will continue playing when you click the mouse, if you click the mouse on the GameScreen the music will start again when the Title Screen is displayed. <br><br></td></tr></table><br>
<a name="2051822"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >frank</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmmm. Here it works with the same code only in flash but not html5... I ll make a little demo of that as well as it is the case always with looped play. <br><br></td></tr></table><br>
<a name="2051823"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >frank</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there somewhere I could reach you and others faster than here? I have a deadline tomorrow which needs to have this solved. Is there an IRC channel or something for monkey? <br><br></td></tr></table><br>
<a name="2051825"></a>

<a name="2051826"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Music and sound in Monkey in general is very dodgy to say the least due to different targets/browsers.<br><br>I live in Australia and I am currently at work so I wouldn't be available for contact... I do recall that some of the Monkey guys do hang around in an IRC channel: <a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=3762#40252" target="_blank">http://www.monkeycoder.co.nz/Community/posts.php?topic=3762#40252</a> <br><br></td></tr></table><br>
<a name="2051853"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> That entire network is pretty much on life support, and #monkey is empty as a ghost town :( <br><br></td></tr></table><br>
<a name="2052147"></a>

<a name="2052148"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> 2 days late but I'm on IRC most days just not in there 24/7 as I dont run a bnc/bot for when im offline.<br><br>Anyway on topic. Therevills, does diddy use that new async loading stuff to creating a loading screen and bar for diddy apps yet ? if not do you have any plans to implement it ?<br><br>Seem like it would make a really good addition to the framework.<br><br>OH yeah while I am here, your now using git will you maintain the google code svn or should I switch to using the new one. <br><br></td></tr></table><br>
<a name="2052168"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> does diddy use that new async loading stuff to creating a loading screen and bar for diddy apps yet ? if not do you have any plans to implement it ? <br></div><br>Nope it doesn't use the async loading "stuff"... I haven't looked at how it works, but we should have a loading screen. It shouldn't be too hard to do, even with the current code.<br><br><div class="quote"> OH yeah while I am here, your now using git will you maintain the google code svn or should I switch to using the new one.  <br></div><br>We aren't using GIT, we are using Mercurial (Hg). A few weeks ago we converted the Google Code SVN to Hg and this its the place you should use. <br><br></td></tr></table><br>
<a name="2052171"></a>

<a name="2052172"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah yeah my mistake, so <a href="http://code.google.com/p/diddy/" target="_blank">http://code.google.com/p/diddy/</a> is still the right place but it just uses Hg now yeah ?<br><br>cool.. I'm sure I just used svn to update from it like half an hour ago is that possible or did I just update something else lol <br><br></td></tr></table><br>
<a name="2052173"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am trying this.. can this not be done ? with svn I was only pulling down the diddy module and not all the other stuff. would like to do that again but it seems to not like it now.<br><br>hg clone --verbose -- <a href="https://code.google.com/p/diddy/hg/src/diddy" target="_blank">https://code.google.com/p/diddy/hg/src/diddy</a> D:\Code\MonkeyPro69\modules\diddy <br><br></td></tr></table><br>
<a name="2052177"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shinkiro1</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> try hg pull <br><br></td></tr></table><br>
<a name="2052179"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try: hg clone <a href="https://code.google.com/p/diddy/" target="_blank">https://code.google.com/p/diddy/</a> <br><br></td></tr></table><br>
<a name="2052181"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> clone does the full repo which has diddy in the src folder, I know its probably not a good idea but I have my local diddy repo in the modules folder so I normally just update it and go..<br><br>Looks like I will need to make a full clone and then copy paste the diddy folder into the modules folder.<br><br>kinda not used to hg, using the windows context menu controls, and its got clone in there but not pull. <br><br></td></tr></table><br>
<a name="2052182"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shinkiro1</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; kinda not used to hg, using the windows context menu controls, and its got clone in there but not pull.<br><br>Then use the command line. <br><br></td></tr></table><br>
<a name="2052183"></a>

<a name="2052185"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> Using TortoiseHg:<br><br>Right click on your folder and select TortoiseHg &gt; Clone<br><img src="https://dl.dropbox.com/u/35103024/diddy_setup/1.png"><br><br>Input the source as <a href="https://code.google.com/p/diddy/" target="_blank">https://code.google.com/p/diddy/</a> and click Clone<br><img src="https://dl.dropbox.com/u/35103024/diddy_setup/2.png"><br><br>Wait for the files to download...<br><img src="https://dl.dropbox.com/u/35103024/diddy_setup/3.png"> <br><br></td></tr></table><br>
<a name="2052190"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe use the new MODPATH stuff to point to your Diddy clone? <br><br></td></tr></table><br>
<a name="2052207"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> Therevills mate thanks for that, but I can already do that, as I pointed out before that will result in a full copy of everything, and not what I was trying to do.<br><br>What I was trying to do is simply have mercurial clone down the module diddy and module threading folder and not all the extra stuff that's in the repo, I can do this with Subversion easily by pointing the repo path at the trunk and appropriate folder, but Hg does not like it when you try this.<br><br>What made you move over anyway I'm not really experienced enough with VCS's to really know why Hg is better , for me Subversion has been really cool and I'v only used Hg for 1 other project, well now 2 with diddy. <br><br></td></tr></table><br>
<a name="2052259"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is your hard drive space at that much of a premium that you can't afford to get the whole repository? <br><br></td></tr></table><br>
<a name="2052291"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >frank</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> In HTML5 on touch devices (tried iPad and Samsung s2), without any resizing, game.mouseX gives me back the wrong coordinates (always off by 100 px or something) while TouchX / SCREENX_RATIO works fine. Is that normal? :) Seems the latter works on any device (including desktop) so i'm using that now only. <br><br></td></tr></table><br>
<a name="2052292"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Frank - Strange...<br><br>diddyGame.mouseX is just MouseX() / SCREENX_RATIO unless aspectRatio is switched on. And I thought MouseX was the same as TouchX.... <br><br></td></tr></table><br>
<a name="2052297"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >frank</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah that's what I thought... But i'm getting very different results and I didn't change anything in the Diddy code related to that. So not sure what's going on there. I'll debug a bit later to see where that difference comes from, but deadline to make :) You'll be happy to know Diddy played a very large part in the creation of a game for one of the biggest ZOOs in the Netherlands (links follow upon launch). <br><br></td></tr></table><br>
<a name="2052303"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rushino</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> externfunctions.monkey aren't compatible with Win8 target. <br><br></td></tr></table><br>
<a name="2052304"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I'll debug a bit later  <br></div><br>Me too when I get time, seems very strange.<br><br><div class="quote"> externfunctions.monkey aren't compatible with Win8 target.  <br></div><br>I added a native win 8 stub file the other day and compiled fine. <br><br></td></tr></table><br>
<a name="2052495"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just copied across (and slightly updated) the wiki pages from SVN to Hg:<br><br><a href="http://code.google.com/p/diddy/w/list" target="_blank">http://code.google.com/p/diddy/w/list</a> <br><br></td></tr></table><br>
<a name="2052562"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Redbeer</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you for putting the old information back up. :D <br><br></td></tr></table><br>
<a name="2053518"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >StoneFaceEXE</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> Excuse me, I just tried to work around the diddy's framework and when I try to compile framework.monkey.html example code I get and error <br>" Error : Identifier 'game' not found. " <br><br>I guess I'm doing something wrong.<br><br>I tried last diddy build and both 67f and 69 versions of monkey <br><br></td></tr></table><br>
<a name="2053517"></a>

<a name="2053515"></a>

<a name="2053516"></a>

<a name="2053514"></a>

<a name="2053513"></a>

<a name="2053528"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> you have an older version, update to the newest versions of diddy and monkey.<br><br>there was a conflict with a recent patch from monkey that used the variable game, and since diddy used to use it as well you get the error.<br><br>just update you will be fine. <br><br></td></tr></table><br>
<a name="2053538"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >StoneFaceEXE</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah I thought v67 was final version, it appears that v66 final is more final ) <br><br></td></tr></table><br>
<a name="2053547"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> @StoneFaceEXE - please used "diddyGame" now instead of "game". <br><br></td></tr></table><br>
<a name="2053549"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >StoneFaceEXE</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> You'll need to update .docs then ^_^ <br><br></td></tr></table><br>
<a name="2053551"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> Done :P <br><br></td></tr></table><br>
<a name="2053613"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ben</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> So I noticed a problem with your sprite drawing code.<br>[monkeycode]If x - offsetx + image.w &lt; 0 Or x - offsetx - image.w &gt;= SCREEN_WIDTH<br>   Or y - offsety + image.h &lt; 0 Or y - offsety - image.h &gt;= SCREEN_HEIGHT Then Return[/monkeycode]<br>The reason why this is an issue is because it doesn't account for rotation. So for example, if I rotate a sprite by 90 degrees and move it in from out of the screen, the object suddenly appears part of the way through which is not nice.<br><br>To expound upon that, since it does drawing based upon the width and if the width is less then the height then it waits to draw it. This could be a solution if you don't have anything more automated available. Basically integrate a way to do it manually.<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">If (drawBoundsW &lt;&gt; 0 And drawBoundsH &lt;&gt; 0) Then
   If x - offsetx + drawBoundsW &lt; 0 Or x - offsetx - drawBoundsW &gt;= SCREEN_WIDTH
      Or y - offsety + drawBoundsH &lt; 0 Or y - offsety - drawBoundsH &gt;= SCREEN_HEIGHT Then Return
Else
   If x - offsetx + image.w &lt; 0 Or x - offsetx - image.w &gt;= SCREEN_WIDTH
      Or y - offsety + image.h &lt; 0 Or y - offsety - image.h &gt;= SCREEN_HEIGHT Then Return
End</textarea> <br><br></td></tr></table><br>
<a name="2053612"></a>

<a name="2053611"></a>

<a name="2053610"></a>

<a name="2053609"></a>

<a name="2053608"></a>

<a name="2053607"></a>

<a name="2053606"></a>

<a name="2053605"></a>

<a name="2053706"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#51">[#51]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for that Ben - added a fix which will work for rotated and scaled sprites. <br><br></td></tr></table><br>
<a name="2054515"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >samowitsch</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#52">[#52]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, i am getting an error on Xcode with iOS Target (<a href="http://www.motions-media.de/wp-content/uploads/2013/04/diddy-seekMusic.png" target="_blank">Xcode Screenshot</a>). <br><br>Native function seekMusic?<br><br>html and glfw are working fine.<br><br>Regards<br>samowitsch <br><br></td></tr></table><br>
<a name="2054518"></a>

<a name="2054519"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#53">[#53]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Samowitch, thanks for that, could you please try changing the native function to the following and try again:<br><br><pre class=code>static int seekMusic(int timeMillis)
{
	if(bb_audio_device-&gt;musicPlayer)
	{
		bb_audio_device-&gt;musicPlayer.currentTime = timeMillis/1000.0;
	}
	// TODO: check it worked
	return 1;
}</pre><br><br>In otherwords change "music" to "musicPlayer". <br><br></td></tr></table><br>
<a name="2054536"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >samowitsch</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#54">[#54]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi therevills, this changes fix it. Thanks samowitsch <br><br></td></tr></table><br>
<a name="2054567"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#55">[#55]</a></td></tr></table></td></tr><tr ><td class="posttext"> Excellent, thanks for testing samowitsch, I've committed the fix to the repo. <br><br></td></tr></table><br>
<a name="2055966"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >frank</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#56">[#56]</a></td></tr></table></td></tr><tr ><td class="posttext"> Seems you are using GetColorPixel now, but in 70b this function seems to not exist? I cannot compile anymore after updating Diddy to the latest :) <br><br></td></tr></table><br>
<a name="2055980"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#57">[#57]</a></td></tr></table></td></tr><tr ><td class="posttext"> We've removed GetColorPixel as Mojo now has its own Pixel commands. Convert your code to use ReadPixels / WritePixels. <br><br></td></tr></table><br>
<a name="2055983"></a>

<a name="2055984"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >frank</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#58">[#58]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not using ReadPixels / WritePixels :) I just dropped the latest hg clone of diddy into modules of MonkeyPro70b, compiled and get the error that GetColorPixel cannot be found.<br><br>Edit: <a href="https://code.google.com/p/diddy/source/browse/src/diddy/functions.monkey#84" target="_blank">https://code.google.com/p/diddy/source/browse/src/diddy/functions.monkey#84</a> here it is, it fails to compile on that.<br><br>Edit: I'm actually unsure why it compiles that GetPixel; I grepped the entire tree for it and it's not used anywhere. Then it shouldn't compile it right?<br><br>Edit: Just to try I removed GetPixel from functions.monkey, then I get; <br><br>/Applications/MonkeyPro69/modules/diddy/sortutil.monkey&lt;48&gt; : Error : Objects can only be compared for equality.<br><br>Seems this change broke it, but then you should've seen that right? So what could be wrong on my side that I get errors? <br><br><a href="https://code.google.com/p/diddy/source/detail?spec=svndc906c28c1e011972f2cb1379509400dfac12096&amp;r=dc906c28c1e011972f2cb1379509400dfac12096" target="_blank">https://code.google.com/p/diddy/source/detail?spec=svndc906c28c1e011972f2cb1379509400dfac12096&amp;r=dc906c28c1e011972f2cb1379509400dfac12096</a> <br><br></td></tr></table><br>
<a name="2055981"></a>

<a name="2055982"></a>

<a name="2055986"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#59">[#59]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you using GetPixel or are you using reflection? I missed removing it due to Monkey's dead code stuff - thanks! <br><br></td></tr></table><br>
<a name="2055987"></a>

<a name="2055988"></a>

<a name="2055989"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >frank</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#60">[#60]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah. Reflection. That's it. <br><br>Any idea about the other issue? I'm kind of stuck on that one; because mojo&lt;&gt;diddy are so dependent I cannot get anything compiled :)<br><br>Edit: I mean diddy on mojo :) Not the other way around. The problem i'm having is that all worked fine for Monkey66 however, then Diddy misses some mojo things. For Monkey69 iOS is not reporting screen dimensions for me (works in 66); other targets work. So my 'lets compile on iOS' hour of work turns into days I guess... <br><br></td></tr></table><br>
<a name="2055990"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#61">[#61]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks like Samah changed quite a bit with the quick sort... I've told him about it and hes looking into it. <br><br></td></tr></table><br>
<a name="2055995"></a>

<a name="2055996"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#62">[#62]</a></td></tr></table></td></tr><tr ><td class="posttext"> Basically the change I made should have been fine as long as you didn't misuse the SortUtil class and try to mix primitive and Object comparisons.  Monkey's aggressive code stripping means that it would ignore it.  The problem is that when you have your REFLECTION_FILTER set to "*", it forces it to compile the invalid functions.<br><br>I've backed it out for now.  I'll bring it back in if and when Mark does something with trans that will let me compile the Object comparison.  Feel free to keep it if you're not using a REFLECTION_FILTER of "*".<br><br>Sorry. :( <br><br></td></tr></table><br>
<a name="2056002"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >frank</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#63">[#63]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm don't have my reflection filter to "*", but I did include diddy* in them because when I was playing around with GetClasses I noticed diddy adds Exceptions as reflected classes and they are gone if you add your own REFLECTION_FILTER on top. I will see if removing that resolves the issue :) <br><br>Thanks for the quick reaction and keep up the good work! Diddy is excellent! <br><br></td></tr></table><br>
<a name="2056007"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >frank</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#64">[#64]</a></td></tr></table></td></tr><tr ><td class="posttext"> Btw, please note this ; <a href="http://monkeycoder.co.nz/Community/posts.php?topic=5082" target="_blank">http://monkeycoder.co.nz/Community/posts.php?topic=5082</a> ; because Diddy updates SCREEN_WIDTH/HEIGHT on OnCreate and then later when you SetScreenSize, SCREEN_WIDTH(2)/HEIGHT(2) are wrong until you manually fix them by calling 			SetScreenSize(DeviceWidth(), DeviceHeight()) from (On)Update. All games I have using Diddy are broken on iOS now after compile. <br><br></td></tr></table><br>
<a name="2056066"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#65">[#65]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah seen that, its a Monkey/Mojo issue and Mike thinks its already been fixed so I'm reluctant to add a "fix" to Diddy. <br><br></td></tr></table><br>
<a name="2056077"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >frank</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#66">[#66]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah I wouldn't do that because I do believe it's a bug. <br><br>I noticed as well that if reflection filter is set to * or diddy* that iOS builds crash immediately. No idea why and it's probably not a good idea anyway, but I thought I would just say it here if someone else runs into this issue. <br><br></td></tr></table><br>
<a name="2056492"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raph</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#67">[#67]</a></td></tr></table></td></tr><tr ><td class="posttext"> I see a 4/14 RAR up for download, but don't know what version of Monkey it is compatible with. The other ZIP files all say what version of Monkey are are compatible with. I read through the threads here but didn't find this info. Anyone know? <br><br></td></tr></table><br>
<a name="2056496"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#68">[#68]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Raph, Diddy is designed to work with the latest version of Monkey. We only added the Monkey versions to the previous downloads as there was a major change to Monkey. <br><br></td></tr></table><br>
<a name="2057071"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amon</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#69">[#69]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi! Mark made a post here regarding a few errors I was having with Win8.<br><br><a href="http://www.monkeycoder.co.nz/Community/post.php?topic=5149&amp;post=57068" target="_blank">http://www.monkeycoder.co.nz/Community/post.php?topic=5149&amp;post=57068</a><br><br>I'm using the latest version of diddy and it seems not to follow marks recommendation as it still causes errors for me when I exit my app. <br><br>Can someone have a look in to this?<br><br>Ta! <br><br></td></tr></table><br>
<a name="2057079"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#70">[#70]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmmmm....<br><br>So when ExitScreen is called for Win8 we need to call OnBack with EndApp...<br><br>Currently ExitScreen looks like this:<br>[edit - removed code]<br><br>Amon, could you try changing it to look like this:<br>[edit - removed code] <br><br></td></tr></table><br>
<a name="2057072"></a>

<a name="2057073"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amon</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#71">[#71]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've modified it to what you've posted but I still get the same errors exiting the app.<br><br>I'll double check everything is modified properly, it should be. <br><br></td></tr></table><br>
<a name="2057078"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#72">[#72]</a></td></tr></table></td></tr><tr ><td class="posttext"> Please try:<br>[edit - removed code]<br><br>It shouldnt quit, but you should get a trace statement saying "WIN8 quitting!". <br><br></td></tr></table><br>
<a name="2057074"></a>

<a name="2057075"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amon</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#73">[#73]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, it didn't say Win8 quitting, instead I got a a screen that changed colour 3-4 times a second. <br><br>No errors though! <br><br></td></tr></table><br>
<a name="2057077"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#74">[#74]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay... looks like we are going to have to set a flag in the main DiddyApp.<br><br>I've just pushed a change which I hope will help - tested on HTML5 and it works, so if you could test Amon that would be great :) <br><br></td></tr></table><br>
<a name="2057350"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#75">[#75]</a></td></tr></table></td></tr><tr ><td class="posttext"> The Win8 changes worked fine, once I managed to enter in the bloody license key for VS2013!!<br><br>And I've just pushed a couple of new commands for GLFW (Win Only): SaveFileName:String() and OpenFileName:String()<br><br>They open a native file requester dialog. <br><br></td></tr></table><br>
<a name="2057901"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#76">[#76]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi guys, just wanted to say I found it useful to add a simple OK/Cancel dialog to diddy.externfunctions.  I won't bother with the code as it is basically a clone of ShowAlertDialog only with no text input.  It sets an integer value in diddy when a button is clicked, same concept as the current inputString.  When the value changes from 0, one of the buttons has been clicked.  I use it for ExitApp-&gt;Are you sure? messages on Android.<br><br>Just thought I would mention it as such a dialog without the extraneous text input option might be useful for diddy users in general. <br><br></td></tr></table><br>
<a name="2058598"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zwer99</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#77">[#77]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey guys!<br><br>I just implemented the particle engine successfully, but I had problems with the tilemap scrolling in my game. I had to change the particleSystem.Render() to:<br><pre class=code>	Method Render:Void(scrollX:Float, scrollY:Float)
		Local rgb:Float[] = GetColor()
		Local alpha:Float = GetAlpha()
		For Local i:Int = 0 Until groups.Size
			<b>groups.Get(i).Render(scrollX, scrollY)</b>
		Next
		SetAlpha(alpha)
		SetColor(rgb[0], rgb[1], rgb[2])
	End</pre><br><br>And the particleGroup.Render() to:<br><pre class=code>	Method Render:Void(scrollX:Float, scrollY:Float)
		For Local i:Int = 0 Until aliveParticles
			Local index:Int = alivePointers[i]
			SetColor(red[index], green[index], blue[index])
			SetAlpha(alpha[index])
			
			' scale should never be &lt;=0, so we'll fix it here
			If scale[index] &lt;= 0 Then scale[index] = 1
			
			If particleImage[index] &lt;&gt; Null Then
				If scale[index] &lt;&gt; 1 Or rotation[index] &lt;&gt; 0 Then
					<b>DrawImage(particleImage[index], x[index] - scrollX, y[index] - scrollY,
					rotation[index] * R2D, scale[index], scale[index])</b>
				Else
					<b>DrawImage(particleImage[index], x[index] - scrollX, y[index] - scrollY)</b>
				End
			Else
				If scale[index] &lt;&gt; 1 Or rotation[index] &lt;&gt; 0 Then
					PushMatrix
					<b>Translate(x[index] - 1 - scrollX, y[index] - 1 - scrollY)</b>
					If scale[index] &lt;&gt; 1 Then Scale(scale[index], scale[index])
					If rotation[index] &lt;&gt; 0 Then Rotate(rotation[index] * R2D)
					DrawRect(0, 0, 3, 3)
					PopMatrix
				Else
					<b>DrawRect(x[index] - 1 - scrollX, y[index] - 1 - scrollY, 3, 3)</b>
				End
			End
		Next
	End</pre><br><br>to render the particles on the right position.<br>Didn't you mention scrolling in your implementation, or is there another solution I didn't see? It would be nice, if you could add it in one of your further Releases :)<br><br>Thank you and have a nice day, Zwer99 <br><br></td></tr></table><br>
<a name="2058654"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#78">[#78]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Gerry - Do you have a cross-platform solution or is it just for Android?<br><br>@Zwer99 - Thanks for that, I've just committed your changes, with a slight difference that the scroll parameters are defaulted to zero (for backwards compatibility). <br><br></td></tr></table><br>
<a name="2058721"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#79">[#79]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just Android.  I don't even know the Android OS, so what I have is a near clone of your original ShowAlertDialog.  Here is what I added to diddy.android.java:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
	public static AlertDialog.Builder dlg;	 			// my dialog
	public static int dlgResult = 0;   	  	 			// and its output

	// My dialog
	static void showOkCancelDialog( String title, String message )
	{
		dlg = new AlertDialog.Builder(BBAndroidGame._androidGame._activity);
		dlg.setTitle( title );
		dlg.setMessage( message );
		dlgResult = 0;
		dlg.setPositiveButton( "Ok", new DialogInterface.OnClickListener() {
			public void onClick( DialogInterface dialog, int whichButton ) {
				dlgResult = 1;
			}
		});
		
		dlg.setNegativeButton( "Cancel", new DialogInterface.OnClickListener() { 
			public void onClick( DialogInterface dialog, int whichButton ) {  
				dlgResult = 2;
			}
		});
		
		dlg.show();
	}		
	
	// And its output
	static int getDialogResult()
	{
	    return dlgResult;
	}

</textarea><br><br>I would expect the same would be easy to implement on any target, though, as really all I am doing is removing the text input option.  You could even make it an option on ShowAlertDialog, and have it return an appropriate string in ShowMessageString.<br><br>An indefinite number of named option buttons would be a potentially useful alternative too, though that runs into layout issues if there are more than a few. <br><br></td></tr></table><br>
<a name="2058720"></a>

<a name="2060075"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amon</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#80">[#80]</a></td></tr></table></td></tr><tr ><td class="posttext"> There's a bug, and a pretty nasty one in Diddy when navigating screens.<br><br><pre class=code>
	Method Create:Void()
		LoadImages()
		titleScreen = New TitleScreen
		gameScreen = new GameScreen
		Start(gameScreen)
	End
</pre><br><br>Running the standard Framework example will show you what I mean but first you have to modify it so that when the app starts it starts with the gameScreen. When the App is started press escape or back button and you'll see it will crash.<br><br>The console shows that when you try to go back to the 'titleScreen' it tries to find a screen named "TITLE" but the stock Framework has the titleScreen name as "Title".<br><br>Somewhere, too tired to sift through the diddy source, there may be a hard-coded 'name' value for the titleScreen... That's my guess anyway... <br><br></td></tr></table><br>
<a name="2060073"></a>

<a name="2060074"></a>

<a name="2060081"></a>

<a name="2060082"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#81">[#81]</a></td></tr></table></td></tr><tr ><td class="posttext"> Within the framework example the Gamescreen class has the backScreenName set to "Title", which is automatically converted to uppercase.<br><br>Currently the screens has to be run in order i.e. TitleScreen then GameScreen. We did it this way so we didn't break anyone's code.<br><br>To go from GameScreen to Titlescreen you need to add TitleScreen to the DiddyGame Screens StringMap:<br><br><pre class=code>Class TitleScreen Extends Screen
	Method New()
		name = "Title"
		backScreenName = "exit"
		diddyGame.screens.Set(name, Self)
	End</pre> <br><br></td></tr></table><br>
<a name="2060077"></a>

<a name="2060078"></a>

<a name="2060583"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amon</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#82">[#82]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi therevills,<br><br>I know it's been a while and I've not updated you regarding the crashing on exit on the Win8 target, I gave up to be honest. Not your fault but mine. I would appreciate it if we could revisit the problem as even with the latest version of Monkey and the latest HG clone of the Diddy framework I still get a crash when exiting a Win8 app when the app is using the Diddy Framework. <br><br></td></tr></table><br>
<a name="2060584"></a>

<a name="2060585"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#83">[#83]</a></td></tr></table></td></tr><tr ><td class="posttext"> What type of crash are you getting now?<br><br>If its this one: <a href="http://www.monkeycoder.co.nz/Community/post.php?topic=5417&amp;post=60496" target="_blank">http://www.monkeycoder.co.nz/Community/post.php?topic=5417&amp;post=60496</a><br><br>Its a Monkey issue not Diddy. <br><br></td></tr></table><br>
<a name="2060586"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amon</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#84">[#84]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh! What in Monkey is causing this? Is Mark the only one that can fix it? <br><br></td></tr></table><br>
<a name="2060698"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#85">[#85]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've just committed a change for Win8. Now if your application calls ExitApp() or a screen calls ExitScreen, Diddy will no longer attempt to quit the Win8 application. <br><br></td></tr></table><br>
<a name="2061545"></a>

<a name="2061546"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#86">[#86]</a></td></tr></table></td></tr><tr ><td class="posttext"> Simple Loading Screen added, please refer to example: <a href="http://code.google.com/p/diddy/source/browse/examples/LoadingScreen/loading.monkey" target="_blank">http://code.google.com/p/diddy/source/browse/examples/LoadingScreen/loading.monkey</a><br><br><pre class=code>' inits the loadingscreen graphics and steps
' params:
' 1: image which will be displayed in the center of the screen
' 2: full loading bar image
' 3: empty loading bar image
' 4: number of resources (steps)
' 5: X position of the loading bar (optional, if not supplied or -1 it will be centered)
' 6: Y position of the loading bar (optional, if not supplied or -1 it will be centered)

diddyGame.loadingScreen.Init("graphics/loadingScreen.png", "graphics/loadingbar.png", "graphics/loadingbarempty.png", 4, -1, 400)
diddyGame.loadingScreen.destination = gameScreen		
Start(diddyGame.loadingScreen)
</pre><br><br>Let me know how it works for your projects. <br><br></td></tr></table><br>
<a name="2062422"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zoqfotpik</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#87">[#87]</a></td></tr></table></td></tr><tr ><td class="posttext"> Reposted by suggestion from Taiphoz...<br><br>Diddy guys, is there a canonical way to override the Diddy fadetoscreen to allow somewhat more complex fade actions? I would like to add a little bit of pizazz there.<br><br>If this is not easy, I could just do my fancy wipe manually and then fadetoscreen with a duration of 0. <br><br></td></tr></table><br>
<a name="2062433"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#88">[#88]</a></td></tr></table></td></tr><tr ><td class="posttext"> FadeToScreen is a convenience method to move between screens, it basically wraps the screenFade actions.<br><br>If you want to create your own, just make sure that you call diddyGame.currentScreen.PostFadeOut() when leaving the current screen and <br>diddyGame.currentScreen.PostFadeIn() when entering the next screen. <br><br></td></tr></table><br>
<a name="2062439"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zoqfotpik</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#89">[#89]</a></td></tr></table></td></tr><tr ><td class="posttext"> I see.<br><br>You really do have a ton of stuff in that framework, you should be proud of it. <br><br></td></tr></table><br>
<a name="2062441"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#90">[#90]</a></td></tr></table></td></tr><tr ><td class="posttext"> So basically, do our fade routine, then let diddy know that weve faded out the current screen, do our fade in and then let diddy know we have faded in.<br><br>I'm wondering what if we need to render the screen in full so that we can do something to it, lets say for example I want to do one of those explosion style fades where the screen blasts into little squares or pixels, and then the fade in would be little squares or pixels coming together. <br><br></td></tr></table><br>
<a name="2062443"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zoqfotpik</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#91">[#91]</a></td></tr></table></td></tr><tr ><td class="posttext"> It would be really nice to be able to override the fade function.  The other way works just as well too, I am just going to do something at the same time as the screen fades to black.<br><br>I am all about low hanging fruit. The fact is, what the vast majority of us make is borderline or outright shovelware  (I certainly do) and if one thing is hard you are probably doing the wrong thing. <br><br></td></tr></table><br>
<a name="2062687"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#92">[#92]</a></td></tr></table></td></tr><tr ><td class="posttext"> I could probably put something in where you customise/extend your own "Fader" instance, which defaults to "boring linear". <br><br></td></tr></table><br>
<a name="2062711"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zoqfotpik</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#93">[#93]</a></td></tr></table></td></tr><tr ><td class="posttext"> It would be nice to see that.  Seems like fades are widely used and nice looking for graphical juiciness. <br><br></td></tr></table><br>
<a name="2062710"></a>

<a name="2062725"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#94">[#94]</a></td></tr></table></td></tr><tr ><td class="posttext"> Samah how about putting the current fade code out into a single file call it fade, and then give the user the option to set the name/style of the transition to use, if we say for example diddyGame.setFadeStyle(Fade) it would then use the update/render from fade.monkey<br><br>Would allow people to use the current fade.monkey as a temaplte and simple code their own update and render, would make it possibly to have tons of themed/styled/transitions in a folder that the user could pick from.<br><br>might be a bit of work but worth an bash. <br><br></td></tr></table><br>
<a name="2062724"></a>

<a name="2062726"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#95">[#95]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why another file?  You want to use it for non Diddy-framework stuff?  I s'pose...<br>It'll have to wait for a bit though.  I'm flying to Melbourne tomorrow in preparation for PAX. :D <br><br></td></tr></table><br>
<a name="2062734"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#96">[#96]</a></td></tr></table></td></tr><tr ><td class="posttext"> if the transision template part, not the whole fadeclass class, but rather an extended class used to create a fade style.<br><br>so for example I might take the template default fade.monkey file, copy it, call it slidein.monkey and edit its extended update/render methods to slide something in over the screen and then out again.<br><br>I could then share that slide.monkey file with other diddy users, they drop it into their transitions folder and can / could then easily use it in their own diddy projects.<br><br>there is probably a lot simpler way of doing this if you make transitions using lua or xml but I think giving people the freedom to code their own via a simple setup like that might be better.<br><br>not to mention people could post their transition code here and if you like it you could add it to the repo..<br><br>just a though tho, not sure if im making what im thinking about clear I tend to muddle my words some times. <br><br></td></tr></table><br>
<a name="2062737"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zoqfotpik</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#97">[#97]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tend to agree.  I am sure whatever method is used will be fairly easy whether it's extend or a separate file. <br><br></td></tr></table><br>
<a name="2062743"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amon</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#98">[#98]</a></td></tr></table></td></tr><tr ><td class="posttext"> I like Taiphoz's idea. <br><br></td></tr></table><br>
<a name="2062749"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zoqfotpik</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#99">[#99]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe we could come up with a library of fades.  There are quite a number that I would like to do and that sort of graphics programming is a nice break. <br><br></td></tr></table><br>
<a name="2062775"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#100">[#100]</a></td></tr></table></td></tr><tr ><td class="posttext"> Coding Diddy on the plane to Melbourne. Dedication. :) <br><br></td></tr></table><br>
<a name="2062779"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zoqfotpik</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#101">[#101]</a></td></tr></table></td></tr><tr ><td class="posttext"> It would also be interesting if we could use faders for different purposes in the framework, like fading a sprite.<br><br>Also taking a screenshot of the current screen, plonking in the new screen beneath it and using a fade to blend between the old screenshot and the new screen.  If that makes sense. <br><br></td></tr></table><br>
<a name="2062780"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#102">[#102]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Dedication. :)  <br></div><br>LOL! It's dedication when works rings you when you are on leave and you answer!!<br><br><div class="quote"> like fading a sprite. <br></div><br>Do you mean alpha fade? You can do that already... or do you mean fading it to black? Again you can do that too (change the colour slowly to 0,0,0 via SetColor).<br><br><div class="quote"> Also taking a screenshot of the current screen, plonking in the new screen beneath it and using a fade to blend between the old screenshot and the new screen. If that makes sense.  <br></div><br>I think you mean a crossfade effect, that would be nice... but the "taking a screenshot" would be slow! Unless we just keep drawing the first screen and draw the new screen on top by slowly fading it in. <br><br></td></tr></table><br>
<a name="2062791"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zoqfotpik</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#103">[#103]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Do you mean alpha fade? You can do that already... or do you mean fading it to black? Again you can do that too (change the colour slowly to 0,0,0 via SetColor).<br> <br></div><br>I mean using one of these "fader" algorithms we are talking about to fade out a sprite instead of fading a screen to black.<br><br><div class="quote"> Unless we just keep drawing the first screen and draw the new screen on top by slowly fading it in.  <br></div><br>That would be a good idea and would not necessarily have to be slow-- the new screen might be an "in between levels" screen that would not necessarily have much graphics.<br><br>Did you see the "juice" presentation?<br><br><a href="http://www.youtube.com/watch?v=Fy0aCDmgnxg" target="_blank">http://www.youtube.com/watch?v=Fy0aCDmgnxg</a><br><br>On another note, can you explain exactly why taking screenshots is so slow?  It seems to be slow on every platform, even PC, and I never understood that. <br><br></td></tr></table><br>
<a name="2062790"></a>

<a name="2062805"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CGV</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#104">[#104]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry to change topics but how do you use Diddy's SimpleButtons with touch events?<br><br>There doesn't seem to be any code in the SimpleButton class to handle that.<br><br>If I have to manually determine it with a RectsOverlap function that's fine but how do I get the button to respond? <br><br></td></tr></table><br>
<a name="2062814"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#105">[#105]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  can you explain exactly why taking screenshots is so slow? <br></div><br>Because (in Monkey at least) you have to save each pixel... and then redraw it back on the screen.<br><br><br><div class="quote"> There doesn't seem to be any code in the SimpleButton class to handle that. <br></div><br>A button has to be assigned to a menu, have a look at the SimpleGUI example: <a href="http://code.google.com/p/diddy/source/browse/examples/SimpleGUI/testSimpleGUI.monkey" target="_blank">http://code.google.com/p/diddy/source/browse/examples/SimpleGUI/testSimpleGUI.monkey</a> <br><br></td></tr></table><br>
<a name="2062819"></a>

<a name="2062823"></a>

<a name="2062825"></a>

<a name="2062826"></a>

<a name="2062827"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CGV</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#106">[#106]</a></td></tr></table></td></tr><tr ><td class="posttext"> Silly me, it turned out it was working but I had useVirtualRes set to false so it was throwing off the coords.<br><br>On an unrelated note; is it possible to grab the button images from an atlas? When I tried it it didn't work. <br><br></td></tr></table><br>
<a name="2062816"></a>

<a name="2062815"></a>

<a name="2062861"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#107">[#107]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> is it possible to grab the button images from an atlas <br></div><br>Not out of the box, no.<br><br>What you could do is load an atlas image at the start of the app, then grab the images separately and add it to the image bank. Then create your menu and add the buttons with a temp image and replace the button image with the one stored in the image bank...<br><br>How did you try? <br><br></td></tr></table><br>
<a name="2062893"></a>

<a name="2062898"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CGV</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#108">[#108]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> How did you try? <br></div><br>the standard way:<br><pre class=code>...AddButton(diddyGame.images.Find("button.png"), diddyGame.images.Find("buttonMO.png"), "button1")</pre>but of course I got the "can't find overloaded function error".<br><br><br><div class="quote"> What you could do is load an atlas image at the start of the app, then grab the images separately and add it to the image bank. Then create your menu and add the buttons with a temp image and replace the button image with the one stored in the image bank... <br></div><br>LOL, I think I'll just not include the button images in the atlas. <br><br></td></tr></table><br>
<a name="2062903"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#109">[#109]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> but of course I got the "can't find overloaded function error". <br></div><br>I'll add an overload tonight... looks like a nice simple solution - sometimes I over think too much ;)<br><br><div class="quote"> LOL, I think I'll just not include the button images in the atlas.  <br></div><br>Well it would have worked... but yeah a bit over the top eh!? :P <br><br></td></tr></table><br>
<a name="2062913"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#110">[#110]</a></td></tr></table></td></tr><tr ><td class="posttext"> Committed the change for the override for SimpleButton to accept GameImages. <br><br></td></tr></table><br>
<a name="2062982"></a>

<a name="2062983"></a>

<a name="2062984"></a>

<a name="2062990"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CGV</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#111">[#111]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for taking the time for this therevills but are you sure you committed the changes?<br><br>TortoiseHG is telling me there are no changes and I even created a new directory and cloned it anew and no changes there either.<br><br>I'm still getting the overloaded function error.<br><br><br>EDIT: I was able to get the changes off of google code. It works great, thanks. <br><br></td></tr></table><br>
<a name="2062975"></a>

<a name="2062981"></a>

<a name="2064040"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Whiteball</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#112">[#112]</a></td></tr></table></td></tr><tr ><td class="posttext"> Been using diddy for my tilemap needs and its been a great help so far so big thanks to all involved.<br><br>I've currently hit a bit of a problem where I'm trying to replace a tile in the tilemap with a different one.<br>I'm using:<br><pre class=code>gameScreen.tilemap.SetTile(xx, yy, 4, "Foreground Layer")	</pre>to change from tile id 24 to id 4, but it doesnt update the visual aspect of the tile as the old one remains.<br><br>If I then use something like:<br><pre class=code>If gameScreen.tilemap.CollisionTile(xx, yy, "Foreground Layer") = 24 Then</pre>This doesnt trigger as the tile is indeed changed to '4' as set previous. It only appears to change the underlying tile id and not the visual tile displayed.<br><br>Am I doing something wrong here? <br><br></td></tr></table><br>
<a name="2064107"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#113">[#113]</a></td></tr></table></td></tr><tr ><td class="posttext"> The Tile system is pretty complex, glad Samah wrote it ;)<br><br>Could you try this:<br><pre class=code>' find the layer
Local layer:TileMapTileLayer = FindLayerByName(layerName)
' get the TileMapCell
Local tmc:TileMapCell = layer.mapData.GetCell(xx, yy)
' set the image frame
tmc.gid = 4</pre> <br><br></td></tr></table><br>
<a name="2064161"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Whiteball</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#114">[#114]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks therevills, I've got it working now using your info plus a little trial and error.<br><br>I had to convert my x,y to tile co-ords because the GetCell one doesn't do that like the SetTile one does.<br>I also had to then use SetTile afterwards as well to set the underlying tile type otherwise I had the reverse of my original problem.<br><br>All working now, but I'm not sure that is how it was meant to be??<br><pre class=code>
Method ChangeTile(layerName:String, x:Int, y:Int, gid:Int)
  Local layer:TileMapTileLayer = tilemap.FindLayerByName(layerName)
  ' get the TileMapCell
  Local xx:Int = (Floor(x / gameScreen.tilemap.tileWidth))
  Local yy:Int = (Floor(y / gameScreen.tilemap.tileHeight))
  Local tmc:TileMapCell = layer.mapData.GetCell(Floor(xx), Floor(yy))
  ' set the image frame
  tmc.gid = gid
  gameScreen.tilemap.SetTile(x, y, 4, layerName)
End Method
</pre><br><br>Thanks again. <br><br></td></tr></table><br>
<a name="2064160"></a>

<a name="2064158"></a>

<a name="2064159"></a>

<a name="2064157"></a>

<a name="2064175"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#115">[#115]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there a way to make the autofit implementation diddy uses not keep aspect ratio ? for example if I want to make sure the game takes up 100% of the screen and not use black borders? <br><br></td></tr></table><br>
<a name="2064180"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#116">[#116]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Whiteball - I'll add a convenience method, one which sets the image frame and the tile type too - as the SetTile is useful on its own.<br>Edit: Added: <br><pre class=code>tilemap.ChangeTile(diddyGame.mouseX + offsetX, diddyGame.mouseY + offsetY, 4, "Tile Layer 1")</pre><br><br>@Taiphoz, yep when you call "SetScreenSize", there is a 3rd parameter "useAspectRatio" which is defaulted to False, so you must be setting it to True ;) <br><br></td></tr></table><br>
<a name="2064179"></a>

<a name="2064201"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#117">[#117]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah didn't even notice that. <br><br></td></tr></table><br>
<a name="2064210"></a>

<a name="2064211"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Whiteball</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#118">[#118]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks again therevills, thats excellent. I'm off to do some more Monkeying around now... <br><br></td></tr></table><br>
<a name="2065213"></a>

<a name="2065214"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#119">[#119]</a></td></tr></table></td></tr><tr ><td class="posttext"> Having some problems with some code at the moment, dont have an example but the offending error presents this<br><br><pre class=code>
Loading configuration file C:\monkey_sdks\flex_sdk_4.6\frameworks\flex-config.xml
D:\Source\Monkey\StickRun\stickrun.build\flash\MonkeyGame.as(1938): col: 60
Error: Implicit coercion of a value of type Boolean to an unrelated type int.

chan.channel = chan.sample.sound.play(timeMillis, chan.loops, chan.transform);
</pre><br><br>Checking the source and eventually opening the file in flashdev I realized that it was in fact this diddy function that was causing the problem, when I comment out the offendng line my code builds and runs, with the line in I get the above error.<br><br><pre class=code>
static public function seekMusic(timeMillis:int):int {
if(bb_audio_device) {
	var chan:gxtkChannel = bb_audio_device.channels[32];
	if(chan.channel) {
		chan.channel.stop();
		chan.channel = chan.sample.sound.play(timeMillis, chan.loops, chan.transform);
		}
	}
	// TODO: check it worked
	return 1;
}
</pre> <br><br></td></tr></table><br>
<a name="2065238"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#120">[#120]</a></td></tr></table></td></tr><tr ><td class="posttext"> You haven't updated to the latest version. The new version changes "chan.loops" parameter to a "0":<br><a href="http://code.google.com/p/diddy/source/detail?r=dee646d62d6bfd90480dda3f6cc49dd6a2578b17" target="_blank">http://code.google.com/p/diddy/source/detail?r=dee646d62d6bfd90480dda3f6cc49dd6a2578b17</a> <br><br></td></tr></table><br>
<a name="2065247"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#121">[#121]</a></td></tr></table></td></tr><tr ><td class="posttext"> yeah just read your other post, sorry about that, not sure how my version went of of sync, fixing it now. <br><br></td></tr></table><br>
<a name="2065277"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arabia</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#122">[#122]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just downloaded Diddy and trying to get one of the examples (aspectTest) to work, and I get an error while compiling for Android:<br><br>BUILD FAILED<br>C:\diddy\diddyhg\examples\VirtualRes\aspectTest.build\android\build.xml:83: Cannot find C:\adt\android-sdk-windows\tools\ant\build.xml imported from C:\diddy\diddyhg\examples\VirtualRes\aspectTest.build\android\build.xml<br><br>Total time: 1 second<br>TRANS FAILED: Android build failed.<br><br><br>I've obviously done something wrong?  Any idea what it is?  Going by this error message, I am missing something that I should have downloaded for the Android SDK. <br><br></td></tr></table><br>
<a name="2065278"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#123">[#123]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks like you haven't set up Monkey to use Android... <br><br></td></tr></table><br>
<a name="2065318"></a>

<a name="2065319"></a>

<a name="2065320"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arabia</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#124">[#124]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Looks like you haven't set up Monkey to use Android...  <br></div><br><br>Yep, no idea what I've done wrong.  Got it set up fine on my Desktop, and tried putting it on the laptop a week later and can't get it working.<br><br>Double &amp; triple checked the paths in the config.winnt.txt files, Android shows up in JungleIDE as a target.  <br><br>In Android SDK Manager I have installed:<br> Tools - Android SDK Tools, SDK Platform-Tools, Build-Tools<br><br>Android 4.3 (API 18) SDK Platform &amp; ARM EABI V7a only<br><br>Android 3.2 (API 13) All items<br><br>Android Repository SDK Platform 3.2 &amp; Samples for SDK API 13 Installed<br><br>Android System Images<br><br>Google Inc - Google API's Google TV Addon, Google USB Driver installed<br><br><br>Don't have access to my desktop PC atm, I'm positive that is all I have installed on it.  Off my Android SDK directory (C:\adt\android-sdk-windows\ I however do not have a Tools directory that the compiler is looking for and throwing up the error.<br><br>No idea what I've done wrong, might have to wait until I get home tomorrow to work out whats going on.<br><br><b>EDIT:</b> All fixed, had the path wrong even though I thought if it wasn't right Android wouldn't show up as a target.<br><br>Now to have a look at some of the examples, stand by for lots of stupid questions :) <br><br></td></tr></table><br>
<a name="2065324"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arabia</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#125">[#125]</a></td></tr></table></td></tr><tr ><td class="posttext"> Still getting an error on the aspectTest example:<br><br>BUILD FAILED<br>C:\adt\android-sdk-windows\sdk\tools\ant\build.xml:712: The following error occurred while executing this line:<br>C:\adt\android-sdk-windows\sdk\tools\ant\build.xml:726: Compile failed; see the compiler error output for details.<br><br>Total time: 3 seconds<br>TRANS FAILED: Android build failed.<br>Abnormal program termination. Exit code: -1<br><br>But all other examples seem to be working now <br><br></td></tr></table><br>
<a name="2065325"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#126">[#126]</a></td></tr></table></td></tr><tr ><td class="posttext"> Tried deleting your build folder? <br><br></td></tr></table><br>
<a name="2065414"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raul</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#127">[#127]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey, just wanted to ask:<br>the last version of diddy is from april as I can see here: <a href="https://code.google.com/p/diddy/downloads/list" target="_blank">https://code.google.com/p/diddy/downloads/list</a><br><br>I am using it and now I am updading my Monkey to 73. I wanted to download your last module version. I still that one? <br><br></td></tr></table><br>
<a name="2065421"></a>

<a name="2065422"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#128">[#128]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm using v73b and updated from the diddy repo a few days ago and everything seemed to work fine.<br><br>I was only using the xml parser though so not sure if there are issues elsewhere, but I was getting music/sound related errors until I updated. <br><br></td></tr></table><br>
<a name="2065428"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#129">[#129]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Raul - Google code is stopping the download section shortly, please use Hg to get the latest code from the repo itself. <br><br></td></tr></table><br>
<a name="2065430"></a>

<a name="2065431"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#130">[#130]</a></td></tr></table></td></tr><tr ><td class="posttext"> Raul, I've put a .rar of the latest repo version on my DropBox for you to save the hassle of Hg in case you don't use it.<br><br><a href="https://dl.dropboxusercontent.com/u/26955697/diddy.rar" target="_blank">https://dl.dropboxusercontent.com/u/26955697/diddy.rar</a><br><br>Extract it to your modules directory. <br><br></td></tr></table><br>
<a name="2065437"></a>

<a name="2065438"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#131">[#131]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just found out that GoogleCode was updated to generate zips from the source code (like bitbucket and GitHub).<br><br>To get the latest version:<br>* Navigate to <a href="https://code.google.com/p/diddy/source/browse/" target="_blank">https://code.google.com/p/diddy/source/browse/</a><br>* Click on the "zip" hyperlink<br>* Extract the zip<br>* Done :) <br><br></td></tr></table><br>
<a name="2065454"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raul</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#132">[#132]</a></td></tr></table></td></tr><tr ><td class="posttext"> I see. Thank you guys! <br><br></td></tr></table><br>
<a name="2065998"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rhodesy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#133">[#133]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello,<br><br>I was just wondering if there are plans to add any more components to the GUI set? For example.. text input? <br><br></td></tr></table><br>
<a name="2066032"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#134">[#134]</a></td></tr></table></td></tr><tr ><td class="posttext"> Because of Ziggy's wonderful work on the JungleGUI we kind of stopped Diddy's GUI... you can use Diddy and JungleGUI together. <br><br></td></tr></table><br>
<a name="2066034"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Goodlookinguy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#135">[#135]</a></td></tr></table></td></tr><tr ><td class="posttext"> I used your stand-alone PathFinder code during the recent Ludum Dare. After using it, I feel like I need to say that it's possibly a tad buggy.<br><br>Two strange things I saw it do<br>- Sometimes would walk backwards once and then forward to get to a location<br>- Sometimes it would randomly walk off into a solid path  then would come back down and continue on the normal path<br><br>Now, I won't say that it's definitely Diddy's implementation. For all I know, I could have done something wrong unknowingly. However, I messed with my code a lot and was unable to resolve it completely. The best I could do was checking for the path the entity was headed and remove the walking backwards path if it existed.<br><br>Also, I should probably mention that it walked backwards even when on a perfectly placed location sometimes. So the issue wasn't just subject to strange inbetween tile locations.<br><br>As a last note, thanks for the path finder. I was gonna write my own during the LD, but it saved me time just using this. <br><br></td></tr></table><br>
<a name="2066062"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#136">[#136]</a></td></tr></table></td></tr><tr ><td class="posttext"> @GLG... any chance you get reproduce it with a small bit of code? Normally you would see that behavior if the "item" hasn't reached its node correctly. <br><br></td></tr></table><br>
<a name="2066078"></a>

<a name="2066079"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Goodlookinguy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#137">[#137]</a></td></tr></table></td></tr><tr ><td class="posttext"> I can try and replicate it in a smaller amount of code later (when I'm home). If you want though, I could send you all of the source code from the game if you have somewhere I can send it. <br><br></td></tr></table><br>
<a name="2066171"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CGV</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#138">[#138]</a></td></tr></table></td></tr><tr ><td class="posttext"> What would be the best way to change the images of a SimpleButton after the button is created? <br><br></td></tr></table><br>
<a name="2066179"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#139">[#139]</a></td></tr></table></td></tr><tr ><td class="posttext"> @GLG - a small version would be great.<br><br>@CGV - Hmmmm something like this at the moment would change the main image:<br><pre class=code>Local b:SimpleButton = menu.FindButton("options")
Local gi:GameImage = New GameImage
gi.Load(diddyGame.images.path + "newButton.png", False)
b.SetImage(gi)</pre><br><br>Or send in a GameImage to the SetImage method from the ImageBank.<br><br>And of course if would wanted to change the mouse over too you would do something similar:<br><pre class=code>b.SetImage(gi) ' Main button image
b.imageMouseOver = gi ' Mouse over image</pre><br>These images must not be auto-midhandled... <br><br></td></tr></table><br>
<a name="2066178"></a>

<a name="2066177"></a>

<a name="2066264"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CGV</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#140">[#140]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, I was trying to do it without creating a new GameImage. DOH! <br><br></td></tr></table><br>
<a name="2066278"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CGV</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#141">[#141]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have a general program design question.<br><br>Lets say you use the same background image in your titlescreen, gamescreen, etc.<br><br>Would it be more efficient, memory wise, to create a global instance of that GameImage to be used by all your screens or just let each screen have it's own instance? <br><br></td></tr></table><br>
<a name="2066346"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#142">[#142]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think that would depend on the target. If you are targeting a low end Android device having the global image would take up memory throughout your game.<br><br>Personally I would have an instance per screen and just release them when moving screens. This would give you flexibility if you decide later that each screen has a different background image in the future.<br><br>And if you want to reuse your code in future projects it should be just a simple copy and paste, without worrying about globals. <br><br></td></tr></table><br>
<a name="2066471"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CGV</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#143">[#143]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, I guess I had it backwards.<br><br>New question:<br><br>Is there a way to tell if the music is already playing?<br><br>EDIT: In the Flash target in case it matters. <br><br></td></tr></table><br>
<a name="2066469"></a>

<a name="2066470"></a>

<a name="2066503"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >richb</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#144">[#144]</a></td></tr></table></td></tr><tr ><td class="posttext"> I took a little break our from my main project to put together a quick project to test out Diddy as there's a few things fantomengine doesnt do well and I was interested in using the autofit module used in diddy to avoid black lines on the outside of the screen. I love the simplemenu gui and liked the way the screens works. Only thing I'm stuck with is fonts, Ive used hiero to make bitmap fonts and it works very easily in fantomengine however I'm struggling to use these fonts in diddy. Any idea how I can use these fonts with diddy? <br><br></td></tr></table><br>
<a name="2066646"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#145">[#145]</a></td></tr></table></td></tr><tr ><td class="posttext"> For anything font realted you need to look at Ziggy's FontMachine it's perfect and just about everything you need it to do.<br><br>It's what I use with all my stuff. <br><br></td></tr></table><br>
<a name="2066662"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CGV</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#146">[#146]</a></td></tr></table></td></tr><tr ><td class="posttext"> I use angelcode/bmfont. You'll find an extensive example of usage in bananas. <br><br></td></tr></table><br>
<a name="2066672"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >richb</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#147">[#147]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, I struggled to use angelfont at first but managed to get it working! <br><br></td></tr></table><br>
<a name="2066674"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#148">[#148]</a></td></tr></table></td></tr><tr ><td class="posttext"> @CGV<br><div class="quote"> Is there a way to tell if the music is already playing? <br></div><br>Just use the pure Mojo command: MusicState<br><br><pre class=code>Function MusicState : Int ()
Returns 1 if music is currently playing, 0 if music is currently not playing or -1 if music state cannot be determined.</pre><br><br>@richb - I normally use the Ziggy's Font Machine:<br><a href="http://www.jungleide.com/?page_id=515" target="_blank">http://www.jungleide.com/?page_id=515</a> <br><br></td></tr></table><br>
<a name="2067274"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Whiteball</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#149">[#149]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wondering what the best practice is regarding diddy and Tiled tile properties.<br><br>Is it possible to set multiple properties on a tile in Tiled map editor and use them within diddy?<br><br>If so, whats the best approach code wise to read/use them?<br><br>I'm thinking along the lines of storing a 'tile type' and 'trigger' value in the tile and then using them in my player update somewhere. Is that a good idea? <br><br></td></tr></table><br>
<a name="2067941"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Whiteball</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#150">[#150]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looking through the diddy tile file and can't really understand why  there is tiles and cells. What's the difference? <br><br></td></tr></table><br>
<a name="2067961"></a>

<a name="2067962"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#151">[#151]</a></td></tr></table></td></tr><tr ><td class="posttext"> A "tile" is the information in the tileset, which allows for custom properties and mapping tiles to a global ID (necessary if tilesets are added and removed).<br>A "cell" is the information in the map layer, which refers to the tile by its global ID.<br>This is the way Tiled works. <br><br></td></tr></table><br>
<a name="2068013"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Whiteball</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#152">[#152]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok, thanks.<br>I'll see if I can get something worked out for what I have in mind. <br><br></td></tr></table><br>
<a name="2068669"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >programmer</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#153">[#153]</a></td></tr></table></td></tr><tr ><td class="posttext"> @therevills<br>It'll be awesome if you move Diddy to github.com. <br><br></td></tr></table><br>
<a name="2068770"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Landon</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#154">[#154]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've added some Object properties loading and fetching to the Diddy tile loader. Just curious if you plan on adding this so i can phase out the bandaid i wrote? <br><br></td></tr></table><br>
<a name="2068778"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#155">[#155]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> if you move Diddy to github.com.  <br></div><br>We moved to BitBucket the other year and a lot of people were not happy about it so we moved back to Google Code... which I think we will stay.<br><br><div class="quote"> I've added some Object properties loading and fetching to the Diddy tile loader. Just curious if you plan on adding this so i can phase out the bandaid i wrote?  <br></div><br>If you share your code, I code quickly look over it and add it. <br><br></td></tr></table><br>
<a name="2068777"></a>

<a name="2068812"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >programmer</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#156">[#156]</a></td></tr></table></td></tr><tr ><td class="posttext"> <i>(deleted)</i> <br><br></td></tr></table><br>
<a name="2068811"></a>

<a name="2068871"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#157">[#157]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @Landon: I've added some Object properties loading and fetching to the Diddy tile loader. Just curious if you plan on adding this so i can phase out the bandaid i wrote? <br></div><br>Clone, pull request. :) <br><br></td></tr></table><br>
<a name="2070561"></a>

<a name="2070562"></a>

<a name="2070563"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#158">[#158]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have just started working on getting z-ordering of sprites working my game, and with the help in <a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=6149" target="_blank">this thread</a> I have a basic system using Interfaces.<br><br>However, it seems sorting is a little tricky, and after readin around the forum I found quite a few posts regarding IComparator from diddy to do just this, however I can't seem to get my head around it (although in my defence it is 3am here lol!)<br><br>I have the following code, using a diddy ArrayList, but I know I am missing something to do with the Compare() Method, and how it should be implemented and used.<br><br>The code compiles fine, but the objects flicker continuously when the Sort() Method is called on the list, I think because I haven't defined my own Compare() Methods so it doesn't know what to compare.<br><br>I'm a bit stumped also as to how to get this working with Interfaces as I have only tonight (from my linked thread above) started using them.<br><br>Here is the code, no graphics required, just diddy.collections.<br><br>I am trying to get the zlist sorted by it's y value, which I could then use to draw things in the correct order, but as I said I am unsure as to how to get that working.<br><br>The white rect at MouseX()/MouseY() was going to be for me to test the z-ordering working (or not) as I moved the mouse around the screen, and you may need to refresh the page a few times see the flickering between rects/ovals as the x/y positions are random each time but if you move the mouse over any of them you will see it straight away.<br><pre class=code>
Strict

Import mojo
Import diddy.collections

' ################################

' Main Function
Function Main:Int()
	New myApp
	Return True
End

' ################################

' myApp Class
Class myApp Extends App
	
	Field zlist:ArrayList&lt;DrawZ&gt;
	
	' --------------------------------
	
	Method OnCreate:Int()

		' create ArrayList
		Self.zlist = New ArrayList&lt;DrawZ&gt;
		
		' random seed
		Local date:= GetDate()
		Seed = date[5] * 1000 + date[6]
		
		' create rects and add to list
		For Local a:Int = 0 To 9
			Local rect:Rect = New Rect(Rnd(0, 900), Rnd(0, 600),Rnd(50,100))
			Self.zlist.AddLast(rect)
		Next
		DebugLog "ListCount after Rects: " + zlist.Size()
		
		' create ovals and add to list
		For Local a:Int = 0 To 9
			Local oval:Oval = New Oval(Rnd(0, 900), Rnd(0, 600), Rnd(50, 100))
			Self.zlist.AddLast(oval)
		Next
		DebugLog "ListCount after Ovals: " + Self.zlist.Size()
		
		' create mouseObj and add to list
		Local mo:MouseObj = New MouseObj
		Self.zlist.AddLast(mo)
		DebugLog "ListCount after MouseObj: " + Self.zlist.Size()
		
		SetUpdateRate(60)
		Return True
	End
	
	' --------------------------------
	
	Method OnUpdate:Int()
	
		' Update all objects
		For Local obj:= EachIn Self.zlist
			obj.Update()
		Next
		
		' 
		'##############
		
                ' Sorting here makes them flicker.
                ' I'm also not sure what is being sorted?
            
                Self.zlist.Sort()	
		
		'#############
		
		Return True
	End Method
	
	' --------------------------------
	
	Method OnRender:Int()
		Cls

		' draw objects from list
		For Local o:DrawZ = EachIn Self.zlist
			o.Draw()
		Next
		
		Return True
	End Method
	
End

' ################################

' Interface
Interface DrawZ
	Method GetName:String()
	Method Update:Void()
	Method Draw:Void()
End

' ################################

' MouseObj Class
Class MouseObj Implements DrawZ
	
	Field name:String
	Field x:Int
	Field y:Int

	' --------------------------------
	
	Method New()
		Self.name = "MouseObj"
		Self.x = MouseX()
		Self.y = MouseY()
	End
	
	' --------------------------------
	
	Method Update:Void()
		Self.x = MouseX()
		Self.y = MouseY()
	End
	
	' --------------------------------
	
	Method Draw:Void()
		SetColor 255, 255, 255
		DrawRect Self.x, Self.y, 50, 50
	End
	
	' --------------------------------
	
	Method GetName:String()
		Return Self.name
	End
	
	' --------------------------------
	
End

' ################################

' Rect Class
Class Rect Implements DrawZ
	
	Field name:String
	Field x:Int
	Field y:Int
	Field size:Int

	' --------------------------------
	
	Method New(x:Int, y:Int, size:Int)
		
		Self.name = "Rect"
		Self.x = x
		Self.y = y
		Self.size = size
		
	End Method
	
	' --------------------------------
	
	Method Update:Void()
		
	End Method
	
	' --------------------------------
	
	Method Draw:Void()
		SetColor 200, 0, 0
		DrawRect Self.x, Self.y, Self.size, Self.size
	End
	
	' --------------------------------
	
	Method GetName:String()
		Return Self.name
	End
	
End

' ################################

' Oval Class
Class Oval Implements DrawZ
	
	Field name:String
	Field x:Int
	Field y:Int
	Field radius:Int

	' --------------------------------
		
	Method New(x:Int, y:Int, radius:Int)
		
		Self.name = "Oval"
		Self.x = x
		Self.y = y
		Self.radius = radius
	End
	
	' --------------------------------
	
	Method Update:Void()
	
	End
	
	' --------------------------------
	
	Method Draw:Void()
		SetColor 0, 200, 0
		DrawOval Self.x, Self.y, Self.radius, Self.radius
	End
	
	' --------------------------------
	
	Method GetName:String()
		Return Self.name
	End
	
End
</pre><br>Where would I Implement IComparator in this code, and where would the associated Compare() Methods go to allow me to sort by y value?<br>I can't seem to get it working so I took all references out in the above code to make it easier for anyone to spot where I should be putting them.<br><br>Thanks in advance. <br><br></td></tr></table><br>
<a name="2070560"></a>

<a name="2070559"></a>

<a name="2070558"></a>

<a name="2070557"></a>

<a name="2070556"></a>

<a name="2070555"></a>

<a name="2070554"></a>

<a name="2070553"></a>

<a name="2070565"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#159">[#159]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've modified your example to sort by Y value.  Note that I had to make the Y value available in the DrawZ interface.  I think you'd be better off making DrawZ an abstract class and put your Y value in there along with the comparison methods.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Strict

Import mojo
Import diddy.collections

' ################################

' Main Function
Function Main:Int()
	New myApp
	Return True
End

' ################################

' myApp Class
Class myApp Extends App
	
	Field zlist:ArrayList&lt;DrawZ&gt;
	
	' --------------------------------
	
	Method OnCreate:Int()

		' create ArrayList
		Self.zlist = New ArrayList&lt;DrawZ&gt;
		
		' random seed
		Local date:= GetDate()
		Seed = date[5] * 1000 + date[6]
		
		' create rects and add to list
		For Local a:Int = 0 To 9
			Local rect:Rect = New Rect(Rnd(0, 900), Rnd(0, 600),Rnd(50,100))
			Self.zlist.AddLast(rect)
		Next
		DebugLog "ListCount after Rects: " + zlist.Size()
		
		' create ovals and add to list
		For Local a:Int = 0 To 9
			Local oval:Oval = New Oval(Rnd(0, 900), Rnd(0, 600), Rnd(50, 100))
			Self.zlist.AddLast(oval)
		Next
		DebugLog "ListCount after Ovals: " + Self.zlist.Size()
		
		' create mouseObj and add to list
		Local mo:MouseObj = New MouseObj
		Self.zlist.AddLast(mo)
		DebugLog "ListCount after MouseObj: " + Self.zlist.Size()
		
		SetUpdateRate(60)
		Return True
	End
	
	' --------------------------------
	
	Method OnUpdate:Int()
	
		' Update all objects
		For Local obj:= EachIn Self.zlist
			obj.Update()
		Next
		
		' 
		'##############
		
                ' Sorting here makes them flicker.
                ' I'm also not sure what is being sorted?
            
                Self.zlist.Sort()	
		
		'#############
		
		Return True
	End Method
	
	' --------------------------------
	
	Method OnRender:Int()
		Cls

		' draw objects from list
		For Local o:DrawZ = EachIn Self.zlist
			o.Draw()
		Next
		
		Return True
	End Method
	
End

' ################################

' Interface
Interface DrawZ Extends IComparable
	Method GetY:Int()
	Method GetName:String()
	Method Update:Void()
	Method Draw:Void()
End

' ################################

' MouseObj Class
Class MouseObj Implements DrawZ
	
	Field name:String
	Field x:Int
	Field y:Int

	' --------------------------------
	
	Method New()
		Self.name = "MouseObj"
		Self.x = MouseX()
		Self.y = MouseY()
	End
	
	' --------------------------------
	
	Method Update:Void()
		Self.x = MouseX()
		Self.y = MouseY()
	End
	
	' --------------------------------
	
	Method Draw:Void()
		SetColor 255, 255, 255
		DrawRect Self.x, Self.y, 50, 50
	End
	
	' --------------------------------
	
	Method GetName:String()
		Return Self.name
	End
	
	Method GetY:Int()
		Return y
	End
	
	' --------------------------------
	Method Compare:Int(o:Object)
		Local d:DrawZ = DrawZ(o)
		Return y - d.GetY()
	End
	
	Method Equals:Bool(o:Object)
		Return Compare(o) = 0
	End
End

' ################################

' Rect Class
Class Rect Implements DrawZ
	
	Field name:String
	Field x:Int
	Field y:Int
	Field size:Int

	' --------------------------------
	
	Method New(x:Int, y:Int, size:Int)
		
		Self.name = "Rect"
		Self.x = x
		Self.y = y
		Self.size = size
		
	End Method
	
	' --------------------------------
	
	Method Update:Void()
		
	End Method
	
	' --------------------------------
	
	Method Draw:Void()
		SetColor 200, 0, 0
		DrawRect Self.x, Self.y, Self.size, Self.size
	End
	
	' --------------------------------
	
	Method GetName:String()
		Return Self.name
	End
	
	Method GetY:Int()
		Return y
	End
	
	' --------------------------------
	Method Compare:Int(o:Object)
		Local d:DrawZ = DrawZ(o)
		Return y - d.GetY()
	End
	
	Method Equals:Bool(o:Object)
		Return Compare(o) = 0
	End
End

' ################################

' Oval Class
Class Oval Implements DrawZ
	
	Field name:String
	Field x:Int
	Field y:Int
	Field radius:Int

	' --------------------------------
		
	Method New(x:Int, y:Int, radius:Int)
		
		Self.name = "Oval"
		Self.x = x
		Self.y = y
		Self.radius = radius
	End
	
	' --------------------------------
	
	Method Update:Void()
	
	End
	
	' --------------------------------
	
	Method Draw:Void()
		SetColor 0, 200, 0
		DrawOval Self.x, Self.y, Self.radius, Self.radius
	End
	
	' --------------------------------
	
	Method GetName:String()
		Return Self.name
	End
	
	Method GetY:Int()
		Return y
	End
	
	' --------------------------------
	Method Compare:Int(o:Object)
		Local d:DrawZ = DrawZ(o)
		Return y - d.GetY()
	End
	
	Method Equals:Bool(o:Object)
		Return Compare(o) = 0
	End
End</textarea> <br><br></td></tr></table><br>
<a name="2070564"></a>

<a name="2070571"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#160">[#160]</a></td></tr></table></td></tr><tr ><td class="posttext"> Samah thank you!<br><br>I was banging my head last night with this trying all sorts and couldn't seem to get it working - your modified code makes it very clear.<br><br>I'm not sure how I'd go about the abstract class thing along with interfaces, as I have only just started using interfaces last night and am still learning as I go with the more advanced concepts.<br><br>I think as it is working as-is right now I will stick with it and do some homework about the things you mention.<br><br>Thanks again for the help, most appreciated :) <br><br></td></tr></table><br>
<a name="2070572"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#161">[#161]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's another version using a Comparator instead of implementing IComparable.  It means less duplication of code.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Strict

Import mojo
Import diddy.collections

' ################################

' Main Function
Function Main:Int()
	New myApp
	Return True
End

' ################################

' myApp Class
Class myApp Extends App
	
	Field zlist:ArrayList&lt;DrawZ&gt;
	
	' --------------------------------
	
	Method OnCreate:Int()

		' create ArrayList
		Self.zlist = New ArrayList&lt;DrawZ&gt;
		Self.zlist.Comparator = New ZOrderComparator
		
		' random seed
		Local date:= GetDate()
		Seed = date[5] * 1000 + date[6]
		
		' create rects and add to list
		For Local a:Int = 0 To 9
			Local rect:Rect = New Rect(Rnd(0, 900), Rnd(0, 600),Rnd(50,100))
			Self.zlist.AddLast(rect)
		Next
		DebugLog "ListCount after Rects: " + zlist.Size()
		
		' create ovals and add to list
		For Local a:Int = 0 To 9
			Local oval:Oval = New Oval(Rnd(0, 900), Rnd(0, 600), Rnd(50, 100))
			Self.zlist.AddLast(oval)
		Next
		DebugLog "ListCount after Ovals: " + Self.zlist.Size()
		
		' create mouseObj and add to list
		Local mo:MouseObj = New MouseObj
		Self.zlist.AddLast(mo)
		DebugLog "ListCount after MouseObj: " + Self.zlist.Size()
		
		SetUpdateRate(60)
		Return True
	End
	
	' --------------------------------
	
	Method OnUpdate:Int()
	
		' Update all objects
		For Local obj:= EachIn Self.zlist
			obj.Update()
		Next
		
		' 
		'##############
		
                ' Sorting here makes them flicker.
                ' I'm also not sure what is being sorted?
            
				
                Self.zlist.Sort()	
		
		'#############
		
		Return True
	End Method
	
	' --------------------------------
	
	Method OnRender:Int()
		Cls

		' draw objects from list
		For Local o:DrawZ = EachIn Self.zlist
			o.Draw()
		Next
		
		Return True
	End Method
	
End

' ################################

' Interface
Interface DrawZ
	Method GetY:Int()
	Method GetName:String()
	Method Update:Void()
	Method Draw:Void()
End

' ################################

' MouseObj Class
Class MouseObj Implements DrawZ
	
	Field name:String
	Field x:Int
	Field y:Int

	' --------------------------------
	
	Method New()
		Self.name = "MouseObj"
		Self.x = MouseX()
		Self.y = MouseY()
	End
	
	' --------------------------------
	
	Method Update:Void()
		Self.x = MouseX()
		Self.y = MouseY()
	End
	
	' --------------------------------
	
	Method Draw:Void()
		SetColor 255, 255, 255
		DrawRect Self.x, Self.y, 50, 50
	End
	
	' --------------------------------
	
	Method GetName:String()
		Return Self.name
	End
	
	Method GetY:Int()
		Return y
	End
End

' ################################

' Rect Class
Class Rect Implements DrawZ
	
	Field name:String
	Field x:Int
	Field y:Int
	Field size:Int

	' --------------------------------
	
	Method New(x:Int, y:Int, size:Int)
		
		Self.name = "Rect"
		Self.x = x
		Self.y = y
		Self.size = size
		
	End Method
	
	' --------------------------------
	
	Method Update:Void()
		
	End Method
	
	' --------------------------------
	
	Method Draw:Void()
		SetColor 200, 0, 0
		DrawRect Self.x, Self.y, Self.size, Self.size
	End
	
	' --------------------------------
	
	Method GetName:String()
		Return Self.name
	End
	
	Method GetY:Int()
		Return y
	End
End

' ################################

' Oval Class
Class Oval Implements DrawZ
	
	Field name:String
	Field x:Int
	Field y:Int
	Field radius:Int

	' --------------------------------
		
	Method New(x:Int, y:Int, radius:Int)
		
		Self.name = "Oval"
		Self.x = x
		Self.y = y
		Self.radius = radius
	End
	
	' --------------------------------
	
	Method Update:Void()
	
	End
	
	' --------------------------------
	
	Method Draw:Void()
		SetColor 0, 200, 0
		DrawOval Self.x, Self.y, Self.radius, Self.radius
	End
	
	' --------------------------------
	
	Method GetName:String()
		Return Self.name
	End
	
	Method GetY:Int()
		Return y
	End
End

Class ZOrderComparator Extends IComparator
	Method Compare:Int(o1:Object, o2:Object)
		If Not DrawZ(o1) Or Not DrawZ(o2) Then Return 0
		Return DrawZ(o1).GetY() - DrawZ(o2).GetY()
	End
End</textarea> <br><br></td></tr></table><br>
<a name="2070603"></a>

<a name="2070604"></a>

<a name="2070605"></a>

<a name="2070607"></a>

<a name="2070608"></a>

<a name="2070609"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#162">[#162]</a></td></tr></table></td></tr><tr ><td class="posttext"> And for completeness, plus I'd prefer using a base object as it would save a lot of duplicate fields and methods:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Strict

Import mojo
Import diddy.collections

Function Main:Int()
	New Game
	Return True
End

Class Game Extends App
	Method OnCreate:Int()
		Local date:= GetDate()
		Seed = date[5] * 1000 + date[6]
		
		For Local a:Int = 0 To 9
			GameObject.list.AddLast(New Rect(Rnd(0, 900), Rnd(0, 600),Rnd(50,100)))
		Next

		For Local a:Int = 0 To 9
			GameObject.list.AddLast(New Oval(Rnd(0, 900), Rnd(0, 600), Rnd(50, 100)))
		Next

		GameObject.list.AddLast(New MouseObj)		
		GameObject.list.AddLast(New CursorObj)
		
		SetUpdateRate(60)
		Return True
	End
	
	Method OnUpdate:Int()
		GameObject.UpdateAll()
		GameObject.list.Sort()
		Return True
	End
	
	Method OnRender:Int()
		Cls
		GameObject.DrawAll()
		Return True
	End
End

Class GameObject Implements IComparable Abstract
	Global list:ArrayList&lt;GameObject&gt; = New ArrayList&lt;GameObject&gt;
	Field name:String
	Field x:Int, y:Int
	
	Method Draw:Void() Abstract
	Method Update:Void() Abstract
		
	Method GetName:String()
		Return Self.name
	End
	
	Method Compare:Int(o:Object)
		Local d:GameObject = GameObject(o)
		Return y - d.y
	End
	
	Method Equals:Bool(o:Object)
		Return Compare(o) = 0
	End
	
	Function UpdateAll:Void()
		For Local o:GameObject = Eachin GameObject.list
			o.Update()
		Next
	End
	
	Function DrawAll:Void()
		For Local o:GameObject = Eachin GameObject.list
			o.Draw()
		Next
	End
End

Class MouseObj Extends GameObject
	Method Update:Void()
		Self.x = MouseX()
		Self.y = MouseY()
	End
	
	Method New()
		Self.name = "Mouse"
	End
	
	Method Draw:Void()
		SetColor 255, 255, 255
		DrawRect Self.x, Self.y, 50, 50
	End
End

Class CursorObj Extends GameObject
	Method Update:Void()
		Local speed:Int = 1
		If KeyDown(KEY_SHIFT)
			speed = 10
		End
		If KeyHit(KEY_UP)
			y -= speed
		End
		If KeyHit(KEY_DOWN)
			y += speed
		End
		If KeyHit(KEY_LEFT)
			x -= speed
		End
		If KeyHit(KEY_RIGHT)
			x += speed
		End		
	End
	
	Method New()
		Self.name = "CursorObj"
	End
	
	Method Draw:Void()
		SetColor 255, 0, 255
		DrawRect Self.x, Self.y, 50, 50
	End
End

Class Rect Extends GameObject
	Field size:Int
	
	Method New(x:Int, y:Int, size:Int)		
		Self.name = "Rect"
		Self.x = x
		Self.y = y
		Self.size = size		
	End
	
	Method Update:Void()
	End
	
	Method Draw:Void()
		SetColor 200, 0, 0
		DrawRect Self.x, Self.y, Self.size, Self.size
	End
End

Class Oval Extends GameObject
	Field radius:Int
	
	Method New(x:Int, y:Int, radius:Int)		
		Self.name = "Oval"
		Self.x = x
		Self.y = y
		Self.radius = radius		
	End
	
	Method Update:Void()
	End
	
	Method Draw:Void()
		SetColor 0, 200, 0
		DrawOval Self.x, Self.y, Self.radius, Self.radius
	End
End</textarea> <br><br></td></tr></table><br>
<a name="2070602"></a>

<a name="2070611"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#163">[#163]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ahh awesome thanks Samah &amp; therevills!<br><br>The abstract stuff is a little over my head at the moment, but I will do some homework and study the code you kindly posted and get my head around it.<br><br>Thanks again :) <br><br></td></tr></table><br>
<a name="2073639"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#164">[#164]</a></td></tr></table></td></tr><tr ><td class="posttext"> To help people download the latest version I have added a screenshot showing where the zip link can be located on Google Code:<br><br><img src="https://diddy.googlecode.com/hg/utils/download_zip.jpg"> <br><br></td></tr></table><br>
<a name="2073673"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#165">[#165]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not gotten an update in a while, gona go grab one now, has there been anything interesting added over the last 3 months?<br><br>and have you made the debug renderer take on the scaling from auto fit yet? <br><br></td></tr></table><br>
<a name="2076102"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#166">[#166]</a></td></tr></table></td></tr><tr ><td class="posttext"> Samah, has anyone reported any issues with playing Music ?<br><br>I'm currently having some issues with playing music on html5, I have ogg, wav, and mp3 versions to try with and it just does not want to play, MusicState reports its playing but zero sound.<br><br>Also I seem to have a problem with FileSystem, it's saving fine on html5 and I think if I recall it saved on my phone as well, but it does not seem to be saving possibly or loading on flash..<br><br>in the mean time I will grab the very latest build just to be sure, if you don't hear from me assume I still have the above issues.<br><br>EDIT : adding my load and save methods in case its something there.<br><br><pre class=code>
	Method Load:Void()
		Local filein:FileStream
		Local filehandler:FileSystem
		filehandler = FileSystem.Create()
		
		If filehandler.FileExists("options.dat")
			filein = filehandler.ReadFile("options.dat")
			if filein
				Self.musicVolume = filein.ReadInt()
				Self.soundVolume = filein.ReadInt()
				Self.graphicsDetail = filein.ReadInt()
				Self.graphicsGlow = filein.ReadInt()
			End If
			
		Else
			Self.Save()
		EndIf		
	End Method
	

	
	Method Save:Void()
		Local fileout:FileStream
		Local filehandler:FileSystem
		filehandler = FileSystem.Create()
		
		fileout = filehandler.WriteFile("options.dat")
		'Self.PrintVolumes()
		fileout.WriteInt(Self.musicVolume)
		fileout.WriteInt(Self.soundVolume)
		fileout.WriteInt(Self.graphicsDetail)
		fileout.WriteInt(Self.graphicsGlow)
		'Self.PrintVolumes()
		filehandler.SaveAll()
	End Method
</pre> <br><br></td></tr></table><br>
<a name="2076100"></a>

<a name="2076106"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#167">[#167]</a></td></tr></table></td></tr><tr ><td class="posttext"> Paul any change of having runnable examples of your issues? <br><br></td></tr></table><br>
<a name="2076132"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#168">[#168]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here is the really annoying thing, I cant. with a pure clean diddy template it works, whats even more annoying is that my project's had Zero sound for a month, I have literally only just added a few sounds, and then tried to add this first music track so I should have no code at all thats doing anything with sound other than about 5 lines in total and I cant figure out why its not playing the audio.<br><br>I was thinking it might be something with channel volumes so I have removed my 3 lines where I set the current volume equal to whats in my options. no joy!.<br>I was then thinking that it was diddy or its playmusic wrapper so I switched to mojo playmusic and the results the same, channelstate reports it is playing tho which is just wierd.<br><br>not sure what to try next, I am sure its something with diddy tho just cant put my finger on what.<br><br>Also any thoughts on why the save data isnt saving in flash ? it could be related. <br><br></td></tr></table><br>
<a name="2076133"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#169">[#169]</a></td></tr></table></td></tr><tr ><td class="posttext"> sometimes I really hate trying to debug crap in monkey, really does my tits in.<br><br>Ok wrap your head around this little conundrum.<br><br>My Project Code works on [ flash , glfw, android ]  ---  music plays from IE but not Chrome in Html5.<br>My Test Code works on EVERYTHING.. including Chrome.<br><br>WTF is up with that, the code is the same, so why the hell wont chrome play the damn music from my big project but it will from my skeleton code, whats really fekking me off is that it works on everything else, even IE has no issues with playing the song but chrome... oh no its to good to play my music ..<br><br>lol can you detect my frustration ? <br><br></td></tr></table><br>
<a name="2076164"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#170">[#170]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>EDIT</b> :: The problem is caused by Chrome + AdBlock , even telling AdBlock that localhost is cool it still causes issues, so this was not a diddy issue as I first had thought. <br><br></td></tr></table><br>
<a name="2076135"></a>

<a name="2076197"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#171">[#171]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well that's good to know :)<br><br>With you flash file saving issue, how much data are you saving? The FileSystem just wraps SaveState... I do remember people having issues using SaveState and having different results per platform. <br><br></td></tr></table><br>
<a name="2076204"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#172">[#172]</a></td></tr></table></td></tr><tr ><td class="posttext"> It looks like AdBlock could have been the cause there as well, as Flash saving is working fine now that I have made exceptions for the test page, its odd tho for sure.<br><br>At least now I am confident that diddy is not the cause which is cool :) <br><br></td></tr></table><br>
<a name="2076205"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#173">[#173]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow that totally messed you up! I still don't get why a skeleton code played the music though O_o <br><br></td></tr></table><br>
<a name="2076242"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#174">[#174]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah yeah it didn't, lol I just didn't notice it was building flash and not html5. <br><br></td></tr></table><br>
<a name="2076324"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#175">[#175]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just committed a few changes:<br><br>* Added a "Load" method to Screen, so now you can do all your loading for your screens in this method. This is called internally within PreStart so it happens after the FadeOut of the last screen and before the FadeIn of the next.<br>* Added a safety for delta timing, if it ever goes over 5 Diddy now will reset it back to 1 - I found when loading resources the delta timing was flying out of control due to the IO <br><br></td></tr></table><br>
<a name="2076341"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Timber</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#176">[#176]</a></td></tr></table></td></tr><tr ><td class="posttext"> Quick question, if I have a few tile sheets that I then Pack via LibDGX and I want to load them into diddy what would be the best way to go about it.<br>I was told that I should load the atlas and then take any of those smaller animstrips and use grabimage on them to put them into a frame format, is that the best way or does diddy have a way of doing it that's better. <br><br></td></tr></table><br>
<a name="2076400"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#177">[#177]</a></td></tr></table></td></tr><tr ><td class="posttext"> deleted, apologies. <br><br></td></tr></table><br>
<a name="2076399"></a>

<a name="2076398"></a>

<a name="2076401"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#178">[#178]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Timber, Diddy supports the following texture packager formats:<br>* Sparrow<br>* LibDGX<br>* JSON (HASH)<br><br>So if you have got the LibDGX file you should be able to do something like this:<br><pre class=code>images.LoadAtlas("libgdx_sprites.txt", images.LIBGDX_ATLAS)</pre><br>Diddy will then grab the images from the file and store them into the image bank for future reference. <br><br></td></tr></table><br>
<a name="2076406"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#179">[#179]</a></td></tr></table></td></tr><tr ><td class="posttext"> Timber's my son, what he was trying to ask is, if he packs 4 images into an Atlas each being a strip of 32*32 frames, once he uses the diddy loadatlas method how does he render the frames from say image1.<br><br>I told him to have a look at GrabImage, with the intention being to load the Atlas, find the Image and then GrabImage the tileset out of it, but being my son he does not listen to me, AT ALL!. he seems to be convinced that its something diddy might do. <br><br></td></tr></table><br>
<a name="2076434"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#180">[#180]</a></td></tr></table></td></tr><tr ><td class="posttext"> Keeping it in the family :) Good job!<br><br>Just so I've got this straight, Timber has 4 image files which contains multiple images (basically AnimImages) and he has packed them into one atlas file?<br><br>If so, when Diddy loads the atlas it will store the name of each image based off the file name stored in the atlas and when you need to get them you would get the whole anim image - but Diddy does have a FindSet command which should work.<br><br>Heres a quick example:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Strict

Import diddy

Function Main:Int()
	New MyGame()
	Return True
End

Global scr:Screen1

Class MyGame Extends DiddyApp
	Method Create:Void()
		LoadImages()
		scr = New Screen1
		Start(scr)
	End

	Method LoadImages:Void()
		images.LoadAtlas("test.xml", images.SPARROW_ATLAS)
	End
End

Class Screen1 Extends Screen
	Field img1:GameImage
	Field img2:GameImage
	Field img3:GameImage	
	
	Field set:GameImage
	Field rotation:Int
	Field scaleX:Int = 1
	Field scaleY:Int = 1
	Field frame:Int
	Field maxFrame:Int = 3
	Field delay:float
	Field maxDelay:Int = 15
	
	Method New()
		name = "Screen1"
		backScreenName = "exit"
	End
	
	Method Load:Void()
	End
	
	Method Start:Void()
		img1 = diddyGame.images.Find("1")
		img2 = diddyGame.images.Find("2")
		img3 = diddyGame.images.Find("3")
		
		' grab the "3" animimage from the atlas, 32 x 32 with 4 frames
		set = diddyGame.images.FindSet("3", 32, 32, 4)
	End
	
	Method Render:Void()
		Cls
		img1.Draw(100,20)
		img2.Draw(100,50)
		img3.Draw(100,80)
		
		set.Draw(200, 200, rotation, scaleX, scaleY, frame)
	End
	
	Method Update:Void()
		' quick crappy animation
		delay += 1 * dt.delta
		If delay &gt; maxDelay
			frame += 1
			If frame &gt; maxFrame
				frame = 0
			End
			delay = 0
		End
		
		If KeyHit(KEY_ESCAPE)
			Self.Back()
		End
	End
End</textarea><br><br><a href="https://dl.dropboxusercontent.com/u/35103024/monkey/atlastest/html5/MonkeyGame.html" target="_blank">https://dl.dropboxusercontent.com/u/35103024/monkey/atlastest/html5/MonkeyGame.html</a> <br><br></td></tr></table><br>
<a name="2076433"></a>

<a name="2076429"></a>

<a name="2076431"></a>

<a name="2076432"></a>

<a name="2077172"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#181">[#181]</a></td></tr></table></td></tr><tr ><td class="posttext"> I did not read all 7 parts of this thread - but I just tried the current Diddy-revision with Monkey-X 77a for Linux.<br><br><pre class=code>
../main.cpp:3998:21: fatal error: windows.h: No such file or directory
 #include &lt;windows.h&gt;
                     ^
compilation terminated.
make: *** [../main.o] Error 1
TRANS FAILED: Error executing 'make CCOPTS="-Wno-free-nonheap-object -O3 -DNDEBUG" OUT="Release/MonkeyGame"', return code=512
</pre><br><br>Normal Monkey-Samples don't have this error (but other warnings) - is Diddy using windows-specific stuff when compiling for GLFW?<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="2077177"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#182">[#182]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey Ron - Diddy was created before MonkeyX officially support Linux and I'm not a Linux guy ;)<br><br>Anyway I've just committed a change which will hopefully allow you to compile in Linux, could you please let me know:<br><a href="http://code.google.com/p/diddy/source/list" target="_blank">http://code.google.com/p/diddy/source/list</a> <br><br></td></tr></table><br>
<a name="2077179"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#183">[#183]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the fast response.<br><br>Copied the changed file. Result is now:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
"/home/ronny/Arbeit/Programmieren/MonkeyX77a/bin/transcc_linux" -target=Desktop_Game -config=Release -run "/home/ronny/Arbeit/Programmieren/MonkeyX77a/modules/diddy/examples/Storyboard/storyboardTest.monkey"
TRANS monkey compiler V1.62
Parsing...
Semanting...
Translating...
Building...
g++  -Wno-free-nonheap-object -O3 -DNDEBUG -I../glfw/include -I../glfw/lib -I../glfw/lib/x11 -I../openal/include -I../stb -D_GLFW_HAS_GLXGETPROCADDRESS -D_GLFW_USE_LINUX_JOYSTICKS -pthread  -c -o ../main.o ../main.cpp
../main.cpp: In static member function ‘static int diddy::getDayOfMonth()’:
../main.cpp:4145:3: error: ‘SYSTEMTIME’ was not declared in this scope
   SYSTEMTIME st;
   ^
../main.cpp:4145:14: error: expected ‘;’ before ‘st’
   SYSTEMTIME st;
              ^
../main.cpp:4146:18: error: ‘st’ was not declared in this scope
   GetSystemTime(&amp;st);
                  ^
../main.cpp:4146:20: error: ‘GetSystemTime’ was not declared in this scope
   GetSystemTime(&amp;st);
                    ^
../main.cpp: In static member function ‘static int diddy::getDayOfWeek()’:
../main.cpp:4152:3: error: ‘SYSTEMTIME’ was not declared in this scope
   SYSTEMTIME st;
   ^
../main.cpp:4152:14: error: expected ‘;’ before ‘st’
   SYSTEMTIME st;
              ^
../main.cpp:4153:18: error: ‘st’ was not declared in this scope
   GetSystemTime(&amp;st);
                  ^
../main.cpp:4153:20: error: ‘GetSystemTime’ was not declared in this scope
   GetSystemTime(&amp;st);
                    ^
../main.cpp: In static member function ‘static int diddy::getMonth()’:
../main.cpp:4159:3: error: ‘SYSTEMTIME’ was not declared in this scope
   SYSTEMTIME st;
   ^
../main.cpp:4159:14: error: expected ‘;’ before ‘st’
   SYSTEMTIME st;
              ^
../main.cpp:4160:18: error: ‘st’ was not declared in this scope
   GetSystemTime(&amp;st);
                  ^
../main.cpp:4160:20: error: ‘GetSystemTime’ was not declared in this scope
   GetSystemTime(&amp;st);
                    ^
../main.cpp: In static member function ‘static int diddy::getYear()’:
../main.cpp:4166:3: error: ‘SYSTEMTIME’ was not declared in this scope
   SYSTEMTIME st;
   ^
../main.cpp:4166:14: error: expected ‘;’ before ‘st’
   SYSTEMTIME st;
              ^
../main.cpp:4167:18: error: ‘st’ was not declared in this scope
   GetSystemTime(&amp;st);
                  ^
../main.cpp:4167:20: error: ‘GetSystemTime’ was not declared in this scope
   GetSystemTime(&amp;st);
                    ^
../main.cpp: In static member function ‘static int diddy::getHours()’:
../main.cpp:4173:3: error: ‘SYSTEMTIME’ was not declared in this scope
   SYSTEMTIME st;
   ^
../main.cpp:4173:14: error: expected ‘;’ before ‘st’
   SYSTEMTIME st;
              ^
../main.cpp:4174:18: error: ‘st’ was not declared in this scope
   GetSystemTime(&amp;st);
                  ^
../main.cpp:4174:20: error: ‘GetSystemTime’ was not declared in this scope
   GetSystemTime(&amp;st);
                    ^
../main.cpp: In static member function ‘static int diddy::getMinutes()’:
../main.cpp:4180:3: error: ‘SYSTEMTIME’ was not declared in this scope
   SYSTEMTIME st;
   ^
../main.cpp:4180:14: error: expected ‘;’ before ‘st’
   SYSTEMTIME st;
              ^
../main.cpp:4181:18: error: ‘st’ was not declared in this scope
   GetSystemTime(&amp;st);
                  ^
../main.cpp:4181:20: error: ‘GetSystemTime’ was not declared in this scope
   GetSystemTime(&amp;st);
                    ^
../main.cpp: In static member function ‘static int diddy::getSeconds()’:
../main.cpp:4187:3: error: ‘SYSTEMTIME’ was not declared in this scope
   SYSTEMTIME st;
   ^
../main.cpp:4187:14: error: expected ‘;’ before ‘st’
   SYSTEMTIME st;
              ^
../main.cpp:4188:18: error: ‘st’ was not declared in this scope
   GetSystemTime(&amp;st);
                  ^
../main.cpp:4188:20: error: ‘GetSystemTime’ was not declared in this scope
   GetSystemTime(&amp;st);
                    ^
../main.cpp: In static member function ‘static int diddy::getMilliSeconds()’:
../main.cpp:4194:3: error: ‘SYSTEMTIME’ was not declared in this scope
   SYSTEMTIME st;
   ^
../main.cpp:4194:14: error: expected ‘;’ before ‘st’
   SYSTEMTIME st;
              ^
../main.cpp:4195:18: error: ‘st’ was not declared in this scope
   GetSystemTime(&amp;st);
                  ^
../main.cpp:4195:20: error: ‘GetSystemTime’ was not declared in this scope
   GetSystemTime(&amp;st);
                    ^
../main.cpp: In function ‘void skipBytes(int, FILE*)’:
../main.cpp:2104:18: warning: ignoring return value of ‘size_t fread(void*, size_t, size_t, FILE*)’, declared with attribute warn_unused_result [-Wunused-result]
  fread( p,n,1,f );
                  ^
../main.cpp: In member function ‘virtual void BBGlfwGame::OpenUrl(String)’:
../main.cpp:2359:66: warning: ignoring return value of ‘int system(const char*)’, declared with attribute warn_unused_result [-Wunused-result]
  system( ( String( "xdg-open \"" )+url+"\"" ).ToCString&lt;char&gt;() );
                                                                  ^
make: *** [../main.o] Error 1
TRANS FAILED: Error executing 'make CCOPTS="-Wno-free-nonheap-object -O3 -DNDEBUG" OUT="Release/MonkeyGame"', return code=512
Done.
</textarea><br><br><br>edit: SYSTEMTIME is windows-only too ... so this i also a showstopper atm.<br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="2077178"></a>

<a name="2077183"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#184">[#184]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Ron - This actually reminded me to remove the date/time functions from the native code in Diddy, since Monkey now has its own date/time functions.<br><br>I've pushed another version, could you try again :) <br><br></td></tr></table><br>
<a name="2077190"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#185">[#185]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmmm how to say it without making you crying...<br><br>...it....<br><br>...it works now :D<br><br>Sure, there are some warnings left (because of the unused-warning-flag) but they are in the main.cpp so it is a flaw in Monkey-X I think.<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="2077248"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#186">[#186]</a></td></tr></table></td></tr><tr ><td class="posttext"> Excellent - thanks again for testing this Ron :) <br><br></td></tr></table><br>
<a name="2078565"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raz</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#187">[#187]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not looked at Diddy in a while but crumbs, it's impressive these days! (not that it wasn't before!) <br><br></td></tr></table><br>
<a name="2081516"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#188">[#188]</a></td></tr></table></td></tr><tr ><td class="posttext"> Question regarding animations... would you expect that a ping pong animation display the last frame twice?<br><br>For example if there was a 4 frame animation looping ping pong would be in the following sequence:<br>1 2 3 4 4 3 2 1 1 2 3 4 4 3 2 1 etc<br><br>Or just once:<br>1 2 3 4 3 2 1 2 3 4 3 2 1 etc<br><br>Or should I add a flag so the user can decide?<br><br>BTW I committed the Admob Interstitial (Android only) module to Diddy too. <br><br></td></tr></table><br>
<a name="2081536"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raz</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#189">[#189]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would expect<br><br>1 2 3 4 3 2 1 2 3 4 3 2 1<br><br>instead of <br><br>1 2 3 4 4 3 2 1 1 2 3 4 4<br><br>personally. But if it's doable, I would say letting the user decide would be best. <br><br></td></tr></table><br>
<a name="2081549"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#190">[#190]</a></td></tr></table></td></tr><tr ><td class="posttext"> For a Ping Pong animation I would say that it needs to be the same frame as the first so  [ 1 2 3 4 3 2 1 ] I would not double up frames at the start or the end. <br><br></td></tr></table><br>
<a name="2081550"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#191">[#191]</a></td></tr></table></td></tr><tr ><td class="posttext"> Also therevills this thread is epic I think it's time you slay it and spawn a new one. 190 posts is a bit much for people to troll through. <br><br></td></tr></table><br>
<a name="2081580"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hotshot</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#192">[#192]</a></td></tr></table></td></tr><tr ><td class="posttext"> Where the Diddy Document where I can look at the commands? <br><br></td></tr></table><br>
<a name="2081581"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#193">[#193]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I would say letting the user decide would be best. <br></div><br>Yeah I thinking the same, just wanted to see what other people thought :)<br><br><div class="quote"> 190 posts is a bit much for people to troll through. <br></div><br>Yep! I nearly did start a Part 8... but thought it wasnt needed now since MonkeyX site has pages...<br><br><div class="quote"> Where the Diddy Document where I can look at the commands? <br></div><br>You can find some here:<br><a href="http://code.google.com/p/diddy/w/list" target="_blank">http://code.google.com/p/diddy/w/list</a><br>And here:<br><a href="http://diddy.googlecode.com/hg/src/diddy/.docs/index.html" target="_blank">http://diddy.googlecode.com/hg/src/diddy/.docs/index.html</a> <br><br></td></tr></table><br>
<a name="2081586"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#194">[#194]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just removed the requirement for "tmpImage" when using the LoadAnim method; it's now optional and defaults to Null. <br><br></td></tr></table><br>
<a name="2081612"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#195">[#195]</a></td></tr></table></td></tr><tr ><td class="posttext"> The pageation is that a word?, is fine for small threads but to be honest it's poorly designed, it's only showing 3 pages at a time, if you start at post one your still needing to click a few times to flick through all the pages, the arrows jump to the start and end but if your looking for something in the middle its far less functional, the deeper the thread gets in terms of pages the worse this will get. <br><br></td></tr></table><br>
<a name="2082043"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#196">[#196]</a></td></tr></table></td></tr><tr ><td class="posttext"> Need some opinions here.<br><br>I made some cool classes that extend Stack/List/Set that all implement a common interface and provide pretty much the same functionality as ArrayList.  Should I include this into Diddy? (as an optional import, not necessarily as a replacement for ArrayList)<br><br>Pros:<br>They're mostly interchangeable with the default Monkey Stack/List/Set classes.<br>Has most of the functionality of ArrayList, including all the Comparable/Comparator magic.<br>The classes all share one set of methods, so you don't have to remember which Monkey class uses Count(), which uses Size(), etc. (standards, Mark?)<br>Nowhere near as heavy as ArrayList (think 20% of the codebase).<br><br>Cons:<br>The rest of Diddy would still use ArrayList (for now), unless I retroactively changed them all.  Ultimately it would make your code way cleaner, but when you first update Diddy, anywhere you're pulling ArrayLists from the Diddy modules (think XML, storyboards, etc.) is going to break.  Trivial to fix though.<br><br>If I push it, I'll probably branch it and leave the "default" branch clean.  If it becomes popular and stable I might look at merging it back into the mainline (far down the track).<br><br>Thoughts? <br><br></td></tr></table><br>
<a name="2082047"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#197">[#197]</a></td></tr></table></td></tr><tr ><td class="posttext"> What is it that the arraylists are doing that your new hero class does not, if you can do some helper methods that handle what ever that extra thing is, and make them 100% interchangeable then it would be a lot easier for you to just find replace all your arraylists into this new thing, and then just make the arraylist a helper for the new class, that way no ones code breaks, their all using the new class behind the scenes and can when their ready switch on their own ? <br><br></td></tr></table><br>
<a name="2082110"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#198">[#198]</a></td></tr></table></td></tr><tr ><td class="posttext"> The main point of the new class is that because it extends Stack, you can plug it into any other frameworks that expect a Stack argument or field.  Also smaller codebase, since it uses Monkey's own Stack implementation (which works essentially the same way as ArrayList).  It still provides all the extra functionality ArrayList has (such as AddAll to add everything from one Stack).<br>It's possible that I could retrofit ArrayList to use the new class as its internal implementation, and only keep references to ArrayList in public methods/fields (the beauty of encapsulation).  I don't really see the point in it though, because any ArrayList overhead would still be there.<br>What I might do is create all the new classes on the default branch (in a separate module file), but do the integration on another branch.  That way the new classes are immediately available for developers, and when they're ready they can switch to the other branch and migrate their code to strip out all references to ArrayList (since the rest of the framework would no longer use it).<br><br>Edit:<br>Having a lot of name clashes trying to import it, since it reuses the names of things like IEnumerator (an interface in the new one, an abstract class in the old one).  I had to rename the new ICollection to IContainer.  Not sure if I'm happy with that one.<br>It's looking more and more like I should just branch the whole enhancement and make a wiki page on how to migrate.  I can put in a #Error if you try to import collections, outputting a link to the wiki.  Again, this is all (for now) optional, if you just stay on the default branch. <br><br></td></tr></table><br>
<a name="2082099"></a>

<a name="2082185"></a>

<a name="2082186"></a>

<a name="2082187"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#199">[#199]</a></td></tr></table></td></tr><tr ><td class="posttext"> Alright, code is pushed as branch "containers".  Do your worst. :)<br>The library itself compiles alright (tested using #REFLECTION_FILTER="*") and I'm pretty sure all the functionality is correct.<br>I haven't finished testing all of the examples yet, so there's a possibility they might not compile.  Converting your code is pretty simple though.  I'll put up a wiki page at some point.<br><br><a href="http://code.google.com/p/diddy/source/browse/?name=containers" target="_blank">http://code.google.com/p/diddy/source/browse/?name=containers</a><br><a href="http://diddy.googlecode.com/archive/containers.zip" target="_blank">http://diddy.googlecode.com/archive/containers.zip</a><br><br>Edit:<br>Important changes:<br>* Importing either of the collections or comparator modules will now throw a compile #Error<br>* DiddyDataLayers and DiddyDataObjects now extend DiddyStack instead of ArrayList.<br>* DiddyDataLayers.Find and DiddyDataObjects.Find have been renamed to FindLayer and FindObject respectively due to a naming conflict with Find.<br>* QuickSort has changed to use the new IComparator and IComparable interfaces.<br>* IEnumerator does not currently support the HasPrevious/PreviousObject methods that the old one did.<br>* Some public fields that were ArrayLists are now DiddyStacks: GameSound.loopChannelList, TileMap.layers, TileMapTileset.tileNodes, TileMapObjectLayer.objects<br>* Some public methods and properties that returned ArrayLists now return DiddyStacks:<br>gui: Component.Children, Component.ChildrenZOrder, RadioGroup.RadioButtons<br>psystem: ParticleSystem.Groups, ParticleSystem.Emitters, Emitter.DeathEmitterLinks, ParticleGroup.Forces<br>storyboard: Storyboard.Sprites, Storyboard.Effects, Storyboard.Sounds, Storyboard.Musics<br>tile: TileMap.GetAllObjects<br>xml: XMLDocument.Prologs, XMLDocument.ProcessingInstructions, XMLElement.GetChildrenByName, XMLElement.Children <br><br></td></tr></table><br>
<a name="2082266"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#200">[#200]</a></td></tr></table></td></tr><tr ><td class="posttext"> Work-In-Progress True Type Font Loader for Android has been pushed... More info in the Monkey Code forum.<br><br><a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=8190" target="_blank">http://www.monkeycoder.co.nz/Community/posts.php?topic=8190</a> <br><br></td></tr></table><br>
<a name="2082262"></a>

<a name="2082580"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Htbaa</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#201">[#201]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just mailed this to therevills and then found this topic. So maybe it's better to ask here. It's about using diddydata.<br><br>I tried to compile the diddydata example, but after a while it just stops compiling due to some memory issue (what's with the compiling time in Monkey anyway? Even on a fast i7 it takes a long time to compile something).<br><br>Anyway, the Wiki page is very straightforward on how to use diddydata.xml and how to setup screens. However, I've located my screens in a subfolder called screen/, e.g. screen/titlescreen.monkey. When trying to load the screen I get a memory access violation because the ClassInfo object is empty.<br><br>In my xml file I've tried setting the class to TitleScreen (name of the class) and screen.TitleScreen, but it doesn't make any difference. Is there a way to support screens located in subfolders? I've already imported the files in my main app. <br><br>PS: I just tried it with moving the TitleScreen class to my main app source file and even then I ran into the issue that the ClassInfo object was empty. <br><br></td></tr></table><br>
<a name="2082621"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#202">[#202]</a></td></tr></table></td></tr><tr ><td class="posttext"> Due to the way Monkey generates the code for reflections, we are thinking about removing the screen part from DiddyData and only using DiddyData for resources. So for the time being it is recommended to only use DiddyData for images and sounds. <br><br></td></tr></table><br>
<a name="2082629"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#203">[#203]</a></td></tr></table></td></tr><tr ><td class="posttext"> What was the screen part used for, just trying to think if I ever used it. <br><br></td></tr></table><br>
<a name="2082642"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#204">[#204]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> What was the screen part used for, just trying to think if I ever used it. <br></div><br><br>The idea was that you could setup your screens as well as resources within XML:<br><pre class=code>&lt;diddy screenWidth="800" screenHeight="600" useAspectRatio="true"&gt;
	&lt;global&gt;
		&lt;resources&gt;
			&lt;images&gt;
				&lt;image path="sprites/Ship1.png" name="Ship" width="64" height="64" frames="7" /&gt;
			&lt;/images&gt;
			&lt;sounds&gt;
				&lt;sound path="Firelaser" name="fire" soundDelay="100" ignoreCache="false" /&gt;
			&lt;/sounds&gt;
		&lt;/resources&gt;
	&lt;/global&gt;
	&lt;screens&gt;
		&lt;screen class="TitleScreen" name="Title"&gt;
			&lt;resources&gt;
				&lt;images&gt;
					&lt;image path="sprites/sword.png" /&gt;
				&lt;/images&gt;
				&lt;music path="NewsTheme.ogg" /&gt;
			&lt;/resources&gt;
		&lt;/screen&gt;
	&lt;screens&gt;
</pre><br><br>So this would create the TitleScreen for you via XML, but the amount of reflection which is needed kills compile time. It was a nice idea, but I havent used it myself since we created it ;) <br><br></td></tr></table><br>
<a name="2082659"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Htbaa</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#205">[#205]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, I'll stay clear from it then :-). Does defining resources in screen sections still make sense then or should it all be in the global section? <br><br></td></tr></table><br>
<a name="2082661"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#206">[#206]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've decided to have another go at Diddy Data... in your code did you have the #REFLECTION_FILTER?<br><br>I have just pushed a small update which fixes drawing negative layers - could you try the example? <br><br></td></tr></table><br>
<a name="2082662"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Htbaa</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#207">[#207]</a></td></tr></table></td></tr><tr ><td class="posttext"> Where do I put this #REFLECTION_FILTER? I don't know what it is. <br><br></td></tr></table><br>
<a name="2082719"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#208">[#208]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Where do I put this #REFLECTION_FILTER? I don't know what it is. <br></div><br><br>I've updated the wiki:<br><a href="http://code.google.com/p/diddy/wiki/DiddyData" target="_blank">http://code.google.com/p/diddy/wiki/DiddyData</a><br><br>and the example code:<br><a href="http://diddy.googlecode.com/hg-history/14a0d37cedb323f3ff4241174fc83ebb7f1a2f3e/examples/DiddyData/diddydata_example.monkey" target="_blank">http://diddy.googlecode.com/hg-history/14a0d37cedb323f3ff4241174fc83ebb7f1a2f3e/examples/DiddyData/diddydata_example.monkey</a><br><br>Check out the docs for reflection:<br><a href="http://www.monkeycoder.co.nz/docs/html/Modules_reflection.html" target="_blank">http://www.monkeycoder.co.nz/docs/html/Modules_reflection.html</a><br><br><div class="quote"> In addition, you must provide a 'reflection filter' to specify which modules are to be reflected. This is done using the REFLECTION_FILTER app config setting, which should contain the set of modules you want to be reflected. In addition, the reflection filter may use the '*' wildcard character to match 'any text' in a module path. <br></div> <br><br></td></tr></table><br>
<a name="2082721"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Htbaa</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#209">[#209]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah thanks. I decided to not define the screens inside the diddydata.xml file. By the way, an exception is thrown if the XML file misses the &lt;screens /&gt; element. Also, in the example on that wiki page you refer to 'game'. Shouldn't that be diddyGame? <br><br></td></tr></table><br>
<a name="2082723"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#210">[#210]</a></td></tr></table></td></tr><tr ><td class="posttext"> In the reflection docs it is not mentioned than you can reflect "current" file by just adding this reflection filter to the file:<br><pre class=code>#REFLECTION_FILTER+="${MODPATH}"</pre><br>That's a good way to set the file reflection filter, so it is consisten no matter in what path the file is saved and no mather if the file is renamed in the futere. It's a sort of "reflect me" directive.<br>So any file containing code that needs to be reflected, should be good by adding the aforementioned compiler directive. <br><br></td></tr></table><br>
<a name="2082722"></a>

<a name="2082729"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#211">[#211]</a></td></tr></table></td></tr><tr ><td class="posttext"> Turns out the layer rendering problem was due to a performance change I made with QuickSort/ArrayList which broke sorting.  I backed out those changesets and it seems all good now.<br><br>Samah <br><br></td></tr></table><br>
<a name="2082782"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#212">[#212]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> By the way, an exception is thrown if the XML file misses the &lt;screens /&gt; element. <br></div><br>Fixed - thanks for letting us know. It is now optional.<br><div class="quote"> Also, in the example on that wiki page you refer to 'game'. Shouldn't that be diddyGame? <br></div><br>Yep, we updated the main "game" object awhile ago and haven't updated all of the docs.<br><br><div class="quote"> In the reflection docs it is not mentioned than you can reflect "current" file by just adding this reflection filter to the file:<br>#REFLECTION_FILTER+="${MODPATH}"<br> <br></div><br>Thanks Ziggy - I didn't know that... the reflection filter seems a little off sometimes (for example I have to import the framework since the screens extends Screen). Do you know if $(MODPATH) reflects everything in the mod path or just the current file? <br><br></td></tr></table><br>
<a name="2082795"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#213">[#213]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just current file, but the problem you're having was also mentioned here <a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=8140" target="_blank">http://www.monkeycoder.co.nz/Community/posts.php?topic=8140</a> <br><br></td></tr></table><br>
<a name="2082830"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SGEM</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#214">[#214]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great work on Diddy, I keep finding new features hidden in it...<br><br>However I think I have stumbled across a bug in the virtual resolution handling when not using aspect ratio.  In my case I wish to use a specific x (or y) dimension and handle the other variation within the app.  The expectation was that I should just be able to call SetScreenSize() in OnResize(), however this caused some very odd problems with stretched graphics etc.  I tracked the culprit down to the following two lines in SetScreenSize().<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">		SCREENX_RATIO = DEVICE_WIDTH/SCREEN_WIDTH
		SCREENY_RATIO = DEVICE_HEIGHT/SCREEN_HEIGHT</textarea><br><br>If AspectRatio is on then the DEVICE_WIDTH and HEIGHT values are reset during Render, but this never happens if you're not using AspectRatio.  My work around was to set DEVICE_WIDTH / DEVICE_HEIGHT within the call to SetScreenSize() as below<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
	'summary: Sets up the virtual resolution
	Method SetScreenSize:Void(w:Float, h:Float, useAspectRatio:Bool = False)
		SCREEN_WIDTH = w
		SCREEN_HEIGHT = h
		SCREEN_WIDTH2 = SCREEN_WIDTH / 2
		SCREEN_HEIGHT2 = SCREEN_HEIGHT / 2
		
		DEVICE_WIDTH = DeviceWidth()
		DEVICE_HEIGHT = DeviceHeight()
		
		SCREENX_RATIO = DEVICE_WIDTH / SCREEN_WIDTH
		SCREENY_RATIO = DEVICE_HEIGHT / SCREEN_HEIGHT
		
		If SCREENX_RATIO &lt;&gt; 1 Or SCREENY_RATIO &lt;&gt; 1
			virtualResOn = True
			aspectRatioOn = useAspectRatio
			aspectRatio = h / w
		End
		If DeviceWidth() &lt;&gt; SCREEN_WIDTH Or DeviceHeight() &lt;&gt; SCREEN_HEIGHT Then
			deviceChanged = True
		End
	End
</textarea><br><br>This works fine for my use, but I wonder if a better solution might be to override OnResize() in DidyApp and update the values there along with setting deviceChanged, but I am by no means a Diddy or Monkey expert. <br><br></td></tr></table><br>
<a name="2082853"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#215">[#215]</a></td></tr></table></td></tr><tr ><td class="posttext"> Added some predicate magic to the container classes last night (and some other cool methods).<br><pre class=code>Class TestPredicate Implements IPredicate&lt;String&gt;
	Method Evaluate:Bool(val:String)
		Return val.Contains("e")
	End
End

Function Main()
	Local ds:DiddyStringStack = New DiddyStringStack
	ds.AddItem("the")
	ds.AddItem("cake")
	ds.AddItem("is")
	ds.AddItem("a")
	ds.AddItem("lie")
	
	Print "all items containing an e..."
	For Local s:String = EachIn ds.Items(New TestPredicate)
		Print s
	Next
End</pre><br>Prints:<br><pre class=code>the
cake
lie</pre><br>And of course it's still just a Stack, so you can use it in any other non-Diddy framework that expects Stack.<br><br>Also added:<br>Shuffle() ' shuffles the items into a random order<br>Reverse() ' reverses the order of the items<br>SwapItems(index1:Int, index2:Int) ' swaps two items in the stack/list <br><br></td></tr></table><br>
<a name="2082851"></a>

<a name="2082852"></a>

<a name="2083136"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#216">[#216]</a></td></tr></table></td></tr><tr ><td class="posttext"> After some discussion with therevills, I'm going to have a go at merging containers into default.  ArrayList is still available but is deprecated.  Due to naming conflicts with some of the new interfaces, there are some minor code changes you may have to make if you currently use custom sorting.<br>* Old IComparable interface renamed to IDepComparable<br>* Old IComparator abstract class renamed to IDepComparator<br>* Old IEnumerator abstract class renamed to IDepEnumerator <br><br></td></tr></table><br>
<a name="2094226"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >V. Lehtinen</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#217">[#217]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is the Threading module working? I can't seem to get examples compiled... I get this:<br><br><pre class=code>g++  -Wno-free-nonheap-object -O3 -DNDEBUG -I../glfw/include -I../glfw/lib -I../glfw/lib/win32 -I../openal/include -I../stb  -c -o ../main.o ../main.cpp
../main.cpp:4015:24: fatal error: tinythread.h: No such file or directory
 #include "tinythread.h"
                        ^
compilation terminated.
mingw32-make: *** [../main.o] Error 1
&lt;builtin&gt;: recipe for target '../main.o' failed
TRANS FAILED: Error executing 'mingw32-make CCOPTS="-Wno-free-nonheap-object -O3 -DNDEBUG" OUT="Release/MonkeyGame"', return code=2
Abnormal program termination. Exit code: -1
</pre> <br><br></td></tr></table><br>
<a name="2094686"></a>

<a name="2094687"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Lugato</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#218">[#218]</a></td></tr></table></td></tr><tr ><td class="posttext"> Question transferred to "DIDDY - AN OPEN SOURCE FRAMEWORK - PART 8" <br><br></td></tr></table><br>
<a name="2094684"></a>

<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
