<!DOCTYPE html><html lang="en" ><head ><title >Monkey Extras</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Monkey Extras</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=524" >User Modules</a>/<a href="#bottom" >Monkey Extras</a><br><br>
<a name="2035403"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Alright, so I've put all the public domain (ie. non-Mojo) content from MonkeyPro onto Google Code, and started up some branches for enhancements.  The first complete enhancement is to add support for a MODULE_PATH configuration variable.<br><br><a href="http://code.google.com/p/monkey-ext/" target="_blank">http://code.google.com/p/monkey-ext/</a><br><br>The branches are as follows:<br>default: The contents of MonkeyPro**.zip, minus the mojo module.<br>stable: Enhancements to the Monkey language (usually changes to trans) which have been tested and are considered "working".<br>development: Work-in-progress enhancements that aren't necessarily considered "usable" yet.<br><br>As Mark adds features to Monkey that make any of these redundant, they will likely be backed out, and/or branches closed.<br><br>Samah <br><br></td></tr></table><br>
<a name="2035444"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great start! <br><br></td></tr></table><br>
<a name="2035567"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've added a couple of download links to the Google Code page so people can easily download the enhancements.<br><br><a href="http://code.google.com/p/monkey-ext/downloads/list" target="_blank">http://code.google.com/p/monkey-ext/downloads/list</a> <br><br></td></tr></table><br>
<a name="2035507"></a>

<a name="2035495"></a>

<a name="2035496"></a>

<a name="2035511"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just added DATA_PATH to the config file.<br><br>For example:<br>DATA_PATH="data"<br><br>This means that you don't create a project.data but you do create a "data" folder and store all your media in there. <br><br></td></tr></table><br>
<a name="2035509"></a>

<a name="2036217"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Monkey-ext has been updated to Monkey v62. <br><br></td></tr></table><br>
<a name="2036766"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fsoft</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> therevills, just discovered your monkey-ext project.<br><br>Sounds cool :-)<br><br>I'd like to help you out with small changes needed to compile and have monkey work on Linux. Can I join the project? <br><br></td></tr></table><br>
<a name="2036799"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> therevills, just discovered your monkey-ext project. <br></div><br>It's mainly Samah's project, I'm just here for the ride ;)<br><br><div class="quote"> I'd like to help you out with small changes needed to compile and have monkey work on Linux. Can I join the project?  <br></div><br>Sounds good to me... just to make sure your changes will just affect Monkey and not Mojo? We can't add Mojo files to this project. <br><br></td></tr></table><br>
<a name="2036817"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> fsoft just make a clone on Google Code and push your changes.  I'll push to the main repo once I've looked at it.  Sorry to sound paranoid, but if therevills merges the wrong thing I can actually physically hit him (and I will). ;)<br><br><a href="http://code.google.com/p/monkey-ext/source/clones" target="_blank">http://code.google.com/p/monkey-ext/source/clones</a><br>Click "Create a clone" to make your own Google Code repository, then clone to your computer.  Push to Google Code when you're done.<br><br>You might want to enable the queues extension to let you strip bad revisions if you commit the wrong thing before you push (I was a noob and did this the other day).  Open your .hg/hgrc file and add:<br><br><pre class=code>[extensions]
mq =</pre><br>Don't forget, if you catch your mistake straight away you can rollback exactly one transaction. <br><br></td></tr></table><br>
<a name="2036816"></a>

<a name="2036815"></a>

<a name="2036813"></a>

<a name="2036814"></a>

<a name="2036939"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fsoft</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Samah, just committed my changes in my clone repository.<br><br>It is called fabiorotondo-monkey-linux<br><br>Changes are:<br><br>- Added support for Linux platform where needed<br>- Added new command line option "-build-all" that allows to transcode<br>  to a target that shouldn't be supported by the hosting platform.<br><br>- Added trans_linux in the "bin" directory<br>- Modified config.linux.txt<br><br>Waiting for comments and critics ;-) <br><br></td></tr></table><br>
<a name="2036942"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Changes look good, but a few things:<br>You should be working from the development branch, not the default.  Delete and re-clone your Google Code repository to get rid of your commit, update to the development tip, reapply your changes, then push.<br><br><b>targets.monkey:</b><br>[monkeycode]If Html5Target.IsValid() Or build_all Then valid.Push "html5"[/monkeycode]For each of these if statements, put the build_all check first so that it will short-circuit instead of calling IsValid().<br><br><b>trans.monkey:</b><br>In vanilla trans, if you pass in no -target argument, you'll get "No target specified".  In your version, you'll get "Command line error - invalid target:" with no target name.<br><br>Delete this existing line:<br>[monkeycode]If Not target Die "No target specified"[/monkeycode]and add this line between "Next" and "target=SelectTarget..."<br>[monkeycode]If Not target_name Die "No target specified"[/monkeycode] <br><br></td></tr></table><br>
<a name="2036941"></a>

<a name="2036940"></a>

<a name="2036953"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fsoft</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Created the new clone: fabiorotondo-monkey-linux-dev and switched to the development branch.<br><br>Applied the changes again, following your hints. <br><br></td></tr></table><br>
<a name="2036982"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Don't forget to push. ;) <br><br></td></tr></table><br>
<a name="2036998"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fsoft</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ops ... :-)<br><br>Actually I did, but I got a network error and I was out of office when it happened.<br><br>Now the push succeded. <br><br></td></tr></table><br>
<a name="2036999"></a>

<a name="2037000"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Coolies, just one more thing.  With your current changes, trans will always display "TRANS FAILED: No target specified" no matter what target you give it.<br><br>trans.monkey line 235:<br>Change:<br>[monkeycode]If Not target Die "No target specified"[/monkeycode]<br>To<br>[monkeycode]If Not target_name Die "No target specified"[/monkeycode]<br><br>Rebuild trans, commit, and push.  I'd do it myself, but I haven't got a setup for compiling trans on Linux.  I guess I'll have to at some point...<br>You don't need to blow away your changes, just commit on top of your current version.  That's what development branches are for. :) <br><br></td></tr></table><br>
<a name="2037001"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fsoft</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Committend (and pushed) all the changes.<br><br>I used the new trans_linux to compile itself ;-) <br><br></td></tr></table><br>
<a name="2037002"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fsoft</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just pushed Ted.x86 in "monkey/bin" directory. It is Ted for Linux x86 architectures. :-) <br><br></td></tr></table><br>
<a name="2037003"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> So you've tested Ted and it's all working fine?  If so I'll merge with stable. <br><br></td></tr></table><br>
<a name="2037009"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fsoft</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes, everything is working fine. <br>I am not sure if Ted will start at all on different platforms<br><br>I can produce a shell script to compile Ted on Linux if there are issues <br><br></td></tr></table><br>
<a name="2037019"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well I've finally install Ubuntu on Virtual Box and installed Hg and TortoiseHg.<br><br>Cloned the repository and managed to launch Ted.x86... and it looks good to me, but of course I can't compile anything yet as I need mojo. Downloading now.<br><br>[Edit]<br>Works pretty well, good job Fabio!<br><br><img src="http://www.therevillsgames.com/monkey/monkey-ext_ubuntu.png"> <br><br></td></tr></table><br>
<a name="2037015"></a>

<a name="2037016"></a>

<a name="2037014"></a>

<a name="2037017"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fsoft</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great! :-)<br><br>Don't you think it would be better to create a mailing list or google group related the monkey-ext? I think that sometimes this is not the right place for some messages.<br><br>Also, I have a few questions on hg (the commandline version, not tortoise) I'd like to ask to you ... :-) <br><br></td></tr></table><br>
<a name="2037063"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Merged into stable and pushed to monkey-ext. <br><br></td></tr></table><br>
<a name="2037064"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> New zip added: Monkey v63-monkey-ext <br><br>Stable Branch:<br><br>•Modules Directory Config Option <br>•Data Directory Config Option <br>•iOS IOS_SCREEN_ORIENTATION <br>•iOS Arm v6 support <br>•iOS Hide the statusbar <br>•Linux support <br><br></td></tr></table><br>
<a name="2037067"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just throwing this out there-- but i added a "CC_OPTS" option for the CONFIG.TXT file, similar to what blitzmax had from a Brucey bmk mod.<br><br>the cc_opts check I added to the stdcpp target (config method), was easy to add.<br><br>overall, it allowed me to add the "-L" or "-I" option to the compiler/linker so I didn't have to copy over the full library sources for wxWidgets. And since it's a CONFIG.TXT file, different CC_OPTS for different platforms (pc/mac). <br><br></td></tr></table><br>
<a name="2037068"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Post the code Adam or clone the project and we'll have a look at it :) <br><br></td></tr></table><br>
<a name="2037070"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fsoft</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Adam, could you add the CC_OPTS also for the glfw target? This would help me port glfw to Linux more easyly. <br><br></td></tr></table><br>
<a name="2037133"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> <textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">

Class StdcppTarget Extends Target
	
	Field cc_opts:String
	Field use_wx:Int=0
	
	Function IsValid()
		If FileType( "stdcpp" )&lt;&gt;FILETYPE_DIR Return False
		Select HostOS
		Case "winnt"
			If MINGW_PATH Return True
		Case "macos"
			Return True
		Case "linux"
			Return True
		End
	End

	Method Begin()
		ENV_TARGET="stdcpp"
		ENV_LANG="cpp"

	End
	
	Method Config$()
		Local config:=New StringStack
		For Local kv:=Eachin Env

			If kv.Key&lt;&gt;"CC_OPTS"
				config.Push "#define CFG_"+kv.Key+" "+kv.Value
			Else
				cc_opts=cc_opts.Join([kv.Value," "])
			Endif
		Next
		Return config.Join( "~n" )
	End
	
	Method MakeTarget()
	
		Select ENV_CONFIG
		Case "debug" Env.Set "DEBUG","1"
		Case "release" Env.Set "RELEASE","1"
		Case "profile" Env.Set "PROFILE","1"
		End
		
		Local main$
		

		main=LoadString("main.cpp")
		
		
		main=ReplaceBlock( main,"TRANSCODE",transCode )
		main=ReplaceBlock( main,"CONFIG",Config() )
		
		
		
		SaveString main,"main.cpp"

		If OPT_ACTION&gt;=ACTION_BUILD

			Local out$="main_"+HostOS
			DeleteFile out
			
			Print "cc_opts: "+cc_opts
			
			Select ENV_HOST
			Case "macos"
				Select ENV_CONFIG
				Case "release"
					Execute "g++ -arch i386 -read_only_relocs suppress -mmacosx-version-min=10.3 -O3 -o "+out+" main.cpp"+cc_opts
				Case "debug"
					Execute "g++ -arch i386 -read_only_relocs suppress -mmacosx-version-min=10.3 -o "+out+" main.cpp"+cc_opts
				End
			Default
				Select ENV_CONFIG
				Case "release"
					Execute "g++ -O3 -o "+out+" main.cpp "+cc_opts
				Case "profile"
					Execute "g++ -O3 -o "+out+" main.cpp -lwinmm "+cc_opts
				Case "debug"
					Execute "g++ -o "+out+" main.cpp "+cc_opts
				End
			End

			If OPT_ACTION&gt;=ACTION_RUN
				Execute "~q"+RealPath( out )+"~q"
			Endif
		Endif
	End
	
End
</textarea><br><br>so then in my CONFIG.TXT in the build folder, i just set CC_OPTS to the proper line command.<br>unfortunately, the Key/map thing in the config function only allows one CC_OPTS, but just one-line everything.<br><br>example:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
CPP_INCREMENTAL_GC=1
CPP_DOUBLE_PRECISION_FLOATS=1
CC_OPTS=  -I"C:\Monkey\modules\wxmonkey\wxMSW-2.8.12\include" -L"c:/mingw/lib" -L"C:\Monkey\modules\wxmonkey\wxMSW-2.8.12\lib\gcc_lib" -static -lwxjpeg -lwxregex -lwxexpat -lwxmsw28_core -lwxbase28 -Wl,--subsystem,windows -mwindows -D__WXRELEASE__ -D__WXMSW__ -lstdc++ -lkernel32 -luser32 -lgdi32 -lcomdlg32 -lwinspool -lwinmm -lshell32 -lcomctl32 -lole32 -loleaut32 -luuid -lrpcrt4 -ladvapi32 -lwsock32 -lodbc32
</textarea><br><br>this will work for any target, just add the right lines in to the glfw target class. <br><br></td></tr></table><br>
<a name="2037075"></a>

<a name="2037074"></a>

<a name="2037072"></a>

<a name="2037086"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> I assume we can take out this line:<br>[monkeycode]_trans=New wxTranslator[/monkeycode]<br><br>Is it possible to do this a different way, like a separate file?  CONFIG.txt appears to be only for #define CFG_ and I didn't really want to change that.  It doesn't seem right putting a special case in for CC_OPTS, otherwise we'll need to do it every time you want to add another variable.<br><br>I think make another file in the same directory as CONFIG.txt.  Pick a filename and change your code to load it. <br><br></td></tr></table><br>
<a name="2037134"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I think make another file in the same directory as CONFIG.txt <br></div><br>but then you're dealing with more files. i lean towards simplicity for the user end. Offhand I can't think of other options you would want at compile time.<br><br>i guess you could go the build.txt file route, where it checks for a build file and builds off that (mingw target). <br><br></td></tr></table><br>
<a name="2037137"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't see the problem with another file, if we just include an empty one.  The user will have it if they're using monkey-ext.  It could be one line per parameter too.<br><br>build.txt:<br><pre class=code>-I"C:\Monkey\modules\wxmonkey\wxMSW-2.8.12\include"
-L"c:/mingw/lib"
-L"C:\Monkey\modules\wxmonkey\wxMSW-2.8.12\lib\gcc_lib"
-static
-lwxjpeg
-lwxregex
-lwxexpat
-lwxmsw28_core
-lwxbase28
-Wl,--subsystem,windows
-mwindows
-D__WXRELEASE__
-D__WXMSW__
-lstdc++
-lkernel32
-luser32
-lgdi32
-lcomdlg32
-lwinspool
-lwinmm
-lshell32
-lcomctl32
-lole32
-loleaut32
-luuid
-lrpcrt4
-ladvapi32
-lwsock32
-lodbc32</pre> <br><br></td></tr></table><br>
<a name="2037140"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'd prefer Adam's change in the CONFIG.txt, it makes sense to keep all target configs in one place. <br><br></td></tr></table><br>
<a name="2037141"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> Guess I'm outvoted then. :)<br><br>On an unrelated note, I have array compare-by-reference working on all the targets I've tested (HTML5, Flash, stdcpp, GLFW, Android).  Just gotta test out XNA, iOS, and PSM.  If stdcpp and GLFW work, iOS and PSM should work.  XNA should be fine too since I believe the syntax is the same. <br><br></td></tr></table><br>
<a name="2037149"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> Array compare-by-reference committed to development branch and pushed.  Go go break it. ;) <br><br></td></tr></table><br>
<a name="2037150"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>One thing to be aware of with array reference comparisons is that empty arrays might cause problems.<br><br>The C++ target (others...?) shares the same data rep for empty arrays, so comparing 2 empty arrays will always return true. Other targets don't - or, if they do, an array returned by a native call wont, eg:<br><br><pre class=code>
Local x[],y[]
Print Int( x=y )   'will depend on target.
</pre><br><br>You could possibly kludge the comparison so that comparing empty arrays always returns true, but that's no longer 'compare by reference' and could lead to unexpected results:<br><br><pre class=code>
Function Blah( x[],y[],p,q )
  Print Int( x[p..]=y[q..] )   'will depend on what p and q are!
End
</pre><br><br>Alternately, you could remove the empty array opt altogether, but I think it's a good 'un and something I'd like to apply to more targets.<br><br>I honestly don't miss being able to compare arrays - IMO, arrays are best thought of as simple building blocks used to pass temporary data around in, or to store stuff privately. If you need a public, mutable container, use something higher level like a Stack or ArrayList or WorldMap or whatever. <br><br></td></tr></table><br>
<a name="2037152"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> One thing to be aware of with array reference comparisons is that empty arrays might cause problems. <br></div><br>Given that you can't change the contents of an empty array, I don't see any problem in them being considered the same "object".  If the empty array comparison is going to have different results on different targets, I'd just force it to say all empty arrays are equal.<br><br><div class="quote"> I honestly don't miss being able to compare arrays <br></div><br>I don't per se, but there have been a few times I've wanted to.<br><br><div class="quote"> If you need a public, mutable container, use something higher level like a Stack or ArrayList or WorldMap or whatever. <br></div><br>Which has more overhead. <br><br></td></tr></table><br>
<a name="2037920"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> Adam, did you want to do the CC_OPTS thing yourself?  I'll review it and push it to the master repo.<br><br>1) Clone the master Google Code repo online <a href="http://code.google.com/p/monkey-ext/source/clones" target="_blank">http://code.google.com/p/monkey-ext/source/clones</a><br>2) Clone that locally<br>3) Update to development branch<br>4) Make your changes and commit<br>5) Push to your online clone<br>6) Tell me :) <br><br></td></tr></table><br>
<a name="2038085"></a>

<a name="2038086"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> 6) Tell me :)  <br></div><br>Telling you.<br><a href="http://code.google.com/r/robotanimator-monkey-ext/" target="_blank">http://code.google.com/r/robotanimator-monkey-ext/</a><br><br>oh, so i made it so CC_OPTS can be in multiple lines with anything that starts with CC_OPTS, like CC_OPTS1, CC_OPTS2, etc. Sometimes easier to edit that way. <br><br></td></tr></table><br>
<a name="2038088"></a>

<a name="2038089"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> 3) Update to development branch <br></div><br>You applied your changes to default branch... orz<br><br>If you want I'll just copy/paste your code and put your name in the commit comments.<br><br>Edit: Would it be better to just reuse CC_OPTS and append it each time?  It would make it more along the lines of how MODULE_PATH works.<br>Edit 2: That might be too hard actually... <br><br></td></tr></table><br>
<a name="2038087"></a>

<a name="2038091"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Would it be better to just reuse CC_OPTS and append it each time? <br></div>I wanted it that way, but the core "Env" is a Map-- which doesn't allow duplicates.<br><div class="quote"> You applied your changes to default branch... orz<br> <br></div><br>Did you mean this one? fabiorotondo-monkey-linux-dev<br>doh, sorry. Yes, just copy/paste it, easiest. it's just the preconfig() and +cc_opts at the end of the lines. <br><br></td></tr></table><br>
<a name="2038094"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> I grafted your changeset to the development branch (I love Mercurial) so it kept your name and timestamp.  I had to add the cc_opts field though! <br><br></td></tr></table><br>
<a name="2038121"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> how about monk for linux? <br><br></td></tr></table><br>
<a name="2038156"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> Whats wrong with Ted? <br><br></td></tr></table><br>
<a name="2038167"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> I didnt think I would be able to compile it, ill have a go :) <br><br></td></tr></table><br>
<a name="2038257"></a>

<a name="2038259"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jondecker76</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ted for linux would be great<br><br>I'd also like to see:<br>- GLFW as a linux target (there is a tutorial on it here somewhere)<br>- MonkeyMax included <br><br></td></tr></table><br>
<a name="2038261"></a>

<a name="2038262"></a>

<a name="2038263"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ted for Linux is included, thanks to fsoft.<br><br>MonkeyMax could be added, but it relies on Mojo so it wouldn't work out of the box so to speak... <br><br>For GLFW, it depends on how much Mojo is needed for the Linux change, we can not include Mojo as part of MonkeyExt. <br><br></td></tr></table><br>
<a name="2038264"></a>

<a name="2038265"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jondecker76</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> The GLFW target for linux doesn't need any mojo changes.  This thread details it very well:<br><a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=3415" target="_blank">http://www.monkeycoder.co.nz/Community/posts.php?topic=3415</a><br><br>As far as MonkeyMax relying on Mojo - isn't it standard practice for  Monkey-ext users to copy mojo over from a standard monkey install?  Is there a way to cleanly detect that the mojo module is available in code to enable the target?<br><br>thanks! <br><br></td></tr></table><br>
<a name="2038283"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fsoft</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> therevills, I am planning to port GLFW for Linux (again! :-) in monkey-ext.<br><br>Should I begin from my monkey-ext clone, on the "development" branch? <br><br></td></tr></table><br>
<a name="2038313"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> @jondecker76<br><br>Yes, it looks like we should be able to add GFLW Linux without any Mojo troubles and since Fabio is planning on doing it anyway it sounds like a plan forward :)<br><br><div class="quote"> isn't it standard practice for Monkey-ext users to copy mojo over from a standard monkey install? <br></div><br>Yep, but thats the issue. MonkeyMax alters one Mojo file which actually checks the target to see if it valid target, so if we include MonkeyMax that file would be the altered file, but then the user copies over Mojo and will blow away that change.<br><br>I guess we could include the Trans MonkeyMax changes, get the user to copy over Mojo and then get them to copy of the MojoMonkeyMax changes...<br><br>@Fabio:<br><div class="quote"> Should I begin from my monkey-ext clone, on the "development" branch?  <br></div><br>Yep, sounds good - just remember to pull all the latest changes :) <br><br></td></tr></table><br>
<a name="2038312"></a>

<a name="2038327"></a>

<a name="2038328"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> isn't it standard practice for Monkey-ext users to copy mojo over from a standard monkey install? <br></div><br>I keep mojo in a separate directory and use the MODULE_PATH variable. <br><br><div class="quote"> I guess we could include the Trans MonkeyMax changes, get the user to copy over Mojo and then get them to copy of the MojoMonkeyMax changes... <br></div><br>I didn't really want to include any 3rd party targets. Linux is a compilation of existing code, whereas MonkeyMax has its own project page. <br><br></td></tr></table><br>
<a name="2063006"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >muddy_shoes</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've just discovered that an attempt at using reflection causes Monkey to baulk at a potential array comparison in a generic class that never happens usually. <br><br>The situation is a bit of a mess and I'd like to look at how you've implemented array identity comparisons. The repo history doesn't have a helpful "this is where we did array comparisons" commit so any chance you could point me in the right direction? <br><br></td></tr></table><br>
<a name="2063015"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >muddy_shoes</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> Aha, I found it in the development branch. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
