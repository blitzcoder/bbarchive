<!DOCTYPE html><html lang="en" ><head ><title >Mojo 2 crash on Nexus 5 (Android 6.0)</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Mojo 2 crash on Nexus 5 (Android 6.0)</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=501" >Monkey Bug Reports</a>/<a href="#bottom" >Mojo 2 crash on Nexus 5 (Android 6.0)</a><br><br>
<a name="2113971"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >teoretik</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> from: <a href="http://www.monkey-x.com/Community/posts.php?topic=10261#113970" target="_blank">http://www.monkey-x.com/Community/posts.php?topic=10261#113970</a><br>I found that any simple mojo2 code with (at least) Image crashes on my<br>Nexus 5 (Android 6.0) but works perfect for HTML/Win/Samsung Galaxy S4/HTC Desire.<br><br>Here is android versions:<br>Nexus 5: 6.0<br>S4: 5.0.1<br>HTC desire: 4.0.4<br><br>Super simple example:<br>works perfect html5/win/S4/HTC, but fails on Nexus<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Import mojo2

Class MyApp Extends App
	Field canvas:Canvas
	Field tile:Image
	Method OnCreate()
		canvas = New Canvas
		tile = Image.Load("t2.png")
	End
	
	Method OnRender()
		canvas.Clear
		canvas.DrawImage tile, 100, 100
		canvas.Flush
	End
End

Function Main()
	New MyApp
End
</textarea><br><br><br>P.S. If remove drawimage it works. <br><br></td></tr></table><br>
<a name="2113982"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SLotman</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Check if "tile" isn't null before drawing it. <br><br>Other than that, try to connect the phone and copy the error shown in the debug window (if Monkey doesn't do anything, try opening the code on eclipse and see what kind of error appears there)<br><br>and btw: Android is already on version 6?! Jesus, I haven't even seen a phone with 5 yet... O_o <br><br></td></tr></table><br>
<a name="2113983"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can you also post the full crash output?<br><br>Has anyone successfully run mojo2 apps on a nexus 5? On android 6? Both?!?<br><br>Does mojo1 work? <br><br></td></tr></table><br>
<a name="2114001"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >teoretik</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Mojo1 works perfect for all platform.<br><br>The tile isn't null, same code works on other platforms (HTML5/S4/HTC),<br>if i remove  canvas.DrawImage  it works on Nexus as well (so I can clear screen with different colors).<br><br>If I use canvas.DrawCircle(100,100,200) instead it crashes too.<br><br>Here is console output for Nexus 5<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
BUILD SUCCESSFUL
Total time: 5 seconds
Starting: Intent { cmp=com.monkeycoder.monkeygame/.MonkeyGame }

--------- beginning of system

--------- beginning of main

12-10 21:11:35.642 10745 10826 E Icing   : Failed to update per-doc-data with usage report

12-10 21:11:35.643 10745 10826 E Icing   : Failed to update per-doc-data with usage report

12-10 21:11:35.644 10745 10826 E Icing   : Failed to update per-doc-data with usage report

12-10 21:11:35.645 10745 10826 E Icing   : Failed to update per-doc-data with usage report

12-10 21:11:35.646 10745 10826 E Icing   : Failed to update per-doc-data with usage report

12-10 21:11:36.432  1622  1785 E Surface : getSlotFromBufferLocked: unknown buffer: 0x9bcc9800

12-10 21:11:36.642 15107 15167 E linker  : readlink('/proc/self/fd/25') failed: Permission denied [fd=25]

12-10 21:11:36.642 15107 15167 E linker  : warning: unable to get realpath for the library "/system/framework/oat/arm/com.android.location.provider.odex". Will use given name.

12-10 21:11:36.664 15107 15167 E linker  : readlink('/proc/self/fd/25') failed: Permission denied [fd=25]

12-10 21:11:36.664 15107 15167 E linker  : warning: unable to get realpath for the library "/system/framework/oat/arm/com.android.media.remotedisplay.odex". Will use given name.

12-10 21:11:36.683 10745 10826 E Icing   : Failed to update per-doc-data with usage report

12-10 21:11:36.684 10745 10826 E Icing   : Failed to update per-doc-data with usage report

12-10 21:11:36.685 10745 10826 E Icing   : Failed to update per-doc-data with usage report

12-10 21:11:36.685 15107 15167 E linker  : readlink('/proc/self/fd/25') failed: Permission denied [fd=25]

12-10 21:11:36.685 15107 15167 E linker  : warning: unable to get realpath for the library "/data/app/com.google.android.gms-1/oat/arm/base.odex". Will use given name.

12-10 21:11:36.686 10745 10826 E Icing   : Failed to update per-doc-data with usage report

12-10 21:11:36.687 10745 10826 E Icing   : Failed to update per-doc-data with usage report

12-10 21:11:36.688 10745 10826 E Icing   : Failed to update per-doc-data with usage report

12-10 21:11:36.689 10745 10826 E Icing   : Failed to update per-doc-data with usage report

12-10 21:11:36.690 10745 10826 E Icing   : Failed to update per-doc-data with usage report

12-10 21:11:36.691 10745 10826 E Icing   : Failed to update per-doc-data with usage report

12-10 21:11:36.692 10745 10826 E Icing   : Failed to update per-doc-data with usage report

12-10 21:11:36.909 15107 15167 E linker  : readlink('/proc/self/fd/25') failed: Permission denied [fd=25]

12-10 21:11:36.910 15107 15167 E linker  : warning: unable to get realpath for the library "/data/app/com.google.android.gms-1/lib/arm/libgmscore.so". Will use given name.

12-10 21:11:36.955 15107 15167 E linker  : readlink('/proc/self/fd/25') failed: Permission denied [fd=25]

12-10 21:11:36.955 15107 15167 E linker  : warning: unable to get realpath for the library "/data/app/com.google.android.gms-1/lib/arm/libconscrypt_gmscore_jni.so". Will use given name.

12-10 21:11:37.362 15146 15207 I [Monkey]: Monkey Runtime Error : Unsupported uniform type:0

12-10 21:11:37.363 15146 15207 I [Monkey]: C:/Users/Teoretik/Documents/Monkey X Studio/MonkeyX/MonkeyXPro86b/modules/mojo2/graphics.monkey&lt;1003&gt;

12-10 21:11:37.363 15146 15207 I [Monkey]: C:/Users/Teoretik/Documents/Monkey X Studio/MonkeyX/MonkeyXPro86b/modules/mojo2/graphics.monkey&lt;1877&gt;

12-10 21:11:37.363 15146 15207 I [Monkey]: C:/Users/Teoretik/Documents/Monkey X Studio/MonkeyX/MonkeyXPro86b/modules/mojo2/graphics.monkey&lt;1967&gt;

12-10 21:11:37.363 15146 15207 I [Monkey]: C:/Users/Teoretik/Documents/Monkey X Studio/MonkeyX/MonkeyXPro86b/modules/mojo2/graphics.monkey&lt;1995&gt;

12-10 21:11:37.363 15146 15207 I [Monkey]: C:/Users/Teoretik/Documents/Monkey X Studio/MonkeyX/MonkeyXPro86b/modules/mojo2/graphics.monkey&lt;2549&gt;

12-10 21:11:37.363 15146 15207 I [Monkey]: C:/Users/Teoretik/Documents/Monkey X Studio/MonkeyX/MonkeyXPro86b/modules/mojo2/graphics.monkey&lt;2459&gt;

12-10 21:11:37.363 15146 15207 I [Monkey]: K:/Coding/directlight/directlight.monkey&lt;15&gt;

12-10 21:11:37.363 15146 15207 I [Monkey]: C:/Users/Teoretik/Documents/Monkey X Studio/MonkeyX/MonkeyXPro86b/modules/mojo/app.monkey&lt;113&gt;

12-10 21:11:37.383 15146 15207 E Surface : getSlotFromBufferLocked: unknown buffer: 0xb3f456e0

--------- beginning of crash

12-10 21:11:37.396 15146 15207 E AndroidRuntime: FATAL EXCEPTION: GLThread 15707

12-10 21:11:37.396 15146 15207 E AndroidRuntime: Process: com.monkeycoder.monkeygame, PID: 15146

12-10 21:11:37.396 15146 15207 E AndroidRuntime: java.lang.RuntimeException: Unsupported uniform type:0

12-10 21:11:37.396 15146 15207 E AndroidRuntime: 	at com.monkeycoder.monkeygame.bb_std_lang.error(MonkeyGame.java:135)

12-10 21:11:37.396 15146 15207 E AndroidRuntime: 	at com.monkeycoder.monkeygame.c_Material.p_Bind(MonkeyGame.java:7565)

12-10 21:11:37.396 15146 15207 E AndroidRuntime: 	at com.monkeycoder.monkeygame.c_DrawList.p_Render(MonkeyGame.java:4343)

12-10 21:11:37.396 15146 15207 E AndroidRuntime: 	at com.monkeycoder.monkeygame.c_DrawList.p_Render2(MonkeyGame.java:4524)

12-10 21:11:37.396 15146 15207 E AndroidRuntime: 	at com.monkeycoder.monkeygame.c_DrawList.p_Flush(MonkeyGame.java:4566)

12-10 21:11:37.396 15146 15207 E AndroidRuntime: 	at com.monkeycoder.monkeygame.c_Canvas.p_FlushPrims(MonkeyGame.java:5202)

12-10 21:11:37.396 15146 15207 E AndroidRuntime: 	at com.monkeycoder.monkeygame.c_Canvas.p_Flush(MonkeyGame.java:4901)

12-10 21:11:37.396 15146 15207 E AndroidRuntime: 	at com.monkeycoder.monkeygame.c_MyApp.p_OnRender(MonkeyGame.java:3336)

12-10 21:11:37.396 15146 15207 E AndroidRuntime: 	at com.monkeycoder.monkeygame.c_GameDelegate.RenderGame(MonkeyGame.java:3420)

12-10 21:11:37.396 15146 15207 E AndroidRuntime: 	at com.monkeycoder.monkeygame.BBGame.RenderGame(MonkeyGame.java:607)

12-10 21:11:37.396 15146 15207 E AndroidRuntime: 	at com.monkeycoder.monkeygame.BBAndroidGame.onDrawFrame(MonkeyGame.java:1312)

12-10 21:11:37.396 15146 15207 E AndroidRuntime: 	at android.opengl.GLSurfaceView$GLThread.guardedRun(GLSurfaceView.java:1535)

12-10 21:11:37.396 15146 15207 E AndroidRuntime: 	at android.opengl.GLSurfaceView$GLThread.run(GLSurfaceView.java:1240)

12-10 21:11:37.421   784   875 E InputDispatcher: Received spurious receive callback for unknown input channel.  fd=297, events=0x9

12-10 21:11:37.516  1937  1937 E NetworkScheduler.SchedulerReceiver: Invalid parameter app

12-10 21:11:37.516  1937  1937 E NetworkScheduler.SchedulerReceiver: Invalid package name : Perhaps you didn't include a PendingIntent in the extras?

</textarea><br><br>here is for (it is working!) Samsung S4<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
BUILD SUCCESSFUL
Total time: 5 seconds
Starting: Intent { cmp=com.monkeycoder.monkeygame/.MonkeyGame }

--------- beginning of main

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

--------- beginning of system

E/ActivityThread( 8688): Failed to find provider info for com.samsung.android.coreapps.easysignup.public

E/ActivityThread( 8688): Failed to find provider info for com.samsung.android.coreapps.easysignup.public

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/ActivityThread( 8688): Failed to find provider info for com.samsung.android.coreapps.easysignup

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/Mms/MessageUtils( 8688): setCountryDetector : update country detector info 

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/Mms/MessageUtils( 8688): updateCountryIso : update country iso info 

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/Mms/TelephonyUtils( 8688): subID is null or 0 length, so get DefaultSubId!!

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/ActivityManager( 3165): checkUser: useridlist=null, currentuser=0

E/ActivityManager( 3165): checkUser: useridlist=null, currentuser=0

E/ActivityManager( 3165): checkUser: useridlist=null, currentuser=0

E/ActivityManager( 3165): checkUser: useridlist=null, currentuser=0

E/Zygote  ( 8727): MountEmulatedStorage()

E/Zygote  ( 8727): v2

E/SELinux ( 8727): [DEBUG] get_category: variable seinfo: release sensitivity: NULL, cateogry: NULL

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/ActivityManager( 3165): checkUser: useridlist=null, currentuser=0

E/ActivityManager( 3165): checkUser: useridlist=null, currentuser=0

E/ActivityManager( 3165): checkUser: useridlist=null, currentuser=0

E/ActivityManager( 3165): checkUser: useridlist=null, currentuser=0

E/Zygote  ( 8742): MountEmulatedStorage()

E/Zygote  ( 8742): v2

E/SELinux ( 8742): [DEBUG] get_category: variable seinfo: release sensitivity: NULL, cateogry: NULL

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/MTPRx   ( 8571): in isSyncFinished posting message with delay of 4sec

E/AffinityControl( 8710): AffinityControl: registerfunction enter

</textarea> <br><br></td></tr></table><br>
<a name="2114007"></a>

<a name="2114008"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Could you change line 1003 of modules/mojo2/graphics.monkey to:<br><br><pre class=code>
				Error "Unsupported uniform type: name="+u.name+", location="+u.location+", size="+u.size+", type="+u.type
</pre><br><br>Then rebuild/run the project and post output here again.<br><br>This wont fix it but will give me a bit more info. <br><br></td></tr></table><br>
<a name="2114010"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >teoretik</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here is it:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
--------- beginning of crash

12-11 00:45:37.282 26265 26291 E AndroidRuntime: FATAL EXCEPTION: GLThread 16487

12-11 00:45:37.282 26265 26291 E AndroidRuntime: Process: com.monkeycoder.monkeygame, PID: 26265

12-11 00:45:37.282 26265 26291 E AndroidRuntime: java.lang.RuntimeException: Unsupported uniform type: name=AmbientColor, location=0, size=0, type=0

</textarea> <br><br></td></tr></table><br>
<a name="2114015"></a>

<a name="2114016"></a>

<a name="2114017"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, sounds like a bug in glGetActiveUniform to me.<br><br>No idea if it's a nexus 5 or android 6 issue - my crappy old nexus 7 is still on Android 5, and probably will be forever...<br><br>Did it used to work on android 5, ie: did it only break after upgrading to android 6?<br><br>Can anyone else confirm this bug on any device/OS? <br><br></td></tr></table><br>
<a name="2114030"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> None of my Android device have yet received the 6.0 update... Could you set up an emulator running it? <br><br></td></tr></table><br>
<a name="2114035"></a>

<a name="2114037"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >secondgear</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Same problem on Nexus 7 (2013) Android 6.0.1 Monkey 86b<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
12-11 10:29:34.010 32603 32616 I [Monkey]: Monkey Runtime Error : Unsupported uniform type: name=AmbientColor, location=0, size=0, type=0
12-11 10:29:34.010 32603 32616 I [Monkey]: C:/Monkey/MonkeyXPro86b/modules/mojo2/graphics.monkey&lt;1003&gt;
12-11 10:29:34.010 32603 32616 I [Monkey]: C:/Monkey/MonkeyXPro86b/modules/mojo2/graphics.monkey&lt;1876&gt;
12-11 10:29:34.010 32603 32616 I [Monkey]: C:/Monkey/MonkeyXPro86b/modules/mojo2/graphics.monkey&lt;1966&gt;
12-11 10:29:34.010 32603 32616 I [Monkey]: C:/Monkey/MonkeyXPro86b/modules/mojo2/graphics.monkey&lt;1994&gt;
12-11 10:29:34.010 32603 32616 I [Monkey]: C:/Monkey/MonkeyXPro86b/modules/mojo2/graphics.monkey&lt;2548&gt;
12-11 10:29:34.010 32603 32616 I [Monkey]: C:/Monkey/MonkeyXPro86b/modules/mojo2/graphics.monkey&lt;2458&gt;
12-11 10:29:34.011 32603 32616 I [Monkey]: C:/Monkey/MyProjects/misc/test/test.monkey&lt;14&gt;
12-11 10:29:34.011 32603 32616 I [Monkey]: C:/Monkey/MonkeyXPro86b/modules/mojo/app.monkey&lt;113&gt;
--------- beginning of crash
12-11 10:29:34.051 32603 32616 E AndroidRuntime: FATAL EXCEPTION: GLThread 823
12-11 10:29:34.051 32603 32616 E AndroidRuntime: Process: com.monkeycoder.monkeygame, PID: 32603
12-11 10:29:34.051 32603 32616 E AndroidRuntime: java.lang.RuntimeException: Unsupported uniform type: name=AmbientColor, location=0, size=0, type=0
12-11 10:29:34.051 32603 32616 E AndroidRuntime: 	at com.monkeycoder.monkeygame.bb_std_lang.error(MonkeyGame.java:135)
12-11 10:29:34.051 32603 32616 E AndroidRuntime: 	at com.monkeycoder.monkeygame.c_Material.p_Bind(MonkeyGame.java:7565)
12-11 10:29:34.051 32603 32616 E AndroidRuntime: 	at com.monkeycoder.monkeygame.c_DrawList.p_Render(MonkeyGame.java:4343)
12-11 10:29:34.051 32603 32616 E AndroidRuntime: 	at com.monkeycoder.monkeygame.c_DrawList.p_Render2(MonkeyGame.java:4524)
12-11 10:29:34.051 32603 32616 E AndroidRuntime: 	at com.monkeycoder.monkeygame.c_DrawList.p_Flush(MonkeyGame.java:4566)
12-11 10:29:34.051 32603 32616 E AndroidRuntime: 	at com.monkeycoder.monkeygame.c_Canvas.p_FlushPrims(MonkeyGame.java:5202)
12-11 10:29:34.051 32603 32616 E AndroidRuntime: 	at com.monkeycoder.monkeygame.c_Canvas.p_Flush(MonkeyGame.java:4901)
12-11 10:29:34.051 32603 32616 E AndroidRuntime: 	at com.monkeycoder.monkeygame.c_MyApp.p_OnRender(MonkeyGame.java:3336)
12-11 10:29:34.051 32603 32616 E AndroidRuntime: 	at com.monkeycoder.monkeygame.c_GameDelegate.RenderGame(MonkeyGame.java:3420)
12-11 10:29:34.051 32603 32616 E AndroidRuntime: 	at com.monkeycoder.monkeygame.BBGame.RenderGame(MonkeyGame.java:607)
12-11 10:29:34.051 32603 32616 E AndroidRuntime: 	at com.monkeycoder.monkeygame.BBAndroidGame.onDrawFrame(MonkeyGame.java:1312)
12-11 10:29:34.051 32603 32616 E AndroidRuntime: 	at android.opengl.GLSurfaceView$GLThread.guardedRun(GLSurfaceView.java:1535)
12-11 10:29:34.051 32603 32616 E AndroidRuntime: 	at android.opengl.GLSurfaceView$GLThread.run(GLSurfaceView.java:1240)
12-11 10:29:34.061   594  1473 W ActivityManager:   Force finishing activity com.monkeycoder.monkeygame/.MonkeyGame
12-11 10:29:34.129   594 32630 D OpenGLRenderer: Use EGL_SWAP_BEHAVIOR_PRESERVED: true
</textarea> <br><br></td></tr></table><br>
<a name="2114034"></a>

<a name="2114036"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >teoretik</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm, cant say if it works on Nexus 5 with Android 5.0 or so,<br>I started use mojo2 after I upgraded<br>and got crash,<br>the only thing I found somehow relevant<br><a href="http://stackoverflow.com/questions/30994882/opengl-issue-on-nexus-5-5-1" target="_blank">http://stackoverflow.com/questions/30994882/opengl-issue-on-nexus-5-5-1</a> <br>maybe some key is here?<br><br>Maybe I should make more tests or so on?<br><br>(No idea why clearing screen with different colors works, but when i try draw line or image it is crashes) <br><br></td></tr></table><br>
<a name="2114038"></a>

<a name="2114039"></a>

<a name="2114040"></a>

<a name="2114041"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; Could you set up an emulator running it?<br><br>Now there's an idea - and it worked!<br><br>I can reproduce the issue and have come up with a workaround. It does indeed appear to be a bug in glGetActiveUniform in android 6. But there is an overloaded version that seems to work OK so I've modified the android gles20 module to use this if necessary.<br><br>I've just uploaded experimental update v86c that includes the work around - please give it a try if you're having this problem. <br><br></td></tr></table><br>
<a name="2114042"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >teoretik</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> So sweet! Ty marksibly!<br>I works now!<br>Fixed for android 6.0 <br><br></td></tr></table><br>
<a name="2114043"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Now there's an idea - and it worked! <br></div><br>Cool :)<br><br><div class="quote">  It does indeed appear to be a bug in glGetActiveUniform in android 6. <br></div><br>Maybe submit a bug log to the Android team:<br><br><a href="https://source.android.com/source/report-bugs.html" target="_blank">https://source.android.com/source/report-bugs.html</a> <br><br></td></tr></table><br>
<a name="2114207"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >teoretik</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> So, it works on 6.0.1 as well :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
