<!DOCTYPE html><html lang="en" ><head ><title >[Android] ViewHeight function needed</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >[Android] ViewHeight function needed</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=501" >Monkey Bug Reports</a>/<a href="#bottom" >[Android] ViewHeight function needed</a><br><br>
<a name="2076985"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> DeviceHeight returns always the physical screen size which is ok. But on newer Android devices we need the view size as well which can be less than the physical size because of the soft buttons bar at the bottom.<br><br>I've posted a possible solution here:<br><a href="http://monkeycoder.co.nz/Community/posts.php?topic=7827" target="_blank">http://monkeycoder.co.nz/Community/posts.php?topic=7827</a> <br><br></td></tr></table><br>
<a name="2077004"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think DeviceHeight should reflect the available area, i.e. the view size.  That's how it works on HTML and Flash where it gives the size of the window rather than the monitor, after all. <br><br></td></tr></table><br>
<a name="2077003"></a>

<a name="2077031"></a>

<a name="2077050"></a>

<a name="2077051"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sample code?<br><br>The below code seems to work OK, DeviceHeight returns 1205 on my nexus 7 (or 736 in landscape mode), which sounds about right for 1280 x 800. Also, the android target code just returns _view.getheight() which I'm pretty sure will exclude home button etc height.<br><br>If you want to move game graphics above the ad, you should subtract Admob.AdViewHeight from your playfield height - this allows you to 'clear' the area behind the ad any way you want.<br><br><pre class=code>
Import mojo

Class MyApp Extends App
	
	Method OnCreate()
	
		SetUpdateRate 60
	End
	
	Method OnRender()
	
		Cls 255,255,255
		
		SetColor 255,0,0
		
		DrawRect 1,1,DeviceWidth-2,DeviceHeight-2
		
		SetColor 255,255,255
		
		DrawText "DeviceWidth="+DeviceWidth+", DeviceHeight="+DeviceHeight,2,2

	End
	
End

Function Main()

	New MyApp
	
End
</pre> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
