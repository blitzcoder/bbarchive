<!DOCTYPE html><html lang="en" ><head ><title >KeyDown()-Bug in Flash</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >KeyDown()-Bug in Flash</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=501" >Monkey Bug Reports</a>/<a href="#bottom" >KeyDown()-Bug in Flash</a><br><br>
<a name="2049507"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zwer99</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello,<br><br>I tried to find the bug, I posted in the flash subforum, but I couldn't find any solution...<br><br>I just found out, that the speed of the computer is relevant. Please, try it out:<br><br><a href="http://www.ovion.org/test" target="_blank"><b>Test-App</b></a><br><br>On the left side there's a small text. It should mean "KeyDown(KEY_RIGHT): 0 or 1". When you try it out, then look at this text and you'll see that sometimes it shwos 1 even if the player doesn't press the right-key.<br><b>The best way to reproduce the bug is to press randomly left or right for just a very short time. It's more like hitting the keys ;)</b><br><br>The code is also nothing special:<br><pre class=code>Method Update:Void()
	player.Update()		'Here I check KeyDown(LEFT,RIGHT) and set SpeedX
	player.move()		'Move the player X = X + SpeedX
End

Method Render:Void()
	player.Draw()		'Draws the player on Screen
	'Printing text
End</pre><br><br><b>Try it out with Internet Explorer or Firefox and if you use a fast PC, the bug doesn't appear!</b><br><br>I hope there'll be a solution soon! Thank you!<br><br>Here's my equipment:<br>1. PC: Windows 8, Monkey 66b and Monkey 62, Speed of computer: middle - problem occures<br>2. PC: Windows 7, Monkey 66b, Speed: relatively fast - no problem<br>3. PC: Windows 8, Monkey 66b, Speed: fast - no Problem<br>4. PC: Windows Vista, Monkey 66b, Speed: slow - Problem occures <br><br></td></tr></table><br>
<a name="2049506"></a>

<a name="2049505"></a>

<a name="2049503"></a>

<a name="2049508"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> this might be a problem with flash, quite often i play a game and the left or right key is detected as pressed<br><br>to fix it i just press the right key again and it stops <br><br></td></tr></table><br>
<a name="2049509"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zwer99</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> So I can't do anything? Can I just hope that Adobe solves the bug one day? It wouldn't be a problem if it happens one time in a minute, but it happens more often and the final game won't be playable because the player would always die :( <br><br></td></tr></table><br>
<a name="2049510"></a>

<a name="2049511"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zwer99</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just played <a href="http://www.newgrounds.com/portal/view/573352" target="_blank">Snailiad</a> and it has the same problem! Now I'm sure that's Adobe's fault! <br><br></td></tr></table><br>
<a name="2049512"></a>

<a name="2049513"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> go into your build folder and find config.monkey<br>change the filtering option to False<br>compile your game again<br>and see a speed improvement <br><br></td></tr></table><br>
<a name="2049515"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zwer99</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Haha! That's exactly my next problem! Even if I set image filtering to false, I get following:<br><br><img src="https://dl.dropbox.com/u/26227287/MonkeyFragen/2013-02-09_153738.png"><br><br>It's still set to false. I also turned off image filtering in monkey/targets.<br>In the compiled MonkeyGame.as I have this line:<br><pre class=code>internal static var MOJO_IMAGE_FILTERING_ENABLED:String="0"</pre><br>It seems that Monkey works correctly.<br>Then I tried to manually change the last parameter of each bitmapData.draw in MonkeyGame.as to "false" - with no effect.<br><br>Now I don't know if image filtering is really off :) <br><br></td></tr></table><br>
<a name="2049514"></a>

<a name="2049518"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> your problem is that you need black lines between the blocks or you DONT need black lines?<br><br>this could be due to scaling, image filtering doesnt affect that <br><br></td></tr></table><br>
<a name="2049522"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zwer99</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> No, I don't need black lines. Everything should be one massive block. Yes, I use scaling. Can't I turn off anti aliasing? Is it impossible to use a tilemap together with aspac ratio? <br><br></td></tr></table><br>
<a name="2049523"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> simple solution<br>make the blocks one pixel larger,<br><br>its a primitive solution but for some reason scaling messes things up slightly<br><br>it has nothing to do with image filtering whatsoever <br><br></td></tr></table><br>
<a name="2049541"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zwer99</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you! It works! Yea, you made my day ;) <br><br></td></tr></table><br>
<a name="2049556"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> yw <br><br></td></tr></table><br>
<a name="2049585"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is this related to to drawing at Float pixel co-ordinates when scaling? <br><br></td></tr></table><br>
<a name="2049662"></a>

<a name="2049663"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think so, why? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
