<!DOCTYPE html><html lang="en" ><head ><title >INSTALL_FAILED_INSUFFICIENT_STORAGE</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >INSTALL_FAILED_INSUFFICIENT_STORAGE</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=501" >Monkey Bug Reports</a>/<a href="#bottom" >INSTALL_FAILED_INSUFFICIENT_STORAGE</a><br><br>
<a name="2054974"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> since I updated to V69 I get this error messages at the end of the build process, when the previous build had an error and crashed on the smartphone. <br><br>The message is strange, because the apps are very small and cannot really cause an "out of memory" problem. And all other functions and apps of the smartphone work perfect.<br><br>After a message like this I always have to restart the smartphone to be able to install any further builds.<br> <br><br><br><pre class=code>install:
     [echo] Installing C:\Monkey\ScoreTrainer\TestDpi.build\android\bin\MonkeyGame-debug.apk onto default emulator or device...
     [exec] 	pkg: /data/local/tmp/MonkeyGame-debug.apk
     [exec] Failure [INSTALL_FAILED_INSUFFICIENT_STORAGE]
     [exec] 3403 KB/s (54453 bytes in 0.015s)</pre> <br><br></td></tr></table><br>
<a name="2054980"></a>

<a name="2054983"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bram</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> It sounds like a locked file issue. Maybe the App is still open, and you should shut it down with a task manager? <br><br></td></tr></table><br>
<a name="2054985"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> First google result is: <a href="http://stackoverflow.com/questions/4709137/solution-android-install-failed-insufficient-storage-error" target="_blank">http://stackoverflow.com/questions/4709137/solution-android-install-failed-insufficient-storage-error</a><br><br>Sounds like a common problem, but I'm not sure what Monkey can do to help. <br><br></td></tr></table><br>
<a name="2054996"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I know this google results. But I never got this problem with V66. And it cannot really be caused by "insufficient storage" or the question of use of internal or external space. There is a lot of space on both. <br><br>For me it feels like a problem with the the "build protocol". Do you reserve any further space except the app's?<br><br>I will test, if I can install any app (f.e. from folder "downloads") in those moments. I think it is only impossible for the monkey builder. <br><br></td></tr></table><br>
<a name="2055058"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; And it cannot really be caused by "insufficient storage" or the question of use of internal or external space.<br><br>To me it sounds like yet another bit of 'weirdness' in Android...an intermittent problem without any apparent cause.<br><br>Have you tried looking for a bunch of tmp log files, as per the SO thread? I know it *shouldn't* matter if the device reports XYZ space available, but if it fixes the problem for someone, it's worth a shot - and there are a few things to try in that thread.<br><br>&gt;For me it feels like a problem with the the "build protocol". Do you reserve any further space except the app's?<br><br>The build process for Android hasn't changed for many versions now, and it'd doesn't 'reserve space' or anything like that.<br><br>But you haven't really given me much to go on - "it doesn't work" alone is kind of hard to work with. <br><br>Have you 'tweaked' the target in any way - eg: edited the manifest?<br><br>Does it happen with bananas samples?<br><br>What device are you using?<br><br>Can you post an apk somewhere for people/me to try?<br><br>[edit]The only thing I can find in the manifest that may affect this is installLocation="auto", but that's been there for ages and sounds right to me.[/edit] <br><br></td></tr></table><br>
<a name="2055057"></a>

<a name="2055056"></a>

<a name="2055072"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> As long as nobody else reports this problem, it looks like a problem only on my target. I did want to publish this message for testing this... <br><br>The cause is 100% clear. It is caused by any bug in my code. If the previous build was finished by a crash or with any error message, there is no chance to do any other build.<br><br>"tmp log files"? "SO thread"? What is this?<br><br>I have not more than the 5 lines above. The build process runs perfect, there is only this message, which prevents from installing the app on the device. <br><br>It happens after any error message. So the banana samples never run into this, but if I add a minimal bug into the files and start the resulting app, the further build of any file, also perfect ones, will stop with the lines above.<br><br>There is no need to change the manifest. It has nothing to do with the "installLocation". I tested all combinations.... It depents not on a certain apk... <br><br>The device is a "Samsung Galaxy S5300 Android 2.3.6"<br><br>I'm not very firm in debugging or log things on android. If you tell me what to do, I will do the tests on my device...<br><br>I can live with this "behavior". But perhaps we find somebody else, who has this problem too...<br><br>thank you <br><br></td></tr></table><br>
<a name="2055076"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bram</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have a Samsung phone, too. I had a problem where my device went offline after a while. I could check this by starting 'adb devices' from a command prompt. Basically, the build succeeded, but I wasn't able to install the apk on my device. On forums people suggested to use another (non-Samsung) USB cable. That didn't work for me. I now build to my Dropbox folder, and on my device (S2), I install the .apk directly from Dropbox. It works nicely, and I don't need a cable at all anymore. <br><br></td></tr></table><br>
<a name="2055075"></a>

<a name="2055095"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Midimaster, I experience the same errors with my HTC Desire with 2.3.x on it. After I have upgraded to this version, installing market apps on my phone is like a lottery game. And that has nothing to do with Monkey. Even I seem to have enough ram, the installation fails 4 out of 5 times because of surposingly not enough ram.<br><br>What I have experienced with Monkey is that sometimes after one build, it looses the connection somehow. Then I need to disconnet it and reconnect it again. <br><br></td></tr></table><br>
<a name="2055096"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> "went offline" means: went offline for monkey/PC? <br><br>My device is still online after those bugs: A second after I got the log message "INSTALL_FAILED_INSUFFICIENT_STORAGE" the device starts the app. But it is the prior build of this app. So I can say, there was a contact to the device to start the app!<br><br>Dropbox is a internet storage, or? Where can I change the "target dir" of the builds? Building it to dropbox, installing new on the device isn't intuitiv any more, or? It is a little bit like me: Have to restart the smartphone before each build...<br><br>In this contect it would already be very helpful, if monkey would not install and run the app when I only selected "Build" and not "Build &amp; Run"<br><br>At the moment to prevent continously have to restart the device, I plug out the USB cable before each build. And if it run without error messages I give "plug-in" a try. <br><br>Do you know, that monkey also will start the app, if there was a JAVA code error during the build? <br><br></td></tr></table><br>
<a name="2055097"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Btw, that link Mark have posted explains how you can view your data on your phone:<br><br><a href="http://stackoverflow.com/questions/4709137/solution-android-install-failed-insufficient-storage-error" target="_blank">http://stackoverflow.com/questions/4709137/solution-android-install-failed-insufficient-storage-error</a><br><br>Android is a biest when it comes developing for it. You need to get to know the SDK tools too. Putting your money on Monkey alone, or any other tool will lead you only that far. <br><br></td></tr></table><br>
<a name="2055098"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes offline ment that it says no device was found. <br><br></td></tr></table><br>
<a name="2055115"></a>

<a name="2055116"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bram</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> When I run 'adb devices' it tells me the device is offline. When I replug the USB, it becomes active again. It looks like some kind of sleepmode.<br>I didn't investigate it further, but found a workaround.<br>The build pipeline I use is not as bad as restarting the phone for each new build.<br>1. my project folder is in my PC's dropbox folder<br>2. on my mobile, i have the dropbox app opened, already in the build/android/bin folder <br>3. when I press build (F7), it updates the 'apk' file in the bin folder<br>4. i wait for the apk file to be uploaded to dropbox, and open it from the phone<br>5. it asks if i want to overwrite, i press 'yes' and then 'open' and it runs<br>6. When i close the app, (KEY_ESC-&gt;Error('')), it returns to the dropbox app.<br>This process takes about maybe 20 seconds from the moment i press 'run' in the ide. I still think that is too long for small tweaks, so I run the app in html5 first until the new bugs are solved, and then i run it to the phone.<br>The big advantage is, I don't need a cable. I work on my couch with a laptop, so that works well for me. <br><br></td></tr></table><br>
<a name="2055117"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can I see these /data folders only from the "adb shell"?<br><br>Because, if I look directly on my smartphone I see a folder named /data, but there is no /klog folder inside, and there are no big log files anywhere. <br><br>What do I have to do to use "adb shell"? I never started eclipse, I'm only using monkey! Is it a command tool? Is it dangerous? <br><br></td></tr></table><br>
<a name="2055128"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> adb is a command line tool that ships with your android sdk. Locate it, open your terminal and just type adb. If you don't want to read through the Android SDK docs, then it will give you a list of what you can do with it. I use it regulary to install apps with it (not monkey). <br><br></td></tr></table><br>
<a name="2055130"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> bram, nice approach. I have to look into this. <br><br></td></tr></table><br>
<a name="2055155"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok back...<br><br>I tried to have a look inside my smartphone with the adb tool, but....<br><br>I am able to start the console with the command "adb" for seeing help<br><br>It is also possible to start" adb bugreport". Then I get 10.000 lines of text and at the end I have only 200 remaining in the screen. What do I do wrong?<br><br><br>It is also possible to start" adb logcat". Then I get 1.000 line of text and at the end A get 5 new lines every second. But I cannot finish this process....<br><br>It is also possible to start " adb shell". I receive a "$" prompt. <br>After writing "ls -l" I get a directory. And if I write "cd /sdcard" followed by "ls -l", I can see the directory of sd card. But if I write "cd /data" followed by "ls -l" i get "opendir failed. Permission denied". So how can I see, what is inside the /data/klog or destroy it? <br><br></td></tr></table><br>
<a name="2055171"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bram</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe some folders are not accessible until you 'root' the device? You shouldn't need to have to do that, though. I used 'adb devices' to see the status of my device. <br><br></td></tr></table><br>
<a name="2055213"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> I found a banana app, which causes the problem too: the "mak/suspendtest/suspendtest.monkey" has a option for stopping the app with an Runtime error. If I do this, the following build generates the message.<br><br>I also detected if I open the smartphones task manager and use the option RAM-Manager to empty the RAM ( not Memory!) I can continue with building. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
