<!DOCTYPE html><html lang="en" ><head ><title >No CLS = Eeeeuw!!!</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >No CLS = Eeeeuw!!!</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=501" >Monkey Bug Reports</a>/<a href="#bottom" >No CLS = Eeeeuw!!!</a><br><br>
<a name="2065973"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ElectricBoogaloo</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> This bug appeared in an earlier game, but nobody played that so nobody noticed it!<br>Unfortunately, it's popped up again, and this time my game appears to be doing the rounds, so the bug's getting noticed.<br><br>Also, apologies if this has already been looked into and fixed, I'm currently using v71, or something.. (how can I quickly look up my version number?!)<br><br>Anyway, the problem is as follows.<br>My game uses the age old "feedback" technique of not clearing the screen, then overlaying it with a semi-transparent black rectangle, thus allowing part of the previous frame to bleed through, and giving a nice simple "blur" to the game.<br>This works well on all targets, and although there are marginally different results due to how each target processes alphas and things, it's pretty much a similar experience.<br><br>..  except for Android.<br>*sigh*  There's always one..<br>On a <b>&gt;<a href="http://www.youtube.com/watch?v=OJmZjLkMcO8" target="_blank">Nexus 7</a>&lt;</b> it works great, and as expected.<br><br>On <b>&gt;<a href="http://www.youtube.com/watch?v=YWIYQsATTiU" target="_blank">Nexus 10</a>&lt;</b> it doesn't do a thing, as the Nexus 10 appears to be completely clearing the buffer..<br><br>And then there's the <b>&gt;<a href="http://www.youtube.com/watch?v=smfptWJSC0A" target="_blank">Nexus 4</a>&lt;</b>..<br>I can't even begin to contemplate what on earth that's trying to do, but it's not doing it well!!<br>It appears to be cutting the buffer up into chunks, then inexplicably plopping them down in the wrong place!<br>..<br>What is THAT about!?<br><br>I KNOW that's not ME doing that!  And I doubt Mark's got some crazy code working away just to baffle me, so if anyone has any ideas on how to solve this one, let me know.<br>Thanks. <br><br></td></tr></table><br>
<a name="2065972"></a>

<a name="2065971"></a>

<a name="2065976"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >muddy_shoes</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> None of the targets guarantee that previous buffer contents will remain untouched if you don't explicitly clear the screen. The behaviour won't just vary between targets, it will vary between OpenGL implementations on the same target. <br><br></td></tr></table><br>
<a name="2065977"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Markus</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> i heard some android versions did not clear the buffer and some<br>allocate the memory for paint buffer again without null it.<br>in other words at some devices you must paint the whole screen each frame. <br><br></td></tr></table><br>
<a name="2065978"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ElectricBoogaloo</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> So, no quick and easy way to fix this, then?<br>tut.. that's a shame.<br>Annoyingly, there's also no way to quickly and easily disable it, either, since android's so mind-numbingly fragmented.<br>grrr!<br><br>..  I suppose I could do a self-test upon boot..  that could work.. maybe?  hmm..<br><br>Stupid Android..  I HATE you, Andoid!!!!!  You make everything harder than it should be!!! <br><br></td></tr></table><br>
<a name="2065994"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Might be hard to do a full self test.  You would probably have to ask the user to select the mode which works best, which you could then save. <br><br></td></tr></table><br>
<a name="2066011"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raph</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> On my Nexus 7, this same trick doesn't work. :)<br><br>I resorted to grabbing the entire buffer and redrawing it. On some targets, this is fast enough. On others, not. <br><br></td></tr></table><br>
<a name="2066015"></a>

<a name="2066016"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Goodlookinguy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm just gonna leave this here: <a href="http://www.monkeycoder.co.nz/Community/post.php?topic=1579&amp;post=14727" target="_blank">http://www.monkeycoder.co.nz/Community/post.php?topic=1579&amp;post=14727</a> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
