<!DOCTYPE html><html lang="en" ><head ><title >Desktop - 'CPP_DOUBLE_PRECISION_FLOATS' (V78B)</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Desktop - 'CPP_DOUBLE_PRECISION_FLOATS' (V78B)</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=501" >Monkey Bug Reports</a>/<a href="#bottom" >Desktop - 'CPP_DOUBLE_PRECISION_FLOATS' (V78B)</a><br><br>
<a name="2082120"></a>

<a name="2082121"></a>

<a name="2082123"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImmutableOctet(SKNG)</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is less of a bug, and more of a weird occurrence, but it might interest you, Mark.<br><br>I was recently working on a project, and I decided to make a 'preprocessor' module which contained several sub-modules filled with nothing but preprocessor settings, and a "defaults" system which allowed me to configure multiple targets with one interface.<br><br>At any rate, the interesting part of the story lies with the behavior of 'CPP_DOUBLE_PRECISION_FLOATS' on the 'Desktop/GLFW' target. For some reason, if this is enabled (Set to 'True') specifically on that target, the 'MouseX' and 'MouseY' functions (And their 'Touch' counterparts) don't work at all, they simply return zero every time they're called. I had to go through every single module of my code before realizing that it was 'CPP_DOUBLE_PRECISION_FLOATS'.<br><br>Of course, defining it while compiling with 'Desktop/GLFW' was probably my fault in the first place, but it strikes me as odd that it completely disables the mouse-position commands.<br><br>Just as a side note; is there a reason the main/build-file module is compiled first? (More specifically, before the preprocessor is done with other modules) This may not be the case, but it sure seemed like it. Reflection was broken, and variables I had made/defined with the preprocessor (In other modules) weren't working at all. My work-around was to simply make another module with a 'Begin' command, which was wrapped by 'Main', which works, but this just strikes me as odd. <br><br></td></tr></table><br>
<a name="2082541"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok,double precision floats issue fixed in next release.<br><br>As for the preprocessor, each module is preprocessed immediately before it is compiled. Originally, the plan was for Monkey to not have any #define like behavior (ie: for #defines to ONLY occur in CONFIG.TXT style files), for the very reason you've encountered - it can lead to 'order of import' dependency problems etc. However, the feature sort of worked it's way in, and now we've also got += to make things even dicier! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
