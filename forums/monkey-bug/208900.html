<!DOCTYPE html><html lang="en" ><head ><title >Joystick mappings weird on Mac</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Joystick mappings weird on Mac</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=501" >Monkey Bug Reports</a>/<a href="#bottom" >Joystick mappings weird on Mac</a><br><br>
<a name="2093225"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skape</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>Not a critical issue, but kind of annoying:<br><br>The joystick commands seem to be mapping wonky on Mac. Analog stick 1 x and y-axis map correctly. Analog stick 2 maps x-axis to analog stick 1 z-axis, y-axis to analog stick 2 x-axis, and so on.<br><br>The buttons also map funny. Lettered buttons map to d-pad buttons, etc.<br><br>I have tried the Xbox 360 controller and this driver with several games and the mappings are correct automatically, so I suspect that this is something to do with Monkey.<br><br>See this thread for more information: <a href="http://www.monkey-x.com/Community/posts.php?topic=8876" target="_blank">http://www.monkey-x.com/Community/posts.php?topic=8876</a><br><br>As for reproducability, just run the joytest banana on a Mac with a 360 controller. ;) <br><br></td></tr></table><br>
<a name="2093200"></a>

<a name="2093201"></a>

<a name="2093202"></a>

<a name="2093385"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just looking at the joystick stuff now, and it's all pretty ugly.<br><br>The bottom line is all joysticks seem to map axes/buttons differently, and there isn't an easy way to deal with that as the glfw lib (and the underlying OS lib it uses on windows, not sure about mac) doesn't have any way to return the 'names' of axes/buttons. You can get the device name, but on windows at least that just returns 'windows generic joystick' for all devices, so you can't even cheat by provide a mapping-per-device easily.<br><br>I tried tweaking the code to 'guess' what device might be plugged in based on number of axes/buttons, but I'm not sure if that's a particularly good idea as it probably just stuffs up other devices. And, number of axes/buttons returned looks like it's different on Windows/Mac anyway...<br><br>That said, on 2 of my test joysticks, I encountered the problem you are describing (don't ask about the third - it was all over the map!). I initially couldn't use the xbox 360 controller at all, but installed <a href="http://tattiebogle.net/index.php/ProjectRoot/Xbox360Controller/OsxDriver#toc1" target="_blank">http://tattiebogle.net/index.php/ProjectRoot/Xbox360Controller/OsxDriver#toc1</a> which seems to do the trick. So, I'm not sure how to fudge this really - I could just swap appropriate axis values around on Mac, but with no idea of what this could mean for other devices. And where does it end etc...? Anyone got any other ideas?<br><br>I pretty much gave up on using joysticks with PC's (and pretty much PC gaming in general I guess) after buying Grid a few years back and having to trawl the internet for *hours* before I worked out how to tweak the appropriate freakin' XML file to get my joystick working - gah! <br><br></td></tr></table><br>
<a name="2093384"></a>

<a name="2093421"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Erik</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> There is a pull request for joynames on windows scheduled for glfw 3.1<br><br><a href="https://github.com/glfw/glfw/pull/98/files" target="_blank">https://github.com/glfw/glfw/pull/98/files</a><br><br>There is also a few other fixes for joysticks in the latest versions of glfw. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
