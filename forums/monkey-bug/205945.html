<!DOCTYPE html><html lang="en" ><head ><title >Controller doesn't work properly on OS X</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Controller doesn't work properly on OS X</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=501" >Monkey Bug Reports</a>/<a href="#bottom" >Controller doesn't work properly on OS X</a><br><br>
<a name="2067950"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taumel</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow, i'm surprised that this still doesn't work. :O/<br><br>I can't get any button (JOY_A, JOY_B, ...) input from the Xbox 360 controller correctly (Wired, OS X 10.8.5, GLFW, 72b/74a). What i do get is the analog input from the left thumb controller (JOYX/Y).<br><br>I a.o. have them working properly in Unity or Munro's Xbox 360 controller driver.<br><br>*update*<br><br>Joytest under 74a for instance gives me:<br><br>JoyX(0) -&gt; -1..1 okay<br>JoyY(0) -&gt; -1..1 okay<br>JoyZ(0) -&gt; JoyY(1) -1..1 def=-1 not okay<br>JoyX(1) -&gt; JoyZ(1) 1..-1 def=1 not okay<br>JoyY(1) -&gt; JoyX(1) -1..1 not okay<br>JoyZ(1) -&gt; JoyZ(0) -1..1 not okay<br><br>Joy_X -&gt; nada<br>Joy_Y -&gt; nada<br>Joy_A -&gt; JOY_DOWN<br>Joy_B -&gt; nada<br>Joy_LB -&gt; Joy_LEFT<br>Joy_RB -&gt; Joy_RIGHT<br>Joy_LEFT -&gt;Joy_X<br>Joy_RIGHT -&gt; JoyY<br>Joy_UP -&gt; Joy_A<br>Joy_DOWN -&gt; Joy_B<br>Joy_START -&gt; Joy_RB<br>Joy_BACK -&gt; Joy_LB <br><br></td></tr></table><br>
<a name="2067947"></a>

<a name="2067948"></a>

<a name="2067949"></a>

<a name="2067922"></a>

<a name="2067923"></a>

<a name="2067924"></a>

<a name="2067925"></a>

<a name="2067926"></a>

<a name="2067992"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oddball</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here are the correct button mappings for MacOS.<br><a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=5137#56654" target="_blank">http://www.monkeycoder.co.nz/Community/posts.php?topic=5137#56654</a><br><br>I have the corrected axis somewhere too. I'll look to dig them out. <br><br></td></tr></table><br>
<a name="2067997"></a>

<a name="2067998"></a>

<a name="2067999"></a>

<a name="2068000"></a>

<a name="2068001"></a>

<a name="2068009"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taumel</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> This would be nice, thanks. With your mapping and 74a the buttons work on my Mac.<br><br>Would be nice if Mark could update this too. <br><br></td></tr></table><br>
<a name="2068011"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >computercoder</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you tried 75d? Mark did quite a bit of work on controller issues within it. He even added a new constants JOY_LSB, JOY_RSB for Left Stick Button and Right Stick Button respectively.  He even JOY_MENU for the OUYA controllers. I believe he added full support for multiple controllers per console that supports 4 controllers on them at a single time. So you should be able to play up to 4 players ina game at one time now. <br><br></td></tr></table><br>
<a name="2068010"></a>

<a name="2068015"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taumel</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nope, i recently just stumbled back into monkey, due to a coding session/lesson, and due to earlier experiences i tried to stay away from the experimental releases. Oddball's mapping works fine for me, also for two Xbox 360 controllers. The only thing which is missing are all proper input axis. So, if he can dig them out, i'm happy and prepared for some more hours on the next weekend but thanks for the hint. <br><br></td></tr></table><br>
<a name="2068017"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >computercoder</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Mark recently made 75d "stable" as 76a is the new Experimental, in case you were wanting a stable release :)<br><br>The newer code works far more efficiently than pre 75 versions by the way of controller support too. I can understand your hesitation tho. At any rate, at least download and try it out. You can always keep the version you have alongside another version. <br><br></td></tr></table><br>
<a name="2068022"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oddball</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> The button maps and axis are still borked in 75d. I'm assuming that Mark just used the same values for Mac as he did for windows without testing, and the tattiebogle driver uses different values on Mac. <br><br></td></tr></table><br>
<a name="2068063"></a>

<a name="2068064"></a>

<a name="2068066"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taumel</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Which again is the driver everyone uses i know. I doubt there exist many people who are compiling their own driver or utalising a tool like Controller Mate. It's nice that you can fix it in monkey on your own but a tool where the dev fixes known issues on his own is even better. <br><br></td></tr></table><br>
<a name="2068343"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taumel</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Back to monkey and regarding the proper axis (OS X, Xbox 360 controller) i did a grep on the joy stuff. In glfwgame.cpp you need to swap the mapping to:<br><br>	joyx[0]=pos[0];joyx[1]=pos[2];<br>	joyy[0]=pos[1];joyy[1]=pos[3];<br>	joyz[0]=pos[4];joyz[1]=pos[5];<br><br>And then the controllers work as expected (+ Oddball's button mapping). <br><br></td></tr></table><br>
<a name="2068339"></a>

<a name="2068340"></a>

<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
