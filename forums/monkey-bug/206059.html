<!DOCTYPE html><html lang="en" ><head ><title >OUYA - Menu Button</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >OUYA - Menu Button</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=501" >Monkey Bug Reports</a>/<a href="#bottom" >OUYA - Menu Button</a><br><br>
<a name="2069429"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ElectricBoogaloo</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> First up, apologies if this has already been fixed in future editions, or if it's something to do with my lack of Android SDK installs, or some other such nonsense. (So many possibilities!)<br><br>I've spent the past half hour checking, rechecking and triple-checking my button code, and flags, and everything, and finally found the problem.<br><br>If I keep JoyDown(JOY_MENU) rendered on the screen, it's blindingly obvious.<br><br>JoyDown(JOY_MENU) isn't acting like a Button.  Instead, it's acting like a Toggle.<br>The first time you hit the Menu button, it becomes "Active" and JoyDown(JOY_MENU) shows 1.<br>If you release, it STAYS as 1.<br>The second time you hit it, it switches it back off again.<br><br>This basically means that if you're expecting JoyDown() to work.. It ain't gonna!<br>And as a result, JoyHit() is even quirkier, triggering every other tap, instead of every tap.<br><br>Like I said, whether this is my Devkit (Plain Android SDK 16, no OUYA specific extras installed) or Monkey (75d) or even the OUYA itself, I'm not entirely certain, but..  Beware, I guess!<br><br>I'm was about to fix this myself, by creating a toggle-watch thing that would take care of it, but thought I should report it, first, incase it's magically about to get fixed and break my toggle-watch!! <br><br></td></tr></table><br>
<a name="2069587"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sensei</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I suspect that could be due to the way Ouya handles the menu button. Since you need to press it twice to exit a game, I guess it's a sort of timer. If you press the button twice within a certain time, it'll quit.<br>Maybe you can start a timer based on the initial toggle (are you wanting to use it to pause your game?) <br><br></td></tr></table><br>
<a name="2070497"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >computercoder</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> It is designed like that by OUYA. This is the expected behavior as OUYA explains in their documentation. There is no "timer" to it.<br><br>The JOY_MENU flag is meant to be used with JoyDown() and its supposed to act as a Toggle. This is so that you may use it to catch the possibility to see your own Menu show before popping out to the OUYA system menu. The early developers complained to OUYA about the lack of a real Menu/Back/Start type of button and practically begged them to give something to them. The result was this menu button tapping thing where you tap once to get the menu you customize and tap it twice to shoot out of the game/app to the OUYA main menu.<br><br>Rather than trying to make it overly complicated in Monkey, I asked Mark to just code it as a toggle. Yep. Blame me. I find the toggle idea pretty easy to deal with overall. <br><br>That said, all the rest of the JoyDown/JoyHit buttons should work as expected. <br><br>Additionally, if you have more than one controller running, you will know EXACTLY which controller has the Menu and you have the ability to control what happens if another controller attempts to press their button and what happens as a result.<br><br>The Menu button is explicitly for showing a menu you make for your game, much like the Start or Back buttons on other controllers do. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
