<!DOCTYPE html><html lang="en" ><head ><title >Empty data subdirs getting copied across to build.</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Empty data subdirs getting copied across to build.</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=501" >Monkey Bug Reports</a>/<a href="#bottom" >Empty data subdirs getting copied across to build.</a><br><br>
<a name="2052038"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is related to this:<br><a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=4784" target="_blank">http://www.monkeycoder.co.nz/Community/posts.php?topic=4784</a><br><br>If you place an empty folder in your data dir it is getting copied across regardless. This seems as though it needs to skip or delete any data folders that end up being empty. <br><br></td></tr></table><br>
<a name="2052265"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have a hard time thinking of this as a 'bug' - if you don't want a folder in the output, don't add it to the data dir...or am I missing something? <br><br></td></tr></table><br>
<a name="2052348"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Edzup was requesting to have conditional data directories so I suggested using a "hack" of the TEXT_FILES IMAGE_FILES config vars with a folder named using the current target config var. Works like a charm but some garbage data folders would be left for all the targets apart from the one being compiled for.. it just struck me as a possible oversight so maybe not a bug really?<br><br>So if I had:<br>Data/html5/<br>Data/html5/file.txt<br><br>Data/glfw/<br>Data/glfw/file.txt<br><br>Data/xna/<br>Data/xna/file.txt<br><br>Data/ios<br>Data/ios/file.txt<br><br>And set TEXT_FILES = "/html5/*.txt"<br><br>The other three folders would get copied over on build regardless if there ended up being no files in them. <br><br></td></tr></table><br>
<a name="2052347"></a>

<a name="2052305"></a>

<a name="2063481"></a>

<a name="2063482"></a>

<a name="2063483"></a>

<a name="2063484"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Snader</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't mind the empty folders but I just found out that when compiling (v72b) for html5, the copied glfw folder is not completely empty. It does contain the .wav, .xml and .jpg files, but not the .png, .txt and .ogg files.<br><br><pre class=code>
#IMAGE_FILES="/${TARGET}/*.png|*.jpg"
#TEXT_FILES="/${TARGET}/*.txt|*.xml"
#SOUND_FILES="/${TARGET}/*.wav|*.mp3"
#MUSIC_FILES="/${TARGET}/*.ogg|*.wav|*.mp3"

#IF TARGET = "html5"
	Const myTARGET:String = "html5"
#ElseIf TARGET = "glfw"
	Const myTARGET:String = "glfw"
#End

pop = LoadSound(myTARGET + "/pop.wav")
</pre> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
