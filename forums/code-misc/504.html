<!DOCTYPE html><html lang="en" ><head ><title >Project PLASMA FPS 2004: Action.bb</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='Action Module, language=bb, category=Miscellaneous'><meta name='author' content='Techlord'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 ><a href=codearcs.php>Code archives</a>/<a href=codearcs.php?cat=9>Miscellaneous</a>/Project PLASMA FPS 2004: Action.bb</h1><div class="quote">This code has been declared by its author to be Public Domain code.</div><br><a href="504.bb">Download source code</a><br><br><table width="100%" cellspacing="0" cellpadding="0"><tr ><td width="100%"><table width=100% cellspacing=0 cellpadding=0><tr ><td class=headleft></td><td class=head><table width=100% cellspacing=0 cellpadding=0><tr ><td >Project PLASMA FPS 2004: Action.bb by Techlord</td><td align="right">2002 </td></tr></table></td><td class=headright></td></tr></table></td></tr><tr ><td class="cell"> <img src="http://techlord.blackeve.com/wip.gif">A simple dynamic function selector that works similar to a Function Pointer by storing function indices and parameters. Use the actionCall Function to pass the action as an argument. The actionCall function will select the function by index and call the function passing the parameters stored in the action object.<br><br>Can be useful many things as a function index and parameters can be change at runtime to select other functions. </td></tr><tr ><td class="cell"><pre class="code">;============================
;ACTION
;============================
Const ACTION_MAX=1024
Dim actionId.action(ACTION_MAX)

Type action
	Field id%
	Field typeid%
	Field funct%
	Field i%[4]
	Field f#[4]
	Field s$[4]
End Type

Function actionStop()
	For this.action=Each action
		actionDelete(this)
	Next
End Function

Function actionNew.action()
	this.action=New action
	this\id%=id%
	this\typeid%=0
	this\funct%=0
	Return this
End Function

Function actionDelete(this.action)
	Delete this
End Function

Function actionCopy.action(this.action)
	copy.action=New action
	copy\id%=this\id%
	copy\typeid%=this\typeid%
	copy\funct%=this\funct%
	For loop=1 To 4:copy\i%[loop]=this\i%[loop]:Next
	For loop=1 To 4:copy\f#[loop]=this\f#[loop]:Next
	For loop=1 To 4:copy\s$[loop]=this\s$[loop]:Next
	Return copy
End Function

Function actionMimic(mimic.action,this.action)
	mimic\id%=this\id%
	mimic\typeid%=this\typeid%
	mimic\funct%=this\funct%
	For loop=1 To 4:mimic\i%[loop]=this\i%[loop]:Next
	For loop=1 To 4:mimic\f#[loop]=this\f#[loop]:Next
	For loop=1 To 4:mimic\s$[loop]=this\s$[loop]:Next
End Function

Function actionCreate.action(id%,typeid%,funct%,i1%,i2%,i3%,i4%,f1#,f2#,f3#,f4#,s1$,s2$,s3$,s4$)
	this.action=actionNew()
	this\id%=id%
	this\typeid%=typeid%
	this\funct%=funct%
	this\i%[1]=i1%
	this\i%[2]=i2%
	this\i%[3]=i3%
	this\i%[4]=i4%
	this\f#[1]=f1#
	this\f#[2]=f2#
	this\f#[3]=f3#
	this\f#[4]=f4#
	this\s$[1]=s1$
	this\s$[2]=s2$
	this\s$[3]=s3$
	this\s$[4]=s4$
	Return this
End Function

Function actionCall(this.action)
	Select this\funct%
		Case 1 ;funct1(this\i%[1],this\i%[2])
		Case 2 ;funct2(this\i%[1],this\i%[2])
		;
		;
		;
	End Select
End Function</pre></td></tr></table><br><a name="comments">Comments</a><br><br>None.<br><br><a href="codearcs.php" >Code Archives Forum</a><table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
