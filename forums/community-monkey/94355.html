<!DOCTYPE html><html lang="en" ><head ><title >Translate</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Translate</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=201" >Monkey Talk</a>/<a href="#bottom" >Translate</a><br><br>
<a name="1082317"></a>

<a name="1082318"></a>

<a name="1082325"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >D4NM4N</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there any docs anywhere that explain this? The docs included in monkey don't explain very much.<br><br>Edit SORRY! I meant transform :/<br><div class="quote"> <br>Function Transform<br><br>Syntax<br>Function Transform( ix#, iy#, jx#, jy#, tx#, ty# )<br>Parameters<br>ix, iy, jx, jy, tx, ty - matrix components.<br>Description<br>Multiplies the current matrix by the specified matrix.<br> <br></div><br><br>what is "i" "j" and "t" !?!<br><br><br>The other bit i do not really get is how the Image relates to Pushmatrix and popmatrix.<br>Push and pop what matricies? i have not declared any?<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1082357"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warpy</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have a feeling I've posted this before, but it might have been on the beta forum:<br><br><br>The transformation matrix converts initial coordinates (x,y) to new coordinates (nx,ny). Here's the formula:<br><pre class=code>
nx = ix*x + iy*y + tx
ny = jx*x + jy*y + ty
</pre><br><br>Here are a few values of (ix,iy,jx,jy,tx,ty) and what they do. You might want to work out the formula on paper to see why they do what they do:<br><br>(1,0,0,1,0,0) - does nothing! This is known as the identity matrix.<br><br>(1,0,0,1,50,30) - translate 50 pixels right, 30 down.<br><br>(5,0,0,5,0,0) - scale everything up by a factor of 5.<br><br>(0,-1,1,0,0,0) - rotate 90 degrees clockwise.<br><br>(1,1,0,1,0,0) - horizontal shear.<br><br><br>Mojo has a transformation matrix in memory which is applied to every drawing command. When you call one of the transformation functions (Scale, Translate, Rotate) the transformation matrix is changed to give the desired effect. You can see how this happens by looking at the source code in modules/mojo/graphics.monkey.<br><br>PushMatrix and PopMatrix allow you to take a snapshot of the current matrix, so that you can do some more transformations (eg to draw an enemy), and then reset the matrix back to how it was.<br><br>PushMatrix takes a copy of the current transformation matrix and puts it on top of a stack. PopMatrix takes the top matrix off the stack and makes it the current matrix for drawing. <br><br>Here's some code:<br><pre class=code>
'at the start, the current matrix is the identity matrix

PushMatrix 'the identity matrix goes on top of the stack.

Rotate 90  'apply a rotation to the current matrix. The identity matrix on the stack is not affected.

PushMatrix 'Put the rotated matrix on the top of the stack.

Scale 3,3  'scale the current matrix by a factor of 3. Again, the matrices on the stack aren't affected.

DrawImage dude,0,0  'draw an image. It will be three times as big as normal, and rotated 90 degrees.

PopMatrix 'pop the top matrix off the stack. The rotated matrix was the last one we pushed, so now the current matrix is a rotation of 90 degrees but no scale.

DrawImage dude,0,0 'draw the image again, but this time it's at normal scale. It's still rotated 90 degrees.

PopMatrix 'pop the top matrix off the stack. The only matrix left on the stack is the identity matrix, so it takes that one.

DrawImage dude,0,0 'the image gets drawn with no transformations applied
</pre> <br><br></td></tr></table><br>
<a name="1082373"></a>

<a name="1082380"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >D4NM4N</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great! thanks warpy.<br><br>Why is this stuff not in the manual? It is going to put a lot of people off.  :/<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1082401"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warpy</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> If only we had an official wiki... <br><br></td></tr></table><br>
<a name="1082673"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Warpy's the man on this. He has several demo's you can view included with Monkey as well as my own demo all using Transform. Once you get your head around it Transform is a very powerful and useful command.<br><br>L8r, <br><br></td></tr></table><br>
<a name="1082701"></a>

<a name="1082702"></a>

<a name="1082703"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >D4NM4N</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I saw the demos, although if i am going to use code i want to know why :D<br><br>For example what warpy said above should be on the Mojo manual page for transform rather than a single line listing the cryptic parameters. I could have probably figured it out how transform works through trial and error but i should not have to (and i don't have the time to waste on sussing out stuff that should be explained in the documentation, which is what the actual commands -do-).<br><br>Some examples:<br><div class="quote"> Function Transform<br>Syntax<br>Function Transform( ix#, iy#, jx#, jy#, tx#, ty# )<br><br>Parameters<br>ix, iy, jx, jy, tx, ty - matrix components.<br><br>Description<br>Multiplies the current matrix by the specified matrix.<br> <br></div> Uhuh.<br><div class="quote"> Function PopMatrix<br>Syntax<br>Function PopMatrix()<br><br>Description<br>Pops a matrix from the internal matrix stack and makes it the current matrix.<br> <br></div> Um...<br><div class="quote"> Function PushMatrix<br>Syntax<br>Function PushMatrix()<br><br>Description<br>Pushes the current matrix onto the internal matrix stack.<br><br><br><br>The matrix can be restored at a later time using PopMatrix.<br> <br></div> right...<br><br><br>Basically I dont need to learn how to program, i just need a explainative API reference for mojo, which is something we do not seem to have.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1082803"></a>

<a name="1082804"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well,<br><br>when I get a little time here I'll take a stab at working up a simple explanation of it's use. I'am hoping Warpy will beat me to it. For now check out these links on matrices:<br><br><a href="http://www.sacredsoftware.net/tutorials/Matrices/Matrices.xhtml" target="_blank">http://www.sacredsoftware.net/tutorials/Matrices/Matrices.xhtml</a><br><a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/geom/Matrix.html" target="_blank">http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/flash/geom/Matrix.html</a><br><br>Translate() really requires an understanding matrices before you can use it IMHO and that is not a simple subject to explain.<br><br>L8r,<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1082810"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >D4NM4N</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks :) <br><br></td></tr></table><br>
<a name="1082815"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warpy</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Richard - did you not see my post or do you think there's something else that needs explaining?<br><br>Because Monkey doesn't provide generic matrices for things other than screen transformations, I don't think there'd be much point in explaining 'proper' matrix maths.<br><br>Aaanyway, I've already done that, <a href="http://warpycode.wordpress.com/2009/03/29/matrix-maths/" target="_blank">exactly two years ago</a>. <br><br></td></tr></table><br>
<a name="1082818"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Warpy,<br><br>Just wanted to pad-it-out a little:) <br><br>L8r, <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
