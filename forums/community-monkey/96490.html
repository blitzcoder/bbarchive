<!DOCTYPE html><html lang="en" ><head ><title >Programme Flow.</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Programme Flow.</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=201" >Monkey Talk</a>/<a href="#bottom" >Programme Flow.</a><br><br>
<a name="1116790"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul "Taiphoz"</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> would like to chat about program flow in monkey..<br><br>Currently I have just beed dumping all of my update code in the OnUpdate and all my rendering code in OnRender, any game images I have just pakced into fields of the main class bar a few globals.<br><br>In short, messy as hell.<br><br>Wondering if those of you who have been using it for a while, could share some of your setups, in relation to how you control the flow of your code and where you put stuff, like loading images and media, or declaring variables. <br><br></td></tr></table><br>
<a name="1116830"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leon Brown</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You should make your code modular and have OnUpdate call upon the relevant methods and objects for processing and OnRender to call up the relevant code to render.<br><br>Look into MVC and n-tier development - they will give you ideas for better programming patterns. I've taken this type of approach myself and have coded a system that allows me to create scenes and place game objects in the scenes - the OnRender system then takes care of drawing the scenes based on what objects are in them and their status. <br><br></td></tr></table><br>
<a name="1116843"></a>

<a name="1116845"></a>

<a name="1116846"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> What he said. It's fun to start out prototyping and keeping all the code packed into your main file, but when the project gets BIG, I can't find anything and it takes too long to find bugs.<br><br>I don't use a version control system. I just increment my files with a "name_v02.monkey" and revise the imports accordingly.<br><br>My main file, the one I lock the build to "bigbugs" is this:<br><pre class=code>
''Big bugs tower defense

Import bigbugs_main_v11

Alias Game= bigbugs_main_v11.Game

Function Main()
	New Game

End
</pre><br><br>As for loading images, I put all that in a separate "load_images.monkey" file and its own class:<br><pre class=code>
Class InitImages
   Field imageBug:Image
   Field imageTank:Image
   Method LoadAll()
      imagebug = LoadImage("etc")
   End
End
</pre><br>I create the instance in the main OnCreate() and pass that instance to the other functions as needed. I suppose I could just make all the images globals and forget about passing.<br><br>My other files are divided into game entities:<br>- enemies<br>- player<br>- bullets, damage, fx<br>- map<br>- ui<br>- game utils (loading/saving/tweens/etc)<br><br>Each handle their own rendering, called from OnRender().<br><br>I could go on for days about how I set this stuff up... But I just want to add that I don't try to divide it up into TOO many files, because then you're just searching around for files. I've seen people do this and I find that you end up jumping around from file to file trying to dissect what they did.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1116883"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul "Taiphoz"</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah with b3d and max I am guilty of really splitting my files up, each type with withs own file and any function that deals with that type goes into its file, it makes it easier to find stuff, I know if something goes wrong with a player, to look in the player type.<br><br>But I think after my first monkey game I realized that things might be a little different.<br><br>To be honest I have not done anything yet with more than one class, I think my next monkey game, a port from an old b3d title i had is going to need more than one class tho, so im gona need to srot this sort of stuff out. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
