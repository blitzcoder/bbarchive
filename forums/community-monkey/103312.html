<!DOCTYPE html><html lang="en" ><head ><title >Image memory management</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Image memory management</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=201" >Monkey Talk</a>/<a href="#bottom" >Image memory management</a><br><br>
<a name="1242738"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leon Brown</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi. I have a list of full screen sized images that should be used in an app. The problem is that iOS crashes once the memory gets used up, so I need a way to unload these images and reload them when required. I've noticed that even when loading over existing images, the memory usage still increases and so results in the app crashing because it eventually runs out of memory. I've also tried the Discard method, but that isn't helping - maybe because I'm trying to load new images into the reference I've discarded. Does anyone have any tips for this? <br><br></td></tr></table><br>
<a name="1242762"></a>

<a name="1242789"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Discard actually should work. That is the purpose of it. Which version are you using? Which platform? <br><br></td></tr></table><br>
<a name="1242764"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >*</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe the GC isn't catching the discarded image till its to late, is there a way to force GC like in max? <br><br></td></tr></table><br>
<a name="1242800"></a>

<a name="1242801"></a>

<a name="1242802"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leon Brown</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for your input. It appears to be a bit of an illusion (at least on iOS) because the garbage collector is only called when  the device issues a memory warning notification - this then triggers the garbage collector to clear the memory. When testing an app on the iOS simulator, no memory warning is generated because the simulator sets its memory size to be the available amount of the development machine, which is much bigger than on an actual device. You can manually test garbage collection in the simulator by going to "Hardware" &gt; "Simulator Memory Warning" from the simulator's top menu.<br><br>@Mark Sibly: It might be worth adding this to the documentation - it took me a day to figure this one out ;). <br><br></td></tr></table><br>
<a name="1242811"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >*</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah for iOS all I can say is ALWAYS test ya game on device as the simulator is crap, when I don't ismashem galactic it all ran beautiful in the simulator to crash at start on device. As you say the simulator has waaaay more resources than a iPod (in my case I adjusted my obj c code so it only use 2mb of the 7mb available) once adjusted it will work perfectly.<br><br>In most cases coding actually in xcode and obj c made it MUCH easier to debug and sort out <br><br></td></tr></table><br>
<a name="1242838"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leon Brown</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've been testing on the client's iPads, but might pick up an iPod Touch to test here. Would it be better to go for a 5th generation with specs comparable for to iPhone 4/5+, or go for a 4th generation to ensure lower compatibility? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
