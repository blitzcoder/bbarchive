<!DOCTYPE html><html lang="en" ><head ><title >Are there any stencils &amp; depth buffer?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Are there any stencils &amp; depth buffer?</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=201" >Monkey Talk</a>/<a href="#bottom" >Are there any stencils &amp; depth buffer?</a><br><br>
<a name="1284683"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey everyone !<br><br>Currently reading up and trying to learn all about Monkey but I´m not clear about how it differs from BlitzMax exactly. I see both have something I like though.<br><br>I have to make a choice though (as time are short) between BlitzMAX and Monkey and what it boils down to for me now is the access to depth/stencil/ackumulation/alpha buffers (hardware speed they provide are key for this project).<br><br>Do those things exist in some shape within Monkey and Mojo2?<br><br>Thanks ! <br><br></td></tr></table><br>
<a name="1284704"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Depending on what you're hoping to accomplish: There's also Burcey's blitzmax-NG, which is mostly Blitzmax but with a bunch of additions such as multi-platform (Linux, Android, iOS, etc. 32-bit, 64-bit...)<br><br>Free download, search the forum for links. <br><br></td></tr></table><br>
<a name="1284710"></a>

<a name="1284711"></a>

<a name="1284712"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Alright, I was curious so I investigated. The desktop target, GLFW, disables the alpha and stencil buffers upon creation as can be seen here:<br><a href="https://github.com/blitz-research/monkey/blob/develop/targets/glfw/modules/native/glfwgame.cpp#L648" target="_blank">https://github.com/blitz-research/monkey/blob/develop/targets/glfw/modules/native/glfwgame.cpp#L648</a><br>With the "SetGlfwWindow" function here: <a href="https://github.com/blitz-research/monkey/blob/f87aed95be400e108fd00845725c64206d8f0f97/targets/glfw/modules/native/glfwgame.cpp#L579" target="_blank">https://github.com/blitz-research/monkey/blob/f87aed95be400e108fd00845725c64206d8f0f97/targets/glfw/modules/native/glfwgame.cpp#L579</a><br><br>GLFW doesn't seem to have an API for setting an accumulation buffer, but accumulation buffers in particular are an old technique that is obsolete on recent GPUs. They are not hardware accelerated but rather emulated.<br><br>If you want to use the alpha and stencil buffers then instead of using SetDeviceWindow on your OnCreate method, call the SetGlfwWindow function directly.<br><br><a href="http://www.monkey-x.com/Community/posts.php?topic=8987&amp;post=94201" target="_blank">http://www.monkey-x.com/Community/posts.php?topic=8987&amp;post=94201</a> <br><br></td></tr></table><br>
<a name="1284713"></a>

<a name="1284715"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Xlsior<br>Thanks ! I tried BMaxNG but it always gets stuck compiling anything I throw to it so I guess it needs some more time, but I will certainly follow it up.<br><br>@Kryzor<br>Great info, thanks ! <br><br>What about depthbuffers? Does e.g. DrawImage / DrawImageRect use depthbuffers under the hood to minimise overdraws? <br><br></td></tr></table><br>
<a name="1284714"></a>

<a name="1284716"></a>

<a name="1284717"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> No, but it seems straightforward to add glEnable(GL_DEPTH_TEST) and glDepthFunc(GL_LESS) to mojo, the renderer module:<br><a href="https://github.com/blitz-research/monkey/blob/develop/modules/mojo/native/mojo.glfw.cpp#L213" target="_blank">https://github.com/blitz-research/monkey/blob/develop/modules/mojo/native/mojo.glfw.cpp#L213</a><br><br>EDIT: If you're that concerned about the internal behaviour then you might as well dig through the source files. <br><br></td></tr></table><br>
<a name="1284719"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Kryzon Great idea, I noticed the sourcecode wasn´t that hefty as I thought it was. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
