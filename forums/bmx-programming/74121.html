<!DOCTYPE html><html lang="en" ><head ><title >letters appear as squares</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >letters appear as squares</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >letters appear as squares</a><br><br>
<a name="827979"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Najdorf</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Some people trying my game say that everything ( letters and images) appear as squares. This seems to be mostly on Vista machines<br><br>I'm using the Max2D module (with opengl, not directX), does anybody know what's the problem? Should I switch to directx? <br><br></td></tr></table><br>
<a name="827981"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would guess it is a driver issue so switching to DX is a good idea or let the user decide. <br><br></td></tr></table><br>
<a name="828001"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would always default to DirectX and only allow OpenGL if the user chooses it. <br><br></td></tr></table><br>
<a name="832507"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tricky</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I noticed this happens especially when you use Pixmaps in stead of images. And strangly only in graphics mode. The Pixmaps used in MaxGUI handled themselves fine to me (except those which were in a Canvas). <br><br></td></tr></table><br>
<a name="832619"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> It could be that there isn't enough graphics memory available on the video card...  Any idea how much they have? <br><br></td></tr></table><br>
<a name="832664"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I suspect it's a GL-driver-on-Vista issue - try DirectX, or see if one of the people experiencing the problem can update their video drivers. <br><br></td></tr></table><br>
<a name="841602"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I get this too on windowsXP<br>with an intel integrated graphics card <br><br></td></tr></table><br>
<a name="841603"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> dbl post <br><br></td></tr></table><br>
<a name="841609"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> update the driver or forget OpenGL.<br>The GMA 900 for example falls back into Microsoft OpenGL 1.1 emulation mode ... this is less than Max2D needs (OGL 1.2) <br><br></td></tr></table><br>
<a name="841690"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> ive played lots of commercial games which use opengl without any problems,<br>the drivers are updated <br><br></td></tr></table><br>
<a name="841710"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> What is the simplest example which shows the problem? How many graphics are involved? What happens with DX? What happens if you use smaller graphics or less of them? What is the machine specs?What level of Bmax are you using? What OGL driver levels? <br><br></td></tr></table><br>
<a name="841740"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I did some investigation and its because I was setting the blend mode to alpha blend.<br>dont know why it behaves differently from GL to D3d <br><br></td></tr></table><br>
<a name="842006"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just got a laptop with Intel GMA965 graphics and Vista on it - OpenGL in Blitzmax simply doesn't work (white squares for everything), whereas all the other GL stuff I tried, does.<br><br>There has to be a way to fix this?<br><br>PS. My drivers are bang up-to-date - got them from the Intel website and they were only released 9 days ago, so they're about as new as you can get. <br><br></td></tr></table><br>
<a name="842026"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> What about pixmaps? <br><br></td></tr></table><br>
<a name="842041"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Three screenshots taken on a Mobile Intel GMA X3100.  I was planning just to tell you the results, but how the hell do you describe this?:<br><img src="http://gfk.supanet.com/stuff/opengl.jpg"><br><br>DrawPixmap works if I use JPG format, but I need PNGs with alpha, and DrawPixmap is phenomenally slow.  DrawImage with a JPG is solid white, as above. <br><br></td></tr></table><br>
<a name="842249"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can someone post a code sample? <br><br></td></tr></table><br>
<a name="842281"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's more or less what I used to get the results above (flare1.png is a 24-bit PNG with alpha channel):<br><pre class=code>SetGraphicsDriver GLMax2DDriver()

Graphics 800,600

Global img:timage = LoadImage("flare1.png")
Global px:TPixmap = LockImage(img)

While Not KeyDown(KEY_ESCAPE)
	Cls
	DrawImage img,200,300
	DrawPixmap px,400,300
	Flip
Wend</pre> <br><br></td></tr></table><br>
<a name="842821"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can you please post a link to flare1.png or email it to me. <br><br></td></tr></table><br>
<a name="842822"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Check your e-mail (the one in your profile).<br><br>Didn't want to post it here cos its an asset from my current game. <br><br></td></tr></table><br>
<a name="842832"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>I don't get your 'whiterect' effect with the GL driver, so I assume this is a driver thing.<br><br>Use 'SetBlend ALPHABLEND' to perform proper alpha blending instead of the default MASKBLEND-ing. Adding this to your example works for me.<br><br>DrawPixmap does not perform blending at all - it effectively works in SOLIDBLEND mode. <br><br></td></tr></table><br>
<a name="842844"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Mark - sorry, should have said.  I tried all the blendmodes before and I get the same results as above, whatever I do.<br><br>What hardware are you testing on? <br><br></td></tr></table><br>
<a name="842853"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>What hardware are you testing on?<br> <br></div><br>Windows XP + GeForce8800.<br><br>What does this do?<br><br><pre class=code>
Strict

GLGraphics 640,480

glEnable GL_TEXTURE_2D
glBindTexture GL_TEXTURE_2D,1

glTexParameteri GL_TEXTURE_2D,GL_TEXTURE_MAG_FILTER,GL_LINEAR
glTexParameteri GL_TEXTURE_2D,GL_TEXTURE_MIN_FILTER,GL_LINEAR

Local pixmap:TPixmap=LoadPixmap( "flare1.png" )
glTexImage2D GL_TEXTURE_2D,0,GL_RGBA8,pixmap.width,pixmap.height,0,GL_RGBA,GL_UNSIGNED_BYTE,pixmap.pixels

glEnable GL_BLEND
glBlendFunc GL_SRC_ALPHA,GL_ONE_MINUS_SRC_ALPHA

While Not KeyHit( KEY_ESCAPE )

	glClear GL_COLOR_BUFFER_BIT|GL_DEPTH_BUFFER_BIT
	
	glBegin GL_QUADS
	glTexCoord2f 0,0
	glVertex2f -1,-1
	glTexCoord2f 1,0
	glVertex2f 1,-1
	glTexCoord2f 1,1
	glVertex2f 1,1
	glTexCoord2f 0,1
	glVertex2f -1,1
	glEnd
	
	Flip
	
Wend
</pre> <br><br></td></tr></table><br>
<a name="842854"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> I get the flare image, stretched out across the full window.  Is that right?<br><br>(That GL stuff frightens me).<br><br>BTW: I'm testing on a Compaq Presario C757, Pentium Dual Core 1.46GHz, Intel GMA X3100 graphics, 2GB RAM, Vista Home Premium.<br><br>From what I've read, the shared graphics memory on these things is allocated as needed up to something like 384MB.  I'm not sure if this is anything to do with textures not appearing in Blitzmax under GLMax2DDriver.  Probably worth mentioning anyway. <br><br></td></tr></table><br>
<a name="842858"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> How about this:<br><br><pre class=code>

Strict

GLGraphics 640,480

Local pixmap:TPixmap=LoadPixmap( "flare1.png" ),flags=MASKEDIMAGE | FILTEREDIMAGE

Local tex=CreateTex( pixmap.width,pixmap.height,flags )

glEnable GL_TEXTURE_2D
glBindTexture GL_TEXTURE_2D,tex

UploadTex pixmap,flags

glEnable GL_BLEND
glBlendFunc GL_SRC_ALPHA,GL_ONE_MINUS_SRC_ALPHA

While Not KeyHit( KEY_ESCAPE )

	glClear GL_COLOR_BUFFER_BIT|GL_DEPTH_BUFFER_BIT
	
	glBegin GL_QUADS
	glTexCoord2f 0,0
	glVertex2f -1,-1
	glTexCoord2f 1,0
	glVertex2f 1,-1
	glTexCoord2f 1,1
	glVertex2f 1,1
	glTexCoord2f 0,1
	glVertex2f -1,1
	glEnd
	
	Flip
	
Wend

End

Function CreateTex( width,height,flags )

	Local name
	glGenTextures 1,Varptr name

	glBindTexture GL_TEXTURE_2D,name
	'set texture parameters

	glTexParameteri GL_TEXTURE_2D,GL_TEXTURE_WRAP_S,GL_CLAMP_TO_EDGE
	glTexParameteri GL_TEXTURE_2D,GL_TEXTURE_WRAP_T,GL_CLAMP_TO_EDGE
	
	If flags &amp; FILTEREDIMAGE
		glTexParameteri GL_TEXTURE_2D,GL_TEXTURE_MAG_FILTER,GL_LINEAR
		If flags &amp; MIPMAPPEDIMAGE
			glTexParameteri GL_TEXTURE_2D,GL_TEXTURE_MIN_FILTER,GL_LINEAR_MIPMAP_LINEAR
		Else
			glTexParameteri GL_TEXTURE_2D,GL_TEXTURE_MIN_FILTER,GL_LINEAR
		EndIf
	Else
		glTexParameteri GL_TEXTURE_2D,GL_TEXTURE_MAG_FILTER,GL_NEAREST
		If flags &amp; MIPMAPPEDIMAGE
			glTexParameteri GL_TEXTURE_2D,GL_TEXTURE_MIN_FILTER,GL_NEAREST_MIPMAP_NEAREST
		Else
			glTexParameteri GL_TEXTURE_2D,GL_TEXTURE_MIN_FILTER,GL_NEAREST
		EndIf
	EndIf

	Local mip_level

	Repeat
		glTexImage2D GL_TEXTURE_2D,mip_level,GL_RGBA8,width,height,0,GL_RGBA,GL_UNSIGNED_BYTE,Null
		If Not (flags &amp; MIPMAPPEDIMAGE) Exit
		If width=1 And height=1 Exit
		If width&gt;1 width:/2
		If height&gt;1 height:/2
		mip_level:+1
	Forever
	Return name
End Function

Function UploadTex( pixmap:TPixmap,flags )
	Local mip_level
	Repeat
		glPixelStorei GL_UNPACK_ROW_LENGTH,pixmap.pitch/BytesPerPixel[pixmap.format]
		glTexSubImage2D GL_TEXTURE_2D,mip_level,0,0,pixmap.width,pixmap.height,GL_RGBA,GL_UNSIGNED_BYTE,pixmap.pixels
		If Not (flags &amp; MIPMAPPEDIMAGE) Exit
		If pixmap.width&gt;1 And pixmap.height&gt;1
			pixmap=ResizePixmap( pixmap,pixmap.width/2,pixmap.height/2 )
		Else If pixmap.width&gt;1
			pixmap=ResizePixmap( pixmap,pixmap.width/2,pixmap.height )
		Else If pixmap.height&gt;1
			pixmap=ResizePixmap( pixmap,pixmap.width,pixmap.height/2 )
		Else
			Exit
		EndIf
		mip_level:+1
	Forever
	glPixelStorei GL_UNPACK_ROW_LENGTH,0
End Function
</pre> <br><br></td></tr></table><br>
<a name="842862"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Same as your first bit of code.  Flare texture, stretched across the whole window. <br><br></td></tr></table><br>
<a name="842864"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> One more:<br><br><pre class=code>

Strict

GLGraphics 640,480

Local pixmap:TPixmap=LoadPixmap( "flare1.png" ),flags=MASKEDIMAGE | FILTEREDIMAGE

GLGraphicsDriver().SwapSharedContext
Local tex=CreateTex( pixmap.width,pixmap.height,flags )
UploadTex pixmap,flags
GLGraphicsDriver().SwapSharedContext

glEnable GL_TEXTURE_2D
glBindTexture GL_TEXTURE_2D,tex

glEnable GL_BLEND
glBlendFunc GL_SRC_ALPHA,GL_ONE_MINUS_SRC_ALPHA

While Not KeyHit( KEY_ESCAPE )

	glClear GL_COLOR_BUFFER_BIT|GL_DEPTH_BUFFER_BIT
	
	glBegin GL_QUADS
	glTexCoord2f 0,0
	glVertex2f -1,-1
	glTexCoord2f 1,0
	glVertex2f 1,-1
	glTexCoord2f 1,1
	glVertex2f 1,1
	glTexCoord2f 0,1
	glVertex2f -1,1
	glEnd
	
	Flip
	
Wend

End

Function CreateTex( width,height,flags )

	Local name
	glGenTextures 1,Varptr name

	glBindTexture GL_TEXTURE_2D,name
	'set texture parameters

	glTexParameteri GL_TEXTURE_2D,GL_TEXTURE_WRAP_S,GL_CLAMP_TO_EDGE
	glTexParameteri GL_TEXTURE_2D,GL_TEXTURE_WRAP_T,GL_CLAMP_TO_EDGE
	
	If flags &amp; FILTEREDIMAGE
		glTexParameteri GL_TEXTURE_2D,GL_TEXTURE_MAG_FILTER,GL_LINEAR
		If flags &amp; MIPMAPPEDIMAGE
			glTexParameteri GL_TEXTURE_2D,GL_TEXTURE_MIN_FILTER,GL_LINEAR_MIPMAP_LINEAR
		Else
			glTexParameteri GL_TEXTURE_2D,GL_TEXTURE_MIN_FILTER,GL_LINEAR
		EndIf
	Else
		glTexParameteri GL_TEXTURE_2D,GL_TEXTURE_MAG_FILTER,GL_NEAREST
		If flags &amp; MIPMAPPEDIMAGE
			glTexParameteri GL_TEXTURE_2D,GL_TEXTURE_MIN_FILTER,GL_NEAREST_MIPMAP_NEAREST
		Else
			glTexParameteri GL_TEXTURE_2D,GL_TEXTURE_MIN_FILTER,GL_NEAREST
		EndIf
	EndIf

	Local mip_level

	Repeat
		glTexImage2D GL_TEXTURE_2D,mip_level,GL_RGBA8,width,height,0,GL_RGBA,GL_UNSIGNED_BYTE,Null
		If Not (flags &amp; MIPMAPPEDIMAGE) Exit
		If width=1 And height=1 Exit
		If width&gt;1 width:/2
		If height&gt;1 height:/2
		mip_level:+1
	Forever
	Return name
End Function

Function UploadTex( pixmap:TPixmap,flags )
	Local mip_level
	Repeat
		glPixelStorei GL_UNPACK_ROW_LENGTH,pixmap.pitch/BytesPerPixel[pixmap.format]
		glTexSubImage2D GL_TEXTURE_2D,mip_level,0,0,pixmap.width,pixmap.height,GL_RGBA,GL_UNSIGNED_BYTE,pixmap.pixels
		If Not (flags &amp; MIPMAPPEDIMAGE) Exit
		If pixmap.width&gt;1 And pixmap.height&gt;1
			pixmap=ResizePixmap( pixmap,pixmap.width/2,pixmap.height/2 )
		Else If pixmap.width&gt;1
			pixmap=ResizePixmap( pixmap,pixmap.width/2,pixmap.height )
		Else If pixmap.height&gt;1
			pixmap=ResizePixmap( pixmap,pixmap.width,pixmap.height/2 )
		Else
			Exit
		EndIf
		mip_level:+1
	Forever
	glPixelStorei GL_UNPACK_ROW_LENGTH,0
End Function
</pre><br><br>(Make sure to test on GMA!) <br><br></td></tr></table><br>
<a name="842866"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> That last one results in a white screen. <br><br></td></tr></table><br>
<a name="842870"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> Aha!<br><br>GMA doesn't like shared GL contexts... <br><br></td></tr></table><br>
<a name="842871"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have no idea what that means! :D<br><br>Can you mend it? <br><br></td></tr></table><br>
<a name="842877"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> don't know how large the texture is but tested both of the codes with a 32x32 png image on XP with 8800GTS 640MB (169.28 drivers, most current from eVGA and newer than the WHQL certified on nvidia.com) and they both stretch the image over the whole screen. <br><br></td></tr></table><br>
<a name="842885"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Can you mend it?<br> <br></div><br>Maybe.<br><br>Any particular reason you're not using DX driver? <br><br></td></tr></table><br>
<a name="842886"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am, mainly.  But a lot of people prefer to use OpenGL so I'd  like to at least give them the option.<br><br>There's a hell of a lot of these Intel GMA things about nowadays.  It'd be great if it could be made to work. <br><br></td></tr></table><br>
<a name="845219"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> Any news on this being fixed yet?  Its really annoying that I can't run any BlitzMax stuff that uses GL! <br><br></td></tr></table><br>
<a name="845380"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SLotman</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, I'm waiting this to be fixed too... it's what been putting me off to purchase blitzmax and eventually using it on my next game =( <br><br></td></tr></table><br>
<a name="845559"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Qube</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Any particular reason you're not using DX driver?<br> <br></div><br><br>Personally I find the GL driver quite a bit faster than the DX version, so a fix with others incompatibilities would be very welcome indeed :) <br><br></td></tr></table><br>
<a name="845576"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> This can't be fixed that easy, its a gfx driver (hardware)) problem, not a problem with max2d. On Windows dx is the most comaptible one. Even if opengl maybe faster on your machine it doesn't mean it will be on others. thats the reason why we add dx support to minib3d extended. <br><br></td></tr></table><br>
<a name="845579"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> Its absolutely a problem with Max2D.  Everything else I've ever tried that uses GL works without problems.<br><br>It needs to be fixed, otherwise BRL might as well terminate GL support in Blitzmax if it can't be relied upon to work correctly under Windows. <br><br></td></tr></table><br>
<a name="845582"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> what is your hardware?<br>If you say intel, then it is a driver issue.<br>If you say ATI: get current drivers. 8.1 is known to solve a fair load of OpenGL bugs.<br><br>And OGL is faster on any DX9 level hardware actually mainly because DX7 drivers never got really 3D optimized, while OpenGL ones did. <br><br></td></tr></table><br>
<a name="845643"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SLotman</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> The main reason to stick with OGL is portability. <br><br>Even if you can specify the use of DX on Windows, If I need to write some custom function to do something not implemented that I need - I wouldnt want to have to write that twice to work both on OpenGL *and* Direct-X.<br><br>If I wanted some 2D DX7 code, I still have my own 2D engine I did when DX7 was out (which didnt use any 3D at all and could run even on a Trident 1mb card hehehe), even made some games out of it (Revenge of the TimeLord and Frosted if anyone here ever saw them)<br><br>My point is, the best feature of BMax is portability and the "write once, compile everywhere" idea. And if it's having trouble with Intel's GMA chipset (which is now everywhere on laptops), it is a big problem in my book.<br><br>Have anyone tested to see if this also happens on Linux machines with those GMAs? This would clarify if it's a drivers problem or an incompatibility with the way BlitzMax handles OGL stuff. <br><br></td></tr></table><br>
<a name="845647"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> If you say intel, then it is a driver issue. <br></div>Argh!  ITS NOT A DRIVER ISSUE!  Stop telling me its a driver problem when I know 100% it isn't!  Everything else for GL works perfectly.  Blitzmax GL stuff does not work.  It is not the drivers! OK?! :/<br><br>If you bothered to actually read threads instead of just bombarding the forums with a hundred replies a day and an opinion on everything, you'd already know its Intel GMA hardware (actually you would have known that when you pointlessly 'tested' an Intel GMA problem on Nvidia hardware last week in this very thread).<br><br><div class="quote"> This would clarify if it's a drivers problem or an incompatibility with the way BlitzMax handles OGL stuff.  <br></div>This is what Mark said it is, above (shared GL contexts).  Can it be fixed?  Mark says "maybe". <br><br></td></tr></table><br>
<a name="845798"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Argh! ITS NOT A DRIVER ISSUE! Stop telling me its a driver problem when I know 100% it isn't! <br> <br></div><br>Our experiments above suggest that Intel's implementation of shared GL contexts is either borked or, at the least, flaky.  The same shared context code works fine on a bunch of other OS/card combos.<br><br>Not all GL apps use shared contexts (esp. games) so not all apps suffer from problems like this - which of course doesn't mean there isn't a problem.<br><br>I have some ideas for hacks/fixes which I'll try out soon, but in the meantime I'm locking this as it's getting shouty. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
