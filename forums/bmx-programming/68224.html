<!DOCTYPE html><html lang="en" ><head ><title >Move a 2D texture in 3D</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Move a 2D texture in 3D</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Move a 2D texture in 3D</a><br><br>
<a name="762178"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi.  How easy it is in native Bmax to get a 2D texture that's part of a TImage and draw it in 3D e.g. slightly angled back with perspective, using DX or OpenGL calls?  I assume all the fancy 3D engines that people are making do that, but is there like a really easy way to do it for a single texture?<br><br>OK I'm a bit out of touch, but in 3D games the CPU does all the maths and rotations etc of the shapes in 3D and then sends the coords to the 3D card to render right.  The 3D card doesn't do any fancy maths does it?  Or am I wrong here?<br><br>Thanks! <br><br></td></tr></table><br>
<a name="762181"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> OK I'm a bit out of touch, but in 3D games the CPU does all the maths and rotations etc of the shapes in 3D and then sends the coords to the 3D card to render right. The 3D card doesn't do any fancy maths does it? Or am I wrong here? <br></div><br>It depends. You used to be right here, because IIRC Max2D did not enable TNL ( hardware transform and lighting ) by default, but I think it does now. Or if it doesn't, it's available with a third party module. Pretty much any 3d card sold in the past decade can do it, so there's no sense not using it.<br><br>As for the 3d thingy, can't you calculate the projection manually and use Tim's textured poly module to do the drawing? Basic 3d projection is very simple, so it won't take any time. I'm guessing that both GL and DX modules lock you into 2d drawing with a 2d projection matrix so switching to a 3d projection matrix, drawing a quad and then switching back to the 2d projection matrix again would be slow because of the time it takes to reset the PM. Might as well stick with 2d and calculate the projection yourself, I'd say.<br><br>EDIT: Just to be clear, I've not used Tim's module, so I'm not sure how it works. It may not be suitable, so if I sound wrong here, I probably am. <br><br></td></tr></table><br>
<a name="762182"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> "Using native Bmax" ???? You can't. You have to introduce rotation commands applied to the modelview or projection matrix.<br><br>Also you can't use the orthographic projection that 2D uses, you have to switch to a perspective projection, which means defining like glFrustum() or gluPerspective(). Then you have to position the objects in 3d space where the camera can see them. Then you have to add rotation to the projection/modelview matrix with glRotatef(), presumably in the Y axis. <br><br></td></tr></table><br>
<a name="762193"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Its quite easy to draw a texture to a draw/poly command. One of the very early GL Tuts tells you how. And Indies Textured poly if the same.<br><br>Now ok this is just a textureed poly and not a 2d texture in 3d. So you have all the problems Angel said. But it really depends on wha tyou are doing.<br>Iso none projected 3d is just rotated 2d textures.<br>But simply to make it look "angeled" just means moveing two oposite corners of a quad closer together. <br><br></td></tr></table><br>
<a name="762274"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Moving the top corners closer together will not give you the impression of perspective because there is no vertical adjustment to represent distance. You could draw it in segments perhaps, each a little thinner than the last into the distance. <br><br></td></tr></table><br>
<a name="762275"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep, but the TOP corners are not oposite corners.<br>But Anyway I was talking about (though I didnt say) when you have ONE top corner, two corners horizontal to eash other, and a bottom corner. (Basicly Iso). I agree it get complicated if you want to be able to "do everything". <br><br></td></tr></table><br>
<a name="762283"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I can do all the math to rotate a poly in 3D with perspective (since like about uh 18 years ago) but that will be an untextured poly.  Are you lot saying that if I used Tim's texture mod that it won't be suitable for say a photo as the photo of course would be drawn with perspective, it would be normal 2D within a weird shaped poly is all.<br><br>OK forget native BMax but can it be done easily with a few DX/GL calls from within Max and without having to change 3D graphics mode or whatever. i.e. leave my game in 2D mode but have a 3D rotated texture with perspective spin around on top or something? <br><br></td></tr></table><br>
<a name="762302"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jake L.</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> If it's possible to change the projection matrix between drawing commands, this would be possible. As far as I know you can change the projection matrix as you like (at least under GL), so this should work:<br><br>&lt;Set Ortho-Projection&gt;<br>&lt;Draw 2D-Stuff&gt;<br>&lt;Set 3D-Perspective-Projection&gt;<br>&lt;Draw 3D&gt;<br>&lt;Flip&gt;<br><br>Have a look at the NeHe-Tutorials (in the BMax-Tutorials-Forum) for the 3D-Matrix and other stuff, should be easy to create a testapp.<br><br>You can manually set a 2D-Matrix by:<br><br>glMatrixMode GL_PROJECTION<br>glLoadIdentity<br>glOrtho 0,screenwidth%,screenheight%,0,-1,1<br><br>Don't know about the DirectX side, but should be possible, too. <br><br></td></tr></table><br>
<a name="762304"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, what I was saying was if you just moved the corners about, it would "look" like 3D when useing textured quads.<br><br>You only need to mess with the projection if you want a lot of things to look 3d next to each other. (The others are right if you need to do specific things). but if you just want a "Picture" to spin about and "look" 3d, then textured poly just moving the corner points about will probably be enough.<br><br>It comes down to how much 3d you want. If its just a graphical gimic, then what Ive just said works. If its more (or obviously if you want an expandable solution), then either follow the NeHe tuts or just use minib3d or one of  the other 3d solutions <br><br></td></tr></table><br>
<a name="762313"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >anawiki</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Grey, give MiniB3D a try. We mix 2d with 3d and it works pretty well. <br><br></td></tr></table><br>
<a name="762317"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> interesting.  Yeah I don't need a whole 3D system, just to spin a texture in 3D.  In fact I don't even need that I was just wondering if it was possible easily. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
