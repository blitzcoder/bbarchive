<!DOCTYPE html><html lang="en" ><head ><title >How to add Version Information BlitzMax EXE</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >How to add Version Information BlitzMax EXE</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >How to add Version Information BlitzMax EXE</a><br><br>
<a name="1140919"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Captain Wicker (crazy hillbilly)</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> How can I add version information into a blitzmax exe file?<br><br>File Version:<br>Product name:<br>Product version:<br>Copyright: <br><br></td></tr></table><br>
<a name="1140920"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> This can be done by emvedding a manifest file to the executable, but I don't think BlitzMax does support it nativelly. <br><br></td></tr></table><br>
<a name="1140924"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Captain Wicker (crazy hillbilly)</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> How can I emved a manifest in the program ziggy? What is emved? Do you mean embed? <br><br></td></tr></table><br>
<a name="1140925"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jsp</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I could send you some stuff but there is no email in your profile. <br><br></td></tr></table><br>
<a name="1140927"></a>

<a name="1140928"></a>

<a name="1140929"></a>

<a name="1141104"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> you have to write a manifest and a link an *.o file to your bmax code. But you need 4 steps:<br><br>I:<br><br>write this text with a text editor and save it as ICON.RC in a new directory "C:\TEST\"<br><br><pre class=code>1 24 "manifest.manifest"
101 ICON C:\test\icon.ico
1 VERSIONINFO
FILEVERSION 4,0,1,0
PRODUCTVERSION 4,0,1,0
FILEOS 0x40004
FILETYPE 0x1
{
BLOCK "StringFileInfo"
{
 BLOCK "040904b0"
 {
  VALUE "Comments", "music theory software"
  VALUE "CompanyName", "Midimaster Music Education Software"
  VALUE "FileVersion", "2012.02.24.0"
  VALUE "FileDescription", "RhythmTrainer"
  VALUE "InternalName", "RhythmTrainer"
  VALUE "LegalCopyright", "© Peter Wolkersdorfer"
  VALUE "LegalTrademarks", "Midimaster"
  VALUE "OriginalFilename", "RhythmTrainer"
  VALUE "ProductName", "RhythmTrainer"
  VALUE "ProductVersion", "4.0.1.0"
 }
}
BLOCK "VarFileInfo"
{
  VALUE "Translation", 0x0407, 0, 0x0409, 0, 0x0405, 0
}
} </pre><br>if you do not want to add an icon to your exe remove the line with the ICON.ICO <br><br><br><br>II:<br>write this text with a text editor and save it as MANIFEST.MANIFEST also to the "C:\TEST\"<br><br><pre class=code>&lt;?xml version='1.0' encoding='UTF-8' standalone='yes'?&gt;
&lt;assembly xmlns='urn:schemas-microsoft-com:asm.v1' manifestVersion='1.0'&gt;
   &lt;dependency&gt;
      &lt;dependentAssembly&gt;
         &lt;assemblyIdentity
            type='win32'
            name='Microsoft.Windows.Common-Controls'
            version='6.0.0.0'
            publicKeyToken='6595b64144ccf1df'
            language='*'
            processorArchitecture='*'
         /&gt;
      &lt;/dependentAssembly&gt;
   &lt;/dependency&gt;
&lt;/assembly&gt;
</pre><br><br><br><br>III:<br><br>write this text with a text editor and save it as MAKEIT.BAT to the same directory :<br><br><pre class=code>windres -i C:\test\icon.rc -o C:\test\icon.o</pre><br><br>now doubleclick on the MAKEIT.BAT. This will create a ICON.O file in the same directory. Copy this file into the same folder, where your *.bmx file is.<br><br><br><br>IV:<br><br>Now ad  this line to your *bmx-code:<br><br><pre class=code>SuperStrict
?Win32
	Import "icon.o"
?</pre><br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1140931"></a>

<a name="1140932"></a>

<a name="1140934"></a>

<a name="1140937"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Captain Wicker (crazy hillbilly)</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> there is no email in your profile <br></div><br>@jsp:<br>I was forced to hide my email due to being constantly harassed by three of my fellow blitzers while hoping I wouldn't have anyone else stalking my gmail account. Sorry!<br><br>@midimaster:<br>thanks! that is very helpful! :)<br>What is a .bmk file? Do you mean .bmx file?<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1140936"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jsp</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> No problem, if you need further help you could mail me. <br><br></td></tr></table><br>
<a name="1140939"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Captain Wicker (crazy hillbilly)</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I followed these instructions but it fails to create the *.o file. I have uploaded a zip file via dropbox with it's contents. What am I doing wrong? <a href="http://dl.dropbox.com/u/56193888/TEST.zip" target="_blank">http://dl.dropbox.com/u/56193888/TEST.zip</a> <br><br></td></tr></table><br>
<a name="1140942"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was trying to get the same results by providing the assembly version on the XML file, but I see that adding them to the RC is way better. I'll be adding this to BLIde for the next update.<br>Captain, I've downloaded your sample and it works properly here, so I think you do not have properly set your MinGW installation. If it is properly set up on BLIde, you can go to tools / Open optimized compiler and write the command gcc to see if it is properly recognized. If it is, you can make this process from within the optimized BLIde console. <br><br></td></tr></table><br>
<a name="1140943"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Captain Wicker (crazy hillbilly)</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here us the answer! I edit the BAT file and add this at the top:<br><pre class=code>PATH=C:\mingw\bin;%PATH%</pre><br>And all works! (so far). Now I have the .o file created! :) <br><br></td></tr></table><br>
<a name="1140944"></a>

<a name="1140945"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> sorry i wrote it very fast... I mean bmx-file (your source code)<br><br>if the creating of the *.o file fails it could have some reasons. one is you must have a working MinGW on the computer. A second one is that you should take care about the empty lines and spaces. they are important! Third is, that you remove the line with the ICON.ICO, if you do not have such a file<br><br>[EDIT]<br>ah... good ... congratulations.<br><br>now start to play with the parameters in the given ICON.RC text and replace tit with your informantions.<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1140946"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Captain Wicker (crazy hillbilly)</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great! Ive got my information into my application! :D But can the same be done with Blitz3D? :/ <br><br></td></tr></table><br>
<a name="1141032"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hiya,<br><br>It would be nice if the MaxIDE supported a pre-build process, does BLIde have a pre-build feature? Or is there a way to get a feature without making your own bmk? <br><br></td></tr></table><br>
<a name="1141036"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SystemError51</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for this. The information here is relevant for my project as well. <br><br></td></tr></table><br>
<a name="1141105"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> @col<br>sorry for writing "*.bmk". this was only a typo! You need no new bmk. I mean "*.bmx" !!! a normal code file... <br><br></td></tr></table><br>
<a name="1141109"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @col<br>sorry for writing "*.bmk". this was only a typo! You need no new bmk. I mean "*.bmx" !!! a normal code file...<br> <br></div><br><br>Yeah, no worries, Sorry for the confusion - I understood what you meant :P<br><br>With 'bmk', I meant the bmk.exe file inside the BlitzMax/bin folder. It works like a traditional 'make' file compiling the source files into object files using the correct compiler according to the source code file extension, and also 'acts' as a linker to bring them together for the final exe, again using the correct tools.<br><br>What I meant was a 'pre-build' phase, in that you could run other .exes during the compilation process and before it builds your own .exe. Using your example in post #5 above, in a pre-build phase you would have the windres.... command run when you hit Compile, so everything is done in an 'all-in-one' process. A pre-build is usually just a list of command line prompts anyway etc.<br><br>I wasn't sure if the standard bmk.exe file was capable of doing this or if it would need modifying ( we have the source in the BlitzMax/src folders ). <br><br></td></tr></table><br>
<a name="1141117"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> BLIde does support automatical .o resource compilation to embed icons to executables and enable visual styles. Next version will support all the features described here too (currently testing), among other small improvements. Heopefully this will be out in a couple of weeks, but you know how beta-testing is, it may take a bit longer or a bit shorter. <br><br></td></tr></table><br>
<a name="1141123"></a>

<a name="1141125"></a>

<a name="1141126"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hiya ziggy,<br><br>During compilation, I'd like to be able to run a command line that will generate a new .o file everytime. This new .o will be imported into the current source thats compiling. Is that possible with BLIde or an upcoming feature?<br><br>Sorry just reread you previous post :D<br>Cool, look forward to the feature, I'll buy it when that feature is present.  Nice one!<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1142036"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's been added to latest BLIde release. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
