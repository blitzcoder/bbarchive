<!DOCTYPE html><html lang="en" ><head ><title >Transparency Apparently</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Transparency Apparently</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Transparency Apparently</a><br><br>
<a name="1304321"></a>

<a name="1304339"></a>

<a name="1304776"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't think this is a beginner's question so I am posing it here.<br><br>What could be written in BlitzMAX to do two things ?<br><br>[1] Display a movie, an Mp4, at a fixed size and location on the screen.<br><br>[2] The ability to plot to that screen in BlitzMAX where color R=0, G=0, B=0, bleeds through the video, and any other colors appear as pixels on top.<br><br>I'd like to do this so I can build an animated watermark and slider marquee in front of the video. <br><br></td></tr></table><br>
<a name="1304329"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> 1) IIRC there's some code that uses the VLC playback libraries to draw video to the screen, which should be able to handle .mp4.<br>(What platform are you talking about here? Windows, Linux, Mac?)<br><br>2) Not sure what you mean here, but you can draw whatever you want on top of video, simply by not erasing the background but giving additional drawing statements before the flip. <br><br></td></tr></table><br>
<a name="1304330"></a>

<a name="1304335"></a>

<a name="1304341"></a>

<a name="1304409"></a>

<a name="1304480"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I know you can display a video in BlitzMAX, Xlsior. what would be unique is to plot directly above that movie surface in BlitzMAX keeping in mind any non-plotted pixels are transparent and would show the video beneath.<br><br>BlitzMAX code of this design would be interesting and likely helpful for others to see and make use of.<br><br>For instance, you could play a video from Online and inject SRT directly into it - or inject your own special effects into an Offline video you record and then can re-record with the new effects generated from BlitzMAX, the main reason I would want it. <br><br></td></tr></table><br>
<a name="1304724"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hezkore</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> With Brucey's AVBin module I was able to get each frame of a video as a Pixmap, which I could manipulate any way I wanted.<br>But AVBin seems to be very outdated now. <br><br></td></tr></table><br>
<a name="1304728"></a>

<a name="1304729"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> When you install the VLC media player you can get the libvlc and libvlccore DLLs to use with this:<br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=3230" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=3230</a><br><br>Using that code archive as example, you would supply a function pointer to the "unlock" callback of libvlc to do processing, such as converting the decoded pixels of the video frame to a BlitzMax TPixmap.<br><a href="https://www.videolan.org/developers/vlc/doc/doxygen/html/group__libvlc__media__player.html#gadb157d29493dfc0f89d889603e76aeb9" target="_blank">https://www.videolan.org/developers/vlc/doc/doxygen/html/group__libvlc__media__player.html#gadb157d29493dfc0f89d889603e76aeb9</a> <br><br></td></tr></table><br>
<a name="1304737"></a>

<a name="1304738"></a>

<a name="1304739"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I know you can display a video in BlitzMAX, Xlsior. what would be unique is to plot directly above that movie surface in BlitzMAX keeping in mind any non-plotted pixels are transparent and would show the video beneath. <br></div><br><br>What do you mean "plot directly above that movie surface"?<br><br>Typically, you open a graphics screen or a canvas. you draw the movie frame. As long as you don't FLIP to make the updated screen visible yet, ANY other drawing operations (whether images, lines/pixels/whatever primitives etc.) you draw afterwards before the flip get drawn on top of the movie, and any place where you don't draw you still see the movie. That's it. the video framr would be drawn just like any other image that's part of a scene.<br><br>Unless you mean something entirely different, I don't really understand what the problem is here... <br><br></td></tr></table><br>
<a name="1304772"></a>

<a name="1304775"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Xlsior:<br><br>Here is an example of what I would like to do in BlitzMAX:<br><br>Display and animate a movie.<br><br>While the movie plays I can draw circles, lines, raster, and text directly on top of the movie screen.<br><br><img src="http://www.writerscafe.org/uploads/rte/24e1a567d7fc305a8cade39d0f4918a0.png"><br><br>Where "JORDAN DURAM" is plotted by Blitzmax's own DrawText() routine.<br><br>It will stay there displayed until you clear the pixels, say with Cls(), which will NOT clear the video frame, just what is plotted on top of it. <br><br></td></tr></table><br>
<a name="1304792"></a>

<a name="1304794"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> It will stay there displayed until you clear the pixels, say with Cls(), which will NOT clear the video frame, just what is plotted on top of it.  <br></div><br><br>No way around it -- You will need to redraw the video frame after each and every flip, then draw your own stuff on top of it again. Both the DirectX and openGL specs say that background buffer is undefined after you do a flip, so there is NO guarantee that the background remains... <br><br>And even on the computers where the videocard does retain the previous frame, it would have everything including the other stuff you already drew, which you apparently don't want. On some card it would be black, and on other cards it may rewind one, two, three, or even four frames depending on how many backbuffers the videocard drivers use and cycle through internally.<br><br>As far as (re)drawing the videoframe: <br>Here's a snippet from Grable that takes the frame as a pixmap or image with the VLC libraries, which would be trivial to redraw: <a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=3230#comments" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=3230#comments</a> <br><br></td></tr></table><br>
<a name="1305182"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah that's too bad, Xlsior. That would've been a nice and easy way to introduce special effects and information into an already coded or streaming video. <br><br></td></tr></table><br>
<a name="1305204"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> You do zero research and then give up.<br>The next time you're wondering why you don't grow in your field, please remember this moment. <br><br></td></tr></table><br>
<a name="1305207"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> That would've been a nice and easy way to introduce special effects and information into an already coded or streaming video <br></div><br><br>I fail to see how a single "draw the video frame!" call before drawing your own stuff on top of it is apparently such a problem. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
