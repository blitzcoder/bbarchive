<!DOCTYPE html><html lang="en" ><head ><title >SavePixmapPNG problem</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >SavePixmapPNG problem</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >SavePixmapPNG problem</a><br><br>
<a name="584212"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >drnmr</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> is this the command to use for saving an image the user of a program created? if yes, could anyone please tell me how to use it because the command description wasn't exactly helpful. <br><br></td></tr></table><br>
<a name="584232"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
Graphics 800,600
image:timage = LoadImage("my_image.png")
start_time=MilliSecs()
DrawImage image,0,0
my_pixmap:tpixmap=GrabPixmap(0,0,800,600)
Flip
SavePixmapPNG(my_pixmap,"pixmap_image.png")
end_time=MilliSecs()
DrawText end_time-start_time,0,0
Flip
WaitKey()

</pre> <br><br></td></tr></table><br>
<a name="584278"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >drnmr</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> what exactly does this do to the image you loaded, if anything? <br><br></td></tr></table><br>
<a name="584322"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> what exactly does this do to the image you loaded, if anything?  <br></div>Draws it to the screen. <br><br></td></tr></table><br>
<a name="584341"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> It doesn't do anything to the image... should it?<br>You might want to change the grabpixmap to use the same x,y as the drawimage (i.e. grab the image rather than the whole screen) and use imagewidth/imageheight to get the extents. <br><br></td></tr></table><br>
<a name="584530"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >drnmr</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> how do i save an image that i create in a program? <br><br></td></tr></table><br>
<a name="584673"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Exactly the same way. <br>If you want to save the background screen use the grabpixmap method. If you have the image as a TImage use<br><pre class=code>
mypixmap:TPixmap=lockimage(myimage)
SavePixmapPNG(my_pixmap,"pixmap_image.png")
unlockimage(image)
</pre> <br><br></td></tr></table><br>
<a name="585811"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >drnmr</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks for helping me with saving images. do you know how i could save something as a user defined file name? <br><br></td></tr></table><br>
<a name="585815"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> The filename is just a string variable. Have the user enter the string somehow, either with Input or with a program that reads keys, then save the png with that string as the filename. <br><br></td></tr></table><br>
<a name="585824"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >drnmr</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> can you make a texbox with blitzmax? <br><br></td></tr></table><br>
<a name="585825"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >drnmr</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> never mind that last question. i've been having problems getting input to recieve anything but numbers. is there a way to for input to recieve letters? <br><br></td></tr></table><br>
<a name="585827"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> give it a string variable instead of an int <br><br></td></tr></table><br>
<a name="585831"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >drnmr</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> how do i give it a string variable?? <br><br></td></tr></table><br>
<a name="585889"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there a hole in your bucket by any chance? :)<br>If you're using input then...<br>  filename$=input("What is your filename?"<br>or <br>  filename:string=input("What is your filename?")<br>specifying whether you want the variable to be local or global. <br><br></td></tr></table><br>
<a name="585968"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >drnmr</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> when i tried this, it messed up my program. <br><br></td></tr></table><br>
<a name="586038"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Provide your code and how it 'messed up'. <br><br></td></tr></table><br>
<a name="586046"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >drnmr</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> it messed up by waiting for a response in the command module and graphics window at the same time, giving my program a not responding label.<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
filename$ = Input("Type in filename") 'Coding for recieving filename

If KeyHit(key_enter) 'save image
        image:TPixmap=GrabPixmap(0,0,1150,850)
        SavePixmapPNG(image,filename$+".png")
EndIf
</textarea> <br><br></td></tr></table><br>
<a name="586060"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you doubly checking for the enter key to be pressed. The input command finishes taking input when the user presses enter. You can assume that once the input has been made, the already pressed enter. You shouldn't need to additionally check for enter to be pressed - unless that's some features you built into your program. <br><br></td></tr></table><br>
<a name="586083"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> So, does this not give you a white rect png file?<br><pre class=code>
filename$ = Input("Type in filename") 'Coding for recieving filename
Graphics 640,480
While Not KeyHit(key_escape)
	DrawRect 0,0,640,480
	If KeyHit(key_space) 'save image
        image:TPixmap=GrabPixmap(0,0,640,480)
        SavePixmapPNG(image,filename$+".png")
    EndIf 
    Flip
Wend
</pre><br>BTW You shouldn't really use input as it's not a graphical input command. <br>To pre-empt your next question...<br><a href="/codearcs.php?code=1428" target="_blank"> Graphic input1 </a><br><a href="/codearcs.php?code=1428" target="_blank"> Graphic input2 </a> <br><br></td></tr></table><br>
<a name="586168"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >drnmr</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> saving works fine... without input, that is <br><br></td></tr></table><br>
<a name="586219"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does the code I gave above work or not?<br>If not, what goes wrong?<br>If it works then post your whole code rather than the snippet you gave earlier. <br><br></td></tr></table><br>
<a name="586298"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >drnmr</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> your code doesn't mess up the program, but it doesn't save for me. <br><br></td></tr></table><br>
<a name="586302"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> EDIT: Thanks. <br><br></td></tr></table><br>
<a name="586443"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> your code doesn't mess up the program, but it doesn't save for me. <br> <br></div><br>So,. the code I provided runs OK but doesn't produce a<br>file with the name entered by the user in the same directory that the program is saved?<br>That's very odd. What release of Bmax are you using?<br>Just to confirm...<br>1) File / New in BlitzMax<br>2) Copy and paste code.<br>3) Save program<br>4) Run program...<br>    4a) Enter name e.g. TEST<br>    4b) See the white rectangle displayed<br>    4c) Press Spacebar<br>    4d) Escape to end program<br>5) Check directory in which the program was saved for file TEST.png.<br>.<br>Are you saying the TEST.png file doesn't exist? <br><br></td></tr></table><br>
<a name="586522"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >drnmr</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> i am using version 1.09. <br><br></td></tr></table><br>
<a name="586567"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> So... you're saying at 1.09 the scenario I listed above results in no TEST.png file being produced in the directory where your program is saved?<br>Why are you not using 1.10?<br>What happens at that level? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
