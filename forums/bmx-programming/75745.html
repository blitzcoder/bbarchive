<!DOCTYPE html><html lang="en" ><head ><title >Keydown</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Keydown</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Keydown</a><br><br>
<a name="846464"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >*</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is it me or is keydown temperamental?<br><br>My testers tell me sometimes it works 100% others it doesnt. <br><br></td></tr></table><br>
<a name="846468"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've never seen a problem with it myself, could it be keyboard related? <br><br></td></tr></table><br>
<a name="846469"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> could be, if they're trying to hold down multiple keys at once and one isn't registering. <br><br></td></tr></table><br>
<a name="846474"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> keydown should always work.<br>It uses the OS API keydown event to set the array slot of the key to true and keyrelease / keyup to set it to false.<br>the only thing interfering here would be eventhooks and especially the use of flushkeys within a such.<br><br>But as a educated guess: you aren't using the arrow keys for control, are you?<br>because they are restricted to the amount of keys beeing pressed at the same time. up + left/ up + right or the same to down normally does not work and will result in one key beeing ignored. thats a keyboard "issue" due to the way the keyboard is partitioned into areas that use the same line to send their state data <br><br></td></tr></table><br>
<a name="846479"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >*</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> im using A, Z, S, X, N and M.<br><br>Yes multiple keys are being pressed as this is for an Elite game that uses them for a flight model. Ive never had this problem with Blitz3d as the code is a direct port from that to Max and its only on max it has the trouble. <br><br></td></tr></table><br>
<a name="846487"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Panno</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> maybe a keyboard problem .<br>try a better one <br><br></td></tr></table><br>
<a name="846488"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can you add an alternative set of keys that would, if necessary, allow them to use some keys on the left and some on the right of the keyboard? <br><br></td></tr></table><br>
<a name="846501"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well "multiple" is fine<br>More than 3 parallel thought most likely not. cherry keyboards have their max somewhere between 3 and 4.<br><br>No Prob in Blitz3d most likely, its direct input, that has some tricks. But one in BM that is crossplatform and as OSX and Linux are crap when it cames to game input devices, BM is forced to use something that works on those as well instead of DI <br><br></td></tr></table><br>
<a name="846563"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Trader3564</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I know this issue. Some keyboards, or system configurations, whatever, cause to block when more then X yes are pressed. in my case on one keyboards i can only press 4 keys at a time or it will beep and block. <br><br></td></tr></table><br>
<a name="846579"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >impixi</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've experienced the same as Goldstar. Some systems can detect less simultaneous keypresses than others. <br><br>Incidentally, there’s a post by Mark in <a href="/posts.php?topic=74811" target="_blank">this</a> topic, that I found useful regarding input handling. Specifically:<br><br>marksibly:<br><div class="quote"> <br>Currently, Max assumes your app is running in either 'polled' or in 'event driven' mode - although users have mixed the 2 with varying degrees of success...<br><br>The idea here was that in polled apps, users wouldn't have to worry about PollSystem - it would be automatically handled whenever user input is queried (KeyDown, AppTerminate etc). <br><br>Event drivens apps on the other hand would get full control of when PollSystem occured, via PollSystem, WaitSystem, PollEvent or WaitEvent - and I like this degree of certainty.<br> <br></div><br><br>Once I changed my framework to be fully dependent on ‘event driven mode’ (as opposed to mixing ‘polled’ and ‘event driven’), all the glitches I was experiencing vanished. (Though you’ll still be limited by a maximum number of simultaneous keypresses on a per system basis). <br><br></td></tr></table><br>
<a name="846591"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhans0n</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Key masking and key ghosting is a pretty common issue.  Basically, if you hold down three keys, it can prevent a 4th one from registering.  Or, it can sometimes cause a phantom key press, resulting in it appearing like a 4th key was pressed when it wasn't.  This is because keyboards use a matrix system, and it varies from keyboard to keyboard.<br><br>Google "keyboard matrix" for more info. <br><br></td></tr></table><br>
<a name="846675"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >*</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> will have a look :D <br><br></td></tr></table><br>
<a name="846905"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matt Merkulov</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Btw, are there keyborads (USB or wireless for example) that can handle presses of 4 keys and more at one time (to play several people on one computer simultaneously)? <br><br></td></tr></table><br>
<a name="846950"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> My testers tell me sometimes it works 100% others it doesnt.  <br></div><br><br>Most keyboards have certain lock-out combinations, due to their design (multiple keys sharing the same circuit paths, if you have more than a certain number of hits it will block out the others)<br><br>for example: if you have the "UP" cursor key down, it will detect <i>either</i> "RIGHT" or "LEFT" at the same time, but it won't see UP <i>and</i> RIGHT <i>and</i> LEFT.<br><br>This is one of the main reasons many games started using the control, alt and shift keys to shoot -- the modifier keys always work and don't block any other keys in the process. <br><br></td></tr></table><br>
<a name="846955"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >*</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> fixed it, it was a timing issue <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
