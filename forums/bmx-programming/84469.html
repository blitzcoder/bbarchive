<!DOCTYPE html><html lang="en" ><head ><title >OO Game Design ...</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >OO Game Design ...</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >OO Game Design ...</a><br><br>
<a name="954400"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arowx</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi just a general query/brainstorem on how to Design a game system, in effect once you start down the road of a game framework what way do you partition your design.<br><br>For example a simple Sprite/Game Object type that deals with drawing, logic, triggers sound, interactions, AI, collision detection ect...<br><br>Or seperate objects/systems for disparate areas e.g. Graphical, AI/Logic, Collision ect...<br><br>In effect not all game objects may be 'visible' at one time or at all, although their impact may be e.g. Gravity/ Wind/ Event Timers/ Offscreen objects.<br><br>Or even more abstract Events/Logic Model/View/Controller <br><br></td></tr></table><br>
<a name="954439"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think most people separate stuff out into whatever seems to be a logical natural boundary between areas of the system.<br><br>Sometimes you have to think about efficiency - it's still a general fact that e.g. using arrays of object data in parallel is faster for various reasons than lots of separate objects. But putting stuff all in one place is also not so great for clarity, it creates hardcoded dependencies, and it's not so easy to modify one part without other parts breaking. If it makes sense to have a `sprite` type that would be great, but I don't think I'd want to put all the logic and drawing stuff in with it. I prefer to have graphics stuff separate from logic stuff and would aim more towards a general particle system which includes sprites and ai. <br><br></td></tr></table><br>
<a name="954443"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >lukehedman</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think a lot of your design is personal preference but I can give you an example of the method (pun intended) I use.<br><br>The basic engine consists of using types I call cores. Each core manages a different aspect of the program, and a core can have sub cores as well.<br><br>The main core manages all the other game cores. Generally speaking the main core's methods are the only ones called outside of another type.<br><br>Some of the other cores I use include:<br><br>Zone Core: The zone core manages game levels, which I refer to as zones. Every zone is stored in this core and multiple zones can run at once if needed.<br><br>Zones: Zones use fixed rate logic to update the actors contained in them. Each zone has its own logic rate properties so different zones can run at different speeds.<br><br>Display Core: The display core controls the drawing of images. It is attached to one zone at a time and the calls the drawing methods for actors in that zone. Zone logic updates are rather slow (about 20 times a second) so the display also calculates tweening to make the graphics smooth.<br><br>Resource Core: It manages data loading. It usually has sub cores for graphics, sound, and saved games.<br><br>Effects Core: Controls particles, sound effects, and music with sub-cores.<br><br>Bodies: Bodies control physics interactions. Each body is a primitive such as a circle or a polygon. Some body properties include mass, position, velocity, and facing. Bodies use methods for collision detection and physics calculations.<br><br>Actors: Each actor has an attached body for zone positioning and physics, but actors manage manage most other stuff such as what image to use, ammo, health, etc.<br><br>An important part of OOP is making types self contained. To help with this I use methods for all type interactions. For example, to calculate tweening the display core doesn't directly access zone variables like this: <br><br>TweenBase = DrawZone.LogicRate.StepSize<br><br>Instead a method is called from the zone like this:<br><br>TweenBase = DrawZone.LogicRateGet()<br><br>If I mess around with the variables and calculations in a zone the input and output methods stay the same. The display core isn't affected. Also be sure to make this methods specific. I usually title a method so the type of data and processing is explained first, and the data passing is explained second. For example:<br><br>Body.PositionCordsSet(X, Y)<br><br>Body.PositionVectorAdd(Body.Velocity)<br><br>Some other cores you might want to consider are user input and AI. Finally, one of the beauties of OO design is that implanting threading becomes much easier! Cores can run in different threads and use some kind of message system to pass data around.<br><br>That's just how I do things. Experiment to find what structure makes the most sense to you.<br><br>Whew! That's a lot. I hope the info helps. Good luck with your design. <br><br></td></tr></table><br>
<a name="954680"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arowx</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cheers ImaginaryHuman and lukehedman I think I'm going to have to keep with my core development principle K.I.S.S - Keep it Simple Stupid! and see what evolves.<br><br>Regards Merx. <br><br></td></tr></table><br>
<a name="954790"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> to be honest I mostly use procedural programming with blitzmax <br><br></td></tr></table><br>
<a name="955405"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sanctus</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Now this is an intresting topic<br>So let's see... this would be how I structure my game logic:<br><br>TApp - Handles the application and it's state. Has a game object in it and various features such as resoultion depth, fullscreen etc. Also has a resource manager<br>TObject - Handles the overall game. It includes a scene.<br>TScene - this is a base class.  I have various types derived from it depending on what it need. Most important are the classes that are menu (the first screen you see when entering a game for instance) and the gamelevels. If the derived is a gamelevel then it contains data about the level and everything there.<br><br>Then I have the objects you interact with. Usually I have the draw method and the update method. I guess it's clear about what they do.<br><br>furthermore it just depends on what the game is. <br><br></td></tr></table><br>
<a name="955477"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kistjes</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does anyone has experience with [a http://en.wikipedia.org/wiki/Model–view–controller]Model-View-Controller[/a] design pattern? It sounds promising. <br><br></td></tr></table><br>
<a name="955497"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arowx</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Kistjes - I've come across it it's very abstract and means that your game code has to be divided up into three areas:<br><br>  View - Drawing code, sound(?)<br>  Model - Abstract game objects and their states<br>  Controller - events and AI user interaction, timers.<br><br>It tends to be best used when you can have multiple views of the model, e.g. Spreadsheet, Chart, Graph, Hud, Scene<br><br>I'm not convinced that it would work that well in games, well the simpler ones I do anyway.  As it just means you have three code/object streams to update to add a single item to your game!? <br><br></td></tr></table><br>
<a name="956750"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Patch</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I use this pattern in my day-time job. We use Ruby on Rails and the Rails framework is split into model, view and controller. The main aim is to put all the logic into the models. The controller acts as a messenger between the model and the view. I think this could work well in a games environment and is something that I am keen to try myself. Agile Games Development too :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
