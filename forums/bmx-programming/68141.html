<!DOCTYPE html><html lang="en" ><head ><title >GrabImage/GrabPixmap-problem under Ubuntu 6.10</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >GrabImage/GrabPixmap-problem under Ubuntu 6.10</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >GrabImage/GrabPixmap-problem under Ubuntu 6.10</a><br><br>
<a name="761283"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Back again I'm returning with a problem, which may also just be a problem of the PCs I run with Ubuntu 6.10 .<br><br>Under Windows XP everything wents fine... I can grab images and pixmaps, manipulate them and so on.<br><br>But under Ubuntu (so may be Linux) the "grabimage" and "grabpixmap"-commands only return garbage  or blackscreens (when doing some imagecreations on black screens).<br><br>the following code works fine under XP, but under Ubuntu... only the white rects are drawn...<br><br><pre class=code>
SetGraphicsDriver GLMax2DDriver()
g = Graphics(640, 480, 0, 60, 0)

'draw something and then grab it...
SetColor 255,255,0
DrawLine(10,10,40,40)
DrawLine(20,20,40,40)
Plot(Rnd(10),Rnd(10))
Local Img:TImage = TImage.Create(30,30, 1, DYNAMICIMAGE,255,255,255)
GrabImage(img, 10,10)
Local Pix:TPixmap = GrabPixmap(10,10,40,40)


Repeat
Cls
SetColor 255,255,255;DrawRect(Rand(100),Rand(100),30,30)
DrawImage(img, 400+Rand(60),Rand(60))
DrawPixmap(pix, 200+Rand(60), 200+Rand(60))
Flip
Until AppTerminate()
</pre><br><br><br>Hope someone could give me a hint how to solve this problem,<br><br>bye<br>MB <br><br></td></tr></table><br>
<a name="761286"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I got white rectangles with GL which went away when I updated my graphics drivers. <br><br></td></tr></table><br>
<a name="761318"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> You should see on the top-left some white rectangles...<br><br>on the top-middle-right some lines and below some lines too... but they only appear on Win and not on Ubuntu.<br><br><br>bye<br>MB <br><br></td></tr></table><br>
<a name="761355"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >computercoder</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tried this in MacOS, and I see the white rects along with what appears as rain to the right and middle (two images - same thing)<br><br>BTW: this is a cool effect!<br><br>I'll give it a try tonight to see what I come up with under Ubuntu. <br><br></td></tr></table><br>
<a name="761475"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >computercoder</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I finally got a chance to test this out in Ubuntu. I have 6.06, and it works the same under Windows as it does on the Mac. <br><br>About the only thing I can think of is possibly Resync Mods. Other than that, maybe Ubuntu 6.10 has something different in it going on than 6.06? Perhaps getting the latest GFX drivers for your pc or maybe an older video card issue? <br><br></td></tr></table><br>
<a name="761522"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> The modules are up to date... the gfx are an sis-741 on a desktop and a Ati Xpress 1100 on the laptop... ubuntu is also up to date (all updates installed).<br><br>On both installations only under windows the pixmap and the image are grabbed correctly... on ubuntu only garbage is grabbed.<br><br><br>bye <br>MB <br><br></td></tr></table><br>
<a name="761652"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Without an initial CLS the result of your drawing will be undefined. <br><br></td></tr></table><br>
<a name="761685"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tried it with an initial CLS ... but as it doesn't bring the whished changes... I removed it before posting the example... same to a flip or other things which are changing the things displayed on screen.<br><br><br>bye<br>MB <br><br></td></tr></table><br>
<a name="761694"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> sounds like you have some kind of mesa driver issue as most likely non of both have true accelerated drivers at all for 3D. <br><br></td></tr></table><br>
<a name="761738"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >computercoder</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I forgot about the mesa drivers... Thats a good point. <br><br></td></tr></table><br>
<a name="761795"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> And now what to do?<br><br>The Ati 1100 is a DX9-card so I think it got a hardware 3D-acceleration... and for Ubuntu it's using fglrx as driver.<br><br><br>I can't imagine a driver being the problem of a "grab something from the background" issue... if so, some other apps would also have problems.<br><br><br>bye<br>MB <br><br></td></tr></table><br>
<a name="762065"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >computercoder</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I guess I will need to install Edgy myself. The problem could *still* persist with yours and may work on mine since I have an nVidia graphics card. I'll try to install the OS this weekend on my linux box.<br><br>In case you haven't installed ATI gfx in linux before: <a href="http://wiki.cchtml.com/index.php/Ubuntu_Edgy_Installation_Guide" target="_blank">http://wiki.cchtml.com/index.php/Ubuntu_Edgy_Installation_Guide</a><br><br>I agree that if an app works with OGL, then most likely others will as well. <br><br></td></tr></table><br>
<a name="762936"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Weekend is over... some results?<br><br>(like mentioned... problem occoured on ati and on sis)<br><br><br>bye<br>MB <br><br></td></tr></table><br>
<a name="767716"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Still no solutions on this?  seems to only affect some ATI-cards.<br><br><br>bye<br>MB <br><br></td></tr></table><br>
<a name="767759"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JazzieB</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just tried this on my set-up and everything works fine.  I have Ubuntu 6.10 and an ATI X1800XT graphics card.  I used method 2 from the above link when I installed my drivers.  Not sure if that will make any difference to your problem though. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
