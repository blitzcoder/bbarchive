<!DOCTYPE html><html lang="en" ><head ><title >TexturePoly mod from Indiepath for DX9??</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >TexturePoly mod from Indiepath for DX9??</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >TexturePoly mod from Indiepath for DX9??</a><br><br>
<a name="1066249"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matthew Smith</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>Been playing with Tim's TexturePoly mod and wondering if anyone has been able to convert this to work with DX9?<br><br>I've taken a look but the DX7 and DX9 mods are quite different.  I've managed to work out how to get the PrimaryDevice, but DrawPrimitive has differences, plus not sure how all this vertex stuff works.<br><br>Also I could just have no idea!  Anyway hope someone may be able to help. <br><br></td></tr></table><br>
<a name="1066257"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey Matt, as you saw in the showcase post I did do a quick hack of Indie's texturedpoly for dx9 using Doug Stastny's driver.  Mark's wasn't out then and anyway he shut his up pretty tight so I gave up the one time I tried to convert over.  Doug's driver is slightly faster but running it now I notice certain anomalies when running under 9 that were not present when I originally released Rocks so I'm assuming my hack or doug's driver didn't stand up well with my video card driver updates...(?)<br><br>At one point I did do a quick glowline function that's completely driver independent but not as quick that I use now instead.  Are you using it for textured poly or glowline? <br><br></td></tr></table><br>
<a name="1066265"></a>

<a name="1066266"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matthew Smith</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> dmaz,<br><br>Thanks for replying! I'm looking at using it for the glowline stuff.  Haven't done any Blitz stuff for a while and wanted to look at doing a shooter of some sort.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1066304"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oddball</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Check out my Odd2D module which has two textured poly routines that work with dx9, dx7 and ogl. The mod is in the public domain so you can either use it straight, rip the code you want or just look to see how it works. It's listed in my sig, but here are the relevant links in case you have sigs turned off.<br><br><a href="/posts.php?topic=90436" target="_blank">Discussion thread</a><br><a href="http://www.gooeyblob.com/mods/odd2dmodule.zip" target="_blank">Direct download</a><br><br>Enjoy. <br><br></td></tr></table><br>
<a name="1066319"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matthew Smith</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oddball,<br><br>Thanks - I'll check that out! <br><br></td></tr></table><br>
<a name="1066448"></a>

<a name="1066455"></a>

<a name="1066456"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice Oddball... maybe you can add a primitive level glowline?<br><br>here is a high-level glowline<br><pre class=code>	Function GlowLine( x1:Float, y1:Float, x2:Float, y2:Float, s:Float=.6, ends:Int=True )
		Local length:Float = GetDistance2D(x1,y1,x2,y2)*.5
		Local angle:Float = GetAngle2D(x1,y1,x2,y2)

		SetRotation angle-90
		SetScale s,length
		DrawSubImageRect img,x1,y1,64,2, 0,35,64,1,img.width*.5,0
		
		If ends
			SetTransform angle-90,s,s
			DrawSubImageRect img,x1,y1,64,32, 0,0,64,32,img.width*.5,32
			SetTransform angle+90,s,s
			DrawSubImageRect img,x2,y2,64,32, 0,0,64,32,img.width*.5,32
		EndIf
		SetTransform 0,1,1
	End Function

	Function GetAngle2D:Float( X1:Float,Y1:Float,X2:Float,Y2:Float )
	         Local dx# = x2 - x1
	         Local dy# = y2 - y1
	         Return (ATan2(dy#,dx#)+360) Mod 360
	End Function

	Function GetDistance2D:Float( X1:Float, Y1:Float, X2:Float, Y2:Float )
		Local l1:Float = Abs(x1-x2)
		Local l2:Float = Abs(y1-y2)
		Return Sqr((l1*l1)+(l2*l2))
	End Function</pre> here is the img needed.... in this function it can't just be the particle images that Indiepath used.  <a href="http://ooeyug.com/tmp/part6.png" target="_blank">image download</a><br><br>I quickly just ripped this out of my polygon library so you'll have to add an img param to the function.  <br>here's an <a href="http://ooeyug.com/tmp/poly.mapbased.zip" target="_blank">exe example</a>.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
