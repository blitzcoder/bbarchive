<!DOCTYPE html><html lang="en" ><head ><title >SeedRnd problems</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >SeedRnd problems</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >SeedRnd problems</a><br><br>
<a name="918786"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> other than using SeedRnd, does anybody know of anything else that can "seed" or disrupt the predictability of the blitz random functions? <br><br>I want to generate the same random values so I use SeedRnd with a static value of course.  I get the correct values at first but I soon start seeing Rand and Rnd start giving me "random" values that are not from the seed I fed it.  I can't find a seedrnd anywhere in any of my program's code even while searching through all the mod sources also.<br><br>I've traced where it happens in my program at a macro level but there is a lot code yet to go through.  in any case, there is not a seedrnd... <br><br></td></tr></table><br>
<a name="918792"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You sure you aren't doing something like this:<br><pre class=code>SeedRnd 12345

Print "Set 1"
Print Rnd(0,1)
Print Rand(0,100)
Print Rnd(0,1)


SeedRnd 12345
Print "Set 2"
Print Rand(0,100)
Print Rnd(0,1)
Print Rnd(0,1)
</pre><br>Same seed, same three calls to Rand/Rnd (only in a slightly different order), different results. <br><br></td></tr></table><br>
<a name="918794"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try using a more predictable randomness generator? :-) <br><br></td></tr></table><br>
<a name="918805"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> You sure you aren't doing something like this <br></div><br>yeah, pretty sure since I only have one seedrnd and from that I should see the same stream of rnd numbers, which mean my code will take the same path and ask for the same random numbers. <br><br><div class="quote"> Try using a more predictable randomness generator? <br></div><br>well, blitz's is pseudo random and has always been predictable for me in the past... I know it's something I must be doing but I can't seem to find it or even think what it could be. <br><br></td></tr></table><br>
<a name="918812"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think Gfk is pointing at the most likely cause of your problem. Every time you pull a number from the random number generator, it re-randomizes for the next number in essence. So the order and type of number you pull must be exactly the same or you will be introducing a random element into the random list... I think that makes sense.<br><br>Double check all your code between when you get a predictable random number and when it starts going wonky, I would expect you have a branching random-get of some kind. Like if the user has clicked something then get a random number else do something else, if the user clicked something you should see a totally different string of random values past that point than if they haven't since it will have taken the top random number and broken your sequence.<br><br>If you can't track it down, or if it's a glitch on the pseudo random making it... really random, then another option might be to create a list or array of random numbers at the start and create your own rand functions to pull from the list. The list will be static since you seed, generate random numbers, store in list at the same point every time, there's no possibility for error. You just need a big enough list to satisfy your program's needs. This is a really ugly method and would waste some memory and cause some load time, but on any semi modern computer you should be able to generate the list in a fraction of a second and storage should be on the order of kb so not a real concern. It could have the added benefit of actually using less processor time when you need it (i.e. durring execution) if you use an array since all it has to do is check the array position rather than run the random generation functions... but again, trivial processor time either way.<br><br>I'm not above a dirty solution but I would certainly go looking for a mystery call to rand first just to try to figure out why it was going wrong in the first place... <br><br></td></tr></table><br>
<a name="918821"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I found it, gfk and ima747 were right... jeez, a place I hadn't looked... I had one rnd call in my one of my draw routines instead of the update routine.  the draw routine is independent of the update and runs full speed and so can have different fps which mean for every update I will have a varying number of draw calls.<br><br>thanks guys. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
