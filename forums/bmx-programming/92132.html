<!DOCTYPE html><html lang="en" ><head ><title >How to run a java .class file?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >How to run a java .class file?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >How to run a java .class file?</a><br><br>
<a name="1048659"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >William Drescher</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, so from my BlitzMax program, I can successfully compile a java file into a class file, but when I try to run the class file using the java command, it gives me this exception:<br><br><pre class=code>Exception in thread "main" java.lang.NoClassDefFoundError: /Users/Will/Java Files/JavaFileTest
Caused by: java.lang.ClassNotFoundException: .Users.Will.Java Files.JavaFileTest
	at java.net.URLClassLoader$1.run(URLClassLoader.java:202)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.net.URLClassLoader.findClass(URLClassLoader.java:190)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:307)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:248)
</pre><br>Does anyone know what may be causing this error?<br><br>Also, the class file runs perfectly fine from a terminal. <br><br></td></tr></table><br>
<a name="1048725"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >plash</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you running the same exact command from your terminal as in your application? Are you sure you're in the correct path? Does Java need to know the paths of other classes/.jars? <br><br></td></tr></table><br>
<a name="1048780"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >William Drescher</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> From the terminal, I just cd into the folder with my .java files and run the command <pre class=code>javac JavaFileName.java</pre> A "JavaFileName.class" file is produced. Then I run <pre class=code>java JavaFileName</pre> This runs the java class code. You don't need the .class on the end when you use the "java" command. In blitzmax, I use <pre class=code>system_("javac /MyJavaFiles/NewJavaFile.java")</pre> this produces a .class file that can be run from a terminal perfectly fine. Using the command in BlitzMax <pre class=code>system_("java /MyJavaFiles/NewJavaFile")</pre> I get the exception error above. <br><br></td></tr></table><br>
<a name="1048843"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jpavel</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you look at this line in the stacktrace,<br><br>java.lang.ClassNotFoundException: .Users.Will.Java Files.JavaFileTest<br><br>you notice a dot before Users, so it seems you've accidentally prepended a period to your full classname.<br><br>Also, with the java command, you're supposed to use a fully qualified -class name-, not a file name, as its parameter. So it's somewhat hackish that it runs from the terminal too.<br><br>Regards,<br>Jesse <br><br></td></tr></table><br>
<a name="1048858"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >William Drescher</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> The dots are actually slashes, i'm not sure why they were changed when I pasted the exception. This is running on a Mac. The class name is "NewJavaFile". In the code, it's <pre class=code>public class NewJavaFile</pre><br><br>I'm confused mostly as to why it compiles correctly in the same environment, but doesn't run. All of the syntax for both commands are the same.<br><br>Edit: I went back and looked at the output some more. I'm not sure where those dots are coming from now that I really look at it. It seems like it may be changing the slashes into dots in the JRE but i'm not 100% sure on that point. <br><br></td></tr></table><br>
<a name="1048935"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Galaxy613</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you tried making it so the slashes aren't an issue at all and just put the .java file in the same directory just to test? <br><br></td></tr></table><br>
<a name="1048976"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >William Drescher</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tried that, all it did was return a dot in front of the file name. I also tried placing it in the root folder of my hard drive ("/") to no avail. I'm curious: is it because BlitzMax takes all the output and pipes it into the BlitzMax "Output" window? If I run the program outside the IDE, the "Print" command won't open a terminal by default. Is this an issue only seen on a Mac? <br><br></td></tr></table><br>
<a name="1049096"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Redspark</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> The execute statement that you typed manually is not the same as the one you used in Blitz.  Also, if your class is on the classpath and Blitz has that variable within its environment, then it should see it.  However, depending on how Blitz creates a shell for the program to be executed in, it may not be setting the environment variable.<br><br>Try getting Blitz to print the environment variable: CLASSPATH. <br><br></td></tr></table><br>
<a name="1049167"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >William Drescher</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> CLASSPATH amounts to a blank string. So how would I set CLASSPATH correctly? <br><br></td></tr></table><br>
<a name="1049292"></a>

<a name="1049294"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Redspark</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> You have to set your environment up before you execute java.  I don't know how that is done in Blitz.  Blitz may have the ability to set its own environment or you could try creating an sh file to set the environment and call java for you.  That's not the best way but it may be a good workaround until you find out how to do it properly.<br><br>Just type in the commands that you would used at the terminal prompt and then call the .sh file instead of the java command.  (Something like  system_("sh batchfile.sh"); )<br><br><font class="tiny"><i>Last edited 2010</i></font> <br><br></td></tr></table><br>
<a name="1049545"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >William Drescher</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well I'm mostly a novice at Unix terminals, so what would the command be to set an environment variable directly from a terminal window? <br><br></td></tr></table><br>
<a name="1049554"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Redspark</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm no expert either but it should look something similar to:<br><br>CLASSPATH=&lt;Your PATH&gt;<br>export CLASSPATH<br><br>Use the command 'set' to list all of you environment variables in terminal.<br><br>Use 'man' to get help on any terminal commands.  'man -k &lt;word&gt;' does keyword searches, if that helps any. <br><br></td></tr></table><br>
<a name="1049567"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >William Drescher</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, well I just found the world's craziest workaround for this little issue. I figured that if you can use "&amp;&amp;" in windows to tack on extra commands to one line in a batch file, the you could use ";" to do it in a Unix terminal. Well I was right (hurray for me). So this is how I got the java file to run.<br><br><pre class=code>system_("cd " + Replace(ExtractDir(saveFileName), " ", "\ ") + "; java " + StripAll(saveFileName))</pre>And viola! It worked perfectly. Thanks to all who helped me learn these rules (and tricks). <br><br></td></tr></table><br>
<a name="1049646"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Redspark</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Excellent!  Good to know. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
