<!DOCTYPE html><html lang="en" ><head ><title >Buffer quetsion?!</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Buffer quetsion?!</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Buffer quetsion?!</a><br><br>
<a name="844919"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Trader3564</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Let me just throw at you what i found in the helpfile:<br><br>GRAPHICS_BACKBUFFER :: Create graphics with a back buffer <br>GRAPHICS_ALPHABUFFER :: Create graphics with an alpha buffer <br>GRAPHICS_DEPTHBUFFER :: Create graphics with a depth buffer <br>GRAPHICS_STENCILBUFFER :: Create graphics with a stencil buffer <br>GRAPHICS_ACCUMBUFFER :: Create graphics with an accumulation buffer <br><br>I have set my graphics mode for my 2D game that uses PNG (with alpha) altough i use alpha not many times.<br>Knowing the BACKBUFFER from Blitz3D, and its purpose, i have defined this flag.<br><br>However, Blitzmax has a bunch of other buffers. I can only guess what the ALHPA buffer is for, and then i get lost. Does anyone know in detail what is the prupose of them and how to use them? <br><br></td></tr></table><br>
<a name="844922"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Trader3564</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm, having asked that, can someone also explain why we have more then 1 GL drivers, etc...?<br><br>Whats the difference between:<br>BRL.D3D7Max2D Direct3D7 Max2D <br>BRL.GLGraphics OpenGL Graphics <br>BRL.GLMax2D OpenGL Max2D <br>BRL.Graphics Graphics <br>Pub.OpenGL OpenGL 1.1<br><br>I am using the GLMax2D driver as it is faster then the default graphics driver.. <br><br></td></tr></table><br>
<a name="844927"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, if I have understood correctly there are '3' drivers to manage graphics:<br><br>Direct3d 7 (via D3D7Max2D), every gfx command will use Direct library<br><br>GLmax2d (via GLMax2D)<br>GLGraphics (via GLgraphics)<br>OpenGL<br><br>will use OpenGL driver.<br>The difference is the way they managed OpenGL commands. GLMax2d is the 'higher' level, OpenGL is the 'lower', raw command set. You need - in this case - do all the things (setup context, matrix and so on) by yourself. <br><br></td></tr></table><br>
<a name="844931"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MGE</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've never used the command, have no idea why I would want to. ? ? <br><br></td></tr></table><br>
<a name="844936"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> The other Buffers are needed depending on what you do.<br><br>Depth Buffer: To prevent z fights in the depth<br>Stencil Buffer: Shadows, Reflections and the like<br>Accum Buffer: a usefull buffer for different special effects ... fredborg has shown one of it by using it for a light system in Max2D <br><br></td></tr></table><br>
<a name="844942"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Trader3564</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> And why would i want to do shadows in the Stencil Buffer and not the Back Buffer?<br>And the accum buffer sound fun, but how to use it? and why not apply effects on the Back Buffer?<br>Depth Buffer doesnt make sence. <br><br></td></tr></table><br>
<a name="844949"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> You totally missunderstand it.<br><br>The part you will see on the screen is always and only the BackBuffer.<br>The other buffers are combined into that.<br><br>Read 3D programming basics papers and articles to understand their use etc.<br>Its far above your current knowledge so the simple rule is: don't use what you do not know what it does at all <br><br></td></tr></table><br>
<a name="844952"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Trader3564</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I see. Well, that is good to know. Any idea where i can read those papers? <br><br></td></tr></table><br>
<a name="844966"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> The buffers you see mentioned in Graphics() are mainly OpenGL buffers as far as I know, although maybe DX has some of them too.<br><br>Using the Max2D GL driver means that you can use Max2D commands and they will run under OpenGL. It's up to you whether you then add extra OpenGL or not - you can, but it may interfere with Max2D's state unless you preserve and restore it on some kind of stack.<br><br>Alternatively, GLGraphics means you cannot use any Max2D commands and should ONLY use OpenGL commands that you code yourself.<br><br>GRAPHICS_BACKBUFFER is not actually compulsory, because you can set which buffers are the default when you set the driver. You can actually create a single-buffered display if you'd like. Generally speaking you want a backbuffer so that rendering processes are hidden from the user until the whole frame is complete.<br><br>GRAPHICS_ALPHABUFFER indicates that you want an alpha channel in the backbuffer and screen itself. It has nothing to do with drawing using alphablending in the way Blitz does it. It means that the display mode must include at least 1 bit for alpha data per pixel. Usually it means you have a 32-bit display mode like RGBA and the alpha channel is usually 8-bit, although sometime with a 15-bit display you get a 1-bit alpha channel. With a destination alpha channel you can draw stuff to the screen and the alpha values can be stored in the screen, to set up things like fancy masks and crossfades and stuff. I used destination alpha in an older version of my blobby objects engine to accumulate blob energies in the screen and turn the levels into colors. You DO NOT need an ALPHABUFFER in order to do alphablending of PNG images, alphablending uses the *source* alpha channel, not the destination.<br><br>GRAPHICS_DEPTHBUFFER gives you an extra channel of data per pixel in the screen. Depending on how the graphics card arranges memory in the display, you could get anything from a 16-bit to a 32-bit depth buffer. Usually I find that if I ask for a 32-bit display I get a 24-bit depth buffer and an 8-bit stencil buffer - the card pads each 4-byte group with a stencil byte. The depth buffer generally stores Z coordinate information when you draw 3D geometry for various purposes like occlusion. It records what the Z coordinate was for a piece of geometry that created a given pixel, and usually helps you know not to draw something if the Z coordinate of the new object is further away than what the depth buffer recorded from previous objects.<br><br>GRAPHICS_STENCILBUFFER gives you a stencil buffer. Typically OpenGL says it only has to be a 1-bit buffer by 8-bit is much more common as far as I know. The stencil buffer does similar things to what stencils did in the old BlitzBasic days (remember those anyone?). As you draw stuff to the screen you can have it also draw values into the stencil buffer for each pixel and then you can later use those stencil settings to prevent certain areas of the screen from being drawn to, etc. It does what it says - stencilling.<br><br>GRAPHICS_ACCUMBUFFER is the accumulation buffer. It's a special buffer, often 32-bit RGBA similar to the backbuffer but it can also have higher precision, even a floating-point value per color component. The idea is that if you want to accumulate (add up, or multiply etc) the values of multiple frames or stages in rendering, it can add them up with greater precision than the backbuffer and not lose so much color resolution. You can also use it for motion blur and feedback effects, etc.<br><br>You can use all these buffers by writing your own OpenGL code. Max2D only uses the `color buffer`, which people refer to as the backbuffer. It doesn't use any of the others, not even the alpha. But you can ask for an alpha channel to force the use of a 32-bit mode rather than a 24-bit mode if you like - some graphics cards have 24-bit RGB as well as 32-bit RGBA.<br><br>There are MANY MANY uses for these extra buffers and you can do lots of interseting things with them graphically and computationally.<br><br>You could kind of say that for every pixel on the screen, you can have a Red component, a Green component, a Blue component, an Alpha component, a Stencil component, a Depth component and an Accumulation component.<br><br>In OpenGL there are also some other buffers. For example some cards support AUXiliary buffers - like extra back buffers. But support is not widespread.<br><br>If you want extra backbuffers you might investigate the BufferObjects, which require using an OpenGL extension. <br><br></td></tr></table><br>
<a name="844970"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Trader3564</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool, i totaly get it. Heh. amazing. thanks! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
