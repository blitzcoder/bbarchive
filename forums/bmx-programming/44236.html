<!DOCTYPE html><html lang="en" ><head ><title >GetKey() question</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >GetKey() question</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >GetKey() question</a><br><br>
<a name="492781"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, GetKey() and WaitKey() return the scan code, as opposed to the ascii code, of the pressed key. Makes sense. But how come the value of the key is left in the queue, even if the value is placed in a variable (a = GetKey()). Shouldn't the queue be cleared after a value is 'popped' from it?<br><br>I know I can use FlushKeys(), but I was just wondering why this was done this way. <br><br>WaitChar(), I know, uses GetChar() to see if there are any keys in the buffer and this makes sense to me. But the other two, WaitKey() and KeyDown(&lt;key&gt;) were, I thought, 'immediate mode' commands that didn't use the buffer at all but simply tested the keyboard at that very moment, etc.<br><br>Am I making sense?<br><br>Thanks,<br>Russell<br><br>p.s. I think it should also be pointed out that not all of these input commands work as expected in a non-graphics mode (console). <br><br></td></tr></table><br>
<a name="492813"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> From <a href="/posts.php?topic=43103#484206" target="_blank"> HERE </a><br>"Whether or not WaitKey should 'flush' the hit key is a matter of opinion. In my opinion, it should, as this keeps things synchronous and removes the need for FlushKeys all over the place." from Mark.<br>The waitkey loop still occurs so it appears to flush the key. Have you got some code to show it *not* flushing the keyhit? <br><br></td></tr></table><br>
<a name="493699"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oops, I meant KeyDown(), not GetKey().<br><pre class=code>
Graphics(640,480,0)
a = WaitKey()
Delay(3000)
Print GetChar()
</pre><br>(The delay is there so that the GetChar() doesn't read the key I may still be pressing).<br>This prints the value of whatever key you hit instead of zero.<br><br>Russell <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
