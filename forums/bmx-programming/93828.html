<!DOCTYPE html><html lang="en" ><head ><title >threading and 3rd party modules</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >threading and 3rd party modules</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >threading and 3rd party modules</a><br><br>
<a name="1074566"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Johnsprogram</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm building an application that will have one thread object for constantly updating the status of the musical tracks being played. This is so I could play the intro track only once and then play and loop the second track without "gaps."<br><br>However, I'm using a third-party module for reading XML files. When I build my application with "threaded build" checked, I keep getting an error saying that it can't locate the XML module. On the flip side, when the "threaded build" was unchecked and then build, there was no errors.<br><br>Here's my question: can I build threaded applications when I'm using third-party modules? If not, how come? <br><br></td></tr></table><br>
<a name="1074568"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jsp</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You need to build modules with "threaded build" checked, before you can use it in your app. <br><br></td></tr></table><br>
<a name="1074577"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> That check mark for treaded build flips a switch that basically ignores everything that isn't compiled for threading (i.e. all your modules that are only built in non threaded mode). As jsp said, you need to build any modules you're using (in addition to the standard modules that make up BMX that you're using) in threaded mode to get a threaded version of them. If you're using the default IDE, again as JSP said, turn on threaded mode and rebuild your modules. This should build a threaded version (since threaded mode is on) of your mods.<br><br>Bear in mind, as with all threading projects, that not everything can be legally executed from a child thread, and resources must be share politely if they are going to be accessed by more than 1 thread. Not knowing specifically what you plan, a couple things you might run into are<br>1) You can't update the UI, or draw safely from a child thread (graphical commands in bmax are, for all intents, limited to the main execution thread, with the notable exception of managing pixmaps since those are memory resident and are just technically data blocks)<br>2) I don't believe the audio systems are thread safe, so accessing them at all may cause some issues (e.g. checking the progress of the audio track)<br>3) Threading induces a fair whack of overhead for the application (as it has to manage the threads in addition to executing the code in each). On single core systems this can induce some performance hiccups. <br><br></td></tr></table><br>
<a name="1074838"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Johnsprogram</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the warnings, ima747. I have tested the audio threading out. It seems to work, but it really draws out the performance of my application. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
