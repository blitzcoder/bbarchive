<!DOCTYPE html><html lang="en" ><head ><title >Get local IP address [LAN]</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Get local IP address [LAN]</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Get local IP address [LAN]</a><br><br>
<a name="842274"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ghislain</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi !<br><br>I would like to get the IP number of my computer. Not the IP number of my internet-connection [WAN] but just the number within the LAN.<br>Eg: 192.168.1.10 or something like that.<br><br>There is this system command [OsX] 'ifconfig' which shows me the info i need but when I use <pre class=code>system_("ifconfig")</pre> I'm unable to catch the output..<br><br>Any help?<br><br>Ghislain<br>MacIntel - OsX 10.5 <br><br></td></tr></table><br>
<a name="842282"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
Local ips:Int[] = HostIps("")

For Local i:Int = EachIn ips
	Print DottedIP(i)
Next
</pre> <br><br></td></tr></table><br>
<a name="842304"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ghislain</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Perturbatio,<br><br>On my mac - it doesn't produce anything...<br><br>Ghislain<br>MacIntel - OsX 10.5 <br><br></td></tr></table><br>
<a name="842327"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Perturbatio's snippet ought to work...<br><br>But as far as capturing the output of your system_ coimmand, you should be able to do something like this:<br><br><pre class=code>system_("ifconfig &gt; myip.txt"</pre><br><br>to write it to a file named myip.txt ... Although obviously using the native commands are much preferred over workarounds like that. <br><br></td></tr></table><br>
<a name="842338"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Winni</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> ghislain, use the name of your computer plus ".local", that works for me on Leopard:<br><br><pre class=code>
Local ips:Int[] = HostIps("dr-darcenstein.local")

Print Len(ips)
For Local i:Int = EachIn ips
	Print DottedIP(i)
Next

</pre> <br><br></td></tr></table><br>
<a name="842391"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> ghislain, use the name of your computer plus ".local", that works for me on Leopard: <br></div><br><br>Except... How do you obtain the name of your computer?<br><br>It does sound like a bug if that is required on the Mac but not on Windows... <br><br></td></tr></table><br>
<a name="842392"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not really.<br>Apples are just no Windows, that simple it is ...<br><br>MS has a quite different approach to handle that than Apple has (as Linux has another one again). If you are lucky your approach at least works on OSX 10.4 and 10.5 and not only on the one or the other ... <br><br></td></tr></table><br>
<a name="842422"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ghislain</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok both examples work! Great!<br><br><pre class=code>Local ips:int[] = HostIps ("Ghis-iMac.local")</pre><br>and<br><pre class=code>system_("hostname &gt; myHostname.txt") ' retrieve HostName
system_("ifconfig &gt; myIp.txt") ' retrieve IpAddress
</pre><br><br>Can I only redirect the system_ output to a file?<br>It would be most convenient if I can capture it directly to a string...<br><br>Ghislain<br>MacIntel - OsX 10.5 <br><br></td></tr></table><br>
<a name="842434"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Can I only redirect the system_ output to a file?<br>It would be most convenient if I can capture it directly to a string... <br></div><br><br>Don't know... Perhaps you can do something with stdout / stdin, but no idea on how to do that... Especially on a Mac. <br><br></td></tr></table><br>
<a name="843086"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> It would be most convenient if I can capture it directly to a string... <br></div>Use FreeProcess? <br><br></td></tr></table><br>
<a name="843124"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ghislain</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi FlameDuck,<br><br>Any code available?<br><br>For your info:<br><pre class=code>
Import pub.freeprocess

Global myProcess:TProcess = TProcess.Create("ifconfig", HIDECONSOLE)

While (myProcess &lt;&gt; Null) And myProcess.Status()
	Print myProcess.pipe.ReadLine$()
Wend

myProcess.Terminate
</pre><br>Doesn't produce any output..<br>Neither do the various pipe-examples on the forum..<br><br>Ghislain<br>MacIntel - OsX 10.5 <br><br></td></tr></table><br>
<a name="843394"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Any code available? <br></div>I don't have any here, but the IDE uses it IIRC. <br><br></td></tr></table><br>
<a name="843399"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >grable</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Doesn't produce any output.. <br></div><br>Try this:<br><pre class=code>
?Win32
Local proc:TProcess = TProcess.Create( "ipconfig", HIDECONSOLE)
?MacOS
Local proc:TProcess = TProcess.Create( "ifconfig", HIDECONSOLE)
?Linux
Local proc:TProcess = TProcess.Create( "ifconfig", HIDECONSOLE)
?

Local stream:TStream = TTextStream.Create( proc.Pipe, TTextStream.UTF8)
While proc.Status()	
	If proc.pipe.ReadAvail() Then Print stream.ReadLine()
Wend
</pre> <br><br></td></tr></table><br>
<a name="843601"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ghislain</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nothing happens.<br>It only shows 'Process complete".<br><br>Ghislain<br>MacIntel - OsX 10.5 <br><br></td></tr></table><br>
<a name="843603"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> welcome to the world of "how to break compatibility", well known as Apple OSX :)<br>There surely is a trick behind it. Either you need to execute it through elevated rights, or it got replaced by something else. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
