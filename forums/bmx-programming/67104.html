<!DOCTYPE html><html lang="en" ><head ><title >Where to start looking? Illegal Memory Exception</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Where to start looking? Illegal Memory Exception</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Where to start looking? Illegal Memory Exception</a><br><br>
<a name="749334"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi All,<br><br>With the below code- nothing too special...<br>BlitzMax crashes out on "Obj:Tvector3 = New Tvector3". you get the first gebug message but not the second.<br><br>What sort of problem would cause it to crash on this line? I do not have a "NEW" method or function, so nothing is going on outside of this code.<br><br>basically RENDERABLE_getWorldPosition is a C side function which returns a pointer, the rest of the code turns it into pointers you can get/set (and it will alter C side, too.)<br><br>Just seems so odd. If i could get an idea as to what things cause this sort of crash and where to look, i'd be moving a little quicker towards my goal haha.<br><pre class=code>
		DebugLog "))))))))))))))))))) Creating Tvector3"
		Local Obj:TVector3 = New TVector3
		DebugLog "Tvector3 created"
		Local tempPointer:Int Ptr = RENDERABLE_getWorldPosition( Self.Pointer )
		Obj.Pointer = Byte Ptr( tempPointer[0] )
		Obj.x = Float Ptr( tempPointer[1] )
		Obj.y = Float Ptr( tempPointer[2] )
		Obj.z = Float Ptr( tempPointer[3] )
		
		Return Obj
</pre> <br><br></td></tr></table><br>
<a name="749340"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> try a pollsystem or a debugstop after the second debuglog (assuming crash is caused by that c call but the last debug just isn't making it through), <br><br>if you have called C functions elsewhere be prepared to consider the fact they have written all over memory, <br><br>and make sure you turn quickbuild off <br><br></td></tr></table><br>
<a name="749341"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you have things like Field X:int = XXXXXXXXXX<br>The XXXXXXX bit is run on new, so it could be somthing like that. Just because you dont have any New function doesnt mean that some of your code isnt being run on new. <br><br></td></tr></table><br>
<a name="749352"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the comments. Nothing like that is happening H&amp;K,<br><br>Can using Double-Pointers (Using a pointer to a pointer) cause issues?<br><br>also, I can't do debugstop, the loop can sometimes run 50-60 times before crashing on that line. <br><br>I'll keep looking into the ideas. I'd post more code but there's not much i can post. <br><br></td></tr></table><br>
<a name="749376"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chris C</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I had somthing like that driving me nuts when I was messing round with ode, turned out I had a "C" structure slightly wrong so under certain circumstances I was causing the lib to over write somthing.<br><br>total b*****d to find I'm afraid, I just had to check and recheck stuff over and over...<br><br>pay particular attention to any places where you are inserting values into C structures with Max <br><br>pity max cant understand .h files, but you can't have it all (but you can dream!) <br><br></td></tr></table><br>
<a name="749410"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ahhh! Well, i'll look into that- thanks for the help Chris.<br><br>It would be useful if a Max type was fully compatible with C. One pointer does the lot. :) <br><br></td></tr></table><br>
<a name="749725"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok problem solved.<br><br>I should really stop trying to play with C stuff! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
