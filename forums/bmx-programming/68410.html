<!DOCTYPE html><html lang="en" ><head ><title >Game timing - am I way off the mark here?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Game timing - am I way off the mark here?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Game timing - am I way off the mark here?</a><br><br>
<a name="764373"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sonic</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok so here's my situation:<br><br>In my current project I am using a fixed logic + graphics update of 60hz.  Up until recently this has worked great and has given me the Amiga feel I've been looking for.  However recently, I am throwing around a lot more sprites than I first thought, and while it's fine on my Core Duo machine, it is struggling and jumping down to 30hz on my aging G4 1Ghz, a machine I'd like to be around the minimum spec.<br><br>I am very far into my code at this point (it's almost finished).  I have kept the rendering seperate from the sprites movement, which gives me some flexibility.<br><br>What I was thinking was simply to detect, using Millisecs(), the time elapsed since the last redraw, and if it is greater than 1/60 of a second to simply run the logic again before redrawing.  Is this technique feasible?  Or would I still have to implement delta timing?  In which case, what is specifically involved... I know there are several topics about this, but I'd like a roundup, in simple terms, of your various strategies, and especially information from anyone who's had to add timing code at a late stage of development.<br><br>Any help would be greatly appreciated - my only alternative is to raise the system specs for my game, eliminating a large part of the market. <br><br></td></tr></table><br>
<a name="764380"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Even if you raise the system specs, people with crap machines will still download it.<br><br>I'm a bit dubious of the technique you mentioned but hey it's worth a try. Also have you timed the drawing and logic, it's definitely the drawing that's taking the longest on the slow machines is it? <br><br></td></tr></table><br>
<a name="764391"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sonic</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah I'm pretty sure it's the drawing rather than the logic, although I haven't timed it.  I have multi-layered maps, and the jump to 30fps seems to occur when I have an extra layer there, rather than more game objects.<br><br>I'm just worried about using delta time at this stage because I have so many game timers and separate physics routines that I'd almost definitely screw up if I switch.  Also as it's a platformer I'm concerned about things like collision and jumping height varying with delta time.<br><br>Really stumped on this one, this area's definitely not my forte. <br><br></td></tr></table><br>
<a name="764472"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sonic</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok perhaps I'm phrasing the question wrong...<br><br>Let me put it another way:<br><br>1.  What are the alternatives to delta time?<br>2.  If none of them are viable, what is the best way to integrate delta timing to an already bloated codebase, and what are the potential pitfalls?  What exactly need to be multiplied by dT?<br><br>Sorry to pester you with this, I'm just kinda worried about it.<br><br>Oh, and thanks once again Grey for your swift response. <br><br></td></tr></table><br>
<a name="764483"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you can get your head around it, render tweening is just about the best timing method you can find. It has all the advantages of delta timing with none of the disadvantages. Namely, it still runs at the same speed on all machines ( whether they're too fast or too slow ) but because the delta is fixed you don't have to use a delta multiplier and the tweening makes it perfectly smooth. You do need to use floating point values for all your positions though in order for it to be smooth, but that's true of delta timing anyway. <br><br></td></tr></table><br>
<a name="764501"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Drop your frame refreh to 30. No one will really notice, that is whatever it was giving you the 60Hrzt change it to 30, then you get twice as much graphics you can draw. <br><br></td></tr></table><br>
<a name="764714"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry Sonic, been away.  Well there's always fixed rate logic which does more logic loops to catch up if the drawing too too long, hand on that's what you described in your first post.  you can also chuck a bit of delta time in there too to make it smoother (it's what I do in my game framework).  I have often linked to a web page about it called "Fix your Timestep" or something but that link is on the PC and I'm on the Mac now.<br><br>I've never used render tweening so I can't comment on that.<br><br>yeah basically to use Delta you need all game coordinates as floating point and all speeds as floating point.  Anytime you move an object by a certain speed, that speed must be multiplied by delta.  If you alter an acceleration (rate of change in speed), that must be multplied by delta.  If you have any timers or counters and your reduce/increase them by say 1 every frame, then you need to change them by 1*Delta (or just Delta) per frame and naturally the counters must be  floating point.  Finally if you are planning on making random events happen you might want to read this:<br><br><a href="http://greyaliengames.com/blog/oops-dodgy-random-numbers-with-deltatime/" target="_blank">http://greyaliengames.com/blog/oops-dodgy-random-numbers-with-deltatime/</a><br><br>hope this helps.  good luck. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
