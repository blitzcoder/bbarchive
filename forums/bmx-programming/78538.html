<!DOCTYPE html><html lang="en" ><head ><title >but but..why? Masking pixelmaps</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >but but..why? Masking pixelmaps</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >but but..why? Masking pixelmaps</a><br><br>
<a name="881269"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drakim</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
SuperStrict

Const WIDTH:Int = 640,HEIGHT:Int = 480, DEPTH:Int = 0

Graphics WIDTH,HEIGHT,DEPTH
SetBlend MASKBLEND

Local test1:TPixmap = LoadPixmap("sprite/test.png")
Local test2:TPixmap = MaskPixmap(test1,255,255,255)

SetClsColor(255,255,255)

While Not KeyDown(KEY_ESCAPE)
  Cls
  DrawPixmap(test1,200,300)
  DrawPixmap(test2,300,300)
  Flip
Wend
</pre><br><br>here is my result:<br><a href="http://img517.imageshack.us/img517/5571/errorxn6.png" target="_blank">Click here!</a><br><br>I thought that by using maskpixmap, I could make a color (255,255,255 in this case) to become transparent. But, to me in my example, it becomes black, and the other colors become thicker. o0<br><br>Please explain this to me, I am at a loss, and I found very little information about pixmaps when I tried to search around. <br><br></td></tr></table><br>
<a name="881270"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I always thought it was a bug but never got it answered <br><a href="/posts.php?topic=54143#604553" target="_blank"> MaskPixmap - pixel bug </a>.There was a suggestion <a href="/posts.php?topic=55553#618282" target="_blank"> here </a> that the increase in pixel size is due to the neighbouring pixels being checked. <br>I do remember another couple of reports but nobody was really used pixmaps to display images so it was never followed up. <br><br></td></tr></table><br>
<a name="881273"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drakim</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah, okay.<br><br>Michael Reitzenstein says that:<br>"The increase in size thing is likely to do with MaskPixmap setting invisible pixels to the average colour of their neighbours, which stops any scaling artifacts."<br><br>Which makes sense at to why they become thicker.<br><br>I tried loading it into a TImage before displaying it. Fixed all issues.<br><br>But really, this should be fixed. It's not exactly a minor bug. -_- <br><br></td></tr></table><br>
<a name="881284"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> The was an across the board purge where all bug reports were put in the bin and Mark asked for them to be reported again after 1.20 (I think). This just never got reported again because, I guess, people who changed the pixmap then went on to reload as an image.<br>Using pixmaps to actually draw to the backbuffer is a bit 'off' as it's so slow. <br><br></td></tr></table><br>
<a name="881508"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xip</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> uhm... this looks almost exactly like the problem i reported a while back (about pixels getting HUGE), and the only reply i got was - 'learn how mask's work' ... <br><br></td></tr></table><br>
<a name="881570"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drakim</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hah, that's unfortunate Xip.<br><br>It looks to me as if the transparency issue was just fixed, then this wouldn't be a problem, because the "overflowing" pixels are not supposed to be seen, being transparent. The pixels getting huge is working as intended, but appears very ugly because something else exposes it.<br><br>Anyways, I am happy, because my bloom and blur functions works perfectly. ^^<br><br>And it's pretty~ <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
