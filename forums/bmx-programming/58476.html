<!DOCTYPE html><html lang="en" ><head ><title >Circle to Rectangle Collisions - HELP</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Circle to Rectangle Collisions - HELP</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Circle to Rectangle Collisions - HELP</a><br><br>
<a name="650493"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >daaan</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does anyone have any good methods of doing this?<br><br>Thanks. <br><br></td></tr></table><br>
<a name="650504"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eric</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would say, if the Radius of the circle is within the bounding Rectangle it is colliding.<br><br>R=Radius<br>X,Y are the Center.<br><br>X1,Y1 and X2,Y2 and the two corners of the rect.<br><br>If (X+R)&gt; X1 and (Y+R)&gt; Y1 Then Collide<br>If (X-R)&lt; X2 and (Y-R)&lt; Y2 Then Collide <br><br></td></tr></table><br>
<a name="650510"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oooh.<br><br>However, what if you had to do it with a starfish shape and a giraffe shape?<br><br>Plus, the starfish shape morphs into a hippopotumus shape every 10 seconds and remains hippopotomus shaped for 5 seconds before morphing back into a starfish shape.  Whilst that is all going on the giraffe shape morphs into a piece of amphibious landing craft (for the same time-scale as aforementioned). <br><br></td></tr></table><br>
<a name="650515"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eric</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> OOOOO  kaaayyyy <br><br></td></tr></table><br>
<a name="650519"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeh, not so smart now are we?<br><br>I deal with big-boy stuff - not square and circle stuff. <br><br></td></tr></table><br>
<a name="650526"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not positive, but I suspect that Eric's algorithm won't work.  My intuition tells me that he is effectively testing the circles bounding rect vs the square's bounding rect.  Also I recall a long time ago when I was making my first version of my shadow system which cast shadows in 2D from above that finding out if a circle was intersecting a square was more complicated than you'd think it would be.<br><br>If I recall the way I did this test in my shadow system, (which also works with a sphere and a box), is to determine how far the center of the circle is from each of the lines, with a positive value if it is on the "outside" side of the line, and a negative value if it is on the "inside" side of the line.  You subtract the radius of the circle from this value.<br><br>If the resulting value is &lt; 0 for all sides, then the circle is intersecting the box.  You may be able to test if it is completely inside the box by checking to see if the resulting value is less than &lt; Radius for all sides.<br><br>I'm not positive about how accurate this is either though.  There was some test I was doing which was somewhat inaccurate and that was okay because it didn't matter if I was a little sloppy around the corners of the box. <br><br></td></tr></table><br>
<a name="650529"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> This might be of some help.  From my physics notes:<br><br><br><div class="quote"> <br>-----------------------------------------------------<br>Finding the closest point on a line to another point.<br>-----------------------------------------------------<br>(x1, y1, z1), (x2, y2, z2) = ends of line segment<br>(x3, y3, y3) = point<br><br><br>u =<br><br>(x3 - x1)(x2 - x1) + (y3 - y1)(y2 - y1) + (z3 - z1)(z2 - z1)<br>-----------------------------------------------------------<br>(x2 - x1)(x2 - x1) + (y2 - y1)(y2 - y1) + (z2 - z1)(z2 - z1)<br><br><br><br>u = the location between the two end points of the line which is closest to the point.<br><br>If u is not between 0 and 1 then the closest point is not between P1 and P2<br><br><br>----------------------------<br>LINE-SPHERE-INTERSECTION<br>----------------------------<br><br>To find out if a line intersects a sphere, find the closest point on the line to the center of the sphere.<br>Then calculate the location of that point using U.<br>And finally, find out the if the distance from that point to the center of the sphere is less than the radius of the sphere.<br> <br></div><br><br><br>Why might it be of help?  Well, if you imagine each side of your box is a segment of an infinite line, then you have four lines, and the above will give you the point on each line that is closest to the center of the circle.  This might help you figure out if the circle is in the box.  <br><br>For example, if all four points are on the portions of the lines which contain the edges of the box, then you know the center point of the circle is inside the box.<br><br>But I dunno if that would extend to finding out if the circle is in the box.  It's an interesting problem though. <br><br></td></tr></table><br>
<a name="650531"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eric</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep,<br><br>You are right Shawn, Thanks. <br><br>Eric <br><br></td></tr></table><br>
<a name="650556"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Haramanai</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Check out this: <a href="/posts.php?topic=55799" target="_blank">Elipsoid Coillision</a>. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
