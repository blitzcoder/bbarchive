<!DOCTYPE html><html lang="en" ><head ><title >How do get PRIVATE methods/fields for real!</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >How do get PRIVATE methods/fields for real!</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >How do get PRIVATE methods/fields for real!</a><br><br>
<a name="1016356"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> There are various workarounds and alternatives out there for the fact that BlitzMax doesn't have proper OOP private members, but all I've found suffer from a fatal flaw - they can be circumnavigated. I've devised an <b>ingenius</b> way to properly protect methods and fields of objects that can't be circumnavigated through ordinary use of code.<br><br><pre class=code>Strict
Import "object.bmx"

Local p:pu = new_priv()
p.set_name("Alfred")
Print p.get_name()</pre><br><br>object.bmx<br><pre class=code>Function new_priv:priv()
	Return New priv
End Function

Type pu
	Method get_name:String() Abstract
	Method set_name(n:String) Abstract
End Type

Private
Type priv Extends pu
	'private variable
	Field name:String
	
	Method get_name:String()
		Return name
	End Method
	
	Method set_name(n:String)
		name = n
	End Method
End Type</pre><br><br>Outside of object.bmx, there is NO way to access the field of name. I challange you to find a way! You cannot even cast to priv! You must use the getter and setter methods.<br><br>This only works if you import the file. If you include the file, it doesn't prevent it, unfortunately. <br><br></td></tr></table><br>
<a name="1016383"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> this information has been on the boards for at least 5 years...<br>4 yr ago<br><a href="http://www.blitzbasic.com/Community/posts.php?topic=49883#554675" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=49883#554675</a><br>5 yr ago<br><a href="http://www.blitzbasic.com/Community/posts.php?topic=42469#475740" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=42469#475740</a><br>sorry... <br><br></td></tr></table><br>
<a name="1016386"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Darn. Well, I felt clever for a day :(<br><br>I know others think this is nitpicking, but I really need public/private for my project. My supervisor is big on OO and might not appreciate the hidden beauty of these hack-methods. <br><br></td></tr></table><br>
<a name="1016387"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> if you can get him to accept BM at all, he shouldn't play asshole for this trick (or plan simply using a clearly documented notation like starting m or _ ) <br><br></td></tr></table><br>
<a name="1016389"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> She doesn't know I'm using Blitz yet ;)<br><br><br>At the moment I'm using the idea I stated above. Do you think it looks unprofessional? Has anybody used it in a real project? I have to provide at least some trivial evidence I have conformed to accepted coding standards and conventions. (Yes, it's an academic project) <br><br></td></tr></table><br>
<a name="1016403"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I used it in projects back then yes (closed source modules where I wanted to prevent users from messing it up).<br><br>I've since then come up with a different way to do it that does not disable any possibility for inheritance.<br><br><br>I personally would go with coding guidelines and mark private field accordingly (in BM the standard is _blabla for private field blabla) and follow it from start to end. That will give you less headache and you show more respect to coding standards than with this inheritance breaking approach (you can only use the decorator pattern with this "private fake") <br><br></td></tr></table><br>
<a name="1016407"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I've since then come up with a different way to do it that does not disable any possibility for inheritance. <br></div>But the way Czar Flavius is suggesting does not break any possibility for inheritance. It's just a private class and a public class that acts like a wrapper and this class can be inherited as any other class, in fact, even the Private field can be shadowed by inheriting classes, so not really an issue IMHO. <br><br></td></tr></table><br>
<a name="1016558"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> it breaks it.<br><br>His / my solution bases on a hidden private class that inherits from your public class.<br><br>if you extend the public class all hidden implementation is gone.<br>you would have to extend the hidden class which you defacto can't do.<br>Unhappily you can naturally not mark the public class as final either as the hidden would be invalid too.<br><br><br>these problems are the reason why I stopped using it and first went with the regular Blitz "private field" notation (_yourVar) until I later started to sort the code and declarations in the right order to make private stuff private by simply postprocessing the .i file <br><br></td></tr></table><br>
<a name="1016559"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> later started to sort the code and declarations in the right order to make private stuff private by simply postprocessing the .i file <br></div>What's this? <br><br></td></tr></table><br>
<a name="1016573"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> if you extend the public class all hidden implementation is gone. <br></div> Why? I'm using it all the time without any problems! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
