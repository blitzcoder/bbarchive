<!DOCTYPE html><html lang="en" ><head ><title >Networking my game. Best Approach?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Networking my game. Best Approach?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Networking my game. Best Approach?</a><br><br>
<a name="1059428"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am admittedly a little under educated on the best approach in constructing a client-server scheme. So here is a short list of what I would like to accomplish:<br><br>* I would like to be able to have my server support 100 or more clients.  <br><br>* I need to have robust security to prevent cheating.<br><br>* I would like to setup a server that runs on a users home computer.<br><br>* I would like to have a master server (or maybe php) to list available servers.<br><br>* I am considering using 'enet'. Is the best approach?<br><br><br>So, any advice on how to go about this would be appreciated. Even in general terms. I am not totally in the dark here, But I could use some guidance. :)<br><br>You can check out my project Phoenix SS (a SubSpace remake) here to see what kind of game I am developing.<br><br>Client/server video: <a href="http://www.youtube.com/watch?v=WH_hkTN7RL4" target="_blank">http://www.youtube.com/watch?v=WH_hkTN7RL4</a><br>Level Editor: <a href="http://www.blitzmax.com/Community/posts.php?topic=92648" target="_blank">http://www.blitzmax.com/Community/posts.php?topic=92648</a><br><br>Thanks, <br><br></td></tr></table><br>
<a name="1059454"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mr. Write Errors Man</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have use considered using email? <br><br></td></tr></table><br>
<a name="1059461"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Email (mailto) as in PHP kind of setup? This would work for the list of servers part, but would it also work for team/league stats? Could other servers gain access to posted data. <br><br></td></tr></table><br>
<a name="1059465"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is this a "real time action" game? If you are considering email, I guess not. By real time I mean player actions need to be transmitted to other players within a second for the game to be playable. <br><br></td></tr></table><br>
<a name="1059501"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> No this is very real-time. Much action! :) <br><br></td></tr></table><br>
<a name="1059507"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_Skully</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hopefully you thought about the networking aspect in your design.  Trying to inject networking code into a game developed for stand-alone play can be very difficult or in some cases nearly impossible without significant re-writes<br><br>I believe Brucey has a library for networking that is very good (from what I've heard) <br><br></td></tr></table><br>
<a name="1059509"></a>

<a name="1059510"></a>

<a name="1059511"></a>

<a name="1059512"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes I thought about networking from the start. I wrote my own engines for physics/inertia, collision, map and alike. So I'm at a point were implementation of networking code is easy from the stand point of my design. In fact I setup a listener server for the video demo. So I basically have one application (Game) that will function as both a server or a client, just for testing purposes. <br><br>I used Gnet which I like because of it's simplicity, but I think it might be to limited. I do like it's object approach though. What does everyone think of Gnet? Lame? Cool?<br><br>I also read somthing on Brucey's net library. I'll check it out, but I would like long term support for future development as I expect this remake of SubSpace will require it.<br><br>@All <br>If you have never seen of SubSpasce look here:<br><a href="http://www.ssgn.net/" target="_blank">http://www.ssgn.net/</a><br><br>...and my forum there:<br><a href="http://forums.ssgn.net/index.php?showforum=510" target="_blank">http://forums.ssgn.net/index.php?showforum=510</a><br><br>Thanks!<br><br><font class="tiny">Last edited 2010</font> <br><br></td></tr></table><br>
<a name="1059516"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> One word: RakNet. It's been used in professional commerical games and I can vouch that it's very reliable and has a ton of features. It's not easy to get into, but you won't be disappointed by its limitations either. It's solid. <br><br></td></tr></table><br>
<a name="1059552"></a>

<a name="1059553"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes but no mod for it. That I know of.<br><br><font class="tiny">Last edited 2010</font> <br><br></td></tr></table><br>
<a name="1059554"></a>

<a name="1059556"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ole JR</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's on Brucey's list of mods, if you don't mind using svn..<br>Check out <a href="http://maxmods.googlecode.com" target="_blank">http://maxmods.googlecode.com</a><br><br><font class="tiny">Last edited 2010</font> <br><br></td></tr></table><br>
<a name="1059555"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://repeatuntil.free.fr/raknet/" target="_blank">http://repeatuntil.free.fr/raknet/</a> ? <br><br></td></tr></table><br>
<a name="1059569"></a>

<a name="1059570"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> @ Ole Jr<br>I see it listed on his page but I am not sure where to download it at ( svn? ). OMG, Realtime Voice Communication. I have to have it! Where.. where :)<br><br>Thanks<br><br><font class="tiny">Last edited 2010</font> <br><br></td></tr></table><br>
<a name="1059586"></a>

<a name="1059587"></a>

<a name="1059588"></a>

<a name="1059591"></a>

<a name="1059592"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just finished my network library: <a href="https://sites.google.com/site/tnetsite/" target="_blank">https://sites.google.com/site/tnetsite/</a> &lt;-- TNet 3.0<br><br>It's very handy and has a reliable-udp implementation based on the quake3-model so it's meant for action games, like yours, and mine. Solid connection handling on top of that and clock-sync. It's quite easy to use, if you do decide to use it feel free to mail support errands to patrix@... since the documentation is not fully completed, but all features are tested. It doesn't have voice-chat though :)<br><br>For example you can setup multiple-clients (and servers) in one app, you can add any kind of fake-latency and packet-drop to each, so that it's extremely nice to test.<br><br>And you can send "out of connections" so setting up a server-List and stuff like that is really hassle free. And yeah, it's free and open source so you can compile on "any" platform.<br><br><font class="tiny">Last edited 2010</font> <br><br></td></tr></table><br>
<a name="1059597"></a>

<a name="1059598"></a>

<a name="1059602"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ole JR</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes you have to use SVN. (and also be able to compile mods)<br><br><a href="http://maxmods.googlecode.com/svn/trunk/" target="_blank">http://maxmods.googlecode.com/svn/trunk/</a> (direct link to the svn repo)<br><br>Oh, and to get the, me think optional, <i>raknetvoicefmod.mod</i> to build, you also need his <i>fmod.mod</i>.<br><br><br><font class="tiny">Last edited 2010</font><br><br><font class="tiny">Last edited 2010</font> <br><br></td></tr></table><br>
<a name="1059599"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> And keep in mind: fmod isn't free to use in commercial games, you'd need to get a license if that what you're making. <br><br></td></tr></table><br>
<a name="1059608"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Tbit<br>Wow!.. Looks very cool! Looking it all over now. Any chance of real-time voice communication? <br><br>@Ole Jr<br>Awesome... I'll give it a go.<br><br>@xlsior<br>I wonder what the license fee is for commercial use? Even though I expect to keep Phoenix SS free of cost, I will be using all of the back end (engines/systems) for other game applications that will be commercial.<br><br>Thanks to all! Very helpful.<br><br>Keep it coming:) <br><br></td></tr></table><br>
<a name="1059609"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I wonder what the license fee is for commercial use? Even though I expect to keep Phoenix SS free of cost, I will be using all of the back end (engines/systems) for other game applications that will be commercial. <br></div><br><br>It's pretty spendy, unfortunately: <br><br><a href="http://www.fmod.org/index.php/sales" target="_blank">http://www.fmod.org/index.php/sales</a><br><div class="quote"> <br>fmod commercial license: licensed per game, $6,000 for the first platform and $3,000 for each additional platform.<br><br>fmod casual license: (for games that are &lt;$20 and have only electronic distribution, no physical media sales): $3,000 for the first platform, $1,500 for each additional platform.<br><br>[b[Free[/b] for non-commercial use. <br></div> <br><br></td></tr></table><br>
<a name="1059620"></a>

<a name="1059623"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Richard, I just updated the RakNet mod from repeatuntil to the latest version 3.8.2: <a href="http://www.blitzbasic.com/Community/posts.php?topic=72982#1059287" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=72982#1059287</a><br><br>edit: I just see that Brucey's RakNet wrapper is also almost up to date. Might be the better option, I don't know.<br><br><font class="tiny">Last edited 2010</font> <br><br></td></tr></table><br>
<a name="1059644"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leon Drake</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> I personally love vertex's bnet module<br><br><a href="http://vertex.dreamfall.at/projects.php#bnetex" target="_blank">http://vertex.dreamfall.at/projects.php#bnetex</a> <br><br></td></tr></table><br>
<a name="1059907"></a>

<a name="1059908"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Xaron<br>On it. Checking it out. It's Thanks Giving weekend here so probably get to it Monday.<br><br>@Leon Drake<br>I will check it out.<br><br>@All<br>I have posted the Phoenix SS client here:<br><a href="http://forums.ssgn.net/index.php?showtopic=25221" target="_blank">http://forums.ssgn.net/index.php?showtopic=25221</a><br><br>Thanks!<br><br><font class="tiny">Last edited 2010</font> <br><br></td></tr></table><br>
<a name="1060543"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have copies of everything now and am going through them (uhg).<br><br>I am also looking for doc's on the best way to setup a client and server. For example I am thinking of having the client send data on ship/bullet position to the server and having the server resend that information to the other clients. Letting the server sorta referee who dies and who lives. :)<br><br>Any links on setting this all up would be much appreciated.<br><br>Thanks <br><br></td></tr></table><br>
<a name="1060571"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Galaxy613</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was thinking about that and that is a very important thing that you need to figure out. It's called Dead Reckoning I think, the best way would be is to ASK the server to move your ship, and then it updates everyone *Within Range* of your new position/rotation.<br><br>IMHO, the cilents should be more or less terminals to a "player" object on the server. The cilent should make requests of the server, and the server should make sure the requests are reasonable. The less you send to the cilent the better, that way people can't hack into the socket and create a special Minimap or sniff other stuff they shouldn't see. <br><br></td></tr></table><br>
<a name="1060585"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leon Drake</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes, another approach i found that helps with positioning players is instead of sending the players rotation and position over and over. only send the position when the player begins to move, if you know the speed in which the player travels you can have the server calculate how far the player is going and send it to the other players, then you really only need to resend the position or rotation when the player stops or turns. this lessens the load of information being sent since if you know a player is going to go one direction while they are holding down up for instance there is no reason to keep resending position until the player changes his movement in some way. <br><br></td></tr></table><br>
<a name="1060746"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very good!<br><br>This is what I need to know. I had thought along similar lines to both your comments. I can indeed set it up the way you are both suggesting. SubSpace was apparently hacked pretty hard back in the day and the community is sensitive to cheating/hacks. So I really what to have my security as bullet proof as possible. Which is why I am considering Raknet , although I still have not found Brucey's mod yet. But the others have fairly good security too.<br><br>I'm at the point where I have to decide all of this so your input is very valuable. Setting up the client server scheme/topology is a little new (for large scale) to me so more please. :) <br><br>Thnaks! <br><br></td></tr></table><br>
<a name="1061562"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> In general you want to server to be in control of the positions, and correct any player that miss-steps, however each player freely simulates their movement. So would the server go down for example, the player can move around freely on the map, however once connected again, the player will "teleport" to the position the server last saw the player at. <br><br>Also for really solid dead-reckoning you want to send not only position but also input - what keys are being hold down.<br><br>Missiles and shots might need to be handled separately, since they travel so fast that they need to be in sync somehow. One way to do that is to add a delay when you fire, but sending the packet right away, then waiting to release the bullet til you receive a response from the server. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
