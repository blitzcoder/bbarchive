<!DOCTYPE html><html lang="en" ><head ><title >Play video from url?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Play video from url?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Play video from url?</a><br><br>
<a name="1281758"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Caton</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> how do I play video from url? <br><br></td></tr></table><br>
<a name="1281759"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Greatly depends on what kind of video, and what dependencies the player has.<br><br>If is it a directly hosted video file, or some web-based streaming media platform?<br>HTML5? Flash? Some custom 3rd part plugin?  Open, or DRM encumbered?<br><br>(In all likelihood, the answer is "you won't.") <br><br></td></tr></table><br>
<a name="1281772"></a>

<a name="1281773"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Caton</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> A video hosted on my website.<br>I want to play a video file like from http::mywebsite.com/videos/video1.mp4 <br><br></td></tr></table><br>
<a name="1281781"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can download the MP4 file from withing Blitzmax fairly easily. Here's a sample that downloads the google logo from their server as an image into blitzmax and then display it on the screen:<br><br><pre class=code>

Graphics 400, 300, 0

DrawText "Getting Image...", 140, 144
Flip 

Local img:TImage = LoadImage(LoadBank("http::www.google.com/images/branding/googlelogo/2x/googlelogo_color_272x92dp.png"))
If Not img Then RuntimeError "Unable to download image"

'Graphics img.width, img.height, 0 
Graphics 1024,768

DrawImage img, 0, 0
Flip

WaitKey()

End
</pre><br><br>A difficulty with MP4 is that Blitzmax doesn't have built-in ability to display that video format, meaning you'll need a 3rd party decoder to actually DO anything with the video after downloading it.  I don't know of any MP4 decoders for blitzmax myself, although there's definitely MPG and Ogg vorbis decoders for blitzmax around.<br><br>(If you have control over the file you want to play, you can always convert it to an Ogg Vorbis video and upload that to your website instead) <br><br></td></tr></table><br>
<a name="1281778"></a>

<a name="1281779"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Caton</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> so how do I play ogg video from url? <br><br></td></tr></table><br>
<a name="1281782"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try using a 3rd party mod, like Brucey's bah.oggvorbis, and call it using the loadbank("http::  syntax.<br><br>(You may be able to do it without the loadbank statement as well, but whether or not that works depends on the file format you're trying to load -- some file loaders need to seek around in the stream which won't work unless it has everything loaded into a bank first) <br><br></td></tr></table><br>
<a name="1281786"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >*</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Before you dive wholehearted into this one thing that would annoy ANY gamer is having a game, a crap Internet connection and it loads everything from the net.<br><br>Pirates wouldn't bother they would download ya files and hack the loader code, it's the legitimate users ya would be hurting. <br><br></td></tr></table><br>
<a name="1281791"></a>

<a name="1281792"></a>

<a name="1281887"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here is one method, tested on an IE11 Windows machine.<br><br><pre class=code>
Import MaxGui.Drivers

Strict 

Local window:TGadget
Local htmlview:TGadget

'window=CreateWindow("My Window",30,20,600,440)
'fullscreen
window=CreateWindow("My Window",0,0,DesktopWidth(),DesktopHeight(),Null,0)

htmlview=CreateHTMLView(0,0,ClientWidth(window),ClientHeight(window),window)
SetGadgetLayout htmlview,1,1,1,1 

HtmlViewGo htmlview,"file://"+RealPath("movie.html")

While WaitEvent()	
	Print CurrentEvent.ToString()
	Select EventID()
		Case EVENT_GADGETDONE			
			Print "GADGETDONE"
			Local src$="http://www.quirksmode.org/html5/videos/big_buck_bunny.mp4"		
			Local script$="document.getElementById(~qvidsource~q).src=~q"+src+"~q"
			HtmlViewRun htmlview,script
		Case EVENT_WINDOWCLOSE
			End
	End Select
Wend
</pre><br><br>and in same folder the file movie.html<br><br><pre class=code>
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv="X-UA-Compatible" content="IE=Edge" /&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;video width=100% height=100% controls=controls&gt;
&lt;source id=vidsource type="video/mp4"&gt;
Media Not support.
&lt;/video&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre><br><br><br>[edit] modified to set movie src from BlitzMax <br><br></td></tr></table><br>
<a name="1281852"></a>

<a name="1281853"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Caton</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't want to use html I want to do it from url in blitzmax.<br>http::mywebsite.com/videos/videointro.ogg<br>also I want to play video and sound. <br><br></td></tr></table><br>
<a name="1281888"></a>

<a name="1281889"></a>

<a name="1281892"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Fair enough. I have modified the code to set src from BlitzMax and would be interested in solving the sound issue even if you don't use it.<br><br>The idea is it is a function that plays a movie, if it needs a handle to the Graphics window / screen you are using to behave correctly then we could look at sorting that out also.<br><br>Streaming a movie and decompressing it seamlessly is big call for a BlitzMax solution. If you are Windows only you also have the option of using one of BlitzMax's older siblings for the job, both BlitzPlus and Blitz3D can handle the process of showing a movie seamlessly using still supported Direct Show API and you could call such a movie player app from your BlitzMax code... <br><br></td></tr></table><br>
<a name="1281901"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Caton</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> show me code in blitzmax how to load movie file from url. <br><br></td></tr></table><br>
<a name="1281905"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> HtmlViewRun htmlview,script <br><br></td></tr></table><br>
<a name="1281908"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  show me code in blitzmax how to load movie file from url. <br></div><br>A "please" is nice too, sometimes... <br><br></td></tr></table><br>
<a name="1281915"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Caton</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I know but nobody is telling me how to do it without html there should be a way to load it in blitzmax. I want to load ogg video from url in blitzmax not html. please? <br><br></td></tr></table><br>
<a name="1281919"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I know but nobody is telling me how to do it without html there should be a way to load it in blitzmax <br></div><br><br>And there probably is -- see the starting point above, and good luck figuring it out. <br><br></td></tr></table><br>
<a name="1281926"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I had a go at streaming theoraplayer over http:: but since http:: doesn't support seeking, it didn't work very well.<br><br>Under NG, the theoraplayer TStream functionality turns out to work very well on seekable media (like from the filesystem). Technical notes : Because of the nature of the GC NG uses, you don't need to enable threading to get this to run - although even with threading enabled on legacy BlitzMax, it had big stability issues with the threaded callbacks.<br><br>So yeah, not much success there.<br><br>As a workaround, I would envisage a stream wrapper which can cache the fetched data in order to support some kind of pseudo seeking functionality. Of course, if the library wants to seek to the end of the file, you've just gone and downloaded the whole thing anyway, in which case you may as well download it and play it locally. <br><br></td></tr></table><br>
<a name="1281930"></a>

<a name="1281931"></a>

<a name="1281933"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> @ Caton - what exactly is wrong with html? Did you even try the code I posted? If I wrap it in a Function End Function block then would you look at it? <br><br></td></tr></table><br>
<a name="1282030"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Caton</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> becuase It loads from a data list file and it's needs to play video files from a list config data. html can't do that I'm using blitzmax so I can play videos from url and files from url. I have aready read files from url just need video to play from url <br><br></td></tr></table><br>
<a name="1282192"></a>

<a name="1282193"></a>

<a name="1282195"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> It'll be a 2 step process...<br><br>1. libcurl from Brucey will stream the file from just the url address, and as Brucey already points out - using this method to get to the end of stream will download the whole file first.<br>2. what you do with that stream data of course is up to you - in your case you'll want to pass the stream into an appropriate video decoder and render the video/audio.<br><br>Both of which are not native to BlitzMax and as Brucey has done step 1 already it'll be up to you, or someone else to resolve step 2.<br><br>edit: An alternative better approach would be to setup rtsp on the server and serve the file over that protocol, which is designed for that exact purpose. Again something that you'd have to do yourself as BMax doesn't handle that natively. <br><br></td></tr></table><br>
<a name="1282222"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >*</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Downloading the file when changed would be much more appreciated by your end users than downloading every time you start the game. <br><br></td></tr></table><br>
<a name="1282366"></a>

<a name="1282367"></a>

<a name="1282368"></a>

<a name="1282369"></a>

<a name="1282370"></a>

<a name="1282371"></a>

<a name="1282372"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Got video playing with LibVLC! Surprisingly easy once you get a handle on how VLC does things...<br><br>IMPORTANT: <u>Read notes at link below before trying to use.</u> This is a <u>very</u> simple, limited example and only renders into a given window -- no idea about rendering into textures/images, etc, but perhaps someone else will be interested enough to explore further.<br><br><b><a href="/codearcs/codearcs.php?code=3230" >Use VLC DLL to play video</a></b><br><br>Example in thread shows minor mod to stream the Big Buck video from URL posted above. Allow through firewall and try again if it fails!<br><br>If it doesn't work, you probably didn't read the notes... <br><br></td></tr></table><br>
<a name="1282477"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thats pretty cool :-) well done!! <br><br></td></tr></table><br>
<a name="1282578"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ha ha, thanks! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
