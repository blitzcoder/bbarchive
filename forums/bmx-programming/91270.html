<!DOCTYPE html><html lang="en" ><head ><title >pixmaps and pngloader up to 16bit</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >pixmaps and pngloader up to 16bit</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >pixmaps and pngloader up to 16bit</a><br><br>
<a name="1038669"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Taron</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Mark,<br><br>I know this isn't a new topic, but being that blitzmax shows to be an excellent platform to develop apps of all kinds aside from the games, it would be just fantastic, if you were to expand the pixmap implementation and libpng use to support 16bit or even float, if you were at it. It's use for asset creation and even tools beyond games altogether, it would certainly widen the appeal of Blitzmax to many developers. I'm a big fan and love it dearly, but I'm a little afraid to mess around with the related modules. I had a quick look and saw that it should be not too terrible to add, but figured it would be in much better hands, if you were to take a look.<br><br>I'm sure you have plenty of things to do and deal with and don't mean to impose. I just know I should at least mention the thought to you. <br><br>I'm currently writing a little tool to create "material spheres" for sculpting apps and other realtime render solutions, which is getting very nice, but it's screaming to have 16bit export options. At the same time it would be very encouraging to me to dwell even deeper into that kind of app development.<br><br>Thanks in advance for thinking about it and already and always for what you've done! <br><br></td></tr></table><br>
<a name="1038678"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Interestingly, FreeImage doesn't support 16-bit depth for png export, although it does support export types of RGB16 and RGBA16, which I presume at the things you are looking for.<br><br>The problem with BlitzMax's TPixmap, is that it's built for display (which tends to fall into the 8bpp range), and not necessarily manipulation, so loaders tend to be fixed to work with Pixmap.<br><br>A library like FreeImage also supports high dynamic range imagery (float, double, 128-bit, RGBAF, etc), which is useful in certain areas.<br><br>I dunno how interested Mark would be in adding support to load/save that Pixmaps don't currently support. <br><br></td></tr></table><br>
<a name="1038699"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Personally I think features like this would really boost bmax as a development platform, but at the same time would draw focus away from the main goal of a game development platform...<br><br>I develop all kinds of stuff with bmax beyond games, but at it's heart, as brucey said regarding pixmaps being tuned for display, bmax is really about game development and not really applications as such.<br><br>I think it would be a great place for a module to slot in, perhaps bring with it some pixmap manipulation tools, and a converter between 16bit and 8bit pixmaps so you could load an image, manipulate it at 16bit, pull off a 8bit version to display (in game, or preview, etc.) then save the 16bit version again... basically what I use Freeimage for but I don't care too much about the extra bit depth :0) <br><br></td></tr></table><br>
<a name="1038761"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Taron</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, the curious thing is that the included libpng has all the functions available. It's actually the internal pixmap and the defines and parameters sent to libpng that would need the "silent" addition to support 16bit. Uhm...pixmaps being the really tricky part, of course. In the libpng use of the pngloader module you can simply switch the argument for bit depth (8) to 16 and it wants to save a 16bit png (successfully I might add, just that it's content is confused, of course).<br><br>I'm certain it ain't really "simple" when it comes to the pixmaps, but the pngloader mildly whispers to allow access to more of what libpng has to offer.<br><br>Then again, I'm just carefully asking. No drama, if it's not on the agenda. I'll always dig it for the games and I'm sure I can somehow fight my way through dealing with what ever raw image format libpng wants and instruct it properly myself, I hope. <br><br>Thanks for bouncing in so quickly already, guys! <br><br></td></tr></table><br>
<a name="1038764"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> If it's internally supported then perhaps you could duplicate the TPixmap type and then create an extension for it that overrides the stuff that doesn't work in 16bit with stuff that does? As you said it can't be that simple of course :0) but I think that could be the easiest starting point, especially if you already see spots that are 16bit friendly with a tiny tweak here or there...<br><br>I'm not so great at overrides and extensions myself (I always bork the syntax in bmax for some reason... too many languages dancing in my head) but perhaps brucey might have a tip or 2 on how to override some of the internals since I think freeimage takes over the pixmap routines when it's included... <br><br></td></tr></table><br>
<a name="1038822"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Taron</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmmm, that's a good idea! For some reason I wasn't even thinking about copying to write an extension, but literally to intrude and extend the existing one, hahaha. Which is percisely what scared me. Therefore; THANKS, that's a liberating idea right there! :)<br><br>However, I hope that Mark will stumble upon this little thread and give it a quick thought. Something tells me, he might find that it's only a brief exercise to ramp pixmaps and the pngloader/saver up to more of its potential.<br><br>Just for clarity, here's what I'm doing and where I specifically miss 16bit support...<br><br>glReadPixels(....,GL_RGBA,GL_UNSIGNED_BYTE,snapshot.pixels)<br>snapshot = YFlipPixmap(snapshot) 'I had to laugh that it even has a function! &lt;hihi&gt;<br>SavePixmapPNG( snapshot,...) <br><br>I would love to use GL_RGBA16F of glReadPixels to write into a 16bit Pixmap and SavePixmapPNG were using libpng's existing 16bit options that are dormantly sitting in bmax and are happily waiting to be used. :} <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
