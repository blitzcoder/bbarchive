<!DOCTYPE html><html lang="en" ><head ><title >GLMax2DDriver unbind all textures?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >GLMax2DDriver unbind all textures?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >GLMax2DDriver unbind all textures?</a><br><br>
<a name="1023454"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there a way to wipe out all the textures from VRAM and clear the list of textures openGL is tracking? Or possibly force the driver to reset which might have the same effect? <br><br></td></tr></table><br>
<a name="1023481"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why would you need to do this? And as far as I know, the answer is no. <br><br></td></tr></table><br>
<a name="1023483"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Because I'm having a problem with shared contexts from some canvases in maxgui when I switch to MiniB3D display (causes a crash on one of my tester's computers unless I kill off the shared context and rebuild it since I need a clean one for minib3d) and then switching back to maxgui and canvases (again killing off the shared context, but some texture links seems to remain in openGL since as I recreate my 2D graphics from scratch some of them come out corrupted despite the first ones being nulled and garbage collected) so it looks to me like openGL is holding on to some stuff and not going clean.<br><br>Basically I need to totally reset the graphics system when I switch between maxgui with canvases and minib3d, and then reset again when switching back or it can crash on one tester's computer (which isn't a junky intel or S3 or anything so it's not just a crap graphics card). He has no problems with either component individually, just when you switch between then stuff gets ugly. It's specifically the shared contexts (if I turn them off no crash, but then I can't use multiple canvases which I need) <br><br></td></tr></table><br>
<a name="1023486"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Edit: Hm, now I'm just confused.<br><br>Removed my comment since I need to think this over a bit more.  Edit 2: Although I will re-add that I do think your problem comes down to a bad design more than anything else. <br><br></td></tr></table><br>
<a name="1023521"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would love to design around it but the crux of the issue is this.<br><br>1) I use MaxGUI with 3 canvases (and therefore GLSharedContext()) for the setup portion of the application. The canvases are used for 3 custom GUI controls that can't just be replaced with something more standard.<br><br>2) All of the setup from that GUI is used to prepare data structures to be used for a 3D display. So if I can't switch to minib3D it doesn't really do anything, and likewise if I can't do the setup then the 3D has no information to work with.<br><br>3) None of the graphics used in the 2D are re-used in 3D. All of the 2D are thumbnails or just images needed for the GUI elements (buttons and such). When switching to 3D I need to unload all of that and re-load the user images in higher resolution for use as textures in 3D. I need to keep very tight control over what is loaded into openGL as I'm basically using all available VRAM to display onscreen items, when openGL handles too much there are hicups as it loads/unloads images which can be avoided by forcing it to load when I'm not busy drawing things.<br><br>4) The only reason I need to turn off shared contexts at all and manually unload everything is to prevent a crash on one computer used by one of my testers. A mac Pro with both an ATI and NVIDIA graphics card. We've tried to eliminate the chance that it's a software conflict by shutting off everything else he's running that could be in any way related to the graphics system. We've paired down to 1 monitor and with that tried both cards and it still crashes. Doesn't crash on any of the 3 other macs I've tested it on or 4 PCs, so it could be just him but he is my main tester. He doesn't have any problem with the GUI with shared contexts OR with the 3D, it's switching from the GUI to 3D that causes a crash when graphics try to initialize. The screen goes black (like it should) then the program just closes, no crash report.<br><br>If I could find a way to keep him from crashing without disabling the shared contexts when switching that would be much better but I'm all out of ideas there... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
