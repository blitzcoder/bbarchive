<!DOCTYPE html><html lang="en" ><head ><title >Masking Question</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Masking Question</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Masking Question</a><br><br>
<a name="1107414"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AvestheFox</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> So I want to apply a shadowmap over my in-game tile map. But to do this I need to mask out the background which is paralaxed behind the tilemap (and it just looks silly with the shadowmap effecting it as well as the main foreground tilemap)<br><br>how would I go about doing this? <br><br></td></tr></table><br>
<a name="1107501"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AvestheFox</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'ma guess this isnt possible without certain complications... :P <br><br></td></tr></table><br>
<a name="1107502"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not sure what you are asking. Could you mock up an example image? <br><br></td></tr></table><br>
<a name="1107508"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AvestheFox</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <img src="http://i514.photobucket.com/albums/t346/PutterWatch/desiredshading.png"><br><br>hope that helps :) <br><br></td></tr></table><br>
<a name="1107559"></a>

<a name="1107560"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AvestheFox</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've been toying with the blend modes since before I posted this thread and I've still got nothing... :P<br><br>the only conclusion I have would be that I'd need to combine all the layers into one big image but I can see several problems with that conclusion.<br><br>So I'm still asking (begging is more like it) the community here, is there not a way I can do this?<br><br>Any help here would be greatly appreciated!<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1107572"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AltanilConard</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I can't think of an easy solution to this... You could draw you tilemap, draw the shadowmap, then grab the image it (ugly method).<br><br>Or maybe cut the shadowmap into tile sized squares, then draw the corresponding square over each tile. It might get messy at the edges though. Just some ideas. <br><br></td></tr></table><br>
<a name="1107573"></a>

<a name="1107574"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ever thought of using AlphaBlend and drawing `black rectangle tiles` instead, and then using the alpha channel of the black tiles to designate the shape needed? Ie create a set of color graphic tiles and a set of black tiles which both have the same alpha?<br><br>After all alphablend is kind of a multiply operation based on a cross-fade.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1107576"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Noobody</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> The way I see it, your lighting information works on a per-tile basis anyway. So how about, instead of drawing the tilemap and then multiplying the lightmap on top, specifying the tile color directly? I.e. you store a lighting value per tile and when you draw your tilemap, you set the current color with SetColor for each tile accordingly when it's being drawn.<br><br>That should light the tiles and still leave the background fully lit. <br><br></td></tr></table><br>
<a name="1107579"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AvestheFox</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Conard I've considered those ideas, but the problem would be that I'd want everything in the foreground to be effected by the lighting, that's including active entities such as the player, enemies, items, etc. good suggestions nonetheless. Thanks! :)<br><br>@ImaginaryHuman I think I understand what your meaning. Its something to consider. thanks! :)<br><br>@Nobody I'd have to say I think your advise is probably the best. I could just keep the color information stored on the shading layer and what ever tile (or entity) is in the same x and y coordinates as the shade tile that same information would then be applied to the targeted tile or entity... That probably doesn't make a whole lotta sense (not sure how to word it correctly atm :P ) but let's just say that I had a certain realization thanks to your advise. Thanks! :D <br><br></td></tr></table><br>
<a name="1107610"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I need to put the images for this post back up.. maybe it can help<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=94692" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=94692</a> <br><br></td></tr></table><br>
<a name="1108003"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you want to go OpenGL only you can add a stencil buffer and mask out the parts you don't want to draw on. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
