<!DOCTYPE html><html lang="en" ><head ><title >Graphics choppy when initially drawimg images.</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Graphics choppy when initially drawimg images.</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Graphics choppy when initially drawimg images.</a><br><br>
<a name="671353"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> See this thread for more details:<br><a href="http://www.blitzbasic.com/Community/posts.php?topic=60190" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=60190</a><br><br><br>Basically, it seems that Max isn't buffering images in video ram when they are initially loaded, or when changing graphics contexts.  <br><br>I fixed the initial loading issue myself by drawing every loaded image to an offscreen buffer, but I have found that when toggling between fullscreen and windowed, the buffered data is lost and the first time the spheres in my demo all start to roll, everyhting goes choppy for a second until it gets things back in order and the image data is rebuffered.<br><br>The first fix was realtively simple to implement since I had already wrapped the LoadImage funcitons to display errors when files were missing.  But the second fix will require me to make a significant change in how I load and deal with the images in my game.  I'll have to put them in an array and index them with constants rather than putting them in individual global variables of the TImage type.  That's the only way I would be able to iterate through them all after loading to rebuffer them. (In an automated way anyway.)<br><br>So I'd like a word on whether or not this is a bug, and whether it might get fixed soon, as if I have to make this change, it would be far better to make it now than later, but I'd rather not make it at all.<br><br>Also, if there is a place where all the images are stored in a nice tidy list I can iterate through by defualt instead, then that could be helpful. <br><br></td></tr></table><br>
<a name="671478"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> "When posting bug reports, please:<br><br>1) Include some *runnable* source code in your post - not just the bit in your code that's failing, but something we can actually copy and paste into the IDE and run immediately." <br><br></td></tr></table><br>
<a name="671483"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I know, but I don't have time to produce a demo for it, as it's not something that's easy to demonstrate.  Anyway the cause is fairly clear in this case. <br><br></td></tr></table><br>
<a name="671484"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is not a bug and will not be "fixed".<br><br>Go with the nice tidy list option. A simple function that draws every frame of every image in your cachelist is all that is required after resetting graphics no? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
