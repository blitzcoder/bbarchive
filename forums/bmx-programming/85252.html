<!DOCTYPE html><html lang="en" ><head ><title >Destructor</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Destructor</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Destructor</a><br><br>
<a name="964050"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jkrankie</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I suspect the answer is no, but is there any way to access a destructor? <br><br>Cheers<br>Charlie <br><br></td></tr></table><br>
<a name="964052"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Htbaa</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not sure what you mean really. Do you mean calling the destructor of an object? It only gets called when an object isn't being referenced anymore and the Garbage Collector collects it.<br><br>I think you can force it, however. Just set your object to Null and then call the GCCollect(). But be sure no other object's or variables refer to it. <br><br></td></tr></table><br>
<a name="964053"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can always use: GCSetMode() and do the cleaning by hand I guess. <br><br></td></tr></table><br>
<a name="964060"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> The Delete() method is called when your object is GC'd.<br><br>You can add your own implementation of Delete() if you want to tidy up some of your own stuff.<br>eg.<br><pre class=code>
Type mytype

    Method Delete()
        ' called when I am GC'd
    End Method

End Type
</pre><br><br>Note though, that on Application exit, these are unlikely to be called - so you wouldn't put any "really important save state to disk" code in there, or the likes.<br><br>In my modules I use Delete() for freeing memory allocated by non BlitzMax code.<br><br>And remember, it is only called when the particular object is ready for garbage collection - ie. no other references to it exist. <br><br></td></tr></table><br>
<a name="964107"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jkrankie</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, cool. It's for MiniB3d, which insists i manually free every entity i create using freeentity(). this wouldn't be a pain, but because the vast bulk of my entities are contained in classes, it ends up adding to code, as i have been adding a freeAll() method to each of my classes. <br><br>i also don't need it on application exit, thanks to the ever handy clearworld() function :) So hopefully overriding the default Delete method will work while the program is in full swing.<br><br>Cheers<br>Charlie <br><br></td></tr></table><br>
<a name="964109"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, if the entity is referenced by a list somewhere, it would never turn up for GC'ing, which I suppose is why you need to call FreeEntity() yourself.<br><br>Of course, if you have an object which contains the entity, then you can Free the entity in your Delete() method. <br><br></td></tr></table><br>
<a name="964143"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jkrankie</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> If i use the Delete() method, can just have the freeentity bits in there and the GC will act as normal in addition to freeing the entity, or would i need to add anything else?<br><br>Cheers<br>Charlie <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
