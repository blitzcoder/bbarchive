<!DOCTYPE html><html lang="en" ><head ><title >How to build modules with MinGW?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >How to build modules with MinGW?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >How to build modules with MinGW?</a><br><br>
<a name="1310781"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >const</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have searched this thing but still having problems. I have installed the MinGW from here. <a href="https://sourceforge.net/projects/mingw/" target="_blank">https://sourceforge.net/projects/mingw/</a><br><br>This is the version of the compiler installed.<br><pre class=code>
g++ -v
...various information...
gcc version 4.9.3 (GCC)
</pre><br><br>Then I go to this directory ...\BlitzMax\bin and type<br><pre class=code>
bmk makemods -r
</pre><br><br>I see a lot of information about building the modules.<br><br>Now when I try to compile a Blitzmax program I get this information. I looks like I messed up the modules for good now.<br><br><pre class=code>
D:/Programs/BlitzMax/mod/pub.mod/stdc.mod/stdc.debug.win32.x86.a(stdc.c.debug.win32.x86.o):stdc.c:(.text+0x3a9): undefined reference to `__mingw__wopendir'
D:/Programs/BlitzMax/mod/pub.mod/stdc.mod/stdc.debug.win32.x86.a(stdc.c.debug.win32.x86.o):stdc.c:(.text+0x3c4): undefined reference to `__mingw_opendir'
D:/Programs/BlitzMax/mod/pub.mod/stdc.mod/stdc.debug.win32.x86.a(stdc.c.debug.win32.x86.o):stdc.c:(.text+0x3e6): undefined reference to `__mingw__wclosedir'
D:/Programs/BlitzMax/mod/pub.mod/stdc.mod/stdc.debug.win32.x86.a(stdc.c.debug.win32.x86.o):stdc.c:(.text+0x3f9): undefined reference to `__mingw_closedir'
D:/Programs/BlitzMax/mod/pub.mod/stdc.mod/stdc.debug.win32.x86.a(stdc.c.debug.win32.x86.o):stdc.c:(.text+0x41c): undefined reference to `__mingw__wreaddir'
D:/Programs/BlitzMax/mod/pub.mod/stdc.mod/stdc.debug.win32.x86.a(stdc.c.debug.win32.x86.o):stdc.c:(.text+0x44d): undefined reference to `__mingw_readdir'
</pre><br><br>What version of MinGW do you use? Do you think I might try to make a manual installation of the GCC 4.5?<br><a href="https://sourceforge.net/projects/mingw/files/MinGW/Base/gcc/Version4/" target="_blank">https://sourceforge.net/projects/mingw/files/MinGW/Base/gcc/Version4/</a> <br><br></td></tr></table><br>
<a name="1310820"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Henri</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>you could try this as a starting point:  <a href="/posts.php?topic=95220" target="_blank">http://www.blitzmax.com/Community/posts.php?topic=95220</a><br><br>-Henri <br><br></td></tr></table><br>
<a name="1310855"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >const</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Henri, I was able to fix the problem by a workaround. I re installed Blitzmax but this time I built only exactly the mods I was interested. I will avoid building all of the mods again since there might an incompatibility occur.<br><br>My theory on this problem is that Windows Blitzmax was compiled with a specific MinGW version and the binary components of it are compatible with that version.<br><br>This is a common problem with C++ projects, I noticed. Where a library (i.e. SFML) that was compiled with MinGW 4.7 won't be 100% compatible in a MinGW 4.9 project. So the most preferred way is to build everything from scratch (CMAKE) and be cool. <br><br></td></tr></table><br>
<a name="1310856"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Best version to install for MinGW is 4.8.1 for vanilla. I think there's a tutorial somewhere pointing to that version where it also has a override libs and toolchain binaries install. <br><br></td></tr></table><br>
<a name="1310857"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Henri</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, you correct. Different versions have compatibility issues and the libraries in Blitzmax lib folder are from older distribution. But if you replace those lib files with same lib files from MinGW folder and also the bin tools ar and ld in bin folder and build all modules then everything should be ok. Problems come if you miss one file, or 3rd party modules has prebuild files which were build with a different version.<br><br>-Henri <br><br></td></tr></table><br>
<a name="1310862"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you only compile modules you need...you mix up variants...as you already described...<br>Find a MinGW working for you...and compile all modules with it.<br><br>If you use Bruceys BMK drop-in-replacement you could have a MinGW32 folder in you Blitzmax folder and should no longer be required to adjust the files in the Blitzmax/lib folder.<br><br><br>Bye<br>Ron <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
