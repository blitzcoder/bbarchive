<!DOCTYPE html><html lang="en" ><head ><title >How to keep track of objects by an ID?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >How to keep track of objects by an ID?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >How to keep track of objects by an ID?</a><br><br>
<a name="481028"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi folks. I thought I would just throw this small problem your way. I am trying to come up with a solution but nothing is springing up at me so far.<br><br>What I want to do is have numerous freely associating `objects`, let's say they are just instances of a custom type. These objects need to be saved to disk and loaded back in later. They also need to be passed over a network to another computer which needs to use the objects in the exact same way as originally intended, interacting with specific other objects correctly despite the fact that another computer system might have its objects stored in an entirely random order. What with the saving/loading/networking it throws a spanner in the works.<br><br>All of the objects are free floating ie they are not necessarily in a list or a fixed order or organization. Any given objects can freely associate or disassociate with any others. They can be loaded or created any order.<br><br>If there is some kind of collection of objects on one computer system that is set up to work with certain other objects, how could these possibly be passed for example over a network to another computer and still know which objects to operate on? If the objects are saved to disk with some kind of ID number then when they are loaded back in maybe their ID number doesn't make sense anymore, and maybe the objects sent over a network all have different ID's on another computer.<br><br>I thought perhaps about some kind of remapping but even to remap you'd need to have a unique ID of some sort for each object to begin with?<br><br>So how can I identify which object is which? I am going to use groupings and categorization but I don't think that will be specific enough.<br><br>Any ideas greatly appreciated. <br><br></td></tr></table><br>
<a name="481047"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Perhaps you could compute a random string for each new object (based on time and date to prevent duplicates) created, and then save that to file.  When loading the object back in, you can recreate the connections by searching other objects by ID string.  <br><br>Because these random strings are always going to be different, it should be possible to uniquely identify objects when sent over a network (transmit the random string as well)<br><br>Edit:  This generates a random (but hopefully unique!) UID of constant 60 character length (with the most varying part on the left-hand side of the string to speed up comparison speed):<br><br><pre class=code>Function generateUniqueId:String()
	Local id:String
	Local result:String

	id=String(Rand(10000,20000))+MilliSecs()+CurrentTime()+CurrentDate()
	id=id.Replace(" ","")
	id=id.Replace(":","")
	id=id.Replace("-","")

	For i=0 Until id.length
		result :+ Right(Hex(id[i]),2)		
	Next

	Return result
End Function
</pre> <br><br></td></tr></table><br>
<a name="481110"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dirk Krause</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> You need what they call a GUID. It's a number that is unique within the known universe. It is usually created from the system time, the MAC adress and random seed.<br><br>The problem that you are adressing is 'data replication' and this is not for the faint of heart.<br><br>This is where I usually leave :-). <br><br></td></tr></table><br>
<a name="481113"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Umm, oh ok. ;-) Maybe the random string thing would work. Thing is it also needs to be synchronized with another system accross a network, not sure if that would work?<br><br>Maybe some kind of ... shared hash table or something? <br><br></td></tr></table><br>
<a name="481151"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> a possibility might exist through the use of Rand or Rnd and SeedRnd.  SeedRnd allows you to set the random number generator to the same state each time, thus when you generate a random number you get the same results everytime.  <br><br>Apparently with B3D there was an issue where some machines did not begin at the same position in the algorithm but I don't know if that exists with BMax or not. <br><br></td></tr></table><br>
<a name="481190"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm, now that is actually a possibility. I think there was a thread already discussing whether this was cross-platform some while ago and apparently it is consistent. I could set the seed to a specific number and then have it generate a sequence of random numbers which would be the same on both systems. But hey, they really isn't going to work in the big picture because not only are objects not likely to be created in the same order on both systems, there can be different numbers of objects on both systems totally non-synchronized ... so really it needs to allow synchronization in a non-synchronized kind of world.  Also if I use the random number generator to generate a sequence of numbers - why not just start at 0 and add 1 each time to create new numbers?<br><br>New objects could perhaps `register` with some kind of centralized registry, but the registry would have to be shared among all computers networked. Not impossible, but to synchronize them all at some point *after* they've already been up and running a while, would be something of a chore.<br><br>Hmmmmmmmmmmmmmmmmm. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
