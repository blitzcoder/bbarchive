<!DOCTYPE html><html lang="en" ><head ><title >Projectile maths challenge!</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Projectile maths challenge!</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Projectile maths challenge!</a><br><br>
<a name="759961"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK then, I'm using this page:<br><br><a href="http://en.wikipedia.org/wiki/Trajectory_of_a_projectile" target="_blank">http://en.wikipedia.org/wiki/Trajectory_of_a_projectile</a><br><br>To work out how to fire a projectile from a given point on the screen.  I want it to land on a known coordinate (could be at a different height) and to take a FIXED amount of time, say 500 millisecs.<br><br>This should be possible right?  Say the destination coords were moreorless on the same level and quite far away, you'd have to fire the projectile and a low fast arc to get there in 500ms (forget it bouncing at the destination).  If the destination was close, you'd have to fire it up in the air and let it nicely arc down to get there in 500ms.<br><br>So basically t (time) is known and d (distance) is known. Also g (gravity is known).<br><br>Therefore you can work out the x velocity as d/t.  But what should the y velocity be, taking into account g, d and t, and the x velocity?<br><br>I'm gonna eat some lunch now and ponder... <br><br></td></tr></table><br>
<a name="759970"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmmm, Simple task.<br><br>I don't have my solution here with me (I used this in a worms clone I made) but i remember it being quite simple.<br><br>I'd like to see what others come up with too since I got mine working with a complete fluke :) <br><br></td></tr></table><br>
<a name="759976"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Path of projectile is easy enough, but it's the constraining it to a fixed time-frame that I'm finding harder to sort out. <br><br></td></tr></table><br>
<a name="759982"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> well initial vertical velocity for a FLAT ground would be:<br><br>v = (t*g)/2<br><br>and this works fine but how to work it out if the destination y coord is a bit further down i.e. below the flat ground? <br><br></td></tr></table><br>
<a name="759983"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chris C</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you want a real challenge try calculating shot leading to hit a moving target, I fudged it once but was never really happy with the fudge<br><br>assuming a fixed bullet velocity and no air resistance, and that the target is moving on a fixed path and velocity, sounds easy but it aint... <br><br></td></tr></table><br>
<a name="759985"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'll fish out my code later. It takes into consideration the start and end coordinates. You can work out the amount of time it'll take by taking velocity/distance, and then add (Ystartspeed-(gravity/2)) or so (depends on what youre altering the yspeed by). Then just "tween" the movement you apply to the projectile.<br><br><br><br>I appologise for not actually having the solution here- someone else is bound to give you what you need but if not, when i get back tonight i'll go find it. <br><br></td></tr></table><br>
<a name="759987"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Chris C: Did that quite a few years ago for a shoot'em up in DOS using my A-Level maths book and a quadratic equation.<br><br>Cyg: yeah so I want to use a FIXED time that is known.  Well anyway, post what you have later, that would be cool thanks :-) <br><br></td></tr></table><br>
<a name="759989"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Lush, cracked it!<br><br><pre class=code>
dy = 0-(((0.5*gravity*(time*time))+starty-endy)/time)
</pre><br><br>Works perfectly, looks lush :-) <br><br></td></tr></table><br>
<a name="759990"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> That looks pretty close to what I have. :)<br><br>Grey, my solution would give you fixed time if you "tweened" it right ;)<br><br>Anyway yours looks like a slightly more efficient version of mine, so nice one!!! <br><br></td></tr></table><br>
<a name="759993"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> time is number of frames btw. then I move by dx and dy each from and natural do dy:+gravity as well. Note:<br><br>dx = (end-startx)/time<br><br>so dx was always easy. <br><br></td></tr></table><br>
<a name="875609"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Schwang</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does anyone have the solution sample code for this? I'd love to see how this works. <br><br></td></tr></table><br>
<a name="875780"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Schwang</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Seriously, how'd you lot get this working?<br><br>Do you use sin and cos to work the x and y coords as per usual?<br><br>If so, is dx and dy the velocity which you then add to or multiply with the 'standard' sin and cos calculations?<br><br>Can this be used from any point onscreen and fired at any other point, any distance?<br><br>How would the formula change if the time requirement was removed? <br><br></td></tr></table><br>
<a name="876134"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warpy</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Grey Alien's solution comes from one of the equations of motion,<br>s = ut + 1/2 * a * t^2<br><br>where s is distance travelled, u is the original velocity, a is acceleration per unit time, and t is time elapsed.<br>We know s, a and t, and we want to find u, so rearranging, we get<br><br>u = (s - 1/2 * a * t^2) / t<br><br>which is Grey Alien's equation.<br><br>Schwang - if the time requirement is removed, there is no longer a unique solution to the equation, which is quite clear if you think about throwing a ball so it hits a point on the ground - you can throw the ball directly at the point, taking the minimal amount of time, or you can throw it high in the air, taking a longer amount of time. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
