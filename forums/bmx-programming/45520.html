<!DOCTYPE html><html lang="en" ><head ><title >Extern Type</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Extern Type</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Extern Type</a><br><br>
<a name="506082"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >teamonkey</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> v1.06 adds support for Type declarations in an Extern block. The docs give you a brief example of what you have to do, but not why. Why two padding functions for example, and why do the functions need to be virtual? <br><br></td></tr></table><br>
<a name="506111"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> im curious about the padding as well since the DX mod does not seem to have the pad definitions?<br><br>also, i have a Q about return types.  how do you return an instance instead of a pointer?  given:<br><br>--- C++ ---<br><br>class Ttest1{<br>public:<br>   virtual Ttest2* testret1(){return new Ttest2;}<br>   virtual Ttest2 testret2(){Ttest2 retval; return retval;}<br>}<br><br>-----------<br><br>i believe i would define my extern for testret1() which returns a pointer as:<br><br>Type Ttest1<br>   method testret1:Ttest2()<br>EndType<br><br>the extern typing is setup to return pointers (i think), but how do you define testret2 which doesnt return a pointer?  or am i misunderstanding and my extern type should look like:<br><br>Type Ttest1<br>   method testret1:Ttest2 Ptr()<br>   method testret2:Ttest2()<br>EndType<br><br>thx :) <br><br></td></tr></table><br>
<a name="506113"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sweenie</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I like to know too, but one thing is certain...<br>This addon has saved me ALOT of work.<br>Now I won't need to break down the Irrlicht classes into callable functions, I just need to declare them with Extern Type and voila!, they work in Bmax.<br>Luckily almost every classmember in Irrlicht is declared as virtual. <br><br></td></tr></table><br>
<a name="506120"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> thats funny... im working on irrlicht as well as a learning experience :)  unfortunately/fortunately i already have everything wrapped as extern functions and the core namespace (with some extras) already done as bmax types.  another week or two and it probably would be ready to rumble.  would you be interested in pooling resources sweenie to get Irrlicht up and running quicker?  at this point i want to use the new extern typing, which means i will need to redo most everything i have already done :)  but i think it will be cleaner.  just need to get a few questions worked out. <br><br></td></tr></table><br>
<a name="506129"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Red Ocktober</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sweenie, gman... are you guys familiar with the irrlichtNX project... and if there is a mac port running around anywhere???<br><br>--Mike <br><br></td></tr></table><br>
<a name="506137"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> not familiar with irrlichtNX red :(  as for the mac version... as far as i know there still is not a mac port.  also, i have been thinking and have decided to stay the course since going back now will take significant time.  if all goes well with my time in a couple weeks i should have a working irrlicht mod with the irrlicht distribution samples converted.  on a side note, the irrlicht mod im doing is actually broken into 2 mods, similar to blitzmax opengl support.  the base mod has the irrlicht engine wrapped up and exposes the wrap functions with extern, while the second mod implements blitzmax types for the irrlicht engine. <br><br></td></tr></table><br>
<a name="506829"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Why two padding functions for example, and why do the functions need to be virtual? <br> <br></div><br><br>It is generally good practice when writing C++ classes with virtual methods to also provide a virtual destructor.<br><br>I wont go into the 'why' of this, but it turns out that virtual destructors (under MINGW and MSVC anyway) actually require 2 versions - one for dynamic 'delete' style destruction and the other for static 'going out of scope' style destruction.  (From memory - I looked into all this when I was learning c++ ages ago now and it's a bit hazy now).<br><br>Whatever, a virtual destructor is the equivalent of 2 methods, hence the 2 _pad() methods.<br><br>COM objects, however, do not use virtual destructors, so there is no padding required.<br><br>As for why the c++ methods have to be virtual, this is because c++ non-virtual methods aren't actually methods in the Max sense - they are just concrete functions. And, due to c++ 'name mangling', finding the 'symbols' for such functions is tricky.<br><br><div class="quote"> <br>also, i have a Q about return types. how do you return an instance instead of a pointer?<br> <br></div><br><br>You can't.<br><br>c++ 'values' can have copy constructors/destructors and all sorts of weird stuff in them that is well beyond Max's ability to deal with. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
