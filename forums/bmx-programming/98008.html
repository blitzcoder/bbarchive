<!DOCTYPE html><html lang="en" ><head ><title >BlitzMax 1.48  undefined reference to `__umoddi3'</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >BlitzMax 1.48  undefined reference to `__umoddi3'</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >BlitzMax 1.48  undefined reference to `__umoddi3'</a><br><br>
<a name="1142018"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Afke</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>Can someone help me to solve error msg:<br><br>C:/BlitzMax/lib/libmingwex.a(pformat.o):pformat.c:(.text+0x355): undefined reference to `__umoddi3'<br><br><br>pantson.Theora v2.2 Mod  BlitzMax 1.48 ,everithing else works fine <br><br>Thanks, <br><br></td></tr></table><br>
<a name="1142022"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Did you try to recompile the module?<br><br>What version of MinGW are you using? (I'm assuming you're on windows?) <br><br></td></tr></table><br>
<a name="1142334"></a>

<a name="1142356"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Afke</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>Sorry for delay.<br><br><br>I tried with  few MinGW versions  ,and yes of course I recompile the modules with new version and copy :( ar.exe , ld.exe and libraries ) from MinGW to BlitzMax.<br>The problem is with pantson.Theora v2.2 because BlitzMax 1.48 use recent Version of MinGW .<br><br>I don't know how to solve this problem ,I will be grateful for any help.<br><br>Thanks<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1142401"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >grable</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Its a 64-bit MOD, for hardware without direct support.<br>The suggested fix is to link to libgcc.a as well. <br><br></td></tr></table><br>
<a name="1142565"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I double-checked mine, and it worked fine under blitzmax 1.48, GCC 4.6.1, under windows 7 x64 -- however, it turned out that I was still had pantson.theora v2.1 installed instead of 2.2<br><br>Download the 2.2 version -- compiled just fine, but it seems that the download didn't include the .bmx sample code that came with the older version... The old samples ran just fine for me using the 2.2 module, though.<br><br>So... No idea what is causing the problems for you, but at least it does look like the 2.2 module and blitzmax 1.48 -are able to work together OK... <br><br></td></tr></table><br>
<a name="1142691"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Afke</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you guys for your help I will try GCC 4.61 , my game is Multi threaded . <br><br></td></tr></table><br>
<a name="1142732"></a>

<a name="1142733"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Afke</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I still don't have luck with it :( <br><br>Blitzmax 1.48, GCC 4.6.1, under windows 7 x64  pantson.theora 2.2 <br>I get errors when I try to run play.bmx example <br> <br>C:/BlitzMax/lib/libmingwex.a(pformat.o): In function `_pformat_int':<br>C:\MinGW\msys\1.0\src\mingwrt\mingwex/../../mingw/mingwex/stdio/pformat.c:496: undefined reference to `__umoddi3'<br>C:\MinGW\msys\1.0\src\mingwrt\mingwex/../../mingw/mingwex/stdio/pformat.c:497: undefined reference to `__udivdi3'<br>C:/BlitzMax/lib/libmingwex.a(pformat.o): In function `_pformat_xint':<br>C:\MinGW\msys\1.0\src\mingwrt\mingwex/../../mingw/mingwex/stdio/pformat.c:595: undefined reference to `__chkstk'<br>C:/BlitzMax/lib/libmingwex.a(pformat.o): In function `_pformat_emit_radix_point':<br>C:\MinGW\msys\1.0\src\mingwrt\mingwex/../../mingw/mingwex/stdio/pformat.c:901: undefined reference to `__chkstk'<br>Build Error: Failed to link C:/BlitzMax/mod/pantson.mod/project/play.exe<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1142734"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Where did you download your version of MinGW?<br><br>this is the one I'm using (which was the version last recommended by BRL)  <a href="http://www.xlsior.org/temp/mingw-7.2.exe" target="_blank">http://www.xlsior.org/temp/mingw-7.2.exe</a><br><br>(Remember to recompile all modules if you switch MinGW releases, or you may run into issues) <br><br></td></tr></table><br>
<a name="1142737"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Afke</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, I will try again with your link .<br><br>I am recompiling :) Thanks again. <br><br></td></tr></table><br>
<a name="1142742"></a>

<a name="1142743"></a>

<a name="1142744"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Afke</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well,<br><br>I Install fresh copy of Blitzmax 1.48 and mingw-7.2.exe and pantson.theora 2.2 <br><br>It compiles fine but when I run example <br><br>I got this error msg :<br><br>C:/BlitzMax/lib/libmingwex.a(pformat.o):pformat.c:(.text+0x355): undefined reference to `__umoddi3'<br>Build Error: Failed to link C:/BlitzMax/mod/pantson.mod/project/play.exe<br><br>Which samples do you run  ?<br><br><br><pre class=code>
Import pantson.theora

Graphics 1024,768,32

PlayTheora("Elephants_Dream_1024.ogv",0,0,1024,768,True)
</pre><br><br><font class="tiny">Last edited 2012</font><br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1142756"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's the same sample I ran, no error here...<br><br>Noticed that the headers still claim it's theora 2.1, though, although I'm almost certain that it's the 2.2 download.<br><br>Just in case, here's a copy of my zipped up pantson.mod folder...<br><a href="http://www.xlsior.org/temp/pantson.mod.zip" target="_blank">http://www.xlsior.org/temp/pantson.mod.zip</a> <br><br></td></tr></table><br>
<a name="1142822"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Afke</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks man,<br><br>I really don't understand what I am doing wrong  again same error msg .We are using same versions,it looks like everything is same ,but didn't work again for me. <br><br>Could you please send me your libmingwex.a please just to eliminate that possibility. <br><br></td></tr></table><br>
<a name="1142859"></a>

<a name="1142860"></a>

<a name="1142861"></a>

<a name="1142862"></a>

<a name="1142863"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Think I've got it... I initially got the same error on 64-bit Win7 (even with just the <i>Import panston.theora</i> line), but after much Googling, perusing of BMK source, fiddling with env vars, etc, I can now build and run, so try this:<br><br>· Go to <i>Control Panel\System and Security\System -&gt; Advanced system settings -&gt; Environment Variables</i> and create a new environment variable called BMK_LD_OPTS, giving it this value:<br><br><pre class=code>
-lmsvcrt -lgcc
</pre><br><br>Like so:<br><br><img src="https://dl.dropbox.com/u/3592022/bmx/envvars.png"><br><br>· Log off and back on. (In theory, restarting any program that accesses a new/modified env var should be enough, but I specifically had to do this.)<br><br>· Run the above test program and hopefully it'll now be working.<br><br>This seems to be the only way to do it that I can find -- just importing these libs in-program doesn't work, as apparently there is a dependency between the libs that only goes one way... or something...<br><br>BMK_LD_OPTS appears to be an undocumented way to add GCC linker options (see <i>BlitzMax\src\bmk\bmk_util.bmx</i> if interested.)<br><br>Disclaimer: don't totally know what I'm talking about... I was just winging it!<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1142865"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah!<br><br>Come to think of it, I'm not using the stock bmk.exe on my computer, but am using Brucey's version, that could be why it was working OK on my machine? <br><br></td></tr></table><br>
<a name="1142866"></a>

<a name="1142867"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Afke</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you ,<br><br><br>It finally works , thank you very much .<br><br>xlsior<br><br>thank you too<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
