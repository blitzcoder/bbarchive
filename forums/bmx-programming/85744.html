<!DOCTYPE html><html lang="en" ><head ><title >FryPad - virtual control system for game input</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >FryPad - virtual control system for game input</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >FryPad - virtual control system for game input</a><br><br>
<a name="970593"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Fry Crayola</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>FryPad</b> is a free module that provides an abstract control interface that sits between your game logic and the various control systems (keyboards, joypads etc.) the player wishes to use.<br><br>After creating a virtual joypad, you add new buttons or control sticks to it (in any combination and number), and map these to keys, joystick buttons, axes and the pov hat, and also the mouse buttons.<br><br>Then, when your game wants to poll for any control input, instead of managing all the different control options available, you simply poll the virtual joypad then retrieve the information from its various controls as you desire.<br><br>Both virtual buttons and control sticks support JoyHit() and JoyDown() equivalents, whilst sticks also provide direct access to their axes, and the angle at which the stick is pushed. Buttons and sticks may be either digital or analogue depending on your needs, and you can individually set the deadzones on any virtual control.<br><br>You can map any number of real inputs to a virtual control, although take care not to map the same input to multiple controls as it can cause difficulties, particularly with the JoyHit() equivalents (as the number of hits gets cleared).<br><br>Benefits of this can include mapping both keyboard and joypad controls to the same virtual control, allowing the player to change between keyboard and pad control at a whim. You can also use it to have several buttons carry out the same action, such as both the dpad and the analogue stick of a pad being used for control. Also, it's easily redefinable, clearing the mappings and adding new ones to provide the same functionality with a different set of keys.<br><br><a href="http://www.youshare.com/Guest/121100801bc03244.rar.html" target="_blank">Get it here</a>. <br><br>The download comes complete with a sample program which will set up a virtual joypad with all the functionality of an Xbox 360 controller, together with keyboard controls to use it alongside a 360 pad. It's fully commented with explanations on how things are set up.<br><br><br>The module's totally free for you to use and abuse as you wish. A bit of credit's always nice if you do use it for anything but that's entirely up to you. Any problems, just let me know. I'm not currently looking to add new features unless there are any terrific ideas, but definitely if any bugs crop up I'll be eager to fix them. <br><br></td></tr></table><br>
<a name="970596"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Awesome, thanks a lot! <br><br></td></tr></table><br>
<a name="970739"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >siread</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice one Fry. I will check it out. :) <br><br></td></tr></table><br>
<a name="974580"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >siread</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is pretty sweet. One thing... Shouldn't TFryPadStick.Angle() return ATan2(y, x)? <br><br></td></tr></table><br>
<a name="974594"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Htbaa</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Download link seems to be broken. <br><br></td></tr></table><br>
<a name="975238"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Fry Crayola</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Odd. I'll get that sorted out when I post up the latest version tomorrow.<br><br>Edit: That'll have to wait for the weekend, I've got a bunch of stuff on over the next few days. Sorry about any delay.<br><br>Regarding the TFryPadStick.Angle() thing, I guess that's just a remnant of some old code I had. I never actually looked into ATan2 when I was making this a couple of weeks ago, just used old stuff. Swapping X and Y obviously changed where 0 degrees was. Easily tweaked though.<br><br>The newer version tidies some things up, allows you to access the buttons and sticks of the pad without having to store the objects themselves all the time (useful for just passing the whole joypad as a parameter) and a few other things. <br><br></td></tr></table><br>
<a name="978736"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Volker</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> *Sigh*, the download  is broken. <br><br></td></tr></table><br>
<a name="978795"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've uploaded it here for now:<br><br><a href="http://www.hi-toro.com/blitz/frypad.rar" target="_blank">http://www.hi-toro.com/blitz/frypad.rar</a><br><br>(Fry, just let me know if you want it removed -- I'm just assuming the download link has expired.) <br><br></td></tr></table><br>
<a name="978826"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Volker</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very accommodating, thanks. <br><br></td></tr></table><br>
<a name="979055"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Fry Crayola</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cheers James.<br><br>I'll have a newer version hosted at the weekend. Of course, I said that last time but I mean it this time! <br><br></td></tr></table><br>
<a name="979082"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Volker</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Fry,<br><br>the 'control test.bmx' works fine with my Saitek X52 Flight Controller.<br>But with my Saitek Gamepad I get no response from the prg.<br>The system shows it and a 'Print joydown(1,0)' works fine<br>under Blitzmax.<br>Do you have a hint where to start? <br><br></td></tr></table><br>
<a name="979291"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Fry Crayola</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> If JoyDown(1, 0) works fine, and that button has been properly mapped to a frypad button, then it ought to work. One exception is if the same real button is mapped to two or more virtual buttons, although that only affects hits and not buttons held down.<br><br>If you haven't already, try commenting out every button mapping bar button 1 and see if it works or not.<br><br>I've currently only tested it with a 360 pad. I'll give it a whirl with my PS2 pad adapter as well, but that's it for my own testing. <br><br></td></tr></table><br>
<a name="979355"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Volker</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's not in your mod, it looks like a bug in Blitzmax.<br>The gamepad can't be read, whatever port I use, if there<br>isn't called Joycount() before.<br>My X52 doesn't need it, curiously.<br>Perhaps you want to call it once in the sample to<br>avoid others spending their time for this s**t. <br><br></td></tr></table><br>
<a name="979362"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Fry Crayola</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Odd issue. Thanks for the heads up on it, I'll add it to the code. <br><br></td></tr></table><br>
<a name="979542"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Fry Crayola</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Uploaded the latest version <a href="http://www.youshare.com/Guest/121100801bc03244.rar.html" target="_blank">to here</a><br><br>Adds the fix for angles that Siread pointed out, allows you to flush the controls, lets you access the buttons and sticks directly on the virtual pad instead of retrieving them first (much cleaner), and a few other things.<br><br>I'll still be adding new things from time to time, as I'm working on things that use it and adding features as I need them.<br><br>As ever, any questions just ask and I hope I'm alert enough to see them! <br><br></td></tr></table><br>
<a name="979555"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Volker</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Fry, I finished today the integration of joypad<br>an keyboard steering in my little project. Works really fine<br>here and the structur of the mod is very nice. <br><br></td></tr></table><br>
<a name="979590"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >siread</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cheers fry. I will be updating my New Star Framework project with this. :) <br><br></td></tr></table><br>
<a name="1038821"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >doswelk</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's me resurrecting another dead thread!<br><br>Thanks for this it has been most helpful and useful tool when coding stuff for myself.<br><br>BUT...<br><br>My 4 year off and on project (first ever game I've written) is nearly there<br>, except for one snag.<br><br>I can now (using Frypad) easily test for joypad/keyboard movement as long as the config I want to use is used.<br><br>How do I (using Frypad) let the user re-map the keys/joypad controls as they want?<br><br>I know I just need to have some code to wait for input from a keyboard or joypad but seem a bit thick of how I do it!<br><br>Can some helpful soul post up a bit of code to help me?<br><br>Thanks <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
