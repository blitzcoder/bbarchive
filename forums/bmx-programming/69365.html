<!DOCTYPE html><html lang="en" ><head ><title >IGlass and Grey Aliens Framework</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >IGlass and Grey Aliens Framework</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >IGlass and Grey Aliens Framework</a><br><br>
<a name="775867"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cartman</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Has anyone used both IGlass and Grey Aliens Framework together in a game? I'm wondering what problems people have run into with reguard to overlap in the code. I've used both separatly, but I'm looking to combine them and wanted to know if there are areas that may conflict.<br><br>Thanks <br><br></td></tr></table><br>
<a name="776002"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Filax</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you can use standar bmax 2D functions, i think that not a problem tu use iglass with a framework ? :) <br><br></td></tr></table><br>
<a name="776134"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arowx</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi I'd be interested to see how they get on although I can't see any major problems unless there is an issue with the drawing order, e.g. Framework under (draws before IGlass).<br><br>On a side line has anyone worked on the IGLass Studio code, the version I have looks gorgeous but seems to be a bit unstable (I think it's version 0.8) ?<br><br>Hey a combined Framework and IGlass editor would be cool, there I go again daydreaming!<br><br>Cheers<br><br>Merx <br><br></td></tr></table><br>
<a name="776282"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've never used IGlass I'm afraid, I don't even know what it is! A GUI I guess... <br><br></td></tr></table><br>
<a name="776306"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cartman</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Merx,<br><br>That's exactly my concern. They both have their own drawing routines and I'm conerned about how to get them to work together. <br><br>Grey,<br>IGlass has alot of GUI elements and makes them very easy to use. <br><br>A combination of your great framework (which handles all the idiosyncrasies around blitzmax and getting it to play well in Windows) and IGlasses very cool library of GUI controls would be a great marriage.<br><br>I'll probably do some experiments with it and see what I can come up with. <br><br></td></tr></table><br>
<a name="776314"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TaskMaster</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why wouldn't they both work?  Just have the one you want to draw on top do its drawing last. <br><br></td></tr></table><br>
<a name="776366"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah try just modifying TGame.ScreenDraw() and calling the IGlass draw at the point you feel is appropriate.  Probably before ShowPaused()<br><br>Does the GUI using any timing or counters at all, like Delta time etc? <br><br></td></tr></table><br>
<a name="776582"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Filax</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Absolutly not :) just pure 2D blitzmax command. <br><br></td></tr></table><br>
<a name="776605"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cartman</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK. That's all I needed to know. I'll begin tinkering with them soon. <br><br></td></tr></table><br>
<a name="776657"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arowx</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Gents,  just added some IGlass demo code to my current prototype and got a really messed up UI.  Not sure whats going on but will look into it...<br><br>Setting Blend to Alpha was the main problem needed to be reset to Solid before calling on IGL_RefreshGui(). <br><br></td></tr></table><br>
<a name="776835"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sounds like a good tip.  Most stuff in my framework is drawn with alpha blend unless you override it. <br><br></td></tr></table><br>
<a name="778427"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cartman</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I can't get any of the MouseEvent funtionality in Iglass to work. Anyone know of a way to turn off the mouse monitoring that's going on in the Framework, so that I can just let Iglass do it? <br><br></td></tr></table><br>
<a name="778463"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's probably because of TGame.DoPeekEvent() which intercepts the mouse events to read them into the TMousePointer coords, and also the button presses.  Hmm, you really need that function in my framework.  Is there a way to "reraise" events so that IGlass can pick them up?  I presume IGlass has some kind of logic call that's separate from the draw?  It would need to be called AFTER DoPeekEvent if you reraised the mouse events.  Or maybe you can find out where IGlass stores it's mouse coords (or if it reads them "live") and overwrite those values with the ones read in DoPeakEvent.  That would work, probably, I don't have I Glass so I can't say for sure. <br><br></td></tr></table><br>
<a name="778630"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cartman</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Correct me if I'm wrong Filax(and I'm wrong alot), but I think the mouse events in IGlass are embedded in the .o files and not accessible from within the .bmx code. The only thing I can figure out so far, is to use the Frameworks mouse calls to tell IGlass how to draw its mouse pointer. It's a hack but it seems to be working for me currently. I'm just looking for something a little cleaner. <br><br></td></tr></table><br>
<a name="779435"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Filax</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> You are right about mouse, but try to look under <br>the class mouse, if i remember the pointer and<br>the mouse event are stored and executed here.<br><br>But for the rest i'm obliged to rebuild some mouse<br>events, to be up than a simple mousehit and mousedown<br>Iglass use is hown vars to check the mouse events.<br><br>If i understand there is a conflict between the Grey Alien <br>framework and Iglass about mouse ? <br><br>If you want i can send to you a special Iglass version<br>without module. To help you to hack mouse code :) <br><br></td></tr></table><br>
<a name="780246"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cartman</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Filax. I'll take a look and see what's going on. <br><br></td></tr></table><br>
<a name="780263"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Filax</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Glad to ear that :) <br><br></td></tr></table><br>
<a name="780724"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cartman</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK. Here's what I've come up with. You can read the full text here: <a href="http://piddlepup.com/node/95" target="_blank">http://piddlepup.com/node/95</a><br><br>What I did<br>==========<br>I started with the TemplateProject.bmx file that comes with the Framework. This is a simple bmx project that simply shows a screen with a little block of a cursor. It uses the base minimum of the Framework. I thought this would be a good start, since my own code has been customized heavily for my game needs and my Mac port. I added to the TemplateProject.bmx code Filax's examples of windows, buttons and input boxes. All of these worked as they did before but now they were in the Framework. <br><br>Steps<br>=====<br>In TemplateProject.bmx:<br><br>1. Add these lines to the Include section of the code: <br>     Include "./IGL_Classe/Inc_IGlass.bmx" <br>     IGL_InitGUI(1)<br>2. In the LoadData() function, I commented out this line(because it messed up the placement of the buttons and their labels): <br>     AutoMidHandle True<br>3. In the CleanUp() function, I added this line:<br>     IGL_ClearGui()<br><br>In clean_commontypes.bmx:<br><br>1. In the TGame:GraphicsCreate() method, comment out this line:<br>     ccDisablePolledInput()<br>2. In the TGame:ScreenDraw() method, add this line below DebugPrint():<br>     IGL_RefreshGui()<br><br>Add any IGlass code you want to run (see the IGlass examples).<br><br>Conclusion<br>==========<br>These changes are by no means the only ones you'll need to make, however they appear to give me the base functionality. I'm sure there will be more customizations necessary to fix things I've broken in the Framework by reenabling the polledinput, but I believe that will be a small price to take advantage of both of these very helpful libraries. <br><br></td></tr></table><br>
<a name="780892"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sounds great Keith, thanks for your hard work on this.  I've bookmarked this page so I can point people to it in the future. <br><br></td></tr></table><br>
<a name="781104"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Filax</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> I Agree, sound good :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
