<!DOCTYPE html><html lang="en" ><head ><title >Better Linking?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Better Linking?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Better Linking?</a><br><br>
<a name="857869"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> There has to be a better way of linking than I'm doing with my game engine. It's a big engine now, with probably 100+ source files, and that doesn't include the graphics engine or any of the modules I use.<br><br>Currently I have a main source file which imports all source files which are completely without dependencies ( very few ) and includes files which have dependencies. It takes a good thirty seconds to compile and link the whole thing.<br><br>Ideally I'd import everything, but as I say, most everything has dependencies. For example, many of my classes have the ability to write themselves out to an xml node. So they have a SaveToNode(Node:TXmlNode) method which passes an XML node from bah.libxml and writes out the object. So if I import all these files, they now each need to import bah.libxml. Now I know that the linker is smart and will only link the library once, but I don't really like the idea of cluttering up every source file with includes and imports at the top. I much prefer doing all of that in one file.<br><br>Am I missing a better way of doing this or do I just have to grit my teeth and decide whether 30 seconds for a small change or cluttering up every source file with imports is the lesser evil? <br><br></td></tr></table><br>
<a name="857910"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's the includes that are slowing you down. If you were able to Import everything the build would obviously be much faster - what with not having to create the large main file from lots of separate ones.<br><br>You have SuperStrict at the top of all your files, don't you? (at least those that you Import), a few lines of extra Imports won't hurt :-)<br>C works the same with it's #includes, doesn't it?<br><br>It's not clutter :-)<br>And, it depends how often you build? If my stuff took 30 seconds to build everytime I had to test something I'd be a tad frustrated... <br><br></td></tr></table><br>
<a name="858087"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well I tried converting a few includes to imports and the compiler started throwing errors like "cannot convert from MyLongAndMeaninglessType to MyLongAndMeaninglessType" which makes no sense because MyLongAndMeaninglessType was imported well before that, so I guess I'll have to stick with the 30 second compiles. <br><br></td></tr></table><br>
<a name="858092"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GW</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've had this same problem with my project that includes many files. <br>The way BMax handles imports Bull***t! <br>the Include directive is the only thing that works for large projects. <br><br></td></tr></table><br>
<a name="858095"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> the Include directive is the only thing that works for large projects. <br></div><br>which is obviously completely untrue :-p<br><br>If your design is good, you can use Imports without any issues at all.<br><br>I've never used Include since I started with BlitzMax, and I've got one or two smallish projects which prove the design point. <br><br></td></tr></table><br>
<a name="858131"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DavidDC</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> @the Include directive is the only thing that works for large projects. <br><br>My current project is over 250 .bmx files without a single include. <br><br>But I still suffer Gabriel's problem of slow build times. It's a tough one to overcome. If my design was a little cleaner then I'm sure I could have split it into more modules than I have. But the final structure isn't always obvious when you start out, no matter how well intentioned your design graphs... <br><br></td></tr></table><br>
<a name="858150"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blueapples</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> The machine you're on can make a huge difference. For me, I see drastically different compile times between my work machine (Windows 2000), home PC (Windows XP Media Center) and my laptop (Mac OS X).<br><br>Maybe get a faster machine or upgrade? It's a bit of a drastic move but if it's really bothering you I'd say it's worth it. <br><br></td></tr></table><br>
<a name="858182"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Importing doesn't really work for me.  My code files always reference each other, so most of my code does not work as a neat little self-contained unit. <br><br></td></tr></table><br>
<a name="858237"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've always used include (and suffered long compile times - was thinking of upgrading the PC) but recently one of my framework customers turned my framework into a module which I can now import.  I think it's probably the best way to go... <br><br></td></tr></table><br>
<a name="858291"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> i always try to put as much code into a module as possible.<br>The way blitz handles modules and imports is pretty good <br><br></td></tr></table><br>
<a name="858370"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry, I should have been clearer. The machine it's being compiled on is already about as fast as you can currently get.  I'm actually surprised it compiles as fast as it does, considering the size of the source.<br><br>The game engine is already a module. It's just a very, very big one. About 3.5 megabytes of source, not including various modules which it imports itself.<br><br>Most objects interact with other objects, so creating a structure where I could group sections isn't easy. And as I said earlier, even when I do, I get the compiler throwing silly errors.<br><br>As for whether C/C++ work the same way, I don't know, probably. I've never written anything remotely approaching this size in C++. I know that I never had any problems with my TV module, but I guess that's not huge. <br><br></td></tr></table><br>
<a name="858372"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> how many lines of code do you have that are not in modules?<br><br>how many incbins do you have? <br><br></td></tr></table><br>
<a name="858377"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I always do the best of both worlds: Clusters like Java<br><br>-&gt; I import subsystems in the main file. These subsystems consist of stuff thats interrelated and therefor need to be included.<br><br>This gives the benefit of no need to recompile subsystems as well as enclosed variable spaces (I often used private globals etc).<br><br>Stuff that I think is well enough structured etc eventually makes it into a module, but that does not happen until it works etc as debugging is really annoying with modules. <br><br></td></tr></table><br>
<a name="858384"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> how many lines of code do you have that are not in modules? <br></div><br>Eleven.<br><br><div class="quote"> how many incbins do you have?  <br></div><br>None. <br><br></td></tr></table><br>
<a name="858450"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> hmm ive seen adverts in magazines for programs that can use multiple computers to compile a C++ project.<br><br>I wonder if blitzmax uses all the cores on a CPU to compile a program?<br><br>I take it that it would be a lot faster if you could create a DLL?<br>I dont know if its possible to create one with blitzmax source code <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
