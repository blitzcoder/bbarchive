<!DOCTYPE html><html lang="en" ><head ><title >(good) networking (UDP) libs/code for BMax?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >(good) networking (UDP) libs/code for BMax?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >(good) networking (UDP) libs/code for BMax?</a><br><br>
<a name="918378"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gameproducer</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I see pretty many UDP/network threads in these forums. What's the consensus: what's a good way to handle UDP communication? <br><br>Raknet? (is it up-to-date?<br>Enet? (anyone using?)<br>Bnet? (what's the status of this?)<br><br>I'd be especially interested to hear comments from those who actually use some lib in their networking code... <br><br></td></tr></table><br>
<a name="918620"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bremer</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I could use something with a simple setup which is easy to use. Something where you do not need to know a whole lot about networking. Almost plug and play type deal. Does anyone have any input and recommendations on such? <br><br></td></tr></table><br>
<a name="919258"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gameproducer</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm, zawran, I've done search on these forums and to me it sounds like it's "Big NO".<br><br>There's many libs out there but haven't seen a single "established &amp; commonly accepted one that would be updated &amp; have support".<br><br>I've personally done networking with Blitz3D, but wanted to know if there was some ready made in Bmax. I suppose I could start coding the lib so that others could use it as well (plug &amp; play -style networking lib for bmax). <br><br>Question: what kind of game are you making? and what sort of multiplayer/networking features you'd be after? <br><br></td></tr></table><br>
<a name="919305"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >smilertoo</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was after a lib as well suitable for realtime arcade type game, upto 4 players. Not much there for bmax. <br><br></td></tr></table><br>
<a name="919336"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arowx</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I though GameNet was the default built in network/games library, never used it though!<br><br>It looks as though you once you have figured out how to create a set of GNet objects then it's just a case of updating them and reading the changes? <br><br></td></tr></table><br>
<a name="919359"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bremer</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> what kind of game are you making? <br></div><br><br>What I was looking for was something that could handle a RPG game in the style of Dungeon &amp; Dragons where players move their party around using a 2D tilebased landscape and enter dungeons to fight monsters. (limited number of players since its just something for myself and a few friends to play with, probably never more than 8 at any given time)<br><br>What I wanted was to have all information stored on the server, which would just be a pc I have running online via my broadband connection, and when players have their party in a fight or if they find new treasures, then all that information is calculated on the server and relayed to the players.<br><br>Their actions, which would not be realtime, but rather turnbased would be sent to the server, it processes it and returns the result. This way the players would not be able to mess around with scores or items as everything is stored on the server and verified when changes are made.<br><br>This would also allow me to continously update the game world with new locations, new treasure items and such without having to update each client as maps and such are downloaded when they log on to play.<br><br>I am fairly handy with using blitzmax and have done all sorts of coding except for networking. I did look into gnet at some point but found it difficult to get to where I wanted, or perhaps I just did not get how it works.<br><br>So I have been on the lookout for something already made where there were a simple set of function calls that would handle the behind the scenes stuff and where I would not have to learn a lot about networking.<br><br>If nothing comes around I will probably be giving gnet another look over once I get somewhere with the game where it would have to start communicating via the internet. At the moment its mostly just a few different pieces of test code and some ideas. But its something I have been wanting to make for a long time now. <br><br></td></tr></table><br>
<a name="919690"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gameproducer</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> So, zawran, your system looks like very general server-client architecture:<br><br>- server is authorative and handles all the world updates based on client input<br><br>Question: how many objects (locations, items, maps, characters, etc.) do you think your game would have? I mean: how many object info needs to be sent from the server to the clients... Any rought estimations?<br><br>I didn't see anything about "input" in gnet, so it might not be a solution for you... but maybe it's just me. <br><br></td></tr></table><br>
<a name="920324"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bremer</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> hmm. no an easy question. So far I am planning on each playing having a team of 4 characters. Each character has a lot of stats to keep track off, but not all are utilized at all times. So the amount of data to go to and from the server probably will not be that high.<br><br>As an example, if a player tells a character to hit a monster, a die roll of a d20 is rolled, so the players client would ask the server to provide a random number between 1 and 20, which is then added to various modifiers and checked against the monsters armor score on the server. If its a hit, the server reports back to the client that a hit is made, and the client asks the server for a damage value based on the stats of the character which is stored on the server. The server calculates the damage and send it back to the client which tells the player what kind of damage was made.<br><br>So all in all I do not think that a lot of data needs to be transfered at the same time, probably just a few numbers and instruction codes at a time.<br><br>Its a game that I have been thinking about making for a long time, but I just haven't found time to put things in motion, so I have mostly just been looking around for what I might need should I manage to find the time. And lately I have been wanting to allocate time for it, which is why an easy to use network module would be a good push for me to get started on actually doing something about it. <br><br></td></tr></table><br>
<a name="920463"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gameproducer</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> sounds pretty doable... and pretty simple in fact.<br><br>I'd say you can plug networking support later... no need to have it right now :) <br><br></td></tr></table><br>
<a name="920751"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >verfum</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> The last time I looked at Neworking, especially for RPG style games there is nothing out there exmplaining or giving examples on how to actually do it, just lots of people waffling on about it, it's far from easy to do, the router side of it was complex, all examples I ran never worked and all were just simple packet sending, nothing to do with games, sending messages, I think there is a massive leap between sending messages and moving characters around. <br><br></td></tr></table><br>
<a name="920785"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gameproducer</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeh, at the moment there's not necessarily a good "plug &amp; play" kind of networking lib available. GNet seems pretty simple, but even it has some limitations... <br><br></td></tr></table><br>
<a name="920919"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >verfum</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's a good thing and a bad thing, it's good to get people trying to work it out for themselves but at the same time it's scaring not so experienced programmers like myself.  It would be good if a load of people on here put together a simple example of moving some characters around a basic screen using RakNet or whatever, nothing crazy just like rectangles etc.  Just demonstrating positioning. <br><br></td></tr></table><br>
<a name="920921"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mahan</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> verfum: Searching old posts in the forum i found this quote:<br><br><div class="quote"> <br>Mark posted one: www.blitzbasic.com/tmp/gnetdemo.zip<br> <br></div><br><br>I'm at work and haven't tried it out, but I think it's a gnet multiplayer demo (2D). Though it could be useful. <br><br></td></tr></table><br>
<a name="920927"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pls</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I used gnet on "<a href="http://www.deadpixelgames.com" target="_blank">Su Doku Live</a>" and it was pretty straight forward.<br><br>On my new project I am probably going to use Raknet (the cross-platform wrapper is mentioned in the these foruns). My first tests (on the mac) went really well.<br><br> PLS <br><br></td></tr></table><br>
<a name="920965"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >verfum</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Mahan:  Yeah I did see that, from what I remember it was really basic, but don't quote me.<br><br>pls: Excellent!  how about a cut down block of code showing it off then :) <br><br></td></tr></table><br>
<a name="920966"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >verfum</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> mahan:  Just taken a quick peek and I take it back, it's not basic, looks good, might have a play at some point :) <br><br></td></tr></table><br>
<a name="921124"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pls</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just hacked the sample test code that comes with the wrapper:<br><br>- change the message type from raknet ping to something else (or just type 100 at the message type)<br>- compile to versions (one has server and another as client); just change the flags at  the top of the code<br>- See it working<br><br> Later I also tried changing from sending bytes to sending chars, and tried it as a simple chat program...  worked fine, erased the code, decided that I will use it (the wrapper).<br><br> PLS <br><br></td></tr></table><br>
<a name="921138"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MGE</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> pls - which wrapper? Please post a link, thanks! <br><br></td></tr></table><br>
<a name="921148"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MGE</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> I want to write 2 player internet pong. How would I do it in Bmax? <br><br></td></tr></table><br>
<a name="921314"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Foolish</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does anybody have a "non-chat" example using Raknet? <br><br></td></tr></table><br>
<a name="921555"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >verfum</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think RakNet is the one which is in despirate need of good examples, only chat examples available, we need some game related examples.  I'll have another crack at this soon, I'm working on Physics at the mo. <br><br></td></tr></table><br>
<a name="921566"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mahan</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> i posted about www.blitzbasic.com/tmp/gnetdemo.zip but unfortunaly it seems this example is outdated and wont even compile with the latest gnet from svn.<br><br>It was probably this post that made me look at brl.gnet again and got me started on <a href="/posts.php?topic=81799" target="_blank">MaGNet</a> last friday - shameless ad :)<br><br>brl.gnet itself should be plenty good for a small multiplayer game (~2-8 players) and using MaGNet on top of that you don't even have to deal with the "slots" of GNet but you can have local objects and just update their native properties and read the native properties of remote objects.<br><br>I think this is a pretty neat approach for developers that are not networking experts (I know I am not) to be able to abstract all that networking stuff and just deal with local/remote objects and not have to parse messages and write lots of "plumbing" to move data back and forth between peers.<br><br>(I'll try to mobilize some energy to write a MaGNet example.) <br><br></td></tr></table><br>
<a name="921594"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Foolish</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> I did get GNET demo to work at some point.  If I can, anybody can, trust me.  <br><br>I am very appreciative that someone is working on the networking issue.  However, I had the impression that GNET will not work for low latency FPS kinds of games.  Raknet seems more geared to that.  Mahan, I would be happy to try out your library if you think I could do even up to a 4 player "action" game with your modified library.<br><br>If so, do you have any test projects you can share?<br><br>Networking is the only reason to look at Torque.  Of course, getting Torque to do anything else is a major pain in the butt.<br><br>I would much rather be using BMax. <br><br></td></tr></table><br>
<a name="921599"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mahan</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Foolish: I just <a href="/posts.php?topic=81799" target="_blank">updated</a> the lib post with a modified version of the gnet demo. Try it out yourself if you feel like it.<br><br>When it comes to latency i think GNet (in theory) should be pretty ok, but from i remember when i briefly checked Raknet is that it includes "smoothing" of movement. What i mean is that if one notifies Raknet of the direction and speed of something it can "estimate" the current location of something on all peers even if this location has not "arrived" yet due to latency (there is probably a very nice word that describes what i just said, I just don't remember it).<br><br>This "smoothing" is possible to do "on top of" gnet but gnet itself does not handle these issues. <br><br></td></tr></table><br>
<a name="921601"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Foolish</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think the word Raknet uses to describe it is interpolation.  The math around that is pretty easy.  So provided the message is sent with a timestamp, I ought to be able to figure it out.<br><br>Thanks for getting back so quickly.  I'll try out your code as soon as I can so I you can get some timely feedback - probably tonight. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
