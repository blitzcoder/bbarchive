<!DOCTYPE html><html lang="en" ><head ><title >multiple definition of `__bb_random_random'</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >multiple definition of `__bb_random_random'</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >multiple definition of `__bb_random_random'</a><br><br>
<a name="986125"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'd like to use two random number generators side by side! (I'm crazy like that) But I get this problem:<br><br>C:/Program Files/BlitzMax/mod/brl.mod/random.mod/random.debug.win32.x86.a(random.bmx.debug.win32.x86.o): multiple definition of `__bb_random_random'<br>Build Error: Failed to link H:\Astromania\Astromania.debug.exe<br><br>(I have no idea what that means either)<br><br>Here is the code I'm trying to run. It works if I remove one of the two random kinds. Considering they are both seperate modules, I can't think why it should be a problem. I'd be content with two seperate simultanious bah randoms if that would be possible!<br><br><pre class=code>Function sync_rand:Int(start, finish)
	Return bah.random.Rand(start, finish);
End Function

Function seed_sync(seed)
	bah.random.SeedRnd(seed);
End Function

Function misc_rand:Int(start, finish)
	Return brl.random.Rand(start, finish);
End Function

Function seed_misc(seed)
	brl.random.SeedRnd(seed);
End Function</pre> <br><br></td></tr></table><br>
<a name="986128"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GW</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You need to alter the names of the functions in Bruceys mod. <br>Or do what i did and just replace the brl.ramdom with Bruceys superior one. <br><br></td></tr></table><br>
<a name="986132"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not actually crazy - I actually need two generators. I notice that Brucey's MAPM mod comes with a generator in it too. Perhaps I will use that. <br><br></td></tr></table><br>
<a name="986160"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Considering they are both seperate modules, I can't think why it should be a problem <br></div><br>It's a "feature" of the BlitzMax namespace - in that there is a flaw which means that two modules with the same name (for example, "Random"), but in a different namespace ( "brl" and "bah" ) actually contain references of the same name - __bb_random_random. (rather than something like __bb_brl_random, I suppose)<br><br>The workaround is to ensure you only Import one of them. BRL.Basic and BRL.Retro both link to BRL.Random, iirc, so you may want to avoid those if you intend to use BaH.Random (or a module using BaH.Random).<br><br>BaH.Random is meant to be a drop-in replacement for BRL.Random, with a much improved cross-platform seed (i.e. you will get the same results from a specific seed on all systems - this is not the case for BRL.Random).<br><br>HTH<br><br>:-) <br><br></td></tr></table><br>
<a name="986163"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> t's a "feature" of the BlitzMax namespace - in that there is a flaw which means that two modules with the same name (for example, "Random"), but in a different namespace ( "brl" and "bah" ) actually contain references of the same name - __bb_random_random. (rather than something like __bb_brl_random, I suppose)<br><br>The workaround is to ensure you only Import one of them. BRL.Basic and BRL.Retro both link to BRL.Random, iirc, so you may want to avoid those if you intend to use BaH.Random (or a module using BaH.Random).<br> <br></div>Doesn't this defeat the complete purpose of namespacing on BlitzMax? I supose it's not a trivial change... but... maybe we could make Mark a suggestion to look at this whenever he has the time, or I am missing something? <br><br></td></tr></table><br>
<a name="986181"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tommo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> This "feature" also affects non-module codes. <br>For example, assume you have following files:<br><br>main.bmx<br><pre class=code>
Superstrict
framework brl.blitz
import "max2d/max2d.bmx"
</pre><br><br>max2d/max2d.bmx<br><pre class=code>
superstrict
import brl.max2d
</pre><br><br>If you compile main.bmx, you'll get a compile error like:<br><pre class=code>
YourPath/max2d/.bmx/max2d.bmx.debug.win32.x86.s [8]:
error: symbol already defined.
Build Error: Failed to assemble 
</pre><br>Compiler tries to use symbol "__bb_max2d_max2d"  for max2d/max2d.bmx, which is the same as the symbol brl.max2d is using, then the error is raised.<br><br>It's not a problem for general usage. But this is a flaw. <br><br></td></tr></table><br>
<a name="986218"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  maybe we could make Mark a suggestion to look at this whenever he has the time, or I am missing something? <br></div><br>Done. Several years ago. :-p<br>As you may surmise, there was/is no change forth-coming.<br><br>It is a known feature :-) <br><br></td></tr></table><br>
<a name="986223"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> It is a known feature :-)  <br></div><br>Another one... :D Anyway, it's been there so long and it seems it has not been a sedrious problem for anyone, so...<br>additionally, it seems it's not happening with types, so not really an issue for me. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
