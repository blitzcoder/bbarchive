<!DOCTYPE html><html lang="en" ><head ><title >Can someone explain the usage of VAR to me?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Can someone explain the usage of VAR to me?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Can someone explain the usage of VAR to me?</a><br><br>
<a name="493693"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> In the manual we have two demonstrations of the Var keyword:<br><pre class=code>
Function ReturnMultiplevalues(a Var,b Var,c Var)
	a=10
	b=20
	c=30
	Return
End Function

Local x,y,z

ReturnMultipleValues(x,y,z)

Print "x="+x	'10
Print "y="+y	'20
Print "z="+z	'30
</pre><br>and<br><pre class=code>
Local c[]=[1,2,3,4]
Local p:Int Ptr

p=c
Print "var p="+Var p	'1

p:+1
Print "var p="+Var p	'2

p:+1
Print "var p="+Var p	'3

p:+1
Print "var p="+Var p	'4
</pre><br>Firstly, why does Var come <i>after</i> the variable in the first example and <i>before</i> the variable in the second example?<br><br>In the first example, it looks like the variables are being passed "By Reference" so that the actual variables passed are affected by the function call.<br><br>In the second example, 'p' is pointing to the first element of the array 'c' and adding 1 to the pointer simply jumps to the next entry (which is one integer 'further up' in this case).<br><br>I basically get it, but just wonder if there's some significance as to why Var is not consistantly used in the two examples.<br><br>Thanks,<br>Russell <br><br></td></tr></table><br>
<a name="493863"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not sure what the difference is between before and after. But it's my understanding that Var lets you refer/ pass a specific variable to a function rather than copy it's value to another.<br><br>So with normal function parameters, you would pass some values to the function and it would then create new variables to put those values in. Those new variables would then be available inside the function as local. Modifying them wouldn't modify the original variables, since the data is a copy.<br><br>If you use Var when specifying the parameters of the function, you're defining that these parameters should a `reference to` real variables that you want to use. It creates a pointer to that variable. So instead of copying the value of the variable into anther local one inside the function, it actually lets you modify the original variable itself. The temporary local variable name is just an `alias` for that real variable. So changing the value of that local variable actually changes the content of the real original variable outside the function.<br><br>It's kind of like a per-variable way of making a variable temporarily Global for the purposes of using in a specific function, while not being Global to anywhere else unless also defined as such.<br><br>Function myfunct(b:Int Var)<br>   b:+1<br>End Function<br>Local a:Int=2<br>myfunct(a)<br>Print a<br><br>should print 3. The `b` variable, local to the function, isn't so much a NEW variable as it is a reference to the actual `a` variable. Manipulating the b variable actually manipulates the a variable, as if they are one variable. So the b variable, used with `Var`, is sort of a pointer - in this case an int pointer to `a`. The only thing is, to the programmer, you don't use it as an int pointer (cus that would mean you'd have to add [0] on the end of it to change the value - blitzmax does that part for you).<br><br>So in the second example you gave, notice that p is an int ptr. They are using Var to refer to, I guess, printing the content of the variable that p points to. In this case it points to the c[] array. So printing Var p actually prints c[0], and then c[1] and so on.<br><br>I guess you are allowed to put the Var before or after the pointer name. <br><br></td></tr></table><br>
<a name="493875"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I really think that calling it 'Ref' might be easier, since it makes it obvious that you are passing a 'reference' to the function, rather than a value. <br><br></td></tr></table><br>
<a name="493948"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kanati</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> mark just likes to make things...  different.  :) <br><br></td></tr></table><br>
<a name="493956"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> VAR is not different ... just a short form of what it originally seems to come from: ByVar from Pascal / Modulo / Oberon and other languages that addapted it. <br><br></td></tr></table><br>
<a name="494245"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just thought it means `variable` <br><br></td></tr></table><br>
<a name="494494"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> @AngelDaniel:<br>Thanks for the explanation A.D., but in my post you'll see that I already knew that... (I just was mainly wondering why Var came before in some instances, and after in other instances).<br><br>"I guess you are allowed to put the Var before or after the pointer name."<br>Actually, I thought this, too (and that would be fine with me), but you will get a sytax error if you reverse the order in either of the two code examples above.<br><br>This type of parameter passing is sometimes called 'By Reference' (ByRef) or 'By Address' (which is what it really is). <br><br>Anyway, the two uses of Var are not actually doing the same thing:<br>The first one is saying 'use the address of the passed variable...'<br>And the second example is saying 'Use the value *AT* the address (p is declared as a pointer, remember).<br><br>Maybe two different keywords should have been used, instead of placing the keyword before or after for the different uses?<br><br>Russell<br><br>@A.D.<br>"I just thought it means `variable"<br>I think it stands for VARy hard to understand ;) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
