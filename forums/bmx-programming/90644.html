<!DOCTYPE html><html lang="en" ><head ><title >Using TexturedPoly with OpenGL. Can someone help?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Using TexturedPoly with OpenGL. Can someone help?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Using TexturedPoly with OpenGL. Can someone help?</a><br><br>
<a name="1031118"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sokurah</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've had a lot of use from the TexturedPoly module below, and it works fine in both Windows (using dx7 drivers) and natively on OSX.<br><br>However, I can't compile it for OpenGL on Windows and that annoys me.<br>Can someone help me out by tweaking it so it will?<br><br>I've included all that's needed here;<br><br>&gt; A small test program. If you comment out the 2 GLMax framework lines at the top it will compile on Windows without any problems.<br>&gt; The TexturedPoly module<br>&gt; The graphicsfile needed. Get it &gt;<a href="http://www.tardis.dk/images/dot.png" target="_blank">here</a>&lt; (right-click and save).<br><br>A small testprogram<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Strict

Framework brl.GLMax2D
SetGraphicsDriver GLMax2DDriver()

Include "texturedpoly.bmx"
Global GlowingDot:TImage = LoadImage ("dot.png")
MidHandleImage GlowingDot

Graphics 640, 480, 0
TPoly.Initialise()
SetBlend LIGHTBLEND

TPoly._Begin()
TPoly.Line(GlowingDot, 0, 0, 0, $ffff0000, 639, 479, $ffff0000, 24)
TPoly._End()

Flip
WaitKey
</textarea><br><br><br>The TexturedPoly module. Save as 'texturedpoly.bmx'.<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
?Win32
'Import BRL.D3D7Max2D
?
'Import BRL.GLMax2D
'Import BRL.PNGLoader
'Import BRL.Retro
	
?MacOS
Const D3DPT_TRIANGLEFAN = 9999939
Const D3DPT_TRIANGLESTRIP = 12536753
?

'#################################################################################

Type TPoly
	
	?Win32
	Global DXFrame:TD3D7ImageFrame
	?
	Global GLFrame:TGLImageFrame
	Global DX:Int 
	Global DrawColor:Int
	
	'#################################################################################
	'#################################################################################
	
Rem
bbdoc: Begin a new RenderState
about: 
This module is State based like OpenGL. If you change textures you must change states. End the State with _End()
End Rem	
	Function _Begin()
		?Win32
		DXFrame = Null
		?
		GLFrame = Null
	'	DX = False	
	End Function
	
	'#################################################################################
	'#################################################################################
Rem
bbdoc: End a RenderState
about: 
Normally follows a _Begin() command.
End Rem
	Function _End()
	
		?Win32
		DXFrame = Null
		?
		GLFrame = Null	
		If DX = False glEnd
		
	End Function
	
	'#################################################################################
	'#################################################################################

	' Work out all the stuff like which driver is being used
Rem
bbdoc: Initialise the Module
about: 
The module must be initialised before use. This ensures usage of the correct render pipeline. If the render device is changed then you must 
re initialise the module.
End Rem		
	Function Initialise()
	?Win32
	
		If _max2dDriver.ToString() = "DirectX7"
			DX = True
		Else
			DX = False
			glEnable ( GL_COLOR_MATERIAL ) 
		EndIf
	?MacOS
		DX = False
		glEnable ( GL_COLOR_MATERIAL ) 
	?	
	
	End Function
	
	'#################################################################################
	'#################################################################################
	
	Function GetFrame(Image:TImage,Frame,RenderType:Int,Line:Int)
	
	?Win32
		If DX
			Drawcolor = TD3D7Max2DDriver(_max2dDriver).DrawColor
			DXFrame:TD3D7ImageFrame = TD3D7ImageFrame (Image.frame(frame))
	     	Else
			If TGLImageFrame(Image.frame(frame)) &lt;&gt; GLFrame Then
				If GLFrame &lt;&gt; Null glEnd()
		    	 	GLFrame:TGLImageFrame = TGLImageFrame(Image.frame(frame))
				glEnable GL_TEXTURE_2D
				glBindTexture GL_TEXTURE_2D,GLFrame.name
				glShadeModel(GL_SMOOTH)
				If RenderType = D3DPT_TRIANGLEFAN
					glBegin GL_POLYGON
				Else				
					glBegin GL_TRIANGLE_STRIP
				EndIf
			ElseIf Line = True
				If RenderType = D3DPT_TRIANGLEFAN
					glBegin GL_POLYGON
				Else				
					glBegin GL_TRIANGLE_STRIP
				EndIf
			EndIf
		EndIf
	?MacOS
		If (TGLImageFrame(Image.frame(frame)) &lt;&gt; GLFrame) Then
			If GLFrame &lt;&gt; Null glEnd()
		    	GLFrame:TGLImageFrame = TGLImageFrame(Image.frame(frame))
			glEnable GL_TEXTURE_2D
			glBindTexture GL_TEXTURE_2D,GLFrame.name
			glShadeModel(GL_SMOOTH)
			If RenderType = D3DPT_TRIANGLEFAN
				glBegin GL_POLYGON
			Else				
				glBegin GL_TRIANGLE_STRIP
			EndIf
		ElseIf Line = True
			If RenderType = D3DPT_TRIANGLEFAN
				glBegin GL_POLYGON
			Else				
				glBegin GL_TRIANGLE_STRIP
			EndIf
		EndIf
	?
	End Function
	
	
'#################################################################################
'#################################################################################

Rem
bbdoc: Draw a Polygon to the screen
about: 
This function renders a polygon to the screen based on information passed in the xyuv[] array. Each vertex has 9 decriptors. &lt;br&gt;&lt;br&gt;

The array is of the format :-&lt;br&gt;&lt;br&gt;

xyuv[0] = x Position of Vertex&lt;br&gt;
xyuv[1] = y Position of Vertex&lt;br&gt;
xyuv[2] = z Position of Vertex&lt;br&gt;
xyuv[3] = x Vector of Normal&lt;br&gt;
xyuv[4] = y Vector of Normal&lt;br&gt;
xyuv[5] = z Vector of Normal&lt;br&gt;
xyuv[6] = Colour Component RRGGBBAA&lt;br&gt;
xyuv[7] = Texture Co-ordinate U&lt;br&gt;
xyuv[8] = Texture Co-ordinate V&lt;br&gt;
...Repeat...
End Rem
	Function Draw( Image:TImage,frame:Int,xyuv#[],RenderType:Int=D3DPT_TRIANGLEFAN,Line=False)

		If xyuv.length&lt;6 Or (xyuv.length&amp;1) Return

		GetFrame(Image,Frame,RenderType,Line)
		
		Local segs=xyuv.length/9
		Local c:Int Ptr=Int Ptr(Float Ptr(xyuv))

		If Not DX
			Local ub:Byte[4]
			For Local i=0 Until Len(xyuv)-1 Step 9
				ub[0] = (c[i+6] Shr 16) &amp; $FF
				ub[1] = (c[i+6] Shr 8) &amp; $FF
				ub[2] = c[i+6] &amp; $FF
				ub[3] = (c[i+6] Shr 24) &amp; $FF
				glColor4ubv ub
				glNormal3f xyuv[i+3],xyuv[i+4],xyuv[i+5]
				glTexCoord2f xyuv[i+7],xyuv[i+8]
				glVertex3f xyuv[i],xyuv[i+1],xyuv[i+2]
			Next
		EndIf
	?Win32	
		If (DX) Then
			TD3D7Max2DDriver(_max2dDriver).SetActiveFrame(DXFrame)
			D3D7GraphicsDriver().Direct3DDevice7().DrawPrimitive(RenderType,D3DFVF_XYZ|D3DFVF_NORMAL|D3DFVF_DIFFUSE|D3DFVF_TEX1,xyuv,segs,0)
		ElseIf Line = True
			GLEnd()					
		EndIf
		
	?MacOS
		If Line = True
			GLEnd()
		EndIf	
	?
	End Function

	'#################################################################################
	'#################################################################################
Rem
bbdoc: Create new 2D Polygon Instance
returns: Handle to Polygon Instance
about: 
This function creates a new 2D Polygon instance, once created you must add the vertices to this object.
End Rem	
	Function Line(Image:TImage,frame:Int,x0#,y0#,c0:Int,x1#,y1#,c1:Int,width#=1,endpoints:Byte=True,rot:Byte=False)

		Local dx# = x0 - x1
		Local dy# = y0 - y1
		
		Local verts:Float[]
		
		Local Mag:Double = Sqr(dx*dx + dy*dy)
		dx = dx / mag * width
		dy = dy / mag * width
		
	
		If EndPoints
		
			verts = New Float[72]
			Local c:Int Ptr=Int Ptr(Float Ptr(verts))
	
			verts[0]	=	x0 - dy + dx
			verts[1] 	=	y0 + dx + dy
			verts[2]	=	0
			verts[3]	=	0 ' Normals
			verts[4]	=	0 ' Normals
			verts[5]	=	1 ' Normals
			c[6]		=	c0
			verts[7]	=	1
			verts[8] 	=	0
			
			verts[9]	=	x0 + dy + dx 
			verts[10] 	=	y0 - dx + dy
			verts[11]	=	0
			verts[12]	=	0 ' Normals
			verts[13]	=	0 ' Normals
			verts[14]	=	1 ' Normals
			c[15]		=	c0
			verts[16]	=	1
			verts[17] 	=	1
		
			verts[18]	=	x0 - dy
			verts[19] 	=	y0 + dx
			verts[20]	=	0
			verts[21]	=	0 ' Normals
			verts[22]	=	0 ' Normals
			verts[23]	=	1 ' Normals
			c[24]		=	c0
			verts[25]	=	0.4985
			verts[26] 	=	0
		
			verts[27]	=	x0 + dy
			verts[28]	=	y0 - dx
			verts[29]	=	0
			verts[30]	=	0 ' Normals
			verts[31]	=	0 ' Normals
			verts[32]	=	1 ' Normals
			c[33]		=	c0
			verts[34]	=	0.4985
			verts[35]	=	1
			
			verts[36]	=	x1 - dy
			verts[37]	=	y1 + dx
			verts[38]	=	0
			verts[39]	=	0 ' Normals
			verts[40]	=	0 ' Normals
			verts[41]	=	1 ' Normals
			c[42]		=	c1
			verts[43]	=	0.5015
			verts[44]	=	0
			
			verts[45]	=	x1 + dy
			verts[46]	=	y1 - dx
			verts[47]	=	0
			verts[48]	=	0 ' Normals
			verts[49]	=	0 ' Normals
			verts[50]	=	1 ' Normals
			c[51]		=	c1
			verts[52]	=	0.5015
			verts[53]	=	1
			
			verts[54]	=	x1 - dy - dx
			verts[55]	=	y1 + dx - dy
			verts[56]	=	0
			verts[57]	=	0 ' Normals
			verts[58]	=	0 ' Normals
			verts[59]	=	1 ' Normals
			c[60]		=	c1
			verts[61]	=	1
			verts[62]	=	0
			
			verts[63]	=	x1 + dy - dx
			verts[64]	=	y1 - dx - dy
			verts[65]	=	0
			verts[66]	=	0 ' Normals
			verts[67]	=	0 ' Normals
			verts[68]	=	1 ' Normals
			c[69]		=	c1
			verts[70]	=	1
			verts[71]	=	1
			
		Else
			verts = New Float[36]
			Local c:Int Ptr=Int Ptr(Float Ptr(verts))
			
			
			If rot
				verts[7]	=	0
				verts[8] 	=	0
				
				verts[16]	=	1
				verts[17]	=	0
				
				verts[25]	=	0
				verts[26]	=	1
				
				verts[34]	=	1
				verts[35]	=	1
			
			Else
				verts[7]	=	0
				verts[8] 	=	0
				
				verts[16]	=	0
				verts[17]	=	1
				
				verts[25]	=	1
				verts[26]	=	0
				
				verts[34]	=	1
				verts[35]	=	1
			EndIf
		
			verts[0]	=	x0 - dy
			verts[1] 	=	y0 + dx
			verts[2]	=	0
			verts[3]	=	0 ' Normals
			verts[4]	=	0 ' Normals
			verts[5]	=	1 ' Normals			
			c[6]		=	c0

			verts[9]	=	x0 + dy
			verts[10]	=	y0 - dx
			verts[11]	=	0
			verts[12]	=	0 ' Normals
			verts[13]	=	0 ' Normals
			verts[14]	=	1 ' Normals
			c[15]		=	c0
		
			verts[18]	=	x1 - dy
			verts[19]	=	y1 + dx
			verts[20]	=	0
			verts[21]	=	0 ' Normals
			verts[22]	=	0 ' Normals
			verts[23]	=	1 ' Normals
			c[24]		=	c1
			
			verts[27]	=	x1 + dy
			verts[28]	=	y1 - dx
			verts[29]	=	0
			verts[30]	=	0 ' Normals
			verts[31]	=	0 ' Normals
			verts[32]	=	1 ' Normals
			c[33]		=	c1

		EndIf


		Draw(Image,frame,verts,D3DPT_TRIANGLESTRIP,True)
	End Function

End Type
</textarea> <br><br></td></tr></table><br>
<a name="1031139"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> by the looks of things you want to create colored lines (with vertex colors)<br><br>I have a opengl max2d renderer which could do that,<br><br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=2612" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=2612</a><br><br><br>all you would have to do is change the drawline function to accept and use color values, if you are interested i will change it myself.<br>Just give the word.<br><br>I have no experience with the texturedpoly module and i cant use directx either though, sorry. <br><br></td></tr></table><br>
<a name="1031159"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why in your textured poly module, near the top, do you have a ? on a line by itself after the ?Win32 line? Also are you missing some other blitz file that's needed to make GL work? Have you tried taking out all the import lines and just doing a large build? <br><br></td></tr></table><br>
<a name="1031201"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Why in your textured poly module, near the top, do you have a ? on a line by itself after the ?Win32 line? <br></div>I would assume he's got that there to terminate the ?Win32 block. <br><br></td></tr></table><br>
<a name="1031229"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sokurah</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> by the looks of things you want to create colored lines (with vertex colors) <br></div><br>The idea not just to make colored lines - the idea is to make neon-like lines like I've done in this game; <a href="http://tardis.dk/wordpress/?page_id=181" target="_blank">http://tardis.dk/wordpress/?page_id=181</a><br>So things are working just fine - for windows, but I'd like to compile the same kind of thing for OpenGL but still on Windows, but something's missing from the code to let me do that (although I doubt it was there to begin with).<br><br><br><div class="quote"> Why in your textured poly module, near the top, do you have a ? on a line by itself after the ?Win32 line? Also are you missing some other blitz file that's needed to make GL work? Have you tried taking out all the import lines and just doing a large build?  <br></div><br>I'd like to say, just for the sake of clarity, that I didn't make this module - as far as I remember is Indiepath's. I have however stripped a few things out to be able to use it as an included file instead of an actual module, which I find easier, but I'm pretty sure I didn't remove anything to do with OpenGL. Also, I'm not really sure what you mean by "doing a large build", but I assume it's more relevant if I'd used the code as an actual module. <br><br></td></tr></table><br>
<a name="1031238"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GW</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> If your supposed to see a black screen with a red (non glowing) line, then i suppose its working.<br><br>EDIT: ok, changing the bg color makes the glow show up. <br><br></td></tr></table><br>
<a name="1031245"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GaryV</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> The idea not just to make colored lines - the idea is to make neon-like lines like I've done in this game <br></div>Great job, looks really good.  I have tried to come up with decent looking "glowing lines" but gave up. <br><br></td></tr></table><br>
<a name="1031273"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warpy</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> In <a href="/codearcs.php?code=1812" target="_blank">the code archives</a> there is a TexturedPoly function which is a lot less complicated. <br><br></td></tr></table><br>
<a name="1031502"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TWH</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's a little copy-and-pastable demo for us lazy copy-paster people :) (no need to load images)<br><br>I've added a function that draws a dot image in code and moved the "texturedpoly.bmx" include to the top.<br><br>Edit 1: Tested with image. My circle gradient hardly looks as good as dot.png, its too big.<br><br>Edit 2: Made a better circle gradient. Now looks like this:<br><img src="http://imgur.com/FqVNr.png"><br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Strict
?Win32
'Import BRL.D3D7Max2D
?
'Import BRL.GLMax2D
'Import BRL.PNGLoader
'Import BRL.Retro
	
?MacOS
Const D3DPT_TRIANGLEFAN = 9999939
Const D3DPT_TRIANGLESTRIP = 12536753
?

'#################################################################################

Type TPoly
	
	?Win32
	Global DXFrame:TD3D7ImageFrame
	?
	Global GLFrame:TGLImageFrame
	Global DX:Int 
	Global DrawColor:Int
	
	'#################################################################################
	'#################################################################################
	
Rem
bbdoc: Begin a new RenderState
about: 
This module is State based like OpenGL. If you change textures you must change states. End the State with _End()
End Rem	
	Function _Begin()
		?Win32
		DXFrame = Null
		?
		GLFrame = Null
	'	DX = False	
	End Function
	
	'#################################################################################
	'#################################################################################
Rem
bbdoc: End a RenderState
about: 
Normally follows a _Begin() command.
End Rem
	Function _End()
	
		?Win32
		DXFrame = Null
		?
		GLFrame = Null	
		If DX = False glEnd
		
	End Function
	
	'#################################################################################
	'#################################################################################

	' Work out all the stuff like which driver is being used
Rem
bbdoc: Initialise the Module
about: 
The module must be initialised before use. This ensures usage of the correct render pipeline. If the render device is changed then you must 
re initialise the module.
End Rem		
	Function Initialise()
	?Win32
	
		If _max2dDriver.ToString() = "DirectX7"
			DX = True
		Else
			DX = False
			glEnable ( GL_COLOR_MATERIAL ) 
		EndIf
	?MacOS
		DX = False
		glEnable ( GL_COLOR_MATERIAL ) 
	?	
	
	End Function
	
	'#################################################################################
	'#################################################################################
	
	Function GetFrame(Image:TImage,Frame,RenderType:Int,Line:Int)
	
	?Win32
		If DX
			Drawcolor = TD3D7Max2DDriver(_max2dDriver).DrawColor
			DXFrame:TD3D7ImageFrame = TD3D7ImageFrame (Image.frame(frame))
	     	Else
			If TGLImageFrame(Image.frame(frame)) &lt;&gt; GLFrame Then
				If GLFrame &lt;&gt; Null glEnd()
		    	 	GLFrame:TGLImageFrame = TGLImageFrame(Image.frame(frame))
				glEnable GL_TEXTURE_2D
				glBindTexture GL_TEXTURE_2D,GLFrame.name
				glShadeModel(GL_SMOOTH)
				If RenderType = D3DPT_TRIANGLEFAN
					glBegin GL_POLYGON
				Else				
					glBegin GL_TRIANGLE_STRIP
				EndIf
			ElseIf Line = True
				If RenderType = D3DPT_TRIANGLEFAN
					glBegin GL_POLYGON
				Else				
					glBegin GL_TRIANGLE_STRIP
				EndIf
			EndIf
		EndIf
	?MacOS
		If (TGLImageFrame(Image.frame(frame)) &lt;&gt; GLFrame) Then
			If GLFrame &lt;&gt; Null glEnd()
		    	GLFrame:TGLImageFrame = TGLImageFrame(Image.frame(frame))
			glEnable GL_TEXTURE_2D
			glBindTexture GL_TEXTURE_2D,GLFrame.name
			glShadeModel(GL_SMOOTH)
			If RenderType = D3DPT_TRIANGLEFAN
				glBegin GL_POLYGON
			Else				
				glBegin GL_TRIANGLE_STRIP
			EndIf
		ElseIf Line = True
			If RenderType = D3DPT_TRIANGLEFAN
				glBegin GL_POLYGON
			Else				
				glBegin GL_TRIANGLE_STRIP
			EndIf
		EndIf
	?
	End Function
	
	
'#################################################################################
'#################################################################################

Rem
bbdoc: Draw a Polygon to the screen
about: 
This function renders a polygon to the screen based on information passed in the xyuv[] array. Each vertex has 9 decriptors. &lt;br&gt;&lt;br&gt;

The array is of the format :-&lt;br&gt;&lt;br&gt;

xyuv[0] = x Position of Vertex&lt;br&gt;
xyuv[1] = y Position of Vertex&lt;br&gt;
xyuv[2] = z Position of Vertex&lt;br&gt;
xyuv[3] = x Vector of Normal&lt;br&gt;
xyuv[4] = y Vector of Normal&lt;br&gt;
xyuv[5] = z Vector of Normal&lt;br&gt;
xyuv[6] = Colour Component RRGGBBAA&lt;br&gt;
xyuv[7] = Texture Co-ordinate U&lt;br&gt;
xyuv[8] = Texture Co-ordinate V&lt;br&gt;
...Repeat...
End Rem
	Function Draw( Image:TImage,frame:Int,xyuv#[],RenderType:Int=D3DPT_TRIANGLEFAN,Line=False)

		If xyuv.length&lt;6 Or (xyuv.length&amp;1) Return

		GetFrame(Image,Frame,RenderType,Line)
		
		Local segs=xyuv.length/9
		Local c:Int Ptr=Int Ptr(Float Ptr(xyuv))

		If Not DX
			Local ub:Byte[4]
			For Local i=0 Until Len(xyuv)-1 Step 9
				ub[0] = (c[i+6] Shr 16) &amp; $FF
				ub[1] = (c[i+6] Shr 8) &amp; $FF
				ub[2] = c[i+6] &amp; $FF
				ub[3] = (c[i+6] Shr 24) &amp; $FF
				glColor4ubv ub
				glNormal3f xyuv[i+3],xyuv[i+4],xyuv[i+5]
				glTexCoord2f xyuv[i+7],xyuv[i+8]
				glVertex3f xyuv[i],xyuv[i+1],xyuv[i+2]
			Next
		EndIf
	?Win32	
		If (DX) Then
			TD3D7Max2DDriver(_max2dDriver).SetActiveFrame(DXFrame)
			D3D7GraphicsDriver().Direct3DDevice7().DrawPrimitive(RenderType,D3DFVF_XYZ|D3DFVF_NORMAL|D3DFVF_DIFFUSE|D3DFVF_TEX1,xyuv,segs,0)
		ElseIf Line = True
			GLEnd()					
		EndIf
		
	?MacOS
		If Line = True
			GLEnd()
		EndIf	
	?
	End Function

	'#################################################################################
	'#################################################################################
Rem
bbdoc: Create new 2D Polygon Instance
returns: Handle to Polygon Instance
about: 
This function creates a new 2D Polygon instance, once created you must add the vertices to this object.
End Rem	
	Function Line(Image:TImage,frame:Int,x0#,y0#,c0:Int,x1#,y1#,c1:Int,width#=1,endpoints:Byte=True,rot:Byte=False)

		Local dx# = x0 - x1
		Local dy# = y0 - y1
		
		Local verts:Float[]
		
		Local Mag:Double = Sqr(dx*dx + dy*dy)
		dx = dx / mag * width
		dy = dy / mag * width
		
	
		If EndPoints
		
			verts = New Float[72]
			Local c:Int Ptr=Int Ptr(Float Ptr(verts))
	
			verts[0]	=	x0 - dy + dx
			verts[1] 	=	y0 + dx + dy
			verts[2]	=	0
			verts[3]	=	0 ' Normals
			verts[4]	=	0 ' Normals
			verts[5]	=	1 ' Normals
			c[6]		=	c0
			verts[7]	=	1
			verts[8] 	=	0
			
			verts[9]	=	x0 + dy + dx 
			verts[10] 	=	y0 - dx + dy
			verts[11]	=	0
			verts[12]	=	0 ' Normals
			verts[13]	=	0 ' Normals
			verts[14]	=	1 ' Normals
			c[15]		=	c0
			verts[16]	=	1
			verts[17] 	=	1
		
			verts[18]	=	x0 - dy
			verts[19] 	=	y0 + dx
			verts[20]	=	0
			verts[21]	=	0 ' Normals
			verts[22]	=	0 ' Normals
			verts[23]	=	1 ' Normals
			c[24]		=	c0
			verts[25]	=	0.4985
			verts[26] 	=	0
		
			verts[27]	=	x0 + dy
			verts[28]	=	y0 - dx
			verts[29]	=	0
			verts[30]	=	0 ' Normals
			verts[31]	=	0 ' Normals
			verts[32]	=	1 ' Normals
			c[33]		=	c0
			verts[34]	=	0.4985
			verts[35]	=	1
			
			verts[36]	=	x1 - dy
			verts[37]	=	y1 + dx
			verts[38]	=	0
			verts[39]	=	0 ' Normals
			verts[40]	=	0 ' Normals
			verts[41]	=	1 ' Normals
			c[42]		=	c1
			verts[43]	=	0.5015
			verts[44]	=	0
			
			verts[45]	=	x1 + dy
			verts[46]	=	y1 - dx
			verts[47]	=	0
			verts[48]	=	0 ' Normals
			verts[49]	=	0 ' Normals
			verts[50]	=	1 ' Normals
			c[51]		=	c1
			verts[52]	=	0.5015
			verts[53]	=	1
			
			verts[54]	=	x1 - dy - dx
			verts[55]	=	y1 + dx - dy
			verts[56]	=	0
			verts[57]	=	0 ' Normals
			verts[58]	=	0 ' Normals
			verts[59]	=	1 ' Normals
			c[60]		=	c1
			verts[61]	=	1
			verts[62]	=	0
			
			verts[63]	=	x1 + dy - dx
			verts[64]	=	y1 - dx - dy
			verts[65]	=	0
			verts[66]	=	0 ' Normals
			verts[67]	=	0 ' Normals
			verts[68]	=	1 ' Normals
			c[69]		=	c1
			verts[70]	=	1
			verts[71]	=	1
			
		Else
			verts = New Float[36]
			Local c:Int Ptr=Int Ptr(Float Ptr(verts))
			
			
			If rot
				verts[7]	=	0
				verts[8] 	=	0
				
				verts[16]	=	1
				verts[17]	=	0
				
				verts[25]	=	0
				verts[26]	=	1
				
				verts[34]	=	1
				verts[35]	=	1
			
			Else
				verts[7]	=	0
				verts[8] 	=	0
				
				verts[16]	=	0
				verts[17]	=	1
				
				verts[25]	=	1
				verts[26]	=	0
				
				verts[34]	=	1
				verts[35]	=	1
			EndIf
		
			verts[0]	=	x0 - dy
			verts[1] 	=	y0 + dx
			verts[2]	=	0
			verts[3]	=	0 ' Normals
			verts[4]	=	0 ' Normals
			verts[5]	=	1 ' Normals			
			c[6]		=	c0

			verts[9]	=	x0 + dy
			verts[10]	=	y0 - dx
			verts[11]	=	0
			verts[12]	=	0 ' Normals
			verts[13]	=	0 ' Normals
			verts[14]	=	1 ' Normals
			c[15]		=	c0
		
			verts[18]	=	x1 - dy
			verts[19]	=	y1 + dx
			verts[20]	=	0
			verts[21]	=	0 ' Normals
			verts[22]	=	0 ' Normals
			verts[23]	=	1 ' Normals
			c[24]		=	c1
			
			verts[27]	=	x1 + dy
			verts[28]	=	y1 - dx
			verts[29]	=	0
			verts[30]	=	0 ' Normals
			verts[31]	=	0 ' Normals
			verts[32]	=	1 ' Normals
			c[33]		=	c1

		EndIf


		Draw(Image,frame,verts,D3DPT_TRIANGLESTRIP,True)
	End Function

End Type


'Include "texturedpoly.bmx"
'Framework brl.GLMax2D
SetGraphicsDriver GLMax2DDriver() 'D3D7Max2DDriver()


Global GlowingDot:TImage = makeImg() 'LoadImage ("dot.png")
MidHandleImage GlowingDot

Graphics 640, 480, 0
Local xres# = Float(GraphicsWidth())
Local yres# = Float(GraphicsHeight())
TPoly.Initialise()

SetClsColor 0,0,0
While Not KeyHit(KEY_ESCAPE)
SetBlend LIGHTBLEND

TPoly._Begin()

Local a:Int = 255
Local r:Int = 0
Local g:Int = 0
Local b:Int = 255
Local argb:Int = (a Shl 24) + r Shl 16 + g Shl 8 + b
For Local i:Int = 0 To 10
Local x# = i*xres/10
TPoly.Line(GlowingDot, 0, x,0, argb, x,yres, argb, 5)
Next

TPoly.Line(GlowingDot, 0, 0, 0, $ffff0000, 639, 479, $ffff0000, MouseY() / 480.0 * 24)
TPoly.Line(GlowingDot, 0, 0, 479, $ffff0000, 639, 0, $ff0000ff, MouseY() / 480.0 * 24)


Local time:Float = MilliSecs() / 1000.0

Local ox# = Cos(0)*150 + xres/2
Local oy# = Sin(0)*150 + yres/2
Local segments:Int = 8
For Local i:Int = 0 To segments
	Local ang# = 15*time + Float(i)*360 / Float(segments)
	Local x# = Cos(ang)*150 + xres/2
	Local y# = Sin(ang)*150 + yres/2
	
	Local a:Int = 255
	Local r:Int = i*255/segments
	Local g:Int = i*255/segments
	Local b:Int = i*255/segments
	Local argb:Int = (a Shl 24) + r Shl 16 + g Shl 8 + b
	'img, frame, x0, y0, c0, x1, y1, c1, width, endpoints, rot
	'TPoly._Begin()
	TPoly.Line(GlowingDot, 0, ox,oy, argb, x, y, argb, MouseY() / 480.0 * 50)
	'TPoly._End()
	ox=x
	oy=y
	'DrawRect(ox,oy,5,5)
Next



TPoly._End()

DrawImage GlowingDot,MouseX(),MouseY()

Flip
Cls
Wend

Function makeImg:TImage ()
	Local img:TImage = CreateImage(16,16)
	Local pixmap:TPixmap = LockImage(img)
	drawCircleGradient(pixmap)
	UnlockImage(img)
	Return img
End Function


Function drawCircleGradient(px:TPixmap)
	Local siz:Float = px.width
	Local center:Float = (siz-1) / 2.0
   	For Local y:Int=0 Until siz
   	For Local x:Int=0 Until siz
     	 	Local t:Float = Sqr( (center-x)*(center-x) + (center-y)*(center-y) ) / center
		Local c:Int = 255-255*t
		If( c &lt; 0 ) c = 0
		If( c &gt; 255 ) c = 255
		
		Local a:Int = c 'alpha is same as color gradient
		Local argb:Int = (a Shl 24) + c Shl 16 + c Shl 8 + c
		WritePixel px,x,y,argb      	
   	Next
	Next 
End Function
</textarea> <br><br></td></tr></table><br>
<a name="1031570"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TWH</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Edit: I've posted a "better" answer to your post below :)<br>1. Sokurah: The code you posted works fine in GL here... But I do get a gl invalid enum on the TPoly._End() ... probably because GLFrame=null tries to delete a texture that doesnt exist? Im not sure.<br><br>I'm doing this in your code:<br><pre class=code>
Graphics 640, 480, 0
Repeat Until glGetError()=GL_NO_ERROR 'wipe errors 

TPoly.Initialise()
SetBlend LIGHTBLEND

TPoly._Begin()
TPoly.Line(GlowingDot, 0, 0, 0, $ffff0000, 639, 479, $ffff0000, 24)
TPoly._End() '&lt;- guess it tries to delete a texture that doesnt exist.
If glGetError() &lt;&gt; GL_NO_ERROR DebugStop()
</pre><br><br>2. I've also been mucking about some more with glowing lines. :) Here's the result.<br><br><img src="http://i.imgur.com/6ecfa.png"><br><br>I've used some of the polygon drawing code from TexturedPoly, but TriangleStrips are faster, so I've modded it a bit. Also, Im still using the way to define verticedata/lines (except I didnt bother with color)<br><br>The lines look best with the dot.png Sokurah provided.<br><br>The Hershey vector font was found on <a href="http://local.wasp.uwa.edu.au/~pbourke/dataformats/hershey/" target="_blank">Paul Bourkes homepage</a>.<br><br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Strict

Global simplex:Int[][] = [..
    [0,16, ..' Ascii 32 ..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
    [8,10, ..' Ascii 33 ..
    5,21, 5, 7,-1,-1, 5, 2, 4, 1, 5, 0, 6, 1, 5, 2,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
    [5,16, ..' Ascii 34 ..
    4,21, 4,14,-1,-1,12,21,12,14,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [11,21, ..' Ascii 35 ..   
   11,25, 4,-7,-1,-1,17,25,10,-7,-1,-1, 4,12,18,12,-1,-1, 3, 6,17, 6,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [26,20, ..' Ascii 36 ..
    8,25, 8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21, 8,21, 5,20, 3,..
   18, 3,16, 4,14, 5,13, 7,12,13,10,15, 9,16, 8,17, 6,17, 3,15, 1,12, 0,..
    8, 0, 5, 1, 3, 3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [31,24, ..' Ascii 37 ..
   21,21, 3, 0,-1,-1, 8,21,10,19,10,17, 9,15, 7,14, 5,14, 3,16, 3,18, 4,..
   20, 6,21, 8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17, 7,15, 6,14, 4,..
   14, 2,16, 0,18, 0,20, 1,21, 3,21, 5,19, 7,17, 7,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [34,26, ..' Ascii 38 ..
   23,12,23,13,22,14,21,14,20,13,19,11,17, 6,15, 3,13, 1,11, 0, 7, 0, 5,..
    1, 4, 2, 3, 4, 3, 6, 4, 8, 5, 9,12,13,13,14,14,16,14,18,13,20,11,21,..
    9,20, 8,18, 8,16, 9,13,11,10,16, 3,18, 1,20, 0,22, 0,23, 1,23, 2,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
    [7,10, ..' Ascii 39 ..
    5,19, 4,20, 5,21, 6,20, 6,18, 5,16, 4,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [10,14, ..' Ascii 40 ..
   11,25, 9,23, 7,20, 5,16, 4,11, 4, 7, 5, 2, 7,-2, 9,-5,11,-7,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [10,14, ..' Ascii 41 ..
    3,25, 5,23, 7,20, 9,16,10,11,10, 7, 9, 2, 7,-2, 5,-5, 3,-7,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
    [8,16, ..' Ascii 42 ..
    8,21, 8, 9,-1,-1, 3,18,13,12,-1,-1,13,18, 3,12,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
    [5,26, ..' Ascii 43 ..
   13,18,13, 0,-1,-1, 4, 9,22, 9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
    [8,10, ..' Ascii 44 ..
    6, 1, 5, 0, 4, 1, 5, 2, 6, 1, 6,-1, 5,-3, 4,-4,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
    [2,26, ..' Ascii 45 ..
    4, 9,22, 9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
    [5,10, ..' Ascii 46 ..
    5, 2, 4, 1, 5, 0, 6, 1, 5, 2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
    [2,22, ..' Ascii 47 ..
   20,25, 2,-7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [17,20, ..' Ascii 48 ..
    9,21, 6,20, 4,17, 3,12, 3, 9, 4, 4, 6, 1, 9, 0,11, 0,14, 1,16, 4,17,..
    9,17,12,16,17,14,20,11,21, 9,21,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
    [4,20, ..' Ascii 49 ..
    6,17, 8,18,11,21,11, 0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [14,20, ..' Ascii 50 ..
    4,16, 4,17, 5,19, 6,20, 8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,..
   10, 3, 0,17, 0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [15,20, ..' Ascii 51 ..
    5,21,16,21,10,13,13,13,15,12,16,11,17, 8,17, 6,16, 3,14, 1,11, 0, 8,..
    0, 5, 1, 4, 2, 3, 4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
    [6,20, ..' Ascii 52 ..
   13,21, 3, 7,18, 7,-1,-1,13,21,13, 0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [17,20, ..' Ascii 53 ..
   15,21, 5,21, 4,12, 5,13, 8,14,11,14,14,13,16,11,17, 8,17, 6,16, 3,14,..
    1,11, 0, 8, 0, 5, 1, 4, 2, 3, 4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [23,20, ..' Ascii 54 ..
   16,18,15,20,12,21,10,21, 7,20, 5,17, 4,12, 4, 7, 5, 3, 7, 1,10, 0,11,..
    0,14, 1,16, 3,17, 6,17, 7,16,10,14,12,11,13,10,13, 7,12, 5,10, 4, 7,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
    [5,20, ..' Ascii 55 ..
   17,21, 7, 0,-1,-1, 3,21,17,21,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [29,20, ..' Ascii 56 ..
    8,21, 5,20, 4,18, 4,16, 5,14, 7,13,11,12,14,11,16, 9,17, 7,17, 4,16,..
    2,15, 1,12, 0, 8, 0, 5, 1, 4, 2, 3, 4, 3, 7, 4, 9, 6,11, 9,12,13,13,..
   15,14,16,16,16,18,15,20,12,21, 8,21,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [23,20, ..' Ascii 57 ..
   16,14,15,11,13, 9,10, 8, 9, 8, 6, 9, 4,11, 3,14, 3,15, 4,18, 6,20, 9,..
   21,10,21,13,20,15,18,16,14,16, 9,15, 4,13, 1,10, 0, 8, 0, 5, 1, 4, 3,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [11,10, ..' Ascii 58 ..
    5,14, 4,13, 5,12, 6,13, 5,14,-1,-1, 5, 2, 4, 1, 5, 0, 6, 1, 5, 2,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [14,10, ..' Ascii 59 ..
    5,14, 4,13, 5,12, 6,13, 5,14,-1,-1, 6, 1, 5, 0, 4, 1, 5, 2, 6, 1, 6,..
   -1, 5,-3, 4,-4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [3,24, ..' Ascii 60 ..
   20,18, 4, 9,20, 0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
  [5,26, ..' Ascii 61 ..
    4,12,22,12,-1,-1, 4, 6,22, 6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
    [3,24, ..' Ascii 62 ..
    4,18,20, 9, 4, 0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [20,18, ..' Ascii 63 ..
    3,16, 3,17, 4,19, 5,20, 7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,..
   12, 9,10, 9, 7,-1,-1, 9, 2, 8, 1, 9, 0,10, 1, 9, 2,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [55,27, ..' Ascii 64 ..
   18,13,17,15,15,16,12,16,10,15, 9,14, 8,11, 8, 8, 9, 6,11, 5,14, 5,16,..
    6,17, 8,-1,-1,12,16,10,14, 9,11, 9, 8,10, 6,11, 5,-1,-1,18,16,17, 8,..
   17, 6,19, 5,21, 5,23, 7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,..
   21, 9,20, 7,19, 5,17, 4,15, 3,12, 3, 9, 4, 6, 5, 4, 7, 2, 9, 1,12, 0,..
   15, 0,18, 1,20, 2,21, 3,-1,-1,19,16,18, 8,18, 6,19, 5],..
    [8,18, ..' Ascii 65 ..
    9,21, 1, 0,-1,-1, 9,21,17, 0,-1,-1, 4, 7,14, 7,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [23,21, ..' Ascii 66 ..
    4,21, 4, 0,-1,-1, 4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,..
   11,-1,-1, 4,11,13,11,16,10,17, 9,18, 7,18, 4,17, 2,16, 1,13, 0, 4, 0,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [18,21, ..' Ascii 67 ..
   18,16,17,18,15,20,13,21, 9,21, 7,20, 5,18, 4,16, 3,13, 3, 8, 4, 5, 5,..
    3, 7, 1, 9, 0,13, 0,15, 1,17, 3,18, 5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [15,21, ..' Ascii 68 ..
    4,21, 4, 0,-1,-1, 4,21,11,21,14,20,16,18,17,16,18,13,18, 8,17, 5,16,..
    3,14, 1,11, 0, 4, 0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [11,19, ..' Ascii 69 ..
    4,21, 4, 0,-1,-1, 4,21,17,21,-1,-1, 4,11,12,11,-1,-1, 4, 0,17, 0,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
    [8,18, ..' Ascii 70 ..
    4,21, 4, 0,-1,-1, 4,21,17,21,-1,-1, 4,11,12,11,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [22,21, ..' Ascii 71 ..
   18,16,17,18,15,20,13,21, 9,21, 7,20, 5,18, 4,16, 3,13, 3, 8, 4, 5, 5,..
    3, 7, 1, 9, 0,13, 0,15, 1,17, 3,18, 5,18, 8,-1,-1,13, 8,18, 8,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
    [8,22, ..' Ascii 72 ..
    4,21, 4, 0,-1,-1,18,21,18, 0,-1,-1, 4,11,18,11,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
    [2, 8, ..' Ascii 73 ..
    4,21, 4, 0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [10,16, ..' Ascii 74 ..
   12,21,12, 5,11, 2,10, 1, 8, 0, 6, 0, 4, 1, 3, 2, 2, 5, 2, 7,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
    [8,21, ..' Ascii 75 ..
    4,21, 4, 0,-1,-1,18,21, 4, 7,-1,-1, 9,12,18, 0,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
    [5,17, ..' Ascii 76 ..
    4,21, 4, 0,-1,-1, 4, 0,16, 0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [11,24, ..' Ascii 77 ..
    4,21, 4, 0,-1,-1, 4,21,12, 0,-1,-1,20,21,12, 0,-1,-1,20,21,20, 0,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
    [8,22, ..' Ascii 78 ..
    4,21, 4, 0,-1,-1, 4,21,18, 0,-1,-1,18,21,18, 0,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [21,22, ..' Ascii 79 ..
    9,21, 7,20, 5,18, 4,16, 3,13, 3, 8, 4, 5, 5, 3, 7, 1, 9, 0,13, 0,15,..
    1,17, 3,18, 5,19, 8,19,13,18,16,17,18,15,20,13,21, 9,21,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [13,21, ..' Ascii 80 ..
    4,21, 4, 0,-1,-1, 4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,..
   10, 4,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [24,22, ..' Ascii 81 ..
    9,21, 7,20, 5,18, 4,16, 3,13, 3, 8, 4, 5, 5, 3, 7, 1, 9, 0,13, 0,15,..
    1,17, 3,18, 5,19, 8,19,13,18,16,17,18,15,20,13,21, 9,21,-1,-1,12, 4,..
   18,-2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [16,21, ..' Ascii 82 ..
    4,21, 4, 0,-1,-1, 4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,..
   11, 4,11,-1,-1,11,11,18, 0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [20,20, ..' Ascii 83 ..
   17,18,15,20,12,21, 8,21, 5,20, 3,18, 3,16, 4,14, 5,13, 7,12,13,10,15,..
    9,16, 8,17, 6,17, 3,15, 1,12, 0, 8, 0, 5, 1, 3, 3,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
    [5,16, ..' Ascii 84 ..
    8,21, 8, 0,-1,-1, 1,21,15,21,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [10,22, ..' Ascii 85 ..
    4,21, 4, 6, 5, 3, 7, 1,10, 0,12, 0,15, 1,17, 3,18, 6,18,21,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
    [5,18, ..' Ascii 86 ..
    1,21, 9, 0,-1,-1,17,21, 9, 0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [11,24, ..' Ascii 87 ..
    2,21, 7, 0,-1,-1,12,21, 7, 0,-1,-1,12,21,17, 0,-1,-1,22,21,17, 0,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
    [5,20, ..' Ascii 88 ..
    3,21,17, 0,-1,-1,17,21, 3, 0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
    [6,18, ..' Ascii 89 ..
    1,21, 9,11, 9, 0,-1,-1,17,21, 9,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [8,20, ..' Ascii 90 ..
   17,21, 3, 0,-1,-1, 3,21,17,21,-1,-1, 3, 0,17, 0,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [11,14, ..' Ascii 91 ..
    4,25, 4,-7,-1,-1, 5,25, 5,-7,-1,-1, 4,25,11,25,-1,-1, 4,-7,11,-7,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
    [2,14, ..' Ascii 92 ..
    0,21,14,-3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [11,14, ..' Ascii 93 ..
    9,25, 9,-7,-1,-1,10,25,10,-7,-1,-1, 3,25,10,25,-1,-1, 3,-7,10,-7,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [10,16, ..' Ascii 94 ..
    6,15, 8,18,10,15,-1,-1, 3,12, 8,17,13,12,-1,-1, 8,17, 8, 0,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
    [2,16, ..' Ascii 95 ..
    0,-2,16,-2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
    [7,10, ..' Ascii 96 ..
    6,21, 5,20, 4,18, 4,16, 5,15, 6,16, 5,17,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [17,19, ..' Ascii 97 ..
   15,14,15, 0,-1,-1,15,11,13,13,11,14, 8,14, 6,13, 4,11, 3, 8, 3, 6, 4,..
    3, 6, 1, 8, 0,11, 0,13, 1,15, 3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [17,19, ..' Ascii 98 ..
    4,21, 4, 0,-1,-1, 4,11, 6,13, 8,14,11,14,13,13,15,11,16, 8,16, 6,15,..
    3,13, 1,11, 0, 8, 0, 6, 1, 4, 3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [14,18, ..' Ascii 99 ..
   15,11,13,13,11,14, 8,14, 6,13, 4,11, 3, 8, 3, 6, 4, 3, 6, 1, 8, 0,11,..
    0,13, 1,15, 3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [17,19, ..' Ascii 100 ..
   15,21,15, 0,-1,-1,15,11,13,13,11,14, 8,14, 6,13, 4,11, 3, 8, 3, 6, 4,..
    3, 6, 1, 8, 0,11, 0,13, 1,15, 3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [17,18, ..' Ascii 101 ..
    3, 8,15, 8,15,10,14,12,13,13,11,14, 8,14, 6,13, 4,11, 3, 8, 3, 6, 4,..
    3, 6, 1, 8, 0,11, 0,13, 1,15, 3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
    [8,12, ..' Ascii 102 ..
   10,21, 8,21, 6,20, 5,17, 5, 0,-1,-1, 2,14, 9,14,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [22,19, ..' Ascii 103 ..
   15,14,15,-2,14,-5,13,-6,11,-7, 8,-7, 6,-6,-1,-1,15,11,13,13,11,14, 8,..
   14, 6,13, 4,11, 3, 8, 3, 6, 4, 3, 6, 1, 8, 0,11, 0,13, 1,15, 3,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [10,19, ..' Ascii 104 ..
    4,21, 4, 0,-1,-1, 4,10, 7,13, 9,14,12,14,14,13,15,10,15, 0,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
    [8, 8, ..' Ascii 105 ..
    3,21, 4,20, 5,21, 4,22, 3,21,-1,-1, 4,14, 4, 0,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [11,10, ..' Ascii 106 ..
    5,21, 6,20, 7,21, 6,22, 5,21,-1,-1, 6,14, 6,-3, 5,-6, 3,-7, 1,-7,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
    [8,17, ..' Ascii 107 ..
    4,21, 4, 0,-1,-1,14,14, 4, 4,-1,-1, 8, 8,15, 0,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
    [2, 8, ..' Ascii 108 ..
    4,21, 4, 0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [18,30, ..' Ascii 109 ..
    4,14, 4, 0,-1,-1, 4,10, 7,13, 9,14,12,14,14,13,15,10,15, 0,-1,-1,15,..
   10,18,13,20,14,23,14,25,13,26,10,26, 0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [10,19, ..' Ascii 110 ..
    4,14, 4, 0,-1,-1, 4,10, 7,13, 9,14,12,14,14,13,15,10,15, 0,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [17,19, ..' Ascii 111 ..
    8,14, 6,13, 4,11, 3, 8, 3, 6, 4, 3, 6, 1, 8, 0,11, 0,13, 1,15, 3,16,..
    6,16, 8,15,11,13,13,11,14, 8,14,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [17,19, ..' Ascii 112 ..
    4,14, 4,-7,-1,-1, 4,11, 6,13, 8,14,11,14,13,13,15,11,16, 8,16, 6,15,..
    3,13, 1,11, 0, 8, 0, 6, 1, 4, 3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [17,19, ..' Ascii 113 ..
   15,14,15,-7,-1,-1,15,11,13,13,11,14, 8,14, 6,13, 4,11, 3, 8, 3, 6, 4,..
    3, 6, 1, 8, 0,11, 0,13, 1,15, 3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
    [8,13, ..' Ascii 114 ..
    4,14, 4, 0,-1,-1, 4, 8, 5,11, 7,13, 9,14,12,14,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [17,17, ..' Ascii 115 ..
   14,11,13,13,10,14, 7,14, 4,13, 3,11, 4, 9, 6, 8,11, 7,13, 6,14, 4,14,..
    3,13, 1,10, 0, 7, 0, 4, 1, 3, 3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
    [8,12, ..' Ascii 116 ..
    5,21, 5, 4, 6, 1, 8, 0,10, 0,-1,-1, 2,14, 9,14,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [10,19, ..' Ascii 117 ..
    4,14, 4, 4, 5, 1, 7, 0,10, 0,12, 1,15, 4,-1,-1,15,14,15, 0,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
    [5,16, ..' Ascii 118 ..
    2,14, 8, 0,-1,-1,14,14, 8, 0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [11,22, ..' Ascii 119 ..
    3,14, 7, 0,-1,-1,11,14, 7, 0,-1,-1,11,14,15, 0,-1,-1,19,14,15, 0,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
    [5,17, ..' Ascii 120 ..
    3,14,14, 0,-1,-1,14,14, 3, 0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
    [9,16, ..' Ascii 121 ..
    2,14, 8, 0,-1,-1,14,14, 8, 0, 6,-4, 4,-6, 2,-7, 1,-7,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [8,17, ..' Ascii 122 ..
   14,14, 3, 0,-1,-1, 3,14,14,14,-1,-1, 3, 0,14, 0,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [39,14, ..' Ascii 123 ..
    9,25, 7,24, 6,23, 5,21, 5,19, 6,17, 7,16, 8,14, 8,12, 6,10,-1,-1, 7,..
   24, 6,22, 6,20, 7,18, 8,17, 9,15, 9,13, 8,11, 4, 9, 8, 7, 9, 5, 9, 3,..
    8, 1, 7, 0, 6,-2, 6,-4, 7,-6,-1,-1, 6, 8, 8, 6, 8, 4, 7, 2, 6, 1, 5,..
   -1, 5,-3, 6,-5, 7,-6, 9,-7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
    [2, 8, ..' Ascii 124 ..
    4,25, 4,-7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [39,14, ..' Ascii 125 ..
    5,25, 7,24, 8,23, 9,21, 9,19, 8,17, 7,16, 6,14, 6,12, 8,10,-1,-1, 7,..
   24, 8,22, 8,20, 7,18, 6,17, 5,15, 5,13, 6,11,10, 9, 6, 7, 5, 5, 5, 3,..
    6, 1, 7, 0, 8,-2, 8,-4, 7,-6,-1,-1, 8, 8, 6, 6, 6, 4, 7, 2, 8, 1, 9,..
   -1, 9,-3, 8,-5, 7,-6, 5,-7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],..
   [23,24, ..' Ascii 126 ..
    3, 6, 3, 8, 4,11, 6,12, 8,12,10,11,14, 8,16, 7,18, 7,20, 8,21,10,-1,..
   -1, 3, 8, 4,10, 6,11, 8,11,10,10,14, 7,16, 6,18, 6,20, 7,21,10,21,12,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,..
   -1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]..
	]

SetGraphicsDriver GLMax2DDriver()
Graphics 600,400
Global xres# = GraphicsWidth()
Global yres# = GraphicsHeight()

Global Image:TImage = LoadImage("dot.png")'makeImg()'LoadImage("clock.png") ' 32x32 256x256 e.t.c
Global TestImage:TImage = makeImg2()'LoadImage("sun.png")

Global tx# = 10
Global ty# = 150

Global numframes:Int = 0

While Not KeyHit(KEY_ESCAPE)
	' Note to self: OpenGL draws front face normally Counter Clockwise. CCW.
	'SetBlend AlphaBlend
	SetBlend LightBlend
	
	SetScale 1,1
	SetAlpha 1.0
	SetColor 255,255,0
	LineCool(0,0,800,600,35)
	
	SetAlpha 1.0
	SetColor 255,255,255
	LineCool(0,600,800,0,25)
	
	SetAlpha 1.0
	SetColor 0,255,0
	LineCool(400,300,MouseX(),MouseY(),55)
	
	Local maxchars:Int = simplex.length-1
	tx = xres/2
	ty = 180
	drawChar( Max(0, Min(MouseX()/xres*simplex.length-1,maxchars) ) ,5)
	
	tx = 20
	ty = 70
	SetAlpha 0.5
	drawstring("thanks Warpy!",2.5)
	
	tx = 100
	ty = 400
	SetAlpha 1.0
	SetColor 0,32,128
	'SetBlend AlphaBlend
	Local t# = Cos( MilliSecs() / 1000.0 * 360 )
	If t &lt; 0
	drawstring("vector Text  \o/",1)   tx = 100 ty = 450
	drawstring("              |",1)	 	tx = 100 ty = 500
	drawstring("             /\",1)	    ' tx = 100 ty = 500
	Else
	drawstring("vector Text  o",1)   tx = 100 ty = 450
	drawstring("            /|\ ",1)	 	tx = 100 ty = 500
	drawstring("            /\",1)	    ' tx = 100 ty = 500
	EndIf	
	
	'glBlendFunc GL_ONE, GL_ONE
	glBlendFunc GL_SRC_ALPHA,GL_ONE
	SetColor 128,32,64
	lissajous(xres/2,yres/2)
	'SetBlend(LIGHTBLEND)
	'glEnable GL_BLEND
	'glBlendFunc GL_SRC_ALPHA,GL_ONE
	'glDisable GL_ALPHA_TEST 'Important! GL turns this on for text methinks. 
	
	Flip
	Cls
	numframes:+1
Wend

Function lissajous(tx#,ty#)
	Local time# = MilliSecs() / 1000.0
	Local angofs# = time * 5
	Local a# = 3 + Sin(time/50)
	Local b# = 2 + Cos(time/50)
	Local segs# = 200
	Local r# = 100
	Local ox# = Sin(a*angofs+180)*r
	Local oy# = Sin(b*angofs)*r
	'rotate2d(ox,oy,MouseX() / xres*360)
	ox:+tx
	oy:+ty
	For Local t=0 To segs
		Local ang# = t*360/(segs)
		ang = ang + angofs
		Local x# = Sin(a*ang+180)*r
		Local y# = Sin(b*ang)*r
		
		'rotate2d(x,y,MouseX() / xres*360)
		x:+tx
		y:+ty
		
		LineCool( ox,oy,x,y, 30 )
		ox = x
		oy = y
	Next
End Function

Function rotate2d(x# Var , y# Var, angle#)
   Local x1# = x;
   Local y1# = y;
   Local sa# = Sin(angle);
   Local ca# = Cos(angle);
   
   x = x1 * ca - y1 * sa;
   y = y1 * ca + x1 * sa;
End Function

Function  drawstring(str$, textsiz#)
	For Local i:Int=0 Until str.length
		Local c:Int = str[i] - 32;
		drawChar(c, textsiz);
		tx :+ simplex[c][1]*textsiz;
	Next
End Function

Function drawChar(c:Int,scale#)
   Local verts:Int = simplex[c][0];
   Local spacing# = simplex[c][1];
   
	Local ax:Int = simplex[c][2];
	Local ay:Int = simplex[c][3]; 
	Local ox# = tx+ax*scale-scale*2
	Local oy# = ty-ay*scale+scale*2
   'moveto(tx+ax*scale-scale*2, ty-ay*scale+scale*2); 
	Local i:Int = 0 
   For i=4 Until (verts*2) Step 2
      ax = simplex[c][i+0];
      ay = simplex[c][i+1];

      If(ax=-1 Or ay = -1)
		ox = tx+simplex[c][i+2]*scale-scale*2
		oy = ty-simplex[c][i+3]*scale+scale*2
	'moveto(tx+simplex[c][i+2]*scale-scale*2, ty-simplex[c][i+3]*scale+scale*2);
      Else 
		LineCool(ox,oy,tx+ax*scale-scale*2, ty-ay*scale+scale*2,35)
		ox = tx+ax*scale-scale*2
		oy = ty-ay*scale+scale*2
		'lineto(tx+ax*scale-scale*2, ty-ay*scale+scale*2); 
	EndIf       
   Next
	LineCool(ox, oy, tx+simplex[c][i+0]*scale-scale*2, ty-simplex[c][i+1]*scale+scale*2,35)
   'lineto(tx+simplex[c][i+0]*scale-scale*2,ty-simplex[c][i+1]*scale+scale*2);
End Function 




Function LineCool(x0#, y0#, x1#, y1#, width#)
'slope
Local dx# = x0 - x1
Local dy# = y0 - y1


Local verts:Float[] ':Float[36]

Local Mag:Double = Sqr(dx*dx + dy*dy)
dx = dx / mag * width
dy = dy / mag * width

		
		Local endpoints:Int = 1'Int( MouseX() / 300.0 )
		Local rot:Int = 0'Int( MouseY() / 400.0 )
	
		If EndPoints
		
			verts = New Float[72]
			Local c:Int Ptr=Int Ptr(Float Ptr(verts))
	
			verts[0]	=	x0 - dy + dx
			verts[1] 	=	y0 + dx + dy
			verts[2]	=	0
			verts[3]	=	0 ' Normals
			verts[4]	=	0 ' Normals
			verts[5]	=	1 ' Normals
			'c[6]		=	c0
			verts[7]	=	1
			verts[8] 	=	0
			
			verts[9]	=	x0 + dy + dx 
			verts[10] 	=	y0 - dx + dy
			verts[11]	=	0
			verts[12]	=	0 ' Normals
			verts[13]	=	0 ' Normals
			verts[14]	=	1 ' Normals
			'c[15]		=	c0
			verts[16]	=	1
			verts[17] 	=	1
		
			verts[18]	=	x0 - dy
			verts[19] 	=	y0 + dx
			verts[20]	=	0
			verts[21]	=	0 ' Normals
			verts[22]	=	0 ' Normals
			verts[23]	=	1 ' Normals
			'c[24]		=	c0
			verts[25]	=	0.4985
			verts[26] 	=	0
		
			verts[27]	=	x0 + dy
			verts[28]	=	y0 - dx
			verts[29]	=	0
			verts[30]	=	0 ' Normals
			verts[31]	=	0 ' Normals
			verts[32]	=	1 ' Normals
			'c[33]		=	c0
			verts[34]	=	0.4985
			verts[35]	=	1
			
			verts[36]	=	x1 - dy
			verts[37]	=	y1 + dx
			verts[38]	=	0
			verts[39]	=	0 ' Normals
			verts[40]	=	0 ' Normals
			verts[41]	=	1 ' Normals
			'c[42]		=	c1
			verts[43]	=	0.5015
			verts[44]	=	0
			
			verts[45]	=	x1 + dy
			verts[46]	=	y1 - dx
			verts[47]	=	0
			verts[48]	=	0 ' Normals
			verts[49]	=	0 ' Normals
			verts[50]	=	1 ' Normals
			'c[51]		=	c1
			verts[52]	=	0.5015
			verts[53]	=	1
			
			verts[54]	=	x1 - dy - dx
			verts[55]	=	y1 + dx - dy
			verts[56]	=	0
			verts[57]	=	0 ' Normals
			verts[58]	=	0 ' Normals
			verts[59]	=	1 ' Normals
			'c[60]		=	c1
			verts[61]	=	1
			verts[62]	=	0
			
			verts[63]	=	x1 + dy - dx
			verts[64]	=	y1 - dx - dy
			verts[65]	=	0
			verts[66]	=	0 ' Normals
			verts[67]	=	0 ' Normals
			verts[68]	=	1 ' Normals
			'c[69]		=	c1
			verts[70]	=	1
			verts[71]	=	1
			
		Else
			verts = New Float[36]
			'Local c:Int Ptr=Int Ptr(Float Ptr(verts))
			
			
			If rot
				verts[7]	=	0
				verts[8] 	=	0
				
				verts[16]	=	1
				verts[17]	=	0
				
				verts[25]	=	0
				verts[26]	=	1
				
				verts[34]	=	1
				verts[35]	=	1
			
			Else
				verts[7]	=	0
				verts[8] 	=	0
				
				verts[16]	=	0
				verts[17]	=	1
				
				verts[25]	=	1
				verts[26]	=	0
				
				verts[34]	=	1
				verts[35]	=	1
			EndIf
		
			verts[0]	=	x0 - dy
			verts[1] 	=	y0 + dx
			verts[2]	=	0
			verts[3]	=	0 ' Normals
			verts[4]	=	0 ' Normals
			verts[5]	=	1 ' Normals			
			'c[6]		=	c0

			verts[9]	=	x0 + dy
			verts[10]	=	y0 - dx
			verts[11]	=	0
			verts[12]	=	0 ' Normals
			verts[13]	=	0 ' Normals
			verts[14]	=	1 ' Normals
			'c[15]		=	c0
		
			verts[18]	=	x1 - dy
			verts[19]	=	y1 + dx
			verts[20]	=	0
			verts[21]	=	0 ' Normals
			verts[22]	=	0 ' Normals
			verts[23]	=	1 ' Normals
			'c[24]		=	c1
			
			verts[27]	=	x1 + dy
			verts[28]	=	y1 - dx
			verts[29]	=	0
			verts[30]	=	0 ' Normals
			verts[31]	=	0 ' Normals
			verts[32]	=	1 ' Normals
			'c[33]		=	c1

		EndIf
'glPolygonMode(GL_FRONT, GL_LINE)
DrawTexturedPoly Image, verts
'DrawImage TestImage, 200, 200
End Function

Function DrawTexturedPoly( image:TImage,xyuv#[],frame=0, vertex = -1)
	Local handle_x#,  handle_y#
	GetHandle handle_x#,  handle_y#
	Local origin_x#,  origin_y#
	GetOrigin origin_x#,  origin_y#	
	
	Local D3DDriver:TD3D7Max2DDriver = TD3D7Max2DDriver(_max2dDriver)
	
	Assert Image, "Image not found"
	
	If D3DDriver Then 
		DrawTexturedPolyD3D ..
			D3DDriver,..
			 TD3D7ImageFrame(image.Frame(frame)), ..
			 xyuv, handle_x, handle_y, origin_x,origin_y, vertex*4
		Return
	End If
	Local  OGLDriver:TGLMax2DDriver = TGLMax2DDriver(_max2dDriver)
	If OGLDriver Then
			DrawTexturedPolyOGL ..
				OGLDriver,..
				 TGLImageFrame(image.Frame(frame)), ..
				 xyuv, handle_x, handle_y, origin_x,origin_y,  vertex*4
		Return
	End If
End Function


Function DrawTexturedPolyD3D( Driver:TD3D7Max2DDriver,  Frame:TD3D7ImageFrame,xyuv#[],handlex#,handley#,tx#,ty# , vertex)
	'If Driver.islost Return
	If xyuv.length&lt;6 Return
	Local segs=xyuv.length/4
	Local len_ = Len(xyuv)
	
	If vertex &gt; - 1 Then
		segs = vertex / 4
		len_ = vertex
	End If
	Local uv#[] = New Float[segs*6] ' 6
	

	Local c:Int Ptr=Int Ptr(Float Ptr(uv))
	
	Local ii:Int = 0
	For Local i=0 Until len_ Step 4
		Local x# =  xyuv[i+0]+handlex
		Local y# =  xyuv[i+1]+handley
		uv[ii+0] =  x*Driver.ix+y*Driver.iy+tx
		uv[ii+1] =  x*Driver.jx+y*Driver.jy+ty 
		uv[ii+2] =  0  ' *********** THIS IS THE Z-COORDINATE
		c[ii+3] = Driver.DrawColor
		uv[ii+4] =  xyuv[i+2]
		uv[ii+5] =  xyuv[i+3]
		ii:+6
	Next
	Driver.SetActiveFrame Frame
	Driver.device.DrawPrimitive(D3DPT_TRIANGLEFAN,D3DFVF_XYZ| D3DFVF_DIFFUSE | D3DFVF_TEX1,uv,segs,0)
End Function


Function DrawTexturedPolyOGL (Driver:TGLMax2DDriver, Frame:TGLImageFrame, xy#[],handle_x#,handle_y#,origin_x#,origin_y#, vertex) 
	'Private
	'Global TmpImage:TImage
	'Public
	
	If xy.length&lt;6 Return
	
	Local rot#  = GetRotation()
	Local tform_scale_x#, tform_scale_y#
	GetScale tform_scale_x, tform_scale_y
	
	Local s#=Sin(rot)
	Local c#=Cos(rot)
	Local ix= c*tform_scale_x
	Local iy=-s*tform_scale_y
	Local jx= s*tform_scale_x
	Local jy= c*tform_scale_y
	'glcolor3f 1,1,1
	glBindTexture GL_TEXTURE_2D, Frame.name
	glEnable GL_TEXTURE_2D
	'glDisable GL_TEXTURE_2D
	
	glBegin GL_TRIANGLE_STRIP'GL_POLYGON
	'For Local i=0 Until Len xy Step 4
	For Local i=0 Until Len(xy)-1 Step 9
		glNormal3f xy[i+3],xy[i+4],xy[i+5]
		glTexCoord2f xy[i+7],xy[i+8]
		glVertex3f xy[i],xy[i+1],xy[i+2]
	
		'If vertex &gt; -1 And i &gt;= vertex Then Exit
		'Local x#=xy[i+0]+handle_x
		'Local y#=xy[i+1]+handle_y
		'Local u#=xy[i+2]
		'Local v#=xy[i+3]
		'glTexCoord2f u,v
		'glVertex2f x*ix+y*iy+origin_x,x*jx+y*jy+origin_y
	Next
	glEnd
	'If Not tmpImage Then tmpImage = CreateImage(1,1)
	'DrawImage tmpImage, -100, - 100 ' Chtob zbit' flag texturi
End Function


Function makeImg:TImage ()
	Local img:TImage = CreateImage(64,64)
	Local pixmap:TPixmap = LockImage(img)
	drawCircleGradient(pixmap)
	UnlockImage(img)
	Return img
End Function

Function makeImg2:TImage ()
	Local img:TImage = CreateImage(128,128)
	Local px:TPixmap = LockImage(img)
	
	Local siz:Float = px.width
	Local center:Float = (siz-1) / 2.0
   	For Local y:Int=0 Until siz
   	For Local x:Int=0 Until siz
     	 	Local t:Float = Sqr( (center-x)*(center-x) + (center-y)*(center-y) ) / center
		'Local c:Int = 255-(t)*255
		Local c:Int = 250-(t^1.0)*255
		If( c &lt; 0 ) c = 0
		If( c &gt; 255 ) c = 255
		
		Local argb:Int = ( c Shl 24) + 255 Shl 16 + c Shl 8 + c
		WritePixel px,x,y,argb      	
   	Next
	Next 
	
	UnlockImage(img)
	Return img
End Function

Function drawCircleGradient(px:TPixmap)
	Local siz:Float = px.width
	Local center:Float = (siz-1) / 2.0
   	For Local y:Int=0 Until siz
   	For Local x:Int=0 Until siz
     	 	Local t:Float = Sqr( (center-x)*(center-x) + (center-y)*(center-y) ) / center
		
		Local a:Int = 250-(t^0.20)*255
		If( a &lt; 0 ) a = 0
		If( a &gt; 255 ) a = 255
		
		Local c:Int = 255-(t)*255
		If( c &lt; 0 ) c = 0
		If( c &gt; 255 ) c = 255
		
		Local argb:Int = ( a Shl 24) + c Shl 16 + c Shl 8 + c
		WritePixel px,x,y,argb      	
   	Next
	Next 
End Function

</textarea> <br><br></td></tr></table><br>
<a name="1031571"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TWH</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sokurah: Ok. I read your post a little better. You say you want it to compile with GLMax2D as the base framework? ... I get it working fine if I remove the imports from texturedpoly.bmx and place them in the example program like this:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Strict
Framework brl.GLMax2D
Import pub.glew 'Needed for GL error enums
Import brl.standardio
?Win32
Import BRL.D3D7Max2D
?
'Import BRL.GLMax2D
Import BRL.PNGLoader
'Import BRL.Retro
Include "texturedpoly.bmx"

SetGraphicsDriver GLMax2DDriver()
Graphics 640, 480, 0

Global GlowingDot:TImage = LoadImage ("dot.png")
MidHandleImage GlowingDot

Repeat Until glGetError()=GL_NO_ERROR 'wipe errors 

While Not AppTerminate()

TPoly.Initialise()
SetBlend LIGHTBLEND

TPoly._Begin()
TPoly.Line(GlowingDot, 0, 0, 0, $ffff0000, 639, 479, $ffff0000, 24)
'TPoly._End()
If glGetError() &lt;&gt; GL_NO_ERROR DebugStop()

Flip
Cls
Wend

Function checkError:Int ()
	Local err:Int = False
	Local checkedAllErrors:Int = False
	Local glerrorList$ = ""
	Local numErrors:Int = 0
	While checkedAllErrors=False
		Local errorCode:Int = glGetError()
		If errorCode = GL_NO_ERROR
			checkedAllErrors = True
			
		Else
			numErrors = numErrors + 1
			If errorCode = GL_INVALID_ENUM glerrorList:+" invalid enum "
			If errorCode = GL_INVALID_VALUE glerrorList:+" invalid value "
			If errorCode = GL_INVALID_OPERATION glerrorList:+" invalid operation "
			If errorCode = GL_STACK_OVERFLOW glerrorList:+" stack overflow "
			If errorCode = GL_STACK_UNDERFLOW glerrorList:+" stack underflow "
			If errorCode = GL_OUT_OF_MEMORY glerrorList:+" GL_OUT_OF_MEMORY "
			If errorCode = GL_TABLE_TOO_LARGE glerrorList:+" GL_TABLE_TOO_LARGE "
		EndIf
	Wend
	If glerrorList &lt;&gt; ""
		err = True
		Print "#"+numErrors +" glGetErrors this frame: "+glerrorList
	Else
		err = False
	EndIf
	
	Return err
End Function
</textarea> <br><br></td></tr></table><br>
<a name="1031790"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sokurah</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey, I've been away for a few days and now see - lots of things to look into. Cool.<br><br>@TWH<br>Thanks. I've tried the two first pieces of code you posted - they run without problems - and they look good, but I'll have to test them against the module I've been using until now, to see how it's different in terms on speed and looks. I can't wait to fiddle around with them. :)<br><br>Your third post could be the solution to my problem, but I haven't tried it out yet. I'll post again if it gives me problems once I've had a look at it is not knee-deep in the AI for my latest vector game. ;)<br><br>Thanks. <br><br></td></tr></table><br>
<a name="1031921"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've been using the indiepath module for ages now. It works really well, but DX9, I cannot get it to work. Still, I think I will go oGL all the way.<br><br>I don't want to hijack this thread, but: Something which might interest you: I am working on a line object editor and game world editor using line objects, and I hopefully will introduce full physics for everything. linkie: <a href="http://wiebo.wordpress.com/2010/06/08/progress-on-vlibed/" target="_blank">http://wiebo.wordpress.com/2010/06/08/progress-on-vlibed/</a><br><br>Oh, and can someone tell me how to get this working on a maxgui canvas? That would be really neat =] <br><br></td></tr></table><br>
<a name="1031966"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sokurah</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can butt in any time you want Wiebo. You're my neon-hero. :-D <br><br></td></tr></table><br>
<a name="1032006"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> aww, that's nice =] <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
