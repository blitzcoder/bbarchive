<!DOCTYPE html><html lang="en" ><head ><title >Question about fullscreen resolutions and a NEW Ifsogui issue</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Question about fullscreen resolutions and a NEW Ifsogui issue</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Question about fullscreen resolutions and a NEW Ifsogui issue</a><br><br>
<a name="1333692"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Takis76</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello my friends,<br><br>I am programming my nice game here and goes nice.<br>I have one new question.<br><br>I usually use to run my game in windowed mode with 800x600 resolution<br>Also I run my game and in fullscreen exclusive mode with 800x600 resolution too.<br><br>These 2 resolutions work in my computer , but in few monitors few people can't see the game in fullscreen or the monitor goes out of range in hertz.<br> <br>I tried to play with Flip 0 , Flip 1 and Flip -1<br>If some cases things was worked , but the FPS was dropped.<br><br>So I discovered a nice function with name SetVirtualResolution(800, 600)<br><br>So I run the game with the desktop width and height and then after I am entering in full screen I change the virtual resolution to 800x600 and I can see the game in full screen without need to change the monitor resolution and the game runs in all monitors.<br><br>But I am encounter one new issue.<br>In windowed modes and in full screen exclusive mode , before I use the SetVirtualResolution(800, 600) function the ifsoguy gadgets was worked.<br>After I was changed the resolution to Desktop width and height and put the setvirtualresolution function I am not able to click on the ifsogui gadgets.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
SetGraphicsDriver(GLMax2DDriver())

Graph = Graphics(DesktopWidth(), DesktopHeight(), 32, 120)
SetVirtualResolution(800, 600)

</textarea><br><br>It seems like the mouse spots for ifsogui was changed. Might you see the resized stretched graphics in whole desktop but the ifsogui seems is not compatible or the program believes I am clicking to other position. X Y in pixels.<br> <br>Is there any tip or some fix this for give some paremeter to ifsogui or if I am making something wrong.<br><br>Thank you very much :) <br><br></td></tr></table><br>
<a name="1333693"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> ... or the monitor goes out of range in hertz <br></div><br><div class="quote"> Graphics(DesktopWidth(), DesktopHeight(), 32, 120) <br></div><br>120hz ?<br>Asking a 60hz screen to display at 120hz will probably display an error. <br><br></td></tr></table><br>
<a name="1333699"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Takis76</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> What about when I am using the SetVirtualResolution(800, 600) I am not able to clikc on the ifsogui gadgets? <br><br></td></tr></table><br>
<a name="1333722"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you got black bars left and right your coordinates for the mouse are offset too. Instead of mouseX you need to use VirtualMouseX and ***Y (or so). If ifsogui does still use MouseX/***Y then it will fail as soon as black bars are added.<br><br><br>Bye<br>Ron <br><br></td></tr></table><br>
<a name="1333726"></a>

<a name="1333729"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GW</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do a mass copy and replace all the non virtual and virtual function calls in the mod.<br>just to be safe, use a copy of the mod.<br><br>VirtualResolutionWidth<br>VirtualResolutionHeight<br>VirtualMouseX<br>VirtualMouseY<br>VirtualMouseXSpeed<br>VirtualMouseYSpeed<br>MoveVirtualMouse<br><br>I did that a long time ago with HighGui and it worked for me. <br><br></td></tr></table><br>
<a name="1333760"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Takis76</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do I need to search each source file of the ifsogui?<br>If I will replace all virtual function will it work?<br>First I will try instead of changing all non virtual functions I will try to only<br><br>mousex an mousey<br><br>If will change all functions in ifsogui does the ifsogui work in non vistual resolution?<br><br><br>I changed from<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
	Pointer_x = MouseX()
	Pointer_y = MouseY()
</textarea><br><br>To this<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
	Pointer_x = VirtualMouseX()
	Pointer_y = VirtualMouseY()
</textarea><br><br>and worked<br><br>@Derron<br>Fortunatelly I don't have black bars left and right. <br><br></td></tr></table><br>
<a name="1333767"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> You might also have them on the top and bottom (if you dev for widescreen on a 4:3 screen for example).<br><br>The culprit was: it used MouseX() and MouseY() which got the left and top offset "included".<br><br>So without the done adjustment you would have had to move your mouse some pixels more right and/or down to "hover" a button.<br><br><br>PS: I fixed that issue some weeks ago in my GUI too (never realized until I started to try my game in full screen - with black bars).<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1333771"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Takis76</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Some other people have black bars when I was using full screen exclusive.<br>With the desktop fullscreen there are not black bars.<br>But I have test my game in TVs in 3 different computers and 2 different laptops in windows xp in windows 7 and windows 10 and I didn't have problem.<br>I show it to some other person and he had vertical bars.<br><br>That was the reason to have my game in full desktop instead of full screen exclusive.<br>The fullscreen exclusive gives me more FPS.<br><br>I will create another one configuration program like setup for the user to choose what kind of screen resolution want or I will put a special configuration interface in my game.<br><br>My screen here is widescreen too. I remember playing with flip -1 , 0 and 1 some other people had these horizontal or vertical black bars.<br><br>The mouse was stopped in black bars , which means the game aspect ratio was 4:3 in wide screen. <br><br></td></tr></table><br>
<a name="1333774"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> You cannot rely on what happens to 4:3 on widescreen monitors.<br><br>Your screen and your GPU driver: both are able to stretch your fullscreen app to the screen resolution. So while fullscreen-800x600 might have black bars on my widescreen monitor, your setup might say:stretch it.<br>In both cases the mouse coordinates are _not_ offet -&gt; means they are correct.<br><br>By using the virtual resolution you define for what resolution you "designed" the application/game. With SetGraphics() you tell the resolution to "use".<br>If they differ, then Blitzmax will prepend/append black bars if needed - or scale the whole thing keeping the aspect ratio.<br><br>In all of these cases MouseX() and MouseY() will tell incorrect values (if scaled or black bars got added). Which is why VirtualMouseX/Y have to get used.<br>Think it is that way because VirtualResolution-support was put on top of everything - without modifying the underlaying functionality like MouseX().<br><br>But normally such things should be hidden from the "end-developer" - and raw mouse coordinates should be made available via "RawMouseX()" or so.<br><br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1333834"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Takis76</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> :)<br>What is the RawMousex() <br><br>Another one new function :P <br><br></td></tr></table><br>
<a name="1333835"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is a non-existing function.<br><br>I just mentioned it as I thought it would be better they had overridden "MouseX()" to take care of virtual resolution and to return the "real mouse x position" (including the virtual resolution-bar's offset) in "rawMouseX()" or "realMouseX()".<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
