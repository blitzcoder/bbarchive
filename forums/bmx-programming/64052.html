<!DOCTYPE html><html lang="en" ><head ><title >Why doesn't this work?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Why doesn't this work?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Why doesn't this work?</a><br><br>
<a name="714812"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sean Doherty</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> The following works:<br><br><pre class=code>
Select m_kClickState
Case kSelected | kClicked 
DrawImage(m_pTClickedImage, m_iX + m_dOffsetX, m_iY + m_dOffsetY) 
</pre><br><br>The following does NOT work:<br><br><pre class=code>
Select m_kClickState
Case kSelected | kClicked | kActive
DrawImage(m_pTClickedImage, m_iX + m_dOffsetX, m_iY + m_dOffsetY) 
</pre><br><br>Isn't the | just an or operator?<br><br>Thanks <br><br></td></tr></table><br>
<a name="714820"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bradford6</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> | is a bit wise OR.<br><br><br>you need to look at what your variables hold in their "bits"<br><br>example:<br>1 = 00000001<br>2 = 00000010<br>4 = 00000100<br>8 = 00001000<br><br>7 = 00000111<br><br>8|7 is the same as 8|4|2|1<br><br><br>| sets a bit to 1 if one or both of the corresponding bits in its operands are 1, and to 0 if both of the corresponding bits are 0. <br><br></td></tr></table><br>
<a name="714822"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sean Doherty</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> If there another or for a case statement I can use? <br><br></td></tr></table><br>
<a name="714823"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> | is a bit wise OR <br></div><br>And? Thats what or is, and more importantly what sean is trying to do<br><br>@Sean you are using Case wrong, use an If statement instead<br><br>What uou have saiod do is select the case to run on the value of m_kClickState, the or (as has been said) just changes the value of the case<br><br><pre class=code>se;ect m_kClickState
    case clicked
        select active
           case true
           case false
</pre> <br><br></td></tr></table><br>
<a name="714824"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bradford6</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> try using a shl:<br><br>kSelected = 0<br>KClicked = 1<br>kActive = 0<br><br>Print kSelected | kClicked Shl 1 | kActive Shl 2<br><br>this will create a unique outcome for each combination.<br><br>00000001 SHL 1 = 00000010<br><br>it just shifts the bits "1" to the left. <br><br></td></tr></table><br>
<a name="714825"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SculptureOfSoul</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> you could use the <b>OR</b> operator - which is a logical OR.<br><br><pre class=code>
Case kSelected OR kClicked OR kActive
</pre><br><br>What you are doing is, as Bradford said, bitwise or'ing your cases together.<br><br>So while you think you are doing something like this<br><br>Case 1 (or) 2 (or) 3 (or) 4<br><br>the program sees that as "Case 7" because <br>1: 00000001<br>2: 00000010<br>3: 00000011<br>4: 00000100<br>----------------<br><br>=: 00000111   = 7<br><br>The <b>OR</b> operator however, simply returns true when any of the conditions are true. <br><br>A handy efficiency tip is to put whatever condition is most likely to be true first in your OR sequence. <br><br>ie. Lets say you have condition 1 that is true 10% of the time, and condition 2 that is true 75% of the time. In an OR conditional statement, it is more efficient to put condition2 first, e.g.<br><br>condition2 OR condtion1<br><br>since ANY true result will cause the OR evalutation to return true. If you put condition1 first, the 90% of the time that it isn't true the program will have to check both condition1 and then condition2. Putting condition2 first will result in the OR statement ONLY checking condition2 the 75% of the time that it returns true.<br><br>The opposite is true for AND statements. Logical AND returns false when any of its test statements are false, so it's wisest to put whatever statement is most likely to return false first in the series. <br><br></td></tr></table><br>
<a name="714826"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SculptureOfSoul</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nevermind, you can't use a Logical OR in a case statement it seems.<br><br>I'd just switch it to an if statment.<br><br>If m_kClickState = kSelected OR kClicked OR kActive<br><br>works. <br><br></td></tr></table><br>
<a name="714827"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SculptureOfSoul</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Of course, the solutions I proposed are assuming that the states kSelected, kClicked and kActive are all mutually exclusive.<br><br>If, on the other hand those states can exist simultaneously, you will need to use a bitwise or to see if any of them are active.<br><br>I'd do it like this<br><br>if ( (m_kClickState AND kSelected) OR (m_kClickState AND kClicked) OR (m_kClickState AND kActive))<br><br>The above will return true if any of the following are true<br><br>ClickState AND kSelected  (true if the kSelected bit is set in clickstate)<br>ClickState and kClicked (true if kClicked bit is set in Clickstate)<br>ClickState and kActive (true if kActive bit is set)<br><br>Of course, this would require kSelected, kClicked and kActive all to have their own single bit identifier. e.g. <br><br>global kSelected = %00000001<br>global kClicked =   %00000010<br>global kActive =     %00000100 <br><br></td></tr></table><br>
<a name="714893"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> According to the BlitzMax documentation, you just have to put a comma between each one.  So:<br><br>Case kSelected, kClicked, kActive<br><br>However, if you're testing bit flags then it gets more complicated and "Select/Case" probably isn't what you want to be using anyway. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
