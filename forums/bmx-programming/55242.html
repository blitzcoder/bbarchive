<!DOCTYPE html><html lang="en" ><head ><title >Flocking or Swarm Algorithms</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Flocking or Swarm Algorithms</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Flocking or Swarm Algorithms</a><br><br>
<a name="615008"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sean Doherty</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have been looking at source code for flocking and swarm algorithms and I figured I would ask if there are any flocking algorithms available for Blitz? <br><br></td></tr></table><br>
<a name="615012"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Blitz would use the same algorithims as the other source code. <br>This might help...<br><a href="http://www.red3d.com/cwr/steer/" target="_blank"> steering behaviors for autonomous characters </a> <br><br></td></tr></table><br>
<a name="615018"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sean Doherty</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, I was hoping to avoid translating the C code.  In fact I would be willing to pay for working source in BlitzMax. <br><br></td></tr></table><br>
<a name="615022"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sean Doherty</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmmm, can I make calls to the C source directly? <br><br></td></tr></table><br>
<a name="615045"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chris C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> i had a look at open flock wouldnt compile in vc++ because of glut problems, looking through the code it would be a bit of a nightmare wrapping it for max, a max implementatin might make more sense, what are you looking to achieve? <br><br></td></tr></table><br>
<a name="615117"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sean Doherty</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Basically, I just want enemy starships to fly in formations and not clumb together.   The following URL has about the easiest code I have seen:<br><br><a href="http://www.wordware.com/files/ai/" target="_blank">http://www.wordware.com/files/ai/</a> <br><br></td></tr></table><br>
<a name="615950"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LAB[au]</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am interested in it as well, but I don't really have the knowledge to write such a library ... but I can help testing it and finding bugs if anyone is willing to start it. <br><br></td></tr></table><br>
<a name="615952"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Diablo</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> that is really cool - did you see the chapter 3 Executables, they are really amazinig. I might have a go and see what i can make out of the source. <br><br></td></tr></table><br>
<a name="616032"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chris C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> cobbled this together - the ships chase a target ship while avoiding their closest nahbours<br><a href="http://free.hostdepartment.com/c/chrisc/" target="_blank">http://free.hostdepartment.com/c/chrisc/</a> <br><br></td></tr></table><br>
<a name="616133"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sean Doherty</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Chris, <br><br>Did you use the flocking code or create this using your own algorithm?  It looks good, but it does not seem to fly in a flock?  The ships keep attempting to change there angles and constantly recorrect?<br><br>Do you have a simple 2D example?  I assume this is in 3D some how?<br><br>Thanks <br><br></td></tr></table><br>
<a name="616184"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chris C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> nah its 2d drawn in 3d, the amount of turn angle just needs refining,(its either full 2 degree turn or nothing at the moment) they do settle into a flock if you mess with the speed/angles<br><br>gotta leave somthing for you to do or I'll spoil your fun! <br><br></td></tr></table><br>
<a name="616188"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sean Doherty</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Chris,<br><br>Was it based on the flocking algorithm or did you come up with it on your own?<br><br>Thanks <br><br></td></tr></table><br>
<a name="616303"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chris C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> my own interpretation of a common method <br><br></td></tr></table><br>
<a name="616304"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TartanTangerine (was Indiepath)</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have 2d flocking code for BMAX, it's based on the flocking alogos in red3d. How much is it worth to you? <br><br></td></tr></table><br>
<a name="616334"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TartanTangerine (was Indiepath)</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sean, I emailed you with a link to the code, it's pretty much got all of the functions and is based on the stuff by Craig<br>Renolds. <br><br></td></tr></table><br>
<a name="616413"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Booticus</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> So Indie, can we get the link to the code as well, or is it uber top secret private? ;) <br><br></td></tr></table><br>
<a name="616445"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TartanTangerine (was Indiepath)</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> it's actually posted on these here forums you just need to know what to look for :) <br><br></td></tr></table><br>
<a name="616487"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Alienforce</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> where.... buhu.. :( <br><br></td></tr></table><br>
<a name="616562"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Booticus</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Indie! OK, how bout you meet me half way? :) I'm searching the BlitzMax forums for keywords like "flock" and "flocking" How bout a keyword? Or perhaps the very forum I can search in? Poop! I cants finds teh codes! <br><br></td></tr></table><br>
<a name="616595"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Fetze</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh come on! ^^<br>Just give us the link, please. ;) <br><br></td></tr></table><br>
<a name="616603"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TartanTangerine (was Indiepath)</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, the search option needs a big overhaul.<br><br>"Boids" is what you need.<br><br>www.policyalmanac.org/games/boids.zip <br><br></td></tr></table><br>
<a name="616607"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Alienforce</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great! Thanks! <br><br></td></tr></table><br>
<a name="616611"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taumel</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>has anyone converted/written the openSteering behaviours (simple and combined ones) for blitzMax? Also for 3d-vectors?<br><br><br>Greetings,<br><br>taumel <br><br></td></tr></table><br>
<a name="616615"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Indiepath,<br>with your allowence, I would convert this to a useful BMax module. <br><br></td></tr></table><br>
<a name="616616"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TartanTangerine (was Indiepath)</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi people, this is not my code. I based my BMAX code off of this.<br><br>I would post my BMAX module but as I said to Sean it has too many dependencies and it tied very tightly into my code - and I don't have the time right now to seperate the stuff.<br><br>@klepto, this is public domain stuff after all - just make sure you post a copy on here :) <br><br></td></tr></table><br>
<a name="616648"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sean Doherty</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Tim,<br><br>It is probably a waste of time for us to all convert it from Blitz Basic to BlitzMax.  It is someone working on the conversion already?  If so would you be willing to post the Max conversion when your done?<br><br>Thanks <br><br></td></tr></table><br>
<a name="616655"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> I will start today, and when finished i will post it here.<br>The first step for me now, is to find a good start.<br><br>i was thinking of a standard type like:<br><br>Type TEntity<br>End type<br><br>With all needed things for flocking and collision<br><br>And then by using the code you could do something like<br><br>Type MyEnemy extends TEntity<br>EndType<br><br>AddtoFlock(New MyEnemy)<br><br>and in the main loop simply something like UpdateFlocking() <br><br></td></tr></table><br>
<a name="616687"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sean Doherty</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> If I has going to do it, I would probably implement it using a stratetgy pattern.  Every TEntiity only one strategy at a time.  This way the AI is separated from the Entity.  For example,<br><br>- An entity has a flocking flocking strategy which controls how the entity moves when in this state.<br><br>- An entity may also have a wander strategy which controls how the entity moves when in this state.<br><br>The idea behind the strategy pattern is to de-couple in this case the AI which undersatnds how to be an AI and the Entity which is an expert at being an entity.<br><br>Also, I would further isolate any collision other than what it needed for the different Boids algorithms. <br><br></td></tr></table><br>
<a name="616714"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe my writing was a bit confusing, I mainly want to do it the way you discribed.<br><br>So isolated collisions etc. <br><br></td></tr></table><br>
<a name="616719"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sean Doherty</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool:) <br><br></td></tr></table><br>
<a name="616786"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Booticus</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> Rad! <br><br></td></tr></table><br>
<a name="617199"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sean Doherty</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> klepto2,<br><br>How goes the conversion?  Hope all is well?<br><br>Thanlks <br><br></td></tr></table><br>
<a name="617323"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, I'm currently writing the collision system.<br>The polygon collision is quite finished.<br>In the final version you will get also an editor, in which you could make polygon shapes for sprites. So they are rotateable around their center. <br><br></td></tr></table><br>
<a name="617942"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> little Update:<br>Collision system is almost done, I have some problems with memleaks in it. If you want to help, you could take a look to the code (located at: <a href="http://www.eastwestgames.de/file.php?id=52" target="_blank">http://www.eastwestgames.de/file.php?id=52</a> <br>)<br><br>If this problem is solved, I will begin with the flocking and steering. <br><br></td></tr></table><br>
<a name="617977"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LAB[au]</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> Downloaded will check today ... <br><br></td></tr></table><br>
<a name="618102"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> Problem Solved, MemLeak is gone.<br>Thx for trying it. <br><br></td></tr></table><br>
<a name="618116"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LAB[au]</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> Allright, I was just about to get back to it :) good idea to check this thread before starting. <br><br></td></tr></table><br>
<a name="618118"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Haramanai</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> What? Collisions? <br>Can you point a link with out the MemLeak?<br>Also the Polygon Polygon collision it's not good. <br>The over all collision it's based on collision line.<br>And I was hoping I found something good for Collisions. <br><br></td></tr></table><br>
<a name="618121"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Haramanai</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> Also can I ask how wrote the original staff? <br><br></td></tr></table><br>
<a name="618158"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> I will post it as soon as possible. Currently I'm sorting out some errors regarding the line line Collision.<br><br>Some things like the line type is based on the MaxPhysics lib (with some changes, like a new collideline function).<br>The other things are taken from several math sides and codearchives.<br><br>and you're right that it is based on collision line, what surely isn't the best solution, but it fulfil my current needs. <br><br></td></tr></table><br>
<a name="618168"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Haramanai</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't remeber any problem about line line collision.<br>I have tested prity much. Maybe you have an old version of it that had problems with vertical lines.<br>If that is the problem check the The line in the BlitzWiki. <br><br></td></tr></table><br>
<a name="618170"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Haramanai</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> Also check out the topic I made about Elipsoid Collision<br>It includes and intersection function that is really fast and a closestPointOnLine function but I use other Vector lib by SSS. <br><br></td></tr></table><br>
<a name="618326"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> So, here is a Version without the memleak.<br><br>Download at : <a href="http://www.eastwestgames.de/file.php?id=55" target="_blank">http://www.eastwestgames.de/file.php?id=55</a><br><br>Todo: <br>Better Poly --&gt; circle Collision instead of simple intersection<br>Add a better Collision Management instead of updating the last collision<br><br>P.S:<br>In the sample you could rotate the Polygons with F1 and F2<br><br>[Edit] : Link changed. Please reload. Sorry <br><br></td></tr></table><br>
<a name="618332"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Haramanai</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> What's this?<br>Is it suposed to check if the line collides the Pollygon?<br>Because if this is the case then it's not working well.<br>Edit: Ok now. <br><br></td></tr></table><br>
<a name="618338"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> It detects intersections between all shapes in the Collision system. in this case<br>2 polygos<br>2 circles <br>2 lines<br><br>Unfortunatly currently there is only the last collided object in the list but this will be changed.<br><br>eg: in the app this is displayed:<br><br>NR 1 PolyGon collided with 5 : Line this means<br>the shape number 1 which is a polygon is collided with shape number 5, which is a line.<br><br>As said above, this is not correct everytime, because only the latest collision shape is saved within the object.<br><br>Oh, Sorry. Just realised that this was the wrong link. Corrected now. <br><br></td></tr></table><br>
<a name="619315"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Scott Shaver</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just a side note I'm almost finished porting the (steering behavior) c++ code from "Programming Game AI by Example" over to BMax. I'll post my stuff up here when it is done.<br><br>BTW, this book is great, I recommend it to everyone. <br><br></td></tr></table><br>
<a name="619982"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sean Doherty</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool Scott,<br><br>I actually got it working on my applicaiton.  However, since my application is angle based and not forced based I had to alter the techique a fiar bit.  I found that it easy to migrate the code but took a lot of work to tweak the values in order to get things to work just right.<br><br>I ported:<br><br>- Flocking (separation, cohesion, alignment)<br>- Flee<br>- Seek<br>- Obstacle Avoidance<br>- and Evasion<br><br>I think I still may to Pursuit.  I am fairly happy with the result, but it changed the game play a lot.:) :(  Time will tell! <br><br></td></tr></table><br>
<a name="620129"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Scott Shaver</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sean, did you have any luck incorporating the maxTurnRate into the Seek behavior? The book seems to have left this out of the code and I'm having trouble getting it to work so that the sprite doesn't do a 180 degre flip when the target is directly behind it?<br><br>BTW there is a thread in the Tutorial forum for my port of the code. <br><br></td></tr></table><br>
<a name="620342"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sean Doherty</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> Scottt,<br><br>I don't actually have the book you mentioned, my port was based Craig Reynolds article on red.com and some coding samples.  I actually add all the vectors needed for flocking together and then calculate the angle of the ship.  Basically, I do an angle diff and if the angle is less rotate one direction otherwise rotate the other direction.  <br><br>Basically, all the rotation constraits are build into the entities rotate method.  My seek code is as follows:<br><br><pre class=code>
	'------------------------------- Seek -----------------------------------
	'
	'  Given a target, this behavior returns a steering force which will
	'  direct the agent towards the target
	'------------------------------------------------------------------------
	Method Seek2:Vector2D(vecTargetPosition:Vector2D)

		Local vecDesiredVelocity:Vector2D = CreateVector()
		Local vecStarshipPosition:Vector2D = CreateVector()
		Local dMaximumVelocity:Double
		
	   	vecStarshipPosition.x = m_pTStarship.GetX()
	   	vecStarshipPosition.y = m_pTStarship.GetY() 
	   	
		vecDesiredVelocity = vecTargetPosition.Copy()
		vecDesiredVelocity.Subtract(vecStarshipPosition)
		vecDesiredVelocity.Normalize()
		
		dMaximumVelocity = m_pTStarship.GetHull().GetEngine().GetMaximumVelocity()
		vecDesiredVelocity.x :* dMaximumVelocity
		vecDesiredVelocity.y :* dMaximumVelocity
		
		vecDesiredVelocity.x :- m_pTStarship.GetSpeedX()
		vecDesiredVelocity.y :- m_pTStarship.GetSpeedY()
	
	  	Return vecDesiredVelocity
	  	
	End Method   
</pre><br><br>Thanks <br><br></td></tr></table><br>
<a name="621880"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LAB[au]</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> Scott, if you need help to finish this, I have some time... <br><br></td></tr></table><br>
<a name="622065"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Scott Shaver</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#51">[#51]</a></td></tr></table></td></tr><tr ><td class="posttext"> @LAB: Please feel free to jump in. I need someone to help test the code by playing with the various behaviors. Also I need help figuring out this 180 degree flip issue. One other thing that has me baffled right now is the update method of the sprite type. I've had to change the line<br><br>position.Add(velocity.MultiplyCopy(time_elapsed))<br><br>to<br><br>position.Add(velocity)<br><br>in order to get any speed out of the sprites. This of course ruins the frame rate independent movement.<br><br>The last big item is putting in the cell partitioning code that is currently commented out and incomplete.<br><br>Please post over in this thread:<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=55711" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=55711</a><br><br>and thanks. <br><br></td></tr></table><br>
<a name="891555"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Filax</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#52">[#52]</a></td></tr></table></td></tr><tr ><td class="posttext"> Anybody do the same in 3D ? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
