<!DOCTYPE html><html lang="en" ><head ><title >Directional Lighting</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Directional Lighting</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Directional Lighting</a><br><br>
<a name="558699"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SillyPutty</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Has anyone got an idea on how to place lightsources so that shadows be generated correctly ?<br><br>For instance light affecting objects and casting shadows.<br><br>I have seen it talked about in older threads, the only place I have seen it implemented is in one of cyanides projects, check the second pic.<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=50188" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=50188</a><br><br>Any ideas ? <br><br></td></tr></table><br>
<a name="558751"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >boomboommax</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> lo er, the way i did it was pretty fake actually (but looked damn nice!) i just did some angle calcs  based on light positions and rendered shadow meshes extruded out from the walls.<br><br>(used gl_quads) <br><br></td></tr></table><br>
<a name="558758"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SillyPutty</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> ah ok !<br><br>so for the first back facing poly you encountered, you marked that point as the begin of a shadow mesh ?<br><br>From that did you then work out correct "cone" angles to determine the angle of light cutoff ? <br><br></td></tr></table><br>
<a name="558762"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >boomboommax</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> well if you know the positions of the end points on the "wall" get the angles from the light to the ends and you can extrude the shadow out from that, (coneage will be sorted auto)<br><br>lil warning thou, it looks pretty cool but unless the shadows are pretty dark you may notice some overlap sometimes er, you could do some more math to makesure they fit snug thou. <br><br></td></tr></table><br>
<a name="558766"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SillyPutty</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> my math really stinks, I am gonna battle with this :( <br><br></td></tr></table><br>
<a name="558770"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >boomboommax</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> i will try and make you an example right now!<br>brb <br><br></td></tr></table><br>
<a name="558771"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SillyPutty</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> oh man, I would be eternally grateful !! <br><br></td></tr></table><br>
<a name="558775"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >boomboommax</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok heres a simple example, there are problems with this method , but er with some carefull thinking you can cover them up.<br><br><a href="http://legion.gibbering.net/cyanidenights/forum/viewtopic.php?p=13#13" target="_blank">http://legion.gibbering.net/cyanidenights/forum/viewtopic.php?p=13#13</a> <br><br></td></tr></table><br>
<a name="558777"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SillyPutty</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> OMW, that is fantastic !!!<br><br>I think guys are gonna give you props for this !! <br><br></td></tr></table><br>
<a name="558780"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >boomboommax</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> well its a pretty simple method it might even be in the code archives (?) aint looked but er, nehow! hope it helps <br><br></td></tr></table><br>
<a name="558782"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SillyPutty</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> it helps ! thanks again :) <br><br></td></tr></table><br>
<a name="559087"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hotcakes</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've seen OMW a lot lately.  wtf does it stand for? <br><br></td></tr></table><br>
<a name="559102"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SillyPutty</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> OMW = Oh My Word :)<br><br>Cyanide, I see that with this method, there will be problems with convex hulls ?<br><br>What I could do is render the shadows in the first pass, and overlay my hulls(mages) over the shadows. Would this be ok to do ? <br><br></td></tr></table><br>
<a name="712625"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SillyPutty</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh noes, I seem to have misplaced the backup I made of this code-snippet and this link is down<br><br>legion.gibbering.net/cyanidenights/forum/viewtopic.php?p=13#13 <br><br>Cyanide aka Boomboommax, do you still have this code available ? I am pretty sure from your previous help, and looking at the code before I could figure it out, however, having the snippet again would really help. <br><br></td></tr></table><br>
<a name="712627"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Would <a href="http://www.pyroplay.de/softshadows.html" target="_blank"> this </a> help? <br><br></td></tr></table><br>
<a name="712629"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SillyPutty</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> yeah, I was looking at trying this out too, thanks.<br><br>If for some reason I am feeling adventurous I will see if I can get the prior example re-coded. <br><br></td></tr></table><br>
<a name="712665"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SillyPutty</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok, just got home and knocked this up quick from memory<br><br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=1833" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=1833</a> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
