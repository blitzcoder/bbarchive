<!DOCTYPE html><html lang="en" ><head ><title >cpu multi-core , dual-core</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >cpu multi-core , dual-core</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >cpu multi-core , dual-core</a><br><br>
<a name="812302"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cronos</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> is possible make true dual-core or multi-core app ??? <br><br></td></tr></table><br>
<a name="812305"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> No. <br><br></td></tr></table><br>
<a name="812306"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you mean multithreading on several cores, I don't think so with current version of BlitzMax. If you mean let the code execute in both threads for calculations etc, this can be done with current BlitzMax version modifing the BMK utility to activate some speciffic flags when compiling C and C++ source code, and rebuilding all the modules. But I would wait to the next BlitzMax update as it is anounced for a wekk or so, and it is suposed to have some speed improvements, so maybe this is already done 'officially' (or maybe not, who knows!) <br><br></td></tr></table><br>
<a name="812313"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> well it depends on the application... <br><br></td></tr></table><br>
<a name="812315"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> For something to run on more than one core or cpu, the app has to be split up into parts. Each part is a thread. Or you could do it with multiple processes which are the same thing but are very isolated from each other. The o/s is then able to assign a thread or process to run on a core while another is running on another core. So long as the o/s supports threads and/or processes and also supports either multi-core CPU's or multiple CPU's, it should be able to schedule the threads/processes to individual cores/cpu's.<br><br>You will need your own or a third party's thread code in order to use threads in BlitzMax as it is not currently supported and you are totally on your own as to ensuring that it is `safe` to do so, there are a lot of issues to consider such as one thread changing data which another thread is assuming to be in a given state, plus issues with the garbage collector etc.<br><br>You could use the Free Process library but processes aren't as easy to use as threads. Whatever you do you'll have to do most of the work yourself.<br><br>I made my own script system and implemented my own scheduler to split up my scripts as threads as if running in multitasking, but it's really only one process with virtual threads, so it doesnt use any other cores. Would be really nice to have proper thread support. <br><br></td></tr></table><br>
<a name="812330"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Flat out no.  You cannot safely use threading in BlitzMax. <br><br></td></tr></table><br>
<a name="812335"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cronos</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> 'it use dual-core ???<br>' blitzmax multitasking example<br><br>Strict<br><br>Global TaskManager:TTaskManager=New TTaskManager<br><br>Function task1()<br>	Print "task1"<br>End Function<br><br>Function task2()<br>	Print "task2"<br>End Function<br><br>TaskManager.StartTask 10,task1<br>TaskManager.StartTask 20,task2<br><br>Graphics 640,480<br><br>While WaitEvent()<br>	DebugLog CurrentEvent.toString()<br>Wend<br><br>End<br><br>Type TTask<br>	Field _hertz#<br>	Field _count<br>	Field _millis<br>	Field _ticks<br>	Field _callback()<br>	Field _busy<br><br>	Method Start(hz#,callback())<br>		_count=0<br>		_hertz=hz		<br>		_millis=MilliSecs()<br>		_callback=callback<br>		TaskManager._tasklist.AddFirst Self<br>	End Method<br><br>	Method Stop()<br>		_hertz=0<br>		TaskManager._tasklist.Remove Self<br>	End Method<br><br>	Method Update(ms)<br>		Local	count<br>		If _busy Or _hertz=0 Return	'ignore if stopped or already in callback <br>		_busy=True<br>		count=((ms-_millis)*_hertz)/1000<br>		If count&gt;_count<br>			_ticks:+1<br>			_count=count<br>			_callback()<br>		EndIf<br>		_busy=False<br>	End Method<br><br>End Type<br><br>Type TTaskManager<br>	Global _tasklist:TList <br>	Global _timer:TTimer<br>	Global _event:TEvent<br>	<br>	Method New()<br>		_tasklist=New TList<br>		_event=CreateEvent( EVENT_TIMERTICK,Null,0 )<br>		AddHook EmitEventHook,hook<br>		_timer=CreateTimer(100,_event)<br>	End Method<br><br>	Function hook:Object( id,data:Object,context:Object )<br>		Local ms<br>		Local t:TTask<br>		If data&lt;&gt;_event Return data<br>		ms=MilliSecs()<br>		For t=EachIn _tasklist<br>			t.Update(ms)<br>		Next<br>	End Function<br><br>	Method StartTask:TTask( hertz#,callback() )<br>		Local t:TTask<br>		t=New TTask<br>		t.Start hertz,callback<br>		Return t<br>	End Method<br><br>End Type <br><br></td></tr></table><br>
<a name="812361"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> 'it use dual-core ??? <br></div>No.<br><div class="quote"> ' blitzmax multitasking example <br></div>No. <br><br></td></tr></table><br>
<a name="812371"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Where there's a will there's a way, guys, come on. Just saying no is not helpful. <br><br></td></tr></table><br>
<a name="812384"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Where there's a will there's a way, guys, come on. <br></div>No there isn't. Short of driving over to Marks house and threatening him at gunpoint, to include this functionality in a future'ish release there is no practical way to write a multi-kernel-threaded program in BlitzMAX. BlitzMAX does not support the creation (forking) of threads, nor does BlitzMAX provide a thread synchronization mechanism (like a <a href="http://en.wikipedia.org/wiki/Monitor_%28synchronization%29" target="_blank">monitor</a>) to resolve race situations and prevent deadlocks.<br><br><div class="quote"> Just saying no is not helpful. <br></div>Well, helpful or not, it happens to be the truth.<br><br>If there was a reliable way to do it, it would have been done already. The only solution I've found is to make a separate program in another language that supports threads and does provide a synchronization mechanism (or write your own). However by the time you finish writing all that, and the boilerplate code that goes with it, you may as well switch to that language entirely, as there is no longer a compelling reason to use BlitzMAX. <br><br></td></tr></table><br>
<a name="812565"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >iprice</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Write 2 apps that communicate over 127.0.0.1. <br><br></td></tr></table><br>
<a name="812573"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ethernet? Wouldn't that mean you have overhead for sending and receiving the data? Does it work on the same computer without a network? <br><br></td></tr></table><br>
<a name="812593"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> if you're trying to do it with 2 apps, I would recomend you to use pipes. <br><br></td></tr></table><br>
<a name="812704"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >iprice</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Pipes? Tell me more about them and how to use them with blitzmax :) <br><br></td></tr></table><br>
<a name="812708"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is this the stuff in PUB.FreeProcess? <br><br></td></tr></table><br>
<a name="813426"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, it is on freeprocess. Pipes are a stream to comunicate 2 apps, you can see, as instance, how the debuger works in the MaxIDE to get and send data to the hosted debuged application. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
