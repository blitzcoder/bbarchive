<!DOCTYPE html><html lang="en" ><head ><title >Proper Player Vs Object Coding</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Proper Player Vs Object Coding</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Proper Player Vs Object Coding</a><br><br>
<a name="1269805"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FBEpyon</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello,<br><br>I have been working on a serious program for the last few weeks with a group of people I know, and I have been programming the Player logic.<br><br>My question is or maybe request for help is; I'm trying to figure out what would be the proper way (recommended way) to do interactions of player class, and other objects in the game.<br><br>The first thing I did was separate Classes for each the player, and say health piece and found the code to be very back and forth having to make sure that the player object test to see if the object was:<br><br>a) with in the correct distance of the player<br>b) which object he was on in the list<br>c) collect the object<br>d) remove it from the list<br><br>Like I said this was very redundant and I was hoping for a suggestion to better this concept.<br><br>My next approach was going to be a primary GameObject class and then making sure that objects in the game (player, mobs, object, platforms, etc..) were extended from this primary GameObject class. Then I realized this also created the same problem above having to check a list, and make sure that you were not searching the player, but then you would need to make sure that object was a health object, and etc.<br><br>Can someone please help me with a better way or am I heading in the right direction with this?<br><br>Thanks, <br><br></td></tr></table><br>
<a name="1269806"></a>

<a name="1269808"></a>

<a name="1269809"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> ...what have these two concepts got to do with one another? Whether world items are kept in a list doesn't have ...anything, as far as I can see... to do with whether they share a common base class with the player.<br><br>(Don't use a common GameObject class. There's rarely any good reason to do this. Shared subtypes are for when things are actually subtypes, and might have to operate in the same situations. This is pretty rare for game objects, so they're usually not helpful.)<br><br>You haven't been entirely specific about what you're doing with lists, but in general an associative structure like e.g. a TMap is good for this. When your player detects a mesh in the 3D scene or a sprite in the 2D scene using collision or the like, you can put it into a map keyed by meshes or sprites to retrieve the health piece object represented by that visual world component.<br><br><br>If you haven't heard of entity-component systems, take a look at <a href="http://t-machine.org/index.php/2007/09/03/entity-systems-are-the-future-of-mmog-development-part-1/" target="_blank">this</a> and <a href="http://cowboyprogramming.com/2007/01/05/evolve-your-heirachy/" target="_blank">this.</a> They might pre-emptively answer some questions about object structure and show you why it's important to avoid the temptation to subclass GameObject.<br><br>There are many ways to implement such a thing in Max, so it depends what you're doing. Linking components via a multimap is probably easiest (a multimap is a multi-way version of a map: instead of key-&gt; value, you have obj1 <i>or</i> obj2 <i>or</i> obj3 ... -&gt; {obj1, obj2, obj3}. Implement it by wrapping a whole bunch of maps together, each one keyed on one of the "columns").<br><br>Components are important because they let you link a player to a character model and a world position, and a health kit to a potion model and a world position, without suggesting the utterly absurd relationship that because players and potions both exist in space, they must be basically the same thing (which is what deriving both from GameObject would suggest, and why that generally ends up being a mess because the shared properties are totally arbitrary). It also lets you avoid the idea that a player's mesh/sprite, or position, is actually <i>part</i> of a player, when it isn't. <br><br></td></tr></table><br>
<a name="1270177"></a>

<a name="1270178"></a>

<a name="1270186"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FBEpyon</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> @ Yasha : Thanks for the wise words that you provided me, I have been researching the component approach for the last few days, and its amazing how much more you can do with it.  I'm not fully aware of the best way to go about it, but I have been looking at multiple other examples.<br><br>From what I have seen so far its about not inheriting from multiple types, and just assigning components to the Entities Types inheriting from the base TEntity Type.<br><br>I had a look at AlexO approach to this as well, and it seems to be very solid approach, but I added in my own things to better it for my programming. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
