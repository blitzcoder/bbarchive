<!DOCTYPE html><html lang="en" ><head ><title >Does 'Local' have another purpose?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Does 'Local' have another purpose?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Does 'Local' have another purpose?</a><br><br>
<a name="495026"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was wondering why the following code snippet gives an error if the Local keyword is omitted:<br><pre class=code>
Local StringArray:String[] = ["Here's","a","string"]

Print StringArray[2].length
Print SizeOf(StringArray) 
</pre><br>I thought Local was for declaring a variable inside a function or method to be non-global and is released when the function returns. What does that have to do with the example above?<br><br>Is Local required for some other reason(s), too?<br><br>Thanks,<br>Russell <br><br></td></tr></table><br>
<a name="495029"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Local is for declaring a variable that is only visible within the current scope, and which 'dies' when the scope is left.  Every part of the program is in some scope or another, the highest scope being the main body of your code. <br><br>In Strict mode, variables must be declared as either Local or Global.  <br><br>The 'scope' does not have to mean a function.  It applies to For..Next, Repeat..Until, While...End While blocks as well (amongst others) <br><br></td></tr></table><br>
<a name="495040"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >NeuralizR</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there somewhere that scope changes are identified in the docs?<br><br>Repeat blocks have their own scope while If blocks do not, for example. <br><br></td></tr></table><br>
<a name="495080"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Also, the above is not in Strict mode nor in any sort of code block. So why won't it work without 'Local'?<br><br>It's no big deal, I'll just use Local all the time if I have to (unless it really is Global). Just wondered why it is required in this case.<br><br>Russell<br><br>p.s. Static would be nice as well :) <br><br></td></tr></table><br>
<a name="495082"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'd call it a bug. <br><br></td></tr></table><br>
<a name="495108"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Also, the above is not in Strict mode nor in any sort of code block <br></div><br><br>Yes it is in a code block.  The main body of your code, when compiled, resides in a _bb_main() function. <br><br></td></tr></table><br>
<a name="495121"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >teamonkey</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Repeat blocks have their own scope while If blocks do not, for example.  <br></div><br>Yes they do. <br><pre class=code>Strict

If(True)
	Local y:Int = 4
End If

y = 12</pre><br>That won't compile the y=12 line because y is local to the If block.<br><br>Anything which finishes with an End... statement is a block with its own scope. Repeat...Until/Forever, For...Next and While...Wend are blocks too. <br><br></td></tr></table><br>
<a name="495340"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you ask me, anything in the main body should be considered Global (and in most languages it is). I don't see a logical reason why Local should be required in this case.<br><br>No big deal, but it's easier to get a 'handle' on things if you know the reasoning behind it.<br><br>Russell <br><br></td></tr></table><br>
<a name="495614"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Repeat blocks have their own scope while If blocks do not, for example. <br></div>If blocks have their own scope too. If you take effort to indent your blocks carefully, you'll notice that variable scope is in effect for the duation of the indentation (think of it like { and } in all other languages since Pascal or something, but you guys don't like visible indication of scope, [it is appearently evil] so we'll just leave it at that).<br><br><div class="quote"> p.s. Static would be nice as well :) <br></div>Except it's called Global in Blitz. When is a Global not Global? When it's inside a type declaration... It's hard to grasp, I understand.<br><br><div class="quote"> If you ask me, anything in the main body should be considered Global (and in most languages it is). <br></div>It isn't "Global" as such (nor is it nessecarilly in other languages). It is however Local to the "root" or "main" scope of the program.<br><br><div class="quote"> No big deal, but it's easier to get a 'handle' on things if you know the reasoning behind it. <br></div>Well that's really the core of the problem, isn't it? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
