<!DOCTYPE html><html lang="en" ><head ><title >Gravity</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Gravity</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Gravity</a><br><br>
<a name="557090"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am just wondering, is the amount of gravity that is exerted on an object some distance from the earth the same as the amount of gravity that would be exerted on it if the object was closer?<br><br>I don't need to know what the gravity equasions  are. I don't understand them. What I want to know is, if I am modelling this in 2d and I have objects falling due to their weight, is it accurate to just add a constant value to their Y position or Y inertia each frame, or does the amount of gravity differ further from the surface of the earth?<br><br>And if it's a curve, what kind of curve? <br><br></td></tr></table><br>
<a name="557095"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Gravity is greater as you get closer to the surface of the Earth, but only by a negligible amount. <br><br></td></tr></table><br>
<a name="557098"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Because of the great distance that the gravity pull spans out into space? What if it were scaled down? <br><br></td></tr></table><br>
<a name="557132"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DocFritz</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> That would mean, you crashed some physical laws of nature ;)<br>Whatever, the higher you go, the easier it is to achieve a bigger height. Just try it, will be way strange for the player ^^ <br><br></td></tr></table><br>
<a name="557151"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TartanTangerine (was Indiepath)</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ummn objects don't fall according to thier wieght. A heavier object will not hit the ground before a lighter object.<br><br>All objects (near the earth's surface) experience a constant downward acceleration of g = 9.81 (m/sec)/sec, regardless of what their mass was.<br><br>Imagine you had two cannon balls of exactly the same shape and dimensions, one was hollow and the other soild.. if you dropped these from a great hieght at exactly the same time they would hit the floor at exactly the same time.<br><br>To summarize, we know the acceleration an object experiences (due to the gravitational attraction between the earth and the object) does depend on its height above the surface of the earth. However, if the object is reasonably close to the earth's surface, the acceleration it experiences does not change by much (even if the height of the object is 1000 meters above the earth's surface). As a result, in most cases, we may assume the object experiences a constant downward acceleration of g = 9.81 (m/sec)/sec. <br><br></td></tr></table><br>
<a name="557160"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >teamonkey</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> g = GM/(r*r)<br><br>Where g is the acceleration due to gravity, M is the mass of the Earth, r is the distance from the centre of the Earth and G is a constant (6.67e-11 if g is in m/s^2, M in kg, r in metres, but it's one of those things you need to fiddle until it looks right in a game. Start with G=1 and scale accordingly).<br><br>g=9.81 when r is the distance from the centre of the Earth to the surface.<br><br>This equation doesn't hold if you're actually some way under the Earth's surface (because the Earth above you starts to pull you in the opposite direction to the centre) <br><br></td></tr></table><br>
<a name="557163"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Filax</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can you post a little and simple example with  g = GM/(r*r) formula ? <br><br></td></tr></table><br>
<a name="557214"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >teamonkey</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try this.<br><br>Er, it's actually g = -GM/(r*r). Forgot the minus sign, as usual :)<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Strict

' g = -GM/(r*r)

Const G# = 10.0			' Or whatever
Const dt# = 1.0/60.0	' Fixed 60Hz

Const MAX_PLANETS = 10

Graphics(640, 480, 0)


Type Body
	Field x#, y#, vx#, vy#, M#
	Field size#
	
	Method Draw()
		DrawOval(x-size, y-size, size*2, size*2)
	EndMethod
EndType


Local Sun:Body = New Body
Sun.x = GraphicsWidth()/2.0
Sun.y = GraphicsHeight()/2.0
Sun.vx = 0.0
Sun.vy = 0.0
Sun.M = 10000.0
Sun.size = 16.0


Local Planet:Body[MAX_PLANETS]
For Local i=0 Until MAX_PLANETS
	Planet[i] = New Body
	Planet[i].x = RndFloat()*GraphicsWidth()
	Planet[i].y = RndFloat()*GraphicsHeight()
	Planet[i].vx = (RndFloat()-0.5)*25.0
	Planet[i].vy = (RndFloat()-0.5)*25.0
	Planet[i].M = 1.0
	Planet[i].size = 4.0
Next


While Not KeyHit(KEY_ESCAPE)
	Cls()
	
	Sun.Draw()
	
	' Apply the sun's gravity to each of our planets
	' We ignore the effect the other planets have on the sun and on each other
	For Local p:Body = EachIn Planet

		' Euler physics
		p.x :+ p.vx*dt
		p.y :+ p.vy*dt


		' g = -GM/(r*r)
		Local rx# = p.x-Sun.x
		Local ry# = p.y-Sun.y
		Local r# = Sqr(rx*rx + ry*ry)

		If r&gt;Sun.size	' Don't do it if it's too close
			Local g# = -G*Sun.M/(rx*rx + ry*ry)
			Local gx# = rx/r * g
			Local gy# = ry/r * g
		
			p.vx :+ gx*dt
			p.vy :+ gy*dt
		EndIf

		
		p.Draw()
	Next
	
	Flip()
	FlushMem()
Wend
</textarea><br><br>It creates some planets in random positions around a sun with random velocities. Try fiddling with G and the masses and see what happens. Some of the planets should have sufficient velocity to stay in an orbit around the sun, but those without will crash in to it. <br><br></td></tr></table><br>
<a name="557271"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> btw: the G is only a "scaling constant" for physical purpose. <br><br>So if your forces do not fit in general, this is the best place to start with changing.<br><br>if it doesn't fit for single object or part of the system, then its their weight <br><br></td></tr></table><br>
<a name="557273"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Filax</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for example :) <br><br></td></tr></table><br>
<a name="557279"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shambler</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Also remember that because of friction with the air, objects do not keep accelerating ad infinitum but reach a terminal velocity. <br><br></td></tr></table><br>
<a name="557691"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> From Teamonkey's example, it looks like the objects are gradually accelerating faster as they get closer to the sun. So, is gravity supposed to be applied to the acceleration of the object or to the objects position? <br><br></td></tr></table><br>
<a name="557693"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Gravity is a force that is applied to an object to it affects which means it accelerates the object -&gt; vector addition to the actual acceleration vector <br><br></td></tr></table><br>
<a name="557694"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dynaman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; So, is gravity supposed to be applied to the acceleration of the object or to the objects position?<br><br>To the acceleration of the object.  <br><br>Atmospheric friction would have it reach a maximum value, like Shambler said. <br><br></td></tr></table><br>
<a name="557808"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Booticus</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the example! I was just thinking about that the other day...that I didn't have an example, I mean. <br><br></td></tr></table><br>
<a name="557861"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> If the object is moving and it has a velocity, then why would you add the gravity to the acceleration and not to the velocity? <br><br></td></tr></table><br>
<a name="557862"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> If the object is moving and it has a velocity, then why would you add the gravity to the acceleration and not to the velocity? <br><br></td></tr></table><br>
<a name="557880"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >The r0nin</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Say Object.x, .y, &amp; .z are position<br>Object.vx, .vy, &amp; .vz are the velocity.<br><br>Let's say that the source of gravity is directly below the object (-y some distance), and is equal to the Earth's gravity at its surface.<br><br>You would add whatever movement vectors you have in your routines to vx-vz and then add a -9.8 meters per second to Object.vy to add the gravity.<br><br>In other words, gravity is an acceleration because every second you add another -9.8 m/s to the downward velocity.  So, with no other force acting upon your object, it will speed up (accelerate) by an additional -9.8 m every second (-9.8m/s at 1 sec, -19.6m/s at 2 sec, etc.).  In code, however, you simulate this by adding -9.8 to your velocity each second, even though this is an acceleration. <br><br></td></tr></table><br>
<a name="558140"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> How about if you have two large circular bodies representing planets and each has its own gravity and you want free-floating objects in space to be appropriately attracted, so that in the area where the gravitational fields of both planets overlap, some of the gravity cancels each other out?<br><br>In that scenario, where you can see things on a big scale, does the pull of gravity need to diminish over distance so, let's say, you don't get any pull if you are half a screen away from the surface? <br><br></td></tr></table><br>
<a name="558155"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> AngelDaniel - calculate the individual force exerted due to each planet, then add all the xcomponents, all the ycomponents and use these for your acceleration. Do this wherever the player is (not just between planets) and it will give a realistic simulation. This automatically takes care of any cancellation/addition. So yeah, for realistic simulation you keep the diminishing force with distance for every individual body if u want max realism. <br><br></td></tr></table><br>
<a name="558287"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >The r0nin</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you take a look at the actual gravity equation [g = -G(M/r^2)] you'll notice that the force decreases as the square of the distance.  So once you determine the masses of your planets and determine the value of G to suit your simulation (you can use the real value if you want [6.673x10^-11], but to get a large effect you would have to use really large masses... for 9.8 m/s^2 close to one of the planets you would have to use the real value for the mass of the Earth:  ~6x10^24 kilograms!), use the given equation and the rest will take care of itself.  Calculate the vector pull on object one from planet one, calculate the vector pull on object one from planet two, and at the right distance and location, the vectors will cancel... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
