<!DOCTYPE html><html lang="en" ><head ><title >How can I render-tween with BlitzMax?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >How can I render-tween with BlitzMax?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >How can I render-tween with BlitzMax?</a><br><br>
<a name="747982"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SofaKng</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm going to use fixed-timestep logic for my game but I'm confused on how to implement render-tweening.<br><br>According to the articles on gaffer.org, it is easy to use linear interpolation based on the amount left in the accumulator.<br><br>So, for example...<br><br>Let's say I have a ball moving in a circle at a rate of 4 seconds per full rotation.<br><br>After 2 seconds the ball is halfway around the circle.<br><br>My accumulator (eg. the amount left over after performing full timestep updates) says that we are 1/10th (0.1) of the way to the next timestep.<br><br>Where should I draw my ball?  I can't perform an update on the ball because that would ruin my fixed-rate logic.<br><br>Do I somehow move the ball in a straight line?  If so, how do I know where to move it?<br><br>Thanks for your help... <br><br></td></tr></table><br>
<a name="747983"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You draw it 1/10th of the way between where it is now and where it was the last time you updated it. <br><br></td></tr></table><br>
<a name="747999"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Or mathematically in vectors:<br>OldPos + Tween*(NewPos-OldPos)<br>(tween would in your example be 1/10) <br><br></td></tr></table><br>
<a name="748118"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SofaKng</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> So the rendering is always delayed behind the physics/updates?<br><br>I was thinking that I would extrapolate a position instead of interpolating.  In other words, I thought the physics would update, and then I would draw the object's current position PLUS a tiny bit further due to tween.<br><br>Also, wouldn't each object need custom code for tweening?  For example, a ballistic object is moving according to a complex (well, not really) formula and I would think that tweening a new position would require re-calculating a "fake" position.<br><br>Finally...  does this work for network/multiplayer games? <br><br></td></tr></table><br>
<a name="748128"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> So the rendering is always delayed behind the physics/updates? <br></div><br>No, it just "feels" that way. For the purposes of game timing, it is always assumed that physics is ahead of video.<br><br><div class="quote"> I was thinking that I would extrapolate a position instead of interpolating. In other words, I thought the physics would update, and then I would draw the object's current position PLUS a tiny bit further due to tween. <br></div><br>I had the same impression after reading that article, but it's just the way the article is written confusing you. You can't extrapolate a new position because that would mean doing another physics update, and that would throw your timing out anyway.<br><br><div class="quote"> Also, wouldn't each object need custom code for tweening? For example, a ballistic object is moving according to a complex (well, not really) formula and I would think that tweening a new position would require re-calculating a "fake" position. <br></div><br>I've had this discussion with someone on IRC recently, and we eventually had to agree to disagree on this. If you recalculate a "fake" position, you cannot use this method of timing. The person I was in discussion with feels that recalculating a "fake" position ( to account for acceleration in all forms ) is more accurate. Personally I think that it's unnoticeable when you're talking about fractions of fractions of seconds. You're literally talking about 1/600th of a second in your example above.<br><br>And you might want to remember that the guy who wrote that article was a senior programmer on Tribes Vengeance. So he knows what he's talking about even if his articles are a little confusing at times.<br><br><div class="quote"> Finally... does this work for network/multiplayer games? <br></div><br>Should be fine. I render tweened Kick Shot Pool and that works fine in multiplayer. Not that anyone but me ever seems to play it online :P <br><br></td></tr></table><br>
<a name="748138"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Straight interpolation looks just fine so long as your timesteps aren't too big. If they are too big, it will look rubbish anyway. Extrapolating would be bad news as you would end up with discontinuities. <br><br></td></tr></table><br>
<a name="748149"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah I wouldn't extrapolate, it's OK to be a fraction of a frame behind, no one will notice. <br><br></td></tr></table><br>
<a name="748173"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SofaKng</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the great replies!<br><br>One last question...<br><br>Do you store two positions in each object then?  (eg. "current" and "previous")<br><br>If so, then it makes sense that you draw a straight line from "previous" to "current" and then only travel a percent through the line.  (eg. if we are 20% towards our next tick then we only travel 20% on this line) <br><br></td></tr></table><br>
<a name="748363"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, all my "entities" have a previous and a current position for use with render tweening. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
