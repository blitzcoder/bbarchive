<!DOCTYPE html><html lang="en" ><head ><title >In Game Scripting</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >In Game Scripting</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >In Game Scripting</a><br><br>
<a name="722188"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sean Doherty</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are there any in game scripting libraries for doing actions and events for Blitz?<br><br>Thanks <br><br></td></tr></table><br>
<a name="722192"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> MicroC could be a solution<br>Or if you want to use something "better known", create something basing on LUA (AXE has the needed core implementation)<br><br>The ScriptEngine (ie the thing that connects Script VM to Ingame action) needs to be written by you anyway, as that part is project specific. <br><br></td></tr></table><br>
<a name="722194"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sean Doherty</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do I have to write the parser or is there a parser that I can use and integrate my custom actions with the parser? <br><br></td></tr></table><br>
<a name="722197"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> You don't need to write the Script VM (the parser is part of that)<br>There is LUA and MicroC which already offers you that.<br><br>All you need to do is write your own functionality which you add to it, so you can write scripts specific to your game. (for example trigger actions) <br><br></td></tr></table><br>
<a name="722199"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sean Doherty</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Which would you recommend?  I see a LUA post down in the forum.<br><br>Do you have any links to libs that do this or samples in max? <br><br></td></tr></table><br>
<a name="723052"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Helios</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> MicroC you can get from my website here - <a href="http://www.binaryphoenix.com/?action=software&amp;step=view&amp;id=11" target="_blank">http://www.binaryphoenix.com/?action=software&amp;step=view&amp;id=11</a><br><br>I would suggest you use LUA though if you are going to be running anything time intensive (MicroC was designed with latency functions in mind.<br><br>I'm going to be porting FusionScript (a scripting language I designed for one of my projects) over to BMax soon though which you may wish to wait for as FusionScript is far faster and more feature-full than MicroC (its actually over 400kb of C# code at the moment). <br><br></td></tr></table><br>
<a name="767862"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blueapples</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I need a copy of MicroC. I used it in a project, and lost the machine that it was on. Does anyone have the archive? binaryphoenix.com doesn't seem to be functional. <br><br></td></tr></table><br>
<a name="767887"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >grable</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could also look into <a href="http://www.tinycc.org/" target="_blank">Tiny C Compiler</a> for a in memory C compiler.<br>Its not realy a "scripting" language and is potentially unsafe, but still worth a look. <br><br></td></tr></table><br>
<a name="767890"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blueapples</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think if I can't get ahold of the MicroC module that Helios did I will end up rewriting the project to use Lua, which isn't going to be easy. I'll look at Tiny C too. <br><br></td></tr></table><br>
<a name="769940"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Helios</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Blueapples: Sorry I've been redesigning my site and haven't been on these forums in a while, you can get the module here - <a href="http://www.binaryphoenix.com/projects/Modules/MicroCModule110806.zip" target="_blank">http://www.binaryphoenix.com/projects/Modules/MicroCModule110806.zip</a> , I may update it in future (it needs it &gt;.&gt;) though so check out binaryphoenix.com for new details. <br><br></td></tr></table><br>
<a name="770147"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blueapples</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> No worries.<br><br>I did eventually find it, and I'm slowly making a couple improvements. This version might be older than the one you just linked to, it's dated 2005.<br><br>Anyway, one big thing (which I decided I just don't have time to do right now), is I'd like to have pass 1 track all tokens so that it can make accurate line error reports for things like invalid escape sequences. After looking at it, I decided it will just have to do the way it is.<br><br>I did however fix line reporting for pass 2. It was incrementing TokenLine even when NextToken was called to get the lookahead token. This puts the line number reported for errors way too far out.<br><br>My patch is simple, compiler.bmx, line 2556:<br><br><pre class=code>
If CurrentChar = "~n" Then
  TokenPosition = 0
  If SetAsCurr Then TokenLine:+1
EndIf
</pre><br><br>And then line 2844 was using NextToken() to get the current token's line number, changed to:<br><pre class=code>
If NextToken().id &lt;&gt; ID Then ..
  Error("Expecting token (~q" + TokenIDToMnemonic(ID) + ..
  "~q) but found (~q" + CurrentToken.Data +"~q) line " + ..
  CurrentToken.Line)
</pre><br><br>The compiler seems a bit lengthy to me, but the module is a nice piece of code. <br><br></td></tr></table><br>
<a name="770155"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Helios</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've gained a lot more compiler-design experiance since I did that module. I've been thinking of doing another version with a lot more powerfull features such as OOP, more speed and by god a more cleaned up and structured source file / structure, it really depends on if people would use it though.<br><br>Also if its dated 2005, thats probably pretty far out of date - Might wish to use the later one. <br><br></td></tr></table><br>
<a name="770357"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blueapples</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, Helios, I know <b>I</b> would use it. So far it's the easiest to use scripting module I've seen that doesn't have external dependencies. One feature I really like about it is the simulated multi threading. This has been critical for a project I'm working on (non-game), as I need to keep a GUI updated while a worker script is processing tasks in the background. This wouldn't have been possible with DLL based scripting languages as they aren't thread safe, from what I've read anyway.<br><br>There's just somehting very nice about this:<br><br><pre class=code>
Repeat
  If Thread Then
    Try
      If Thread.IsActive Then
        ' Run all threads in the VM with an infinate timeslice
        ScriptVM.RunThreads(-1)
				
        ' Check if the thread is finished if so, change status
        'If Not Thread.IsActive Then SetStatus("Script finished")
      End If
    Catch e:String
      SetError(e)
    End Try
  End If
  If bQuit Then Return False
Forever
</pre><br><br>Then I just have to have a function Exit added to the VM that sets the global bQuit to true, and I can do whatever I need to in the script while my GUI is nice and clean. <br><br></td></tr></table><br>
<a name="770449"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Helios</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh well you never know then, you might just see a new incarnation soon :). <br><br></td></tr></table><br>
<a name="770464"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> would be cool :-) <br><br></td></tr></table><br>
<a name="770514"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >computercoder</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> This seems rather cool to me. I'm gonna have a go with it here in the up coming weeks. Scripting is something I've seriously wanted to do with my projects. It will be a nice thing to add to my 2D World Designer. I'm grabbing a copy just after this posts.<br><br>I'm like Blueapples, I enjoy cleanliness in my code. I also don't like extra dependencies in my stuff. I also contemplated building my own scripting tool. If this one serves what I need, then I won't bother.<br><br>Thanks for posting this out Helios! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
