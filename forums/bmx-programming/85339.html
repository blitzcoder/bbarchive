<!DOCTYPE html><html lang="en" ><head ><title >Vector 2d type..</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Vector 2d type..</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Vector 2d type..</a><br><br>
<a name="965144"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >matibee</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi all,<br><br>Can someone point me to a proven 2d vector type from the archives?  There's a lot of stuff in there and it's not too easy to search, even then I'd still like a recommendation.  If it's mixed in with other types like 4x4 matrices and 3d vectors that's fine I'll need them eventually.<br><br>I'd like to work along with the 'conventional wisdom' from day one and when I see methods like Add replacing overloaded operators I see there's a big chance of me making fugly code that won't grow with future needs (minib3d being one).<br><br>So which one do you use?<br><br>Cheers<br>Matt <br><br></td></tr></table><br>
<a name="965178"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >plash</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> My duct series has a vector module (2d and 3d), but the version on Github is out-dated.<br>I'll edit this post with a link when I get it up (FileFront is down for maintenance).<br><br>EDIT: http://files.filefront.com/ductvector+v02zip/;13913121;/fileinfo.html <br><br></td></tr></table><br>
<a name="965259"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I use this one: <a href="http://mauft.com/open-source/blitzmax" target="_blank">http://mauft.com/open-source/blitzmax</a><br>I really like it! <br><br></td></tr></table><br>
<a name="965280"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >matibee</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the input.  I've spotted some errors and omissions though; (I'm not being critical, it's great to find people willing to share code, I'm trying to be helpful :) )<br><br>There's an error in both sources in allowing a vector to be divided by another vector (either as a vector or as a set of individual function arguments).  Vectors can only be divided by a scalar.<br><br>Plash; Your SubtractParamsNew doesn't return a a new vector, and a few asserts (as used in Wiebo's example) would probably make more sense than commenting the fact functions don't check for null's.  If I go with your source I'll ammend it and send back to you for your consideration.<br><br>Thanks again.<br><br>All in all, though, do you think we will ever see basic operator overloading in bmax? "+ - / * :+ :- :/ :* &lt; &gt;" would be an awesome start, and surely not too difficult to define and allow ;) <br><br></td></tr></table><br>
<a name="965305"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warpy</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't think operator overloading's ever likely to happen. Mark just doesn't seem interested in it, it would be a lot of work to add. <br><br></td></tr></table><br>
<a name="965318"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >plash</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> a few asserts (as used in Wiebo's example) would probably make more sense than commenting the fact functions don't check for null's. <br></div>The module was wrote for speed, not for keeping you in line. I never had any problems with Null vectors before, so I never needed to add it.<br><br><div class="quote"> Vectors can only be divided by a scalar. <br></div>By a scalar do you mean this?<br><pre class=code>Method DivideParams(scalar:Float)
	
	If scalar &lt;&gt; 0
		
		m_x:/scalar
		m_y:/scalar
		
	End If
	
End Method</pre> <br><br></td></tr></table><br>
<a name="965355"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >matibee</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey Plash:  Yes that division operation is correct.  If you google "vector division" it comes up with articles such as this; <a href="http://www.mcanv.com/qa_vdq.html" target="_blank">http://www.mcanv.com/qa_vdq.html</a><br><br>The asserts don't effect release build speed as they're only compiled into debug builds.  It could save a lot of head-scratching (which quickly turns into head-banging!) if you captured any dodgy input.  Besides;<br>"Assert(vec)" is much less typing than "about: Warning: This will not check if @vec is Null!" ;)  It helps others trying to use and understand the code too.  If Bmax bombs out at the assert, it's easy to understand why.<br><br>Warpy:  I'm sure lots of other C++ migrants have campained for op. overloads so I don't want to start again, I wondered (with being new here) if it's something planned.   It'd be a shame to code around all these Add/Multiply functions if the next version of BMax suddenly supported it :)<br><br>Cheers guys <br><br></td></tr></table><br>
<a name="965360"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >plash</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> The asserts don't effect release build speed as they're only compiled into debug builds. <br></div>Well, I certainly did not know that.<br><br>I'm sorting out my repo on Git atm.. I should have the new version up soon.<br><br>Question: Should not only vec &lt;-&gt; vec operations, but also divisions use an Assert for errors? <br><br></td></tr></table><br>
<a name="965389"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >matibee</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just use Asserts where the user (another coder) could pass null, or other obvious (and avoidable) invalid arguments like out of bounds indices into an array.  Assert'ing out divide by zero's isn't recommended.  With physics sims etc, there's plenty of times a value will decrease to zero - and they're not always 100% repeatable (in a playable game world anyway).  The done thing is to handle it in exactly the way you are doing.<br><br>If you did put in an assert, then the code user would have to;<br><br><pre class=code>
if ( myfloat &lt;&gt; 0 )
  vector = v.DivideParamsNew( myfloat )
else
  vector = v.Copy()
end if
</pre><br><br>So you've basically saved him from doing that around every one of your divide functions (which is a very good thing). <br><br></td></tr></table><br>
<a name="965394"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >plash</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here is duct on GitHub: <a href="http://github.com/komiga/duct/tree/master" target="_blank">http://github.com/komiga/duct/tree/master</a><br><br>If you don't have Git, you can just hit the download button near the top of the page (downloads as a .zip or .tar).<br>You might have a few build errors because of an issue with the tilemap module, so the best solution would probably be to just remove it (not only a strange encoding issue, but the code also requires <a href="/posts.php?topic=85304" target="_blank">some modifications to brl.glmax2d</a>).<br><br>EDIT: I made some modifications to the repo, now it should compile the whole thing without having to remove the tilemap module. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
