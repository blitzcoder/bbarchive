<!DOCTYPE html><html lang="en" ><head ><title >Shrinking large images</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Shrinking large images</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Shrinking large images</a><br><br>
<a name="942057"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mordax_Praetorian</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I recently joined a company that needs to step into the online market in order to survive, however in order to get the site working as it needs to, we clearly need images of each product we sell<br><br>This leaves me with thousends of high quality images from our manufacturers to process, and the company doesn't have the several months I'd need to process them all manually, so I turned to Blitz in order to make a batch processing solution<br><br>The problem I'm having is with ResizePixmap(), the loss of quality from taking an image that is Several-Thousend*Several-Thousend down to 100x100 directly gives a loss of quality that leaves the images unusable, areas of the image that look a flat grey on the high quality version can become a blurred mass of differently coloured pixels<br><br>Is there a blitz in-code method of making a large image (initially jpeg) much smaller without making it look like crap?<br><br>It doesn't need to be fast, we can leave the program running over several days if need be <br><br></td></tr></table><br>
<a name="942058"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> What about using a module which supports proper scaling of images?<br><br>FreeImage scales nicely, and is also quite fast. <br><br></td></tr></table><br>
<a name="942061"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Volker</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, you should take a look at brucey's freeimage mod.<br>Should do everything you need.<br><a href="http://maxmods.googlecode.com/files/freeimage_1_04_src.zip" target="_blank">http://maxmods.googlecode.com/files/freeimage_1_04_src.zip</a> <br><br></td></tr></table><br>
<a name="942062"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mordax_Praetorian</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, I got the module and I'm reading through the docs for it now<br><br>I'll owe you a huge debt of gratitude if this works Brucey <br><br></td></tr></table><br>
<a name="942063"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warpy</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can I suggest you use <a href="http://www.ofzenandcomputing.com/zanswers/1028" target="_blank">irfanview</a> instead of spending time writing your own tool? <br><br></td></tr></table><br>
<a name="942064"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Where's the fun in that? <br><br></td></tr></table><br>
<a name="942065"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Outside of Blitz you can also do batch conversions of images with ImageMagick or nconvert (command line component for XNView)<br><br>(Brucey also has an ImageMagick module available) <br><br></td></tr></table><br>
<a name="942066"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mordax_Praetorian</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> The problem with existing tools is that the files also require batch renaming, reorganising, overlay of other images and conditional duplication based on data about products and features read from a .csv file<br><br>this fact means that no existing tool is going to be able to work to the exact conditions we need, and, apart from resizing, all of that can be sorted with about a hundred lines of Blitz<br><br>Edit: oh, and it doesn't look like ifranview can save to .png, which is needed to combine small size with perfect colour information and transparency <br><br></td></tr></table><br>
<a name="942073"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >iprice</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Silly question but how on earth is it even remotely possible to turn thousands of images "Several-Thousend*Several-Thousend "pixels into images 100x100 and them not to be crap - especially if the process is automated?<br><br>Seems like someone is asking for the impossible in just a short space of time. <br><br></td></tr></table><br>
<a name="942118"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Digital Anime</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Agree @ iprice.<br><br>100x100 isn't much and it will either look a little blurry or more pixely depending on how your application downscales.<br><br>Best is to look at the 100x100 pictures when they are shown at 100% size. Also don't look at the pictures using the Windows standard picture viewer to look at it, it uses blur for everything.<br><br>I remember with Paint Shop Pro 6 downscaled pictures looked very good for some reason. It doesn't look that good with Paint Shop Pro 9 I'm using today, but that might be a setting. <br><br></td></tr></table><br>
<a name="942145"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> The reason that resize pixmap makes it a mess is because it does absolutely no filtering, it does a `nearest neighbor` pixel selection rather than averaging the pixels.<br><br>You could try loading the picture as an Image with the FILTEREDIMAGE flag, and then use SetScale to scale it down to the right size, and then DrawImage to draw it with hardware filtering, and then GrabPixmap. <br><br></td></tr></table><br>
<a name="942149"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would have done it the same way as ImaginaryHuman. Hardware texture filtering ought to be decent enough, and it's going to be pretty fast and easy to boot. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
