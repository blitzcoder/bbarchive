<!DOCTYPE html><html lang="en" ><head ><title >drawing the same image 1000's of times</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >drawing the same image 1000's of times</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >drawing the same image 1000's of times</a><br><br>
<a name="1015380"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> well im just wonering how I can optimize this.  I read somewhere blitz max 'switches states' or something along those lines even if you are drawing the same image over again which makes it unnecesarry to switch, I would like it if these images could also vary in color without slowdown but I dont know if that is possible.<br><br>does anyone know how I would go about programming something like this, I cant find anything like that in the code archives. <br><br></td></tr></table><br>
<a name="1015423"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> When you do SetColor, the texture/image is not swapped at all, so you could do as many SetColor calls as you like, wherever you like, to `tint` the image that's drawn. Note that every image you draw actually has its color values multiplied by the tint color, even if the tint is just white. So when you do SetColor $FF,$0,$0 it'll only allow your image's red values to be output, for example. If this will suffice for changing colors, you could have a grayscale image and then tint it on the fly. But if you want more advanced color changes you'll have to get a bit more clever.<br><br>As far as texture swaps go, from looking at the GL code a while ago I seem to recall seeing that it would check to see if the texture being switched to was the same as the texture currently in use, and if so it would not attempt to do a texture swap. So as long as you draw from only one image it should be fast. I think.<br><br>If you need more images, either put them all on one image and draw rectangles from it, or rethink things. <br><br></td></tr></table><br>
<a name="1015424"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, its just one image and thats why I knew it could be optimized if it was switching texture buffers pointlessly between image draws.  I didnt know bmax did that internally. <br><br></td></tr></table><br>
<a name="1015719"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >beanage</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you want to put some more effort in it, you should use an OpenGL vertex array, a Vertex Buffer, or a Displaylist (While using a displaylist is propably going to be the most easy one), to saving the cpu cycles on calling drawing comands for 1K+ Quads. In a hurry atm, but I will help you there if you want.<br><br>Just interested, is this about improving your SPH sim rendering speed? In that case, use a vertex array/buffer, and instead of updating the coordinates of particle objects, update the coords inside the opengl buffer. *excited giggling* :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
