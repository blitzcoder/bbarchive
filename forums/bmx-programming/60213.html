<!DOCTYPE html><html lang="en" ><head ><title >Tip for drawing images at floating coords</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Tip for drawing images at floating coords</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Tip for drawing images at floating coords</a><br><br>
<a name="671378"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I found that say you have a square image of 20x20 pixels and it goes right to the edge, if you draw it at floating point coords (say really slowly moving across the screen) you get a nasty kind of flickering effect on the edges.  This is because it's anti-aliasing due to the floating point coords them but not properly because the texture isn't big enough.  If you boost the texture by one or two pixles all round e.g. 24x24 it's MUCH better (not perfect).  This must be because the video card has got some "blank space" to work with at the edges so the anti-aliasing looks much better.  Sorry if you already knew this, but it just really improved some moving graphics in my game.  Try it :-) <br><br></td></tr></table><br>
<a name="671389"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tachyon</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the tip, Grey! <br><br></td></tr></table><br>
<a name="671391"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> You're welcome.  These are the sort of things you just find out as you go along.  Be nice if there was a MaxTips website or something. <br><br></td></tr></table><br>
<a name="671431"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Pretty sweet, Keep up the good work!<br><br>Personally I just use INT when drawing the images. :) <br><br></td></tr></table><br>
<a name="671525"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> What you're experiencing here is normal behavior.<br><br>When you draw a quad or any other polygon, if you switch on filtering all it does is filter the internal pixels of the polygon. It still considers the edges of the polygon to be whole pixels. It doesn't alphablend the edges with the background. When you position your object at a sub-pixel floating point coordinate, it will try to properly weight the pixel colors to make it look like the object is positioned accurately, but it still wont do anything to make the edge look smooth, especially at a rotation angle.<br><br>What you're doing when you add a `border` around the edge of the actual graphic that you want to draw, you're giving it extra allowed space in which to continue filtering. So then there is pixel space in which to apply the filtering process because it's technically within the polygon boundaries.<br><br>What you normally would need to do, to allow your graphic to go to the edges and still have a smooth edge, is to switch on polygon smoothing which is a separate process that actually alphablends/antialiases the edge of the polygon with what is behind it. I also have heard you need to enable blending and set it to a modulation mode in order for the polygons to be properly antialiased together. At least this is how I think it works in OpenGL. I'm not surprised you see jitters and stuff at the edge of your objects if you don't have polygon smoothing switched on. I noticed this on my blobby objects demo thing, where the internals are perfectly filtered but the edges were as if integer-based.<br><br>Having said all that, it is a good tip to know that adding a border around the image helps with filtering the edges. <br><br></td></tr></table><br>
<a name="671543"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> AngelDaniel: Thanks for the extra info, but I have no idea how to apply polygon smoothing in DirectX. <br><br></td></tr></table><br>
<a name="671639"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Your method is probably more efficient and less complicated anyway. :-) <br><br></td></tr></table><br>
<a name="671654"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> well it *did* work rather nicely :-) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
