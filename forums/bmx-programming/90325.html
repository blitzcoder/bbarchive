<!DOCTYPE html><html lang="en" ><head ><title >change an array's dimensions</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >change an array's dimensions</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >change an array's dimensions</a><br><br>
<a name="1026450"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pineapple</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> How do I do this after an array's creation? <br><br></td></tr></table><br>
<a name="1026466"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can't.  You can only create new 1D arrays (via slicing and concatenation) that retain the original array's contents. <br><br></td></tr></table><br>
<a name="1026473"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pineapple</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Even if I don't need to retain the original array's contents? It's just that I have a single array, but I need to be able to change how large it is after I define it as a global variable. <br><br></td></tr></table><br>
<a name="1026488"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Arrays are objects, so you could create a global Object variable and then put in it any kind of array you like. The only problem is you'd need to cast it every time you use it, and that adds opportunity for error. <br><br></td></tr></table><br>
<a name="1026500"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
global array:int[,] = new int[300,400]

array = new int[100,50]

local array2:int[,] = array
</pre><br><br>[edit]<br>you can change the size not the dimensions. <br><br></td></tr></table><br>
<a name="1026646"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>SuperStrict

Global array:Object

array = New Int[5]

Local one_d:Int[] = Int[](array)
one_d[3] = 9
Print one_d[3]

array = New Float[4, 4]
Local two_d:Float[,] = Float[,](array)
two_d[2, 1] = 3.11
Print two_d[2,1]</pre> <br><br></td></tr></table><br>
<a name="1026664"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pineapple</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks! <br><br></td></tr></table><br>
<a name="1026697"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wouldn't it be better to have a multi-dimensional array of several dimensions, but with the last dimensions just set to size 0 until they are needed? <br><br></td></tr></table><br>
<a name="1026800"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shortwind</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> How many dimesions are you using?  There are a number a effective ways to store 2d arrays into 1d arrays instead.  Just wondered, because then you wouldn't have all this resizing problem. <br><br></td></tr></table><br>
<a name="1026867"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Storing arrays within arrays allows you to nest them to any depth of hierarchy you like, and thus expand them to any number of dimensions after creation. It's just that blitz won't know that you have set things up as a multimensional array so you wont be able to use index[a,b,c,d,e,f] etc to reference elements. <br><br></td></tr></table><br>
<a name="1026883"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pineapple</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> The issue was just defining a global 1D array variable to use as an array, then actually setting its size inside a function. <br><br></td></tr></table><br>
<a name="1026919"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why do you need to do this? That doesn't sound like good design; surely there is a better way? <br><br></td></tr></table><br>
<a name="1026986"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shortwind</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Madk:  I guess I'm confused then.  As Nilium said, if you just have a single dimension array then you can resize it anyway you see fit with slices...<br><br>Example:<br><br><pre class=code>
'Set Global Variable Array (1D)
Global a:Int[5]

Local x:Int=0

'Function to reset size of array...
Function dome(x:Int)
	a=a[..x]
End Function

Print Len(a)
x=50

dome(x)

Print Len(a)


</pre><br><br>Is this what your trying to do????  Look in the BMax help under Slices for more examples...  You can even create your own fixed size queue using this technique quite easily... Example follows:<br><br>(Edit: I used the word stack, but stack isn't quite the correct term, this is more a queue, first in first out. I edited all references to stack...)<br><br><pre class=code>
Strict

Local a:Int[]=[1,2,3,4,5]

For Local i:Int=0 To 4
	Print String(a[i])
Next
Print "~n~n"

a=a[1..]
a=a[..5]
a[4]=9

For Local i:Int=0 To 4
	Print a[i]
Next
</pre><br><br>This is a very "basic" fixed size queue with (sort-of) FIFO function...<br><br>:D<br><br>Also, if you use Lists, then the size of the starting "array" is irrelevant... example: the following example is basically a queue, fifo, using lists instead of arrays.<br><br><pre class=code>
Strict

Type tcrap
	Field x:Int
	
	Function Create:tcrap(xx:Int)
		Local t:tcrap=New tcrap
		t.x=xx
		Return t
	End Function
	
End Type

Global a:TList=CreateList()

ListAddLast(a,tcrap.Create(1))
ListAddLast(a,tcrap.Create(2))
ListAddLast(a,tcrap.Create(3))

ListAddLast(a,tcrap.Create(4))

'Local c:TLink=a.firstlink()
Local c:TLink=New TLink

For Local i:tcrap=EachIn a
	Print i.x
Next

Print "~n~n"
c=a.firstlink()
RemoveLink(c)

For Local i:tcrap=EachIn a
	Print i.x
Next

Print "~n~n"
ListAddLast(a,tcrap.Create(9))

For Local i:tcrap=EachIn a
	Print i.x
Next

Print "~n~n"
c=a.firstlink()
RemoveLink(c)

For Local i:tcrap=EachIn a
	Print i.x
Next
</pre><br><br>:D <br><br></td></tr></table><br>
<a name="1028819"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pineapple</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>a=a[..x]</pre><br><br>This was <i>EXACTLY</i> what I needed. Thank you. <br><br></td></tr></table><br>
<a name="1029017"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think you confused an array's size and its dimensions, which is why most of our advice was unhelpful. [..x] is rather slow so you should avoid doing it often. It's usually better to resize an array by too much (and have some wasted/spare space) than to increase it a small amount several times. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
