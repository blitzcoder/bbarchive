<!DOCTYPE html><html lang="en" ><head ><title >Initializing graphics without a z-buffer?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Initializing graphics without a z-buffer?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Initializing graphics without a z-buffer?</a><br><br>
<a name="787738"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there a way to initialize gl graphics without a z-buffer?  I don't need it for a deferred renderer, and it only consumes RAM. <br><br></td></tr></table><br>
<a name="787742"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> The Z buffer is the Depth buffer. You do not always have a choice as to whether you get one or not.<br><br>If you ask for one you will *probably* get one, but it depends on the ram available, the way that data is aligned in memory, and how the driver works. You'll get different behavior, for example, from a software driver than a hardware one.<br><br>If you do not ask for one, you *might* get one anyway. Again for the same reasons. For example most 16-bit modes will give you a 16-bit depth buffer as well, or not, depending on the system. And even if you did not ask for it, it may supply you with one, which of course uses more video ram<br><br>You can only *request* that you get or do not get a depth buffer, but this does not mean you will or won't, and there's nothing blitzmax can do about it.<br><br>You set the default buffers you want when you choose the driver. I forgot what the command is. If you include |GRAPHICS_DEPTHBUFFER in the buffer flags you are asking OpenGL for a depth/z buffer. If you don't include it you're asking OpenGL not to have one. But again, this has nothing to do with whether you will actually get one or not.<br><br>When you do get one, you do not have to use it if you don't want to. e.g. glDisable(GL_DEPTH_BUFFER_BIT) or whatever it is to switch it of.. or glDisable(GL_DEPTH_TEST).<br><br>Unfortunately you can't always be sure you won't get the buffer.<br><br>What I do is I ask for a given set of buffers/specs, then I open the screen, then I test to see what actual buffers were given to me, then decide if I can work with that and if there's anything I need to do to switch things on/off to prevent unexpected behavior.<br><br>So you can go ahead and do:<br><br>GLGraphics(640,480,32,0,GRAPHICS_BACKBUFFER|GRAPHICS_ALPHABUFFER)<br><br>And it will make you an OpenGL context without a depth buffer.... *sometimes* ;-) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
