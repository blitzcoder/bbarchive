<!DOCTYPE html><html lang="en" ><head ><title >Modulate 2x Blend in blitzmax?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Modulate 2x Blend in blitzmax?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Modulate 2x Blend in blitzmax?</a><br><br>
<a name="1018579"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hiya,<br><br>I don't know how to achieve this but I want to draw 2D lightmaps over my game screen.<br><br>In 3D packages /Quake3  the term is known as modulate 2x.<br><br>Which means a pixel of 128,128,128 will make no change to the image, while a pixel thats higher than that will brighten (over exposure) the pixels like addblend, while pixels lower than 128 will achieve a kind of shadeblend.<br><br>I tried for a week to get this working in blitzmax to no avail. I know it is possible but I have given up and I humbly seek your help please!<br><br>Here is a link to the old blend mode things I spoke to mark about for the beta testing for Blitz3D: <a href="http://www.blitzbasic.com/Community/posts.php?topic=27774" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=27774</a> however i don't know what kind of magic Mark did!  I would like to know how to achieve this effect in Blitzmax if at all possible.<br><br>Thanks! <br><br></td></tr></table><br>
<a name="1018581"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's going to be driver-specific. Do you need/want it for OpenGL, DX7, DX9 or some combination thereof? <br><br></td></tr></table><br>
<a name="1018582"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> OpenGL would be great if possible please :)<br>Would like mac owners to be able to use it.<br><br>edit: if it was both we could be more compatible but if no choice then opengl would be great! <br><br></td></tr></table><br>
<a name="1018625"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm. Isn't that kind of the same thing as two multiplies combined? Like, being able to multiply by 0..2 instead of 0..1? <br><br></td></tr></table><br>
<a name="1018715"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am not sure. I would prefer if I could do this on a single texture unit if possible though via multiple passes since its only pre rendered anyway and the code would probably be a lot simpler.<br><br>When i combined both, I saw it lost too much pixel information so it probably needs to retain that information somehow. Maybe something like putting the lightmap down first, then blending the image on top then putting a shademap on top of that (3 passes) not entirely sure. <br><br></td></tr></table><br>
<a name="1018749"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Space_guy</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Its not very hard. I was going to share the code but.. well I couldnt find it since its been so long since i last used it. But try the ATI opengl tool where you put together your own effects and it tells you the gl code to do it. <br><br></td></tr></table><br>
<a name="1019570"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> seems to be as simple as 	glBlendFunc(GL_DST_COLOR,GL_SRC_COLOR).<br><br>You can call this directly in your BMax code. <br><br></td></tr></table><br>
<a name="1019615"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_Skully</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you after something like <a href="http://www.blitzbasic.com/Community/posts.php?topic=88944#1010386?" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=88944#1010386?</a> <br><br></td></tr></table><br>
<a name="1019644"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thats pretty impressive :) but no, i just wanted a 2D lightmap layer over my level. seems to be working ok with that single line of code :) <br><br></td></tr></table><br>
<a name="1019651"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> gl_FragColor = color0 * color1 * 2.0;<br><br>The way we used to do this was to crank the monitor gamma way up.  There's also a fixed function blend mode to do it. <br><br></td></tr></table><br>
<a name="1030827"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oddball</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is probably a bit late for you, but I have now added <b>MOD2XBLEND</b> to Max2D using my Odd2D module. It should work with OpenGL, Direct3D7 and Direct3D9. The module link is in my sig, and the discussion thread can be found <a href="/posts.php?topic=90436" target="_blank">here</a>. Have fun. <br><br></td></tr></table><br>
<a name="1030863"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Better late than never oddball, and always welcome :) nice module btw... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
