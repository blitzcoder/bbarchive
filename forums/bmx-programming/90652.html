<!DOCTYPE html><html lang="en" ><head ><title >Render Target or Render to Texture code ?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Render Target or Render to Texture code ?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Render Target or Render to Texture code ?</a><br><br>
<a name="1031215"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>I was using grabImage until now but some textures may be greater than the display so I need a Render Target or Render to Texture code that is working with OpenGL.<br><br>Does anybody have such a thing ?<br><br>Older modules or code (HighGfX or RTT, etc.) work no more with the current version of BlitzMax.<br><br>Thanks<br><br><b>EDIT</b><br>I discover this on the Code Archives : <a href="http://blitzmax.com/codearcs/codearcs.php?code=2222" target="_blank">http://blitzmax.com/codearcs/codearcs.php?code=2222</a><br>But I don't know if FBO (OpenGL 3.0 I think) is supported on old graphic cards plus it's using <b>glewInit()</b><br>The glOrtho isn't properly set in this example, should be glOrtho(0, image.width, 0, image.Height, -1, 1) or something <br><br></td></tr></table><br>
<a name="1031219"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Framebuffer objects require, I think, something like OpenGL 1.5, and support for the appropriate ARB extensions. Bearing in mind the framebuffer cannot be larger than the computer's maximum texture size, which is probably either 2048 or 4096 on most cards.<br><br>Also Blitz does some stuff to mangle with flipping of textures and stuff, due to how OpenGL messes with it. Just set up a viewport vertically flipped?<br><br>As for code, there is good working code in the OpenGL forum for using an FBO. I also posted a bunch of code in the 3rd Blitz community framework competition entry. <br><br></td></tr></table><br>
<a name="1031226"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks ImaginaryHuman I will look at the framework entry.<br><br>Since only 2 objects are using the grabimage shortcut I will simply limit their sizes to 480px since the minimal resolution allowed in my game is 640x480.<br><br>By the way is there a compatibility list or something to know which card cannot use ARB extensions and certain OpenGL version ? <br><br></td></tr></table><br>
<a name="1031233"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>By the way is there a compatibility list or something to know which card cannot use ARB extensions and certain OpenGL version ?<br> <br></div><br><br>You can get a list of extensions from the driver itself, like so:<br><br><pre class=code>
SetGraphicsDriver (GLGraphicsDriver ())

Graphics 640, 480

Local a:Byte Ptr

Print ""

a = glGetString (GL_VERSION)
Print String.FromCString (a)

Print ""

a = glGetString (GL_EXTENSIONS)
Print String.FromCString (a)

' See <a href="http://www.opengl.org/sdk/docs/man/xhtml/glGetString.xml" target="_blank">http://www.opengl.org/sdk/docs/man/xhtml/glGetString.xml</a>
</pre> <br><br></td></tr></table><br>
<a name="1031248"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> EDIT: Nevermind =# <br><br></td></tr></table><br>
<a name="1035664"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Since only 2 objects are using the grabimage shortcut I will simply limit their sizes to 480px since the minimal resolution allowed in my game is 640x480. <br></div><br><br>Well this is not working as it should yet.<br>When the software is minimized or Alt-Tabbed the Grabimage isn't working correctly.<br><br><img src="http://img704.imageshack.us/img704/6310/grabimage.png"><br><br>As you can see I'm creating an <b>extensible</b> sprite from 9 tiny textures.<br>Isn't there any better solution than grabimage for doing such thing ?<br>A solution compatible with old graphic card preferably...<br><br>I tried to use Pixmap too but that function is driver dependent with OpenGL so it's behavior is unpredictable. Plus all the 9 parts can be any existing textures of the game (so no dynamic flag to support lock and unlock pixmap features). <br><br></td></tr></table><br>
<a name="1035686"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Render to texture is supported on opengl 1.1, via a texture framebuffer. Just make the texture FBO, then bind it, set your scissor and size, then render as normal... but thats opengl only.<br><br>http://www.google.co.uk/search?sourceid=chrome&amp;ie=UTF-8&amp;q=opengl+render+to+texture<br><br>Should work fine for blitzmax using nehe code. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
