<!DOCTYPE html><html lang="en" ><head ><title >Looking for different solutions</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Looking for different solutions</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Looking for different solutions</a><br><br>
<a name="881398"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xip</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have been working on a game for a over a week now(an Crayon clone),  and i so far evrything is working great.<br><br>however, i have finnaly arived to a part im not entierly sure how i will solve...  i have a few ideas, but but thay all have problems wich might not work very good in this game (performance wise).<br><br>I'm currently only drawing the vertexes used by the chipmunk engine, however... i have always wanted to create some sort of realistic crayon brush or other type of pen or water color, now... this couses a few problems, becus it is not only one background surface im drawing on.<br><br>now, if we where only drawing on a static background, this would be very simple to do... however, things are a bit different now :S<br><br>Oky, so here are the problems.<br><br>1.  Since we dont know the total width+height of the shape we are drawing until we have finnished drawing with the brush, it is hard to create an image, also... creating on the fly, half the screen in size(for example) seems slow(?) and will hit the framerate.<br><br>2. even if i break things down to small blocks, we dont know how many we need to allocate in advance. and even if i where to pre-load tons of blocks to be used later, then we would have a limit in the number of shapes until we need to create them on the fly again, and then we would have a slow-down when we hit that limit.<br><br>im not sure if im explaning my self very good or not :S<br><br>to summon up, we dont know how many Images to allocate in advance, we dont know the finnal width and height of our shape(so we cant create one big image when we are finnished, and if we do, that might be to slow for realtime).<br>we are creating tons of shapes, and it dont seem good for the performance to create a new image on the fly for evry line drawn ether.<br><br>however i turn this around, i seem to get to the same problems... so, does any one have an idea how thay would solve this?<br><br>I relly Relly dont want to draw a simple line from dot to dot, a custom brush would be much nicer for a game like this.<br><br>[edit2] im leaning towards creating tons of small images in a list, and access them when i draw outside my current grid of images<br><br>but if any one knows a bether solution, im all ears. :) <br><br></td></tr></table><br>
<a name="881410"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nawi</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you making a Crayon physics game?<br><br>When a shape is drawn or loaded for the first time, then just draw it and save it as one image (or, maybe 2-3 slightly different versions that you draw to create a nice effect). When a user is drawing the shape then you just update a single picture. Create a couple brush pictures that you draw from. <br><br></td></tr></table><br>
<a name="881414"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xip</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> yeas Nawi, im creating a crayon physics game :)<br><br>I'm not sure i anderstand what you mean however... you are a bit vage;)<br><br>"When a user is drawing the shape then you just update a single picture"<br><br>"then just draw it and save it as one image"<br><br>[edit]<br><br>i think you will have to explain what you mean by 'just draw it', if you read my first post you will see that this is the problem in the first place.<br><br>draw it on what? how? the problem is to find/create a good surface to draw on.<br><br>The idea was to use pixel per pixel manipulation for best possible and realistic crayon brush.<br><br><br>feel free to elabrate :) <br><br></td></tr></table><br>
<a name="881794"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xip</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> oky, an friend read this thread, and gave me his opinion on what he thought you meant... assuming this is the case.<br><br>you want to createe one huge background image, and then draw on it, and when finnished create a new image and copy the surface.<br><br>problem is, unless we split the background image into lots of smaller images(this is one solution ofcourse), this will be SUPER slow, writing 1 pixel per frame into a 800x600 image, gives 7-8fps on my pc.<br>i gues it might be a bit faster to copy area from backbuffer to image, but we still have to clear the background image each time we are finnished with a shape, and some tests i did showd a drom from 60 to 30fps while copying a 400x400 surface from backbuffer to image, even it this might work, im not happy with it... it would feel slaggysh(if that is a word?).<br><br>best solution i can see right now, would be to have a grid of images(for each shape), each time you draw it checks what grids are involved, and then create and draws on that small image, it then uses these images as the finnal product, looping trow and drawing each block when drawing our shape.<br><br>but this is tons and tons of more lines of code, not so sure its worth it.<br><br>any other ideas would be great :) <br><br></td></tr></table><br>
<a name="881889"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LAB[au]</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> For your problem, I suggest single surface 3D, like particle engine are using, duplicating a "seed" over a path. That is pretty fast. 3D is faster than 2D also (in most cases doing 2D in 3D is faster than using plain 2D).<br><br>You can make 3D looking like 2D. <br><br></td></tr></table><br>
<a name="881903"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xip</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> im not used to working with OpenGL manualy, and i am afraid i suck way to much on it, but i gues it is one solution :S <br><br></td></tr></table><br>
<a name="884320"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xip</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> After some testing, it turns out that the small-block solution was not so performance demanding as i thought(60 fps at all time), so i will go for that one :)<br><br>tons of extra code, but it will be worth it in the end :)<br>well, tanx any way for the feedback <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
