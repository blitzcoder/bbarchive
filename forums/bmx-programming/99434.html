<!DOCTYPE html><html lang="en" ><head ><title >Avoiding recursion</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Avoiding recursion</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Avoiding recursion</a><br><br>
<a name="1167294"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robby</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi all! Something bothering me for awhile. I had been getting weird tricky errors, like an array was only looking through maybe the first few entries, etc., over and over, or something only partially happening, then I realized that my function was being called too quickly over and over - before it was finished with its job.<br><br>To fix it, I've been doing something like this:<br><br>' main game loop<br>While whatever is not true<br>' do this<br>' do that<br>' draw something<br><br>' when all ready, move screen: <br>If mdscroll = 0 Then<br>  scrollit(x,y)<br>End If<br><br>  Flip<br><br>Wend<br><br><br><br>Function SCROLLIT:Int(a,b)<br>If mdscroll = 1 Then<br>  Return<br>End If<br><br>mdscroll = 1<br><br>' perform some action, maybe look thru<br>' a list or whatever. If done, exit<br>For j blah blah<br>  If this or that<br>   ' explode kingon ship or whatever<br>    ' func did what needed. return, reset flag<br>    mdscroll = 0<br>    Return<br>  End If<br>Next<br><br>' just exit if no klingon. reset recursion flag<br>mdscroll = 0<br><br>End Function<br><br>So basically, I'm using a little global flag to make sure the function isn't re-entered by the fast-running loop before said function is done with whatever it needs to do.<br><br>In fact, this works fine. But somehow doesn't seem elegant or efficient. It seems I need a global flag for all my functions, unless its something like a = a + 1.<br><br>Is there some method I don't know of that keeps a function from getting re-called before its done? Or a special way to call it?<br><br>Any tips on better programming methodology in regards to recursion problems would be appreciated. Thanks again!  -Robert <br><br></td></tr></table><br>
<a name="1167295"></a>

<a name="1167296"></a>

<a name="1172180"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I believe you misunderstand recursion. Recursion is the process by which a function calls itself to get a job done and there is definitely no function calling itself there.<br><br>The way you are working out your problem is fine as long as it's giving you the results you want. you could instead of using a global, pass a local variable by reference but it will be the same process.  <br><br>FYI a recursive function:<br>[monkeycode]<br><br>Function countToTen:Int(c:Int = 0)<br>  c :+ 1<br>  Print c<br>  If c &lt; 10<br>     countToTen(c)<br>   EndIf<br>End Function<br><br><br>countToTen()<br>[/monkeycode]<br><br>in case you didn't know. :)<br><br><font class="tiny">Last edited 2012</font><br><br><font class="tiny">Last edited 2013</font> <br><br></td></tr></table><br>
<a name="1167297"></a>

<a name="1167298"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> ...?<br><br>OK, two things here:<br><br><br>1) There is no recursion of any sort in the above example or in your problem description. I don't think recursion is the word you're looking for. For the record, recursion describes the situation where a function calls itself, or calls another function that will in turn call it again; it <i>only</i> refers to this situation.<br><br>(<b>EDIT:</b> Ninja'd with an example.)<br><br>2) A loop is effectively <i>paused</i> while the functions within the loop body are running. Unless you've been playing with multithreading, the situation you describe - "my function was being called too quickly over and over - before it was finished with its job" - is literally impossible. Called by what? There's only one instruction pointer and it's currently within the function, not within the loop.<br><br><br>The code posted above will <i>definitely not</i> suffer from the problem you've described and the state variable is completely unnecessary. Perhaps you can post a runnable example that does suffer from the problem?<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1168018"></a>

<a name="1168019"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hardcoal</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> recursion is a blessed thing.<br>i use it all the time<br><br>in fact, my life is just a big recursion<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
