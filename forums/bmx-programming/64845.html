<!DOCTYPE html><html lang="en" ><head ><title >Custom Blend Mode</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Custom Blend Mode</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Custom Blend Mode</a><br><br>
<a name="723815"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>I've been toying around with this new app for ages, and I need a blending mode for Max2D which is exactly the same as LIGHTBLEND except that I don't want it to max out at white (255,255,255).<br><br>For example, say you were blending 2 colours... Color A (192,192,192) and Color B (128,128,128).<br><br>Using LightBlend, it basically adds up the colours to a maximum of (255,255,255).<br><br>However, I would like a blend mode that still adds them up, but doesn't max out at 0, instead counting past it. I.e. (67,67,67).<br><br>Does anybody know of a way I can do this?<br><br><br>Many thanks<br><br><br>Seb <br><br></td></tr></table><br>
<a name="723833"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I know what you're after but don't know the answer.<br>However, for DX, find a copy of MFCTEX or D3DMULTEX and for OGL find OGLMULTEX. These allow you to test the available blend modes. I could try if for you but, frankly, can't underatand the DX7 documentation on blend modes. Normally, I have to go by the result (which means a lot of trial and error) rather than the description. <br><br></td></tr></table><br>
<a name="723840"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Genexi2</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm confused, are you saying you would want the blend to be lighter then light (255,255,255), or do you want it to wrap around back to black (0,0,0) and add up the leftover values from there?<br><br>If so, you could just do an if statement and check if said add value is above 255, then use mod to see by how many times you should subtract 255 from the answer no? <br><br></td></tr></table><br>
<a name="723846"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I'm confused, are you saying you would want the blend to be lighter then light (255,255,255), or do you want it to wrap around back to black (0,0,0) and add up the leftover values from there? <br></div><br>I think he means the latter, but if so, his maths is wrong. It would actually wrap to 65,65,65. Or maybe he means it starts counting backwards from 255,255,255 back to zero.<br><br>I don't know of a blend mode that does either of those though.<br><br>You could do what Genexi suggests, but that's gonna be slow doing pixel operations for blending.<br><br>Could you possibly describe the visual effect you're trying to achieve? Perhaps there's another way or a similar but not quite identical blend mode. <br><br></td></tr></table><br>
<a name="723910"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Woops - LOL. I meant 65,65,65. Yeah I want to achieve the latter effect.<br><br>Here's a simplified scenario of what I am doing... I've got 3 virtual torches that shine onto a spot onto the screen, partly overlapping eachother. The user can select which colour light each torch is producing (for example, Red, Green and Blue) and he can then see each colour on the screen and the resulting overlapping colours (which in the middle will obviously be white).<br><br>Therefore the blend mode has to add up the colours exactly and present them on screen, which lightblend does well.<br><br>*However*, this only works when I have Cls'd the background black, for obvious reasons. What I would like is to be able to get the same effect but have say a white background to start with. Using a white background with Lightblend, the colours don't change because they are already maxed out at (255,255,255). <br><br></td></tr></table><br>
<a name="723916"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> There is an easier method to achieve what you are looking for.<br><br>Search for Fredborgs light example basing on AccumBuffers.<br><br>This should give you exactly such behavior without any problems. (beside needing a 9500 / GeForce 5 upward which shouldn't be a problem) <br><br></td></tr></table><br>
<a name="723933"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="/posts.php?topic=49601" target="_blank">Nice example</a> - but what actually is an <i>AccumBuffer</i>. I've Googled it and I can't find anywhere that actually describes what it is/what it does. <br><br></td></tr></table><br>
<a name="723953"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> The correct name is Accumulation Buffer.<br>It is a buffer, which (from what I understands) mainly accumulates the orgininal color with the buffers color, using a specific operations as specified in the operation.<br><br><a href="http://www.opengl.org/documentation/specs/version1.1/glspec1.1/node106.html" target="_blank">http://www.opengl.org/documentation/specs/version1.1/glspec1.1/node106.html</a> <br><br></td></tr></table><br>
<a name="723965"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> The thing you're trying to do reminds me of the old demo effect `shadebobs` whereby objects are basically `added` to the existing background and when the value gets to the maximum it wraps around at 0 again. That's basically because it was using unsigned bytes which overflow by themselves.<br><br>In OpenGL at least, the values are clamped at white 255,255,255 because that is standard OpenGL behavior - there is no overflow, it is discarded. It takes values from the source pixel and adds them to values in the destination pixel and clamps it at 1.0, which is white in floating point. The remainer is lost and I don't think there's anything you can do about it.<br><br>To implement any kind of overflow you have to basically have a subtract operation which is not present in standard GL but I think there is an extension that adds a subtract blend mode.<br><br> I presume the accumulation buffer could be used whereby you accumulate the backbuffer as 1/2 value, then draw all the lights, then accumulate that, then do some kind of wrap thing. <br><br></td></tr></table><br>
<a name="724622"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there a multiply x2 blend in blitzmax? perhaps there should be. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
