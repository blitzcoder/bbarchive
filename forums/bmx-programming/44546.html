<!DOCTYPE html><html lang="en" ><head ><title >Function Pointer Questions</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Function Pointer Questions</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Function Pointer Questions</a><br><br>
<a name="495925"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cajun17</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Since this probably the only thing I have no experience with I have a few legistical question's about them. If I have a function pointer declared in an object  can I:<br><br>a) have it point to a method inside the same object?  I guess then it'd technically be a method pointer.<br><br>b)point to a function within the object?<br><br>b.1) point to a free frunction?<br>b.2)if it points to a free function does this function aquire scope within the object and see it's fields?  does it become like a type function or is it simply called from the pointer just as it appears in the code as a free function? <br><br></td></tr></table><br>
<a name="495950"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tiggertooth</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> First type (class) I wrote in BlitzMax was a state machine that used function pointers...based on that experience here's my answers to your questions:<br><br>a) No, methods aren't static functions whose address can be stored off in a function pointer.<br><br>b) Yes, a function's address is static, and therefore can be assigned to a function pointer.  Works great!<br><br>b1) Yes<br>b2) No<br><br>My suggestion is to use functions within Types.  This keeps the encapsulation of the functionality within the type itself--you don't have misc free functions floating about.  But, make the first argument to the function an Object.  Then, inside the function, cast the object to the Type.  You can now invoke type methods on this object.<br><br>This was my solution.  It is reasonably elegant and works very well.  Any type in my engine can now include (or inherit from) my state machine and have full state machine functionality.  Whenever the machine changes states, functions inside your type will get called (each state supports a unique enter, exit, and update function).  I've been waiting a long time for function pointers in Blitz, and I'm very glad they've arrived!<br><br>Ken <br><br></td></tr></table><br>
<a name="495985"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cajun17</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually all your answers are what I expected more or less.  I'll try some stuff out.  With what I'm doing now I think function pointers are the only clean way to do what I want.<br>Thanks for the reply. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
