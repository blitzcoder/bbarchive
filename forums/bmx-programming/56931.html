<!DOCTYPE html><html lang="en" ><head ><title >Garbage Collector Question</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Garbage Collector Question</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Garbage Collector Question</a><br><br>
<a name="632862"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> When the GC collects memory and 'frees' it, is the memory zeroed or is our data still technically in the GC's memory pool? <br><br></td></tr></table><br>
<a name="633127"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'd like an answer to this too. <br><br></td></tr></table><br>
<a name="633135"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Before the automatic GC was implemented, the memory was repooled for later usage and freed if not used for some time.<br><br>As strings still raise the memory usage until a given amount of memory where it stagnates, I assume that it still repools the memory. <br><br></td></tr></table><br>
<a name="633229"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> But when the memory is collected, is it zeroed or is the data still there, although set aside for later use?<br><br>If it isn't zeroed, that's kindof an obscene security hole.. <br><br></td></tr></table><br>
<a name="633239"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Tiffany</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Personally, I'd prefer it if the data were not zeroed when it gets collected, purely from a performance perspective.<br><br>If you are doing something that genuinely needs to worry about security, I would suggest that you should be explicitly trashing the data before getting rid of it.  I know I would, even if I was told that the collector was supposed to do it for me... <br><br></td></tr></table><br>
<a name="634062"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> What compiler zero's the memory before it free it? <br><br></td></tr></table><br>
<a name="634190"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhague</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Noel, how is this a security hole?  Remember, other processes can't access the memory of your application, so they can't seee the data.  And different apps don't share memory pages either.<br><br>Not zeroing memory upon freeing is exactly how the C runtime library works.<br><br>(If you're thinking that another app could all of a sudden get a page of old data from another app, then that won't happen.  Like I said above, apps don't share memory pages, and when a new page is allocated to an application, it's cleared by the OS-level memory manager.) <br><br></td></tr></table><br>
<a name="634209"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> No, I'm thinking that another application (namely, the one TRYING to get data from another application without 'permission') could get the data.  Sortof like a buffer overflow.  The memory is there, it's still part of the GC's memory pool, if someone can get around the 'security' they might as well have free access to that memory. <br><br></td></tr></table><br>
<a name="634258"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leiden</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just like how hacking the XBox works, softmods use the buffer overflow to crash the kernel and force it to load a patcher program which lets it run unsigned excutables.  Commonly called the Font hack or Audio hack. Or you can buy a modchip....<br><br>@Noel, whats really the problem. If the memory is given back to the pool without being zero'd its still unlikely anyone can extract any amount of usuable data from it. Say some other function needs X amount of memory and takes it from the middle of the pool (the location of a large enough block maybe) the memory freed with your critical data has now got one great big gap of data missing from it -- pretty much making it redundant. I wouldnt say theres anything to worry about :/ <br><br></td></tr></table><br>
<a name="634690"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhague</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is only a problem is the OS doesn't zero memory when a program requests it.  (That's different than the app-level heap manager zeroing memory.)  What happens under Windows, I believe, is that pages are automatically zeroed when requested from the OS, so no matter what was in there before, other applications can't see it.  Again, this doesn't mean that blocks returned by "new" are zeroed, just that the initial heap starts out zeroed. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
