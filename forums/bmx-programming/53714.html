<!DOCTYPE html><html lang="en" ><head ><title >Scaling Graphics depending on resolution</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Scaling Graphics depending on resolution</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Scaling Graphics depending on resolution</a><br><br>
<a name="599933"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Right now I scale everything depending on resolution where 1600x1200 is the max resolution and uses a scale of 1.<br>1024x768 uses a scale of 0.64<br>800X600 a scale of 0.5<br>A negative side is that I can't use non 4:3 graphic setups.<br>The positive is the SuperB graphics those who have 1600x1200 can enjoy, lol.<br><br>So whenever I want to draw something I multiply with my scale. I saw a problem with this, the speed will be different because I use delta time. Example: To travel the screen will go faster in a low resolution because the speed is the same but the distance, in pixels, is not. My solution was to multiply the DeltaTime with the scale, and belive it or not, the time to travel a distance is now equal; resolution independant. The problem is that while multiplying the delta solves the speed/scceleration issue it creates a time issue. For example my sheild recharges with 200hp/sec with delta time, but this will now be different in different resolutions.. You get the point, which is solved by having two delta times.  All sizes and distances need to be multipled with this scale and all graphics then drawn with the scale. It just doesn't seem like the best solution...<br><br>Anyhow I was woundering if anyone else have tried to make a 2D game with scaling graphics like this, any tips and tricks? <br><br></td></tr></table><br>
<a name="599939"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> search for indiepath's lib. He's got this nailed. <br><br></td></tr></table><br>
<a name="599949"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TartanTangerine (was Indiepath)</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here ya go : <a href="http://www.blitzbasic.com/Community/posts.php?topic=52893" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=52893</a><br><br>Projection matrix is the one you want. <br><br></td></tr></table><br>
<a name="599977"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Super nice font drawing!<br><br>Can you explain how I should use the projection matrix. I'm already using *Sc which is the % of max resolution I use (see above). So 1600x1200 is Sc# = 1, 800x600 have Sc#=0.5<br><br>'This is how it looks now<br>SetScale Sc*2,Sc*2<br>SetColor 255,255,255<br>SetRotation 0<br>DrawImage ThisItem.Icon, Button[NR].x+Sc*30, Button[NR].Y-Sc*20   <br><br>With a projection matrix how would it be then? How should I change my code to use that technique?<br><br>Crossplatform, right?<br><br>Any guidelines when I make my own bitmap-font? <br><br></td></tr></table><br>
<a name="600034"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TartanTangerine (was Indiepath)</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wave, have a look at the included code and the txt file.<br><br>Projection Matrix is easy. You set a "Base" resolution so your base resolution will be 1600x1200 &gt; pass these params to the function.<br><br>Your graphics are now resolution independent and your example code will now look like :-<br><pre class=code>
SetScale 2,2
DrawImage Icon,Button[NR].x*30,Button[NR].y*20</pre><br><br>Yes this is Crossplatform, basically it checks to see if DX exists, if not then it sets the OpenGL Matrix. <br><br></td></tr></table><br>
<a name="600077"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> It doesn't seem to work, is this right?<br><pre class=code>
Select ResolutionMode
	Case 1
		Width = 1600	;Height = 1200 
		ScaleWidth=1 	;ScaleHeight#=1
	Case 2
	'	Width = 1280	;Height = 1024 
	'	ScaleWidth=1.25	;ScaleHeight#=1.171875			
	Case 3
		width = 1024 	;Height = 768 
		ScaleWidth=0.64	;ScaleHeight#=0.64		
	Case 4
		width = 800		;Height = 600 
		ScaleWidth=0.5	;ScaleHeight#=0.5		
	Default
		width = 800		;Height = 600 
		ScaleWidth=0.5	;ScaleHeight#=0.5	
End Select

Global Sc# = 1'ScaleWidth
SetMatrix(1600,1200 ,ScaleWidth )
</pre>And with your Bitmap Font mod: <br>How do I do with big and small letters? <br><br></td></tr></table><br>
<a name="600143"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TartanTangerine (was Indiepath)</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> No, that is not how it's done, you are over complicating it.<br><br>The command is :<br><pre class=code>
'Proj_Width = Base Resolution Width
'Proj_Height = Base Resolution Height
'Depth = Leave this alone since the current version BMAX does not need it.
SetMatrix(Proj_Width,Proj_Height, Depth)</pre><br>So your code should be :<br><pre class=code>SetMatrix(1600,1200)</pre><br>Now forget about scalewidths and scaleheights, you don't need them. Just think of the screen as always being 1600x1200 the projection matrix will make it fit to the current resolution. <br><br></td></tr></table><br>
<a name="600144"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TartanTangerine (was Indiepath)</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> How do you do big and small letters with the Font Mod?<br><pre class=code>SetScale xScale,yScale</pre><br><br>All this is made quite clear in the code I supplied with the modules. <br><br></td></tr></table><br>
<a name="600161"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Then something else is wrong, because the projection matrix has no effect. When I draw something with Scale 1,1 in a resolution of 10924,768 it shouldn't be real size.<br><br>And with small letters I meant the opposite to CAPITAL letters. <br><br></td></tr></table><br>
<a name="600163"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TartanTangerine (was Indiepath)</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Small letters = new character set.<br><br>What do you mean real size? all image positions and sizes will be exactly the same regardless of resolution. That is the idea behind this. <br><br></td></tr></table><br>
<a name="600171"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well.. Yes, but with real size I mean pixel size. Anyhow besides that detail ;) <br>It does not work. The projection matrix has noeffect on the drawing commands for me. Everything is placed and scaled the same with or without it and nomatter resolution.<br><br>When I play in 800x600 everything is scaled as if it where 1600x1200. All setScale before draw is set to 1,1.<br><br>And when I try 1024x768 I don't even get a graphics mode, no screen, and when in window mode, the window is 10,50 in size.<br><br>Yes, of course I understand that I need to draw the small letters but I meant, if I write a string "CaTItAL TeSt" will the correct letters be drawn? <br><br></td></tr></table><br>
<a name="600185"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TartanTangerine (was Indiepath)</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> There are no lower case characters in the bitmap font I supplied, if you want them you supply your own bitmap font. So yes it will do lowercase, it will do whatever you defined in your bitmap :D<br><br>I have no idea why the projection matrix does not work for you, what OS do you have?<br><br>Are you doing things in the correct sequence?<br><br>1) Set Graphics.<br>2) Set Matrix.<br>3) Draw Stuff. <br><br></td></tr></table><br>
<a name="600192"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why isn't zoom stuff in Bmax anyway? I would have thought it was kinda an essential 2D thing :) <br><br></td></tr></table><br>
<a name="600215"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TartanTangerine (was Indiepath)</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> 'cmon Rob, you that you've got to make these things yourself :D <br><br></td></tr></table><br>
<a name="600264"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> :) <br><br></td></tr></table><br>
<a name="600559"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have XP, and I do set the Matrix before graphics mode..<br><br>EDIT<br><br>Yes it works now in 8000x600, but not in 1024x768, graphics mode seem to not start. <br><br></td></tr></table><br>
<a name="600563"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TartanTangerine (was Indiepath)</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Set the matrix after you set the Graphics mode. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
