<!DOCTYPE html><html lang="en" ><head ><title >pantson.MPEG</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >pantson.MPEG</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >pantson.MPEG</a><br><br>
<a name="809523"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PantsOn</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi<br><br>Theres has now been a huge update to this module and for pantson.YUV.<br><br>Playback is a lot quicker so movies with a greater resolution will keep to the 25fps/30fps.<br><br>Playback can now be drawn directly onto images so alpha scaling and rotation is easily done.<br><br>To make the playback quicker, I have re-written the YUV convertor in C and also using lookup tables. (approx 32MB of extra memory)<br><br>Also if creating a pixmap.. the format to use is PF_STDFORMAT now, as this is the default for images too.<br>Movie will only draw to its correct size. No scaling.<br>Use setscale for this. (I may rewrite this in a later version)<br><br>again it can only do true MPEG streams.. you may have to use ffmpeg to convert your movies.<br><br>still no sound support.<br><br>command reference..<br>OpenMPEG<br>DrawMPEG<br>DrawMPEGimage<br>PauseMPEG<br>MPEGfullscreen<br>CloseMPEG<br>MPEGwidth<br>MPEGheight<br>StartMPEG<br>EOM<br><br>This lib is under the GPL license. <br><br></td></tr></table><br>
<a name="809537"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is getting to be very very good. <br><br></td></tr></table><br>
<a name="809544"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm waiting for the go ahead to use this in my game.  Currenty it's either MPEG or me manually animating the intro and outro....pros and cons. <br><br></td></tr></table><br>
<a name="809547"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PantsOn</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>I'm waiting for the go ahead to use this in my game<br> <br></div><br>who from?? is there licensing issues? <br><br></td></tr></table><br>
<a name="809549"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> What would the cons be?<br>How do you extract an ogg for the sync'ed sound? <br><br></td></tr></table><br>
<a name="809556"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhans0n</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Strange.  The included pixmap demos work fine, but on my PPC Mac, the image demos show white boxes instead of the video.  The workaround seems to be to put a drawtext command in there after the video is drawn.  Then it works.<br><br>Video playback is MUCH smoother than before.  Great job! <br><br></td></tr></table><br>
<a name="809560"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LAB[au]</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Strange ... on vista too. Needs the same workaround as on PPC Mac. <br><br></td></tr></table><br>
<a name="809562"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PantsOn</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> argghhh.. i've just noticed that too..<br>hmmm<br><br>if it uses openGL then the first frame is good, every other frame after that is a white box.<br><br>On the case for a fix... hang on<br>apologies <br><br></td></tr></table><br>
<a name="809564"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> TonyG: Pros and Cons...<br><br>Pros:<br> <br>- Artist has more flexibility as to what he can do.<br>- It saves me time as I don't need to code all the animation parts, I can just play a movie.  Although I still have to investigate the technology.<br> <br>Cons:<br> <br>- Not sure how big file sizes would be compared to if I had pure images and animated them... It could actually turn out similar anyway with well compress files.<br>- Compressed Mpegs may not look "great".  If I animated it manually, it would be perfect quality but Artist would need to keep the anims simple.<br>- Sound people would need to make a "sound track" for the intro.  If I animate manually I can "trigger" the sounds at key points... <br><br></td></tr></table><br>
<a name="809596"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PantsOn</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> the archive has been updated to 1.21<br>This contains a temporary fix for OpenGL systems. <br><br></td></tr></table><br>
<a name="809605"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bruZard</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> thank you for share!! :) <br><br></td></tr></table><br>
<a name="809811"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhans0n</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Your newest version works great in all my test cases.  Thanks again for this great module.  :) <br><br></td></tr></table><br>
<a name="810030"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gameshastra</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br>    I am not able to play my mpg files. I tried converting my file using ffmpeg but the ffmpeg tool gives an error message unknown codec mpegvideo <br>Please help.<br>Regards,<br>Ramesh <br><br></td></tr></table><br>
<a name="810031"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gameshastra</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br>    Is sound support not included in the mpeg module?<br>Regards,<br>Ramesh <br><br></td></tr></table><br>
<a name="810239"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gameshastra</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br>I am not able to play my mpg files. I tried converting my file using ffmpeg but the ffmpeg tool gives an error message unknown codec mpegvideo<br>Please help.<br>Regards,<br>Ramesh <br><br></td></tr></table><br>
<a name="810266"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PantsOn</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> the lastest ffmpeg doesn't need the -vcodec or -b options.<br>just use<br><div class="quote"> <br>ffmpeg -i movie.avi -sameq -an -f mpeg2video output.mpg<br> <br></div> <br><br></td></tr></table><br>
<a name="810989"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gameshastra</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank You very much. That worked. I have a doubt, In the converted mpeg file I am not able to extract the audio whereas it is possible on the original file. Thanks a lot anyway for your help.<br>Regards,<br>Ramesh <br><br></td></tr></table><br>
<a name="812151"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gameshastra</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have a c++ code for extracting a .PPM file from mpeg. How do I pass this image back to BlitzMax so that it can be used as a TImage <br><br></td></tr></table><br>
<a name="812223"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PantsOn</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> gameshastra..<br>Thats a whole new topic of C integration with Blitz.<br>In theory you need to send a mem pointer to Blitz so that Blitz then can convert the ppm data and draw it onto the pixmap of the image.<br>Or get C to draw onto the pixmap by sending the pointer of the pixmap in the image to the C code.<br><br>Kinda like how by YUV to pixmap functions work.<br><br>PS I have now released version 1 of the Theora movie player.<br>This is free for commercial unlike the MPEG you don't have to provide code. <br><br></td></tr></table><br>
<a name="828443"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >badbrad</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> on linux box i keep getting "cant find interface for module pantson.mpeg".. where do i put this thing?!?! <br><br></td></tr></table><br>
<a name="828456"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >iprice</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry to sound like a complete simpleton, but how do I use this module? Do I have to place certain files/folders in certain areas of BMax?<br><br>There doesn't appear to be a ReadMe for usage. <br><br></td></tr></table><br>
<a name="828457"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Create a panston/mpeg directory under mod and put the files in it. You might need to build modules which will need <a href="/posts.php?topic=72892" target="_blank"> MinGW </a> <br><br></td></tr></table><br>
<a name="828459"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >badbrad</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks tonyg..<br><br>ok i made a BlitzMax/mod/pantson/mpeg dir and copied files to it.. no joy :(<br>apparently if running linux (as i am) u dont need MinGW.. i tried building module via ide menu and it appears to compile nothing.<br>anybody got this running under linux? <br><br></td></tr></table><br>
<a name="828535"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >iprice</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cheers tonyg and many thanks to Rich for crerating this. <br><br></td></tr></table><br>
<a name="828597"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> ok i made a BlitzMax/mod/pantson/mpeg dir and copied files to it.. no joy :( <br></div><br><br>It should be under: blitzmax/mod/pantson.mod/mpeg.mod<br><br>(Look at some of the other subfolders under /mod/ and see what their filestructure is.) <br><br></td></tr></table><br>
<a name="828672"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >badbrad</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> right ive made a blitmax/mod/pantson.mod/mpeg.mod drawer and plonked the mpeg stuff there and have got a little further.. :) its looking like blitz is happy with the mpeg stuff but is now complaining about being unable to find yuv interface.. (i thought the yuv was included in the mpeg module).. anyways i downloaded pantson.yuv and created blitzmax/mod/pantson.mod/yuv.mod and put it there but no joy.. it cant find the interface for module pantson.yuv <br><br></td></tr></table><br>
<a name="828991"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gameshastra</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is it not possible to get a version of the MPEG mods under the LGPL license? Since ffmpeg is under the LGPL license.<br> By using only the features of ffmpeg under LGPL shouildn't it be possible to develop a LGPL version. This would be a good option for developers.<br><br>My Regards <br><br></td></tr></table><br>
<a name="829002"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gameshastra</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is it not possible to get a version of the MPEG mods under the LGPL license? Since ffmpeg is under the LGPL license.<br>By using only the features of ffmpeg under LGPL shouildn't it be possible to develop a LGPL version. This would be a good option for developers.<br><br>My Regards <br><br></td></tr></table><br>
<a name="829014"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Is it not possible to get a version of the MPEG mods under the LGPL license <br></div><br><br>Of course it's possible -- except until now no one has actually written a mod for blitzmax based on it. :-?<br>(Or if they did, they haven't mentioned it anywhere on the forums)<br><br>Chis Camacho also created an mpeg player for BlitzMax, but it is based on LibMPEG2, and is also under GPL. <br><br></td></tr></table><br>
<a name="829080"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PantsOn</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> i have had this running under linux.. will test again later.<br>(PS I use MEPIS, if that makes a differnce)<br><br>Persinally I wouldn't use MPEG due to the license limitations. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
