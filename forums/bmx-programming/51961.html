<!DOCTYPE html><html lang="en" ><head ><title >2D Dynamic Shadows</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >2D Dynamic Shadows</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >2D Dynamic Shadows</a><br><br>
<a name="579832"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >René</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I wrote a module to create fully dynamic hard edged or soft shadows. You can create any convex geometry you want, since you are <i>drawing</i> the shadow casting vectors like in a vector painting software. <br><br>Thanks to Orangy Tang for his paper and Indiepath for his DirectX version of DrawTexturedPoly() and some tips on the forum code (still haven't found a manual :-)<br><br>Downloads and bigger screenshots are here:<br><a href="http://www.pyropixel.de/bmax_shadows.html" target="_blank">http://www.pyropixel.de/bmax_shadows.html</a><br><br><img src="http://www.pyropixel.de/img/th_screen_demo3.jpg"><br><img src="http://www.pyropixel.de/img/th_screen_demo4.jpg"><br><img src="http://www.pyropixel.de/img/th_screen_demo5.jpg"><br><br>These demos includes some basic editor functions to play around with.<br><br><b>Tip:</b> always build the shadow vectors in anti-clockwise direction.<br><br>Have fun. <br><br></td></tr></table><br>
<a name="579835"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TartanTangerine (was Indiepath)</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Most impressive. Is that my TExtured Poly command you use there? <br><br></td></tr></table><br>
<a name="579838"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >René</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why aren't the forum manuals in manual section...I always forget how the bbcodes work...:-O <br><br></td></tr></table><br>
<a name="579839"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TartanTangerine (was Indiepath)</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just kill the [img] tags and it will show <br><br></td></tr></table><br>
<a name="579840"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> yep, where do I sign?<br>Is it DX and/or GL? <br><br></td></tr></table><br>
<a name="579843"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >René</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Indiepath<br>Yes it's your TexturedPoly command.<br><br>@tonyg<br>It's both. You would need Indiepath's TexturedPoly command and my GL version of TexturedPoly command. <br><br>See this post for TexturedPoly:<br><a href="http://www.blitzmax.com/Community/posts.php?topic=51059" target="_blank">http://www.blitzmax.com/Community/posts.php?topic=51059</a> <br><br></td></tr></table><br>
<a name="579848"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's good and, the obvious question, when/where can I get it? <br><br></td></tr></table><br>
<a name="579854"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TartanTangerine (was Indiepath)</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> YEah where's the code man. I wanna play. <br><br></td></tr></table><br>
<a name="579895"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >René</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Um. I think I have to prepare a little manual and an example code for public use. I will come back later... <br><br></td></tr></table><br>
<a name="579909"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >René</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, I updated my site (link see first post).<br>You will find a first release download there.<br><br>I hope it will work. Please let me know. <br><br></td></tr></table><br>
<a name="579914"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TartanTangerine (was Indiepath)</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah you compiled it all, how can we learn from a compiled module.. 'cmon show us the real deal. <br><br></td></tr></table><br>
<a name="580002"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not sure what I'm doing wrong but it can't find pyropixel.vector2d. <br><br></td></tr></table><br>
<a name="580008"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >René</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah, so it does not work. I thought, when I send you the compiled ones, the dependencies to other modules would be avoided.<br><br>I'm heavily using vector functions of my own vector module. I believe nearly everyone has got a different vector module but all vector modules are of the same name. This is very anoying. Or is there a trick how to deal with different mods that use the same type declarations?<br><br>Anyway, updated to release v0.2. on my site (see first post for link). Full source code of shadow module and my vector module.<br><br>The source code is <b>of course</b> commented very poor :-) <br><br></td></tr></table><br>
<a name="580015"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for that Rene. <br>I can't compile the modules. It's possible the framework/Imports are not correct although I used FrameWork Assistant.<br>It can't find DrawTexturedPoly (I *have* added the drawtexturedpoly stuff) <br><br></td></tr></table><br>
<a name="580023"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >René</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hm, I remember the first time I tried to add Indiepath's DrawTexturedPoly hack, the Blitz IDE recognised DrawTexturedPoly() as a command (the command gets yellow in the code) but when I tried to compile it says something like "Identifier DrawTexturedPoly not found" or something else.<br><br>Do you have the same problem? <br><br></td></tr></table><br>
<a name="580036"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >René</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tried to reproduce the problem. I found out, when I add the DrawTexturedPoly() function in the max2d.bmx file to the very bottom, I cannot compile.<br><br>But when I paste the function somewhat higher in the code for example after the DrawPoly() function, I can compile. Weird! <br><br></td></tr></table><br>
<a name="580043"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TartanTangerine (was Indiepath)</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Perhaps I should build the textured poly function outside of the max2d.bmx file. I know how to do that know :D <br><br></td></tr></table><br>
<a name="580050"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >René</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, maybe...I'm afraid of the next modsync update... <br><br></td></tr></table><br>
<a name="580064"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep, moving the drawtexturedpoly in max2d.bmx means I can build modules. <br>For some reason demo3 can't find TLight while Demo4 doesn't have a problem.<br>&lt;edit&gt; Forget that, re-extracted the demo code, re-ran, got an error that debugmode not found, rem'ed the debug statement and it ran.<br>I get the feeling for Bmax modules to be compatible they need to have some sort of structure where they don't use the same function/method names. <br><br></td></tr></table><br>
<a name="580080"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great Stuff, I have tried it by myself, but give up after getting trouble with DX and OpenGL.<br><br>Will try it now. From the Screenies it looks great. <br><br></td></tr></table><br>
<a name="582594"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm keeping an eye on this as the demos are fantastic. What would be nice is a seperate shadow editor where I can load a tileset and create the polygons, save them out and then load them into my program. <br>If it's already possible to do this I'd be interested to know how. <br><br></td></tr></table><br>
<a name="582601"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can't get this working  -  error with build modules?<br><br>also<br><br>---------------------------<br>BlitzMax Application<br>---------------------------<br>Compile Error<br> Identifier 'DrawTexturedPoly' not found<br>---------------------------<br>OK   <br>--------------------------- <br><br></td></tr></table><br>
<a name="582604"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> "and Indiepath for his DirectX version of DrawTexturedPoly() "<br>and from the website...<br>"This module works only with the <a href="/posts.php?topic=51059" target="_blank"> Drawtexturedpoly() </a>command." <br><br></td></tr></table><br>
<a name="582667"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >smilertoo</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> I did everything i read but bmax wouldnt compile for me either <br><br></td></tr></table><br>
<a name="582725"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well why doesn't he include it? Just include it for gods sake. <br><br></td></tr></table><br>
<a name="582750"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Heh - this is why I don't use BMax. <br><br></td></tr></table><br>
<a name="582768"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do any of the 'not compile' problems provide messages? <br><br></td></tr></table><br>
<a name="583311"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >René</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> @tonyg:<br>did you know: you can press F12 to export all object code to console. Press Shift+F12 to export only selected objects.<br><br>You could write a background image loader and use this function. There is still a little bug: there must be at least one TShadowCasterObject or the shadow system will not run, sorry for that. <br><br></td></tr></table><br>
<a name="583312"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >René</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> New version uploaded on my site (see first post).<br>No new features, but an <b>only includes version</b>. So no mod hacks are needed, everything is included. The restriction: the include version is OpenGL only since I do not know, how to write a DrawTexturedPoly() command for DirectX... <br><br></td></tr></table><br>
<a name="583313"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'll try that next week. <br>It'd be nice to have the shadow/light editor as part of a map editor. <br>Load your map, draw around your shadow casters, place your lights and  then save the data. <br>With ability to add lights at runtime I can see some nice stuff being produced.<br>What further plans do you have for this mod and where can I track it's progress?<br>Sometimes I wonder whether there should be a BB.com uber-2d mod using the great stuff being produced on these forums. <br><br></td></tr></table><br>
<a name="583945"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >René</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> There are some more features planned:<br>- rotating of TShadowCasterObjects<br>- maybe scaling of TShadowCasterObjects<br>- circle shadow geometries<br>- lense flares<br>- textured umbra shadows (for creating light through window fx, fake caustics, etc.)<br>- a standalone editor with export to file functions<br><br>I will post everything in this thread and/or update the project site. <br><br></td></tr></table><br>
<a name="583963"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >daaan</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow, this really is amazing. I've already easily implemented this in a project im working on. Thanks. <br><br></td></tr></table><br>
<a name="608387"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm still keeping an eye on this so any news/progress is most welcome. <br><br></td></tr></table><br>
<a name="608638"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >René</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> Right now im working on a feature rich editor that will use the shadow system with some new features. <br><br>Right now the progess is slow because of other projects without shadows :-)<br><br>Since there is no official DrawTexturedPoly command, I will only develop an OpenGL version. I don't want to do such mod hacks anymore...<br><br>There will be more news/updates in future, when my Website update is done. <br><br></td></tr></table><br>
<a name="608710"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GrahamK</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
