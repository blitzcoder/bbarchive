<!DOCTYPE html><html lang="en" ><head ><title >Catch MOUSEEVENT on ListView?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Catch MOUSEEVENT on ListView?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Catch MOUSEEVENT on ListView?</a><br><br>
<a name="613111"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MrCredo</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi,<br><br>can someone help me? How can i get a event, when i hit mousebutton in a ListView-Item. i need something to get TRUE, when i hit RIGHT mousebutton... <br><br></td></tr></table><br>
<a name="613517"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MrCredo</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> *push* <br><br></td></tr></table><br>
<a name="614182"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hummelpups</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hm, i didn't got it with events. I used a canvas<br>under the listboxitem. It's a very<br>baaaad codestil. I tested it under Win, it works!<br>Don't know whether that is platformindependent.<br><br>Look at this code german fellow. ;)<br><br>window=CreateWindow("asd",10,10,400,400)<br><br>canvas=CreateCanvas(0,0,400,300,window)<br>listbox=CreateListBox(0,0,400,300,window)<br>AddGadgetItem listbox,"asd"<br>AddGadgetItem listbox,"asd2"<br>AddGadgetItem listbox,"asd3"<br><br>'HideGadget canvas<br>'ActivateGadget canvas<br><br>While WaitEvent()<br>	Select EventID()<br>	Case EVENT_WINDOWCLOSE<br>		End<br>	<br>	Case EVENT_MOUSEDOWN<br>		Select EventData()<br>		Case 1<br>			SelectGadgetItem listbox,Rand(0,2)<br>			'RedrawGadget listbox<br>			'RedrawGadget canvas<br>			'Notify("MT2")<br>		End Select<br><br>	End Select<br><br>Wend<br><br><br>IMurDOOM <br><br></td></tr></table><br>
<a name="614494"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MrCredo</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> hm... :-/<br><br>ok i check this also with panels later - panels are more resources-friendly <br><br></td></tr></table><br>
<a name="614517"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MrCredo</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> hmmm it tested it... panel work at the same way... but<br><br>panel or canvas eat all events - i can't select a list gadget with mouse... that is bad... what i need is only a mousebutton-event on treelist<br><br>:-/ <br><br></td></tr></table><br>
<a name="614872"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you want to catch the MouseEvents on a tree or listview here is a small workaround for Win32(BTW: This should be in Max for every Gadget)<br><br>First you have to find the "win32listbox.cpp" in "mod\brl.mod\win32maxgui.mod\win32gui" and open it. <br><br>The First Function in this code related to the listbox is<br><br><pre class=code>
Win32ListBox::Win32ListBox( BBGroup *group,int style ):BBListBox(group,style){
... a few things
...
_gadget.setWndProc(this);
}
</pre><br><br>Now to add the MouseEvents to the Listbox you simply have to <br>add one line, so it looks as follows:<br><br><pre class=code>
Win32ListBox::Win32ListBox( BBGroup *group,int style ):BBListBox(group,style){
... a few things
...
_gadget.setWndProc(this);
_gadget.setEventMask( BBEVENT_MOUSEMASK,this );
}
</pre><br><br>And now you also catch the MouseEvents in a ListBox (completely with the x and y coordinates)<br><br>Only tested with listboxes, but should work also with every other Gadget.<br><br>BTW: <br>By changing :<br>setEventMask( BBEVENT_MOUSEMASK,this );<br>to <br>setEventMask( BBEVENT_MOUSEMASK|BBEVENT_KEYMASK,this );<br>You can also catch the keys pressed in the listbox<br><br>I hope this solves your problems <br><br></td></tr></table><br>
<a name="615223"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MrCredo</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> oh hell...<br><br>i think, mark should add this to all gadgets... i don't like to modify cpp code at each update... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
