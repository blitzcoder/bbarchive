<!DOCTYPE html><html lang="en" ><head ><title >GL - what can cause this error?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >GL - what can cause this error?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >GL - what can cause this error?</a><br><br>
<a name="749551"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I get an "Unhandled Memory Exception" error on calling End.<br><br>I've tried freeing all assets, sound channels, tLists etc and it makes no difference at all.<br><br>Everything works fine in DX.  but under GL, I get the above error here (glgraphics.bmx):<br><pre class=code>	Method Close()
		If Not _context Return
		<b>bbGLGraphicsClose( _context )</b>
		_context=0
	End Method</pre><br>I've tried setting up a basic program to create a graphics object in GL and then ending it, and that seems to work OK, so I guess its something I'm doing somewhere but I don't know what.<br><br>Any ideas what can cause this error?  I'm at a loss. <br><br></td></tr></table><br>
<a name="749571"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You're going behind the scenes so who knows. Why not just call EndGraphics()? <br><br></td></tr></table><br>
<a name="749583"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> You're going behind the scenes so who knows. <br></div>No I'm not - I'm using 'End'!  Its hardly low-level stuff.<br><br>The debugger is pointing me to glgraphics Close method.<br><br>I've already tried EndGraphics but I still get the same error. <br><br></td></tr></table><br>
<a name="749765"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pantheon</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> No, what he's saying is that bbGLgraphicsClose is the one that is flaggin the exception with the debugger. Thats not his code, its from the BB source (i think).<br><br>Sounds like a BMX bug. What happens in release mode? <br><br></td></tr></table><br>
<a name="749767"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Thats not his code, its from the BB source (i think). <br></div>Correct - its from glgraphics.bmx.  I did say that in my first post. :)<br><br>In release mode my game just hangs. <br><br></td></tr></table><br>
<a name="749769"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> What are you exactly doing as you say that a basic sample does not have this error? Do you use extension modules like indiepaths or leadwerks AA addition?<br><br>do you do anything else that is not part of the default commandset of Max2D? <br><br></td></tr></table><br>
<a name="839812"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jake L.</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry for reanimating old threads, but this is EXACTLY the error I'm getting since a few days in my app and it drives me crazy. As I can see I do nothing special and Under-the-hood stuff and it's seems to be a problem with GLMax2DDriver (or cards' OpenGL driver).<br><br>This error is somewhat random. On my home machine (ATI Radeon 1950 Pro) it occurs very rarely, about every 20. or 30. run. At work (Intel  onboard) it occurs very often, aprox. each 2. run. Both machines running on XP Pro.<br><br>Could it be something with VRAM swapping? My app loads a lot of images. <br><br></td></tr></table><br>
<a name="839813"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Update your drivers to a WHQL certified version which is new. That should fix it.<br><br>With intel onboard you can be happy that OpenGL works at all because its Microsoft OpenGL 1.1 emulation (on GMA 900 at least) <br><br></td></tr></table><br>
<a name="839887"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jake L.</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> It would be helpful if anyone (maybe from BRL) can say what things can raise this error and what not. Is it only memory hickup that can raise an unnamed MAV? I'm going through the BRL sources today and see what Endgraphics does and what may fail. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
