<!DOCTYPE html><html lang="en" ><head ><title >Working with Vectors</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Working with Vectors</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Working with Vectors</a><br><br>
<a name="482349"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm doing some physics with vectors. Right now I use vectors for Location,Speed,Acceleration and Force.<br><br>If I where to write a function which for example creates an object at X,Y I could use a Vector instead:<br><br><b>Function CreateCar(X,Y) </b><br><br>Or<br><br><b>Function CreateCar(V:Vector)</b><br><br>To utilize this I would call the functions respecitvly:<br><br><b>CreateCar(X,Y)</b><br><br>and with vectors:<br><br><b>CreateCar(Location)</b><br><br>I think it would be nice to make my functions accept both because sometime I might want to not use vectors. Is there a smart way to do this with as little duplicate code as possible? Can I make a Function which accepts either a vector or a X,Y poss. I have a feeling there is a ultimate way of doing this in some advanced OO-way but I don't really know.<br><br>btw I have the vectormath working so if anyone would be interested in it I could post the library. <br><br></td></tr></table><br>
<a name="482351"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dynaman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Your going to need two different functions, blitz does not have function overloading which would have allowed this. <br><br></td></tr></table><br>
<a name="482361"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can you show how it would have been done with overlading(let's pretend it exsisted)? I have no idea but I'm sure it would be fun to know =) <br><br></td></tr></table><br>
<a name="482365"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> exactly as above. 2 times the same function with different function header <br><br></td></tr></table><br>
<a name="482412"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dynaman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> like you have above, it still would have been two different functions BUT they would have the same name.<br><br>Could have looked like this (psuedocode)<br><br>create(x,y)<br>localx = x<br>localy = y<br>end function<br><br>create(vectorthing)<br>localx = vectorthing.x<br>localy = vectorthing.y<br>end function<br><br>If you called the function with x and y it would run the first version, if you called it with a vector it would run the second version. <br><br></td></tr></table><br>
<a name="482420"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah, I did know about overloading from Java, just forgot the technical term =)<br>Why can't I do this in BlitzMax? Is there any special reason?<br><br>Some ideas of mine:<br>Can't I use casting to check if the first parameter is a Vector then do.. or if an int then.. I think it would be possible to take an aproach like this but I'm afraid it will get messy. <br><br>Is there a way I can pass an array with 2 slots in to the function and by this make the Vector take as much space as my (X,Y). So that I in some way would do it like this:<br><br><b>Function CreateCar([X,Y],Color,Name$)  </b><br><br>and when I use it I could do something like this:<br><br><b>CreateCar([X,Y],Color,Name$) </b><br>or with a vector<br><b>CreateCar(Location,Color,Name$) </b><br><br>The idea is to, inside the function, check if the argument is an array or a vector.<br><br>-<br>Perhaps I could make a function that accepts X,Y and returns a temporary vector. So that I could <b>CreateCar(Poss(X,Y),Color,Name$)</b><br><br>I haven't tried any of these and I'm unsure if they would work. Is there a way to find a solution to this or should I just use two different but identical functions? Which I have a hard time accepting =) <br><br></td></tr></table><br>
<a name="482444"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dynaman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> maybe you could have the function accept an argument of object, object.  If the first "object" is an integer then you use the integer version, if not then assume (but you know what that does) it is a vector.<br><br>This should work for different types of objects, not sure how it would work for integers vs a real object though.<br><br>As for why function overloading is not in max, well, Mark just didn't put it in yet...   (meant to sound funny, not rude) <br><br></td></tr></table><br>
<a name="482456"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> So it is planned?<br><br>And by accepting objects, that would work but the problem lies in having 2 parameters for X,Y and only one if it is a vector. Somehow I have to find a work-around for that or the function would be:<br><b>CreateCar(X,Y,Color,Name$)<br>~<br>CreateCar(Location,0,Color,Name$)</b><br><br>This is what I meant with messy, the " 0 " instead of Y when it's a vector. <br><br></td></tr></table><br>
<a name="482505"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> How about passing a Y value of -1 if you're using vectors? <br><br></td></tr></table><br>
<a name="482624"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  So it is planned?  <br></div>Last we heard. <br><br></td></tr></table><br>
<a name="482761"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Last we heard. <br></div><br>Great!<br><br>Tonyg, perhaps but If someone want to use negative X,Y possitions? Anyway, I'll look into it. If I find a solution I'll post it here. <br><br></td></tr></table><br>
<a name="482767"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> The solution was simple and clean enought!<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">

Function Location:Vector(X#,Y#)
	Local V:Vector
	V=Vector.Create(X#,Y#)	
	Return V 
End Function

This is how I use it:

Position:Vector
Explosion( Position )

or if I want to use X,Y directly

Explosion( Location(7,23) )

</textarea><br><br>Looks nice I think, it's easy too see what's going on. Am I right in that the garbage collector will take care of this temp vector from my Location-function? (I don't put the vectors in a list) <br><br></td></tr></table><br>
<a name="482769"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sweenie</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> [Edit] Oops, you posted the same solution while I was typing. :)<br><br>Meanwhile perhaps you could do like this ?<br><br>Type Vector<br> Field x:float<br> Field y:float<br><br> Function Create:Vector(x_in:float,y_in:float)<br>  Local newVector:Vector = New Vector<br>  NewVector.x = x_in<br>  NewVector.y = y_in<br>  Return newVector<br> End Function<br><br>End Type<br><br>CreateCar(Myvector) or<br>CreateCar(Vector.Create(x,y)) <br><br></td></tr></table><br>
<a name="482770"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Pickford</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Looks nice I think, it's easy too see what's going on. Am I right in that the garbage collector will take care of this temp vector from my Location-function? (I don't put the vectors in a list) <br> <br></div><br>ooh good point.   Now THERE is a concrete advantage of Garbage collection.   In B3D you couldn't just create types instances like that without having to worry about clearing them up.<br><br>So for something like this you just need a Vectorise:Vector(X,Y)  function which simply returns a new temp vector. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
