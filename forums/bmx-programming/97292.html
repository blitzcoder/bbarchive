<!DOCTYPE html><html lang="en" ><head ><title >App crash if not running as Administrator</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >App crash if not running as Administrator</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >App crash if not running as Administrator</a><br><br>
<a name="1129172"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think that since Windows Vista/Seven a few folder are more protected like program files.<br><br>Is there a way to bypass this behavior so I can update log files or edit level in my application folder when installed under program files ?<br><br>More info and game test : <a href="http://blitzmax.com/Community/posts.php?topic=97287" target="_blank">http://blitzmax.com/Community/posts.php?topic=97287</a><br><br>Run Metagolf as Administrator fix the problem but it is somewhat restrictive. And what to think about all those games and softwares that already do this since years and still work.<br><br>I probably miss something :) <br><br></td></tr></table><br>
<a name="1129176"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Htbaa</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, use <a href="http://maximus.htbaa.com/module/bah/volumes" target="_blank">bah.volumes</a> to determine the application directory and store files in there. <br><br></td></tr></table><br>
<a name="1129197"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thing is it's a crossplatform product.<br>I like to stick with the same procedure for creating map, log files, saving progress and things like that.<br>Isn't there any other solution ?<br><br>I may also allow people to install the game by default somewhere else but it's just a way around. <br><br></td></tr></table><br>
<a name="1129198"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Htbaa</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes, bah.volumes. It can find the right directories on Linux, OSX and Windows. <br><br></td></tr></table><br>
<a name="1129320"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe check here for Windows:<br><a href="http://www.blitzbasic.com/Community/posts.php?topic=90125#1024649" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=90125#1024649</a> <br><br></td></tr></table><br>
<a name="1129322"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Thing is it's a crossplatform product.<br>I like to stick with the same procedure for creating map, log files, saving progress and things like that.<br>Isn't there any other solution ? <br></div><br><br>Not really, you should store files in their designated locations -- MS has development guidelines for a reason.<br><br>If you choose to ignore them and put your files in semi-random other locations (which includes the actual installation folder itself, after the initial installation) you are almost guaranteed to run into problems that prevent your game from working on some computers -- and if not today, there's a realistic chance that it breaks with the next windows version or service pack.<br><br>Maybe inconvenient, but less so than having your game break in the future when it's entirely preventable. <br><br></td></tr></table><br>
<a name="1129330"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hummm OK.<br><br>By default it's working differently on every windows distribution. Quite hard to test such things when you don't have the specific error.<br><br>Some people get stuck at setup, fewer at launch time but each time it' a question of damn permission...<br><br>I'm even tempted to release the game as a zip file like Gary was suggesting.<br><br>So if I'm following you Therevills, I have to set the permission group on my installed folder to everyone ?<br>I guess it's something I could try with the installer itself. Let's see what we can do. Thanks ! <br><br></td></tr></table><br>
<a name="1129332"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I try to create a standard user account to see but a warning normally appears during the installation preventing you from installing the game under a folder without administrator right.<br><br>Choosing the user folder as default installation folder fix the problem.<br><br>I also try to run the game as simple invited but of course I got the C++ error for whatever permission right.<br><br>I never ever in my whole life been a simple users inside Windows, feel strange to create an application folder inside the user/xxxxx/ account... <br><br></td></tr></table><br>
<a name="1129596"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's one of Microsoft's biggest problems making windows secure: A lot of developers simply force the programs to write in locations they shouldn't by taking shortcuts, or because it 'feels strange'.<br><br>If all developers complied with the rules, there would be next to no need to have a normal user run as administrator, and it would be a LOT easier to prevent virusses and malware from infecting your system.<br><br>All we can do is try to be part of the solution, rather than perpetuate the problem. :-? <br><br></td></tr></table><br>
<a name="1129598"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> And as a final thought: This is also the reason that Microsoft made UAC pretty restrictive when it was first introduced: They were hoping that the nagscreens would force the app developers from getting their act together quickly, and update their software to be compliant with the restrictions.<br><br>Instead, it resulted in many users turning the whole thing off altogether, making windows less secure again. <br><br></td></tr></table><br>
<a name="1129600"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GaryV</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I'm even tempted to release the game as a zip file like Gary was suggesting. <br></div>I never suggested this, I suggested zipping the setup exe you were distributing on your site. <br><br></td></tr></table><br>
<a name="1129619"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I never suggested this, I suggested zipping the setup exe you were distributing on your site. <br></div><br>Then, it's what I said :0)<br><br>I will use the user folder on my next installer release, under mac it's already OK thanks to DMG (through I could add the sandbox stuff, maybe next time) and on linux it's an archive so no problems either.<br><br>I'm coming from an old "program files filed with s**t" background.<br>This explain that :D <br><br></td></tr></table><br>
<a name="1129620"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GaryV</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> It is best to play by the rules for each OS.  The Windows requirements have actually been there since IE 4 was released for Windows 95, they were just not enforced until Vista was released.<br><br>OS X is strict, too and with the new version of OS X, Apple will by default (user can bypass this) not allow games to be installed if they are not sold via Apple's store.  Part of the approval process is having your game write to the proper locations.<br><br>Pain in the back end, but it is a necessity nowadays.  There should be several BMax examples floating around to help you out. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
