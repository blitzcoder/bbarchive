<!DOCTYPE html><html lang="en" ><head ><title >Sound's terrible - onboard-card</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Sound's terrible - onboard-card</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Sound's terrible - onboard-card</a><br><br>
<a name="724247"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Fetze</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just want to say that BMax seems to have massive problems with some onboardsound - it just keeps scratching around, stop playing in the middle of a soundeffect and start playing seconds after I wanted it to... it's not my code that has got the problem, because it works absolutely fine on another machine.<br><br>Also, on some older soundcards, if you keep the processor busy with loading a large file and you've a song playing it may just pause with a scratch and restart playing as soon as the program finished loading that file - and also, does not happen on another system.<br><br>Would be nice if anyone could take care of the problem... if it was possible to do that in Blitz3D it has to be possible to do that with BlitzMax. <br><br></td></tr></table><br>
<a name="724249"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Any code to post? <br>What version/release of Bmax as many sound issues were solved in 1.20 (I think). <br><br></td></tr></table><br>
<a name="724530"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Fetze</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Currently newest BMax-Version. And no, there is no code to post because it's directly connected to the rest of my project which is about 42000 lines. Just play and/or volume-speed-modulate a lot of sounds at once. <br><br></td></tr></table><br>
<a name="724534"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Listen. If you cannot reproduce it in a short program, there is no way to track down the error. <br><br></td></tr></table><br>
<a name="724535"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> A lot of sounds: And you stop all channels not used anymore, nor are you using alloced channels for new playing OGG sounds, right?<br><br>Because both creates memory leaks and thus could explain your problem. <br><br></td></tr></table><br>
<a name="724537"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can't you "just play and/or volume-speed-modulate a lot of sounds at once" and then post the code?<br>Also, you mention it might be machine specific but don't provide any machine specs. <br><br></td></tr></table><br>
<a name="724578"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Fetze</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, I don't own a machine that produces the bug, just know someone who experienced it with ma project.. so I obciously cant check if the code, I'd write as example, does reproduce the error.<br><br>@Dreamora<br>Yep. Stopping all that I don't use anymore and not allocating channels with any command than Playsound or Cuesound. When I did that months ago (Its fixed now), that produced another bug: Not playing any more sound after a while. This one is a little different. <br><br></td></tr></table><br>
<a name="724594"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> What spec is this other machine? <br>Take your existing code and add debug statements. Then either release it to the person with the issue or release it here for people to try.<br>When you have your debug information write some code around the 'failing' code and then release for testing. <br><br></td></tr></table><br>
<a name="724647"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Fetze</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, there is nothing that fails - the code runs perfectly, the result is just different. That's the problem - it is not my code, that does not do his job - it seems somehow to be the soundcard or its driver - and related to that the BlitzMax-Soundmodule <br><br></td></tr></table><br>
<a name="724660"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's why I put 'failing' in single quotes. <br>So, what are the machine specs? What about releasing the game for people to test here? What about adding those debug statements? etc etc etc. <br><br></td></tr></table><br>
<a name="724671"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> The auto scratch detection got added to the last freeaudio update which is some time ago now. I was testing with a P133, ISA sound card and Monster 3D nvidia. My opinion is it is extremely easy to have the graphics card own the bus in win98 and a lot of creative labs drivers do not seem to have the ability to assert their dominance. Which is of course what needs to happen on the PC, graphics should NEVER block audio packets if you ask me. Also, by swicthing to fullscreen I could trigger a reset in freeaudio that would help it resync, it may still issue a printf in that situation. After that release I was pretty happy I had solved a lot of the issues ppl were having with BlitzMax audio. A lot of commercial releases are using a licensed fmod where I think the added benefit of the directsound drivers is the major distinction - something freeaudio should get soon by way of a portaudio edition.<br><br>Fetze, some more details would be appreciated re the problem machine, specific OS,  soundcard and graphics card names and drivers etc.<br><br><div class="quote"> Also, on some older soundcards, if you keep the processor busy with loading a large file and you've a song playing it may just pause with a scratch and restart playing as soon as the program finished loading that file - and also, does not happen on another system. <br></div><br><br>more details here would be appreciated also, this only would happen on win98 i think, xp even with ancient sound hardware seems to perform multimedia fine for me<br><br>the large delay in restarting now I think of it may be due to the switch to fullscreen testing I was doing in win98 which needed a coupld of seconds timeout for the graphics card to get it's thing together.<br><br>TIA <br><br></td></tr></table><br>
<a name="724967"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Fetze</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt;&gt; Fetze, some more details would be appreciated re the problem machine, specific OS, soundcard and graphics card names and drivers etc.<br><br>Windows XP, "C-Media Ac96 Audiodevice"-Onboardsound, Nvidea Geforxe FX5700ve 256 Mb VRam, 512 Mb DDRRam, AthlonXP3200+<br><br>&gt;&gt; this only would happen on win98 i think, xp even with ancient sound hardware seems to perform multimedia fine for me<br><br>So, its a known problem? Can I somehow fix it in my code, or, can I expect a module-based fix for it in coming Versions?<br>More Details: Pentium 4, 1.6 Ghz, WinXP, Geforce 4 Ti, "SoundMAX"-Onboard-Soundcard.<br>I also got reports, that this happens on few other systems too but don't have any specs for them, sorry. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
