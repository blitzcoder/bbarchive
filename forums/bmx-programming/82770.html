<!DOCTYPE html><html lang="en" ><head ><title >Blide Import C file undefined reference</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Blide Import C file undefined reference</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Blide Import C file undefined reference</a><br><br>
<a name="933712"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi<br><br>When I'm importing this in a New Temporal BMX file<br><br><pre class=code>SuperStrict

Framework BRL.StandardIO

Import "Math.c"

Extern
    Function PowerOf:Float(X:Float, Y:Float)
End Extern

Local X:Float = 4.0, Y:Float = 2.0
Print PowerOf(X, Y)</pre><br>It's working<br><br>But when I import third party code on my managed blide solution I get this error :<br><br><b>C:/BlitzMax/lib/libmingw32.a(main.o):main.c:(.text+0x106): undefined reference to `WinMain@16'</b><br><br>This is my Math.c file<br><pre class=code>#include &lt;math.h&gt;

float PowerOf(float base, float exp)
{
	return pow(base,exp);
}</pre><br>As you can see I'm trying to use Math C function but this error give me problem.<br><br>What's this error and how to remove it ?<br>Thanks <br><br></td></tr></table><br>
<a name="933716"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Possibly you need to use doubles. <br><br></td></tr></table><br>
<a name="933721"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's true<br>But this not fix the problem :s <br><br></td></tr></table><br>
<a name="933734"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >kfprimm</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Typically, you'll get that error if you are trying to build a C file and then execute it. I don't use Blide so I am unsure of how its project settings work but make sure that it is compiling and executing the BlitzMax source file. <br><br></td></tr></table><br>
<a name="933756"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> The error implies BlitzMax has not imported the AppStub correctly - containing a main() function. (as in the main() which all applications require). <br><br></td></tr></table><br>
<a name="933772"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Disable quick build and let me know if that fixed it. If this is not the case, please send me a small solution replicating the issue in order for me to check if BLIde is doing something it should not.<br><br>EDIT: Be sure to not be trying to execute the C file directly, as it'll requiere a starting point. BLIde and BMK can compile C and C++ files, so it seems you're trying to create a EXE based on your C file, instead of based on the solution that imports the C file. <br><br></td></tr></table><br>
<a name="933773"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> confirmed, that's the error you get on MinGW when trying to build a C file without a main procedure: <div class="quote"> C:/Program Files/BlitzMax/lib/libmingw32.a(main.o):main.c:(.text+0x106): undefined reference to `WinMain@16' <br></div><br>Be sure to be executing the solution and not the imported C file as a stand-alone file. <br><br></td></tr></table><br>
<a name="933788"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm sorry but I don't quite get it.<br>I understand that mingw is searching for an entry point but I just want to import a set of functions coded in C.<br><br>Would it be possible to produce a small example on how to achieve this ?<br>I mean in a Blide Solution since unmanaged work fine...<br><br>I've put a small Blide solution with import of C code to work on here :<br><a href="http://arm42.free.fr/files/blideSolutionImportC.zip" target="_blank">http://arm42.free.fr/files/blideSolutionImportC.zip</a><br><br>Thanks ! <br><br></td></tr></table><br>
<a name="933802"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Armitage1982: This can be easilly solved.<br>If you open the dependencies tree of your solution, you'll see that you have a root node for math.c, so BLIde thinks you're using this C file to create a EXE. Remove the root node and leave only the import. To do so, open the project dependencies tree (Alt+2). Right click over the Math.c root node there and select "Project Manager". Then a dialog will open showing all EXEs or MODs being built by the solution. Select the Matc.c and click on Remove Program. (you'll be prompted to accept and refresh the solution).<br><br>Then, you're done!<br><br>When you do this, you'll see the file Math.c does not appear on the solution tree. That's expected as C files are not Managed by blide. You can access the file still using the local shortcuts window, or the project dependencies tree.<br><br>It seems that when you add a unmanaged program written in C, blide automatically adds ALSO a EXE build mode for the node. This will be changed in the future! <br><br></td></tr></table><br>
<a name="933827"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Working !<br>Thanks a lot Ziggy, this is an advanced feature of Blide that I wasn't aware of.<br>I never use the Dependencies tree before.<br>My C program work great now :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
