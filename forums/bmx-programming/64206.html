<!DOCTYPE html><html lang="en" ><head ><title >Does Blitz have Pointers?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Does Blitz have Pointers?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Does Blitz have Pointers?</a><br><br>
<a name="716570"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sanctus</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> If yes the could someone explain shortly on how the work?<br>I wanth to have the objects in my game have pointers to the gfx resources<br>like if I have:<br><pre class=code>
global image1 = loadimage("image.bmp")
global variable1 = // some sort of pointer thing
// then the code below will work
drawimage variable,0,0 ; it should draw the image in the image1 variable without loading the image in variale1
</pre><br><br>Thx <br><br></td></tr></table><br>
<a name="716574"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jim Teeuwen</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Blitz has Byte Pointers to the raw data behind the object (in this case the pixel data), but it is not suitable for using in the DrawImage command. <br><br>Consider though that the values stored in variables are allready Reference pointers to the Image itself.<br><br>I don't really see the benefit of what you are asking from your little example. Perhaps you could elaborate. <br><br></td></tr></table><br>
<a name="716575"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Types are essentially stored using pointers, so when you say:<br><br>image1:Timage=loadimage("image.bmp")<br><br>image1 is essentially a pointer<br><br>so you can then say<br><br>myimage:Timage=image1<br>drawimage myimage,0,0<br><br>and it will draw image1. No extra copy has been loaded. <br><br></td></tr></table><br>
<a name="716579"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sanctus</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> geez I didn't think of that...<br>so u say it woun load the data from image1 into myimage. Instead it will just go like a pointer.<br>thx(one step further into my game) <br><br></td></tr></table><br>
<a name="716583"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sanctus!!!!!!! This was definatly a sit down and think about it before you posted. We've had all them. <br><br></td></tr></table><br>
<a name="716705"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leiden</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> You definately sat down and thought about it when you typed that message. <br><br></td></tr></table><br>
<a name="716709"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SculptureOfSoul</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  Sanctus!!!!!!! This was definatly a sit down and thing about it before you posted. Weve all them.<br> <br></div><br><br>Gotta love irony. <br><br></td></tr></table><br>
<a name="716712"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SculptureOfSoul</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Further, as far as I can tell, if you have declare a variable of a type (i.e. SomeVar:Sometype ) without actually defining it (i.e. SomeVar:Sometype = new Sometype ) the variable will only take up 4* bytes ( it's only a pointer, at this point.) <br><br>So if you have a type, THuge, that has a TON of fields and takes up say, 500 bytes, you can still utilize and undefined THuge as a pointer to a THuge without the 500 byte overhead.<br><br><pre class=code>
Huge1:THuge = new THuge  '500 bytes allocated
Huge2:THuge = new THuge  'another 500 bytes allocated

HugeArray:THuge[1000] ' 4 bytes per entry, so 4*1000 or 4000 bytes allocated
HugeArray[1] = Huge1 'no new bytes allocated, HugeArray[1] is now pointing to the same object as Huge1
</pre><br><br><br>*On 64 bit systems I imagine it would take up 8 bytes, the native WORD size. <br><br></td></tr></table><br>
<a name="716733"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sanctus</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Geez this is keul...<br>Gonna start adding right now <br><br></td></tr></table><br>
<a name="716760"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sanctus</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok it works but the only problem i see is that I can't really use it with Superstrict<br><pre class=code>
Graphics 800,600,32
Global image1:Timage = LoadImage("IM000215.jpg")
Global myimage = image1

While Not KeyHit(key_escape)
	DrawImage myimage , 0 , 0 , 0
	Flip
	Cls
Wend

</pre> <br><br></td></tr></table><br>
<a name="716765"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just declare myimage to be a Timage type<br><br>Global myimage:Timage=image1 <br><br></td></tr></table><br>
<a name="716792"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sanctus</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> yeah but if I do that it will load the whole data from image1 into myimage(I tryed it)<br><pre class=code>
Graphics 800,600,32
Global image1:Timage = LoadImage("IM000215.jpg")
Global myimage:Timage = image1

While Not KeyHit(key_escape)
	DrawImage myimage , 0 , 0 , 0
	Flip
	Cls
Wend
Global myarray:Int[1]
myarray[2] = 3
</pre><br>the last part is just to give a error so that I can see wath the debugger says <br><br></td></tr></table><br>
<a name="716801"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> No it wont. In fact, All non byte, float, double or long variables in BlitzMax are themselves pointers. That's why they can have a 'null' value if they're not assigned, or if they are released.<br><br><pre class=code>
MyVariable:Tlist   'This creates a TList pointer called MyVariable

New Tlist  'This creates a new TList object, 
'as this object is not pointed anywhere, this object dies at the same time it is created.
</pre><br><pre class=code>
MyVariable:Tlist = New TList 'We create the pointer, the object, and make the pointer point the object.

MyVariable2:Tlist = MyVariable 'This creates a new pointer (MyVariable2) of type TList, and
'it points to the same object than MyVariable.


MyVariable = Null  'This makes MyVariable point to 'null'

MyVariable2 = Null 'This makes MyVariable2 point to 'null'.

'As no pointer is now pointing the original TLIst object,
'it is deleted by the garvage collector.

</pre> <br><br></td></tr></table><br>
<a name="716815"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> What ziggy said. You can use debugstop() in your code to call the debugger. <br><br></td></tr></table><br>
<a name="716820"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Sanctus<br><pre class=code>
Global image1:Timage = LoadImage("max.png")
Global myimage:Timage = image1
Print myimage.tostring()
Print image1.tostring()
</pre><br>P.S. You can use 'debugstop' to drop into the debugger (in debug mode of course). <br><br></td></tr></table><br>
<a name="716883"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sanctus</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Um thx<br>Oh and thx for telling me about debugstop() &gt;:D&lt; <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
