<!DOCTYPE html><html lang="en" ><head ><title >Grid-based Game Design</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Grid-based Game Design</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Grid-based Game Design</a><br><br>
<a name="920495"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Torrente</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've had an idea of a grid-based strategy game running around in my head, but I've run across a few problems concerning the structure.<br><br>The types that I currently have are <br>  TGrid -- The type to hold the array that represents the grid<br>  TGridEntity -- A base type for anything that'll go into the grid<br>  TUnit extends TGridEntity -- The basic unit type<br><br>Should I have a global instance of TGrid, and then reference that in the TGridEntity functions? Should the array in TGrid hold all of the units, or should the Units know their respective positions in the grid, or both? Should I update the GridEntity's by adding them to a list and then looping through it, or by adding them to the TGrid array and looping through that?<br><br>I'm really terrible at design, I've discovered -- I always get stuck early on, and then get too discouraged to finish. I'll probably have some more questions later.<br><br>Any help would be appreciated, thanks!<br><br>ps. Also, since this will be a two-player game, should I add a player type that contains all of the player's units, or should the units contain a reference to the player? <br><br></td></tr></table><br>
<a name="920514"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you were using Blitz3D you would have to code work-arounds but blitzmax is awesome..<br><br>I usually make it so that units know where they are and iterate through a list of units<br><br>You should make a player type that contains a list of units <br><br></td></tr></table><br>
<a name="920515"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Torrente</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> So the units will have no idea which player controls them unless I code a Player.owns(unit) method or something similar? <br><br></td></tr></table><br>
<a name="920526"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gameproducer</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think Jeremy was thinking that unit won't know who is controlling them. They just get orders and move to where they are told. They don't care who ordered them.<br><br>The players know which units they are controlling. <br><br></td></tr></table><br>
<a name="920557"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Torrente</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> And what about when a unit goes to take action against another unit on the board? Won't I have to check that the other unit is a member of the opposite team, or should the Player type handle the movement/action, as in Player.move(unit, x, y), and Player.action(myUnit, otherUnit)? <br><br></td></tr></table><br>
<a name="920583"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arowx</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> You may not want blue on blue incident's though, at least in general players destroying their own unit's would be considered a bad thing!<br><br>The default unit could have a simple team/player id or reference which would allow simple unit/enemy checks.<br><br>The key is to keep it simple, but stay flexible which is a lot harder to do than you would think!<br><br>Try of think of it from the players perspective what commands can the players issue and what objects recieve those commands...<br><br>Then work out what those objects need to do to complete those tasks.<br><br>E.g. A player commands a unit to engage an enemy<br><br>I believe this is called Use Case Design and the aim is to think about what the user will want the system to do and then what each object needs to do to complete the task.<br><br>Work out all the player commands/actions and then work through how the objects in the sytem complete those tasks. <br><br></td></tr></table><br>
<a name="920591"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gameproducer</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> If units need to know who are the enemies, then you can add "controlled by player ID/refence" variable in the unit (I think player equals "team" in your case). <br><br>Then you could have method "TUnit isMyEnemy(unit)" that would check "if self.controlledPlayer is same as unit.controlledPlayer then return false, otherwise return true" or something like that. <br><br></td></tr></table><br>
<a name="920597"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think it would be useful to know who owns which grid for strategical decisions especially when using Influence maps. Keeping a central area with this information rather than having to re:reference the player seems like a good idea. <br><br></td></tr></table><br>
<a name="920668"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Torrente</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks everyone, here's what I have so far.<br><br>TPlayer contains a list of TUnits, carries out the movements/attacks etc, and changes TGrid accordingly. For changing turns, TPlayer has beginTurn() and endTurn() methods, which carry out operations on the TUnits (such as telling them they're active, or changing their colors, etc).<br><br>TUnit contains an id which matches its player's id.<br><br>TGrid has an array that contains references to the TUnits for pathfinding, etc.<br><br>This brings up another question. Should I render the TUnit instances using a global list, or through the player's lists, or by looping through the TGrid's array? <br><br></td></tr></table><br>
<a name="920701"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arowx</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> That depends...<br><br>If the grid of the game fit's on the screen and all unit's can see every other unit then just go through the unit list!<br><br>However if the grid is larger than the screen then work from the subset of the grid that is visible!<br><br>If unit's have a limited scan range then you need a player/team specific unit draw selection process! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
