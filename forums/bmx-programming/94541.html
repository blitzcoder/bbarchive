<!DOCTYPE html><html lang="en" ><head ><title >Why does this compile?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Why does this compile?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Why does this compile?</a><br><br>
<a name="1084864"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Members is a list. Look at the highlighted line. It compiled just fine and caused a hidden bug!<br><br><pre class=code>	Method _add_unit:TLink(unit:TUnitObject)
		_number_units :+ 1
		Assert Not _members.Contains(unit)
		Local link:TLink _members.AddLast(unit) ****
		Local num = get_number_units()
		If _formation.get_number_units() &lt; num
			_formation.set(num)
		End If
		_formation.populate(_members)
		Return link
	End Method</pre> <br><br></td></tr></table><br>
<a name="1084865"></a>

<a name="1084866"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> shouldn't that line have an equal right after  the link declaration?<br>it looks like it's returning a null Tlink.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1084867"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes it should, but it didn't and it compiled so I did not detect the problem &gt;.&gt; <br><br></td></tr></table><br>
<a name="1084868"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't know if you knew that you don't need to have a semicolon to separate two completeley different instructions on a single line. in most cases the semicolon is optional. in your original example it's the same as having this:<br><pre class=code>
Local link:Tlink
_members.Addlast(unit)
</pre><br><br>you can actually write a whole program in a single line of code with out any semicolons. <br><br></td></tr></table><br>
<a name="1084928"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oddball</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'd expect the compiler to bug out for that too. The semicolon should be compulsory, especially when using SuperStrict. This is a bug if you ask me. Although knowing Mark's lax views on code formatting it might be intentional. <br><br></td></tr></table><br>
<a name="1084949"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> The semi-colon should definately be compulsory when there are multiple statements on the same line. <br><br></td></tr></table><br>
<a name="1084955"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Its not a bug, its how it works.  Its no different to, for example:<pre class=code>Local a:Int = 1
If a = 1 Print "Hello"
</pre>...the likes of which I've seen on this forum countless times but nobody complains about that being unexpected behaviour.  Forcing folks to format their code in a specific way is a really bad idea (although personally, I wouldn't write code formatted like this in a fit, but plenty do). <br><br></td></tr></table><br>
<a name="1084956"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would say it is a sort of "implementation detail" of the compiler. The documentation says you have to use a semi colon to put 2 sentences in the same line. The compiler does not complain, ok, but this does not mean this is supported or recommended. <br><br></td></tr></table><br>
<a name="1084958"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oddball</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="/Account/showuser.php?id=52" target="_blank">GfK</a> wrote:<div class="quote"> ...the likes of which I've seen on this forum countless times but nobody complains about that being unexpected behaviour. Forcing folks to format their code in a specific way is a really bad idea (although personally, I wouldn't write code formatted like this in a fit, but plenty do).  <br></div>Absolutely agree that you should be able to choose sloppy coding if you wish to, but that is the whole point of having optional Strict and SuperStirct modes. I still say it should fail in SuperStrict at the very least. <br><br></td></tr></table><br>
<a name="1084990"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Fry Crayola</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Gfk:<br><div class="quote"> Its not a bug, its how it works. Its no different to, for example:<br><br>Local a:Int = 1<br>If a = 1 Print "Hello"<br><br>...the likes of which I've seen on this forum countless times but nobody complains about that being unexpected behaviour. <br></div><br><br>Well, there's a subtle difference there, in that keeping all the code on one line in an if statement tells the compiler not to look for an End If in order to exit the condition.<br><br>For such a statement, a carriage return makes a world of difference to the compiler. <br><br></td></tr></table><br>
<a name="1085013"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's ok because the Then keyword in an if statement is optional, and you expect an if statement to have two things (condition, expression). You can tell where one begins and the other ends. I don't know of any real-world use for the kind of statement that I wrote by accident. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
