<!DOCTYPE html><html lang="en" ><head ><title >How to calculate "darkness" of a colour?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >How to calculate "darkness" of a colour?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >How to calculate "darkness" of a colour?</a><br><br>
<a name="989370"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chalky</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am writing a fullscreen window GUI system and want to allow the user to change the colour schemes. Window titles etc. will need to be drawn in either white or black, depending on how dark (or light) the window borders are. Having retrieved the border's RGB value via ReadPixel, how can I tell how "dark" the colour is? <br><br></td></tr></table><br>
<a name="989372"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TaskMaster</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why not just allow them to change the text color as well?  Then it is their choice, you you won't have to mess with it. <br><br></td></tr></table><br>
<a name="989373"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EOF</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm no expert on colour but I believe you would need to convert your RGB to HSL (Hue, Saturation, Luminance)<br>Where Luminance would give you it's brightness<br><br>The code archives has some *.bb code which may help:<br><br><a href="http://www.blitzmax.com/codearcs/codearcs.php?code=2333" target="_blank">http://www.blitzmax.com/codearcs/codearcs.php?code=2333</a><br><br>Also, see:<br><a href="http://130.113.54.154/~monger/hsl-rgb.html" target="_blank">http://130.113.54.154/~monger/hsl-rgb.html</a> <br><br></td></tr></table><br>
<a name="989395"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just add the red, green and blue values. This will give you a measure of the brightness. <br><br></td></tr></table><br>
<a name="989404"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Just add the red, green and blue values. This will give you a measure of the brightness. <br></div> Not necessarily, 255-255-0 yellow is just as bright as either 255-0-0 red or 0-255-0 green for instance. All three have luminosity of 120 according to Paint. <br><br></td></tr></table><br>
<a name="989415"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dynaman</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> (just a guess here)<br>use the highest color<br><br>255-0-0 is just as bright as 255-255-255.  (different shade, but just as bright)<br><br>if the number is closer to 255 then use black, otherwise use white. <br><br></td></tr></table><br>
<a name="989420"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm afraid that doesn't help either, as Paint thinks 255-255-127 is brighter than 255-255-0 :P (and it looks it too, bright shade of yellow) I think you'll need to look up one of dem matamatiks furmulaz. <br><br></td></tr></table><br>
<a name="989430"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chalky</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Why not just allow them to change the text color as well? Then it is their choice, you you won't have to mess with it.  <br></div>I could do, but my intention is to only allow them to change the colours of the window borders, buttons etc. I could always simply provide a predefined list, which included text colour...<br><br><div class="quote"> I believe you would need to convert your RGB to HSL (Hue, Saturation, Luminance) <br>Where Luminance would give you it's brightness <br></div>I thought that too, and have already played around with reading the Luminance value but I can find no definite pattern where what appears bright on the screen has a Luminance which falls within a certain value range. Comparatively dark colours have mid-range Luminance values - as do considerably lighter ones. I was hoping I could do something like:<br><pre class=code>If Luminance&lt;128 then SetColor 255,255,255 Else SetColor 0,0,0</pre>but it looks like it's gonna be more complicated than that... <br><br></td></tr></table><br>
<a name="989431"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try this - found it via google, untested:<br><br><pre class=code>Brightness:Int = Sqr((R * R * 0.241) + (G * G * 0.691) + (B * B * 0.068))</pre><br>Apparently that'll return a value between 0-255 denoting the pixel 'brightness'. <br><br></td></tr></table><br>
<a name="989434"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chalky</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Gfk. That actually works pretty well - much better than my previous attempts using HSL values. Guess I'd better do some more googling now so I can learn how those float values are determined... <br><br></td></tr></table><br>
<a name="989435"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Guess I'd better do some more googling now so I can learn how those float values are determined... <br></div>Well for a start, they add up to 1.  Its really just calculating an average which is 69% biased towards green as that's brighter than both red and blue.<br><br>There's likely no reason for those values beyond trial and error. <br><br></td></tr></table><br>
<a name="989436"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> GfK's suggestion will work -- the human eye is more sensitive to certain colors in the light spectrum, so not all mixtures are perceived at the same brightness. You're most sensitive to green and least sensitive to blue, so you need to take that into consideration when determining the strength.<br><br>when I wrote my color-to-monochrome conversion (it's somewhere in the code archives), I found the following values as the recommended ones on the internet:<br><br>red: 0.299<br>green: 0.587<br>blue: 0.114<br>brightness = (R*0.299)+(G*0.587)+(B*0.114)<br><br>all in all, it seemed to work pretty well. The principle is still the same as Gfk suggested, though -- by converting the value to 'proper' black and white (monochrome), all you're left with is the brightness essentially. <br><br></td></tr></table><br>
<a name="989442"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_Skully</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
Brightness:Int = Sqr((R * R * 0.241) + (G * G * 0.691) + (B * B * 0.068))
</pre><br><br>Strange.. looks like a 3D distance formula with axis weighting ;) Looks sound though <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
