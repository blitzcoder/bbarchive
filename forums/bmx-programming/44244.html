<!DOCTYPE html><html lang="en" ><head ><title >Collisions id:object,doesn't work. What am I doin?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Collisions id:object,doesn't work. What am I doin?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Collisions id:object,doesn't work. What am I doin?</a><br><br>
<a name="492854"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skn3</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> What am I doing wrong ? To my understanding this should return a list of the id:object's envolved in the collision.<br><br><pre class=code>Graphics 640,480,0,60

'type used in collision test
Type TCollide
	Field id:String
End Type

Local x:Int
Local y:Int

Local regionx:Int = 200
Local regiony:Int = 145
Local regionwidth:Int = 200
Local regionheight:Int = 182

Local collide:TCollide = New TCollide
collide.id = "region"

'add region to collision layer 1
CollideRect(regionx,regiony,regionwidth,regionheight,0,COLLISION_LAYER_1,collide)

Repeat
	x = MouseX()
	y = MouseY()
	Cls
	
	'check for collisions caused by mouse pointer
	Local temp:Object[] = CollideRect(x,y,1,1,COLLISION_LAYER_1,0,Null)
	If temp.length
		'list all object ids collided with
		SetColor 155,155,155
		DrawText "collided with:",5,25
		Local drawy:Int = 45
		For i:Int = 0 Until temp.length
			Local collideobject:TCollide = TCollide(temp[i])
			If collideobject
				DrawText "id="+collideobject.id,15,drawy
				drawy:+20
			End If
		Next
		'set color for displaying region rect
		SetColor 0,255,0
	Else
		'set color for displaying region rect
		SetColor 255,0,0
	End If
	
	'raw simple interface
	DrawRect regionx,regiony,regionwidth,regionheight
	SetColor 255,255,255
	DrawText "Mouse over red box...",5,5
	
	Flip
Until KeyDown(KEY_ESCAPE)</pre> <br><br></td></tr></table><br>
<a name="492860"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >teamonkey</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's a bug: <a href="http://blitzbasic.com/Community/posts.php?topic=44068" target="_blank">http://blitzbasic.com/Community/posts.php?topic=44068</a> <br><br></td></tr></table><br>
<a name="492895"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skn3</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah right, that fixed it. Thanks <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
