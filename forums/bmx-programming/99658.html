<!DOCTYPE html><html lang="en" ><head ><title >Loading an image font needs more modules?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Loading an image font needs more modules?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Loading an image font needs more modules?</a><br><br>
<a name="1171054"></a>

<a name="1171055"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >William Drescher</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm coding a timer and I want to load a custom font to use. My framework is as follows:<br><br><pre class=code>Framework brl.blitz
Import brl.d3d9max2d
Import brl.eventqueue
Import brl.font
Import brl.filesystem
Import brl.Graphics
Import brl.max2d
Import brl.pixmap
Import brl.retro
Import brl.system
Import brl.timer
</pre><br><br>This yields a <b>Null</b> for the TImageFont object. If I completely comment out the whole framework setup I can load the font easily with no problems. What am I missing?<br><br>Also does anyone know how to get anti-aliasing on image fonts? Is that even possible?<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1171067"></a>

<a name="1171068"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zeke</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> yeap, youneed to import libs what you will use(if you are using frMMMWQOEK...<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1171069"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> brl.pngloader<br>brl.jpgloader <br><br>bah.freeimage<br>? <br><br></td></tr></table><br>
<a name="1171072"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bremer</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> LoadImageFont is part of brl.max2d, so it should be loaded since you have that in your list of imports. If you are getting a null value on load, then perhaps you are not pointing at the correct/valid font file. <br><br></td></tr></table><br>
<a name="1171074"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >William Drescher</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I added <b>brl.pngloader</b>, <b>brl.jpgloader</b>, and even <b>brl.tgaloader</b>. It absolutely refuses to load the font unless I load every single module in the brl.mod folder and I would prefer not to have a 3 MB binary. <br><br></td></tr></table><br>
<a name="1171078"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does Framework Assistant work with recent versions of BlitzMax? It might be worth a try.<br><br><a href="http://homepage.ntlworld.com/config/fa/index.htm" target="_blank">http://homepage.ntlworld.com/config/fa/index.htm</a> <br><br></td></tr></table><br>
<a name="1171083"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >William Drescher</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Framework Assistant worked like a charm. I think the deciding factor was the <b>BRL.FreeTypeFont</b>, of which I was blissfully unaware.<br><br>Final output:<br><pre class=code>Framework BRL.GLMax2D
Import MaxGUI.Drivers
Import BRL.Timer
Import BRL.FreeTypeFont
Import BRL.EventQueue
Import BRL.Retro</pre> <br><br></td></tr></table><br>
<a name="1171084"></a>

<a name="1171086"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jur</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> TImageFont use true/free type fonts, so you should add brl.freetypefont.<br><br>Aha, you found it already :)<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1171087"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >William Drescher</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> TImageFont use true/free type fonts, so you should add brl.freetypefont. <br></div><br><br>If it's required, why isn't it included in the max2d module? Better yet, why isn't it explained somewhere in the documentation that brl.freetypefont is required? I've been using BMax for years and I've never known that.<br><br>Someone higher up please make a note of this. <br><br></td></tr></table><br>
<a name="1171234"></a>

<a name="1171235"></a>

<a name="1171236"></a>

<a name="1171237"></a>

<a name="1171238"></a>

<a name="1171239"></a>

<a name="1171240"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arabia</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm having the same issue.   My code throws up an error "Unhandled Exception:Attempt to access field or method of Null object" on the line:<br><br>[bbcode]<br>SetImageFont font<br>[/bbcode]<br>Ran the code through Framework Assistant, made the suggested changes and this is what I've now got:<br><br>[bbcode]<br>Framework BRL.GLMax2D<br>Import BRL.FreeTypeFont<br>Import BRL.StandardIO<br>Import BRL.Retro<br><br>' modules which may be required:<br>' Import BRL.PNGLoader<br>' Import BRL.BMPLoader<br>' Import BRL.TGALoader<br>' Import BRL.JPGLoader<br><br><br>SetGraphicsDriver GLMax2DDriver()<br><br>Local fdir:String<br>Local font: TImagefont<br><br>Fdir="C:/Windows/fonts/"<br>font:TImagefont = LoadImageFont(Fdir+"arial.ttf",12, SMOOTHFONT)<br>If font = Null Then <br>	Print "Font not loaded"<br>	End<br>Else<br>	SetImageFont font<br>EndIf<br>[/bbcode]<br><br>Any ideas what I'm doing wrong?<br><br>EDIT:<br><br>Problem fixed.  You need to initialise the graphics before calling SetImageFont *face palm*<br><br>Ended up finding the answer by running one of Assari's examples which I remembered reading years ago.   <br><br><a href="http://www.2dgamecreators.com/tutorials/gameprogramming/fonts/T1_fonts.html" target="_blank">Here</a><br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1171520"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Framework Assistant is so valuable (and it's great that it still works with the latest version of BMax!). How hard would it be to incorporate its functionality into the Bmax (pre)compiler (or at least into the community edition)?<br><br>It is hugely useful for optimizing code size (and compilation speed on large projects)!<br><br>Russell <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
