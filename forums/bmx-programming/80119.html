<!DOCTYPE html><html lang="en" ><head ><title >will we ever get multi threading in BlitzMax?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >will we ever get multi threading in BlitzMax?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >will we ever get multi threading in BlitzMax?</a><br><br>
<a name="900264"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >*</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> TBH its a requirement for loads of stuff if you want a good system for networking and such like, its also helpful for developing business like applications. <br><br></td></tr></table><br>
<a name="900281"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jim Teeuwen</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think it's already been stated many times that there is No intention to include multi threading, at all.<br><br>There should be a post by Mark around somewhere which elaborates on this. <br><br></td></tr></table><br>
<a name="900295"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zethrax</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's a post where Mark Sibly mentions his possible plans regarding threading.<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=75871#848486" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=75871#848486</a><br><br><div class="quote"> <br>Hi,<br><br>Some nice ideas there, but I'm now 87% certain I'll be tinkering with the GC system soon in an attempt to at least make brl.blitz thread safe.<br><br>In fact, the reflection stuff in there at the moment means it's almost possible to write a custom GC, except that the system doesn't yet have a list of root (ie: 'Global') objects.<br><br>This will likely be an ongoing mission. There are many other things that will need to be taken into account (esp: exceptions) but I think by taking things a step at a time we'll get there eventually.<br> <br></div> <br><br></td></tr></table><br>
<a name="900383"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't think I'd hold my breath to see threads working within the next 12 months. Mark is focussing on Max3D right now and hopefully till its completion.<br><br>You could try some kind of mishmash of using processes but it's harder to share data between them. <br><br></td></tr></table><br>
<a name="900438"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> As an example, <a href="http://www.google.com/googlebooks/chrome/index.html" target="_blank">Google Chrome</a> doesn't use threading, it uses multiple processes. So do we really need the added complexity of threading for a language primarily intended for games? <br><br></td></tr></table><br>
<a name="900442"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >plash</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> markcw: But are those OS processes, or are they simulated processes? <br><br></td></tr></table><br>
<a name="900443"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jim Teeuwen</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> They are OS processes. <br><br></td></tr></table><br>
<a name="900447"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Tiffany</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Much like was discussed as a possible approach in the last thread mark had on this topic.   The comic that describes Google Chrome was actually rather interesting in this area... <br><br></td></tr></table><br>
<a name="900449"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jim Teeuwen</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's a screenshot of my windows taskmanager showing 1 Chrome window with a couple of tabs open.<br><br><img src="http://img120.imageshack.us/img120/17/chromeprocxh1.png"><br><br>You can use this approach quite easily and still allow for adequate communication between the individual processes. Passing of serialized data structures can be done using a local TCP channel.<br><br>Your main app basically serves as a server which listens at a specified local tcp port for child processes.. When a child process spawns, it connects to said port, announces itself to the main app and uses this same connection to transfer required data back/forth. <br><br>From a 'best-practise' standpoint it is recommended to keep this communication to a minimum, but in theory you can make it as complex as you want. I use a similar approach in one of my C# projects. It allows me to isolate/sandbox Plugins in seperate procesesses. So if the pluging makes a booboo, The application itself, as well as the other plugins are not affected by the crash and continue working properly. It's safer, faster and less memory intensive.. As well as easier to profile the performace of individual code segments running in their own process.<br><br>I suppose the only downside is the massive list of identical process names in your windows taskmanager. <br><br></td></tr></table><br>
<a name="900475"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is an interesting approach and I think I will experiment in this area in future. I don't think we're going to as easily see threads as much as we can use processes, and the process module is already functioning cross-platform. (isn't it?)<br><br>It's a different design philosophy between the two approaches. It's a matter of either saying `the separate parts of my app are inside my application's memory space` or `the separate parts of my app are outside my application's memory space`.<br><br>Threads give you usually lower overhead to switch between them, and they are local inside the application, so they have full access to all variables, all loaded data, any GUI, all game objects, graphics rendering, etc. It's all integrated into one environment. Each thread isn't kept `separated off` from the main application or the data it's using. You can just assume you have access to everything. However, with that much openness you now have the problem of how not to conflict accesses to things at the same time, so you have to implement some kind of locking and stuff like that to separate out the threads from each other. Since you start out with total openness you have to deliberately shut it down somewhat to make it function well.<br><br>Processes start out being more isolated, they each have to have their own memory space like an entirely separate program, it doesn't know anything about the other apps and can't even access any of their data without adding functionality to do so. It starts totally isolated but can become more open - but not really to the extent that it could share all of your variable, or write to the same graphics screen, or play the same sounds using those you loaded in the other app, or as tightly integrate into things like a physics system accessing all objects in the other app's memory, or doing mass particle systems, etc. These things become less efficient and require more `communication` to transfer data back and forth. But it can be done.<br><br>With processes you have to start thinking about your application as a collection of networked machines, like you guys are saying above. Unless you set up shared memory (it's been done, I think GreyAlien made a post about it for Windows at least),  you've gotta assign certain key functions to a main server process - it has to be able to create a screen and do almost all of the work to render graphics and probably to play sounds too. I presume you would get some kind of lag by using a network for inter-process communication, or even via the o/s provided communication channels, that you wouldn't want such a lag in a game causing sounds in one app to play a few frames behind when the event was shown in another app. So one app's gotta do some of the heavy lifting, and then you've gotta find other parts of the system that can be shovelled off to some other process to work on. You can't really transmit a lot of data over the network all the same so dealing with physics for large numbers of objects is a bit tricky. So the question remains what would those helper app processes actually spend time doing?<br><br>What would be nice is to get something working using something like GreyAlien did regarding sharing memory - get the processes to share memory safely on all 3 platforms, allocate some large memory buffer containing all game objects and data, THEN the other processes could really go to town working on things like physics and logic and audio much more responsively than transmitting packets over a network. How feasible is that? Does Mac and Linux have memory sharing between processes? <br><br></td></tr></table><br>
<a name="900484"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ian Thompson</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> TCP IP or any local network protocol is not fast enough, you need shared memory with MUTEXs to control access between processes. <br><br>The whole 'process' of processes is really just running seperate programs in different threads, which to me at the very least is klunky and I doubt it would work very well for real-time critical applications. <br><br></td></tr></table><br>
<a name="900486"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Using processes sounds more possible and viable right now than having no threads at all. But I do agree using the network should only be used to access other computers unless you want some lag delay between processes. Shared memory seems like an nice option but looks like we'd need code written on each platform in C or something. <br><br></td></tr></table><br>
<a name="900507"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ian Thompson</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Setting up shared memory is not difficult its a simple API call(I did one years ago to glue a GUI built in Delphi to use and control a Blitz3D window as its rendering context, the shared memory sat in a DLL that they both had access to), its kinda treated like a file in memory but you have to be careful with access to the shared memory as there is no automatic way for one process to know if another process is accessing the same data. So locking(via mutex), has to be done in a similar fashion to threads. Plus side is its a lot cleaner and easier to use non thread safe code. Ironically as each non thread safe process is launched, it gets its own thread, so this allows thread unsafe code to run multi threaded. Downside, interprocess communication, using shared memory for example, is the only way for processes to communicate with each other. Another plus as each process is a separate entity, a process could crash and the shared memory other processes would remain intact, this allows for pretty robust programs with any stressed code being resigned a 'disposable' process that can be monitored and relaunched if necessary. <br><br><br>I only know windows but Id imagine a simple cross platform API could be designed to allow this functionality between the various O.S's. <br><br></td></tr></table><br>
<a name="900513"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jim Teeuwen</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Shared memory is fast, but I am not at all a big fan of the potential access violations. I prefer to isolate everything as much as possible and for the few bits of data that need to be transfered between processes, the network approach has worked fine. Mind you, my application is not nearly as performance critical as a game.<br><br>The reason I am so anal about the sandboxing, is because the child processes contain user-written plugins for my application. Since I cannot guarantee what a developer creates in his plugin, I have to assume the worst and treat it as potentially dangerous malware. By isolating it this way, I can ensure that it never accesses memory it should not see as well as being able to monitor it for dubious code execution at which point I can simply terminate it without negatively affecting any other plugins or the main app.<br><br>One way to use shared memory and still be able to make sure it is only every modified by a single process, you can go for a Contract based implementation used in <a href="http://research.microsoft.com/os/Singularity/" target="_blank">Singularity</a> (A Prototype Operating system from Microsoft Research) which does much the same, but on an OS level. <br><br></td></tr></table><br>
<a name="900517"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ian Thompson</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Careful programming removes all potential access violations, like I said, I used mutex's to exclude access when the shared memory was being written to or read from, it worked very well. <br><br></td></tr></table><br>
<a name="900541"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Winni</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>TBH its a requirement for loads of stuff if you want a good system for networking and such like<br> <br></div><br><br>No, you don't. Just as an example, the entire Python networking core is single process/single thread, and it is obviously capable of powering something as huge as YouTube. <br><br>You only need multi-threading in networking applications when you use blocking I/O (like Java before 1.4 always did; somebody at SUN thought this would help them sell more server hardware).<br><br><br><div class="quote"> <br>Its also helpful for developing business like applications.<br> <br></div><br><br>That's a different story. Multi-threading helps making applications appear more responsive, and it is very useful to let time-consuming tasks run in the background. But that could also be achieved with a separate process.<br><br><div class="quote"> <br>Careful programming removes all potential access violations, like I said, I used mutex's to exclude access when the shared memory was being written to or read from, it worked very well. <br> <br></div><br><br>You basically simulated multi-threading with multiple process - I guess that's similar to how threads were (or still are) implemented in Linux: As processes that share the same memory space.<br><br>This certainly works, but it wipes out one of the major advantages of using processes (instead of threads): Separate memory spaces, which increase robustness and stability. When you share memory, you can blast the entire system into Never-Neverland, and debugging such an application is a nightmare of its own - and that is something that it shares with multi-threaded programs: Easy to crash, hard to debug.<br><br>I no longer believe that BlitzMax will ever get multi-threading support, at least not in version 1.x. Probably its entire core has to be re-written to get it done, and as has been pointed out multiple times, BRL is focusing on the new 3D engine right now and BlitzMax is not positioned as an application development language (so much for 'helpful for developing business like applications').<br><br>If you want a multi-platform language that gives you multi-threading and that is great for writing business apps... Make sure you like coffee. ;-) <br><br></td></tr></table><br>
<a name="900544"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >plash</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> They are OS processes. <br></div>Interesting.<br><br><div class="quote"> You can use this approach quite easily and still allow for adequate communication between the individual processes. Passing of serialized data structures can be done using a local TCP channel. <br></div>I wonder what Chrome uses, though.<br><br><div class="quote"> TBH its a requirement for loads of stuff if you want a good system for networking and such like <br></div>Aye, blocking I/O calls are a pain in the arse. <br><br></td></tr></table><br>
<a name="900797"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was able to make a child process return data in bytes, not text.  I don't know how you would pass data from the main app to the process.<br><br>main.bmx:<br><pre class=code>Type TMultiProcess

	Field process:TProcess
	
	Method ReceiveMessage()
		
	EndMethod
	
	Function Create:TMultiProcess(path$)
		Local multiprocess:TMultiProcess
		multiprocess=New TMultiProcess
		multiprocess.process=CreateProcess(path)
		If Not multiprocess.process Return
		Return multiprocess
	EndFunction		
	
	Method Free()
		process.Close()
		process=Null
	EndMethod
	
EndType

Local multiprocess:TMultiProcess
multiprocess=TMultiProcess.Create("process.exe")

Delay 5000

For n=1 To 100
	If multiprocess.process.pipe.ReadAvail()
		Print String(multiprocess.process.pipe.ReadByte())
	EndIf
Next

End</pre><br><br>process.bmx:<br><pre class=code>StandardIOStream=New TCStandardIO

Local n

Repeat
	StandardIOStream.WriteByte(n)
	n:+1
Forever</pre> <br><br></td></tr></table><br>
<a name="900799"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ha, you can send data to the process like this.<br><br>Seems like you can do one or the other, but not both.<br><br>main.bmx:<br><pre class=code>Type TMultiProcess

	Field process:TProcess
	
	Method ReceiveMessage()
		
	EndMethod
	
	Function Create:TMultiProcess(path$)
		Local multiprocess:TMultiProcess
		multiprocess=New TMultiProcess
		multiprocess.process=CreateProcess(path)
		If Not multiprocess.process Return
		Return multiprocess
	EndFunction		
	
	Method Free()
		process.Close()
		process=Null
	EndMethod
	
EndType

Local multiprocess:TMultiProcess
multiprocess=TMultiProcess.Create("process.exe")

Delay 5000

For n=1 To 100
	'If multiprocess.process.pipe.ReadAvail()
		'Print String(multiprocess.process.pipe.ReadByte())
		WriteByte multiprocess.process.pipe,100+n
	'EndIf
Next


Delay 50000
End</pre><br><br>process.bmx:<br><pre class=code>StandardIOStream=New TCStandardIO

Local n

Repeat
	'StandardIOStream.WriteByte(n)
	
	n:+1
	'If StandardIOStream.ReadAvail()
		Notify "Process: "+StandardIOStream.ReadByte()
	'EndIf
	
Forever</pre> <br><br></td></tr></table><br>
<a name="900803"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yahfree</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thats pretty cool, its like multithreading, you just have to hope they don't freak out seeing 30x "process.exe" in their task manager. <br><br></td></tr></table><br>
<a name="900888"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> One other MAJOR advantage of threads or multiple processes is simply to take advantage of multiple CPU's or cores within CPU's, which is now very common and will be even moreso in future - that can help boost performance in almost any type of application, networking or otherwise. Got a dual-core CPU? Want double the performance? You got it. And imagine if you had a quad-core or 8 or 16 core CPU? Are you going to settle for 1/8th or 1/16 the possible CPU power for your app?<br><br>I suppose you could potentially launch multiple processes as part of a multi-process app (like google Chrome) and give each process a different name so the user doesn't think something is open too many times - like name it VirtualCPU1-MyProgram.exe, VirtualCPU2-MyProgram.exe, or even like Program-ApplicationHandler.exe, Program-GUIManager.exe, Program-Physics.exe etc<br><br>One thing you can also do (just an idea) is have each of the open processes monitor the other open processes for the multi-process app, and when one of them detects that one of the processes has shut down and it really should be open, you re-launch it, bringing it back online - and you also give the option within any single process/program/interface to be able to shut down the whole group.<br><br>It looks like shared memory is the way to go for processes on the same computer, and then some kind of remote procedure call thing for over a network. <br><br></td></tr></table><br>
<a name="900892"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> This would be ideal for a system that performs some intensive processing on a set of data, and returns a result.  If we were still using lightmaps, that would be a perfect application.<br><br>I'm not sure if this will work for real-time apps.  I'd like to figure out how to send and receive data to and from a process and try it out. <br><br></td></tr></table><br>
<a name="900975"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jim Teeuwen</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> As far as inter process communication is concerned, there's really a lot of ways to do it.<br><br>The TCP channel approach is easy, but not very efficient if you want speed.<br>I haven't tried the shared memory approach myself, but this might be the way to go.. provided you can implement a secure and solid locking mechanism.<br><br>Another approach that has my interest is to use an SQLite database. It supports concurrent connections (built-in locking mechanism) and does not need installation of separate database software... You can embed it in your own app. It's also pretty fast.<br>Ofcourse your data structures need to be optimized for a relational data model. <br><br></td></tr></table><br>
<a name="900984"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Winni</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Another approach that has my interest is to use an SQLite database. It supports concurrent connections (built-in locking mechanism) and does not need installation of separate database software... You can embed it in your own app. It's also pretty fast.<br>Ofcourse your data structures need to be optimized for a relational data model. <br> <br></div><br><br>And that is even more inefficient than the TCP channel approach when you want speed, and probably even more error prone. SQLite might be fast, but processing a SQL query takes definitely more time than pumping a few bytes over a local TCP channel. <br><br>Since you could not use SQLite's :MEMORY: 'database' in a concurrent scenario, you'd have to use a database file, and file access is by far the slowest operation you can perform on a computer.<br><br>Furthermore, SQLite is not optimized for concurrent connections in general, because it is not a database server, and its documentation specifically does not recommend the use of SQLite in a (heavily) concurrent environment. This is where you'd use something like PostgreSQL or MySQL instead.<br><br>So while technically possible, given the choices in BlitzMax, I think TCP channels are still the safest option (having done my share of multi-threaded programming, I know how fragile the shared memory approach is and that you will always shoot yourself in the foot without proper synchronization; you just CANNOT know when and which thread tries to access the shared memory). <br><br></td></tr></table><br>
<a name="900987"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jim Teeuwen</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> mm good point. The constant filesystem access is a pain in the ass.<br>I'm not too worried about the limited amount of concurrent connections in SQLite. The application in this scenario is not intended to serve as a webserver or something. Dealing with delegating processes like image manipulation and what not, your program should never exceed a handful of parallel processes. Any more than that and you'd have a serious design flaw.<br><br>I suppose in the end it's a trade-off matter. How dependent is your application on performance vs how much effort and potential headache are you willing to put in.<br><br>I still believe the TCP approach is the best solution/tradeof. <br><br></td></tr></table><br>
<a name="901030"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kurator</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> anyone see a chance to get this library working with bmax?<br><br>it offers some pretty well optimized threading constructs (parallel_for i.e.) and also threadsafe datastructures (hashmap i.e.)<br><br>its multiplatform and open-source (lgpl):<br><br><a href="http://www.threadingbuildingblocks.org/" target="_blank">http://www.threadingbuildingblocks.org/</a> <br><br></td></tr></table><br>
<a name="901058"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >*</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>So while technically possible, given the choices in BlitzMax, I think TCP channels are still the safest option (having done my share of multi-threaded programming, I know how fragile the shared memory approach is and that you will always shoot yourself in the foot without proper synchronization; you just CANNOT know when and which thread tries to access the shared memory). <br> <br></div><br>Cant you just have a mutex for the functions that use a data structure. <br><br></td></tr></table><br>
<a name="901260"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Retimer</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> So do we really need the added complexity of threading for a language primarily intended for games?  <br></div><br><br>I guess not if we want to write a project in multiple languages just to get a game server going. <br><br>When I bought blitzmax, I mistakenly took blitz as a worthy language for present-future, as obviously many of us shouldn't have. Threading is the future, even in games, and especially in even semi complex servers.<br><br>I'm using RakNet so i'm not limited by blitz tcp crapness, but threading can come in handy for damnwell anything. I just want it to split the work of timers and logging, as I have in test c# apps without so much "complexity". It's not difficult if you pay attention.<br><br>The language is so capable of competition, but everytime I flush the toilet and watch a brownie twirl around, it reminds me of where blitz is going because of lack of support where mark could probobly impliment things so easily that would keep blitz up and about for Many of us unsatisfied <b>customers</b>, with a few real updates.<br><br>Threading itself would make most of us frowny faces turn upside down, but that's not going to happen. This topic gets brought up every couple weeks with no result or even response. And because of this i've had to apologize to people that I recommended that purchased blitzmax, as they too are running, or going to run into dead ends. <br><br></td></tr></table><br>
<a name="901265"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> There are dead ends everywhere it's just a matter of whether it impacts your project or not, no matter what the language. I do agree there could have been more updates with more features added but we can't have everything, so many people want BlitzMax to be BlitzMax3D that all other smaller features including threads are on the backburner. I think Mark intends BRL to stay a very small company with very few people, kinda casual. But what do I know.<br><br>There are probably a number of people on these boards who want threading who actually could figure out how to make it work themselves and write some third party solution but they aren't doing it. <br><br></td></tr></table><br>
<a name="901272"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >*</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> why write a third party solution when the competition has threading already. <br><br></td></tr></table><br>
<a name="901325"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> From what I've seen on the forum, some of the people who complain about a lack of threading wouldn't even have the skills to implement any code using threading. (Obviously not aimed at those who know they have the skills).<br><br>So, we get threading, and 10 people can use it... great! :-p <br><br></td></tr></table><br>
<a name="901330"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, so even though you can write a cross-platform game/app in BMax as it stands, threading would still be very helpful for some people and would keep them up to date with the PC times. Point taken.<br><br>So would it be possible to create a threading module for BMax? Like just pop a magic folder somewhere and it works? Or would it mean editing files that only BRL have access to?<br><br>Maybe the community could collaborate on a threading project. <br><br></td></tr></table><br>
<a name="901331"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >plash</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> So, we get threading, and 10 people can use it... great! :-p  <br></div>But don't forget the use it would have in Max3D and other BlitzMax modules/internals that BRL manages.<br><br>Overall, I would say it is laziness that causes issues like this. Like ImaginaryHuman stated, "There are probably a number of people on these boards who want threading who actually could figure out how to make it work themselves and write some third party solution but they aren't doing it."<br><br>I personally don't have a use for multi-threading, yet. Though it is nice to know your language has features you may want/need to use in the future. <br><br></td></tr></table><br>
<a name="901382"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not exactly sure how multithreaded code looks to the developer, and I don't know if that many people would understand how to use it. Would we just define some block of code or a function that gets to run as its own thread?<br><br>I think we can do okay using processes so maybe that's something to build on. From what I can tell or have read there need to be changes to BlitzMax itself in order to make threading work `safely`. That said I would think there are at least some basic features that the language could offer, whereby it's not 100% thread safe but safe enough to do like 1 asynchronous file read or something like that, something useful. <br><br></td></tr></table><br>
<a name="901387"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>From what I've seen on the forum, some of the people who complain about a lack of threading wouldn't even have the skills to implement any code using threading. (Obviously not aimed at those who know they have the skills).<br><br>So, we get threading, and 10 people can use it... great! :-p <br> <br></div><br>This is my impression too, and <i>I'm one of the other thousand people that can't use multithreading</i>.<br><br>Of course if multithreading is 'hidden' in BlitzMax itself (= common user doesnt' know that some functions work in multithreading) this will be great. But I still have some problems to understand 'where &amp; when' (in normal conditions/applications) multithreading is useful.<br>And the final problem is the 'design' approch of an multithreading application.<br><br>I've read many threads where people complaing about GC safe in case of multithreading. I am completely noob in this programming field, but it seems (some) people want BlitzMax controls and resolves every possible scenario. <br>Take this simple example<br><pre class=code>
type mytype
     field myfield:value
end type
Local a1:mytype 'not defined
a1.myfield=10 ' error -&gt; object not defined -&gt; stop
</pre><br>This example is not multithreading/multicore or any special: but in any case if the USER/PROGRAMMER skips a simple command (create the object) the program itself bomb out. This is not a BlitzMax fault.<br>In case of multithreading (I suppose) this kind of errors will be at the power of two: you could create an object in a thread A, using it in another one B, deleting it in the thread A and the thread B bomb out.<br>I think this is not a problem of BlitzMax itself! It's bad programming!<br><br>From my point of view (I repeat - I'm not expert in this field!!!) the most logic solution is to have a <u>MAIN_THREAD</u> (like now the actual BlitzMax) where 'shared-common' objects are defined/created (like a GLOBAL variable) and <u>CHILD_THREAD</u> where you can access only the 'main-thread-shared' object to read/write (and these cannot be freed by desing); everything is created in the child_thread should be destroyed at the end of the process of the child_thread (like a Local variable in a function).<br><br>In other words: in the main_thread there are all the 'resources', the child_thread can only work on them - but they cannot destroy them.<br>Maybe this approch is limited, but I think that the real problem (in a multithread scenario) is in the desing of the application.<br>This should be (on the paper and on my mind!) quite secure.<br><br><i>Repeat, I'm one of the other thousand people that can't use/understand multithreading...</i> <br><br></td></tr></table><br>
<a name="901396"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kurator</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> Handling with threads could be simplified, i.E. take this example from C# which uses the Parallel Extions Library from MS and ist quite similar to Threading Building Blocks from Intel:<br><br><pre class=code>
                    Parallel.For(0, height, j =&gt;
                    {
                        PixelData* outPixel = fastOut.GetInitialPixelForRow(j);
                        PixelData* startPixel = fastStart.GetInitialPixelForRow(j);
                        PixelData* endPixel = fastEnd.GetInitialPixelForRow(j);

                        for (int i = 0; i &lt; width; i++)
                        {
                            // Blend the input pixels into the output pixel
                            outPixel-&gt;R = (byte)((startPixel-&gt;R * blend) + .5 + (endPixel-&gt;R * (1 - blend))); // .5 for rounding
                            outPixel-&gt;G = (byte)((startPixel-&gt;G * blend) + .5 + (endPixel-&gt;G * (1 - blend)));
                            outPixel-&gt;B = (byte)((startPixel-&gt;B * blend) + .5 + (endPixel-&gt;B * (1 - blend)));

                            outPixel++;
                            startPixel++;
                            endPixel++;
                        }
                    });
</pre><br><br>The secret lies in the library, the library knows:<br>- how many cores are availaible<br>- which granularity to use<br><br>It creates itself the ideal amount of threads an speeds up near to linearity. To use parallelis in constructs, where it could easily done - is much more error safe and easier to develop like an "real" threaded game where you have an extra renderthread, ai-threa, physics-thread, io-thread.... <br><br></td></tr></table><br>
<a name="901400"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >*</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> PureBasic has:<br><pre class=code>
Thread = CreateThread( @MyProcedure(), 0 )
</pre><br><br>thats it <br><br></td></tr></table><br>
<a name="901405"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's a little more than that actually:<br><a href="http://www.purebasic.com/documentation/thread/index.html" target="_blank">http://www.purebasic.com/documentation/thread/index.html</a> <br><br></td></tr></table><br>
<a name="901413"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>PureBasic has:<br><pre class=code>
Thread = CreateThread( @MyProcedure(), 0 )
</pre><br> <br></div><br><br>I dont' know PureBasic syntax, but it seems that this command 'starts' a Procedure (=Function in BlitzMax) as a separate thread. If so the Procedure-thread has or not access to the 'global' resource - and on the other side - this procedure can 'returns' any value? Are there something special to declare a variable 'shareable' with threads?<br><br>In case of threading support what are/should be the modules that must(can) be rewritten to take advantage (if any) of this?<br><br>Another question: threads and cores.<br>Is the OS that manages threads on cores or not? I still don't know this aspect: imagine tomorrow to have BlitzMax with threading support running on a 4 core CPU and using only 1 core...<br><br>Just for curiosity... <br><br></td></tr></table><br>
<a name="901427"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would vote for a simple parallels multithreading. that would be enough in most situations and I supose it's easier to implement and mantain. <br><br></td></tr></table><br>
<a name="901461"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> I can use multithreading right now for Newton.  We could be using up to eight times the physics interactions we can do now.  It's too bad, because our engine is perhaps one of the best showcases of Newton physics, but BlitzMax compromises my ability to use it to its full potential.<br><br>Other applications are a little more theoretical and difficult to implement.  The CPU side of our renderer, where the visible objects are determined, is a task that could be parallelized, and it would not be too complicated, because the data exchange is pretty simple.  It just writes the instance matrices to arrays, and those can be made into separate arrays for each thread.<br><br>If you are writing any kind of application that processes a lot of data, like a lightmapper, you should not use BlitzMax, because it will be a little more than 25% the speed you could be getting.  For the highest-end hardware people have right now, you will be settling for about 12.5% the speed you could have otherwise, assuming a scaling of 100% performance per core.  8 cores, that's insane!  Well, no it isn't.  A year ago having 96 stream processors on a GPU was a lot, and I am getting ready to trade in for a new card with 480 stream processors. <br><br></td></tr></table><br>
<a name="901467"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's hard I think to understand how you would write ordinary (and indie) game code that could take advantage of 8 or more cores. I mean, either you want the language to do that part for you or you have to manually design your code that way.<br><br>The o/s does take care of which threads end up being run on which CPU and/or Core. It doesn't really matter if your hardware has multiple individual CPU's and/or multiple individual cores within those CPU's, for example the top of the line Mac has multiple multi-core CPU's. The o/s is the part that will deal with knowing which cores are in use for what and will allocate your thread or process to run on them as it sees fit - but it doesn't really know how to split up your program into threads which is why the language or the program itself has to do that.<br><br>I agree with Leadwerks that things like physics and other high-computation stuff could be taking much better advantage of better CPU's. Chances are users with a high powered GPU are likely to have high powered multi-core CPUs also.<br><br>The part of the Blitz garbage collector that seems to be a problem is the reference counting, whereby if it reads a count and then tries to modify it another thread could be modifying the same count at the same time and one of their calculations would get lost, resulting in an incorrect count and thus memory leaks. But i don't see why that is so difficult to fix, it's not exactly a difficult problem. <br><br></td></tr></table><br>
<a name="901472"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >*</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>I dont' know PureBasic syntax, but it seems that this command 'starts' a Procedure (=Function in BlitzMax) as a separate thread. If so the Procedure-thread has or not access to the 'global' resource - and on the other side - this procedure can 'returns' any value? Are there something special to declare a variable 'shareable' with threads?<br> <br></div><br>Basically with PB you have CreateMutex() then where the data is shared you use LockMutex and UnlockMutex afterwards in the Thread this stops the thread from corrupting the data in the type etc.<br><br><div class="quote"> <br>In case of threading support what are/should be the modules that must(can) be rewritten to take advantage (if any) of this?<br> <br></div><br>Off the top of me head networking would be a good one, come graphics maybe and a dedicated threading module is a must.<br><br><div class="quote"> <br>Another question: threads and cores.<br>Is the OS that manages threads on cores or not? I still don't know this aspect: imagine tomorrow to have BlitzMax with threading support running on a 4 core CPU and using only 1 core...<br><br>Just for curiosity...<br> <br></div><br>I dont see a reason why multithreading would not be possible on multicores using more than one core. The bigger question is with all the farsight with Max why wasnt it implemented in the first place. <br><br></td></tr></table><br>
<a name="901474"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Winni</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> On all modern systems, it -is- the OS that distributes and automatically load balances the threads over multiple cores -- unless the application defines an 'affinity' for the thread to a certain CPU/core. In Windows Server's (or NT's or XP's or Vista's) task manager, you can also observe how a CPU heavy thread or process wonders from one core to another, so that not one and the same CPU is burning out.<br><br><br><div class="quote"> <br>The bigger question is with all the farsight with Max why wasnt it implemented in the first place.<br> <br></div><br><br>That, indeed, is the question. Especially since all other programming languages have been supporting multi-threading in one way or the other since the late 90s. <br><br></td></tr></table><br>
<a name="901475"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> "I dont see a reason why multithreading would not be possible on multicores using more than one core. The bigger question is with all the farsight with Max why wasnt it implemented in the first place. "<br><br>When BlitzMax was being developed, let's say 4-5 years ago, I don't think multiple cores were very commonplace so it probably wasn't a big factor to think about at the time. <br><br></td></tr></table><br>
<a name="901479"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >*</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> ImaginaryHuman: I agree multicore processors werent common for desktops the main thing that I wonder is threading has been in there for years surely they could have been implemented. <br><br></td></tr></table><br>
<a name="901494"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> On all modern systems, it -is- the OS that distributes and automatically load balances the threads over multiple cores <br></div><br>I am aware of that, but the CPU attempting to accelerate a linear program is not going to anywhere near as efficient as running multiple threads. <br><br></td></tr></table><br>
<a name="901506"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ian Thompson</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> Each process has their own single thread, the O.S allocates it. Thats the real problem, if I want two threads for two seperate functions within my program for example, I would need two seperate programs... which is not ideal. <br><br></td></tr></table><br>
<a name="901543"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Winni</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, Ian, but this is only a BlitzMax problem. If you use another language that supports multi-threading, the OS would distribute those threads over multiple cores if they are available.<br><br>ImaginaryHuman, even four or five years ago, multi-processing was already coming and an already old standard for servers. I had my first SMP board with two Pentium I 100 MHz chips in my desktop computer back in... I don't even remember. 1996 or so? It was when NT 4.0 was still in beta.<br><br>But may that as it be, you don't only benefit from multi-threading when you have multiple cores. Multi-threading is also a great way to keep an application responsive while it is processing data in separate threads - even when you only have one CPU core available.<br><br>And even four or five years ago it was already obvious that multi-processor systems would take over the market. We've had this discussion before here, and when we look at the current developments, then it is already obvious that in a few years from now systems with 8 or even more CPU cores will be the --minimum-- hardware that you --can-- purchase - as it is already almost impossible today to still buy a single core system. Dual Core CPUs have entered the low end market and for christmas we will see the first wave of Quad Core --notebooks--. And singe CPU cores won't get much faster than they already are now, which is the reason why the designs have changed to multi-core architectures in the first place.<br><br>This trend has been discussed in the press and by the chip manufacturers years ago, everybody knew it was coming. Even Microsoft designed C# and .NET to be multi-threaded from top to bottom (years before BlitzMax was conceived). And Microsoft does not necessarily have a reputation for its foresight. ;-) <br><br></td></tr></table><br>
<a name="902159"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >plash</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe we could use a dll and global variables to pass information to our sub processes.<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=66616#744727" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=66616#744727</a><br><br>We would have to share the function/variable pointers and/or maybe just the dll handle. <br><br></td></tr></table><br>
<a name="902203"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Winni</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#51">[#51]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think Named Pipes and/or Events sent to a specific process are the best alternatives to socket-based communication, and those are supported by all OS for which we have a BlitzMax compiler. <br><br></td></tr></table><br>
<a name="902717"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Htbaa</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#52">[#52]</a></td></tr></table></td></tr><tr ><td class="posttext"> It could be that I missed it somehow in the forums. But I was just checking the latest SVN updates and found the existence of a experimental threads.mod module.<br><br>I don't know if it works, or currently how it works (have never used multi threading), but a experimental module is there. <br><br></td></tr></table><br>
<a name="902725"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#53">[#53]</a></td></tr></table></td></tr><tr ><td class="posttext"> So check it out and find out what it does and let us know ;-D <br><br></td></tr></table><br>
<a name="902731"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Tiffany</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#54">[#54]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> but a experimental module is there <br></div><br>Remember folks, SVN version is unstable (but normally pretty darn good) dev code... ;-) <br><br></td></tr></table><br>
<a name="902737"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Htbaa</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#55">[#55]</a></td></tr></table></td></tr><tr ><td class="posttext"> I know it's unstable, or might not even work yet. It's just good to see they're working on it :-) <br><br></td></tr></table><br>
<a name="902753"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#56">[#56]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice find Htbaa, I just spent about half hour getting it to do its thing, and it seems the module is coming on a treat :)<br>Now I take it we've got to wait while they take on the massive job of making the language thread safe?<br><br>Good luck Mark and co!  This could be the start of something special! :)<br><br>HOW TO GET IT WORKING:<br>*EDIT* Snip, See Bruceys instructions below! <b>YAY!</b> <br><br></td></tr></table><br>
<a name="902759"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DStastny</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#57">[#57]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thats too funny,  I pointed out in a thread two years ago that Mark should try that collector <a href="/posts.php?topic=62001#693207" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=62001#693207</a><br><br>Nice to see an attempt.  Has the debugger been changed to be thread safe?  I will have to take a peek.  Might make me want to use Max again.<br><br>DStastny <br><br></td></tr></table><br>
<a name="902766"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#58">[#58]</a></td></tr></table></td></tr><tr ><td class="posttext"> So far it seems to be working very well!<br><br>:D YAY! <b>*THANK YOU BRL!*</b> <br><br></td></tr></table><br>
<a name="902771"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Htbaa</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#59">[#59]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's very good to hear. Although I think the GC will need a lot of testing wouldn't it? <br><br></td></tr></table><br>
<a name="902781"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Tiffany</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#60">[#60]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> That's very good to hear. Although I think the GC will need a lot of testing wouldn't it? <br></div><br><br><div class="quote"> ...then download a gc lib from... <br></div><br><br>Yes, the new threading stuff requires the use of a thread safe GC: hence mark has plumped for using an existing open source one that you currently need to download separately, rather than rewrite his own.  Which seems a wise choice to me. <br><br></td></tr></table><br>
<a name="902794"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Snixx</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#61">[#61]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok so Ive downloaded from the SVN and all that stuff, can I get an example of createthread usage etc please?  just something very simple would be fine. <br><br></td></tr></table><br>
<a name="902808"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Azathoth</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#62">[#62]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> for anyone interested (or just nosey like me), you'll need to enable threading in bmk_config.bmx, rebuild and place bmk.exe into the bin folder <br></div>Isn't that what the -h option is for? And shouldn't the new SVN bmk.exe already contain the compiled bmk_config.bmx? <br><br></td></tr></table><br>
<a name="902813"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >*</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#63">[#63]</a></td></tr></table></td></tr><tr ><td class="posttext"> Brilliant stuff will definately be waiting for this, its the last thing that BlitzMax needs =) <br><br></td></tr></table><br>
<a name="902825"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Htbaa</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#64">[#64]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, the last thing might be the option to overload operators :-). Would make Vector stuff a lot easier. <br><br></td></tr></table><br>
<a name="902827"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#65">[#65]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Isn't that what the -h option is for? <br></div><br><br>Yes you're correct Azathoth, but I find it a lot easier than messing about with the command prompt *every time* I wanted to compile something to test, I just assumed anyone who would use the prompt would spot that while looking at bmk_config.bmx.<br><br>Horses for courses I suppose, anyway <b>YAY THREADS</b>! <br><br></td></tr></table><br>
<a name="902884"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Winni</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#66">[#66]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why didn't BRL announce this?<br><br>Anyway. I'm currently checking it out from SVN. <br><br>Do we need to rebuild the modules with this switch for the thread module to (safely) work? <br><br></td></tr></table><br>
<a name="902886"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#67">[#67]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Why didn't BRL announce this?<br> <br></div><br>Maybe because it is still a work in progress (<i>experimental module</i>).<br>And of course <br> - a new MaxIDE with support for the new parameter H (threaded) is needed;<br> - testing of the collateral effects...<br> - time to write a 'basic' tutorial &amp; some documentation<br><br>Some of us are waiting multithreading support for years, I think they/we can wait until BRL/Mark finishes the job. Asking now is premature (in my opinion). <br><br></td></tr></table><br>
<a name="902888"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Space_guy</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#68">[#68]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is fantastic news. I hope ill get some time soon to check it out <br><br></td></tr></table><br>
<a name="902898"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#69">[#69]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Why didn't BRL announce this? <br></div><br>Because it's not been "released" yet? :-p <br><br></td></tr></table><br>
<a name="902902"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Winni</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#70">[#70]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Because it's not been "released" yet? :-p <br> <br></div><br><br>Yeah, I bet that's why Microsoft announced Vista more than five years before its actual release. ;-)<br><br>We can only help BRL with all the beta testing when we -know- that there are new features that need testing (and documenting and sample writing). <br><br></td></tr></table><br>
<a name="902905"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#71">[#71]</a></td></tr></table></td></tr><tr ><td class="posttext"> Fair enough...<br><br>Okay, the basic steps you'll need to take are :<br><br>1) Get your code in sync via SVN. The new bcc and bmk will be kind of important for this stuff to work.<br><br>2) Download the GC source from <b><a href="http://www.hpl.hp.com/personal/Hans_Boehm/gc/gc_source/gc-7.1.tar.gz" target="_blank">here</a></b><br><br>3) Copy the extracted folder to blitz.mod and rename it to 'bdwgc' so you get blitz.mod/bdwgc/include/...etc...<br><br>4) Edit blitz.mod/bdwgc/include/gc_config_macros.h and add this line at the top (to enable threadsafe GC): <br><pre class=code>
#define GC_THREADS
</pre><br>(this is kind of important, so you really don't want to forget this).<br><br>5) <b>Make sure you've done No. 4 !</b><br><br>6) run : bmk makemods -a -h<br>The -h flag builds a set of modules with the new GC/thread stuff. You'll notice that the compiled modules have a .mt. in the name.<br><br><br>That should be you sorted.<br>Obviously, you kind of want the IDE to have the flag-setting ability too. Or, run it from the command-line.<br><br>Remember it's not "official" yet, so if it blows up your code, you shouldn't be surprised. ;-)<br><br>This GC also handles cyclic references, apparently - according to the docs - but you'll probably need to give that a thrashing just to be sure.<br><br>:o) <br><br></td></tr></table><br>
<a name="902909"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Htbaa</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#72">[#72]</a></td></tr></table></td></tr><tr ><td class="posttext"> If this GC can handle circular references that would be very nice. Takes away the need to clean up stuff myself and do heavy testing if it's actually being removed. <br><br></td></tr></table><br>
<a name="902911"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#73">[#73]</a></td></tr></table></td></tr><tr ><td class="posttext"> Interesting.  I have some uses for this when it is ready. <br><br></td></tr></table><br>
<a name="902913"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#74">[#74]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool thanks Brucey! <br><br>I wonder how its going to work when a module is written using threading? will it force anybody using the module to compile with threading enabled?<br><br>anyyway,<b>YAY THREADS AGAIN</b> <br><br></td></tr></table><br>
<a name="902914"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#75">[#75]</a></td></tr></table></td></tr><tr ><td class="posttext"> I suppose you could wrap the module in a <br><br>?threaded<br><br>block, like you would with ?win32 etc, in which case when they build it non-threaded there'd be nothing compiled. <br><br></td></tr></table><br>
<a name="902918"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yan</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#76">[#76]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've quickly hacked support into the CEIDE (v2).<br><br>If anyone's interested, here's the patch...<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Index: codearea/Buffer.bmx
===================================================================
--- codearea/Buffer.bmx	(revision 34)
+++ codearea/Buffer.bmx	(working copy)
@@ -71,7 +71,7 @@
 	Field close		:TToken
 	Field link		:TLink
 
-	Function create:TBlock( list:TListF, open:TToken, close:TToken )
+	Function Create:TBlock( list:TListF, open:TToken, close:TToken )
 		Local b:TBlock = New TBlock
 		b.open = open
 		b.close = close
@@ -297,13 +297,12 @@
 		Local tabSize:Int = buffer.parent.opts.tabSize.value
 		Local rtn:Int = -1
 		For Local i:Int = 0 To real
-			If raw[rtn] = "~t"[0] Then i :+ (tabSize - i Mod tabSize)
+			If rtn &gt;= 0 And rtn &lt; raw.length And raw[rtn] = "~t"[0] Then i :+ (tabSize - i Mod tabSize)
 			rtn :+ 1
 		Next
 		Return rtn
 	End Method
 
-
 	Method FirstChar:Int()
 		Local i:Int
 		For i = 0 Until raw.length
@@ -445,7 +444,7 @@
 	If block And block.open And block.open.syn.allowSubBlocks &lt;&gt; TSyntax.ALL
 		If block.open.line &lt;&gt; Self And block.close.line &lt;&gt; Self
 			syn = TSyntax(TSyntax.map.ValueForKey("@regulartext@"))
-			TToken.create tokens,raw,syn,0,0,Self,block
+			TToken.Create tokens,raw,syn,0,0,Self,block
 		EndIf
 	Else
 
@@ -469,12 +468,12 @@
 						Local t:TToken
 						If TSyntax.forceCase
 							If part.length = syn2.name.length
-								t = TToken.create(tokens,syn2.name,syn2,partStart,RealLen(partStart),Self,block)
+								t = TToken.Create(tokens,syn2.name,syn2,partStart,RealLen(partStart),Self,block)
 							Else
-								t = TToken.create(tokens,syn2.shortcut,syn2,partStart,RealLen(partStart),Self,block)
+								t = TToken.Create(tokens,syn2.shortcut,syn2,partStart,RealLen(partStart),Self,block)
 							EndIf
 						Else
-							t = TToken.create(tokens,part,syn2,partStart,RealLen(partStart),Self,block)
+							t = TToken.Create(tokens,part,syn2,partStart,RealLen(partStart),Self,block)
 						EndIf
 
 						If checkOtherLines
@@ -489,7 +488,7 @@
 							'plain text token
 							syn2 = TSyntax(TSyntax.map.ValueForKey("@regulartext@"))
 						EndIf
-						TToken.create tokens,part,syn2,partStart,RealLen(partStart),Self,block
+						TToken.Create tokens,part,syn2,partStart,RealLen(partStart),Self,block
 					EndIf
 					part="" ; isNumber=1 ; partStart=i
 				EndIf
@@ -498,12 +497,12 @@
 				If syn.allowSubBlocks &lt;&gt; TSyntax.ALL
 					'stuff like string in quotes, hex nums and binary nums
 					i = TokenToCloseOnLine(syn,Self,i+1)
-					TToken.create tokens,raw[partStart..i+1],syn,partStart,RealLen(partStart),Self,block
+					TToken.Create tokens,raw[partStart..i+1],syn,partStart,RealLen(partStart),Self,block
 					part="" ; isNumber=1 ; partStart=i+1
 					Continue
 				ElseIf syn.myOpener Or syn.myCloser And syn.matchPair
 					'stuff like () and []
-					Local t:TToken = TToken.create(tokens,char,syn,partStart,RealLen(partStart),Self,block)
+					Local t:TToken = TToken.Create(tokens,char,syn,partStart,RealLen(partStart),Self,block)
 					If syn.myOpener And syn.myOpener.matchPair Then block=FindOpener(t,syn,block)
 					If syn.myCloser And syn.matchPair Then block=FindCloser(t,syn,block)
 					part="" ; isNumber=1 ; partStart=i+1
@@ -525,7 +524,7 @@
 					Else
 						'-found something else
 						If part&lt;&gt;""
-							TToken.create tokens,part,syn,partStart,RealLen(partStart),Self,block
+							TToken.Create tokens,part,syn,partStart,RealLen(partStart),Self,block
 							part="" ; isNumber=1 ; partStart=i2
 						EndIf
 						i = i2-1
@@ -538,7 +537,7 @@
 				If syn2.isSep And (syn2.allowSubBlocks &lt;&gt; TSyntax.ALL)
 'Print "make no subtoken: "+self.lineNum
 					i = TokenToCloseOnLine(syn2,Self,i+Len(part))
-					TToken.create tokens,raw[partStart..i+1],syn2,partStart,RealLen(partStart),Self,block
+					TToken.Create tokens,raw[partStart..i+1],syn2,partStart,RealLen(partStart),Self,block
 					part="" ; isNumber=1 ; partStart=i+1
 					Continue
 				EndIf
@@ -550,7 +549,7 @@
 		Next
 	EndIf
 		'tokenize any remainder... should just be the ~n
-		If part&lt;&gt;"" Then TToken.create tokens,part,syn,partStart,RealLen(partStart),Self,block
+		If part&lt;&gt;"" Then TToken.Create tokens,part,syn,partStart,RealLen(partStart),Self,block
 		dirty = False
 	End Method
 
@@ -736,7 +735,7 @@
 	End Method
 
 	Method AddTextLast:TLine( text:String )
-		Local line:TLine = TLine.create(Self,text)
+		Local line:TLine = TLine.Create(Self,text)
 		line.link = lines.AddLast(line)
 		line.allLink = allLines.AddLast(line)
 		If GetPrevLine(line) Then line.lineNum = GetPrevLine(line).lineNum+1
@@ -746,7 +745,7 @@
 
 
 	Method NewLineAbove:TLine( text:String, line:TLine, y:Int=-1 )
-		Local newLine:TLine = TLine.create(Self,text)
+		Local newLine:TLine = TLine.Create(Self,text)
 		If line = Null Then line = GetLine(y)
 		newLine.link = lines.InsertBeforeLink(newLine,line.link)
 		newLine.allLink = allLines.InsertBeforeLink(newLine,line.allLink)
@@ -756,7 +755,7 @@
 
 
 	Method NewLineBelow:TLine( text:String, line:TLine, y:Int=-1 )
-		Local newLine:TLine = TLine.create(Self,text)
+		Local newLine:TLine = TLine.Create(Self,text)
 		If line = Null Then line = GetLine(y)
 		newLine.link = lines.InsertAfterLink(newLine,line.link)
 		newLine.allLink = allLines.InsertAfterLink(newLine,line.allLink)
Index: codearea/View.bmx
===================================================================
--- codearea/View.bmx	(revision 34)
+++ codearea/View.bmx	(working copy)
@@ -65,6 +65,8 @@
 		Local startLine:TLine = buffer.GetLine(starty)
 		Local endLine:TLine = buffer.GetLine(endy)
 		For Local line:TLine = EachIn buffer.allLines.ReverseFrom(endLine.allLink)
+			DebugLog "line.selectionStartx = "  + line.selectionStartx
+			DebugLog "line.selectionEndx = " + line.selectionEndx  
 			line.cut(line.selectionStartx,line.selectionEndx)
 			line.ClearSelection()
 			If line = startLine Then Exit
@@ -317,20 +319,20 @@
 				If line.whoFoldedMe = line 
 					arrow = FOLDARROWRIGHT
 					SetAlpha GetAlpha()*.4
-					If parent.opts.showFoldLines.value Then DrawLine px,py+style.GetHeight()-1,GadgetWidth(canvas),py+style.GetHeight()-1
+					If parent.opts.showFoldLines.value Then DrawLine px,py+style.GetHeight()-2,GadgetWidth(canvas),py+style.GetHeight()-2
 					Highlight(line,px,py,GadgetWidth(canvas),style.GetHeight(),4)
 				EndIf
 				line.foldArrowColor.Apply
 				foldArrowsMap.Insert line, New TRect.Set(px-10,py+style.GetHeight()/2-5,10,10)
 				DrawImage foldArrows,px-5,py+style.GetHeight()/2,arrow
 				SetAlpha GetAlpha()*.4
-				If parent.opts.showFoldLines.value Then DrawLine px,py,GadgetWidth(canvas),py
+				If parent.opts.showFoldLines.value Then DrawLine px,py - 2,GadgetWidth(canvas),py - 2
 			ElseIf line.foldStart
 				SetBlend ALPHABLEND
 				line.foldArrowColor.Apply
 				'DrawImage foldArrows,px-5,py+style.GetHeight()-3,FOLDEND
 				SetAlpha GetAlpha()*.4
-				If parent.opts.showFoldLines.value Then DrawLine px,py+style.GetHeight()-1,GadgetWidth(canvas),py+style.GetHeight()-1
+				If parent.opts.showFoldLines.value Then DrawLine px,py+style.GetHeight()-2,GadgetWidth(canvas),py+style.GetHeight()-2
 			EndIf
 		EndIf
 	End Method
Index: editor.bmx
===================================================================
--- editor.bmx	(revision 34)
+++ editor.bmx	(working copy)
@@ -1338,12 +1338,14 @@
 			Case TOOLAUTOCOMPLETE
 				AutoComplete( argument.ToString())
 
+'MARK: Multithreaded Aditions
 			Case TOOLBUILD
-				BuildSource host.options_build.quickenabled,False,host.options_build.guienabled,False
+				BuildSource host.options_build.quickenabled,False,host.options_build.guienabled,False,host.options_build.multithreaded
 			Case TOOLRUN
-				BuildSource host.options_build.quickenabled,False,host.options_build.guienabled,True
+				BuildSource host.options_build.quickenabled,False,host.options_build.guienabled,True,host.options_build.multithreaded
 			Case TOOLDEBUG
-				BuildSource host.options_build.quickenabled,True,host.options_build.guienabled,True
+				BuildSource host.options_build.quickenabled,True,host.options_build.guienabled,True,host.options_build.multithreaded
+'
 				
 			Case TOOLPARSEERROR
 				Return String.FromInt( ParseError( argument.ToString()))
@@ -1808,9 +1810,11 @@
 
 		Return True
 	End Method
-
-	Method BuildSource(quick:Int,debug:Int,gui:Int,run:Int)
+	
+'MARK: Multithreading Additions
+	Method BuildSource(quick:Int,debug:Int,gui:Int,run:Int,threaded:Int)
 	EndMethod
+'
 
 	Method ParseError:Int( err:String)
 		Return False
@@ -2657,7 +2661,10 @@
 		Return 0
 	End Function
 
-	Method BuildSource(quick:Int,debug:Int,gui:Int,run:Int)
+'MARK: Mulithreading Additions
+	Method BuildSource(quick:Int,debug:Int,gui:Int,run:Int,threaded:Int)
+'
+
 		'TODO: Should this really be in the code panel, or should it be in the Host?
 		Local cmd$,out$,arg$
 		cmd$=quote(bmkpath)
@@ -2666,6 +2673,11 @@
 		If debug cmd$:+" -d" Else cmd$:+" -r"	'-v
 		If gui cmd$:+" -t gui"
 		If Not quick cmd$:+" -a"
+
+'MARK: Multithreading Additions
+		If threaded cmd$:+" -h"
+'
+
 		If debug
 			out$=StripExt(host.FullPath(path))+".debug"
 			cmd$:+" -o "+quote(out$)+" "			'QUOTES+out$+QUOTES+" "
@@ -2744,8 +2756,10 @@
 		code.Init( path, host)
 		Return code
 	End Function
-
-	Method BuildSource( quick:Int,debug:Int,gui:Int,run:Int)
+	
+'MARK: Multithreading Additions
+	Method BuildSource( quick:Int,debug:Int,gui:Int,run:Int,threade:Int)
+'
 		Local cmd$
 		'see what the system shell thinks of the file
 		Local cd$=CurrentDir()
@@ -2847,7 +2861,10 @@
 		Return src.length
 	End Function	
 
-	Method BuildSource( quick:Int,debug:Int,gui:Int,run:Int)
+'MARK: Multithreading Additions
+	Method BuildSource( quick:Int,debug:Int,gui:Int,run:Int, threaded:Int)
+'
+
 		'TODO: Should this really be in the code panel, or should it be in the Host?
 		Local cmd$,out$,arg$
 		cmd$=quote(bmkpath)
@@ -3282,8 +3299,11 @@
 	
 	Field sublang:Int = SUBLANG_NONE
 	Field UseSublang:Int = False
-	
-	Method BuildSource(quick:Int , debug:Int , gui:Int , run:Int) 
+
+'MARK: Multithreading Additions	
+	Method BuildSource(quick:Int , debug:Int , gui:Int , run:Int, threaded:Int)
+'
+
 		DebugLog path
 		host.helppanel.Go "file://"+path
 	End Method
Index: locale/language.default.ini
===================================================================
--- locale/language.default.ini	(revision 34)
+++ locale/language.default.ini	(working copy)
@@ -331,6 +331,7 @@
 command_line = &amp;Command Line...
 properties = Properties...
 build_options = Build Options
+threading_support = Threading Support
 quick_build = Quick Build
 debug_build = Debug Build
 build_gui_app = Build GUI App
Index: locale/language.italiano.ini
===================================================================
--- locale/language.italiano.ini	(revision 34)
+++ locale/language.italiano.ini	(working copy)
@@ -332,6 +332,7 @@
 command_line = Command &amp;Line...
 properties = Propriet...
 build_options = Opzioni compilazione
+threading_support = Threading Support
 quick_build = Quick Build
 debug_build = Debug Build
 build_gui_app = Build GUI App
Index: maxide.bmx
===================================================================
--- maxide.bmx	(revision 34)
+++ maxide.bmx	(working copy)
@@ -1,4 +1,7 @@
 ' BlitzMax native Integrated Development Environment
+
+
+' BlitzMax native Integrated Development Environment
 '
 ' Originally released by Blitz Research Limited in 2005 under the Blitz Shared Source Code License
 ' and released into the Public Domain in 2006 for the benefit of the community.
@@ -33,7 +36,7 @@
 ?Win32
 'TODO: fix problem with main icon on windows (the new maxguis manifest interferes)
 ' main icon for windows
-'Import "resources/resources.o"
+Import "resources/resources.o"
 ?
 
 ' Import the relevant BRL / PUB modules
@@ -196,6 +199,10 @@
 	Field	mode:Int
 	Field	debugcode:TBMXCodePanel
 
+'MARK: Multithreading Additions
+	Field multithreaded:TGadget 'menu,state
+'
+
 	Field	quickenable:TGadget	'menu,state
 	Field	debugenable:TGadget	'menu,state
 	Field	guienable:TGadget		'menu,state
@@ -435,6 +442,8 @@
 		EnableToolMenus( TOOLMENU_EDITOR, TCodePanel(CurrentPanel) &lt;&gt; Null)
 		EnableToolMenus( TOOLMENU_SELECTION, TCodePanel(CurrentPanel) And CurrentPanel.Query(QUERY_HASSELECTION))
 		'MARK: if you change this dont forget to change the same in RefreshToolbar() build buttons
+
+		'MARK: if you change this dont forget to change the same in RefreshToolbar() build buttons
 		EnableToolMenus( TOOLMENU_BUILD, ((mode &lt;&gt; DEBUGMODE) And (panels.Length &gt; 1) And (TCodePanel(CurrentPanel) Or (TGUIOutput(CurrentPanel) And panels.Length &gt; 2))) Or ..
 			((THelpPanel(CurrentPanel) Or TGUIOutput(CurrentPanel)) And options_build.buildfile.Length))
 		EnableToolMenus( TOOLMENU_DEBUG, (mode = DEBUGMODE) And debugtree.cancontinue)
@@ -670,13 +679,21 @@
 		Next
 	End Method
 
-	Method BuildModules(buildall:Int)
+'MARK: Multithreading Additions
+	Method BuildModules(buildall:Int, threaded:Int)
+'
+
 		Local cmd$,out$,exe$
 		output.stop
 		SaveAll
 		cmd$=quote(bmkpath)
-		cmd$:+" makemods "
-		If buildall cmd$:+"-a "
+		cmd$:+" makemods"
+		If buildall cmd$:+"-a"
+		
+		'MARK: Multithreading Additions
+		If threaded Then cmd$ :+ " -h"
+		'
+			
 		Execute cmd,"@@output_panel/cmd_build_mods"
 	End Method
 
@@ -1179,8 +1196,8 @@
 		EndIf
 		'TODO: Should use WINDOW_CLIENTCOORDS
 		_gadget=CreateWindow("MaxIDE",20,20,760,540,Null,WINDOW_TITLEBAR | WINDOW_RESIZABLE | WINDOW_MENU | WINDOW_STATUS|WINDOW_HIDDEN|WINDOW_ACCEPTFILES|WINDOW_CENTER)
-		Local img:TPixmap=LoadPixmap("incbin::resources/main_icon.png")
-		SetGadgetPixmap _gadget , img , GADGETPIXMAP_ICON
+'		Local img:TPixmap=LoadPixmap("incbin::resources/main_icon.png")
+'		SetGadgetPixmap _gadget , img , GADGETPIXMAP_ICON
 		SetGadgetShape _gadget , winsize.x , winsize.y , winsize.w , winsize.h
 		If options_host.maximised Then MaximizeWindow(_gadget) 		
 
@@ -1519,6 +1536,10 @@
 		
 		'the following items do NOT go through AddMenuItem on purpose as they are tickboxes
 		buildoptions=AddMenuItem("@@build_options",0,program,0,0,PixmapFromIconStrip(_iconstrip,ICON_OPTIONS))
+		
+		'MARK: Multithreading Addition
+		multithreaded=CreateMenu("@@threading_support",MENUMULTITHREADED,buildoptions)
+		' 
 		quickenable=CreateMenu("@@quick_build",MENUQUICKENABLED,buildoptions)
 		guienable=CreateMenu("@@build_gui_app",MENUGUIENABLED,buildoptions)
 
@@ -1584,6 +1605,11 @@
 		EnableHotKeys()
 
 		' UnckeckMenu forces the menuentry to show a checkbox (Linux)
+		
+'MARK: Multithreading Addition		
+		If options_build.multithreaded CheckMenu multithreaded Else UncheckMenu multithreaded
+'
+		
 		If options_build.quickenabled CheckMenu quickenable Else UncheckMenu quickenable
 		If options_build.guienabled CheckMenu guienable Else UncheckMenu guienable
 
@@ -1778,9 +1804,9 @@
 				If ToolMenuEnabled(TOOLMENU_BUILD) Then RunCodeDebug
 
 			Case MENUBUILDMODULES
-				If CheckDemo() BuildModules False
+				If CheckDemo() BuildModules False, options_build.multithreaded
 			Case MENUBUILDALLMODULES
-				If CheckDemo() BuildModules True
+				If CheckDemo() BuildModules True, options_build.multithreaded
 
 			Case MENUSTEP If output output.stepover
 			Case MENUSTEPIN If output output.stepin
@@ -1794,6 +1820,20 @@
 
 			Case MENUCOMMANDLINE cmdlinereq.Show
 
+'MARK: Multithreading Addition
+			
+			Case MENUMULTITHREADED
+				If options_build.multithreaded
+					options_build.multithreaded=False
+					UncheckMenu multithreaded
+				Else
+					options_build.multithreaded=True
+					CheckMenu multithreaded
+				EndIf
+				UpdateWindowMenu _gadget
+				
+'
+
 			Case MENUQUICKENABLED
 				If options_build.quickenabled
 					options_build.quickenabled=False
Index: options.bmx
===================================================================
--- options.bmx	(revision 34)
+++ options.bmx	(working copy)
@@ -511,6 +511,11 @@
 Type TBuildOptions Extends TOptions Final
 	Field	outputstyle:TGadgetStyle
 	Field 	hideoutput:Int
+	
+'MARK: Multithreading Addition
+	Field multithreaded:Int
+'
+
 	Field	quickenabled:Int
 	Field	debugenabled:Int
 	Field	guienabled:Int
@@ -554,6 +559,11 @@
 	Method SetDefaults()
 		outputstyle.set(0,-1,DEFAULTFONT,DEFAULTFONTSIZE)
 		hideoutput=False
+		
+'MARK: Multithreading Addition
+		multithreaded=False
+'
+
 		quickenabled=False
 		debugenabled=True
 		guienabled = True
Index: tool.bmx
===================================================================
--- tool.bmx	(revision 34)
+++ tool.bmx	(working copy)
@@ -120,6 +120,10 @@
 Const MENUDEBUGENABLED:Int=34
 Const MENUGUIENABLED:Int=35
 
+'MARK: Multithreading Addition
+Const MENUMULTITHREADED:Int=48 ' Was MENUNEWVIEW
+'
+
 Const MENUCOMMANDLINE:Int=36
 Const MENUSYNCMODS:Int=37
 Const MENUIMPORTBB:Int=38</textarea><br>...Hopefully the flakey code box hasn't buggered it up.<br><br><br>I wasn't quite sure how to handle building modules, so the 'threading support' state indicates whether to build threaded or standard modules.<br><br>Oh yeah...The 'threading support' state isn't saved and always defaults to false, I thought this was the safest route for now. <br><br></td></tr></table><br>
<a name="902968"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Azathoth</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#77">[#77]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is this GC going to replace the Blitzmax GC in non-threaded programs too? <br><br></td></tr></table><br>
<a name="902973"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#78">[#78]</a></td></tr></table></td></tr><tr ><td class="posttext"> This GC is slower on older machines than the BlitzMax GC. On my work's 2ghz P4, it is much slower.<br>On more modern processors, it runs great.<br><br>btw, just because it is a "threaded" build, it doesn't mean you need to use any threading stuff in it. Perhaps you just want to use the new GC. <br><br></td></tr></table><br>
<a name="902988"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Winni</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#79">[#79]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>- a new MaxIDE with support for the new parameter H (threaded) is needed;<br> <br></div><br><br>Here's the good news: The MaxIDE version from SVN already supports this switch. ;-) <br><br></td></tr></table><br>
<a name="903000"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Winni</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#80">[#80]</a></td></tr></table></td></tr><tr ><td class="posttext"> So what parameters does CreateThread() expect?<br><br>My funniest compiler error so far was "Unable to convert from 'Object(Object)' to 'Object(Object)'". <br><br></td></tr></table><br>
<a name="903001"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#81">[#81]</a></td></tr></table></td></tr><tr ><td class="posttext"> It expects a function pointer...<br><pre class=code>
Local Thread = CreateThread(ThreadProc,"hello")
Delay 50000
DetachThread(Thread)

Function ThreadProc:Object(data:Object)
	Print String(data)
	Local c:Int
	Repeat
		Delay 500
		c:+1
		Print c
	Forever
End Function
</pre> <br><br></td></tr></table><br>
<a name="903005"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Winni</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#82">[#82]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks! I get something working now.<br><br>So I cannot pass a method to CreateThread directly; instead, it must be a global function of type object that expects exactly one parameter of type object. <br><br></td></tr></table><br>
<a name="903009"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Winni</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#83">[#83]</a></td></tr></table></td></tr><tr ><td class="posttext"> A sample for coffee drinkers: Ten developers and one coffee machine. Simple text-only version. <br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
SuperStrict

Const cupSize:Int = 200

'Your simple Italian coffee machine. One load is good for eight cups.
Type CoffeeMachine

	Field hasCoffee:Int
	Field isCooking:Int
	Field myMutex:Int
	
	Method Create()
		hasCoffee = 0
		myMutex = CreateMutex()
	End Method
	
	Method giveCoffee:Int( name: String )
		LockMutex( myMutex )
		If hasCoffee &lt;= 0
			Print "Machine is out of coffee."
			Print name + " is cooking fresh coffee."
			hasCoffee = 8 * cupSize
		End If
		Print name + " takes coffee."
		hasCoffee :- cupSize
		UnlockMutex( myMutex )
		Return cupSize
	End Method
End Type

'A very simple software developer. He only works as long as he has coffee.
Type Developer
	Field Name:String
	Field Position:Int
	Field hasCoffee:Int
	Field machine:CoffeeMachine
	Global devMutex:Int = CreateMutex()
		
	Method Create:Developer( name:String, pos:Int, machine:CoffeeMachine )
		Self.Name = name
		Self.Position = pos
		Self.hasCoffee = 0
		Self.machine = machine
		Return Self
	End Method
	
	Method Working()
		Repeat
			LockMutex( devMutex )
			hasCoffee :- Rand(1, Int(cupSize/4) )
			If hasCoffee &lt;= 0
				Print name + " needs coffee."
				hasCoffee = machine.GiveCoffee( name )
			Else
				Print name + " is happily working. Coffee left: " + hasCoffee + " ml."
			End If
			UnlockMutex( devMutex )
			Delay 600
		Forever
	End Method
End Type

'The thread factory
Function BuildThread:Object( data:Object)
	Local myDev:Developer = Developer(data)
	myDev.Working()
End Function

'Start the coffee machine
Global Luigi:CoffeeMachine = New CoffeeMachine
Luigi.Create()

'Get the guys to work
Global DevTeam:Developer[10]
Global devName:String[] = ["Mark", "Brucey", "Skidracer", "SebHoll", "SimonH", "SimonA", "FlameDuck", "MarkT", "RobH", "Woz"]

For Local n:Int = 0 To 9 
	DevTeam[n] = New Developer
	DevTeam[n].Create( devName[n], n, Luigi )
Next

'Ready, steady, go!
Global handles:Int[10]

For Local n:Int = 0 To 9
	handles[n]=CreateThread( BuildThread,  Object(DevTeam[n]) )
Next

Repeat
Forever



</textarea> <br><br></td></tr></table><br>
<a name="903011"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#84">[#84]</a></td></tr></table></td></tr><tr ><td class="posttext"> This looks cool. Nice (and funny) example, Winni. I am not one of those new fangled SVN users so hopefully this will be all nicely tested and documented and integrated into the IDE etc and released in some official Max update soon for us other users :-) Good to hear they've been working on this and that it's actually working, way to go BRL/Mark. <br><br></td></tr></table><br>
<a name="903018"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Winni</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#85">[#85]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks! ;-)<br><br>I think BRL is providing a great service with their SVN repository; it really is worth to regularly take a look at it.<br><br>By the way, I think this version of the sample is nicer, but it requires MaxGUI:<br>Download for <a href="http://www.wmaus.net/GUICoffee.zip" target="_blank">Mac OS X Intel</a>.<br>Download for <a href="http://www.wmaus.net/GUICoffeePPC.zip" target="_blank">Mac OS X PPC</a>.<br>Download for <a href="http://www.wmaus.net/GUICoffeeWin.zip" target="_blank">Windows</a>.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
'GUI Coffee, Inc.
SuperStrict

'Put something on the screen.

Import MaxGui.Drivers

AppTitle = "Coffee, Inc."

Global x:Int = 0
Global y:Int = 0
Global width:Int = 640
Global height:Int = 480

Global AppWindow:TGadget = CreateWindow (AppTitle, x, y, width, height)

Global fileMenu:TGadget = CreateMenu ("&amp;File", 0, WindowMenu (AppWindow))
Global xit:TGadget = CreateMenu ("E&amp;xit", 1, fileMenu)

Global helpMenu:TGadget = CreateMenu ("&amp;Help", 2, WindowMenu (AppWindow))
Global about:TGadget = CreateMenu ("&amp;About...", 3, helpMenu)

UpdateWindowMenu AppWindow
	
Global devStatus:TGadget[10]

For Local n:Int = 0 To 9
	devStatus[n] = CreateTextField (4, 4 + n*30, ClientWidth (AppWindow) - 8, 24, AppWindow)
Next

Global goHome:TGadget = CreateButton ("Go home, guys!", 240, 400, 140, 24, AppWindow, BUTTON_OK)


'Setup the office environment.

Const cupSize:Int = 200

'Your simple Italian coffee machine. One load is good for eight cups.
Type CoffeeMachine

	Field hasCups:Int = 10
	Field hasCoffee:Int
	Field isCooking:Int
	Field myMutex:Int
	
	Method Create()
		hasCoffee = 0
		myMutex = CreateMutex()
	End Method
	
	Method giveCoffee:Int( name: String, nPos:Int )
		LockMutex( myMutex )
		If hasCoffee &lt;= 0
			Local boiler:String = ""
			For Local n:Int = 1 To 8
				boiler :+ "+++"
				SetGadgetText( devStatus[nPos], name + " is cooking fresh coffee: " + boiler )
				Delay 300
			Next
			hasCoffee = 8 * cupSize
		End If
		SetGadgetText( devStatus[nPos], name + " takes coffee." )
		hasCoffee :- cupSize
		Delay 750
		UnlockMutex( myMutex )
		Return cupSize
	End Method
	
	Method giveCup( name: String, nPos:Int )
		LockMutex( myMutex )
		SetGadgetText( devStatus[nPos], name + " takes a cup.")
		hasCups :- 1
		Delay 400
		UnlockMutex( myMutex )
	End Method		
	
	Method returnCup( name: String, nPos:Int )
		LockMutex( myMutex )
		SetGadgetText( devStatus[nPos], name + " returns his cup to the kitchen.")
		hasCups :+ 1
		Delay 1000
		If hasCups = 10
			SetGadgetText( devStatus[nPos], name + " is last, he turns off the coffee machine.")
			Delay 3000
			HideGadget( goHome )
		End If
		UnlockMutex( myMutex )
	End Method

End Type

'A very simple software developer. He only works as long as he has coffee.
Type Developer
	Field Name:String
	Field Position:Int
	Field hasCoffee:Int
	Field machine:CoffeeMachine
	Global EOB:Int = False
		
	Method Create:Developer( name:String, pos:Int, machine:CoffeeMachine )
		Self.Name = name
		Self.Position = pos
		Self.hasCoffee = 0
		Self.machine = machine
		Return Self
	End Method
	
	Function SignalEOB()
		SetGadgetText( goHome, "Office is closing!" )
		DisableGadget( goHome )
		EOB = True
	End Function
	
	Method Working()
		machine.giveCup( name, Position )
		Repeat
			hasCoffee :- Rand(1, Int(cupSize/4) )
			If hasCoffee &lt;= 0
				SetGadgetText( devStatus[Position], name + " needs coffee !!!")
				hasCoffee = machine.GiveCoffee( name, Position )
			Else
				Local cupContents:String = ""
				For Local n:Int = 1 To Int( 1 + hasCoffee/10)
					cupContents :+ "#"
				Next
				SetGadgetText( devStatus[Position], name + " is happily working. Coffee left: " + cupContents + " ( " + hasCoffee + " ml)." )
			End If
			Delay 600
		Until EOB
		machine.returnCup( name, Position )
		SetGadgetText( devStatus[Position], name + " went home.")
	End Method
End Type

'The thread factory
Function BuildThread:Object( data:Object)
	Local myDev:Developer = Developer(data)
	myDev.Working()
End Function

'Start the coffee machine
Global Luigi:CoffeeMachine = New CoffeeMachine
Luigi.Create()

'Get the guys to work
Global DevTeam:Developer[10]
Global devName:String[] = [ "Mark", ..
							"Brucey", ..
							"Skidracer", ..
							"SebHoll", ..
							"SimonH", ..
							"SimonA", ..
							"FlameDuck", ..
							"MarkT", ..
							"RobH", ..
							"Woz"]

For Local n:Int = 0 To 9 
	DevTeam[n] = New Developer
	DevTeam[n].Create( devName[n], n, Luigi )
Next

'Ready, steady, go!
Global handles:Int[10]

For Local n:Int = 0 To 9
	handles[n]=CreateThread( BuildThread,  Object(DevTeam[n]) )
Next

'Send the boys home
Function ShutDown()
	Developer.SignalEOB()
	For Local n:Int = 0 To 9
		DetachThread( handles[n] )
	Next
End Function


'Your good old fashioned GUI event loop
Repeat
	Select WaitEvent ()
		Case EVENT_GADGETACTION
			If (EventSource () = goHome)
				ShutDown()
			End If 
				
		Case EVENT_WINDOWCLOSE
			ShutDown()
			End

		Case EVENT_MENUACTION
			If EventData () = 1 Then 
				ShutDown()
				End
			End If
			
			If EventData () = 3 Then Notify ("Coffee, Inc. only works with coffee!")
			
	End Select
Forever

</textarea> <br><br></td></tr></table><br>
<a name="903019"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#86">[#86]</a></td></tr></table></td></tr><tr ><td class="posttext"> How can you tell how many threads are actually being created and used and that doing so is providing more CPU performance than without, ie on multicore machines? <br><br></td></tr></table><br>
<a name="903020"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#87">[#87]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hm.... I followed the steps Brucey specified in his posting, but I can't seem to get it to work...<br><br>Even though CreateThread and CreateMutex are syntax-highlighted in the IDE, both of those commands generate an 'identifier not found' when I try to run the samples on this page. <br><br></td></tr></table><br>
<a name="903023"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Winni</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#88">[#88]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, you're in control of how many threads you create. If threading makes a program actually faster depends on what you are doing. <br><br>For example, if you want to convert four Jpegs to TIFF format, then it will certainly be faster if spawn four worker threads for that task on a Quad Core machine than having the images converted sequentially on just one CPU core. You usually won't get four times the speed in that special hardware scenario because of administrative overheads and I/O synchronization issues, but it -will- be measurably faster. <br><br>On a single core CPU, the multi-threaded approach will probably be a bit slower than a single-threaded implementation (because of the additional overhead to handle the threads).<br><br>The coffee example above does nothing useful. It's a remake of an old (from before 1998, actually) Alaska Software Xbase++ sample, by the way, that my ex-colleague Dr. Hannes Ziegler had written to demonstrate thread synchronization issues.<br><br>The sample spawns ten threads, one for each developer, and they share one resource: The coffee machine (which here also serves as a cupboard, hmm). The coffee machine's mutex makes sure that only one developer at a time can use it, the others have to wait until the mutex is unlocked.<br><br>The problem with threads is that you usually cannot determine when it gets a time slice from the operating system or in which order the threads are executed. And you enter the field of complete chaos when you begin fiddling with thread priorities. If you don't want your app to crash or show unpredictable behavior, you -need- to synchronize the access to shared resources. <br><br></td></tr></table><br>
<a name="903024"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Winni</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#89">[#89]</a></td></tr></table></td></tr><tr ><td class="posttext"> xlsior, you need to tell the IDE to enable Threading in "Build Options." <br><br></td></tr></table><br>
<a name="903026"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MGE</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#90">[#90]</a></td></tr></table></td></tr><tr ><td class="posttext"> "The problem with threads is that you usually cannot determine when it gets a time slice from the operating system or in which order the threads are executed. "<br><br>Does this make it useless for actual game design? <br><br></td></tr></table><br>
<a name="903028"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Winni</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#91">[#91]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think that's one of the reasons why multi-threading has only been used quite rarely in game development so far. <br><br>Tim Sweeney (Mr. "Unreal" engine) has said some interesting things about this subject, for example <a href="http://interviews.teamxbox.com/xbox/2169/Epic-Games-Tim-Sweeney-Interview/p3/" target="_blank">here</a>. <br><br>Multi-threading and multi-processing are certainly not useless, but just more difficult to handle (at least for game development). <br><br></td></tr></table><br>
<a name="903029"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#92">[#92]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> xlsior, you need to tell the IDE to enable Threading in "Build Options."  <br></div><br><br>...<br><br>Duh.<br><br>Ok, that did the trick. Thanks for the pointer!<br><br>So... Anyone know whether or not it's possible to (pre)load images in the background using a thread and still have them be accessible to the main program once it's done? <br><br></td></tr></table><br>
<a name="903034"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#93">[#93]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>you need to tell the IDE to enable Threading in "Build Options<br> <br></div><br>mmm...are you sure? I have downloaded from SVN (from /dev/win32_x86 and from /v130/win32_x86/bin) but I can't find nothing under 'Program/Build options'...<br><br>Well, I'll wait for an official release :D <br><br></td></tr></table><br>
<a name="903037"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#94">[#94]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> mmm...are you sure? I have downloaded from SVN (from /dev/win32_x86 and from /v130/win32_x86/bin) but I can't find nothing under 'Program/Build options'... <br></div><br><br>You'll need to recompile the IDE for the new option to show up.<br>You can find the source in /src/maxide/maxide.bmx (MaxGUI required) <br><br></td></tr></table><br>
<a name="903039"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#95">[#95]</a></td></tr></table></td></tr><tr ><td class="posttext"> ah! now it make sense!<br>It's <i>very experimental</i>...<br>Thank you! <br><br></td></tr></table><br>
<a name="903066"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Snixx</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#96">[#96]</a></td></tr></table></td></tr><tr ><td class="posttext"> With threading enabled in the ide I get a build error... all mods have been rebuilt and are latest from SVN, bmk has been recompiled and replaced with the new one. <br><br></td></tr></table><br>
<a name="903077"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#97">[#97]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> With threading enabled in the ide I get a build error <br></div><br>What is it exactly? <br><br></td></tr></table><br>
<a name="903078"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#98">[#98]</a></td></tr></table></td></tr><tr ><td class="posttext"> What's the build error? <br><br>*EDIT* DOH should have refreshed before posting ;) <br>... <b>YAY, THREADS!</b> <br><br></td></tr></table><br>
<a name="903079"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Snixx</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#99">[#99]</a></td></tr></table></td></tr><tr ><td class="posttext"> nowt, just "build error" and sometimes "command line error", <br><br></td></tr></table><br>
<a name="903081"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#100">[#100]</a></td></tr></table></td></tr><tr ><td class="posttext"> Snixx, just a thought but what platform are you on? AFAIK its windows only ATM.<br><br>*EDIT* scrub that, just checked and it is cross platform. <br><br></td></tr></table><br>
<a name="903083"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Snixx</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#101">[#101]</a></td></tr></table></td></tr><tr ><td class="posttext"> Vista home premium 64bit sp1<br><br>I did get the entire lot from the SVN and recompile it all and remake the bmk exe n all that, still not alot of luck. <br><br></td></tr></table><br>
<a name="903096"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#102">[#102]</a></td></tr></table></td></tr><tr ><td class="posttext"> NOTE: It doesnt seem to like Try+Catch used in the threads.<br><br>Snixx, I'll give it a go on Vista x64 later, when I've got some spare time. <br><br></td></tr></table><br>
<a name="903141"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Space_guy</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#103">[#103]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow. i must have done something seriously wrong in either my engine or the installation but when running it thread enabled resulted in a framrate 0-2 fps from arround 150 when run unthreaded.<br><br>although I will make a new engine and quite possibly correct what ever the new gc doesnt like it was surprising to get such a loss in framerate from just switching gc <br><br></td></tr></table><br>
<a name="903161"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Tiffany</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#104">[#104]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I did get the entire lot from the SVN and recompile it all and remake the bmk exe n all that, still not alot of luck. <br></div><br>Did you download bdwgc and install that as per Brucey's instructions above?<br><br><div class="quote"> but when running it thread enabled resulted in a framrate 0-2 fps from arround 150 when run unthreaded. <br></div><br>Because threaded code is "costly".<br><br>Mark's original garbage collector was deliberately simple (based on a simple count of object references) for speed in a games programming language.  To enable threads, he has used a pre-existing (i.e. not his own) thread-safe garbage collector which is simply imported, and is by necessity much more sophisticated (e.g. it can deal with cyclical references, etc), therefore it is bound to run slower than mark's original ref-counted GC.  Admittedly that difference is rather drastic in some applications at present, but this is <b>experimental</b> still.<br><br>Threading will not magically speed things up - it will probably magically slow things down, until you start writing good code to explicitly make appropriate use of it.  And that is the tricky bit... <br><br></td></tr></table><br>
<a name="903166"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Snixx</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#105">[#105]</a></td></tr></table></td></tr><tr ><td class="posttext"> trying to makemods with -a -h does nothing at all... <br><br></td></tr></table><br>
<a name="903170"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Space_guy</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#106">[#106]</a></td></tr></table></td></tr><tr ><td class="posttext"> yeah. i did expect a drop of performace yes. but in this case it its just abnormal. somewhere probbably i did some mistake in the compiling of the new gc or i do something that is really alot more costly that i can do differently. ill find out eventualy :) anyway im enjoying threads so far. <br><br></td></tr></table><br>
<a name="903177"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Snixx</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#107">[#107]</a></td></tr></table></td></tr><tr ><td class="posttext"> ah wtf Building main<br>Compiling:main.bmx<br>Build Error: failed to compile C:/Projects/Project 1/main.bmx<br>Process complete<br><br><br>blah blah,  followed the instructions perfectly, ah well <br><br></td></tr></table><br>
<a name="903198"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Winni</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#108">[#108]</a></td></tr></table></td></tr><tr ><td class="posttext"> Snixx, when you run into that problem, then you most likely did -not- put Boehm's Garbage Collector in the appropriate directory.<br><br><div class="quote"> <br>2) Download the GC source from here<br><br>3) Copy the extracted folder to blitz.mod and rename it to 'bdwgc' so you get blitz.mod/bdwgc/include/...etc...<br><br>4) Edit blitz.mod/bdwgc/include/gc_config_macros.h and add this line at the top (to enable threadsafe GC): <br>#define GC_THREADS<br> <br></div><br><br>When you are on Windows, the GC should go into C:\Program Files\BlitzMax\mod\brl.mod\blitz.mod\bdwgc<br><br>On OS X, it's /Applications/BlitzMax/mod/brl.mod/blitz.mod/bdwgc<br><br>(Unless, of course, your BlitzMax directory is somewhere else.)<br><br>Make sure that you add the #define pre-processor statement as instructed by Brucey.<br><br>Only when the new GC is in exactly the right directory, and only when you checked out the latest BCC and BMK tools, bmk makemods -h -a does work.<br><br>And only after that has finished, you can compile the new MaxIDE with Threading support.<br><br>Maybe the best way is to checkout from SVN to a new and empty location (that's what I did).<br><br>But the new stuff really -does- work. At least on OS X; I didn't bother to play with the Windows and Linux versions. <br><br></td></tr></table><br>
<a name="903200"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#109">[#109]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Maybe the best way is to checkout from SVN to a new and empty location (that's what I did). <br></div><br>or... wait until it becomes an "official" release and there's nothing out of the ordinary that needs to be done to use it?<br><br>I would class things like this as "advanced" :-p <br><br></td></tr></table><br>
<a name="903203"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Snixx</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#110">[#110]</a></td></tr></table></td></tr><tr ><td class="posttext"> ah where does bcc compile from, that might be why :P <br><br></td></tr></table><br>
<a name="903205"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#111">[#111]</a></td></tr></table></td></tr><tr ><td class="posttext"> bcc you download from the SVN site...  bin/bcc.exe <br><br></td></tr></table><br>
<a name="903206"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >*</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#112">[#112]</a></td></tr></table></td></tr><tr ><td class="posttext"> I will wait for it to become a 'official' release as I want it to work on as much as possible without too many problems. TBH threading will make Max as complete as I need it to be and I will definately be considering it a good language to create things on in the future when this is official :) <br><br></td></tr></table><br>
<a name="903208"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Winni</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#113">[#113]</a></td></tr></table></td></tr><tr ><td class="posttext"> Waiting for it become official certainly is a safe thing to do. Only that nobody knows when that will happen; official releases - and that's where SVN does not count - have been very slow over the last year.<br><br>I noticed another interesting thing while I was playing with MaxGUI and Threading yesterday; the new MaxIDE threw out -tons- of Cocoa-warning messages about gadgets not being part of an NSAutoReleasePool and so on. Also, MaxIDE fired up the cooling fans of my Mac Pro after a short while (while the standalone app did not). Weird. <br><br></td></tr></table><br>
<a name="903210"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Snixx</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#114">[#114]</a></td></tr></table></td></tr><tr ><td class="posttext"> ah well that was it, but still I have a problem with "cannot find interface for module 'brl.blitz' (compile error) <br><br></td></tr></table><br>
<a name="903212"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Winni</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#115">[#115]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe you should try and take the long walk: Perform a complete HEAD checkout from SVN to an empty directory. That way, you're guaranteed to not have any version mixups and conflicts and you're sure you have the latest and greatest.<br><br>But did you rename the GC directory according to Brucey's instructions and did you change the header file by adding #define GC_THREADS on top of it? And is the GC in a subfolder of blitz.mod, and is that subfolder called bdwgc? <br><br></td></tr></table><br>
<a name="903213"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Snixx</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#116">[#116]</a></td></tr></table></td></tr><tr ><td class="posttext"> Completely new folder, followed exactly, added the define, using the new bcc, bmk, makemods worked with -h -a, recompiled the ide... I will just leave it at that:D and wait for the official version. <br><br></td></tr></table><br>
<a name="903214"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Winni</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#117">[#117]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can you post a screenshot of your directory structure, check again whether MaxIDE has the Threading switch turned on, copy and paste the complete error message here and maybe even show what source code you are trying to compile?<br><br>I'm convinced we can get it running. ;-) <br><br></td></tr></table><br>
<a name="903241"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#118">[#118]</a></td></tr></table></td></tr><tr ><td class="posttext"> SVN update available! it now includes the new GC source. :) <br><br></td></tr></table><br>
<a name="903251"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yahfree</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#119">[#119]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://blitzbasic.com/Community/posts.php?topic=80344" target="_blank">http://blitzbasic.com/Community/posts.php?topic=80344</a> <br><br></td></tr></table><br>
<a name="903426"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#120">[#120]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Threading itself would make most of us frowny faces turn upside down, but that's not going to happen. This topic gets brought up every couple weeks with no result or even response. And because of this i've had to apologize to people that I recommended that purchased blitzmax, as they too are running, or going to run into dead ends. <br></div> HAHAHA YOU LOSE <br><br></td></tr></table><br>
<a name="903605"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Retimer</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#121">[#121]</a></td></tr></table></td></tr><tr ><td class="posttext"> Glad I was proven wrong =P<br><br>This is honestly the first time I have seen a developer come through like this after such a dead period, so i'm still in shock at the moment. And you can't fully blame me as there wasn't any real communication to the community about this lol. <br><br></td></tr></table><br>
<a name="903613"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#122">[#122]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> This is honestly the first time I have seen a developer come through like this after such a dead period, so i'm still in shock at the moment. <br></div><br><br>It's really not that unusual for BRL -- in the past, similar "out of the blue" additions (after many repeated requests and a long silence) were:<br><br>- Addition of DirectX (originally BlitzMax was OpenGL only)<br>- Addition of Intel Mac compatibility (At the initial release of BlitzMax, apple was still PowerPC-only. Shortly afterwards Apple surprised the world with their "we're moving everything to Intel" announcement. BRL must have loved that, considering how much work they must have put into creating the PowerPC version in the first place)<br><br>Furthermore: If you're set up to sync from SVN, you'll find that there is a fairly steady stream of minor changes, additions and adjustments. While major features like threading don't come along every day, I'd hardly consider it "dead". It's just that BRL seems pretty quiet about all the ongoing changes until they drop a bomb every once in a while. <br><br></td></tr></table><br>
<a name="903622"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#123">[#123]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hold on a second...<br><div class="quote"> Try it before you buy it, but don't complain after. <br></div><br>Is this your mantra? If so you don't live up to it. :) <br><br></td></tr></table><br>
<a name="903647"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Retimer</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#124">[#124]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> This topic gets brought up every couple weeks with no result or even response <br></div><br><br>It was actually targeting the people complaining about it for the most part, since there was/has/is already alternatives. You'll also find other posts of me referring to my quote on many of the complaints, instead of complaining. Regardless, i'm a huge blitzmax fan, and this addition will save me a lot of time and money of not having to reprogram my servers.<br><br><div class="quote"> It's really not that unusual for BRL <br></div><br><br>I've only been around blitz less then a year, but from the work logs I read, I could only assume from the information that was right infront of me (none), and what the blitz elitists from the start were giving, along with my history with plenty of software with high claims and no show (As where my quote comes from, Markcw). <br><br>But if complaining gets things done....forum mailbox/PM feature so posts like this don't bring things off-topic, and other topics won't have to get locked =P <br><br></td></tr></table><br>
<a name="903650"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#125">[#125]</a></td></tr></table></td></tr><tr ><td class="posttext"> What's a blitz elitist look like? <br><br></td></tr></table><br>
<a name="903651"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Retimer</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#126">[#126]</a></td></tr></table></td></tr><tr ><td class="posttext"> Kind of like Bruce Lee with glasses <br><br></td></tr></table><br>
<a name="903656"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#127">[#127]</a></td></tr></table></td></tr><tr ><td class="posttext"> More like Flameduck with glasses. <br><br></td></tr></table><br>
<a name="903661"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Winni</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#128">[#128]</a></td></tr></table></td></tr><tr ><td class="posttext"> Or like Zeus on Mount Olympus, holding a bunch of thunderbolts in his hand, ready to throw them down at the mere mortals :) <br><br></td></tr></table><br>
<a name="903670"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#129">[#129]</a></td></tr></table></td></tr><tr ><td class="posttext"> Locked!<br><br><a href="/posts.php?topic=80344" target="_blank">Threaded BlitzMax!</a> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
