<!DOCTYPE html><html lang="en" ><head ><title >Resolutions and image positioning</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Resolutions and image positioning</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Resolutions and image positioning</a><br><br>
<a name="1259374"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arska</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have UI that is 2560x1600 resolution and it's drawn from screen x0 y0 position to graphicsWidth and height. In bottom right corner is frame for map. I am trying to get minimap drawn inside of those frames regardless of what resolution player chooses. How this can be achieved?<br><br>And secondly i think it's not very wise to make UI this way or am i wrong? <br><br></td></tr></table><br>
<a name="1259377"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Split the ui into multiple parts.<br><br>The map is drawn "behind" the ui:<br><br><br>- draw game<br>- draw map<br>- draw hud/ui<br><br>Or if your hud/ui consists of individual objects, the map can be drawn by the "mapUI"-component which handles drawing the overlay (the portion of your 2560x1600 image).<br><br><br>Why "split into multiple parts": I assume your "UI" does not cover the whole screen, else you wont see your game at all. Means you include much whitespace/unused area in your image - but all of these pixels has to get send to the GPU...<br><br>Solution: Split this images into areas (spellbar, decorations, minimap overlay ...) and draw them individually.<br>How to handle various resolutions?<br>- scale<br>- show/hide decorative elements regarding the aspect ratio (eg a stone figurine left and right of your spell bar)<br>- have things consiting of "fixed dimension", "stretchable" or "tileable" portions<br><br>If your element is "tileable" you will have to decide whether you could stop at each "width" or if the tile-width decides some kind of "width steps".<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1259580"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arska</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> What is the best way to calculate scale and position? And what is best image size for UI elements? Let's say for example that is want health bar bottom middle of the screen which goes 0 to 100 %, but i can't just draw it how it looks good with 800x600 resolution, because when i switch to fullscreen it's in wrong place and size. <br><br></td></tr></table><br>
<a name="1259583"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> instead of having your healthbar at "x=10, y=100" you calculate:<br><br>x = 10 when width = 800<br>xRelative = 1/80 %<br><br>So for a width of 1280 the resulting x is:<br>xRelative * 1280 = 16<br><br><br>So you could position all your elements by using relative numbers:<br>xRelative = 0.0 - 1.0 (or &lt;0 respective &lt;1.0 if you want an offscreen position)<br>yRelative = 0.0 - 1.0 (same as above)<br><br>healthbar width is then instead of 100 (at 800x600) 1/8 = 0.125%.<br><br><br>You could of course go more complex by having "maxWidth" being an absolute value - to avoid 500 pixel wide healthbars on bigger resultions etc.<br>Same then for "minWidth" to avoid unreadable garbage.<br><br>You will end up with something like this:<br><br>[healthbar-object][........dynamicportion.......][otherobject][...nextdynamicportion...][thirdobject]<br><br>Each of this objects could have a minWidth/maxWidth/... so other objects could align properly.<br><br><br>Another option (done years ago): design your game for a specific aspect ratio - and on other resultion try to scale them up (using virtual resolution - available in blitzmax). Either on "left + right" or on "top + bottom" you then have to add black bars - or additional decoration.<br><br><br>If all your elements are in one of the 4 corners, you could also place them easily this way (oX = objectOffsetX, oY = objectOffsetY)<br><br>topLeft: 0 + oX, 0 + oY<br>topRight: GraphicsWidth() - objectWidth + oX, 0 + oY<br>bottomLeft: 0 + oX, GraphicsHeight() - objectHeight + oY<br>bottomRight: GraphicsWidth() - objectWidth + oX, GraphicsHeight() - objectHeight + oY<br><br><br>But I would prefer "relative" positioning - it is the same as above with "oX,oY" being calculated values (xRelative * GraphicsWidth = xToUse).<br><br><br>For "UI" things might be attached to other objects - so a healthbar might be "attached with rightBottomAlignment + 10px,5px offset" to the "unit portrait"-object.<br>Moving that portrait will then move the healthbar too.<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1259618"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Another possible option:<br><br><a href="/codearcs/codearcs.php?code=2879" >VirtualGfx</a> <br><br></td></tr></table><br>
<a name="1259817"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arska</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> So with VirtualGfx i could design game with certain resolution? And if resolution changes it would automaticly be in right place? I don't understand virtual resolution very good. :/<br><br>Any up to date examples how virtualGFX works? <br><br></td></tr></table><br>
<a name="1259821"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> It handles coordinates for you. BUT ... it scales everything to the designed resolution.<br><br>A "relative" UI tries to keep their content "sharp". In a 3D game you do not want things to get blurry because of scaling. You want things to stay crisp and reveal more detail.<br><br>So with virtualGfx you get some kind of a canvas which you use to draw your things on (eg. 640x480) if you now play with 1024x768, things will get scaled - similar as if you set it to 640x480 and let your GPU/screen scale it up to fullscreen.<br><br>If a higher resolution means "show more" than you should not use virtualGfx.<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1259825"></a>

<a name="1259826"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arska</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Alright. Relative positioning is way to go for me. And one thing about calculation.. I understand that i need "relative" value which i use to multiply every coordinate. I didn't fully understand how i get this value. Let's say i use 800x600 as designing resolution and all smaller than this is smaller than 1 and bigger are over 1. I am in right track?<br><br>So how i get that value from ScreenWidth and Height? (Sorry i am very bad in mathematics)<br><br>Edit:<br>Just something like this?<br>RelX# = GraphicsWidth() / 800.0<br>RelY# = GraphicsHeight() / 600.0<br><br>And multiply my values like:  Valuex * RelX? <br><br></td></tr></table><br>
<a name="1259830"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> What you calculated is some kind of "scaling factor".<br><br>So if you have designed for 800x600 and you res would be 1600x1200 your calculation will lead to<br>RelX = 2.0<br>RelY = 2.0<br><br>Means, all of your values will be xyz * 2.0. This works for absolute position values.<br>The result is something similar to VirtualGfx (except that mouse coordinates are not scaled automatically).<br><br><br>This is of course the same as positioning things by "percents". It does not matter if I calculate 10% of Width or use some kind of reference width (80px at a graphics width of 800).<br><br>Some prefer percentages, others might better visualize things in their head using absolute numbers.<br><br>"relative" values ease some calculations.<br>Imagine you want to move your object from left to right.<br>In your case you have to move from "0 to designatedWidth" (eg. 0 until 800). At 67% of the route the movement should try to get faster and faster .... (acceleration). so what was 67% of 800 ... ah ok there was my calculator ... hmm I just write "0.67*800".<br><br>If you use relative values instead you just have to use values between 0.0 and 1.0 and your acceleration starts at "0.67". Of course the calculation of the absolute value will happen somewhere in another function (eg. on render) but it might keep your logic lines a bit more short / more readable.<br><br><br>I do not want to convince you of using "relative" - both have benefits.<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1259832"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arska</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I also tried this, but i got some black area around drawing and everything gets very very small. <a href="http://www.blitzmax.com/codearcs/codearcs.php?code=2879" target="_blank">http://www.blitzmax.com/codearcs/codearcs.php?code=2879</a> <br><br></td></tr></table><br>
<a name="1259833"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> you get black borders : on top + bottom OR left + right - depending on YOUR resolution and the DESIGNED resolution.<br><br>designed resolution is the one you use for layouting everything.<br>real resolution is the one you use to create the graphical context (like with "graphics 800,600".<br><br><br>Just do it similar to the "demo" provided in the archive entry.<br><br>Does it happen with the "demo code" too? In that case there might be a bug with your computer and the virtual resolution code of blitzmax ... <br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1259834"></a>

<a name="1259835"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arska</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah... i found problem in my own code. Everything looks now good. Expect mouse cursor seems to be in wrong place. Cursor can't reach every position before real cursor comes out from the window.<br><br>Edit:<br>Nevermind didn't notice virtual mouse position <br><br></td></tr></table><br>
<a name="1259837"></a>

<a name="1259838"></a>

<a name="1259840"></a>

<a name="1259841"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arska</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes! Finally i got it working, but even in example code of VirtualResolution i can't get it stretched and i have 2 black bars.<br><br>Edit: And it's not working with higher resolutions. How do i use SetOrigin with VirtualResolution?<br><br>Everything works fine in windowed mode and 1024x768 fullscreen if setorigin is VirtualWidth / 2 X VirtualHeight / 2, but my native 1366x768 is not working. (Everything is in wrong position and black bars over images and text) My native resolution works just fine in example (With black bars), but not in my project, so i think problem is setorigin. <br><br></td></tr></table><br>
<a name="1259842"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arska</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> 1366x768 resolution:<br><img src="http://s24.postimg.org/vi5ymrhbo/oop1_2015_02_22_15_58_13_33.jpg"> <br><br></td></tr></table><br>
<a name="1259843"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arska</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well... This is very random. Sometimes 1024x768 works and sometimes it won't... <br><br></td></tr></table><br>
<a name="1259847"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arska</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks like it's working now.. I was using those old functions... <br><br></td></tr></table><br>
<a name="1259848"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arska</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> One more thing! Looks like that virtual resolution stretches my images width. Any way to prevent this? Aspect ratio i think? <br><br></td></tr></table><br>
<a name="1259849"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> virtualGFX does not "stretch" in only one direction. It scales. So if you "stretch" then there is surely something in your code not the way it should be (relying on "GraphicsWidth()" instead of the value virtualGFX gives back)<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
