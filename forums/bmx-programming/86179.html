<!DOCTYPE html><html lang="en" ><head ><title >is blitzmax ever going to get a better threaded gc</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >is blitzmax ever going to get a better threaded gc</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >is blitzmax ever going to get a better threaded gc</a><br><br>
<a name="976250"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey,<br><br>Im not complaining here but I was just wondering what the plans are for the threaded gc... I want to expand my physics engine to make it threadable but right now when I run it in threaded mode the GC almost doubles the update time.  Also it would be nice (for optimization's sake) if there were commands to free each thread and mutex and run the regular gc on everything non threaded.  Im thinking about polishing the bmax version and switching this project over to c++ right now to continue working on it because it is getting faster but it will never be a whole lot faster without the use of threads without the annoying gc <br><br></td></tr></table><br>
<a name="976252"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_Skully</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> good things come to those who wait... read into that whatever <br><br></td></tr></table><br>
<a name="976269"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Consider yourself lucky.  My application runs at about 10% speed in threaded mode. <br><br></td></tr></table><br>
<a name="976280"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Interesting... my threaded bmk can build the official modules in half the time of the non-threaded version... <br><br></td></tr></table><br>
<a name="976329"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> my threaded bmk can build the official modules in half the time of the non-threaded version... <br> <br></div><br><br>hmmm... really? Maybe its not as heavy with the variables created as physics, hence less for the gc to keep track of.<br><br><div class="quote">  My application runs at about 10% speed in threaded mode. <br></div><br><br>hmm thats really slow... Maybe I should just convert it to c++ and continue from there instead? <br><br></td></tr></table><br>
<a name="976338"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tachyon</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why couldn't a future version of BlitzMax have the option to turn off GC, so we can handle clean-up manually? <br><br></td></tr></table><br>
<a name="976345"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >kfprimm</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Tachyon, it already has that feature. See GCSetMode(). <br><br></td></tr></table><br>
<a name="976372"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zethrax</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Personally, I think that the BlitzMax object system needs to take the whole object-oriented paradigm a few steps further, and copy the way things get done in the real world (also the way things work with the Blitz3D entity system).<br><br>In the real world, you tend to have a base object (a case, chassis, frame, etc) which has a hierarchy of sub-objects attached to it. The sub-objects all operate within the context of the master object, behaving as an object cluster, and communication with other object clusters is done via interfaces, signal passing, and other protected and co-ordinated means.<br><br>This is also the way that the Blitz3D entity system works. You have an unparented base object, with a hierarchy of child sub-objects parented to it; all operating in the same transformational context as the base object.<br><br>With the BlitzMax object system, you should be able to create a base object, and then create sub-objects and attach them into the same context as the base object to form an object cluster. Each object cluster should have its own thread and garbage collector, with communication between object clusters occurring via signal passing, interfaces, and/or similar protected and co-ordinated methods. No chance of threading conflicts occurring, as anything that could access a variable, etc, directly would be running in the same thread - as would the cluster's garbage collector.<br><br>Access to external resources, such as the filesystem, would probably need to be handled via a protected interface to prevent conflicts. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
