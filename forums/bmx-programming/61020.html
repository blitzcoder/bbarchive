<!DOCTYPE html><html lang="en" ><head ><title >TileMap question</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >TileMap question</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >TileMap question</a><br><br>
<a name="681233"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MarkSponge</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Whats the best way to do tile maps? <br><br>Is it using a .csv file with fields like x,y,z,GXF blah blah.<br>Or is there a better way?<br><br>Also would the MaxGUI be a good option for making a level editor?<br><br>Thanks in advance. <br><br></td></tr></table><br>
<a name="681256"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> MaxGUI is an excellent option for a level editor, so is Blitz+, but Max is the future anyway. If you don't require much functionality apart from  filling a 2d-array, you can have a functional editor within a day.<br><br>Simplest way is to fill a 2d array. This can either be a real array (easy) or a bank (less easy, since it requires some map-related functionality). As long as you keep in mind that a 2d map is just a 2d array then most of the thinkwork is already done. <br><br></td></tr></table><br>
<a name="681265"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MarkSponge</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks CS_TBL.<br><br>What is the best way of importing the map? What format is the map saved as? <br><br></td></tr></table><br>
<a name="681270"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Depends on your format. (I dunno any .csv format btw, since I make my own map-editors rather than using a ready-made tool)<br><br>A very simple format would be:<br><br>1 short for the width of the map<br>1 short for the height of the map<br>1 byte for the tiletype/tilesize (e..g 1 for byte, 2 for short, 4 for int)<br>and for the rest just raw mapdata..<br><br>This give you the opportunity to create simple single-layer maps with a maximum 65536*65536 dimension with byte, short or int tiles. Quite enough I think..<br><br>But you need to be a little bit more specific about what you require from a map, based on that you can define a format. <br><br></td></tr></table><br>
<a name="681302"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MarkSponge</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> .csv format (comma separated file) is basically a text file with one record on each line. Each field is separated by a comma.<br><br>What do you mean when you say "raw mapdata"? I think i'm more confused now then before. Do you have any code examples?<br><br>Thanks. <br><br></td></tr></table><br>
<a name="681305"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> ehm ehm ehm.. mm.. just for sure: are you an advanced user? average? beginner? Might have to adjust my explanation to that.. :P <br><br></td></tr></table><br>
<a name="681316"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MarkSponge</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have wrote a small game from scratch using BlitzMax so probably I'm of average ability. I have good programming knowledge as I am a programmer (C++, php, mysql ect... ) by day.<br><br>Just to check we are on the same wave length let me rephrase my question.<br><br>I want to make a hex based tile game which would support multiple levels (upstairs, downstairs, basement). I can do the code for drawing the map with off setting and pixel perfect hexagon selection.<br><br>The questions:<br>What is the best way to make and store maps?<br>Using the MaxGUI to make a map editor where would I start do you know of any tutorials? <br><br></td></tr></table><br>
<a name="681321"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Regular K</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Using the MaxGUI to make a map editor where would I start do you know of any tutorials?  <br></div><br><br><a href="http://blitzbasic.com/Community/posts.php?topic=54579" target="_blank">http://blitzbasic.com/Community/posts.php?topic=54579</a><br>This should do it. <br><br></td></tr></table><br>
<a name="681324"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah, hex tiles, you didn't mention that before. I don't have experience with those, only 2d, tho I think they're not much different as they can be stored like a 2d map, it's just that drawing odd maplines is a shifted, so the difference is mainly visually.<br><br>Anyway, here's a tut: <a href="http://www.blitzbasic.co.nz/Community/posts.php?topic=45336" target="_blank">http://www.blitzbasic.co.nz/Community/posts.php?topic=45336</a><br><br>How to store? I'd just do a binary format, basically what I described above but then with another header variable with the amount of layers (for your basements etc.)<br><br>E.G. you get a header to define the width of the map, the height of the map, amount of floors (256 floors enough I bet?) and the tiletype.<br><br>Then your file would look like:<br>[mwid][mhei][fl][ty][........................mapdata...............]<br><br>Where [____] is a short and [__] is a byte. The rest is mapdata, stored like map:short[x,y,floor] in case you choose the short tiletype.<br><br>Have a look at the bmax help for TStream, Writefile etc.<br><br>Actually I don't quite know how to explain things to a daily programmer as I don't quite have figured out <i>why</i> there are things you don't know. ^_^ <br><br></td></tr></table><br>
<a name="681433"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Defoc8</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> If your working with a custom map the easiest way to<br>handle this is to record the dimensions of the map in terms<br>of tiles - 10 tiles wide, 10 tiles high... after this dump the<br>tile index values one after another into the file...in this case<br>we have 100 index values to record (10x10).<br>The index value simply refers to a tile within a large image,<br>in the same way as drawimage(image,x,y,frame/index) <br>works.<br>Assuming you have loaded this data into bmax + want to<br>render it - for x=0 to 9<br>                 for y=0 to 9<br>                  drawimage(maptiles,x*32,y*32,map[x,y])<br><br>assuming the tiles within the image are 32x32..<br><br>blah blah...theres lots more you can do + other problems<br>to solve...but thats the basic idea..<br><br>er..this is what you wanted to know right? :/ :p <br><br></td></tr></table><br>
<a name="681852"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Scott Shaver</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> maxgui map editor with source<br><br><a href="http://www.scottshaver2000.com/forum/viewtopic.php?t=140" target="_blank">http://www.scottshaver2000.com/forum/viewtopic.php?t=140</a><br><br>and you'll need the map module from here<br><br><a href="http://www.scottshaver2000.com/blitz/bmaxmods/sas.mod.zip" target="_blank">http://www.scottshaver2000.com/blitz/bmaxmods/sas.mod.zip</a> <br><br></td></tr></table><br>
<a name="681863"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Smurftra</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm interested in pixel perfect hex detection :)<br><br>I treat mines as squares<br><br>I have a solution for pixel perfect that is simple but im not sure is good:<br><br>Have an image that represent the hex, have the 4 triangles painted colors 1 to 4 and the hex painted color 0<br><br>detect pixel position, and depending on the result, chose the right hex. i dunno how to really explain..<br><br><br>new try:<br><br>this is my picture:<br>____<br>|/  \| <br>|\  /|<br>''''''''''<br><br>i figure out where am i in the picture relative to screen/mouse cursor<br><br>so lets say i'm at 310x200 and my hexs are 30x30<br><br>x = 310 mod 30 = 10<br>y = 200 mod 30 = 20<br><br>so i look at pixel 10,20, and depending on color i know if im on the hex, or if i'm on one of the adjacent hex.<br><br>anyways, i havent used that as i figured it wasnt too appearant in my game (you dont see the mouse cursor) and using squares was fine.<br><br>but anyways, im interested in other solutions you have. Sorry to hijack thread. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
