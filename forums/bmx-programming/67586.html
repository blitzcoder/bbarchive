<!DOCTYPE html><html lang="en" ><head ><title >Memory Issues?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Memory Issues?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Memory Issues?</a><br><br>
<a name="754994"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sean Doherty</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I seem to be having memory issues that cause my game to slow down over time.  The GCMemalloced() command doesn't seem to be growing past 480K or so.  Normally the memory is between 300K and 480K (my machine has one Gig).<br><br>I'm not sure why the GCMemalloced() memory is so low?  Also, I'm pretty sure that thinks are not completley being cleared and the actuall memory is growing?  How can I find the leak?<br><br>Thanks <br><br></td></tr></table><br>
<a name="754996"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> What does Task Manager say your app is using? <br><br></td></tr></table><br>
<a name="755044"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sean Doherty</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> At the end of the first level:<br><br>GCMemallocaed() say 480K<br>Task Manager say 3200K<br><br>Restart the level:<br><br>GCMemallocaed(0 says 700K<br>Task Manager says 3700K <br><br></td></tr></table><br>
<a name="755047"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> How can I find the leak? <br></div>Look for cyclic references i.e. <pre class=code>Type A
  Field b:B
End Type

Type B
  Field a:A
End Type</pre> <br><br></td></tr></table><br>
<a name="755050"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sean Doherty</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have a lot of cyclic references and it is pretty hard to find all of them.  Is there a way to see more info on the memory that is allocated and lost.<br><br>Or anything I can do without spending hours and hours looking for issues? <br><br></td></tr></table><br>
<a name="755053"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Could you integrate or convert this <a href="http://www.flipcode.org/cgi-bin/fcarticles.cgi?show=64444" target="_blank">http://www.flipcode.org/cgi-bin/fcarticles.cgi?show=64444</a> ?<br><br>EDIT: Download link appears to be broken. I think this is the missing code.<br><br><a href="http://www.koders.com/cpp/fidF4248EED693AB98956E4AF0D594164BCCAB31406.aspx" target="_blank">http://www.koders.com/cpp/fidF4248EED693AB98956E4AF0D594164BCCAB31406.aspx</a> <br><br></td></tr></table><br>
<a name="755056"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could try <br> - <a href="/codearcs.php?code=1808" target="_blank"> this </a><br> - Using Superstrict (if you don't already)<br> - If it's GC not cleaning something up stick gcmemalloced() statements at the top and bottom of each function/method.<br> - If it's task mgr memory sticking lots of print/waitkey() statements to see at which point the memory increases.<br>Is the code postable? <br><br></td></tr></table><br>
<a name="755073"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I have a lot of cyclic references and it is pretty hard to find all of them. <br></div>Well there's your problem.<br><br><div class="quote"> Or anything I can do without spending hours and hours looking for issues? <br></div>Well maybe if someone had written a reverse engineering tool, that converted code into UML it would make it much easier to spot. As it is, I'm afraid you'll have to do it the old fashion way for now. <br><br></td></tr></table><br>
<a name="755081"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sean Doherty</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Anyone else? <br><br></td></tr></table><br>
<a name="755092"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well on the off chance that someone had already written such a tool, or knew of a similar general purpose tool that could be tweaked to work with BlitzMAX. <br><br></td></tr></table><br>
<a name="755103"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sean Doherty</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> @tonyg<br><br>I'm going to try your suggestion.  I'm having a bit of trouble upgrading to 1.24 at the moment.  Thanks for the helpful info.<br><br>@Gabriel,<br><br>To bad it hasn't been ported for Max.:( <br><br></td></tr></table><br>
<a name="755104"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sean Doherty</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Tonyg,<br><br>Do you happen to have complied versions of these modules for version 1.24:<br><br>indiepath.texturedpoly<br>indiepath.projmatrix <br><br>I'm trying to find them on the site, but all I can find is code.  I don't think I've ever complied a module before?<br><br>Thanks <br><br></td></tr></table><br>
<a name="755187"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> They're not my modules so you need to check IndiePath. Source can be found on his website, some changes will be required and, if you have a problem with compiling, post a topic. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
