<!DOCTYPE html><html lang="en" ><head ><title >code problem</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >code problem</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >code problem</a><br><br>
<a name="1145119"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >emperor42</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very new to blitz, just trying to make a set of objects appear horizonantally every 100 pixels, but it seems to have a problem with the p variable for some reason.<br><br><br><br><br>Strict<br><br>Const WIDTH=1280,HEIGHT=960<br>Const DEPTH=32,HERTZ=60<br><br>Incbin "lunar_surface.png"<br><br>Global tile:TImage = LoadImage("incbin::lunar_surface.png")<br><br>Global objectlist:TList = New TList<br><br>Type Ttile<br>	Field x#,y#<br><br>	 Method New ()<br>            If objectlist = Null<br>               objectlist = New TList<br>            EndIf<br>            objectlist.AddLast Self<br>     End Method<br><br>	Function Create:Ttile (x#, y#)<br>		Local p:Ttile = New Ttile<br>			p.x = x<br>			p.y = y<br>			objectlist.Addlast p<br>		Return p<br>	End Function <br><br>	Function makechunk ()<br>		Local n#<br>		Local x=0<br>		Local y=0<br>		For n=1  To 8<br>			x=x+100<br>			Ttile.Create (x,y)<br>		Next<br>	End Function<br><br>	Function drawtile ()<br>		For p:Ttile = EachIn objectlist	<br>			DrawImage tile,x,y<br>		Next<br>	End Function<br><br>End Type	<br>	<br>Graphics WIDTH,HEIGHT,DEPTH,HERTZ<br><br>Ttile.makechunk ()<br><br>While Not KeyHit( KEY_ESCAPE )<br><br>	Cls<br><br>	Ttile.drawtile ()<br><br>	Flip<br><br>Wend <br><br>End <br><br></td></tr></table><br>
<a name="1145123"></a>

<a name="1145124"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Muttley</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>Function drawtile ()
    For Local p:Ttile = EachIn objectlist	
        DrawImage tile,x,y
    Next
End Function
</pre><br><br>Try that.<br><br>You're not defining the variable before you're using it.<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1145126"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >emperor42</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks that seems to have worked and ive changed the drawtile () and makechunk () functions into methods, but now it cant recognise where ive called the Ttile.makechunk () method just before the main loop. <br><br></td></tr></table><br>
<a name="1145127"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's because methods have to be called on an object: calling it with the expression "Ttile.makechunk" isn't doing that at all, just looks like it (it's actually trying to retrieve the "makechunk" constant function field from the type itself, which would work <i>if</i> makechunk was a constant function belonging to the whole type). You can only access functions that way.<br><br>Unless the procedure needs to use the object's fields (the members of the type that exist once per-instance rather than once per-program), it should stay a function, rather than a method. Different tools for different tasks. <br><br></td></tr></table><br>
<a name="1145137"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Muttley</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> @emperor42: I think it might be helpful if you work through this excellent introduction to OOP in BlitzMax: <a href="http://www.alsbonsai.com/john/BlitzMax_OOP_Tutorial.pdf" target="_blank">http://www.alsbonsai.com/john/BlitzMax_OOP_Tutorial.pdf</a><br><br>It will clear up a lot of concepts for you hopefully. <br><br></td></tr></table><br>
<a name="1145151"></a>

<a name="1145263"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes, go through the tutorial and this should make more sense<br><br>I believe this is what you are looking for:<br>[bbcode]<br>Strict<br><br>Const WIDTH=1280,HEIGHT=960<br>Const DEPTH=32,HERTZ=60<br><br>Incbin "lunar_surface.png"<br><br>Global tile:TImage = LoadImage("incbin::lunar_surface.png")<br><br>Global objectlist:TList = New TList<br><br>Type Ttile<br>	Field x#,y#<br>	<br>	Method New ()<br>		If objectlist = Null<br>			objectlist = New TList<br>		EndIf<br>		objectlist.AddLast Self<br>	End Method<br>	<br>	Function Create:Ttile (x#, y#)<br>		Local p:Ttile = New Ttile<br>		p.x = x<br>		p.y = y<br>		objectlist.Addlast p<br>		Return p<br>	End Function <br>	<br>	Function MakeChunk ()<br>		Local n#<br>		Local x=0<br>		Local y=0<br>		For n=1 To 8<br>			x=x+100<br>			Ttile.Create (x,y)<br>		Next<br>	End Function<br>	<br>	Function DrawChunk ()    ' <br>		For local p:Ttile = EachIn objectlist	<br>			p.drawtile()<br>		Next<br>	<br>	End Function<br>	<br>	Method DrawTile ()   'use of method<br>		DrawImage tile,x,y<br>	End Method<br><br>End Type	<br><br>Graphics WIDTH,HEIGHT,DEPTH,HERTZ<br><br>Ttile.makechunk ()<br><br>While Not KeyHit( KEY_ESCAPE )<br><br>	Cls<br>	<br>	Ttile.DrawChunk ()<br>	<br>	Flip<br>	<br>Wend <br>	<br>End<br>[/bbcode]<br>although, personally, I don't think(like) the "MakeChunk" and "DrawChunk" belong in the class but I think that is a personal preference.<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1145185"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >emperor42</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> yeah thanks for the link ill look over it, as i said im very new to this so these tutorials are very useful. I tried running Jesse's code but it i says that the variable p is not identified. <br><br></td></tr></table><br>
<a name="1145264"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I didn't test it but it is supposed to be "For local p:Ttile". there might be some other minor errors as I were not able to test since I don't have the images. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
