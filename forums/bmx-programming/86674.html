<!DOCTYPE html><html lang="en" ><head ><title >BlitzMax 134 now available!</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >BlitzMax 134 now available!</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >BlitzMax 134 now available!</a><br><br>
<a name="982579"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>Please go to the product updates page of the Account section to grab BlitzMax134!<br><br>The main feature is a brand new threaded mode garbage collector, which should be faster and more stable than the old one. There are likely to be a few issues with the new GC, but I am ready and waiting to fix anything that pops up!<br><br>Versions.txt...<br><div class="quote"> <br>::::: IMPORTANT ::::: This will be the last release to support Win95/98/ME.<br><br>* Added SA_RESTART to sa_flags in blitz_thread.c to fix wait(pid) dying when GC stops world.<br><br>* Mac OS 10.6 tweaks.<br><br>* Removed BDWGC garbage collector entirely.<br><br>* Updated FASM to 1.68.<br><br>* Fixed debugger string escaping.<br><br>* Improved ToLower/ToUpper unicodeness.<br><br>* Changed default installation dir to C:\<br><br>* Tuned MS GC significantly.<br><br>* Added MouseX/Y/ZSpeed() functions to brl.polledinput.<br><br>* Fixed fasm2as bug.<br><br>* Linux/Macos mutexes now recursive as per Win32.<br><br>* Fixed Win32 RequestDir initial directory.<br><br>* Restored hwndOwner=GetActiveWindow() to RequestFile/RequestDir; <br><br>* Added MS (Mark Sibly) garbage collector!<br><br>* Fixed enet_peer_address - was using completely wrong struct offsets<br><br>* Fixed Linux StopTimer - was releasing timer multiple times<br><br>* Fixed OpenAL delete buffer leak<br> <br></div> <br><br></td></tr></table><br>
<a name="982582"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> cool. will download as soon I finish seting up my lenux system. <br><br></td></tr></table><br>
<a name="982584"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >teraku</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Mark for another great release.<br>Will 134 work on 64 bit linux distros? <br><br></td></tr></table><br>
<a name="982585"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> cool.<br><br><br>erm, somthing I dont understand here. BMax is crossplatform cos the assembler that makes the compiler is cross platform, right?<br><br>So is the loss of 95/98/me support cos FASM is going to abbandon 95/98/me?<br>Or is there some other tech reason that I dont need to understand (but would like to know)<br><br>Thanks <br><br></td></tr></table><br>
<a name="982587"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>&gt; Or is there some other tech reason that I dont need to understand (but would like to know)<br><br>It's mostly a unicode thing - latest versions of Blitz have had to provide 2 versions of lots of routines: one for win95/98, one for unicode. There's a 'unicows' dll around that helps with some of this, but by no means all. <br><br>Anyway, supporting both unicode AND non-unicode is becoming a bit of a headache, so we're making the leap to 'unicode only' windows. <br><br></td></tr></table><br>
<a name="982589"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool!<br><br>Noticed that the download link still has RC (rc7) in the name, does this mean that its not the final version of 1.34 or it really just 1.34.7?<br><br>Cheers! <br><br></td></tr></table><br>
<a name="982591"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tommo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow, a new GC!<br>That's quite a big improvement for a 0.01 version increment.<br>Rebuilding modules now, can't wait to try.<br>Thanks! <br><br></td></tr></table><br>
<a name="982593"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is the new GC used in both ST and MT modes?  I get these errors (in ST mode):<br>C:/BlitzMax/tmp/.bmx/untitled1.bmx.gui.release.mt.win32.x86.o: undefined reference to `bbGCEnter'<br><br>With DLLs we had to have a call to GCEnter() at the start of the function.  Does this still apply? <br><br></td></tr></table><br>
<a name="982601"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>The new GC is for multithreaded apps only.<br><br>Single threaded apps still use the old (slightly faster) reference counting GC.<br><br>[edit]<br>bbGCEnter/bbGCLeave got zapped during a gc related housekeeping session! They're just tiny, so I'll restore them in rc8. In the meantime, you can replace blitz.mod/blitz_gc.win32.x86.s with this:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
	;Note:
	;
	;The bbGCEnter/bbGCLeave stuff below is for the Win32 only dll hack.
	;
	;Need a much nicer way to manage dlls...
	;
	format	MS COFF

	public	_bbGCEnter
	public	_bbGCLeave
	public	_bbGCRootRegs
	
	extrn	_bbGCStackTop
	
	section	"code" code
	
_bbGCEnter:
	mov		[_bbGCStackTop],ebp
	ret
	
_bbGCLeave:
	mov		dword [_bbGCStackTop],0
	ret

	;0[esp]=ret
	;4[esp]=buf
_bbGCRootRegs:
	mov		eax,[esp+4]
	mov		[eax],ebx
	mov		[eax+4],esi
	mov		[eax+8],edi
	mov		[eax+12],ebp
	mov		eax,esp
	add		eax,8
	ret
</textarea><br><br>...or try this dodgy Max version...<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Strict

Extern
Global bbGCStackTop
End Extern

Function MyGCEnter() NoDebug
	Local t
	Local p:Int Ptr=Varptr t
	bbGCStackTop=p[1]
End Function

Function MyGCLeave() NoDebug
	bbGCStackTop=0
End Function
</textarea> <br><br></td></tr></table><br>
<a name="982611"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Panno</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> * Added MS (Mark Sibly) garbage collector!  ......  muhaaaaaa<br><br><br>thx for the update<br>mfg <br><br></td></tr></table><br>
<a name="982614"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Added MS (Mark Sibly) garbage collector! <br></div><br><br>Could there be any benefit for using this in single-threaded apps? (Either in a new version or compiling a ST app as a MT app?) <br><br></td></tr></table><br>
<a name="982616"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Could there be any benefit for using this in single-threaded apps? <br></div><br>Probably no benefit. And likely a small speed hit - due to the extra work it is doing low-level (but doesn't need to for a non-threaded app). <br><br></td></tr></table><br>
<a name="982620"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Could there be any benefit for using this in single-threaded apps?  <br></div>Yes, this new GC handles ciclic references. (but it's slower). I would say it's the ideal GC for desktop (not realtime like games) applications. If used on games, I supose it has to be used from the begining of the game coding, so the game is coded properly to benefit from nulti-thread speed gain (wich on several cores machines and a proper design) could take advantage of the GC in speed therms.<br><br>I'm not sure on a 2 cores machine this is worth it... haven't tested properly yet! <br><br></td></tr></table><br>
<a name="982622"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >siread</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> The new GC still isn't fast enough in my racing game. After simply re-compiling as a threaded app (and not creating any threads) the framerate steadily declines.<br><br>I've narrowed down the problem to the replay code. Basically a replay of the race is stored by adding replay data to a TList for each car.  As the lists get longer during the course of the race the GC gets slower and slower making the game unbearable after about 1 minute (40 updates per sec * 60 secs * 20 cars = 48,000 list items per minute. Each item contains 8 floats and 4 ints.)<br><br>Turn off the replay system and everything runs pretty smooth although not quite as smooth as unthreaded.<br><br>Despite that, cheers Mark! <br><br></td></tr></table><br>
<a name="982629"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_JIM</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> @siread: Probably not the fault of the GC. TLists are slow with that many items. Maybe you should alter the design a bit.<br><br>One example would be: Use arrays or banks and allocate memory for let's say... 32,000 items. If you get past that, double it. Then double again and so on. That way you have 5-6 allocs at most, and it should be fast enough. <br><br>You could also dump it to a file (good use for another thread) once every 10 seconds or so, while clearing the memory (good exercise for thread safety :) ).<br><br>I usually avoid TLists past 5000 items. Too slow even when just looping through them. <br><br></td></tr></table><br>
<a name="982630"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GW</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I agree with with _Jim 100%. If you use Tlists your trading convenience for speed. Anything beyond trivial Lists or lists that need to iterated every game loop, should be moved to arrays. I think slicing an array to add another 32k of elements will be faster than iterating a list of that size. <br><br></td></tr></table><br>
<a name="982631"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't think the issue is with iterating a TList - since all he needs to do is add to the end of a list, which should be just as fast regardless of the size.<br><br>The issue is most likely the very large number of "live" objects, which the GC is presumably checking if they should be GC'd or not?<br><br>That could be a flaw in the GC of course...<br><br>One can understand that 48,000 items + TLinks per minute is certainly going to put a load on it.<br><br>As Jim notes, perhaps streaming to a file instead of keeping it in memory, could save yourself a lot of headaches. <br><br></td></tr></table><br>
<a name="982632"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >siread</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, I only add to the lists during gameplay, then step through it when watching the replay. It's perfectly quick enough in non-thread mode, but it might be worth streaming it to a file. That would have the added bonus having replay recordings that could be stored and loaded at a later date or even shared between players. :) <br><br></td></tr></table><br>
<a name="982635"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> I doubt there will ever be such a thing as a fast garbage collector that handles circular references. <br><br></td></tr></table><br>
<a name="982637"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the update - why the change to the default installation folder, though?  Its been C:\Program Files\BlitzMax for ever, and now its C:\BlitzMax? <br><br></td></tr></table><br>
<a name="982640"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe something like GCDisable(o:Object) and GCEnable(o:Object) could be used to remove objects from the GC cycle?  Your example indicates that the number of objects contributes to the CPU usage, even if they are not being collected.  That would be safer than something that force-freed them.  GCDisable could remove objects from the global list or array or whatever is used, so the collector doesn't even have to cycle through them. <br><br></td></tr></table><br>
<a name="982641"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_JIM</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Could also use metadata for fields (or entire types) that you don't want checked by the GC.<br><br>It would also be nice to give the option of turning the GC completely off and doing your own data freeing. This should be the fastest of them all, right? (its true that it's not the easiest though) <br><br></td></tr></table><br>
<a name="982645"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_Skully</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Gfk,<br><br>Believe it or not that solves all the Vista problems.  UAC leaves it alone there.  Weird but true <br><br></td></tr></table><br>
<a name="982650"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> It would also be nice to give the option of turning the GC completely off and doing your own data freeing. <br></div><br>I thought you could already do this using <b>GCSetMode( 2 )</b>. <br><br></td></tr></table><br>
<a name="982651"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> GfK: Default behaviour under Vista and Windows 7 is that it won't let you write .exe's anywhere under c:\program files except when it's done by a 'proper' installer. That means that Blitzmax won't be allowed to create its files there either, which includes compiling the hep snippets and the likes.<br><br>While there are workarounds (disabling UAC, manually changing folder permissions, etc.) having the default setup break on most new users PC is obviously a bad idea... Installing outside of the c:\program files hierarchy fixes that problem. <br><br></td></tr></table><br>
<a name="982652"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_JIM</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> @SebHoll: I wasn't referring to that. It still uses the GC because you have to call GCCollect at some point.<br><br>I meant manually having to delete variables and allocated memory. Hm... maybe MemFree(VarPtr(variable)) works. <br><br></td></tr></table><br>
<a name="982656"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Default behaviour under Vista and Windows 7 is that it won't let you write .exe's anywhere under c:\program files except when it's done by a 'proper' installer... Installing outside of the c:\program files hierarchy fixes that problem. <br></div><br>What's wrong with BlitzMax creating the executables outside of Program Files instead? <br><br></td></tr></table><br>
<a name="982658"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Could also use metadata for fields (or entire types) that you don't want checked by the GC. <br></div>that sounds like an excellent idea! <br><br></td></tr></table><br>
<a name="982666"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> All those thousands of items being added to a linked list, that's a TONNE of objects even without threading. If you're going to be filling in storage for that amount of data, where all you're really doing is adding something onto the end/next slot, should be done with a memory bank or an array. You don't want/need thousands of memory allocations regardless of the garbage collector. <br><br></td></tr></table><br>
<a name="982671"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mahan</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>What's wrong with BlitzMax creating the executables outside of Program Files instead? <br> <br></div><br><br>Well, the standard is that .exe's are created where compiled. Lots of people just make a subdir to the normal BlitzMax dir and code away, so there you might have a problem.<br><br>I agree with BRL making this change so that the default install is as intuitive as possible for newcomers.<br><br>Nothing (AFAIK) stops you from still installing BlitzMax under C:\Program Files\ if you run XP and you want it that way, but the default install just tries to make everything as lean and as expected/predictable as possible. <br><br></td></tr></table><br>
<a name="982676"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> What's wrong with blitzMax creating the executables outside of Program Files instead? <br></div><br><br>It creates the .exe's in the same folder as the source file (necessary for dependencies such as DLL's you may need, media, etc.)<br><br>Also, since the samples live in a subfolder under the main blitzmax install folder, those would be affected as well.<br><br>either way, you can still manually select c:\program files\blitzmax if you wanted to, nothing is stopping you. <br><br></td></tr></table><br>
<a name="982691"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>&gt; As the lists get longer during the course of the race the GC gets slower and slower<br><br>Does it happen in BlitzMax 1.33 as well?<br><br>Simply using a maxed out float array if possible, eg...<br><br>Global replay#[MAX_REPLAY_LENGTH]<br><br>...should fix it, as array's of non-objects don't/shouldn't affect GC.<br><br>Not a very elegant fix though... <br><br></td></tr></table><br>
<a name="982711"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Well, the standard is that .exe's are created where compiled. Lots of people just make a subdir to the normal BlitzMax dir and code away, so there you might have a problem. <br></div><br><div class="quote"> It creates the .exe's in the same folder as the source file (necessary for dependencies such as DLL's you may need, media, etc.) <br></div><br>Yes, but putting your project files within the Program Files folder is not a good idea. For example a system restore could restore older versions of your project files if they're within Program Files.<br><br>It would be better to compile and run them from the Documents folder in Vista by default, like Visual Studio etc do. The demos could be made to compile and run from the Temp folder too (didn't Blitz3D do that?). <br><br></td></tr></table><br>
<a name="982718"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> It would be better to compile and run them from the Documents folder in Vista by default, like Visual Studio etc do <br></div><br><br>Personally I prefer the current way, of having everything self-contained within a single directory tree -- splitting it up across program files, documents, etc. it annoying, especially if you happen to be running blitzmax from a thumbdrive and use multiple PC's (in which case the documents folder would be on a different, non-portable drive) <br><br></td></tr></table><br>
<a name="982720"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> It would be better to compile and run them from the Documents folder in Vista by default, like Visual Studio etc do. The demos could be made to compile and run from the Temp folder too (didn't Blitz3D do that?). <br></div><br>I think a fairly major rewrite of BlitzMax was needed to be able to use the Documents folder in Vista.<br><br>Blitz3D has a subfolder called /tmp which it uses for compiling but it never used C:\temp, if that's what you meant. <br><br></td></tr></table><br>
<a name="982724"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> @xlsior: Ideally it would use the project folder wherever it is - including your thumbdrive, but not Program Files. Documents would be the default project folder instead of the BlitzMax folder.<br><br>@markcw: I meant C:\Windows\Temp, haven't seen C:\Temp for ages :)<br><br>I'm not bothered either way tbh as it's optional, I just think installing applications to the root of the hard drive is a bad idea. It's annoying enough with MinGW being picky about where its installed. <br><br></td></tr></table><br>
<a name="982738"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Space_guy</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> The new GC is alot better for my game engine than the old one. But i guess i use a few  tlists that i can recode to arrays to get it smoother as its still not as smooth as non threaded. :) <br><br></td></tr></table><br>
<a name="982763"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Blitz3D has a subfolder called /tmp which it uses for compiling <br></div><br><br>I suppose this is offtopic, but I always thought Blitz3D compiled directly into memory? (Unless you actually specified "create exe", that is) <br><br></td></tr></table><br>
<a name="982778"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am experiencing problems with a BlitzMax dll compiled with 1.34.  The nature of the problems indicate a random memory overwrite.  I experienced similar problems in earlier versions if GCEnter() was not the first line of an exposed DLL function.<br><br>I'm going to reinstall 1.33 and try to verify the BlitzMax version is the only difference.  If you know of any potential problems 1.34 might have created with DLLs please say so.<br><br>[edit]<br>Oh, I see your edit.  I got it working. <br><br></td></tr></table><br>
<a name="983016"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> @ Mark: FYI - <a href="/posts.php?topic=86712" target="_blank">makedocs bug + fix</a>. <br><br></td></tr></table><br>
<a name="983448"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Space_guy</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> Im just writing again since i tested this version more and did some tweaking to my code and it all goes so much better than it did before :) Great update! <br><br></td></tr></table><br>
<a name="983470"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >theHand</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I doubt there will ever be such a thing as a fast garbage collector that handles circular references. <br></div><br>I would have to agree with Leadwerks.  Circular references run through a GC will have it doing more work, and for nothing, if the circular reference is in use.<br>Does the Garbage Collector work by keeping a list of all the things that it has to go through?<br>How does GCSuspend/GCResume work, at the lower level?  Does it mark things to be skipped, or does it remove them from the GC loop (from the "list")? <br><br></td></tr></table><br>
<a name="983875"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Glenn Dodd</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> Build Modules option does not find any changes i have downloaded from Brucey from SVN.<br>I used to just click this option from the default MaxIDE after each SVN update.<br>Since installing BlitzMax 1.34 this hasn't shown any new items to build. I just tried the new MaxIDE 1.34 and there is no difference.<br><br>I installed the BMax to c:\BlitzMax134R7.<br>I haven't changed anything else.<br><br>The icon i run from the desktop points to the correct folder and i tried the icon in the folder too.<br><br>Any ideas? <br><br></td></tr></table><br>
<a name="983882"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Build Modules option does not find any changes i have downloaded from Brucey from SVN. <br></div><br>Just make sure that folders like bah.mod are in the right place of your new installation. <br>Which would be something like : c:\BlitzMax134R7\mod\bah.mod\... <br><br></td></tr></table><br>
<a name="983886"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Glenn Dodd</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> yup.<br>no problem with that.<br><br>I may have found the solution though.<br>I use TortoiseSVN and it is still updating the previous blitz install folder.<br><br>How do people normally "Copy or Move" the svn files to a new folder?<br><br>I guess i will just delete the old stuff and reconnect to SVN headers from the new install path, then "rebuild all" but that seems like the hard way to me. <br><br></td></tr></table><br>
<a name="983996"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the release.  Good to see the OpenAL fix in there officially too.  Very important for Vista users who are not using FreeAudio or DirectSound. <br><br></td></tr></table><br>
<a name="984646"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sokrates</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> shift it in the right forum - sorry <br><br></td></tr></table><br>
<a name="985310"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi<br><br>Thanks for this new release Mark :)<br><br>To resume it's not necessary important to update right away if you are not using thread ?<br>Because I will probably distribute a new version of my game soon.<br><br>Thanks <br><br></td></tr></table><br>
<a name="985319"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> It depends on your game -- while the threaded garbage collector is probably the most major change, there's also some other enhancements that may or may not affect your game, such as the OpenAL memory leak fix, better unicode support (=foreign characters in strings), some filerequester fixes, etc.<br><br>Depending on what your game is using, one or more of these may be significant to you. If not, then there is no real issue with continuing to use the previous release... <br><br></td></tr></table><br>
<a name="985358"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Xlsior, I'm thinking the same :) <br><br></td></tr></table><br>
<a name="989184"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Scienthsine</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#51">[#51]</a></td></tr></table></td></tr><tr ><td class="posttext"> Inline?<br>Was there some reason why we don't have inline functions? Surely it can't be that hard to implement? There are some times when you want the functionality of a function (lol), but inline because it's in a loop or something. I seem to spend alot of time programming something, then going back and manually inlining things in collision detection/response loops. Afterwords the code is much much uglier, but much faster due to not having the function overhead. <br><br></td></tr></table><br>
<a name="989200"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#52">[#52]</a></td></tr></table></td></tr><tr ><td class="posttext"> About the replay list thing, would strings make it any better? You can put the id/name of each command in a string along with any numerical parameters it needs.. <br><br></td></tr></table><br>
<a name="994514"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >The Caffeine Kid</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#53">[#53]</a></td></tr></table></td></tr><tr ><td class="posttext"> What version of OSX is required to run stuff produced with this? <br><br></td></tr></table><br>
<a name="994518"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jkrankie</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#54">[#54]</a></td></tr></table></td></tr><tr ><td class="posttext"> You need OS X 10.4.x to run the games.<br><br>Cheers<br>Charlie <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
