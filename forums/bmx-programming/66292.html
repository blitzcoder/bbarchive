<!DOCTYPE html><html lang="en" ><head ><title >External Shell Program</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >External Shell Program</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >External Shell Program</a><br><br>
<a name="740729"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MacSven</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>I wan't to use a external Program Application (MPlayer) with my Blitzmax Application. It is a Shell program under MacOS X. I used the program from Blitzmax forum to start a External program. This works great, but i think there is a different between Shell Appication and GUI Application. The MPlayer is a nice idea to build a HTPC Interface like iTheater or Centerstage.<br>Does anyone know how i can start it? <br><br></td></tr></table><br>
<a name="740746"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> CreateProcess<br><br>There is no difference if you use shell application or gui, beside the fact that the gui application NEEDS gui mode where the shell application can use the gui mode but does not depend on it. <br><br></td></tr></table><br>
<a name="740775"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >grable</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> And for ALL platforms.<br><br><b>system_</b> <br><br></td></tr></table><br>
<a name="740781"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TeaVirus</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's something I threw together a while ago:<br><br><a href="http://www.blitzmax.com/Community/posts.php?topic=55043" target="_blank">http://www.blitzmax.com/Community/posts.php?topic=55043</a><br><br>It works under Win32 and should for Linux without too much trouble. I'd like to get it up and running under OSX but wasn't able to find a proper command line version of MPLayer.  They all seemed to have a GUI tacked on. <br><br></td></tr></table><br>
<a name="740786"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MacSven</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I see you have the same problem TeaVirus. This version of mplayer have no gui.<br>Tested it, but nothing works. MPlayer Start and after a few seconds of playing , it freez. In the Shell typing this, and it plays the movie till the end, also m4a and mp3 <br>Is it a problem while mplayer returns this:<br><br><br>./mplayer s02e52-2.avi<br><br>MPlayer dev-SVN-r21482-4.0.1 (C) 2000-2006 MPlayer Team<br>AltiVec found<br>CPU: PowerPC<br><br>Playing s02e52-2.avi.<br>AVI file format detected.<br>VIDEO:  [DX50]  384x288  24bpp  25.000 fps  437.2 kbps (53.4 kbyte/s)<br>==========================================================================<br>Opening video decoder: [ffmpeg] FFmpeg's libavcodec codec family<br>Selected video codec: [ffodivx] vfm: ffmpeg (FFmpeg MPEG-4)<br>==========================================================================<br>==========================================================================<br>Opening audio decoder: [mp3lib] MPEG layer-2, layer-3<br>mpg123: Can't rewind stream by 239 bits!<br>AUDIO: 48000 Hz, 2 ch, s16be, 128.0 kbit/8.33% (ratio: 16000-&gt;192000)<br>Selected audio codec: [mp3] afm: mp3lib (mp3lib MPEG layer-2, layer-3)<br>==========================================================================<br>AO: [macosx] 48000Hz 2ch s16be (2 bytes per sample)<br>Starting playback...<br>VDec: vo config request - 384 x 288 (preferred colorspace: Planar YV12)<br>Could not find matching colorspace - retrying with -vf scale...<br>Opening video filter: [scale]<br>VDec: using Planar YV12 as output csp (no 0)<br>Movie-Aspect is 1.33:1 - prescaling to correct movie aspect.<br>SwScaler: using unscaled yuv420p -&gt; yuyv422 special converter<br>VO: [macosx] 384x288 =&gt; 384x288 Packed YUY2 <br>New_Face failed. Maybe the font path is wrong. 1 ??% ??% ??,?% 0 0 <br>Please supply the text font file (~/.mplayer/subfont.ttf).<br>subtitle font: load_sub_face failed.<br>A: 201.3 V: 201.3 A-V: -0.003 ct:  0.067 5033/5033  8%  7%  4.2% 12 0 <br><br></td></tr></table><br>
<a name="740814"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MacSven</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Find out Something:<br><br>If i use CreateProcess MPlayer Crash after a few seconds. <br><br>If i use this:<br><br>system_ "open ./mplayer file.mp3" <br>it open a shell and iTunes is loading and plays the musik<br><br>If i use this:<br><br>system_ "./mplayer file.mp3" it play the musik to end<br><br>If i use this:<br><br>system_ "./mplayer &gt;logfile.txt file.mp3" the shelloutput is written to logfile.txt and it play the musik to end<br><br><br>but i can't use my BlitzMax program. I have to wait for mplayer is finish the playback. The same on Video files. <br><br></td></tr></table><br>
<a name="740997"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> CreateProcess is the only way to have your app running further while the other one is running. (ok, in some cases openurl works as well)<br><br>There is theoretically no reason that it should crash unless you did not assign the process to a variable which is saved in your app and kept alive (otherwise the process is killed by the garbage collector naturally)<br><br><b> EDIT </b><br>Just to add something to your crash problem: Did you change the directory before executing MPlayer and the like?<br>Because if you didn't, the player might try to look for its needed files in the directory of your application, which logically will fail. (thats what I assume due to the missing font error) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
