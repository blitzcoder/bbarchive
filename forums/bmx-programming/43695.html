<!DOCTYPE html><html lang="en" ><head ><title >Loading DDS Textures</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Loading DDS Textures</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Loading DDS Textures</a><br><br>
<a name="487761"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi all. I've written a mod to load in dds textures. It won't load any flash dds cubemap textures or dds volume textures, just standard DXT1,DXT3 and DXT5 compressed mipmapped dds images. It won't load textures generated from DirectX Texture Tool - An internal parameter in the file descriptor always seems to be 0 !! Although you can always use this one :- <a href="http://mirror.ati.com/developer/TheCompressonator.exe" target="_blank">http://mirror.ati.com/developer/TheCompressonator.exe</a><br><br>Unfortunately I've nowhere to web host, so if some kind person wouldn't mind hosting the files that'd be excellent.<br><br>The command is as simple as<br><br>Texture:Int = DDSLoadTexture("Test.dds")<br><br>and you get a 2D mipmapped texture to use as you would normally use a texture.<br><br>Cheers <br><br></td></tr></table><br>
<a name="487858"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I can host for you.  E-mail me. <br><br></td></tr></table><br>
<a name="487902"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Clyde</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> What's a DDs Texture? <br><br></td></tr></table><br>
<a name="487921"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdrianT</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> does this work on mac too? if so your DA man :)<br><br>Been trying to get DDS support in trinity, only Ant wanted it cross platform and so he had automatic S3TC conversion when loaded into the game. Naturaly this isn't as good as being able to edit your own and use DDS in 3dsmax, Photoshop and winXP via the free plugin on the Nvidia developer site<br><br>I'll host your file for you at least for a month or so if you like? <br><br></td></tr></table><br>
<a name="487929"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdrianT</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh Thumbs, its a compressed texture that saves up to 6x the Vram as a regular Bitmap. There's max, maya, photoshop and XP plugins at:<br><br><a href="http://developer.nvidia.com/object/nv_texture_tools.html" target="_blank">http://developer.nvidia.com/object/nv_texture_tools.html</a><br><br>unless thats the texture tool col said didn't work? <br><br></td></tr></table><br>
<a name="487992"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Evak, I assume you have a mac?? The DDS texture is primarily a Direct3D texture format and the function actually uses DirectDraw (2d) structures to 'get at' the file/texture format. The only way to know if it works is try it :) These should already be compiled into the code.<br><br>@Beaker, I've mailed them to you. Thanks a bunch.<br><br>@all<br>I can't remember if I had to install a dll to get it working coz I tried so many different ways you wouldn't believe it. Any probs, let me know.<br><br>Regards <br><br></td></tr></table><br>
<a name="488035"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Beaker has kindly hosted the file at www.playerfactory.co.uk/dds.zip    . So a big THANKS go out to you for this.<br><br>There are 2 folders in the archive. You need to simply copy the nrg.mod folder into your Blitzmaxcore103\mod folder ( so it is in the same folder as BRL.mod and Pub.mod ). The other folder has a program to show you how to use the function. Don't forget if you use it in your code you will need to use:<br><br>Import nrg.dds<br><br>somewhere near the top of your code.<br><br>I'm working on the volume texture and cubemapped support, so I'll update this when finished. <br><br></td></tr></table><br>
<a name="488047"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdrianT</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great work Colonel :) <br><br></td></tr></table><br>
<a name="488110"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Evak. Glad it works for mac also. Now I know how to code so Bmax will produce 'cross platform code'. Sorry for my ignorance, but whats Trinity? <br><br></td></tr></table><br>
<a name="488122"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdrianT</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> er, I don't have a mac lol, didn't mean to misslead you. Trinity is antonys bmax 3d engine module.<br><br>hopefully the DDS thing will work on the mac, I guess we will have to wait for someone with a mac to try it out. I'd imagine theres a fair chance it will so long as you have an ATI or Nvidia card. <br><br></td></tr></table><br>
<a name="489221"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> How hard would it be to convert this loader to .bb code?  A lot of people could use this. <br><br></td></tr></table><br>
<a name="489322"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does Blitz3d support dds textures already??. I thought I saw some of 'swifts' code loading in .dds files?? could be wrong tho?<br><br>The whole of the code is written in c++ including generating the opengl texture, then the texture memory address is return into BlitzMax, and, well, as BMax uses opengl, it all comes together rather nicely ;)<br><br>I will try do it next. Just having some time-out to code a demo effect in B3D.<br><br>Regards <br><br></td></tr></table><br>
<a name="489337"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Col:<br>Blitz does not load DDS textures, and I have never written any code to.  <br><br>There is however, a code archive snippet, that links to a Blitzcoder page, which has a library, which accesses an open source DLL called freeimage, which will load DDS files.<br><br>But that's only useful if you want to use DLL's to do it.<br><br>The DDS format in my opinion is rather useless for loading into Blitz.  Why would you want to?  I might, so I can allow people to EDIT them.  But to load them for textures?<br><br>DDS can only compress images 6x, and it introduces blocky artifacts into the image.  Jpeg compresses things as much as 50x, with fewer artifacts.<br><br>The only reason to use DDS is if you're going to use DDS compressed textures on the video card, and A) I'm not sure OpenGL even supports DDS textures, and B) If you're going to upload a DDS texture to the video card, wouldn't that just involve loading the raw data and sending it to the card as is? <br><br></td></tr></table><br>
<a name="489352"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tom</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I covered this when messing with a DX7 DLL. Bottom line is, we have no way to 'properly' return a DX7 surface pointer to Blitz3D because a B3D texture handle is a pointer to a custom struct.<br><br>What I did, was to cheat. I made my own DX7 surface from the DDS file, and set the surface pointer of an existing B3D texture to point to the new surface. (nasty!)<br><br>I do the same thing to make a renderable texture, they both work, but I honestly wouldn't reccommend using that method, it's just too hacky.<br><br>GL does support DDS, under a different naming convention I think (S3TC?), can't remember offhand. As for compression sswift......the DDS textures I loaded into B3D looked ok considering (depending on which mode DXT1 &amp; 3 were ok iirc). No where near as bad as you make them out to be though :)<br><br><br>Tom <br><br></td></tr></table><br>
<a name="489365"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> I want to provide DDS support in CShop so DarkBasic users can view them.  There are also a lot of good DDS textures out there to play with in FPSCreator and Doom 3.<br><br>I'm not looking for a way to support DDS compressed textures in OpenGL, I just want to load the file format as a regular texture.<br><br>BTW, it is extremely easy to implement compressed textures in gl. <br><br></td></tr></table><br>
<a name="489623"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's not exactly hard. Depends on your experience as a programmer whether its difficult or not. The DDS texture is laid out as a compressed image and any mipmaps are also compressed after the next, so you just have to pay attention to the file.  And you will need access to the texture in memory to implement it.<br><br>@swift.<br>I thought I saw a piece of code that had a filename with .dds extension. It was some code to do environment mapping or a similar effect. Never mind, you say it wasn't you.<br><br>@everyone<br>Take a look here for a better explaination of the conversion process:<br><a href="http://developer.nvidia.com/attach/6585" target="_blank">http://developer.nvidia.com/attach/6585</a><br><br>Regards <br><br></td></tr></table><br>
<a name="882947"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does anyone still have this?  I would like to load DDS files directly without using any external libs or passing them to VRAM. <br><br></td></tr></table><br>
<a name="1053055"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SLotman</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> I know this is reaaally old, but if anyone has this available, I would love to see it working :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
