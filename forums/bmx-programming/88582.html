<!DOCTYPE html><html lang="en" ><head ><title >Client/server networking library</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Client/server networking library</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Client/server networking library</a><br><br>
<a name="1005908"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I posted the networking library and chat program I have been working on here:<br><a href="http://blitzmax.com/codearcs/codearcs.php?code=2639" target="_blank">http://blitzmax.com/codearcs/codearcs.php?code=2639</a><br><br>It actually handles quite a bit.  I am very pleased with how this turned out. <br><br></td></tr></table><br>
<a name="1005930"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> This looks quite useful actually, well done, and thanks for sharing. Does it deal with the `behind a router` problems that many people talk about? <br><br></td></tr></table><br>
<a name="1005931"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> As far as I see not.<br>But thats also kind of enet normal, as ENet has no NATPunchthrough and connection tester capabilities to host corresponding servers to offer that for your game. <br><br></td></tr></table><br>
<a name="1005933"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I found out even raknet handles NAT punch through with a third-party lib.  Maybe someone can modify this to do something like that?  I'll keep posting the code until I get to the point where it becomes too specific to my engine. <br><br></td></tr></table><br>
<a name="1005978"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Digital Anime</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very nice of you sharing this code. And I'm looking forward to see this in your engine someday. :-) <br><br></td></tr></table><br>
<a name="1005984"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mahan</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you guys talking about this: <a href="http://en.wikipedia.org/wiki/UDP_hole_punching?" target="_blank">http://en.wikipedia.org/wiki/UDP_hole_punching?</a><br><br>I've successfully used ENet for this type of connections from within a NAT.<br><br>What I have tested is this: <br><br>1.) Client behind NAT on my 3G connection.<br>2.) My router on my normal broadband connection configured to redirect UDP-packets sent to a certain port to the computer where the server runs.<br>3.) The client and the server thus on completely separate internet connections where the 3G doesn't even have a public address.<br><br>Naturally the client has to initiate the connection to the server to do the initial UDP hole punching.<br><br>This works absolutely perfect with an ENet connection.<br><br>I hope I talk about the same thing as you do.<br><br>edit: clarification <br><br></td></tr></table><br>
<a name="1071138"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oddball</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry to drag up this old thread, but Mahan do you have any example code of NAT punch through using ENet that you'd care to share? I'm trying to do exactly that at the moment but can't find any example code anywhere. Googling just brings up examples of people saying it's possible followed by vague descriptions of how to do it. <br><br></td></tr></table><br>
<a name="1072603"></a>

<a name="1072604"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mahan</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's been a while so if what I say sounds uninformed it might be that I'm getting old and senile :)<br><br>Anyways from what I remember (also read the wikipedia article):<br><br>NAT hole punching is a pure NAT/Masquerade trick.<br><br>UDP over IP is simple sending of datagrams, right?<br><br>When the first datagram is sent from the client and arrives at the server its got info about sender (clients) IP and PORT.<br><br>Almost all firewalls today support hole punching which simply means that if the server sends a datagram back to the sender IP <u>and to the same PORT</u> the firewall relays this package to the client computer (behind it's firewall).<br><br>This is nothing you should need to worry about if you use ENET.<br><br>I'm sorry I don't have any sample code available but in the BMX forum i posted about MagNet once (my own "overlay" on top of GNet in BMX which in turn is an "overlay" to BMX ENET.)<br><br><a href="http://blitzmax.com/Community/posts.php?topic=81799" target="_blank">http://blitzmax.com/Community/posts.php?topic=81799</a><br><br>I got this to run through my firewall at the time without any forwarding configuration on my part. I also got it to run from my 3G through Internet to my normal home cable connection (where the server was located).<br><br>(The thing is that my 3G didn't provide any external IP-address but rather a 10.X.X.X internal address from my 3G-ISP.)<br><br>Based on this I'd assume ENET works with hole punching.<br><br>edit:spelling<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
