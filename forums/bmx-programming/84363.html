<!DOCTYPE html><html lang="en" ><head ><title >Proper structure</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Proper structure</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Proper structure</a><br><br>
<a name="953109"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> ..hi guys..im sort of new to Bmax (have it some time), and im getting to be step by step familiar with it..however, Im experiencing some 'problems' with structure i wanna build...actually, I did it and it works , but its 'looking' ugly since i still end up with sort of mixed OO and procedural way of doing it what i dont like and i wanna really get it all on proper OO way..so here it is..structure should look like as it is on shown pic..its representing skeleton of my behaviour structure for characters, so i just set it up at level loading and in runtime its updating on its own..so, each behaviour should trigger next behaviour in chain once it reach given condition true, and disable itself from update. So in main loop will be executed only one with flag true, and each behaviour should have self condition for enable disable. So it is always executed first loaded(set) behaviour then second after first trigger it, then third after second trigger it and so on, long as upon loading it has flag for execution enables (so it means at same time it may be situation that 2 or 3 or any number of behaviours may be executed at once..but point is that once they are trigered they will change state of the next one to them)..each behaviour should also have optional flag for deleting from Logic structure, once its executed and triggered next one in chain..so, for example, I would like to have such structure before main loop /setting it up/<br>'NPC1 set<br>Player1.Behaviour.Patrol(eventual parameters here for setting it up )<br>Player1.Behaviour.Talk_To(eventual parameters)<br>Player2.Behaviour.Go_To(target or anything else)<br><br>'NPC2 set<br>Player2.Behaviour.Idle(eventual parameters )<br>Player2.Behaviour.Dance(eventual parameters)<br>Player2.Behaviour.jump(eventual parameters)<br><br>so after everything is loaded , in main loop will be simply Update call and everything will be executed one by one, depending how triggering each other..<br><br>How should look like such structure??<br><br><img src="http://img27.imageshack.us/img27/3023/logick.jpg"> <br><br></td></tr></table><br>
<a name="953117"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chris</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you the same Naughty Alien using leadwerks?<br><br>If so in a few days I going to be posting a load of statemachine code which might be of use to you. <br><br></td></tr></table><br>
<a name="953123"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> ..yes its me..i have done this thing but i hate it because of procedural parts i did so its not all nice and properly structured..can you give me more details about statemachine code you refering to...a bit more description about its features, if you dont mind? <br><br></td></tr></table><br>
<a name="953154"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I may not be a good candidate to explain this as I am still going through the process of learning how to structure myself. As a basic example look at the pocket asteroids game by James brown here:<br><a href="http://www.blitzmax.com/Community/posts.php?topic=84272" target="_blank">http://www.blitzmax.com/Community/posts.php?topic=84272</a><br>he structured it in a way that made adding and adopting code simple and efficient.<br>I don't know how good it really is but it gave me a good idea on how to structure my code.<br>I also read a good post by AlexO a while back in this thread: <br><a href="http://www.blitzmax.com/Community/posts.php?topic=81626#919932" target="_blank">http://www.blitzmax.com/Community/posts.php?topic=81626#919932</a><br>I have not implemented as I have to adopt to this method and as you know, all habits are hard to break. <br><br></td></tr></table><br>
<a name="953155"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chris</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's simlair to what you mentioned/wanted in the top post.<br><br>I'll be posting all my code on the leadwerks forum in a few days/week.<br><br>It will have a NPC statemachine in. States as objects.<br>Idle, attack, die, walk to attack etc. <br><br>Pathfinding.<br>Navmesh.<br><br>It's still all WIP but you might find it useful, can't hurt as it's all free.. <br><br></td></tr></table><br>
<a name="953156"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> ..I see..thanks Chris...do you mind to eventually email me when you are done with it and ready to release, im really interested to see it/implement it , but im not much checking forums recently because im really busy with loads of things regarding my game (tuning up all animations/converting them in to one timeline sequence/cutscene creation)..im sorry if im bothering you but Ill really appreciate small notice about it..I hope you will comment code so I can eventually add stuff I need(states)...thanks a lot..with your stuff and modified Gillisie's animation system i modified for my cutscene management, my framework will be pretty much done.. <br><br></td></tr></table><br>
<a name="953157"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Jesse<br>Thanks buddy..you are right...old habbits are really a problem but im slowly getting rid of it..how much I loved B3D , now I dont like since habbits of forming structure there causing some difficulties when you wanna tune up things purely on OO..but im almost there.. <br><br></td></tr></table><br>
<a name="953177"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I usually just do something like this:<br><br>TAI<br><br>Field state:int<br><br>Method Update()<br>Select state<br>Case AISTATE_SLEEP<br>'Do stuff<br>Case AISTATE_EAT<br>'Do stuff<br>If IsSleepy()<br>state=AISTATE_SLEEP<br>Return<br>Endif<br>Case AISTATE_GOTOTHESTORE<br>'Do stuff<br>EndSelect<br>EndMethod <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
