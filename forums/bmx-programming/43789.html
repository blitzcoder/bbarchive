<!DOCTYPE html><html lang="en" ><head ><title >argb help</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >argb help</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >argb help</a><br><br>
<a name="488752"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rdodson41</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have 3 byte variables containing my R G and B values for a pixel, how do I put them together to form a 4 byte argb value? <br><br></td></tr></table><br>
<a name="488766"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Magic!<br><br>RGB = (R Shl 16) Or (G Shl 8) Or B <br><br></td></tr></table><br>
<a name="488770"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rdodson41</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ha thanks! Some of this stuff does work like magic! But is there anyway to do the reverse as well? Take an argb value and find the rgb values from it? <br><br></td></tr></table><br>
<a name="488781"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nope!<br><br><br>No wait, I mean...<br><br><br>Yes!<br><pre class=code>
R = (RGB Shr 16) And 255 
G = (RGB Shr 8 ) And 255
B = (RGB       ) And 255
</pre><br><br><br>The way the first one works is it moves the green byte over to the left by 8 bits, and the red byte over to the left by 16 bits, and adds all three together.  This produces an integer which has four bytes in it, ARGB.<br><br>The way the second one works is it rotates the red byte over to the right by 16 bits, which puts it in the first byte position, and then 255 is used to mask it to get rid of any bits that might be in the first byte of the integer which contains the alpha byte.  255, when stored in a longint is 00000000 00000000 00000000 11111111 in binary.<br><br>If R is in the second byte... and the alpha byte is 255..,<br>11111111 00001111 00000000 00000000<br><br>And we rotate the int 16 bits to the right...<br>00000000 00000000 11111111 00001111<br><br>Then if we AND the integer with 255, leaving only those bits on which are in 255 AND the integer...<br><br>00000000 00000000 11111111 00001111<br>AND<br>00000000 00000000 00000000 11111111<br>=<br>00000000 00000000 00000000 00001111<br><br>Then as you can see, the final number is the byte that represents the R value. <br><br></td></tr></table><br>
<a name="488787"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rdodson41</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay thanks sswift <br><br></td></tr></table><br>
<a name="488793"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Clyde</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Also use Shl / Shr 24 for the Aplha value. <br><br></td></tr></table><br>
<a name="488795"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rdodson41</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah but I havent been using it.<br>[200th post!] <br><br></td></tr></table><br>
<a name="488796"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Clyde</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> On some occasions when using WritePixel you'll notice you wont see anything, so you may want to include the alpha if this happens; I usually set the alpha to 255 (seems to work). Converting to a different TPixmap format may cut this out from being needed. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
