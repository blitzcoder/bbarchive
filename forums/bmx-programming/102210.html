<!DOCTYPE html><html lang="en" ><head ><title >Catching memory access violation</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Catching memory access violation</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Catching memory access violation</a><br><br>
<a name="1219468"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hardcoal</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Any way to catch a memory access violation<br>when app is running and encounters with a null object for example<br>I want to send it to a 'crises Rooting section' <br><br>In other words, when an application crashes I want to be able to send<br>the process to a save section so i can recover from the crash later.<br>Like Saving map in an editor. <br><br></td></tr></table><br>
<a name="1219472"></a>

<a name="1219473"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hiya, Hardcoal,<br><br>have you looked at the<br><br>Try<br>Catch<br>EndTry<br><br>Would that fit in with what you want to do? <br><br></td></tr></table><br>
<a name="1219477"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hardcoal</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks but what im looking for is a process you declare on the main of your project like interrupt. <br><br></td></tr></table><br>
<a name="1219488"></a>

<a name="1219489"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> There are a couple of things here that spring to mind...<br><br>How come you want to handle a memory access violation via exception handling ? This is kind of pointing to 'incomplete' error checking code. Your code should be written in such a way so that exception doesn't get raised in the first place.<br><br>I'm trying to think of a scenario ( as a programmer ) where you would want to handle an memory access violation via an exception handler and I'm coming up blank. Exceptions are a 'last resort' method which are at the OS level but raised by the hardware. Exceptions should be thought of as 'something serious has gone wrong with your code' safety net and your code should really be written in such a way to make sure the exception doesnt happen in the first place. Think of an exception is a safe guard for the system, not for your code. For eg if you try to access an invalid memory address or do a divide by zero, these kind of errors should be checked and handled via your code, not via an exception. Of course exception handling via code does have its place - most definately - but I'm thinking maybe you're handling the symptom ( the exception is raised )  instead of handling the fault - check and handle errors via code?<br><br>Whats the bigger picture of what/how you want to do it that way? maybe we could throw some alternative ideas into the mix.<br><br>EDIT:- maybe you're writing a debugger for other code? <br><br></td></tr></table><br>
<a name="1219491"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Isn't "memory access violation" like a null pointer exception?<br>Surely at the point you've tried to access memory outside of your application scope, any actions by your program after that are undefined?<br><br>Exception != MAV<br><br>If you have MAVs then you need to fix your program. <br><br></td></tr></table><br>
<a name="1219492"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hiya Brucey,<br><br>Yeah thats correct, even worse if somehow the instruction pointer itself is causing the mav.<br><br><br>There are more than likely language implementations and possibly some os level tricks/techniques that you can use to handle it via an exception, but usually its just not... the done thing, and these things are normally 'prevented' rather than 'handled'. <br><br></td></tr></table><br>
<a name="1219498"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hardcoal</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok guys. Got the point.<br>I guess i didnt know how sever mav's are, and what exactly they mean.<br>Offcourse im doing all i can to prevent them.<br>Although its almost impossible to have a 100% bugless<br>App.<br><br>But.. When im running compile in debug mode<br>How come the error is catched by blide and reported?<br>Doesnt that means that a side process is catching it?<br>How does some  applications recovers from a crash.<br>After all, I didnt invent this case... <br>So its not so weird to ask such a question after all.<br>Maybe they use a flag in the app to alert that it wasnt closed properly.. <br><br></td></tr></table><br>
<a name="1219523"></a>

<a name="1219527"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Although its almost impossible to have a 100% bugless<br>App. <br></div><br><br>You can create 100% bugfree code - at least in the sense that you can handle all errors should any occur. Its not as difficult as you may think, however it requires careful and correct planning and handling.<br><br>Without going into too much details - Exceptions are generally dealt with and raised in the language implementation and your own code, failing that then the cpu/OS will raise an exception - if it notices the error of course.<br><br>In debug mode BRL have implemented some checks that will raise an exception if something obvious is wrong with your code during runtime ( array bounds, null pointers etc ). These checks are created in the assembly output of the compiler and any failures are implemented and handled via 'Max and some C ( the Blitz runtime ). If you want the same functionality within a release build then you would simply do the same checks yourself ( in 'Max obviously as opposed to assembly ) and Throw an exception that you could Catch and handle yourself. ie - checking for null pointers and/or checking for a zero value numerator variable within the code that is called within the Try/Catch - any failures or invalid values and you use Throw. Failing that if you dont do the checks and fail to handle invalid values correctly then you will get undefined behaviour - of which at the very best outcome is the cpu and OS will handle the error ( usually with a popup window ) the worse case is anyones guess as literally anything can and will happen!<br><br>ADDED- You don't have to use exceptions to handle incorrect pointers, array indices out of range etc, you can write code to react according to the invalid variable/data, the important part is that you handle it - it doesn't matter how. <br><br></td></tr></table><br>
<a name="1219526"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Maybe they use a flag in the app to alert that it wasnt closed properly..<br> <br></div><br><br>You can handle that by using a file - it doesnt even need to contain anything - just needs to exist. For eg.. when the app is started check if the file exists, if not then the app was closed normally - so create the file and proceed as normal. When the app is closed properly then delete the file. Ultimately - should the file exist any time the app is started then the app wasnt closed properly. <br><br></td></tr></table><br>
<a name="1219529"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> As highlighted in this other thread: <a href="http://www.blitzbasic.com/Community/posts.php?topic=101539#1206478" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=101539#1206478</a><br><br>...in release mode, BlitzMax doesn't behave in a predictable fashion at all when things go wrong with memory accesses. You can only really rely on exceptions that were thrown by the Throw statement to exist.<br><br>Exceptions aren't the same thing as errors. An error is a problem with the program's design, and needs to be fixed by changing the program itself. An exception is just an unusual situation possibly reflecting e.g. a problem with input data, that the program/procedure can recognise and hand off to someone else. (Oversimplified: whole books and theses have been written about this.)<br><br><br><div class="quote"> You can create 100% bugfree code - at least in the sense that you can handle all errors should any occur. <br></div><br><br>Worth pointing out that in a HM-typed language, errors simply don't occur at runtime: the compiler can prove it. Of course this is not the same as saying the program was designed correctly in the first place or actually does the right thing. <br><br></td></tr></table><br>
<a name="1219539"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hardcoal</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> When you have a really large complex project even large companies cant get to 100% bugless so easy.<br>But i will sure strive to reach pretty close.<br>Either way i will perfect my code to near perfection slowly i believe.<br>I was just looking for a safe net <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
