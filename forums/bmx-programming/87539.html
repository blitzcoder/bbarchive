<!DOCTYPE html><html lang="en" ><head ><title >Objects as parameters in functions..</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Objects as parameters in functions..</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Objects as parameters in functions..</a><br><br>
<a name="992425"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK I know why this doesn't work now, as intended. (I'm too mentally exhausted to explain it myself) But not until after MANY hours of hair ripping and keyboard smashing anger. So could anyone tell me a different way to do what I'm trying to? (This is just example code, I need to do stuff with the link before I progress to the next one, and want to put the change in the function so I don't "forget" it in the main code)<br><br><pre class=code>Local list:TList = New TList
list.AddLast("1")
list.AddLast("2")
list.AddLast("3")

Local link:TLink = list.FirstLink()

For Local i = 0 Until 3
	Print String(link.Value())
	NextLink link
Next

Function NextLink(link:TLink)
	link = link.NextLink()
End Function</pre><br>Desired output: 1 2 3<br>Actual output: 1 1 1 <br><br></td></tr></table><br>
<a name="992427"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You would need to return the adjusted link from the NextLink function, and call it with Link=NextLink(Link).<br><br>I'm assuming there's a good reaon for not using EachIn, such as something you're going to do in that function with the Link. <br><br></td></tr></table><br>
<a name="992429"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> OF COURSE! I am so stupid :D<br><br>Though I was hoping to avoid link=, as I couldn't fit what I want to do on a single line then. Such as Select popup(link), where pop returns the link's value but progresses to the next link, ready for the next operation. I'll have to store the link in a temp variable before Select, and then test that.<br><br>The reason for no EachIn is, I have popup and popdown functions, and will need to go up and down the list in arbitrary directions. <br><br></td></tr></table><br>
<a name="992431"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well don't say you're stupid, because the only thing that attracted me to this question was the knowledge that I spent a long time wondering the exact same thing one night ;)<br><br>Indeed, I also concluded that it would be nice to find a way to do it which didn't involve link= but I don't think BlitzMax offers any way to pass objects by value.<br><br>You could try adding Var to the function definition like so:<br><br><div class="quote"> <br>Function NextLink(link:TLink Var)<br>	link = link.NextLink()<br>End Function<br> <br></div><br><br>But I think that only works with strings, which are treated slightly differently from all other objects. I might be wrong.<br><br>EDIT: Hmm, I guess I was wrong. It does seem to pass the object by value if you add Var as I suggested. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
