<!DOCTYPE html><html lang="en" ><head ><title >Proposed DrawImage/LoadAnimImage Module Change</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Proposed DrawImage/LoadAnimImage Module Change</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Proposed DrawImage/LoadAnimImage Module Change</a><br><br>
<a name="468223"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >flying willy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>Proposal<br>-----------</b><br><br>Change LoadAnimImage so that it accepts an <i>optional</i> flag to "keep images within same texture".<br><br>DrawImage will then not change texture at render when different frames are drawn, if the previous frame was of the same texture.<br><br><b>reason for proposal<br>-------------------------</b><br><br>Currently LoadAnimImage forces the split into seperate textures, and with animated aliens for example, leads to progressive slowdowns as demonstrated on this thread: <a href="http://www.blitzbasic.com/Community/posts.php?topic=41644" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=41644</a><br><br>The changes will enable tilemap displays, as well as real game situations  to be rendered much, much faster and will benefit lower end hardware.<br><br>Unneccesary texture switching is avoided currently in blitzmax while drawing single images, but not with LoadAnimImage.<br><br><i>In a real game situation this has led to progressive slowdowns, not currently demonstrated in the samples.</i><br><br><br>Please post your own comments and any thoughts, they are very welcome. I am personally hoping <b>BRL</b> will take these issues on board and make the relevent optimisations. <br><br></td></tr></table><br>
<a name="468233"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >flying willy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have also tested the NEW code from Michael, on the thread  linked to in the above post, and while grouped is still faster on my card, it is inconclusive. I think we need to bear in mind possible bottlenecks if Blitzmax is to be the best it can be. <br><br></td></tr></table><br>
<a name="468239"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skn3</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well seeing as we have access to the functions themselves it makes sense that it doesn't have to be BRL that does this. Plus I think it is really a bit early to be creating a topic like this. It isnt even officialy out on pc yet. X) <br><br></td></tr></table><br>
<a name="468246"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Michael Reitzenstein</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> It doesn't have to be BRL written, but it DOES have to go in the official modules. <br><br></td></tr></table><br>
<a name="468248"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >flying willy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you for your thoughts. The jury still seems out on the effectiveness of the changes so we will have to wait and see!<br><br>An official murmour from Mark and Simon would be nice as well. I understand that you are busy, but your input is invaluable. <br><br></td></tr></table><br>
<a name="468259"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skn3</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah it def needs to be a part of the official mod. That was the idea (i think) to release the mod source so the public can improve on it and hopefully submit it for addition. <br><br></td></tr></table><br>
<a name="468283"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can always bypass the Max2D routines which are basically just higher-level helper functions, and write your own direct OpenGL programs - incorporate those extra wide or tall textures with anim frames in them, etc. (although it would be nice if this kind of thing was part of the max2d routines) <br><br></td></tr></table><br>
<a name="468352"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does using a single texture for all the frames simply entail setting up the texture coordinates differently for each frame you want to be rendered? <br><br></td></tr></table><br>
<a name="474979"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhague</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's an alternate proposal:<br><br>Add a new image state command called SetRect (or possibly SetSubimage): SetRect X,Y,Width,Height.  This limits the part of the source image that is drawn, so you can essentially choose parts of a larger image.  SetHandle is computed relative to this rectangle, so you can have an independent hotspot for each subimage.<br><br>The SetRect command could be used to implement animated images without breaking them up into separate textures.  It could also be used to implement general image packing.<br><br>Or, as a second alternative, have a DrawSubImage command that also takes a rectangle as four parameters.<br><br>Thanks for listening! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
