<!DOCTYPE html><html lang="en" ><head ><title >Write in a file then remove it.</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Write in a file then remove it.</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Write in a file then remove it.</a><br><br>
<a name="910056"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Azaratur</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I need to know how can i add something in a file and then remove the same thing.<br>I the way to add but i don't find a way to remove..<br><br>Aza <br><br></td></tr></table><br>
<a name="910060"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Remove the file or remove the thing you added *from* the file? <br><br></td></tr></table><br>
<a name="910067"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Azaratur</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> remove the thing you added *from* the file<br>Aza <br><br></td></tr></table><br>
<a name="910094"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I guess you need to open the file for reading and writing and then seek within the file stream to the position you want and write or overwrite the data. What are you thinking of as `removing`, just writing blank data, or completely `cutting` a portion of the file out and joining the remaining parts together? <br><br></td></tr></table><br>
<a name="910106"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >plash</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> You would have to know the position and length of the data you want to remove. Just load in the bytes until you hit the beginning position of the data you want to remove, then seek to the position + the length and continue reading data in. The data you loaded will be the data without the part you don't want, so just save it over the original.<br><br>EDIT: Actually instead of reading individual bytes, you could use stream.ReadBytes and use the beginning position as the size, then skip over the part you don't want, then calculate how much data is left after the end of the part you just cut out and read it in too. <br><br></td></tr></table><br>
<a name="910111"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Load the file to memory, find the bit you don't want, and write the bits you still want back to the file. <br><br></td></tr></table><br>
<a name="910156"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Azaratur</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is what i wanna do:<br><br>I wanna open a file (a mesh file), i don't really know what is inside of it..<br>I wanna add some random things (doesn't matter), in this case the file will be unopenable and when i need it i want just remove this part of file..<br><br>Is it possible? and how?<br><br>Aza <br><br></td></tr></table><br>
<a name="910158"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >plash</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Quite silly. If your trying to make the file unreadable/unusable by the people obtaining your program that is hardly a secure way to do it.<br>I would suggest encryption, there are plenty algorithms around.<br><br>EDIT:<br><div class="quote"> Is it possible? and how? <br></div>Yes..<br><br>Seek to a positon in the file.<br>Write a bunch of nonsense and close the file.<br><br>When loading:<br>Simply way would be to seek over the data, as mentioned before, then save a temporary file and load it back in with your mesh loader, maintaining the buggered file format of the original. <br><br></td></tr></table><br>
<a name="910159"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> As long as you write the data to a known area in the file, then all you need to do is read in the file data via a stream and spit it back out to a temporary file then overwrite when done. Just skip the data you don't want when writing out. <br><br></td></tr></table><br>
<a name="910161"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Azaratur</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I can't use encryption for the moment..<br>Aza <br><br></td></tr></table><br>
<a name="910186"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TaskMaster</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> The only way you can write to a file that already exists is either to append to the end, or overwrite something elsewhere.  You cannot insert data somewhere in a file.<br><br>If you need to insert some data, you have to create a new file.  Write some of the old data, write your new data, write the rest of the old data.  Then delete the old file and rename the new file.<br><br>If you want, you can read the entire file into memory, then rewrite the whole file from scratch writing your new data where you need it.  This way you do not have to use the temporary file method. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
