<!DOCTYPE html><html lang="en" ><head ><title >GNet Host and Client same machine</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >GNet Host and Client same machine</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >GNet Host and Client same machine</a><br><br>
<a name="609514"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Will</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I dont want to write a whole seperate host and client - I'd rather make a host on the host computer, and then make a client to join that host for the host themself.  The problem is, once I call the GNetConnect(client, ip, port) I am stuck until it fails, and cannot call GNetAccept(host) in order to accept my own incoming connection!  How do I do this?<br><br>Thanks, Will. <br><br></td></tr></table><br>
<a name="610491"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Will</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is important, so I'm bumping it. <br><br></td></tr></table><br>
<a name="610648"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not sure about your problem.<br><br>First, I suggest you checkout TNet: www.truplo.com/TNet<br>Which is a multiplayer game library for BlitzMax.<br><br>Second, or if you don't want to use TNet, you need to explain a bit more, so that we can solve your problem.<br><br>I'm not very familiar with GNet, but I do have a fair experience with TCP so I'll try to assume what's wrong:<br><br>GNet uses TCP, therefore a call to "Connect(IP,Port)" would mean you would try to establish a connection between two TCP sockets, a local to a remote listening TCP socket, which is most likley a GNetHost doing GNetAccept(). You will be "stuck" at connection when using TCP. It is the way TCP works, and as far as I know you can only work around it by using threads, which blitzmax has not. Another option would be to skip TCP and use UDP.<br><br>Please, if you want, explain more what you are doing, perhaps there is a simpler way?<br><br>It does sound like you are trying to do some TCP hole-punching for nat punch-through. Is that right? ;) <br><br></td></tr></table><br>
<a name="611090"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Will</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> The problem I've encountered is that I cannot call two commands at once.  The command GNetConnect halts the program until it either connects or fails - so I can't call GNetAccept at the same time - which I need to make it connect.  I need to call one command while still calling the other.  I think threading sounds like the way to do this, or some more detailed GNet Connect command.  Is there threading with MaxGUI? <br><br></td></tr></table><br>
<a name="611198"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe if you use the GUI module for your button you could add a hook to it which runs a piece of code to send back the response signal so that it occurs when the button is pressed regardless of whatever else the rest of your code is waiting for? <br><br></td></tr></table><br>
<a name="611300"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> By the way, Will, why do you need to connect while you accept?<br><br>1. TCP Connect - Ask to connect to an remote ip/port<br>2. The remote application at that ip/port runs Accept() and therefore it accepts the connecting client.<br>3. TCP sends some data back N forth and we are connected.<br><br>If you want to connect to another client, use connect again, wait for response.<br><br>If you have a host, he should never use connect, that is up to the new clients to do. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
