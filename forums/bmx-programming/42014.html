<!DOCTYPE html><html lang="en" ><head ><title >Import command not working perfectly in Beta?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Import command not working perfectly in Beta?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Import command not working perfectly in Beta?</a><br><br>
<a name="471168"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PowerPC603</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've ported my entire datafile-load-procedure from Blitz3D to BMax.<br><br>I've split up my project into separate .bmx files (it's more managable than having everything in one big source-file).<br><br>Zip-file with separate files: <a href="http://users.pandora.be/vge/SG/SG_SeparateFiles.zip" target="_blank">http://users.pandora.be/vge/SG/SG_SeparateFiles.zip</a><br>Zip-file with all code in 1 big sourcefile: <a href="http://users.pandora.be/vge/SG/SG_EntireFile.zip" target="_blank">http://users.pandora.be/vge/SG/SG_EntireFile.zip</a><br><br>When I run the project (file "SpaceGame.bmx", which include all other sourcecode-files), it produces an error on this line:<br><br><pre class=code>
For i = 1 To Universe.NumSec%
</pre><br><br>Error: Identifier "NumSec% not found<br><br>When I copy the entire contents of all other sourcefiles into the file SpaceGame.bmx, it runs perfectly.<br><br>Is there something missing from my part, or is it just that this project is run by the Beta-version?<br><br>I've made sure that all files (and pathnames) have no spaces in them.<br><br>Also, if I remove the file "Includes\IncludeAllSources.bmx" and copy the contents of this file into the main project file "SpaceGame.bmx", it seems it cannot find the function "GetParameterName", even if it's included before all classes.<br><br>Also, then I have to include the file Class_Sector.bmx" before the file "Class_Universe.txt", because it couldn't find the identier "TSector" when compiling the type TUniverse.<br>This is not required when all files are merged together.<br><br>And it seems that the "Include"-command is gone, is this replaced by the "Import"-command? <br><br></td></tr></table><br>
<a name="471185"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PowerPC603</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Never mind, I've found it already.<br><br>The Include still works, but isn't recognised as a keyword.<br>I was searching through the samples and found that the TeraBit's GLHead sourcecode file still used the command "Include", so I gave it a try, and now it works.<br><br>Thanks anyway. <br><br></td></tr></table><br>
<a name="471186"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>Okay, a few things:<br><br>Your main file imports a '.bb', not a '.bmx'. Max is silently ignoring this, which is a bit naughty and will be fixed.<br><br>Also, your ImportAllSources imports stuff from 'Include/' - but Import works relative to the file's directory so it ends up looking for 'Include/Include/blah'!<br><br>Finally, Imports can not be 'cyclic'. The idea is for files to import just what they need (ie: Universe should Import Sector if it needs it) so your 'ImportAllSources' approach is likely to eventually fail.<br><br>The easiest way around this is simply to use Include instead of Import in IncludeAllSources. However, you will not get the benefit of faster compile times this way. <br><br></td></tr></table><br>
<a name="471188"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jim Teeuwen</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> it takes a bit of getting used to. I reported a potential bug about this last week, but it turned out I was at fault. I'd suggest playing with some test includes a bit to get anidea of how they work. It'll save you quite a headache later on. <br><br></td></tr></table><br>
<a name="471194"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PowerPC603</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Also, your ImportAllSources imports stuff from 'Include/' - but Import works relative to the file's directory so it ends up looking for 'Include/Include/blah'!<br> <br></div><br><br>I've noticed this when I used the Include command, as BMax gave me an error that he couldn't find those files.<br><br>So, if more than one sourcefile needs the command "GetParameterName", than all those sourcefiles (which require the command "GetparameterName") must "Import" this file "Lib_GetParameterName_Value.bmx", when I use the command Import?<br><br>And what exactly do you mean by cyclic?<br>I saw this in the help-files sometimes, but I don't quite understand what it means (my main language is Dutch).<br><br>Does it mean that if you have a mainfile called "Project.bmx" and you Import the file "File1.bmx", which imports "File2.bmx", that this "File2.bmx" is not allowed to Import "File1.bmx" again? <br><br></td></tr></table><br>
<a name="471215"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> cyclic means the following<br><br>source of a.bmx:<br><br>import "b.bmx"<br><br>source of b.bmx:<br><br>import "a.bmx"<br><br>which creates an "endless import loop" if you want to call it that way. as it jumps forth and back between this 2 files endlessly.<br><br>Your sample is no problem as there are several core modules which already do it this way. <br><br></td></tr></table><br>
<a name="471290"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> And what exactly do you mean by cyclic?  <br></div>It means (litterally) going around in circles. The simplest example of which Dreamora explained above. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
