<!DOCTYPE html><html lang="en" ><head ><title >Please help test framework example.</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Please help test framework example.</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Please help test framework example.</a><br><br>
<a name="715656"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hiya, I've made an example title screen using my Grey Alien BlitzMax Game Framework and I wondered if anyone can help me test it on a wide range of PCs (from good to crappy).<br><br><a href="http://www.greyaliengames.com/aotmg/exampletitlescreen.zip" target="_blank">http://www.greyaliengames.com/aotmg/exampletitlescreen.zip</a> (1.97Mb)<br><br><img src="http://www.greyaliengames.com/aotmg/examplescreenshot.jpg"><br><br>This title screen uses a 1000x1000 background image and I'd be interested to hear if it doesn't draw properly on any cards.<br><br>You should see a UFO moving across the screen smoothly (unless your machine is overburdened with tasks).<br><br>You should hear music playing.<br><br>You can also try the various keys out (e.g. bring up the debug stats with D).  Try pressing T to toggle the max FPS and try pressing F to toggle into windowed mode for example.  <br><br>Please note: the title bar icon issue has now been resolved.  Thanks.<br><br>Please report back your FPS and system specs and any findings.  Thanks in advance to anyone who can help :-)<br><br>*** I've also included the main source code in the .zip so you can see how the framework is called. *** <br><br></td></tr></table><br>
<a name="715661"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Everything looked good.  It reported 700 FPS which seems insane, but there you go.<br><br>And I did the windowed exit/restart test and the icon wasn't correct.<br><br>I have a GeForce 6800 Go in this laptop. <br><br></td></tr></table><br>
<a name="715663"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great thanks Warren!  So hmm the icon doesn't work for you on your laptop, yet it works for me on my PC...<br><br>I get 512FPS in full-screen and 493 in windowed mode on my Radeon 9800XT, P4 3.2GHZ HT, 1GB RAM, XP SP2. <br><br></td></tr></table><br>
<a name="715668"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ath64 3200+ Rad X850<br>DX 380fps<br>OpenGL 710FPS<br>EDit, just installed the new ati drivers, and now get<br>DX 350FPS<br>OpenGL 900Fps <br><br></td></tr></table><br>
<a name="715701"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Athlon 2800+   Radeon 9600Pro, XP SP2<br><br>Windowed: DX 330, OpenGL 573<br>Full screen: DX: 355, OpenGL 635<br><br>The UFO icon does remain on my PC. <br><br></td></tr></table><br>
<a name="715704"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cruis.In</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> gray, <br>I get<br><br>DX     529<br>OGL  970 <br><br>catalyst before this one<br>p4 3.0HT<br>ATI X800 XT 256<br>1.5 gig ram <br><br></td></tr></table><br>
<a name="715710"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SpaceAce</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have an Athlon 64 X2 4600+ with two gigs of RAM and a junky graphics card. My operating system is Windows XP Home Edition. I get ~300 FPS with DirectX and low 200s with OpenGL. When I exit/restart in windowed mode I do <b>not</b> get an icon in the window bar.<br><br>SpaceAce <br><br></td></tr></table><br>
<a name="715748"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks all.  hmm this icon thing is perplexing, why should it work on some PCs and not others?  It's just a standard windows API call...maybe I'll try another method.<br><br>btw, in OGL I get 865FPS in full-screen and windowed mode.  Seems my old Radeon 9800XT is still OK. <br><br></td></tr></table><br>
<a name="715760"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> GAH, I've just spend 2 hours looking into the reason why the icon code doesn't work on all PCs and I'm getting nowhere fast.  I'm using this code:<br><br><pre class=code>
?win32
Extern "win32"
	Function ExtractIconA%(hWnd%,File$z,Index%)
	Function SetClassLongA%(hWnd%,nIndex%,Value%)
End Extern
?

' -----------------------------------------------------------------------------
' ccSetIcon
' -----------------------------------------------------------------------------
Function ccSetIcon(iconname$, TheWindow%)	
	?Win32
	Local icon=ExtractIconA(TheWindow,iconname,0)
	SetClassLongA(TheWindow,-14,icon)
	?
End Function
</pre><br><br>I'm obtaining the window handle with GetActiveWindow() (another win32 call).<br><br>Why would this not work on some PCs?  Strange.<br><br>If I don't call ccSetIcon() I don't get an icon on the window title bar AND in the Task Swapper (Alt+Tab) dialog.  If I call it, I get an icon in the Task Swapper, but not the title bar, which means it is working, but the window is just not showing it!  Arg...I hate this stuff. <br><br></td></tr></table><br>
<a name="715762"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> WOOO, found out why but not the answer.  I'm running my PC with the Windows Classic theme and my Laptop is on windows XP theme (i.e. big title bar).  On classic theme the icon shows but it doesn't on XP theme!  This must mean it can't find the right size icon to use I guess so what is the icon size in XP theme?  And how do I make my icon have the correct info?  Any ideas?  Thanks.<br><br>I made my icon by saving a 32x32 image as a 32-bit icon file in Gimp.  Then I used Jim Brown's guide to make a resource file to add in at compile time:<br><br><a href="http://homepage.ntlworld.com/config/max/appiconguide.htm" target="_blank">http://homepage.ntlworld.com/config/max/appiconguide.htm</a><br><br>obviously the icon or the resource file doesn't have the required info for the XP theme to pick up an use the correct icon :-(<br><br>Oh yeah, the weird thing, of course, is that if you flip to full-screen mode then back again, the icon is there!  But that's because I'm actually setting the icon in full-screen mode anyway so that it appears on the task-switcher dialog. <br><br></td></tr></table><br>
<a name="715767"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK more info, seems I can size the XP theme title bar in advanced options to any size and the icon still doesn't work unless I go into full-screen where it get's set, then come back to windowed mode.  Strange. <br><br></td></tr></table><br>
<a name="715769"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Don't need windows icons to be ico files which internal save 64x64, 32x32 and 16x16, not only a single size? <br><br></td></tr></table><br>
<a name="715812"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I saved a 32x32 in Gimp, but Windows scales it in Explorer windows automatically (larger or smaller) and shows it fine on the title bar if the theme is windows classic (i.e. 16x16) it just can't handle the windows XP theme for some reason.<br><br>OK so how can I build a combo icon with different sizes to try that out? Any ideas? <br><br></td></tr></table><br>
<a name="715880"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Steve Elliott</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'll test this properly later - but OpenGL was near twice as quick as DirectX - on ATI and now with my Nvidia graphics card.<br><br>I find that a concern, because of the way things are going with Windows. <br><br></td></tr></table><br>
<a name="715881"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> hmm, I made a combo icon with 16x16, 32x32, 48x48 and still it doesn't show any icon in XP Theme.  I also made an icon of just 24x24 and it still doesn't show, but does after setting it in full-screen mode (like before).<br><br>So am I using the wrong API calls?  Or is this a BMax/XP bug/problem where the window created with graphics depth 0 in XP Theme cannot be set an icon at all? <br><br></td></tr></table><br>
<a name="715913"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK some test code posted here:<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=64150" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=64150</a><br><br>seems like it must be a BMax windowed mode bug. <br><br></td></tr></table><br>
<a name="715935"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Steve: Thats common with Max2D because it uses a totally outdated DX version. There is a user created DX9 driver for Max2D which is &gt;= in speed as OpenGL for most users and hopefully might become an official driver in the future ... Otherwise Max2D as it stands is a lot but not cross plattform as it is nearly useless on Windows. (50% of the pc use Intel chip which works as bad with DX7 as with OpenGL ... ) <br><br></td></tr></table><br>
<a name="716041"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Steve: Also it's because BMax/DX7 had that lag problem that my framework originally had a fix for but then BRL put it in the actual modules, and this reduces DX framerate by about a 3rd, but at least the mouse cursor keeps up now... <br><br></td></tr></table><br>
<a name="716042"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kurator</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> 550 OGl / 370 DX<br><br>Athlon XP2800 / Radeon X1600 Pro <br><br></td></tr></table><br>
<a name="716047"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Steve Elliott</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>...this reduces DX framerate by about a 3rd, but at least the mouse cursor keeps up now...<br> <br></div><br><br>WTF!  I'd rather have the speed!  This really needs to be addressed.<br><br>And I'm not going to use unofficial modules until they're stable and complete. <br><br></td></tr></table><br>
<a name="716049"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Really it wasn't worth having the speed as the games seemed unresponsive, it was horrible.  Apparently that's all they can do to fix it until BMax is DirectX 9 compatible "officially".  That will be nice but it may limit the potential customer base... <br><br></td></tr></table><br>
<a name="716050"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> The DX9 driver is complete as it is only a driver, no module or anything.<br><br>If you want speed, go for opengl, dx7 drivers get worse and worse, now that Win98 is officially "dead" and thus DX8 is the minimum DX Version present. <br><br></td></tr></table><br>
<a name="716052"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> maybe our games need code to detect the installed DX version and if &lt;9 can tell users to update it.  Still, this would put a lot of customers off... <br><br></td></tr></table><br>
<a name="716267"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dwarf</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Desktop<br>AMD Athlon 64 3000+ XP Fam 1Go Ram<br>Nvidia Gforce 6600GT<br><br>FullScreen (843 OpenGl / 477 Directx)<br>Windows (802 OpenGL / 440 Directx)<br><br><br>Pentium 4  2,4 Ghz 256 Mo XP Pro<br>Nvidia GeForce2 MX/MX400<br><br>FullScreen (146 OpenGl / 139 Directx)<br>Windows (105 OpenGL / 95 Directx)<br><br><br><br><br>NoteBook<br>Athlon XP Fam 1700+ (1,46 ghz) 192Mo Ram (64 video) Ati Radeaon IGP 320M<br><br>FullScreen (91 OpenGl / 70 Directx)<br>Windows (49 OpenGL / 42 Directx)<br><br><br><br>When I start the game in fullscreen and swap to window mode, the icon is here but if I toggle to other (opengl/directx) mode I see the window icon. I need to toggle again the (opengl/directx) mode to see the right icon.<br><br>When I start in Window mode, I don(t see the aotmg icon, I need to toggle twice the (opengl/directx). <br><br></td></tr></table><br>
<a name="716271"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> great stats and info thanks dwarf.  That notebook is like "ouch" :-( And even the Geforce 2 is a bit under par really compared to the 6600GT. <br><br></td></tr></table><br>
<a name="716855"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Dwarf: good spot on the OpenGL/DirectX toggling thing.  That seems to have been fixed with the new icon setting code that I talked about in that other thread (I just tested it). <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
