<!DOCTYPE html><html lang="en" ><head ><title >Full Screen / Windowed</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Full Screen / Windowed</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Full Screen / Windowed</a><br><br>
<a name="676135"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zumwalt</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Option A) Graphics(800, 600)<br>Option B) Graphics(800, 600,0)<br><br>Initially I was running in full screen, thus Option A, I was using the 1.20 release, so I downloaded 1.20d and used it, well, it worked initially, I wanted then to move to windowed mode for troubleshooting, so I set my Graphics to Option B, now, no matter what I do in the code, (change back to option A), it stays windowed mode.<br><br>Windowed mode for some reason takes up 100% cpu, which is crappy, but it just does, I even rolled my editor back to just the 1.20, no luck.<br><br>How do I make it full screen again now that I have made it windowed? <br><br>I have even went as far as writing an external C code version of DoEvents to try to eliviate the CPU, that didn't do squat. <br><br></td></tr></table><br>
<a name="676140"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you in debug mode? <br><br></td></tr></table><br>
<a name="676146"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zumwalt</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes and no, I have tried both, same results on both.<br>Below is an image of it running with both graphics levels from 2 screen shots merged together, this is not debug in this screenshot.<br><br><img src="http://www.hawk-systems.net/portal/files/graphics.jpg"> <br><br></td></tr></table><br>
<a name="676147"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yan</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> The depth param of the Graphics command defaults to 0 (which is windowed).<br><br>It used to default to 16, I think, but I'm sure that changed a few versions ago?<br><br>Use a depth for full screen. IE. Graphics 800, 600, 16 <br><br></td></tr></table><br>
<a name="676152"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zumwalt</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> So either 16 or 32 then are the settings for full screen and 0 is windowed?<br><br>Either way, the set to 16 or 32 works to set it back to full screen, so not a bug, maybe a change, but not a bug. <br><br></td></tr></table><br>
<a name="676162"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeppa!<br><br>Graphics 800,600,0 ' Windowed<br>Graphics 800,600,16 or 32 ' Bit Fullscreen <br><br></td></tr></table><br>
<a name="676179"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Windowed mode for some reason takes up 100% cpu, which is crappy, but it just does <br></div><br><br>So does full screen. A blitz application will try to run as fast as possible, meaning that it will not give any free time to the operating system, and the 100% CPU that you see.<br><br>You can address that by telling your application to 'wait' periodically, giving other programs (and the OS) a chance to do things as well -- this drops the CPU load considerable. For a quick test, just add a 'delay 1' in your main loop, and watch it drop. <br><br></td></tr></table><br>
<a name="676183"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Or try detecting when your game is suspended, and call Delay(1) then so that Windows gets the CPU time, but only when you game isn't focused.  This worked for me. <br><br></td></tr></table><br>
<a name="676196"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zumwalt</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very good points, I will look into it, both wait and delay. I need to find a way to focus the events so I run at a consistant speed that allows for cpu freedom.<br><br>Edit:<br>Wait has no identifier, what module is it in?<br><br>Edit: found another solution:<br><br><pre class=code>
Local timer:ttimer = CreateTimer(150)

Repeat
	Cls 
	DrawImage background, 0, 0
	hi_THighGUI.Render()
	hi_THighGUI.Update()
	chkKeys()
	Flip 0
	TFPSCounter.Update()
	DoEvents()
	GCCollect()	
	WaitTimer(timer)
Until Not running

</pre><br><br>Although the timer doesn't make much sense, the higher the number, the more cpu that is used, so if I have it at 100 vs 150, my cpu utilization is at 15%, at 150 it ranges from 30-50%, at 200 its 50-60%. <br><br></td></tr></table><br>
<a name="676224"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I thought it was always like that ... If you specify the depth, you get full-screen, if you dont (or you give 0) you get windowed. Been like that as long as I remember? <br><br></td></tr></table><br>
<a name="676256"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> yeah me to.  no specify = 0 thus windowed mode.  specify 32 or 16 for full-screen.<br><br>btw Zumwalt, I don't think Wait exists, I think Delay is the only option.  Also the higher the number the timer, the more times per second it will run your main loop as WaitTimer won't be waiting as long for the timer to "tick". <br><br></td></tr></table><br>
<a name="676259"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is it? I allways thought no specify was always windowed in debug, but full screen 32bit in release. <br>Good manual with Bmax;) <br><br></td></tr></table><br>
<a name="676269"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zumwalt</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> To round this thing off for the original problem, I was under the impression (read somewhere) where you either supply a value or you do not, if you supply a value, one of 0 means windowed, if you do not supply a value it is full screen, and it did work like that for a while, now it won't. I don't recal ever reading what values it needed, as in 32 / 16. <br><br>If you highlight the word Graphics in your clode, then click F1, you will see, that it is:<br>Graphics:TGraphics(width, height, depth=0, hertz=60, flags=0)<br><br>That should read, based on this conversation, <br>depth=[0,16,32]<br><br>Atleast that is friendlier.<br><br>As far as the second question that I crept into this, and sorry about that, but the waittimer name is also misleading, if it determines the number of times a second your loop runs, it makes sense that a higher number chews up more cpu and a lower number slows down the loop which free's up more cpu, I don't know yet, because frankly I haven't tried, if BlitzMax is multi-threadable, if it is, then that WaitTimer has alot of uses, a thread per heartbeat for levels and spawning, etc. <br><br>I am slowly getting the hang of all of this, just seems odd the way things are laid out sometimes. <br><br></td></tr></table><br>
<a name="676311"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> My doc states...<br><div class="quote"> <br>The depth parameter selects a pixel bit depth. This value can be 0, 16, 24 or 32 depending on the graphics modes available. A depth of 0 can be used to select 'windowed mode' graphics, while non-0 depths select 'fullscreen' graphics.<br> <br></div> <br><br></td></tr></table><br>
<a name="676405"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >kronholm</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
Graphics 800,600,32,60 ' 60 fps, 32 bit depth, fullscreen
</pre> <br><br></td></tr></table><br>
<a name="676407"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> BM is single threaded and not even multithread safe in case you think about adding multithreading. <br><br></td></tr></table><br>
<a name="676547"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zumwalt</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well now, thats a bummer, can't do apartment threading. That limits a few things. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
