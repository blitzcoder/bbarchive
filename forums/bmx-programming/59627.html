<!DOCTYPE html><html lang="en" ><head ><title >Framework question</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Framework question</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Framework question</a><br><br>
<a name="664623"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was experimenting with Framework and found the following code wouldn't compile:<br><pre class=code>
Framework BRL.Blitz
Framework BRL.StandardIO

For a = 1 To 10
   Print "Test"
Next
</pre><br>I get a "Framework does not match commandline framework" error. Now, since the BRL.Blitz module contains "For and Next" I thought for sure I'd have to include that. But, if I comment out the first Framework line it compiles just fine, even though the only commands inside BRL.StandardIO are Print and Input().<br><br>Any ideas why this is so?<br><br>Russell <br><br></td></tr></table><br>
<a name="664624"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Regular K</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> after the first framework, dont they all have to be import?<br><br>Like:<br><pre class=code>
Framework BRL.Blitz
Import BRL.StandardIO
</pre> <br><br></td></tr></table><br>
<a name="664626"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah. Only one framework per program.<br><br><div class="quote"> Any ideas why this is so? <br></div>Nope. <br><br></td></tr></table><br>
<a name="664630"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> If I comment out the second Framework, I get "Identifier Print not found". Commenting the first one gives the error described in my original post.<br><br>The thing is, with the first one commented out, it compiles fine and is only 91.5k (compared to 2.21MB without Framework). So, something is happening, even without 'Import'.<br><br>Just wondering.<br><br>Russell <br><br></td></tr></table><br>
<a name="664704"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Framework BRL.StandardIO<br>Framework Assistant is fantastic <br><br></td></tr></table><br>
<a name="664747"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> There is no actual code in BRL.Blitz for <b>For..Next</b>.  That's handled internally within the compiler itself.  So you don't need to actually import that module for the <b>For..Next</b> command to work.  The module does have an entry for it for bbdoc.<br><pre class=code>Rem
bbdoc: Marks the start of a loop that uses an iterator to execute a section of code repeatedly.
keyword: "For"
End Rem
</pre> <br><br></td></tr></table><br>
<a name="665064"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah, well that makes sense then, since For/Next (and While/Wend, and other looping or branching structures for that matter) are not really what you would call functions.<br><br>Still, the fact that For/Next is listed in the BRL.Blitz module section of the built-in help made me think it would have to be manually included. Are all of the BRL.Blitz commands handled internally?<br><br>Anyway, thanks everyone.<br><br>Russell <br><br></td></tr></table><br>
<a name="665228"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CodeGit</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is the reason we need good documentation. If the BMAX documentation was correct, a person would not have to "EXPERIMENT" to get something to work. <br><br></td></tr></table><br>
<a name="666026"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> The plot thickens.....<br><br>Ok, so I have a look at "Import" in the built-in help and it shows this example:<br><pre class=code>
Rem
:Import specifies the external BlitzMax modules and source files used by the program.
End Rem

Framework BRL.GlMax2D

Import BRL.System

Graphics 640,480,32

While Not KeyHit(KEY_ESCAPE)
	Cls
	DrawText "Minimal 2D App!",0,0
	Flip
Wend
</pre><br>Instead of making it clearer, it is even muddier: None of these commands are located inside BRL.System <b>or</b> BRL.GLMax2D, so what is the purpose of Framework and/or Import? (i.e. Graphics/Flip are inside BRL.Graphics, While/Wend/Not are inside BRL.Blitz, KeyHit() is inside BRL.PolledInput, and Cls/DrawText are inside BRL.Max2D)<br><br>So what am I missing here from a "What does it actually <i>do</i>" point of view? <i>Why</i> does the example above compile, when none of the commands from it are included in the specified modules? I'm waiting for that 'Aha!' moment to hit me like it did when I first encountered types many years ago on Blitz Basic 2 on the Amiga.<br><br>Russell <br><br></td></tr></table><br>
<a name="666027"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> The BRL.GLMax2D module itself imports other modules like BRL.Graphics etc<br><br>So although BRL.GLMax2D doesn't contain the functions required, it does import those necessary modules that contain the other funtions.<br><br>Look at the source code for the BRL.GLMax2D module and all will be revealed :) <br><br></td></tr></table><br>
<a name="666030"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, that makes sense. I suppose the same can be said for BRL.System?<br><br>I'm still unclear on why we would only use one Framework command, rather than a Framework for every module we want to include. And Import doesn't do the same thing?<br><br>I'm almost there, VIP3R! Give me a push!<br><br>Russell <br><br></td></tr></table><br>
<a name="666031"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Framework tells BlitzMax not to import all standard modules. If you just said Import brl.system, it would import everything else too. If you say Framework brl.system, it imports nothing BUT brl.system, which is why you can't use it more than once. You've already used it so it would be counter-intuitive if it then removed what you said you wanted to import. <br><br></td></tr></table><br>
<a name="666036"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep, same applies to BRL.System and any other modules you import.<br><br>You need to specify the initial module with Framework to tell the compiler that you want to import only the specified modules. Once done, you don't need to tell the compiler again, so you only need to import them to 'add' to your existing framework.<br><br>[edit] In other words what Gabriel said :) <br><br></td></tr></table><br>
<a name="666037"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>If you say Framework brl.system, it imports nothing BUT brl.system, which is why you can't use it more than once.<br> <br></div><br>Because Framework is not inside BRL.System, and therefore a second Framework would not be recognized? If that's the case, that's silly, because Framework is a compiler directive, is it not?<br><br><div class="quote"> <br>You've already used it so it would be counter-intuitive if it then removed what you said you wanted to import<br> <br></div><br>Well, true, if it works in an 'exclusive' only mode. Intuitively speaking, it would make sense to add allowed modules to<br>subsequent Frameworks <b>or</b> allow multiple module includes on one line:<br><br><pre class=code>
Framework BRL.System, BRL.Blitz
</pre><br>and so on.<br><br>But hey, I can deal with it the way it is, even if it isn't 100% intuitive (or explained very well in the manual) ;)<br><br>Russell <br><br></td></tr></table><br>
<a name="666042"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Because Framework is not inside BRL.System, and therefore a second Framework would not be recognized? If that's the case, that's silly, because Framework is a compiler directive, is it not? <br></div><br><br>No. Take this example :<br><br><pre class=code>
Framework BRL.System
Framework BRL.Blitz
</pre><br><br>The first line says "Import no modules except BRL.Mod1"<br>The second line says "Import no modules except Brl.Mod2"<br><br>So in other words, the second line, removes the module you just imported with the first line. It's counter-intuitive to allow this. It's a compile-time directive, so you can't change your mind in the code. There's no purpose to doing it twice.<br><br>It's nothing to do with the modules which contain Framework, as it's not in a module, as you say it's a compiler directive.<br><br><div class="quote"> Intuitively speaking, it would make sense to add allowed modules to subsequent Frameworks <br></div><br>Not really, because Framework is for removing modules, not adding them. By default, they're all added. Framework is saying, don't import them all, I only need this one.<br><br><div class="quote">  or allow multiple module includes on one line: <br></div><br>Teah, that'd be fine. It's only alternative syntax to a feature we already have, but it would be perfectly intuitive and wouldn't break anything. I'd have no problem at all with that alternative/additional syntax. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
