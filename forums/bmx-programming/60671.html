<!DOCTYPE html><html lang="en" ><head ><title >CreateStaticPixmap - Pitch Parameter?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >CreateStaticPixmap - Pitch Parameter?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >CreateStaticPixmap - Pitch Parameter?</a><br><br>
<a name="676812"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm trying to use CreateStaticPixmap() to grab a pixmap from an image loaded with devIL, but I'm a bit hazy on exactly what Blitz is expecting the pitch parameter to be. I'm guessing that it's BYTES multiplied by width, but I'm not 100% sure. Is that right or should it be bits? <br><br></td></tr></table><br>
<a name="676817"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Byteemoz</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's the number of bytes per line (BytesPerPixel*WidthOfPixmap).<br>-- Byteemoz <br><br></td></tr></table><br>
<a name="676819"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, I thought it was, but some of these functions want bits per pixel and some want bytes, so I wanted to make sure. <br><br></td></tr></table><br>
<a name="676950"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Pitch is NOT the number of bytes per line. Sometimes that is true, sometimes it isn't.<br><br>Pitch is the total number of bytes, rounded up to the nearest multiple of 4 (or whatever the alignment is), that is needed to contain a single row of pixels.<br><br>When you create the pixmap, if the `alignment` is 4, that means you want the start of each row to begin on a 4-byte aligned memory address. The amount of bytes per row needed to achieve this is the Pitch, which may be more than the total number of bytes taken up by actual pixel data.<br><br>With Alignment of 1, LIMINENCE format, Pitch=Width*BytesPerPixel<br><br>With Alignment of 4, LIMINENCE format, Pitch=Width*BytesPerPixel rounded up to the nearest multiple of 4<br><br>You'll notice, though, that if you have a RGBA or ARGB format pixmap, because each pixel is a whole 4 bytes, it is ALWAYS aligned (regardless of whether alignment is 1 or 4), so Pitch WILL be the same as Width*BytesPerPixel.<br><br>The Pitch takes into account the requested alignment, which is usually 4. It's how many bytes you'd need to add to an address in the pixmap in order to get to the same X coordinate on the next row. Obviously if you have a 3x3 pixmap in RGB format, that's only 9 bytes of pixel data per row, so if alignment is 4 it will be increased to 12 bytes per row. So you'd have to add 12 to the pointer to get to the same X coord on the next row. That is, unless align=1, in which case you'd add 9.<br><br>A pitch is also an absolutely necessary device for allowing the system to handle `windows within pixmaps` and static pixmaps. To have a window within a pixmap, where the window is smaller than the original pixmap, you have to know how many extra pixels within the original you have to skip at the end of the window's row in order to get to the start of the next window's row. That's obviously going to be the original pixmap's pitch minus the window pixmap's pitch. Without a pitch you wouldn't be able to have windows within pixmaps - generally it defines the difference between where the pixels stop and where the memory space for the row stops.<br><br>Generally you'll want to use alignment of 4 for your pixmaps if you have a say in it, because this is more efficient for reading/writing the data. It also probably makes it faster for uploading textures or grabbing the backbuffer. <br><br></td></tr></table><br>
<a name="676979"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Byteemoz</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmmm ... does devIL respect these rules, too?<br>For example if you load an 101 by 101 pixels image with 1 byte per pixel will it use 104 bytes per line or will it return all 10201 pixels without any padding or alignment?<br>In the second case Pitch would be 101 (bytes) regardless of how the pixmap-functions usually calculate it...<br>-- Byteemoz <br><br></td></tr></table><br>
<a name="677038"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Test it. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
