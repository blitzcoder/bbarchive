<!DOCTYPE html><html lang="en" ><head ><title >BMX Save State (Source Included)</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >BMX Save State (Source Included)</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >BMX Save State (Source Included)</a><br><br>
<a name="1292359"></a>

<a name="1292360"></a>

<a name="1292361"></a>

<a name="1292363"></a>

<a name="1292364"></a>

<a name="1292365"></a>

<a name="1292389"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was looking at Monkey-X's own SaveState command which allows programmers to save a single string of data to recall variables later.<br><br><a href="http://www.monkey-x.com/Community/posts.php?topic=1305" target="_blank">http://www.monkey-x.com/Community/posts.php?topic=1305</a><br><br>This can be adapted to BlitzMAX and with easier access by my code thus.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
'    ________________________________________
'   //                                     //
'  // "BMX Save State" version "Snapshot" //
' // Written by David W (dw817) 01/28/16 //
'//_____________________________________//

' I was looking at Monkey-X's own SaveState command which
' allows programmers to save a single String of data to
' recall game variables later.

' This can be adapted to BlitzMAX and with easier access
' by my code thus.

Strict
SetGraphicsDriver GLMax2DDriver(),0 ' zero forces front buffer
Graphics 768,576

Global statevar:tmap=New tmap ' necessary ! do not remove, only line required at top

Local c,x,y,n$

n$="Frederick" ' REM this out after you run once

loadstate ' if no data, no problem

x=stateno("x") ' otherwise load our saved variables
y=stateno("y")
c=stateno("c")
If state("n$")&gt;"" Then n$=state("n$")

Repeat ' {* MAIN *}

Cls
SetScale 2,2
SetColor 255,255,255 ' text is always white
DrawText n$,384-TextWidth(n$),20
SetScale 1,1
If c=0
  SetColor 255,255,255 ' 4 color choices
ElseIf c=1
  SetColor 255,0,0
ElseIf c=2
  SetColor 0,255,0
ElseIf c=3
  SetColor 0,0,255
EndIf
DrawLine 0,0,x,y ' draw some stuff at X &amp; Y
DrawLine 767,0,x,y
DrawLine 0,575,x,y
DrawLine 767,575,x,y
DrawOval x-50,y-50,100,100
If KeyDown(32) Then c=(c+1)Mod 4 ' SPACEBAR ? Change color
If KeyDown(key_up) Then y:-4 ' arrow keys ?
If KeyDown(key_down) Then y:+4 ' move accordingly
If KeyDown(key_left) Then x:-4
If KeyDown(key_right) Then x:+4
glflush ' update screen
Delay 10

x=wrap(x,0,767) ' keep our circle within the screen
y=wrap(y,0,575)

Until KeyDown(27) ' exit on escape

setstate "x",x ' save our 4 test variables
setstate "y",y
setstate "c",c
setstate "n$",n$
savestate ' do this before exiting, next run will remember everything
End

' &gt;&gt; LOAD ALL VIRTUAL VARIABLES IN
Function loadstate()
Global a$=Lower$(AppFile$),t$,p ' {AppFile}.sta is ultimate filename
Local fp:TStream
  a$=Replace$(a$,".debug.",".") ' remove debug from filename
  a$=Left$(a$,Len(a$)-3)+"sta" ' make sta the file extension
  If FileType(a$)=1 ' file must exist
    fp=ReadStream(a$)
    While Eof(fp)=0 ' read all lines
      t$=ReadLine(fp)
      p=Instr(t$,"=") ' get position of equals sign
      MapInsert statevar,Left$(Lower$(t$),p-1),Mid$(t$,p+1) ' set virtual variable
    Wend
    CloseStream fp ' all done, close file
  EndIf
EndFunction

' &gt;&gt; RETRIEVE A VIRTUAL VARIABLE STRING VALUE
Function state$(t$)
  Return String(statevar.valueforkey(Lower$(t$))) ' nifty get virtual variable
EndFunction

' &gt;&gt; RETRIEVE A VIRTUAL VARIABLE NUMERIC VALUE
Function stateno(t$)
  Return state$(t$).toint() ' toint() forces it to be a number
EndFunction

' &gt;&gt; SAVE A VIRTUAL VARIABLE VALUE
Function setstate(a$,b$)
  a$=Lower$(a$) ' variable (not value) is always lowercase
  If a$="" Or a$="0"
    MapRemove statevar,a$ ' if it's zero or blank, remove it
  Else
    MapInsert statevar,a$,b$ ' otherwise record it
  EndIf
EndFunction

' &gt;&gt; SAVE ALL VIRTUAL VARIABLES
Function savestate()
  Local fp:TStream,a$=Lower$(AppFile$),b$
  a$=Replace$(a$,".debug.",".") ' remove debug from filename
  fp=WriteStream(Left$(a$,Len(a$)-3)+"sta") ' make sta the file extension
  For b$=EachIn statevar.keys() ' retrieve each and every virtual variable
    WriteLine fp,b$+"="+state(b$) ' save them
  Next
  CloseStream fp ' close file once all complete
EndFunction

' &gt;&gt; RETURN NUMBER WRAPPED WITHIN BOUNDARIES
Function wrap(a,b,c)
Local ok,n
  Repeat
    ok=1
    If a&lt;b Then a=a+c-b+1 ; ok=0 ' too low, wrap high
    If a&gt;c Then a=a-c+b-1 ; ok=0 ' too high, wrap low
    n:+1
  Until ok Or n=1000 ' either found value or exit if too busy
  Return a
EndFunction
</textarea><br><br>Question: Is there a way to really save and load all variables in use without defining them during runtime and shutdown ?<br><br>I.E.:<br><br>local a,b,c,cards[52],rod$[4]<br><br>loadstate<br><br>These variables (defined at top as either local or global) will automatically be set:<br><br>a=17<br>b=23<br>c=4<br>cards[4]=17<br>rod$[2]="Silver"<br><br>Naturally using this method means ALL variables are loaded and saved with no choice of ignoring particular ones easily. <br><br></td></tr></table><br>
<a name="1292367"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> It would probably be a bit more useful if it stored Objects - since this is how most people use BlitzMax. <br><br></td></tr></table><br>
<a name="1292369"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Brucey.<br><br>Could you give an example of this please ? <br><br></td></tr></table><br>
<a name="1292370"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> An example of an Object or an example of how to store the state of an object?<br><br>An Object :<br><pre class=code>
Type TDog
  Field name:String
  Field weight:Int
  Field age:int
End Type
</pre><br><br>And an example of storing and retrieving object state :<br><a href="https://github.com/maxmods/bah.mod/blob/master/persistence.mod/persistence.bmx" target="_blank">https://github.com/maxmods/bah.mod/blob/master/persistence.mod/persistence.bmx</a> <br><br></td></tr></table><br>
<a name="1292373"></a>

<a name="1292377"></a>

<a name="1292378"></a>

<a name="1292379"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Reading your source code ... Hmm ... Mmm hmm ... Yeah, that's what I thought ... Okay.<br><br>I think mine is a little easier to understand, Brucey. Noobs can definitely use my code as is and use it right out of the box without requiring special compilation or learning. I'm also using a lot more remarks to explain things.<br><br>Running your code I get, "Modules does not match commandline module." and I'm sure you can give me a detailed explanation of how to get your code running after I have to compile it manually a unique way - and so forth.<br><br>Reading more, I don't think we're on the same page here. In all of your code, I'm not even sure how I would save or load a single integer variable.<br><br>Now I'm not going to generalize and say this is how most people use BlitzMAX, because I really think each and every one of us is unique in our own ways and we have our own methods of coding and defining our programs.<br><br>But I will say those that want simplicity will likely find my code easier to understand, and, once again, it runs as is, no special libraries needed for execution.<br><br>We definitely code differently, Brucey. :)<br><br>Now if there is an interest in my program, I CAN add it so you can load/save state for arrays of any length and type, but that's about as complex as I wanna go here.<br><br>As Chris tells me, KISS. Keep It Simple Stupid.<br><br>. . .<br><br>On a different note, Brucey, you should write a routine for Monkey-X to replace their SaveState. As mentioned from what I can tell, it only saves and loads a single string requiring the user to provide the code between to save or load more than one variable at a time. <br><br></td></tr></table><br>
<a name="1292380"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  In all of your code, I'm not even sure how I would save or load a single integer variable. <br></div><br>You wouldn't. It's designed for persisting Objects (like TLists, TMaps, any Types, Arrays, Strings)<br><br>There some nice "ini" file format modules available (that people made) for persisting config data like your save state is intended to do.<br><br><br>How would you go about storing information about say, a dog (it's name, weight and age) ? (perhaps for some database app or whatever) <br><br></td></tr></table><br>
<a name="1292382"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  On a different note, Brucey, you should write a routine for Monkey-X to replace their SaveState <br></div><br>No thanks :-)<br>I played with Monkey when it first came out, but I found it too many steps backwards (compared to BlitzMax) for my use.<br>So I decided instead to enhance BlitzMax (adding native 64-bit support, amongst other things). That way, all my previous work (modules and apps) required little or no modifications to run on new architectures (x64, ARM, iOS, Android, RPi). A move to Monkey would have required scrapping everything and starting over. <br><br></td></tr></table><br>
<a name="1292383"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> The simplest way would be:<br><br>global dog_name$[99],dog_weight[99],dog_age[99]<br><br>I know you can do this with TYPES but looking them over I decided I just really don't like them at all. I'm comfortable with TLIST, however.<br><br>And Brucey, you SHOULD allow for saving a single integer. That situation will definitely come up in someone's code or videogame.<br><br>As for saving a TLIST, that is exactly what my program is doing.<br><br>Also, I am not using BlitzMAX for business software, just games. Simple games. My code will definitely work for your classic videogames to keep track of, for instance, the top ten high scores. I can easily add this routine if it is desired.<br><br>Global highscore(10) ' top ten high scores<br>loadstate<br>loadarray highscore,"highscore"<br>. . . game<br>. . .<br>Ready to leave ?<br>savearray highscore,"highscore"<br>savestate<br><br>BlitzMAX is smart enough to determine the length of arrays even if they are not known. <br><br></td></tr></table><br>
<a name="1292384"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Heh, okay :-) <br><br></td></tr></table><br>
<a name="1292385"></a>

<a name="1292390"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Brucey, I have a 64-bit machine. Can I ask what you are doing that is better than current BlitzMAX 32-bit ? I don't know but I want to ask as you are far advanced in coding than I am. And to be honest, I really don't understand a lot of your coding.<br><br>I wish you would write out-of-the-box code and functions sometime so I could really explore it and learn from you.<br><br>And - have you developed a language yourself, and IDE, or somehow the ability to port BlitzMAX to Flash (SWF) instead of just debug or final state EXE ? <br><br></td></tr></table><br>
<a name="1292387"></a>

<a name="1292388"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Bit of work but got it up. This version will save state regular data in addition to any arrays you want, both string and numeric. Example code included.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
'    ________________________________________
'   //                                     //
'  // "BMX Save State" version "Arrayed"  //
' // Written by David W (dw817) 01/28/16 //
'//_____________________________________//

' I was looking at Monkey-X's own SaveState command which
' allows programmers to save a single String of data to
' recall game variables later.

' This can be adapted to BlitzMAX and with easier access
' by my code thus.
'
' What's up ??
' Added code so you can both load and save numeric and
' string arrays. Good for dice, cards, high-scores, and
' other game related data.

Strict
SetGraphicsDriver GLMax2DDriver(),0 ' zero forces front buffer
Graphics 768,576

Global statevar:tmap=New tmap ' necessary ! do not remove, only line required at top

Local c,x,y,a$,n$,d$,i,dice[6]

n$="Frederick" ' REM this out after you run once

stateload ' if no data, no problem, otherwise load it

x=stategetno("x") ' sample data to save and retrieve
y=stategetno("y")
c=stategetno("c")
If stategetstr("n$")&gt;"" Then n$=stategetstr("n$")
stategetarrayno dice,"dice" ' recover dice array, neat !

Repeat ' {* MAIN *}

Cls
SetScale 2,2 ' double scale so text can be seen
SetColor 255,255,255 ' text is always white
DrawText n$,384-TextWidth(n$),20 ' draw centered near top
d$=""
For i=0 Until 6
  d$:+dice[i]
  If i&lt;5 Then d$:+"     "
Next
DrawText d$,384-TextWidth(d$),60 ' show values of all 6 dice
SetScale 1,1 ' back to single scale drawing
If c=0
  SetColor 255,255,255 ' 4 color choices, white
ElseIf c=1
  SetColor 255,0,0 ' red
ElseIf c=2
  SetColor 0,255,0 ' green
ElseIf c=3
  SetColor 0,0,255 ' blue
EndIf
DrawLine 0,0,x,y ' draw lines to intersect circle (below)
DrawLine 767,0,x,y
DrawLine 0,575,x,y
DrawLine 767,575,x,y
DrawOval x-50,y-50,100,100
If KeyDown(32) Then c=(c+1)Mod 4 ' SPACEBAR ? Change color but flip around
If KeyDown(key_up) Then y:-4 ' arrow keys ?
If KeyDown(key_down) Then y:+4 ' move accordingly
If KeyDown(key_left) Then x:-4
If KeyDown(key_right) Then x:+4
If KeyDown(key_r) ' key "R" ? Randomize DICE
  For i=0 Until 6
    dice[i]=Rand(1,6)
  Next
EndIf
glflush ' update screen
Delay 10

x=wrap(x,0,767) ' keep our circle within the screen
y=wrap(y,0,575)

Until KeyDown(27) ' {* END OF MAIN *} exit on escape

stateput "x",x ' save our test variables
stateput "y",y
stateput "c",c
stateput "n$",n$
stateputarray "dice",dice ' don't forget to save the dice !
statesave ' do this before exiting, next run will remember everything
End

' &gt;&gt; LOAD ALL VIRTUAL VARIABLES IN
Function stateload()
Global t$,p,a$=Replace$(Lower$(AppFile$),".debug.",".") ' remove debug from filename
Local fp:TStream
  a$=Left$(a$,Len(a$)-3)+"sta" ' make sta the file extension
  If FileType(a$)=1 ' file must exist
    fp=ReadStream(a$)
    While Eof(fp)=0 ' read all lines
      t$=ReadLine(fp)
      p=Instr(t$,"=") ' get position of equals sign
      MapInsert statevar,Left$(Lower$(t$),p-1),Mid$(t$,p+1) ' set virtual variable
    Wend
    CloseStream fp ' all done, close file
  EndIf
EndFunction

' &gt;&gt; RETRIEVE A VIRTUAL VARIABLE STRING VALUE
Function stategetstr$(t$)
  Return String(statevar.valueforkey(Lower$(t$))) ' nifty get virtual variable
EndFunction

' &gt;&gt; RETRIEVE A VIRTUAL VARIABLE NUMERIC VALUE
Function stategetno(t$)
  Return stategetstr(t$).toint() ' toint() forces it to be a number
EndFunction

' &gt;&gt; RETRIEVE A VIRTUAL VARIABLE NUMERIC ARRAY
Function stategetarrayno(r[] Var,t$)
Local i
  For i=0 Until Len(r) ' LEN gives LENGTH of array
    r[i]=stategetno(t$+"["+i+"]") ' brackets denote this value to be array
  Next
EndFunction

' &gt;&gt; RETRIEVE A VIRTUAL VARIABLE STRING ARRAY
Function stategetarraystr(r$[] Var,t$)
Local i
  For i=0 Until Len(r$) ' LEN gives length of array
    r$[i]=stategetstr(t$+"["+i+"]") ' brackets denote this value to be array
  Next
EndFunction

' &gt;&gt; STORE A VIRTUAL VARIABLE ARRAY (NUMERIC OR STRING)
Function stateputarray(t$,r[])
Local i
  For i=0 Until Len(r)
    stateput t$+"["+i+"]",r[i] ' brackets denote this value to be from an array
  Next
EndFunction

' &gt;&gt; SAVE A VIRTUAL VARIABLE VALUE (NUMERIC OR STRING)
Function stateput(a$,b$)
  a$=Lower$(a$) ' variable (not value) is always lowercase
  If a$="" Or a$="0"
    MapRemove statevar,a$ ' if it's zero or blank, remove it
  Else
    MapInsert statevar,a$,b$ ' otherwise record it
  EndIf
EndFunction

' &gt;&gt; SAVE ALL VIRTUAL VARIABLES
Function statesave()
  Local fp:TStream,b$,a$=Replace$(Lower$(AppFile$),".debug.",".")' remove debug from filename
  fp=WriteStream(Left$(a$,Len(a$)-3)+"sta") ' make sta the file extension
  For b$=EachIn statevar.keys() ' retrieve each and every virtual variable
    WriteLine fp,b$+"="+stategetstr(b$) ' save them
  Next
  CloseStream fp ' close file once all complete
EndFunction

' &gt;&gt; RETURN NUMBER WRAPPED WITHIN BOUNDARIES
Function wrap(a,b,c)
Local ok,n
  Repeat
    ok=1
    If a&lt;b Then a=a+c-b+1 ; ok=0 ' too low, wrap high
    If a&gt;c Then a=a-c+b-1 ; ok=0 ' too high, wrap low
    n:+1
  Until ok Or n=1000 ' either found value or exit if too busy
  Return a
EndFunction
</textarea> <br><br></td></tr></table><br>
<a name="1292417"></a>

<a name="1292440"></a>

<a name="1292441"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I won't tell you how you must implement your code, every body has its own obsession ...<br>I will just tell you 3 Things I don't like in your "coding-style" :<br><br>1 - you always put the demo part on top.<br>&gt; In my opinion, you shouldn't, there is many codes that embedded global variables outside of encapsulation, your demo won't initialize them when your program is loaded first. If you really want to put a demo on top, put it in a type and call it on the last line of the file, then the library part will be loaded first and the main scope will init everything before running the demo function.<br><br>2 - you use space instead of tabulation<br>&gt; it's really too tight for my eyes, it's stressing my small brain with lots of characters with no air between words. I feel opressed and I can't force myself reading that.<br><br>3 - in your loop you always draw stuff before updating the logic.<br>&gt; you'd better update the states of every thing before starting to draw a single rect, to ensure initialization is done and every thing is in its right place. And, while the drawing part is the most important for the user (it's all what he sees), for the program, it's almost always the less relevant. The drawing part should be a simple "if condition then draw stuff" where the condition is already a known state.<br><br>Then, once again, as I said above, I won't tell you how to code, if you're confortable with this "workflow", why not, if you don't you have now 3 clues to make a friend ^_^ (me). <br><br></td></tr></table><br>
<a name="1292427"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> - When closing the app I get a segfault (access field or method of null object)<br><br>- what about storing "[" and "]" strings -&gt; enquoting of such things is needed<br><br><br>Bruces Persistence-module is doing what it should do: it allows persistence of objects. For simple objects you could just serialize them ... array of strings (which allows floats, ints...), enquote strings correctly (replace "|" with "\|" and "\" with "\\" ...), glue them together using your stitch-string ("||" or so).<br>On Deserializing you then do the opposite way - result is an array of strings (which you cast accordingly when requesting special types).<br><br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1292485"></a>

<a name="1292494"></a>

<a name="1292495"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Bobysait.<br><br>[1] I put my main code on top as that is the one that gives me the most trouble and I always want it to be first in appearance.<br><br>I'm actually doing better in my coding ! There was a time when I would call a function named, "Startup()" that initialized all the global variables leaving ONLY the main code on top and nothing else at all. :) I don't do that anymore.<br><br>[2] I don't like to use non-ASCII codes in my source (unless it's binary data - and that's not a good idea for BlitzMAX). And that includes TAB.<br><br>I've been using 2-spaces to indent all the way back to <strike>TRS 80</strike> Turbo Pascal, the first language that did not require line numbers. That's going to be a hard habit to break, Bobysait.<br><br>[3] The greatest difficulty I have in programming will always be output, and I want output at the top to ensure it works if nothing else does (as visual to me is far more important than process when beginning a program).<br><br>Now I will vary this. If I call a full update routine, I may save it for last, but that's only because I have written the routine in such a way that the output is directly affected by the code, and it is a total rewrite of the screen each time.<br><br>For small and most programs, I always want the output first as I test that first. I will also always try to put the glflush() at the end before the either infinite loop or exit by ESCAPE. So essentially I am only updating the screen at the end of the loop.<br><br>. . .<br><br>As for friendships, truly I would not let someone's personal preferences in coding affect a friendship one way or the other.<br><br>No, it is honesty, compassion, understanding, and empathy. I see these elements as vital to one's determination of friendships.<br><br>A good friend is someone that knows you're a little strange in the head on some things too but does not let that affect the connection and bond you have.<br><br>And I can't claim credit for this, but it's a good one. "A good friend should never make you feel any different than who you really are."<br><br>One of my own quotes, "It is not the position of a person that makes them great, but their DISPOSITION." <br><br></td></tr></table><br>
<a name="1292493"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>As for friendships, truly I would not let someone's personal preferences in coding affect a friendship one way or the other.<br> <br></div><br><br>Sorry, &lt;&lt; you have now 3 clues to make a friend ^_^ (me). &gt;&gt;<br>I was just kidding a bit :)<br><br>For point 2 and 3, I understand.<br>For point 1, you just have to encapsulate the "demo" part<br><br><pre class=code>
Superstrict
Framework ...
Import ...

Type Demo
   Function main()
      SetGraphicsDriver GLMax2DDriver(),0 ' zero forces front buffer
      Graphics 768,576
      [...]
      End
   End Function
End Type


[...]
' At End of File, run the demo, so the code is on top
' and the call is at the bottom, and ensure everything is perfectly loaded
Demo.main()
</pre><br><br>It doesn't change too many things but it will prevent non-encapsulated variables from not being initialized.<br><br>Now, it's just an habit (usefull or not), I'm just guessing because I'm a bit lazy, and when I test a user code, there is always lots of things to check before hittin F5. (I care about my computer, and don't want to crash it just because somebody want his code to be tested)<br>Those habits allow to prevent many errors and I wish I live in a world where every programmers code just like me ... but I can't be ignorant too :) so, if I can ask someone to make some changes, I do, if he is not disposed to change, there is no problem, I understand that, but then, I'm still lazzy, so I probably will skip running his code if it's too far from something readable "for me".<br><br>by the way, you don't need to work in FrontBuffer if you use a Flip in your loop (I might be wrong but, the Flip is used to swap the back and front buffers) <br><br></td></tr></table><br>
<a name="1292497"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> The problem is Types. I now know why I don't like them. They are a function I don't choose to write because I want ALL display to be done by a routine like nano() (for massive programs), or in the MAIN code itself.<br><br>Whenever I try someone's source, if I can't find it at the top, I press CTRL-PGDN to jump to the bottom because I know that is where their main program is.<br><br>Main to me will always be main, and to me it stays on top. functions will always be secondary. Playing 2nd fiddle or wingman to the main code itself.<br><br>You'll have to forgive but I have truly fallen in love with Front Buffering and wild horses couldn't drag me from it now. :) I oft write code in BlitzMAX and wind up with flicker problems. Using this method it never happens now - and gives me a chance to do debugging of code without flicker additionally. <br><br></td></tr></table><br>
<a name="1292498"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Regarding Save Load:<br><br><pre class=code>

	Method SerializeTLocalizedStringToString:string()
		local s:string = ""
		'concencate all into one string
		'de::TextGerman::en::TextEnglish::...
		For local language:string = EachIn values.Keys()
			if s &lt;&gt; "" then s :+ "::"
			s :+ language.replace("\","\\").replace(":", "\:")
			s :+ "::"
			s :+ string(values.ValueForKey(language)).replace("\","\\").replace(":", "\:")
		Next
		return s
	End Method


	Method DeSerializeTLocalizedStringFromString(text:String)
		local vars:string[] = text.split("::")
		local language:string, value:string
		local mode:int = 0
		For local s:string = EachIn vars
			s = s.replace("\:", ":").replace("\\", "\")
			if mode = 0
				language = s
				mode :+ 1
			else
				value = s
				mode = 0
				Set(value, language)
			endif
		Next
	End Method
</pre><br><br>This serializes a group of "key=&gt;value" into  "key::value::key::value::key::::" (last being "null"). Think it is not that hard to adjust it to your needs (eg create a tmap on deserialization and returning this instead).<br>Such an TMap is useful to store various information.<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1292500"></a>

<a name="1292508"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Erm ... I have no idea what that code is doing above, Ron, especially with zero remarks.<br><br>Understand you guys started out likely on the IBM-pc w Internet, whereas I started out on the TRS 80 w audiocassette. I still think of code like this:<br><br>[REMARKS - TITLE, VERSION, CHANGES]<br>[EXTERNAL INCLUSIONS - INCBIN()]<br>[STARTING DEFINITIONS, VARIABLES, AND ARRAYS]<br>[FLAGS - HIGHLIGHTED VARIABLES MEANT FOR CHANGE BY USER]<br>[INITIALIZING - ANYTHING THAT HAPPENS ONLY ONCE PER EXECUTION]<br>[MAIN - USUALLY IN AN INFINITE LOOP, UPDATES THE SCREEN BEFORE LOOPING]<br>[FUNCTIONS, PROCEDURES, AND ROUTINES I WROTE]<br>[FUNCTIONS ,PROCEDURES, AND ROUTINES I DIDN'T WRITE - ALWAYS GIVE CREDIT]<br><br>The greatest answer to give someone means naught if they do not originally understand the question. :) <br><br></td></tr></table><br>
<a name="1292507"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> The important part is:<br><br>serialization:<br>- replace "glue" in the value's string representation with some enquoted value (":" becomes "\:")<br>- concat values with some "glue"<br>-&gt; serialized result<br><br>deserialization:<br>- split into parts by using "glue" as scissor<br>- replace enquoted glue again ("\:" becomes ":)<br>...<br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1292510"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Clear as mud, Ron. Look at the code I wrote above and compare that to yours. If you want me to understand, you are going to have to speak to me at a level I understand.<br><br>Understand it's about 3-4 of you in these forums and you all code way over my head. I'm here often cause I'm retired and get to work on code. Occasionally I think I can help someone with simple problems or something involving a formula or method to get a desired result in code.<br><br>That's about the size of it. <br><br></td></tr></table><br>
<a name="1292575"></a>

<a name="1292576"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is why I gave an abstracted overview on the principles (for you to learn, if you are interested).<br><br>- you have various (named) values<br>- you want them in one single string<br>- you have to connect them via "glue" (eg. "::" or "||" or whatever you like)<br>- as a value could contain "::" already, you have to modify this value by replacing ":" with "\:". As "\:" is also a potential original string possibility, you have to encode "\" as "\\" before  (short: first encode the "encode char" ("\"), then encode the splitter char (":"))<br><br>"value \:2" (original) becomes then "value \\\:2"<br><br>- now you could safely chain them together (string + "::" + string2 + "::" + string3 ...) (result eg "value1::value \\\:2::value3 with spaces")<br><br><br>When you then are deserializing, you reverse the process<br>- all values are still glued by "::" - so we could use 'myStrings:string[] = serializedString.Split("::")'<br>- now you have multiple array entries ("value1", "value \\\:2", "value3 with spaces")<br>- next step is to decode the "\" and ":" again (also in reversed order) - so first decode the splitter (Replace("\:", ":")) - now the text does only contain the "\"-encoded "\" ("\\"). Means: Replace("\\", "\").<br>- example for value2: "value \\\:2" =&gt; "value \\:2"  =&gt; "value \:2" <br><br>Do not frighten the "written so utterly complex" portion, think about it, it is really simple (once you understood it).<br><br>The hardest part is the encoding of your special chars.<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1292599"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Still clear as mud. It's up to you to explain at my level - or not. That's entirely up to you.<br><br>I'm still working on the 750k Carryall. I would've been done by now if it could handle only just a single file, but I'd like to see it handle folders and with recursion and encryption - so it's taking a bit longer.<br><br>bye<br>David <br><br></td></tr></table><br>
<a name="1292604"></a>

<a name="1292605"></a>

<a name="1292606"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Understand you guys started out likely on the IBM-pc w Internet, whereas I started out on the TRS 80 w audiocassette. I still think of code like this:<br> <br></div><br>mmm ... hey &lt;&lt;papy&gt;&gt;, you're maybe retired, but actually, I started on an old (that was not that old at this time) Thomson TO7, (the one with the optical stylus ^^)<br>Internet wasn't democratized, it was more about geeking technology. (I remember the long time spent copy-pasting char after char the undreds of line to compile a game from a book ... with 90 percent chance to had a mistake on the first lines.<br><br>Difference between us is probably that we update our code style as soon as new technologies allow it :)<br>Curiously, I don't feel the nostalgy of those old hardwares. It gave me so many headackes<br><br>But, sorry, it's totally off-topic, so, I skip this subject.<br><br><br>@serialization:<br>You add some &lt;&lt;escape characters&gt;&gt; (which means that the next character following your "escape char" will be identified differently from what it is, example : "\n" the n will be interpreted as a carriage line feed in the string instead of a "n")<br><br>It allows to store complex texts in a single string and can contain any special characters that a string is not supposed to handle, like "0" char or else.<br>In php, it's a commun use, because it allows to store all the code of a message (on a forum for example) in a single string in the database<br><br>when you deserialize, you actually rebuild the original text replacing the interpreted chars by the real values. (it's the "reverse" side) <br><br></td></tr></table><br>
<a name="1292608"></a>

<a name="1292612"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Now I understand this, Bobysait. \n for CR.<br><br>In my primary TRX routine for S3 there are quite a few commands I've developed.<br><br>^n = ^ &amp; digit, display special characters<br>^f = different font<br>^s = different character set (up to 255 of them)<br>^c00 = letter or two-digits, change to colorset f=fire, glow red, l (el)=lime, glow green, i=ice, glow blue<br>^^ = CR<br>^[ = left justify next text<br>^] = right justify next text<br>^= = center next text<br>^_ = add input type<br><br>And there are many other commands<br><br>I'm not sure if that is considered serializing. <br><br></td></tr></table><br>
<a name="1292611"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>I'm not sure if that is considered serializing. <br> <br></div><br>It can be.<br>Serialization is a generic term that doesn't imply a specifif method. There is tons of way to serialize a message, most of them are not generic at all (actually, the more generic, the lower the serialization).<br>bbcodes in forum are serialization. Transfert packet from client to server and back using some encryption is serialization.<br>Anytime you translate something into something else and can reverse to the original (deserialize) it can be considered "serialization". <br><br></td></tr></table><br>
<a name="1292645"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK so let's say I understand serialization now, Bobysait. What does that have to do with a program that saves and recalls variables ? <br><br></td></tr></table><br>
<a name="1292648"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  OK so let's say I understand serialization now, Bobysait. What does that have to do with a program that saves and recalls variables ?  <br></div><br>Heh. Your question implies therefore that you don't understand serialisation ;-)<br><br>I'd link to the Wikipedia page about Serialization [sic], but it doesn't have any code examples in BlitzMax, only an explanation about what it is :-p <br><br></td></tr></table><br>
<a name="1292690"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's okay Brucey. I've gotten as far as I have by coding and learning one step at a time. Just today I discovered the CreateTimer() and WaitTimer() routine.<br><br>I'm surprised that the 'smooth' animation number needs 120 and not 60 as 60 staggers a bit. I thought games were 60fps ? <br><br></td></tr></table><br>
<a name="1292703"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Brucey. Surely someone has posted a simple and working example of serialization in BlitzMAX ?<br><br>If it's within my realm, I think I've always managed to post pretty simple examples of what could be complex mechanics and thinking given the tedious turn. <br><br></td></tr></table><br>
<a name="1292742"></a>

<a name="1292743"></a>

<a name="1292744"></a>

<a name="1292745"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Hi Brucey. Surely someone has posted a simple and working example of serialization in BlitzMAX ? <br></div><br><br>If you are not able to adopt the code in #17 then this might help:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
SuperStrict

FrameWork Brl.StandardIO


Global valA:int = 10
Global valB:string = "Hello, the ~q::~q is the escape character"
Global valC:string = "Yeah!"

Global serializedString:string = Serialize([string(valA), valB, string(valC)])
print "Serialized: "+serializedString

Global deserializedValues:string[] = DeSerialize(serializedString)
print "valA: "+deserializedValues[0]
print "valB: "+deserializedValues[1]
print "valC: "+deserializedValues[2]




Function Serialize:string(values:string[])
	local s:string = ""
	'concencate all into one string
	'a::b::c...
	For local v:string = EachIn values
		'glue together with "::"
		if s &lt;&gt; "" then s :+ "::"
		'replace escape character and escape the "escape helper" ("\")
		s :+ v.replace("\","\\").replace(":", "\:")
	Next
	return s
End Function


'this a bit generalized DeSerializer does not know about your variables
'which is why we return a generalized array containing everything as
'string
Function DeSerialize:string[](serialized:string)
	local values:string[] = serialized.split("::")

	'undo escaping
	For local i:int = 0 until values.length
		values[i] = values[i].replace("\:", ":").replace("\\", "\")
	Next
	return values
End Function
</textarea><br><br>Output:<br><pre class=code>
./bmk makeapp -t console -quick -r -x "/testcodes/serialization.bmx"
[ 77%] Processing:serialization.bmx
[ 88%] Compiling:serialization.bmx.console.release.linux.x86.s
flat assembler  version 1.68  (32768 kilobytes memory)
3 passes, 2596 bytes.
[100%] Linking:serialization
Executing:serialization
Serialized: 10::Hello, the "\:\:" is the escape character::Yeah!
valA: 10
valB: Hello, the "::" is the escape character
valC: Yeah!
</pre><br><br>And NO ... I wont write you a more generalized example as this gets longer code then - which you seem to dislike.<br><br>The most generalized code would be to use Brucey's TPersistence as it automagically takes care of objects. To store simple integer/strings/... you would have to wrap them in a custom type (TSaveGame with Fields "live:int", "name:string" ...). This is needed, because globals are not available via brl.Reflection.<br> <br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1292791"></a>

<a name="1292800"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> No that's fine,Ron. I think I'm understanding. Now, what if I wrote code to get the same results as you have. Would that be 'correct' ?<pre class=code>Global valA:Int = 10
Global valB:String = "Hello, the ~q::~q is the escape character"
Global valC:String = "Yeah!"

Global serializedString:String = Serialize([String(valA), valB, String(valC)])
Print "Serialized: "+serializedString

Global deserializedValues:String[] = DeSerialize(serializedString)
Print "valA: "+deserializedValues[0]
Print "valB: "+deserializedValues[1]
Print "valC: "+deserializedValues[2]</pre>Because I see what you're doing here, and I can definitely write this. <br><br></td></tr></table><br>
<a name="1292799"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> You do it correct if you are able to put "whatever string content" (all chars) together - and then to split them apart without trouble.<br><br>so:<br><br>in-&gt;(box)-&gt;out <br>in = out<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1292807"></a>

<a name="1292808"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> Awright, let's see if I got this, Ron:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Strict

Global valA:Int = 10
Global valB:String = "Hello, the ~q::~q is the escape character"
Global valC:String = "Yeah!"
Global ser$,sercount

Global serializedString:String = Serialize([String(valA), valB, String(valC)])

Print"Serialized: "+ser$
Print "valA: "+deserializedValues$(0)
Print "valB: "+deserializedValues$(1)
Print "valC: "+deserializedValues$(2)

' &gt;&gt; ADD SELECTIONS TO SER$ SEPARATED BY "::"
Function serialize$(v$[])
  For Local t$=EachIn v$ ' EACHIN gets all elements
    t$=Replace$(t$,"::","\:\:") ' if "::" found inside single element,
    ser$:+t$+"::" ' change to ":\:\"
  Next
  ser$=Left$(ser$,Len(ser$)-2) ' not sure how to tell end of EachIn
EndFunction ' so yank last 2-characters

' &gt;&gt; EXTRACT SINGLE SELECTION FROM SER$ DELIMITED BY "::"
Function deserializedvalues$(n)
Local p,r$,i
  For i=0 Until Len(ser$)
    If Mid$(ser$,i+1,2)="::" Then p:+1 ; i:+1 ' found :: so jump to next data in line
    If Mid$(ser$,i+1,2)="\:" Or Mid$(ser$,i+1,2)="\\" Then i:+1 ' skip next character if \: or \\
    If p=n Then r$:+ser$[i..i+1] ' matching selection, add the characters
  Next
  Return r$
EndFunction
</textarea> <br><br></td></tr></table><br>
<a name="1292825"></a>

<a name="1292828"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> Your code will fail if the valB-string is "hi \:\: escape char used". you only escape the usage of "::".<br><br>You need to escape the character used to escape the "glue". We decided to use "\" (this is how blitzmax does it too). So we have to escape "\" chars too...with again "\".<br><br>Also I used stringVal.Split(glue) to avoid using Mid() for each character.<br>As you could loop over the return of Split() you are able to do<br><br>For local s:string = EachIn serialized.Split("::")<br>....<br>Next<br><br>As Blitzmax calculates the result once for the whole loop, this isnt that cpu hungry.<br><br>I used the <br>For i = 0 to array.length<br>approach as this allowed me to have the index variable adjusted automatically... which is good as I replace the content of the array instead of creating and filling a new array to return at the end.<br><br><br>Also: the "::" is just defined by me...you could use a single colon, a pipe ("|")... just like the visual appearance of the double-colon.<br><br><br>Bye<br>Ron <br><br></td></tr></table><br>
<a name="1292920"></a>

<a name="1292932"></a>

<a name="1292933"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Your code will fail if the valB-string is "hi \:\: escape char used". you only escape the usage of "::".<br><br><b>[over my head]</b>You need to escape the character used to escape the "glue". We decided to use "\" (this is how blitzmax does it too). So we have to escape "\" chars too...with again "\".<br><br>Also I used stringVal.Split(glue) to avoid using Mid() for each character.<br>As you could loop over the return of Split() you are able to do<br><br>For local s:string = EachIn serialized.Split("::")<br>....<br>Next<b>[/over my head]</b><br><br>As Blitzmax calculates the result once for the whole loop, this isnt that cpu hungry.<br><br>I used the<br>For i = 0 to array.length<br>approach as this allowed me to have the index variable adjusted automatically... which is good as I replace the content of the array instead of creating and filling a new array to return at the end.<br><br>Also: the "::" is just defined by me...you could use a single colon, a pipe ("|")... just like the visual appearance of the double-colon. <br></div><br><br>Well, I thought I was just supposed to duplicate the results, which I think I did, but maybe that's not enough.<br><br>Tom has another coding challenge for me at the moment, some code I can find and work with.<br><br>And - looking at this code - it's not me. I wear a gray cap that has pins on it of all kinds, usually about Texas and places I've been.<br><br>This code is a dark oversized purple velvet cowboy hat that lights up around the sides with 2 replaceable AA batteries in the stem. It's just not me. :)<br><br>I can't see a use for this code in my work. The closest thing I can think of to this is my YANK() routine (or pull, if you want to call it that). It works. I'm using TLIST and TMAP variables now. I didn't do that earlier - so some of this advanced coding I'm finding is useful - just not all of it.<br><br>Verbally speaking (outside code) what would serialization (deserialization ?) be especially useful for that you think I couldn't write the code to without ? <br><br></td></tr></table><br>
<a name="1292943"></a>

<a name="1292950"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> (ok, if you use the wrong shortcut for a new tab, the current tab reloads - and your posting content is gone, so you now get the even shorter "new attempt" post -- normal forums should warn if you leave the forum with post content in the reply box...)<br><br><br>@Serialization<br>Imagine someone asks you for straight information: age, weight, size, name. They are not accepting "I am 19 years old and weight...", pure information is wanted. So you answer "19 years [breath] 190 kg [breath] 150 cm [breath] Blobby".<br>Your answer is then a bit "serialized" already.<br>Maybe you use CSV - this is "serialized" data too.<br><br><br>@Escaping<br>First of all: <a href="https://en.wikipedia.org/wiki/Escape_character" target="_blank">https://en.wikipedia.org/wiki/Escape_character</a><br><br>Imagine you decided for ":" to split your data sections apart (CSV would use ",", others use "tab").<br>As long as you only put in numeric values, everything looks nice and clean (<i>1:2:1.22:3</i>). But as soon as we add strings, these could contain your glue code (":" in our case). So you might end up with <i>"a:b:glue code is -:-:c"</i>. When now trying to get the original variables back,you would check for your glue code ":" . You then would find: <i>a, b, "glue code is -", "-", c</i>.<br><br>So what to do? You have to mark the glue-code-signs used in the given string. So you escape/mark the characters ":" in every value we glue together. <br>Now the important part as we do not have "regex" for more advanced splits so we need to run through each char of the string, if it is the glue, handle it (check if escaped char, or glue). Important: As we add something to escape "glue", we have to handle that added char too. Often "\" is used as escape char, so a "\" in one of the variables has to get escaped too (<i>Replace("\","\\")</i>).<br><br>The serialized code would be then: <i>"a:b:glue code is -\:-:c"</i>.<br><br>[run "split by glue code"-code]<br>Result is <i>a, b, "glue code is -\:-", c</i>. Last steps are then, to unescape each ":" which is left (escaped as "\:") and to unescape the escape-char-"\" we used to escape "\" in the string-variable.<br><br>Just as information (which has shown, that my "split()"  is not catching this ...so it is incorrect):<br>So what happens, if someone wants to explain the escaping part in the serialized stream: <i>a, b, ": is escaped as \:", c</i>. The serialized string would look like this: <i>"a:b:\: is escaped as \\::c"</i>. A simple <i>split(":")</i> would fail now - as it ignores the preceeding "\".<br><br><br>Conclusion (don't want to delete aboves content :-)) is, that your "for loop" is a step in the correct direction - but like said, it will fail in certain situations (might be based on my misleading assumptions I posted before).<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1292948"></a>

<a name="1292949"></a>

<a name="1292951"></a>

<a name="1292952"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hope this works now:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
SuperStrict
Framework Brl.StandardIO

local valA:int = 10
local valB:string = ": becomes \:"
local valC:int = 20
local valD:string = "escape char \ is useable too"
local valE:string = "" 'an empty at the end? works too!

local serialized:string = Serialize([string(valA), valB, string(valC), valD, valE])

print "valA: ~q"+valA+"~q"
print "valB: ~q"+valB+"~q"
print "valC: ~q"+valC+"~q"
print "valD: ~q"+valD+"~q"
print "valE: ~q"+valD+"~q"
print "serialized: ~q"+serialized+"~q"

print "deSerialized"
local deSerialized:string[] = DeSerialize(serialized)
print "valA: ~q"+deSerialized[0]+"~q"
print "valB: ~q"+deSerialized[1]+"~q"
print "valC: ~q"+deSerialized[2]+"~q"
print "valD: ~q"+deSerialized[3]+"~q"
print "valE: ~q"+deSerialized[4]+"~q"



Function Serialize:string(vars:string[], glue:string=":")
	local result:string = ""
	For local v:string = EachIn vars
		if result then result :+ glue
		result :+ v.Replace("\", "\\").Replace(glue, "\"+glue)
	Next
	return result
End Function


Function DeSerialize:string[](serialized:string, glue:string=":")
	local escaped:int = False
	local values:string[]
	local value:string

	For local i:int = 0 until serialized.length
		'space added to [.i.] as forum else thinks it is a forum code for italic style...
		local c:string = chr(serialized[ i ])
		'check for special chars
		'escape the follow up character (if not in escape mode already)
		If c = "\" and not escaped
			escaped = True
		'found start of next value, add the current one to the list
		ElseIf c = glue and not escaped
			values :+ [value]
			value = ""
		'append to current value
		Else
			value :+ c
			escaped = False
		EndIf
	Next
	'add last value (alternatively add "glue" to "serialized")
	values :+ [value]

	return values
End Function
</textarea><br><br><br>I tried to comment my deserializing code so the "logic behind" gets explained.<br><br><br><pre class=code>
valA: "10"
valB: ": becomes \:"
valC: "20"
valD: "escape char \ is useable too"
valE: "escape char \ is useable too"
serialized: "10:\: becomes \\\::20:escape char \\ is useable too:"
deSerialized
valA: "10"
valB: ": becomes \:"
valC: "20"
valD: "escape char \ is useable too"
valE: ""
</pre><br><br><br>As you see, I had to escape the escape char "\" too - as you else wont be allowed to use the escape-char in a string you want to serialize (see <i>valD</i>).<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1292961"></a>

<a name="1292962"></a>

<a name="1292963"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> An alternative I used is:<br><br><pre class=code>
Function EscapeString:string(in:string, escapeChar:string=":")
	return in.replace("\","\\").replace(escapeChar, "\"+escapeChar)
End Function


Function UnEscapeString:string(in:string, escapeChar:string=":")
	return in.replace("\"+escapeChar, escapeChar).replace("\\", "\")
End Function
</pre><br><br>But like said, this is only 50% of the rent, because glueing together multiple escaped strings then still need the "for loop" to unglue them ("hi:"+"ho" glued with ":" becomes "hi\::ho" - unglueing cannot rely on split(":") but needs that manual "escape-char-\"-check).<br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1293109"></a>

<a name="1293110"></a>

<a name="1293111"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Ron. I appreciate you trying to teach me this. Now there is one thing I don't understand. In your code you have:<pre class=code>print "valA: ~q"+deSerialized[0]+"~q"
print "valB: ~q"+deSerialized[1]+"~q"
print "valC: ~q"+deSerialized[2]+"~q"
print "valD: ~q"+deSerialized[3]+"~q"
print "valE: ~q"+deSerialized[4]+"~q"</pre>And in my code to recall a virtual variable, I would use:<pre class=code>print "x: "+vvar("x")
print "y: "+vvar("y")
print "c: "+vvar("c")
print "n$: "+vvar("n$")</pre>In your code you are outputting virtual variables that have no identifying marks, so you must index them by number. What is this used for - and why is this better than being able to recall virtual variables by identifying and matching names ?<br><br>Also, can you please write this one line out minus using periods.<pre class=code>		result :+ v.Replace("\", "\\").Replace(glue, "\"+glue)</pre>I think I may understand it better here what's going on. <br><br></td></tr></table><br>
<a name="1293800"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cocopino</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> Derron used this function<br><pre class=code>
Function DeSerialize:string[](serialized:string, glue:string=":")
</pre><br>which returns an array of strings. Therefore, you can get this array of strings by using<br><pre class=code>
local deSerialized:string[] = DeSerialize(serialized)
</pre><br><br>Why is this better than using identifying names? Because now you can do this:<br><pre class=code>
for s:string = eachin deSerialized
'do something with s
next
</pre><br>no matter how many items are in the array. Much more flexible and less code than having to write and allocate each variable separately.<br><br><pre class=code>
result :+ v.Replace("\", "\\").Replace(glue, "\"+glue)
</pre><br>v is a string. A string is just an object to Blitzmax, having its own methods (like Replace). Replace searches for the first parameter in the string, replaces that by the second parameter, and then returns a new string. This newly replaced string has the same methods, so you can "chain" methods like e.g.<br><pre class=code>
Local mystring:String
mystring = "this string is old".Replace("old", "new")
print mystring
mystring = mystring.Replace("new", "newer").Replace("newer", "newest!")
print mystring
</pre><br><br>Do you have Blide IDE? It will help a lot because the intellisense will show you the available methods once you enter a dot. <br><br></td></tr></table><br>
<a name="1293825"></a>

<a name="1293826"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> I used <br>result :+ v...<br><br>because I append it the same as if doing <br>result = result + v...<br><br><br>@eachin<br>Because If I do not know the length of the result set in advance I have to use a "select ...end select".<br>Eg you get only one string, then it might be "z"-value, if you get two, it might be "x,y" ...<br><br>Also: if you do use "eachIn" you will have to increase a "currentArrayIndex" variable - as you else do not know at which position you are.<br><br>How would you do an eachin-loop deserializing 3 properties x,y,z ?<br><br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1293952"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> Awright guyz, I understand this:<pre class=code>a$="123"
a$:+a$.Replace("1","a").Replace("2","b").Replace("3","c")
Print a$</pre><br><br>That's a very TRICKY way of replacing the same string with new data based upon its original contents.<br><br>I'm not familiar with BLIDE ? <br><br></td></tr></table><br>
<a name="1294066"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
a$="123"
a$:+a$.Replace("1","a").Replace("2","b").Replace("3","c")
</pre><br><br>could be --- surprice --- get shortened to<br><br><pre class=code>
a$="123".Replace("123","abc")
</pre><br><br>@blide<br>it is not needed / not a "must have". But it helps a lot if you do not know the classes you use (foreign modules, 3rd party imports).<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1294071"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think I'm more familiar with:<pre class=code>a$=replace$(a$,"123","abc")</pre>I've known about this and have been using it. These "." commands are definitely shortcuts is the way I see it. <br><br></td></tr></table><br>
<a name="1294080"></a>

<a name="1294081"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >kfprimm</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="https://github.com/blitz-research/blitzmax/blob/master/mod/brl.mod/retro.mod/retro.bmx#L105-L107" target="_blank">https://github.com/blitz-research/blitzmax/blob/master/mod/brl.mod/retro.mod/retro.bmx#L105-L107</a><br><br>Here's the source for Replace. There's alot you can learn from checking out the module source code. Most of it is BlitzMax. <br><br></td></tr></table><br>
<a name="1294084"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep, I know. This is the compatibility module. Minju if I couldn't use these I really wouldn't be happy.<br><br>I'm good where I'm at, and I am using the "." reference in a few of my works now. No worries.<br><br><b>n=Instr(filedat$,a$[i..i+1])-1</b><br><br>This is a convenient way of getting my FNC$ without having to call a function.<br><br>And I'm not going to be using this in my code any more.<pre class=code>' &gt;&gt; RETRIEVE SINGLE CHARACTER FROM STRING AT POSITION
Function fnc$(a$,b)
Return Mid$(a$,b,1)
EndFunction</pre> <br><br></td></tr></table><br>
<a name="1294127"></a>

<a name="1294128"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cocopino</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>I've known about this and have been using it. These "." commands are definitely shortcuts is the way I see it. <br> <br></div><br><br>No, they are not "shortcuts", they are methods belonging to objects, in other words: a function specific to that Type. In the case of String.Replace it doesn't add much, but there are many reasons why most programmers nowadays use Object Oriented Programming. One of the main reasons is, it's much more simple to separate code that has nothing to do with other parts of your code.<br><br>Let's take your rain code for example:<br><a href="http://www.blitzbasic.com/Community/posts.php?topic=105666" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=105666</a><br><br>How will you run that code as a screen FX, while the game is running and other parts (player, enemies etc) also need to be moving? That will be pretty tricky to do, but with using OOP you'll just have something like this (pseudocode):<br><br><pre class=code>
While Game.Running() 'main loop
	Rain.Update()
	Player.Update()
	Enemies.Update()
	GUI.Update() 'menus, buttons etc
	Game.Draw() 'draw all the updated items
Wend
</pre><br><br>The rain code is now completely separated from the other parts of your code. Once you are satisfied with your rain code, you'll never have to touch it again, it will not intervene with any other stuff. And, if there IS something off with the rain code, you'll instantly know where to look (I keep each meaningful Type in a different file named TypeName.bmx to keep searching and scrolling to a minimum). <br><br>What's more, re-usability will become a breeze (maybe a wizard that can create fire- or toxic rain?). And my personal favorite: OOP allows a good IDE to use intellisense on your types. So once you've typed "Rain." the IDE will show you every available property and method and make it selectable in a dropdown list. No need to remember the names of your functions anymore.<br><br>There's a pretty good Blitzmax OOP tutorial around:<br><a href="http://brucey.net/programming/blitz/misc/library/BlitzMax_OOP_Tutorial.pdf" target="_blank">http://brucey.net/programming/blitz/misc/library/BlitzMax_OOP_Tutorial.pdf</a><br><br>I can promise you that once you "get it", you won't be looking back. I know, I've been there :) <br><br></td></tr></table><br>
<a name="1294152"></a>

<a name="1294153"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Cocopino.<br><br>In truth I've never had any problems with effects and I haven't written one lick of Object-Oriented code nor used TYPEs for years, and yet I managed to write S2, a rather powerful RPG Maker in its own right.<br><br>I'm not very happy with TYPES. I will use them in the future for 'fire and forget' items like sparkles or effects, but not anything deeper than this.<br><br>Actually my main concern ATM is a way to load and use any font that is NOT installed in Windows and I can make use of it for all my gadgets in <b>MaxGui.Drivers</b>. Apparently no-one to date has done this yet. <br><br></td></tr></table><br>
<a name="1294158"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cocopino</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> Of course, nearly anything could be accomplished without ever using a Type. I started out with VB6, never touching any Class ever. I programmed like that for years, and made many programs, a lot of them commercially. However, I will never build anything so unstructured like that again.<br><br>I've had many a doubt (and a lot of fear) about OOP. I also remember my first baby steps, something like:<br><pre class=code>
Type THuman
	
	Field firstName:String
	Field lastName:String
	
	Method GetName:String()
		Return firstName + " " + lastName
	End Method
	
End Type

Local human:THuman
Print human.GetName()
</pre><br><br>Crash. Null Object? WTF? The object is right there !!!<br>I did not understand it at all.<br><br>Can't remember what the breakthrough was exactly, but once I got it, I almost instantly also knew how to program in C# and Java. The concepts are so similar that languages are now just tools to me, and I now choose the correct one for a job instead of trying to bend another one to my will. (e.g. I once tried to use VB6 as a webserver backend language, not a very good idea)<br><br>Long story short - yes, you can do almost anything without OOP but you are making life difficult for yourself, and others trying to help you or read your code. I don't think there are many people on these forums that do not use types and methods. <br><br></td></tr></table><br>
<a name="1294159"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cocopino</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Actually my main concern ATM is a way to load and use any font that is NOT installed in Windows and I can make use of it for all my gadgets in MaxGui.Drivers<br> <br></div><br><br>If you are distributing your program, why not just install the font during installation? <br><br></td></tr></table><br>
<a name="1294198"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#51">[#51]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Cocopino.<br><br>Yes, that is what Grable suggested. However, if I can find a way to display a gadget, like <b>CreateTextArea</b> to appear above another gadget like <b>CreateCanvas</b>, then I can use BlitzMAX's own <b>LoadImageFont</b> command to detail the frame, and that will be sufficient. <br><br></td></tr></table><br>
<a name="1294199"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#52">[#52]</a></td></tr></table></td></tr><tr ><td class="posttext"> What would the point be of having a TextArea gadget on top of a Canvas gadget if you are going to be drawing text in the canvas?<br>You are going to read the text from the text area and then render it in the canvas instead so that the user thinks they are typing with a different font?<br><br>Heh :-) <br><br></td></tr></table><br>
<a name="1294201"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#53">[#53]</a></td></tr></table></td></tr><tr ><td class="posttext"> No. The font in the text area being system is fine. I will use the font loaded by <b>LoadImageFont</b> to detail the names of the items only, thus:<br><br><img src="http://www.writerscafe.org/uploads/rte/f0366b96188a3345c0e8bfe07aa72eff.png"><br><br>The aqua represents actual drawing area. The white represents the fields for gadgets, and this can vary in both size and number. Any option to draw static text will be done in the drawing area. The WHITE area will only be for fields, buttons, drag bars, and so on. <br><br></td></tr></table><br>
<a name="1294212"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cocopino</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#54">[#54]</a></td></tr></table></td></tr><tr ><td class="posttext"> Many programs install their own font(s). <br>A couple of extra fonts will hardly slow down the OS so I wouldn't worry about it. <br><br></td></tr></table><br>
<a name="1294217"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#55">[#55]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am understanding that a font can be installed and removed seamlessly. This is then a possibility I will look into. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
