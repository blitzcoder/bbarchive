<!DOCTYPE html><html lang="en" ><head ><title >Making a Swinging Rope in a Platform game</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Making a Swinging Rope in a Platform game</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Making a Swinging Rope in a Platform game</a><br><br>
<a name="1020168"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rico</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi i am writing a platform game, and its going well so far, but i would like to have a swinging rope in there, which the character can jump on. When i think of ropes in platform games i always thing of the one in Jet Set Willy which was made out of lots of dots/squares. How can i make such a rope?. i have never done one before and i am unsure how to go about it. can a rope be made from lines somehow? i would like the rope to have some thickness.<br><br>there used to be a routine i had called ColorRope i think which i got from the old Blitz 2D forum, however i lost that with my old computer. that drew a rope like i want. <br><br></td></tr></table><br>
<a name="1020192"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could use lines, you could have several vartical sections each of which starts on a given row and ends on a given row, then to make it wider you just add more lines to the sides of it.. it wouldn't be accurate but it'd be reasonable. You'd need some collisione detection in order to detect rope colliding with player. To get more advanced you'd need physics and textured polygon routines. <br><br></td></tr></table><br>
<a name="1020248"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CGV</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> You're looking for <a href="/posts.php?topic=66506#745572" target="_blank">this maybe?</a> <br><br></td></tr></table><br>
<a name="1020532"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rico</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> thank you very much CGV, that looks great, how can i do collision detection with the rope - ie to see if the main character lands on it? thats a very nice routine though :) just what i was thinking of. <br><br></td></tr></table><br>
<a name="1020616"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >theHand</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Rico I recommend you start learning Trigonometry now so that you will have it in the future (checkout a couple books on it at your local library).  It's a great asset (look at that Cosine function on the rope, you will have a much better understanding of how it works and will be able to do many, many more fun things like the swingy rope) <br><br></td></tr></table><br>
<a name="1020905"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rico</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you, i will brush up on my trig. i know a little bit already. will it help me to detect collisions with the rope? i suppose  i know the position of each individual segment of the rope, so i can use those for helping with collision detection. also if i use bitmaps for the rope segments i can use the built in collision detection as well. <br><br></td></tr></table><br>
<a name="1021061"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >theHand</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, it will absolutely help you detect collisions with the rope.  To do so you must understand where the Function puts each "segment", and to do that you need math and probably a graphing calculator. :P<br><br>Edit: If you use bitmaps it has to access the object every time to check for collisions, whereas if you just store a center point for each segment and check for 'collision' with your Player object, you will do the same thing in half( at least!) of the work. <br><br></td></tr></table><br>
<a name="1021198"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EOF</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Rico,<br>I wrote that code some while ago but for collision detection you might want to consider the Dist() function below<br><br>You can check how 'close' your player is to say, the end of the rope. If the distance is relatively small (&lt;=12 pixels for example) you can switch to a PLAYERSTATUS = ONROPE mode<br><br><pre class=code>
Function Dist:Float(x1:Float,y1:Float,x2:Float,y2:Float)
	Local dx:Float=Abs(x1-x2)
	Local dy:Float=Abs(y1-y2)
	Return Sqr(dx*dx + dy*dy)
End Function
</pre><br><br><br>You can check the distance at the time of the Draw() routine:<br><br><pre class=code>Method Draw()
    For Local rad%=1 To length Step 7
    Local bend#=(angle-ropemid)/ropebend
    Local ang#=angle+bend*rad
    ropePX#=ropeX#+Cos(ang)*rad 
    ropePY#=ropeY#+Sin(ang)*rad
    DrawOval ropePX,ropePY,8,12
    ' the bottom End of the rope
    SetColor 10,50,10
    DrawOval ropepx,ropepy,10,11
    ' check distance between player and end of rope
    ' no need to check if player is already on the rope though
    If PLAYERSTATUS&lt;&gt;ONROPE
        If Dist(playerX,playerY,ropepx,ropepy)&lt;12
            PLAYERSTATUS=ONROPE
        EndIf
    EndIf
End Method
</pre> <br><br></td></tr></table><br>
<a name="1021502"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rico</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you Hand, i have a few ideas i can use now. Thanks very much Jim for the routine. That will be very useful too, it will come in handy for other things too :)<br><br>i found a few more rope routines on the forum using the search function but they are in old Blitz language so i need to convert them, i will look at those too to see which rope i prefer. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
