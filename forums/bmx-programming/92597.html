<!DOCTYPE html><html lang="en" ><head ><title >undefined reference to `WindowFromPoint@4'?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >undefined reference to `WindowFromPoint@4'?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >undefined reference to `WindowFromPoint@4'?</a><br><br>
<a name="1055852"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> The function is declared in the module.  Why isn't it able to link?:<br><pre class=code>Import pub.win32

Local point:Int[4]
WindowFromPoint(point)

End</pre><br><div class="quote"> Building untitled1<br>Compiling:untitled1.bmx<br>flat assembler  version 1.68  (1867431 kilobytes memory)<br>3 passes, 552 bytes.<br>Linking:untitled1.exe<br>C:/Program Files (x86)/BlitzMax/tmp/.bmx/untitled1.bmx.gui.release.win32.x86.o: undefined reference to `WindowFromPoint@4'<br>Build Error: Failed to link C:/Program Files (x86)/BlitzMax/tmp/untitled1.exe<br>Process complete <br></div> <br><br></td></tr></table><br>
<a name="1055853"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Possibly because WindowFromPoint takes an Int Ptr, not an Int Array. BlitzMax is extremely inconsistent with automatically typecasting, so it might not be casting for you here. Try casting it yourself with VarPtr(point[0]). <br><br></td></tr></table><br>
<a name="1055854"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> It takes a POINT struct not a pointer so will probably simplest to wrap call in a C stub. <br><br></td></tr></table><br>
<a name="1055855"></a>

<a name="1055856"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Strangely enough, if I do this it works fine:<br><pre class=code>Extern "win32"
	Function WindowFromPoint:Int(x:Int,y:Int)
EndExtern</pre><br><br><font class="tiny">Last edited 2010</font> <br><br></td></tr></table><br>
<a name="1055859"></a>

<a name="1055860"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> It takes a POINT struct not a pointer so will probably simplest to wrap call in a C stub.  <br></div><br>It must have been changed in an update I don't have then, because it definitely says Int Ptr here.<br><br>EDIT: Come to think of it. I'm not sure I see that it makes any difference. An array of 4 ints would be the same as POINT struct, and passing the pointer to the first entry in the array would achieve the same thing, no?<br><br><font class="tiny">Last edited 2010</font> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
