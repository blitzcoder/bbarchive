<!DOCTYPE html><html lang="en" ><head ><title >Why won't this module compile?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Why won't this module compile?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Why won't this module compile?</a><br><br>
<a name="701085"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> bmk makemods -a pub.LWmaths<br><br><pre class=code>Strict

Module PUB.LWmaths
ModuleInfo "Version: 1.0.0.1"
ModuleInfo "Author: Joshua Klint"
ModuleInfo "Copyright: Leadwerks Corporation"
ModuleInfo "www.leadwerks.com"

Import Brl.Math

Function Dbl!(val!)
	Return val!
EndFunction

Function Log2#(num#)
	Return Log(num)/0.693147
End Function

Function Round(val#)
	Local dec#
	dec#=val-Floor(val)
	If dec&lt;0.5 Return Floor(val) Else Return Ceil(val)
EndFunction

Function Bool:Byte(value)
	If value Return True Else Return False
EndFunction
</pre> <br><br></td></tr></table><br>
<a name="701086"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Triforce Guardian</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Did you try strict off? <br><br></td></tr></table><br>
<a name="701087"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Still doesn't work.<br><br>It's in a folder "PUB\LWmaths.mod". <br><br></td></tr></table><br>
<a name="701092"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmmm...the name had to be all lower-case. <br><br></td></tr></table><br>
<a name="701144"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm normally only if you are on non windows as OSX and Linux are case sensitive, even with module names. <br><br></td></tr></table><br>
<a name="701224"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've taken to lowercasing all of my module and directory names.  I'm tired of arguing with the compiler.  Heh. <br><br></td></tr></table><br>
<a name="701664"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wasn't it a no-no to put your own modules under the 'pub' folder?<br><br>(Thought some of the updates wipe &amp; repopulate this and the brl module folders, but the others are left alone?) <br><br></td></tr></table><br>
<a name="701666"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes its a no no as any update will kick it out into the backup folder again (brl and pub are for Blitz modules not usermade)<br><br>Another problem is that all modules from brl and pub modserver automatically get imported if you don't exclude them through frameworking. <br><br></td></tr></table><br>
<a name="701846"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tried putting my modules in a leadwerks.mod folder and naming them leadwerks.modname, but bmk won't compile them that way. <br><br></td></tr></table><br>
<a name="701854"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Make a folder:<br>Blitzmax/mod/leadwerks.mod<br><br>Make a sub folder:<br>Blitzmax/mod/leadwerks.mod/maths.mod<br><br>Save your file as maths.bmx in this folder, and set the Module name to leadwerks.maths.<br><br>Import it in your projects using Import leadwerks.maths <br><br></td></tr></table><br>
<a name="701858"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> BMK compiles this module:<br><br>pub.lwstring<br><br>BMK will not compile the module when placed here:<br><br>leadwerks.string<br><br>I have checked spelling and names enough times that I know that isn't the problem.  BMK will not compile any module that is not in "pub" or "brl".  I have compiled enough modules that I know how to do it, and I am not naming them wrong or anything.<br><br>I have a folder in "mods" called "leadwerks.mod".<br>I have a folder in "mod\leadwerks.mod" called "string.mod".<br>I have a file in "mod\leadwerks.mod\string.mod" called "string.bmx".<br>The modulename in "mod\leadwerks.mod\string.mod\string.bmx" is "leadwerks.string".<br><br>The module compiles fine when placed in the "pub" folder and named correctly. <br><br></td></tr></table><br>
<a name="701861"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try turning off quick build, and rebuild ALL modules. It sure sounds like it's something misspelled somewhere, but it could be something else. <br><br></td></tr></table><br>
<a name="701862"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why would I rebuild all modules?  I am calling bmk directly with a .bat file:<br>bmk makemods -a leadwerks.string <br><br></td></tr></table><br>
<a name="701865"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try rebuilding the module(s) from the IDE.<br><br>Just so you know, I cannot use leadwerks.string as a module identifier. It tells me 'unexpected string literal', calling it 'strings' (everywhere, also folders) makes it compile fine. <br><br></td></tr></table><br>
<a name="701866"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> That won't work even if you placed it in pub.<br><br>String is a reserved keyword in BM as it is a core type. BM does not seperate between modserver, module names and types (stupidly but it is that way)<br><br>move your lwstring folder over to leadwerks.mod and change it from Module pub.lwstring to leadwerks.lwstring<br><br>Its for example not possible to name a type like the module it is in, that won't work as well. <br><br></td></tr></table><br>
<a name="701868"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Dreamora is right.<br><br>This makes naming conventions a bit awkward.  If I have a module that enhances bank functions, I can't call it leadwerks.bank, because that conflicts with brl.bank.  I can call it leadwerks.lwbank, so do I give all my modules a "lw" prefix?  I have leadwerks.math3D, but if BRL comes out with a math3D module that's going to break mine.  Of course, calling everything "leadwerks.lw_" is pretty redundant.  Why even bother with separate folders if each module has to be named uniquely? <br><br></td></tr></table><br>
<a name="701875"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thats no problem, there is no naming conflict.<br><br>BM is scope based, so you could still access both by brl.math3d.xx and leadwerks.math3d.xx<br><br>But what you can't do is name a type the same as a module and in the specific case of the core types (object, string and all the numeric types), name a module like a type.<br><br>With all other, fully BM based types within BRL and PUB, there is no problem, those aren't "hardcoded". Only the types etc within brl.blitz are reserved from I've seen (and had to find out the hard way ^^) so far. <br><br></td></tr></table><br>
<a name="701878"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nope, bmk will compile leadwerks.lwmath, but it will not compile leadwerks.math.  It produces "math.debug.win32.x86.i" then quits, so I know I am not naming anything incorrectly. <br><br></td></tr></table><br>
<a name="701881"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> by rebuilding modules you would most likely get a more usefull output <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
