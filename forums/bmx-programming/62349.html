<!DOCTYPE html><html lang="en" ><head ><title >linker failing</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >linker failing</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >linker failing</a><br><br>
<a name="696784"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nigel Brown</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am getting a link error on one of my PC's that does'nt happen on ay of the others? same install of BlitzMAX same install of MinGW same eviroment variables? The output is listed bellow and there seems enough info to indicate the problem but I am stumped!<br><br>Linking:main.debug.exe<br>C:/Shared/firmware upload/portmidi/pm_win/.bmx/pmdll.c.debug.win32.x86.o(.text+0x24):pmdll.c: multiple definition of `DllMain@12'<br>C:/Program Files/BlitzMax/mod/brl.mod/appstub.mod/appstub.debug.win32.x86.a(appstub.win32.c.debug.win32.x86.o)(.text+0x1de):appstub.win32.c: first defined here<br>Build Error: Failed to link C:/Shared/firmware upload/main.debug.exe<br>Process complete <br><br></td></tr></table><br>
<a name="696785"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Rebuild modules? <br><br></td></tr></table><br>
<a name="696786"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nigel Brown</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> have sync mods and re-built them still the same! The project is compiling port MIDI and sending sysex commands. As I mentioned before the two machines seem to be identical in everyway as far as BlitzMAX install goes but this error will not go away! <br><br></td></tr></table><br>
<a name="696788"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Whats the "C:/shared/firmware upload" thing?? <br><br></td></tr></table><br>
<a name="696789"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brendane</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> The problem is that one of the c files in portmidi (pmdll.c) defines the function DllMain() - as does BlitMax's appstub.c<br><br>Are you sure you have the same version of portmidi AND BM on all your machines? Are the other machines mod's up to date? - if so I would expect them to fail to link also. <br><br></td></tr></table><br>
<a name="696790"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nigel Brown</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> c:/shared/firmware upload/ is the folder that contains my source and the portMIDI folder <br><br></td></tr></table><br>
<a name="696791"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nigel Brown</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Brendane: I have not uploaded the modules on the machine that works for a few days because of this errror that has appeared. Not being able to compile the code at all would be disasterous! Is there a way around the problem? <br><br></td></tr></table><br>
<a name="696795"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brendane</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, well Mark recently added DllMain() into one of the windows startup files. (I hope because we might be getting DLL creastion support sometimes soon).<br><br>You can comment out the DLLMain() function in appstub.c (if you don't know how to, enclose the whole function with /* and */ ) - then rebuild modules. Your code should now link. (However, someone needs to ideally split the DLLMain out of portmidi to allow for the new BMax updates). <br><br></td></tr></table><br>
<a name="696797"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brendane</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> that would be appstub.win32.c by the way <br><br></td></tr></table><br>
<a name="696809"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brendane</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Any luck with this?<br><br>I've just glanced at the portmidi source and you should be able to get away without importing "portmidi/pm_win/pmdll.c" in your module's .bmx file. That (if it works) should cure your problem regardless of BMax. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
