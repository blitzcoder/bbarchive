<!DOCTYPE html><html lang="en" ><head ><title >SetGfxDriver SDLMax2DDriver()</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >SetGfxDriver SDLMax2DDriver()</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >SetGfxDriver SDLMax2DDriver()</a><br><br>
<a name="660008"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>SetGfxDriver SDLMax2DDriver() <br><br>Need to know how difficult this would be? We need robust fallback for our 2D games.<br><br>Ideally then SDL will handle the alpha, the rotation and the scaling etc via drawimage...<br><br>What do we need to make this work seamlessly? Here is the current progress:<br><br><a href="http://www.blitzmax.com/Community/posts.php?topic=49216" target="_blank">http://www.blitzmax.com/Community/posts.php?topic=49216</a> <br><br></td></tr></table><br>
<a name="660110"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi<br><br>I feel confident in taking a crack at this myself. Can you please give me a quick mini tutorial on how to make a basic Driver framework (ie tell max what one is cls and so on...) <br><br></td></tr></table><br>
<a name="660122"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TartanTangerine (was Indiepath)</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'd be interested in this one but only if you can get SDL sprite rotation working well. <br><br></td></tr></table><br>
<a name="660130"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>From my findings tonight (I have SDL running happily in bmax) I think we need a 3rd party addon that is very popular called roto zoom for sdl. And this is compiled to create an a file which we use. It's totally compatible with SDL and well known apparently.<br><br>Far more important though is you can't actually blit to minus coords. You need to somehow move the buffer. I need another brain? <br><br></td></tr></table><br>
<a name="685216"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BeChris</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi everybody, I just tried to create a SDL backend for Max2D, based on SDL 1.2.11 and SDL_gfx 3.0 (no dll for this last one, c files directly included).<br><br>I currently can display images scaled and rotated (thanks to SDL_gfx), also calling SetAlpha will have an effect on displayed image.<br><br>I still have a problem with rotation (as SDL_gfx always rotate according to the top left corner of the image, whereas Max2D can rotated according to whichever handle is set before) and alpha channel (which may produce garbage depending on images).<br><br>I also receive keyboard and window close events and forward them succesfully to blitzmax internal event handler.<br><br>If you want sources and try an example, go grab it at <a href="http://perso.wanadoo.fr/chrisgames/sdlmax.zip" target="_blank">http://perso.wanadoo.fr/chrisgames/sdlmax.zip</a> (windows only for the moment)<br><br>(press ESC or close window to stop example).<br><br>Is it worth creating a community project ?<br><br>Waiting for your comments ... <br><br></td></tr></table><br>
<a name="685620"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> To draw the sprite as if it's from the center you need to position it relative to the angle you're drawnig it.<br><br>Quick botch job:<br><br><pre class=code>
X=X-(sin(rotation)*width);Y=Y-(cos(rotation)*height)
</pre> <br><br></td></tr></table><br>
<a name="686217"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mr. Write Errors Man</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wouldn't HGE be a better choise than SDL? It supports rotations and such and still runs on crappier systems. <br><br></td></tr></table><br>
<a name="686245"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ozak</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Something without crappy GPL license would be preferable so we can link it in directly :) <br><br></td></tr></table><br>
<a name="686382"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, whatever happened to <i>true</i> public domain?<br><br>Russell <br><br></td></tr></table><br>
<a name="688924"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BeChris</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, I'm glad to announce that I made a lot on this module.<br><br>There is now a dedicated page on sourceforge : <a href="http://sourceforge.net/projects/sdlmax" target="_blank">http://sourceforge.net/projects/sdlmax</a><br><br>You can download there a zip which contains sources and compiled files for Windows and Linux as well as necessary dll and .a.<br><br>Among other things, I succeed in making rotozoom well located.<br><br>The remaining points are:<br>- Differents blending modes.<br>- Handling of alpha/mask color (they are closely linked in SDL).<br><br>If someone feel capable to help (I discovered SDL at the same time as I began this project), feel free to drop me an email.<br><br>I'm sure we will have in a not so far future a complete Max2D software-only driver.<br><br>Please, test it and leave me your feedback. <br><br></td></tr></table><br>
<a name="689735"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Chris,<br><br>I have been using the Noel cower SDL lib so far, and I thank you for your hard work on this library. Amazing job so far.<br><br>Is it cross-platform and do you support the main SDL calls (for example if I need to optimise sdl surfaces for speed? Just curious. <br><br></td></tr></table><br>
<a name="689749"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> But surely it can't be very fast at all the fancy stuff (glow, alpha, rotate, scale etc)?  Mind you if you have a detail setting in your game and you have to fall back to SDL, you could set it LOW detail. <br><br></td></tr></table><br>
<a name="689940"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BeChris</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi everybody.<br><br>One Eyed Jack: The module should be cross-platform (it ran succesfully under windows and linux) but as I don't own a Mac ...<br>Furthermore, I don't understand the meaning of "do you support the main SDL calls".<br><br>Grey Alien: I started to test the driver with all samples and games given with blitzmax. Some run very well, at the same speed as with default D3D or GL driver.<br>Some others (radialblur, zombie blast) are very very slow.<br><br>To be honest, my objective is to make possible to run very simple games. My new upcoming game Cavern Challenge  is a good example : 2D, very simple graphics with no realtime rotation or zoom. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
