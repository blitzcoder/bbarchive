<!DOCTYPE html><html lang="en" ><head ><title >Can you change a variables pointer?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Can you change a variables pointer?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Can you change a variables pointer?</a><br><br>
<a name="623763"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ziltch</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can Blitzmax modify an existing variables pointer?<br><br>i.e. <br>local a = 10<br>local b = 25<br><br>Can we change 'a' pointer so it is looking at 'b'?<br>This is very important for returned pointers from a Dll to an existing type structure in memory.<br><br>Getting pointers with varptr is easy , changing them is not! <br><br></td></tr></table><br>
<a name="623767"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah. You'd need to use some pointer variables alongside them though. Or put them in a type.<br><br>local a=10<br>local b=25<br><br>would need..<br><br>local c:Int Ptr=varptr(a)<br>local d:Int Ptr=varptr(b)<br><br>Then think of your variable with c[0] and d[0] instead of a and b<br><br>ie <br><br>c=d ' make a look at b<br>print c[0] ' same as print a<br>print d[0] ' same as print b<br>c[0]=5 ' same as a=5<br>d[0]=15 ' same as b=15 <br><br></td></tr></table><br>
<a name="623769"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Function pointers can do more of what you're thinking of , more directly changing to point to another function. I don't think you can change variable pointers, they are internal, without using a explicit pointer variable to manage it manually. I expect Max uses a pointer behind the scenes which is not accessible to your app. <br><br></td></tr></table><br>
<a name="623898"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ziltch</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you for your info.<br><br>I will have to find anothewr way! <br><br></td></tr></table><br>
<a name="623959"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Can we change 'a' pointer so it is looking at 'b'? <br></div>No.<br><div class="quote"> This is very important for returned pointers from a Dll to an existing type structure in memory. <br></div>But you can do that. <br><br></td></tr></table><br>
<a name="623976"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you looked at CreateStaticbank() ?<br><br>You can point that at an existing memoryblock. <br><br></td></tr></table><br>
<a name="624022"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can cludge a static bank onto a variable<br><br>Local a:Int=5<br>Local bnk:TBank=CreateStaticBank(VarPtr(a),4)<br>Local buf:Int Ptr=Int Ptr(BankBuf(bnk))<br>buf[0]=10   'same as a=10<br>print buf[0]  'same as print a <br><br></td></tr></table><br>
<a name="624033"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Fabian.</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>Ziltch</b>:<div class="quote"> local a = 10<br>local b = 25 <br></div>You could write:<div class="quote"> local a[] = [10]<br>local b[] = [25] <br></div>If you now want to change a so that it's looking at b you can write:<div class="quote"> a = b <br></div>To access to the values of the variables use a[0] instead of a and b[0] instead of b.<br>This allows you two ways of setting the variable to a value:<div class="quote"> a[0]=8 'This sets a and all variables looking at a to 8.<br>a=[8] 'This sets only a to 8; other variables looking at a will stay at their old values. <br></div><br><b>Ziltch</b>:<div class="quote"> Getting pointers with varptr is easy , changing them is not! <br></div>A pointer to a variable is a constant - so you can't change it. <br><br></td></tr></table><br>
<a name="624099"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ziltch</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the handy info.<br>The CreateStaticBank command may help. Thanks Peter and AngelDaniel.<br>Fabian , I also did not know you could do , a=[8] . Thanks! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
