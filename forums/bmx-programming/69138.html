<!DOCTYPE html><html lang="en" ><head ><title >Moving window freezes program</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Moving window freezes program</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Moving window freezes program</a><br><br>
<a name="772868"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >watusimoto</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am creating a client-server game, and have noticed that when I grab the title bar of a BlitzMax program window, the program will freeze until I release it.  This means that if someone drags the server window across the screen, it will stop responding to clients during the operation.  How can I keep things flowing smoothly if someone wants to move a window?<br><br>Thanks! <br><br></td></tr></table><br>
<a name="772889"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> With EventHooks. I don't know much about them, but that's the term. If you search for that, I suspect you'll find what you need. <br><br></td></tr></table><br>
<a name="772899"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >kronholm</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey I have the exact same problem :) Please let me know if you figure out how to fix it.. <br><br></td></tr></table><br>
<a name="772901"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you sure Gab?<br>Surly if the program is suspending while waiting for the window to be placed, then all that would happen is that the queue would fill-up?<br>Its only running one thread, and if that thread is handleing the screen, then the hooks wont override this would it? <br><br></td></tr></table><br>
<a name="772917"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TaskMaster</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you sure the program is freezing up, or is it just not redrawing while you are dragging?<br><br>I will have to test this. <br><br></td></tr></table><br>
<a name="772918"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TaskMaster</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just tested this, and you are right.  It stops running completely.  Now, I wonder if that is a symptom of all Windows' windows. <br><br></td></tr></table><br>
<a name="772929"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >watusimoto</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, surely it isn't -- I can drag my media player around without the music stopping! <br><br></td></tr></table><br>
<a name="772930"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I can drag my media player around without the music stopping <br></div>Ahhh, but is your Media Player actualy playing the Music? Or has it just sarted a background task to play the music? <br><br></td></tr></table><br>
<a name="772945"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try the RedrawGadget example for an example of hooks at work. Windows goes into an infinite loop while the mouse button is down for both window and scrollbar movement, fortunately it issues a callback so hooked messages can be serviced such as the 100hz watchdog timer that keeps the redrawgadget applet alive. <br><br></td></tr></table><br>
<a name="772952"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've been testing it with eventhooks and it works perfectly. I had the problem that my canvas was not redrawed when the window was being moved. Using hooks fix it, so events are being processed when the window is being moved. If network events are't being processed, it seems like a BlitzMax bug to me. <br><br></td></tr></table><br>
<a name="772962"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> seems no search in the forum was done:<br><br><br><a href="http://www.blitzmax.com/Community/posts.php?topic=66207" target="_blank">http://www.blitzmax.com/Community/posts.php?topic=66207</a><br><br><br><br>bye<br>MB <br><br></td></tr></table><br>
<a name="772973"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> That thread is about someone who insists on using a Max2D window and not a MaxGUI window, utter foolishness... <br><br></td></tr></table><br>
<a name="772974"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> @watusimoto: Time to switch to Max Gui? <br><br></td></tr></table><br>
<a name="772977"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> That thread is about someone who insists on using a Max2D window and not a MaxGUI window, utter foolishness... <br> <br></div><br>Skid, are you saying if you have a game that can run fullscreen or windowed then you should use 'Max2D' for fullscreen and MaxGUI for windowed? <br><br></td></tr></table><br>
<a name="773013"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TaskMaster</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> How about taking the titlebar off the window so it doesn't exist.  Then the user can't grab it and cause your app to quit responding.  Then, just draw a titlebar at the top of the window yourself.  And if the user grabs it, you move the window. <br><br></td></tr></table><br>
<a name="773052"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >watusimoto</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am using Max2D.  Would switching to a MaxGUI window fix my problem?  Are there any drawbacks to using MaxGUI?  Why doesn't everyone use it? <br><br></td></tr></table><br>
<a name="773073"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> $30 <br><br></td></tr></table><br>
<a name="773093"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> watusimoto, no after a little bit of testing I think you just need to get your head around hooks<br><br>I've posted an example in tutorials of <a href="/posts.php?topic=69149" target="_blank">running multiple services from a hook</a>. <br><br></td></tr></table><br>
<a name="773127"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't use MaxGUI for windowed mode. Guess I'm a fool.  Any more elaboration please? <br><br></td></tr></table><br>
<a name="773136"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> I dont either Grey. I <i>think</i> what skid was trying to say, was that if you didnt know how to do it in max2d, then you should really be using MaxGUI.<br><br>(A little bit like when someone wants smoth scrolling, and the simplest answer is <b>buy</b> Greys Framework ;) <br><br></td></tr></table><br>
<a name="773142"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> could be true.  But it won't work on totally crappy PCs, NOTHING will...except locked into a fixed Hz gameplay which will fail in windowed mode (well, be too fast most likely).<br><br>Anyway I saw a solution for redrawing the screen during windowed mode (non-GUI) kicking around here a while back, probably have it bookmarked somewhere...<br><br>hmm I found this, may be useful but not to me:<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=62786#701967" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=62786#701967</a> <br><br></td></tr></table><br>
<a name="773492"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> An "if you don't know" sounds like an offense to all people willed to produce something without knowing every little detail of OS and pc-interna (ticks).<br><br>They may just use the imagination in their heads and some nifty and small commands to give them a place on the harddisks of gamers.<br><br><br>To the hint to remove the titlebar... as long as an application can be focused (or also focussed by clicking on the app-button in the taskbar) it can also be moved by shortcuts or even special keys on keyboards or mice.<br><br><br>And for the solutions given up to now: if the pc cannot handle the things the application wants (too slow and too crappy graphiccards) the whole thing stops and even the mouse will not respond (some of my users claimed this problem to occour on their &lt;1ghz pcs).<br><br><br>But before I drift away from the topic: would be great if this moving-and-redraw-problem would be solved by BRL - just to make it default behaviour because there is -nearly- no reason to deactivate this for games or graphically intensive "applications".<br><br><br>bye<br>MB <br><br></td></tr></table><br>
<a name="773497"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> @H&amp;K, reading the post from Skid and I can't see how it means "If you don't know how to do it in Bmax, spend $30 on MaxGUI and learn how to do it in that as it's easier".<br>So...<br>Skid, what do you mean by...<br><div class="quote"> That thread is about someone who insists on using a Max2D window and not a MaxGUI window, utter foolishness...  <br></div><br>? <br><br></td></tr></table><br>
<a name="773500"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok <br><br></td></tr></table><br>
<a name="773571"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >kronholm</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> So is it absolutely confirmed that moving the main window can be detected, and a game can fully function while being window-dragged with Max GUI, i.e. flip and do game logic? If it is, I'm not so sure we'll see any kind of implementation of this feature in main blitzmax, as that's a pretty strong selling point. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
