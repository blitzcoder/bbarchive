<!DOCTYPE html><html lang="en" ><head ><title >small incbin issue</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >small incbin issue</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >small incbin issue</a><br><br>
<a name="474483"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I can do this:<br><br>Incbin "weapons.png"<br><br>But not this:<br><br>path$="weapons.png"<br>Incbin path$<br><br>The compiler says it's expects a "string literal" but encountered a identifier. (Anyone explain what that means =) )<br><br>Also incbin does not use lower() on the path, so Incbin "Weapons.png" does not work.. Same goes when you Load: a = Loadimage("incbin::imagename"), where it fails if incbin is written with any capitals. Is this a bug/something to be fixed/ or am I useing the command in the wrong way? <br><br></td></tr></table><br>
<a name="474489"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul "Taiphoz"</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah this answers a problem I had with incbin as well..<br><br>I think its goto be a bug cos nothing else is case specific. that I know of anyway.<br><br>and I think by literal it means Constant, as Path$ is not a constant it wont compile. <br><br></td></tr></table><br>
<a name="474497"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> The compiler says it's expects a "string literal" but encountered a identifier. (Anyone explain what that means =) ) <br></div>A "String literal" is just that. Something that is literally a string. Not a variable or constant that contains a string, but an actual string.<br><br><div class="quote">  Is this a bug/something to be fixed/ or am I useing the command in the wrong way?  <br></div>Well the lower() bit seems to be a case of 'using it the wrong way'. Since you've supplied Incbin with a string literal, you already know the case of the filename. MacOS and Linux are potentially case-sensitive, thus it is adviseably to only use lowercase latin characters for filenames. <br><br></td></tr></table><br>
<a name="474504"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Since IncBin is done at compile time it only accepts actual string constants ( string itself ). There is no use for anything like a variable or similar for it as the incbin can't change at runtime ( -&gt; after compilation ) <br><br></td></tr></table><br>
<a name="474515"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yah, you can't incbin with path$ because path$ is a probably set up as a variable - it would imply that you had the ability to change path$ at runtime to change what is incbin'd, which doesn't make sense (or, if it makes sense, it isn't a supported functionality).<br><br>I don't know if you could, however, do<br><br>Const path$="weapons.png"<br>incbin path$<br><br>If you were trying to use path$ as a variable so that you can load in several files in some kind of loop, you can't use incbin for that. Incbin is only to embed file data at compile-time which can later be extracted at runtime. And to extract it you need to give it a constant name. You might think well, why the heck can't I use a variable. My guess is, because the compiler has to keep track of the address within the executable that the file is stored and does it with a number but also internally stores the file's name/path as a complimentary thing (or throws it out at compile time) ... so the location is probably hardcoded in the compilation.<br><br>I'm not sure how I feel about inbin'd files.. .great to make a single exe but having to refer to each file with a filename rather than like a numerical value. <br><br></td></tr></table><br>
<a name="474629"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> That explains it. And I do think it should work with constants, cause I have a series of types which controls my media. Each instance/image have a path$. It is constant but it would feel better to not have to do IncBin manually, but it's not like it's important or anything.<br><br><div class="quote">  MacOS and Linux are potentially case-sensitive, thus it is adviseably to only use lowercase latin characters for filenames.  <br></div><br>That was good to know, I always write filenames with mixed Caps =) And latin, does that mean the entire ascii table or not included ~^'¥Ù‡`? <br><br>I guess this doesn't matter if I include my files in the binary? (Assuming I only code in win) <br><br></td></tr></table><br>
<a name="474637"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Good question. If we want files to be properly loaded on all three platforms, is there differences in naming conventions and forbidden characters etc that can't be allowed?<br><br>For example, in osX you are allowed to have a file with a / in the name, but this isn't acceptable in msdos.<br><br>? <br><br></td></tr></table><br>
<a name="474754"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hotcakes</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> For example, in osX you are allowed to have a file with a / in the name, but this isn't acceptable in msdos. <br></div><br>You are?!?  But that's the directory seperator!<br><br>There's no reason why IncBin shouldn't work with Const constvar$="whatever", if it doesn't then I dare say that's an oversight on Mark's part.  I also agree with AngelDaniel, returnhandle=IncBin("whatever") would be a better implementation too...  but then there's the question of how to handle the loader...  currently it takes a string in the form of "incbin::whatever" how would a numerical equivalent be handled..? <br><br></td></tr></table><br>
<a name="474759"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> the returnhandle would be totally useless ... the handles you get later are of a different type then this one so it would ( or could? difference is 0 ) create some quite "unnice" problems with numerical collisions. <br><br></td></tr></table><br>
<a name="474764"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> As it is now it doesn't work with Const Path$, I was a little unclear above.<br><br><div class="quote">  returnhandle=IncBin("whatever") would be a better implementation too...   <br></div><br>Agree, and it shouldn't be to hard to implement. The only differenct when loading the image is "incbin::"<br><br>incbin("file.*")<br>Const Path$ = "file.*"<br>IncBinPath$ = "incbin::"+Path$<br>Image = LoadImage(IncBinPath$)<br><br>I think this would give more freedom:<br>IncludeFile=incbin("file.*")'Probably returns the number of the include file. i.e the first file would return 1, all data is kept in a list. So the include adress and binary stuff could be "hidden"<br>Image = LoadImage(IncludeFile)'Loads the included file at specified number in the includelist, if it is an image then success!<br>This is how imagehandles works isn't it?<br>Because you can drawImage(1) ' for first image<br>or <br>Midhandleimage(1) 'again for image 1 <br><br></td></tr></table><br>
<a name="474812"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Good question. If we want files to be properly loaded on all three platforms, is there differences in naming conventions and forbidden characters etc that can't be allowed? <br></div>Yes, there is definately an issue with character encoding. In western countries, Win32 and Linux users will typically use Unicode or ISO 8859-1 (Latin-1). The Mac ofcourse uses something entirely different.<br><br>Thus to be on the safe side only use the lowercase latin letters of the English alphabet, and numbers. Try to avoid spaces, underscores and hyphens too. <br><br></td></tr></table><br>
<a name="474828"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Underscores should not be a problem.<br><br>A to Z<br>a to z<br>1 to 9<br>and _ - <br><br>is what I use. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
