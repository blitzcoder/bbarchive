<!DOCTYPE html><html lang="en" ><head ><title >Wishlist</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Wishlist</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Wishlist</a><br><br>
<a name="801708"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> 1.  Get rid of garbage collection.<br>I have been using it for a year.  I understand it, but I don't like it.  It doesn't play well with other languages.  I store everything in lists automatically, so all this does is make my life harder and eat CPU cycles.<br><br>2.  Multithreading support<br>See #1.  With multicore processing becoming more important, this one makes a lot of sense.  I actually have practical applications I would like to use this for, like streaming textures from the hard drive.<br><br>3.  Official support for dll and static lib compilations.<br>I do a lot of interfacing with other languages.  This would help a lot.<br><br>4.  Better debugger<br>This is something that would improve the overall experience for all users, not jsut a few.<br><br>Everything else, I could not be happier with.  I love BlitzMax, and everything it allows me to do. <br><br></td></tr></table><br>
<a name="801732"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Boulderdash</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> 5. Offical ICON Support <br><br></td></tr></table><br>
<a name="801734"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Azathoth</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Interfaces with multiple inheritance<br>Improved conditional complation <br><br></td></tr></table><br>
<a name="801740"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> 1. I would prefer if GCwas fully implemented. Right now it does not have root references which in the end means that cyclic refernce structures are not collected.<br><br>2. Or at least multi threading safe MemoryManagement / GC <br><br></td></tr></table><br>
<a name="801743"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> 6. A bugfree IDE that works on all OS'es without additional heavy libs one needs to install, basically as lightweight as the default one, but with code folding! I've BMax/gui for almost 2 years now, but I haven't had the impression I ever did something big. Whereas I *did* big stuff with B+ and the VisualBlitz IDE. Sometimes you just need to 'zoom out' to see the whole picture, so folding is important. Spreading code among various files decentralizes things, and for larger types it's not practical in the first place.<br>Iirc some BRL person was working on folding, any updates about that? <br><br></td></tr></table><br>
<a name="801763"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Winni</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> 1. Multithreading<br>2. A MaxGUI'd version of wxWidgets :) <br><br></td></tr></table><br>
<a name="801767"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> 1 OverLoading (Which could be done at pre-complation)<br><br>2 I reserve judgement on the GC, I also either have everything in lists or its Local, I dont tend to be at the "Power" end, so dont really notice if it does eat CPU cycles. But it does make life easier<br><br>3 Multithreading or PreEmptive hooks <br><br></td></tr></table><br>
<a name="801776"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MGE</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> On the PC side:<br>Upgade 2DMax to "officially" support DX8 or DX9. <br><br></td></tr></table><br>
<a name="801823"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CASO</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> -Printer Support<br>-Official Icon Support<br>-Better Audio Handling<br>-Video Handling <br><br></td></tr></table><br>
<a name="801831"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wishes are for dreamers. <br>I have lost that ability a while a ago. <br><br></td></tr></table><br>
<a name="801877"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> - Multithreading<br>- Code-folding in the default IDE<br>- Icon Support <br><br></td></tr></table><br>
<a name="801899"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> C# and Java both have garbage collectors and they're two of the fastest growing languages, so I don't buy that having a GC is bad. Having a better GC, on the other hand, very handy. Weak references, for example.<br><br>The debugger could certainly stand some improving. Quite a lot of it, in fact.<br><br>The main problem I have when dealing with other languages is the lack of C-compatible structs. Unions would be handy for this too.<br><br>Operator and Function Overloading would be very useful.<br><br>Anything which can be done already has a lower priority for me. I can use another IDE, I can use other tools, I can use libraries for graphics, audio, XML. Things like C-Structs, better debugging, and threading ( I have little to no interest in threading, but that's not the point, it is not sensible to do it third party ) you can't ( properly ) do any other way, so they're the things I want most. I can live with hassle for other things that are still possible. <br><br></td></tr></table><br>
<a name="801901"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would love to get rid of the GC, or at least have the option to turn it off.<br><br>Structs. <br><br></td></tr></table><br>
<a name="801902"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amon</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Max3D. <br><br></td></tr></table><br>
<a name="801905"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Isn't it possible to turn off the GC anyway? And a Type is basically a struct. <br><br></td></tr></table><br>
<a name="801986"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Azathoth</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Types are different to C structs, in blitz Type fields seem to always be padded and arrays are treated as pointers. <br><br></td></tr></table><br>
<a name="802030"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Czar -<br><br>Structs - what Azazoth said. The main issue is the loops you have to jump through when talking to external code that expect C style structures. Before anyone says 'just go use C', that's not the issue. I love Max but it could be a whole lot more user friendly with regards to calling external APIs.<br><br>GC - I have heard this said before, but no-one gave an example when I asked. Can you give me a small example that creates and destroys a type without GC? I had all sorts of problems with the GC when trying to implement FMOD callbacks. In the end I had to remove all type creation and destruction code from the callback to avoid errors, which was far from an ideal solution. <br><br></td></tr></table><br>
<a name="802031"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> You have to clearly seperate the code.<br><br>Stuff returned from C that is meant to be used in callbacks in C / C++ code should always be byte ptr and only assigned to your objects. Nothing you actually extern typed.<br>If you need a block of memory not managed, there is memalloc() which will generate a gc free memory block you have to free through memfree(byte ptr) again.<br><br>normally you use gcsuspend() and gcresume() to perform external calculations, you are aware that they can callback or interfer, to prevent suicide of the GC. <br><br></td></tr></table><br>
<a name="802645"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >errno!</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> This reminds me of that gif where you have a matchstick figure using bigger and bigger weapons to try to blow down the door.<br><br>Futility. <br><br>I second all halo's requests all the same. A modern language without threads is like a woman without boobs. It's just not the same... <br><br></td></tr></table><br>
<a name="802779"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br><div class="quote"> <br>1. Get rid of garbage collection.<br> <br></div><br>No. Never. In fact, it will be a cold day in hell when I I have to write anything 'production quality' again in a non-GC language - and I plan to write lots of stuff in Max.<br><br>So many things in Max rely on GC that the system would become pretty much non-functional without it - no more strings, 99% of the modules would crap out, even TLists!<br><br>I would never sacrifice the ability to do this....<br><br>Local p:TVec3=plane.Intersect( camera.Inverse().TimesPoint( modelMatrix.Times( mouseVec ) ) )<br><br>...for the equivalent half page of carefully monitored deletes and crap it would involve without GC - never mind if you actually wanted to store the result somewhere!<br><br><div class="quote"> <br>2. Multithreading support<br> <br></div><br>I would love this too - but it's *hard*!<br><br>Language-wise, the Max GC system needs to be synced -  but that is just the tip of the iceberg.<br><br>*Every* global in the module system would need some kind of synchronization. Even non-globals like TList's would require some 'higher level' sync algorithm to prevent scrambling data structures. Different OS's have different 'per thread' requirements and so on. The GC thing is the least of the problems...<br><br>I am basically looking for a better solution than 'ref counts are synced - go nuts'. Multi threading is, by default, extremely unsafe.<br><br><div class="quote"> <br>3. Official support for dll and static lib compilations.<br> <br></div><br>This I can do! Coming soon...<br><br><div class="quote"> <br>4. Better debugger<br> <br></div><br>Will happen... <br><br></td></tr></table><br>
<a name="802781"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LarsG</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool.. it's nice to get some news from you again, Mark. :)<br>It's good to know that things are progressing..<br><br>Are you still working on the new IDE you mentioned a while back? <br><br></td></tr></table><br>
<a name="802805"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nelvin</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Mark, would it be possible to at least fix the Garbage Collector to free all unreachable (from an application's point of view) unreferenced objects, i.e. the cyclic references problem?<br><br>GC is only half as useful as possible if you still have to manage your references manually to not keep unreachable objects alive. <br><br></td></tr></table><br>
<a name="802823"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Mark, would it be possible to at least fix the Garbage Collector to free all unreachable (from an application's point of view) unreferenced objects, i.e. the cyclic references problem? <br></div><br>That would be breaking it, not fixing. Neither object is unreachable, and a GC which disposes of objects you can still reach is worse than useless.<br><br><div class="quote"> <br>GC is only half as useful as possible if you still have to manage your references manually to not keep unreachable objects alive. <br></div><br>You don't have to manage your references manually, just don't use cyclic references. It's entirely your choice. <br><br></td></tr></table><br>
<a name="802828"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MGE</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Elvis has left the building... ;) <br><br></td></tr></table><br>
<a name="802833"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Gabriel: I think what he means is: could you add root reference counters which prevents cyclic but no where used structures from beeing uncollected until the end of the GC.<br><br>Cyclic stuff that is not referenced by your currently in scope variables i clearly not reachable and therefor surely nothing near worse if cleared :) <br><br></td></tr></table><br>
<a name="802837"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> That seems worse than ever to me. At least now there's a clear line on what's picked up and what isn't. That way you either have a grey area or you have the GC doing too much work and slowing everything down to a crawl. This is supposed to be a language which can be used for games, among other things, after all. <br><br></td></tr></table><br>
<a name="802847"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Who told you that untruth?<br>A java programmer? :-)<br><br>C# and Eiffel are GC based as well with root reference checking to prevent cyclic memory leaks and as far as I can remember, both are used for realtime entertainment as well and to make it even better: they are not really slower than C++, just a massive amount more bugfree and easier to maintain on a stable level.<br><br>Checking for root references isn't like searching a a white dot in a black surface of 1 km^2, it can be done without many many useless checkings.<br>It adds a little overhead, correct.<br>But it isn't as worse as "check for each object on its own if it is referenced anywhere in the program".<br>Just save and keep alive a root reference for each object instead of only the ref count. <br><br></td></tr></table><br>
<a name="802861"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> No. Never. In fact, it will be a cold day in hell... <br></div><br>Hahaha, thank you for your bluntness.  I can live with this, and am starting to design things to work a little more with the GC in mind.<br><br>That whole list sounds pretty good.  I'm getting some flak from my other programmer over the multithread thing, and need to find a solution, probably via a C lib.  I like to point out to him that using BlitzMax means we can rip our whole renderer apart and rebuild it in a day, but we do need to find some way to run another thread to stream textures. <br><br></td></tr></table><br>
<a name="802872"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nelvin</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> Any object not reachable from an applications point of view is garbage, not collecting those is simply a bug in the collector.<br><br>Documenting it isn't solving it, it's just a workaround - and I hope a temporary one. <br><br></td></tr></table><br>
<a name="802874"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nelvin</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah and a simple example for an unreachable object ... pseudocode ...<br><br>Instance1 = new Obj<br>Instance2 = new Obj<br><br>Instance1.other = Instance2<br>Instance2.other = Instance1<br><br>Instance1 = new Obj<br>Instance2 = new Obj<br><br>Now you have a sweet dangling couple hanging in the air - forever.<br><br>It's a simple and easy to fix example but if you write more complex systems it'll get harder and harder to not fall into those traps. <br><br></td></tr></table><br>
<a name="802887"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Winni</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> What -should- happen in your pseudocode is that the original objects Instance1 and Instance2 are processed by the garbage collector since they are no longer referenced.<br><br>I never played with this before... Does BlitzMax really have a bug like this that prevents the GC from collecting unreferenced objects? <br><br></td></tr></table><br>
<a name="802891"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Can you give me a small example that creates and destroys a type without GC? <br></div><br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Const GC_MODE_AUTOMATIC = 1
Const GC_MODE_MANUAL = 2

GCSetMode GC_MODE_MANUAL

Type TTest
	Global list:TList
	
	Field val:Int
	
	Function Create:TTest(val:Int)
		If list = Null Then list:TList = New TList
		Local temp:TTest = New TTest
			temp.val = val
			list.addLast(temp)
		Return temp
	End Function
	
	Method Free()
		FreeTarget(Self)
	End Method
	
	Function FreeTarget(target:TTest)
		If list = Null Then Return
		list.Remove(target)
		target = Null
		GCCollect()
	End Function
	
	Function CleanUp()
		list = Null
		GCCollect()
	End Function
End Type

Print GCMemAlloced()

For Local i:Int = 0 To 100
	Local a:TTest = TTest.Create(10)
Next

Print GCMemAlloced()

TTest.CleanUp()

Print GCMemAlloced()

End

</textarea><br><br>Something like this maybe? <br><br></td></tr></table><br>
<a name="802938"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> Winni: It is no bug. The GC is just only ref count based without root references, that means it does not check if a structure of objects can even be reached from the current variable scope or not.<br>Its a known restriction to the GC that some fall into if they use TList and TLink and use TLink.remove without null-ifying the tlink on the object (best known reason for the gc caused memory leak I know) <br><br></td></tr></table><br>
<a name="802940"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the example, Perturbatio. <br><br></td></tr></table><br>
<a name="803017"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> If streaming textures or other files is one of the prominent desired possibilities resulting from having threads, couldn't Mark implement a `special feature` which at some low level creates a Blitz-managed thread which is only used for reading/writing file data? I remember on the Amiga you could do `io` (input/output) in a couple of ways - either go get the information and wait until it comes back or set it running and then poll to check to see if it is finished. Is there any reason why Blitz couldn't manage a stream-processing thread (or several) in a very closed non-user-editable way that would be sure of being safe enough not to crash stuff? It wouldn't be like giving the user access to threads `in general`, it would be a very specific case and could be kept concealed and controlled?<br><br>That said, what OTHER uses do people intend on having for the use of threads? <br><br></td></tr></table><br>
<a name="803178"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >kog</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> My Wish is for MaxGUI.<br>A Multicolumnlistbox, i hope a official function comes out.<br><br>Sry for my bad english^^ <br><br></td></tr></table><br>
<a name="803556"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I'm getting some flak from my other programmer over the multithread thing, and need to find a solution, probably via a C lib. <br></div><br><br>The following technical article in the directx sdk docs makes good reading:<br><br><a href="http://msdn2.microsoft.com/en-us/library/bb310595.aspx" target="_blank">Lockless Programming Considerations for Xbox 360 and Microsoft Windows</a><br><br>Mark mentioned making globals and gc threadsafe in BlitzMax. From the numbers in the article this approach would be quite a performance penalty (significantly greater for multiprocessor machines):<br><br>MemoryBarrier was measured as taking 20-90 cycles. <br>InterlockedIncrement was measured as taking 36-90 cycles. <br>Acquiring or releasing a critical section was measured as taking 40-100 cycles. <br>Acquiring or releasing a mutex was measured as taking about 750-2500 cycles. <br><br>The xbox360 numbers (power pc) are worse.<br><br>So it's hard to argue a generic solution for threading in Blitzmax will not introduce performance penalties.<br><br>However asynchronous file communications is something that can be done without waiting for a better language solution to arrive. <br><br>A simple module that begins a load from file to bank and can be polled for completion status could be used by a polled wad loader to read a catalog of images to the bank buffers and as they arrive load / decompress them to your textures while the game continues to display an attractive loading screen.<br><br>For async file io in windows lookup ReadFile in msdn and check out the overlapped details. <br><br></td></tr></table><br>
<a name="803559"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> The async file stuff would be perfect if there is a Linux and Mac equivalent. <br><br></td></tr></table><br>
<a name="803560"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MrTAToad</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> On the PC side, I would like to use the latest version of MinGW.<br><br>May be good to have ARM support (could then write for the GP32X then)<br><br>Aside from that, as DLL and static libraries will be support, I'm happy :) <br><br></td></tr></table><br>
<a name="804027"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vertex</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> 4. Better debugger <br></div><br>For example test.bmx:<br><pre class=code>SuperStrict

Framework BRL.Blitz

Type TTest
	Global X : Int

	Function SetX(Value:Int)
		TTest.X = Value
		DebugLog("X = " + TTest.X)
	End Function
End Type

Function Foo()
	Global Bar : Int

	Bar = 123
	DebugLog("Bar = " + Bar)
End Function

DebugStop()
TTest.SetX(321)
Foo()</pre><br><br>will result the follow debuging:<br><pre class=code>C:\Dokumente und Einstellungen\Oliver\Desktop\test.debug.exe
~&gt;DebugStop:
~&gt;
t
~&gt;StackTrace{
~&gt;@C:/Dokumente und Einstellungen/Oliver/Desktop/test.bmx&lt;21,1&gt;
~&gt;Function test
~&gt;}
~&gt;
s
~&gt;Debug:
~&gt;
e
~&gt;Debug:
~&gt;
t
~&gt;StackTrace{
~&gt;@C:/Dokumente und Einstellungen/Oliver/Desktop/test.bmx&lt;22,1&gt;
~&gt;Function test
~&gt;@C:/Dokumente und Einstellungen/Oliver/Desktop/test.bmx&lt;9,3&gt;
~&gt;Function SetX
~&gt;Local Value:Int=321
~&gt;}
~&gt;
s
~&gt;Debug:
~&gt;
t
~&gt;StackTrace{
~&gt;@C:/Dokumente und Einstellungen/Oliver/Desktop/test.bmx&lt;22,1&gt;
~&gt;Function test
~&gt;@C:/Dokumente und Einstellungen/Oliver/Desktop/test.bmx&lt;10,3&gt;
~&gt;Function SetX
~&gt;Local Value:Int=321
~&gt;}
~&gt;
s
~&gt;Debug:
~&gt;
e
~&gt;Debug:
~&gt;
t
~&gt;StackTrace{
~&gt;@C:/Dokumente und Einstellungen/Oliver/Desktop/test.bmx&lt;23,1&gt;
~&gt;Function test
~&gt;@C:/Dokumente und Einstellungen/Oliver/Desktop/test.bmx&lt;15,2&gt;
~&gt;Function Foo
~&gt;Global Bar:Int=0
~&gt;}
~&gt;
s
~&gt;Debug:
~&gt;
s
~&gt;Debug:
~&gt;
t
~&gt;StackTrace{
~&gt;@C:/Dokumente und Einstellungen/Oliver/Desktop/test.bmx&lt;23,1&gt;
~&gt;Function test
~&gt;@C:/Dokumente und Einstellungen/Oliver/Desktop/test.bmx&lt;18,2&gt;
~&gt;Function Foo
~&gt;Global Bar:Int=123
~&gt;}
~&gt;
s</pre><br><br>You can see, that static variables in functions like "Bar" in function "Foo" will tracet but static variables in classes like "X" in "TTest" not.<br><br>I working many times with static variables in classes like TConfig where I don't need an instance of this class. I would be good, when these variables tracet too :)<br><br>cu olli <br><br></td></tr></table><br>
<a name="804038"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Mark mentioned making globals and gc threadsafe in BlitzMax. <br></div>You don't necessarily need to make Globals thread safe. Only Globals used in critical sections need to be thread safe.<br><br>An excellent book that covers this issue (and others) is the "Dinosaur book", aka "Operating Systems Concepts with Java" by Abraham Silberschatz. Aside from explaining the concepts involved it provides Java source code examples illustrating the possible solution, focusing in particular on the solution Java uses, namely the monitor. <br><br></td></tr></table><br>
<a name="805121"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ian Thompson</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> Processors are becoming multi-core... multi-threading simply is not an option for a modern language IMHO. Even limited support would suffice Read-Only Globals for threads that dont 'own' a global. <br><br></td></tr></table><br>
<a name="805132"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mikko222</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> My 2 simple wishes: working linux-ide &amp; 64-bit support. <br><br></td></tr></table><br>
<a name="805149"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >z4g0</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> .... 3D official module :D <br><br></td></tr></table><br>
<a name="805167"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> Enumerations. <br><br></td></tr></table><br>
<a name="805177"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> 64bit support is the only wish thats definitely not simple due to the "little" problem with different sizes of core datatypes between 32 and 64bit :)<br><br>see the vast amount of applications simply failing to run on 64bit OS <br><br></td></tr></table><br>
<a name="805190"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have 0 windows threading experience... but wouldn't just basic process forking (copy all threads) be safe and "relatively" easy?  having to do IPC certainly wouldn't be as nice but it would be better than nothing.... but then you could add shared memory though "shared" banks.  that would allow for higher performace than just IPC <br><br></td></tr></table><br>
<a name="812173"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Scaremonger</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'd like a compile time version control stamp/Build number<br><br>eg:<br><br>print "Test application build " + appRevision() <br><br></td></tr></table><br>
<a name="812269"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Torrente</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Enumerations. <br></div><br>Seconded. <br><br></td></tr></table><br>
<a name="812303"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think either threads or a really easy mechanism for processes to share memory/data and communicate between them would be really useful, considering we're all moving towards multiple core cpu's now. <br><br></td></tr></table><br>
<a name="812331"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#51">[#51]</a></td></tr></table></td></tr><tr ><td class="posttext"> Enumerations: I use this:<br><pre class=code>
Type MyEnum Abstract
    Const Enum1:int = 1
    Const Enum2:Int = 2
    Const Enum3:int = 4
    Const Enum4:int = 8
End Type
</pre><br>This is more or less a enumerator list in BlitzMax... <br><br></td></tr></table><br>
<a name="812394"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#52">[#52]</a></td></tr></table></td></tr><tr ><td class="posttext"> How does it work? <br><br></td></tr></table><br>
<a name="812426"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cronos</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#53">[#53]</a></td></tr></table></td></tr><tr ><td class="posttext"> My Wish<br><br>==============================================<br>change it<br>==============================================<br><br>Type TEntity<br><br> Field link:TLink<br><br> Method remove()<br>	link.remove<br> End Method<br><br> Method AddLast( list:TList )<br>	link=list.AddLast( Self )<br> End Method<br><br> Method Update() Abstract<br><br>End Type<br><br><br>'serious cool :-) ,  Multithreading Update List<br><br>Function UpdateEntities( list:TList )<br>   For Local entity:TEntity=EachIn list<br>	entity.Update<br>   Next<br>End Function<br><br><br>==============================================<br>for it<br>==============================================<br><br>'serious cool :-) , Multithreading Update List<br><br><br>Auto_Multithreading_UpdateList( list:TList , threading_number ) <br><br></td></tr></table><br>
<a name="812445"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#54">[#54]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't know even if it is possible - it's just a 'imaginative-software' but a possibile solution could be to add other 'Objects' to BlitzMax standard command set, and use them if and when multithreading is required.<br>For example:<br><br>LIST for 'standard' blitz<br>SHAREDLIST for 'multithreaded' blitzMax<br><br><pre class=code>
type TSharedList Extends TData
 ...
 field locked:int=0' or 1..n where n is the thread that 'uses' the object
 field user_list:int[] ' the ID_Process array of thread currently using the 'object'
...
 
 method New()
 locked:+1
 user_list[locked]=Current_ID_Process
 'I don't know how to create 'on the fly' a new thread...
 'but it could be a global CURRENT_ID_PROCESS somewhere
 end method
 ...
 method Remove()
 if locked&gt;0 return
...
 end method
end type
</pre><br><br>and so on for the rest<br><br>OBJECT<br>SHAREDOBJECT<br>ARRAY<br>SHAREDOBJECT...<br><br>of course somewhere in the main loop it will be needed a 'sync' command to keep all the thing correct.<br>The downside is that the existing module should be rewritten (in the case that multithreading is a BETTER solution).<br>For me it seems a very complicated overhead...<br>I really don't know how (and IF...) something like this could be done and works... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
