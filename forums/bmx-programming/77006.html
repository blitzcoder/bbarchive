<!DOCTYPE html><html lang="en" ><head ><title >Unicode</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Unicode</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Unicode</a><br><br>
<a name="861565"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tin</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> is it possible to use Unicode font in blitzmax? <br><br></td></tr></table><br>
<a name="861573"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="/posts.php?topic=69351#775809" target="_blank"> This? </a> and <a href="/posts.php?topic=59697#665969" target="_blank"> this? </a> might help.<br>It is always worth using the search function. <br><br></td></tr></table><br>
<a name="861574"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is it possible to use for draw etc: yes<br>Will blitz load any data from a path that has non-us letters in: no<br>Point of Unicode: discussable. <br><br></td></tr></table><br>
<a name="861735"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>Dreamora:</b><br>That seems a bit odd - I've had a look and found a possible fix for Windows but I'm not sure how well it will work on Windows 98 PCs as they don't support unicode out of the box.<br><br>If anyone fancies testing it for me, please download and run this test app I just made: <a href="http://hometown.aol.co.uk/shollingto/UnicodeTest3.exe" target="_blank">Unicode Test 3</a>.<br><br><img src="http://hometown.aol.co.uk/shollingto/UnicodeScreenshot.png"><br><br>Drag n' drop a unicode file onto the window and see if it loads the text properly without crashing - this example seems to work fine here on my Vista PC. <br><br></td></tr></table><br>
<a name="861753"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can you make unicode menu's too? <br><br></td></tr></table><br>
<a name="861801"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Can you make unicode menu's too?  <br></div><br>I assume you mean in MaxGUI - and the answer is, yes, if you are using the new <b>MaxGUI.Win32MaxGUIEx</b> driver.<br><br>The specific Unicode problem Dreamora was mentioning is more to do with the core BRL modules than MaxGUI. <br><br></td></tr></table><br>
<a name="861884"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Tiffany</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think it works okay here on XP.<br><br>Can you make a test unicode file which all characters in to prove with this?  I found a text file off google and some characters seem okay, but others don't, and am unsure if this is due to the font or the loading of the file?  (I think it was the Ethiopian chars that didn't work, although the Thai ones did!) <br><br></td></tr></table><br>
<a name="861942"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I found this with google<br><br><a href="http://yudit.org/cgi-bin/test.cgi" target="_blank">http://yudit.org/cgi-bin/test.cgi</a><br><br>I just copied (with mouse selection) in notepad and saved the .txt file in UNICODE format.<br><br>I dont' know if this is the *correct* way (it is not an ORIGINAL UNICODE file after all...) but the .exe runs without crashes. <br><br></td></tr></table><br>
<a name="861968"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just to clarify - BlitzMax was always able to load unicode text from files - it just wasn't able to open files that had unicode names, e.g. see the file loaded in the screenshot - a few random Unicode characters.<br><br>The changes I made to <b>Pub.Stdc</b> that were linked into the test app should now allow you to load unicode file names. <br><br></td></tr></table><br>
<a name="861999"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Tiffany</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh, okay...<br><br>Well, just to confirm, I have loaded a file called:<br><br>&amp;#1585;&amp;#1571;&amp;#1610;&amp;#1578;&amp;#1607;&amp;#1575; &amp;#1608;&amp;#1603;&amp;#1575;&amp;#1606;&amp;#1578; &amp;#1603;&amp;#1575;&amp;#1604;&amp;#1601;&amp;#1585;&amp;#1575;&amp;#1588;&amp;#1577;t.txt<br><br>that has the same text inside it successfully here on Windows XP. <br><br></td></tr></table><br>
<a name="862000"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Tiffany</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> ha - didn't think that would post very well!  It's a bunch of arabic characters fyi. <br><br></td></tr></table><br>
<a name="862091"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah. Ok. <br>New test: I changed my file test.txt in many combination of different Unicode chars (Hindi+Greek+Arabic...) and the program works perfectly. <br><br></td></tr></table><br>
<a name="862211"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DavidDC</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> So I'm a little confused here :-)<br><br>Dreamora is correct in saying that the Blitzmax file system doesn't work with certain foreign (as in unicode) filenames and yet Seb steps in and says "here we go - it's working!"? His file link seems to be struggling for me, so I'm not sure what's going on?<br><br>Can the file system (and thus bmax as a whole) handle unicode character sets or not? Is Seb's fix potentially cross platform, or only on windows? Is it a hack or something more stable that might make it (soon) to a new BlitzMax release?<br><br>Sorry for being thick-headed... <br><br></td></tr></table><br>
<a name="862286"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Dreamora is correct in saying that the Blitzmax file system doesn't work with certain foreign (as in unicode) filenames  <br></div><br>Yep - at present BlitzMax can store unicode strings internally but can't access files with unicode file names.<br><br><div class="quote"> Seb steps in and says "here we go - it's working!"? <br></div><br>The problem lies with the standard C functions imported in <b>Pub.Stdc</b> - Microsoft Windows have different commands for handling unicode (wide character) strings and so these have to be used instead.<br><br>For example,<br><br><b>ANSI:</b><pre class=code>fopen( file$z, mode$z )</pre><b>Windows Unicode Equivalent:</b><pre class=code>_wfopen( file$w, mode$w )</pre>However, Mac OS X and Linux (I think) took a different tack - they allow Unicode file paths to be passed into the same old C functions that used to only handle ANSI characters, and they should be correctly distinguished between and handled by the OS. All that is needed in this case is to change the <b>Extern</b> declarations so that they pass wide-character (unicode) string (<b>$w</b>) instead of standard ANSI C strings (<b>$z</b>), e.g.<br><br><pre class=code>fopen( file$w, mode$w )</pre>However we need to ensure that the older legacy Windows operating systems play nice with Unicode - Windows 95/98/Me were built for use with the older, more limited, ANSI character set and so Unicode support on these platforms is complicated - in addition, FAT and FAT32 (the most common file systems used with these versions of Windows) don't support Unicode filenames anyway!?!?<br><br><div class="quote"> Can the file system (and thus bmax as a whole) handle unicode character sets or not?  <br></div><br>Most modern file-systems can (for example, NTFS and OS X EFS, but not older file-systems such as FAT or FAT32). However, the BlitzMax modules need to be tweaked if unicode is to be supported by apps (regardless of whether Unicode is supported by the file-system or not).<br><br><div class="quote">  Is it a hack or something more stable that might make it (soon) to a new BlitzMax release? <br></div><br>I've been experimenting with different approaches - the tweaks seems rock-solid on Windows 2000+, but Windows 9X is choking on it at the moment - it doesn't even like the new Unicode <b>MaxGUI.Win32MaxGUI<u>Ex</u></b> module for the same reason.<br><br>In the end it might end up being a toss-up between supporting Unicode, or supporting Windows 9X... Only Mr Sibly can make that decision, still, let's see how it goes though, hopefully I have a few more tricks up my sleeve yet. <br><br></td></tr></table><br>
<a name="862291"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Win98 SE and WinME support unicode if the additional package is installed. But they are officially abandoned so I don't think the download still exists at Microsoft.com<br>The package does not do much more than add some modified Win2k / XP libraries.<br>Don't know if this influences the filenames or not thought.<br><br>But thank you very much for the hint on where to fix this issue.<br>I don't give much on the selfcrashing OS generation (Win98 / ME) with their highly broken memory management.<br><br>It would be great if BM internally would use $w and add a a ?Win9X compiler directive to allow the addition of stone age methods for the stone age OS :) <br><br></td></tr></table><br>
<a name="862292"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Space Fractal</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I asked the same for some month ago.<br><br>1. Unicode is no go for filelevel in Windows. Here you  need to create a Pure Basic DLL (or in a other language) to doing that task (like I did, but I cannot share it, due to the Pure Basic license), if you want file level unicode support. <br><br>2. Unicode under file level seen to work very well in Linux, since the file system I used just use UTF8. Here you need to convert BlitzMax Unicode string to UTF8 and the otherway. There is serviel functions doing task in code archives.<br><br>3. I found using UTF8:: when reading and saving content to a stream works pretty well when using saved files from BlitzMax. Sometimes I do need to trim it.<br><br>4. Not sure how text document works, since they can been saved in various unicode format. But tested UTF8 based text files works best. Not 100% verifyfied.<br><br>5. So using unicode fonts is no problem, a least not in a graphics window, which I use in my app. <br><br></td></tr></table><br>
<a name="862301"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Win98 SE and WinME support unicode if the additional package is installed. But they are officially abandoned so I don't think the download still exists at Microsoft.com<br>The package does not do much more than add some modified Win2k / XP libraries. <br></div><br>Yep - that's the <a href="http://www.microsoft.com/downloads/details.aspx?FamilyId=73BA7BD7-ED06-4F0D-80A4-2A7EEAEE17E2&amp;displaylang=en" target="_blank">MSLU</a>, it helps with the MaxGUI module, but it isn't the answer to all things Unicode by any means.<br><br>Also, it means that a <i>unicows.dll</i> will have to be distributed with compiled EXEs if they want them to run on Windows 9X/Me. In addition, the licensing terms for <i>unicows.dll</i> isn't actually that great - so perhaps the open source <a href="http://opencow.sourceforge.net/" target="_blank">Opencow</a> library could be used... Fortunately, either are compatible with <a href="http://libunicows.sourceforge.net/" target="_blank">libunicows</a> which is an open-source MinGW library for MSLU implementation.<br><br><div class="quote"> Don't know if this influences the filenames or not thought. <br></div><br>Herein lies another problem which I'm looking into now - for Unicode support, the Windows FileSystem module may have to be rewritten to use Windows API commands instead of C functions to maintain the compatability with Windows 9X/Me.<br><br><div class="quote"> I don't give much on the selfcrashing OS generation (Win98 / ME) with their highly broken memory management. <br></div><br>Ditto - but a lot of people don't agree with us on that one.<br><br><div class="quote"> It would be great if BM internally would use $w and add a a ?Win9X compiler directive to allow the addition of stone age methods for the stone age OS :)  <br></div><br>That's effectively what my hack is - apart from it would be impractical to have a <b>?Win9X</b> compiler directive (we don't want to change behaviour when the code is compiled on Windows 9X, instead we want it to <i>run</i> differently at runtime on Windows 9X, regardless of where it has been compiled ).<br><br>Just out of curiosity, how many people still use Windows 9X? The BlitzMax product page advertises support for Windows 98/ME - ho, hum! <br><br></td></tr></table><br>
<a name="862410"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DavidDC</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Clarity, sweet clarity! Thanks heaps Seb :) <br><br></td></tr></table><br>
<a name="1283139"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >THANOS</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmmmmm, english is a more common language, especially when it comes to programming language. I mean, who would create a programming language which uses Russian or Chinese instead of English? Noone.  So, I suppose that, for my projects I will stay to ANSI instead of Unicode (even the name "cmd.exe" in written in ANSI, :P ) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
