<!DOCTYPE html><html lang="en" ><head ><title >Finding the exact point of collision.</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Finding the exact point of collision.</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Finding the exact point of collision.</a><br><br>
<a name="1048376"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would like to be able to acquire the exact pixel point of a collision between two images. I need to derive the exact "x,y" locations of the pixels detected in the collision. <br><br>So, If I were to have image "A" collide with image "B" I could know the exact location (x,y) of the pixels involved in the collision.<br><br>This would be very helpful in deriving the cosine angle in my project.<br><br>Edit - I would be open to modifying the Bmax 2d Mod.<br><br>Thanks <br><br></td></tr></table><br>
<a name="1048398"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> there are many ways. some are efficient and some are not but most involve some sort of trickery. Take Max2d module it uses a pretty efficient quad collision but the test becomes exponentially slow as the image become larger. you can use a polygon outline that would be more efficient but wound not be as accurate. You can make a function that looks in to the colors of the image's pixmap based on the direction of travel and after collision move back one pixel at a time until you are at the exact position. <br>Either way most of them involve final pixel movement(adjustment) to get it right. <br><br>Can you provide a more detailed example of what you want to do? maybe I or someone here might be able to help you figure it out. <br><br></td></tr></table><br>
<a name="1048409"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Jesse,<br><br>I was hoping to hijack the Max2d mod in someway. As understand you that is not possible? How is Max2d testing for pixel perfect collisions?<br><br>It would be nice to calculate the normal on-the-fly based on the two images pixel points of collision. I would like each image to be represented as a sphere. The problem is the best I can hope for in Bmax is the center point of an image. So if I were to have a sphere collide into a rectangle the radius of the sphere would be uniform; the rectangle radius would not. The sphere colliding at one end of the long axis of the rectangle will be a longer distance from the center then say the the same sphere colliding on the long axis at the middle. This "Pool" example my help to shed some light on what I am getting at:<br><br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=415" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=415</a><br><br>My "Plan B" is to supply the normals in a look-up table or such for every 2d image. This example I found interesting at first blush.<br><br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=998" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=998</a><br><br>The project I am working on is sort-of like Subspace (multi-player 2d space shoot'em up). So I have things bouncing off of things.<br><br>My biggest issue is to accoplish the above in the most efficient/fast way possible.<br><br>Thanks, <br><br></td></tr></table><br>
<a name="1048411"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> This 2D Inertia Example is what I am using as a basis for my games 2D physics. <br><br>Here:<br><a href="http://redeyeware.zxq.net/codebmax/main.html" target="_blank">http://redeyeware.zxq.net/codebmax/main.html</a><br><br>And the Example Download:<br><a href="http://redeyeware.zxq.net/codebmax/2d_ineria.zip" target="_blank">http://redeyeware.zxq.net/codebmax/2d_ineria.zip</a><br><br>I hope some find it useful.<br><br>So I'll be adding the above idea to this in essence.<br><br>:) <br><br></td></tr></table><br>
<a name="1048985"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I found this thread on Far Seer Physics; not bad. <br><br><a href="http://blitzbasic.com/Community/posts.php?topic=78349#888954" target="_blank">http://blitzbasic.com/Community/posts.php?topic=78349#888954</a><br><br>I found it to be a tad slow. Has anyone used this? Could not get through to the authors blog. Is there any official site? Anyway very cool.<br><br>Thanks, <br><br></td></tr></table><br>
<a name="1049201"></a>

<a name="1049203"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> have you looked into chipmun physics. Brucey made a moduel for it:<br><a href="http://code.google.com/p/maxmods/downloads/detail?name=chipmunk_1_03_win32_bin.zip&amp;can=2&amp;q=" target="_blank">http://code.google.com/p/maxmods/downloads/detail?name=chipmunk_1_03_win32_bin.zip&amp;can=2&amp;q=</a><br>or box 2d:<br><a href="http://code.google.com/p/maxmods/downloads/detail?name=box2d_1_04_src.zip&amp;can=2&amp;q=" target="_blank">http://code.google.com/p/maxmods/downloads/detail?name=box2d_1_04_src.zip&amp;can=2&amp;q=</a><br>hre is a video of a game made with box2d:<br><a href="http://www.youtube.com/watch?v=FZHZFAlGJ6c" target="_blank">http://www.youtube.com/watch?v=FZHZFAlGJ6c</a><br>and the thread:<br><a href="http://www.blitzmax.com/Community/posts.php?topic=85122" target="_blank">http://www.blitzmax.com/Community/posts.php?topic=85122</a> <br>either one should be faster.<br><br><i>Last edited Wednesday 6th of October 2010 02:46:02 AM GMT</i> <br><br></td></tr></table><br>
<a name="1049206"></a>

<a name="1049220"></a>

<a name="1049221"></a>

<a name="1049222"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> To add public top left coordinate of most recent collision in max2d.bmx, add this above the Private (line 1179)<br><br><pre class=code>

Global CollisionX,CollisionY

Private

</pre><br><br>and make following changes before both return -1 calls at around line 1422 and 1442<br><br><pre class=code>
					If LineBuffer[x] CollisionX=startx+x;CollisionY=y;Return -1					

.
.
.

				If LineBuffer[x] CollisionX=startx+x;CollisionY=y;Return -1
</pre><br><br><i>Last edited Wednesday 6th of October 2010 05:55:45 AM GMT</i> <br><br></td></tr></table><br>
<a name="1049772"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Jesse,<br>All very cool! I had just checkout all of the above except the video which was also cool. <br><br>But, as it turns out the Line vs. circle example will work out just fine for now. It is "way fast" and will work well with my omnidirectional scrolling map. Ultimately it comes down to speed. I have my 2d physics approximation running much faster then Box2d (for my application) will.  I do plan to use Box2d in the future.<br><br>Check out the pics of the alpha client/server and level editor. Here: <br><a href="http://redeyeware.zxq.net/" target="_blank">http://redeyeware.zxq.net/</a><br><br>Thank you for all the help. :)<br><br>@Skidracer ..... Hello!<br><br>I'll try the above out and report! :)<br><br>Thanks, <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
