<!DOCTYPE html><html lang="en" ><head ><title >game timing schemes</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >game timing schemes</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >game timing schemes</a><br><br>
<a name="582488"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hiya,<br><br>I realise it's been covered before but I would like to know if anyone's done more research into this? <br><br></td></tr></table><br>
<a name="582511"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rdodson41</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
Strict

Global fps:Float = 60
Global time:Float = 1000 / fps

Local timer:Float = Millisecs() + time

While(Not Keyhit(1))
    Local ms:Float = Millisecs()
    If(ms &gt;= timer)
        timer = ms + time
        'Update()
        'Render()
    Endif
Wend
</pre><br>Try a simple test, like replacing Update() and Render() with Print("Hello World!") and make fps 1. <br><br></td></tr></table><br>
<a name="582529"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hotcakes</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm just using Max's default timing system and to hell with it.  =] <br><br></td></tr></table><br>
<a name="582535"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Will</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I like frame-rate independent timing.  Sushimastas example works great when the game is running nice and fast - but lets say some process boots up in the background and slows it down, the frame-rate decreases - and with it so does the game speed!  The idea behind independent timing is someone can be kicking it at 60FPS, and when something in the background pushes it to 30 fps, the actual game still runs at the same speed.  This is the method I prefer.<br><br><pre class=code>

Global deltaT#, lasttime = MilliSecs()

While Not(KeyHit(key_escape))
	DeltaT = Float(MilliSecs() - lasttime)/1000.0; lasttime = MilliSecs()
	
	game.update()
	game.draw()
	
	Flip; Cls; FlushMem
Wend

' An example moving a player

player.xVelocity = player.xVelocity + player.xAcceleration * DeltaT
player.x = player.x + player.xVelocity * DeltaT

</pre> <br><br></td></tr></table><br>
<a name="582551"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TartanTangerine (was Indiepath)</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah we did, we posted a big piece on here with our Delta Timing code. Some people like it some don't. I've made my choice and it works great for me. <br><br></td></tr></table><br>
<a name="582554"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks everyone<br><br>The one thing I've always been confused about with delta timing is when to apply it.<br><br>For example...<br><br>velx = velx + (mouseXspeed() * 0.25)  * deltaT<br>x = x + velx * deltaT<br>velx = velx * 0.02 * deltaT<br><br>Is this correct? the first line creates my velocity, the second adds it to my position and the third dampens it again. Just an example, but it shows where I get confused by adding deltaT to everything in sight!<br><br>Some do's and don'ts for delta would be very welcome! <br><br></td></tr></table><br>
<a name="582745"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'll assume that you use delta time with everything...? <br><br></td></tr></table><br>
<a name="582764"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> That'd probably be wise. <br><br></td></tr></table><br>
<a name="582776"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GW</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> IMO Delta time gets really messy when games get complicated..<br>I use a modified version of the code Mark posted long ago.<br>Has anyone experienced problems with that? <br><br></td></tr></table><br>
<a name="582781"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Whats that code - do you have it to hand so I can take a look please? <br><br></td></tr></table><br>
<a name="582785"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't like the way mark is doing it (tweening for "smooth" movement) ...<br>it calculates millions of times a frame before displaying it which costs lots of useless cpu time which I can use for other things (because tweening and timed coding / event based code don't like each other while delta time works) <br><br></td></tr></table><br>
<a name="582804"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> start a lobby, I'm sure it'll help. <br><br></td></tr></table><br>
<a name="582819"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Will</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here are a few great reasons to use DeltaT - you can freeze your game! slow down and speed up time!<br><br>Just add if keydown(key_space) then deltaT = deltaT * .1 and you run everything at 1/10th the time!  This is enormously useful for me as a development tool.  Being able to watch something that is fast in the final game in slow motion as I develop is great.  You can also just set DeltaT to 0 and freeze time.  I also use it for varying time between objects - if the player gets a speed boost powerup I can modify deltaT before they update, and set it back before the ai updates.<br><br>Its very easy to use and know where to add the DeltaTs if you practice it, and I think it has enormous advantages over locked framerate timing. <br><br></td></tr></table><br>
<a name="582832"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thats a fantastic idea. You're really winning me over :)<br>Yep it's probably a case of practising it quite a bit till you get used to where it goes... <br><br></td></tr></table><br>
<a name="582942"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ferminho</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> I use Will's method too from some time ago for the same reason; I think game speed should be independant on framerate...<br><br>That way you can easily distort time, too, adding a percent multiplier to the 'time that has passed in last loop'.<br><br>I use a bit more complex version for my game and I'm getting good results. <br><br></td></tr></table><br>
<a name="582948"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> this recommends I do fixed time step and deltatime as well - can you explain why?<br><br><a href="http://www.gaffer.org/articles/Timestep.html" target="_blank">http://www.gaffer.org/articles/Timestep.html</a> <br><br></td></tr></table><br>
<a name="582968"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shambler</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Because<br><br>1) Your game runs at the same speed on all computers<br><br>2) Your physics simulation runs in accurate enough steps so that it doesn't 'explode'...stops things like missing collisions etc. <br><br></td></tr></table><br>
<a name="582987"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> With procentual factor / delta timing, you have just to make sure, that you "catch" 0 divisions and 0 like divisions which ends in infinite values or errors. If thats ensured, then they normally work great.<br><br>I even do procentual factor + timed rendering which gives me for fixed 60 FPS several 10000 mainloop runs for other usefull things than rendering or wait for rendering. <br><br></td></tr></table><br>
<a name="716370"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry to resurrect this thread, but I stumbled over it while searching for timing information. Just wanted to say that if you guys are struggling with fixed timing, consider buying my Time module - it makes it all pretty painless.  Here's some sample code that demonstrates how fixed time stepping would work:<br><br><a href="http://www.pixelfist.com/samplecode.php?modname=time&amp;id=2" target="_blank">http://www.pixelfist.com/samplecode.php?modname=time&amp;id=2</a> <br><br></td></tr></table><br>
<a name="716371"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=1721" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=1721</a><br>Or just us my code entry, which is free <br><br></td></tr></table><br>
<a name="716398"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sure, if the free one does everything you need. <br><br></td></tr></table><br>
<a name="716414"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> well if we're selling stuff ... my framework uses fixed rate logic + delta time for ultra smooth stuf and it does much much more... <br><br></td></tr></table><br>
<a name="716449"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>WE ARE NOT SELLING STUFF.</b><br><br>@Warren,<br><br>No, my free one does hardly anything. It is in fact just a wrapper for the blr timer function. The reason I posted it, was because I dont have the power to <b>BAN</b> you for blatent forum trawling in aid of advertising your time module.<br><br>This is the second time this week you have posted just to advertise, and I personaly find it unaceptable. Post in the tools setction, post in the showcase section, at a push join in current threads but <b>do not reserect</b> threads just to advertise.<br><br>If you must, put a big advert as your sig, alla Grey.<br><br>@Grey,<br><br>I know you are taking the piss, but stop it. (Mind you, you are no better sometimes) <br><br></td></tr></table><br>
<a name="716488"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> lol, I know, sorry.  Well at least I don't create "zombie" threads ;-)  Anyway, I try to do it subtly (most of the time) and people do find my framework useful and keep on buying it... <br><br></td></tr></table><br>
<a name="716500"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> H&amp;K<br><br>Sorry to offend.  If a moderator wants to delete these posts, that's cool. <br><br></td></tr></table><br>
<a name="716549"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> they won't delete them, it's not that big a deal. H&amp;K just thinks he's the forum police, despite having a shady past himself ;-) <br><br></td></tr></table><br>
<a name="716553"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Once he was on the Dark Side, But thanks to the love of a beautiful cup of coffee, he now fights on the Side of Justice he is Heroic and Knowing man. ;) <br><br></td></tr></table><br>
<a name="716569"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> Personally I use the delta timing code.  Works great and makes sure everything is happening at the same time on all breeds of computers. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
