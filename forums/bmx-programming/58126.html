<!DOCTYPE html><html lang="en" ><head ><title >Forgot how to remove the mouse lag bug</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Forgot how to remove the mouse lag bug</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Forgot how to remove the mouse lag bug</a><br><br>
<a name="646574"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi all,<br><br>I've forgotten how to correctly remove the bug with blitzmax and mouse input where the mouse lags behind. I'm running on a super-powerful computer and if I recall it had something to do with creating a pixmap.<br><br>At the moment, it's unplayable with particles turned on. Note: this isn't slowdown, but a known mouse lag issue - just need some example code to eradicate this.<br><br>I think skid had a solution but for the life of me I cannot find that thread. Please post example code if you know the issue I'm talking about :)<br><br>Thanks! <br><br></td></tr></table><br>
<a name="646580"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yan</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wasn't it grabbing a pixmap/image just before or after flip? <br><br></td></tr></table><br>
<a name="646585"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just in case you want to see the old threads search on 'mouse lag' <br><br></td></tr></table><br>
<a name="646588"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Or use OpenGL driver as it is a DX only problem. (an alternative way which you sadly can't is forcing the flip queue to a size of 1. Ati tray tools allows that) <br><br></td></tr></table><br>
<a name="646590"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://www.blitzbasic.com/Community/posts.php?topic=54919" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=54919</a><br><br>no conclusion, nice.  I get the lag too, and mine is a Radeon 9800XT.<br><br>oh here's a conclusions:<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=54938" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=54938</a> <br><br></td></tr></table><br>
<a name="646618"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah something to do with pixmap, but I don't know what. If you're reading skid, please could you clarify what it is I must do? <br><br></td></tr></table><br>
<a name="646635"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> oops sorry, I've edit teh second link it was supposed to be different!<br><br>I thought the conclusion was use OPenGL, or do various gramimage tricks etc. <br><br></td></tr></table><br>
<a name="646638"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> either grab or draw a 1*1 pixmap to 0,0 <br><br></td></tr></table><br>
<a name="646643"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> whats faster? <br><br></td></tr></table><br>
<a name="646649"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> The problem is DX. It can precalculate up to 8 frames ahead if your card is fast enough. This can be forced to 1 frame ahead with ATI Tray tool and similar tools and through manual writing operations.<br>OpenGL in max can calculate 2 frames ahead <br><br></td></tr></table><br>
<a name="646658"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I cannot ask all my customers to force it to 1 frame with ati tools so this will never be an option.<br><br>I tried using grabpixmap and my framerate went from 1,400 to 300. <br><br></td></tr></table><br>
<a name="646665"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> youch.  What's wrong with OPenGL.  Looks Like I'm gonna do mine in that so the game will work on a Mac. <br><br></td></tr></table><br>
<a name="646668"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> You hurt pc sales. It has to be DX on pc first with ogl as fallback. <br><br></td></tr></table><br>
<a name="646678"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ozak</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is an old known issue with DirectX7 trying to precalculate frames too far into the future. It was a pain in the ass back in the days. Haven't thought too much of it lately as DirectX7 is long gone (in the normal windows world that is :) <br><br></td></tr></table><br>
<a name="646691"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Right... begs the question then: as BlitzMax 2D heavily relies on DX7 could we have this fixed?<br><br>I am actually drawing a small pixmap, and that seems a lot faster than grabbing a pixmap. I will have to check if that actually works though! Will report back... <br><br></td></tr></table><br>
<a name="646693"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ozak</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why not use the SDL device? Didn't somebody do something like that? <br><br></td></tr></table><br>
<a name="646695"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> look forward to the report. <br><br></td></tr></table><br>
<a name="646757"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Grab a pixmap. You can't use drawpixmap. Perform a grabpixmap to cure the lag bug.<br><br>However, it will be at a price: it seems to really impact on my frames per second - quite badly. Maybe thats just me? <br><br></td></tr></table><br>
<a name="646823"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eikon</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> DrawPixmap works for me. GrabImage worked also, maybe try that instead for speed.<br><br>You're right though, every solution I've found seems to cut my frames in half. <br><br></td></tr></table><br>
<a name="646834"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> DrawPixmap doesn't work for me, so we have to assume it's not reliable on all machines.<br><br>GrabPixmap is a lot slower than drawpixmap for me. But it works. May I ask with what flags do you use DrawPixmap?<br><br>Simon and Mark, what are your thoughts on this? I am not some fool criticising you, but asking for your views on how this should be tackled?<br><br>Its a problem that exists on my test machines - would be nice to eradicate it. <br><br></td></tr></table><br>
<a name="646859"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Michael Reitzenstein</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just shipped a game that uses GrabPixmap and it cuts my FPS down by a third. I really wish this could be solved another way. <br><br></td></tr></table><br>
<a name="646897"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yan</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> ...And may I go off topic for a sec and say what a cracking job you made of it too, sir... <br><br></td></tr></table><br>
<a name="646903"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Since this whole thing is apparently caused by a DX setting to pre-render -x- frames, wouldn't it be possible to programmatically disable this from an application?<br><br>If so, that would be a *really* welcome addition to the command set, since this mouse lag is really bothersome... Either the whole game experience feels 'slow' due to the delayed mouse movements, or you're artificially slowing it down at a noticable rate due to the overhead of the workarounds. <br><br></td></tr></table><br>
<a name="646925"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> You don't need to force the users to 1 precalculate chainlength. You can force it through a DX setting ... but please don't ask me which ... perhaps someone else can say how thats done so we can add it? (I'm not sure if DX7 has this setting thought as the GPUs that were fast enough for longer flip chains started comming up with DX8 / 9 ...).<br><br>The only way to prevent mouse lag at least a little is to use flip 0 so it does not wait for VSync ... this way the actual frame theoretically has the actual mousedata ... Theoretically ...<br><br>PS: Don't forget, opengl renders 2 frames ahead as well if activated in driver. But at least not 8 frames :-) <br><br></td></tr></table><br>
<a name="646932"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> The only way to prevent mouse lag at least a little is to use flip 0 so it does not wait for VSync ... this way the actual frame theoretically has the actual mousedata ... Theoretically ... <br></div><br><br>Which seems to work... Except that leads to tearing and flicker, which isn't exactly an improvement. <br><br></td></tr></table><br>
<a name="646938"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> It just doesn't work, I do flip 0 and it achieves nothing. It merely disguises the problem on some machines.<br><br>Mark and Simon - please address this issue. <br><br></td></tr></table><br>
<a name="646946"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Problem is: Flip 0 only has any use if you didn't default disable VSync in driver settings which especially shooter fans normally have (you need the pic as early as possible for snipering) <br><br></td></tr></table><br>
<a name="646996"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> ew, on my old pc: without = 25fps... with grabpixmap, 15fps???<br><br>That makes playability suffer quite a bit (on old machines) so I'm going to look for workarounds. I don't hold out much hope though <br><br></td></tr></table><br>
<a name="647063"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eikon</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> May I ask with what flags do you use DrawPixmap? <br></div><pre class=code>Global DXImage:TPixMap = CreatePixmap(1 , 1, PF_RGB888)
' After Flip
If launchedMode = 1 Then DrawPixmap DXImage, 0, 0 ' Cure mouse lag</pre>I'm not doing anything special, it must be a machine specific fix as you suggested. I'll go back to GrabImage for now.<br><br>As with others, I will hopefully be shipping a product by the end of the month, it would be nice if Simon or Mark could offer us a fix before I have to cripple my game's performance on slower machines. <br><br></td></tr></table><br>
<a name="647113"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> I wish I didn't have to use grabpixmap. <br><br></td></tr></table><br>
<a name="647123"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eikon</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> Lets talk about crop circles or something else non-technical, that should get their attention. <br><br></td></tr></table><br>
<a name="647137"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kanati</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is where the "support yourselves, we don't have time" attitude really hurts.  Most of the time it works, but something like this really needs addressed by Mark. <br><br></td></tr></table><br>
<a name="647155"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> for gods sake this was asked 15 hours ago on a weekend...<br><br>one eyed, how does OpenGL hurt PC sales? <br><br></td></tr></table><br>
<a name="647188"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> @dmaz, keep up, this has been reported a few times over the past 3 months or so with BRL involvement.<br>@One-Eyed Jack, BlitzSupport suggested emailing if you think an im0portant topic/bug report was missed or has been ignored. Might be worth giving it another go in the bug reports followed up by an email. <br><br></td></tr></table><br>
<a name="647197"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ozak</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> I can't see the problem using OpenGL.<br>I mean most drivers these days support OpenGL.<br>And Blitzmax IS a crossplatform language. It should only support GL ;) <br><br></td></tr></table><br>
<a name="647204"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> The problem is my target market have a lot pcs where drivers haven't been installed, that is - they can do dx just fine but lack an opengl component. Or don't have very good opengl drivers. This is mostly older pcs from casual gamers.<br><br>I really wish it wasn't the case but DX isn't going anywhere. <br><br></td></tr></table><br>
<a name="647205"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Michael Reitzenstein</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, almost all up to date drivers support OpenGL. Most installed drivers aren't up to date, though. <br><br></td></tr></table><br>
<a name="647322"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> Discovered the lag mostly happens in high fillrate low poly situations. I've had the card buffer half a second ahead. It's crazy. <br><br></td></tr></table><br>
<a name="647335"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> this sounds bad.  It could be a real stinker for casual games. <br><br></td></tr></table><br>
<a name="647346"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jay Kyburz</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> Isn't this only a problem because you are drawing and flipping the frame-buffer every loop rather than every 5ms or so. Calling flip 1400 times a second is dumb. At most the monitor is running at 100, 120 hertz.  <br><br>You should decouple your rendering code from you physics and game code and call each only when its needed. <br><br>I've never had the problem and don't really understand the issue is so please ignore me if I'm missing the point. <br><br></td></tr></table><br>
<a name="647381"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks but you're missing the point...<br><br><b>solved?</b><br>I managed to find a trick that flushes the driver's buffered frames - at least it works here: all people affected please check:<br><a href="http://www.blitzmax.com/Community/posts.php?topic=58192" target="_blank">http://www.blitzmax.com/Community/posts.php?topic=58192</a><br><br><br>If you aren't affected then don't worry. <br><br></td></tr></table><br>
<a name="647461"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WendellM</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep, that works for me, OEJ!  I've put test code in that thread to demonstrate.  On my system at least, the mouse lag goes away. <br><br></td></tr></table><br>
<a name="647477"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> I may be thick but what does Flip 0 achieve other than draining the users battery by rendering a shedload more frames than can be displayed and effectively reducing CPU time able to be allocated to a games update routines. <br><br></td></tr></table><br>
<a name="647497"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> Flip 0 or flip achieves the same lag result. It's not the point. <br><br></td></tr></table><br>
<a name="647528"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WendellM</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> what does Flip 0 achieve[?]<br>---<br>Flip 0 or flip achieves the same lag result.<br> <br></div><br>FWIW, on my mid-level PC (AMD Athlon XP 3000+ with Radeon 9600), running my sample code <a href="/posts.php?topic=58192#647459" target="_blank">here</a>: with Flip (no "0"), and with no OEJ "magic" (Const set to False), the sample runs somewhat better than it does with "Flip 0" and no magic.  However, with Flip using 0 and magic turned on (Const set to True), it clearly runs the best of the four magic/"0" combinations.<br><br>Now, that's just on my machine.  Jack's beefed-up <a href="/posts.php?topic=58223" target="_blank">bug report source</a> for his faster PC crawls on my system regardless of the Flip value (though it jumps to the last mouse position rather more quickly with his "magic" in the workaround section than without it).  But in my example (taken from the MouseX example in the BlitzMax help), using Flip 0 with OEJ's magic fix is clearly better on my system than using 0-less Flip with his fix (though, in either case, the circle hugs the mouse cursor better when using Jack's "magic" fix). <br><br></td></tr></table><br>
<a name="647585"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK, some results using the "OneEyedJackMagic" code:<br><br>Flip 0, False = small lag, i.e. if I move the mouse in a circle, it appears to follow the pointer around about 1cm behind.<br>Flip 1, False = small lag, tiny bit worse than Flip 0 (maybe)<br>Flip 0, True = no log<br>Flip 1, True = small lag (it's still there!)<br><br>btw the lag isn't that bad in that example, it may only be one or two frames.<br><br>hope this helps<br><br>Radeon 9800XT <br><br></td></tr></table><br>
<a name="647776"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> So none of this problem happens at all with OpenGL, the mouse stays totally up to date with where it is position right before the flip? <br><br></td></tr></table><br>
<a name="647782"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> Most likely you won't see it, yes. Most users don't know how to tune their drivers to set OpenGL to render 2 frames ahead where you would see a little lag (8ms with flip 1 and 60hz), but not that noticable. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
