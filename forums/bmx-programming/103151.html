<!DOCTYPE html><html lang="en" ><head ><title >Splitting BRL.System</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Splitting BRL.System</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Splitting BRL.System</a><br><br>
<a name="1239501"></a>

<a name="1239522"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hallo :o)<br><br>I'm thinking of splitting BRL.System module into two parts, to work based on the "Factory" design that other modules are already using.<br><br>All the current Driver functionality would be pulled out into a new module, and the remaining BRL.System would simply be a stub to drive whichever "system" module you had loaded.<br><br>At the moment, BRL.System makes lots of assumptions - like that you *really* want to use X Windows on Linux. You can't create proper console applications on Linux if you use BRL.System, because of dependencies it pushes onto your application.<br><br>Also, the current BRL.System makes integrating such things as an SDL backend much more complex than it needs to be. SDL comes with its own display, keyboard and mouse handling functionality that is already implemented by BRL.System in its own way.<br><br><br>Thoughts, comments and suggestions welcome :-) <br><br></td></tr></table><br>
<a name="1239502"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> More flexibility is always good. <br><br></td></tr></table><br>
<a name="1239534"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sounds like a solid plan. <br><br></td></tr></table><br>
<a name="1239535"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I seem to recall I had to hack the system date command (forget the name off-hand) out of BRL.System to get it to work on a remote Linux server -- other stuff in the module caused a segfault, so I copied-and-pasted the one command into my own program!<br><br>So, yeah, sounds like a good idea. <br><br></td></tr></table><br>
<a name="1239556"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, so that seemed painless enough...<br><br>An example can be seen here :<br><br><a href="https://github.com/bmx-ng/brl.mod/tree/master/system.mod" target="_blank">https://github.com/bmx-ng/brl.mod/tree/master/system.mod</a><br><a href="https://github.com/bmx-ng/brl.mod/tree/master/systemdefault.mod" target="_blank">https://github.com/bmx-ng/brl.mod/tree/master/systemdefault.mod</a><br><br>BRL.SystemDefault contains all the functionality of the old BRL.System.<br>BRL.System is just a stub declaring a system driver base class, and the standard system functions.<br><br><br>Now I can do things like this, and not worry about BlitzMax getting in the way:<br><pre class=code>
Type TSDLSystemDriver Extends TSystemDriver

	Method New()
		SDL_Init(SDL_INIT_VIDEO)
	End Method

	Method Poll()
		bmx_SDL_Poll()
	End Method
 ...
 ...
 ...
End Type

Driver = New TSDLSystemDriver
</pre><br><br>Yay! ;-) <br><br></td></tr></table><br>
<a name="1239597"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Henri</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Seems reasonable enough.<br><br>-Henri <br><br></td></tr></table><br>
<a name="1239614"></a>

<a name="1239615"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Brucey's real name is Bruce A Frankenstein - and he keeps things alive.<br><br>Deep below is castle in feral Scotland he experiments with dead and left behind bodies of code. Now try to envision his diabolic laugh when "it" suddenly is alive.<br><br>*shivering*<br><br><br>PS: Like said per mail I hope you find a way to cut down binary size to reasonable amounts when using SDL (without sdl graphics, sound, networking ...). The static libs are not that small (windows lib is &gt;5mb). Of course for "games" a binary can get bigger, but for small tools (eg. without X11-requirement on linux) size indeed does matter.<br><br>graphics example: sdl (stripped) 1.5mb<br>graphics example: brl (stripped) 274kb<br><br>sdl:<br>Framework sdl.sdlgraphics<br>brl:<br>Framework brl.systemdefault<br>Import brl.glgraphics<br><br>I know that it is bigger, because the lib contains more things -  but maybe things can get "split" into multiple parts. I also know: get things working first, optimization can be done later - but maybe such things have to get tinkered out before (conception wise).<br><br><br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1239630"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Size<br>I don't see a use for anyone using SDL without its graphics stuff, so I've built it accordingly.<br><br>The reason I want a System module without all that extra stuff that BRL.System has, is so that I can create command-line tools and such without lots dependencies that it doesn't need. With the current BRL.System you cannot create proper, small command-line tools because it is doing all kinds of things like event handling - things that such tools would never require.<br><br>Now it's split, I can rework my curses module to have a proper system driver that doesn't have those external dependencies... for example. <br><br></td></tr></table><br>
<a name="1239632"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> So it is 5 MB for "graphics" (Windows) or does that include image loader functionality already?<br><br>@BRL.system<br>Somehow I had "SDLsystem" in mind .... nvm.<br><br>Dunno what happens to the basic file requesters  - as soon as you then use something of the SDL-subsystem you will end up with something bigger. If not, no worries and false alarm :p<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1239643"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Brucey, have you tested SDL with your C++ max translator? Just being curious. <br><br></td></tr></table><br>
<a name="1239644"></a>

<a name="1239647"></a>

<a name="1239648"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes.<br><br>He mentioned that my frameworks "demoapp" runs - except my GUIInput as KeyChar-Events are not emitted yet. the Demoapp is mentioned in the 64bit-threads already.<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1239651"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  Brucey, have you tested SDL with your C++ max translator? <br></div><br><br>C max translator :-)<br>Yes, actually I've only been working on the new compiler with this. Currently tested on x86 for the 3 main platforms.<br>SDL supports x86, x64, Raspberry Pi, iOS and Android. So it should take care of a lot of potential issues building games for those platforms. <br><br></td></tr></table><br>
<a name="1239652"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> That is why I thought of using more modules from SDL (because "they" take care of problems on other targets) ... think audio, input, ... are all subjects of having problems here and there.<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1239922"></a>

<a name="1239923"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looking forward to this. <br><br></td></tr></table><br>
<a name="1240003"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >*</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Me too :) <br><br></td></tr></table><br>
<a name="1240108"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LT</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> How will using SDL differ from using OpenGL in BlitzMax?  The prospect of making my engine work on all of those platforms is enticing, to say the least! <br><br></td></tr></table><br>
<a name="1240110"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  How will using SDL differ from using OpenGL in BlitzMax? <br></div><br>It won't (or at least, it shouldn't make any difference to your code).<br>However, it basically replaces the window/context creation, as well as input event handling. On Linux at least, this improves BlitzMax fullscreen functionality on systems with multiple displays.<br><br>It also has decent support for controllers (which I've yet to look at implementing), but apparently if your game supports controllers and you were to release it on Steam, the settings for pre-configured controllers in Steam would appear already configured in your game. (so the documentation says. ymmv)<br><br>No, I'm not trying to sell Steam, I'm just giving examples of various possible advantages that an SDL backend gives over the default BlitzMax one.<br><br>As for other platforms... SDL is known already to work on iOS and Android (and the Pi !). Plugging onto a working backend for those platforms is an order of magnitude less effort than trying to write it oneself.<br><br>Anyway, it's all optional, but choice is good, as they say :-) <br><br></td></tr></table><br>
<a name="1240112"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Having a look at what brucey added to "sdl.mod", you will see that other things might come too:<br><br>SDL.SDLAudio -&gt; replacement possibility for audio playback. With many games relying on "sdl" you might surely have things installed on linux to get audio playback (open audio).<br><br>Check the sdlaudio-example to see streamed ogg playback. Think its time to send brucey your proposals so he could choose his "man" :p.<br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1240113"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LT</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Considering the benefits, I'd be foolish not to try it.  Thanks for all of your work on this! <br><br></td></tr></table><br>
<a name="1240122"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GW</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Slightly ot: <br>Brucey,  I'm a windows user. It seems that so far with bmax-ng, MSWin is going to be a second-class citizen.  How can I (and other windows users) help and contribute on the windows side? <br><br></td></tr></table><br>
<a name="1240125"></a>

<a name="1240126"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> By charming brucey ... or maybe testing things on Windows and reporting/fixing issues.<br><br>seriously: Brucey stated that he wants to make things work first ... which means on OS he uses. Afterwards, the project might receive fixes to make it useable on "other os".<br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1240129"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  It seems that so far with bmax-ng, MSWin is going to be a second-class citizen <br></div><br>The DX and (windows) MaxGUI modules  for BlitzMax are an order of magnitude more difficult to convert for 64-bit than all the other modules put together. And since it requires a fair understanding of DX/win32 apis to get everything converted properly, it will therefore take longer for those particular modules to be ported.<br><br>The other issue is configuring for 64-bit builds with MinGW64 and the bin/lib setup that BlitzMax uses on Windows. I am still not entirely satisfied with my current layout for that (i.e lib for 32-bit and lib64 for 64-bit libs). At least TDM 64 supports building both 32 and 64-bit binaries.<br><br>So you see, it's more complicated to get Windows stuff working, whereas for the other platforms you simply tweak here, edit there, and it all *just works*. Even the cross-compile for the Pi on OS X worked first time!<br><br>We'll get there. In the meantime you can keep on building 32-bit binaries with BlitzMax proper :-) <br><br></td></tr></table><br>
<a name="1240130"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LT</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> But doesn't SDL allow you to circumvent DX and MaxGUI?  If so, I don't see the need for those modules at all.  Speaking only for myself, of course.  :) <br><br></td></tr></table><br>
<a name="1240131"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GW</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> I understand, Thanks.  <br>btw. I won't be shedding a tear if there is no DX driver. I've used GL exclusively for years and I get the impression that others do to. <br><br></td></tr></table><br>
<a name="1240133"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  But doesn't SDL allow you to circumvent DX and MaxGUI? <br></div><br>It all depends of course what you are doing.<br>I'd like a working MaxGUI so that I can build a 64-bit native version of MaxIDE for Windows. I already have such for Linux and OS X. And having a 64-bit MaxIDE is fairly good proof of everything working.<br><br>And I'd like to be able to say - You can do everything with this that you can do with standard BlitzMax - In which case I need everything working, including DX.<br><br><br>One thing to note, is that bmx_ng-made x86 binaries not as fast as the standard BlitzMax. I generate C and use a generic garbage collector, whereas standard BlitzMax has both a BlitzMax-specific GC, and generates assembler. However, my ARM and 64-bit binaries are somewhat faster than standard BlitzMax's ;-) <br><br></td></tr></table><br>
<a name="1240140"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LT</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> It seems to me that as long as there is some way to do DX, your mission will have been accomplished.  But hey, who am I to argue?  I'm just happy you're doing it.  :) <br><br></td></tr></table><br>
<a name="1240141"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GW</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Out of curiosity, what are you doing in bMax that you need DX for and you cant do in Opengl? <br><br></td></tr></table><br>
<a name="1240143"></a>

<a name="1240144"></a>

<a name="1240198"></a>

<a name="1240199"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LT</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I don't see the need for those modules at all. <br></div>I'm quoting myself. ;)<br><br>I don't personally have a need for DX, but some users insist on it.  I assume that's because of better driver support. <br><br></td></tr></table><br>
<a name="1241068"></a>

<a name="1241160"></a>

<a name="1241161"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ole JR</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> After the splitting of system.mod<br>glgraphics.mod and timer.mod fail to compile om windows.<br><br>Have to change the #include in glgraphics.win32.c and timer.win32.c<br> <br><b>#include &lt;brl.mod/system.mod/system.h&gt;</b> need to be <b>#include &lt;brl.mod/systemdefault.mod/system.h&gt;</b><br><br><br>Another question on BlitzMaxNG (still on windows &amp; maybe the wrong thread to ask):<br><br>Shouldn't one be able to (atleast) compile all modules with/without the <b>-h</b> switch?<br><br>Running:<br><pre class=code>bmk makemods -h brl.threads</pre><br>Give me an exception_access_violation<br>brl.mod/threads.mod/.bmx/threads.bmx.debug.mt.win32.x86.c: No such file or directory.<br><br>Edit:<br>And then these things are fixed after syncing :-) <br><br></td></tr></table><br>
<a name="1241196"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Shouldn't one be able to (atleast) compile all modules with/without the -h switch? <br></div><br>One hadn't tried building it in threaded mode yet. Apologies for the minor issues. <br><br></td></tr></table><br>
<a name="1241198"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ole JR</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> No problem at all!<br><br>Now I just have to figure out what goes where from tdm-4.8.1 to the <br>BlitzMax NG folder for x64 building on windows.. <br><br></td></tr></table><br>
<a name="1241199"></a>

<a name="1241200"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Now I just have to figure out what goes where...  <br></div><br>I've a modified script/bat for that, which I can post later. (copies stuff into lib64).<br>&lt;rant&gt;<br>However, I'm still not entirely happy with the setup for Windows. The whole "copy stuff from there to here" thing is rather backwards if you ask me. I understand it was designed to be "standalone" because Windows users don't like to install extra stuff, but it would be easier if bmk just looked for everything in MinGW, rather than BlitzMax bin/lib - this way you don't need to copy anything, as it all would stay where it belonged.<br>On Linux/OS X this is not a problem as you are required to have a dev setup on your box to build stuff.<br>&lt;/rant&gt;<br>:-p<br><br>Maybe now would be a good time to say "for this BlitzMax NG, bmk will look in your MinGW folder for everything it needs" - especially given the fact that you will need MinGW to compile the generated C code anyway.<br><br>Unless anyone has any better ideas? :-) <br><br></td></tr></table><br>
<a name="1241202"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> IF ... and I say IF ... everything works without having to matter which MinGW-version is installed, we could do this:<br>- is something in lib64 - use this<br>- if there is nothing in lib64 - use the minGW available via "%path%" (so globally)<br><br>It always is important to make things work (yay!) so if there is something incompatible with MinGW XYZ, you should still have a chance to somehow route it to the MinGW you want to use.<br><br><br>The "lib64" (or lib32) approach is useful as it allows "portable" BlitzMaxNG-packages. No need to install things first, start MaxIDE and you are ready to compile.<br><br><br>I would like to have such things for Linux/Mac too - but things are different there ...<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1241204"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ole JR</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> I myself doesn't see a problem with using the MinGW path for lib/bin.<br><br>Would even say it might take some frustrations away from how it's currently working in BM "classic"..<br><br>Like: Want to use an extra mod -&gt; need MinGW -&gt; Installs (some new version of) MinGW, but forget/don't know they need to copy lib/bin to BM folder = fail to compile..<br><br>Also way easier to upgrade MinGW that way. Without the need to copy things around..<br><br>And as you say. There's no way to get anything done BlitzMax NG without MinGW anyway. Except maybe write code that one can sit and stare at.. <br><br></td></tr></table><br>
<a name="1241205"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> No need to install things first, start MaxIDE and you are ready to compile. <br></div><br>Except that you *need* MinGW to use the new bcc. No getting away from that. <br><br></td></tr></table><br>
<a name="1241209"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> So maybe reserve a spot within the BMX-NG folder for MinGW to usw - if not existing, use the globally available one.<br><br>Just something so people can "archive" their blitzmax folder - and when unzipping it elsewhere, it still "runs" (except 64bit on 32bit)<br><br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1241339"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> The latest bmk_ng will now build using an installation of MinGW on your system and ignore files in BlitzMax/bin and /lib.<br><br>* It will look first in a folder called MinGW32 in your BlitzMax folder.<br>* If there isn't one there, it will use the MINGW environment variable to find it.<br><br>So far it has only been tested with a 32-bit TDM (4.8.1) and a 64-bit TDM (4.8.x) MinGW install. (Note, the 64-bit TDM can build 32-bit apps *and* 64-bit apps)<br><br>As a test, I created a new, empty BlitzMax folder somewhere on my PC, and created the following folders :<br><pre class=code>
/bin
/mod
</pre><br><br>The contents of the /bin folder looked like this :<br><pre class=code>
bcc.exe
bmk.exe
core.bmk
custom.bmk
make.bmk
</pre><br><br>And the contents of /mod looked like this :<br><pre class=code>
brl.mod
pub.mod
</pre><br><br>The MINGW variable was set to a folder on my PC containing a 32-bit TDM 4.8.1.<br><br>Some info :<br><pre class=code>
.. BlitzMax\bin&gt; bmk -v
bmk 2.22 win32-x86 / gcc 040801 (cpu x2)

.. BlitzMax\bin&gt;bcc -v
bcc[ng] Release Version 0.21
Compile Error: Command line error
</pre><br><br>Then I did a build :<br><pre class=code>
.. BlitzMax\bin&gt;bmk makemods -a
Compiling:blitz_app.c
Compiling:blitz_types.c
Compiling:blitz_cclib.c
...
...
</pre><br><br>And finally compiling a test app (which proves final linking is working) :<br><pre class=code>
.. BlitzMax\bin&gt;bmk makeapp -a -r -t console -o ..\src\helloworld ..\src\helloworld.bmx
Compiling:helloworld.bmx
Linking:helloworld.exe
</pre><br><br>:o)<br><br><br>The "native MinGW" build currently <b>only works with the new bcc</b>. If used with the old bcc, it should simply fallback to using BlitzMax/bin and /lib. (although I haven't tested this use as thoroughly).<br><br>For the test, I downloaded everything (as zips) directly from the bmx-ng github repo : <a href="https://github.com/bmx-ng" target="_blank">https://github.com/bmx-ng</a><br>and built bcc and bmk using a standard BlitzMax install.<br><br>YMMV, of course.<br><br>Please let me know of your successes and/or failures.<br>Thanks.<br><br>Hopefully this will ease transition to multi-architecture builds on Windows. <br><br></td></tr></table><br>
<a name="1241350"></a>

<a name="1241351"></a>

<a name="1241353"></a>

<a name="1241355"></a>

<a name="1241356"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> @packaging together with MinGW - seems w32-libs and runtime is MIT, binutils and gcc are GPL.<br><br>So for runtime/w32-libs there is no need to ship the source code together with the package, binutils and GCC at least require the ability for endusers to compile their own version of that.<br>Dunno how "vanilla BlitzMax" handlest that - but we should be able to do it "similar".<br><br><br>@MinGW<br>To get a working "bcc-ng" you need to first install a current MinGW, copy libs, recompile all modules using the new mingw etc.  Now you should be able to compile "bcc-ng" and "bmk-ng" (you should also be able to do that on another computer). Remember to uncheck "Build GUI app" in MaxIDE, we want a console app.<br>As soon as you have this bcc-ng, you could remove that MinGW and do like Brucey suggested. <br><br>Else you will surely receive this (or similar) when compiling:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Linking:bmk.exe
Warning: .drectve `-aligncomm:"___DTOR_LIST__",2 ' unrecognized
Warning: .drectve `-aligncomm:"___CTOR_LIST__",2' unrecognized
Warning: .drectve `-aligncomm:"___hexdig_D2A",2' unrecognized
Warning: .drectve `-aligncomm:"___mingw_usemthread_dll",2 ' unrecognized
Warning: .drectve `-aligncomm:"___mingw_gMTKeyDtor",2 ' unrecognized
Warning: .drectve `-aligncomm:"___mingw_gMTRemoveKeyDtor",2' unrecognized

Process complete
</textarea><br><br><br>Ok, assuming you got your bcc-ng/bmk-ng compiled, you just Download the TDM (or use the one you already have installed) and do what Brucey wrote. Should work then as it did for me (but I reused an older blitzmax 1.48 setup).<br><br>But ... somehow I cannot run the bmk from console (but from within MaxIDE):<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Starting program: C:\BlitzMaxNG\bin/bmk.debug.exe -v
[New Thread 3776.0x958]
~&gt;Unhandled Exception:Attempt to access field or method of Null object
~&gt;
q
</textarea><br><br>EDIT: seems it crashes as soon as I try this:<br>"print processor.GCCVersion()"<br><br>EDIT2: seems "BCCVersion" calls a process which is not available - it calls "/bin/bcc" - which should not be available on Win32 platforms.<br><br><br>EDIT3:<br><br>Ok, BMK needs 2 fixes:<br><br>replace bmk_ng.bmx<br><pre class=code>
		Local process:TProcess
		If Platform() = "win32" Then
			If processor.BCCVersion() = "BlitzMax" Then
				process = CreateProcess("gcc -v")
			Else
				process = CreateProcess(MinGWBinPath() + "/gcc -v")
			End If
		Else
			process = CreateProcess("gcc -v")
		End If
</pre><br><br>with<br><br><pre class=code>
		Local process:TProcess
		If Platform() = "win32" Then
			'mingwbinpath already contains the path to use
			'just executing "gcc -v" results in a crash here on winXP
			process = CreateProcess(MinGWBinPath() + "/gcc -v")
		Else
			process = CreateProcess("gcc -v")
		End If
</pre><br><br><br>and<br><pre class=code>
	Method BCCVersion:String()

		Global bcc:String
		
		If bcc Then
			Return bcc
		End If
	
		Local process:TProcess = CreateProcess(BlitzMaxPath() + "/bin/bcc")
</pre><br><br>with<br><br><pre class=code>
	Method BCCVersion:String()

		Global bcc:String
		
		If bcc Then
			Return bcc
		End If
	
		?win32
		Local file:String = "bcc.exe"
		?Not win32
		Local file:String = "bcc"
		?
		Local process:TProcess = CreateProcess(BlitzMaxPath() + "/bin/"+file)
</pre><br><br><br>The last change could be also shortened to <br><pre class=code>
		Local process:TProcess = CreateProcess(BlitzMaxPath() + "/bin/bcc -v")
</pre><br><br>As the error seems because "path/bcc" results in an invalid process, "path/bcc.exe" would work - and "path/bcc -v" seems to work too.<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1241358"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> The error(s) appear to be due to the CreateProcess() failing - because stuff is not there, or it can't find it.<br><br><div class="quote"> Unhandled Exception:Attempt to access field or method of Null object <br></div><br>This is because MINGW is not set, or not pointing to a valid location.<br><br>You don't need ".exe" on the end of "bcc".<br><br>I shall add some more error checking.<br><br>However, if you try it with a correctly set up environment, it does work :-p <br><br></td></tr></table><br>
<a name="1241427"></a>

<a name="1241428"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> are you sure about this?<br><br><pre class=code>
		Local processB:TProcess = CreateProcess(BlitzMaxPath() + "/bin/bcc.exe -v")
If processB 
	Print "started: "+ BlitzMaxPath() + "/bin/bcc.exe -v"
Else
	Print "failed: "+ BlitzMaxPath() + "/bin/bcc.exe -v"
EndIf

		Local processA:TProcess = CreateProcess(BlitzMaxPath() + "/bin/bcc -v")
If processA 
	Print "started: "+ BlitzMaxPath() + "/bin/bcc -v"
Else
	Print "failed: "+ BlitzMaxPath() + "/bin/bcc -v"
EndIf
		Local process:TProcess = CreateProcess(BlitzMaxPath() + "/bin/bcc")
If process
	Print "started: "+ BlitzMaxPath() + "/bin/bcc"
Else
	Print "failed: "+ BlitzMaxPath() + "/bin/bcc"
EndIf
</pre><br><br><br>output is:<br><pre class=code>
C:\BlitzMaxNG\bin&gt;bmk.mt.exe -v
started: C:/BlitzMaxNG/bin/bcc.exe -v
failed: C:/BlitzMaxNG/bin/bcc -v
failed: C:/BlitzMaxNG/bin/bcc
started: C:/BlitzMaxNG/bin/bcc.exe -v
failed: C:/BlitzMaxNG/bin/bcc -v
failed: C:/BlitzMaxNG/bin/bcc
gcc 040801
bmk 2.22 mt-win32-x86 / gcc 040801 (cpu x1)
</pre><br><br>So this is only an invalid mingw path?<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
C:\BlitzMaxNG\bin&gt;echo %path%
C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\Programme\TortoiseSVN\bin;c:\MinGW\Bin;C:\MinGW\bin;C:\Programme\QT Lite\QTSystem
</textarea> <br>(double entry should not disturb functionality)<br><br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
C:\BlitzMaxNG\bin&gt;gcc -v
Using built-in specs.
COLLECT_GCC=gcc
COLLECT_LTO_WRAPPER=c:/mingw/bin/../libexec/gcc/mingw32/4.8.1/lto-wrapper.exe
Target: mingw32
Configured with: ../../../src/gcc-4.8.1/configure --build=mingw32 --enable-languages=ada,c,c++,fortran,lto,objc,obj-c++ --enable-libgomp --enable-lto --enable-graphite --enable-libstdcxx-debug --enable-threads=posix --enable-version-specific-runtime-libs --enable-fully-dynamic-string --enable-libstdcxx-threads --enable
-libstdcxx-time --with-gnu-ld --disable-werror --disable-nls --disable-win32-registry --disable-symvers --enable-cxx-flags='-fno-function-sections -fno-data-sections -DWINPTHREAD_STATIC' --prefix=/mingw32tdm --with-local-prefix=/mingw32tdm --with-pkgversion=tdm-2 --enable-sjlj-exceptions --with-bugurl=http://tdm-gcc.td
ragon.net/bugs
Thread model: posix
gcc version 4.8.1 (tdm-2)
</textarea><br><br>So I assume: there is something else hidden in the bush.<br><br><br>PS: the null error happens in "GCCVersion" (I think) because it starts of a process - and then does not check if this is a valid handle then:<br><br><pre class=code>
Local process:TProcess
If Platform() = "win32" Then
...
	process = CreateProcess("gcc -v")
...
End If
Local s:String

While True
	Delay 10
	'first access to process - which might be "null"
	Local line:String = process.err.ReadLine()
...
</pre><br><br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1241440"></a>

<a name="1241441"></a>

<a name="1241443"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ole JR</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> Seem to work here.<br><br>MINGW variable set to (old x86) C:\MinGW.<br><br>BlitzMaxNG into C:\Programming\BlitzMaxNG.<br><br>Installed MinGW-w64/TDM64 (32-bit and 64-bit)<br>into C:\Programming\BlitzMaxNG\MinGW32<br><br>Latest mods copied from git, bccNG &amp; bmkNG built in "classic" BlitzMax 1.50 (threaded build).<br><br>Both installs of MinGW is tdm 4.8.1.<br><br>And the way it's set up now, I can use both "version" of BlitzMax here..<br><br>(Just tried building mods in x86/x64, thread/no-thread. 3:30 at night here)<br><br>One litte thing I've noticed is if you make a typo, ie -g x87, it will happily build the modules, and name them win32.x87.a.. <br><br></td></tr></table><br>
<a name="1241460"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  So this is only an invalid mingw path? <br></div><br>No, it doesn't use the path, it uses the environment variable "MINGW". One generally needs to set this if you intend building modules from the IDE (otherwise the menus are disabled).<br>An NG-friendly version of MaxIDE would probably require a change to check paths in the same way as bmk does now - amongst other things like adding new build configuration options.<br><br><div class="quote"> ... and then does not check if this is a valid handle then <br></div><br>Indeed, which is why I added some checks for valid processes in the latest commit, reporting the errors to the console.<br><br><div class="quote"> if you make a typo, ie -g x87, it will happily build the modules, and name them win32.x87.a..  <br></div><br>Yes, if it doesn't find a valid match, it falls back to the default (i.e. the native architecture version of bmk/bcc). Perhaps it should rather throw an error :-) <br><br></td></tr></table><br>
<a name="1241468"></a>

<a name="1241469"></a>

<a name="1241471"></a>

<a name="1241481"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Environment variable:<br>Is TDM intended to create that during installation? If so -- it didn't do that.<br>"mingwvars.bat" only sets up a path ... so hmm.<br><br><br>Maybe this explains why I cannot use the menus of MaxIDE (gre|ayed out).<br><br><br><br>I also do not have a "BMXPATH"-environment-variable set up - so that defaults too to check "AppDir() + /bin/bmk" for existence.<br><br><br>So what Did I do now: I added "BMXPATH" as environment variable (according docs this takes effect immediately but I restarted my cmd prompt). I also added the BMXPATH\bin as path - so i could call "bcc" from everywhere (thought this helps getting rid of ".exe"-needs).<br><br>Calling "bcc" from somewhere results in:<br><pre class=code>
C:\&gt;bcc
bcc[ng] Release Version 0.21
Compile Error: Command line error
</pre><br><br>I adjusted bmk_ng.bmx BCCVersion:String() to do something more:<br><pre class=code>

		Local process:TProcess = CreateProcess(BlitzMaxPath() + "/bin/bcc -v")

Print "getenv BMXPATH:" + getenv_("BMXPATH")

If Not process
	Print "not able to run bcc: " + BlitzMaxPath()+"/bin/bcc -v"
	process = CreateProcess(BlitzMaxPath() + "/bin/bcc.exe -v")
	If Not process
		Print "not able to run bcc: " + BlitzMaxPath()+"/bin/bcc.exe -v"
	Else
		Print "run bcc: " + BlitzMaxPath()+"/bin/bcc.exe -v"
	EndIf
Else
	Print "run bcc: " + BlitzMaxPath()+"/bin/bcc -v"
EndIf
</pre><br><br>Here is some sample output:<br>(%BMXPATH% is the console access for the environmentvariable "BMXPATH")<br><pre class=code>
C:\BlitzMaxNG\bin&gt;echo %BMXPATH%
C:\BlitzMaxNG

C:\BlitzMaxNG\bin&gt;bmk.mt.exe -v
getenv BMXPATH:C:\BlitzMaxNG
not able to run bcc: C:\BlitzMaxNG/bin/bcc -v
run bcc: C:\BlitzMaxNG/bin/bcc.exe -v
gcc 040801
bmk 2.22 mt-win32-x86 / gcc 040801 (cpu x1)
</pre><br><br><br>Seems the problem is something else. I also cannot remember to have BlitzMax-install doing something with environment variables.<br><br><br>EDIT: I also tried replacing "\" with "/" because I thought mixing both can create some trouble.<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1241470"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ole JR</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> Might be that it falls back codewise, but the name you get on the lib is wrong.<br><br>Try this:<pre class=code>bmk makemods -a -g Brucey brl.blitz</pre><br><br>Then look at the generated files.<br><br>That can't be the right behavour :) <br><br></td></tr></table><br>
<a name="1241473"></a>

<a name="1241474"></a>

<a name="1241476"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> Which lib? I create the bmk using "vanilla BlitzMax" (to avoid problems created by bcc-ng or ng-modules).<br><br>This bmk is located within "BlitzMaxNG\bin".<br><br>So: no need to recompile "ng/mod/brl.mod/brl.blitz".<br><br><br>Also it does not seem like an error within "bmk" but something causing "TProcess" not to create processes if you do not append ".exe" in this case.<br><br>EDIT: I also replaced "bcc[.exe] -v" with "bcc[.exe]" but filetype-checks in createProcess are only done for MacOS.<br><br>I copied the CreateProcess code, and extended it with some print statements:<br><br><pre class=code>
CreateProcess: C:\BlitzMaxNG/bin/bcc
     FileType: 1
       handle: 0
getenv BMXPATH:C:\BlitzMaxNG
not able to run bcc: C:\BlitzMaxNG/bin/bcc
CreateProcess: C:\BlitzMaxNG/bin/bcc.exe
     FileType: 1
       handle: 13738752
run bcc: C:\BlitzMaxNG/bin/bcc.exe
gcc 040801
bmk 2.22 mt-win32-x86 / gcc 040801 (cpu x1)
</pre><br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1241475"></a>

<a name="1241477"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ole JR</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> So: no need to recompile "ng/mod/brl.mod/brl.blitz".<br> <br></div><br>We're posting at the same time and answering different things.<br><br>I only used brl.blitz as an example in reply to:<br><div class="quote"> Yes, if it doesn't find a valid match, it falls back to the default (i.e. the native architecture version of bmk/bcc). Perhaps it should rather throw an error :-)<br><br>-+ Brucey +- <br></div><br>That was a reply to my:<br><div class="quote"> if you make a typo, ie -g x87, it will happily build the modules, and name them win32.x87.a..<br> <br></div> <br><br></td></tr></table><br>
<a name="1241478"></a>

<a name="1241479"></a>

<a name="1241482"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> I edited my post above yours. I'm online now - if you have the time for a fast chat (maybe you too celebrate the day of the Union between GDR and Germany :D).<br><br><br>EDIT: I replaced <br>BlitzMaxPath() + "/bin/bcc"<br>with just<br>"bcc"<br><br>and that worked - maybe it just works if you avoid ambiguity (within ".../bin/" there is "bcc.exe" and you call "bcc" which could also mean something within your path or so - but hmm, it also did not work BEFORE I added the path).<br><br>EDIT2: nope, ambiguity is not the reason, as then "BlitzMaxPath() + /bcc" should work - but does not.<br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1241480"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> That can't be the right behavour :) <br></div><br>How you use the tools at your disposal, is completely up to you :-p <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
