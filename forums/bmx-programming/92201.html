<!DOCTYPE html><html lang="en" ><head ><title >3rd Party Mods not running with</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >3rd Party Mods not running with</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >3rd Party Mods not running with</a><br><br>
<a name="1049784"></a>

<a name="1049786"></a>

<a name="1049787"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've compiled (makemods aka. Build Modules in IDE) some 3rd party mods and have had some interesting problems.<br><br>The demos in Chipmunk and FarSeer will not compile with Threaded Build on in the Build Otions. I get "Can't find Interface for module" error. With Threaded Build off, they compile and execute fine.<br><br>When I built these mods I had no errors.<br><br>Is it possible I have the wrong Mingw? I'm using the current installer and the latest repository.<br><br>Thanks for any help.<br><br>Edit- I've tried compiling these mod's via command line with the various flags with no change in the above. Using "Re-Build All Modules" no help either, although all of the BRL Mods seem to still function fine.<br><br><font class="tiny"><i>Last edited 2010</i></font><br><br><font class="tiny"><i>Last edited 2010</i></font> <br><br></td></tr></table><br>
<a name="1049788"></a>

<a name="1049789"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Turn on threaded mode, rebuild mods.<br><br>[edit] At least, that's how I did it in BLIde when I had the same problem.<br><br><font class="tiny"><i>Last edited 2010</i></font> <br><br></td></tr></table><br>
<a name="1049796"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well that sorta worked. <br><br>I did a fresh install of BMAX 1.41 and then rebuit modules with Build Option - Threaded Build and GUI Build. Now Box2d will compile Threaded Build or not, Chipmonk will now only compile Threaded Build. <br><br>It was interesting that on messing with these Build Options that bmk will rebuild all modules.<br><br>So my question now is do all modules (brl included) have to match in their build quality, for example all mod's should be compiled as Threaded Build or not. Not mixed, some compiled Threaded Build and some not.<br><br>Aside from the above I get compiler warnings on successful compiles likes this:<br><br>Warning: .drectve `-aligncomm:_stdin_,2 ' unrecognized<br>Warning: .drectve `-aligncomm:_stdout_,2 ' unrecognized<br>Warning: .drectve `-aligncomm:_stderr_,2' unrecognized<br>Warning: .drectve `-aligncomm:_bbGCStackTop,2 ' unrecognized<br>Warning: .drectve `-aligncomm:__bbusew,2' unrecognized<br>Warning: .drectve `-aligncomm:__bbNeedsLock,2 ' unrecognized<br>Warning: .drectve `-aligncomm:__bbLock,2' unrecognized<br><br><br>Thanks for the help, <br><br></td></tr></table><br>
<a name="1049832"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> What happens if you try a force-rebuild from the command line?<br><br>bmk makemods -a bah.chipmunk<br>bmk makemods -a -h bah.chipmunk<br><br>or an entire branch:<br><br>bmk makemods -a bah<br>bmk makemods -a -h bah<br><br>or all modules:<br><br>bmk makemods -a <br>bmk makemods -a -h <br><br>The -a forces the module to recompile whether or not it thinks its necessary, the -h does the threaded build. <br><br></td></tr></table><br>
<a name="1049858"></a>

<a name="1049859"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Xlsior,<br><br>Some will compile, but ...<br><br>How do you do mods in sub-folders like Brusey's mods which are in a folder called bah.mod ? I can not remember how to do it and I've tried adding the path to the commandline (bmk -a -h c:\bmax\mod\bah.mod\chipmunk) with no compile.<br><br>@-All,<br><br>Anyone get maxmod2.mod to compile?<br><br>Thanks,<br><br><font class="tiny"><i>Last edited 2010</i></font> <br><br></td></tr></table><br>
<a name="1049861"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Muttley</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Richard: You do it exactly as xlsior says in his post:<br><br>bmk makemods -a bah.chipmunk<br>bmk makemods -a -h bah.chipmunk <br><br></td></tr></table><br>
<a name="1049866"></a>

<a name="1049869"></a>

<a name="1049873"></a>

<a name="1049877"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Muttley <br><br>edit - ok compiling... lets see what happens:)<br><br>Ok, That seems to have worked. Compiling Chipmunk Threaded Build only allows it to compile a Chipmunk demo in Threaded Build. Compiling the Chipmunk mod No Build Options (bmk makemods -a) let Chipmunk demos compile either way, Threaded Build or Non-Threaded Build.<br><br>I still get compiler warnings when compiling a demo for Chipmunk (Box2d and others even brl) in either Threaded or Non-Threaded Build. Here is the warnings for Non-Threaded Build:<br><br>Warning: .drectve `-aligncomm:_stdin_,2 ' unrecognized<br>Warning: .drectve `-aligncomm:_stdout_,2 ' unrecognized<br>Warning: .drectve `-aligncomm:_stderr_,2' unrecognized<br>Warning: .drectve `-aligncomm:_bbGCStackTop,2 ' unrecognized<br>Warning: .drectve `-aligncomm:__bbusew,2' unrecognized<br>Warning: .drectve `-aligncomm:__bbNeedsLock,2 ' unrecognized<br>Warning: .drectve `-aligncomm:__bbLock,2' unrecognized<br><br><br>Whats all that about?<br><br>I will try reinstalling Bmax and then recompile my third party mod's using command line and see if the errors go away.<br><br>Thanks.<br><br><font class="tiny"><i>Last edited 2010</i></font><br><br><font class="tiny"><i>Last edited 2010</i></font> <br><br></td></tr></table><br>
<a name="1049884"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> You need the modules you are using compiled with threading enabled or disabled to match what you are building (threading enabled or disabled. Don't know about your environment but ind the default and CE ides you can build both threaded and non threaded and have them both available. Be sure you're rebuilding all modules as sometimes things can get out of sync if you build some threaded, some non and then try to mix or rebuild the rest...<br><br>Personally I use CE with brucy's bmk2 so I build everything threaded and non threaded for Mac(intel and ppc) and windows every time I install or modify anything (just so I won't forget later). <br><br></td></tr></table><br>
<a name="1050130"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks like I have it all running now with no more compiler warnings. I found it interesting that when I rebuilt all of the the BRL mod's, compiled code generated compiler warnings. It would be neat to know why this happens. <br><br>So as I understand it I need to keep the Mod's compiled as Threaded or Non-Tread . No mixing Build options within a project.<br><br>Thanks for all your help; it's been a while and BMax has grown up. :) <br><br></td></tr></table><br>
<a name="1050231"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> So as I understand it I need to keep the Mod's compiled as Threaded or Non-Tread . No mixing Build options within a project. <br></div><br><br>IIRC that's due to the different garbage collectors used in threaded and non-threaded modes. <br><br></td></tr></table><br>
<a name="1050322"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> They do run with different GC's, there may be more internal differences as well.<br><br>You need ALL modules compiled for whatever build method (threaded or non threaded) you're using for a given project. You should be able to have all modules however compiled for both so you can switch as needed.<br><br>Assuming default IDE, I think this is what you need to do (haven't used standard in a while):<br>Rebuild ALL modules<br>Toggle threading (from on to off, or off to on)<br>Rebuild ALL modules<br>rebuild documentation (just to be sure everything is updated while you're at it)<br>Maybe quit and re-launch IDE if you're paranoid but it shouldn't matter.<br><br>You should then be able to build threaded or non threaded. Just remember if you change/add/possibly remove any mods you will have to rebuild modules both threaded and non threaded... and I would recommen unless you're working on the module yourself always favor rebuild all over just rebuilding the differences. I've had some really strange compiler errors or crashes etc. if modules get out of sync with each other some times. <br><br></td></tr></table><br>
<a name="1050870"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> ima747,<br><br>So BMAX does not include both builds?<br><br>I will try what you have suggested.<br><br>Thanks <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
