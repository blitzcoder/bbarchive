<!DOCTYPE html><html lang="en" ><head ><title >Creating dlls Aka the search for the grail</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Creating dlls Aka the search for the grail</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Creating dlls Aka the search for the grail</a><br><br>
<a name="654144"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Where do we stand on creating dlls? I remember two attempts that had varying success but it's such a long time ago now I doubt they still apply to bmax.<br><br>Any links to them would still be great just in case though. <br><br></td></tr></table><br>
<a name="654160"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I believe we aren't allowed to do it with Max. <br><br></td></tr></table><br>
<a name="654163"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> You are allowed to do it but you will require a special license to do so. <br><br></td></tr></table><br>
<a name="654164"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> You need a special license from BRL to distribute a dll.  I'm sure they would be reasonable, so I wouldn't let that stop you. <br><br></td></tr></table><br>
<a name="654177"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I basically just want to wrap aurora and net optica into a dll so I can release C++/C# versions with a oop interface.<br><br>I'd be happy to work out a license with brl so I don't see that as an issue. Did you ever manage it halo? I remember your post on the subject. <br><br></td></tr></table><br>
<a name="654190"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >kfprimm</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://www.blitzbasic.com/Community/posts.php?topic=50045" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=50045</a> <br><br></td></tr></table><br>
<a name="654194"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://blitzbasic.com/Community/posts.php?topic=53607" target="_blank">http://blitzbasic.com/Community/posts.php?topic=53607</a> <br><br></td></tr></table><br>
<a name="654458"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK, I've got a dll compiling ok, but it appears if  you do anything with blitzstrings in the dll it crashes without an error.<br><br>Literally anything, like a simple c string to blitz string convertor.<br><br><pre class=code>
Function cToStr:String( c:Byte Ptr )

	Local ret:String
	Local j=0
	Repeat
		Local a = c[j]
		If a =0
			Exit
		EndIf
		ret:+Chr( a )
		j:+1
	Forever
	Return ret
	
End Function

Function AC_CreateEntity:TEntity( name:Byte Ptr )"win32" 'EXPORT

	Local ent:TEntity = TEntity.CreateMesh( cToStr(name) )
	Return ent

End Function
</pre><br><br>The other functions work, it creates the aurora window fine, but as soon as it hits the CreateEntity function it bombs out. Anyone else experienced this? Know a work around? Do I have to initialize soem aspect of blitz before hand?<br>As it's looking like the C++ version of Aurora will just have to link directly to OgreMax.dll wrote in c++ and forego the extras wrote in blitz like blitz net optica. <br><br></td></tr></table><br>
<a name="654506"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Unrelated to the DLL bit, but you would probably like to know that there are String::FromCString and String::FromBytes methods. <br><br></td></tr></table><br>
<a name="654560"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Didn't know that, thanks.<br>Check your inbox for a link to you know what. <br><br></td></tr></table><br>
<a name="654593"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can't create .NET Assemblies with BM (using COMs with C# is at best a bad joke and no C# would even consider buying such an library) as GCC can not create them.<br><br>libraries for C# need their own design anyway to handle it C# conform (generics, properties and the whole rest of the C# world) <br><br></td></tr></table><br>
<a name="654670"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kuron</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> You need a special license from BRL to distribute a dll. <br></div>It depends on when you bought BMax.  If you bought BMax before they came up with that stipulation, you can make a DLL and use it as you wish as license changes cannot be applied retroactively.  If you bought BMax after they came up with that stipulation, then you cannot make DLLs without a license.<br><br>Why you would make a DLL with BMax is beyond me, there are other languages more suitable to the task. <br><br></td></tr></table><br>
<a name="654700"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> It depends on when you bought BMax. If you bought BMax before they came up with that stipulation, you can make a DLL and use it as you wish as license changes cannot be applied retroactively. If you bought BMax after they came up with that stipulation, then you cannot make DLLs without a license. <br></div><br><br>Maybe so, but the older versions of BMax are just.... ew.  It's like a disfigured, cancerous, rabid dog compared to a cute little bunny rabbit. <br><br></td></tr></table><br>
<a name="654799"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I didn't even buy mine, but, when I recieved my first BlitzMax version it wasn't even released, so, Do i have to get a license for DLLs? <br><br></td></tr></table><br>
<a name="654818"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've had bmax since the first windows beta so I'm set. Take that non retro-active license! Bang straight to the moon!<br><br>Dreamora, I'm talking about wrapping a dll and giving it a oo interface in C#.<br><br>It's possible in MS .Net with dllImport, but it doesn't work in mono for some reason. Which is all I have at the moment so I can't test until I re-install windows. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
