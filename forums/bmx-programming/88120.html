<!DOCTYPE html><html lang="en" ><head ><title >OGG files after BlitzMax 1.34 not playing</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >OGG files after BlitzMax 1.34 not playing</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >OGG files after BlitzMax 1.34 not playing</a><br><br>
<a name="1000254"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chalky</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I use this to start background music in my game:<br><br><pre class=code>SFX_MusicChannel=AllocChannel()
SetChannelVolume(SFX_MusicChannel,Volume#)
PlaySound(SFX_Music,SFX_MusicChannel)
</pre><br>This works perfectly in BlitzMax 1.34, but I get no sound at all when compiling in 1.35 or 1.36. Is this related to the "bad ref" errors mentioned in mark's "Avoid V135 RC5!" thread or has something changed which requires me to alter my code? <br><br></td></tr></table><br>
<a name="1000418"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chalky</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok - no replies must mean I am the only one with the problem. :o)<br><br>For BlitzMax 1.34, Framework Assistant suggested (I have included all suggestions here, regardless of their relevance to Audio playback):<br><pre class=code>Framework brl.D3D7Max2D
Import brl.RamStream
Import brl.PNGLoader
Import brl.WAVLoader
Import brl.OGGLoader
Import brl.Retro
Import brl.FreeTypeFont
Import pub.Win32
Import brl.FreeAudioAudio
Import brl.BMPLoader
Import brl.JPGLoader</pre>for which OGG playback worked (under 1.34, but not 1.35 or 1.36).<br><br>After commenting out the Framework and Import lines and recompiling, the playback of OGG files was restored in BlitzMax 1.36. However, I now cannot work out how to get it working when including a Framework command.<br><br>For BlitzMax 1.36, Framework Assistant suggests:<br><pre class=code>Framework brl.D3D7Max2D
Import brl.RamStream
Import brl.PNGLoader
Import brl.WAVLoader
Import brl.OGGLoader
Import brl.Retro
Import brl.System
Import brl.FreeTypeFont
Import brl.FreeAudioAudio
Import brl.JPGLoader
Import brl.BMPLoader</pre>but OGG file playback does not work. Can anyone please help? <br><br></td></tr></table><br>
<a name="1000424"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have the same problem although I can't get it to play OGG and wave files. Apparently FreeAudioAudio fails to work with the new version. I had to switch to DirectSoundAudio. <br><br></td></tr></table><br>
<a name="1000433"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chalky</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Jesse - FreeAudioAudio was the cause. Dunno how I missed the fact it no longer works but switching to DirectSoundAudio did indeed fix the problem. :o) <br><br></td></tr></table><br>
<a name="1000438"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> If compatibility is an issue to you, I would revert back to 1.34 until they fix that issue. I don't have Vista or windows 7 but I heard that Direct Sound has a lag with these two operating systems. <br><br></td></tr></table><br>
<a name="1000440"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chalky</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the heads-up - I will do that then as I don't have Vista or Windows 7 either, so cannot do any testing. Pity though as I would have preferred to be using the latest release of Max... <br><br></td></tr></table><br>
<a name="1000444"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_Skully</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thread should be moved to Bug Reports. <br><br></td></tr></table><br>
<a name="1000469"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Has FreeAudio really been removed? <br><br></td></tr></table><br>
<a name="1001150"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Seems like Freeaudio is still there in BMax 1.36.<br><br><div class="quote"> Direct Sound has a lag with these two operating systems.  <br></div>Freeaudio definitely has a lag on those two systems, seen it myself.  That's why I use OpenAL for them and FreeAudio for 98/ME/2000/XP. <br><br></td></tr></table><br>
<a name="1260022"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CoCoder</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi all!<br><br>I recently updated to the latest release of BlitzMAX and I have also found this issue of playing OGG files.<br><br>The last version I used prior to this new release was I think also 1.34.<br><br>Is this then a bug?? I don't want the hassle of converting all my OGG files to WAV or MP3. Yikes.<br><br>I get no errors when using OGG files, just no sound at all. <br><br></td></tr></table><br>
<a name="1260031"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CoCoder</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, ok. Found a fix for this bug/problem....<br><br>Instead of using BRL.FreeAudioAudio, use BRL.DirectSoundAudio instead.<br><br>This seems to work perfectly if anyone is interested ;-) <br><br></td></tr></table><br>
<a name="1260037"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xerra</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am. I remember having this problem a couple of weeks back and forgot to actually post here asking about it. Thanks a lot for the heads-up. <br><br></td></tr></table><br>
<a name="1260076"></a>

<a name="1260077"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> So this is an issue with Framework Assistant?<br><br>I thought DirectSoundAudio replaced FreeAudio as default some time ago (on Windows targets only). <br><br>Oh, thread is 5 years old... <br><br></td></tr></table><br>
<a name="1260267"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CoCoder</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah I noticed this thread is old too. Sorry!<br><br>Just thought as id ran into the same problem NOW I would post a solution.<br><br>Hopefully will help some people out. <br><br></td></tr></table><br>
<a name="1260368"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xerra</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm assuming the author of framework assistant isn't around to modify the program now? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
