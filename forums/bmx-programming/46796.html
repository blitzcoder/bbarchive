<!DOCTYPE html><html lang="en" ><head ><title >How could I print a unicode string??</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >How could I print a unicode string??</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >How could I print a unicode string??</a><br><br>
<a name="520547"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pinete</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi all,<br><br>Please I need help in the next subject..<br><br>I'm trying to write a unicode string to screen but<br>all my efforts are completely unsucessful!<br><br>For example, I go to a russian web page, copy some text<br>with cyrilic characters and paste into my code.<br><br>I've been reading all the related info and some posts but<br>I don't know how to do it, how to convert or somethign similar...<br><br>I'm working with the fantastic BLide. This IDE allow me <br>to work with unicode strings..<br><br>Please help!!! <br><br></td></tr></table><br>
<a name="520575"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's not quite possible yet, but I had a query about this yesterday and Mark explained that:<br><br>· the BlitzMax compiler supports Unicode characters, but;<br>· the Windows IDE doesn't support them (yet), though the Mac IDE does -- this will be down to the platform-specific editor controls used;<br>· outputting Unicode text via the Print command will work in the Mac console but not the Windows one, which doesn't support the <a href="http://en.wikipedia.org/wiki/UTF8" target="_blank">UTF8</a> encoding used;<br>· DrawText needs an upgrade to support Unicode characters.<br><br>Mark does understand the need to support this, and intends to try and get the Windows IDE and DrawText supporting Unicode text as time permits. <br><br></td></tr></table><br>
<a name="520586"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pinete</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks a lot for your response, James.<br><br>Unicode is key in terms of marketing.  In order to selling your games all over the world, there exist a lot of territories (rusia, china, japan, etc...) interested in publishing but uses to ask for the game traslated to his language to close the deal and this is a problem.<br><br>Thanks again!<br><br>Best regards! <br><br></td></tr></table><br>
<a name="526478"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> IF your problem is outputing the unicode characters in the windows console, you can convert them to ansi, in a very easy way: <br><br>Make your bmx source in ANSI (this will treat any spetial character as a single 8 bits character, not converting it to 16 bits).<br><br>And make the output text via standario.writebytes, and not using the print command. <br><br>I use this to make a 'on the fly' conversion, and it works fine:<br><br><pre class=code>
Strict

PrintLine("Thís ís àn ansï striñg with spetial châracters.")


Function StringToBuffer:TBank(PBuffer:TBank ptr, Str:String)
	local buffer:TBank = var(PBuffer)
	buffer.resize(len(Str))
	for local i = 1 to len(str)
		buffer.pokebyte(i-1,asc(mid(str,i,1)))
	Next
end function

function PrintLine(Com:String)
	local Buffer:TBank = new TBank
	StringToBuffer(varptr(Buffer),Com)
	standardiostream.writebytes(buffer.buf(), buffer.Size())
	StringToBuffer(varptr(Buffer),chr(13)+chr(10)) 'line feed
	standardiostream.writebytes(buffer.buf(), buffer.Size())
	flushstream(standardiostream)	
end function
</pre><br><br>This function will solve the problem in the official IDE and in the windows console, as long as BlitzMax continues outputing the text in a non-windows console compatible UF8 format. IT would be great that the print command uses the standar output encoding of the windows distribution where the program is running. But no news about that... BLIde works with unicode encoding, to ensure 100% compatibility with blitzMax, so if you use this functions to output ANSI text, it won't be displayed correctly in the BLIde console window, you can always Bluid and 'run the application in a real console' to see everything is outputing correctly. <br><br></td></tr></table><br>
<a name="526664"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Unicode would be great! <br><br></td></tr></table><br>
<a name="526770"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RexRhino</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Unicode is definitly an extremly important feature. <br><br></td></tr></table><br>
<a name="526778"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>'run the application in a real console' to see everything is outputing correctly.<br> <br></div><br>Hmm, in a real console I get...<br><pre class=code>
"ThÝs Ýs Ón ans´ stri±g with spetial chÔracters."
</pre><br>... though it's correct in the IDE output! <br><br></td></tr></table><br>
<a name="526781"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Hmm, in a real console I get... <br></div><br>yeah, I get the same <br><br></td></tr></table><br>
<a name="527743"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's logical, in a real console, on a MAC you need to output UNICODE, in a windows, it dependes on your international distribution, it can be ANSI or UNICODE. If it's ANSI, you will see the text correctly, if not, you'll get garbage. I mean, the problem is WINDOWS is not supporting well UNICODE output in most of its distributions. the official IDE is not supporting unicode in windows. So, you can use the function I mentioned above to see the output in the official IDE and in a non unicode console, but you'll get garbage in a unicode console (mac, linux and some windows)... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
