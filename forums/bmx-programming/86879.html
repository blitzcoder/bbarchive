<!DOCTYPE html><html lang="en" ><head ><title >Please help with circle -&gt; rotated rect coll func</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Please help with circle -&gt; rotated rect coll func</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Please help with circle -&gt; rotated rect coll func</a><br><br>
<a name="984945"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello everyone,<br><br>Getting back into programming again after a haitus.<br><br>My latest project simply wants me to make a circle for the main player and collide it with a rotated rectangle anywhere in the screen with sliding collision.<br><br>So I would need to try and work out (in laymans terms, as I am just an artist):<br><br>1. define the circle<br>2. define the rectangle (ie width, height and angle)<br><br>3. move the circle against the rectangle but "slide along it" - perhaps the function would fill in a new x,y value for the sphere trying to pass through it?<br><br>4. move the circle through a rectangle but register a collision for "zones"<br><br>I don't see a situation where I need to collide rotated rectangle -&gt; rotated rectangle, so this should be simple to work out in theory...<br><br>So if anyone has any super simple code or ideas I would be in your debt and be very grateful. I could probably do a game logo for you if your help is a function and very "lightweight" in terms of processing :) <br><br></td></tr></table><br>
<a name="984955"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> To do this I think there is probably a function you can use maybe in the code archives or other threads, to tell if the circle and rectangle overlap. But I think if you want the ball to be sliding along the rectangle then you're starting to get into physics and would need to calculate some kind of physics interaction. Are you making a pinball game? <br><br></td></tr></table><br>
<a name="985132"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> No just sliding collision of walls in a 2D environment. <br><br></td></tr></table><br>
<a name="985140"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I suppose super quick circle - line intersection would be just as good. I would then just draw out lines for walls.<br><br>For sliding collision I would use:<br><br>1. get the angle from circle position and intersection<br>2. position circle at intersection<br>3. move it back out by the angle * half radius<br><br>Would that work? I don't think it would be very fast though... I'm intent on about a thousand little circles to line intersections with sliding collision (they don't collide with each other though, just move around the world).<br><br>If this is the right way to go then I guess I need circle -&gt; line intersection function. <br><br></td></tr></table><br>
<a name="985143"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warpy</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have a look at <a href="http://warpycode.wordpress.com/2009/06/17/making-things-bounce/" target="_blank">this blog post</a> I did for the bouncing part.<br><br>To make it work with a circle instead of a point, detect collisions when the distance between the centre of the circle and the line is less than the circle's radius - see <a href="/codearcs.php?code=1870" target="_blank">this code archive entry</a>, or any of the others. <br><br>Once you've detected a collision, you can find the point of intersection by solving the line-point distance equation, setting the distance to be equal to the radius. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
