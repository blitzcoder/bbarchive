<!DOCTYPE html><html lang="en" ><head ><title >DRM wrappers and BlitzMax crashing.</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >DRM wrappers and BlitzMax crashing.</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >DRM wrappers and BlitzMax crashing.</a><br><br>
<a name="959178"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >levelord</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm trying to get my game to a survey group through a publisher.  When the publisher wraps it, it crashes.  They have tried both ActiveMARK and Yummy.  I also use MoleBox to pack the data files.<br>Does anyone have any idea how to do this?<br>Is it problems with MoleBox or the way I'm using it (default pack for the exe and a 'resources.dat' pack for the data files).<br>Is it something with BlitzMax?<br>I have seen forum chats about this problem, but nowhere is there posted any sort of solution or a proper procedure (settings, how to best pack, best tools, etc.). <br><br></td></tr></table><br>
<a name="959180"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You probably won't be able to use Molebox. It self-references and that's the number one thing DRM wrappers don't like you to do. <br><br></td></tr></table><br>
<a name="959182"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >levelord</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, Gabriel, but this leaves me in the same spot.  I need to know what exactly to do to fix the problem.  Is there a wrapper that works, and are there any special settings/procedures and such?<br>Thanks again Gabriel! <br><br></td></tr></table><br>
<a name="959183"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >levelord</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> In particular, I'd like to find a solution that works with Trymedia's ActiveMARK. <br><br></td></tr></table><br>
<a name="959185"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can't you just not use Molebox to see if the problem goes away? <br><br></td></tr></table><br>
<a name="959188"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >levelord</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> ...but I need to pack the data files somehow ;) <br><br></td></tr></table><br>
<a name="959189"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do you really need to pack them, or can't you just put them in a data directory? <br><br></td></tr></table><br>
<a name="959190"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >levelord</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> ...and, hopefully, the way (proven) other games have made it to market already. <br><br></td></tr></table><br>
<a name="959194"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >levelord</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I wish that was possible, but the data files need to be packed. <br><br></td></tr></table><br>
<a name="959195"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why? <br><br></td></tr></table><br>
<a name="959198"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >levelord</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> For securing the data. <br><br></td></tr></table><br>
<a name="959203"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> What data, exactly?  Sounds and images? <br><br></td></tr></table><br>
<a name="959205"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >levelord</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, sir, sounds, images, and some text files. <br><br></td></tr></table><br>
<a name="959207"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can't you just incbin them instead?<br><br>I'm also surprised the DRM software doesn't pack everything up neatly anyway... <br><br></td></tr></table><br>
<a name="959208"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Yes, sir, sounds, images, and some text files.  <br></div>Why do you need to secure them?  Are expecting your work is really that important that someone is going to target your game and steal its content?  Nevermind that the content is most likely very specific to your game and would require significant modification to be otherwise.<br><br>I think you're wasting your time, you really don't need to secure these files. <br><br></td></tr></table><br>
<a name="959215"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >levelord</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Brucey: Evidently the DRM does not do this.  I would have thought so also.  This is my first launch, as a one-man studio.  I've done many other AAA titles, but this is the casual audience.<br><br>Doesn't IncBin create a huge exe and memory footprint?  I mean, all the data is loaded into memory when the game loads, rather than read files as they are needed.<br><br>Nilium: The portals want this, as well, so there isn't huge directories and such for casual gamers. <br><br></td></tr></table><br>
<a name="959216"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >levelord</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Also, I have nearly 2000 PNG files that have their names stored in text files.  So doing the initial IncBin referencing will be a nightmare.<br><br>It's a hidden objects game, btw.<br><br>I have a guy at Teggo looking into this, but I'd rather find a BlitzMax solution, I guess, so it's all self-contained. <br><br></td></tr></table><br>
<a name="959217"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Put your data in an archive and read it out of the archive?  The whole security bit is a waste of time, so think less about that and more about how you can easily read your data without any other problems.<br><br><div class="quote"> Doesn't IncBin create a huge exe and memory footprint? I mean, all the data is loaded into memory when the game loads, rather than read files as they are needed. <br></div>It's not going to be any bigger a binary than your game would be if it were packaged differently.  As for memory footprint, that's almost entirely irrelevant unless you're packing more than, say, 64mb of content into the executable.<br><br><div class="quote"> Also, I have nearly 2000 PNG files that have their names stored in text files. So doing the initial IncBin referencing will be a nightmare. <br></div>Really can't possibly be that hard.  Find/replace <i>(")([^"]+?\.(?i:png|jpg|tga|etc)")</i> with <i>$1incbin::$2</i> would probably catch most cases.  Getting all the Incbin declarations in place is also a piece of cake. <br><br></td></tr></table><br>
<a name="959219"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >levelord</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's over 100mb of data ;( <br><br></td></tr></table><br>
<a name="959224"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> See the first suggestion.<br><br>If you can't think of any other alternatives, I'd say you're hosed unless the folks who work on the DRM software know how to fix the issue. <br><br></td></tr></table><br>
<a name="959228"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, you can always create yourself a little file format of your own - and encrypt it, if need be.<br><br>The file might have a header, and a body.<br><br>The header stores :<br>1) number of files<br>2) for each file, offset and size<br><br>the body stores:<br>1) each file, one after the other.<br><br>The write yourself a custom TStream. Have one method to retrieve the header, and another to retrieve a specific file from the body.<br>Of course, if you can get it to read multiple files from the body in sequence, it'll read them more efficiently...<br><br>If you decide to encrypt the file, you can have your custom TStream handle the decryption for you as it goes...<br><br><br>Just an idea. Never done any packing before, but it seems like it's something extremely easy to implement. <br><br></td></tr></table><br>
<a name="959230"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can put the data in password-protected zipfiles and incbin them -- with Koriolis' zipstream module your program can still read the data without problems. <br><br></td></tr></table><br>
<a name="959302"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >plash</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> There are other packers out there..<br><br>I personally use a type structure that allows me to easily serialize and deserialize the data for the given types (and I RC4 upon writing). <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
