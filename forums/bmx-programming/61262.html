<!DOCTYPE html><html lang="en" ><head ><title >axe module for Lua 5.1.1?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >axe module for Lua 5.1.1?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >axe module for Lua 5.1.1?</a><br><br>
<a name="684325"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rozek</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello!<br><br>The actual Lua revision is 5.1.1, the axe module for Lua has been written for Lua 5.1.<br><br>Will there be an interface for Lua 5.1.1 (there have been several changes compared to Lua 5.1) If yes, when will that be?<br><br>(I would have done the interface myself - and, in fact, I already wrote the module source - but BlitzMax is too new for me as that I could get it compiled...it simply fails without any additional hints)<br><br>Thanks in advance for any help (you may also ask for my modifications, if you like) <br><br></td></tr></table><br>
<a name="684374"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >teamonkey</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I posted a few changes to the bug forum earlier. The changes aren't that great, just a few alterations to lua.bmx, adding and altering a few function names. A lot of the lua_* functions have been changed to luaL_*. The big problem is that the changes then break the LuaScript module, so if you change one you need to change the other. <br><br></td></tr></table><br>
<a name="684696"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rozek</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello!<br><br>Thanks for your response<br><br>Does that mean, that I'll just have to synchronize the axe modules in order to get the actual version of Lua for BlitzMax?<br><br>Personally, I don't worry about LuaScript - but this is my very own opinion, of couse. <br><br></td></tr></table><br>
<a name="684815"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >teamonkey</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> No, sorry. The changes weren't checked in. Noel was maintaining the files I think, but seemed reluctant to upgrade to the latest version of Lua (probably because it would have broken any BMX apps that used it). <br><br></td></tr></table><br>
<a name="690139"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rozek</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmmm,<br><br>not wanting to break existing code is definitely a good point against updating the Lua module...<br><br>However, for several reasons, I would like to start working with Lua 5.1.1 under BlitzMax. Do you think, there will be a chance either to get the modifications (in order to create a "private" update of the Lua module) or to create a (new) public axe.lua_5_1_1 module (in order to give other people a chance to work with the new Lua version as well. <br><br></td></tr></table><br>
<a name="690145"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> It was updated several weeks ago, try a syncmods then check your lua.mod/lua.bmx for the following line:<br><br>ModuleInfo "History: 1.19"<br>ModuleInfo "History: updated with lua5.1.1 source"<br><br>and please let me know if the modserver version is still out of date. <br><br></td></tr></table><br>
<a name="693310"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rozek</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Indeed,<br><br>there seems to have been an update of the axe.lua module...<br><br>I just checked it on my WinXP and it seems to work. Under MacOSX I can't see the axe.lua (and axe.luascript) docs, though.<br><br>Anyway, thanks for your note! <br><br></td></tr></table><br>
<a name="694824"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rozek</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmmmm,<br><br>the current axe.lua module does not seem to implement the whole Lua C API - and I just ran across several missing functions.<br><br>What will I have to do in order to implement the missing functions? (I don't mean how to write the BlitzMax interface code - that's relatively straightforward - but how to compile that code into a BlizMax module)<br><br>Thanks in advanc for any response! <br><br></td></tr></table><br>
<a name="694830"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just edit the lua.mod/lua.bmx file adding any function deifintions you need and then select build modules. <br><br>Post any modifications here and I'll add them to the version on the mod server. <br><br></td></tr></table><br>
<a name="694831"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Also, OSX should now be able to see the latest version of axe.lua on the modserver. <br><br></td></tr></table><br>
<a name="694864"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rozek</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the info, I'll do so! <br><br></td></tr></table><br>
<a name="694948"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rozek</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> oops,<br><br>I spent some time and significantly modified axe.lua - including some extra stuff not to break BlitzMax programs which use the older axe.lua module.<br><br>Then, I tried to "build" the module (under WinXP)...and had to learn that I have to install a MingW environment!? Is that true? Is there no possibility to get around this requirement?<br><br>(Alternatively, I could also send my sources to somebody else and let him/her build the actual module...) <br><br></td></tr></table><br>
<a name="694953"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rozek</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well,<br><br>under MacOSX, compilation works without any extra preparation...<br><br>By the way: under MacOSX I still see the old 1.19 version, although I synchronized my modules just a few minutes ago... <br><br></td></tr></table><br>
<a name="694962"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thats wrong Rozek<br>Under MacOSX you must have installed XCode to build modules.<br><br>And yes you must install mingw 3.1 under windows (or extract if you have the folder backuped) and add 2 environment variables. First is MingW which must point to the mingw path and second is an addition to path which points to mingw\bin path.<br><br>Thats all, more isn't needed.<br>Compared to the several hundred of megs you have for XCode ... <br><br></td></tr></table><br>
<a name="694978"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rozek</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well,<br><br>you're definitely right...I think, I installed XCode quite a while ago which is why I didn't remember it.<br><br>By the way, the new Lua module has been built for MacOSX - and it does not crash immediately, at least...<br><br>I'll now upload the code to the web (in a few minutes) and post the URL in this forum for other people to check and (probably) build the module on other platforms. <br><br></td></tr></table><br>
<a name="694980"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rozek</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> By the way,<br><br>I don't worry too much about some megabytes of disk space - compared to the time it takes for me to find out how to install a product - and, for the moment, I have no idea how to install MingW (tried MSys already, but that's insufficient) It might therefore take a while until I can build the same stuff under WinXP... <br><br></td></tr></table><br>
<a name="694985"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rozek</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmmm,<br><br>its a bit off-topic, but: does anybody know which packages I'll need to build modules under WinXP?<br><br>Edit:<br><br>It seems as if I've answered that question myself. The following packages seem to be sufficient:<br><br> - MSys<br> - MinGW RunTime and Utils<br> - GCC Core &amp; BinUtils<br> - Win32 API<br><br>Am I right?<br><br>Edit 2:<br><br>If you plan to do the same: you'll encounter compilation errors due to a GCC version, which is "too new". Read<br><br><a href="http://www.blitzmax.com/Community/posts.php?topic=61912#691837" target="_blank">http://www.blitzmax.com/Community/posts.php?topic=61912#691837</a><br><br>to find out how to proceed<br><br>(I really like this editing feature!) <br><br></td></tr></table><br>
<a name="694992"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yan</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="/posts.php?topic=53442" target="_blank"><b><u>http://www.blitzbasic.com/Community/posts.php?topic=53442</u></b></a> <br><br></td></tr></table><br>
<a name="694998"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rozek</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah!<br><br>That's it! Look at the post mentioned by {YI}an <br><br></td></tr></table><br>
<a name="695003"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rozek</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok,<br><br>after successfully building the module under both WinXP and MacOSX, I just uploaded the source to<br><br>  <a href="http://www.Andreas-Rozek.de/BlitzMax/lua.bmx" target="_blank">http://www.Andreas-Rozek.de/BlitzMax/lua.bmx</a><br><br>The module is called pub.lua (thus, the original axe.lua will *not* be overwritten). Please, download that file into a directory &lt;blitzmax&gt;/mod/pub.mod/lua.mod (according to the BlitzMax conventions), copy the Lua 5.1.1 sources from <a href="http://www.lua.org/ftp/lua-5.1.1.tar.gz" target="_blank">http://www.lua.org/ftp/lua-5.1.1.tar.gz</a> into that directory and build the module.<br><br>In your BlitzMax application, you should then <br><br>  import pub.lua<br><br>in order to use the new module. <br><br></td></tr></table><br>
<a name="695006"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rozek</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Modifications for pub.lua (compared to axe.lua 1.20):<br><br> - tried to provide all officially documented API functions (including those from the auxiliary library) as mentioned in the Lua 5.1 reference manual (a few functions with variable argument lists had to be omitted)<br> - added all definitions needed for these functions<br> - reordered the function definitions according to their order within the Lua 5.1 reference manual (the parameter names are now also identical - with just a few exceptions, where the names collided with BlitzMax keywords)<br> - added a few macros to provide some "backwards compatibility" and not to break existing BlitzMax applications using axe.lua 1.20<br><br>As a BlitzMax newbie, I otherwise tried to follow the pattern given by axe.lua. However, I have no idea how good or bad my interface is - thus, use it at your own risk! <br><br></td></tr></table><br>
<a name="695009"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rozek</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> One last remark:<br><br>if the maintainers of axe.lua find the new interface useful (and usable) they are, of course, free to change pub.lua into axe.lua and update their module with my code. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
