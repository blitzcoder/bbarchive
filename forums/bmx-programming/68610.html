<!DOCTYPE html><html lang="en" ><head ><title >Should I extend, or use pointers?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Should I extend, or use pointers?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Should I extend, or use pointers?</a><br><br>
<a name="766675"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Picklesworth</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have some code here where certain objects need to be very specifically customized, for example to pass particular parameters to particular functions. The natural assumption is to Extend their types, overriding the necessary methods.<br><br>However, there is something to complicate this: Only one single instance of that extending type would be created! Seems kind of a waste to define a whole new Type just to create a single new instance and forget about it.<br><br>The alternative way is to have stuff like a factory method that runs a callback function. This way, every instance is of the exact same Type and all of the customization is happening with callbacks.<br><br>(I hope that made some sense...)<br>I can't decide which way is the best way. One has global functions and pointers all over the place, the other has extended types that hardly do anything. <br><br></td></tr></table><br>
<a name="766677"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Extend. <br><br></td></tr></table><br>
<a name="766697"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Torrente</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I agree with  FlameDuck. Extending the type would be a lot cleaner, and a hell of a lot easier to fix or change. <br><br></td></tr></table><br>
<a name="766897"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blueapples</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Extend.<br><br>It's perfectly okay to create a single instance of something. There's a whole concept for this called the <a href="http://en.wikipedia.org/wiki/Singleton_pattern" target="_blank">Singleton Pattern</a>. What you're doing might not really be a Singleton, but this illustrates that it is an accepted and encouraged practice. Always keep things modular. <br><br></td></tr></table><br>
<a name="766917"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> The only problem with using the singleton pattern in Blitz, is that you can't have private constructors, so there really isn't a mechanism to ensure you only instance it once. <br><br></td></tr></table><br>
<a name="766923"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> But it is possible to get it done.<br><br>Global variable in the type of the type itself. when you call the constructor function it either returns the content of this global variable or it creates the single instance of it, assigns it and returns it then.<br><br>Not that clean but doing a similar thing within new sadly isn't possible ... <br><br></td></tr></table><br>
<a name="766926"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Picklesworth</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Then it's decided!<br><br>I should have mentioned, though:<br>It's not me doing the customization of all these Types; setting up these methods is the main piece of a little system used throughout a big program. This crazy extending stuff is not under the hood, but part of the interface for people to tie actions with parts of existing code (opening up, in the end, a sort of event-oriented extension system).<br>So the thing that goes against extending as an interface is that it takes more writing; instead of just defining a function and tying it to a created Type you have to extend a type, set up its methods and create it. (Which feels like more, but upon reading that statement of mine I realize that it's about the same).<br>Hehe, that sounds stupid. Well, it is stupid :P<br><br>Hm, <a href="http://en.wikipedia.org/wiki/Singleton_pattern" target="_blank">singleton pattern</a>, eh? They have a name for everything! Quite reassuring. No problem with private constructors; there is a possibility that some idiot will want to use the same event object in multiple places, but it is very unlikely. I don't really want to stop them, as there's no reason to. <br><br></td></tr></table><br>
<a name="766929"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Global variable in the type of the type itself. when you call the constructor function it either returns the content of this global variable or it creates the single instance of it, assigns it and returns it then. <br></div>Still doesn't prevent you from creating as many instances as you want using new. A Singleton does.<br><br><div class="quote"> They have a name for everything! <br></div>Yes. Quite reassuring that people have solved most of the problems you're likely to encounter. <br><br></td></tr></table><br>
<a name="766956"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh yes to prevent the new approach there is a simple way just to mention it: put a throw "You are not allowed to create instances of this type in a different way than using the constructor XYZ" in and problem is "solved" ^^<br><br>Catch: they can handle it and know that they do shit<br>Not Catch: runtime error and dang<br><br>Yes, not the clean way. But unless we get a way to prevent creation of the object or reassign the resulting object within new, there is no cleaner way I fear ... <br><br></td></tr></table><br>
<a name="766972"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Picklesworth</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>Method New()
RuntimeError "You idiot, I told you not to create this with New!"
End Method</pre><br><br>There we are: Singleton Types :) <br><br></td></tr></table><br>
<a name="767008"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>There we are: Singleton Types :) <br> <br></div><br>Cute - although that prevents you creating *any* instance. Instead...<br><br><pre class=code>
Method New()
   Global instance:TWhatever
   If instance Throw "Oops!"
   instance=Self
End Method
</pre> <br><br></td></tr></table><br>
<a name="767015"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh, that's clever. I tried Picklesworth's version a while ago, which as you said didn't quite work. Still. Private constructors, eh? :o&gt; <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
