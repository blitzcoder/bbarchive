<!DOCTYPE html><html lang="en" ><head ><title >Key works fine, unless I hold down 3 at once?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Key works fine, unless I hold down 3 at once?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Key works fine, unless I hold down 3 at once?</a><br><br>
<a name="1050188"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WERDNA</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey folks!<br><br>I've got kind of a weird problem, but something I seem to remember<br>having long ago with Blitz3D.<br><br>I have a function in my game that moves the player like so, using<br>customized global variables to hold the key codes so I can easily<br>swap out what key does what.<br><br>If KeyDown(MOVELEFT)<br>P.x = P.x - P.MSpd<br>End If <br><br>If KeyDown(MOVERIGHT)<br>P.x = P.x + P.MSpd<br>End If <br><br><br>If KeyDown(MOVEUP)<br>P.y = P.y - P.MSpd<br>End If <br><br>If KeyDown(MOVEDOWN)<br>P.y = P.y + P.MSpd<br>End If <br><br>Then later on in the code, in a loop that handles bullets I have this<br>piece of code<br><br>		If ChargeCount &gt;= ChargeMax<br>			If KeyDown(ACTIONBUTTON)<br>			FrameCount = 0<br>				Local yo#<br>				If Dir = 1<br>					yo# = y-ImageHeight(image)/2-ImageHeight(Projectile[SubTyp])/2<br>				ElseIf Dir = 2<br>					yo# = y+ImageHeight(image)/2+ImageHeight(Projectile[SubTyp])/2<br>				End If <br>			 				MakeBullet(x#,yo#,0,0,8,0,Projectile[SubTyp],1,0,0,0,1,1,1)<br>				ChargeCount = 0<br>			End If <br>		End If <br><br>All of the above works great. <i> however </i> when I hold down<br>the ACTIONBUTTON to fire a bullet, and try to move diagonally up<br>and left while firing, I won't be able to move diagonally. I'll move<br>either straight up while firing, or move straight left while firing, but<br>not diagonally.<br><br>The really strange part though, is that I can move in all other directions<br>just fine(Including the other diagonals) while I'm firing. Just not left\up.<br><br><br>What might be causing this?<br><br>Thanks! <br><br></td></tr></table><br>
<a name="1050191"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >*</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> This could be down to your keyboard, its a old PC problem (back from the XT era) three keys was the maximum you were allowed to press at any one time.<br><br>This doesnt help you much but if you code around the limitation then it will help sell your games to the masses in the future. For instance you dont need to move up and down at the same time or left and right, you could have either up or down, left or right, and fire. <br><br></td></tr></table><br>
<a name="1050230"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> This could be down to your keyboard, its a old PC problem (back from the XT era) three keys was the maximum you were allowed to press at any one time. <br></div><br><br>Actually, it varies depending on *which* keys you press: there are certain keys that lock out others, due to shared address lines on the keyboard controller board.<br><br>Certain keys can lock eachother out if you just have two pressed, but there are other combinations where it can see 7 distinct keys that still work together -- but certain keys combinations are always going to fail on the majority of keyboards... So it really sucks if it happens to a combination that you need, because there is <b>NO</b> workaround for this -- it's a physical limitation of the keyboard hardware.<br><br>Some USB keyboards may not exhibit the problem, but identical code on other USB keyboards will run into the lock-ups, and pretty much all PS/2 and AT keyboards will have lock-out issues. <br><br></td></tr></table><br>
<a name="1050492"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WERDNA</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> crap.<br><br>I don't often swear, but this is a situation where it's called for.<br><br>I really need the player to be able to move diagonally while firing.<br>I'll use Mouse controls, but I really do want the keyboard to be an option as well...<br><br>I'll see what I can do to code around this interesting little issue, but<br>is there a list somewhere of which keys lock out other keys? Or at the<br>very least the most common keys that lock each other out on assorted<br>keyboards?<br><br>I'll try switching to WASD instead of the arrow keys and see what happens.<br><br>Thanks! <br><br></td></tr></table><br>
<a name="1050496"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Typically, you would allow players to define their own keys, so that they may choose a set of keys which do not clash on their own keyboard. <br><br></td></tr></table><br>
<a name="1050531"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I really need the player to be able to move diagonally while firing. <br></div><br><br>You may want to check WASD or some of the other combos and see if you have your lock-out problem there as well.<br><br>Here are some common alternate layouts:<br><a href="http://en.wikipedia.org/wiki/Arrow_keys" target="_blank">http://en.wikipedia.org/wiki/Arrow_keys</a><br><br><br>and of course, there's always the numerical keypad where you can use the 7-9-1-3 for diagonal travel... Although a big drawback of that is that it's very impractical for laptop users that don't have a dedicated numerical keypad.<br><br>Like Gabriel suggests, ideally you let the player choose their own layout, preferably with some semi-standard layouts to pick from in addition to the ability to pick their own. <br><br></td></tr></table><br>
<a name="1050650"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GIB3D</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> With your game you're only pressing up to 3 keys at any one time anyways. Try using something like this<br><br><pre class=code>
P.x = P.x + (KeyDown(MOVERIGHT) - KeyDown(MOVELEFT))
P.y = P.y + (KeyDown(MOVEDOWN) - KeyDown(MOVEUP))
</pre> <br><br></td></tr></table><br>
<a name="1050655"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Some combination of just 2 keys can lock eachother out too. <br><br></td></tr></table><br>
<a name="1050704"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WERDNA</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> The game is already set up so that player's can easily define their own keys ;)<br><br>I just want to plan ahead, for if they pick a key combination that doesn't work.<br><br>Thanks for the list xlsior, that should really help out!<br><br><br>@GIB3D<br>Intriguing! I'll give that a try.<br><br><br>Thanks everyone!<br><br>One of those at least should fix the problem ;) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
