<!DOCTYPE html><html lang="en" ><head ><title >Audio stopped while playing the game</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Audio stopped while playing the game</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Audio stopped while playing the game</a><br><br>
<a name="999930"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Keith Gilbert</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br>we have game playing application which we have many modules. some of the modules having audio instructions. While playing the game after some time the audio was stopped. if we close the application and it works fine.<br><br>Any one know the reason please reply.<br><br>Thanks <br><br></td></tr></table><br>
<a name="999957"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Keith, you really need to provide some specifications. <br><br>What audio module/s does the app use, what version of Max was it built with and what platform/s is it on? <br><br></td></tr></table><br>
<a name="999973"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TaskMaster</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Agreed, without any hints, it could be just about anything.  Maybe you are not releasing your channels and you are running out of them? <br><br></td></tr></table><br>
<a name="1000004"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >theHand</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Keith, I am not a moderator and have no formal standing at BRL.<br><br>Keith, in addition to what Mark said, you should provide either the source in full or the section of your program that you feel contains the cause of the problem.  This will help you get an answer to your question more quickly. <br><br></td></tr></table><br>
<a name="1000054"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wait a minute, who said anything about moderators? <br><br></td></tr></table><br>
<a name="1000082"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >theHand</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> No one, I just didn't want him to think that I worked for BRL, or volunteered as an admin for them. <br><br></td></tr></table><br>
<a name="1000085"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> No one, I just didn't want him to think that I worked for BRL, or volunteered as an admin for them. <br><br> <br></div><br><br>why would he think that? <br><br></td></tr></table><br>
<a name="1000103"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe he's just a bit daft. :) <br><br></td></tr></table><br>
<a name="1000119"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've heard of this on both PC and Mac with older versions of Bmax.  Not sure if it's fixed yet.  Some sound issues were fixed with V1.36 though. <br><br></td></tr></table><br>
<a name="1000159"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Keith Gilbert</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> We are using following method every time once one level game is complete and once again starting the game but its stopping audio in one stage not regularly. <br>' -------------------------------------------<br>	' Disable Monitor<br>	' -------------------------------------------<br>	Method Disable()<br>		<br>		'If mDebugMode = True Then ..<br>			'Print "Monitor:Disable()"<br>			<br>		mEnabled		= False<br>		mInitialized	= False<br>		<br>		If ChannelPlaying(mSoundChannel) Then<br>			StopChannel(mSoundChannel)<br>			mSoundChannel = AllocChannel()<br>		EndIf<br>		<br>		<br>		If ChannelPlaying(mMetronomeChannel) Then<br>			StopChannel(mMetronomeChannel)<br>			mMetronomeChannel = AllocChannel()<br>		EndIf<br>		<br>		<br>	EndMethod <br><br></td></tr></table><br>
<a name="1000210"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why do you use StopChannel and not PauseChannel?<br>StopChannel is equivalent to KillChannel, maybe the process to create/delete causes your problem. <br><br></td></tr></table><br>
<a name="1000251"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Stopping the channel the reallocating works, I use it in my framework. <br><br></td></tr></table><br>
<a name="1000427"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Keith Gilbert</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Any other reason other than StopChannel which causes the auido to go off? <br><br></td></tr></table><br>
<a name="1000429"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Stopping the channel the reallocating works, I use it in my framework.<br> <br></div><br>I have a volume control for music and sound fx in my game. When I use stop channel and I restart it, the volume controll does not work. It auto resets to full volume and I can't adjust it. I have to use PauseChannel and that works fine. <br><br></td></tr></table><br>
<a name="1000470"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> You just have to reapply the volume again to the new channel (the reference to the old channel will be invalid) when you start it and that will work (works for me).  I don't immediately play the sound I use CueSound (I think that's the command), set the volume, the resume it. <br><br></td></tr></table><br>
<a name="1000602"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Keith Gilbert</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> CueSound allows you to setup various audio channel states such as volume, pan, depth and rate before a sound actually starts playing. <br><br>I commendted out the StopChannel(mMetronomeChannel) line still i am facing the same problem.<br><br>It works fine for first few minutes (10-30) after that it automatically stops the audio. If I close the application and restart its works fine again!<br><br>What may be the reason?? <br><br></td></tr></table><br>
<a name="1000615"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Keith Gilbert</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Any Other command or function which may cuase to stop the audio?<br><br>While debugging the statement <br>Print "PlaySound(mThreeSound, mMetronomeChannel) Executed"<br><br>is print the message but audio was off.<br> <br><br><br>If ChannelPlaying(mMetronomeChannel) Then<br>        StopChannel(mMetronomeChannel)<br>       Print " StopChannel(mMetronomeChannel) Executed In Countdown Three"<br>       mMetronomeChannel = AllocChannel()			<br>       SetChannelVolume mMetronomeChannel, 1<br>EndIf		<br>						<br>PlaySound(mThreeSound, mMetronomeChannel)<br>Print "PlaySound(mThreeSound, mMetronomeChannel) Executed" <br><br></td></tr></table><br>
<a name="1000697"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you specifying the channel variables as being of type TChannel? I had similar problems in the BlitzMax RockOut sample (which are still there), and it eventually causes random silence or crashing. I only figured out about a year ago that this was the cause of my mystery crashes, ie. the channel objects weren't being garbage-collected and the channels weren't freed as a result.<br><br>Doing this sort of thing to play each sound is what stopped the problems for me:<br><br><pre class=code>
' Set up channel...

play:TChannel = CueSound (beep)

SetChannelVolume play, Game_Volume
SetChannelPan play, pan

' Play sound...

ResumeChannel play

' This is probably unnecessary, since assigning a new channel to play:TChannel via CueSound should free up the previous channel assigned to it...

play = Null
</pre> <br><br></td></tr></table><br>
<a name="1000792"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Good point.  Always code with superstrict on to enforce stuff like that. <br><br></td></tr></table><br>
<a name="1001229"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Keith Gilbert</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> I made some changes in the code, Dramatically it looks fixed now still testing is on.<br><br><br><br>Thanks to all for valuable replies! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
