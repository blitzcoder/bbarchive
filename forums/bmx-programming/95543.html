<!DOCTYPE html><html lang="en" ><head ><title >Sound isn't working</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Sound isn't working</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Sound isn't working</a><br><br>
<a name="1101004"></a>

<a name="1101006"></a>

<a name="1101007"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzogger</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am working on getting sound into my game as well as a few other things. However for some reason my sound isn't playing despite knowing that it loaded successfully. I have check my sound card to make sure it is working by playing music on my pc and it works. I have posted a link to the latest source code below. Any assistance in this matter would be greatly appreciated.<br><br>Sincerely,<br><br>Blitzogger<br><br><a href="http://blitzogger.co.cc/secure/linklokurl.php?linklokauth=dHJ1bmsvU291cmNlLnppcCwxMzE0MzMwODYzLDAuMC4wLjAsMCwxLExMXzEsLDdmMWRiYmM1NjA4MTU5YTAzNzM1NTI2Njc0M2QzOTk2/Source.zip" target="_blank">link to source</a><br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1101009"></a>

<a name="1101010"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> it works on my mac fine on my mac but I had to comment out the line with the setIcon. Active window doesn't work with mac.<br>sound plays fine here. maybe a little lag probably a bit of silence at the beginning of  the sound file.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1101013"></a>

<a name="1101015"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you comment out...<br><br><pre class=code>?Win32
'Framework BRL.D3D7Max2D
SetGraphicsDriver D3D7Max2DDriver()
?
</pre><br><br>..it will work on Windows too. So I think it is a problem of a missing Import.<br><br>additional hint:<br><br>your sound starts to late, there are 500msec of silence at the beginning. Open the sound with the free "audacity" and trim the sound. This will bring more synchronization between making noise and displaying the crash. <br><br>Also at the end of the sound from msec=3300 there are 600msecs of silence: Cut it. The file will get 25% smaller.<br><br>Use ogg-files for sound. This will shrink the file to 10% of original size-<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1101217"></a>

<a name="1101218"></a>

<a name="1101233"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzogger</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Update:<br>The solution to this very common problem when using Ogg Vorbis for playback of .ogg files can be found <a href="/posts.php?topic=89846#1021070" target="_blank">here</a>. I am leaving this post up in hopes that others can benefit from it.<br><br><div class="quote"> <br>If you comment out...<br><br>?Win32<br>'Framework BRL.D3D7Max2D<br>SetGraphicsDriver D3D7Max2DDriver()<br>?<br><br><br><br>..it will work on Windows too. So I think it is a problem of a missing Import.<br> <br></div><br>Yikes, your right. I'm using the latest version of Framework assistant and it's producing the following output for the DirectX template:<br><br><pre class=code>
Framework BRL.D3D7Max2D
Import BRL.Random
Import BRL.System
Import BRL.FreeAudioAudio
Import BRL.PolledInput
Import BRL.Retro
Import BRL.Stream
Import BRL.FileSystem

' modules which may be required:
' Import BRL.PNGLoader
' Import BRL.BMPLoader
' Import BRL.TGALoader
' Import BRL.JPGLoader
' Import BRL.WAVLoader
' Import BRL.OGGLoader


SetGraphicsDriver D3D7Max2DDriver()
</pre><br>I tried the folloeing to no avail:<br><pre class=code>
Framework BRL.D3D7Max2D

'import required libraries
Import BRL.FileSystem
Import BRL.FreeAudioAudio
Import BRL.PNGLoader
Import BRL.PolledInput
Import BRL.Retro
Import BRL.Random
Import BRL.Stream
Import BRL.System
Import BRL.OGGLoader

SetGraphicsDriver D3D7Max2DDriver()
</pre><br>Could Framework Assistant be missing imports and need to be updated for the new BlitzMax 1.42 update?<br><br><div class="quote"> <br>additional hint:<br><br>your sound starts to late, there are 500msec of silence at the beginning. Open the sound with the free "audacity" and trim the sound. This will bring more synchronization between making noise and displaying the crash.<br><br>Also at the end of the sound from msec=3300 there are 600msecs of silence: Cut it. The file will get 25% smaller.<br><br>Use ogg-files for sound. This will shrink the file to 10% of original size-<br> <br></div><br>Done.<br><br>Sincerely,<br><br>Blitzogger<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1101246"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I can not confirm any problems with OGG-files. We are entirely focusing on  producing software with music content and never had problems in using OGG-files. They are working reliable and of high quality.<br><br>But we never shrink the code with "framework" commands. In larger projects there is nearly no reduction effect, because nearly all moduls are used at least once. Because we include all data files with incbin the size of the EXE often is more than 5MB. At the end you could save max 200k with framework technique. This is not worth the trouble you will have with it.<br><br>My suggestion: Do not use Frameworks. <br><br></td></tr></table><br>
<a name="1101248"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SLotman</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> The delay has nothing to do with the sound files. The Freeaudio driver has this delay. Just use DirectSound or OpenAL, and the delay is gone. <br><br></td></tr></table><br>
<a name="1117611"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >matt!</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for this. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
