<!DOCTYPE html><html lang="en" ><head ><title >Issue with games using Web Server</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Issue with games using Web Server</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Issue with games using Web Server</a><br><br>
<a name="545017"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rambo_Bill</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, I'm trying to make games that use a standard webserver to communicate between them. I have it working fine for things like authenticating a login and posting hi-scores, but dynamically signalling each player of events effectively seems to be a problem.<br><br>The Problem Scenario (Two Players):<br>Using a BlitzMax client program and an ASP/ASP.NET webserver running MySQL. No chance of using CGI.<br><br>1. It's player ones turn, he has 60 seconds to move, but moves in 3 seconds. His move is communicated VIA http<br>2. How do I effectively signal the other player from the webserver that player one has moved? the keyword is effective, because I could have player 2 constantly query the server via HTTP or have player 2 query with delays,but this introducea delays into the game or causes load on the server. I'd prefer the ability for the server to be able to directly send player 2 the message, I am maintaining sessions, so there is a constant TCP connection between player 2 and IIS on the webserver. So if somehow I could signal IIS to send a page to a particular session user, but I think that is near impossible. <br> <br><br>Any ideas anybody? Anybody know of any code samples doing this? <br><br></td></tr></table><br>
<a name="545029"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeroen</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> i recommend not using the method you described.<br><br>Authenticate a user fromout the game to a ASP/PHP script (that perhaps connects to MySQL database). For example, if you send user "john" and password "blah", you might turn this into a return code server-side, or MD5. E.g, it returns "xYc56pOo". If you use the same decryption process client side, you can check wheter the user/pass is correct. <br><br>First, I did this by returning 0 (incorrect login) or 1 (correct login) when authenticating, but hackers may simply write a PHP script outputting 1, always...Which returns in an invalid authentication. They can somehow hack the URL inside your executable, the URL you are connecting to.<br><br>This will somehow simulate a session.<br><br>The rest of the game can be plain UDP/TCP connections. Do not involve the webserver until you need to update highscores etc. Using the webserver makes the network traffic much, much too slow.<br><br>EDIT: You might be able to pull off the system you described, but only if you have permissions for CRONjobs (linux thing: being able to automaticly run scripts without the user quering) <br><br></td></tr></table><br>
<a name="545035"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rambo_Bill</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> 1. <div class="quote"> Using the webserver makes the network traffic much, much too slow. <br></div> Tell this to Microsoft and Yahoo. Microsoft and others run MMGs where all communication goes through the server and then is passed to the clients. Seemed to work for Asherons call. Yahoo multiplayer games all go through the server and seem to work fine. I've played seven player Texas Hold'em with no lag on yahoo.. My PC was only communicating to yahoo's server. Also, I've used IRC servers which have thousands of chatrooms that were experiencing no problems (Again server based technology). ID Games quake series all use a centralized server, there is NO communication between clients directly (I know this because I did some programming surrounding Quake 3 Networking). So please do not repeat that quote again, as many popular reliable multiplayer games have used a centralized server. Only one I know of that didn't was Microsoft Generals, but that was buggy as heck.<br><br><br>2. So you are saying all the clients should be communicating between each other? This would be a major problem because of firewalls. If there was a way around this issue than this would be awesome.<br><br>3. I have a login from Blitzmax that sends the username and password to an ASP page using various encryption techniques, I then check a mySQL Database server.. After seeing the password/username are correct, I send back to the client various information to use in future communications. Adding to security is that the HTTP connection is remained constant, therefore the sessionid does not change and can be used along with other data to validate the user each communication.<br><br>EDIT: I can run jobs at schedule times on a windows box, but this is not effecient. I might as well have the client query the server at a regular interval (Wasteful) <br><br></td></tr></table><br>
<a name="545244"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tom Darby</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Rambo_Bill,<br><br>I second Jeroen's recommendation for using the website to act as an initiation point for a P2P connection between the players, then having the game client pass time-sensitive notifications (i.e., "Player X has made his move") directly between the clients.  Then, you can either have the entire game play out as P2P, or you can use this P2P connection to minimize traffic to and from the web server (if, for example, you want to do server-side validations, or if you want to track scoring and statistics.)<br><br>You'll encounter issues with NAT addresses and the like, but it's a far more elegant solution than trying to use HTTP or another query/response-based protocol to pass real-time information.<br><br>(In general, the games at Yahoo! and Microsoft do not repeatedly query an HTTP server--rather, they'll communicate through a direct connection to a game server, thus minimizing network traffic.  That, and Microsoft and Yahoo! both have more bandwidth than God, which I'm guessing is not the case for you.  :]  ) <br><br></td></tr></table><br>
<a name="545371"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rambo_Bill</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I appreciate your responses, but I kindly disagree with your assessments. It may be because you don't understand that the most important thing for me to consider is the security and reliability of the game since it will be for money.  <br><br>It appears best option is to have hosting that allows you to run executables then you can make a custom port 80 handler for a game server. I am going to put together a server at home to get everything working then I'll have to buy a non-shared server that allows for custom executables. As far as bandwidth, the games will cost money to play, so the more people who play the more bandwidth I can buy. These games are not high bandwidth users. I'm talking simple stuff like card games and the like.<br><br>Hmm, I wonder if a linux server running a Blitzmax linux compile of a game server would be better/faster than a windows box running a windows compiled version.. I'll probably stick with Windows since it's what I know best, but I dont have a copy of Windows 2003 server, so I'd save money if I did the linux. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
