<!DOCTYPE html><html lang="en" ><head ><title >Max texture Size</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Max texture Size</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Max texture Size</a><br><br>
<a name="715230"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> So I've heard that 3D cards have a max texture size. Well what is current and what would be the best size to not go over for my game.  For example is 1024x1024 OK, or should it be less?<br><br>If you had a card that only supported 512x512 and you loaded in an 800x600 title screen into an image then I assume it wouldn't work right!  You'd have to load it in parts to be compatible with those cards or are they simply not worth supporting?  Also how would it not work, would it crash or simply display a load of crap?  Any ideas?  I tried my AOTMG demo on a crappy office PC the other day and it ran but the map screen which has a 1024x1024 texture just showed a multicoloured pixelly mess, maybe this too big, yet other 800x600 screens loaded as single images were fine...<br><br>Thanks for any feedback. <br><br></td></tr></table><br>
<a name="715231"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Steve Elliott</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I once had a 2nd computer with a poor Intel integrated graphics card, and found non square textures of large sizes would run without any graphical glitches - but very slowly.<br><br>I'd recommend always using square textures, and no larger than 256 X 256 for maximum compatibility. <br><br></td></tr></table><br>
<a name="715232"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Heh, even though I've been using 2048x2048 textures before now, though on an onboard chipset, with Quad2, nobody whinged about it not working, but you never know.<br><br>These days 2048x2048 would be on the upper limit I would think- the old onboard cards used system ram and used as much of it as they needed too, which would explain why the 2048x2048 textures worked. <br><br></td></tr></table><br>
<a name="715234"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="/codearcs.php?code=1683" target="_blank"> This </a>(DX) will print the maxtexture size plus whether pow2 is needed. <br>What you should work to is up to you. Larger texture sizes should be OK in the majority if cases but, as Steve says, if your target is low-end you'd need to work with square pow2 textures with max size 256*256. <br><br></td></tr></table><br>
<a name="715236"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bradford6</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> a word about quality though. in my experience, a 256x256 *.PNG looks better than some 512x512 pixel *.jpg's<br><br>I think they are uncompressed and are essentially the same within BlitzMAx but the PNG's just look better.<br><br>this is my opinion...on my PC (1-Rather High end Desktop and an older Laptop (Radeon 9xxx chip) <br><br></td></tr></table><br>
<a name="715242"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> so like if a card could only handle 256x256 and I load in a title screen of 800x600 would it just not display then? <br><br></td></tr></table><br>
<a name="715244"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tom Darby</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Grey, that's a real possibility--now that I think about it, I've seen this kind of thing happen on older computers.  (They choke on the background images for my game...)<br><br>I remember seeing a code snippet a while back that'd automagically chop big images up into multiple bite-sized pieces.  You may want to dig for that...<br><br>Ah--nevermind: it's Tesuji's "Large 2D Image Object" code in the code archives.<br><br><a href="http://blitzmax.com/codearcs/codearcs.php?code=1440" target="_blank">http://blitzmax.com/codearcs/codearcs.php?code=1440</a> <br><br></td></tr></table><br>
<a name="715248"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> PNG is compressed, it's just not `lossy` compression, so it is possible it looks better than a larger jpeg.<br><br>On my old ibook which had a totally minimal gfx card ATI Mobility thing, it reported max texture size of 4096x4096 for OpenGL. Then on my much newer iMac with GeForce4, it says 2048x2048. The ibook had a software GL driver, no hardware acceleration, which is probably why it had larger texture sizes, and why in some cases it actually supports more features than the newer iMac (aux buffers, etc)<br><br>I have no idea what happens when you try to upload a texture that is larger than the available size. Blitz would first be allocating texture space because, if I remember, it creates an empty texture first then uploads the image to it, so if it can only do 512x512 and you try to make a 1024x1024 texture I have no idea what it would do. I don't know if Blitz splits it up for you or if it would just fail, or whether the image gets cropped to the size of the texture, or whether it just looks like junk due to the rows being a mismatched number of bytes, etc. IT's probably unpredictable the effect you will see when there is a mismatch of size so generally you should avoid it ever happening.<br><br>Also of note standard OpenGL has square textures only, from 64x64 upwards. Rectangular textures are not supported without extensions or a higher GL version than the standard 1.2<br><br><pre class=code>
Local SizeVariable:Int
glGetEnv(GL_MAX_TEXTURE_SIZE,Varptr(SizeVariable))
</pre><br>or something very close to that, is how you get the max texture size for OpenGL. It will just return one number, e.g. 2048, meaning 2048x2048, due to square textures.<br><br>Here's what I would do (and am doing):<br><br>Think of images (which are textures) as just a blank buffer space that comes in chunks of whatever the maximum texture size is e.g. 256x256. Think of it as similar to like a file read buffer or an array that you predefine as a certain size that you add extra size to [..newsize] when it is full. So the amount of space you have in that chunk of video ram is maxtexsize*maxtexsize. I would avoid rectangular textures unless you're requiring your customers and their customers to have higher versions of GL which are less common.<br><br>Then think of the `images` that you want to throw onto the screen, not as BlitzMax `Image`s, but as a custom image type which may be a collage of 1..N BlitzMax images. So say your maximum texture size is 256, and you want to upload a 1024x1024 picture, you will need (1024/256=4)*(1024/256=4) = 4*4=16 BlitzMax images at 256x256 each. So your custom image type will have an array of 16 Images, based on the fact that the texture size is smaller than the picture size. If the picture size was &lt;=256x256 you would only need one Image to be referenced. So think of that array of Images as an array of fixed-size buffers, needing several to make up the whole image.<br><br>Then when you need to draw this large image, you position, rotate, scale, and draw each of the individual BlitzMax images that it is composed of, like a grid. You can use the image Handle as an offset from the center of the whole large picture, so that any rotation will be relative to the center of the whole thing. Also if you scale, you'll have to scale that Handle offset or you'll get gaps. It's also a good idea to use at least Floats for all the coordinates so you get sub-pixel accuracy.<br><br>So then any operation you do on the whole image you apply to each sub-image (BlitzMax Image) individually, acting as a group.<br><br>This way no matter what the maximum texture size is, you will never have a problem with it because you will compose your graphics using `pieces` that are as large as possible on that platform. You should always use the largest size textures that are allowed so you don't have do too many switches between textures (like a context switch) which is time-consuming overhead.<br><br>Then you should also think of each BlitzMax image as being able to comprise multiple sub-images or areas of that image. I call these sub-textures. Thus any given `picture` can be using an Image which other `pictures` are using as well. Like 50 frames of `bullets` or something, all can be on one BlitzMax Image, and each bullet `picture` refers to that same Image/texture, but to a different sub-image within that. Then you'd use drawing of a Rect Image to draw only portions of that Image for each picture. If you can keep animation frames within the same BlitzMax image that also is more efficient and cuts down on swapping between images.<br><br>This is the system that I'm using in my blob game. It then doesn't matter whatsoever what the maximum texture size is because images have been abstracted as a custom type referring to images as just resources. I plan to put multiple 512x512 textures onto a single 2048x2048 texture to get 16 frames of animation with no swapping between textures - using sub-textures for each frame, while with the same system will be using animations of small particles as subtextures either as a `spare part` of a larger texture or just as a smaller texture.<br><br>This then leads to whether you'd want to consider `sorting` pictures and `optimizing` them to make the most use of available free sub-texture space as possible, or to rearrange them on the texture to waste as little space as possible. It's then useful to be able to download/save an image comprising multiple sub images, as like a sprite sheet, and vice versa loading a sprite sheet and turning into a single image or part of an image or broken across a few images with a `sub-texture` for each sprite.<br><br>Of course, this is somewhat more complicated internally than the easier method of just going with what texture size is popular and hoping it doesn't break etc. <br><br></td></tr></table><br>
<a name="715253"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Steve Elliott</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep - just tile your graphics from 64 X 64 to 256 X 256 - or write a program to do it for you.<br><br>Personally I wouldn't trust the feedback you get from the driver.  So I produce tiles manually using Photoshop's snap grid feature at a standard 256 X 256 max. <br><br></td></tr></table><br>
<a name="715254"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Grey Alien, <br>- Use the link to the DXCaps and run it. <br>- Check what your maxtexture width/height are. <br>- Create an image (PNG whatever) larger than the max<br>- Load the image into Bmax and drawimage it.<br>Result : On my system a black screen but don't take my word for it. <br><br></td></tr></table><br>
<a name="715290"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=1440" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=1440</a><br><br>I'm using this to handle big-background image on old-gfx. It works. <br><br></td></tr></table><br>
<a name="715294"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> hmm interesting feedback from all thanks.  It does seem crazy to think you can't load in a title screen and show it reliably you have to split it into chunks!  Also the loader for that would have to be special unless you stored your title page in several files.<br><br>Only problem with splitting images is this, if you move it round the screen and draw at non integer values (for smoothness based on delta timing) the joins will antialias and you'll end up with horrible lines in the image where the textures join (just theorising here)... <br><br></td></tr></table><br>
<a name="715333"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Steve Elliott</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Er, no - you can position at a floating point position for the first tile - the others are added at a position that is exact - just add the texture size and they will line-up ok.<br><br>The other point is, modern graphics cards are all 3d-based so you have to think (and optimize) in those terms - every square of graphical data is 2 triangles in a 3d world.<br><br>Modern 3d hardware has no problems with huge textures - but for older 3d hardware the inital limit was 256 X 256.  To see the difference in speed that droping texture size and tiling has on a poor graphics card will convince you to adopt it - you just can't think in 2d terms! <br><br></td></tr></table><br>
<a name="715348"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would think the sub-pixel filtering will take care of any joining?<br><br>It's not so much crazy that you have to split up, as crazy that there are hardware limits and they are not the same across the board and Max tries to usually cover those up, but sometimes you have to deal with it. <br><br></td></tr></table><br>
<a name="715449"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> wow, yeah this is pretty much a revelation perhaps needing a redesign... <br><br></td></tr></table><br>
<a name="715617"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's why I shared it, it'll make your product more resiliant and capable plus provide a springboard to other new features. You can incorporate it with your particle engine and object handling etc. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
