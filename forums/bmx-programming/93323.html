<!DOCTYPE html><html lang="en" ><head ><title >Display jpeg as jpeg, not video memory</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Display jpeg as jpeg, not video memory</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Display jpeg as jpeg, not video memory</a><br><br>
<a name="1066866"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have some high-res menu backgrounds stored as jpegs. Each one is 1024x768 and about 120kb in size. They are never used in any speed critical task just menus. Is there a way to load them to regular ram only and display them "as a jpeg"? They take a second or two to load on a slower computer, which is a bit annoying. I'm guessing it spends the time decompressing the jpeg and turning it into a giant bitmap on the video card for display. <br><br></td></tr></table><br>
<a name="1066903"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Pixmaps would keep them out of the VRAM, but take much longer to draw (every frame they have to be sent through the graphics card) but if memory location is more critical than speed there you go.<br><br>You can't draw a jpeg, in the same way you can't view something inside a zip. Compression works by removing things to save space, younhave to calculate those missing bits back in to interact with the data.<br><br>Some hardware may be able to decode on the graphics chip (such as on mobile devices, or accelerator friendly compression formats for OpenGL etc.) but it still has to get decoded somewhere.<br><br>You could try another image format that perhaps decompresses faster on the slower hardware you're targeting... Raw bitmaps are probably the fastest, pngs might be a middle ground, but I have never tested decompression speeds, I just work around the delays with the most appropriate format for whatever I'm doing...<br><br>You could also try incbin to be able to load them from ram but then the application will be bigger and have a larger footprint... <br><br></td></tr></table><br>
<a name="1066909"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok thanks for the info. Other formats are a no-no, as a bitmap would be mb in disk size! <br><br></td></tr></table><br>
<a name="1066923"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's the turning that 120kb into the 1mb of usable data that takes the extra time :0)<br><br>Always a trade off, just gotta find how to balance, CPU, memory and disc storage for the situation. <br><br></td></tr></table><br>
<a name="1066968"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> compress the pixel data with Compress2() and the decompress as needed? <br><br></td></tr></table><br>
<a name="1067018"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> You videoadapter can't 'draw jpegs' -- any format has to be decompressed to bitmaps first, which are stored uncompressed in video memory.<br><br>You can speed things up a bit by using uncompressed images instead of jpeg on disk, but the downside of that is that they'll take up significantly more diskspace. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
