<!DOCTYPE html><html lang="en" ><head ><title >Clicking on an image</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Clicking on an image</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Clicking on an image</a><br><br>
<a name="854389"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zambani</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> What's the best way to detect if a user has clicked on an TImage or Pixmap that has been rendered to the screen with the draw command?<br><br><br>Thanks in advance <br><br></td></tr></table><br>
<a name="854417"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's going to depend.<br>If it is a rotated, and/or scaled and/or oddly shaped image with masking and you want pixel perfect collision then ImagesCollide2 command. <br>If you simply want to check a rect than either imagescollide or colliderect. <br>Finally, you might want to do your own check. If mousehit(1) is positive then check with a 1*1 pixel rect at the mousex(), mousey() versus a rect with Image_x,image_y,image_x+imagewidth(image),image_y+imageheight(image). <br>There's lots of example of this in these forums or code arhives. <br><br></td></tr></table><br>
<a name="854456"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zambani</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks tonyg <br><br></td></tr></table><br>
<a name="854467"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Schragnasher</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> if you are using a .png, i use this statement.<br><br><pre class=code>If ReadPixel(hitmap, MouseX() - x, MouseY() - y) &amp; $FF000000 Then</pre><br><br>basically it reads a pixmap(aka hitmap) at the x and y mouse location relative to itsposition on screen and checks for a fully alpha pixel. <br><br></td></tr></table><br>
<a name="854489"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zambani</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't get it. How does that tell you which image was clicked on? <br><br></td></tr></table><br>
<a name="854490"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> collideimage and colliderect, the later with an 1x1 large rect.<br><br>if you put the timage handle in the collideimage call then you get an object back that you can cast to TImage again and know which one it was. <br><br></td></tr></table><br>
<a name="854494"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >plash</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I don't get it. How does that tell you which image was clicked on?  <br></div><br>It doesn't, and readpixel is a lil slow. <br><br></td></tr></table><br>
<a name="854554"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Schragnasher</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> the image will have to tell you it was clicked on. And yeah im assuming readpixel is slow, but for testing alpha channeled images i don't know any other method. and masks dont get the nice quality of alphas. <br><br>but as i said the image should check if its clicked itself. and tell your program somehow. basically you have to update the button when the user hits the mouse button. It will check if it was hit in whatever way you choose and somehow tell the program. <br><br></td></tr></table><br>
<a name="854556"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Schragnasher</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> some pseudo type code. <br><br>i basically update every visible button each loop of the game.  if the mouse if not over it, it does nothing and moves on, if it is and the mouse button is being pressed, you check for pixel collision somehow, if thats true, then it was hit. you could say it was clicked but i usually wait for the mouse button to be released while still over top the image before calling it clicked. <br><br></td></tr></table><br>
<a name="854581"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Schragnasher, I think you'll need to provide some example code as your method doesn't make much sense to me and seems to be built around problems that I don't think exist. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
