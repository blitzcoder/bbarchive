<!DOCTYPE html><html lang="en" ><head ><title >Multithreading</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Multithreading</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Multithreading</a><br><br>
<a name="693616"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Winni</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>Is there an official statement available if - and when - one of the next BlitzMax releases will officialy support multithreading? <br><br>I am sure that I am not the only one who is in need of that special feature. ;-)<br><br>Thanks,<br>Winni <br><br></td></tr></table><br>
<a name="693622"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I dont think it will. <br><br></td></tr></table><br>
<a name="693624"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Regular K</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I dont think it will too, I havn't heard Mark mention it anywhere. I have uses for it though! <br><br></td></tr></table><br>
<a name="693633"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah. Multithreading would be awesome, I'll need them real soon too. Unfortunately I wouldn't expect it until after Max3D tho' - unless there's some dual-core revolution right around the corner. <br><br></td></tr></table><br>
<a name="693642"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't think even Max3D will change it as the GC just is not multithreading safe.<br>But I agree, Max3D will be in need of multithreading due to physics and terrain. <br><br></td></tr></table><br>
<a name="693697"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> See the free process library, standard part of Max.<br>Or make a multitasking script execution system. <br><br></td></tr></table><br>
<a name="693708"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Winni</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> AngelDaniel:<br><br>I'm afraid I don't follow. What free process library do you mean?<br><br>In any case, launching additional processes is not necessarily what I want to do; spawning worker threads for certain tasks is more the direction in which I want to go (and what I have been doing in other programming languages).<br><br>I am currently toying with a little communication server project of mine, and the idea is to have a worker thread for each connection plus additional threads for maintenance and other tasks. Yes, this probably could be implemented with multiple processes, but I think it is more elegant and efficient to just multithread it.<br><br>Basically, I just want to find out if BlitzMax can be used beyond the scope of writing games. And since the language is so cool, I think it should be possible. <br><br></td></tr></table><br>
<a name="693714"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Regular K</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Take a look at this: <a href="http://www.blitzwiki.org/index.php/Threads_(Module)" target="_blank">http://www.blitzwiki.org/index.php/Threads_(Module)</a><br><br>I'm making a little HTTP file downloader with it. Its very picky, and very easy to crash, but it works. <br><br></td></tr></table><br>
<a name="693776"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tried the freeprocess thing. But my main problem is that writting / reading to the streampipe somehow does not work as I thought and wanted it to work (at least it does not allow me to do a "conversation", which was the main point of it)<br><br>My next try will be freeprocess + GNet, I'm sure that one will be a larger success. (wanted to do a threaded loader for media etc) <br><br></td></tr></table><br>
<a name="693783"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> See the free process library, standard part of Max. <br></div>Processes do not share the same resources, and thus cannot possibly replace multithreading.<br><br><div class="quote"> Or make a multitasking script execution system. <br></div>While user threads could address the problem for single processor machines, you would need proper kernel threads for dual-processor, dual-core blade servers. <br><br></td></tr></table><br>
<a name="693816"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >popcade</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ask Mark is easier solution. <br><br></td></tr></table><br>
<a name="693820"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Answer last time (longer ago) was no due to the GC <br><br></td></tr></table><br>
<a name="693823"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >serverman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> No multithreading in the future?<br>That way BlitzMax is worthless for me. Another features Java has that Blitzmax doesn't. <br><br></td></tr></table><br>
<a name="693826"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Winni</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Within a year or two, it will be impossible to get a new machine without at least a dual core CPU. In the Mac world, where I am using BlitzMax, we have already reached that stage. And they way it currently looks, it is even more likely that in two years all new computers will be quad cores.<br><br>If there were no other reasons to ask for multithreading support, that alone would be reason enough.<br><br>Personally, I am more interested in multithreading than 3D support, for example. I am interested in BlitzMax because it is a nice, straight-forward, powerful and completely unbloated language. Maybe I have the wrong approach towards it, but I would love to use BlitzMax for (communication) server and client-side developing. With multithreading support in its kernel, I know that I can do it. Without multithreading, I know that BlitzMax is a dead-end street for that specific purpose. It's that simple.<br><br>Launching several processes and implementing IPC through sockets might be feasible in certain areas, but I think in most cases it's just overkill and inefficient.<br><br>I do not want to waste my life with Objectice-C, Mono on the Mac is nowhere near BlitzMax (except for server development, where it is lightyears ahead of BlitzMax), and I never got a grip on Java. So I have very selfish reasons to ask for mulithreading support. ;-)<br><br>BTW, I would not mind paying for it. If Blitz Research wants to sell this as a commercial module in the same price range of the MaxGui module, that would be fine with me. <br><br>But in any case it would be great to get an -- official -- statement from the developers. :) <br><br></td></tr></table><br>
<a name="693829"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> threading through module is not possible.<br>The GC itself must be replaced to make it possible.<br><br>There have been some "intelligent" users that created threading modules for Windows and the Unix based but it seems like they never tested them on a multi core / multi processor system or they would have seen their apps crash. <br><br></td></tr></table><br>
<a name="693836"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Winni</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Dreamora,<br><br>Yeah, I know at least one of those modules and played with it a bit. During the few tests it did not crash on my iMac Core Duo, but I know that this was just luck. I have worked for a compiler vendor before and know how tricky multithreading can be, especially when a Garbage Collector is involved.<br><br>When I suggested having a thread module, I was more thinking about it in terms of a sales concept. Definitely the BlitzMax kernel itself must support multithreading, but the user level functions and classes for it could be placed in a separate module, to they can charge for it if they intend to do so. <br><br></td></tr></table><br>
<a name="693840"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> I really wish there was a no GC option in Max. <br><br></td></tr></table><br>
<a name="693876"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Contrary to popular belief, the GC is not to blame for the lack of multithreading. Both C# and Java have a thread-safe GC. The problem is that BlitzMAX does not have a mechanism for preventing consecutive access to shared resources (like a monitor).<br><br><div class="quote"> No multithreading in the future? <br></div>I wouldn't accept Dreamoras off beat comment as the single universal truth of the intentions of BRL.<br><br><div class="quote"> I really wish there was a no GC option in Max. <br></div>There are. Several. However that would not eliminate the need for a mechanism to prevent consecutive access. <br><br></td></tr></table><br>
<a name="693890"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yan</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> From Mark's worklog...<div class="quote"> I also had a quick play with building a 'threaded' version of Max. This is something I am definitely interested in, but will not be getting into until at least after we get the new compiler+GUI stuff out. Like auto flushmem, there's more too it than initially meets the eye. But I did at least get a (very) ropey "load images with progress bar" thing happening and have a rough idea of what will be required. <br></div>I wouldn't take it as as gospel, but at least we know it's being considered. <br><br></td></tr></table><br>
<a name="693900"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> The part with "auto flushmem" shows how old this log entry is.<br><br>FD: I did not say never. But thats what was mentioned when it was asked the last time. That it won't happen in the forseable future.<br><br>Ok on the other side: who knows what BRL is working on? Normally we see it when its there (or sometimes even after it or how many realized that one of the syncmods last week solved the "instable TLink" problem with TList? :P) <br><br></td></tr></table><br>
<a name="693915"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> "Its very picky, and very easy to crash, but it works."<br><br>Yeah, that sounds like multithreading alright.  :) <br><br></td></tr></table><br>
<a name="694351"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chris C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> @WarrenM hit it on the head there! LOL!<br><br>@dreamora armed with 1/2 the facts as usual I see<br><br>@Nomen luni - probably the best thing in max... better than what c++ does...<br><br><br>Lets face it this isnt what Mark does full time, give the guy chance, he'll suss it and like I think he'll suss shaders in an easy to use manner... (now that will be an achievement...) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
