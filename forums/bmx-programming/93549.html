<!DOCTYPE html><html lang="en" ><head ><title >Brl.Random bug or expected behaviour?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Brl.Random bug or expected behaviour?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Brl.Random bug or expected behaviour?</a><br><br>
<a name="1070358"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> This code prints 0 and 1<br><br>Shouldn't it print only zeros?<br>It certainly produced an non obvious error in my code, because I was doing this:<br><br><pre class=code>Local newindex:Int = Rand(myarray.length-1)</pre><br><br>(Bah.Random behaves in the same way)<br><br><pre class=code>
SuperStrict

While Not KeyHit(KEY_ESCAPE)
	Print Rand(0)
	Delay 10
Wend
</pre> <br><br></td></tr></table><br>
<a name="1070360"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> In this case (and many others I've found), Blitmax cannot differentiate between 0 and Null - it treats them as the same even though they aren't.<br><br>So by using Rand(0), it treats it as if you haven't entered a value, and uses the default of 1. <br><br></td></tr></table><br>
<a name="1070367"></a>

<a name="1070368"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oddball</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> The docs say<div class="quote"> Rand(x)	Random integer in the range 1 to x (inclusive) <br></div>If x=0 the results will be in the range 1 to 0 (inclusive). Is this not what you are getting?<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1070370"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Gfk and Oddball, reading the docs, I see<br>Rand:Int( min_value:Int, max_value:Int = 1 )<br><br>I guess I've always always thought of it as an overloaded function, but of cause BlitzMax dodn't have those.<br><br><pre class=code>Local newindex:Int = Rand(0,myarray.length-1)</pre> solves my issue.<br><br>I still think it's a slightly strange behavior , also since<br><br>Rnd:Double( min_value!=1,max_value!=0 )<br>behaves differently. <br><br></td></tr></table><br>
<a name="1070378"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's typical behavior for floating point random numbers to include one endpoint while integers include both. <br><br>In mathematical notation the interval [3,4) denotes all numbers from 3 to 4, with the 3 included but the 4 excluded. Notice that such intervals combine as:<br><br>[3,4) plus [4,5) is the interval [3,5).<br><br>Nothing is counted twice ( the smaller intevals are disjoint ) and nothing is missed when they are united to form [3,5).<br><br>That would be impossible if both endpoints were included. It would certainly look more natural and symmetrical to include both, but it just doesn't work when building larger intervals from smaller ones. These considerations don't apply to integers so they can be done the way you would expect, with both endpoints included. <br><br></td></tr></table><br>
<a name="1070493"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks to Floyd for explaining the reason for this behavior in detail. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
