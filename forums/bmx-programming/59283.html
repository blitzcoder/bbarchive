<!DOCTYPE html><html lang="en" ><head ><title >How to make a module?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >How to make a module?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >How to make a module?</a><br><br>
<a name="660374"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I seem to have forgotten some part of mods making. I just can't get my module to build correctly and be recognized by BlitzMax.<br><br>This is how I do it:<br><br>I make a folder in pub.mod I call it mymodule.mod (only small chars)<br><br>In there I put all the source, the main file is called mymodule.bmx ( It have to be same as the folder name ) <br><br>In the mymodule.bmx file I have this code:<br><br>Module Pub.mymodule<br>'Imports everything required<br>Import Brl.Bank<br>Import Brl.LinkedList<br>Import Brl.Math<br>Import Brl.Retro<br>Import Brl.System<br><br>ModuleInfo "Author: " <br>ModuleInfo "Version: " <br><br>Include "Somefile.bmx" which includes the rest of the source for all files in the module.<br><br><br>Next I click WinT + R and type in cmd, I go to the C:/BlitzMax/Bin/ directory.<br><br>Now I write: <br><br>bmk makemods pub.mymodule<br><br>.. nothing happens ..<br><br>What did I forget? (Please also suggest if there is an easier way to do this)<br><br>I tried to write bmk makemods and that resulted in "all" modules being built.<br><br>Also when I built a exe I get a folder called ".bmx"<br>Can I directly use these files in any way? <br><br></td></tr></table><br>
<a name="660453"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >assari</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think you need to do<br>bmk makemods -a pub.mymodule<br><br>You left out the -a <br><br></td></tr></table><br>
<a name="660557"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> That worked, thanks, it builds and I get four files :<br><br>mymodule.release.win32.x86.a<br>mymodule.release.win32.x86.i<br>mymodule.debug.win32.x86.a<br>mymodule.debug.win32.x86.i<br><br>I still have a problem..<br>If I now try to build a program that uses my module it does not reconize any functions that was in my module?<br><br>I tried to import pub.mymodule in a test file and when I compile I get the error "Cannot find interface for pub.mymodule"<br><br>I went to my "main" file, called mymodule.bmx. I tried to build it from the IDE and got the compile error "Module does not match commandline module"<br><br>Does anyone know what I have missed? <br><br></td></tr></table><br>
<a name="660560"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't think non-BRL function are recognised by the IDE and so remain white. I.e. all functions in the PUB.MOD folder appear white and functions in the BRL.MOD folder (the native commands) are yellow.<br><br><br>Seb<br><br>P.S. I think you get the "Module does not match commandline module" if you try to compile in Blitz a file with a Module XXX line in it. Try commenting it out when compiling and then adding it back in when you run a makemods. <br><br></td></tr></table><br>
<a name="660567"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I did not mean the functions should be highlighted as "commands", I meant I get a compile error that says a function does not exsist that is in my module, and therefore I should be able to run that function. And when I specify an import (Pub.mymodule) it does not find the module, which I find very strange.<br><br>It has worked before.. I must have missed some point or maybe some new feauture I'm unaware of.<br><br>"Module does not match commandline module" - Okey so this has nothing to do with my problem, it simply means: You can only build modules from the commandline. Thanks for clearing that up. I do comment it out when I work on the module, was just hoping it might give a clue to the problem.<br><br>Perhaps I should not use the pub.mod directory but create a new one for all my modules? Is that a good/bad idea? <br><br></td></tr></table><br>
<a name="660577"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Diablo</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Perhaps I should not use the pub.mod directory but create a new one for all my modules? Is that a good/bad idea?  <br></div><br>I would do this now as when you update blitzmax, it appers that it removes any custom modules in the /pub folder.<br><br>If you create your own module folder it means that you will have to opt in the module by using the 'import youname.modulename'.<br><br>BTW what version of blitzmax are you using? <br><br></td></tr></table><br>
<a name="660584"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >assari</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Module does not match commandline module <br></div>I get this when the module names do not match (b/w import xxx.name and module xxx.name)<br><br>Your steps seems to be correct. If all this does not work suggest you go back to basic and do a simple module. As a reminder, there's this tutorial from <a href="/posts.php?topic=42290" target="_blank">Botbuilder</a>. <br><br></td></tr></table><br>
<a name="660597"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Booticus</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah let me second the opinion of keeping your module in a separate directory, as iglass AND maxml got blown away when I did the Bmax 1.20 update. :( Good thing I backup my mod folder every night. Otherwise I'd be kinda bummed.<br><br>Wave I cant wait to use TNet in Bmax 1.20! <br><br></td></tr></table><br>
<a name="660673"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> For building modules, I always just use Ctrl-D in the IDE.<br><br>The "Module does not match commandline module", as you realised, occurs when you try a "normal" build of the module - that is, Ctrl-B or Ctrl-R - because a normal build creates an exe, not a module .a file.<br><br>Ths ""Cannot find interface for pub.mymodule" message is a bit of a pain. I've had it alot when creating modules. One thing I would definetly check is that you use the SAME case for the following :<br>The name of your .mod folder - "mymodule.mod"<br>The name of your .bmx file - "mymodule.bmx"<br>It seems to be important that these are of the same case - I decided to always make mine lowercase from now on. (Well, it is certainly important on Linux/Mac - and after spending an hour debugging bmk, that is what I found fixed my problem with that message)<br><br>The case of the import and module names (in your code) do not seem to matter so much...  Just make sure you don't have any typos there.<br><br>Other than that, I can't think of any other reason it won't import.<br><br>HTH <br><br></td></tr></table><br>
<a name="660715"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the help, I will go and test some more.<br><br>I have a dual install. I'm trying to compile in 1.20, however I still have 1.16 installed in another directory. (Should not cause any problems should it?). I can run everything fine, the problem at this stage comes when I try to build the module.<br><br>A side note, when I click about in the IDE it says Version 1.15beta3, but I assume that was the IDE. I installed 1.18 then I ran the upgrade to 1.20.<br><br>I'll also try to move it to my own module directory. <br><br></td></tr></table><br>
<a name="660726"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> It can not find the module. To build it works fine. It is just not found. I tried to create my own mod directory and it is the same thing. I have checked the case of all names, and checked the spelling. I did a test mod with one function and no imports. It built then it was not found when I tried to import that module into an new empty bmx file. <br><br></td></tr></table><br>
<a name="660732"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I removed Blitzmax and installed a fresh version of 1.18 and then upgrade to 1.20 and now it works, and the about tab says it is version 1.20.<br><br>The TNet site is updated. Check it out <a href="http://www.truplo.com/TNet" target="_blank">here</a> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
