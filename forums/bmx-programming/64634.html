<!DOCTYPE html><html lang="en" ><head ><title >How does syncmods actually work?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >How does syncmods actually work?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >How does syncmods actually work?</a><br><br>
<a name="721581"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Fabian.</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there a documentation for this or does anyone know how syncmods connects to the modserver? I guess it's using tcp/ip, but which port is it using and which protocol is onto the tcp/ip-stream? Is it using http? or ftp? I'd need this information if I were writting my own syncmods-tool or my own modserver. <br><br></td></tr></table><br>
<a name="721584"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Is there a documentation for this or does anyone know how syncmods connects to the modserver? <br></div>Using http. You can use a packetsniffer (like Ethereal) to reverse engineer it, if you want.<br><br><div class="quote"> I'd need this information if I were writting my own syncmods-tool or my own modserver. <br></div>IMHO you'd be better off using a custom tool that checksout your files from a svn repository.<br><br>Syncmods would be good, because it's integrated in the default MaxIDE, however the program is much too limited to do what I think you're trying to do. <br><br></td></tr></table><br>
<a name="721591"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leiden</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'd say it would just use a TCP stream, read an index file, compare it with a local index, then get whatever's new. It could also be packed, ie brl.audio.module and when received locally its unpacked. Authough I'm probably really really wrong. Thats the way I'd do it anyway. Open a stream, get an index, download packed modules, unpack locally, update local index.<br><br>Or, if you wanted previous versions of modules you could pack them with some sort of filename convention, ie, brl.audio.1.04.module, you could easily implement that in a program. <br><br></td></tr></table><br>
<a name="721889"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Fabian.</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I wrote a simple tool which creates a tcp-server-socket and then redirects every connection to blitzbasic.com, but logges all posted data. Then I run the tool and told bmk syncmods to connect to localhost. It seems like bmk syncmods creates a http stream to the server and sends a http-get to:<pre class=code>/modserver122/status.php?mod=brl&amp;cfg=win32.x86&amp;user=Fabian&amp;pass=<i>the_password</i></pre>The server simply returned:<pre class=code>OK: status
ModServer: BRL
ServerUrl: www.blitzbasic.com/modserver122
ServerPrivs: read</pre>But I couldn't log what the client did next, because there were problems with the "Host:" attribute in the http-header (it was set to localhost though it had to be set to blitzbasic.com by bmk)<br><br>Doesn't BRL support a documentation about this? <br><br></td></tr></table><br>
<a name="721928"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Picklesworth</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> The way this is sounds a tad messy, but I think the choice would make perfect sense <i>if</i> it was made very easy to set up modservers.<br><br>From the looks of it, this makes it easily possible to set up a modserver without much more than your regular FTP program...<br><br>Anyway, if you navigate to that URL with a web browser, you get what Fabian found.<br>Hard to tell what the program does from there, though.<br><br>I'm a bit bothered by sending the username and password in plain text, though!<br>Couldn't it be sent as a form return or something? <br><br></td></tr></table><br>
<a name="722049"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Another option:<br><br>You could just launch the actual syncmod command line tool from within your IDE.<br><br>Syncing the BRL and PUB modules:<br><br>c:\program files\blitzmax\bin\syncmods -u username -p password brl<br>c:\program files\blitzmax\bin\syncmods -u username -p password pub<br><br><br>and the optional ones:<br>c:\program files\blitzmax\bin\syncmods -u username -p password birdie<br>c:\program files\blitzmax\bin\syncmods -u username -p password gman<br>c:\program files\blitzmax\bin\syncmods -u username -p password axe<br><br>Using the actual syncmods tool means that it's more likely that your IDE should remain compatible without changes if the syncmod mechanism itself changes at some point in the future. <br><br></td></tr></table><br>
<a name="722139"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Fabian.</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I could find out this:<br>After the syncmods tool received the "OK: status" message it requests another url:<pre class=code>GET /modserver122/listmods.php?mod=<i>modulescope</i>&amp;cfg=win32.x86&amp;user=<i>username</i>&amp;pass=<i>password</i> HTTP/1.0</pre>then the server returns "OK: listmods", followed by this info for each module:<pre class=code>ModPrivs: read
Module: <i>modulescope</i>.<i>modulename</i>
<i>a list of all <b>ModuleInfo</b> statements</i></pre>Then the syncmods tool compares the "Version"-field from the moduleinfo statement with the currently installed version of the module. If the version is greather than the currently installed version, it requests<pre class=code>GET /modserver122/getmod.php?mod=<i>modulescope</i>.<i>modulename</i>&amp;cfg=win32.x86&amp;user=<i>username</i>&amp;pass=<i>password</i> HTTP/1.0</pre>The server returns<pre class=code>Module: <i>modulescope</i>.<i>modulename</i></pre>followed by a list of all <b>ModuleInfo</b>-statements in the module. Then it returns the module content in a binary format followed by "OK: getmod <i>modulescope</i>.<i>modulename</i>".<br>I couldn't find out more because I didn't know that binary format...<br><br>I searched the website and the forum, but I didn't found any documentation on this:-( <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
