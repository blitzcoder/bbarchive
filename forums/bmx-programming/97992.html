<!DOCTYPE html><html lang="en" ><head ><title >BinTree module</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >BinTree module</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >BinTree module</a><br><br>
<a name="1141711"></a>

<a name="1141712"></a>

<a name="1141713"></a>

<a name="1141714"></a>

<a name="1141716"></a>

<a name="1141717"></a>

<a name="1141718"></a>

<a name="1141852"></a>

<a name="1141943"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pineapple</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've written a binary search tree module which I believe affords a significantly more control than the TMap type. Documentation is rather thorough and includes a plethora of examples.<br><br>TMap is a <a href="http://en.wikipedia.org/wiki/Red-black_tree" target="_blank">http://en.wikipedia.org/wiki/Red-black_tree</a><br><br>Insertion involves more overhead, but it guarantees that the tree is always more or less balanced.<br><br>BinTree can either be a <a href="http://en.wikipedia.org/wiki/Binary_search_tree" target="_blank">http://en.wikipedia.org/wiki/Binary_search_tree</a> or a <a href="http://en.wikipedia.org/wiki/Splay_tree" target="_blank">http://en.wikipedia.org/wiki/Splay_tree</a><br><br>In the case of the former:<br>Insertion involves essentially no overhead, but the tree can become imbalanced. Included is the OptimizeTree() function, which reassembles the tree into its most balanced state possible on demand.<br><br>In the case of the latter:<br>Essentially all operations upon the tree involve some overhead, but in many cases it will be more than made up for in how it helps to keep the tree somewhat balanced, and keeps frequently looked-for nodes on the top.<br><br>The functionalities are completely interchangeable.<br><br>Download the module here: <a href="http://dl.dropbox.com/u/10116881/blitz/pine.bintree/pine.bintree.mod.zip" target="_blank">http://dl.dropbox.com/u/10116881/blitz/pine.bintree/pine.bintree.mod.zip</a><br>View the built docs here: <a href="http://dl.dropbox.com/u/10116881/blitz/pine.bintree/commands.html" target="_blank">http://dl.dropbox.com/u/10116881/blitz/pine.bintree/commands.html</a><br><br>List of wrapper commands:<br><br>CreateTree:BinTree(splay:Int=True)<br>TreeSetSplay(tree:BinTree,splay:Int)<br>TreeGetSplay:Int(tree:BinTree)<br>TreeRoot:BinNode(tree:BinTree)<br>TreeSplayNode(tree:BinTree,node:BinNode)<br>ClearTree(tree:BinTree)<br>CountTree:Int(tree:BinTree)<br>TreeHeight:Int(tree:BinTree)<br>TreeIsEmpty:Int(tree:BinTree)<br>TreeContains:Int(tree:BinTree,key:String)<br>TreeInsert:BinNode(tree:BinTree,key:String,value:Object)<br>TreeRemove:Int(tree:BinTree,key:String)<br>TreeRemoveFirst:BinNode(tree:BinTree,key:String)<br>TreeRemoveNode(tree:BinTree,node:BinNode)<br>TreeFind:Object(tree:BinTree,key:String)<br>TreeFindNode:BinNode(tree:BinTree,key:String)<br>TreeFindAll:TList(tree:BinTree,key:String)<br>TreeToArray:Object[](tree:BinTree,sort:Int=0)<br>OptimizeTree(tree:BinTree)<br>TreeObjects:BinEnum(tree:BinTree)<br>TreeKeys:BinEnum(tree:BinTree)<br>TreeNodes:BinEnum(tree:BinTree)<br>CopyTree:BinTree(tree:BinTree)<br>BinNodeString:String(node:BinNode)<br>BinNodeContents:TList(node:BinNode)<br>BinNodeKey:String(node:BinNode)<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1141760"></a>

<a name="1141761"></a>

<a name="1141762"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xcessive</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> What algorithm do you use to balance the tree.<br><br>Also, this is essentially a less optimized version of the TMap that gives you more control, as far as I can see. I'd be more interested if someone implemented a splay tree or something niche like that. Or a hashtable (is there a good hashtable implementation?).<br><br><font class="tiny">Last edited 2012</font><br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1141808"></a>

<a name="1141837"></a>

<a name="1141853"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pineapple</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have an unpolished hash table implementation, but it doesn't have any fanciness for making dynamic resizing more efficient. Once I've done that I might make that into a module as well.<br><br>As to being a less optimized version of the TMap, that's really not the case. It's not self-balancing, which means that unless you're making a remarkably large tree with the ability for it to become very imbalanced, this BinTree implementation will probably run faster because of the reduction in overhead for insertion. If you are working with a larger tree, however, and don't have the time spare to balance the tree, then you probably want to use a TMap.<br><br>Due to its support for multiple entries using the same key and flexibility in handling, if you're initiating the tree on load it would likely be significantly more desirable to insert the values into it and then optimize it. Several of the functions that BinTree has are impractical in a red-black tree like TMap is because they would mess with the node colors (which are what make the self-balancing possible)<br><br>The algorithm I use: the nodes are arranged onto an array via a recursive in-order traversal, and then the new structure of the tree is made using a binary search.<br><br>edit:<br><br>As to splay trees, adding that capability to this existing module is fairly trivial. I'm almost through with an update to add that functionality along with a couple other tweaks, just as soon as I can work out why the hell my remove method stopped working properly.<br><br>edit again:<br><br>aaand the module is updated, with support integrated for splayed trees<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1141861"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xcessive</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> So it is less efficient. That sounds like an nlog(n) algorithm + n for all the insertions. So lets say nlog(n) + n. Using a red-black binary tree has a re-balance step (log(n)) and the insertion is constant time. So to add all the items its nlog(n): theoretically less than nlog(n)+n when getting to the same point. You're tree traversal to build an array is wasting both space and time.<br><br>Also if you are just using it without balancing, worst case scenario you are looking at n+n (n insertions, n traversal). However with the standard TMap its n+log(n)...<br><br>The splay tree implementation is a little more interesting. <br><br></td></tr></table><br>
<a name="1141946"></a>

<a name="1141947"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pineapple</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I fancied up my hash table code.<br><br>module: <a href="http://dl.dropbox.com/u/10116881/blitz/pine.hashtable/pine.hashtable.mod.zip" target="_blank">http://dl.dropbox.com/u/10116881/blitz/pine.hashtable/pine.hashtable.mod.zip</a><br>docs: <a href="http://dl.dropbox.com/u/10116881/blitz/pine.hashtable/commands.html" target="_blank">http://dl.dropbox.com/u/10116881/blitz/pine.hashtable/commands.html</a><br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
