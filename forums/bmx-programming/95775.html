<!DOCTYPE html><html lang="en" ><head ><title >camera scroller ?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >camera scroller ?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >camera scroller ?</a><br><br>
<a name="1105177"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Twinprogrammer</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey guys,<br><br>I am making a scrolling game, and the concept is i am making the entire map and using a camera that zooms in and scrolls. I know how to do this,but it is also multiplayer. Please explain how to do this while kepping the position of the other players. thanks ! <br><br></td></tr></table><br>
<a name="1105218"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Seperate the idea of players and clients. Each client controls a player (and ship), and there is one-to-one match, but it's good to think of them seperately.<br><br>Make your game so that it is processed without favouring any one player. Have a player type which the ship positon, lives etc. Have the player object take input from general functions such as change direction, not hardcode keyboard presses into the player object.<br><br>Now create a client type. This has a reference to that client's player type, and details such as the client's scrolling position. When detecting input, redirect this to the player within the current client rather than a hardcoded player object.<br><br>I hope this has some ideas for you. <br><br></td></tr></table><br>
<a name="1105306"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Twinprogrammer</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> How do you make a client ? <br><br></td></tr></table><br>
<a name="1105329"></a>

<a name="1105331"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Client is a type with methods to control a player object. For one client, the methods will be called by input from the keyboard, whereas the others will be called by input from over the network.<br><br>I just realised I may have misunderstood the problem. Is this same-computer multiplayer or network multiplayer?<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1105364"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Twinprogrammer</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Network multiplayer. <br><br></td></tr></table><br>
<a name="1105368"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Please explain more about how your game works as I don't have a clear picture. <br><br></td></tr></table><br>
<a name="1105372"></a>

<a name="1105373"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> twinprogrammer, here is a 2d scrolling tile map I helped with in ancient histories.<br><br><a href="http://blitzbasic.com/Community/posts.php?topic=90762#1033024" target="_blank">http://blitzbasic.com/Community/posts.php?topic=90762#1033024</a><br><br>Run the code in the last source code box. Press enter to begin the game. Use the arrow keys to scroll.<br><br>You can get some ideas from there.<br><br>I wonder what ever came from Fred's egg hunt..<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1105393"></a>

<a name="1105396"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Also in a 'scrolling' game the positions of the players are a part of the map and always keep relative to the 0/0-point of the map.<br><br>It is not like many programmers think, that the player is always in the center of the screen... It is more like: the camera is moved, so that the player seems to keep in the center of the screen. So also 'your' player changes his coordinates, when moving.<br><br>Each client has a individual camera, that depents on 'its players' position and shows a part of the the map. It is placed half of the screen left and up of the player. <br><br>In total there is no confusion about communication about players position. They are always exact:<br><br>Here are two screen 400x400 and a camera positioned -200/-200 from the player. You will see a 30x30 scrolling ground floor and 2 figurs.<br>Blue is your Player, move it with the Arrow-Key:<br><br><pre class=code>Graphics 900,400
Global Player1_X#=400
Global Player1_Y#=400

Global Player2_X#=500
Global Player2_Y#=500


Repeat
	
	'player 1 moves automatic 
	Player1_Y:+.3
	
	' you control he player 2
	If KeyDown(KEY_LEFT) Player2_X:-.5
	If KeyDown(KEY_RIGHT) Player2_X:+.5
	If KeyDown(KEY_UP) Player2_Y:-.5
	If KeyDown(KEY_DOWN) Player2_Y:+.5
	Cls
	
	' camera 1 for Player 1:
	CameraPicture (Player1_X-200 , Player1_Y-200, 0)
	
	
	' camera 2 for player 2:
	  	' the '500' is only necessary to simulte a 2nd monitor on one screen
	CameraPicture (Player2_X-200 , Player2_Y-200, 500)
	
	'some painting to have the feeling of two monitors:
	SetColor 111,111,111	
	DrawRect 0,0,900,30
	DrawRect 0,370,900,30
	DrawRect 0,0,30,400
	DrawRect 370,0,160,400
	DrawRect 870,0,30,400
	Flip 1
Forever



Function CameraPicture (CamX, CamY, OffX)
	SetColor 1,99,1
	
	' simulates a moving ground floor
	For j=0 To 90
		For I=0 To 90
			RealX=i*30-CamX+1
			If RealX&gt;0 And RealX&lt;400
				DrawRect OffX + (i*30)-CamX+1,(j*30)-CamY+1,29,29
			EndIf
		Next
	Next
	
	' the players:
	SetColor 255,0,0
	DrawOval OffX + Player1_X-CamX , Player1_Y-CamY ,15,15
	SetColor 0,0,255
	DrawOval OffX + Player2_X-CamX , Player2_Y-CamY ,15,15


End Function
</pre><br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1105652"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matt Merkulov</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can use DWLab framework for this. These techniques are already implemented in <a href="http://dwlab.googlecode.com/files/MindStorm%20demo%0v1.0.0.1.zip" target="_blank">MindStorm demo</a> but I'll make some explanations too:<br><br>First you should create a world in editor and dispose players on the game field (on the only layer). Set these classes to TPlayer and set the "num" parameter to corresponding player number. You can also all more sprites and tilemaps to the layer.<br><br>Then you should create some classes ing code files for you project including TGame project class and TPlayer class.<br><br>Next step will be loading and initializing level, how to do this is explained in DWLab tutorial. Then you can move the camera in code with L_CurrentCamera.JumpTo( Player ) method to the player position or to point with L_CurrentCamera.SetCoords() method. And set magnification by L_CurrentCamera.SetMagnification() method.<br><br>Then you have to synchronize network player coordinates with server. Add Level.Act() method to the TGame Logic() method to enable shape acting and add synchronization commands to TPlayer Act() method. You can retrieve player number by GetParameter( "num" ) method inside TPlayer. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
