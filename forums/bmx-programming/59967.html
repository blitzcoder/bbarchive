<!DOCTYPE html><html lang="en" ><head ><title >[MAXGUI] Window always on top?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >[MAXGUI] Window always on top?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >[MAXGUI] Window always on top?</a><br><br>
<a name="668709"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi!<br><br>I'm currently using these two functions to set the window flag to "always on top".<br><br>Function WinalwaysOnTop(hWnd:Long)<br>   SetWindowPos( hWnd, HWND_TOPMOST, 0, 0, 0, 0, SWP_NOSIZE + SWP_NOMOVE )<br>End Function<br><br>Function WinnotAlwaysOnTop(hWnd:Long)<br>   SetWindowPos( hWnd, HWND_NOTOPMOST, 0, 0, 0, 0, SWP_NOSIZE + SWP_NOMOVE )<br>End Function <br><br>The problem is that when I use tooltips in maxgui listboxes they no longer show up / shop up behind the listbox. So one can't read the text.<br><br>Is there a  better way of locking the gui app window on top?<br><br>Thanks, Grisu <br><br></td></tr></table><br>
<a name="668718"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ozak</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You shouldn't make windows on top of all others. It's an ugly Windows hack that should die. What if two windows want to be on top at the same time? I rest my case ;) <br><br></td></tr></table><br>
<a name="668720"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well lets say you work in open office and want to use winamp. That's when "always on top" is quite nice, cause you can work as you like and still play your songs... <br><br></td></tr></table><br>
<a name="668727"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eikon</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try forcing the listboxe's hWnd to the top - might work ;) <br><br></td></tr></table><br>
<a name="668731"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> but how? I'm no windows api gutu.<br>And it seems if I touch something, it breaks something elsewhere... :/<br><br>I have around 10 Listboxes in my app...and i want to allow the user to set the window on top or not on the fly.<br><br>So this isnt easy... :/ <br><br></td></tr></table><br>
<a name="668737"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eikon</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Get the listboxe's hWnd with QueryGadget (QUERY_HWND) and force it to the top the same way you do the parent window. <br><br>Like I said, it may or may not work, but it's worth a shot. Good luck with it! <br><br></td></tr></table><br>
<a name="668738"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can't I just move the window to "ONTOP"-1?<br><br>That would be better than moving all listbox tooltips.<br>Don't know how to code this though.. :( <br><br></td></tr></table><br>
<a name="668739"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eikon</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, but you said that it caused your listbox tooltips to vanish, so I thought that also forcing the listbox itself to the top might help. <br><br></td></tr></table><br>
<a name="668741"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> sorry, i will try to explain. The function sets the window to the top. therefore the tooltips show up behind. So I "just" need to change the function so it sets the window itself to "HWND_TOPMOST-1". <br><br></td></tr></table><br>
<a name="668744"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eikon</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just tried to set the listbox to top and it didn't fix the problem, please forget I ever mentioned it.<br><br>There is no such layer between HWND_TOP and HWND_TOPMOST. Tooltips reside on the TOPMOST layer by default, so in theory they should be visible. Maybe talk to skid about it.<br><br>Code to recreate the problem:<br><pre class=code>
Window:TGadget = CreateWindow("Test", 0, 0, 500, 500)
SetWindowPos QueryGadget(Window, QUERY_HWND), -1, 0, 0, 0, 0, 3

ListBox:TGadget = CreateListBox(0, 0, 400, 400, Window)
AddGadgetItem ListBox, "test", 0, -1, "Tip"
SetWindowPos QueryGadget(ListBox, QUERY_HWND), -1, 0, 0, 0, 0, 3 ' Attempted fix

Repeat
Until WaitEvent() = EVENT_WINDOWCLOSE
</pre> <br><br></td></tr></table><br>
<a name="668746"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Eikon for looking into this.<br><br>Skid will probably kill me when I report this... *shivers*<br><br>He has lot's of other stuff to fix first (higher priority)... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
