<!DOCTYPE html><html lang="en" ><head ><title >Moving the light</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Moving the light</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Moving the light</a><br><br>
<a name="1174534"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robby</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi guys! I've been experimenting with the light sample in the Blitz dir. Its the one that show an expanding and shrinking white light where your mouse is, across a blue moving Blitzmax backdrop.<br><br>I adjusted the code to make just a growing, but not shrinking light, over and over, like this: (tim# is initially set to 0, so goes to 180, which seems to be the smallest (or biggest?) circle size.)<br><br>SetBlend LightBlend<br>  SetColor (255,155,155) ' neat reddish hue<br>  tim = tim - 1  <br>    'lightx = lightx - 1.5 + (1.5+1*Cos(tim)) ??<br>    'lighty = lighty - 3 ??<br>    If tim &lt;= 0 Then<br>       tim = 180<br>       lightx = 345<br>       lighty = 334<br>    End If<br>  SetScale 1.5+1*Cos(tim), 1.5+1*Cos(tim)<br>  DrawImage lightimage, lightx,lighty<br>  SetColor (255,255,255)<br>  SetBlend MaskBlend<br>  SetScale(1,1)<br><br>So I have the light in the center of my screen 345,334, to grow around a character I have as part of some sort of magic effect.<br><br>The trouble is the lightx and lighty position. If I give them absolute values, like lightx = lightx - 2 or something, the expanding light tends to wobble left and right, up and down.<br><br>I think I don't understand cosine too well. :)<br><br>It seems like the values for the x and y must vary as the circle expands, probably based on the scale ratio with the cosine in it somehow.<br><br>My goal is that the light expands around my character - always in the center of the screen, but equally and smoothly in all directions.<br><br>Any clarification of how this could be done would be appreciated. Thanks again,   -Rob <br><br></td></tr></table><br>
<a name="1174535"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robby</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I meant to say that the increment for the x and y must vary somehow. <br><br></td></tr></table><br>
<a name="1174618"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cruis.In</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> if the image is an actual image, can't the image be expanded from the centre equally outwards just by using setscale?<br><br>If not I am understanding wrong and blame my noobness. Set your program for automidhandle <br><br></td></tr></table><br>
<a name="1174625"></a>

<a name="1174627"></a>

<a name="1174628"></a>

<a name="1174629"></a>

<a name="1174630"></a>

<a name="1174632"></a>

<a name="1174633"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hiya<br><br>Keeping things with the original example code...<br><br>To make the light repeatedly scale up only, you need to change line 54 to scale the other way by taking the value away instead of adding it to the scale. To limit it to just going from small to big you would use Mod operator with the 'tim' variable to limit it to be 0 : 180 ( the example just lets the value increase to 'potential' infinity ) :-<br><br><i>Line 54</i><br><b>tim = tim Mod 180 ' Add this line here. Limit to ratios of 0 : 180<br>SetScale 1.5-1*Cos(tim), 1.5-1*Cos(tim)</b> ' Change the '+' to '-'<br><br>Then you can use that to incorporate into your own code, then go check out some online trigonometry tutorials... they look really hard and confusing at first but they will be your best friend once you get your head around them :-)<br><br>One thing that may trip you up is that BlitzMax trig functions Cos,Sin etc use degrees, whereas you may find most tutorials will use radians. Again don't be afraid to learn the difference. Its a simple function to change from one to the other. Radians go from 0 to 2*pi ( 0 to 2*3.14159.....) and degrees from 0 to 360 ).<br><br>Hope this helps.<br><br><font class="tiny">Last edited 2013</font> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
