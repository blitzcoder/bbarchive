<!DOCTYPE html><html lang="en" ><head ><title >Int Array to Short?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Int Array to Short?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Int Array to Short?</a><br><br>
<a name="1163211"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BLaBZ</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> How do you convert an int array to short?<br><br><pre class=code>
Local indices1:Int[] = [0, 1, 2, 0, 2, 3,  ..
						0, 3, 4, 0, 4, 5,  ..
						0, 5, 6, 0, 6, 1,  ..
						7, 6, 1, 7, 1, 2,  ..
						7, 4, 5, 7, 5, 6,  ..
						7, 2, 3, 7, 3, 4]
						
Local indices:Short Ptr[] = Short Ptr(Int Ptr(indices1))[0]
</pre> <br><br></td></tr></table><br>
<a name="1163212"></a>

<a name="1163214"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hiya,<br><br>Why not use a short array to start with?<br>One way that springs to mind without testing<br><br><pre class=code>
Strict

Local Indices:Short[] = [0:Short,1:Short,2:Short,3:Short] 'etc
Local pIndices:Short Ptr = Indices

Print pIndices[3]
</pre><br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1163216"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Assuming you can't just use a Short array... you don't. The values contained in the array are not Shorts. You need to convert them on an individual basis.<br><br>If you wanted to make certain assumptions about packing (which is <i>never</i> a good idea...), you might be able to do some tricks with copying selected areas of memory... but since the parts to filter out are completely interleaved with the parts to keep, it'd probably be no faster than just looping over the array and doing it in a way that isn't dangerously hackish. <br><br></td></tr></table><br>
<a name="1163218"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> All of that said, why bother? <br><br></td></tr></table><br>
<a name="1163221"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> All of that said, why bother? <br></div><br><br>I think you need to use shorts in some parts of OpenGL. <br><br></td></tr></table><br>
<a name="1163223"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Really? K... <br><br></td></tr></table><br>
<a name="1163225"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> *I think* <br><br>from an old rusty memory. Most APIs will actually let you choose a type, but I remember specifically using shorts in an index array. I always stand to be corrected though! I haven't used OpenGL for donkeys years, DirectX for me nowadays. <br><br></td></tr></table><br>
<a name="1163230"></a>

<a name="1163231"></a>

<a name="1163232"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>[0:Short,1:Short,2:Short,3:Short] 'etc</pre>This has always bothered me. Why do we have to add :Short to every number? I think this should work:<br><pre class=code>[code][0:Short,1,2,3] 'etc</pre>The elements must all be of the same type. The first one is Short so they are all Short.<br><br><br>Anyway, for the original question I would just create an array of Shorts and copy the Int array element by element.<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1163235"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I personally think in the scenario of using Local Array:Short[] = [ *values* ], that you shouldn't even need the first [0:Short.......] as you've made the type declaration already. There must be a reason why it's that way though. <br><br></td></tr></table><br>
<a name="1163246"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BLaBZ</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> yah I am using it for declaring opengl indices, thanks for the input <br><br></td></tr></table><br>
<a name="1163252"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >*</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> from personal experience opengl uses int or byte not short <br><br></td></tr></table><br>
<a name="1163271"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BLaBZ</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> you can use either, int byte or short when referencing indices <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
