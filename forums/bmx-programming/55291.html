<!DOCTYPE html><html lang="en" ><head ><title >pixmap selection with mouse</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >pixmap selection with mouse</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >pixmap selection with mouse</a><br><br>
<a name="615525"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pointman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Suppose you have x pixmaps on screen of arbitrary shape (not rectangle or polygon constrained)<br><br>What should I do to detect which pixmap touches the pointers hotspot? I mention the arbitrary shape because the image may be a circle so I would like to have pixel accurate detection<br><br>Thanks everyone<br><br>William <br><br></td></tr></table><br>
<a name="615540"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Haramanai</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> you can first find out if the mouse pointer is inside the pixmap canvas.<br>then check out if the pixel that the pointer is on is transparent or not.<br>if not store the pixel. <br><br></td></tr></table><br>
<a name="615548"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pointman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Could you please give me te command to check for canvas and the command to check the pixel pointer? just the name so that I can a have a start<br><br>Thanks for the response<br><br>William <br><br></td></tr></table><br>
<a name="615555"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Haramanai</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> For the Canvas it's simple.<br>Let's say that your pixmap it's at the position x , y<br><br>If x - MouseX() &lt; PixmapWidth(yourPixmap) And y - MouseY() &lt; PixmapHeight(yourPixmap)<br>drawtext("in canvas")<br>end if<br><br>For the other stuff have a look in the wiki.<br><a href="http://www.blitzwiki.org/index.php/ReadPixel" target="_blank">http://www.blitzwiki.org/index.php/ReadPixel</a><br><br>Tell me if it works I never done something like this.<br>Good Luck <br><br></td></tr></table><br>
<a name="615562"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> You know your pixmaps x/y position and it's width/height.<br>Check whether mousex() and mousey() is within this rect. <br>Get the offset if mousex()/mousey() into the pixmap rect.<br>Check the colour of the pixel at this point.<br>If it's non-transparent... collision.<br><pre class=code>
Strict
Graphics 800,600,0
Local pixmap1:TPixmap=LoadPixmap("max.png")
Local pixx:Int=200
Local pixy:Int=200
While Not KeyHit(key_escape)
  Cls
  Local mx:Int=MouseX()
  Local my:Int=MouseY()
  DrawPixmap pixmap1,200,200
  If  mx&gt;pixx And mx&lt;pixx+PixmapWidth(pixmap1) And my&gt;pixy And my &lt; pixy+PixmapHeight(pixmap1)
        Local mypixel:Int=ReadPixel(pixmap1,mx-pixx,my-pixy)
        If mypixel&lt;&gt;0 DrawText "COLLISION",0,0
  EndIf  
  Flip
Wend
</pre><br>The image I used here has transparent (0) background, <br>You'll need to get an argb value from your mask to check for values. <br><br></td></tr></table><br>
<a name="615585"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pointman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> This works great as long as you have on this specific rectange a pixmap, what happens if you have two overlapped pixmaps where at some areas pixels of one pixmap are hidden (within the same pixmap rectange) and on another part pixels of the other pixmap are hidden?<br><br>Suppose you have 2 pixmaps, one is the an image of the letter A and the other an image of the letter B but their canvases are exactly the one on top of the other. Even so some pixels of one letter are visible while at onother spot pixels of the other letter are visible. How can I distinguish which letter the pointer is 'touching'?<br><br>Thanks <br><br></td></tr></table><br>
<a name="615591"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Haramanai</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> It doesn't mater even if you don't draw your pixmap it's just checks the x y coordinates that suposed to be draw. <br><br></td></tr></table><br>
<a name="615607"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Create a mypixmap type with fields x,y and name then stick them on a list. <br>Do the mx/my check against the list and return each pixmap collided (possibly in an array).<br>Check the collideimage code as it does something similar.<br>If you only want 1 pixmap returned then draw them with Z-order and return the highest if there's more than 1 collision. <br><br></td></tr></table><br>
<a name="615608"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pointman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks everyone for their replies!!! <br><br></td></tr></table><br>
<a name="615648"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just use a loop <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
