<!DOCTYPE html><html lang="en" ><head ><title >ErrorLevel</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >ErrorLevel</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >ErrorLevel</a><br><br>
<a name="510523"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there any way to stop the execution of a BlitzMax application returning an errorlevel?<br>I would like to end execution and return an Errorlevel from within a method of a type. <br><br></td></tr></table><br>
<a name="510525"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not at the moment.<br><br>If you look at the C code in the BRL.AppStub module, the main() function always returns 0.<br><br>The entry point to the BlitzMAX code is the _bb_main() function which is declared void, so it cannot return a value.<br><br>I think it would be quite easy for Mark to modify the source so that a value could be returned though. <br><br></td></tr></table><br>
<a name="510529"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Robert! <br><br></td></tr></table><br>
<a name="510531"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> hmm<br><br>Do you somehow mean something like a "try - throw - catch" combination with runtime error? <br><br></td></tr></table><br>
<a name="510535"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> No, I mean, when an application ends, it returns a value to the OS. by default the value is zero (it means no error), but If an error occurs, then you can tell the OS (or the calling application who has started the one that has caused the error) another number.<br>As isntance:<br><pre class=code>
'--- file error.bmx ----
print "hello, where going to load a image"
Local MyImage:TImage = LoadImage("something.bmp")
if MyImage = 0 or MyImage = Null then
    Print "Image was not loaded"
    EndWithError 1   'this doesn't exists
Endif
</pre><br>And what does the OS do with the error returned?<br>by default Nothing, but this errorlevel can be checked later to ensure the application has run without errors.<br>BMK, for example, returns an errorlevel different to 0 when the application wasn't compiled for any reason (syntax error or whatever). <br><br></td></tr></table><br>
<a name="510641"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >StuC</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually, you could call the ExitProcess(uExitCode) Win32 function (I'm sure there are equivalents for Linux/Mac).<br><br>It's declared in Kernel32.dll<br><br>Cheers,<br><br>Stu <br><br></td></tr></table><br>
<a name="510644"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I forgot about that one.<br><br>I think it would be best if Mark were to make some simple (I hope!) modifications to BlitzMAX so that the error code could be returned the conventional way, since this would be guaranteed not to suffer any unfortunate side-effects (for example, with ExitProcess, any functions in the OnEnd list will not be executed) <br><br></td></tr></table><br>
<a name="510916"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>The C function 'exit_' should do the trick, eg: 'exit_ 1000'.<br><br>This will call the C atexit_ list (which is what OnEnd actually uses) so should perform a clean shutdown.<br><br>Perhaps I should add an optional parameter to 'End' as well? <br><br></td></tr></table><br>
<a name="510947"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LarsG</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Perhaps I should add an optional parameter to 'End' as well?  <br></div><br>yeah.. sounds nice.. <br><br></td></tr></table><br>
<a name="511021"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> An optional parameter should be very nice and clean. :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
