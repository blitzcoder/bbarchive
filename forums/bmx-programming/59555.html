<!DOCTYPE html><html lang="en" ><head ><title >Incbin bug/limitation</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Incbin bug/limitation</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Incbin bug/limitation</a><br><br>
<a name="663756"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Curtastic</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> it says "Incbin can only be used in main program block"<br><pre class=code>
Const incbinning=True
If incbinning Then
Incbin "image\font2.png"
</pre><br><br>It would be really handy for me to have this fixed. The program takes a long time to compile each time when using incbins. Right now I just rem them all out. <br><br></td></tr></table><br>
<a name="663764"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Scott Shaver</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> you can't do that because incbin is a compile time operation not a runtime operation.<br><br>What you need is for BRL to add ?ifdef and ?def compiler directives. <br><br></td></tr></table><br>
<a name="663768"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can't you just put all your incbin's in a module or include and then Import that ( not include it ) so that it won't be rebuilt unless modified? <br><br></td></tr></table><br>
<a name="663773"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Booticus</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wierd with the bmax 1.20 "update" that went south. :( <br><br></td></tr></table><br>
<a name="663787"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm guessing that it's always been south, it just never told you before. I think it was probably being IncBin'ed 100% of the time, regardless of any conditional or looping statements you buried it in. <br><br></td></tr></table><br>
<a name="663831"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Curtastic</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks for the fast replies<br><br><div class="quote"> <br>you can't do that because incbin is a compile time operation not a runtime operation.<br> <br></div><br>well so is "If True", right?<br>Like if you have "If False" the code in the if doesn't get compiled into the exe.<br><br><div class="quote"> <br>Can't you just put all your incbin's in a module or include and then Import that ( not include it ) so that it won't be rebuilt unless modified?<br> <br></div><br>well the slowdown when I run the program is because each image needs to be packed into the new exe every time I run it from the IDE, thats why I have a const flag that takes off incbinning and loads images normally.<br>I unrem the Incbins and change the flag so it adds "incbin::" to the loadimage(). I do this every time I upload a new version of my RPG (its in my sig). <br><br></td></tr></table><br>
<a name="663876"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> well the slowdown when I run the program is because each image needs to be packed into the new exe every time I run it from the IDE, thats why I have a const flag that takes off incbinning and loads images normally. <br></div><br><br>I know. If it's imported, it won't need to be packed though, will it? It should already be packed, and just appended to your program code which is recompiled every time.<br><br>I haven't tried this, but it seems logical. <br><br></td></tr></table><br>
<a name="663879"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> The best way to improve this building speed is,<br>create a resource.bmx file, that incbins all your media<br>then 'import' this file in your program<br><br>all the 'incbined' data in the resource.bmx is available from any bmx file in your application, but resource.bmx is only compiled when new media is added to it. (unless you disable the quickbuid) <br><br></td></tr></table><br>
<a name="663892"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hambone</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does anyone know if a BMAX program that has incbin in it will work after being upx'ed?<br><br>Thanks,<br><br>Allan <br><br></td></tr></table><br>
<a name="663895"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Curtastic</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks it works. but I still think my first example should work. <br><br></td></tr></table><br>
<a name="663939"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Your first example is a runtime check for a variable.<br>The incbin file is inlined during compilation.<br><br>What you are saying is that you would like the compiler to be able to do runtime checking of the code at compile-time.<br>...which is perhaps a bit much for a compiler to be doing, really.<br><br>As Scott said, the best option would be for us to have some more compiler directives, to give us a bit more flexibility at compile-time. <br><br></td></tr></table><br>
<a name="663948"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >popcade</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you 're doning with Win32 stuff only, you can try MoleBox, IncBin give you the method to work under Mac/Linux, there's also a way to make BMax loads media in plain zip <br><br></td></tr></table><br>
<a name="663950"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Incbin != molebox ... incbin does not protect your media in any way ... it just attaches them to the exe which is normally a bad idea (update wise). Using a seperate zip (encrypted) is the better idea. <br><br></td></tr></table><br>
<a name="663997"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >popcade</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, I suggest you to use the ZipEngine by gman<br><br>I didn' mention MoleBox use same way to include medias, I just want to say it's an alternative way to do similar work. <br><br></td></tr></table><br>
<a name="664286"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Curtastic</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Your first example is a runtime check for a variable.<br> <br></div><br>I don't think the If exists in the EXE. There shouldnt be any runtime check, like "If incbinning Then" converts to "If True" which converts to ""...nothing, thennnnnn start incbinning my data :) <br><br></td></tr></table><br>
<a name="664635"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> But Incbin is "read" by the compiler, and If is "read" during the running of the program.<br><br>A compiler directive, such as Purebasic's CompilerIf directive is what we need since this is not evaluated during run time, but during compile time.<br><br>It's a bit hard to grasp at first, I know.<br><br>Russell <br><br></td></tr></table><br>
<a name="664854"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >kenshin</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> A complete set of conditional compile directive's would be nice.  It's one of the things I'm missing from PB.  I guess there's always the ?Debug directive if your really desperate. <br><br></td></tr></table><br>
<a name="664862"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Curtastic</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well in blitz3d if I have<br><br>If false then<br> ;all the code in here is not even compiled into the exe.<br>endif<br><br>Therefore there is no if "read" during the running of the program, the code is just omitted. Blitzmax should do this also, but it seems to compile everything in for some reason. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
