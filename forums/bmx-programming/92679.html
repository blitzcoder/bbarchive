<!DOCTYPE html><html lang="en" ><head ><title >DOOM-like rendering</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >DOOM-like rendering</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >DOOM-like rendering</a><br><br>
<a name="1057333"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pineapple</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> If I were to go about making a game very similar in style to DOOM, how might I go about rendering it? I'm absolutely lost when it comes to 3D rendering. I can map and have a feint idea of how to model, but I can't for the life of me get anything to work graphically when programming a 3D game. <br><br></td></tr></table><br>
<a name="1057339"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Which DOOM are you talking about?<br><br>DOOM 1 and 2 were rendered via ray-casting... DOOM 3 was done via polygons etc.<br><br>To do DOOM 1/2 there are a few ray-casting examples around on these forums, for DOOM 3 you need a proper 3D engine like MiniB3D. <br><br></td></tr></table><br>
<a name="1057342"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pineapple</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> DOOM 1/2, sorry. Could you point me to some of these examples? <br><br></td></tr></table><br>
<a name="1057344"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://www.blitzbasic.com/Community/posts.php?topic=92053#1047895" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=92053#1047895</a><br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=89478#1016434" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=89478#1016434</a><br><br><a href="http://www.blitzbasic.com/Community/_search.php?bbs=BlitzMax&amp;forum=&amp;terms=raycasting&amp;method=simple&amp;case=no&amp;results=topic&amp;user=&amp;submit=Search" target="_blank">http://www.blitzbasic.com/Community/_search.php?bbs=BlitzMax&amp;forum=&amp;terms=raycasting&amp;method=simple&amp;case=no&amp;results=topic&amp;user=&amp;submit=Search</a> <br><br></td></tr></table><br>
<a name="1057493"></a>

<a name="1057494"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> If your goal is to make the game, for heaven's sake, don't raycast. The only reason Doom used raycasting is that 3D acceleration wasn't available back then. Now that it is, it's masochistic in the extreme to make life that much harder for yourself. Pick a simple 3D engine (eg: MiniB3D) and follow the tutorials.<br><br>If your goal is not the game but rather the experience, and you actually want to learn all the complicated maths and optimize your code to the n'th degree to make a raycasting engine, then go for it. But do it for the right reasons.<br><br><font class="tiny">Last edited 2010</font> <br><br></td></tr></table><br>
<a name="1057513"></a>

<a name="1057514"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pineapple</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I want to use miniB3D, but like I said, 3D graphics and me just don't mix. I've tried countless times to use B3D and miniB3D to do even simple 3D things and I've never managed anything more impressive than navigating a heightmap.<br><br>@there<br>thanks much for the links<br><br><font class="tiny">Last edited 2010</font> <br><br></td></tr></table><br>
<a name="1057516"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I want to use miniB3D, but like I said, 3D graphics and me just don't mix. I've tried countless times to use B3D and miniB3D to do even simple 3D things and I've never managed anything more impressive than navigating a heightmap. <br></div><br>That's precisely why I gave the response I gave. If you've never managed to get the hang of 3D when all the hard work is done for you, I can't imagine that making things a whole lot harder is going to help you. You're still going to have to do all the same stuff you couldn't do or didn't like or didn't "gel" with MiniB3d, but you're going to have to do a whole lot more as well.<br><br>Without knowing exactly what your problems with 3D have been, it's impossible to give clear advice, but perhaps a different approach or a different engine would work better. <br><br></td></tr></table><br>
<a name="1057539"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's really just a 3D model that you move through. <br><br></td></tr></table><br>
<a name="1057579"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pineapple</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's because I have no grasp on how to handle textured polygons. If I don't have to deal with triangles and texture mapping in the same program It's completely doable. Otherwise I'm totally lost. I can map - I mess with texture mapping but I work with primitives instead of triangles. I can do a lot of things with untextured polygons, I've even written my own (extremely) simple 3D engine. But when it comes to making models that typically requires both I'm near talentless and I absolutely can't write a program dealing with the both of them.<br><br>And thus the desire to do raycasting - that way there are no triangles to speak of and would be much easier for me to work with sans a detailed tutorial on what specifically I'd need to accomplish using minB3D, which would be to construct a model from the information that makes a DOOM level. Not that I'm trying to make a DOOM port, but just that I enjoy being able to construct the environment in 2D and then play it out in 3D.<br><br>So yeah. I suppose I'd appreciate any help I can get; I just don't know where to start. <br><br></td></tr></table><br>
<a name="1057589"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> So your problems with 3D are purely from the art side of things? You're ok with the programming, you just want to completely avoid having to map textures onto geometry?<br><br>What about using a mapping program like Cartography shop where the textures are mapped to geometry automatically? You just carve your maps out of the brushes (building blocks) and CShop modifies the geometry to keep textures looking decent. You say you can map, so presumably you've used programs of this kind before? <br><br></td></tr></table><br>
<a name="1057600"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pineapple</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well yes, I can load up a map or something into a program just fine, but then I don't have the individual polygon information to do the kind of stuff I'd like, which primarily includes the dynamic nature of DOOM maps. But yeah, you're spot-on. <br><br></td></tr></table><br>
<a name="1057617"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Then learn. Sorry to be harsh but we all were at that point. I'm mostly an artist and I learned. Stop making excuses and start empowering yourself.<br><br>Learn what verts, polys, triangles and uv coordinates are. Learn what they do, and what things are. You are being lazy, I can tell you're not stupid. <br><br></td></tr></table><br>
<a name="1057718"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just do what I did. Hire an artist! <br><br></td></tr></table><br>
<a name="1057732"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pineapple</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Robert<br><br>I know exactly what they all are and know how they work. I am unable to get them to work how I want them to in an actual program because I don't know where to start learning how to do this. I can't use documentation because I don't know what types of commands to look at and I've never found tutorials which is understandable considering exactly what I want to do - dynamically transform and handle 3D environments - is extremely uncommon. (I've never even seen it done outside DOOM.) <br><br></td></tr></table><br>
<a name="1057736"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nonetheless, creating a raycaster requires the same working knowledge plus a bunch more. You're not saving anything, you're just making it more complex. <br><br></td></tr></table><br>
<a name="1057861"></a>

<a name="1057862"></a>

<a name="1057863"></a>

<a name="1057864"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> all you have to do is create a wall mesh in a 3d application, import it into miniB3D, create a little map editor to place the walls, use copyentity to duplicate the walls around the map.<br>then when you want to destroy a wall simply create a dust  particle effect and move it down (then free the entity when it is out of sight)<br>or manipulate individual vertices of walls using commands in miniB3D<br>what you are wanting to do isnt that difficult, just ask relevant questions after trying to do it.<br><br>first load the wall as a mesh<br>then get the surface with getsurface<br>then use triangle vertex:<br><a href="http://www.blitzbasic.com/b3ddocs/command.php?name=TriangleVertex&amp;ref=3d_cat" target="_blank">http://www.blitzbasic.com/b3ddocs/command.php?name=TriangleVertex&amp;ref=3d_cat</a><br>to manipulate vertices<br><br><font class="tiny">Last edited 2010</font><br><br><font class="tiny">Last edited 2010</font><br><br><font class="tiny">Last edited 2010</font> <br><br></td></tr></table><br>
<a name="1057887"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pineapple</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> A DOOM level is divided into sectors, which are composed of sides which are made from verticies. The key things here are that sector ceiling and floor heights can change and that each wall has six separate textures - front and back upper, middle, and lower textures. I would much like to reproduce this specification and I was hoping to also be able to move verticies, for which explanation I thank you. <br><br></td></tr></table><br>
<a name="1057959"></a>

<a name="1057960"></a>

<a name="1057961"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> to create the wall is easy in a 3D program like 'Ultimate Unwrap'<br><br>Just use File-&gt;Create Primitive-&gt;Cube<br><br>and stretch it to form a rectangle wall.<br><br>Then put the textures on with the same program.<br><br>You could place the walls with some 3D software but you might lose control, i.e. all the walls will be merged into one object.<br> So its probably best to create your own map editor.<br><br>If you dont want to spend money on Ultimate Unwrap you could use a free alternative but the free 3d software is either too heavy for a simple job (blender) or isnt very easy to use <a href="http://www.software4free.org/3d.html" target="_blank">http://www.software4free.org/3d.html</a><br><br><font class="tiny">Last edited 2010</font><br><br><font class="tiny">Last edited 2010</font> <br><br></td></tr></table><br>
<a name="1058015"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pineapple</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> No, I really don't want to create the level with a 3D modeler. <br><br></td></tr></table><br>
<a name="1058355"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> What exactly is this "dynamic nature of DOOM maps" that is not present in other games.  <br><br><div class="quote"> <br>dynamically transform and handle 3D environments - is extremely uncommon. (I've never even seen it done outside DOOM.)<br> <br></div><br><br>Pretty much any 3d engine can transform 3d information 'dynamically' (by which I take it you mean 'real-time' ) - in fact that is pretty much their main function...so what exactly happens in raycasting DOOM environments that doesn't happen in other environments with a 3d graphical representation? <br><br></td></tr></table><br>
<a name="1058432"></a>

<a name="1058435"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> As xlsior has said, anything you will want to do with raycasting is harder than with and engine.<br><br>The differences in the grand scheme are this:<br>An engine will provide you tools to manipulate and organize elements (be they meshes, or elements of meshes like faces, vertices, etc.), textures, cameras, etc.<br>With a home spun ray caster you have to do all of that yourself... and it still has to get done... so all you're doing is taking on more work.<br><br>Additionally any engine is going to use 3D accelerators and so performance of the rendering task becomes almost a non issue. Compared to a raycaster which you will spend months (literally) trying to optimize to perform even on a modern system.<br><br>I fully understand the mind f#*% that is starting to learn about 3D development and art lines. But that's going to save you SO much time, and give you much better tools to work with.<br><br>Here's a practical suggestion:<br>Install minib3d and take a look through the tutorials, you don't need to understand it all, just have a look to get familiar with how the syntax looks.<br>Using the tutorial that you find most comfortable to start from try making bunch of cubes at different positions and moving around them with keyboard controls of the camera.<br>That's most of what you're going to need to clone a doom game right there...<br>Specifics to look up in the help documentation for minib3d or blitz3d (same documentation really)<br>CreateCube<br>CreateCamera<br>CreateLight<br>MoveEntity<br>PositionEntity<br>TurnEntity<br>RotateEntity<br><br><br>It sounds like your biggest problem is the asset generation, specifically the map. And it sounds like you're hinting that you want to be able to do vertex based creation of the mesh without using a modeling suite (I can understand they're all quagmires). You're going to need to read up on the documentation regarding surfaces and vertices as well as meshes in general if you really want to go this route. You will need to spin your own map editor which is really just a mesh editor, which if you haven't guessed by the complexity of any modeling program, is probably not going to be all that easy...<br>I would take steps to get to this level:<br>Start with the above example of a world of cubes you can move around. Try to create an editor that can just place cubes. You can then expand that to create scaled cubes (ScaleMesh and ScaleEntity), add textures (LoadTexture and EntityTexture), and load/save your placements. It's not doom and it has a MineCraft feel to it but that's a basic level editor and you haven't touched a vertex yet.<br><br>Following that if you're still insistant that you can't find a modeling program you're comfortable with then its time to look into creating your own mesh from scratch. You will need to make friends with most of <a href="/b3ddocs/command_list_3d_cat.php?show=Surface" target="_blank">http://www.blitzbasic.com/b3ddocs/command_list_3d_cat.php?show=Surface</a>. Start out just trying to build a triangle, then a square (I would recommend a keyboard action to spin the mesh you're building, you're bound to get some normals reversed for a while so you will need to see it from the back). add a texture to the square. If you get that far you have all the basics you need to make a whole level it's just how you apply them...<br><br>P.S. the minib3d forum can help you through anything that may confuse... I had tried learning 3D things for years until I stumbled on minib3d and now I'm porting the engine itself to android... it's a doable thing to pick up with a little help.<br><br><font class="tiny">Last edited 2010</font> <br><br></td></tr></table><br>
<a name="1059765"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >thalamus</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Where's the harm in helping Madk with a Doom-esque engine? Yes, it's easier to make a game in 3D, but there's no harm whatsoever in grounding yourself in old programming techniques. And who knows, the project's success or failure may push him forwards into other things, including real 3D. <br><br></td></tr></table><br>
<a name="1059774"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Good raycasting engine tutorial here:<br><a href="http://www.permadi.com/tutorial/raycast/index.html" target="_blank">http://www.permadi.com/tutorial/raycast/index.html</a> <br><br></td></tr></table><br>
<a name="1059789"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Re: thalmus<br>Nothing wrong with trying it that way, but when there's a clearly "better" (always opinion, but basically agreed on here as he has a clear intent, and it's to make something, not learn the ins and outs of technique...) alternative it should be stressed.<br><br>I for one would love to know more about writing a raycaster from scratch, but if I wanted to just make a game I wouldn't start there. That's a technical exercise (a very interesting one, but still an exercise).<br><br>re: Vorderman<br>Excellent link! breaks the concepts down nicely, can't wait to find the time to digest it <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
