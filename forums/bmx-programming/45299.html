<!DOCTYPE html><html lang="en" ><head ><title >ARGB to red green and blue</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >ARGB to red green and blue</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >ARGB to red green and blue</a><br><br>
<a name="503742"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> How on earth does this work? I've tried loads of variations with bitshifting and masks and it always produces either 0 or 255.<br><br>Can anyone give me a simple example that reads a pixel from an image and returns the red,green, blue and alpha components from the argb value?<br><br>thanks<br>James <br><br></td></tr></table><br>
<a name="503746"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> alpha = argb &amp; $FF000000<br>red = argb &amp; $00FF000000<br>green = argb &amp;0000FF00<br>blue = argb &amp;$000000FF <br><br></td></tr></table><br>
<a name="503765"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> To get values 0-255<br><br>alpha=(argb shr 24) &amp; $FF<br>red=(argb shr 16) &amp; $FF<br>green=(argb shr 8) &amp; $FF<br>blue=argb &amp; $FF <br><br></td></tr></table><br>
<a name="503775"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eric</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK now that we are on this topic, I've always been too imbarrassed to ask this question... Can you go a little further and tell me how those formulae work.<br><br>Regards,<br>Eric <br><br></td></tr></table><br>
<a name="503778"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> It shifts the bits to right with the given amount of steps.<br><br>A 32bit color is an int. Its size is 4bytes. Every byte represents the information for 1 color (8 bits normally)<br><br>to get the value of every color, you have either to shift it or straight bitfilter it instead of doing 2 operations for 1 job. (in Blitz3D it was needed to do shr etc as you didn't have real hex to straight bitfilter it) <br><br></td></tr></table><br>
<a name="503804"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> ? &amp; in Max is different to bitwise and in B3D? <br>Can you explain the difference a bit more. <br><br></td></tr></table><br>
<a name="503809"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks - Falken's solution works, but I couldn't get Dreamora's solution to work. <br><br></td></tr></table><br>
<a name="503817"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> and is only logical operator in blitzmax while &amp; is bitwise operator.<br><br>Vorderman: sorry had an 00 too much in the red line.<br>This one should work:<br><br>alpha = argb &amp; $FF000000<br>red = argb &amp; $00FF0000<br>green = argb &amp;0000FF00<br>blue = argb &amp;$000000FF<br><br>( the shr does nothing else than that. It just shifts the stuff to right to "kill" the 0s ... so it is an operation that is not needed if you know the exact bit length ) <br><br></td></tr></table><br>
<a name="503993"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm, nope that still doesn't work - I get numbers like this -<br><br><pre class=code>
x:44,z:55   r:6553600  g:25600  b:100  a:-16777216
x:45,z:55   r:3407872  g:13312  b:52  a:-16777216
x:46,z:55   r:589824  g:2304  b:9  a:-16777216
</pre><br><br>the bitshifting solution does work though, producing this -<br><pre class=code>
x:44,z:55   r:100  g:100  b:100  a:255
x:45,z:55   r:52  g:52  b:52  a:255
x:46,z:55   r:9  g:9  b:9  a:255
</pre><br><br>It's reading from a greyscale image, so r,g and b should all be the same, and I've checked pixels in the image and they match these numbers.<br><br>So, there must be some difference in the way the bitshift works, or in the way the bitmask is applied. <br><br></td></tr></table><br>
<a name="504013"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> So, there must be some difference in the way the bitshift works, or in the way the bitmask is applied. <br></div>No. It's doing the same thing. Observe:<br><br>Value 255,255,255,255 in Hex: $FFFFFFFF<br><br>What Dreamora does is filter out the information he doesn't need. However he does not shift (binary division) the results to give "human friendly" numbers (Least Significant Byte position). You can do this by shifting later.<br><br>Hex: $FFFFFFFF<br>AND: $00FF0000 ' &lt; Filtering out the red component.<br>SHL: $000000FF ' &lt; Making the red component "least significant byte".<br><br>What Falken does is generally considered slightly more elegant. He starts by shifting to the value he wants to the LSB, and then eliminates unwanted data (everything that isn't the LSB, since he only wants a byte value returned).<br><br>Hex: $FFFFFFFF<br>SHL: $0000FFFF ' &lt; Making the red component "LSB".<br>AND: $000000FF ' &lt; Filtering out the red component. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
