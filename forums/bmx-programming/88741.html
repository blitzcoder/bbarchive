<!DOCTYPE html><html lang="en" ><head ><title >Weird Undandled Exception in Select block</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Weird Undandled Exception in Select block</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Weird Undandled Exception in Select block</a><br><br>
<a name="1007632"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >christian223</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have a weird error happening in the begining of a Select block. <br><br>Check the code bellow, the compiler says the variable "Sprite" is Null, but the debugger says it is not, it actually has something there, the print command agrees, but when I try to compile it throws me this "RUNTIME ERROR:Attempt to access field or method of Null object" error at the where the Select is. <br><br>Why would this happen???, I'm clueless on how to fix this...<br><br>This is the code of where this happens:<br><br><pre class=code>
For Local Sprite:Object = EachIn Collisiones
		
			If Not Sprite Then Print "NULL SPRITE" Else Print "SPRITE EXISTS!"
		        'in the console, this is what it prints: "SPRITE EXISTS!"
			
			Select (Sprite) 'Unhandled Exception:Attempt to access field or method of Null object
</pre> <br><br></td></tr></table><br>
<a name="1007643"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_JIM</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've encountered this once before. I remember I was using some pointers near that code and when I chose a different approach (without pointers) the error was gone. If you're using pointers anywhere, try commenting that and give it a go. <br><br></td></tr></table><br>
<a name="1007644"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does it work if your structure your code differently?<br><pre class=code>For Local Sprite:Object = EachIn Collisiones
	
	If Not Sprite
		Print "NULL SPRITE"
	Else
		Print "SPRITE EXISTS!"
		Select Sprite
		...whatever
	EndIf
Next</pre> <br><br></td></tr></table><br>
<a name="1007648"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >christian223</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks both. I am not using pointers near that, so I don't think that's it.<br><br>I changed the structure as suggested and the problem remains.<br><br>Any more ideas?. <br><br></td></tr></table><br>
<a name="1007651"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> There was some issue a while ago with putting null objects into lists.  Basically you were allowed to do it, but you'd get all manner of problems when trying to access the list that contains it.<br><br>Have you accidentally put any null objects in there?<br><br>Failing that, what type of object are you putting into the list?  Are the actually Objects?  Or a custom type?  If so then try changing the definition of Sprite (i.e. something other than Object). <br><br></td></tr></table><br>
<a name="1007654"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jsp</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm using the Select statement with my base type and then doing a case for any subtype and it works well.<br>The only difference I see is that you use the :Object and I wonder if that makes a problem. Could you use another type just for testing?<br>I assume there are a lot different types in your Collisiones... <br><br></td></tr></table><br>
<a name="1007659"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >christian223</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Collisiones is an array, not a list, and in the debugger it says it contains 1 instance, so it is not empty.<br><br>I also changed Sprite to another type (custom type "T_objeto") and the problem remains exactly the same.<br><br>The other thing that might help mention is that Collisiones is an array given by CollideImage(), that's why I used Object for Sprite.<br><br>Thanks a lot for your suggestions so far. <br><br></td></tr></table><br>
<a name="1007660"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  Collisiones is an array <br></div><br>Well, there you are then...<br><br>Entries in the array can be null... this would be a problem were you to iterate the array and assume they are not null. <br><br></td></tr></table><br>
<a name="1007672"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_JIM</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> No, what he means is that on one line of code, the test returns a "not null" and on the following it is null. This is probably the work of the GC doing it's thing in the middle of the loops or something. <br><br></td></tr></table><br>
<a name="1007678"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you have a reference to something, it won't mysteriously disappear. <br><br></td></tr></table><br>
<a name="1007679"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> This is probably the work of the GC doing it's thing in the middle of the loops or something.<br> <br></div><br>If the garbage collector did that sort of thing, it would be hideously broken and not fit for purpose. It may have it's faults, but I've certainly not seen any evidence that it's either of those things. <br><br></td></tr></table><br>
<a name="1007692"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >christian223</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> It is not actually Null, that's the weird thing. The debugger says that both the variable Sprite and the array hold the same instance, but the compiler says that Sprite is Null, but there is nothing null in reality, the compiler goes blind or something. <br><br></td></tr></table><br>
<a name="1007698"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> the compiler won't go blind but perhaps you have some side effect thats working against you <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
