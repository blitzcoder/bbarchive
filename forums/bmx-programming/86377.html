<!DOCTYPE html><html lang="en" ><head ><title >Object handle and reference</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Object handle and reference</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Object handle and reference</a><br><br>
<a name="979237"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zambani</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi everyone. 2 Questions<br>1)What's the difference between  an Object handle and reference.<br><br>2)What's the best way to remove an image(Timage/pixmap) or sound from memory.<br><br>It seems like nulling the image is not the way to do it.<br><br>Example:<br>pix = loadimage("picture.jpg")<br>pix2=pix<br><br>How do i totally remove picture.jpg from memory?<br><br>Thanks for all your help. <br><br></td></tr></table><br>
<a name="979238"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Don't know the first answer.<br><br><div class="quote"> 2)What's the best way to remove an image(Timage/pixmap) or sound from memory.<br><br>It seems like nulling the image is not the way to do it.<br><br>Example:<br>pix = loadimage("picture.jpg")<br>pix2=pix<br><br>How do i totally remove picture.jpg from memory? <br></div>Nulling is exactly the way to do it.<br><br>In the example above, you have two references to the same image.  You must null them both, after which the garbage collector will clean up and the image will be no more. <br><br></td></tr></table><br>
<a name="979239"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zambani</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh, ok<br>I thought you had to do some additional work to really get rid of it from memory.  Does that also work for Tsound. <br><br></td></tr></table><br>
<a name="979240"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> 1. Semantics. People use them interchangeably around here, so I would urge caution when assuming what people mean but generally speaking, a handle means an integer index number which refers to an object, whereas a reference would be an actual object, passed by reference.<br><br>Therefore:<br><br><pre class=code>
Pix=LoadImage("picture.jpg")
</pre><br><br>Is an integer handle, because you don't specify a datatype, so you must not be using the Strict or SuperStrict compiler directives. Tip: Use SuperStrict<br><br>A reference would be<br><br><pre class=code>
Local Pix:TImage=TImage.Load("picture.jpg")
</pre><br><br>2. I don't really understand question 2. You're just declaring a new variable and storing the handle there too. That's not nulling anything - quite the opposite - so I'm not sure why you say that nulling the variable is not the way to go.<br><br>In general, if you haven't stored the image anywhere else, you don't need to do anything. When pix and pix2 go out of scope the image will be collected. You can null if you want to, but there's no need. If you store objects in lists or whatever then you need to remove them from that location. <br><br></td></tr></table><br>
<a name="979246"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zambani</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Gabriel. Agree about superstrict. I only use superstrict. Was just lazy to type the type.<br>I may have gotten confused by the use of RELEASE that I thought is required to remove integer handles.<br><br>@Gabriel and @GfK<br>Thanks a lot for clarify this up for me. <br><br></td></tr></table><br>
<a name="979252"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I may have gotten confused by the use of RELEASE that I thought is required to remove integer handles. <br></div>Release is required to remove integer handles.  Otherwise, any object that has an integer handle will exist forever. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
