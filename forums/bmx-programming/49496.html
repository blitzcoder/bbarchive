<!DOCTYPE html><html lang="en" ><head ><title >Following Blobs</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Following Blobs</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Following Blobs</a><br><br>
<a name="550528"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jamesmintram</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi everyone,<br><br>I have been trying to write an algorithm that will follow and keep track of blobs on a set of images<br><br>[img]http://www.mintratech.co.uk/example.png[/img]<br><br>As you can see below over the frames the red and blue balls rotate - now I want to be able to follow those over each frame and record a position for each frame. In the program I will be using this there will only be one blob to follow of one particular colour.<br><br>Wondering if anyone can help? <br><br></td></tr></table><br>
<a name="550537"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm making a few assumptions here:<br><br>1.  The blob will be a constant size, shape and colour across the frames<br>2.  The background image is arbitrary<br><br>Grab a rectangular image of the blob, so you have a reference image to work with, then in pseudocode:<br><br><pre class=code>
for &lt;each frame in the image&gt;
   for &lt;each possible rectangle in the frame of the same size as the ref. image&gt;
     &lt;compare each pixel in the rect against the corresponding pixel in the reference image.  
      Assign low scores for close matches in terms of colour, and high scores when the colours do not match&gt;

     &lt;if the total score for this rectangle is lower than the current lowest score, then store the co-ords of this rectangle&gt;
   next

   &lt;Add current rect co-ords (which is the rect most closely matching the blob) to a TList&gt;
  
next
</pre><br><br>When the loop is finished, you should have the coordinates of the part of the image that most closely resembles the blob.  If the blob is circular, then you will want to assign a higher weighting on the pixels in the centre of each rectangle.<br>If speed is an issue then begin the scan near the location of the blob in the previous frame and stop searching when a sufficiently low score is reached. <br><br></td></tr></table><br>
<a name="550580"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jamesmintram</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thats great - thanks !! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
