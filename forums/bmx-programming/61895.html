<!DOCTYPE html><html lang="en" ><head ><title >Math: Returning X,Y which is 150pixels @45degrees</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Math: Returning X,Y which is 150pixels @45degrees</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Math: Returning X,Y which is 150pixels @45degrees</a><br><br>
<a name="691661"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pappavis</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi all<br><br>I'd like to know how to calculate the X, Y endpoint value which is nn-degrees from your current X,Y:<br><br>StartX=140<br>StartY=340<br>TargetAngle: 136 degrees.<br>DistanceToShoot: 235 pixels.<br>using a circle a<br><br>What will the X, Y value be?<br>TIA! <br><br></td></tr></table><br>
<a name="691722"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Fetze</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is that what you need?<br><br>TargetX = Sin(TargetAngle) * TargetDistance<br>TargetY = -Cos(TargetAngle) * TargetDistance <br><br></td></tr></table><br>
<a name="691771"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Fetze:<br>You have that backwards.  Might work, but this is the more traditional formula:<br><br>X# = Radius# * Cos(Angle#)<br>Y# = Radius# * Sin(Angle#)<br><br>With that, angle 0 = right and angle 90 = down.  So it goes clockwise from 3 o' clock.<br><br>Unless you're doing 2D graphics in which case the Y axis is inverted, (positive is down instead of up) and so it goes counterclockwise instead.  <br><br>Or maybe I have that backwards.  I think I might.  Maybe it goes clockwise in 2D and counterclockwise in 3D....  Yeah I think that's what it does.  So 90 would be straight up. <br><br></td></tr></table><br>
<a name="691774"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think yours is backward sswift, I would call 0 right and 90 up. and workit anti clockwise<br><br>Each to their own i suppose <br><br></td></tr></table><br>
<a name="691826"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> On a 2D screen, 90 degrees will point down because the Y axis is inverted from standard euler coordinates.  When dealing with 3D though, 90 degrees will point up.<br><br>So if X = 50 and Y = 50 and you wanted to travel 100 pixels at a 45 degree angle, you'd end up at X = 121 and y = 121 (after rounding) which is below and to the right of the previous position. <br><br></td></tr></table><br>
<a name="691891"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Fetze</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> @sswift<br>It works. Maybe not like you want your angle, but it works ^^<br><br>0° --&gt; up<br>90° --&gt; right<br>180° --&gt; down<br>270 --&gt; left<br><br>(On screen) <br><br></td></tr></table><br>
<a name="691913"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SculptureOfSoul</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> For the most part, any combination of sin and cosine will work - it's just that the information you get will be relative to the method you use to get it. <br><br>On the other hand, I'm sure there is a recommended standard. I'm assuming that cosine is used for the horizontal factor and sin for the vertical? <br><br></td></tr></table><br>
<a name="691914"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pappavis</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> BTW, i am doing this  in 2D from a "top-down" view, no fancy physics or such stuff.<br><br>TIA to everyone who contributes.  BTW, isnt there in the Maths forum about the problem? <br><br></td></tr></table><br>
<a name="691921"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> pappavis, hasn't Fetze answered this? <br>Did the suggestion work? That's what I would use. <br><br></td></tr></table><br>
<a name="691923"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Fetze:  Yes, it works that way, but try converting an x,y value to an angle and rotation.  The function Atan2(y,x) assumes you're using standard cartesian and polar coordinate systems inverted on the Y axis, which would be 0 right and 90 down.  For consistency sake, it is best to use the same throughout.<br>So from polar to cartesian"<br><pre class=code>
X = Cos(Angle#)*Distance#
Y = Sin(Angle#)*Distance#
</pre><br>and from cartesian to polar<br><pre class=code>
Angle# = Atan2(Y,X) 'Note that Y comes first
Distance# = Sqr(X*X+Y*Y)
</pre> <br><br></td></tr></table><br>
<a name="693212"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pappavis</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks to all who contributed to my question.  The following code was the endresult..  Dont mind the c#-style comments.<br><br>Look at the function GetXYforTargetAtAngle() down below in the code.<br><br><br><pre class=code>
Type clsLijn
    '/// &lt;summary&gt;
    '/// Berken x/y koordinate van 'n doel, starten met jou huidige X/Y.
    '/// &lt;/summary&gt;
    '/// &lt;param name="StartX"&gt;Die gradehoek waarheen jy wil skiet&lt;/param&gt;
    '/// &lt;param name="StartY"&gt;&lt;/param&gt;
    '/// &lt;param name="intDistance"&gt;&lt;/param&gt;
    '/// &lt;param name="dblTargetAngle"&gt;&lt;/param&gt;
    '/// &lt;returns&gt;een objek met x, y koordinaaten&lt;/returns&gt;
	Function GetXYforTargetAtAngle:clsLijnPos(StartX:Int, StartY:Int, intDistance:Int, dblTargetAngle:Int)
	
		Local objXY1:clsLijnPos = New clsLijnPos;
		objXY1 = clsLijnPos.Create();
		
		'//normailseer die gradehoek, met cos en tan word die gradehoek oomgebuigd.
		'//dblTargetAngle:-45;
		
		If(dblTargetAngle &lt; 45)
		EndIf
		
		Local dblRadians:Double = Self.GetNormaliseerNaarWareNoord(dblTargetAngle);	'// normailseer naar ware noord in dit geval
		Local dblX:Int = StartX + Int(intDistance * Sin(dblRadians * (Pi / 180)));
		Local dblY:Int = StartY + Int(intDistance * Cos(dblRadians * (Pi / 180)));
		
		objXY1.x = dblX;
		objXY1.y = dblY;
		
		Return objXY1;
	End Function
EndType

Type clsLijnPos
	Field x:Int;
	Field y:Int;
	Field IsNegativeSlope:Byte;
	
	Function Create:clsLijnPos()
		Local objLPos1:clsLijnPos = New clsLijnPos;
		objLPos1.x = 0;
		objLPos1.y = 0;
		objLPos1.IsNegativeSlope = False;
		
		Return objLPos1;
	End Function

	Function GetNormaliseerNaarWareNoord:Double(dblTargetAngle:Int)

		Local dblRadians:Double = 0;

		Try
			dblRadians = (dblTargetAngle - 360) * (Pi / 180);	'// normailseer naar ware noord in dit geval
		Catch Err1:Object
			Throw(Err1.ToString());
		EndTry
		
		Return dblRadians;
		
	EndFunction
EndType

</pre> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
