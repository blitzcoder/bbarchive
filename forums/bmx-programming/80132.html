<!DOCTYPE html><html lang="en" ><head ><title >Clickable interface</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Clickable interface</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Clickable interface</a><br><br>
<a name="900485"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does anybody know the the best way to add a clickable interface to a game (without maxgui) eg bitmap buttons to click on. My old way had each button object knowing its coordinates and when the mouse was clicked it would go through each button and check to see if it had been clicked. The main problem with this, of course, is that the more buttons you add, the longer it takes.<br><br>My new idea is to have a 2d array the size of the screen, so each pixel references a button object to execute (or no button). This means it will take the same amount of time to click a button, and will also allow irregular shaped buttons, but use more memory.<br><br>Any other ideas? <br><br></td></tr></table><br>
<a name="900488"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You should be using the collision system for this. <br><br></td></tr></table><br>
<a name="900490"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> How many buttons are you going to have that a simple bounding square test is going to become speed prohibitive? I'm sure you could manage a few hundred without restricting performance, even on the most demanding of games. Seems like you're overthinking this unless there's more to this than meets the eye.<br><br>I mean even if you have your array, you'll never be able to have overlapping items, which might well be a problem if you decide to build your GUI up into something more advanced. <br><br></td></tr></table><br>
<a name="900493"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> How can I use the collision system? Believe it or not, I've never used Blitz collisions before :( I've never needed a pixel-perfect game before I just used a world-map array<br><br><br>I'm making a strategy game, so there'll need to be clicks to menu and dialog buttons, minimap clicks, clicks on things in the game world etc. <br><br></td></tr></table><br>
<a name="900494"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Blitzmax has collision layers.  You can put your menu/gui on one layer, minimap on another layer, game stuff on another, and so on.<br><br>I'll be the first to admit that Blitzmax's collision system takes a little getting used to, and I'd also recommend reading <a href="http://www.2dgamecreators.com/tutorials/gameprogramming/collision/T1%20Collision2.html" target="_blank">this</a>, as it explains everything you need. <br><br></td></tr></table><br>
<a name="900498"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >deps</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I agree that you will most likely not have so many buttons that it will hurt the performance.<br>Don't optimize yet. Finish the game first. <br><br></td></tr></table><br>
<a name="900502"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> At first I thought, it won't affect performance just testing a load of rectangles (you could test thousands).  Then I read again and as you were talking about testing every pixel it sounded like you wanted to make pixel-perfect collision detection with odd shaped buttons. If that's the case, definitely use collision detection - if not, just stick with bounding rectangles, it's really not slow at all... <br><br></td></tr></table><br>
<a name="900539"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Even if you are using pixel perfect collision, you only ever need to do it once or twice. If you're not overlapping ( you can't be if you're considering using an array to map the pixels to the buttons ) then the mouse can only possibly be within the bounding rectangle of a couple of buttons, so you can eliminate all the other tests with a bounding rectangle and then use a pixel-perfect test for the one or two you're left with. <br><br></td></tr></table><br>
<a name="900553"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am designing a graphical interface in a tile map editor I am working on. I have been redesigning it over and over based on the problems I am running in. So far, I have buttons, sliders and lists some what figured out. <br>Basically I have a mouse handling routines with routines for bounding box, double click, three different states for mouse button conditions(activated, inuse and released) and mouse speed as well as wheel speed. I use a type for handling dragging of objects. I posted the mouse handling type in the code archives <a href="/codearcs.php?code=2286" target="_blank"> here</a>. I have modified it for personal use somewhat sence posting it but the basics are the same.<br>You can try my work in progress from the link in my signature under map_maze folder. The save part doesn't work yet as I have not fully integrated it but if you press "l" you can see a pop up window that can be dragged by holding the left mouse button on the top of the window.<br><br>[edited]<br><br>the most significant part is the "activated" part of the mouse control. it checks the bounding box when it is activated only, which locks the "graphical button" down until the mouse button is released. so even if you exit the button, it remains locked down until the mouse button is released and will not check anyother "graphical button" until it is "activated" again.<br><br>if you are looking for pixel perfect collition it is still best to do a bounding box check first.<br>[/edited] <br><br></td></tr></table><br>
<a name="900583"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >iprice</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm currently working on a map editing system for a CastleVania game being created by someone else (although it can be used for any game).<br><br>Everything is homegrown and is very much a WIP, but it uses a Windows GUI style interface, including buttons and icons etc. I haven't used <b>any</b> GUI modules at all.<br><br><a href="http://www.iprice.remakes.org/stuff/MaxMapper.rar" target="_blank">http://www.iprice.remakes.org/stuff/MaxMapper.rar</a> (380Kb)<br><br>There are two example files (both in the tile folder). Please not that the second example uses a map and tiles from a BlitzBasic map app. <br><br>You don't have to use collisions or types for button presses, there are alternatives, without losing the speed. I use arrays for pretty much everything (although there are Types in there). It works for me. <br><br></td></tr></table><br>
<a name="900634"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MGE</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> IPrice - Is your map editor writting in Blitzmax? <br><br></td></tr></table><br>
<a name="900643"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yahfree</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> iprice<br>&gt;I haven't used any GUI modules at all<br><br>You actually did api calls in max to get the gui then?? I don't have the patients for that if I don't have to - thats why I hate plain C++. At least use wxMax or SOMETHING?!?! :) <br><br></td></tr></table><br>
<a name="900656"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >iprice</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> No API calls. No C. No .DLLs. No external files.<br><br>There's nothing in the code other than standard BlitzMax commands. :)<br><br>[EDIT] With the exception of a standard function for Minimizing the screen, which is available on these forums. <br><br></td></tr></table><br>
<a name="900660"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MGE</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> iprice - So you're using standard drawimage and other graphics commands to render the interface each loop? Can you make a full screen mode version? Does it run in OpenGL and DirectX? You have me curious as hell now! :) <br><br></td></tr></table><br>
<a name="900663"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >iprice</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> TBH - I've not tried in openGL. It's been written for Windows, so I just used DirectX.<br><br>A full screen version isn't possible, as the FileSelector doesn't appear in full screen mode :( <br><br></td></tr></table><br>
<a name="900666"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MGE</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> So...is it a full graphic interface with a render loop, flip command, etc? <br><br></td></tr></table><br>
<a name="900676"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the ideas. I've been thinking, what exactly can MaxGUI do? I knwo it can make windowy-apps but can it be used for "game" interfaces if you know what I mean.. I might buy it if it saves me some time and headaches.. <br><br></td></tr></table><br>
<a name="900677"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why don't you take a look to FryGui or iGlass? <br><br></td></tr></table><br>
<a name="900679"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would like to but I don't know how to use things like that - I've always just done things on my own before. <br><br></td></tr></table><br>
<a name="900686"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Jake's framework covers this to some degree. IGlass and FryGui are both as easy to use as MaxGui (which I wouldn't use for a game interface). <br>If you want to do it yourself then  I would either go for the Collision Layer for GUI suggestion or by the rect collision test and then an ImagesCollide on buttons close enough to count. <br><br></td></tr></table><br>
<a name="900690"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> @MGE<br>Mine is.<br>@iprice<br>for the record, it is true, you don't have to use types but they shure make it so much more easier to program at least for me they do.<br>I like your TME it is so much like mines set aside the gui. It includes most of the options I have and going to include in it. althoug I am going to make it adjust to the different tile sizes per window upto 128x128, odd tile sizes in base 2 such as 32x128,64x32 etc. I will include a home grown gui window at the beginning somewhat like yours.  <br><br>good work iprice, I would like to see the finished product. <br><br>as for mine I am doing verrrrry slooooow progress as I only have time during my free time which is almost none. My work in progress will always be posted at the same place. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
