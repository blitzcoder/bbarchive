<!DOCTYPE html><html lang="en" ><head ><title >Grey Alien Framework Tip!</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Grey Alien Framework Tip!</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Grey Alien Framework Tip!</a><br><br>
<a name="1026055"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ive just spent a good hour trying to fix very simple bug :(<br><br>Im writing my new game using GAs latest version v1.11 (first time Ive used this version - Ive been using v1.09) and I was copying the common stuff across, I added the gamescreen with an IntroAnim and OutroAnim...<br><br><pre class=code>
IntroAnim = TAnimation.Create(750, False)
OutroAnim = TAnimation.Create(1500, True)
</pre><br><br>Played my game, IntroAnim works fine... but OutroAnim now doesnt keep on the screen... wtf?<br><br>Finally(!) found out that in GAF v1.11, the TAnimation.Clear() now clears more stuff including the LeaveActive flag and since I was doing this:<br><br><pre class=code>
	Method Start()
		Super.Start()
		LevelStart()
		.......
	End Method

	Method LevelStart()
		ClearCounters()
		.......
	End Method

	Method ClearCounters()
		'for safety
		If IntroAnim &lt;&gt; Null Then
			IntroAnim.Clear()
		EndIf
		OutroAnim.Clear()
	End Method
</pre><br><br>It was clearing out the LeaveActive flag every time the game starts.....<br><br>So heres my tip... dont clear your animations at the start of your game ;P <br><br></td></tr></table><br>
<a name="1026512"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay... what have I done wrong now???<br><br>For some reason when quitting and music playing, the music fades out but just as the screen quits you can hear the music play again...<br><br>Does anyone who uses GAF v1.11 experience this? <br><br></td></tr></table><br>
<a name="1026600"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >InvisibleKid</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> i just tested a couple of my projects from both the ide, and the exe itself. and everything seems fine to me ( music fades, then game ends ).<br><br>sn:<br>although pretty sure not related but just incase.<br><br>i'm using the older fullaccess.cpp because i have an older ver of MinGW installed and for the life of me can't find a dl for ver. 3.4.5, every link i find is for 5.xxxx.<br><br>again pretty sure not related but just incase. <br><br></td></tr></table><br>
<a name="1026605"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> i'm using the older fullaccess.cpp because i have an older ver of MinGW installed and for the life of me can't find a dl for ver. 3.4.5, every link i find is for 5.xxxx. <br></div><br>The 'new' version of fullaccess.cpp (as in <a href="/posts.php?topic=90125#1024649" target="_blank">this</a> post) compiles fine for me with MinGW 5.1.6. <br><br></td></tr></table><br>
<a name="1026608"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >InvisibleKid</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> hmmm, ok then... i could have sworen i read something quite awhile back that any ver past 3.4.5 didn't work right with bmax or there was some kinda problem. thanks for letting me know otherwise. <br><br></td></tr></table><br>
<a name="1026610"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> For some reason when quitting and music playing, the music fades out but just as the screen quits you can hear the music play again... <br></div>I have some kind of screen fade bug noted that happens in a specific (rare) situation, I'll look it up.  Ping me on the Framework Forum if I forget (I'm not at PC right now). <br><br></td></tr></table><br>
<a name="1026694"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> (rare)  <br></div><br><br>Seems to be not that rare for me :(<br><br>Ive gone thru my code and yours, added heaps of debug statements and I still cant find it... the setVolume goes to zero... I hate bugs like this... also Im spending far too much time on it and not getting my game done :(<br><br><div class="quote"> Ping me on the Framework Forum if I forget <br></div><br>I was going to post this on there, but the forum is dead quiet, so I thought I would have a better chance here ;) <br><br></td></tr></table><br>
<a name="1026728"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I checked my notes by the only sound bug I have is to do with turning music on and off with the debug key.  Have you tried a different sound driver?  Is it present on the Mac?  Or even an older version of Blitz? <br><br></td></tr></table><br>
<a name="1027151"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> @therevills, I've just returned to use the latest update in the last day. All is not lost.... <br><br></td></tr></table><br>
<a name="1027823"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ive just changed AOTMG to be able to compile on GAF v1.11 and I still get this sound issue.<br><br><a href="http://sites.google.com/site/therevillsgames/blitz/V111AOTMG.zip" target="_blank">http://sites.google.com/site/therevillsgames/blitz/V111AOTMG.zip</a><br><br>If I change sound drivers I get no sound at all - running Windows 7. <br><br>Havent tried it yet on my Mac yet...<br><br>What version BlitzMax are you using Jake?<br><br>[Edit: Just tested on the Mac using BlitzMax 1.39 and GAF v1.11 and it seems fine - something must be wrong with the OpenAL driver Ive got installed on the Win7 box] <br><br></td></tr></table><br>
<a name="1027974"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> weird.  shouldn't direct sound work on windows 7?  And should freesound work too (probably with a delay like in Vista)?  You know you have to change the driver and reload the game right? <br><br></td></tr></table><br>
<a name="1028068"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I did reload the game after changing the sound driver, but it defaulted straight back to OpenAL... I think because of this code in GAF:<br><br><pre class=code>
		?Win32	
		OSVersion = ccGetVersionString()
		'Change to OpenAL for Windows Vista (and 98/ME/2000) because it's more stable than FreeAudio.
		If OsVersion &lt;&gt; "Windows XP" Then
			SoundDriver = "OpenAL Generic Software" 'this one has a software mixer that allows &gt;6 channels on crap cards.
			ChangeSoundDriver(SoundDriver, 0) 'this is a method of TGame (don't save IniChanged.dat)
		EndIf
		?
</pre><br><br>Yep Ive commented out this code and now can test the other sound drivers.... and I dont get this issue with FreeAudio or DirectSound.<br><br>[EDIT]<br><br>I think Ive found the issue... I just remembered while installing Penumbra it installed OpenAL and I started coding this game after that.<br><br>Ive just uninstalled OpenAL and tried my game - I couldnt select OpenAL for the sound driver... guess what I forgot to do when setting up my project...........<br><br>I didnt copy across the OpenAL32.dll or wrap_oal.dll to my project folder!!!!!!?!?!?!?!?! D'oh!!!!!!!!!!!!!!!!! <br><br></td></tr></table><br>
<a name="1028269"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Was just thinking you probably failed to do that so it was picking up a crappy old Windows version.  Well glad to know my framework still rocks ;-p <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
