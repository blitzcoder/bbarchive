<!DOCTYPE html><html lang="en" ><head ><title >Getting A Window's HWND as a Byte Ptr</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Getting A Window's HWND as a Byte Ptr</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Getting A Window's HWND as a Byte Ptr</a><br><br>
<a name="594241"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Query apppears to return an Integer, and I'm trying to pass the Window to another library, which requires the HWND to be a Byte Ptr. Clearly a pointer to the integer returned by Query isn't going to cut it, so is there any way to achieve this? <br><br></td></tr></table><br>
<a name="594246"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leiden</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would say not without using another external library that spits back the Integer hWnd as a Byte Ptr. I dont see why CreateWindowExA returns hWnd as an Int, It would be more logical to return something more useful such as hWnd in the Byte Ptr form. Authough, if you're desperate, you could just modify the Win32 module to do as you wish? <br><br></td></tr></table><br>
<a name="594247"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> greetings Gabriel.  been a while :)  hope all is well.  im assuming this is for 3Impact?  Int casts to Byte Ptr for the purposes of HWND.  plug this into the appropriate locations.  just tried this in the AlphaTexture demo and it ran fine.  <br><pre class=code>
Import BRL.Win32MaxGUI

Local window:TGadget=CreateWindow("test",100,100,640,480,Null,WINDOW_TITLEBAR | WINDOW_CLIENTCOORDS | WINDOW_HIDDEN)
i3ImpactOpen(Byte Ptr(Query(window,TGadget.BBQID_WIN32HWND)))
</pre><br>you can also try to put it in a panel if you want, similar to what im trying to do with the Irrlicht win32 example.  while the Irrlicht example works,  i have not been successful with 3Impact, getting the error DirectInput Initialization Failed (8).  i think 3Impact is trying to overtake the input and its having issues.  here is the code i was trying.  <br><pre class=code>
Local window:TGadget=CreateWindow("test",100,100,800,600,Null,WINDOW_TITLEBAR | WINDOW_CLIENTCOORDS | WINDOW_HIDDEN)

Local panel:TGadget=CreatePanel(50,80,640,480,window,PANEL_ACTIVE|PANEL_BORDER)

i3ImpactOpen(Byte Ptr(Query(panel,TGadget.BBQID_WIN32HWND)))
</pre><br>HTH <br><br></td></tr></table><br>
<a name="594255"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leiden</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ahh so he was referring to 3impact then, could have been more specific I guess. <br><br></td></tr></table><br>
<a name="594366"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Leiden - not sure, was just an assumption on my part...  but i decided to go ahead since the Byte Ptr to Int 3Impact example would apply across the board. <br><br></td></tr></table><br>
<a name="594384"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi GMan, thanks for that. Yep, it's for 3Impact. I didn't realize I could just recast an integer to a Byte Ptr, but it works perfectly. I was just about to begin work on a level editor in B3d, when I realized that I could probably get 3Impact and MaxGUI to cooperate well enough to have DX8 pixel shader graphics and native Win32 GUI in the same Window with BMax. And sure enough, I can. Thanks again. <br><br></td></tr></table><br>
<a name="594394"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Gabriel - were you able to get it to work passing a child control instead of the main form HWND? <br><br></td></tr></table><br>
<a name="594573"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry, I didn't try originally. I've played around with it, and no, I can't get it to accept a child control. As you say, 3Impact takes over input, like how pressing escape closes the Window by default. I guess that would be problem if it was attached to a child control instead of the window.<br><br>I haven't tried a canvas yet ( still can't figure out what mods the canvas wants imported, apparently MaxGUI and Max2d is not enough ) but I suspect the result would be the same. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
