<!DOCTYPE html><html lang="en" ><head ><title >Why not work???</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Why not work???</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Why not work???</a><br><br>
<a name="768263"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zenn Lee</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, here is a really simple test TCP network program I <br>wrote. It works between a LAN but not over the internet, why <br>not? Please help!!!<br><br>Sorry the code is pretty messy:)<br><br>SERVER------------------------------------------------------<br>Framework Pub.TNet_Basic<br><br>TNet_HostTCP(22233)<br>Print "Your IP: "+TNetHost.String_IP<br><br>While Not KeyDown( Key_Escape )<br> TNet_Update()<br>Wend<br><br>CLIENT------------------------------------------------------<br>'SET GRAPHICS<br>Graphics 300,200,0<br><br>DrawText "Connecting...",100,100<br>'JOIN GAME<br>TNet_JoinTCP( "192.168.xxx.xxx" , 22233 ) <br>SeedRnd MilliSecs()<br>Cls<br>DrawText "Connection Successful!",100,100<br>'GLOBALS<br>Global LocalX%,LocalY%<br>Global LocalName% = Rand(1,1000)<br><br>Global GlobalX,GlobalY,GlobalLive<br><br>'MAIN GAME LOOP<br>While Not KeyDown(Key_Escape)<br> TNet_DrawClientList()<br> TNet_Update()<br> MoveLocalChar()<br> DrawLocalChar()<br> GlobalCharDraw()<br> SendDataLocalChar()<br> Flip<br> Cls<br>Wend<br><br>'FUNCTIIONS<br>Function MoveLocalChar()<br> If KeyDown(KEY_UP) LocalY=LocalY-1<br> If KeyDown(KEY_DOWN) LocalY=LocalY+1<br> If KeyDown(KEY_RIGHT) LocalX=LocalX+1<br> If KeyDown(KEY_LEFT) LocalX=LocalX-1<br>End Function<br><br>Function DrawLocalChar()<br> DrawRect LocalX,LocalY,32,32<br>End Function<br><br>Function SendDataLocalChar()<br> TNet_SendTCP(5,","+LocalName+","+LocalX+","+LocalY+",")<br>End Function<br><br>Function GlobalCharDraw()<br> If TNet_Receive(5)<br>  Data2$ = TNetData<br>  loc_001 = Instr(Data2$,",")<br>  loc_002 = Instr(Data2$,",",loc_001 + 1)<br>  loc_003 = Instr(Data2$,",",loc_002 + 1)<br>  loc_004 = Instr(Data2$,",",loc_003 + 1)<br>  If Int(Mid(Data2$,loc_001 + 1,loc_002 - loc_001 - 1)) = LocalName<br>  Else<br>  GlobalY = Int(Mid(Data2$,loc_003 + 1,loc_004 - loc_003 - 1))<br>  GlobalX = Int(Mid(Data2$,loc_002 + 1,loc_003 - loc_002 - 1))<br>  End If<br> End If<br>  DrawRect GlobalX,GlobalY,32,32<br>End Function <br><br></td></tr></table><br>
<a name="768267"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bradford6</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> most people have 2 IP adresses.  a 'public' internet address (the Service provider-provided one) and a local LAN 'private' IP. the '192.168.x.x' address space is private. for use on LANS.<br><br>private address (192.168.x.x) is Translated by your router to a public address (62.3.5.x:12345-for example) . the :12345 represents the 'port'<br><br>if you want to connect over the internet, you need to know the destination 'public' IP address of your target.<br><br>hope that helps <br><br></td></tr></table><br>
<a name="768268"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zenn Lee</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh thanks so much Bill! This really, really, helps! You don't know how much time I spent messing around with this, trying to get it to work.<br><br>Thanks <br><br></td></tr></table><br>
<a name="768269"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bradford6</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> no problem, try this:<br><a href="http://www.showmyip.com/" target="_blank">http://www.showmyip.com/</a> <br><br></td></tr></table><br>
<a name="768270"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zenn Lee</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK, so it would be 68.60.xxx.xxx?<br>(I doesn't seem to work when I try to connect, hu?)<br>I'll let the server run, could you try and connect using <br>68.60.104.172. I'll leave it on for a few minutes)<br><br>Also, when I use TNetHost.String_IP it finds 192.168.0.100 not 68.60.xxx.xxx? <br><br></td></tr></table><br>
<a name="768273"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zenn Lee</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> TNet_JoinTCP(68.60.xxx.xxx,22233)<br>So like this^ <br><br></td></tr></table><br>
<a name="768275"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bradford6</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here is how it works:<br><br>your router has a pool of addresses(DHCP) or a static IP Address that is assigned to your PC.<br><br>192.168.0.100 &lt;PC&gt;----&lt;router&gt; 68.60.xxx.xxx-----&lt;&lt;The Internets&gt;&gt;----OtherPC-Public IP &lt;router&gt;----&lt;PC&gt; OtherPC-Private IP <br><br></td></tr></table><br>
<a name="768276"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bradford6</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> sorry, i do not have TNET installed in my system. I can't ping 68.60.104.172 though.  are you sure that is your public IP (it might just be that echo response is off so ping does not work...or firewall is preventing it)<br>anyway. good luck with this. It is past my bedtime... <br><br></td></tr></table><br>
<a name="768357"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I wouldn't go posting your IP around like that. <br><br></td></tr></table><br>
<a name="768399"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zenn Lee</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> "I wouldn't go posting your IP around like that."<br>Ha, you are right:)<br><br>Thanks a lot guys just wish I could get this thing working!<br>Wave is a cool guy and TNet is great, just wish he had more tutorials!!! <br><br></td></tr></table><br>
<a name="768400"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you're going through a router, you will need to configure your router to forward whatever port you're using. <br><br></td></tr></table><br>
<a name="768422"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bradford6</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Gabriel, true. <a href="http://portforward.com/routers.htm" target="_blank">http://portforward.com/routers.htm</a><br><br>Zenn,<br>TNET is no longer being dev'd. why not use GNET? <br><br></td></tr></table><br>
<a name="768454"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zenn Lee</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Might be a good idea, I'll look into it. Is it as simple for high level stuff as TNet? Oh ya, is there any tutorials? <br><br></td></tr></table><br>
<a name="768472"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bradford6</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> honestly, I have never really used GNET. but I will give it a whirl tonight... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
