<!DOCTYPE html><html lang="en" ><head ><title >Mappy and 1.10</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Mappy and 1.10</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Mappy and 1.10</a><br><br>
<a name="578970"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I had the Mappy module running OK a few months ago. <br>Tried it again tonight and all the examples produce a black screen. Tried with GL drivers but still no luck.<br>Anybody else use this mod? <br><br></td></tr></table><br>
<a name="579033"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> ill give it a check tomorrow morning to see whats up. <br><br></td></tr></table><br>
<a name="579103"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> i do see the problem you are having but could not find the reason in the limited time i had this morning.  if its  not found by the weekend i will take another look then.  my weeknights are pretty full this week :( <br><br></td></tr></table><br>
<a name="581535"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> gman, In mappy.bmx mapdrawbg there's a comment...<br><div class="quote"> make the blending solid (0) to replicate old DrawBlock function<br> <br></div><br>but no setblend solidblend statement. <br>If I add one (either in mappy.bmx or my program) the tiles show OK. I can't now get the mapdrawfg to show using maskblend. Also having problems with maskcolours but that should be easy to fix. <br>Not sure how/why this started as I am *sure* it was working OK.<br><br><br>&lt;edit&gt; Thought this might be a problem in maskimage method which needs to be changed to <br>[code]<br>img.frames[frame]=_max2ddriver.CreateFrameFromPixmap(pixmap,img.flags)<br>[/code}<br>(I think)  but the problem continue.<br>In some stuff I was doing with MaskPixmap I noticed that paste.pixmap wasn't using the masking colour.<br>CreateFrameFromPixmap uses Paste.Pixmap which does a memcopy. The memcopy doesn't respect masked pixels so everything is copied as is. <br>I *think* the maskpixmap needs to be added to BRL.D3D7Max2D and BRL.GLMax2D.<br>I tried it in the DX module, rebuilt but had the same problem. <br><br></td></tr></table><br>
<a name="582315"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> this is killing me.  i have tried to troubleshoot this off/on for the last couple days with no luck.  i would really like to get my hands on the mod directory from v1.09 so i could do a text comparison.  i checked the CVS version and it did not have the SetBlend command in there so i mustve removed it and not the comment.  although it does appear to help having it in there.  im wondering how much pixmaps changed between versions.  there was also DX support added in so it could be there as well. <br><br></td></tr></table><br>
<a name="582318"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would think the solidblend was a performance addition so cls not needed. Not being able to apply masking to the other layers is a pain and I'm pretty sure it's to do with createframefrompixmap using paste.pixmap using memcopy which does a block copy. I couldn't get this to work in some other code and ended up readpixelling and then memcopying into the pixmap created from the lockimage. I'll try some more stuff later if possible. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
