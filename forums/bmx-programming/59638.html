<!DOCTYPE html><html lang="en" ><head ><title >Max crashes after a while!</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Max crashes after a while!</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Max crashes after a while!</a><br><br>
<a name="664744"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Boiled Sweets</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've seen reports that Max crashes if left running for a while.  This seem to be the case as my MAX screen saver crashes after some hours.<br><br>WHY IS THIS?<br><br>WILL IT BE FIXED? <br><br></td></tr></table><br>
<a name="664829"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Space_guy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well. i certanly do hope it will be fixed. this bug really stopped all programming i did at work :( <br><br></td></tr></table><br>
<a name="664833"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Scott Shaver</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'd bet it has something to do with the garbage collection. <br><br></td></tr></table><br>
<a name="664846"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think it is a similiar issue to the herz problem ...<br>I posted something on that on the bug thread but no one ever reacted.<br><br>The GC code has a passage where it raises a variable over and over again, by 500 each time. This variable is never lowered ... and the problem is, that this happens in automatic mode, each time memory is allocated. -&gt; would be a potential crash reason as the number is used for other stuff so if it flips to -maxint ... you know what will happen. <br><br></td></tr></table><br>
<a name="664874"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >kenshin</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sounds like they need to cap that variable or do the Abs thing.  What variable are you referring to? <br><br></td></tr></table><br>
<a name="664876"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Boiled Sweets</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well this bug renders MAX useless for screen savers.<br><br>Why this product was ever released in this buggy state I'll never know but it must have put a LOT of poeple of, me included!<br><br>I'll go back to Blitz3d until this is a stable and 'finished' product <br><br></td></tr></table><br>
<a name="664889"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >kenshin</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I see it.  Look at this taken from blitz_gc.c<br><pre class=code>BBGCMem *bbGCAlloc( int sz,BBGCPool *pool ){
	if( (gc_mode &amp; 3)==1 ){
		static int alloced;
		static int rate=500;
		alloced+=sz;
		if( alloced&gt;(1024*1024) || buf_put-buf_base&gt;rate ){
			collectMem(0);
			rate+=500-gc_objsfreed;
			alloced=0;
		}
	}else if( (gc_mode &amp; 3)==3 ){
		collectMem(0);
	}
	BBGCMem *q=(BBGCMem*)bbGCMemAlloc( sz );
	q-&gt;pool=pool;
	q-&gt;refs=0;
	setMemBit( q );
	bbGCFree( q );
	return q;
}</pre> <br><br></td></tr></table><br>
<a name="664894"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Boiled Sweets</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> FIX IT BRL PLEASE <br><br></td></tr></table><br>
<a name="664944"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  FIX IT BRL PLEASE  <br></div>How? Wave a magic wand? This isn't Harry Potter.<br><br>If you want something fixed you're going to have to provide alot more than vague and ambigous directions and third party speculation.<br><br>For starters, how about a managable bit of sourcecode that reproduces the issue? How about a little more detail about the bug? How about posting it in the correct forum?<br><br>Personally my immediate thoughts are that it's an end-user issue. Why? Because we've had a BlitzMAX server running for weeks at a time, and it only crashed because of flaws in our logic. I'm not saying you haven't found a real bug, but the least you can do is prove it. <br><br></td></tr></table><br>
<a name="664968"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hambone</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can tell Flameduck is a "real" programmer.  <br><br>User has problem with software not working correctly.  Programmer says "prove it".  User says "How, I didn't write it and am not a developer."<br><br>Programmer says "You are not worthy, go away and stop bothering me."<br><br>User goes away and finds software that works as expected from a programmer who realizes users are not beta testers unless they specifically volunteer and then the SW is usually provided for free.<br><br>My two cents.<br><br>Allan <br><br></td></tr></table><br>
<a name="664969"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Boiled Sweets</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hambone,<br><br>I am both - a user and programmer so fully apprecaite your thoughts.<br><br>As I understood it there IS an existing *known* problem with MAX crashing after a peroid of time.<br><br>If you want me to prove that it happens, FlameDuck, run the 'safe' code of the screen saver framework for some hours...<br><br>Beyond that I have NO time to prove that MAX is not ready for public consumption -- all I know is it has a lot of problems and until sorted it is not usable. <br><br></td></tr></table><br>
<a name="665135"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm amazed that nobody on the BRL test team spotted this.  All you have to do is leave a program running overnight and see what happens - standard practice in the games industry.<br><br><div class="quote"> For starters, how about a managable bit of sourcecode that reproduces the issue? How about a little more detail about the bug? <br></div>Eikon has posted code in another thread which reproduces the error.  That thread is now in the <a href="/posts.php?topic=58786#654716" target="_blank">bugbin</a>, amid claims from Mark that he's fixed it (when in reality it seems cause remains but the effect has changed).  I guess he didn't think that actually testing it out was a wise use of his time and resources, either.<br><br><div class="quote"> Beyond that I have NO time to prove that MAX is not ready for public consumption -- all I know is it has a lot of problems and until sorted it is not usable. <br></div>Perhaps a little harsh, but as bugs go, this one is just about as bad as they get. <br><br></td></tr></table><br>
<a name="665182"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Gfk, that thread you point to describes a problem where Flip no longer syncs properly when left running for a while.<br>The problem BoiledSweets is having is more simular to this<br><a href="http://www.blitzbasic.com/Community/posts.php?topic=58297" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=58297</a><br>I don't see anywhere in that thread where Mark said he found the reason or fixed the problem.  Tonyg mentioned in that thread that the two problems might be related, so I guess that's why everyone thought it was fixed. <br><br></td></tr></table><br>
<a name="665185"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Space_guy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> well i beleve(not yet tested) that this piece of code will crash blitz if kept running for aloong time.<br><br><pre class=code>

Repeat
	Delay 1
Until KeyDown(key_escape)

</pre> <br><br></td></tr></table><br>
<a name="665192"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Josepho</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> I though this was fixed on the 1.20 version <br><br>+ (BRL.Graphics) Fixed soft synced Flip so it doesn't overflow after 4+ hours. <br><br></td></tr></table><br>
<a name="665194"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thats th flip fix.<br>But the GC itself has a similar counter issue (see the code block above from _gc.c), that will raise to over the maximum size because it raises with 500 - small each time memory is allocated ... and many commands allocate memory. Each working with strings for example. <br><br></td></tr></table><br>
<a name="665195"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Dreamora, not true.  It <i>decreases</i> everytime that <b>gc_objsfreed</b> is more than 500, which is apparently a lot.  I rewrote the modules so that I can keep an eye on what value <b>rate</b> is.  So far I've run a test program for about 30 minutes and rate remains at about 500.  Occasionally it will go up to over 1000, and occasionally down to about 400, but it is at 499-500-501 99% of the time.<br>I'm also doing some string functions at the same time so the GC is getting a workout.<br>Obviously this is not what's causing the slowdown. <br><br></td></tr></table><br>
<a name="665197"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Haven't gotten it over 500<br><br>You can set GCSetmode to 5 and you will see what value it had on the last collect run (the 3rd last value is objfreed)<br><br>You would need to have 500 obj per collection run that went out of scope to be above that ... which theoretically can be several 10k obj ... and if you have that many going out of ref ... <br><br></td></tr></table><br>
<a name="665224"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, my test program ran for 90 minutes and rate always stayed around 499-501.  Occasionally it would spike to over 1000, but then drop back down again.  So gc_objsfreed would have to be over 500 at some time.  Could it be that mode 5 displays the avrage objects freed over several GCColects? <br><br></td></tr></table><br>
<a name="665232"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, after using GCSetMode 5, this is the first 10 lines printed<br><pre class=code>GC collectMem: memFreed=1198, time=0ms, objsFreed=29, objsScanned=121, objsLive=34
GC collectMem: memFreed=16932, time=0ms, objsFreed=423, objsScanned=64, objsLive=2
GC collectMem: memFreed=30342, time=0ms, objsFreed=957, objsScanned=64, objsLive=2
GC collectMem: memFreed=16830, time=0ms, objsFreed=574, objsScanned=73, objsLive=11
GC collectMem: memFreed=14716, time=0ms, objsFreed=517, objsScanned=73, objsLive=12
GC collectMem: memFreed=14332, time=0ms, objsFreed=492, objsScanned=41, objsLive=4
GC collectMem: memFreed=14146, time=0ms, objsFreed=492, objsScanned=43, objsLive=4
GC collectMem: memFreed=14936, time=0ms, objsFreed=512, objsScanned=41, objsLive=4
GC collectMem: memFreed=14664, time=0ms, objsFreed=504, objsScanned=37, objsLive=1
GC collectMem: memFreed=14244, time=0ms, objsFreed=499, objsScanned=43, objsLive=4
</pre><br>As you can see, there are several times objsFreed was over 500.  let's step through it.<br><pre class=code>
rate = 500
rate :+ 500 - 29 = 971
rate :+ 500 - 423 = 1048
rate :+ 500 - 957 = 591
rate :+ 500 - 574 = 517
rate :+ 500 - 517 = 500
rate :+ 500 - 492 = 508
rate :+ 500 - 492 = 516
rate :+ 500 - 512 = 504
rate :+ 500 - 504 = 500
rate :+ 500 - 499 = 501
</pre><br>After that, objsFreed seems to settle down and is either 499, 500, or 501 each time, keeping rate at around 500 every GCCollect. <br><br></td></tr></table><br>
<a name="665255"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Theory always looks good until you proof that it does not hold in reality:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
GCSetMode(1+4)
Global a:String
Local list:tlist = New tlist
While True
	list.addlast(a)
	a :+ a
	If GCMemAlloced() &gt; 100000000		list = CreateList()
Wend</textarea><br><br>This code, at least on WinXP Pro, will run until it reaches the point where the list should be replaced.<br>At that point BM locks completely but the CPU usage stay on 90%+<br><br>If you replace the 100mb with 10mb, it won't lock but hang for a few moments when reaching the border, starting with negative rate again and filling up till it reaches the lock point again and the game restarts. (I've added the functionality to output the rate at the regular GC Debug output). So you are right that the rate does not seem to have problems with negative values ... but it seems like the crashes are GC problem when freeing as the issue I have is quite similar to what was mentioned to be the bug problem (100% cpu usage but not doing anything anymore) <br><br></td></tr></table><br>
<a name="665279"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Totally unrelated.  You are creating 100 megs of objects for the list.  the GC won't delete it because the objects are still referenced within the list.  Each object is at least 4 bytes, plus each link in the list is going to need at least 12 bytes.  So you are trying to allocate at least 1.5 GIGS of memory to hold the list!  Most computers do not have that kind of memory, if they do, Windows most definately wont leave that much for a program.  When memory fills up, everything gets shoved to virtual memory and everything comes to a crawl.<br>If you notice, the bug that we're talking about happens even when nothing is being allocated.  You can keep an eye on the memory in the task manager and see that memory usage does not increase over time.<br><br>Edit: I just reread your post and noticed that you said that negatives are not a problem, but I thought I'd leave this in because I feel it's still relavent.<br><br>As for rate becoming negative, this is not from an overflow problem.  It's from such a huge amount of memory finally being freed that rate+=500-gc_objsfreed will actually return a negative value and is expected behavior.<br>Notice these two lines<br><pre class=code>GC collectMem: memFreed=10212300, time=223ms, objsFreed=512371, rate=22364, objsScanned=54, objsLive=15
GC collectMem: memFreed=0, time=0ms, objsFreed=0, rate=-489507, objsScanned=54, objsLive=15
</pre><br>notice how 512371 objects are being freed?  Now do the math.  22364 + 500 - 512371 = -489507 which is the rate in the next line.  Also notice that the values get nowhere close to being in overflow range which is 2147483648.  As for the slight delay when the objects are freed, that's to be expected.  It takes time for the GC to do it's job, and the more garbage it needs to clean up, the more time it will take.  You are freeing 512371 objects, 10 megs of memory.  The GC must scan each object individually and see if it's being referenced anywhere in your program, then free it from memory.  Reminds me of the C64 days when BASIC programs would seem to freeze for half a minute while it's GC did it's job.<br><br>Now I'm not saying that it isn't a GC related problem.  I don't have a clue, but it obviously has nothing to do with rate overflowing, nor with the example you are showing which is being caused by more memory being allocated than Windows can handle. <br><br></td></tr></table><br>
<a name="665301"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Seems like you are right ...<br>It just needs forever to free 20mb (on the first run after that it takes 0.5 to clean it ... really strange) <br><br></td></tr></table><br>
<a name="665512"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> If you want me to prove that it happens, FlameDuck, run the 'safe' code of the screen saver framework for some hours... <br></div>Got a link?<br><br><div class="quote"> Programmer says "You are not worthy, go away and stop bothering me." <br></div>Or programmer says "If you can't tell me how it's broken, how do you expect me to fix it?" <br><br></td></tr></table><br>
<a name="665519"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> FD: There have been several example codes that break after 5-7 hours so it was clearly shown how it is broken. the postings were not like "it breaks" and nothing else ... perhaps you missed that.<br>all of them did not use graphics which means no flip sync problem as well. <br><br></td></tr></table><br>
<a name="665527"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> FD: There have been several example codes that break after 5-7 hours so it was clearly shown how it is broken. the postings were not like "it breaks" and nothing else ... perhaps you missed that. <br></div>Perhaps I did. Since you may have suspected this, why didn't you post a link?<br><br>I don't think asking for a link to source code that demonstrates it is unreasonable. Like I've already said, we've had our source code running for <b>weeks</b> without slowdowns or crashes (that wheren't our fault). In fact I've had code run for more than 10 hours that DID have a serious flaw in it, that didn't crash or slow down in that amount of time (ofcourse it was pretty slow to begin with).<br><br>If this mystery slowdown really exists, I'd be as psyched as the other guy to nail it. Without code that reproduces the problem, and is demonstrably free of logic flaws, I don't see how that's possible. <br><br></td></tr></table><br>
<a name="665552"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> The thread in the bugboard (there is one since 1.16, refreshed for 1.18) has 2 sources or even more that show the prob, so I didn't think an additional link would be needed.<br><br>Even in this thread there is one...<br>So far it seems like everything is able to break it after 5-7 hours ... (depending on the systems speed even longer) Most just don't let the stuff run that long.<br><br>The thread in bugboard has simple loops with peekevent(), the one here is a simple forever loop with a delay ...<br><br>The ideas on the reason so far have mostly been focused around a "flooded event queue" problem that lets BM loop forever ... Which is somewhere reasonable as some parts of BM changed between 1.12 and 1.16 like the internal event hook to handle user input and the like. This introduction did (if I haven't missed it) not introduce an automatic data drop on events on the queue, if it has not been used any longer (say after a given amount of time), which perhaps might be needed to prevent the queue from beeing filled up and break. (don't know how Windows handles event OS side ... but if it is a buffer then it might fill up that buffer and create problems if the BM app did not remove the processed events from there) <br><br></td></tr></table><br>
<a name="665642"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> When you get to the end of frame, two frames after having flipped the display and processed the relevant events, just wipe out the remaining old queue'd events by using peekevent and pollevent until the peekevent=null. ? <br><br></td></tr></table><br>
<a name="665700"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> The ideas on the reason so far have mostly been focused around a "flooded event queue" problem that lets BM loop forever. <br></div>So what you're saying is that it is in fact a user error? <br><br></td></tr></table><br>
<a name="665768"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think I might have possibly found the problem.  Won't know for sure until I do some testing.  In the module brlmod/eventqueue.mod/eventqueue.bmx there are two variables that keep track of the queue.  queue_put and queue_get.  The first keeps track of where the next event is placed in the queue and the second controls where the next event is to be read, creating a FIFO queue of events.  Now the variables are incremented each time one of the poll events are called (pollevent, waitevent, peekevent, etc...) the next space on the queue is determined through masking with 255, basically doing a fast queue_get Mod 256, so it will always point somewhere within a queue array.  Problem is that these variables are only incremented and never decremented.  Eventually they will overflow and become negative.  When that happens, basically the queue will start to be read backwards instead of forward, in theory that is, wont know for sure until I do some tests.<br>The solution to the problem is whenever the queue is empty, to reset both pointers to 0.  So I did a find for queue_get=queue_put and put the lines<br>queue_get = 0<br>queue_put = 0<br>immediately after.  Now I'll go ahead and let a program run overnight and see if it's crashed in the morning. <br><br></td></tr></table><br>
<a name="665817"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> TomToad: I look foward to your results. <br><br></td></tr></table><br>
<a name="665822"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Space_guy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> As do i <br><br></td></tr></table><br>
<a name="665825"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> Me too... <br><br></td></tr></table><br>
<a name="665830"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Boiled Sweets</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> ME TOO!  I didn't realise that this thread would run and run but I'm pleased it has... <br><br></td></tr></table><br>
<a name="665836"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> Test failed :(<br>After a while I began to realize that negative numbers are complimented so that value &amp; 255 should continue to give correct results.  But it was worth a try anyway. <br><br></td></tr></table><br>
<a name="665839"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh tittybiscuits.... :/ <br><br></td></tr></table><br>
<a name="665842"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> bah ;-) <br><br></td></tr></table><br>
<a name="665852"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> Seems like we will really need to extend the GC and other brl.blitz components to the max with debug output to find out how / why it breaks ... <br><br></td></tr></table><br>
<a name="665858"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> Either that or we can stop clutching at straws and hope somebody from BRL at least acknowledges this is a huge problem.<br><br>I simply wouldn't release a game knowing it was going to crash after a couple of hours. <br><br></td></tr></table><br>
<a name="665861"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> Me as well.<br>I'm really shocked that the core components never were stability tested before they added functionality ...<br>The only thing possible now is let it run with frameworks and add framework after framework till it crashes (and if it crashes on framework brl.blitz we know that it is the worst bug ever unfixed since Intel Floatingcalc bug as it is a main core bug) <br><br></td></tr></table><br>
<a name="665890"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amon</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'd like to know what the deal with this is.<br><br>Is it a bug? Is it a user error?<br><br>To test things out I left BoiledSweets chilli screensaver running overnight and when I went back to the computer in the morning everything was fine.<br><br>I'm leaning towards it being a bug with user code. <br><br></td></tr></table><br>
<a name="665891"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Boiled Sweets</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> thats interesting Amon, I'll do the same again tonight. <br><br></td></tr></table><br>
<a name="665901"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> Amon: If you find time, could you please test it with a non max2d app or even one of those mentioned in the bugthread? (simple peekevent apps) <br>*will see if I find a night to test that as well once again ... only have a notebook that I've on me, which is why it has normally only 4-5 hours its unused and running* <br><br></td></tr></table><br>
<a name="666073"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> You know, it might end up being a problem internal to the compiler.  Which means you won't find the solution in one of the modules. <br><br></td></tr></table><br>
<a name="666077"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >assari</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> I can do some testing. Can someone provide a link or code to test? <br><br></td></tr></table><br>
<a name="666079"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is the original thread <a href="http://www.blitzbasic.com/Community/posts.php?topic=58297" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=58297</a><br>The code in the OP crashes my system sometime after 5 hours. <br><br></td></tr></table><br>
<a name="666081"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >assari</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks. I will let it run overnight <br><br></td></tr></table><br>
<a name="666142"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>Yes we are aware of these reports and are looking into it.<br><br>We have already fixed one 'soft syncing' bug and are currently trying to reproduce the 'PollEvent' example linked to above. <br><br>The PollEvent example is strange in that there is actually very little Blitz code executing. Since there is no Window, there are no events to post so there is not even any GC activity occuring!<br><br>And please note that we have tested running Max programs for long periods of time - just not *all* Max programs, and perhaps not that recently...! <br><br></td></tr></table><br>
<a name="666170"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Boiled Sweets</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ran the screen saver framework for 17 hours - no crash. <br><br></td></tr></table><br>
<a name="666172"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>How does your screen saver differ from your screen saver framework?!? <br><br></td></tr></table><br>
<a name="666201"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Boiled Sweets</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#51">[#51]</a></td></tr></table></td></tr><tr ><td class="posttext"> Mark,<br><br>not too sure what you mean.  I used the screen saver framework from the archives...<br><br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=1677" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=1677</a><br><br>Now I know I started the thread saying Max crashes after a while and did see that my screen saver (HEAVILY based on the framework) wasn't running in the morning (the MAX application icon was still in the task bar but the app wasn't visible.  I was certain some other people had reported a crash after several hours so posted this thread.<br><br>I have since run overnight and it has not crashed.  This is unconclusive I guess but still there seems to be an known issue.<br><br>Sorry for any confusion, keep up the good work! <br><br></td></tr></table><br>
<a name="666297"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >assari</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#52">[#52]</a></td></tr></table></td></tr><tr ><td class="posttext"> I ran the code posted here www.blitzbasic.com/Community/posts.php?topic=58297 for about 7 hrs with the following results:-<br><br>Windows XP SP 2 1GB RAM, 1.7GHz Intel Radeon 9800 Pro (BlitzMax 1.20)<br>I tried both on debug and non-debug. Both times the machine hang. <br><br>Windows XP MCE 1GB RAM, Athlon X2 64 3800+ Nvidia 7600GT(BlitzMax 1.20)<br>CPU was at 50%. Machine did not hang <br><br></td></tr></table><br>
<a name="666304"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Tiffany</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#53">[#53]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> CPU was at 50%. Machine did not hang <br></div><br>But presumably only because you've got 2 CPUs.  Max was still thrashing the one CPU it was running on, and the other could handle anything else you did.  Hence 50%... <br><br></td></tr></table><br>
<a name="666306"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#54">[#54]</a></td></tr></table></td></tr><tr ><td class="posttext"> Interesting. Maybe it has something to do with the windows task scheduler screwing up in some way? I can't really think of other reasons it doesn't crash on dual core / hyperthreading CPU.<br><br>Maybe it's related to <a href="/posts.php?topic=59755" target="_blank"> this</a>? <br><br></td></tr></table><br>
<a name="666316"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#55">[#55]</a></td></tr></table></td></tr><tr ><td class="posttext"> It crashes on DC / HT as well but because they have 2 CPUs (either real or virtual), you won't realize that directly until you use something that would use both cores which then will run on half speed compared to normal. <br><br></td></tr></table><br>
<a name="666707"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RocketGnome</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#56">[#56]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok.. this might be silly to say...<br><br>But here goes...<br><br>Windows sent down an update a few days ago.<br><br>I know at work, I've had issues with auto-update hanging apps, and sometimes locking the PC.<br><br>When you reboot, Windows applies the update, so it's not immediately apparent why the lock-up occurred.<br><br>Is it possible that the lock-up occurred during the recent windows update deployment?<br><br>Or is there some other auto-updating software such as anti-virus, etc. on the PC? <br><br></td></tr></table><br>
<a name="666747"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#57">[#57]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Windows sent down an update a few days ago.<br><br>I know at work, I've had issues with auto-update hanging apps, and sometimes locking the PC.<br><br>When you reboot, Windows applies the update, so it's not immediately apparent why the lock-up occurred.<br><br>Is it possible that the lock-up occurred during the recent windows update deployment? <br></div>Not in my case.  I don't let Windows install updates by itself - it just tells me when there are some.<br><br><div class="quote"> Or is there some other auto-updating software such as anti-virus, etc. on the PC? <br></div>Actually, yes.  I have AVG running, and it does a complete system scan daily at 8am.<br><br>Quite sure that isn't the cause, but I'll run my code overnight again tonight, without AVG running. <br><br></td></tr></table><br>
<a name="666762"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WendellM</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#58">[#58]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I have AVG running <br></div><br>Do you have its Resident Shield feature enabled?  I ask because at work a while back our PC would sometimes (rarely) not save a file when it should, and the saving app would crash.  It turned out that the problem was having McAfee's virus scanner set up to scan files when they were read/written (which sounds like what AVG's resident shield does).  Turning off that "feature" of the McAfee antivirus software stopped the problem.<br><br>This might not be applicable in your case (or with AVG) at all, but thought I'd mention it just in case. <br><br></td></tr></table><br>
<a name="666803"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >*</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#59">[#59]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hopefully this can be fixed otherwise writing server/client apps for a 24/7 server would be next to useless in max as on some machines it would hang.<br><br>I hope this gets fixed soon :) <br><br></td></tr></table><br>
<a name="666833"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) ENAY</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#60">[#60]</a></td></tr></table></td></tr><tr ><td class="posttext"> Alternatively, you could put in the instructional manual of your game.<br><br>"When using this product please rest for 5-10 minutes for every hour of play (plus a reboot of your PC wouldn't hurt..)" <br><br></td></tr></table><br>
<a name="667076"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#61">[#61]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK, game is now running on my other PC and will remain so all night.  I've disabled AVG, will report what happens in the morning.<br><br>I'm not feeling very optimistic, but we'll see.... <br><br></td></tr></table><br>
<a name="667203"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#62">[#62]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, its not AVG that's affecting it.  Slowed right down again. <br><br></td></tr></table><br>
<a name="667210"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#63">[#63]</a></td></tr></table></td></tr><tr ><td class="posttext"> We've been able to reproduce the problem in the office which is I suspect half way to finding the cause. <br><br></td></tr></table><br>
<a name="667213"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#64">[#64]</a></td></tr></table></td></tr><tr ><td class="posttext"> aha well that's progress, good. <br><br></td></tr></table><br>
<a name="667215"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#65">[#65]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yup.<br><br>If you wanna try out various bits of code to try to eliminate/identify the problem then I'm sure there are plenty of people here who would be happy to let their PCs run all night (myself included). <br><br></td></tr></table><br>
<a name="667282"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Boiled Sweets</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#66">[#66]</a></td></tr></table></td></tr><tr ><td class="posttext"> Me too <br><br></td></tr></table><br>
<a name="667331"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Space_guy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#67">[#67]</a></td></tr></table></td></tr><tr ><td class="posttext"> thats great news. this bug has been haunting me <br><br></td></tr></table><br>
<a name="669428"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#68">[#68]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK, have hopefully fixed a problem in freeaudio where the playback position calculation was overflowing. Please syncmods and let us know how you get on with another soak test. <br><br></td></tr></table><br>
<a name="669439"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#69">[#69]</a></td></tr></table></td></tr><tr ><td class="posttext"> Running a test now, will report back later. <br><br></td></tr></table><br>
<a name="669535"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#70">[#70]</a></td></tr></table></td></tr><tr ><td class="posttext"> Game's been running for 8.5 hours now, no slowdown to report.<br><br>Think you've nailed this one at last!!<br><br>:) <br><br></td></tr></table><br>
<a name="669564"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#71">[#71]</a></td></tr></table></td></tr><tr ><td class="posttext"> 10 hours now.  All's good. :) <br><br></td></tr></table><br>
<a name="669566"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#72">[#72]</a></td></tr></table></td></tr><tr ><td class="posttext"> This seems positive.  We just me more tests now. <br><br></td></tr></table><br>
<a name="670868"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Space_guy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#73">[#73]</a></td></tr></table></td></tr><tr ><td class="posttext"> it failed here even after the freeaudio update. although ill give it another try <br><br></td></tr></table><br>
<a name="670914"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#74">[#74]</a></td></tr></table></td></tr><tr ><td class="posttext"> Failed how? <br><br></td></tr></table><br>
<a name="671107"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Space_guy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#75">[#75]</a></td></tr></table></td></tr><tr ><td class="posttext"> in the same way it always fail.. eats all the proccessor power it can after x amounts of hours.<br><br>i will however test again. hopefully tommorow. <br><br></td></tr></table><br>
<a name="671110"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#76">[#76]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hm... try rebuilding all modules and turning off Quickbuild. <br><br></td></tr></table><br>
<a name="671218"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#77">[#77]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm doing another soaktest tonight to double check.<br><br>Got my BlitzMax game + BlitzMax screensaver running on one PC, and just the screensaver running on the other.<br><br>Hope all's well with both PCs in the morning... <br><br></td></tr></table><br>
<a name="671295"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Space_guy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#78">[#78]</a></td></tr></table></td></tr><tr ><td class="posttext"> good luck :) me i will start my tests in a few hours. <br><br></td></tr></table><br>
<a name="671337"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#79">[#79]</a></td></tr></table></td></tr><tr ><td class="posttext"> Everything's fine here again.  No problems to report. <br><br></td></tr></table><br>
<a name="671417"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >assari</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#80">[#80]</a></td></tr></table></td></tr><tr ><td class="posttext"> I re-ran <a href="/posts.php?topic=58297" target="_blank">the test code</a> on 1 PC last night and did not experience the crash as before. So the fix appears to have worked.<br><br>Will try on another PC later. <br><br></td></tr></table><br>
<a name="671829"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Space_guy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#81">[#81]</a></td></tr></table></td></tr><tr ><td class="posttext"> No crashes here!<br><br>:) <br><br>Thank you so much for the fix. Finnaly I can go back to working on my work project! <br><br></td></tr></table><br>
<a name="671835"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#82">[#82]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ahm, something connected to this.<br><br>Will a tumer (CreateTimer) crash an app when running for hours? <br><br></td></tr></table><br>
<a name="671863"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Space_guy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#83">[#83]</a></td></tr></table></td></tr><tr ><td class="posttext"> not according to my test. i have a timer in it <br><br></td></tr></table><br>
<a name="671881"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#84">[#84]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
