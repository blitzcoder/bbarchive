<!DOCTYPE html><html lang="en" ><head ><title >MacOS: Console App vs. GUI App + dylib</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >MacOS: Console App vs. GUI App + dylib</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >MacOS: Console App vs. GUI App + dylib</a><br><br>
<a name="1041376"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LordChaos</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi!<br><br>Today I came across a cosmetic problem concerning the two kinds of building bmax applications on the Mac.<br><br>I'm writing an application "A" which runs another console application "B" (also written in BMax by me) using PUB.FreeProcess. "B" dynamically loads some libraries which use Cocoa for creating windows etc. .<br><br>However, if i<br><br>1.) build app "B" as a console app, the windows I create using the dylib do not receive keyboard (probably also other) events. I'd guess that this is an issue with dealing with the wrong NSApp instance in the library, but I'm not sure.<br><br>2.) build app "B" as a GUI app, I can't run it in the terminal. If I open it, it just hangs.<br><br>Any advice? I'm not sure if this has to do with the way I create the window in the lib or the way BMax builds Mac applications.<br><br>Here is an example how I wait for a key stroke in the dylib (works fine when "B" is built as a GUI app, otherwise not):<br><br><pre class=code>
void Sleep() {
	
	NSEvent *event;
	
	while(1) {
		if(event = [NSApp nextEventMatchingMask:NSAnyEventMask untilDate:nil inMode:NSDefaultRunLoopMode dequeue:YES])
			if([event type] == NSKeyDown) break;
		[NSApp sendEvent:event];
	}
	
}
</pre> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
