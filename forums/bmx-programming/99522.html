<!DOCTYPE html><html lang="en" ><head ><title >creating an instance of an object</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >creating an instance of an object</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >creating an instance of an object</a><br><br>
<a name="1168546"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cruis.In</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do you still use the 'new' method to create a new instance of an object?<br><br>I am having a problem with old code where a function in another type, is not finding an object to modify one of its attributes.<br><br>in this case the object is the player entity, and the attribute i want the other function to modify is speed. Used to work AS IS before. i changed nothing now it can't find the entity. <br><br></td></tr></table><br>
<a name="1168553"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zethrax</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes you still use the New command to create a new object instance. You'll need to post some code if you want more detailed advice.<br><br>What error message are you getting? <br><br></td></tr></table><br>
<a name="1168678"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cruis.In</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> not sure, it seemed to work itself out. maybe the program automatically updated syntax which was outdated.<br><br>I have another question: What commands should i investigate for implementing a timed event?<br><br>I want to execute a block of code a certain amount of seconds after a button press.<br><br>Example<br><br>If tab is pressed<br>  wait three seconds<br>  deploy parachute, play a sound<br><br>so you press tab, a parachute comes out three seconds after you press tab, and also plays a sound at the same time. <br><br></td></tr></table><br>
<a name="1168690"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zethrax</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> ' Setup the number of millisecond to delay for.<br>' This code could go in your Type declaration, in some sort of Create function, etc.<br><br>delay_amount = 3000<br><br>---<br><br>' Set the delay timeout when whatever trigger event that marks the start of the delay period occurs (a button press or whatever). <br><br>delay_timeout = MilliSecs() + delay_amount<br><br>---<br><br>' Check if the delay timeout has reached its timeout point and take action if it has.<br>' This should go in your update routine for whatever object, etc, it is that the timeout is used for.<br>' Note that this code doesn't care if MilliSecs() has wrapped around from a positive value to a negative one, or from negative to positive. It's a relative check. As long as the delay_amount you've set is less than about 24 days (or the milliseconds equivalent) then you're not going to have any problems at all with the MilliSecs() value wrapping around.<br><br>If ( MilliSecs() - delay_timeout ) &gt; 0 Then DoAction() <br><br></td></tr></table><br>
<a name="1168778"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cruis.In</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks, that example helps.<br><br>I have one more question.<br><br>What would I have to look into for zooming in towards the centre of the screen where my entity is?<br><br>its a top down 2d view, of a space ship at the centre.<br><br>I've experimented with opengl and translatef etc. Can't seem to get it to work as I have no understanding of the function parameters, and their effects.<br><br>I want to tie the zoom level to mousez()<br><br>so mouseZ() will be the variable I zoom at. <br><br></td></tr></table><br>
<a name="1168816"></a>

<a name="1168817"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zethrax</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> For a game using 3D rendering (3D or 2 1/2 D) you'd move the camera closer to the point you want to zoom in on. Assuming the camera is aligned to face into the  axis direction that represents 'forward' then you would move the camera in that 'forward' direction. If the camera is aligned at an arbitrary direction then you would move it forward in its local space. You'd need to be aware of the min camera clipping distance and avoid getting close enough for it to begin clipping the geometry.<br><br>I haven't used Max2D but I'd assume the way to do it there would be to have a function that applies a multiplier to the scale of all the 2D objects (including the distances between them, speed attributes, etc). This would be a fairly involved process.<br><br>For OpenGL I have no clue. You'd probably be better off making your game in Max2D or MiniB3D (possibly using 2D in 3D techniques).<br><br>For getting mouse input I'd use MouseZSpeed() with an accumulator variable (so you can clip the values involved and apply a multiplier).<br><br>' Declare the 'zoom' accumulator variable.<br>Global zoom:Float<br><br>' Declare the min/max zoom constants.<br>' You could also use variables for this if the values need to be able to be changed (to suit user preferences, etc).<br>' The values used are for example purposes only. Use whatever values work best for your game.<br>Const MIN_ZOOM:Float = 0.0<br>Const MAX_ZOOM:Float = 10.0<br><br>' Declare the 'zoom' multiplier variable. You could also use a constant for this if it doesn't need to be able to be changed (to suit user preferences, etc).<br>' The value used will cause each MouseZSpeed() unit to be worth one-tenth of a world unit. Use whatever value works best for your game.<br>Global zoom_multiplier:Float = 0.1<br><br>---<br><br>' Accumulate the mouse z speed and apply a multiplier to control the value added.<br>zoom :+ ( MouseZSpeed() * zoom_multiplier )<br><br>' Need to call MouseZSpeed() here to reset it.<br>MouseZSpeed()<br><br>' Clip the zoom to be within the range of MIN_ZOOM and MAX_ZOOM.<br>If zoom &lt; MIN_ZOOM<br>   zoom = MIN_ZOOM<br>Else<br>  If zoom &gt; MAX_ZOOM Then zoom = MAX_ZOOM<br>EndIf<br><br><br>' Code to apply the zoom value goes here.<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1168824"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cruis.In</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> i did this six years ago.<br><br><a href="https://www.dropbox.com/sh/12ikjlfz8iurt48/GcIY6bAdHW/zoom.rar" target="_blank">https://www.dropbox.com/sh/12ikjlfz8iurt48/GcIY6bAdHW/zoom.rar</a><br><br>if you download that, it contains, a 500kb exe file, graphics folder with two ship graphics.<br><br>The file is compiled so I cannot see what/how I did it. I suspect I was using opengl translatef<br><br>I am re-learning programming/blitzmax. I don't expect to pick it up again so fast after 6 years but that's not the point. As long as I stick with it, I can't be any worse than the best I got to six years ago, cause I was able to get that far.<br><br>As for the zoom. I wrote a function for that in the code base.<br><br>Scaling everything yeh is out of the question. As you'd have to apply the scale to everything that is dawn. And the distance would appear to change on screen once scales get bigger. Which isn't a true ZOOM in but rather making images larger. <br><br></td></tr></table><br>
<a name="1169183"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cruis.In</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> getting an issue on setting the delay time out.<br><br>works fine on the execute part when testing.<br><br><br>' Set the delay timeout when whatever trigger event that marks the start of the delay period occurs (a button press or whatever).<br><br>got this variable set on a key press.<br><br>delay_timeout = MilliSecs() + delay_amount<br><br>but the event im waiting on activates immediately <br><br></td></tr></table><br>
<a name="1169186"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cruis.In</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> field: delay_amount = 5000 (5 seconds)<br><br><br>if keyhit tab<br>   delay_timeout = MilliSecs() + delay_amount<br>end if<br><br>function()<br>deploy_parachute()<br>   deploy your parachute<br>end function<br><br><br>In the main loop:<br><br>'after 5 seconds this should deploy the parachute<br>  if MilliSecs() - delay_timeout ) &gt; 0 <br>     deploy_parachute()<br> end if <br><br></td></tr></table><br>
<a name="1169189"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cruis.In</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> if you don't declare the values for "delay_amount" and "delay_timeout" up front then the condition check on if MilliSecs() - delay_timeout ) &gt; 0  is always true and the code u want delayed executes immediately.<br><br>if you declare an amount, the code executes after that amount of time has passed. Great right? However, that means it executes on the passage of time alone, and no input. I tried to default the delay amount to be 0, and let the key press set it at 3000, so the code doesn't execute until the countdown.<br><br>but as said above, if it doesn't have a value it executes right away because the condition is always true for if MilliSecs() - delay_timeout ) &gt; 0 <br><br></td></tr></table><br>
<a name="1169191"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cruis.In</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok in order to initialize the variables at 0, but stop it from executing automatically, I had to put another condition in the if statement using and<br><br>if MilliSecs() - delay_timeout ) &gt; 0 and XXX is true<br><br>so it didn't execute on initialization, but only after the key press, which makes XXX true. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
