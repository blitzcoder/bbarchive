<!DOCTYPE html><html lang="en" ><head ><title >Loading a webpage to a string</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Loading a webpage to a string</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Loading a webpage to a string</a><br><br>
<a name="1171840"></a>

<a name="1171841"></a>

<a name="1171842"></a>

<a name="1171843"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Thareh</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi!<br>I'm writing a HTML parser thingy and I'm trying to optimize it atm.<br>The current bottleneck is my "Webpage -&gt; String" routine which is kinda messy:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Local TempStream:TStream = ReadStream( URL )
Local Bank:TBank = CreateBank()
Local Stream:TStream = CreateBankStream( Bank )
CopyStream( TempStream, Stream )
Local Content:String = Left( String.FromCString( Bank.Buf() ), BankSize( Bank ) )
</textarea><br><br>Anyone know a faster way?<br><br>Thanks!<br><br><font class="tiny">Last edited 2013</font><br><br><font class="tiny">Last edited 2013</font><br><br><font class="tiny">Last edited 2013</font> <br><br></td></tr></table><br>
<a name="1171844"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> how about LoadText(URL) ? <br><br></td></tr></table><br>
<a name="1171845"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Thareh</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you Brucey!<br>LoadText was a tiny bit faster and so much simpler.<br><br>Any more ideas or is this as fast as it gets? :) <br><br></td></tr></table><br>
<a name="1171857"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, you can only fetch data as fast as it fetches it from your source.<br><br>If it was a LOT of text, you could always try asking the server to return it as .gz (zipped), but then you'd have to unpack it on your side. But that's only useful if it really is a lot of text, and the server supports it. <br><br></td></tr></table><br>
<a name="1171866"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Banshee</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> If the bottleneck is multiple requests for small amounts of content then you could be getting throttled, this often happens to bots (if it is not your server then you should read robots.txt for the safe passing speed so as not to cause crashes).<br><br>If it is your server, then you could optimise the delivery and format of the information that you are sending to yourself, by sending the amount of data that your application can process in the time it takes to ping the server.<br><br>If you are doing something that takes time but you need instant access to data, like price scraping where you dont care if you down a competitors systems and you just want the process to have ready available information of published competitor data, then the best way is to scrape over time to a database so you can look up the data at any point, but have your script gradually refresh the data over time on a cron job or timed interval.  In effect, pre-fetching it before the information is actually required. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
