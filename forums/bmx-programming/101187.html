<!DOCTYPE html><html lang="en" ><head ><title >BlitzMAX Limitations and Performance</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >BlitzMAX Limitations and Performance</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >BlitzMAX Limitations and Performance</a><br><br>
<a name="1200132"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BLaBZ</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello All -<br><br>As my current project is coming to a close I've been beginning to think and plan my next project.<br><br>I'm planning to create a large scale warfare engine that can hopefully handle thousands of individual units.<br><br>Scalability and performance are huge proponents and I'm contemplating whether BlitzMAX is the best choice.<br><br>The alternative would be c++ though I'm not very familiar with it. <br><br>What are the limitations of blitzMAX I should be aware of? What language would you suggest I use? Any advice?<br><br>Thanks! <br><br></td></tr></table><br>
<a name="1200140"></a>

<a name="1200141"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would advise against using C++, in pretty much all circumstances (although I won't give reasons, on account of having written <i>so</i> much about this in the past - do a forum search for Yasha/C++ in the unlikely event you care about my opinion).<br><br><br>One of the golden rules in software development is that it is far and away best for you to assume your current tool is fast enough, until you have <i>evidence</i> that it isn't. Programs are faster than you think. People write high-performance scientific data crunchers in <i>Python</i>, and that's interpreted. Video game logic is very rarely particularly demanding or involved, so unless you can <i>prove</i> BlitzMax isn't up to the task, you're basically waving your hands in the air around completely unknown quantities and making decisions based on nothingness - more importantly, potentially crippling your ability to architect and write good code because of pre-emptively switching to a tool that either isn't as clean, or that you aren't comfortable in, just on the off-chance it <i>might</i> be faster (it's actually very difficult to write performant code at a low-level, so the chances are that switching to something like C++ would <i>slow down</i> your code until you master the language several years later).<br><br>BlitzMax has several disadvantages, but its average program performance isn't actually likely to be that far below optimising compilers because real-world flexible logic code isn't often all that easy to optimise anyway; for polymorphic OO code it probably generates much the same stuff as GCC would.<br><br><i>When</i> you encounter an area of your code that is too slow (because you profiled it), BlitzMax actually also has one big advantage: it makes it really easy to factor single functions out to C for advanced compilation. When you discover your inner loop that does a lot of matrix manipulation is taking too long playing around with BlitzMax objects, extract the code to a function, rewrite that <i>one</i> function in C with flat structs, and through the magic of BlitzMax's externs system you can actually use the optimised C version in your main program almost completely painlessly. So performance is effectively not a problem because anything that desperately needs optimisation can almost always be factored out by itself.<br><br><br>Future-proofing (e.g. "the 64-bit question", what happens when BRL stop updating the closed-source compiler) and multiplatform support and things like that, are better reasons to consider other tools. Language issues (e.g. weak type system, lack of many modern features, very poor threading support) are another reason to switch, but really only if you know what you want and are explicitly looking for those features somewhere else (simply moving to C++ with its arbitrary collection of junk is not going to help fine-tune your code features, because you'll lose what you need in the crowd).<br><br><br>My overall advice is to learn a language because you actually want to learn a new language - to write different code in a different style, and have it run in different places. As above, looking to languages to get things like performance is a mistake, because you can always find performance escape hatches; and anyway you normally don't need them.<br><br>Bear in mind that there are literally tens of thousands of languages out there and most of them are <i>nothing</i> like anything you've ever used. It is a much bigger world than "BASIC vs C++". I always recommend Scheme for something new but not-too-different. <br><br></td></tr></table><br>
<a name="1200142"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> What Yasha said- I'm making a habit of saying that, but he's usually on the money with a well considered response.<br><br>Forget C++, it will just add headaches.<br><br>I doubt performance will be an issue for the type of game you are considering. Monkey is a decent alternative and I would say is more futureproof. Others can advise what if anything it is missing that Max has, I haven't played with it for a while. The other advantage is that it's almost identical to Max code bar a little bit of boilerplate. <br><br></td></tr></table><br>
<a name="1200147"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BLaBZ</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Fantastic input Yasha!<br><br>Do external function calls take just as long as internal function calls?<br><br>My biggest concerns are threading and large amounts of matrix operations. I can extract the matrix operations but the threading seems to be the weak point.<br><br>For some reason my attempts to utilize more than 2 cores have failed with BlitzMAX, resulting in only 50% use of available cpu(4 cores) power. I've also found debugging threaded operations to be extremely cumbersome and sometimes never figure out what's breaking.<br><br>What are BlitzMax's threading weaknesses compared to other languages\frameworks?<br><br>Thanks! <br><br></td></tr></table><br>
<a name="1200149"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BLaBZ</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> @John - I've developed something similar to this already and performance has become an issue. A lot of the performance issues has to do with the *way* it was coded so in my second attempt I hope to clean this up and it have it very optimized. <br><br>Basically, I'm looking to create a game engine similar to "Supreme Commander."<br><br>Right now my engine can handle about 200 units, though I would like it to be able to handle at least 2000. <br><br></td></tr></table><br>
<a name="1200157"></a>

<a name="1200158"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Do external function calls take just as long as internal function calls? <br></div><br><br>They should be the same. Lighter only because whatever happens after the call is lighter (or not, potentially). Both of them will use the lowest-level machine code for a function call.<br><br><div class="quote"> What are BlitzMax's threading weaknesses compared to other languages\frameworks? <br></div><br><br>There are two that come to mind:<br><br>1) BlitzMax doesn't present any kind of threading or parallelism model. It just gives the user a very low-level API that is the sort of thing you might use to <i>build</i> a threading system, rather than a system in its own right. In other languages you can say things like "launch this in a coroutine", "open a channel between coroutines", "pass objects into the channel", etc.; in BlitzMax you need to actually spawn OS-level threads yourself, manage shared resources with explicit locks, etc. The language runtime has no notion of sharing and cannot protect you from your own mistakes, does not set up any pre-made safe methods, does not even pool threads automatically for you as far as I know (I could be wrong, been years since I looked at this). Languages like Go in contrast use a very safe model where you can divide your work into tasks and share objects by passing them down safe channels between tasks, wait on data to be delivered, never need to think about the number of OS threads vs. virtual threads, etc.<br><br>2) Because of the above (lacking any inbuilt concept of safe sharing), BlitzMax's reference counting GC is horribly unsuited to its task, as the refcount updates cannot be handled in a way that is both safe and efficient. (For the record, reference counting is generally a bad/slow way to implement GC anyway, but it works well enough in single-threaded BlitzMax.) This will take a toll on performance, and there may even be subtle bugs (there certainly were when the feature was released).<br><br>I could be wrong on both these points, it's been ages since I looked at this. <br><br></td></tr></table><br>
<a name="1200181"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @John - I've developed something similar to this already and performance has become an issue. A lot of the performance issues has to do with the *way* it was coded so in my second attempt I hope to clean this up and it have it very optimized. <br></div>Indeed. The first line of optimisation should be to choose the right methodology/algorithm for the job as this usually gived the biggest performance increases. Trying to optimise the whole thing is a big waste of time, so it makes sense just to identify the slow parts (by measurement) and optimise them. <br><br></td></tr></table><br>
<a name="1200183"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> BlitzMax doesn't present any kind of threading or parallelism model. <br></div>I did wrote a small TThread class that happens to provide a slightly higher level API for threading operation while threading was being beta tested. Mark got it, modified it a bit, and as far as I know, it's available on the BlitzMax threading module, while it's not documented it happens to work. <br><br></td></tr></table><br>
<a name="1200223"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GW</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Blitzmax is totally up to the task of handling thousands of units. <br>A few years ago I wrote an RTS engine that handled thousands of units in realtime with tactical pathfinding, 3d line of site and ballistics, all in a single thread and little optimization. <br> <a href="http://www.kerneltrick.com/download/stuff/ccss2.1.wmv.flv" target="_blank">Here is video</a> of the realtime action. The soldiers seem to move slow in the video because this particular map is almost entirely rubble, which hinders movement and makes for terrible line of sight.<br>You might be able to squeeze a little more juice out a modern processor with c++, but it's not worth the pain imo. Bmax can do the job. <br><br></td></tr></table><br>
<a name="1200978"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >*</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think any programming language that's written right, the only limitation is badly written code ;) <br><br></td></tr></table><br>
<a name="1200983"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Blabz.... forgot to mention (and realise this is coming from a 'max fanboy), the only reason I would use anything other than max for a game is if I need external libraries. Then, if there are no pre-existing bindings for max I will not bother. Interfacing can sometimes become more hassle than it is worth. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
