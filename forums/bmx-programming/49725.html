<!DOCTYPE html><html lang="en" ><head ><title >equivalent of vwait?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >equivalent of vwait?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >equivalent of vwait?</a><br><br>
<a name="552812"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm trying to get smooth sprite movement, but I can't. I've tried adapting the 2d timing code in the archives but it judders around - the sprites move smoothly for a fraction of a second, then jump a little bit to catch up. The best current windowed system just sets a 60hz timer and then waits for it at the end of the mainloop - at least this is consistantly jerky with no sudden catchups.<br><br>I have my monitor set to 75hz, and when running he progam fullscreen with the graphics command specifying 75hz it's really smooth, but tears like mad in the lower half of the screen, indicating that I really need a vwait-like command in there.<br><br>Anyone got a decent system for smooth 2d in BMax???? All I really want is a smooth 60fps / hz update. <br><br></td></tr></table><br>
<a name="552814"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Max should be automatically double-buffered so you should no be seeing tearing, I would think?<br><br>Also you should use Flip - it automatically synchronizes without any extra timing code. <br><br></td></tr></table><br>
<a name="552817"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am using flip - my mainloop looks like this - <br><pre class=code>
Graphics 1024,768,32,60
Global timer1 = CreateTimer(60)

'other setup here

While Not KeyDown(KEY_ESCAPE)
	Cls

      'game logic stuff here

      'render here

	FlushMem
	WaitTimer(timer1)
	Flip
Wend

End
</pre><br><br>but it's not very smooth - moving sprites across the screen is really rather rough.<br><br>Any ideas?<br><br>Does debug mode do something weird to the timing? <br><br></td></tr></table><br>
<a name="552819"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Check out the extended parameters for Graphics(). They were updated with 1.10.<br><br>The extended parameters allow you to control if flip will wait or not and so on... give it a whirl.<br><br>Btw, game logic should run at a set rate and WaitTimer shouldn't really be used... <br><br></td></tr></table><br>
<a name="552836"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> You shouldn't need your own timer if you are using Flip like that because Flip has its own timer already. <br><br></td></tr></table><br>
<a name="552994"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hotcakes</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Then the game will run at different speeds if 75 hz couldn't be achieved.  I know that's unlikely, but...  really depends what you're aiming your target specs at I guess.<br><br>Voderman, assuming you try he extended parameters fish talk about and it doesn't work still, check your display properties (assuming you're on windows) advanced settings and make sure vertical sync is not forced off (maybe even force it on)... <br><br></td></tr></table><br>
<a name="553165"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JazzieB</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> If 75hz cannot be achieved in hardware, Max will handle the sync in software by using it's own internal timer instead.  That's the default option, which can be changed in the Graphics command.  If it has to be synced in software, then you may see some tearing, although I'm not sure if it just waits for the nearest VSync before flipping. <br><br></td></tr></table><br>
<a name="553375"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hotcakes</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> If 75hz cannot be achieved in hardware, Max will handle the sync in software by using it's own internal timer instead. <br></div><br>That's assuming Max is told that it can't do it in hardware.  If the drivers lie to Max (which could happen when overriding settings in the display controls too) then there's not a lot it can do about it! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
