<!DOCTYPE html><html lang="en" ><head ><title >I know, not again... I've got tearing.  :(</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >I know, not again... I've got tearing.  :(</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >I know, not again... I've got tearing.  :(</a><br><br>
<a name="744771"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sonic</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> So I'm using totally fixed-rate logic + render in my game, synced to 60hz.  I'm in OGL on an Intel Mac, and I'm getting fullscreen tearing.<br><br>Where to begin?  Could delta-timing sort this out?  It shouldn't be necessary though, should it?  And it would be a lot of work to implement into my long and convoluted code...<br><br>I'll be uploading a demo soon, if there's anyone who can test it for me, I had planned to anyway, just to the Blitz community for a sort of pre-alpha testing as the engine is 99.9% complete, hence I am now thinking about issues such as screen-modes, flicker and what-have-you.<br><br>But off the tops of your heads is there anything I could try without having to use delta timing?<br><br>Thanks in advance,<br>Sonic <br><br></td></tr></table><br>
<a name="744782"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You are using Max2D and do not use Flip 0 or -1, I assume from this posting, is that right? (because Synced to 60hz does not mean that you use flip 1 or flip, it could as well mean that you try to fake fixed rate syncing through timer or time difference / delay and flip 0) <br><br></td></tr></table><br>
<a name="744787"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sonic</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I call vanilla flip(), no delays, in Max2D.  Any ideas on where to start? <br><br></td></tr></table><br>
<a name="744793"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> The only idea I have: Your screen is not 60hz but 72 or 75 and you initialize graphics with 60hz which will lead to tearing ... <br><br></td></tr></table><br>
<a name="744803"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can you describe what you're calling tearing? Tearing should never occur unless you're not syncing your buffer flips with VSync or your drivers are set to not VSync at all.<br><br>I can't remember for the life of me what Max2D does with vanilla Flip(). I would assume it attempts to VSync, since previous Blitz's did. <br><br></td></tr></table><br>
<a name="744833"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JazzieB</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I personally use high rate logic and forget aboout all this delta timing shannigans - but then, most of my stuff doesn't need delta timing.  Anyway...<br><br>Flip with no paramters seems to invoke some sort of random software syncing that can look a total mess with tearing all over the place, although this only tends to be in a windowed mode.  Under Windows, this saves a lot of processor consumption (i.e. 10%-ish instead of 99%).  I've not tested this under Mac.<br><br>On my Mac's (Intel and PPC) I tend to stick with Flip True (or 1) and I have no problems with tearing.  They are both laptops, but I am confident both act as any Mac desktop would.<br><br>If you need a tester, I'm only too happy to help. <br><br></td></tr></table><br>
<a name="744853"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Use flip 1 for hardware syncing (i.e. no tearing unless gfx card driver has forced vsync off) and it that fails it'll drop back to software syncing (same as flip -1).  Flip 0 means run at full framerate but will always tear so is not really suitable imho. <br><br></td></tr></table><br>
<a name="744871"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sonic</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi.<br><br>@Dreamora<br><br>I'm using an Intel iMac so I'm sure my screen does have a higher refresh rate than 60Hz...  I don't initialise Graphics() with any Hz parameter as I heard that Blitz defaults to 60Hz.  But it still shouldn't tear, should it?  I thought it would just double some frames?<br><br>@Gabriel<br><br>The tearing looks like two frames meeting at a certain horizontal line on the screen, ie you can see the screen being drawn.  It's been described in other threads and I'd say it's exactly like that!<br><br>@JazzieB<br><br>Well that's really interesting - I think you might have found a workable solution for me: I assumed that Flip with no paramaters would call Flip(1) and therefore I hadn't tested it...  But it seems to have cleared up the problem - in fact Flip(-1) seems to produce the same results as Flip without params.  However there is now a slight sluggishness to the response of the main character which is interesting...  Is it adding a slight delay with Flip(1)?  Anyway, this is a much better situation, so it looks like I might go with it.  It will need further testing though.  Thanks!<br><br>@Grey Alien<br><br>Thanks, that seems to confirm what JazzieB was saying, I wonder if this situation will work cross-platform?  On Windows, I assume I will have to ensure the end-user has VSync enabled on their card?  I will test this on my Windows partition soon... <br><br></td></tr></table><br>
<a name="744873"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sonic</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just to add to what I said - there is now no tearing with Flip(1), however it seems to be a lot slower to respond in general, for example there is a visible delay when the character turns from the point you input the command, which wasn't there with Flip().  As is often the case fixing one problem creates another... It might just be a case of choosing a lesser evil - which would be the delayed response, as I can't live with the tearing. <br><br></td></tr></table><br>
<a name="744876"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> With Flip 1 and 60 FPS, you have 16ms per mainloop, so if you input is faster, it will simply have to wait for the next frame to become visible.<br><br>But you could use hooks to get around that "wait for sync" delay state. That shouldn't be the show stopper in BM as it was in B3D. <br><br></td></tr></table><br>
<a name="744881"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sonic</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm, thanks Dreamora, I will look into it.<br><br>I have uploaded a version of the game in the Showcase area,so anyone with accees to an Intel Mac please check it out!<br><br><a href="/posts.php?topic=66692" target="_blank">Showcase Entry</a> <br><br></td></tr></table><br>
<a name="744893"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sonic</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh, and there's now a Windows build too...  See what you think! <br><br></td></tr></table><br>
<a name="744902"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I should have said that what I said applied to Windows only, I don't know about the Mac (yet) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
