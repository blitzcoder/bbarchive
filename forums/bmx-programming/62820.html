<!DOCTYPE html><html lang="en" ><head ><title >jpeg error_exit shit</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >jpeg error_exit shit</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >jpeg error_exit shit</a><br><br>
<a name="701808"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) ENAY</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I got a couple of these when my program exits when compiling in new versions of Blitzmax. Any initial ideas? I'm guessing it's hidden debug code (I don't even have debug switched on and I certainly haven't been putting swear words in my debug code)<br>Funny thing is, I'm not even loading any jpegs :)<br>So any ideas?<br><br>This error does not appear when I compile in earlier versions of Blitzmax. <br><br></td></tr></table><br>
<a name="701813"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> hu?<br>Strange that thing was already there with 1.20 and got fixed and shouldn't appear anymore. Sure you have the actual BM version and syncmod everything? <br><br></td></tr></table><br>
<a name="701836"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) ENAY</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sync modding seems to have stopped the error from occurring, but I still get corrupt gfx when using the 4 images that were causing the error. I guess some more investigation is needed.<br><br>BTW I'm actually using 1.22, the directory you can see is 1.20. I just happen to have a lot of different versions of Blitzmax on my harddrive.<br>I've taken down the pic now, but hopefully I should be able to figure out what's going wrong in my code now. <br><br></td></tr></table><br>
<a name="701840"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I find 2 places where shit exists.  One is in pub.mod\freetype.mod\ttinterp.c on lines 4721, 4798, and 4801.<br><div class="quote"> 04721: /* BULLSHIT: Measures from the original glyph must be taken along the */<br>04798: /* BULLSHIT: Measure taken in the original glyph must be along the dual */<br>04801: /* Second BULLSHIT: Flag attributes are inverted! */ <br></div><br>The second is in brl.mod\blitz.mod\blitz_bbdoc.bmx line 263.<br><div class="quote"> 00263: bbdoc: Bitwise 'Shit arithmetic right' binary operator<br> <br></div><br>Neither would appear as an error or print to the console on exit.  Perhaps you're compiler is reading modules left over from an older version of blitzMAX? <br><br></td></tr></table><br>
<a name="701914"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> ENAY, you need to rethink your blitzmax strategy. If you are mixing and matching modules and compiler versions I think maybe it's time to consider asking for a refund. <br><br></td></tr></table><br>
<a name="701921"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Enay,<br><br>It *has* been fixed - I suspect you're confusing your versions. <br><br></td></tr></table><br>
<a name="701954"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) ENAY</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh, so my bug topic has been moved that's strange.<br><br>&gt; ENAY, you need to rethink your blitzmax strategy. <br>&gt; If you are mixing and matching modules and <br>&gt; compiler versions I think maybe it's time <br>&gt; to consider asking for a refund.<br><br>I don't see what the problem is with having various versions of Blitzmax available for usage on my harddrive.<br>I've been doing the same with B2D and B3D for years, it makes testing, bug hunting that much easier. I don't see why Blitzmax should be any different. If I'm trying to compile someone else's code from years gone that was written using a much older build of Blitz, I can easily load and compile it into older versions if things don't seem to be working. Two of my old B3D games don't work properly with sound in the latest 6-7 B3D updates. So I just use the old versions instead.<br><br><br><br>Anyway I've finally isolated the problem, seems to be a problem with the DirectX driver, works ok with the OpenGL one. Here's the code to replicate it:-<br><br><a href="http://enaysoft.co.uk/parp/BlitzmaxBug.zip" target="_blank">http://enaysoft.co.uk/parp/BlitzmaxBug.zip</a><br><br>This is what should happen:-<br><img src="http://enaysoft.co.uk/parp/OpenGLWithoutBug.JPG"><br><br>But in DirectX, this is what I get:-<br><img src="http://enaysoft.co.uk/parp/DirectXWithBug.JPG"><br><br>So no idea how to fix that, I suspect it's a bug, I thought it was to do with that jpeg shit thing, but that clearly wasn't the reason as fixing that didn't solve anything.<br><br>I suspect it's a problem with SetViewPort. I'm trying to emulate DrawAnimImage using a combination of SetViewPort commands in Blitzmax, I had problems with this before over a year ago but used a different approach instead of trying to figure out what was wrong.<br><br>But I need it to work and after trying again I seem to be having the same old problem with randomly corrupt graphics.<br><br>My specs are:-<br><br>Windows XP Home Edition<br>Pentium 4 CPU 2.80GHz<br>512 MB Of Ram<br>DirectX 9<br>NVidia GeForce4 MX 440 with AGP8X<br><br>And DEFINITELY compiled in the latest version 1.22 with all the sync me bobbins.<br><br>Does this qualify to go back into the bug forum? :) <br><br></td></tr></table><br>
<a name="701959"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> The DX clipping problem with the MX440 has been reported before, will see what I can do. <br><br></td></tr></table><br>
<a name="702062"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you have a moment can you try this:<br><br>change brl.mod/dxgraphics.mod/d3d7graphics.bmx[309] from<br><pre class=code>
		res=d3d.CreateDevice(IID_IDirect3DTnLDevice,primarysurface,Varptr device)
</pre><br>to<br><pre class=code>
		res=True 'd3d.CreateDevice(IID_IDirect3DTnLDevice,primarysurface,Varptr device)
</pre><br><br>which may give you the same performance as you get with blitzmax1.10 <br><br></td></tr></table><br>
<a name="702084"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) ENAY</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>OK, I tried the code fix but it didn't make any difference sadly.<br><br>I probably should've said though that I only got the jpeg error message in newer versions of Blitzmax BUT that the gfx glitch appears in all versions of Blitzmax I've tried it on.<br>Therefore it never did work in 1.10 either, sorry for not making that clear earlier.<br><br>At least on the upside, I know that I can work in OpenGL and know that things will work using that and that it's just my gfx card that is seemingly causing the problems. <br>(I'm presuming you tested my code and everything worked fine for you in both OpenGL and DirectX?)<br><br>I guess I will just have to wait for the next update of Blitzmax for a MX440 fix :) <br><br></td></tr></table><br>
<a name="702097"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> chance that a different driver for this GeForce 2 based GPU (yes, GF4 MX is a GF2 no GF4 chip so really old) fixes the problem is larger. (NV is changing their DX7 driver implementation on some major part every few versions for some stupid reason. Thats why power of 2, square is needed with GF 6600 again in dx7 or it will break) <br><br></td></tr></table><br>
<a name="702121"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> It was me that reported the Viewport problem originally (on a GF4 440mx as well). Tried a few drivers, didn't really fix it. <br><br></td></tr></table><br>
<a name="702182"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hotcakes</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> For a GeForce 4 series card I'd recommend the drivers on Windows Update...  I think it was 4x.xx...  did you try -that- far back?  =] <br><br></td></tr></table><br>
<a name="702273"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> 43.25, yes.<br><br>They are quite good, had them as well on my GeForce 420go which is the mobile version of the MX. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
