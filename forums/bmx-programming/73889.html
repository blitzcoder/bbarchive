<!DOCTYPE html><html lang="en" ><head ><title >Is this a valid way to create an array?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Is this a valid way to create an array?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Is this a valid way to create an array?</a><br><br>
<a name="825469"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
Strict

Local atest:Float[,,]

atest=New Float[3,4,5]

Graphics 400,300,0
While Not KeyHit(key_escape)
	Cls
	DrawText atest[2,3,4],0,0
	Flip
Wend
</pre><br><br>I saw it in someone else's code but I didn't think you could create a multi-dimensional array like that, but I could be wrong because it seems to work...<br><br>I thought you had to initialise each element in a loop or it wouldn't work. <br><br></td></tr></table><br>
<a name="825472"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think you should only initialise elements not based on basics (string,int,float...). <br><br>They get basic values (int = 0, float = 0.00... string = "") so no need to init them. Own types have a NULL so they need it.  <br><br>If they don't get initialised some variables may contain garbage but valid for their borders (language dictionary for bytes,ints,doubles,...).<br><br><br>bye<br>MB <br><br></td></tr></table><br>
<a name="825474"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> No - I think this is OK. Hey if it works, right? The thing with initialising in loops is when people are doing C-ish arrays of array pointers, rather than the multi-dimensional array you have here. <br><br></td></tr></table><br>
<a name="825475"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> initialize: afaik this is only true for custom objects, not for int/float/double/byte/string/etc. as they're built-in objects.<br><br>As for the rest: I'd say, just do it, and if bmax complains then it's not legal to do so.., simple enough :P<br><br>edit: well then, 3 reactions in 2 minutes stating the same.. ^_^<br>edit2: 4 reactions in 3 minutes stating the same.. ^_^ <br><br></td></tr></table><br>
<a name="825476"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I could be wrong because it seems to work <br></div><br>It works, but dreamora says it is very slow, and that your code will be quicker if you set each field individually.<br><br>I have not benchmarked this myself tho. <br><br></td></tr></table><br>
<a name="825478"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK thanks all.  For some reason one of my framework customers is getting a "list index out of bounds" on that array code in one of their projects - ah just spotted the bug (in his code which is different from that above) I think! <br><br></td></tr></table><br>
<a name="825481"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Brucey: In that case it won't be slow. Its a different thing to what you refer to (initializing an array with actual values like int arr[] = [1,2,3] which is slow as this internally fires slicing from what it seems and from its speed I would say three times ...). What above does is initialize a 3 dimensional array. The only way to do it dynamically and normally no problem. (beside the fact that [][][] would be sliceable while above isn't)<br><br><br>GA: Whats the bug?<br>Did he/she try to access the array Blitz3D like? ie 0-number of elements? Although the error somehow looks more like an array -&gt; TList -&gt; indexed access error if it is bound to an array <br><br></td></tr></table><br>
<a name="825486"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> The bug was that they were calling the DRAW command before the initialisation and I only just noticed! <br><br></td></tr></table><br>
<a name="825524"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TaskMaster</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey Grey, if I buy your framework, you will debug all of my code for me?  Cool!  ;) <br><br></td></tr></table><br>
<a name="825613"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://www.greyaliengames.com/framework/faq.html#support" target="_blank">http://www.greyaliengames.com/framework/faq.html#support</a><br><br>including:<br><br><div class="quote"> I cannot answer general programming questions not related to the framework, sorry.  Use the Blitz forums for that, they are brilliant! <br></div><br><br>However, I'm nice so sometimes I help where I shouldn't ;-) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
