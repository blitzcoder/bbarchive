<!DOCTYPE html><html lang="en" ><head ><title >Blitzmax apps prevent screensaver running</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Blitzmax apps prevent screensaver running</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Blitzmax apps prevent screensaver running</a><br><br>
<a name="664679"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello.<br><br>I discovered a <a href="/posts.php?topic=59633" target="_blank">serious problem</a> in Blitzmax last night, and this morning while trying to figure out the cause, I stumbled upon something else fairly major too.<br><br>When a Blitzmax app is running, it seems that it is preventing the Windows screensaver from kicking in.  Furthermore, it is also preventing my monitor from powering off after a period of non-use.<br><br>Anyone else confirm this? <br><br></td></tr></table><br>
<a name="664683"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you using an event driven main loop (with time for OS to do stuff) or a tight main loop with no delay(1) in it?  Were you running in full-screen or windowed mode?  This might ot make a different but I thought it would be useful info. <br><br></td></tr></table><br>
<a name="664692"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Windowed/Fullscreen makes no difference.<br><br>Been doing a bit of playing.<br><br>Ran this code:<br><pre class=code>Graphics 800,600
While Not KeyDown(key_escape)
	Delay 1
Wend</pre>Screensaver works as expected.<br><br>I've been commenting out bit of my own code trying to locate the problem - there's something in the Blitzmax commandset thats causing this; I'm not doing anything fancy.<br><br>I've thus far ruled out AppTerminate(), DrawText, Cls, FlushMouse, Flip and the mouse lag fix. <br><br></td></tr></table><br>
<a name="664693"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Found the problem.<br><pre class=code>SetGraphicsDriver GLMax2DDriver()</pre><br>This can't be 'expected behaviour'?? <br><br></td></tr></table><br>
<a name="664700"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> That code was added because GridWars players using joypads got sick of screen savers cutting in during heated battles. <br><br></td></tr></table><br>
<a name="664760"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think it makes sense, why would you really likely want your screensaver to run while a blitzmax app is running ... unless it's an application perhaps.<br><br>A `prevent screensaver` command would be nice. <br><br></td></tr></table><br>
<a name="664786"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>unless it's an application perhaps.<br> <br></div><br><br>Bingo!<br><br>Skid, What about a "DisableScreenSaver" command? <br><br></td></tr></table><br>
<a name="664787"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> flag is the way to go, default = off please. <br><br></td></tr></table><br>
<a name="665014"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would also like a toggle for this. <br><br></td></tr></table><br>
<a name="665483"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Stupid question time: Wouldn't it be better to let Windows handle this? I believe there's a "Disable screensaver in full-screen mode" option somewhere? <br><br></td></tr></table><br>
<a name="665486"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Stupid question time: Wouldn't it be better to let Windows handle this? I believe there's a "Disable screensaver in full-screen mode" option somewhere? <br></div>Not that I'm aware of.  They could just turn off screensavers, though, and disable monitor powersaving, but all that's probably too much hassle for the end user.<br><br>But even so, what if someone's playing a game in Windowed mode?<br><br>It does need to be optional. <br><br></td></tr></table><br>
<a name="665643"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't know if it makes sense to allow the o/s to do the handling of switching it off. The user is assuming they are providing user-input and that therefore they are operating the display, and therefore the screensaver should not show up.  They assume that even if they have their screensaver switched on and set up to show only when there is no activity from the user, that the fact they are activating things means the screensaver won't show, which they trust from the o/s. So it makes sense that using our app should *override* the screensaver activating, but not mess with the default settings that the user chose. If the screensaver is switched on in the o/s, let us choose whether to disable it. You shouldn't have to get the user to mess with system settings to make your app work right. <br><br></td></tr></table><br>
<a name="665675"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> When the screensaver tries to start up, Windows sends out a WM_SYSCOMMAND Windows Message which is of type SC_SCREENSAVE ( windows constants ) and I would assume BlitzMax is returning 0, which tells the screensaver not to start. I do this in my TV3D wrapper too, but that's not going to be used for background applications.<br><br>I post this because I can't think of any way of intercepting it with the way BMax is written, but perhaps there is a way I haven't thought of.<br><br>But I agree, it should be a flag, even if it's enabled by default. BlitzMax is going to be used for things where you want a screensaver to start. <br><br></td></tr></table><br>
<a name="665702"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yan</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've been using SystemParametersInfo() to turn off the screen and power saving features whilst the app is running.<br><br>Obviously no good when using GLMax2D though. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
