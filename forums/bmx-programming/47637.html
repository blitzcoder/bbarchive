<!DOCTYPE html><html lang="en" ><head ><title >Irrlicht and Linux</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Irrlicht and Linux</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Irrlicht and Linux</a><br><br>
<a name="529283"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> im curious... has anyone compiled and run the Irrlicht mods in Linux yet? <br><br></td></tr></table><br>
<a name="529365"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DStastny</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am trying to get a linux box up and running hopefully this weekend.   If I can get BMAX to work I think i can make it go :)<br><br>Doug Stastny <br><br></td></tr></table><br>
<a name="529379"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> thx Budman :)  im downloading Topologi Linux.  im not a linux guy though so i bet you beat me to the punch ;)   i have a feeling im going to get stuck during installation or just getting a desktop to show. <br><br></td></tr></table><br>
<a name="530195"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jamesmintram</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, I have been messing around with slackware and the Irrlicht mod. I have managed to compile it to some degree, but I get a funny error right at the end of compilation even though the lib files are created.<br><br>"Could not read from Ln (or In) file included from gg.mod/irrlicht.mod/irrlicht.cpp" so I click ok then get:<br>"Compile error"<br><br>There need to be some changes to the source files as well for it to compile under linux:<br><br>1) You need to change all the \ to / when it comes to file names - I wrote a script to do this for me.<br><br>2) There is a file called array_SKey_something.h which has case issues ie its all lower case but within the source it has higher case within the name as well.<br><br>3) I have ( as far as i know ) compiled the module, but when I try and compile a program, there are lots of undefined references to opengl functions. If i compile the original examples using gcc it works fine. I have installed the mesa  opengl libs and recompiled irrlicht and placed the new .a file into BlitzMax's lib folder. I have then rebuilt all modules but I still get undefined references, maybe it could be something to do with my mystery error when building the module.<br><br><br>Here is a log from compiling the module from teh command line:<br><br><a href="http://www.mintratech.co.uk/bmakelog.txt" target="_blank">http://www.mintratech.co.uk/bmakelog.txt</a><br><br>And here is a section of my error log when compiling example 2:<br><br>/home/james/downloads/BlitzMax109/lib/libIrrlicht.a(COpenGLTexture.o)(.text+0x755): In function `irr::video::COpenGLTexture::copyTexture()':<br>: undefined reference to `glBindTexture'<br>/home/james/downloads/BlitzMax109/lib/libIrrlicht.a(COpenGLTexture.o)(.text+0x7ae): In function `irr::video::COpenGLTexture::copyTexture()':<br>: undefined reference to `glTexImage2D'<br>/home/james/downloads/BlitzMax109/lib/libIrrlicht.a(COpenGLTexture.o)(.text+0x7ec): In function `irr::video::COpenGLTexture::copyTexture()':<br>: undefined reference to `glTexParameteri'<br>/home/james/downloads/BlitzMax109/lib/libIrrlicht.a(COpenGLTexture.o)(.text+0x806): In function `irr::video::COpenGLTexture::copyTexture()':<br>: undefined reference to `glTexParameteri'<br>/home/james/downloads/BlitzMax109/lib/libIrrlicht.a(COpenGLTexture.o)(.text+0x84b): In function `irr::video::COpenGLTexture::copyTexture()':<br>: undefined reference to `glTexParameterf'<br>/home/james/downloads/BlitzMax109/lib/libIrrlicht.a(COpenGLTexture.o)(.text+0x866): In function `irr::video::COpenGLTexture::copyTexture()':<br>: undefined reference to `glTexParameterf'<br>collect2: ld returned 1 exit status <br><br></td></tr></table><br>
<a name="530214"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jamesmintram</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> W00t Got it working!! Turns out your need to explicitly link Opnegl To your bmax app with this line:<br><br>import "-lGL"<br><br>Heres a screeny :D<br><br><u>http://www.mintratech.co.uk/snapshot1.png</u><br><br>Now the only issue obviously is the titlebar name. This goes all screwy after keyboard input, not sure why as I haven't really looked into it!<br><br>And I have just realised that the lighting looks messed up, but I think that is an issure with Irrlicht and Linux as i remember reading about it somehwere. I will investigate further. <br><br></td></tr></table><br>
<a name="530295"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DStastny</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I got all the compile issues that james found but I cant get past the linking.<br><br>I have older Nvida card it was bad enough having to recomiple the kernal to get OpenGL support at all.  Bmax works fine but there seems to be some problem linking to the appropriate call to get the glXGetProcAddress linking.<br><br>Apprently the headers defines glXGetProcAddress but the object file that Nvidia creates exports glXGetProcAddressARB.   I am not a OpenGL linux person at all but Im still pluggin...<br><br>As for lighting problem james there is bug in the extension code a cut paste error, on the Irrlicht Forums that I stumbled accross. trying to get my code to link.<br><br>My ENET network module comipled and ran which was pretty cool.  I brought my test server up under Linux and connected to it from my test windows client.<br><br><br>Doug Stastny <br><br></td></tr></table><br>
<a name="530300"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've started using glxGetProcAddressARB , in BlitzMax v1.10 which should be out tonight check out bbGLGraphicsSetSwapInterval in glgraphics.mod/glgraphics.linux.c for an example. <br><br></td></tr></table><br>
<a name="530303"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> james has been kind enough to send me a working build for linux for merging into my source.  i have downloaded but wont have a chance to look at it until tomorrow.  i have forwarded it to you Budman if you want to see if you can compile with it.  also, i have seen a lighting issue with OpenGL as well but it was on my laptop.  i figured it was driver related. <br><br></td></tr></table><br>
<a name="530324"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DStastny</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Skid will check it out.  Irrlicht doesnt use Glew which is probably the biggest compaitbility resovler with the various G/L implementations under Linux I suspect since the BMAX stuff all seems to work..<br><br>Funny that they changed the API but the vendors cant seem to agree to change there implmentations.  Nvidias headers are different than XORGs.  How do you code to muliple enviroments without having your users recompile the source.<br><br>I did get it up and running with kludgy hack with #defines.<br><br>To fix the lighting bug requires rebuild of the DLLs.  I would probably just wait for update to Irrlicht for windows as the DirectX works better.<br><br>I have fixed and recompiled the Linux but hacked it to work on my machine so dont know how well it will work anywhere else.  The CPP demos compile and run cant get BMAX to work. <br><br>Thanks gman maybe james changed something different than I did with the BMAX mods and it might fix my problems.<br><br>might have to wait few days as after poking with drivers til 3am last night.  I have honey do list from my wife :P<br><br>Doug Stastny <br><br></td></tr></table><br>
<a name="530536"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jamesmintram</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, I to get it working I installed the MesaGL libs after recompiling them, I had to overwrite my NVidia GL Libraries (Nasty I know) and it was a bit of a tempory hack to get it working, but I am going to work in getting it to work on the nvidia libraries.<br><br>Will update my progress here. <br><br></td></tr></table><br>
<a name="530598"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DStastny</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok here is something I came across.<br><br>The C++ demos work fine with my build.  BMX Demos dont.<br><br>As you saw text gets fubar'd,  I have some other issues not sure if all of them are related to just this but might be to useage of Size_T as well.<br><br>The issue I tracked it down to is Blitzmax defines Unicode as a short-&gt;16bit.  Irrlicht uses w_chart.  Under Linux 32 bit that is a int-&gt;32 bit,under 64 bit linux its a long.<br><br>So everywhere in the wrapper that passes strings wont work.<br><br>Looks like we are gonna need some functions to translate between 16bit unicode and w_chart, to get this to work under Linux.<br><br>I think the only way to get the GL Extension issue resolved is to change the way irrlicht access the GL extentions.  I still think if it was recoded to use GLEW it would give better compatibility wihtout all the damn #ifdef's.<br><br>Niko- Irrlichts author seems to really focus on DX and not OpenGL so much and although cross platform there is some nasty code at the driver levels.<br><br>Im getting pretty familar with the Irrlicht source so I might take a crack at it.  First up is solve the multibyte code issue.<br><br>Doug Stastny <br><br></td></tr></table><br>
<a name="530622"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jamesmintram</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> W00t I have managed to get it working properly with the NVidia opengl drivers, theres a simple change that is needed to be made to the irrlicht source code.<br><br>Ive also had to make another change with respect to the textures going mental which is now sorted and it runs at full speed which is always good :D<br><br>Budman, I will email you the sorce code I have for irrlicht, along with a brief description of what I have changed.<br><br><u>http://www.mintratech.co.uk/snapshot2.png</u> <br><br></td></tr></table><br>
<a name="534236"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> just an FYI...  the mods have been updated with linux compatibility and are now available for download from the worklog.<br><br>a big thank-you to Budman and jamesmintram <br><br></td></tr></table><br>
<a name="535197"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Isaac P</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry, only just revisiting Bmax after a long period.  How exactly would I use this on linux.<br><br>By that I mean, where do i have to place everything, how does it all need setting up?<br><br>And is there some kind of code reference?<br><br>Sorry if this has all been answered before but i cant get the search function to respond effectively :( <br><br></td></tr></table><br>
<a name="535198"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jamesmintram</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Install linux Opengl drivers for your video card.<br>Download module archive, extract into your mods directory so its like this:<br><br>blitamax/mods/gg.mod/<br><br>Place the libIrrlicht.a file into <br><br>blitzmax/lib<br><br>And you should be able to compile your stuff! Any problems just ask. <br><br></td></tr></table><br>
<a name="535200"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Isaac P</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Heh already got my drivers installed.  Installing the ATI drivers on a FC4 installation that uses GCC4 was no easy task, but i managed it.<br><br>I see how it has to be now, i was going one directory level too far.  I wasn't sure if I had to place irrlicht.mod and irrbmax.mod in the mods directory or the actual gg.mod directory.<br><br>Thanks for the help :) <br><br></td></tr></table><br>
<a name="535210"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Isaac P</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> NM see below <br><br></td></tr></table><br>
<a name="535217"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Isaac P</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> NM I'm stupid :P <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
