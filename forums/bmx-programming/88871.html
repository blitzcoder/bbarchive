<!DOCTYPE html><html lang="en" ><head ><title >Virtualresolution VRAM size?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Virtualresolution VRAM size?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Virtualresolution VRAM size?</a><br><br>
<a name="1009103"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arowx</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi just wondering if I do a game and write it at a high resolution and use virtual resolution to scale the graphics down, will the images still nead loads of Graphics Video Ram? <br><br></td></tr></table><br>
<a name="1009111"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm pretty sure that it won't change the memory requirements -- the detail of the high resolution images in memory is still preserved, it just the final visual representation that's getting scaled down... <br><br></td></tr></table><br>
<a name="1009141"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arowx</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> So the images would use a larger amount of Video Memory than they would really need?<br><br>E.g. a 128x128 image at a half size virtual resolution would only really need space for a 64x64 vram image but use up 4 times as much. <br><br></td></tr></table><br>
<a name="1009142"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> No, it needs space for a 128x128 image, which gets *projected* to a 64x64 actual resolution before display. But you can adjust the projection (virtual resolution) and draw it larger as well, the info is still there. <br><br></td></tr></table><br>
<a name="1009143"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well yes, technically this is true, but the only other alternative is to include multiple versions of each image, and that's not very practical because it bloats your download size. I'm pretty sure that BlitzMax intelligently uses mipmaps if you enable them and so you'll only actually be drawing the 64x64 mip instead of the 128x128 one, so you won't get any performance decrease. Yes, you'll need the 128x128 one in memory, but unless you're making a game which uses more than 64mb of textures, this isn't really going to be an issue, is it? <br><br></td></tr></table><br>
<a name="1009144"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arowx</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sounds good, so ideally I would opt for a mid to upper range default resolution and then virtualise up or down to match the desktop resolution of the machine?<br><br>Can you virtualize and scale a viewport (sub-region of dispaly) or overlay, e.g. it could allow for a map, magnifying glass or hud effect to be used in game? <br><br></td></tr></table><br>
<a name="1009234"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arowx</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool just playing with virutalresolution() didn't realise you can change it on the fly, so you can draw things at different virtual resolutions!<br><br>Personally I'm going to use virtualresolution for the game screens and the hud overlay, but keep the the game grid at a pixel resolution!<br><br>This is great!<br><br>Could even use this for a magnifying or high level map effect! <br><br></td></tr></table><br>
<a name="1009298"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MGE</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> hmm.. not sure I would change that once it's set. Sounds interesting though, would love to see a demo if you get that up and running. <br><br></td></tr></table><br>
<a name="1009471"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arowx</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think SetVirtualResolution is just scaling the graphics and their coordinates and it seems to work at least in a simple example multiple times within the same drawing/update cycle!<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Import maxgui.Drivers

Local desk:TGadget = Desktop()

Global desktopMode:TGraphicsMode = New TGraphicsMode

Global gfx:TGraphics = Null

Global gfxwidth:Int
Global gfxHeight:Int

	
	gfxwidth = desk.width
	gfxHeight = desk.height
	
Print "Graphics modes: " + gfxwidth + "x" + gfxHeight



Graphics gfxwidth, gfxHeight, 32, 60 
SetBlend(ALPHABLEND)

Global font:TImageFont = LoadImageFont("c:\windows\fonts\arial.ttf", 20)
SetImageFont(font)

SetVirtualResolution(1920,1200)

Repeat

	Cls
	SetAlpha 0.75
	SetColor(255, 0, 0)
	SetVirtualResolution(gfxwidth,gfxHeight) ' default Resolution
	
	SetColor(155, 0, 0)
	DrawText("Graphics "+gfxwidth+" "+gfxHeight,10,10)
	DrawRect(10,10,64,64)	
	
	SetVirtualResolution(1920,1200)
	
	SetColor(155, 155, 155)
	DrawText("Graphics " + gfxwidth + " " + gfxHeight, 100, 100)
	
        SetColor(255, 255, 255)
	DrawRect(100, 100, 64, 64)
		
	SetColor(0, 0, 255)
	SetViewport(200, 200, 300, 300)
	SetVirtualResolution(1920 * 2, 1200 * 2)
	DrawRect(100, 100, 640, 640)
	SetColor(0, 0, 155)
	DrawText("Graphics " + gfxwidth + " " + gfxHeight, 500, 500)
		
	SetViewport(0, 0, gfxwidth, gfxHeight)
	
	Flip

Until AppTerminate() Or KeyDown(KEY_ESCAPE)
</textarea><br><br>You should see three seperate squares all drawn at different virtual resolutions and some text! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
