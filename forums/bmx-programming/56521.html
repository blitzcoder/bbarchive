<!DOCTYPE html><html lang="en" ><head ><title >Printing Unicode text...</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Printing Unicode text...</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Printing Unicode text...</a><br><br>
<a name="628285"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >neilo</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>I'm just starting a multimedia presentation program that is right up Blitz's alley.  I'm taking 3D content from Autodesk Inventor (ultra-high end parametric modelling software) and converting the models into something Blitz can use (It's a c# project, makes a OLE link to Inventor and reads out the vertex information).  The multimedia stuff is for interactive manuals of our equipment.<br><br>The manuals must be translated into all sorts of languages (an occupational hazard being a global company), so Unicode is a must.<br><br>I was heading down the Dark Basic path, but stopped dead with Unicode.  Blitz 3D doesn't seem to do the double-byte thing, either (willing to be proved wrong on that, though).  BlitzMax does do the unicode shuffle, much to my surprise.<br><br>I've written a little test program, to print some Arabic:<br><br>Graphics 640,480<br><br>Local font:TImageFont=LoadImageFont("c:\windows\fonts\cour.ttf",24)<br>SetImageFont font<br><br>text$=""<br><br>Local unicode:Short[8]<br><br><br>Local nextChar:Short<br><br>For i=6 To 0 Step -1<br>	ReadData nextChar<br>	unicode[i]=nextChar<br>Next<br><br>text$=string.FromShorts(unicode,7)<br><br>While Not KeyHit(KEY_ESCAPE)<br>	Cls<br>	DrawText text$,100,100<br>	Flip<br>Wend<br><br>' A line of Arabic text<br>DefData $0625,$0646,$0643,$0644,$064a,$0632,$064a<br><br>(sorry if the formatting is smashed; first time poster to the forums)<br><br>Arabic is indeed being printed - but all the characters are in the final form!<br><br>So... has anyone succesfully printed a fancy double-byte character to the screen before, using BlitzMax?  Or, am I doing something spectacularly stupid here?  I followed the DrawText command right down; it processes text one character at a time, instead of handing off to the OS for printing.  So I'm guessing there might be another form of DrawText which will process a string in it's entirety.<br><br>Can anyone give me a pointer or two as to what I'm doing wrong - or, if soemone from BRL is reading, can I keep developing my application, with a proper Unicode update just 'round the corner?<br><br>Kind regards,<br><br>Neil <br><br></td></tr></table><br>
<a name="628302"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Regular K</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> In the most extreme case, you will have to write your own module to draw unicode.<br><br>Although, I don't see anything wrong with that code up there. I guess I just don't know enough about arabic? <div class="quote"> but all the characters are in the final form! <br></div> <br><br></td></tr></table><br>
<a name="628308"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WendellM</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> has anyone succesfully printed a fancy double-byte character to the screen before, using BlitzMax? <br></div><br>I'm not too familiar with Arabic, but using a slightly modified version of your code (using msgothic.ttf rather than cour.ttf and looping "0 to 2" to go left-to-right rather than right-to-left with "6 to 0 step -1") I was able to print "DefData $30e4, $30de, $30c8" correctly as "Yamato" in katakana:<br><br><img src="http://i15.photobucket.com/albums/a355/zoc/blitz_Tzt.gif"><br><br>So, your approach works just fine with double-byte unicode Japanese.  And thanks for posting it, since this is the first that I've seen that works in BlitzMax.<br><br><br><div class="quote"> Arabic is indeed being printed - but all the characters are in the final form! <br></div><br>Looking at Charmap, it seems that the initial and medial forms are also available (just with higher unicode values than in your test above):<br><br><img src="http://i15.photobucket.com/albums/a355/zoc/unicode_arabic.jpg"><br><br><br><div class="quote"> (sorry if the formatting is smashed; first time poster to the forums) <br></div><br>Welcome aboard, Neil!  You can use (code)(/code) or (codebox)(/codebox) around your code to preserve it (replacing the "()" with "[]").  More formatting goodness is at: <a href="/faq/faq_entry.php?id=2" >What are the forum codes?</a><br><br>Wendell <br><br></td></tr></table><br>
<a name="629529"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >neilo</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>Thanks to both of you for the replies.<br><br>Wendell, thanks for you additional help / pointers.<br><br>Looks like I've got some work ahead of me :)<br><br>Neil <br><br></td></tr></table><br>
<a name="629882"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jay Kyburz</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Neilo, I would really appreciate if you could get back to use with anything you discover. I have been hoping to support Unicode languages in my game but have been having trouble because i don't know enough about unicode. <br><br>Your test code it a great head start for me. Anything else would be great! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
