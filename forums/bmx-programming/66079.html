<!DOCTYPE html><html lang="en" ><head ><title >Random Crashing</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Random Crashing</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Random Crashing</a><br><br>
<a name="738459"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KrayzBlu</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, I've been having trouble with my porgram crashing at somewhat random places in my code, I and can't think of why it would be crashing. I've just made sure I've got .24 and Sync'd my mods, so there's nothing wrong there...<br><br>I've isolated the problem to two different lines, the first is a string method.<br><br><pre class=code>If (kname.contains(","))</pre> - Crashes<br><br>kname is of course a string. But if I put a print call before that line, my program doesn't crash there.<br><br><pre class=code>Print kname
If (kname.contains(","))</pre> - Doesn't Crash<br><br><br>The second is a Tlist with 1 element.<br><br><pre class=code>Print "NPCs"
Print Len(npclist)
For n:Character = EachIn npclist
Print "NPC 1"
</pre><br><br> - Prints out "NPCs<br>1", and doesn't print "NPC 1".<br><br>And yes, the list contains "character" objects. Does anyone know what I am doing wrong here? This is driving me crazy... <br><br></td></tr></table><br>
<a name="738461"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Crashes how?  What error messages are you getting, and where? <br><br></td></tr></table><br>
<a name="738464"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KrayzBlu</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> It just dies during runtime, and I'm not getting any error messages, from BM at least. <br><br></td></tr></table><br>
<a name="738503"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you using Strict?<br><br>Without Strict the slightest spelling mistake can cause strings to be uninitialized objects that will crash if invoked like your first example.<br><br>You are in Debug mode?<br><br>BTW a crash on Apple I usually regard as an event that will cause the OS to dump a large log into the output window. If you are in debug mode, the debug tree on the right should allow you to analyze the state of your code for a standard BlitzMax runtime error.<br><br>If the program just silently exits completely (stop button disabled) does it say anything in the output window? <br><br></td></tr></table><br>
<a name="738506"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KrayzBlu</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Its wierd that when it crashes, no error log comes up, the output window says that the program is completed (which it isn't becuase I'm using the data printouts) and the debug tree on the right is empty even though I am in debug mode.<br><br>I'm not using strict, but I've gone over all of the relevant data, and there's no spelling errors :/ <br><br></td></tr></table><br>
<a name="739320"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KrayzBlu</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just looking at the second section, was there anything changed in the last update with for/eachin that would cause the program to crash? <br><br></td></tr></table><br>
<a name="739327"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is npclist a list of Type Character? <br><br></td></tr></table><br>
<a name="739331"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KrayzBlu</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Its a TList Object. And yes, it only contains Character objects. Do I have to assign the list a certain object type??<br><br>So I went ahead and turne on Strict, now my program crashes at the end of a for loop, but this time it spits out "GC setMemBit: membit already set!" I have no idea why its doing this, but has anyone seen this beore?<br><br>~Thanks <br><br></td></tr></table><br>
<a name="739340"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Fabian.</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> If npclist is a TList object this<pre class=code>Print Len(npclist)</pre>shouldn't compile, should it? <br><br></td></tr></table><br>
<a name="739342"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KrayzBlu</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Huh? That always worked for me! Is Len() not supposed to work on Tlists?? <br><br></td></tr></table><br>
<a name="739350"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Fabian: You would think it shouldn't, but it does, even in SuperStrict. ( Bug? )<br><br>It doesn't return a useful result, of course, because it's for strings and arrays.<br><br>It seems to return one on TLists, regardless of the number of elements in them. <br><br></td></tr></table><br>
<a name="739353"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Fabian.</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>Strict
Framework brl.blitz

Local N
WriteStdout Len N</pre>??? It compiles and prints 1!!!!!<br>I think it is a bug. <br><br></td></tr></table><br>
<a name="739355"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Fabian.</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Gabriel<br>Yes it also works in superstrict, really wired! <br><br></td></tr></table><br>
<a name="739357"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I suppose the logic is that it could be used on an array of TLists and if you don't have an array, it's pretty much the same as an array of size one. Perhaps that's how it works internally, anyway.<br><br>Perhaps no one imagined anyone would use it get the length of a list. I know I didn't. <br><br></td></tr></table><br>
<a name="739359"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KrayzBlu</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> whoops? -&gt; Would that be the cause of crashing do you think? <br><br></td></tr></table><br>
<a name="739364"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Since you're only printing the output, and it doesn't crash immediately, it's probably unlikely. Only way to be sure is to remove it and see if it helps. <br><br></td></tr></table><br>
<a name="739394"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KrayzBlu</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> "GC setMemBit: membit already set!"<br><br>Does this have anything to do with it? <br><br></td></tr></table><br>
<a name="739396"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> @KrayzBlu,<br>You should really be using Strict or superstrict.<br>(Not that it will help here, but it <b>does</b> produce better code) <br><br></td></tr></table><br>
<a name="740028"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KrayzBlu</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, I'm really starting to get mad at strings now. First it was crashing because I used string.tolower(), now its crashing becuase I'm using a slice. Both times it blames GC: <pre class=code>GC clrMemBit: membit not set!</pre><br><br>Has anyone else run inot this at all? <br><br></td></tr></table><br>
<a name="740030"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leiden</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try using GCSuspend at the very start of your program. Does it want to run now? <br><br></td></tr></table><br>
<a name="740044"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KrayzBlu</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, that does it. Is it going to wreak much havok with the memory if I leave it there? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
