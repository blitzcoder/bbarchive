<!DOCTYPE html><html lang="en" ><head ><title >Var and Default</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Var and Default</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Var and Default</a><br><br>
<a name="527792"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there anyway I can use the command var with defaults, so I can leave out fields. Ex. Function Test(Var A = 0) The most simple way I could figure out was to do several functions. I for each number of variables.<br>It works if I do Apply(X,Y,Empty,Empty,Empty) but that doesn't just feel good.<br><br><br><br><pre class=code>

Global Arr[]

Arr = [799,599,359,99]

Function Apply1( A Var )
	If Len(Arr) &gt; 0 Then A = Arr[0] ;DebugLog "A Set"
EndFunction
Function Apply2( A Var , B Var )
	Apply1( A )
	If Len(Arr) &gt; 1 Then B = Arr[1]
EndFunction
Function Apply3( A Var , B Var ,C Var )
	Apply2( A, B )
	If Len(Arr) &gt; 2 Then C = Arr[2]
EndFunction
Function Apply4( A Var , B Var ,C Var , D Var)
	Apply3( A, B, C )
	If Len(Arr) &gt; 3 Then D = Arr[3]
EndFunction
Function Apply5( A Var , B Var ,C Var , D Var, E Var)
	Apply4( A, B, C, D )
	If Len(Arr) &gt; 4 Then D = Arr[4]
EndFunction


X = 800
Y = 600
Dir =360
Armor = 100

Print "X: "+X
Print "Y: "+Y
Print "Dir: "+Dir
Print "Armor: "+Armor

Apply1(X)

Apply2(X,Y)

Apply3(X,Y,Dir)

Print "X: "+X
Print "Y: "+Y
Print "Dir: "+Dir
Print "Armor: "+Armor
</pre> <br><br></td></tr></table><br>
<a name="527802"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LarsG</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not sure what you're trying to do here, but have you considered making a list of types rather than a massive array?! <br><br></td></tr></table><br>
<a name="527916"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> you could pass by pointer:<br><pre class=code>
Local x:Int = 8
Local y:Int = 90
test(x,Varptr y)

Function test(a:Int, b:Int Ptr = Null)
	Print a
	If b Then Print b[0]
End Function

</pre> <br><br></td></tr></table><br>
<a name="528476"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> @LarsG - I'm not sure what you mean, massive?<br><br>@Perturbatio - Thanks that was a good solution but then people have to use Varptr infront of every variable. I guess I'll simply go it with a couple of functions as in my first post. <br><br></td></tr></table><br>
<a name="529010"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I'm not sure what you're trying to do here, but have you considered making a list of types rather than a massive array?! <br></div><br><br>Didn't realize four elements was massive...<br><br>Anyhow, I have no idea what you're trying to do there. <br><br></td></tr></table><br>
<a name="529032"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Scott Shaver</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> why would you want a default for that? The point of var is to allow you to return a result in a given parameter. If you don't need the result back then use normal parameter defaults:<br><br>function foo(a:Int, b:Int=0)<br><br>if you need the value back then having a default is pointless becuase you wouldn't have supplied a variable to store the value in. <br><br></td></tr></table><br>
<a name="529070"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Let's say I want to set the start position of an object. So I make a function using var like this:<br>SetMidPos(X,Y) <br><br>function SetMidPos(W Var,H Var )<br> W = 200 ;H = 300<br>endfunction<br><br>Let's say I sometime want to use X,Y,Z<br><br>SetMidPos(X,Y,Z)<br>function SetMidPos(W Var, H Var, D Var)<br> W = 200 ;H = 300; D = 100<br>endfunction<br><br>If I want to use SetMidPos(X,Y) now it will not compile because it's missing the "D" parameter.<br><br>So I want something like this:<br>function SetMidPos(W Var, H Var, D Var = None)<br>W = 200 ;H = 300; <br>If D then D = 100<br>endfunction<br><br>Both SetMidPos(X,Y) or SetMidPos(X,Y,Z) should work.<br><br>In this way I can use the same function for both cases. This example is not related to my real code =) <br>It was just to show why it could be very handy especially with multiple Vars like D.<br><br>I could always go SetMidPos(X,Y,SomeTempVar) but that doesn't feel right. <br><br></td></tr></table><br>
<a name="529080"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Scott Shaver</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well I suppose you could it this way<br><br>function SetMidPos(W:Float, H:Float, D:Float = -9999)<br>if D!=-9999 then  = 100<br>end function<br><br>assuming you don't want the values back. That example you use is really not a Setter it is a Getter. Perhaps that is where my confusion lays.<br><br>function GetMidPos(W:Float Var, H:Float Var, D:Float = None)<br>W=100; H=200;<br>if D then D = 100<br>end function<br><br>I can see the use as a getter in the above example. However it seems a bit like to much syntactic sugar to support when you can simply ignore the values you don't want back with the current way of doing it.<br><br>Eye of the beholder I suppose. :) <br><br></td></tr></table><br>
<a name="529090"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would use it to get and update my current vars with other values.<br><br>Update(X,Y,Dir,Armor) - Receive new values<br><br>I just like the idea of having the same function for <br><br>Update(Energy,Power)<br><br>or <br><br>Update(X,Y,XSpeed,YSpeed,XAcceleration,YAcceleration)<br><br>Would be a smooth interface for the end user (end programmer). <br><br></td></tr></table><br>
<a name="529095"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I somehow don't see the problem.<br>You need default values on Set, where you don't need var at least if the interface should be somewhere "usefull" for end programmers which search for "MiddlePos()" or "GetMiddlePos()" to get these values.<br><br>Beside that: A better distinction of different functions make stuff far better usable ie.<br>get_middle_pos_2d (W:float var, h:float var)<br>get_middle_pos_3d (w:float var, h:float var, d:float var)<br><br><br>I know, more work than C++ overloading but by far better distinction as well if you need different implementations later etc <br><br></td></tr></table><br>
<a name="529155"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't really want overloading (and I don't know C++ but I guess overloading is basically the same as in Java), just a optional var. I mean think if you have an array with incomingdata[]<br><br>Instead of<br>X = IncomingData[0]<br>Y = IncomingData[1]<br><br>You could go ApplyIncomingData(X,Y)<br><br>'If you have a function like this:<br>function ApplyIncomingData(A var,B var)<br>   A = IncomingData[0]<br>   B = IncomingData[1]<br>endfunction<br><br>Think about that but with more than X,Y or with other things than just X,Y. I want the number of function parameters to be equal to the Length of the IncomingData Array =) <br><br>The only way I can think of doing this is to do it with pointers somehow. The problem is I have never worked with pointers, I don't even know if pointers can help me out here. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
