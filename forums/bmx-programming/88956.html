<!DOCTYPE html><html lang="en" ><head ><title >recursive zip files (and timelineFX)</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >recursive zip files (and timelineFX)</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >recursive zip files (and timelineFX)</a><br><br>
<a name="1009990"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Imphenzia</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'd like to recursively extract zip-files into memory but I'm not too successful yet, probably because the TStream-concept is a bit new to me.<br><br>The root of the problem is that I'd like to embed a timelineFX effect library that also uses gmans zip-engine into another zip for the asset. Problem is due to both timelineFX and gman zip expects a filename rather than a memory stream to load from.<br><br>I suspect I have to modify the zip-engine and timeline FX to be able to load from tstreams? ....and furthermore I am just realizing that I don't have the skill to change the zip-engine to cope with this =) <br><br></td></tr></table><br>
<a name="1009997"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> did you hear about koriolis.zipstream? I do not know, whether this helps you...<br><br>With this module it is possible to combine includes files and zip in streams:<br>Picture=Loadimage("Incbin::Zip:://image.png"). <br><br></td></tr></table><br>
<a name="1010002"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> you would have to modify gmains module or the general zip module behavior to support streams isntead of pure filenames <br><br></td></tr></table><br>
<a name="1010009"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Imphenzia</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've lookad at koriolis thanx - but still similar issue for me. The problem for me in gman is that it's using all fancy stuff with byte pointers and weird streams so I'll probably just have to keep my assets outside instead.<br><br>If anyone with mad skills out there can help out with a modification I'd be very thankful =) <br><br></td></tr></table><br>
<a name="1010010"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Rigz</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> That could be quite tricky :) You could extract the file to disk to a temp folder first, and then load from there, cleaning up after. But I guess that is a bit messy... <br><br></td></tr></table><br>
<a name="1010464"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>If anyone with mad skills out there can help out with a modification I'd be very thankful =)<br> <br></div><br>why not go to the source? :)  not saying i have mad skills, but ill take a look tonight in regards to loading from a memory stream in ZipEngine.<br><br>the issue is really the underlying library used to work with zips.  its current interface is based on opening a file from a path.  as Pete pointed out you could extract to temp files to do the recursion so if all else fails i may be able to make a clean version based on that concept.  would definitely take less memory.  still, i think there is hope in the underlying library.  there is really only one part that deals with opening a file and from that point on it reads bytes from a byte stream.  there is also a way to provide a different file open function to provide that stream.  bottom line there are options making this concept feasable...  and this may be a neat feature to have added :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
