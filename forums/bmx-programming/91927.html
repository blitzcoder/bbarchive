<!DOCTYPE html><html lang="en" ><head ><title >Blitzmax and Video</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Blitzmax and Video</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Blitzmax and Video</a><br><br>
<a name="1046230"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CASO</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there a way to show a video in BlitzMax, specifically on Mac?<br><br>I have a project where I would like to have a video looping in the background.<br><br>What are my options? <br><br></td></tr></table><br>
<a name="1046244"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leon Drake</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> from what i remember brucy made a couple modules that can do video one without sound i think it required you to sync them yourself, <br><br>another thread here<br><br><a href="http://www.blitzmax.com/Community/posts.php?topic=87506" target="_blank">http://www.blitzmax.com/Community/posts.php?topic=87506</a><br><br>allowed you to embed a swf flash player into the game to play a movie. <br><br></td></tr></table><br>
<a name="1046301"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> PantsOnHead made two video modules: One that plays mpeg video (GPL license), the other use Ogg Theora (BSD license)<br><br>Neither of them has video/sound synchronization, though.<br><br>You can download them here: <a href="http://www.pantson.com/mods/index.php" target="_blank">http://www.pantson.com/mods/index.php</a> <br><br></td></tr></table><br>
<a name="1046315"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BLaBZ</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just a thought... You could use a MaxGUI web page window, disable all title bars hide cursor etc, and show a flash video <br><br></td></tr></table><br>
<a name="1046317"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CASO</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> But that would allow me only to show the video. I want to use BMax to put words and such on top of the video (sound is not required). <br><br></td></tr></table><br>
<a name="1046320"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> The Ogg Theora one probably works for you. You can convert pretty much any video format into Theora using free converters. <br><br></td></tr></table><br>
<a name="1046476"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >theHand</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://www.blitzmax.com/Community/posts.php?topic=87598#1012933" target="_blank">http://www.blitzmax.com/Community/posts.php?topic=87598#1012933</a> <br><br></td></tr></table><br>
<a name="1046680"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dabhand</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Bestest way I found, which give let me have the most control, kept the 'video' size right down, while fully cross platform, was to split a video into its individual frames, load each one into a bank, then load and display from there:-<br><br><pre class=code>
Function DoGameEnding()
	
Local bank:TBank[215]

For Local frameLoop:Int = 0 To 214
	bank[frameLoop] = LoadBank("media/video/frame" + frameLoop + ".jpg") 'Each frame is 512x512 pixels
Next

Local count:Int = 0
frame = LoadImage(bank[count])
Local doExit:Int = False 
	
Local endingTweener:tTweener
endingTweener = New tTweener.Create(18)
	
Repeat
	Cls
		
	DrawImageRect frame, 0, 0, 800, 600
	endingTweener.Update()
			
	For Local Ticks:Int = 1 To endingTweener.FrameTicks
		endingTweener.UpdateExecutionTime()
		frame = Null
		GCCollect
		frame = LoadImage(bank[count])
		count = count + 1
		If count = 215 Then doExit = True ; Exit
	Next
	If doExit = True Then Exit 

	Flip
		
		
	If MouseHit(1) Then Exit
Forever
End Function
</pre><br><br>Worked a charm! :)<br><br>Dabz <br><br></td></tr></table><br>
<a name="1046738"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Using a 'real' video decoder will result in smaller files though, since thos etypically only track the changes between successive frames, and not the entire scene each frame. (Other than a keyframe every ~10 seconds or so) <br><br></td></tr></table><br>
<a name="1046748"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DrDeath</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> But that would allow me only to show the video. I want to use BMax to put words and such on top of the video (sound is not required).  <br></div><br>That's not a trivial task that goes far beyond simply displaying a video. You'll probably have to use OpenGL <strike>or DirectX</strike> magic to do this. <br><br></td></tr></table><br>
<a name="1046751"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm pretty sure that the video decoders mentioned above will draw to the screen like any other blitzmax drawing operation -- you have a normal graphics context, and can draw on top of them without problems... <br><br></td></tr></table><br>
<a name="1046760"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dabhand</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Using a 'real' video decoder will result in smaller files though, since thos etypically only track the changes between successive frames, and not the entire scene each frame. (Other than a keyframe every ~10 seconds or so)<br> <br></div><br><br>What I found when using that code above (Which was only written because of the sheer lack of decent video support at the time), was that the file size difference was minimal, the above 'video' uses 215 512x512 jpeg frames, and rolls in, disk size, at 2mb... I found believe it or not, the same video encoded to roughly the same file size looked terrible, no, it was worse than terrible when running.<br><br>A lot of blitzmax based video codecs that I tried just didnt do the job I wanted, they would either run and display the video terribly, if I recall, one used to only play the video on the top-left of the screen only, and to make it cover the entire screen, I'd have to convert it to 800x600 (Bigger file size straight away), but it still looked awful. Another would fire up its own graphics context and display it in a separate window (I think it was the windows only one that did that)<br><br>I tried everything, but this worked a charm for me, and to be fair, if something works, then who am I to argue!<br><br>Dabz <br><br></td></tr></table><br>
<a name="1046764"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Fair enough. <br><br></td></tr></table><br>
<a name="1046766"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ked</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Dabz: You could also create your own file type and throw all the frames into that file (along with frame speed, video information, etc.) and then compress it with zlib. I would definitely be interested in something like this, actually. :) <br><br></td></tr></table><br>
<a name="1046787"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dabhand</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>@Dabz: You could also create your own file type and throw all the frames into that file (along with frame speed, video information, etc.) and then compress it with zlib. I would definitely be interested in something like this, actually. :) <br> <br></div><br><br>lol, well, I was thinking of taking this a little step further when I needed video for my next project, because I'd simply do the same thing... Unless of course, someone writes one before hand, which is usually the case half the time! :D<br><br>Dabz <br><br></td></tr></table><br>
<a name="1046846"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ked</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> lol, well, I was thinking of taking this a little step further when I needed video for my next project, because I'd simply do the same thing... Unless of course, someone writes one before hand, which is usually the case half the time! :D <br></div><br>I think a little stuff added here and there on top of what you already have would actually produce a very cool and useful module. If you ever do decide to take this a step further, I would definitely be interested in helping. <br><br></td></tr></table><br>
<a name="1046893"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tachyon</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've been begging for someone to make a video module for years now. I'd pay for it.<br><br>The ideas above for a module that uses frames in a zip file isn't what I want...it's not flexible enough. I want a standard video playback module, that handles synchronized sound, and be cross-platform. It needs to play Theora files at the very least, and Xvid would be nice as well. <br><br></td></tr></table><br>
<a name="1046912"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CASO</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am trying to create a program that displays song lyrics on top of looping video, so sound is not important for me. Yet I am still amazed that BlitzMax still does not have a robust video module. <br><br></td></tr></table><br>
<a name="1046954"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TaskMaster</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Has anyone tried to make VLC work with BlitzMax?  Seems like that might be doable. <br><br></td></tr></table><br>
<a name="1047026"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bremer</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> MPlayer can be used with BlitzMax.<br><br><a href="http://www.mplayerhq.hu/design7/news.html" target="_blank">http://www.mplayerhq.hu/design7/news.html</a><br><br>I am not sure what kind of license it has. I used it for a media center type application I did for someone perhaps two years ago. If I remeber corretly it is controlled by calling it with commandline parameters and you need to feed it the context you want it to be shown in. But it supports all kinds of video files with and without sound. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
