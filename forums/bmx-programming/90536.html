<!DOCTYPE html><html lang="en" ><head ><title >Memory Leak!!!!!</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Memory Leak!!!!!</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Memory Leak!!!!!</a><br><br>
<a name="1029480"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WERDNA</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey everyone!<br><br>  I meant to have a new version of Ping Pong Battle uploaded today, but alas<br>found a memory leak while play testing. I can't post any code, since I have no<br>clue where it might be coming from, but some general suggestions as to what<br>might be causing it, and how I might fix it or test to see what's causing it would<br>be invaluable.<br><br>I'm using BlitzMax version 1.34, and here's what happened.<br><br>I was playtesting the game on my Win7 laptop, it was running very nicely without<br>any glitches. Played for about 20 minutes, and then got a Windows7 error pop-up<br>that 'This program needs to close' with no explanation of why.<br><br>So I closed it, tried to recompile my code so I could hunt around for this glitch<br>and got a failed to compile error that said I had 'No Memory'. After waiting<br>around for a few minutes, I could compile just fine, but I fear there is a memory<br>leak that caused my program to soak up ALL available RAM until it crashed :)<br><br>Your help with this, would be most appreciated. <br><br></td></tr></table><br>
<a name="1029487"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Thareh</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I haven't experienced any memory leaks myself, but here's a possible way to find out where the leak is! :)<br><br><pre class=code>
Local MA:Int = GCMemAlloced()
'The function or code you want to test for leakage here
Print GCMemAlloced() - MA
</pre> <br><br></td></tr></table><br>
<a name="1029496"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> you might be dividing by zero, make sure you are not first, <br><br></td></tr></table><br>
<a name="1029500"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WERDNA</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, I'll try out your code ;) Thareh!<br>That should help out.<br><br>@Slenkar I don't 'think' that I'm dividing by zero, but I'll go through my code to make<br>sure ;) <br><br></td></tr></table><br>
<a name="1029509"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> See if it gobbles up tons of memory in the task manager. <br><br></td></tr></table><br>
<a name="1029515"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Any reason that you're still on 1.34?<br><br>The latest version is 1.39, and there have been quite a few bugfixes since 1.34... <br><br></td></tr></table><br>
<a name="1029521"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Compile in multithreaded mode.  If the leak is fixed, you probably have a circular reference not getting collected in single-threaded mode. <br><br></td></tr></table><br>
<a name="1029533"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> JoshK is one of the easiest ways to ensure it is not a circular reference bug. <br><br></td></tr></table><br>
<a name="1029535"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WERDNA</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oky doke, there is a DEFINITE memory leak.<br><br>Had task manager running while playing the game, and every time it hit a new<br>major function such as the main loop, game over, character select, or title screen, the<br>free physical memory dropped by about 50 to 100MB. It would then stabilize,<br>once in the function, and remain stable throughout.<br>  But it never really <i> recovers </i> any free memory, and eventually runs out and<br>crashes ;)<br><br>So I'm betting I'm doing something dumb. For a lot of my functions, I load images as<br>local variables so I don't have to as global ones(To cut down on initial load time). should<br>I free those before moving on to a new function, and should I free any local variables as well?<br>(And if so, how do I do so?)<br><br>Also is there anyway to ADD to the free physical memory?<br><br><br>Thanks!<br><br>I'll try the multithreaded build now JoshK :) <br><br></td></tr></table><br>
<a name="1029536"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WERDNA</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well multithreaded build didn't work. I'm still losing massive chunks of memory :( <br><br></td></tr></table><br>
<a name="1029537"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  Also is there anyway to ADD to the free physical memory? <br></div><br>Put in some new RAM sticks ? :-) <br><br></td></tr></table><br>
<a name="1029538"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WERDNA</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> lol <br><br></td></tr></table><br>
<a name="1029542"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WERDNA</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> How do you, replenish the free physical memory?<br>It slowly drops with every new function I enter, and even if I set all the local variables<br>to NULL at the end of the function, it still doesn't relinquish any of the memory it took,<br>even though those variables don't seem to be in use anymore. Thats what I really<br>need it to do, so that I have x amount of memory to work with in each function, and<br>then can free it when I move on to another function so I have x amount of memory<br>once again. <br><br></td></tr></table><br>
<a name="1029547"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you using proper datatypes?<br><br>e.g. declare your images as 'timage' instead of 'int'?<br><br>Do you reload your graphics at the beginning of a level?<br>If so, do you first clear the old variables?<br><br>And again, is there any reason that you aren't using 1.39? There have been a bunch of bugfixes in the past 5 releases, which might address the issue that you're running into here... <br><br></td></tr></table><br>
<a name="1029548"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WERDNA</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  e.g. declare your images as 'timage' instead of 'int'?  <br></div><br>No, I'll do that :)<br><br><div class="quote">  Do you reload your graphics at the beginning of a level?  <br></div><br>I reload a lot of them, because they're local. I have too many images for them to<br>ALL be global, because then the initial load time is far too long.<br><br><div class="quote">  If so, do you first clear the old variables?  <br></div><br>Thats what I'm trying to figure out how to do. Would just saying image=null work?<br><br><div class="quote">  And again, is there any reason that you aren't using 1.39?  <br></div><br>Not really. I was using 1.35, heard it had glitches, downgraded to 1.34 and haven't<br>bothered to upgrade. I probably should, lol.<br><br>Thanks xlsior!<br><br>I always find your suggestions invaluable. You are a very knowledgeable fellow :) <br><br></td></tr></table><br>
<a name="1029554"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> you may as well upgrade <br><br>what i do is put my images in an array or a Tmap<br><br>When you want to get rid of the images just do map=null or array = null<br><br>your problem probly lies in the fact that you are using Int for Images, that should probably be made more clear to max users. <br><br></td></tr></table><br>
<a name="1029557"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Would just saying image=null work? <br></div><br><br>I think so, BUT make sure that you define them as :timage - I remember reading something about memoryleaks when you don't. <br><br></td></tr></table><br>
<a name="1029559"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WERDNA</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, thanks to both of you :)<br><br>I'm working on dinner right now, and probably won't have the chance to do much tonight,<br>but I'll work tomorrow on replacing all image=LoadImage, with image:timage = LoadImage instead.<br><br>And then I'll see what else I can do as well. While working on dinner, might as well<br>be download version 1.39 ;)<br><br><br>Thanks! <br><br></td></tr></table><br>
<a name="1029570"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you using Strict or SuperStrict ? <br><br></td></tr></table><br>
<a name="1029581"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grafos</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> What Brucey said. Also, are you running in release or debug mode?<br>My game doesn't free all the memory in debug mode, but it does in release. <br><br></td></tr></table><br>
<a name="1029591"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  e.g. declare your images as 'timage' instead of 'int'?<br><br>No, I'll do that :) <br></div> Not using Strict is just asking for your program not to work. <br><br></td></tr></table><br>
<a name="1029593"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Not using Strict is just asking for your program not to work.  <br></div><br><br>More specifically: not using strict is asking for these kind of 'mystery' problems, even though things may appear to work just fine at first sight. <br><br></td></tr></table><br>
<a name="1029641"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WERDNA</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not using strict ;)<br><br>I only found out about strict when I was several thousand lines of code in, and really<br>didn't want to go back through all my code defining what type of variable things are ;(<br><br>I'm running in Debug Mode, although running in Release doesn't fix the problem.<br><br>I'll work on what I posted above today, and 'maybe' on using Strict :(<br><br><br>Thanks! <br><br></td></tr></table><br>
<a name="1029651"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well if you aren't using strict you aren't using BM either.<br>You are using BlitzBasic compiled on BM basically.<br><br>You lose some major functionality in relation to object handling and the garbage collector will work worse too. One of the functionalities you are missing is that variable scoping does not exist, so you can save yourself the time to declare local variables as the only "local" that exists is a whole function.<br><br>Even worse, it offers you another major reason for memory leaks and thats the possibility to get handles from objects which is the worst thing you can do of all (should you really do that, you can be happy that you only have the problems you have), as it does not work with GC anymore then at all <br><br></td></tr></table><br>
<a name="1029680"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grafos</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> As I am not very experienced as well, I started my game without using strict and I had similar issues. I too was thousands of lines and counting, but still went back and converted everything to Superstrict. It's not as scary or hard to do as you might initially think.<br><br>Running in Debug mode with superstrict still doesn't clear the memory, but in release mode it does. I'd say try convert to superstrict, it makes for cleaner coding as well. <br><br></td></tr></table><br>
<a name="1029682"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WERDNA</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ecch, looks like I must use strict, or superstrict after all then ;(<br>Oh well.<br><br>I've converted all the image = loadimage to image:Timage = loadimage, and that<br>'helped' although I'm still losing memory. I also upgraded to version 1.39, and that<br>helped a lot, I'm now only losing memory slowly. I'm also working on making sure<br>all local variables are cleared :)<br><br><br>Thanks! <br><br></td></tr></table><br>
<a name="1029694"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> yknow you can get the IDE to replace text in the bmx file right?<br><br>e.g. search for trev=null<br>and replace with trev:Timage=null <br><br></td></tr></table><br>
<a name="1029706"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WERDNA</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeppers, thats how I fixed the loadimage :)<br><br>Its still annoying though, lol <br><br></td></tr></table><br>
<a name="1029738"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WERDNA</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> Set it to strict mode, and I'm now down to line 4025.(Still around 20'000 to go I think).<br><br>Although its annoying, I can already feel the difference. Strict just gives me so much<br>control, and already pointed out a few minor errors ;)<br>It also pointed out to me a few local variables that I didn't need, and a truly mysterious line of code.<br><br>If P.Pos = 1<br>NN = 50<br>ElseIf P.Pos = 2<br>NN = -50<br>End If<br><br>WTF?<br><br><br>Anyways, Strict is awesome :)<br><br>Thanks again everyone! <br><br></td></tr></table><br>
<a name="1029742"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> Superstrict is even better. ;-) <br><br></td></tr></table><br>
<a name="1029748"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Superstrict is even better. ;-)  <br></div><br><br>+1<br><br>Awaiting UltraStrict, ;) <br><br></td></tr></table><br>
<a name="1029752"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >plash</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Awaiting UltraStrict, ;) <br></div>+1<br>Awaiting SuperUltraStrict. <br><br></td></tr></table><br>
<a name="1029794"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WERDNA</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> strict should have been on by default.<br>But alas, blitzmax is in Super Lax mode by default ;( <br><br></td></tr></table><br>
<a name="1029891"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> Personally I use normal Strict! <br><br></td></tr></table><br>
<a name="1029971"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> I agree WERDNA, by default maxide should put in strict when creating a new bmx file.<br><br>I think blide does this when I remember correctly <br><br></td></tr></table><br>
<a name="1030147"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DavidDC</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> Whenever I come across a really nasty bug I can't pinpoint, I comment out half my code and see if it still exists. If it does, I comment out half again. By this binary culling technique you can often zero in on the problem quite quickly. Not always, however, as sometimes it is a dependency between the commented/uncommented sections that is the source of the problem. Could be worth a try though.<br><br>I totally agree with the SuperStrict advice above. <br><br></td></tr></table><br>
<a name="1030163"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> I use the stack tracer using Blide. I don't know how I survived without it. <br><br></td></tr></table><br>
<a name="1030188"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WERDNA</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've been using <br><br>Local MA:Int = GCMemAlloced()<br>'The function or code you want to test for leakage here<br>Print GCMemAlloced() - MA<br><br>And then right after printing the results, calling and printing<br>GCCollect()<br>to see how much of the memory allocated for that function has been cleaned up.<br>Its really helped me quite a bit, and all I have left is some very minor memory leaks,<br>that I've pinned down to a few functions.<br><br>So hopefully I'll have this ready soon :)<br><br><br>Thanks everyone! <br><br></td></tr></table><br>
<a name="1030485"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> From the BMax docs (under tutorials):<br><div class="quote"> <br><pre class=code>Local image=LoadImage( "somepic.png" ) 'assigning an object to an int! What gives?</pre><br><br>However, if you are using this feature in your programs, you *must* later 'free' the object yourself using Release... <br><pre class=code>Release image</pre><br><br>You can therefore think of Release as being similar to Blitz3D's FreeImage (or FreeSound, FreeThis, FreeThat etc).<br><br>All-in-all, it's probably best to avoid object-to-int assignments altogther if you are <b>concerned about memory leaks</b>.<br> <br></div><br>(emphasis mine)<br><br>Russell <br><br></td></tr></table><br>
<a name="1030530"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WERDNA</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> lol. that was a large part of the problem. I was horrified when I realized<br>I was assigning Timages, to an INT. :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
