<!DOCTYPE html><html lang="en" ><head ><title >On Mac, how to give a compiled program a new icon?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >On Mac, how to give a compiled program a new icon?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >On Mac, how to give a compiled program a new icon?</a><br><br>
<a name="1077804"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sokurah</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I know - "<i>not again</i>"...but I've spent ages looking through the forum to find out how, and I've found a lot of info - but I can't seem to find a <i>usable</i> solution (could all that old info be for older versions of BlitzMax?).<br><br>Either people are told to "look at the package contents" and put the icns file into the right folder and then edit the plist file, but I can't see the package contents - I just don't have that option after compiling.<br><br>Sometimes people are told that they can just copy it "from the file info area of the icon, to the executable's file into", but that doesn't work either.<br><br>Can someone point me in the right direction? <br><br></td></tr></table><br>
<a name="1077807"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> There's the right way, the quick way, and the right-only-better-because-it's-automatic-but-as-a-result-annoying-to-set-up... way<br><br>The quick way:<br>Copy the icon graphic (the picture itself, copy it from your photo editing program)<br>Get info on your application<br>Click the icon graphic at the top (it should get a glowing ring around it to tell you it's selected)<br>Paste. your graphic should now be the icon.<br>This is bad because it's just the icon that's show, it's not the actual icon for the program. It could be lost under certain conditions. Additionally if someone selects the icon in the get info window and presses delete it goes *poof*<br><br>The right way:<br>create an icon bundle (.icns file) in Icon Composer (in /Developer/Applications/Utilites if you've installed XCode on your main drive...). You can drag the image file into the icon areas to have it generate the levels for you (it likes to complain about transparency but it does a good job so just ignore it). Or again copy/paste the graphic itself.<br>*RIGHT* click on your application (or control click if you're using an input device with 1 button) to get the popup menu of stuff you can do to it, and select "Show Package Contents". This will open a new window showing you the inside of your program (apps on a mac are actually just folders...)<br>You will see a Contents directory, and in that a few other things. You're looking for "Resources" and in there you're looking for the .icns file.<br>Replace the existing icns file with the one you made in Icon Composer (exact same name...)<br>Close the window, your icon might not update immediately (because the OS caches icons since it doesn't expect them to change often...) to force it to update you can move it to another folder then copy it back (this makes the OS go "OOO! a new application! let's take a look at it's resources.)<br>Alternatively to replacing the icon file you can modify the Info.plist in the application's contents to point to an icon file with a different name etc... <br><br>The better right way.<br>Not sure if the default bmk for blitzmax supports post scripts or not, but Brucy's BMK NG (check his forum here for details) does. With it you can make a post.bmk script that will automatically be run whenever you build your program. With that you can have it automatically replace/modify/etc. your contents, including copying in a new icon file, or even a custom Info.plist (very handy for getting actual version info and copywrite stuff in place, and you have to tweak the plist if you plan on going to the mac store to meet it's submission requirements...)<br>Here's an example post.bmk<br><pre class=code>
# MacOS post build script
#
#
@define doPostInstall

	# only interested for Mac platform
	
	if bmk.Platform() == "macos" then
		
		#replace icon
		sys.CopyFile(%buildpath% .. "/Bin/icon.icns", %exepath% .. "/../Resources/" .. %outfile% .. ".icns")

		#replace info.plist
		sys.CopyFile(%buildpath% .. "/Bin/info.plist", %exepath% .. "/../info.plist")

	end

@end

# run the post install
doPostInstall
</pre><br>This replaces the info.plist in the application with one found at &lt;builddirectory&gt;/Bin/info.plist, it also replaces the icon file with one found at &lt;builddirectory&gt;/Bin/icon.icns <br><br></td></tr></table><br>
<a name="1077835"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sokurah</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, I'd like to do it right right way, but...<br><br><div class="quote"> *RIGHT* click on your application (or control click if you're using an input device with 1 button) to get the popup menu of stuff you can do to it, and select "Show Package Contents". This will open a new window showing you the inside of your program (apps on a mac are actually just folders...)<br>You will see a Contents directory, and in that a few other things. You're looking for "Resources" and in there you're looking for the .icns file. <br></div><br><br>...like I said; "I don't have that 'Show Package Contents' option".<br>(I do get it when I compile something with GLBasic, but not BlitzMax).<br><br><img src="http://www.tardis.dk/images/2011/osx1.png"> <br><br></td></tr></table><br>
<a name="1077837"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I don't have that 'Show Package Contents' option <br></div><br>You need to build a GUI App. (check the appropriate menu option in the IDE)<br><br>This creates the app bundle folder structure. <br><br></td></tr></table><br>
<a name="1077902"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John G</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Been using the "the quick way" for years to minimize heartburn. <br><br></td></tr></table><br>
<a name="1077991"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> What brucey said, you're building non GUI apps, those are executables that on a mac will run via the terminal actually (though that doesn't mean they can't access the graphics and GUI systems, just that that have a NON gui existence as well...). As a result they are just raw binaries, not actual mac "Applications" (which as mentioned above are folder structures that contain the binary among other things).<br><br>I hope someday the maxide changes this to be a little more self explanatory, but for now everyone's gotta figure out what that toggle does sooner or later :0) <br><br></td></tr></table><br>
<a name="1077998"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sokurah</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Aha, that makes sense - and also explains why I get that damn Terminal window - which was supposed to be a followup question. LOL.<br>...I guess building GUI apps is the way to go then. ;)<br><br>A couple of more (perhaps) related questions:<br><br>I've had to remove all code to run my games in windowed mode, because when they start in a window they don't react to any keypresses. Is that because I've been building them non-GUI?<br><br>I've been using an older version of BM for building my current builds - as I've just been fooling around  and wasn't ready to release anything for OSX anyway, but that has now changed - I've taken the plunge, so I updated to 1.41 cos I thought it'd be best to run the latest version, but now my games that ran a steady 60 fps now run amok with 600-800 fps. Huh, what changed? There's no problem with the Windows versions.<br><br>As you can probably tell I'm new to this Mac gubbins - I'm more of a Windows person, but I've bought a Mac (a good while back but practically not used it at all) so I'm about to enter a learning process here, so there will probably be more questions. Have patience with me. :) <br><br></td></tr></table><br>
<a name="1077999"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I prefer "the better right way", because it doesn't require me to do anything.<br><br>So... I'm lazy and hate repetition! <br><br></td></tr></table><br>
<a name="1078002"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  when they start in a window they don't react to any keypresses <br></div><br>Yep... you get a different interactive framework when you are wrapped up inside an app bundle.<br><br><div class="quote">  now my games that ran a steady 60 fps now run amok with 600-800 fps <br></div><br>There may have been a change to the way it syncs on Flip.<br>Try Flip 1, Flip 0, or Flip -1 <br><br></td></tr></table><br>
<a name="1078012"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> To backup what brucey said, I use the lazy man's way as well ;0)<br><br>Also, your flip code was probably previously sycing with the screen refresh (likely 60hz on an LCD) and that was throttling your game to 60fps. With the flip not syncing it's free to redraw as fast as it likes (say 10x faster as you're seeing...). You can force it to sync, but remember that if someone's not running at the same refresh rate (say they have a weird LCD that prefers to claim 58hz, or a CRT that goes at 96 no matter what...) it's going to affect the speed of your game. I would strongly recommend that you put in some form of throttle control (I tend to use a tweening method, search the forum, there's plenty of threads on this). This will let you run you game even smoother than 60fps on fast machines (oooo pretty) and will keep it chugging along normally on slow or spotty machines, just sacrificing fps (even if it drops to 30fps it should still be playable quite nicely rather than run at half speed...).<br><br>FYI you probably want to build GUI on windows as well (it keeps the command prompt window from coming up and potentially eating input like you're seeing...). Really wish maxide made it clearer what that toggle does... <br><br></td></tr></table><br>
<a name="1078050"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sokurah</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> There may have been a change to the way it syncs on Flip.<br>Try Flip 1, Flip 0, or Flip -1 <br></div><br>I'd already tried all thee and the result was the same.<br><br>...on the positive side some of my games are so hard anyway, that people may not even notice they're running more than 10 times faster. :-D<br><br>I'll release these games using the older version of BM for now, but I'll look into tweening for future releases. ;-)<br><br>I've learned a lot today. Thanks guys. <br><br></td></tr></table><br>
<a name="1078291"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Space Fractal</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> hey, you even asked me to done. As I PM you (in a another forum), this is why I normally use system timers rather than using flup to sync, since I never have trust them 100%<br><br>One of my frontend only ran at 30fps, which is another proff why I used system timer to sync with.<br><br>Howover your games seen run great now, those binany you sent to me on mac. They did not run insane fast and such thing. Its did fell correct. <br><br></td></tr></table><br>
<a name="1078406"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sokurah</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> hey, you even asked me to done. As I PM you (in a another forum)<br>Howover your games seen run great now, those binany you sent to me on mac. They did not run insane fast and such thing. Its did fell correct. <br></div><br><br>The games worked fine with FLIP before I updated to 1.41, but something changed and it doesn't anymore (on mac only).<br>The binaries I sent you works correctly fine because I downgraded BM again. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
