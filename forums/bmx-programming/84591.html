<!DOCTYPE html><html lang="en" ><head ><title >Registering Windows keys =&gt; Linux and Mac</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Registering Windows keys =&gt; Linux and Mac</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Registering Windows keys =&gt; Linux and Mac</a><br><br>
<a name="955858"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi<br><br>This External code Registering system keys in Windows 32 :<br><br><pre class=code>rem
bbdoc:Registering keys in windows 32 (print screen -=&gt; screenshot)
end rem
Extern "Win32"
	Function GetAsyncKeyState:Int(key:Int)
	Function RegisterHotKey:Int(hwnd:Int, ID:Int, Modifiers:Int, VK:Int)
	Function GetActiveWindow:Int()
End Extern</pre><br><br>I plan to build my software in Linux (Ubuntu 8.10) and maybe MacOsX.<br><br>1) What would be the corresponding function on these platform ??<br><br>2) Also, would this registering functions work in Vista ?<br><br><br>Thanks :) <br><br></td></tr></table><br>
<a name="955947"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> 1) for what I know there's nothing like the 'Windows Registry' on both Linux and mac os x... <br><br></td></tr></table><br>
<a name="955952"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Linux hasn't got any thing like the "Windows Registry". All program data is usually stored in scripts.<br>I think you would have to look at the XServer and the Kernel and write your own ( It may get tricky as any low level access needs root privileges )<br>This may be of help <a href="http://www.dreamincode.net/forums/showtopic84453.htm" target="_blank">http://www.dreamincode.net/forums/showtopic84453.htm</a><br><br>For Vista it could be a hit and miss affair. You will more than likely need administrator credentials or the UAC disabled. A bit of Googling around showed lots of people asking this question but with no real answers (it work for some but not for others). <br><br></td></tr></table><br>
<a name="955958"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Tiffany</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't think the question has anything (directly) to do with windows registry.  The question is about registering a hotkey (keypresses).  This might ultimately record a registry entry I guess...<br><br>If you are using maxgui, there are cross-platform means of adding hotkeys to your app, but I am pretty sure your app has to be active (in focus) for these to work.  I suspect you are asking for a means of having a keypress work throughout the entire OS for all apps to do something special?  If so, then no idea if it can be done, but I kind of suspect not... <br><br></td></tr></table><br>
<a name="955970"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> On Mac, yes there's an API for this... but many keys/combinations already have presets, so you need to be very careful not to tread on the system's toes.<br><br>You can also apply runtime/application hotkey as Mark mentions - which is the standard way of doing things. <br><br></td></tr></table><br>
<a name="955985"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for you advices :)<br><br>My goal was to modify the primary behaviour of touch like "Print screen" and so.<br>As this involve too many try and guess operations I will probably choose simplier solutions.<br><br>Building my game in Linux brings tons of weird behaviour with Box2D, Cegui and time operation.<br>Since that I'm not sure I'm going to put more work on porting this on multiple platform afterall.<br><br>Thanks :) <br><br></td></tr></table><br>
<a name="955986"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> weird behaviour?  I shouldn't think so.<br><br>I've not had problems running these on Linux. (I generally test everything on all platforms) <br><br></td></tr></table><br>
<a name="956058"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Brucey : Hell Yeah :)<br><br>Like KEY_TILDE (222) is touch [4] on my keyboard or Touch [1] = key UP even if key UP is working too.<br>But I could work around that !<br><br>Maybe it's not Modules problems but some part of my code work in this way :<br><br>Box2D : (cp is a contactPoint and contain the 2 colliding box2d Shapes, TWater is a class)<br><pre class=code>Local notSensor:Int = Not cp.shape1.IsSensor() And Not cp.shape2.IsSensor() Or TWater(obj)</pre><br><br>In Windows IsSensor() return 0 or 1 so it's working<br>In Ubuntu IsSensor() return a weird number (maybe reference ?) like :<br><br><pre class=code>Local notSensor:Int = Not 152166521 And Not 191942812 Or TWater(obj)</pre><br>And obviously this will never work :(<br><i>(I check the API : isSensor() shall return true or false)</i><br><br>I often use combination of boolean value in my game which is why for example my player won't jump.<br><br>Unfortunately I also get this trouble with CEGUI where the problem is critical.<br>Some hidden windows shown unexpectedly, checkbox combination never work, etc.<br><br>If I must change every part of my game were numeric int are return rather than boolean value (one of the worst missing feature in blitzmax imo) this will take ages !<br><br>Your advice on this is welcome :) <br><br></td></tr></table><br>
<a name="956066"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I try to find a specific problem with CEGUI. <br><br>Like Box2d functions or methods returning bool in C++ like : <br>TCERadioButton.isSelected()<br><br>return those kind of answer in Linux : 168744448 <br><br></td></tr></table><br>
<a name="956120"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I see the problem...<br><br>And I suppose if you do something like :<br><br>If mybutton.isSelected() = True Then<br><br>instead of <br><br>If mybutton.isSelected() Then<br><br>it would be an issue.<br><br>I've never had this problem, because I always use the second version (which reads better for me, but I realise that many people like to write lots of extra code in their programs).<br><br><br>Anyhoo... :-)<br><br>Try the revised Box2D module and let me know if everything still works on Windows too. <br><br></td></tr></table><br>
<a name="956124"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> In fact I cannot always regroup those checks and I don't like many lines of enclosed "if"<br><br>Oups !<br>Building error here :<br><pre class=code>C:/BlitzMax/mod/bah.mod/box2d.mod/box2d.debug.win32.x86.a(box2d.bmx.debug.win32.x86.o): undefined reference to `bmx_b2bodydef_getmassdata'
</pre> <br><br></td></tr></table><br>
<a name="956130"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Tiffany</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Like KEY_TILDE (222) is touch [4] on my keyboard or Touch [1] = key UP even if key UP is working too. <br></div><br>I think BlitzMax built in constant for KEY_TILDE and KEY_QUOTE are the wrong way around.  At least, they are from my POV on my UK keyboard...although I've assumed that they are defined based on US defaults and it's just that UK keyboards in general are considered wrong (when we're clearly in the right!). <br><br></td></tr></table><br>
<a name="956148"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  Building error here <br></div><br>Oops... I'm getting lax in my old age..  Sorry about that. Fixed. <br><br></td></tr></table><br>
<a name="956151"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> <i>I see you just update svn ;)</i><br><br>I try without the missing definition and working great on Linux now ! :D<br>Thanks million !<br><br>Do you think it would be possible to do the same for CEGUI ? (if it's not asking too much ^^)<br>I'm just amaze to be able to try my stuff on Linux :p <br><br></td></tr></table><br>
<a name="956154"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Do you think it would be possible to do the same for CEGUI <br></div><br>Yeah... I'm having to think about going through all my modules now...  ho hum.<br><br>It's interesting, because under certain circumstances it doesn't care whether it says bool or int... but obviously, given that an int is 4 bytes and a bool is 1, it was always going to crop up at some point. (and at the back of my mind I had a niggly feeling about using bools)<br><br>Fun fun :-) <br><br></td></tr></table><br>
<a name="956162"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Yeah... I'm having to think about going through all my modules now... ho hum. <br></div><br><br>Aie !!<br>it may hurt...<br><br>Grunt process is really something I dislike. I'm often tempted to "find and replace" most of the problem and that's exactly there where problems begin ^^<br>Look like this time it's only a question of bool =&gt; int conversion but if you ever need some help somewhere... <br><br></td></tr></table><br>
<a name="956165"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  Look like this time it's only a question of bool =&gt; int conversion <br></div><br>More or less... (except for the places where that doesn't work, of course ;-)<br><br>I think that's CEGUI done... better try it out and let me know either way. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
