<!DOCTYPE html><html lang="en" ><head ><title >cairo libxml and svg</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >cairo libxml and svg</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >cairo libxml and svg</a><br><br>
<a name="663272"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chris C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://www.brucey.net/programming/blitz/" target="_blank">http://www.brucey.net/programming/blitz/</a><br><br>all very useful and very well wrapped top marks brucey!<br><br>I feel inspired to make a sql report generator!!<br><br>libxml is *fast* and with svg for logos and cairo for pie charts man half the jobs done!<br><br>cant wait to see the pdf bit of cairo wrapped ;) <br><br></td></tr></table><br>
<a name="670879"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> PDF functionality is working great now...<br><br>Have been testing my WIP charting module which uses Cairo to generate them and it makes very pretty PDFs.<br><br>Also, Cairo should work on Mac (big-endian) now as I spent the whole weekend hacking the pixman image-handling code to support Max's BGRA format.<br>There is a #if defined(__APPLE__) in a header which enables big-endian, but this will be set for the intel mac too... If anyone knows the define I can use for Intel Mac, I can include that too... (so that big-endian is only enabled on PPC Mac).<br>Any Mac users... lemme know how you get on with it. I only tested it as far as getting the supplied examples to run ok. PDF on Mac has always worked.<br><br>Enjoy :-) <br><br></td></tr></table><br>
<a name="670895"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >morszeck</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Brucey. Have installed the new version on my mac. But i have problem width ShowText and TextPath. The compiler hangsup, without an errormessage.<br><br>When I commentate the lines, then running all.<br><br>Tested with example: clock.bmx and text.bmx <br><br></td></tr></table><br>
<a name="670910"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I guess that's the fontconfig change I made for Mac...<br>It looks at ~/Library/Fonts for fonts...  which I expected there to be.<br><br>I'll add /System/Library/Fonts/ and /Library/Fonts/... which should cover them all...<br><br>hopefully :-p <br><br></td></tr></table><br>
<a name="670931"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've uploaded a new version in which fontconfig on Mac should look in the three folders mentioned above, for fonts.<br><br>I suppose, that if it didn't find any fonts it would just hang.<br>Note also that the example code assumes that it's requests to set fonts and suchlike work, and have no error checks.<br><br>Hope this works a bit better.<br><br>Also updated libxml while I was at it to include some fixes, and extra documentation. <br><br></td></tr></table><br>
<a name="671304"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >morszeck</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Brucey. The new version has the same problems still. I have write the absolut path to the font, witch i want. The preversion are running without hangsup.<br><br>But i can draw. And this is beautifull...! <br><br></td></tr></table><br>
<a name="671308"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's strange..<br><br>I guess perhaps I need to actually open up fontconfig to allow you to add your own font paths thru Max.<br><br>As it stands, fontconfig (that's what cairo uses underneath to access font glyphs) will only pick up fonts from the fonts folder.<br>Therefore, all you need to do is specify the fontname, and it should pick it up. You can't pass in a full path, as it won't look it up.<br>It should also default to any font if the one you ask for isn't there.... <br><br></td></tr></table><br>
<a name="671309"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >morszeck</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> No..no..no... had to checken with diskutil and repair let. The /Library directory was incorrect.<br><br>Now, running all !!! <br><br></td></tr></table><br>
<a name="671314"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Good news :-)<br><br>Glad your problems are fixed now. Have fun playing with Cairo ! <br><br></td></tr></table><br>
<a name="676209"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taxlerendiosk</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hit a strange problem. I've got an SVG with a radial gradient. It renders fine in Inkscape and Firefox, but in Blitz a strip of the darkest colour at the edge is abruptly transparent:<br><img src="http://img130.imageshack.us/img130/1276/cairoproblem5dg.png"><br>...any idea why this should be? <br><br></td></tr></table><br>
<a name="676447"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks like a bug in libsvg - the Max module doesn't do anything other than call the functions of it.<br><br>Which is a shame really...<br><br>Perhaps there's a better svg library that integrates with cairo  - or, it's a fairly easy fix to the libsvg code... <br><br></td></tr></table><br>
<a name="676464"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taxlerendiosk</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Libsvg seems fine otherwise, so I think it'd be better to try to fix it than just cross over to something else... though, I'm ignorant of any licensing problems or whatever that might be kicked up by modifying library code.<br><br>Speaking of radial gradients, I tried to work out how to do them "manually" in Cairo. It seems pretty easy to understand, apart from one thing - this is the line in the "gradient.bmx" example code:<br><pre class=code>pat = TCairoPattern.CreateRadial (0.45, 0.4, 6, 0.4,  0.4, 30)</pre><br>The third and sixth parameters are the radius of the "start" and "end" circles, respectively. I don't understand how these are calculated - where do "6" and "30" come from, given this is applying to...<br><pre class=code>cairo.Arc(0.5, 0.5, 0.3, 0, 360)</pre><br>...a circle that has a radius of 0.3?! Surely the "start" circle would be well outside the edge of the actual circle? I've been messing with this for ages, trying to find some kind of logic to it, but no luck. <br><br></td></tr></table><br>
<a name="676788"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taxlerendiosk</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Libsvg seems fine otherwise, so I think it'd be better to try to fix it than just cross over to something else... <br></div><br>Beginning to think I was wrong here and it'd be a good idea to try and find a better SVG library - just found something else:<br><img src="http://img129.imageshack.us/img129/977/originalclone0hc.png"><br>Clones will only render if they are in front of the original shape, not behind. ("Clones" in SVG are sort of proxy-shapes that just point to an existing shape and perform translation/rotation/scaling on it.) <br><br></td></tr></table><br>
<a name="695129"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >morszeck</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Brucey, an question: Have you time for upgrading cairo 1.2.2? Or, you can opening a new project under www.sf.net?<br><br>Thx <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
