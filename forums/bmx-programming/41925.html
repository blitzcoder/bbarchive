<!DOCTYPE html><html lang="en" ><head ><title >I have a function idea mark :o)</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >I have a function idea mark :o)</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >I have a function idea mark :o)</a><br><br>
<a name="470467"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shagwana</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> How about the ability to state that a prameter in a function must be a constant. For example;<br><br><pre class=code>
Function Test(Const num:Int)
  Print num
  End Function
</pre><br>Doing so could help blitzers produce even faster executing functions. Via having the compiler hard code those values into the program. From a compile sense, everytime a function is found with a different const value, then a new set of the code is created reflecting the change.<br><br>Anyway, just a brain wave I had, dont know if its even possible or desirable!. Made sense at the time, but could be the drink talking to me. Merry xmas btw :) <br><br></td></tr></table><br>
<a name="470468"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kanati</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You are cut off...  No more eggnog for you!   :) <br><br></td></tr></table><br>
<a name="470470"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shagwana</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> So is there something flawed in my logic there? <br><br></td></tr></table><br>
<a name="470473"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Makes since to me. howbout if the the parameter is constant it'll hardcode it, otherwise, just act like a normal function.<br><br>You might want to simply support inline functions and then these semi-inline functions. <br><br></td></tr></table><br>
<a name="470475"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> an idea like that can only come from C++ ... all others always bang their had about this const stuff as an "intelligent" compilers / precompilers would do stuff like this on their own ;) <br><br></td></tr></table><br>
<a name="470479"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shagwana</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well just did a little test with the compiler...<br><br>Make "N" a varible or a constant<br><pre class=code>

N:Int=10  'Make this a const or not!

Function Test(A:Int) 
  Return (A+A)
  End function
C=Test(N)
Print C
End</pre><br>The function in both versions is generated as ...<br><pre class=code>
... asm ...
_bb_Test:
push	ebp
mov	ebp,esp
mov	eax,dword [ebp+8]
add	eax,eax
jmp	_6
...
</pre><br><br>Leads me to conclude that Consts as prameters at this moment in time are not hard coded!<br><br>Instead that could be generated into something like ..<br><pre class=code>
... asm ...
_bb_Test__A_INT_20:         &lt;- ? Special const version ? :)
push	ebp
mov	eax,dword [ebp+8]
mov	eax,20             &lt;- ? something like this ? &lt;-
jmp	_6
...
</pre><br><br>EDIT: Better still, in this extreme example - the compiler could remove the whole of the call to that functions and just stick 20 where the result should go!<br><br><br><br>Another idea, this time for the webmaster ...<br>Hows about a [code =asm] forum tag that gets boxed in a different colour! <br><br></td></tr></table><br>
<a name="470493"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> If a value is constant then you don't want to pass it at all. It should simply be a constant whose scope is the function.<pre class=code>Const n = 1

Print n
f

Function f()
	Const n = 2
	Print n
End Function</pre> <br><br></td></tr></table><br>
<a name="470512"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> What he means is that only constant values are allowed.<br>In such a case the compiler can replace the whole function call etc with the result of the calculation which can save quite some time in runtime afterwards.<br>But I think only C++ is in the situation where this is needed ... a real precompiler / compiler would check for const input and just replace the function call with the result of the calculation with the constant (as it is a constant as well). <br><br></td></tr></table><br>
<a name="470627"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shagwana</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Floyd, thats more or less what it will do, however say you want to change that const to the value 4, 6 and even 1024 later in the programs execution. You would have to code for yourself a new function d(),e() and g() that would do that for yourself. What I would propose would be have the compiler do that sort of work for us!. <br><br>In cold light of the morning after the drink, it looks a sound idea, but dont know how usefull it would turn out to be. <br><br></td></tr></table><br>
<a name="470640"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kanati</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> but...  if you change it from 4...  to 6...  to 1024...  it's not much of a constant now is it?  Sounds pretty variable to me.  :) <br><br></td></tr></table><br>
<a name="470655"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's constantly changing. (I'll get me (thud) ) <br><br></td></tr></table><br>
<a name="470678"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shagwana</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, nothing ventured, nothing gained.<br><br>Gota say i love being able to look at the asm output from the compiler, its dead neat :-) <br><br></td></tr></table><br>
<a name="470920"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Curtastic</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> A reason to have this is:<br>When coding inside of a function, you are usually not going to change the values of the function's parameters. So it might as well make an error if you try to.<br><br><pre class=code>
N:Int=10  'this is not a const

Function Test(CONST A:Int)
  'A=A+1 'ERROR trying to change a const paramater!!!
  Return (A+A)
End function

print Test(N)
print Test(6) 'this is constant and also works
print Test(var_that_is_defferent_and_NOT_a_const)

End
</pre><br><br>It has nothing to do with what you pass, it just makes your coding more stable and nice. (the code inside the function) <br><br></td></tr></table><br>
<a name="470951"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shagwana</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think you got the wrong end of my stick coorrae! :o)<br><br>What you got there is read only varibles (by the look of it) <br><br></td></tr></table><br>
<a name="471010"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Curtastic</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> well in c++, if you have Test(const int num) then num is read only, so that would be what I meant <br><br></td></tr></table><br>
<a name="471283"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhague</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Note that having multiple versions of the same function, each with certain hardcoded values, could potentially be *slower* than having one generic function, because of cache effects.  Things aren't like they were back in the C64 days (or even the early Pentium days), where fewer instructions almost always resulted in faster execution time.<br><br>BTW, if you look at the generated x86 code, you'll see it, uh, has quite a lot of potential for improvement :)  I'm sure work on the main code generators are going to buy a lot more than your const idea, at least right now. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
