<!DOCTYPE html><html lang="en" ><head ><title >including linux API files?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >including linux API files?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >including linux API files?</a><br><br>
<a name="1033862"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jondecker76</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> In c, to include the v4l2 API header file, i use:<br>#include &lt;linux/videodev2.h&gt;<br><br>I'm currently importing into BMax a .c file that includes #include &lt;linux/videodev2.h&gt; and I'm using the Extern to import the functions into BMax<br><br>I now want to get rid of the .c file all together and deal with linux/videodev2.h directly from within BMax...<br><br>However, when I:<br>Import "linux/videodev2.h" I get an error<br>"realpath failed"<br><br>What is the proper way to do this in BlitzMax?<br><br><br>thanks <br><br></td></tr></table><br>
<a name="1034042"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> try <br>?linux<br>import "-videodev2.h"<br>?<br>im just guessing but try anyway<br><br>if that doesnt work try<br>?linux<br>import "-videodev2"<br>? <br><br></td></tr></table><br>
<a name="1034045"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> If the header is in a relative directory "linux", then you can do <br><pre class=code>
Import "linux/*.h"
</pre><br><br>However, you can't deal with the header at all in BlitzMax. It doesn't understand them.<br>You will need some "glue" to connect BlitzMax to C, either be defining "Extern" functions in BlitzMax itself for specific library functions, or write some glue code to wrap functions in a more BlitzMax friendly way.<br><br>There are many examples of those and other methods available from third-party module makers. <br><br></td></tr></table><br>
<a name="1034050"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> pub.mod is a good example <br><br></td></tr></table><br>
<a name="1034078"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jondecker76</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Brucey:  In c/c++ linux programming, including "linux/xxx.h" are normally the source files for various software API's, so they aren't a relative path (or even an absolute path)..  Some how, g++ must know where to look for all of the linux header files. Usually these files just have a bunch of #includes to the other source files. So I should be able to import them directly in BMX, use Extern, and use the functions directly in BlitzMax (with no extra c programming "glue")<br><br>slenkar:  it appears to have worked- I got no errors about a missing file with import "-videodev2.h"... (though it did give an error on the output: g++: unrecognized option '-videodev2.h'<br><br>I'll keep looking around and browse the mod folder, I'm sure there are some hints in there.<br><br>thanks <br><br></td></tr></table><br>
<a name="1034118"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> also you might have to install the videodev library to linux in the same place the other libraries are, e.g. libgdev etc.<br><br>i think linux keeps all libraries in the same folder like the equivalent of windows/system32 <br><br></td></tr></table><br>
<a name="1034131"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  In c/c++ linux programming... <br></div><br>Indeed... but BlitzMax isn't c/c++.<br><br>If there is a c function defined in a header as<br><pre class=code>
int myfunction(int param1);
</pre><br>you can access that function in BlitzMax with this code :<br><pre class=code>
Extern
    Function myfunction:Int(param1:Int)
End Extern

' call it
Local ret:Int = myfunction(100)
</pre><br><br>Also, if you can change the name assigned in BlitzMax, for reasons like conflicts and whatnot..<br><pre class=code>
Extern
    Function myrenamedfunction:Int(param1:Int)="myfunction"
End Extern
</pre><br><br>If you want to call C++ class methods in BlitzMax, it's usually easier to wrap the class in C glue.<br><br>Other than BlitzMax's own modules, I knocked together a few basic examples <b><a href="http://code.google.com/p/maxmods/" target="_blank">here</a></b>. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
