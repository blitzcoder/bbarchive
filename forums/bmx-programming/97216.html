<!DOCTYPE html><html lang="en" ><head ><title >Bullet Firing Methods? Shmups Etc?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Bullet Firing Methods? Shmups Etc?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Bullet Firing Methods? Shmups Etc?</a><br><br>
<a name="1127872"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amon</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I know how to do just wondering how everybody else does it. I track the player and fire the bullet from its position using KeyDown() and various bits n Bobs!<br><br>My thinking is that, definite for me, I am doing things a clumsy way so before I commit to the current method I have implemented I'd like to see  an example of how any one else does it. If that's ok?<br><br>Ta! <br><br></td></tr></table><br>
<a name="1127875"></a>

<a name="1127877"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Depends greatly on your overall structure, are you using objects or doing it all in an old school fashion? how/where/when are updates handled for other things in your system etc.<br><br>Personally I like to subclass:<br>Create entity class (super for all things basically, usually just an X/Y position, maybe an orientation, maybe a draw method and a graphic holder depending on your structure, how much the simplest thing can do etc. you can subclass this for stuff like platforms or trees)<br>Subclass the entity to a mobile entity class (adds things like momentum and update handler, this is allows easy grouping of things that need more logic)<br>Subclass the mobile entity to player/monster/bullet/etc. (add logic for creation, AI, and actions such as a player firing a gun)<br><br>now when the user presses a key, you go to the player object (which is a mobile entity, which is in turn an entity) and tell it to fire. The player class's fire method creates a bullet and adds it to a bullets list (either in the player if you track per object, or just a master bullet list if all bullets are handled the same...). Since the new bullet is a subclass of the mobile object class as well you can apply the player's position and momentum to it, then add an offset for the actual gun position on the player graphic, and adjust the momentum according to where it's pointing, etc.<br><br>With a shmup specifically the hard part is that you have to be REALLY efficient with managing your lists since they're going to be long... looping through 1k bullets, updating and drawing each one takes a while. But again this is pretty specific to the structure you're using for the game, for the objects, what kinds of lists are you using (linked lists, arrays, etc.), where they're stored, what kind of logic they perform, etc.<br><br>And all of this is assuming you're going with objects, totally different if you're going with global management, or other master arrays, etc...<br><br>Example layout of some object types<br><br>Entity<br>- Picture<br>- X/Y<br>- Draw() - (loop through ALL entities in the game and call this, then flip)<br><br>Mobile Entity (subclass of Entity)<br>- Momentum X/Y<br>- Update() - (loop through ALL mobile entities and call this to have them update before drawing)<br><br>Bullet (subclass of Mobile Entity)<br>- Update() - (overrides the generic mobile entity update and adds a colision check to see if it should damage something and then be removed...)<br><br>Player (subclass of Mobile Entity)<br>- Shoot() - (creates a bullet)<br>- Update() - (over rides the generic mobile entity update and adds stuff like keyboard checks to change momentum, check if the player is colliding with the world, etc.)<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
