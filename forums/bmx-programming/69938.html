<!DOCTYPE html><html lang="en" ><head ><title >So what's the best way to do audio right now?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >So what's the best way to do audio right now?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >So what's the best way to do audio right now?</a><br><br>
<a name="782712"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'd rather not include a big OpenAL DLL with my game... Can we assume Vista will mostly have OpenAL installed?  If so, would the safest automated way to do this be to use the default FreeAudio driver unless OpenAL is available, and use OpenAL instead if that is the case?<br><br>I also notice a lot of people who posted lists of the drivers that Max returns didn't have DirectSound in the list.  They had FreeAudio DirectSound, but not plain old DirectSound.  I've got DirectSound on mine.  It seems odd that anyone would not have plain DirectSound, unless they're running Vista, but even in that case, I thought it was software emulated, or a wrapper for OpenAL?<br><br>It's kind of annoying that I have to worry about this at all.  Why isn't Max automatically selecting the best driver available?  Mark has access to a lot more testing information than I do.  He could make much better decisions about which drivers are safest to switch to under which OS's.  <br><br>Perfect sound would be nice, but there's no way I'm gonna force a user to select one of five different sound drivers in a casual game, even if it means the sound won't work on some systems. <br><br></td></tr></table><br>
<a name="782716"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I use FreeAudio on all operating systems, except Vista, where I use OpenAL.<br><br>I had a lot of problems with channel limitations on one of my PCs when using OpenAL, so I had to use its software mixer which slowed things down a little.  I figure any PC capable of running Vista, will have fairly enormous balls anyway, but I didn't feel I could suffer a speed loss - however small - on minimum spec systems.<br><br>FreeAudio works on everything but Vista - where it lags horribly.  As for DirectSound, some people tell me it works in Vista, some people tell me it doesn't.<br><br>The sound driver is switchable in-game between FreeAudio, DirectSound and OpenAL via advanced options.<br><br>The OpenAL DLLs compress down to 234k so I don't see that as a hurdle, really. <br><br></td></tr></table><br>
<a name="782718"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm gonna do what GfK does, auto detect vista and pick OpenAL otherwise use FreeAudio (which is default anyway right?).  Problem is FreeAudio doesn't work very well on 98 (and maybe Me) due to buffer size issues I believe.  I've seen these problems myself and have heard others report them, even the musician for Holiday Bonus who sent me a recording of the problem.<br><br>Sure only 10% of people run 98 now, but what about Me?  Do those people buy games because they obvisouly haven't bought a new PC in a while etc...who knows? <br><br></td></tr></table><br>
<a name="782721"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tachyon</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Grey: how are you detecting Vista from other versions of Windows? <br><br></td></tr></table><br>
<a name="782722"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would recomend you to follow gfk advise at first run (then save configuration). this way, you can add an option to change the 'default detected' audio driver in the options section of your game, just in case anybody have problems with the 'non problem' audio driver automatically selected at first run. <br><br></td></tr></table><br>
<a name="782726"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >popcade</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Carry OpenAL DLLs with your game is OK if you don't want user to install OpenAL driver.<br><br>as uFMOD has DSound/OpenAL dirver done, I use XM music for my game, and corresponding driver for SFX. <br><br></td></tr></table><br>
<a name="782729"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> So can someone post a code snippet which detects vista and selects the OpenAL driver then? <br><br></td></tr></table><br>
<a name="782732"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=1978" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=1978</a> <br><br></td></tr></table><br>
<a name="782769"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> beat me too it.  I'll be using that code for sure.  GfK.  You mind if it goes in the framework (so I can make it autoswitch drivers) with a credit to you? (I ask out of politeness as it's already been declared public domain ;-))<br><br>I should be able to test it on Me (and maybe 98 too).  It could be worth switching to Direct Sound on those old OSes. I'll see if the sound problem goes away. <br><br></td></tr></table><br>
<a name="782771"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> No I don't mind.  The code wasn't exactly mine in the first place - was converted to Blitzmax from some old VB code I found.<br><br>Don't forget that I haven't tested it in anything other than XP,Vista and now Win98.  I confirmed the version numbers with a variety of different sources, though, so it should all work fine.<br><br>If you test it on other systems and it works OK, feel free to post a reply in the code archives for the benefit of others. ;) <br><br></td></tr></table><br>
<a name="782832"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> (thanks).  YEah like I said, I'll test it on Me and post a reply.  You need to update the post as it doesn't say you tried it on 98. <br><br></td></tr></table><br>
<a name="782836"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Updated :) <br><br></td></tr></table><br>
<a name="783071"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JazzieB</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, I'm another one for the use OpenAL on Vista, FreeAudio on everything else ... even though DirectSound actually seems to be slightly better on my own system, but hey. <br><br></td></tr></table><br>
<a name="783214"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ninjarat</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just use FMod, it's much faster and better optimized than Max's native sound. <br><br></td></tr></table><br>
<a name="783226"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> But for commercial project the FMOD license is a reasonably large amount I believe. <br><br></td></tr></table><br>
<a name="783261"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul "Taiphoz"</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Will that audio driver be getting an update ? or is it just going to be that we need to use the Al driver ? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
