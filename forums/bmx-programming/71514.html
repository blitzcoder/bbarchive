<!DOCTYPE html><html lang="en" ><head ><title >Field inheritance problem...</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Field inheritance problem...</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Field inheritance problem...</a><br><br>
<a name="799540"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>To me this seems like a bug or at least unwanted behavior:<br><pre class=code>Type TBase
	Field name:String
	
	Method New()
		name = "something"
	EndMethod
	
	Method SetName(s:String)
		name = s
	EndMethod
EndType

Type TExt Extends TBase
	Field name:String
EndType

Local e:TExt = New TExt
Print "~q"+e.name+"~q"
e.SetName("hello??")
Print "~q"+e.name+"~q"

Local b:TBase = New TExt
Print "~q"+b.name+"~q"
b.SetName("hello??")
Print "~q"+b.name+"~q"</pre> <br><br></td></tr></table><br>
<a name="799542"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is no bug and and works as intend<br><br>If you create a field of the same name on an extended type, it will actually stealth the original field and create a new field with that name.<br><br>But you can still access both.<br><br>Self.name will return its name<br>super.name will return its base class name<br><br><br>If it is really usefull to have this behavior is a different question.<br>Especially with reflection on the horizont, it looks like this behavior is far more troublesome than actually desireable. <br><br></td></tr></table><br>
<a name="802143"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >UByte</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is known as 'hiding' if you 'hide' a field in this way you may access it as Dreamora states but you can also do so by casting, this way you can access hidden fields outside of an object.<br><br>E.g.<br>Print TBase(e).name <br><br></td></tr></table><br>
<a name="802171"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>Yes, it may be technically valid, but is it logically and practically useful? I don't think so, but maybe someone has a scenario where it might come in handy? <br><br></td></tr></table><br>
<a name="802174"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> No, its hardly ever useful, however thats the way Overridding works. If we said it was a bug, and we took out overriding, I for one would moan about it when it came to methods and functions.<br><br>Well its just the same for Fields, if you dont want it overridden, simply dont redefine it in extended types.<br><br>(That might sound a bit curt, no offence ment if it does) <br><br></td></tr></table><br>
<a name="802178"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Obviously overriding is extremely useful for methods and functions, but for fields? I don't know... <br><br></td></tr></table><br>
<a name="802184"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh, I agree its of dubieous use, and every example Ive seen of it on these forums have basicly been a waste of memory, with the original field simply being hidden/lost memory.<br><br>However Im sure if we wanted to we could come up with some use for it, and if someone was already using it for that.. well they wouldnt be happy if we changed it.<br><br>I for one am willing to say thats its not a bug, but rather an underapreahiated feature. (And let face it, the main reason it looks like a bug, is because you didnt expect it, but now you do... etc) <br><br></td></tr></table><br>
<a name="802832"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >UByte</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> This discussion has taken place in the Java community, and like here there are advocates for and against it.<br><br>My take on it:<br><br>It is generally accepted, good OO programming practice that fields should only be accessed outside of an object declaration through getter and setter methods. Fields should generally be thought of as 'private' data.<br><br>Field hiding allows a user to subclass an object without having to worry about identifier conflicts. For example we might not necessarily know a base class contains the fields name$, x%, or y% because they are either implicitly or explicitly (not possible in bmax) private. These identifiers are very common and this is where 'hiding' is useful. <br><br></td></tr></table><br>
<a name="805572"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Winni</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; It is generally accepted, good OO programming practice that fields should only be accessed outside of an object declaration through getter and setter methods. Fields should generally be thought of as 'private' data.<br><br><br>Uh-oh, yes, this is how the Java  community would see it. But if you start a discussion with Pyhonistas about it, you will hear -exactly- the opposite: "We're all adults here and don't need privates and setters and getters." And, usually, Pythonistas will ask you -why- you think you need privates and setters in the first place. <br><br>The interesting thing is that usually nobody has a really good answer for it except for that it is a commonly accepted convention. Especially in Java this can become an interesting discussion, since the language does not even allow operator overloading. (Usually one of the arguments for setters is that you -might- do something special with your object's properties when assigning a value to them; more or less like you would do something special when you overload their operators.)<br><br>Anyway, it's just an interesting academic discussion. ;-) <br><br></td></tr></table><br>
<a name="806020"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SSS</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm just curious as to why you would ever want to redefine a field? I mean, true, there's limited use for overriding fields but there's also limited use for redefining the field in the first place. <br><br></td></tr></table><br>
<a name="806106"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> @any pythonistas, What if you have a field called size:float. This field is the size in mm of an object. In your program you have used this field with myobject.size.<br>You now want to have an 'imperial' option so you have fields size_mm and size_inch.<br>You *could* change each time you used myobject.size throughout your entire program and/or code it with an 'if' but it would be messy.<br>If you use the myobject.getsize() method then you only need to change the getsize method to return the required size... or have I missed something? <br><br></td></tr></table><br>
<a name="806108"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think that, as long as we don't have private fields in types, it is a good thing. <br>Imagine you're creating a new inherited class, called ExtendedTList. then imagine you class has a filed called Counter. Ok, then imagine you sync mods with the official brl and pub servers and, surprise, the TList class has now a field called Counter. It would be a shame if this could make your code crash or impossible to compile without changes. So, as long as there are not private fields, I think this is a very good way to make things. In fact, it would be even better if we could overload functions and methods.<br><br>Obviously, we will have to wait and see how does this fit with the reflection stuff. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
