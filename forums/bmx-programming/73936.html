<!DOCTYPE html><html lang="en" ><head ><title >Video Playback Not working On Lower End Machine</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Video Playback Not working On Lower End Machine</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Video Playback Not working On Lower End Machine</a><br><br>
<a name="825937"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gameshastra</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> The theora movie api is not working on a lower end machine. Please give your inputs on the same. This is a critical requirement for our project.<br>Regards,<br>For gameshastra <br><br></td></tr></table><br>
<a name="825940"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Whats your video size and what do you mean by lower end?<br><br>320x240 should run on 600-800 Mhz machines.<br><br>640x480 and especially 1024 and higher will need much more performant systems as the decompression is CPU side (most videos you are watching today normally are actually GPU decoded not CPU anymore, otherwise a 1280x720 would need 3ghz at least for realtime) <br><br></td></tr></table><br>
<a name="825944"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >popcade</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tested a few movie(320x240 to 640 x 480) on my notebook which is Celeron 1GHz, 256MB ram, and ATI mobility with no problem.<br><br>Please provide the movie info and your system spec, I'm glad to test the example you provided. <br><br></td></tr></table><br>
<a name="825948"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gameshastra</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am not able to get the specs of the test machine.Can you specify what is the minimum configuration required for the movie playback for 800x600 resolution?. <br><br></td></tr></table><br>
<a name="825949"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> At 24 frames per second?<br>1.6 Ghz +- <br><br></td></tr></table><br>
<a name="825950"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gameshastra</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> The machine requirement is on the higher side.Is this because of a slower algorhithm?.Shouldn't it be possible to play on older machines?.<br>    Is it possible to use a different compression to get better speed?. What strategies can I try out to get better speed?. <br><br>Regards <br><br></td></tr></table><br>
<a name="825953"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> It works fine on my S3 laptop with Intel III 1133mhz. I do have a question though. What made you choose a language with no native support for a project where video was critical? Once Theora was released why didn't you test it before committing to using Bmax for the project? <br><br></td></tr></table><br>
<a name="825958"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gameshastra</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> As to your first question I assume that unless Blitzmax is fast it wouldn't be in the market. For the video I tried out other strategies first thing tried out was mpeg module in blitzmax but since this is under GPL license it was given up. Next I tried connecting to the ffmpeg library through Blitzmax with limited success. When theora was released , since it was with LGPL licence I decided to use it .I felt that even if the movie format is public domain it needn't be slower. Video is used in a small portion of the project but neverthless needs to perform well.<br><br>Please give your suggestions on how to improve speed.is it possible for theora to have uncompressed video so that   video is decoded faster? <br><br></td></tr></table><br>
<a name="825960"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> It isn't slower<br>But theora is no stone age nooby format like mpeg1<br>It offers good quality and good compression on the file size, this has the side effect that it needs a better cpu or hardware support to do so (which a system with a weak cpu won't have as well)<br><br>the only way to reduce the cpu use is to reduce the size or offer 2 versions of the video, one for real systems and one for stoneage. <br><br></td></tr></table><br>
<a name="825963"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> What problem are you getting? <br>Provide the smallest example of code and the media file causing the problem for people to try here.<br>If it is determined the issue is with a specific machine spec then make the minimum spec higher.<br>If it is determined the issue is with a particular graphics card or CPU or whatever then add that to the unsupported list.<br>If too many machines will be affected for your target audience then check an alternative solution.<br>e.g. B3D either as a language or as a process to play the video if possible and it is windows only. <br><br></td></tr></table><br>
<a name="825964"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gameshastra</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is it not possible to remove compression in the video for better performance<br><br>Regards <br><br></td></tr></table><br>
<a name="825968"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PantsOn</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi<br><br>I've not tested it on any lower end spec machines.<br>The lowest spec machine I have is listed below.<br><br>To maybe solve the problem, have 2 versions of the movie.<br>One at 320*240 and one at 320*120 (scale by 1,2). this should play at 2 speed.<br>Or have one at 160*120, and scale at 2,2. this should play 4 times as quick.<br><br>I'm off on holiday soon and will be back next week, so I can start looking at maybe a solution then.<br><br>There is no way to turn the compression off as that negates the idea as file size will be huge.<br><br>Many thanks for everyone else who has helped so promptly. <br><br></td></tr></table><br>
<a name="825971"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >popcade</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Use 800x600 video and/or screen on a low-end PC need a lot of optimization and Theora do require at least MMX/SSE for functional playing.<br><br>You provided none example, project type, nor any extra info so no people can help out.<br><br>I actually did a project for a school with very old PCs and I applied a educational Smacker license to use.<br><br><a href="http://www.radgametools.com/smkmain.htm" target="_blank">http://www.radgametools.com/smkmain.htm</a><br><br>If your target is lower end machine and have expect the profit can cover the license fee, it's worth trying. <br><br></td></tr></table><br>
<a name="826000"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PantsOn</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yoko has a very good point.<br>Without additional information it is virtually impossible to troubleshoot.<br>Please send all relevant code (player only), movie and specs to my email address. <br><br></td></tr></table><br>
<a name="828992"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gameshastra</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Even on  a 1.5 GHZ machine with 512 MB RAM the video appears slower, with slight jerks in the play back<br>I have seen that pantson.MPEG has been speeded up, is it possible to expect something similar for theora or is it possible to support different levels of compression?.<br><br>Regards <br><br></td></tr></table><br>
<a name="829013"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> The compression levels are set in whatever program you use to encode the video.<br><br>I guess the easiest way to find out is to try encoding the original video several different ways, and check how fast the resulting player routine does its job...<br><br>(If you play your videofile in a window, you can open the taskmanager in the background, and view the percentage CPU use at the same time. Check to see if the % is lower on a video with little compression than on one with high compression.  If the % is lower on your computer, then you just lowered the bar on the requirements as well.<br><br>(You may need to add a 'delay 1' or something to your main loop so the blitz program won't simply take up 100% either way) <br><br></td></tr></table><br>
<a name="829025"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gameshastra</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have found a difference in the smoothness of video with my code using theora as compared to the sample code provided by you for the theora module. I will be highly obliged if you could find the problem in my code. My code which creates a wrapper for theora is as below. Your help is solicited.<br><br>[Code]<br><br>'-----------------------------------------------------------------------------<br>' File: TheoraMovie.bmx<br>' Author: Ramesh D<br>' Description: TheoraMovie class for playing movies in Theora Format<br>' Usage: To create a TheoraMovie object the Create function of TheoraMovie is called with the parameters as follows: video file path, audio file path, x position,y position, width, height<br>'-----------------------------------------------------------------------------<br><br>Import pantson.theora<br>SuperStrict<br><br>Type TheoraMovie<br>Field _vid:Ttheora<br>'Field _aud:TSound<br>Field _frameimg:TImage<br>Field _xpos:Int<br>Field _ypos:Int<br>Field _width:Int<br>Field _height:Int<br>Field _state:Int<br>Field _soundchannel:TChannel<br>Const SkipVideo:Int = 1<br>Const EndVideo:Int = 2<br>Const StartVideo:Int = 3<br><br>Function Create:TheoraMovie(vidname:String,audname:String,xpos:Int,ypos:Int,width:Int,height:Int)<br>Local mov:TheoraMovie = New TheoraMovie<br>mov._vid=OpenTheora(vidname)<br>'mov._aud = LoadSound(audname)<br>mov._xpos=xpos<br>mov._ypos=ypos<br>mov._width=width<br>mov._height=height<br>mov._state=StartVideo<br>Return mov<br>End Function<br><br>Method ProcessInput(id:Int,x:Int,y:Int,data:Int)<br>Select(id)<br>Case EVENT_KEYDOWN<br>If data=KEY_ESCAPE<br>_state=SkipVideo<br>Close()<br>End If<br>End Select<br>End Method<br><br>Method Start()<br>_frameimg=CreateImage(TheoraWidth(_vid),TheoraHeight(_vid))<br>StartTheora(_vid)<br>'_soundchannel=PlaySound(_aud)<br>_vid.autoloop=False<br>End Method<br><br>Method Update(elapsedTime:Int)<br>End Method<br><br>Method Draw:Int()<br>If (DrawTheoraImage(_vid,_frameimg) = True)<br>DrawImage _frameimg,_xpos,_ypos<br>End If<br>Return _vid.eot<br>End Method<br><br><br>Method Close()<br>'StopChannel(_soundchannel)<br>CloseTheora(_vid)<br>End Method<br><br>Method EndOfMovie:Int()<br>Return _vid.eot<br>End Method<br><br>Method Pause()<br>'PauseChannel(_soundchannel)<br>PauseTheora(_vid)<br>End Method<br><br>End Type<br><br>'-------------------------------------------------------------------------------------------------------------------------------------<br>'Main loop<br><br>Local m:TheoraMovie<br><br>Graphics 800,600,0<br><br>' load in movie<br>m = TheoraMovie.Create("C:\\EAS_M.ogg","C:\\EAS_S.ogg",0,0,800,600)<br><br>m.Start()<br><br>' loop until EndOfTheora<br>While Not m.EndOfMovie() And Not KeyDown(key_escape)<br>m.Draw()<br>Flip<br><br>Wend<br><br>' close<br>m.Close()<br>End<br><br>[/Code]<br><br><br>Thanking You<br>Regards <br><br></td></tr></table><br>
<a name="829078"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PantsOn</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> will have a closer look.. but can't see anything from quickly looking at your code.<br><br>Is it possible to send my the movie file (max 10mb) to rich@... ? <br><br></td></tr></table><br>
<a name="829085"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PantsOn</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> all replys will be in....<br><a href="http://www.blitzbasic.co.nz/Community/posts.php?topic=74218" target="_blank">http://www.blitzbasic.co.nz/Community/posts.php?topic=74218</a> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
