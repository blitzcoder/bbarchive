<!DOCTYPE html><html lang="en" ><head ><title >It's Snowing Inside ! (Source Included)</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >It's Snowing Inside ! (Source Included)</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >It's Snowing Inside ! (Source Included)</a><br><br>
<a name="1291291"></a>

<a name="1291292"></a>

<a name="1291293"></a>

<a name="1291296"></a>

<a name="1291297"></a>

<a name="1291298"></a>

<a name="1291299"></a>

<a name="1291303"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I know there are a lot of you people out there that say you are Summer Person and - well, that's fine. You might not be so interested in this program.<br><br>But if you are a WINTER person like myself, you're really gonna love watching the snow come down !<br><br>This program originates from my early S2 program and was derived literally by me watching snow for hours and hours when it came down here in Texas and blanketed everything.<br><br>And I think the math in it is very accurate and you actually get the 'feel' it really is snowing inside your computer ! If you watch it long enough you'll see the wind changes direction too, kinna makes your head tilt if you've been watching it for a-while. :)<br><br>As Ron thinks everyone should get credit for what they do (and they really should) I did so in my source and with links.<br><br>Anyways, here you go the code and formula to, "It's Snowing Inside !"<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
'      _______________________________________
'    //                                     //
'   //  "It's Snowing Inside !"            //
'  // Version, "Frozen Treat"             //
' // Written by David W (dw817) 01/22/16 //
'//_____________________________________//
'
' What's Up ??

' The wind changes direction if you watch the snow long
' enough, it's very subtle and looks neat !

' Decided to doodle the snowflake in my code rather than
' require it to be an external graphic file like it was
' earlier.

' (1) Font licensed by Microsoft
' "https://en.wikipedia.org/wiki/Trebuchet_MS"

' (2) If you use my snow formula in your projects, please
' give me credit. Thanks !

Strict
Import maxgui.drivers ' needed for full screen without hardware snap

Local i,k$,snowflurry

Const snowfx=1
' snowfx=1 light drift
' snowfx=2 regular falling
' snowfx=3 actual flurry

AppTitle$="* It's Snowing Inside *"
SetGraphicsDriver GLMax2DDriver(),0 ' zero forces front buffer (Kfprimm)
Graphics 640,480

SetBlend lightblend ' all colors get lighter
SetAlpha .018 ' super fuzzy
For i=63 To 1 Step -1
  DrawOval 32-i/2,32-i/2,i,i ' draw a snowflake
Next
Local snow:TImage=CreateImage(64,64)
GrabImage snow,0,0 ' grab it !
Cls
SetAlpha 1 ' normal solidity
For i=0 To 639 Step 16
  SetColor 0,i/4,i/2 ' slow color blue to aqua
  DrawLine i,0,639,i ' draw our 3D iris image
  DrawLine 0,639-i,639-i,479
Next
SetColor 255,255,255 ' back to WHITE
Local myfont:timagefont=LoadImageFont("c:/windows/fonts/trebuc.ttf",64)
SetImageFont myfont ' we like Trebuchet so load it
DrawText "It's Snowing Inside!",50,120 ' BIG TEXT
myfont:timagefont=LoadImageFont("c:/windows/fonts/trebuc.ttf",24) ' different size, gotta reload
SetImageFont myfont ' smaller text
DrawText "Written by David W (dw817)",160,240
DrawText "[R]un    [W]ebsite    [F]ont Author    [E]xit",90,320
glflush ' show everything
k$=Lower$(Chr$(WaitChar())) ' wait for a key
If k$="w" ' see my homepage
  OpenURL "http://www.writerscafe.org/dw817"
  End ' nifty way of opening a web page
ElseIf k$="f"
  OpenURL "https://en.wikipedia.org/wiki/Trebuchet_MS"
  End ' otherwise give credit for famous font
ElseIf k$&lt;&gt;"r"
  End
EndIf

Local zvideo:tgadget=CreateWindow("",0,0,0,0,,0) ' create 'minimized' window
MaximizeWindow(zvideo) ' maximize above window (full-screen, no need to read coords)
Global maxx=ClientWidth(zvideo),maxy=ClientHeight(zvideo) ' nab real screen size
Local zframe:tgadget=CreateCanvas(0,0,maxx,maxy,zvideo,0) ' zero is frameless
SetGraphics CanvasGraphics(zframe)
SetBlend lightblend ' everything is light
ActivateGadget zframe ' necessary so keystrokes are read
EnablePolledInput() ' necessary for normal key &amp; mouse reading
HideMouse
myfont=LoadImageFont("c:/windows/fonts/trebuc.ttf",48) ' required ! We changed graphic modes
SetImageFont myfont

Global snowmax=(maxx*maxy)/2300 ' give proper flurry count
Global x#[snowmax],y#[snowmax],xa#[snowmax],ya#[snowmax]
Global sc#[snowmax],mode,xp,milli
Global msg$=strng$(maxx/TextWidth(" ")," ") ' we want spaces in the beginning of the marquee

msg$:+"Happy New Year !  This Snow demo is displaying the TrueType font ~qTrebuchet~q which is part of the Windows Operating system, and as you can see, BlitzBasic can definitely make use of any font you want.  The snowfall routine is borrowed from my earlier S2 coding and adjusted for the larger screen size (remember, S2's display was 320x224 pixels whereas this one is a true 1024x768 !)  Apparently you can create 1024x768 projects showing the buttons below so I may rescale my screen for the S3 project.  The good news is I will definitely be using this routine, complete with the different sized flakes and changing wind directions for the new project as well.  Special greets go out to the some odd 200+ Scenario 2 Worldbuilders from Geocities.  All of you have a safe and happy holiday season, or to be a swift person, have a COOL YULE and a VERY MERRY  !  :)                                                                  Scenario RPGMaker will return with S3 in 2018 !"
msg$:+strng$(maxx/TextWidth(" ")," ")

For i=0 Until snowmax ' randomize positions of snow and accelerations
  x#[i]=i*3 ' thanks for Chris my best friend telling me snow does not increase speed as it falls.
  y#[i]=Rand(0,maxy-1)
  xa#[i]=Rand(0,maxx-1)
  ya#[i]=1+Rnd()
  If Rand(0,10)&gt;1
    ya#[i]:*2
  EndIf
  sc#[i]=Rand(50,100)/300.0
Next

Repeat ' {* MAIN *}

  Cls
  SetScale 1,1
  DrawText msg$,xp,maxy-TextHeight(" ")-4 ' doesn't matter your resolution, this will look great anyways
  xp:-2
  For i=0 To snowmax-1
    i:+(3-snowfx) ' how big a storm ? check top for configuration
    SetScale sc#[i],sc#[i]
    DrawImage snow,x#[i],y#[i] ' draw our snowflake
    If y#[i]&gt;maxy ' if it's hit the bottom, recalculate new place up top
      y#[i]=0
      ya#[i]=1+Rnd()
      If Rand(0,10)&gt;1 Then ya#[i]:*2 ' ding, the quick stuff
    EndIf
    y#[i]:+ya#[i]*snowfx ' snow falls faster if there's more of it
    If Rand(0,1)=0
      If ya#[i]&gt;=1 Then ya#[i]:-.1
    Else
      ya#[i]:+.1
    EndIf
    xa#[i]:+1
    x#[i]:+Sin(xa#[i]*4.0)*2.0+Sin(snowflurry/16.0)*4.0*snowfx ' beautiful lovely wind effect
    If x#[i]&lt;0 Then x#[i]:+maxx
    x#[i]=x#[i]Mod maxx ' keep snow on the screen
  Next
  snowflurry:+1    
  update

Until KeyDown(27) ' {* END OF MAIN *}

' &gt;&gt; UPDATE SCREEN AND GIVE PROPER DELAY TO MATCH ALL CPU
Function update()
Local a=Abs(MilliSecs()) ' I heard this can go negative ?
  glflush ' draw screen
  Delay 25+milli-a ' neat timer to keep things smooth
  milli=a
EndFunction

' &gt;&gt; RETURN A NUMBER OF B$ CHARACTERS (BASIC STRING$())
Function strng$(a,b$)
Local c$
  For Local d=1 To a
    c$:+b$
  Next
Return c$
EndFunction
</textarea><br><br><b>148 lines total.</b><br><br><img src="http://www.writerscafe.org/uploads/rte/d3243a2c5c81c3ed5c77e51ce9e4fa91.png"> <br><br></td></tr></table><br>
<a name="1291327"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice snow movement. <br><br></td></tr></table><br>
<a name="1291338"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice snow!<br><br>(Although one FYI about your scrolling text: Note that Blitzmax (and B3D, and Blitzplus) can't load ALL true type fonts: It's not compatible with Symbol fonts like Wingdings, webdings, etc.) <br><br></td></tr></table><br>
<a name="1291343"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  It's not compatible with Symbol fonts like Wingdings, webdings, etc. <br></div><br>What you talking about, Willis?? <br><br></td></tr></table><br>
<a name="1291344"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Aww, I get an 'array out of bounds' at line 110. <br><br></td></tr></table><br>
<a name="1291348"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow nice intro lines, but I don´t get the snow on Mac? I have to check that. I want to see SNOW (got plenty here too). <br><br></td></tr></table><br>
<a name="1291365"></a>

<a name="1291366"></a>

<a name="1291371"></a>

<a name="1291375"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Mac<br><br>Check lines like this:<br><pre class=code>
myfont=LoadImageFont("c:/windows/fonts/trebuc.ttf",48)
</pre><br><br>I assume the next line has problems to load a non-existing font.<br><br><br>On Linux I get this:<br><pre class=code>
./bmk makeapp -t console -quick -r -x "/testcodes/snow.bmx"
[ 97%] Processing:snow.bmx
[ 98%] Compiling:snow.bmx.console.release.linux.x86.s
flat assembler  version 1.68  (32768 kilobytes memory)
3 passes, 11759 bytes.
[100%] Linking:snow
Executing:snow
	0x00000000,
	0xff000000,
	0x00ff0000,
[...]
	0xffdaff00,
	0xffffff00
</pre><br><br>But I assume this has to do with MaxGUI and Linux ... (would have to use Brucey's gtk-maxgui).<br><br><pre class=code>
'Import maxgui.drivers ' needed for full screen without hardware snap
Import bah.gtkmaxgui
</pre><br><br>After starting it up - it does not show snow flakes , nor das it accept keystrokes (had to "kill" the app via commandline).<br>Also it kept windowed (small sized) - but this might be an issue with gtkmaxgui.  <br><br>what it this supposed to do?<br><pre class=code>
k$=Lower$(Chr$(WaitChar())) ' wait for a key
If k$="w" ' see my homepage
  OpenURL "http://www.writerscafe.org/dw817"
  End ' nifty way of opening a web page
ElseIf k$="f"
  OpenURL "https://en.wikipedia.org/wiki/Trebuchet_MS"
  End ' otherwise give credit for famous font
ElseIf k$&lt;&gt;"r"
  End
EndIf
</pre><br><br>I prepended something in front of this codeblock<br><pre class=code>
print "waiting for key"
local ch:string = WaitChar()
print "got: "+ch
</pre><br>and no matter what key I press, I never reach "got: keyX".<br>Problem is, that WaitChar()/WaitKey()/GetChar() wont work until a graphics mode is set.<br><br>So moving above's code below the "setGraphics" command - work then as expected.<br><br><br><br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1291368"></a>

<a name="1291369"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Derron It has to do with the font. The problem is how to solve that I tried to delete the path and I tried make the name more general. <br>And I thought I change the font to a common one, but I failed at finding what name to use inside the string. <br><br></td></tr></table><br>
<a name="1291372"></a>

<a name="1291373"></a>

<a name="1291374"></a>

<a name="1291377"></a>

<a name="1291382"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just copy the font of choice next to the code and use "fontname.ttf" instead.<br><br>Alternatively just skip loading and setting the imagefont, so it uses the inbuilt one.<br><br><br>@no flakes<br><pre class=code>
print "min clientWidth = " +ClientWidth(zvideo)
MaximizeWindow(zvideo) ' maximize above window (full-screen, no need to read coords)
print "max clientWidth = " +ClientWidth(zvideo)
</pre><br><br>outputs:<br>min clientWidth = 0<br>max clientWidth = 0<br><br>Correcting this (manual override), leads to the display of a black screen.<br><br>I then had to remove the maxGUI portions and use the classic SetGraphics-code and it works.<br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1291378"></a>

<a name="1291379"></a>

<a name="1291380"></a>

<a name="1291381"></a>

<a name="1291384"></a>

<a name="1291385"></a>

<a name="1291386"></a>

<a name="1291388"></a>

<a name="1291389"></a>

<a name="1291394"></a>

<a name="1291395"></a>

<a name="1291396"></a>

<a name="1291397"></a>

<a name="1291398"></a>

<a name="1291399"></a>

<a name="1291400"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I got the Windows font pack (if anywone needs it <a href="https://github.com/caarlos0/msfonts" target="_blank">https://github.com/caarlos0/msfonts</a> ) and I put the source beside the files, doubled checked the names, but still no go.<br><br>While looking more closely in the source I noticed the snow is oval not text as I thought. <br>So it's about the way that things are rendered using canvas and frontbuffer which is the problem.<br><br>It will need some conversion to run on Macs. I´m all new to Bmax's GUI commands. I tried it once and I found on both platforms (WIN and MAC, that the restore buttons was buggy,<br>I thought it was code first but all examples had this). It works and then it does'nt. So that was offputting for me. But I will try BMax UI more someday.<br><br>I put a quickly made graphicscreen version that's good enough for me, nice SNOW !!<br>And for other Mac users who are okay with a teared-up version and just want to see the snow.<br><br>EDIT Got font working on Mac! , I guess anyone who can see both versions could say how true it is, and alter it. I just did by best shoot in the dark.<br><br>As a bonus I think I may confirm that a bug in OSX/Bmax is fixed.<br>(I read this <a href="http://www.blitzmax.com/Community/posts.php?topic=47744)" target="_blank">http://www.blitzmax.com/Community/posts.php?topic=47744)</a><br><br>I had no problem on an updated Mac to move the executable away from its fonts and still have the embedded font working.<br>Embedding fonts with INCBIN seem to work now on Mac.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
'      _______________________________________
'    //                                     //
'   //  "It's Snowing Inside !"            //
'  // Version, "Frozen Treat"             //
' // Written by David W (dw817) 01/22/16 //
'//_____________________________________//
'
' What's Up ??

' The wind changes direction if you watch the snow long
' enough, it's very subtle and looks neat !

' Decided to doodle the snowflake in my code rather than
' require it to be an external graphic file like it was
' earlier.

' (1) Font licensed by Microsoft
' "https://en.wikipedia.org/wiki/Trebuchet_MS"

' (2) If you use my snow formula in your projects, please
' give me credit. Thanks !

Strict
Import maxgui.drivers ' needed for full screen without hardware snap

Local i,k$,snowflurry

Const snowfx=1
' snowfx=1 light drift
' snowfx=2 regular falling
' snowfx=3 actual flurry

AppTitle$="* It's Snowing Inside *"
'SetGraphicsDriver GLMax2DDriver(),0 ' zero forces front buffer (Kfprimm)

Local maxx=DesktopWidth(), maxy = DesktopHeight()
'maxx=640 ; maxy=480
Graphics maxx,maxy,32,60

SetBlend lightblend ' all colors get lighter
SetAlpha .018 ' super fuzzy
For i=63 To 1 Step -1
  DrawOval 32-i/2,32-i/2,i,i ' draw a snowflake
Next
Local snow:TImage=CreateImage(64,64)
GrabImage snow,0,0 ' grab it !
Cls
SetAlpha 1 ' normal solidity
For i=0 To maxx Step 16
  SetColor 0,i/4,i/2 ' slow color blue to aqua
  DrawLine i,0,maxx,i ' draw our 3D iris image
  DrawLine 0,maxx-i,maxx-i,maxy
Next
SetColor 255,255,255 ' back to WHITE
Local myfont:timagefont=LoadImageFont("trebuc.ttf",64)
SetImageFont myfont ' we like Trebuchet so load it
DrawText "It's Snowing Inside!",(maxx/2-TextWidth("It's Snowing Inside!")/2),maxy/2-140 ' BIG TEXT
myfont:timagefont=LoadImageFont("trebuc.ttf",24) ' different size, gotta reload
SetImageFont myfont ' smaller text
DrawText "Written by David W (dw817)",(maxx/2-TextWidth("Written by David W (dw817)")/2),maxy/2-30
DrawText "[R]un    [W]ebsite    [F]ont Author    [E]xit",(maxx/2-TextWidth("[R]un    [W]ebsite    [F]ont Author    [E]xit")/2),maxy/2+30

Flip 

k$=Lower$(Chr$(WaitChar())) ' wait for a key
If k$="w" ' see my homepage
  OpenURL "http://www.writerscafe.org/dw817"
  End ' nifty way of opening a web page
ElseIf k$="f"
  OpenURL "https://en.wikipedia.org/wiki/Trebuchet_MS"
  End ' otherwise give credit for famous font
ElseIf k$&lt;&gt;"r"
  End
EndIf

'Local zvideo:tgadget=CreateWindow("",0,0,0,0,,0) ' create 'minimized' window
'MaximizeWindow(zvideo) ' maximize above window (full-screen, no need to read coords)
'Global maxx=ClientWidth(zvideo),maxy=ClientHeight(zvideo) ' nab real screen size
'Local zframe:tgadget=CreateCanvas(0,0,maxx,maxy,zvideo,0) ' zero is frameless
'SetGraphics CanvasGraphics(zframe)

SetBlend lightblend ' everything is light
' ActivateGadget zframe ' necessary so keystrokes are read
'EnablePolledInput() ' necessary for normal key &amp; mouse reading
HideMouse
myfont=LoadImageFont("trebuc.ttf",48) ' required ! We changed graphic modes
SetImageFont myfont

Global snowmax=(maxx*maxy)/2300 ' give proper flurry count
Global x#[snowmax],y#[snowmax],xa#[snowmax],ya#[snowmax]
Global sc#[snowmax],mode,xp,milli
Global msg$=strng$(maxx/TextWidth(" ")," ") ' we want spaces in the beginning of the marquee

msg$:+"Happy New Year !  This Snow demo is displaying the TrueType font ~qTrebuchet~q which is part of the Windows Operating system, and as you can see, BlitzBasic can definitely make use of any font you want.  The snowfall routine is borrowed from my earlier S2 coding and adjusted for the larger screen size (remember, S2's display was 320x224 pixels whereas this one is a true 1024x768 !)  Apparently you can create 1024x768 projects showing the buttons below so I may rescale my screen for the S3 project.  The good news is I will definitely be using this routine, complete with the different sized flakes and changing wind directions for the new project as well.  Special greets go out to the some odd 200+ Scenario 2 Worldbuilders from Geocities.  All of you have a safe and happy holiday season, or to be a swift person, have a COOL YULE and a VERY MERRY  !  :)                                                                  Scenario RPGMaker will return with S3 in 2018 !"
msg$:+strng$(maxx/TextWidth(" ")," ")

For i=0 Until snowmax ' randomize positions of snow and accelerations
  x#[i]=i*3 ' thanks for Chris my best friend telling me snow does not increase speed as it falls.
  y#[i]=Rand(0,maxy-1)
  xa#[i]=Rand(0,maxx-1)
  ya#[i]=1+Rnd()
  If Rand(0,10)&gt;1
    ya#[i]:*2
  EndIf
  sc#[i]=Rand(50,100)/300.0
Next

Repeat ' {* MAIN *}

  Cls
  SetScale 1,1
  DrawText msg$,xp,maxy-TextHeight(" ")-4 ' doesn't matter your resolution, this will look great anyways
  xp:-2
  For i=0 To snowmax-1
    i:+(3-snowfx) ' how big a storm ? check top for configuration
    SetScale sc#[i],sc#[i]
    DrawImage snow,x#[i],y#[i] ' draw our snowflake
    If y#[i]&gt;maxy ' if it's hit the bottom, recalculate new place up top
      y#[i]=0
      ya#[i]=1+Rnd()
      If Rand(0,10)&gt;1 Then ya#[i]:*2 ' ding, the quick stuff
    EndIf
    y#[i]:+ya#[i]*snowfx ' snow falls faster if there's more of it
    If Rand(0,1)=0
      If ya#[i]&gt;=1 Then ya#[i]:-.1
    Else
      ya#[i]:+.1
    EndIf
    xa#[i]:+1
    x#[i]:+Sin(xa#[i]*4.0)*2.0+Sin(snowflurry/16.0)*4.0*snowfx ' beautiful lovely wind effect
    If x#[i]&lt;0 Then x#[i]:+maxx
    x#[i]=x#[i]Mod maxx ' keep snow on the screen
  Next
  snowflurry:+1    
  update

Until KeyDown(27) ' {* END OF MAIN *}

' &gt;&gt; UPDATE SCREEN AND GIVE PROPER DELAY TO MATCH ALL CPU
Function update()
Local a=Abs(MilliSecs()) ' I heard this can go negative ?
 ' glflush ' draw screen
  Delay 25+milli-a ' neat timer to keep things smooth
Flip 1
  milli=a
EndFunction

' &gt;&gt; RETURN A NUMBER OF B$ CHARACTERS (BASIC STRING$())
Function strng$(a,b$)
Local c$
  For Local d=1 To a
    c$:+b$
  Next
Return c$
EndFunction
</textarea> <br><br></td></tr></table><br>
<a name="1291387"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I love how it seem to be blowing a wind sometimes, mesmerizing. <br><br></td></tr></table><br>
<a name="1291406"></a>

<a name="1291407"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Had a bit of time and wanted to contribute something: a bit improved snowflakes.<br><br>I converted an recursive "KOCH"-Snowflakes-algorithm.<br>Do not get frightened by the length of the code - I had two options: use DrawPoly() and implement a lengthy clipping-ears-algorithm (non convex shape portions) - or draw the polygon and implement a simple flood-fill. I decided for flood filling the alpha-zero-portions.<br><br>To use it, just replace<br><br><pre class=code>
SetBlend lightblend ' all colors get lighter
SetAlpha .018 ' super fuzzy
For i=63 To 1 Step -1
  DrawOval 32-i/2,32-i/2,i,i ' draw a snowflake
Next
Local snow:TImage=CreateImage(64,64)
GrabImage snow,0,0 ' grab it !
</pre><br><br>with<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
'KOCH-Snowflake
'https://en.wikipedia.org/wiki/Koch_snowflake
'adopted implementation of Rasna Aisha
'http://hubpages.com/technology/Java-Source-Code-Recursive-Snow-Flakes
Function GetPolySnowFlakePoints:Float[](level:int, x:int, y:int, w:int, h:int)
	local polygonPoints:Float[]

	local offsetX:int = (w-x)*0.12
	w :* 0.77; h :* 0.77
	GetPolySnowFlakePortionPoints(polygonPoints, level, offsetX + x    ,y+h,offsetX + x+w  ,y+h)
	GetPolySnowFlakePortionPoints(polygonPoints, level, offsetX + x+w  ,y+h,offsetX + x+w/2,y)
	GetPolySnowFlakePortionPoints(polygonPoints, level, offsetX + x+w/2,y  ,offsetX + x    ,y+h)

	'helper function to draw a third of the snow flake
	Function GetPolySnowFlakePortionPoints(polygonPoints:Float[] var, level:int, x:int, y:int, x5:int, y5:int)
		local x2:int,x3:int, x4:int
		local y2:int,y3:int, y4:int

		if level = 0
			polygonPoints :+ [Float(x),Float(y)]
			polygonPoints :+ [Float(x5),Float(y5)]
		else
			x2 = x + (x5 - x) / 3
			y2 = y + (y5 - y) / 3
			x3 = 0.5 * (x + x5) + Sqr(3.0) * (y - y5)/6.0
			y3 = 0.5 * (y + y5) + Sqr(3.0) * (x5 - x)/6.0
			x4 = x + 2 * (x5 - x) /3.0
			y4 = y + 2 * (y5 - y) /3.0

			GetPolySnowFlakePortionPoints(polygonPoints, level-1,  x,  y, x2, y2)
			GetPolySnowFlakePortionPoints(polygonPoints, level-1, x2, y2, x3, y3)
			GetPolySnowFlakePortionPoints(polygonPoints, level-1, x3, y3, x4, y4)
			GetPolySnowFlakePortionPoints(polygonPoints, level-1, x4, y4, x5, y5)
		endif
	End Function

	return polygonPoints
End Function


'draws "dots" on all corners
Function DrawSnowFlakePolyPoints(level:int, x:int, y:int, w:int, h:int)
	local polygonPoints:Float[] = GetPolySnowFlakePoints(level, x,y, w,h)
	
	For local x:int = 0 until polygonPoints.length step 2
		DrawOval(polygonPoints[x], polygonPoints[x+1],2,2)
	Next
End Function


'draws lines from corner to corner
Function DrawSnowFlakePoly(level:int, x:int, y:int, w:int, h:int)
	local polygonPoints:Float[] = GetPolySnowFlakePoints(level, x,y, w,h)

	For local x:int = 0 until polygonPoints.length step 4
		DrawLine(polygonPoints[x], polygonPoints[x+1], polygonPoints[x+2], polygonPoints[x+3])
	Next
	'connect first and last
	DrawLine(polygonPoints[polygonPoints.length-2], polygonPoints[polygonPoints.length-1], polygonPoints[0], polygonPoints[1])
End Function


'only do this for small images as recursion depth is limited...
'it fills transparent pixels with the newColor color
Function floodFillAlpha(pix:TPixmap, x:int, y:int, newColor:int)
	if (pix.ReadPixel(x,y) Shr 24) &amp; $ff = 0 'alpha = 0
		pix.WritePixel(x,y,newColor)
		If x-1 &gt;=0 Then floodFillAlpha(pix, x-1,y, newColor)
		If x+1 &lt; pix.width Then floodFillAlpha(pix, x+1,y, newColor)
		If y+1 &lt; pix.height Then floodFillAlpha(pix, x, y+1, newColor)
		If y-1 &gt;= 0 Then floodFillAlpha(pix, x, y-1, newColor)
	EndIf
End Function

local flakeW:int=100,flakeH:int=100
SeedRnd(Millisecs())
SetBlend AlphaBlend
SetColor 255,255,255
'draw outline - each start the snowflake gets a random recursion level
DrawSnowFlakePoly(Rand(2,4),0,0,flakeW,flakeH)
'draw corner dots?
'DrawSnowFlakePolyPoints(2,0,0,flakeW,flakeH)
Local snow:TImage=CreateImage(flakeW,flakeH, 1)
GrabImage(snow,0,0)
'slightly transparent fill
floodFillAlpha(LockImage(snow),flakeW/2,flakeH/2, $eeFFFFFF) 
</textarea><br><br>There is a portion "Rand(2,4)" which describes the recursion level of the draw function - higher ones get more "detailled" - so if you want variation...<br><br>Another thing to make it look more exciting is to use a random "SetRotation" for the flakes (so each one looks a bit different) - of course this is only useful if you use "my" snowflakes (rotating a gradient-circle wouldn't look so astonishing :-)<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1291412"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> @ Derron Wow, that looked GOOD. Great finishing touch.<br><br>I wanted to try and see how hard it would be to do some good looking rotation but I think my version didn't quiet make it. <br>It got abit clumpsy and draws too much attention from the wind effect. It should be really nice to do a proper realistic rotation that reacted on the wind somehow.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
'      _______________________________________
'    //                                     //
'   //  "It's Snowing Inside !"            //
'  // Version, "Frozen Treat"             //
' // Written by David W (dw817) 01/22/16 //
'//_____________________________________//
'
' What's Up ??

' The wind changes direction if you watch the snow long
' enough, it's very subtle and looks neat !

' Decided to doodle the snowflake in my code rather than
' require it to be an external graphic file like it was
' earlier.

' (1) Font licensed by Microsoft
' "https://en.wikipedia.org/wiki/Trebuchet_MS"

' (2) If you use my snow formula in your projects, please
' give me credit. Thanks !

Strict
Import maxgui.drivers ' needed for full screen without hardware snap

Local i,k$,snowflurry

Incbin "trebuc.ttf"

Const snowfx=1
' snowfx=1 light drift
' snowfx=2 regular falling
' snowfx=3 actual flurry

AppTitle$="* It's Snowing Inside *"
'SetGraphicsDriver GLMax2DDriver(),0 ' zero forces front buffer (Kfprimm)

Local maxx=DesktopWidth(), maxy = DesktopHeight()
'maxx=640 ; maxy=480
Graphics maxx,maxy,32,60
Local swing:Float = 0
'KOCH-Snowflake
'https://en.wikipedia.org/wiki/Koch_snowflake
'adopted implementation of Rasna Aisha
'http://hubpages.com/technology/Java-Source-Code-Recursive-Snow-Flakes

Function GetPolySnowFlakePoints:Float[](level:Int, x:Int, y:Int, w:Int, h:Int)
	Local polygonPoints:Float[]

	Local offsetX:Int = (w-x)*0.12
	w :* 0.77; h :* 0.77
	GetPolySnowFlakePortionPoints(polygonPoints, level, offsetX + x    ,y+h,offsetX + x+w  ,y+h)
	GetPolySnowFlakePortionPoints(polygonPoints, level, offsetX + x+w  ,y+h,offsetX + x+w/2,y)
	GetPolySnowFlakePortionPoints(polygonPoints, level, offsetX + x+w/2,y  ,offsetX + x    ,y+h)

	'helper function to draw a third of the snow flake
	Function GetPolySnowFlakePortionPoints(polygonPoints:Float[] Var, level:Int, x:Int, y:Int, x5:Int, y5:Int)
		Local x2:Int,x3:Int, x4:Int
		Local y2:Int,y3:Int, y4:Int

		If level = 0
			polygonPoints :+ [Float(x),Float(y)]
			polygonPoints :+ [Float(x5),Float(y5)]
		Else
			x2 = x + (x5 - x) / 3
			y2 = y + (y5 - y) / 3
			x3 = 0.5 * (x + x5) + Sqr(3.0) * (y - y5)/6.0
			y3 = 0.5 * (y + y5) + Sqr(3.0) * (x5 - x)/6.0
			x4 = x + 2 * (x5 - x) /3.0
			y4 = y + 2 * (y5 - y) /3.0

			GetPolySnowFlakePortionPoints(polygonPoints, level-1,  x,  y, x2, y2)
			GetPolySnowFlakePortionPoints(polygonPoints, level-1, x2, y2, x3, y3)
			GetPolySnowFlakePortionPoints(polygonPoints, level-1, x3, y3, x4, y4)
			GetPolySnowFlakePortionPoints(polygonPoints, level-1, x4, y4, x5, y5)
		EndIf
	End Function

	Return polygonPoints
End Function

'draws "dots" on all corners
Function DrawSnowFlakePolyPoints(level:Int, x:Int, y:Int, w:Int, h:Int)
	Local polygonPoints:Float[] = GetPolySnowFlakePoints(level, x,y, w,h)
	
	For Local x:Int = 0 Until polygonPoints.length Step 2
		DrawOval(polygonPoints[x], polygonPoints[x+1],2,2)
	Next
End Function

'draws lines from corner to corner
Function DrawSnowFlakePoly(level:Int, x:Int, y:Int, w:Int, h:Int)
	Local polygonPoints:Float[] = GetPolySnowFlakePoints(level, x,y, w,h)

	For Local x:Int = 0 Until polygonPoints.length Step 4
		DrawLine(polygonPoints[x], polygonPoints[x+1], polygonPoints[x+2], polygonPoints[x+3])
	Next
	'connect first and last
	DrawLine(polygonPoints[polygonPoints.length-2], polygonPoints[polygonPoints.length-1], polygonPoints[0], polygonPoints[1])
End Function

'only do this for small images as recursion depth is limited...
'it fills transparent pixels with the newColor color
Function floodFillAlpha(pix:TPixmap, x:Int, y:Int, newColor:Int)
	If (pix.ReadPixel(x,y) Shr 24) &amp; $ff = 0 'alpha = 0
		pix.WritePixel(x,y,newColor)
		If x-1 &gt;=0 Then floodFillAlpha(pix, x-1,y, newColor)
		If x+1 &lt; pix.width Then floodFillAlpha(pix, x+1,y, newColor)
		If y+1 &lt; pix.height Then floodFillAlpha(pix, x, y+1, newColor)
		If y-1 &gt;= 0 Then floodFillAlpha(pix, x, y-1, newColor)
	EndIf
End Function

Local flakeW:Int=100,flakeH:Int=100
SeedRnd(MilliSecs())
SetBlend AlphaBlend
SetColor 255,255,255
'draw outline - each start the snowflake gets a random recursion level
DrawSnowFlakePoly(Rand(2,4),0,0,flakeW,flakeH)
'draw corner dots?
'DrawSnowFlakePolyPoints(2,0,0,flakeW,flakeH)
Local snow:TImage=CreateImage(flakeW,flakeH, 1)
GrabImage(snow,0,0)
'slightly transparent fill
floodFillAlpha(LockImage(snow),flakeW/2,flakeH/2, $eeFFFFFF) 

Cls
SetAlpha 1 ' normal solidity
For i=0 To maxx Step 16
  SetColor 0,i/4,i/2 ' slow color blue to aqua
  DrawLine i,0,maxx,i ' draw our 3D iris image
  DrawLine 0,maxx-i,maxx-i,maxy
Next
SetColor 255,255,255 ' back to WHITE
Local myfont:timagefont=LoadImageFont("incbin::trebuc.ttf",64)
SetImageFont myfont ' we like Trebuchet so load it
DrawText "It's Snowing Inside!",(maxx/2-TextWidth("It's Snowing Inside!")/2),maxy/2-140 ' BIG TEXT
myfont:timagefont=LoadImageFont("incbin::trebuc.ttf",24) ' different size, gotta reload
SetImageFont myfont ' smaller text
DrawText "Written by David W (dw817)",(maxx/2-TextWidth("Written by David W (dw817)")/2),maxy/2-30
DrawText "[R]un    [W]ebsite    [F]ont Author    [E]xit",(maxx/2-TextWidth("[R]un    [W]ebsite    [F]ont Author    [E]xit")/2),maxy/2+30

Flip 

k$=Lower$(Chr$(WaitChar())) ' wait for a key
If k$="w" ' see my homepage
  OpenURL "http://www.writerscafe.org/dw817"
  End ' nifty way of opening a web page
ElseIf k$="f"
  OpenURL "https://en.wikipedia.org/wiki/Trebuchet_MS"
  End ' otherwise give credit for famous font
ElseIf k$&lt;&gt;"r"
  End
EndIf

'Local zvideo:tgadget=CreateWindow("",0,0,0,0,,0) ' create 'minimized' window
'MaximizeWindow(zvideo) ' maximize above window (full-screen, no need to read coords)
'Global maxx=ClientWidth(zvideo),maxy=ClientHeight(zvideo) ' nab real screen size
'Local zframe:tgadget=CreateCanvas(0,0,maxx,maxy,zvideo,0) ' zero is frameless
'SetGraphics CanvasGraphics(zframe)

SetBlend lightblend ' everything is light
' ActivateGadget zframe ' necessary so keystrokes are read
'EnablePolledInput() ' necessary for normal key &amp; mouse reading
HideMouse
myfont=LoadImageFont("incbin::trebuc.ttf",48) ' required ! We changed graphic modes
SetImageFont myfont

Global snowmax=(maxx*maxy)/2300 ' give proper flurry count
Global x#[snowmax],y#[snowmax],xa#[snowmax],ya#[snowmax]
Global sc#[snowmax],mode,xp,milli
Global msg$=strng$(maxx/TextWidth(" ")," ") ' we want spaces in the beginning of the marquee

msg$:+"Happy New Year !  This Snow demo is displaying the TrueType font ~qTrebuchet~q which is part of the Windows Operating system, and as you can see, BlitzBasic can definitely make use of any font you want.  The snowfall routine is borrowed from my earlier S2 coding and adjusted for the larger screen size (remember, S2's display was 320x224 pixels whereas this one is a true 1024x768 !)  Apparently you can create 1024x768 projects showing the buttons below so I may rescale my screen for the S3 project.  The good news is I will definitely be using this routine, complete with the different sized flakes and changing wind directions for the new project as well.  Special greets go out to the some odd 200+ Scenario 2 Worldbuilders from Geocities.  All of you have a safe and happy holiday season, or to be a swift person, have a COOL YULE and a VERY MERRY  !  :)                                                                  Scenario RPGMaker will return with S3 in 2018 !"
msg$:+strng$(maxx/TextWidth(" ")," ")

For i=0 Until snowmax ' randomize positions of snow and accelerations
  x#[i]=i*3 ' thanks for Chris my best friend telling me snow does not increase speed as it falls.
  y#[i]=Rand(0,maxy-1)
  xa#[i]=Rand(0,maxx-1)
  ya#[i]=1+Rnd()
  If Rand(0,10)&gt;1
    ya#[i]:*2
  EndIf
  sc#[i]=Rand(50,100)/300.0
Next

SetImageHandle (snow,ImageWidth(snow)/2, ImageHeight(snow)/2) ' SetHandle, AutoMidHandle

Repeat ' {* MAIN *}

  Cls
  SetScale 1,1
  DrawText msg$,xp,maxy-TextHeight(" ")-4 ' doesn't matter your resolution, this will look great anyways
  xp:-2
  For i=0 To snowmax-1
    i:+(3-snowfx) ' how big a storm ? check top for configuration
    SetScale sc#[i],sc#[i]

	SetRotation Sin(swing)*50 ; swing = swing + 0.01

    DrawImage snow,x#[i],y#[i] ' draw our snowflake
    If y#[i]&gt;maxy ' if it's hit the bottom, recalculate new place up top
      y#[i]=0
      ya#[i]=1+Rnd()
      If Rand(0,10)&gt;1 Then ya#[i]:*2 ' ding, the quick stuff
    EndIf
    y#[i]:+ya#[i]*snowfx ' snow falls faster if there's more of it
    If Rand(0,1)=0
      If ya#[i]&gt;=1 Then ya#[i]:-.1
    Else
      ya#[i]:+.1
    EndIf
    xa#[i]:+1
    x#[i]:+Sin(xa#[i]*4.0)*2.0+Sin(snowflurry/16.0)*4.0*snowfx ' beautiful lovely wind effect
    If x#[i]&lt;0 Then x#[i]:+maxx
    x#[i]=x#[i]Mod maxx ' keep snow on the screen
  Next

  SetRotation 0

  snowflurry:+1
  update

Until KeyDown(27) ' {* END OF MAIN *}

' &gt;&gt; UPDATE SCREEN AND GIVE PROPER DELAY TO MATCH ALL CPU
Function update()
Local a=Abs(MilliSecs()) ' I heard this can go negative ?
 ' glflush ' draw screen
  Delay 25+milli-a ' neat timer to keep things smooth
Flip 1
  milli=a
EndFunction

' &gt;&gt; RETURN A NUMBER OF B$ CHARACTERS (BASIC STRING$())
Function strng$(a,b$)
Local c$
  For Local d=1 To a
    c$:+b$
  Next
Return c$
EndFunction
</textarea> <br><br></td></tr></table><br>
<a name="1291413"></a>

<a name="1291414"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you want to have the wind influence the rotation, you would need to store individual rotations for each snowflake<br><br>So next to ya[], xa[], x[] ... you need r[].<br>Then you check the X-axis-acceleration and the higher this is, the more you add to the current rotation of that snowflake. If the acceleration is negative, you rotate counter-clockwise, and if it is positive, you rotate it clockwise.<br><br>You could also generate multiple snow-flake-images and assign them randomly on snow-flake-object creation.<br><br>Howto:<br><br>Replace<br><pre class=code>
Global sc#[snowmax],mode,xp,milli
</pre><br>with<br><pre class=code>
Global sc#[snowmax],rotation#[snowmax],mode,xp,milli
</pre><br><br><br><br>Replace<br><pre class=code>
    x#[i]:+Sin(xa#[i]*4.0)*2.0+Sin(snowflurry/16.0)*4.0*snowfx ' beautiful lovely wind effect
    If x#[i]&lt;0 Then x#[i]:+maxx
    x#[i]=x#[i]Mod maxx ' keep snow on the screen
  Next
  snowflurry:+1   
</pre><br>with<br><pre class=code>
    local dx:float = Sin(xa#[i]*4.0)*2.0+Sin(snowflurry/16.0)*4.0*snowfx
    rotation[i] :+ dx * 0.2
    SetRotation(rotation[i]) 'rotate snowflakes according to wind
    x#[i]:+dx ' beautiful lovely wind effect
    If x#[i]&lt;0 Then x#[i]:+maxx
    x#[i]=x#[i]Mod maxx ' keep snow on the screen
  Next
  SetRotation(0)
  snowflurry:+1   
</pre><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1291415"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi gang, boy you guys really tackled this thing. :) I'm pretty sure anything I write is not (never ?) going to work on all the platforms and resolutions you guys are trying.<br><br>Although I DID set it so it didn't force 1024x768 resolution this time and tried to calculate just how many snowflakes you would have for whatever resolution you are running it in.<br><br>Ron, your snowflakes look pretty good ! But no two snowflakes are alike, at least that's what Dad says.<br><br>Oh, for those of you it crashes on, I was not running debug mode, try this change:<pre class=code>  For i=0 To snowmax-2</pre>Hopefully that'll fix it.<br><br>And no, Ron, rotating a circle does not gather very much moss. :) You have enough code up there that space could be used instead for 6-bit data <a href="/post.php?topic=105555&amp;post=1291060" target="_blank"><b>(my CarryAll program)</b></a> of a perfect snowflake image. :)<br><br>Going to be a busy morning ! I'll be gone for several hours today so if you're writing and I'm not replying it's just cause I'm not here. Likely be back at 5pm or so. <br><br></td></tr></table><br>
<a name="1291416"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
For i=0 To snowmax-1
    i:+(3-snowfx) ' how big a storm ? check top for configuration
    SetScale sc#[i],sc#[i]
</pre><br>This can't run in debugmode.<br><br>"i" can be higher than snowmax-1 due to "i:+(3-snowfx)" so sc[i] is out of array bounds. <br><br></td></tr></table><br>
<a name="1291417"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Bobysait, look above. Change the snowmax-1 to snowmax-2 and that oughta fix it. <br><br></td></tr></table><br>
<a name="1291418"></a>

<a name="1291420"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> @dw817 It's great though to attack problems on different platforms, it helps the community as whole alot. Font works perfectly now everywhere.<br><br>If only your screen technique worked on OSX then everything would work absolute perfectly.<br>The gaps between the two platforms are otherwise pretty much non-existent finally. <br><br></td></tr></table><br>
<a name="1291461"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> What you talking about, Willis??  <br></div><br><br>It's explicitly stated in the Blitz3D docs:<br><div class="quote"> <b>Note: Blitz doesn't work with SYMBOL fonts, like Webdings and WingDings. </b> <br></div><br><br>The same appears to hold true for Blitzmax too - If you try to substitute wingdings for a normal font like tahoma in Blitzmax, all it prints are blanks, no actual characters.<br><br>(There's been a couple of other fonts I've run into over the years that won't print anything either) <br><br></td></tr></table><br>
<a name="1291467"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's interesting... because I just tried it here on OS X, with wingdings.ttf, drawing "Hello World", and it has drawn some different symbols on the screen... which is how I would expect it to work.<br><br>Unless your fonts aren't ttf, in which case sure, the true-type font loader probably won't load non-true-type fonts. <br><br></td></tr></table><br>
<a name="1291476"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tried snowdemo now with the wingdings ttf and it crashes before I got to see anything. Other fonts seem to be allright but not wingding nor webdings. <br>I´m not sure what why? So far all fonts have worked nicely on Mac but not those two yet What makes a font "symbol"? Is a special class of Unicode fonts? <br><br></td></tr></table><br>
<a name="1291477"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Works fine for me.<br><br>Note that the code loads the font in three different sizes, for which you'll need to change the name - as it is the filename for the incbinn'd data. <br><br></td></tr></table><br>
<a name="1291480"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> I used this for testing, does it work for you?<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
'      _______________________________________
'    //                                     //
'   //  "It's Snowing Inside !"            //
'  // Version, "Frozen Treat"             //
' // Written by David W (dw817) 01/22/16 //
'//_____________________________________//
'
' What's Up ??

' The wind changes direction if you watch the snow long
' enough, it's very subtle and looks neat !

' Decided to doodle the snowflake in my code rather than
' require it to be an external graphic file like it was
' earlier.

' (1) Font licensed by Microsoft
' "https://en.wikipedia.org/wiki/Trebuchet_MS"

' (2) If you use my snow formula in your projects, please
' give me credit. Thanks !

Strict
Import maxgui.drivers ' needed for full screen without hardware snap

Local i,k$,snowflurry

'Local fontused$ = "trebuc.ttf" ' works
'Local fontused$ = "timesbi.ttf" ' works
Local fontused$ = "wingding.ttf" ' empty and then crash at r

Const snowfx=1
' snowfx=1 light drift
' snowfx=2 regular falling
' snowfx=3 actual flurry

AppTitle$="* It's Snowing Inside *"
'SetGraphicsDriver GLMax2DDriver(),0 ' zero forces front buffer (Kfprimm)

Local maxx=DesktopWidth(), maxy = DesktopHeight()
'maxx=640 ; maxy=480
Graphics maxx,maxy,32,60
Local swing:Float = 0
'KOCH-Snowflake
'https://en.wikipedia.org/wiki/Koch_snowflake
'adopted implementation of Rasna Aisha
'http://hubpages.com/technology/Java-Source-Code-Recursive-Snow-Flakes

Function GetPolySnowFlakePoints:Float[](level:Int, x:Int, y:Int, w:Int, h:Int)
	Local polygonPoints:Float[]

	Local offsetX:Int = (w-x)*0.12
	w :* 0.77; h :* 0.77
	GetPolySnowFlakePortionPoints(polygonPoints, level, offsetX + x    ,y+h,offsetX + x+w  ,y+h)
	GetPolySnowFlakePortionPoints(polygonPoints, level, offsetX + x+w  ,y+h,offsetX + x+w/2,y)
	GetPolySnowFlakePortionPoints(polygonPoints, level, offsetX + x+w/2,y  ,offsetX + x    ,y+h)

	'helper function to draw a third of the snow flake
	Function GetPolySnowFlakePortionPoints(polygonPoints:Float[] Var, level:Int, x:Int, y:Int, x5:Int, y5:Int)
		Local x2:Int,x3:Int, x4:Int
		Local y2:Int,y3:Int, y4:Int

		If level = 0
			polygonPoints :+ [Float(x),Float(y)]
			polygonPoints :+ [Float(x5),Float(y5)]
		Else
			x2 = x + (x5 - x) / 3
			y2 = y + (y5 - y) / 3
			x3 = 0.5 * (x + x5) + Sqr(3.0) * (y - y5)/6.0
			y3 = 0.5 * (y + y5) + Sqr(3.0) * (x5 - x)/6.0
			x4 = x + 2 * (x5 - x) /3.0
			y4 = y + 2 * (y5 - y) /3.0

			GetPolySnowFlakePortionPoints(polygonPoints, level-1,  x,  y, x2, y2)
			GetPolySnowFlakePortionPoints(polygonPoints, level-1, x2, y2, x3, y3)
			GetPolySnowFlakePortionPoints(polygonPoints, level-1, x3, y3, x4, y4)
			GetPolySnowFlakePortionPoints(polygonPoints, level-1, x4, y4, x5, y5)
		EndIf
	End Function

	Return polygonPoints
End Function

'draws "dots" on all corners
Function DrawSnowFlakePolyPoints(level:Int, x:Int, y:Int, w:Int, h:Int)
	Local polygonPoints:Float[] = GetPolySnowFlakePoints(level, x,y, w,h)
	
	For Local x:Int = 0 Until polygonPoints.length Step 2
		DrawOval(polygonPoints[x], polygonPoints[x+1],2,2)
	Next
End Function

'draws lines from corner to corner
Function DrawSnowFlakePoly(level:Int, x:Int, y:Int, w:Int, h:Int)
	Local polygonPoints:Float[] = GetPolySnowFlakePoints(level, x,y, w,h)

	For Local x:Int = 0 Until polygonPoints.length Step 4
		DrawLine(polygonPoints[x], polygonPoints[x+1], polygonPoints[x+2], polygonPoints[x+3])
	Next
	'connect first and last
	DrawLine(polygonPoints[polygonPoints.length-2], polygonPoints[polygonPoints.length-1], polygonPoints[0], polygonPoints[1])
End Function

'only do this for small images as recursion depth is limited...
'it fills transparent pixels with the newColor color
Function floodFillAlpha(pix:TPixmap, x:Int, y:Int, newColor:Int)
	If (pix.ReadPixel(x,y) Shr 24) &amp; $ff = 0 'alpha = 0
		pix.WritePixel(x,y,newColor)
		If x-1 &gt;=0 Then floodFillAlpha(pix, x-1,y, newColor)
		If x+1 &lt; pix.width Then floodFillAlpha(pix, x+1,y, newColor)
		If y+1 &lt; pix.height Then floodFillAlpha(pix, x, y+1, newColor)
		If y-1 &gt;= 0 Then floodFillAlpha(pix, x, y-1, newColor)
	EndIf
End Function

Local flakeW:Int=100,flakeH:Int=100
SeedRnd(MilliSecs())
SetBlend AlphaBlend
SetColor 255,255,255
'draw outline - each start the snowflake gets a random recursion level
DrawSnowFlakePoly(Rand(2,4),0,0,flakeW,flakeH)
'draw corner dots?
'DrawSnowFlakePolyPoints(2,0,0,flakeW,flakeH)
Local snow:TImage=CreateImage(flakeW,flakeH, 1)
GrabImage(snow,0,0)
'slightly transparent fill
floodFillAlpha(LockImage(snow),flakeW/2,flakeH/2, $eeFFFFFF) 

Cls
SetAlpha 1 ' normal solidity
For i=0 To maxx Step 16
  SetColor 0,i/4,i/2 ' slow color blue to aqua
  DrawLine i,0,maxx,i ' draw our 3D iris image
  DrawLine 0,maxx-i,maxx-i,maxy
Next
SetColor 255,255,255 ' back to WHITE
Local myfont:timagefont=LoadImageFont(fontused$,64)
SetImageFont myfont ' we like Trebuchet so load it
DrawText "It's Snowing Inside!",(maxx/2-TextWidth("It's Snowing Inside!")/2),maxy/2-140 ' BIG TEXT
myfont:timagefont=LoadImageFont(fontused$,24) ' different size, gotta reload
SetImageFont myfont ' smaller text
DrawText "Written by David W (dw817)",(maxx/2-TextWidth("Written by David W (dw817)")/2),maxy/2-30
DrawText "[R]un    [W]ebsite    [F]ont Author    [E]xit",(maxx/2-TextWidth("[R]un    [W]ebsite    [F]ont Author    [E]xit")/2),maxy/2+30

Flip 

k$=Lower$(Chr$(WaitChar())) ' wait for a key
If k$="w" ' see my homepage
  OpenURL "http://www.writerscafe.org/dw817"
  End ' nifty way of opening a web page
ElseIf k$="f"
  OpenURL "https://en.wikipedia.org/wiki/Trebuchet_MS"
  End ' otherwise give credit for famous font
ElseIf k$&lt;&gt;"r"
  End
EndIf

'Local zvideo:tgadget=CreateWindow("",0,0,0,0,,0) ' create 'minimized' window
'MaximizeWindow(zvideo) ' maximize above window (full-screen, no need to read coords)
'Global maxx=ClientWidth(zvideo),maxy=ClientHeight(zvideo) ' nab real screen size
'Local zframe:tgadget=CreateCanvas(0,0,maxx,maxy,zvideo,0) ' zero is frameless
'SetGraphics CanvasGraphics(zframe)

SetBlend lightblend ' everything is light
' ActivateGadget zframe ' necessary so keystrokes are read
'EnablePolledInput() ' necessary for normal key &amp; mouse reading
HideMouse
myfont=LoadImageFont(fontused$,48) ' required ! We changed graphic modes
SetImageFont myfont

Global snowmax=(maxx*maxy)/2300 ' give proper flurry count
Global x#[snowmax],y#[snowmax],xa#[snowmax],ya#[snowmax]
Global sc#[snowmax],mode,xp,milli
Global msg$=strng$(maxx/TextWidth(" ")," ") ' we want spaces in the beginning of the marquee

msg$:+"Happy New Year !  This Snow demo is displaying the TrueType font ~qTrebuchet~q which is part of the Windows Operating system, and as you can see, BlitzBasic can definitely make use of any font you want.  The snowfall routine is borrowed from my earlier S2 coding and adjusted for the larger screen size (remember, S2's display was 320x224 pixels whereas this one is a true 1024x768 !)  Apparently you can create 1024x768 projects showing the buttons below so I may rescale my screen for the S3 project.  The good news is I will definitely be using this routine, complete with the different sized flakes and changing wind directions for the new project as well.  Special greets go out to the some odd 200+ Scenario 2 Worldbuilders from Geocities.  All of you have a safe and happy holiday season, or to be a swift person, have a COOL YULE and a VERY MERRY  !  :)                                                                  Scenario RPGMaker will return with S3 in 2018 !"
msg$:+strng$(maxx/TextWidth(" ")," ")

For i=0 Until snowmax ' randomize positions of snow and accelerations
  x#[i]=i*3 ' thanks for Chris my best friend telling me snow does not increase speed as it falls.
  y#[i]=Rand(0,maxy-1)
  xa#[i]=Rand(0,maxx-1)
  ya#[i]=1+Rnd()
  If Rand(0,10)&gt;1
    ya#[i]:*2
  EndIf
  sc#[i]=Rand(50,100)/300.0
Next

SetImageHandle (snow,ImageWidth(snow)/2, ImageHeight(snow)/2) ' SetHandle, AutoMidHandle

Repeat ' {* MAIN *}

  Cls
  SetScale 1,1
  DrawText msg$,xp,maxy-TextHeight(" ")-4 ' doesn't matter your resolution, this will look great anyways
  xp:-2
  For i=0 To snowmax-1
    i:+(3-snowfx) ' how big a storm ? check top for configuration
    SetScale sc#[i],sc#[i]

	SetRotation Sin(swing)*50 ; swing = swing + 0.01

    DrawImage snow,x#[i],y#[i] ' draw our snowflake
    If y#[i]&gt;maxy ' if it's hit the bottom, recalculate new place up top
      y#[i]=0
      ya#[i]=1+Rnd()
      If Rand(0,10)&gt;1 Then ya#[i]:*2 ' ding, the quick stuff
    EndIf
    y#[i]:+ya#[i]*snowfx ' snow falls faster if there's more of it
    If Rand(0,1)=0
      If ya#[i]&gt;=1 Then ya#[i]:-.1
    Else
      ya#[i]:+.1
    EndIf
    xa#[i]:+1
    x#[i]:+Sin(xa#[i]*4.0)*2.0+Sin(snowflurry/16.0)*4.0*snowfx ' beautiful lovely wind effect
    If x#[i]&lt;0 Then x#[i]:+maxx
    x#[i]=x#[i]Mod maxx ' keep snow on the screen
  Next

  SetRotation 0

  snowflurry:+1
  update

Until KeyDown(27) ' {* END OF MAIN *}

' &gt;&gt; UPDATE SCREEN AND GIVE PROPER DELAY TO MATCH ALL CPU
Function update()
Local a=Abs(MilliSecs()) ' I heard this can go negative ?
 ' glflush ' draw screen
  Delay 25+milli-a ' neat timer to keep things smooth
Flip 1
  milli=a
EndFunction

' &gt;&gt; RETURN A NUMBER OF B$ CHARACTERS (BASIC STRING$())
Function strng$(a,b$)
Local c$
  For Local d=1 To a
    c$:+b$
  Next
Return c$
EndFunction
</textarea> <br><br></td></tr></table><br>
<a name="1291482"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> No, because your paths are wrong for loading from memory. You need to prefix the path with "incbin::" <br><br></td></tr></table><br>
<a name="1291483"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm back but just for a bit, it's the weekend, time to par-tay ! :D<br><br>Casaber, I tried your program, while it does hardware snap my screen, I get a black screen until I hit ESCAPE. No graphics at all.<br><br>Changing this line:<pre class=code>Graphics maxx,maxy ',32,60 (added remark)</pre>then it works just fine, but displays the system BlitzMAX font. But if I run it in DEBUG mode, it crashes.<br><br>Change this line:<pre class=code>For i=0 To snowmax-3</pre> and it runs just fine but no text.<br><br>You guys are sure messing with my code. *Grin* That's fine. Now as far as snowflakes go, I KNOW there was this one cool math formula to build snowflakes in GWBASIC, and it was super small coding, like 5-lines, had to do with recursion of drawing at 90 degree angles based on a 3x3 pixeled image.<br><br>If I can unearth that, might be the same snowflake or even one more detailed at a considerably lesser price of coding space.<br><br>. . .<br><br>Didn't know about other fonts. I'm actually changing my vector generator so it can have oval slopes, circle cuts, fill in region, you name it, very powerful. Was thinking of giving it an option to display each character from a Truetype Font in the background, use [ ] to change characters, and you can doodle a copy of each character in my system.<br><br>Then you wouldn't need Truetype at all and could use my vector generator to recreate a near exact copy of all the characters for any font with a ton less space required - and you could use it for systems that don't support Truetype.<br><br>Oh yes, of course you can also build your own font or use it to doodle flying saucers and spaceships and stuff too if you want.<br><br>It'll have a grid maximum size of 26x26, (25x25 squares), you can change that of course, and will use letters A-Z to represent points, and special characters to represent lines, slopes, and paints.<br><br>All in all, it's gonna rock ! :D But ... save it for Monday, it's the weekend now, with my G/F, so I'm outie ! <br><br></td></tr></table><br>
<a name="1291491"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> But I don´t even INCBINned the font? I have the file beside the executable. <br>Is it a req to incbin wingding to have it to work? <br><br>I have to check that later, I´m confused eight now.<br><br><br>PARTYY sounds good *<br><br>I´m dead, I coded all today It took the pain away. The worst weekend ever. <br><br>Smile everyday.<br>Happiness is not trying or finding it's deciding. <br><br></td></tr></table><br>
<a name="1291496"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  But I don´t even INCBINned the font?  <br></div><br>Oh, neither you did ;-)  My Bad...<br><br>No, it doesn't work here until I give it the correct filename, which in my case is "wingdings.ttf"<br>Then it draws symbols as expected. <br><br></td></tr></table><br>
<a name="1291652"></a>

<a name="1291654"></a>

<a name="1291655"></a>

<a name="1291657"></a>

<a name="1291658"></a>

<a name="1291659"></a>

<a name="1291660"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> Interesting ideas abound ! Derron wanted something more than circles. I've got that.<br><br>Casaber wanted rotation, I've got that.<br><br>So awright guys, see what you think of this new code !<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
'      _______________________________________
'    //                                     //
'   //  "It's Snowing Inside !"            //
'  // Version, "Rotation Celebration"     //
' // Written by David W (dw817) 01/24/16 //
'//_____________________________________//
'
' What's Up ??

' The wind changes direction if you watch the snow long
' enough, it's very subtle and looks neat !

' Sat down and wrote a neat routine to BUILD snowflakes,
' and yes, no two are alike.

' Snowflakes rotate according to power of wind.

' Changed it so you can disable the font

' (1) Font licensed by Microsoft
' &lt;a href="https://en.wikipedia.org/wiki/Trebuchet_MS" target="_blank"&gt;https://en.wikipedia.org/wiki/Trebuchet_MS&lt;/a&gt;

' (2) If you use my snow formula or builder in your projects,
'  please give me credit. Thanks !

Strict
Import maxgui.drivers ' needed for full screen without hardware snap
SeedRnd MilliSecs()

Const snowno=256
' maximum # of original snowflakes to create

Const snowfx=1
' snowfx=1 light drift
' snowfx=2 regular falling
' snowfx=3 actual flurry (cpu usage ? 5% !)

Const font$="c:/windows/fonts/trebuc.ttf"
' Well ?? Some people don't have this directory.
' Make it blank or something if you don't have the equivalent.
' Const font$=""

AppTitle$="* It's Snowing Inside *"
SetGraphicsDriver GLMax2DDriver(),0 ' zero forces front buffer (Kfprimm)
Graphics 640,480

Global img_snow:TImage[snowno],img:TImage=CreateImage(32,32)
Local i,j,a1,a2,a3,d1,d2,d3,k$,snowflurry,ox#

' my nifty little snowflake maker (no two are alike !)
For i=0 Until snowno
  For j=0 To 89 Step 2 ' we're gonna draw a quarter piece
    j:+Rand(0,4)
    SetRotation j
    a1=Min(a1,31) ; a2=Min(a2,31) ; a3=Min(a3,31)
    SetColor 255,255,255 ; DrawLine 32,32,32+a1,32 ' outside snowflake
    SetColor 0,0,0 ; DrawLine 32,32,32+a2,32 ' middle of
    SetColor 255,255,255 ; DrawLine 32,32,32+a3,32 ' inner point
    a1:+d1*Rand(1,4) ; a2:+d2*Rand(1,3) ; a3:+d3*Rand(1,2)
    If a1&lt;16 Then d1=Rand(1,4) ' keep within boundaries
    If a1&gt;32 Then d1=-Rand(1,4)
    If a2&lt;8 Then d2=Rand(1,3)
    If a2&gt;16 Then d2=-Rand(1,3)
    If a3&lt;4 Then d3=Rand(1,2)
    If a3&gt;8 Then d3=-Rand(1,2)
  Next
  SetRotation 0
  GrabImage img,32,32 ' grab the quarter
  SetRotation 90
  DrawImage img,32,32 ' turn it into a dollar
  SetRotation 180
  DrawImage img,32,32
  SetRotation 270
  DrawImage img,32,32
  img_snow[i]=CreateImage(64,64,1,filteredimage|mipmappedimage) ' mipmap needed cause we're gonna have small snowflakes
  GrabImage img_snow[i],0,0 ' and save it
  MidHandleImage img_snow[i] ' make sure it rotates in the middle
  Cls
Next
SetRotation 0 ' please return your trays to a normal and upright position, we have cleared the turbulence !
For i=0 To 639 Step 16
  SetColor 0,i/4,i/2 ' slow color blue to aqua
  DrawLine i,0,639,i ' draw our 3D iris image
  DrawLine 0,639-i,639-i,479
Next
SetColor 255,255,255 ' back to WHITE
If font$&gt;"" ' only show it if we have it
  SetImageFont LoadImageFont(font$,64)
EndIf
SetBlend lightblend ' all colors get lighter
DrawText "It's Snowing Inside!",50,120 ' BIG TEXT
If font$&gt;""
  SetImageFont LoadImageFont(font$,24) ' different size, gotta reload
EndIf
DrawText "Written by David W (dw817)",160,240
DrawText "[R]un    [W]ebsite    [F]ont Author    [E]xit",90,320
glflush ' show everything
k$=Lower$(Chr$(WaitChar())) ' wait for a key
If k$="w" ' see my homepage
  OpenURL "http://www.writerscafe.org/dw817"
  End ' nifty way of opening a web page
ElseIf k$="f"
  OpenURL "https://en.wikipedia.org/wiki/Trebuchet_MS"
  End ' otherwise give credit for famous font
ElseIf k$&lt;&gt;"r"
  End
EndIf

Local zvideo:tgadget=CreateWindow("",0,0,0,0,,0) ' create 'minimized' window
MaximizeWindow(zvideo) ' maximize above window (full-screen, no need to read coords)
Global maxx=ClientWidth(zvideo),maxy=ClientHeight(zvideo) ' nab real screen size
Local zframe:tgadget=CreateCanvas(0,0,maxx,maxy,zvideo,0) ' zero is frameless
SetGraphics CanvasGraphics(zframe) ' plot everything to here now
SetBlend lightblend ' everything is light
ActivateGadget zframe ' necessary so keystrokes are read
EnablePolledInput() ' necessary for normal key &amp; mouse reading
HideMouse ' mouse cursor disappears
If font$&gt;""
  SetImageFont LoadImageFont(font$,48) ' different size, gotta reload
EndIf

Global snowmax=(maxx*maxy)/2300 ' give proper flurry count
Global mode,xp,milli

Global x#[snowmax],y#[snowmax],xa#[snowmax],ya#[snowmax]
Global sc#[snowmax],sr#[snowmax],sn[snowmax]
' x = snow X position
' y = snow Y position
' xa = snow X acceleration
' ya = snow Y acceleration
' sc = snow scale
' sn = snow image number
' sr = snow rotation position
' sra = snow rotation acceleration

Global msg$=strng$(maxx/TextWidth(" ")," ") ' we want spaces in the beginning of the marquee
snowmax:-1

msg$:+"Happy New Year !  This Snow demo is displaying the TrueType font ~qTrebuchet~q which is part of the Windows Operating system, and as you can see, BlitzBasic can definitely make use of any font you want.  The snowfall routine is borrowed from my earlier S2 coding and adjusted for the larger screen size (remember, S2's display was 320x224 pixels whereas this one is a true 1024x768 !)  Apparently you can create 1024x768 projects showing the buttons below so I may rescale my screen for the S3 project.  The good news is I will definitely be using this routine, complete with the different sized flakes and changing wind directions for the new project as well.  Special greets go out to the some odd 200+ Scenario 2 Worldbuilders from Geocities.  All of you have a safe and happy holiday season, or to be a swift person, have a COOL YULE and a VERY MERRY  !  :)                                                                  Scenario RPGMaker will return with S3 in 2018 !"
msg$:+strng$(maxx/TextWidth(" ")," ")

For i=0 Until snowmax ' randomize positions of snow and accelerations
  x#[i]=i*3 ' thanks for Chris my best friend telling me snow does not increase speed as it falls.
  y#[i]=Rand(-64,maxy-1)
  xa#[i]=Rand(0,maxx-1)
  ya#[i]=1+Rnd()
  If Rand(0,10)&gt;1
    ya#[i]:*2
  EndIf
  sc#[i]=Rand(25,100)/100.0
  sr#[i]=Rand(0,359)
  sn[i]=Rand(0,snowno-1)
Next

Repeat ' {* MAIN *}

  Cls
  SetScale 1,1
  SetRotation 0
  If font$&gt;""
    DrawText msg$,xp,maxy-TextHeight(" ")-4 ' doesn't matter your resolution, this will look great anyways
  EndIf
  xp:-2
  For i=0 To snowmax-2
    i:+(3-snowfx) ' how big a storm ? check top for configuration
    SetScale sc#[i],sc#[i]
    SetRotation sr#[i]
    DrawImage img_snow[sn[i]],x#[i],y#[i] ' draw our snowflake
    If y#[i]&gt;maxy ' if it's hit the bottom, recalculate new place up top
      y#[i]=-64
      ya#[i]=1+Rnd()
      If Rand(0,10)&gt;1 Then ya#[i]:*2 ' ding, the quick stuff
    EndIf
    y#[i]:+ya#[i]*snowfx ' snow falls faster if there's more of it
    If Rand(0,1)=0
      If ya#[i]&gt;=1 Then ya#[i]:-.1
    Else
      ya#[i]:+.1
    EndIf
    xa#[i]:+1
    ox#=x#[i] ' base of wind
    x#[i]:+Sin(xa#[i]*4.0)*2.0+Sin(snowflurry/16.0)*4.0*snowfx ' beautiful lovely wind effect
    sr#[i]:-ox#-x#[i] ' we have change, now rotate according to difference
    If x#[i]&lt;0 Then x#[i]:+maxx
    x#[i]=x#[i]Mod maxx ' keep snow on the screen
  Next
  snowflurry:+1    
  update

Until KeyDown(27) ' {* END OF MAIN *}

' &gt;&gt; UPDATE SCREEN AND GIVE PROPER DELAY TO MATCH ALL CPU
Function update()
Local a=Abs(MilliSecs()) ' I heard this can go negative ?
  glflush ' draw screen
  Delay 25+milli-a ' neat timer to keep things smooth
  milli=a
EndFunction

' &gt;&gt; RETURN A NUMBER OF B$ CHARACTERS (BASIC STRING$())
Function strng$(a,b$)
Local c$
  For Local d=1 To a
    c$:+b$
  Next
Return c$
EndFunction
</textarea> <br><br></td></tr></table><br>
<a name="1291666"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> No, it doesn't work here until I give it the correct filename, which in my case is "wingdings.ttf"<br>Then it draws symbols as expected.  <br></div><br><br>On my PC, it doesn't -- neither when using wingdings.ttf in the current folder, nor when pointing it to the windows fonts directory.<br><br>almost any other font does work, but not wingdings.ttf <br><br></td></tr></table><br>
<a name="1291667"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> Umm ... Okay ? I didn't choose Wingdings as the font, but I can certainly try.<br><br>... Done. Easy fix, now try it with WingDings ! They won't show up, but they won't crash either.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
'      _______________________________________
'    //                                     //
'   //  "It's Snowing Inside !"            //
'  // Version, "Rotation Celebration"     //
' // Written by David W (dw817) 01/24/16 //
'//_____________________________________//
'
' What's Up ??

' The wind changes direction if you watch the snow long
' enough, it's very subtle and looks neat !

' Sat down and wrote a neat routine to BUILD snowflakes,
' and yes, no two are alike.

' Snowflakes rotate according to power of wind.

' Changed it so you can disable the font

' (1) Font licensed by Microsoft
' &lt;a href="https://en.wikipedia.org/wiki/Trebuchet_MS" target="_blank"&gt;https://en.wikipedia.org/wiki/Trebuchet_MS&lt;/a&gt;

' (2) If you use my snow formula or builder in your projects,
'  please give me credit. Thanks !

Strict
Import maxgui.drivers ' needed for full screen without hardware snap
SeedRnd MilliSecs()

Const snowno=256
' maximum # of original snowflakes to create

Const snowfx=1
' snowfx=1 light drift
' snowfx=2 regular falling
' snowfx=3 actual flurry (cpu usage ? 5% !)

Const font$="c:/windows/fonts/wingding.ttf"
'Const font$="c:/windows/fonts/trebuc.ttf"
' Well ?? Some people don't have this directory.
' Make it blank or something if you don't have the equivalent.
' Const font$=""

AppTitle$="* It's Snowing Inside *"
SetGraphicsDriver GLMax2DDriver(),0 ' zero forces front buffer (Kfprimm)
Graphics 640,480

Global img_snow:TImage[snowno],img:TImage=CreateImage(32,32)
Local i,j,a1,a2,a3,d1,d2,d3,k$,snowflurry,ox#

' my nifty little snowflake maker (no two are alike !)
For i=0 Until snowno
  For j=0 To 89 Step 2 ' we're gonna draw a quarter piece
    j:+Rand(0,4)
    SetRotation j
    a1=Min(a1,31) ; a2=Min(a2,31) ; a3=Min(a3,31)
    SetColor 255,255,255 ; DrawLine 32,32,32+a1,32 ' outside snowflake
    SetColor 0,0,0 ; DrawLine 32,32,32+a2,32 ' middle of
    SetColor 255,255,255 ; DrawLine 32,32,32+a3,32 ' inner point
    a1:+d1*Rand(1,4) ; a2:+d2*Rand(1,3) ; a3:+d3*Rand(1,2)
    If a1&lt;16 Then d1=Rand(1,4) ' keep within boundaries
    If a1&gt;32 Then d1=-Rand(1,4)
    If a2&lt;8 Then d2=Rand(1,3)
    If a2&gt;16 Then d2=-Rand(1,3)
    If a3&lt;4 Then d3=Rand(1,2)
    If a3&gt;8 Then d3=-Rand(1,2)
  Next
  SetRotation 0
  GrabImage img,32,32 ' grab the quarter
  SetRotation 90
  DrawImage img,32,32 ' turn it into a dollar
  SetRotation 180
  DrawImage img,32,32
  SetRotation 270
  DrawImage img,32,32
  img_snow[i]=CreateImage(64,64,1,filteredimage|mipmappedimage) ' mipmap needed cause we're gonna have small snowflakes
  GrabImage img_snow[i],0,0 ' and save it
  MidHandleImage img_snow[i] ' make sure it rotates in the middle
  Cls
Next
SetRotation 0 ' please return your trays to a normal and upright position, we have cleared the turbulence !
For i=0 To 639 Step 16
  SetColor 0,i/4,i/2 ' slow color blue to aqua
  DrawLine i,0,639,i ' draw our 3D iris image
  DrawLine 0,639-i,639-i,479
Next
SetColor 255,255,255 ' back to WHITE
If font$&gt;"" ' only show it if we have it
  SetImageFont LoadImageFont(font$,64)
EndIf
SetBlend lightblend ' all colors get lighter
DrawText "It's Snowing Inside!",50,120 ' BIG TEXT
If font$&gt;""
  SetImageFont LoadImageFont(font$,24) ' different size, gotta reload
EndIf
DrawText "Written by David W (dw817)",160,240
DrawText "[R]un    [W]ebsite    [F]ont Author    [E]xit",90,320
glflush ' show everything
k$=Lower$(Chr$(WaitChar())) ' wait for a key
If k$="w" ' see my homepage
  OpenURL "http://www.writerscafe.org/dw817"
  End ' nifty way of opening a web page
ElseIf k$="f"
  OpenURL "https://en.wikipedia.org/wiki/Trebuchet_MS"
  End ' otherwise give credit for famous font
ElseIf k$&lt;&gt;"r"
  End
EndIf

Local zvideo:tgadget=CreateWindow("",0,0,0,0,,0) ' create 'minimized' window
MaximizeWindow(zvideo) ' maximize above window (full-screen, no need to read coords)
Global maxx=ClientWidth(zvideo),maxy=ClientHeight(zvideo) ' nab real screen size
Local zframe:tgadget=CreateCanvas(0,0,maxx,maxy,zvideo,0) ' zero is frameless
SetGraphics CanvasGraphics(zframe) ' plot everything to here now
SetBlend lightblend ' everything is light
ActivateGadget zframe ' necessary so keystrokes are read
EnablePolledInput() ' necessary for normal key &amp; mouse reading
HideMouse ' mouse cursor disappears
If font$&gt;""
  SetImageFont LoadImageFont(font$,48) ' different size, gotta reload
EndIf

Global snowmax=(maxx*maxy)/2300 ' give proper flurry count
Global mode,xp,milli

Global x#[snowmax],y#[snowmax],xa#[snowmax],ya#[snowmax]
Global sc#[snowmax],sr#[snowmax],sn[snowmax]
' x = snow X position
' y = snow Y position
' xa = snow X acceleration
' ya = snow Y acceleration
' sc = snow scale
' sn = snow image number
' sr = snow rotation position
' sra = snow rotation acceleration

Local tw=TextWidth(" ")
If tw=0 Then tw=1
Global msg$=strng$(maxx/tw," ") ' we want spaces in the beginning of the marquee
snowmax:-1

msg$:+"Happy New Year !  This Snow demo is displaying the TrueType font ~qTrebuchet~q which is part of the Windows Operating system, and as you can see, BlitzBasic can definitely make use of any font you want.  The snowfall routine is borrowed from my earlier S2 coding and adjusted for the larger screen size (remember, S2's display was 320x224 pixels whereas this one is a true 1024x768 !)  Apparently you can create 1024x768 projects showing the buttons below so I may rescale my screen for the S3 project.  The good news is I will definitely be using this routine, complete with the different sized flakes and changing wind directions for the new project as well.  Special greets go out to the some odd 200+ Scenario 2 Worldbuilders from Geocities.  All of you have a safe and happy holiday season, or to be a swift person, have a COOL YULE and a VERY MERRY  !  :)                                                                  Scenario RPGMaker will return with S3 in 2018 !"
msg$:+strng$(maxx/tw," ")

For i=0 Until snowmax ' randomize positions of snow and accelerations
  x#[i]=i*3 ' thanks for Chris my best friend telling me snow does not increase speed as it falls.
  y#[i]=Rand(-64,maxy-1)
  xa#[i]=Rand(0,maxx-1)
  ya#[i]=1+Rnd()
  If Rand(0,10)&gt;1
    ya#[i]:*2
  EndIf
  sc#[i]=Rand(25,100)/100.0
  sr#[i]=Rand(0,359)
  sn[i]=Rand(0,snowno-1)
Next

Repeat ' {* MAIN *}

  Cls
  SetScale 1,1
  SetRotation 0
  If font$&gt;""
    DrawText msg$,xp,maxy-TextHeight(" ")-4 ' doesn't matter your resolution, this will look great anyways
  EndIf
  xp:-2
  For i=0 To snowmax-2
    i:+(3-snowfx) ' how big a storm ? check top for configuration
    SetScale sc#[i],sc#[i]
    SetRotation sr#[i]
    DrawImage img_snow[sn[i]],x#[i],y#[i] ' draw our snowflake
    If y#[i]&gt;maxy ' if it's hit the bottom, recalculate new place up top
      y#[i]=-64
      ya#[i]=1+Rnd()
      If Rand(0,10)&gt;1 Then ya#[i]:*2 ' ding, the quick stuff
    EndIf
    y#[i]:+ya#[i]*snowfx ' snow falls faster if there's more of it
    If Rand(0,1)=0
      If ya#[i]&gt;=1 Then ya#[i]:-.1
    Else
      ya#[i]:+.1
    EndIf
    xa#[i]:+1
    ox#=x#[i] ' base of wind
    x#[i]:+Sin(xa#[i]*4.0)*2.0+Sin(snowflurry/16.0)*4.0*snowfx ' beautiful lovely wind effect
    sr#[i]:-ox#-x#[i] ' we have change, now rotate according to difference
    If x#[i]&lt;0 Then x#[i]:+maxx
    x#[i]=x#[i]Mod maxx ' keep snow on the screen
  Next
  snowflurry:+1    
  update

Until KeyDown(27) ' {* END OF MAIN *}

' &gt;&gt; UPDATE SCREEN AND GIVE PROPER DELAY TO MATCH ALL CPU
Function update()
Local a=Abs(MilliSecs()) ' I heard this can go negative ?
  glflush ' draw screen
  Delay 25+milli-a ' neat timer to keep things smooth
  milli=a
EndFunction

' &gt;&gt; RETURN A NUMBER OF B$ CHARACTERS (BASIC STRING$())
Function strng$(a,b$)
Local c$
  For Local d=1 To a
    c$:+b$
  Next
Return c$
EndFunction
</textarea> <br><br></td></tr></table><br>
<a name="1291668"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just.. wow. Those snowflakes looks amazing, how did you do that?<br><br>What makes a font into a "symbol font"? are't all charcacter symbols? Is it the size? the number of letters? Curious if anyone knows I could't find it online.<br><br>Does BMax use Freetype to smash the font onto the screen? <br><br></td></tr></table><br>
<a name="1291670"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you want the "KOCH-snowflakes" to be random, you could "jitter" the calculated points.<br><br>dw's random flakes look a bit like flowers (to me). Snowflakes should look "crystalline".<br><br>Maybe someone can come up with some "crystalline" snowflakes (algorithms, no fixed "DrawLine"-chains).<br><br><br>@dw<br>You might play with varying alpha of the things you draw on your snowflake "texture" - to simulate "thinner ice". You also might consider light blueish colorizing to make it look a bit more interesting.<br><br>The rotation looks a bit "rolling" to me, maybe you should manipulate the influence (10% of the wind).<br>For now each dx adds to the rotation - while the wind might "push" the flake into a direction.<br>So you might think of adding a variable rotation speed (eg. array-index based randomness ... "(((5 * i) mod 100)/100.0) * windMod * wind" or something similar ).<br><br><br>Have Fun.<br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1291671"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Casaber. Glad you like it. *Grin* I think I found out something about myself. I can basically write any code I set my mind to doing, I just don't go about doing it the way other people think I should. :)<br><br>Casaber, giving less than a minute looking at, Wing Dings font just doesn't have a space character. That's all. That's why my program up and bails. I'm using the SPACE character to determine the length of how many spaces to add text so the scroller looks nice when you put a message across.<br><br>Wing Dings, as mentioned, quite simply, has a ZERO length of pixels for the space character.<br><br>If there's a real need for Wing Dings to work in BlitzMAX, I can certainly put my head to it and see what's up. <br><br></td></tr></table><br>
<a name="1291677"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tried to  write some other letters but It did not work (no rrash but all empty).<br><br>I noticed online that Unicode now has equivalents for all of the Wingdings symbols, so there might be another font out there. But still just curious why this one was so hard to access in Bmax. <br><br></td></tr></table><br>
<a name="1291678"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> now it really went dead on me whole Bmax :s<br><br>Building testing<br>Compiling:testing.bmx<br>fasm2as failed: Unable to open file wingdings.ttf<br>Fasm2as failed - please contact BRL!<br>Process complete <br><br></td></tr></table><br>
<a name="1291679"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> I guess you will be without my services from now on. Bmax died on my. I wonder how to reinstall something on a Mac. That´s a new for me. <br><br></td></tr></table><br>
<a name="1291680"></a>

<a name="1291682"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> Casaber, I had the same problem. I backed up my /MOD/ directory first and then recovered. Do the following and we'll see you soon:<br><br>[1] Backup your sources<br>[2] Uninstall BlitzMAX if you can<br>[3] Reinstall (let me know if you need a new download link)<br>[4] Put back your sources.<br><br>That oughta do it. If you have trouble, let one of us know. We wantcha back in the game ! :) <br><br></td></tr></table><br>
<a name="1291681"></a>

<a name="1291683"></a>

<a name="1291685"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> BTW: The German word "Dings" means "doodad" or "thingy" ... might explain the symbols :-)<br><br>As it does not contain letters or numbers I would call it a symbol font (regardless of whether letters are symbols too).<br><br><br>@zero pixels wideness<br>hmm.. one would have to look at the freetypefont-module.<br><br>A wonderful piece of code is for example this:<br><br><pre class=code>
	Method Pixels:TPixmap()
		If _pixmap Return _pixmap
		
		Return _pixmap
	End Method
</pre><br>Wonder what is returned instead of "_pixmap" if _pixmap is not existing ;-)<br><br>Nonetheless I did not see a problem in the code as max2d.mod/imagefont.bmx checks for a valid image before accessing it (zero-width character-glyphs do not contain a _pixmap and therefore then also no loaded image). So if the first glance did not miss something, the bug might be hidden somewhere else.<br><br><br>Edit:<br>how to uninstall on a Mac:<br><br>BlitzMax is self-contained, so if you remove the blitzmax-folder, blitzmax is vanished from your computer. Of course "renaming" will do too.<br><br><br>PS: does it happen to "webdings.ttf" too (think this was a font of office 2000 or so) - or other "symbols"-fonts?<br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1291684"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don´t know what's with me today, I had correctly at first as "Wingding.ttf" and then I thought I saw "wingdingS" inside <br>the font folder, so I got all happy thinking it was just a spelling error. But no I was right the first time. <br><br>I tried INCBIN it, I tried to load it as a file. and I´ve tried to missproununce the name. I did it all ! <br><br>No luck with that bloody font. It wont budge and. That´s just rude.<br>Happy to announce my services are back though. <br><br></td></tr></table><br>
<a name="1291691"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> Tried my own hand at generating snowflakes.  Didn't quite work out as I hoped, but I did get this neat little Kaleidescope thingy going. :)<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">' *************************************************
'
' Flaky Kaleidescope
'    by TomToad
'
' ************************************************
SuperStrict
Graphics 800,600 'set the graphics amd hide the mouse
HideMouse
SeedRnd(MilliSecs())

Local Mask:TImage = CreateImage(256,256) 'This will mask part of the screen
Local Pixmap:TPixmap = LockImage(Mask) 'Pixmap for proceedurally generating the mask
Local FlakeSegment:TImage '1/12th of our flake, to be rotated and mirrored over 360 degrees
Local background:TImage = CreateImage(800,600) 'The background

'Here we will iterate over the mask pixel by pixel.  Those that fall outside the 30 degree arc will be masked
For Local y:Int = 0 To 255
	For Local x:Int = 0 To 255
		Local Distance:Float = Sqr(x*x+y*y)
		If Distance &gt; 255
			WritePixel(Pixmap,x,y,$ff000000)
			Continue
		End If
		If ATan2(y,x) &gt; (360.0/12.0)
			WritePixel(Pixmap,x,y,$ff000000)
			Continue
		End If
		WritePixel(Pixmap,x,y,$00000000)
	Next
Next
FlakeSegment = LoadImage(Pixmap)

'Now we need to create the background.  Alternateively, you can use LoadImage to load an 800x600 picture for a 
'   neat kaleidescope effect
Cls
For Local i:Int = 0 To 100 'draw some random lines
	SetLineWidth 4
	SetColor Rand(128,255),Rand(128,255),Rand(128,255)
	DrawLine Rand(0,799),Rand(0,599),Rand(0,799),Rand(0,599)
Next
SetColor 255,255,255
GrabImage background,0,0 'grab the background into a TImage
MidHandleImage background 'Midhandle the background
Local x:Int = 0, y:Int = 0, xd:Int = 2, yd:Int = 2 'Keep track of where we are scrolling the background to
While Not KeyHit(KEY_ESCAPE) And Not AppTerminate()
	Cls
	SetRotation 0
	DrawImage background,x,y 'We will draw the background at the current x,y coordinates
	DrawImage Mask,272,172 'Mask out everything not within the 30 degree arc
	GrabImage FlakeSegment,272,172 'Now capture what's left into our flake segment
	Cls
	For Local a:Float = 0 To 359 Step 60 'Now To draw half the flake segments at 60 degree intervals
		SetRotation a
		DrawImage FlakeSegment, 400,300
	Next
	
	SetScale 1,-1	'mirror the flake segment
	For Local a:Float = 0 To 359 Step 60 'draw the mirrored segments to fill in the gaps
		SetRotation a
		DrawImage FlakeSegment,400,300
	Next
	SetScale 1,1
	
	Flip 'Flip to show the results
	
	'Update x and y to keep the image varying
	x :+ xd
	If x &gt;= 800 Then xd = -2
	If x &lt; 0 Then xd = 2
	y :+ yd
	If y &gt;= 600 Then yd = -2
	If y &lt; 0 Then yd = 2

Wend</textarea> <br><br></td></tr></table><br>
<a name="1291701"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Tom, this is neat. Don't mind me, I always try to figure out code - and sometimes, I'm not figuring out what something does ??<br><br>You have writepixel in the code and I'm not too sure why, here is the code where it still runs and does your great Kaleidoscope:<br><br><pre class=code>
' *************************************************
'
' Flaky Kaleidescope
'    by TomToad
'
' ************************************************
SuperStrict
Graphics 800,600 'set the graphics amd hide the mouse
SetBlend alphablend
HideMouse
SeedRnd(MilliSecs())

Local background:TImage = CreateImage(800,600) 'The background

Local flakesegment:TImage=CreateImage(256,256)

'Now we need to create the background.  Alternateively, you can use LoadImage to load an 800x600 picture for a 
'   neat kaleidescope effect
Cls
For Local i:Int = 0 To 100 Step 2'draw some random lines
	SetLineWidth 4
	SetColor Rand(128,255),Rand(128,255),Rand(128,255)
	DrawLine Rand(0,799),Rand(0,599),Rand(0,799),Rand(0,599)
Next
SetColor 255,255,255
GrabImage background,0,0 'grab the background into a TImage
MidHandleImage background 'Midhandle the background
Local x:Int = 0, y:Int = 0, xd:Int = 2, yd:Int = 2 'Keep track of where we are scrolling the background to
While Not KeyHit(KEY_ESCAPE) And Not AppTerminate()
	Cls
	SetRotation 0
	DrawImage background,x,y 'We will draw the background at the current x,y coordinates
	GrabImage FlakeSegment,272,172 'Now capture what's left into our flake segment
	Cls
	For Local a:Float = 0 To 359 Step 60 'Now To draw half the flake segments at 60 degree intervals
		SetRotation a
		DrawImage FlakeSegment, 400,300
	Next
	
	SetScale 1,-1	'mirror the flake segment
	For Local a:Float = 0 To 359 Step 60 'draw the mirrored segments to fill in the gaps
		SetRotation a
		DrawImage FlakeSegment,400,300
	Next
	SetScale 1,1
	
	Flip 'Flip to show the results
	
	'Update x and y to keep the image varying
	x :+ xd
	If x &gt;= 800 Then xd = -2
	If x &lt; 0 Then xd = 2
	y :+ yd
	If y &gt;= 600 Then yd = -2
	If y &lt; 0 Then yd = 2

Wend
</pre> <br><br></td></tr></table><br>
<a name="1291718"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> The WritePixel part is creating a mask.  Your version creates some nice images, but they overlap, not like what a kaleidoscope does.  If you replace<br><pre class=code>Cls
For Local i:Int = 0 To 100 Step 2'draw some random lines
	SetLineWidth 4
	SetColor Rand(128,255),Rand(128,255),Rand(128,255)
	DrawLine Rand(0,799),Rand(0,599),Rand(0,799),Rand(0,599)
Next
SetColor 255,255,255
GrabImage background,0,0 'grab the background into a TImage
MidHandleImage background 'Midhandle the background</pre><br>With this<br><pre class=code>
Local Filename:String = RequestFile("Choose an image")
background = LoadImage(ResizePixmap(LoadPixmap(Filename),800,600))
MidHandleImage background 'Midhandle the background
</pre><br>Then when you run the program, it will ask for a file.  Just pick an image from your drive.  You will see how your version overlaps the image.  But if you try replacing the same code in my version, you will see how a portion is masked out before the GrabImage and renders without overlap like a proper kaleidoscope. <br><br></td></tr></table><br>
<a name="1291755"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> I didn't notice, ok, sorry 'bout that, Tom. I was just noticing lines in both codes. I see now you are doing some tricky stuff there. Good deal ! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
