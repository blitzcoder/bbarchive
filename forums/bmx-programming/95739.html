<!DOCTYPE html><html lang="en" ><head ><title >TChannel woes</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >TChannel woes</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >TChannel woes</a><br><br>
<a name="1104575"></a>

<a name="1104576"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> The assert fails. What am I doing wrong? I want to play different sounds on the same channel one after the other, and use channel.playing() to determine when to start the next sound. The channel returned by Play is different to the channel I provide. I can hear the sound being played, so no problems that end.<br><br><pre class=code>Local sound:TSound = TSound.Load("NoMoney.ogg", False)
Local channel:TChannel = New TChannel
sound.Play(channel)
Assert channel.Playing()
Delay 3000</pre><br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1104580"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> This fixed it.<br><br><pre class=code>Local sound:TSound = TSound.Load("NoMoney.ogg", False)
Local channel:TChannel = AllocChannel()
sound.Play(channel)
Assert channel.Playing()
Delay 3000</pre> <br><br></td></tr></table><br>
<a name="1104592"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Taron</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I should try it, but I'm too lazy right now. Is that tight enough for a circular buffer? Meaning, have two or more buffers and tie them back to back in such a play loop.<br>It works just fine in openAL, but the latency drives me nuts. <br><br></td></tr></table><br>
<a name="1104595"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't understand.<br><br>I have fixed my problem by creating the buffer I want to use with AllocChannel. <br><br></td></tr></table><br>
<a name="1104676"></a>

<a name="1104677"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Taron</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Eh, in openAL you can queue up several buffers in one channel. You can then check if a buffers has finished and write new data into it, while the next are playing. Then queue the new buffer back in and so on. I just remembered that freeaudio and directaudio seemed to offer no obvious way to achieve that without a little gap between the plays, resulting in a loud crackle.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1104678"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> What is openAL? Should I be using it instead?<br><br>I don't need the next sound effect to play immediately after. It's for a voice over system. If you run out of power and an attack is approaching at the same time, I want it to play one announcement followed by the other. A brief pause between the two is ok. A loud crackle would not. <br><br></td></tr></table><br>
<a name="1104757"></a>

<a name="1104758"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Taron</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> AH, you didn't see my "realtime synthesis" thread?<br><a href="http://www.blitzmax.com/Community/posts.php?topic=95529" target="_blank">http://www.blitzmax.com/Community/posts.php?topic=95529</a><br><br>Hehehe, that was a real breakthrough for me and I think it's been a first with blitzmax. Anyway, openAL is the openGL equivalent in the audio world, so to say "Open Audio Language" I suppose?<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
