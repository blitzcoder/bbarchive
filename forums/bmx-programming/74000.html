<!DOCTYPE html><html lang="en" ><head ><title >Default Win32 Audio Driver?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Default Win32 Audio Driver?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Default Win32 Audio Driver?</a><br><br>
<a name="826653"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>I'd like to change the default Win32 audio driver to "DirectSound" for the next release.<br><br>FreeAudio works fine on Mac/Linux but suffers the nasty 'half second delay' issue under Vista - as do all mmaudio based apps.<br><br>Any objections? <br><br></td></tr></table><br>
<a name="826700"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Qube</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> None here :)<br><br>I think we'll be ok with DirectSound as the default for the time being. Long term I'm not fully convinced. Overall it appears to be the best all rounder at the present time.<br><br>OpenAL seems the best option for Vista but I hear MS are changing the audio system yet again :/ <br><br></td></tr></table><br>
<a name="826705"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> DirectSound is discontinued in Vista<br><br>So yes, someone here who is against it<br><br>So either:<br> DS default for Windows &lt; Vista<br> OpenAL default for Vista<br><br>or<br> OpenAL default for any windows <br><br></td></tr></table><br>
<a name="826717"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Mark can't really use OpenAL as default because what if user's don't have it installed?  They won't get any sound and there will be a slew of help requests.  Or do you only need the dll for the other OpenAL modes like OpenAL Generic Software etc?<br><br>Mark have you seen these threads?<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=73970" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=73970</a><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=73716" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=73716</a><br><br>Basically I have decided on FreeAudio for XP and OpenAL for non-XP.  But some people have reported FreeAudio lags even on XP!  So maybe DirectSound as the default driver *IS* the way to go.  Then people can decide if they want to distribute OpenAL.dll and use that instead (like me). <br><br></td></tr></table><br>
<a name="826721"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> The fact hardware buffers are <a href="http://msdn2.microsoft.com/en-us/library/bb206355.aspx" target="_blank">no longer supported</a> does not mean DirectSound has been discontinued, it just means Vista broke a lot of audio apps. Or perhaps someone could post a MS based link thats states otherwise.<br><br>I thought DSound was already the default win32 driver, so yeh gets my vote. <br><br>re: OpenAL, does the installer still look like a windows 3.1 app? <br><br></td></tr></table><br>
<a name="826725"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>DirectSound is discontinued in Vista<br> <br></div><br>DirectSound may be discontinued, but it is still 'there' and, under Vista, is the only solution that works 'out of the box', and doesn't require installation of extra components.<br><br>And I doubt it will be going anywhere. If MS were to remove it, thousands of existing apps/games would cease to work.<br><br>So for Vista, DirectSound as the default driver is to me a no-brainer - the idea of a default driver being simply the driver with the highest probability of working with the least hassle.<br><br>The question then becomes what about XP etc? I have heard few if any reports of DirectSound problems under XP so I think it makes sense to switch for all versions of Windows. <br><br></td></tr></table><br>
<a name="826726"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> DirectSound gets my vote, I cant see MS dropping DS support, that would kill a large majority of software currently available.<br><br>skid, you can launch the OpenAL installer in silent mode (-s), so no window :) and it only installs if its needed.<br>but yeah it still looks pretty naff in non-silent mode.<br><br>EDIT - I should type faster ;) <br><br></td></tr></table><br>
<a name="826748"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >popcade</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> The MSDN mentioned XACT(sound system of DX10/XNA) is a high level wrapper on DirectSound, so DSound isn't discontinued, at least with DX10.<br><br>It's simply like Win32API, you may think .NET is the whole new thing, however it's basically on top of Win32API, MFC, and ATL.<br><br>The DX10 introduced new rendering pipe but not much other things changed as well as DPlay/DAudio etc, you can compare the headers and/or look into the lib.<br><br>MCI, DSound, OAL etc, was emulated here and there because the nature that Vista want these API to be run "under total control". I've fed up with this but can't do anything to avoid this, and that broke many app I wrote with low level DDK.<br><br>I prefer DSound but OAL is also OK, on Vista DS and OAL is on the same layer, I just hate to carry DLLs with program :P <br><br></td></tr></table><br>
<a name="826802"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Abrexxes</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> DirectSound works perfekt but is under Vista without any hardware support for soundcard buffers, EAX stuff etc, so it needs more power under Vista because everythink is only emulated. (There are really reasons why Vista needs more Cpu Time and RAM than XP ;) )<br><br>But the day DirectSound stops working on vista you can be shure that DX9 also no longer works. Since DX6 the audio part of DX has not changed, DX8 only has added dangerous effekts and DX9 nothing.<br><br>bye <br><br></td></tr></table><br>
<a name="826819"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> forget my points here <br><br></td></tr></table><br>
<a name="826824"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >popcade</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Extra things:<br><br>When I test Vista SP1 beta, the sound lag on my office workstation magically disappeared.<br><br>Definitely Vista SP1 has changed something internally, If you're beta testers, I do encourage you to make a deep test. <br><br></td></tr></table><br>
<a name="826830"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Dreamora: Direct Sound does have a sound lag or other problems in Vista - FreeAudio does.  Unless you have more info?...<br><br>Yoko: Is that the FreeAudio sound lag that goes away? <br><br></td></tr></table><br>
<a name="827501"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't suppose there is a way we can set the default drivers ourselves? Some option somewhere? <br><br></td></tr></table><br>
<a name="827507"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> What's the point in setting a default yourself when all you have to do is call SetAudioDriver("FreeAudio") or SetAudioDriver("OpenAL")?  Or do you mean an option in the IDE? <br><br></td></tr></table><br>
<a name="827520"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not sure how to answer these but I will have a go :<br><div class="quote"> What's the point in setting a default yourself when all you have to do is call SetAudioDriver("FreeAudio") or SetAudioDriver("OpenAL")?  <br></div><br>So I can set a default that is used by...errr.... default so that I don't have to set anything for the audio or graphics driver. <br><br><div class="quote"> Or do you mean an option in the IDE?  <br></div><br>Your use of 'or' in this context is a tad confusing. <br>Are you saying you don't understand the need for being able to set a default UNLESS that default is set in the IDE? Anyway, the IDE would be a good place.<br>I am not that fussed but, if Mark is asking what default to set, then it seems logical to give the decision to the user. <br><br></td></tr></table><br>
<a name="827529"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well I figured there was no point to setting a default in code as you may as well just set the driver, so therefore the only place to set a default would be in the IDE (or in some kinda Blitz defaults file which doesn't exist). <br><br></td></tr></table><br>
<a name="827531"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> yupp ... setting it through code would be kind of pointless doublework ^^ <br><br></td></tr></table><br>
<a name="827538"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> I agree it would be very silly to have the default set within your code. <br><div class="quote"> Some option somewhere?  <br></div><br>Ahhhh.... there's the giveaway! <br><br></td></tr></table><br>
<a name="827575"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey I've been up to 4-5am every night(morning) for 2 weeks finishing my game off so my reading comprehension may have suffered. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
