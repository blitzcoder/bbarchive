<!DOCTYPE html><html lang="en" ><head ><title >3 line parsing bug</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >3 line parsing bug</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >3 line parsing bug</a><br><br>
<a name="874273"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Najdorf</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
b=1
 If (1&gt;2) Then a=1 ;b=2;
Print b
</pre><br><br>returns 1 while it should return 2. Tested on blitzmax 1.28 on windows and mac.<br><br>Apparently the problem lies in separating with ";" after conditional statements. <br><br></td></tr></table><br>
<a name="874281"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
b=1
 If (1&lt;2) Then a=1 ;b=2;
Print b
</pre> <br><br></td></tr></table><br>
<a name="877536"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't really see this as a bug, more of an extremely useful feature - I use it all the time (although I agree it can be counter intuitive at first).<br><br>Any statements after an If on a line, will be executed if the condition is true. It saves having to type code blocks if you only want to conditionally execute a few simple statements. You wouldn't believe how much neater this makes code... ;-) <br><br></td></tr></table><br>
<a name="877540"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yuck!<br><br>Neater?  I don't think so.<br>If you prefer "neatness" to the detriment of readability, then fair enough. <br><br></td></tr></table><br>
<a name="877575"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Neater? I don't think so.<br>If you prefer "neatness" to the detriment of readability, then fair enough.  <br></div><br>You're quite right - readability and neatness are two different things... You can make a room neat by hiding stuff away in drawers and cupboards, but it doesn't mean that you are making it accessible/readable.<br><br>Yes, some would say that it's harder to see straight away what is executed from an If statement - but if you want to do that, you are free to use an If/EndIf block. Also, you could argue that...<br><br><pre class=code>If (1&lt;2) Then a=1 ;b=2;</pre>...isn't very readable either. Unless you're a die-hard C Programmer!<br><br>I've got to admit however, in C programming, it looks tidy with only one statement. However, it's such a pain when, say for example, you needed to add a DebugStop/Print statement to debug some code - you have to start moving chunks of code around and adding EndIfs. With BlitzMax's current behaviour, just tack a new statement before or after on the same line and be done with it. It can be just as easily removed as it can be added and it's usually these one liner If statements that increment/decrement values and so may be quite frequently debugged.<br><br>That's my argument anyway (and the fact that most of my existing code will no longer work if this is changed ;-))... <br><br></td></tr></table><br>
<a name="877725"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not a bug.  The docs themselves say that BMax uses classic one-line style if statements.  Every variant of basic I've used will skip the entire line if the expression is false.<br><br>I guess it could be a little confusing if you've never used older variants of BASIC before.  The docs could be a little clearer on that. <br><br></td></tr></table><br>
<a name="877747"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JazzieB</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> As TomToad says, it is not a bug.  You're using the one line version of the If statement.  I'm guessing that you're trying to use some shortened version of the If..Then..Else clause, so your code should be...<br><br><pre class=code>
b=1
 If (1&gt;2) Then a=1 Else b=2
Print b</pre><br>Also, it may be worth pointing out that although you can miss the Then keyword out, you cannot miss out the Else keyword, whether it be the single or multiple line version of this clause. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
