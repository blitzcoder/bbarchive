<!DOCTYPE html><html lang="en" ><head ><title >Cos() bug? BMax v1.44</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Cos() bug? BMax v1.44</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Cos() bug? BMax v1.44</a><br><br>
<a name="1111844"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Docster</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Using BMax v1.44<br><br>Is there a bug with the Cos() command in BlitzMax?<br><br><pre class=code>
For Local angle:int=0 To 90
	Local ccos:Float=Cos(angle)
	Print ccos
Next
</pre><br><br>The following code gives me the following results:<br><br><div class="quote"> <br>1.00000000<br>0.999847710<br>0.999390841<br>0.998629510<br>0.997564077<br>0.996194720<br>0.994521916<br>0.992546141<br>0.990268052<br>0.987688363<br>0.984807730<br>0.981627166<br>0.978147626<br>0.974370062<br>0.970295727<br>0.965925813<br>0.961261690<br>0.956304729<br>0.951056540<br>0.945518553<br>0.939692616<br>0.933580399<br>0.927183867<br>0.920504868<br>0.913545430<br>0.906307817<br>0.898794055<br>0.891006529<br>0.882947564<br>0.874619722<br>0.866025388<br>0.857167304<br>0.848048091<br>0.838670552<br>0.829037547<br>0.819152057<br>0.809017003<br>0.798635483<br>0.788010776<br>0.777145982<br>0.766044438<br>0.754709601<br>0.743144810<br>0.731353700<br>0.719339788<br>0.707106769<br>0.694658399<br>0.681998372<br>0.669130623<br>0.656059027<br>0.642787635<br>0.629320383<br>0.615661502<br>0.601815045<br>0.587785244<br>0.573576450<br>0.559192896<br>0.544639051<br>0.529919267<br>0.515038073<br>0.500000000<br>0.484809607<br>0.469471574<br>0.453990489<br>0.438371152<br>0.422618270<br>0.406736642<br>0.390731126<br>0.374606580<br>0.358367950<br>0.342020154<br>0.325568169<br>0.309017003<br>0.292371690<br>0.275637358<br>0.258819044<br>0.241921902<br>0.224951059<br>0.207911685<br>0.190808997<br>0.173648179<br>0.156434461<br>0.139173105<br>0.121869341<br>0.104528464<br>0.0871557444<br>0.0697564706<br>0.0523359552<br>0.0348994955<br>0.0174524058<br>2.65358482e-017   &lt;-- What is this ? <br> <br></div><br><br>This can't be right? <br><br></td></tr></table><br>
<a name="1111845"></a>

<a name="1111846"></a>

<a name="1111857"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's approximately right, which is all you can hope for.<br><br>The e-17 means to move the decimal point left 17 places:<br><br>0.0000000000000000265358482<br><br>Likewise, the notation e+ means to move the decimal point to the right.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1111855"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://en.wikipedia.org/wiki/Scientific_notation" target="_blank">http://en.wikipedia.org/wiki/Scientific_notation</a><br><br><br><div class="quote"> <br>Scientific notation is a way of writing numbers that accommodates values too large or small to be conveniently written in standard decimal notation. Scientific notation has a number of useful properties and is commonly used in calculators, and by scientists, mathematicians, doctors, and engineers.<br> <br></div> <br><br></td></tr></table><br>
<a name="1111878"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >*</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Its always been a flaw in processors and floating point math <br><br></td></tr></table><br>
<a name="1111901"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Noobody</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's not only a problem with lack of precision of floating point numbers, but also that all mathematical functions such as sin/cos/tan/acos/sqr/^ only do numerical approximation (i.e. power series). Since these functions are usually optimized for high performance and not necessarily high numerical accuracy, they only compute the first few iterations of the approximation scheme.<br><br>While the numerical error is still very small (as in, it will not mess with your calculations except you're into high accuracy scientific computing), it's still more than the precision limit of doubles/floats, so it will turn up if you print the number. If that is a readability issue, just round the result to the first 10 decimal places or so. <br><br></td></tr></table><br>
<a name="1111950"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Docster</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh. Thanks for the information ppl. Just testet with 360 degrees. Seems like the same problem occur every 90 degrees. But, I can live with that.. I think. :P <br><br></td></tr></table><br>
<a name="1111978"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Note that this is not a fault/limitation of blitzmax, but how floating points work in general, all programming languages run into the same issue. (Although some may hide it by rounding the numbers upon printing) <br><br></td></tr></table><br>
<a name="1111995"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Brucey's MAPM module can handle SUPER HUGE numbers, if you need extreme accuracy (which 99.99% of the time, you don't). Get it here:<br><a href="http://code.google.com/p/maxmods/wiki/MapmModule" target="_blank">http://code.google.com/p/maxmods/wiki/MapmModule</a><br><br>It can handle, in theory, numbers with BILLIONS of digits...(although few computers can make use of such numbers ;) )<br><br>Russell <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
