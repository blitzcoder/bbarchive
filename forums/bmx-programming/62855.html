<!DOCTYPE html><html lang="en" ><head ><title >Graphics memory used?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Graphics memory used?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Graphics memory used?</a><br><br>
<a name="702189"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, Can I found out how much graphics memory is used easily?  If the graphics memory used goes over the card's capacity will it get stored in RAM and shunted back and forth resulting in hideous slowdowns?<br><br>thanks. <br><br></td></tr></table><br>
<a name="702191"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Think so.<br><br>We need a vidmemavail() command. +1 <br><br></td></tr></table><br>
<a name="702194"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> With DX you could use a DX call<br>OpenGL sadly has nothing like that so the only way would be a manual messuring method as all textures are bound when loaded. (OpenGL has no memory management like DX so stuff is either in VRAM or a pixmap)<br><br>But with 2D I somehow don't believe that it is possible to flood the VRAM.<br>Because cards that work with BM on usefull level have 32MB and thats already quite a lot for 2D after all.<br><br>Chance that fillrate and bandwidth will cause serious performance problems are likely larger ... especially if you have "special effects" (particles and the like) <br><br></td></tr></table><br>
<a name="702209"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> so there is no command in BMax, just a DX one.  Well luckily I'm using DX then.  Anyone know the command?   thanks.<br><br>hmm, yeah I'm loading in a lot of 2D graphics, and when they are expanded out to powers of 2 (does this happen with each frame in an anim strip?), I guess it could comsume quite a lot actually, as it is a pro game with lots of pre-rendered anims.  I do also have quite a few particles, but as the particle image is already on the card it should be OK right? <br><br></td></tr></table><br>
<a name="702247"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ozak</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can't tell how much video memory is used. Especially not when we're 3D accelerated like in BMax. I don't think never versions of DX have this command. Textures might get converted, swizzled, bank aligned and more by the driver/hardware so it's really impossible to tell. You could try to create a bunch of proxy textures using the corrosponing GL command to get a rough estimate. But those days are over, where you could get the amount of free video memory :) <br><br></td></tr></table><br>
<a name="702263"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> oh, bummer just wondered how my game fared that's all.  Surely pro game studios must have *some* way of measuring it... <br><br></td></tr></table><br>
<a name="702267"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ozak</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yup. There's special NVidia diagnostics drivers which will tell you the info you need during development :)<br>And GLs proxy texture function can help determine it too. <br><br></td></tr></table><br>
<a name="702271"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Or as "easy way"<br>sum up the size of all textures you draw in the mainloop. Width * height * bitdepth of it.<br><br>As that stuff must be in VRAM, thats at least the "lowest req" <br><br></td></tr></table><br>
<a name="702281"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just keep makeing images until ordanary ram starts to decrease, then you know how many images were needed to fill the video ram that you had left and you know how big your images were. Then NULL the images. <br><br></td></tr></table><br>
<a name="702288"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> hmm OK.  So does anyone have an answer to if AnimImages scale up to power of 2 for each image in the strip or does the strip just get scaled up? <br><br></td></tr></table><br>
<a name="702434"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Each Image in an anim image is an own image. So every one is part of an own square power of 2. BUT it is not scaled up as in old blitz. BM just creates a larger textures and modifies the UV to only show the really textured part in its original size.<br>There are 2 internal fields you can use to get the real size of the texture (imagewidth won't do it when I remember correctly). Alternatively you need to call a nextPow2 function as BM does when creating the texture buffers. <br><br></td></tr></table><br>
<a name="702514"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Someone, somewhere (I' sure it was these forums but can't find it) suggested <a href="http://www.nonatainment.de/web/Default.aspx?tabid=62" target="_blank"> VidMemWatch </a> which seems quite handy. <br><br></td></tr></table><br>
<a name="702527"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WendellM</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  VidMemWatch  which seems quite handy.  <br></div><br>I just tried it and yes, it seems handy indeed.  Thanks for the pointer. <br><br></td></tr></table><br>
<a name="702620"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> hmm interesting thanks.<br><br>Dreamora: I'm confused, each one (in anim strip) is power of 2 but not scaled up?  Surely those contradict each other (but of course I'm being dumb, please explain....) + which old Blitz?  BPlus or 3D? <br><br></td></tr></table><br>
<a name="702648"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yan</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> He means the pixmap isn't scaled up to fit the texture, the texture is created at the nearest pow2 size and the pixmap is slapped into the top left corner of the texture. <br><br></td></tr></table><br>
<a name="702733"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> ah i see, thanks. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
