<!DOCTYPE html><html lang="en" ><head ><title >Bah.rtMidi openPort issue...</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Bah.rtMidi openPort issue...</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Bah.rtMidi openPort issue...</a><br><br>
<a name="1306004"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Taron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm afraid hardly anybody will have dealt with that, but still...<br><br>midiIn.openPort(0) brings the following error:<br><br>MidiInWinMM::openPort: error creating Windows MM MIDI input port.<br><br>I have no clue what to do about it and can't find any info thus far. Does anybody have any experiences with midi input for Blitzmax on Windows? <br><br></td></tr></table><br>
<a name="1306006"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not using it atm but maybe you can check out this old topic:<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=97812" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=97812</a><br><br>Hope that helps.. <br><br></td></tr></table><br>
<a name="1306012"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Taron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, Rusty, but &lt;ugh&gt; that almost takes away the last bit of hope there, haha. &gt;...&lt;<br><br>Yeh, I don't know, it's so freaking foreign to me, that midi stuff. I'm using a Roland UM-1 usb midi interface, which apparently doesn't make the midi mapper appear in the control panel, thus an attempt to open a port via Windows MM is bound to fail. Seems like there has to be a different way of going about opening such a midi port?! &lt;shrugs&gt; <br><br></td></tr></table><br>
<a name="1306013"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Taron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> OH NO, OH NO, I think, I know what it is! &lt;facepalm&gt;<br>I run 64bit windows and can only have 64bit drivers for the USB Midi interface, making it unavailable to 32bit apps...<br>...and I doubt BlitzMax will ever go 64bit, which is really its guaranteed doom, of course, but it will always remain a fond memory.<br><br>Or are there any plans for survival of Bmax? <br><br></td></tr></table><br>
<a name="1306015"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> ...and I doubt BlitzMax will ever go 64bit, which is really its guaranteed doom, of course, but it will always remain a fond memory.<br><br>Or are there any plans for survival of Bmax?  <br></div><br><br>Brucey's Blitzmax NG can compile 64 bit executables, and interface with 64 bit DLLs. <br><br></td></tr></table><br>
<a name="1306082"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I use Bah.RtMidi in all my education software. Brucey is still maintaing this module. If there is a problem he will solve it.<br><br>But... you cannot open an MINI-IN port if there is no one. By default windows has no MIDI-IN but only MIDI-OUT. Only if you connect a hardware device like a Roland UM-1, the system adds an entry to the midi in list. But the hardware needs to be installed correctly. You need an up-to-date driver for each operation system. If it is installed correctly (and connected) you can see the device in windows system control! <br><br>Also here is a tool to check the hardware:<br><a href="http://www.midiox.com/zip/midioxse.exe" target="_blank">http://www.midiox.com/zip/midioxse.exe</a><br><br>In 99% of all problems of my users the device was not installed correctly. If it is really a RtMidi problem, contact Brucey... he will update this module.<br> <br>Did you test with Bruceys MIDI-IN-code?<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">SuperStrict

Framework BaH.RtMidi
Import BRL.StandardIO
Import BRL.GLMax2d
Import BRL.LinkedList

Const MAX_MESSAGES:Int = 30
Global messages:TList = New TList

Local midiIn:TRtMidiIn = New TRtMidiIn.Create()

' Check available ports.

If midiIn.getPortCount() = 0 Then
	Print "No Input Ports"
	End
End If

For Local i:Int = 0 Until midiIn.getPortCount()
	Print "  Input port #" + i + " : " + midiIn.getPortName(i)
Next

Print "Opening " + midiIn.getPortName()

midiIn.openPort(0)

' Don't ignore sysex, timing, or active sensing messages.
midiIn.ignoreTypes(False, False, False)


' Periodically check input queue.
Print "Reading MIDI from port ... quit with ESCAPE."

Graphics 800, 600, 0

Local stamp:Double

While Not KeyDown(KEY_ESCAPE)

	Cls
	
	DrawText "Reading MIDI from port ... quit with ESCAPE.", 60, 10


	Local message:Byte[] = midiIn.getMessage(stamp)
	Local nBytes:Int = message.length
	
	Local s:String
	For Local i:Int = 0 Until nBytes
		s :+ "Byte " + i + " = " + message[i] + ", "
	Next
	
	If nBytes &gt; 0 Then
		s :+ "stamp = " + stamp
	End If
	
	If s Then
		Print s
		AddMessage(s)
	End If
	
	ShowMessages(10, 30)
	
	Delay (10)

	Flip
	
Wend

midiIn.Free()

End

Function ShowMessages(x:Int, y:Int)
	For Local message:String = EachIn messages
		DrawText message, x, y
		y:+ 15
	Next
End Function

Function AddMessage(message:String)
	Local count:Int = messages.Count()
	If count &gt;= MAX_MESSAGES Then
		messages.RemoveFirst()
	End If
	
	messages.AddLast(message)
End Function
</textarea> <br><br></td></tr></table><br>
<a name="1306094"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Taron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, Midi, but I already found out the issue (32bit bmax vs. 64bit midi driver). My UM-1 is working fine for 64bit apps (DAW: MuLab). <br><br>xlsior: REALLY? As in: WHAAAAAAT? O_O<br>I have to urgently find out more about that! Holy heck, that would be A W E S O M E !!!<br>...this is to say: THANK YOU for the information!<br><br>I'll post a little openAL physical modelling synthesis right now! 8} <br><br></td></tr></table><br>
<a name="1306116"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Taron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> So, I tried hooking rtmidi up for BlitzMax NG, immediately giving an expected pointer error, yet, only for closeport method, which I then "fixed", but it still has compiling errors... not sure, if I have the power to fix them all?!<br><br>Has somebody taken care of that already somewhere? <br><br></td></tr></table><br>
<a name="1306120"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> do you know, that RtMidi has an own homepage? Bruceys module is only the wrapper...<br><br><br>There is a new update from feb 2016 and a lot of additional informations:<br><br><a href="http://www.music.mcgill.ca/~gary/rtmidi/index.html" target="_blank">http://www.music.mcgill.ca/~gary/rtmidi/index.html</a> <br><br></td></tr></table><br>
<a name="1306124"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Taron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ugh, that's cool. Guess I should have a look into linking that up with bmax. I've never written a wrapper myself, but I'm certainly curious about it!<br><br>Thanks! 8) <br><br></td></tr></table><br>
<a name="1306366"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> All the rtMidi examples clean build and run in 64-bit native against the latest BlitzMax NG across all supported platforms, as far as I am aware.<br><br>Your issues may be with your own code. Feel free to post an actual error, which could help resolve your problems. <br><br></td></tr></table><br>
<a name="1306563"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Taron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh, no I just tried compiling the mini in example!<br>I'm not sure, if I have all the latest stuff? It's not as easy to tell, I find. <br><br>Thanks, though, Brucey, I'm super happy to hear from you here!!! 8D<br><br>I hope, in time, I'll get a good chance to make you happy, too! 8} <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
