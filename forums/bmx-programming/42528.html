<!DOCTYPE html><html lang="en" ><head ><title >Feature request - more flexible EachIn</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Feature request - more flexible EachIn</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Feature request - more flexible EachIn</a><br><br>
<a name="476299"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would like to request that the EachIn command be made a bit more flexible so that it doesn't just go through every single item in an array, but instead lets you define where in the array to start and where to end. (or how many items to do?)<br><br>Given that, in code, this command probably gets the array size as a loopcounter, that number could easily be adjusted to something less than the size of the array. Also since it probably maintains a memory address which is incremented, it could easily be initialized to a different location in the array rather than the base of it.<br><br>Something like....<br><br>For counter=EachIn myarray[7] To 16<br><br>or<br><br>For counter=EachIn myarray[7] To myarray[16]<br><br>Also it would be nice to be able to manually adjust the `loopcounter` from within the loop, like you can with a regular For-Next loop, so that you can jump about in the array if needed, something like:<br><br>counter2=0<br>For counter=EachIn myarray<br>   if counter2=5 then NextIn(5) 'ie skip forward 5 elements<br>   if counter2=15 then PrevIn(5) 'ie skip backward 5 elements<br>   if counter2=10 then DirectIn(2) 'Goto element 2<br>   counter2:+1<br>next counter<br><br>something like that, so you can manipulate where you are in the array? Would be real useful to be able to jump forward, backward, and to any given position.<br><br>Anyway, just an idea. Would be useful to me. <br><br></td></tr></table><br>
<a name="476342"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skn3</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Id like to see eachin become more like the php foreach.<br><br><pre class=code>
global myicons[10]

for index =&gt; indexarray = eachin myitems
    print indexarray[index]
next
</pre><br><br>The "=&gt; object/variable" is optional. <br><br></td></tr></table><br>
<a name="476396"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PowerPC603</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you're using arrays, can't you just access the index directly?<br><br><pre class=code>
Global MyArray:Int[20]

For index = 5 To 12
	MyArray[index] = Rand(0, 100)
	counter :+ 1
	If counter = 3 then
		index = 7
	EndIf
Next
</pre> <br><br></td></tr></table><br>
<a name="476448"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes of course you can but each time you access the array, Blitz has to take the base address of the array, work out where the offset into the array is based on the index, add it to the base address and then read the array data.<br><br>With EachIn, all it seems to have to do, is keep track of where it is in memory, starting at the base address, adding the size of the type to it with each iteration, which is a lot less instructions and it does work faster. For example, a routine I wrote ran at 80 milliseconds with a regular for-next loop using an index, whereas the EachIn technique took only 70 milliseconds. That's something like at 13% speedup.<br><br>So yes you can use an index, but it's not as efficient as it could be. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
