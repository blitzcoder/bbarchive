<!DOCTYPE html><html lang="en" ><head ><title >Playing videos in fullscreen</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Playing videos in fullscreen</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Playing videos in fullscreen</a><br><br>
<a name="846302"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BugZilla</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am writing a game in BlitzMax and want to show a video between each level to introduce it. I was thinking of buying the MaxGUI add on and using the HTML view to show the movie as FLV video or Quicktime embedded in HTML. The thing is, can you do that in fullscreen, doublebuffered mode?<br><br>If not, how can you play a cutscene video just like you would find in any commercial game? <br><br></td></tr></table><br>
<a name="846305"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> maxgui -&gt; no fullscreen at all.<br><br>You need to use a video module to do this.<br>And as you need to be able to do it commercial, it won't be any of those wrapper so far unless theora (libtheora) was wrapped as well. <br><br></td></tr></table><br>
<a name="846352"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Don't some video players that work in web browsers have their own full-screen mode? <br><br></td></tr></table><br>
<a name="846435"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bremer</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> How about mplayer?  <a href="http://www.mplayerhq.hu/" target="_blank">http://www.mplayerhq.hu/</a><br><br>I know it can be embedded fullscreen, but I do not know about the legal aspects of it, but I believe its open source, so it might be something that could be used. <br><br></td></tr></table><br>
<a name="846589"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhans0n</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> What about this Theora module?  - <a href="http://www.pantson.com/mods/Theora/index.php" target="_blank">http://www.pantson.com/mods/Theora/index.php</a> <br><br></td></tr></table><br>
<a name="846751"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BugZilla</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK. I found some code buried in this forum that lets me play MPEG-1 videos fullscreen perfect. The only problem is that it opens it's own window to play the video and minimizes the game window. Is there a command to identify the game window and maximize it again? <br><br></td></tr></table><br>
<a name="846770"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PantsOn</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> i do recommend using the theora module.<br>Theora movies and module are copyright free.<br><br>Most MPEG formats are not free formats and most players are based upon a GPL license which means that your code must be freely avaliable. <br><br>The theora format is free from all restrictions. Unfortunately I cannot get sound working in the module, but there is a method for playign sound in the examples in the archive.<br><br>To convert your movies to theora using the link in the Theora/index.php page. <br><br></td></tr></table><br>
<a name="847094"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BugZilla</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey PantsOn. I downloaded your Theora module, converted a video(using "ff2mpeg") to test using the video converter and rant he sample program pointing to that video but I always get an error:<br><br>Can't find interface for module "pantson.theora"<br><br>Wow. I still can't get over how difficult it is to simply play a video file within a BlitzMax application in fullscreen. <br><br>Why is this so hard to do? Even the old 2D version of Blitz had simple video playback commands. <br><br></td></tr></table><br>
<a name="847137"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Did you download to a pantson.mod/theora.mod directory in your blitzmax mod directory? You might also need to build modules.<br>&lt;edit&gt; P.S. You are right that are some glaring omissions from BlitzMax which were present in B2D/B3D. It's usually blamed on x-platform support. <br><br></td></tr></table><br>
<a name="847160"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Blitz uses DirectMedia. Its simple and just there.<br><br>explain that to the Linux world with no standard and apple with QuickTime ... <br><br></td></tr></table><br>
<a name="847230"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BugZilla</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I finally figured it out! Here is the code I cobbled together to work around the problems I was having. It is not perfect, but it works adequately until the next version of BlitzMax hopefully includes such functionality. Here is the code:<br><br><br>' THIS CODE WILL CREATE A BLITZMAX ANIMATED APPLICATION WHICH LAUNCHES A  FULLSCALE .AVI VIDEO<br>' FILE WHEN THE USER CLICKS ON THE START BUTTON. WHEN THE AVI IS FINISHED PLAYING IT RETURNS TO<br>' THE STANDARD BLITZMAX ANIMATION.<br>' THIS CODE WILL WORK WITH THE STANDARD .AVI CODECS LIKE CINEPAK AND INDEO.<br><br><br>' THESE ARE THE COMMANDS WINDOWS NEEDS TO MANIPULATE WINDOWS <br>Global hwnd:Int<br>Extern "Win32"<br>	Function mciSendString:Int(pstrCommand$z, lpstrReturnStr$z, wReturnLen:Int, CallBack:Int) = "mciSendStringA@16"<br>	Function FindWindow( lpClassName$z, lpWindowName$z ) = "FindWindowA@8"<br>	Function FindWindowEx( hwnd1:Int, hwnd2:Int, lpsz1$z, lpsz2$z ) = "FindWindowExA@16"<br>	Function SetWindowLong:Int(HWND:Int,nIndex:Int,dwNewLong:Int) = "SetWindowLongA@12"<br>	Function GetWindowLong:Int(HWND:Int,nIndex:Int) = "GetWindowLongA@8"	<br>	Function ShowWindow:Int(HWND:Int,nCmdShow:Int) <br>	Function BringWindowToTop:Int(HWND:Int) <br>	Function GetActiveWindow:Int()<br>End Extern<br><br>' SET UP A STANDARD BLITZMAX PROGRAM<br>Graphics 1024,768,32<br>SetMaskColor 0, 0, 0<br>HideMouse()<br>' LOAD GRAPHICS FOR OUR SIMPLE GUI<br>Global start_btn = LoadImage("gfx/UI/Start_btn.png") <br>Global cursor = LoadImage("gfx/UI/CURSOR.BMP") <br>'----------------------------------------------------------------------------  THE MAIN PROGRAM LOOP<br>While Not KeyDown(KEY_ESCAPE)<br>  Cls<br>DrawImage start_btn ,400,500<br>DrawImage cursor,MouseX(),MouseY()<br>' ---------------------------------------------------------  IF THE USER CLICKS THE START BUTTON, PLAY THE VIDEO FILE THEN  <br>'---------------------------------------------------------   RESTORE THE BLITZMAX WINDOW TO NORMAL. <br>If MouseDown(1)<br>If ImagesCollide (cursor, MouseX(), MouseY(), 0, start_btn, 400, 500, 0) <br>' SWITCH OUR GRAPHICS MODE TO SUIT THE SIZE OF OUR VIDEO FILE<br>Graphics 400,320,32<br>PlayAVI("test.avi")  <br>' SET THE HWND VARIABLE OUR CURRENT APPLICATION<br>hwnd=GetActiveWindow()<br>' SET GRAPHICS BACK TO NORMAL<br>Graphics 1024,768,32<br>' BRING OUR BLITZMAX APPLICATION WINDOW BACK TO FULLSCREEN<br>ShowWindow(hwnd,SW_MAXIMIZE)<br>BringWindowToTop(hwnd)<br>End If<br>End If <br>Flip<br>Wend<br>' ----------------------------------------------------------- AVI PLAYBACK FUNCTION<br>Function PlayAVI:Int(FileName:String)<br>    Local cmdStr:String = ""<br>    Local ReturnCode:Int<br>    ReturnCode = mciSendString("close AVI_Device","",0,0)<br>    ReturnCode = mciSendString("open " + Chr(34) + filename + Chr(34) + " type avivideo alias AVI_Device","",0,0)<br>    If returncode&lt;&gt;0 Then <br>    	Print "Error opening AVI device. Error code:" + returncode<br>    	Return False<br>    EndIf<br>    CmdStr = "play AVI_Device fullscreen wait"<br>    returncode =  mciSendString(cmdstr ,cmdstr , 0, 0)<br>    If returncode&lt;&gt;0 Then <br>    	Print "Error playing AVI file. Error code:" + returncode<br>    	Return False<br>    Else<br>	Return True	 <br>	EndIf<br>End Function <br><br></td></tr></table><br>
<a name="847295"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PantsOn</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> the file scructure for the mod should be..<br>mods/pantson.mod/theora.mod/files (this should structure shuld already be in the archive)<br>You will then need to compile the module. CTRL-D<br>This will require MINGW installed..<br><br>Personally I wouls steer away from AVIs as well due to the number of codecs needed nowadays. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
