<!DOCTYPE html><html lang="en" ><head ><title >Max Pixmap Size?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Max Pixmap Size?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Max Pixmap Size?</a><br><br>
<a name="1037413"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BLaBZ</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just wondering how big a pixmap can be?<br><br>I need to save the largest(in pixels) possible PNG image. :)<br><br>Thanks! <br><br></td></tr></table><br>
<a name="1037414"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >plash</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Depends on your memory. <br><br></td></tr></table><br>
<a name="1037416"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's not the amount of memory you have it's the size of the largest contiguous block of memory. As far as the pixmaps go you can use integer sizes (signed), so like 2 billion in each dimension. The largest I've ever done personally is 4096x4096 which worked fine. <br><br></td></tr></table><br>
<a name="1037430"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BLaBZ</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there a way to increase the largest contiguous block of memory? Or add multiple blocks of memory? <br><br></td></tr></table><br>
<a name="1037432"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Is there a way to increase the largest contiguous block of memory? Or add multiple blocks of memory?  <br></div><br><br>Under Windows there are some API calls that can be used to send a system-wide message to running applications to return any unused memory, which could result in larger blocks of contiguous memory... But of course there are no guarantees. <br><br></td></tr></table><br>
<a name="1037433"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why not split your image into smaller chunks and tile them? Pixmaps are scaled UP to the nearest power of 2, so any chunks should be of size 64x64, 128x128, 256x256 or etc to optimise memory usage. <br><br></td></tr></table><br>
<a name="1037436"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BLaBZ</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> There's an idea! I'm just trying a few things...<br><br>This is the largest pixmap I can make<br><br><pre class=code>
SuperStrict 

Local PixMap:TPixmap=CreatePixmap(18735,18735,PF_A8)


Print GCMemAlloced()

SavePixmapPNG(PixMap,"pixmap.png",9)

Print GCMemAlloced()
</pre><br><br>does this work for anybody else? <br><br></td></tr></table><br>
<a name="1037438"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BLaBZ</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> If I used threading, would I be able to load images practically simultaneously while I displayed them?<br><br>Ex:Streaming video, how it plays and downloads simultaneously <br><br></td></tr></table><br>
<a name="1037445"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Local PixMap:TPixmap=CreatePixmap(18735,18735,PF_A8)<br> <br></div><br>excuse my ignorance but why would you need a pixmap that big?<br>I personally can't think of a real use for it. <br><br></td></tr></table><br>
<a name="1037447"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> If I used threading, would I be able to load images practically simultaneously while I displayed them? <br></div><br>You'd have to be pretty clever about it. I don't think DX or OpenGL - in the versions that BMax uses - are threadsafe.<br><br>Perhaps it would help if you explained what you're trying to achieve. The whole huge images and streaming display questions suggest that you actually have a problem you're trying to solve. If so, people may be better equipped to help you solve it if they knew the precise nature of the problem you're attempting to solve. <br><br></td></tr></table><br>
<a name="1037449"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Streaming an image to display through bmax via multithreading should not be possible (corret me if I'm wrong someone with more knowledge...) for a number of reasons without some custom management.<br><br>The primary reason is opengl (and dx under 11 I believe... and I think bmax only uses up to 9...) are not thread safe, meaning you can only interact with them from the main thread, so you can't stream in a child and draw in the main because you can't create or update the texture memory you want to display from the child thread.<br><br>The way I would go about hacking it would be to write a custom image handler format that loads to memory (possibly in batches so there's a time when it's safe to read between writes) and then spins whatever's loaded off into a drawable texture. Either that or just directly draws pixels but that would be sloooooooow, which kinda defeats the purpose of threading it up...<br><br>Also keep in mind that threading can have some quirks and is a pain to debug.<br><br>As Gabriel said, if you can pose a hypothetical problem perhaps a specific solution can be thought up. <br><br></td></tr></table><br>
<a name="1037451"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Your image size is about 350 megs.. possible that it'll work. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
