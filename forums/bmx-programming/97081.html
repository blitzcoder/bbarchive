<!DOCTYPE html><html lang="en" ><head ><title >TList Contain</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >TList Contain</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >TList Contain</a><br><br>
<a name="1125682"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eternal Crisis</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was curious if anyone knew a better way to check a TList if it contains a value. I know "ListContains" exists but I'm not sure how to use it in this instance:<br><br>Type TMyList<br>  Field key:string<br>  Field value:int<br><br>    method create:tmylist(k:string, v:int = 0)<br>      key = k<br>      value = v<br>    endmethod<br><br>EndType<br><br>MyLists:TList = new TList<br>ListAddLast(MyLists, new TMyList.create("My Key", 5))<br><br>How would I search that TList and return true if it contained "5"? I'm trying to see if I can avoid iterating the list just to see if that "5" exists in the list.<br><br>Thanks. <br><br></td></tr></table><br>
<a name="1125686"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> avoid iterating the list <br></div><br><br>Not possible. By nature, a list is a structure that must be iterated over in order to get to elements (unless you keep pointers to the links in the middle, which isn't really a proper answer to this question). This is because a list stores elements in a linear fashion where each one can only be accessed from the previous one. Even if you could somehow encode the distance from the head of the list into the key, you'd still have to iterate over the list to actually retrieve that element.<br><br>Luckily BlitzMax can implement any kind of data structure. Try looking at TMap, which is implemented as a binary tree under the hood and therefore has excellent performance for very large collections (think ~20 comparisons to find a value from a tree of a million elements, as opposed to the average of 500 000 required for a list).<br><br>Note however that the simplicity of lists means that they compete very well for small collections. Under a hundred elements and you won't notice the difference (plus, if the individual operations are quite complex, more advanced structures may well actually be slower). <br><br></td></tr></table><br>
<a name="1125688"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eternal Crisis</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the in-depth answer, Yasha, greatly appreciated.<br><br>One of my lists could very well potentially go well above 100 but the reason I decided to use TList is for sorting. I didn't see, in the BMax documentation, that TMap can sort, or can they? I need to sort alphabetically by the key value.<br><br>Thanks for answering, now I can relax a bit, I was thinking I was improperly iterating a list just to see if contained a value when there was a better way, but now I can put that behind me and just try not to do it often.<br><br>I've read somewhere in the past that TMap performed better than TList, at greater numbers, but I just couldn't figure out how to sort them; if at all possible. <br><br></td></tr></table><br>
<a name="1125689"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> TMap is self-sorting, which is why it's faster: when you add elements it works out the correct place for them in the collection at that time, and then they stay there (so, if you need to be able to reorder your collection in some other way, or have very fast inserts/deletes, TMap is not for you - you need a TList). <br><br></td></tr></table><br>
<a name="1125690"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eternal Crisis</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you very much for answering and taking the time to explain everything to me. Very appreciated. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
