<!DOCTYPE html><html lang="en" ><head ><title >Access to tImage Vertices?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Access to tImage Vertices?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Access to tImage Vertices?</a><br><br>
<a name="978570"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CyBeRGoth</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi<br><br>Has anyone come across a way to get access to the vertices of the Quad which tImage uses to draw images with? <br>So we can for example move each vertex individually, or even better, is there a simple way to create a new Quad that tImage can use to draw images on, but this one has more than 4 corners (it is split into a grid, as the image below), this would allow you to do a lot of special effects directly to images, waves, pucker, bulge etc.<br><br>Thanks for any help.<br><br><img src="http://creativerampage.co.uk/treesprite.png"> <br><br></td></tr></table><br>
<a name="978607"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GW</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> not sure that it helps but i believe that LoadAnimImage is single surface, so that the model data is like the tree to the right. Then its just a matter of getting the vertex data. <br>if you look at d3d7max2d.bmx there is an array called vrts[]. Maybe a good place to start. <br><br></td></tr></table><br>
<a name="978906"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AndrewT</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm pretty sure an animated image is draw with four vertices, just like a regular image, but the texture is continuously scrolled to show the next frame of the animation.<br><br>However I agree that this would be a very useful feature, and it probably wouldn't be very hard to make yourself. <br><br></td></tr></table><br>
<a name="978938"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_Skully</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> This would also rectify the projection matrix issue... <br><br></td></tr></table><br>
<a name="978951"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> but i believe that LoadAnimImage is single surface <br></div><br><br>According to this post:<br><br><a href="http://www.blitzbasic.co.nz/Community/posts.php?topic=51647#576571" target="_blank">http://www.blitzbasic.co.nz/Community/posts.php?topic=51647#576571</a><br><br>LoadAnimImage actually creates a new image for each frame... not sure if this was ever put into BlitzMax (the post was over 3 years ago...) <br><br></td></tr></table><br>
<a name="979070"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> What projection matrix issue are you talking about? <br><br></td></tr></table><br>
<a name="986368"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> this would  be useful for iso games too,<br>instead of having to skew images and save them in a square you can skew them in the game. <br><br></td></tr></table><br>
<a name="986451"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zeke</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Graphics 800,600

Global cx#[4],cy#[4]

cx[0]=100 ; cy[0]=100 'top-left
cx[1]=228 ; cy[1]=100 'top-right
cx[2]=228 ; cy[2]=228 'bottom-right
cx[3]=100 ; cy[3]=228 'bottom-left

Global drag=-1

Global img:TImage=LoadImage("logo.png") 'CHANGE THIS!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

While Not (KeyHit(key_escape) Or AppTerminate())

	'Draw box

	SetColor 255,255,255
	
	drawimagestretch img,cx[0],cy[0],cx[1],cy[1],cx[2],cy[2],cx[3],cy[3]
	
	'Draw small cornerboxes
	For Local i=0 To 3
		If MouseX()=&gt;cx[i]-5 And MouseX()&lt;cx[i]+5 And MouseY()=&gt;cy[i]-5 And MouseY()&lt;cy[i]+5
			SetColor 250,0,0
			If MouseDown(MOUSE_LEFT)
				drag=i
			EndIf
		Else
			SetColor 255,255,255
		EndIf
		If drag=&gt;0
			If Not MouseDown(MOUSE_LEFT)
				drag=-1
			Else
				cx[drag]=MouseX() ; cy[drag]=MouseY()
			EndIf
		EndIf
		DrawRect cx[i]-5,cy[i]-5,10,10
	Next
	Flip
	Cls
Wend

Function DrawImageStretch(Image:TImage,x0#,y0#,x1#,y1#,x2#,y2#,x3#,y3#,fram#=0)
	If TGLMax2DDriver(_max2ddriver)
		'not yet
	Else
		Local d:TD3D7Max2DDriver=TD3D7Max2DDriver(_max2ddriver)
		If Not d.IsValid() Return
		Local Frame:Td3d7imageframe=Td3d7imageframe(Image.frame(fram))
		Local xx0#=-image.handle_x,xx1#=xx0
		Local yy0#=-image.handle_y,yy1#=yy0
		Local ox#,oy#
		Local uv:Float Ptr
		Local c:Int Ptr
		
		GetOrigin(ox,oy)
		x0:+ox ; y0:+oy ; x1:+ox ; y1:+oy ; x2:+ox ; y2:+oy ; x3:+ox ; y3:+ox

		uv=frame.xyzuv
		c=Int Ptr(uv)

		uv[0]=xx0*d.ix+yy0*d.iy+x0 'Top-Left
		uv[1]=xx0*d.jx+yy0*d.jy+y0
		c[3]=d.drawcolor		

		uv[6]=xx1*d.ix+yy0*d.iy+x1 'Top-Right
		uv[7]=xx1*d.jx+yy0*d.jy+y1
		c[9]=d.drawcolor

		uv[12]=xx1*d.ix+yy1*d.iy+x2 'Bottom-Right
		uv[13]=xx1*d.jx+yy1*d.jy+y2
		c[15]=d.drawcolor
		
		uv[18]=xx0*d.ix+yy1*d.iy+x3 'Bottom-Left
		uv[19]=xx0*d.jx+yy1*d.jy+y3
		c[21]=d.drawcolor
	
		d.SetActiveFrame frame		
		
		d.device.DrawPrimitive(6,D3DFVF_XYZ|D3DFVF_DIFFUSE|D3DFVF_TEX1,uv,4,0) '6
	EndIf
End Function
</textarea> <br><br></td></tr></table><br>
<a name="986469"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thats very cool Zeke!<br><br>Looking forward seeing the OpenGL part :) <br><br></td></tr></table><br>
<a name="986520"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> very good zeke! <br><br></td></tr></table><br>
<a name="986702"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CyBeRGoth</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice stuff zeke :)<br><br>Now if only we could divide the image up into smaller vertices and play around with them too :) <br><br></td></tr></table><br>
<a name="986744"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> these is really cool zeke. Thank you. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
