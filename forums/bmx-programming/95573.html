<!DOCTYPE html><html lang="en" ><head ><title >list of lists ?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >list of lists ?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >list of lists ?</a><br><br>
<a name="1101692"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul "Taiphoz"</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'v got a feature i am about to code into the project iv started, and I wanted to get opinions and ideas before i do it.<br><br>Essentially I have a unit that wanders the map, every few seconds it drops a marker/scent once it finds what its looking for it travels back along its cent trail re-marking(increasing the cent value).<br><br>Other units that then come accross a node in this trail can then tell by its cent value how important it is, each further unit that uses the trail and finds what its looking for increases the value.<br><br>So.<br><br><pre class=code>
global trails:Tlist = createlist()
Type Tcent
  field x
  field y
  field value
  field prev
  field next
  field chainID
end type
</pre><br><br>So thats the easy way I came up with, as a unit starts to make a cent trail it marks each node with a unique ID/number so that later I can tell which nodes are part of what trail.<br><br>Each node being added to the trails list as their made.<br><br>problem is each time I think about this I think a structure of having a list for all trails, filled with lists of individual trails might be better.<br><br>AllTrails &gt; Trail &gt; Cent Marker.<br><br>not sure which is best. thoughts? <br><br></td></tr></table><br>
<a name="1101715"></a>

<a name="1101716"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> how would the unit go about finding the scent? Would it iterate through the whole list of lists until the specific scent is found(searching for the one with in range)? <br>that sounds like overkill.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1101729"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul "Taiphoz"</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah hence the post, the method above will work but with tons of over head cos its looping through lots of possible cent nodes that it does not need to bother with.<br><br>anyway need some ideas... <br><br></td></tr></table><br>
<a name="1101735"></a>

<a name="1101736"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> why don't you add a field to the map tiles that include a list that only would contain the scents  pertaining to that tile?<br>the scent would be added to the tile only after the scent has been dropped.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1101741"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul "Taiphoz"</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah nah wont work, my map area is 100*100 and the tiles are 64*64 but the game sprites are tiny in comparison. a single tile might have 3 or 4 trails going through it.<br><br>I wonder if I can do an array of trails with trails being a list of cent spots.<br><br>for x:trail = eachin Alltrails[1] ??? would that work <br><br></td></tr></table><br>
<a name="1101750"></a>

<a name="1101753"></a>

<a name="1101755"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Ah nah wont work, my map area is 100*100 and the tiles are 64*64 but the game sprites are tiny in <br>comparison. a single tile might have 3 or 4 trails going through it.<br> <br></div><br>if that is the case you can also subdivide the tiles(not literally but computational wise) in to what ever you want. you can create tiles with in a tile down to 1 by 1 pixel if you need too. and assign lists to each that includes only dropped scents.<br><br><div class="quote"> <br>for x:trail = eachin Alltrails[1] ??? would that work <br> <br></div><br>that works too.<br><br><font class="tiny">Last edited 2011</font><br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1101760"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> What type are prev and next? You can make them references to other scent objects, so any unit that finds one scent can easily follow the trail. <br><br></td></tr></table><br>
<a name="1101761"></a>

<a name="1101762"></a>

<a name="1101763"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was assuming those were his intentions.<br>but it has to pick up the scent some how.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1101878"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul "Taiphoz"</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> yeah prev and nex would be pointers to the next object in the trail and the prev object in the trail.<br><br>I thought that if a unit hits a trail mid point it would want/need to know what way home was and what way the destination was , it can then just goto the next cent marker, and once arrived ask it where to go next. <br><br></td></tr></table><br>
<a name="1101949"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Always have next as leading to the destination and prev as leading to the origin. Or a flag field. <br><br></td></tr></table><br>
<a name="1101989"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul "Taiphoz"</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah that's the plan . Well I think I'm gona go with the array of lists idea and see how it gies unless some o e has a better idea <br><br></td></tr></table><br>
<a name="1102023"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't really understand the array idea. <br><br></td></tr></table><br>
<a name="1102078"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul "Taiphoz"</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> well, let me try and explain a bit better then..<br><br>I have a unit, a scout if you will that I give the command go find food to, it will then go off in a set direction wandering a little as it goes, as it travels every second or so it will drop a cent marker, basically building up a trail or path , if it finds food it will head back along its path, as it passes each marker it dropped it will add to it.<br><br>Once its back at base, other units departing from the base to get food will look at all the food paths' or trails, and then will go down the trail with the highest scoring cent trail, if they walk along the trail and find food as they walk back they will mark the trail again giving it a higher score.<br><br>So the trails with the most food will get the biggest scores, and more units will use them.<br><br>The potential is that a player might have a number of scouts out looking for food, water and or enemy units, so there can be a number of trails to track.<br><br>So my thought initially was that I could store each trail or path in a list of type cent mark, but then it hit me that if I have 20 paths and I need to iterate through each of them to check for proximity to units it might end up with a lot of over head.<br><br>So I was thinking if I could have a list that held all individual path lists it would be way more efficiant, or the array idea.<br><br>So if I use an array I could sat it at 50, and each element in the array would be a list of cent markers, that way when it comes time to scan through them or a specific list or list type, I only need to loop through that specific array element.<br><br>or am I barking up the wrong tree, I bet there is an easier more efficient way which is why im posting here to think the idea out. <br><br></td></tr></table><br>
<a name="1102440"></a>

<a name="1102443"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shortwind</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I believe Jesse is on the right track for what your trying to accomplish. It really depends on how "smart" your going to make your entities. We are going to assume these are completely blind and pretty dim witted entities. They can only smell, drop scent trails, and have no idea how to determine if a home scent trail is theirs or a friends. (Kinda like a dumb ant.) They can only smell one tile away, no further. An example is easiest to show one method that would work.<br><br>Do as Jesse suggests and break down your "scent" layer as follows:<br><br>100x100 map with 64x64 pixel tiles = 640x640 trail layer.<br><br>Create an array 640,640 (x,y for simpleness).<br><br>x=x-coordinate<br>y=y-coordinate<br><br>Let's assume this is the list of objects on our map:<br><br>Empty = 0<br>Home Trail = 1<br>Food = 2<br>Water = 4<br>Enemy = 8<br>...<br>These are simple flags. This way multiple scents can be assigned to each tile.<br><br>Ex:<br>18,18 is empty, but two entities have crossed this tile. One was out looking for something and dropped a home trail scent. Another was following a food trail. So after each leave the tile would be:<br><br>18,18 = 3<br><br>[Edit]<br>I forgot to add in the strength calculation. Oops.<br><br>For our strength we will have a second array that represents our objects. For this example we need str(640,640,4).<br><br>So, after the entities move we would do the following:<br>str(18,18,1)=255 (the home trail)<br>str(18,18,2)=1+previous value<br><br>[End Edit]<br><br>For the trails, as the entity moves around, if the square it's going to move to is empty it would assign the square it's standing on with it's home trail flag.<br><br>Ex:<br>15,15 = 1 + previous value (if someone else had been here.)<br><br>Again, if no one had been there before this would be 1 for home trail. If someone had crossed who had found water, it would be 5.<br><br>Now once the entity finds food, it searches for the trail home flag. Changes the square it's standing on and moves. You can remove the home trail flag at this point, or have it fade over time.<br><br>All entities would look at this scent layer as they move around the map. If they are directed to follow a food trail, they only need to look on the scent layer for a food scent.  There are only 8 squares to search (if you let them look all around), and if they find more than 1 square with food, they would follow the strongest one.<br><br>Hope this helps,<br>shortwind<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1102467"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is your map divided into cells/tiles like a grid? Or is it free-form? <br><br></td></tr></table><br>
<a name="1102515"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul "Taiphoz"</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> here is the map..<br><br><a href="http://www.youtube.com/watch?v=lEomn-ccZAE" target="_blank">http://www.youtube.com/watch?v=lEomn-ccZAE</a> <br><br></td></tr></table><br>
<a name="1102546"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Each cell has a list of scent nodes that it contains. When an ant is on a cell, it iterates through the scents and picks the one with the highest value. (Or, whenever a scent is added to the list, sort it by value and the ants always pick the first scent in the list). The scent will then lead the ant either forwards or backwards as it chooses.<br><br>The video looks very nice, a cool game! <br><br></td></tr></table><br>
<a name="1102559"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul "Taiphoz"</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> just theory crafting this cent stuff just now cos at the moment I'm focusing on the above editor, still need to add two aditional layers to it to handle collision objects, and stuff over the ground like tree branches, or ant kites lol.<br><br>this thread will help when I come to start coding the AI and stuff. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
