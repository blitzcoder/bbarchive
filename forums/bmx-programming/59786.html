<!DOCTYPE html><html lang="en" ><head ><title >Square outline rotating images</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Square outline rotating images</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Square outline rotating images</a><br><br>
<a name="666606"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) ENAY</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does anyone know how to get rid of those weird faint outlines you get on the outline of your image size when you start rotating and scales your images?<br><br>I've noticed this doesn't seem to happen when using the DIrectX driver, just the OpenGL one, does anyone else get this? <br><br></td></tr></table><br>
<a name="666617"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >assari</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> could be related to <a href="/posts.php?topic=59226#660746" target="_blank">this</a> loadanimiamge problem on OpenGL <br><br></td></tr></table><br>
<a name="666629"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you got any example code as I haven't noticed a problem but can't understand your first sentence. <br><br></td></tr></table><br>
<a name="666739"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) ENAY</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, look here.<br><br><img src="http://enaysoft.co.uk/parp/starsquare.PNG"><br><br>I'm loading a star image (png), on the pic it's rendering as 0.5,0.5 scale and rotating constantly. WHen it rotates a faint white square outline flickers as it rotates.<br><br>This does not happen when using DirectX.<br><br>If you can't see it, turn up your monitor brightness or invert the image's colours. <br><br></td></tr></table><br>
<a name="666758"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ragtag</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you tried different settings flags for LoadImage, filtered, mipmapped etc. <br><br></td></tr></table><br>
<a name="666764"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> *and have you checked your driver settings if OpenGL wasn't set to min quality while DX is on high or something like that. <br><br></td></tr></table><br>
<a name="666769"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think the protogem author had some problem like this early on... <br><br></td></tr></table><br>
<a name="666776"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can your example code and post the image without the lines? <br><br></td></tr></table><br>
<a name="666830"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) ENAY</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm using mipmap, filtering and transparency.<br><br>You can use any image, just load one using the above.<br>Scale it to 0.5,0.5, rotate it and then bingo, you should see the lines. <br><br>Although it does seem to be harder to see on certain coloured backdrops/images.<br><br>Happens on both my PCs os varying specs and gfx cards. <br><br></td></tr></table><br>
<a name="666932"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rimmsy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Might this help?<br><br><a href="http://blitzbasic.com/Community/posts.php?topic=59226#660751" target="_blank">http://blitzbasic.com/Community/posts.php?topic=59226#660751</a> <br><br></td></tr></table><br>
<a name="666933"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I get this too when using GLMax2DDriver() only.  I wrote a bitmap font routine last night and noticed this problem - thought it was something to do with my code.<br><br>I'm not rotating images.  Just scaling them is enough to cause it.<br><br><div class="quote"> Might this help?<br><br>blitzbasic.com/Community/posts.php?topic=59226#660751<br> <br></div>Nope.  Seems to be the MIPMAPPEDIMAGE flag that's causing it here.  Not using that flag makes everything look crap, though.<br><br>[edit] If anybody wants to see this bug in all its glory - load Birdie's Zombieblast demo from the code samples that install with Blitzmax, and insert <b>SetGraphicsDriver GLMax2DDriver()</b> somewhere near the start.  The player ship has a very visible box around it.<br><br>This definitely needs to go in bug reports, enay. <br><br></td></tr></table><br>
<a name="666944"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) ENAY</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; This definitely needs to go in bug reports, enay. <br><br>Heh, well I didn't even realise it was a bug.<br>I'd move this into bug reports if I could :)<br><br>[edit] Oh wait, you mean make a NEW topic. Silly me. <br><br></td></tr></table><br>
<a name="666964"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is the size of the image even, or odd?<br><br>If odd, you may see some weird things when using automidhandle, since it will try to draw things at a half-pixel boundary <br><br></td></tr></table><br>
<a name="667061"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> If odd, you may see some weird things when using automidhandle, since it will try to draw things at a half-pixel boundary <br></div>Umm... no.  Firstly there's no such thing as half a pixel.  Second, if an image is, for example, 5 pixels wide, the centre of the image would be the third pixel across, with two pixels either side.<br><br>Image size doesn't cause/rectify the problem anyway.  Its caused exclusively by MIPMAPPEDIMAGE in GL only with scaled images.  Try Birdie's Zombieblast demo in GL (it used DX by default).  In fact, everyone should try it - just to rule it out as a card-specific issue. <br><br></td></tr></table><br>
<a name="667062"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) ENAY</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well it happens on both my PCs that have different gfx cards. So it's very likely not to be gfx card.<br><br>Besides I'm using even numbered images, odd numbered image sizes just make the image come out all blurry. <br><br></td></tr></table><br>
<a name="667073"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Don't get confused. In a 3D engine you have sub-pixel accuracy, and floating point movement. The image is filtered if you are at a floating point position.<br><br>I however respect that this isn't the problem you're experiencing. I think there's a couple of gl mip map issues. One of them I found is with filtering and loadanimimage. <br><br></td></tr></table><br>
<a name="667100"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've just checked this problem on my laptop with a cruddy on-board Trident Cyberblade 16mb graphics card with no GL support.<br><br>It drops into software mode and I do not get any problems at all.  Looking like its a hardware GL issue. <br><br></td></tr></table><br>
<a name="667101"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Defoc8</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> hmmm, are the textures clamped? - i havent looked at the<br>max2d opengl src, but perhaps this could be resolved by<br>clamping textures if they are not already clamped? - having<br>said that, i dont get this effect..so its possibly a driver <br>problem.<br><br>heh..jst checked it is clamped - i cant see from the texture<br>handeling code what might be wrong - looks fine to me. <br><br></td></tr></table><br>
<a name="669360"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try changing the GL_CLAMP_TO_EDGE in lines 85 and 86 of glmax2d.bmx to $2900 (for GL_CLAMP), to see if that fixes it.<br><br>Or commenting out the two lines completely to see if that helps.<br><br>ie:<pre class=code>	glTexParameteri GL_TEXTURE_2D,GL_TEXTURE_WRAP_S,$2900
	glTexParameteri GL_TEXTURE_2D,GL_TEXTURE_WRAP_T,$2900</pre>or:<pre class=code>'	glTexParameteri GL_TEXTURE_2D,GL_TEXTURE_WRAP_S,GL_CLAMP_TO_EDGE
'	glTexParameteri GL_TEXTURE_2D,GL_TEXTURE_WRAP_T,GL_CLAMP_TO_EDGE</pre>If either of these solutions work for you, it should be easy to add a check to see if GL_CLAMP_TO_EDGE is supported by your graphics card. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
