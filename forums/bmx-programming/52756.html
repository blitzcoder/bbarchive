<!DOCTYPE html><html lang="en" ><head ><title >how are game events processed?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >how are game events processed?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >how are game events processed?</a><br><br>
<a name="589349"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KamaShin</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Since i'm planning on making an rpg with a quest/map/chara/animations editor, I was wondering how events are processed in such games: let me explain a bit more where i'm getting stucked:<br>My main loop looks something like this:<br><br>LoadEverything() //loads graphics,sounds,musics,chara,map and so on...<br><br>While not EndOfGame() //test various cases of possible end of game<br><br>     MovePlayer()<br>     MoveNPCs()<br>     HandleEnnemies()<br>     ProcessEvents() ??<br>Cls<br>     DrawEverything()<br>Flip<br><br>Wend<br><br>the problem here is what should be inside the ProcessEvents() method... Because there can be 1 or 2 or more event to be processed at the same time, they will all have a beginning and an end (for instance, one event could be "move this NPC toward player until it reaches it and then display this dialogu..." the event stops when the dialogu ends... but it dosn't prevent the player from moving nor does it prevent other event from launching... on the other side, another event could be StopMusic or changeMusic...) My question is how can I deal with all those kind of events in one method (well it can be separated in several call to many other methods but it s almost the same)?<br>I was thinking of maybe making things go in threads... one thread by event but I m not sure if it s a good idea or not, I don t know much about thread...<br>Any experienced programmer that could share a bit of his knowledge here?<br>I have a veeeeeeeeery small and tiny experience in script coding so I 'd like another solution that having a whole script language developped for the event editor/interpreter. I already thought of using BMAx's LUA scripting ability but even like this I don't see how I could write some script that would allow what I described for the events...<br>HELP!!!! <br><br></td></tr></table><br>
<a name="589357"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TartanTangerine (was Indiepath)</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Look up "Finite State Machines". <br><br></td></tr></table><br>
<a name="589652"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cajun17</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm working on an RPG as well (2 actually) and I don't have every little detail worked out, but here's how it works more or less in theory.  <br><br>Each map has a list of events than can be in 1 of 3 states; ACTIVE (able to be ran), RUNNING, or NONACTIVE.  Every game loop check to see which events are running and process them and also check to see if any active ones should be ran.  I keep the lists separate for the sake of speed.<br><br>It helps to think of them as objects that preform actions rather than events or something that happens to objects.  All my NPCs are events for example.<br><br>Edit: Using a scripting language can be helpful.  I myself am using lua, but using a scripting language won't automatically make it fall into place.  It just help the development process go a little smoother if you know what you're doing.  I may or may not know what I'm doing... we'll see in after a little while i guess. <br><br></td></tr></table><br>
<a name="589711"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KamaShin</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> yep, I think I m going to do something like this except for the NPCs which will be a bit different... I also thought of making an event a list of small actions that should be processed sequentially... Events will have a few caracteristics like IsBloquant which would mean: if true everything is stopped until end of event, if false it is processed like a thread, bit by bit each time the main loop is processed until it dies... also there ill be a caracteristic telling the number of time the event can be triggered... and so on :)<br>thanks for the answers... I m not completely sure how it's gonna work but I sure got something to start working on here :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
