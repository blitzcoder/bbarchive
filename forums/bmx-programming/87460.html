<!DOCTYPE html><html lang="en" ><head ><title >Weird slowdown</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Weird slowdown</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Weird slowdown</a><br><br>
<a name="991286"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_JIM</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi!<br><br>I've hit this problem a while ago but right now it has become a serious pain. It seems that drawing in a canvas made with MaxGUI (using basic BMax drawing commands, no fancy stuff) is slow on nVidia graphics cards for some reason.<br><br>I've tested on different configurations and I came up with this:<br><br>Mobility Radeon HD2600: 100+ fps with 40 props on screen<br>ATI HD3650: 100+ fps with 100 props on screen<br>GeForce 8800GS: 30-40 fps with just the grid<br>GeForce 8600GT: 25-35 fps with just drawing the grid.<br><br>Now, looking at those graphics cards, the HD2600 should be far weaker than 8800GS, especially because it's a mobility (laptop) video card.<br><br>I haven't had a chance to test this on higher end nVidia cards (9800GX2 broke yesterday). However, it feels absurd to require a high-end card to run something that even Intel GMA 950 handles just fine (60 fps just the grid).<br><br>Anyone got any ideas why I might have this slowdown?<br><br>Some extra info:<br>All are "Release" builds.<br>Tested XP32, Vista64, W7 64.<br>Drivers are up to date.<br>I am using an event-based system:<br><pre class=code>
Repeat
PollSystem()
Render()
Forever
</pre><br>I use Flip 1. (tested on 60Hz and 75Hz monitors. Also tried Flip 0. Flip 1 is just smoother without the tearing)<br><br>That's as much as I could think of as relevant information. I really need to fix this as the level designers can't use the editor right now (they got nVidia cards). <br><br></td></tr></table><br>
<a name="991904"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_JIM</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Come on, nobody ever encountered this before? <br><br></td></tr></table><br>
<a name="991915"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MGE</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I personally would never use MaxGUI for a fast action game. I would code a custom bitmap gui instead. <br><br></td></tr></table><br>
<a name="991918"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't think he is. It appears to be a problem with a level editor.<br><br>_JIM, it could be a driver problem.<br>Have you tried seeing if there's a difference between the OpenGL driver and DirectX? <br><br></td></tr></table><br>
<a name="991927"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_JIM</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, this is only the level editor. I have tried many driver versions, however I haven't tinkered with the nVidia Control Panel options yet. It could be that "Multiple display performance mode" or other settings could affect it.<br><br>I also remember seeing some problems (particular to ATi though) caused by power saving technologies. The video card (or the driver) thought certain applications didn't need to much processing power, so the video card was in it's idle state (lower clocks).<br><br>I'll do my best to isolate the problem, but I'm busy working on other features and I have limited access to nVidia cards for the moment.<br><br>As for OpenGL/DirectX... I haven't tried DirectX yet. There are a few things that are OpenGL only, but I'll try to take them out and test with DirectX. This might be the key. (which is still weird seeing as nVidia runs OpenGL great and those are not really low-end cards) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
