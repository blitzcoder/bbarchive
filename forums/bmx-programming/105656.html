<!DOCTYPE html><html lang="en" ><head ><title >Lights Fantastic (Source Included)</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Lights Fantastic (Source Included)</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Lights Fantastic (Source Included)</a><br><br>
<a name="1290288"></a>

<a name="1290290"></a>

<a name="1290304"></a>

<a name="1290318"></a>

<a name="1290455"></a>

<a name="1290459"></a>

<a name="1290537"></a>

<a name="1290603"></a>

<a name="1290604"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Back in the day, as my friend, Braydell calls it, vectors were king. Before Id and 3D Castle Wolfenstein hit the scene, people were content to draw vectors, today considered simple lines from point to point.<br><br>While images drawn today can also be rotated, it is with the advent of ALPHA that you now have the ability to have images appear translucent, like glass, to what is behind it.<br><br><img src="http://www.writerscafe.org/uploads/rte/2484172472c08f18356575eff3467dfa.png"><br><br>As I delve into archives of old Q-Basic code, I came across this program I wrote years ago so I did a modern conversion with comments. I hope you like it !<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
'      ________________________________________
'     //                                     //
'    //  "Lights Fantastic"                 //
'   // (Illuminated Vectors And Curves)    //
'  // Version, "A Steady Flame"           //
' // Written by David W (dw817) 01/19/16 //
'//_____________________________________//

' What's up ??
' Changed code so no single line streaks appear
' Made distances tighter between vectors to generate
' more curves. Made these accessible as CONST values.
' !! Added Kfprimm's Front Buffer method to remove flicker
' completely. Works great !!

Strict
SeedRnd MilliSecs() ' ensure random results each time

AppTitle$="* Lights Fantastic *"
Const edgex=96,edgey=48 ' how far is off the edge ?
Const distx=256, disty=192 ' how often to relocate ? Less is more
Const speed=1 ' higher number makes slower drawing

Local i,x1,y1,x2=1024,y2 ' 1024 forces new coords
Local xa1=2,xa2=1,ya1=-2,ya2=-1,r1,g1,b1,r2,g2,b2

SetGraphicsDriver GLMax2DDriver(),0 ' zero forces front buffer (Kfprimm)
Graphics 320,240
For i=0 To 319 Step 16
  SetColor i/2,i,i*2 ' slow color blue to aqua
  DrawLine i,0,319,i ' draw our 3D iris image
  DrawLine 0,319-i,319-i,239
Next
SetColor 255,255,255 ' back to WHITE
SetScale 2,2 ' double size text
DrawText "Lights",100,60
DrawText "Fantastic",80,90
SetScale 1,1 ' back to single size
DrawText "Written by David W (dw817)",60,130
DrawText "[R]un   [W]ebsite   [E]xit",60,160
glflush ' draw screen
Local k$=Lower$(Chr$(WaitChar())) ' get a lowercase keystroke

If k$="w"
  OpenURL "http://www.writerscafe.org/dw817"
  End ' nifty way of opening a web page
EndIf
If k$&lt;&gt;"r" Then End ' exit unless keystroke is "r"

Graphics 1024,768,32,0 ' fullscreen but not hardware change
HideMouse ' set so we cannot see the mouse
SetBlend lightblend ' all items drawn get lighter

' (* Main *)
Repeat
SetColor r1,g1,b1
If r1&lt;r2 Then r1:+1
If r1&gt;r2 Then r1:-1
If g1&lt;g2 Then g1:+1
If g1&gt;g2 Then g1:-1
If b1&lt;b2 Then b1:+1
If b1&gt;b2 Then b1:-1
If r1=r2 And g1=g2 And b1=b2 ' colors match ?
  Repeat ' yes they do so change to new target color
    r2=Rand(0,255) ; g2=Rand(0,255) ; b2=Rand(0,255)
  Until Abs(r2-g2)&gt;64 Or Abs(r2-b2)&gt;64 Or Abs(g2-b2)&gt;64
EndIf
If Abs(x1-x2)&gt;distx Or Abs(y1-y2)&gt;disty
  Repeat
    x1=Rand(0,1023) ; y1=Rand(0,767) ' too far apart ?
    x2=Rand(0,1023) ; y2=Rand(0,767) ' switch locations
  Until Abs(x1-x2)&lt;distx And Abs(y1-y2)&lt;disty
EndIf
SetAlpha .1
DrawLine x1,y1,x2,y2 ' draw our vectored lines
DrawLine 1023-x1,y1,1023-x2,y2
DrawLine x1,736-y1,x2,736-y2
DrawLine 1023-x1,736-y1,1023-x2,736-y2
SetAlpha .01
SetColor 255,255,255
DrawLine x1,y1,x2,y2 ' draw again with a tinge of WHITE
DrawLine 1023-x1,y1,1023-x2,y2
DrawLine x1,736-y1,x2,736-y2
DrawLine 1023-x1,736-y1,1023-x2,736-y2
x1:+xa1 ; y1:+ya1 ; x2:+xa2 ; y2:+ya2
If x1&lt;-edgex ' check edges, if reached bounce back
  xa1=Rand(1,2) ' in random angle and acceleration
ElseIf x1&gt;1023+edgex
  xa1=Rand(-1,-2)
EndIf
If y1&lt;-edgey
  ya1=Rand(1,2)
ElseIf y1&gt;767+edgey
  ya1=Rand(-1,-2)
EndIf
If x2&lt;-edgex ' check these vectors too
  xa2=Rand(1,2)
ElseIf x2&gt;1023+edgex
  xa2=Rand(-1,-2)
EndIf
If y2&lt;-edgey
  ya2=Rand(1,2)
ElseIf y2&gt;767+edgey
  ya2=Rand(-1,-2)
EndIf
If KeyDown(32) Then Cls ' clear screen
If KeyDown(27) Then End ' hit ESCAPE key, time to exit
Delay speed ' this goes REALLY fast now !
glflush ' transfer hidden screen to main screen

Forever
</textarea><br><br><img src="http://www.writerscafe.org/uploads/rte/d3243a2c5c81c3ed5c77e51ce9e4fa91.png"> <br><br></td></tr></table><br>
<a name="1290323"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cls, Flip, Cls, Draw stuff, Flip?<br><br>And you wonder why it flickers?<br><br>For anything I've ever done, Cls, Draw stuff, Flip, was all that was necessary. <br><br></td></tr></table><br>
<a name="1290325"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Endive</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I came across this program I wrote years ago  <br></div><br><br>By "years ago" do you mean when Ronald Reagan was president?  Or was it before that?<br><br>I saw a very similar kaleidoscope literally in 1979 running on what I presume was... I don't even know what computer it might have been.  It was at a very very early computer store my mom took me to after a math tutoring class on the Plato touch-screen computers.  It might have been some kind of very early atari? <br><br></td></tr></table><br>
<a name="1290338"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Glad you guys like it. What I thought was especially intriguing was where you have curves in the vectors and they become bright at the nexus. I couldn't get that without ALPHA, marvel what you can do with it.<br><br>And Brucey, in truth, it shouldn't flicker. Not really. All you are doing is plotting to a screen. I could point out the limitation of BlitzMAX's inability to flicker when the screen is covered with complex images, as I can think of many programming languages that do not do it, perhaps a close Freeware competitor language called B4GL ? But I think you already know this. :)<br><br>In any case, that's fine. I program to relax - and this was a relaxing program to write. Going back to working on Tilemaster. May be a few more days before I release it. <br><br></td></tr></table><br>
<a name="1290349"></a>

<a name="1290353"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Endive</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I could point out the limitation of BlitzMAX's inability to flicker when the screen is covered with complex images, as I can think of many programming languages that do not do it, perhaps a close Freeware competitor language called B4GL ? But I think you already know this. :) <br></div><br><br>He does know the answer and he already explained it to you.  <br><br>As we discussed a month ago, flip takes more time than any other reasonable graphical operation.  <br><br>When you flip, you display what you've just drawn.<br><br>When you do cls; flip; cls; drawstuff; flip<br><br>You are first quite literally drawing a blank.  Then you're displaying that blank frame.<br><br>That's why it appears to flicker.<br><br>Once again, this is not a problem with Blitzmax.  It's a very simple and obvious problem in your code.  <br><br>Who knows Blitzmax better, you or Brucey?  If you think you know it better than he does you're a damn fool.  I had your measure very early on. <br><br></td></tr></table><br>
<a name="1290350"></a>

<a name="1290352"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LT</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Pretty sure that you're just unaware of double-buffering and what flip does.<br><br>You're clearing the (unseen) back buffer, then showing it.<br>&gt;&gt;Result = black screen.<br>Then you're clearing the (again unseen) back buffer, drawing stuff to it, then showing it.<br>&gt;&gt;Result = drawn stuff.<br><br>Do this really fast and it'll flicker.<br><br>EDIT: Looks like Endive beat me to it.  :) <br><br></td></tr></table><br>
<a name="1290354"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Endive</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> EDIT: Looks like Endive beat me to it. :)  <br></div><br>You've really got to be fast on the keyboard to keep up with this guy. <br><br></td></tr></table><br>
<a name="1290355"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Endive, if you're not going to be polite, please don't speak at all. I've been =REALLY= meaning to withhold telling you this many messages over, but you're earning it now.<br><br>Brucey, LT, you are welcome to fudge the code if you can think of a more efficient way of flipping the screen. As I =KNOW= it is clear to all of you, I don't learn something by discussing the history of computer monitors and or the hardware involved in graphics but by working examples of what you speak. <br><br></td></tr></table><br>
<a name="1290358"></a>

<a name="1290359"></a>

<a name="1290360"></a>

<a name="1290361"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Endive</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Endive, if you're not going to be polite, please don't speak at all. I've been =REALLY= meaning to withhold telling you this many messages over, but you're earning it now. <br></div><br>Who is really impolite, me or you?  You've repeatedly bitten the hand that feeds and at least three times now you've blamed the tool that this forum is about when the problem lay not with the tool but with your own faulty understanding of the tool.  You've done this while arguing with past-master super-experts in the tool, who may very well have more to do with the language now than the guy who wrote it, and who have been programming in this tool and its previous iterations since the Amiga days.<br><br>[Personally I've only been using it since 2010.  There is a lot I don't know.]<br><br>When called on your frankly abominably rude behavior you've gotten angry with the people who might otherwise have helped you.  For some inexplicable reason (boredom? amusement?) they continue to attempt to answer your absurd questions.  If their goal is to amuse *me* it's certainly working.<br><br>If you're not going to be polite, please don't speak at all. <br><br></td></tr></table><br>
<a name="1290362"></a>

<a name="1290363"></a>

<a name="1290364"></a>

<a name="1290378"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Brucey, please tell me there is an option of IGNORE in the forum. And guess what Endive, you are OFF TOPIC AGAIN ! Did you JUST come here to insult me ??<br><br><div class="quote"> <br>By "years ago" do you mean when Ronald Reagan was president? Or was it before that? <br></div><br><br>Yep, sure looks like it. Keep it up and you'll drive me away from here completely which I suspect is what you want.<br><br>Especially with your words of, "goal is to amuse *me*" yes. That is what I am here for solely, to amuse you. God just listen to yourself.<br><br>My concern is you others - IS THAT what you want as well ? I'll leave and never return and keep my code to myself if that is REALLY what this forum is all about - to insult new arrivals ?<br><br>I can certainly find what I want with Google, I had HOPED I would not be criticized for the way I program or personal remarks made about me or the way I write messages. Apparently not.<br><br>And I suspect I'm not the only person who has been driven from this board in the past for the exact same reason. <br><br></td></tr></table><br>
<a name="1290379"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Endive</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Did you JUST come here to insult me ?? <br></div><br>Actually I didn't insult you.<br><br>But I did explain to you why your program was flickering, and that was because you were displaying a black rectangle every other frame.<br><br>Don't blame the tool for your own failings.  Don't blame others who have expended effort to help you for not spoonfeeding you sufficiently.  Don't blame the books for being hard to understand--  it's the subject that is difficult and the books are the best there is.<br><br>If you do behave thus, don't blame others for losing patience. <br><br></td></tr></table><br>
<a name="1290381"></a>

<a name="1290382"></a>

<a name="1290383"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Endive, I'm going to be clear here. If I am the author of the post, I do not want to see you in it, I do not want to see your replies, and I certainly don't want to see your 'humorous' anecdotes - I find your personal remarks about my age, the way I write, and the way I code to be offensive and cutting.<br><br>AM I CRYSTAL ? <br><br></td></tr></table><br>
<a name="1290384"></a>

<a name="1290385"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Endive</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Look at your posts and your attitude, your asterisks, your anime spamming, all the other attention-seeking weirdness, and ask yourself what is really offensive.  It's a free country and if you don't want comments on your behavior, don't be rude and abrasive to people who are trying to help you.<br><br>I explained in detail where your error was here, as did others.  As you did in other threads, you blamed the people helping you, then you blamed the tool.  Now, yet again, you are getting stroppy when called on your egregious behaviour.   If you like that other basic better, go use that and see how you do on their forum.  If I know programmers your welcome will be much colder than what you've experienced here.  This is a good bunch of guys and very knowledgeable but insulting the tool for your own poor use is just gauche. <br><br></td></tr></table><br>
<a name="1290387"></a>

<a name="1290389"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Endive, you're still talking. Did you not understand what I said ? I am speaking only to you and no-one else. I don't want or need your help, not now, not ever - not with the price you attach to it. I can't be any more plain.<br><br>If you have any respect for others, please, stop writing in this thread. I will honor your own threads and not post in them additionally - and you can berate me THEN if I do, and not until. I think that is more than fair. <br><br></td></tr></table><br>
<a name="1290388"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Endive</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't think you understand.  You have no power whatsoever over me and I care for your offense no more than you care for the offense of others.  I'll be as polite to you as you are to others, and I will not shut up or stop.<br><br>AM I CRYSTAL? <br><br></td></tr></table><br>
<a name="1290391"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, very crystal. You are telling me that you have no respect for others, either their personal area or privacy. You are saying then that any posts I write in the future, you will come in to deliberately berate and insult me ? Crackers. <br><br></td></tr></table><br>
<a name="1290392"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Endive</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> This forum is neither your personal area nor your private safe space.  If you are rude and unpleasant to others you can expect others to respond in kind.  You have complete control over how you are treated.  This is true in the wider world as well as here.  If you wish to maintain your rude and belligerent stance, good luck with all that-- but people like you rarely learn or change because that's part of the condition that makes you behave the way you do.<br><br>Best of luck here and in life. <br><br></td></tr></table><br>
<a name="1290393"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why am I even talking to you ? As there seems to be no option to add a flag for ignored members, the best way to show you despise me is to ignore me - I will try and do the same.<br><br>Can we at least agree to disagree ? <br><br></td></tr></table><br>
<a name="1290394"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Endive</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> No.<br><br>Go read your books.  Also get on YouTube and look up  Inigo Quilez. <br><br></td></tr></table><br>
<a name="1290395"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> You agree then. :) <br><br></td></tr></table><br>
<a name="1290397"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> If everyone would leave their egos at home, topics would probably have more chance of staying on topic...<br><br>Endive, if you don't have anything useful to contribute to the topic, it's probably better not to waste your time, and others.<br><br>Although you are both pretty much to blame.<br><br>Anyway, as LT notes, since your screen is double buffered, clearing the backbuffer (the page your are drawing onto) then flipping (showing it) is going to result in your seeing a blank screen every other time. Which will flicker. <br><br></td></tr></table><br>
<a name="1290398"></a>

<a name="1290399"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> &lt;&lt; The double-buffering analogy by BobySait &gt;&gt;<br><br>Just imagine a sheet of paper an artist is drawing on (or a baby, it doesn't change anything ... but, there is much to think that the baby will do what you did and flip several times his unfinished drawing before the end of the frame)<br><br>So, he is drawing, probably you on the beach, it's a sunny day ... ok, now the scenario is enough.<br><br>the "flip" is to the double-buffering what the "Tadaaaa !" is to the artist :<br>The moment when he flip his paper to show it to you.<br>The drawing is finished, and you didn't see him drawing it, you just see the final frame.<br><br>Working with double-buffering is the same :<br>You draw anything on the backbuffer (your sheet of paper) and when the frame is ready, you flip it to the screen (in opengl this function is called SwapBuffer &gt; I just mention it because it 's maybe a bit more explicit name for the function)<br><br>Then, you don't want to show a blank screen between two frames, it will just make a stroboscope to the user "Whyte-frame-whyte-frame-whyte-frame" ... hope there is no epileptic here :) <br><br></td></tr></table><br>
<a name="1290425"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey dw817<br><br>I remember this effect from when I was a kid walking around the computer stores, usually  it was a bbc micro.<br><br>Just curious, whats the spec of the pc that you're developing on? cpu, memory, gpu, type of monitor etc. <br><br></td></tr></table><br>
<a name="1290429"></a>

<a name="1290431"></a>

<a name="1290432"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> BTW, it can "flicker" (as you mention) with GL drivers if you never clear anything or only once every X flip.<br><br>You can :<br>- use D3D9Max2DDriver instead of GLMax2D (for windows)<br>- use a quick and dirty "CoFlip" to clear both front and back buffers when you go for a new round.<br><br><pre class=code>
Cls()
Flip true
Cls()
Flip true
</pre><br><br><br>and as long as you flip after each 8 lines (4 colored and 4 whytes) you should flip after the 8 drawlines and draw the lines once more to have the two buffers identical.<br>Because, now you're alternating drawing 8 lines on a buffer then the next 8 lines on the second buffer. you don't see it because it goes too fast to be noticed, but you actually have two buffers with different lines on it.<br>It's like a stroboscope effect that goes so fast that you don't see it flickering, due to your eyes "framerate" that is only around 24 Hz while the screen can render at a much higher rate so the 2 buffers blend in your eyes and you see all the lines at once. <br><br></td></tr></table><br>
<a name="1290438"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Bobysait:  That wont work properly on all systems. <br>First, depending on the video card, drivers and os, There may be more than 2 buffers being used.  Some systems use triple buffering, or even more.<br><br>Second, you don't know what happens to the screen buffer after it has been "flipped" out of view.  Some systems simply place it back on the buffer queue leaving the contents unchanged, some clear it first before placing onto the queue, and some will destroy the buffer and create a brand new one.<br><br>That is why, as mentioned before, you should never rely on the contents of the back buffer. <br><br></td></tr></table><br>
<a name="1290442"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, you know, I'm cartesian.<br>so ... as an anonymous said, at worst, I'm wrong only by a bit ^_^ <br><br></td></tr></table><br>
<a name="1290448"></a>

<a name="1290460"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>If everyone would leave their egos at home, topics would probably have more chance of staying on topic</b><br><br>Thanks, if someone can keep his leash on, I'll be happy to produce more code. Failing that if I get more personal insults I'll just post EXEs - if my source code is that amusing to look at.<br><br>Hi Dave. Ah, but did it use ALPHA to give an interesting glass effect ? :) I'm running a quad-core 64-bit Window 8.1 pentium. It's certainly a lot faster than my computer upstairs. :)<br><br>I'm just barely getting around to understanding a new command right now, "CreateList." I'm going to spend the day learning it and I think it will help my code for moving objects.<br><br>Bobysait &amp; TomToad, what would be a written solution in the code above to prevent against this ?<br><br>Now when I was using Flip() without a number, the program ran REALLY fast, but right as it got to about 5000 iterations the screen started to flicker terribly. Now I'm using Flip 1 and clear the screen after 3000, that seems to work, no flicker here.<br><br>NOW, if I don't clear the screen at all, then yes, it starts to flicker. And - I'm not really sure why. I'm reading the answers you guys are giving.<br><br>One serious advantage would be to have a hidden screen to work on. Just plot only to it and then every machine cycle copy that hidden screen to your true display. If I could that, I would never need flip(). I know I did that for Turbo Pascal years ago.<br><br>But that hidden screen would also need to be able to handle your basic line(), rect(), oval(), plot(), grabimage(), grabpixmap(), drawimage(), drawpixmap(), readpixel(), writepixel(), and drawtext().<br><br>With that in place, it would be impossible to have flicker no matter what the contents were and no matter how long you ran them for. <br><br></td></tr></table><br>
<a name="1290453"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>One serious advantage would be to have a hidden screen to work on. Just plot only to it and then every machine cycle copy that hidden screen to your true display. If I could that, I would never need flip(). I know I did that for Turbo Pascal years ago.<br><br>But that hidden screen would also need to be able to handle your basic line(), rect(), oval(), plot(), grabimage(), grabpixmap(), readpixel(), writepixel(), and drawtext().<br> <br></div><br><br>Ohh... If there only was something which allows to redirect the draw commands to an image ... <br>(though, even this needs a "flip()"...)<br><br><br>But let's wait with what others come up. <br><br></td></tr></table><br>
<a name="1290454"></a>

<a name="1290456"></a>

<a name="1290457"></a>

<a name="1290458"></a>

<a name="1290461"></a>

<a name="1290462"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> I appreciate the sarcasm, Derron. No, it doesn't use Flip(). Remember GFA ? They never had the command flip(). Instead I had to use BITBLT NewDC,H,V,X,Y,_dc(),H2,V2,Typ<br><br>Where _DC() was the main screen.<br><br>Now correct if I'm wrong. What FLIP does in Blitzmax is place you to WRITE on a 2ndary page that is not seen. And what is seen (READ) is the first page.<br><br>If you use FLIP, then all they do is swap visual and writing pages - no copying involved, and it's rather quick.<br><br>The technique I am talking about does not FLIP anything. You draw to one and only one hidden page all the time. Then you use a command like UPDATE and it will raw copy all pixels from the hidden page to the main - there is no flipping involved.<br><br>If it is fast, and I suspect it would be, I would much rather have this in all cases rather then the command flip(). <br><br></td></tr></table><br>
<a name="1290469"></a>

<a name="1290470"></a>

<a name="1290471"></a>

<a name="1290472"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >kfprimm</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> What you want is single buffer rendering.<br><br>Try this.<br><br><pre class=code>
SetGraphicsDriver GLMax2DDriver(), 0 ' 0 is important. No GRAPHICS_BACKBUFFER.
Graphics 320,240
glDrawBuffer(GL_FRONT) ' Throw that in for good measure.
</pre><br><br>Remove your calls to Flip and see what happens. You may need to invoke glFlush to force the drawing operations to happen.<br><br>No warranty on the code. Complete speculation! <br><br></td></tr></table><br>
<a name="1290473"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> I posted long time ago a kind of RenderToTexture method for openGL drivers.<br>It supported all the max2d stuff, so you'll be able to use it for your purpose.<br>Just search "FrameBuffer" with user "bobysait", you should find it.<br>it was relative to a "virtual canvas" as far as I remember. <br><br></td></tr></table><br>
<a name="1290475"></a>

<a name="1290476"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Kfprimm:<br><br>I appreciate your enthusiasm, but I can't seem to get it to work. Here is the code I have:<pre class=code>SetGraphicsDriver GLMax2DDriver(), 0 ' 0 is important. No GRAPHICS_BACKBUFFER.
Graphics 640,480
glDrawBuffer(GL_FRONT)
glflush
DrawOval 50,50,50,50
Flip ' this command or what is used to transfer the graphics ?
WaitKey</pre><br><br>Bobysait, here is what came up, which article did you write that lists the code you are suggesting ?<br><br><img src="http://www.writerscafe.org/uploads/rte/bb3b144f90cda346a3cfdab26b225584.png"> <br><br></td></tr></table><br>
<a name="1290478"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> -&gt; test of  virtual canvas for max2d <br><br></td></tr></table><br>
<a name="1290480"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >kfprimm</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> dw817, you need to pay attention to what people write.<br><br>To quote myself,<br><br><div class="quote"> Remove your calls to Flip and see what happens. You may need to invoke glFlush to force the drawing operations to happen. <br></div><br><br>Interestingly enough, your sample worked on my system. Goes to show how the driver behavior can vary from system to system.<br><br>This sample has been tested.<br><br><pre class=code>
SetGraphicsDriver GLMax2DDriver(), 0 ' 0 is important. No GRAPHICS_BACKBUFFER.
Graphics 640,480
DrawOval 50,50,50,50
glFlush
WaitKey
</pre> <br><br></td></tr></table><br>
<a name="1290481"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, Bobysait. Checking ... your code here is 366-lines to create and access a single hidden screen. Wow. (Hoping Kfprimm fixes the smaller example above).<br><br>Bobysait, back to your code and functions. Two things.<br><br>[1] How do you initialize the hidden screen<br>[2] How do you transfer all hidden contents back to the main display <br><br></td></tr></table><br>
<a name="1290484"></a>

<a name="1290486"></a>

<a name="1290487"></a>

<a name="1290488"></a>

<a name="1290489"></a>

<a name="1290504"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok, this is your sample using the virtual canvas sdk<br><br>The sdk is not 366 lines, it includes a sample at the bottom.<br>For sure it's bigger than working on front buffer, but it doesn't deserve the same purpose.<br>using the virtual canvas allows you to render on a kind of texture<br>it works like a blitzmax image in the end.<br>SetCanvas (the_canvas) -&gt; All you draw is drawn on the canvas (the offscreen frame)<br>SetCanvas (Null) -&gt; return to the backbuffer.<br><br>DrawCanvas (The_Canvas, x,y) -&gt; Draw the canvas the same as it would draw an image. (you can also use blend modes, alpha etc ...)<br><br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
SuperStrict

Framework brl.glmax2d
Import pub.glew
Import brl.random

Type TCanvas
	Field _tex:Int[] = [-1]
	Field _fbo:Int[] = [-1]
	Field _rbo:Int[] = [-1]
	Field _w:Int, _h:Int
	Field _us:Float = 1.0
	Field _vs:Float = 1.0
	Field _mp:Float[16]
	
	Function Create:TCanvas(w:Int,h:Int)
		Local b:TCanvas = New TCanvas
		If Not(b.Resize(w,h)) Then Return Null
		Return b
	End Function
	
	Function Min_:Float(a:Float,b:Float);If b&lt;a ; Return b; Else; Return a
	End Function
	Function Max_:Float(a:Float,b:Float);If b&gt;a ; Return b; Else; Return a
	End Function

	Method Resize:Byte(w:Int, h:Int)
		Local maxs:Int[1];glGetIntegerv(GL_MAX_RENDERBUFFER_SIZE_EXT, VarPtr maxs[0])
		_w=Min_(w,maxs[0]); _h=Min_(h,maxs[0])
		' create FBO
		If _fbo Then	glDeleteFramebuffersEXT	(1, VarPtr _fbo[0])
						glGenFramebuffersEXT	(1, VarPtr _fbo[0])
						glBindFramebufferEXT	(GL_FRAMEBUFFER_EXT, _fbo[0])
		
		' create and attach a new texture as the FBO's color buffer
		If _tex Then	glDeleteTextures		(1, VarPtr _tex[0])
						glGenTextures			(1, VarPtr _tex[0])
						glBindTexture			(GL_TEXTURE_2D, _tex[0])
						glTexParameteri			(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR)
						glTexParameteri			(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR)
						glTexImage2D			(GL_TEXTURE_2D, 0, GL_RGBA8, _w, _h,..
												 0, GL_RGBA, GL_UNSIGNED_BYTE, Null)
						glFramebufferTexture2DEXT(GL_FRAMEBUFFER_EXT, GL_COLOR_ATTACHMENT0_EXT, ..
												GL_TEXTURE_2D, _tex[0], 0)
		
		' create and attach a new depth buffer to currently bound FBO
		If _rbo Then	glDeleteRenderbuffersEXT(1, VarPtr _rbo[0])
						glGenRenderbuffersEXT	(1, VarPtr _rbo[0])
						glBindRenderbufferEXT	(GL_RENDERBUFFER_EXT, _rbo[0])
						glRenderbufferStorageEXT(GL_RENDERBUFFER_EXT, GL_DEPTH_COMPONENT, _w, _h)
						glFramebufferRenderbufferEXT(GL_FRAMEBUFFER_EXT, GL_DEPTH_ATTACHMENT_EXT, ..
												GL_RENDERBUFFER_EXT, _rbo[0])
		
		' unbind fbo
		glBindFramebufferEXT(GL_FRAMEBUFFER_EXT, 0)
		_us = 1.0
		_vs = 1.0
		
		' save matrix for faster access
		Local cur:Float[16]
		glMatrixMode		( GL_PROJECTION )
		glGetFloatv			( GL_PROJECTION_MATRIX, cur )
		
			glLoadIdentity	( )
			glOrtho			( 0, _w, _h, 0, -1, 1 )
			glGetFloatv		( GL_PROJECTION_MATRIX, _mp )
			
			glLoadMatrixf	( cur )
			
		glMatrixMode		( GL_MODELVIEW )
		
		Return Check()
	End Method
	
	Global _gViewport:Int[4]
	Global _gOrigin:Float[2]
	Global _gHandle:Float[2]
	Global _gScale:Float[2]
	Global _gRot:Float
	Global _Current:TCanvas = Null
	Global _gblend:Int = 0
	Global _galpha:Float = 1.0
	Global _gcolr:Int = 255
	Global _gcolg:Int = 255
	Global _gcolb:Int = 255
	Global _gclsr:Int = 255
	Global _gclsg:Int = 255
	Global _gclsb:Int = 255
	Global _gmaskr:Int = 255
	Global _gmaskg:Int = 255
	Global _gmaskb:Int = 255
	
	' adjust viewport and projection matrix to texture dimension
	Method Update()
		
		If _Current = Null
			' capture max2d viewport
			GetViewport			( _gViewport[0],_gViewport[1],_gViewport[2],_gViewport[3] )
			GetOrigin			( _gOrigin[0], _gOrigin[1] )
			GetHandle			( _gHandle[0], _gHandle[1] )
			GetScale			( _gScale[0], _gScale[1] )
			_grot			=	GetRotation ( )
			' capture attribs
			_gblend			=	GetBlend	( )
			_galpha			=	GetAlpha	( )
			GetColor			( _gcolr, _gcolb,_gcolb )
			GetClsColor			( _gclsr, _gclsb,_gclsb )
			GetMaskColor		( _gmaskr, _gmaskb,_gmaskb )
		EndIf
		
		glMatrixMode( GL_PROJECTION ) ; glLoadMatrixf( _mp )
		glMatrixMode( GL_MODELVIEW )  ; glLoadIdentity( )
		glViewport	( 0, 0, _w, _h )
		
	End Method
	
	' restore max2d context
	Function Restore()	
		' restore max2d matrix
		GLMax2DDriver().ResetGLContext(TMax2DGraphics.Current())
		' restore max2d params (origin, viewport, etc ...)
		SetViewport			( _gViewport[0],_gViewport[1],_gViewport[2],_gViewport[3] )
		SetOrigin			( _gOrigin[0],_gOrigin[1] )
		SetHandle			( _gHandle[0], _gHandle[1] )
		SetScale			( _gScale[0], _gScale[1] )
		SetRotation			( _grot )
		SetBlend			( _gblend )
		SetAlpha			( _galpha )
		SetColor			( _gcolr, _gcolb,_gcolb )
		SetClsColor			( _gclsr, _gclsb,_gclsb )
		SetMaskColor		( _gmaskr, _gmaskb,_gmaskb )
	End Function
	
	Method Bind()
		glBindFramebufferEXT(GL_FRAMEBUFFER_EXT,_fbo[0])
	End Method
	
	Function UnBind()
		glBindFramebufferEXT(GL_FRAMEBUFFER_EXT,0)
	End Function
	
	Function Free:TCanvas(canvas:TCanvas)
		Reset()
		glDeleteTextures		(1, canvas._tex)
    	glDeleteFramebuffersEXT	(1, canvas._fbo)
    	glDeleteRenderbuffersEXT(1, canvas._rbo)
		Return Null
	End Function
		
	' restore global OpenGL setup
	Function Reset:Byte()
		UnBind()
		Restore()
		_Current = Null
		Return True
	End Function
	
	' set renderbuffer as current graphics mode
	Method Set:Byte()
		Bind()
		Update()
		_Current = Self
		Return True
	End Method
	
	Method Check:Byte()
		Return glCheckFramebufferStatusEXT(GL_FRAMEBUFFER_EXT)=GL_FRAMEBUFFER_COMPLETE_EXT
	End Method
	
	' draw the RenderBuffer as a textured rect
	Method Draw (x:Float, y:Float)
		Local gc:TMax2DGraphics = TMax2DGraphics.Current()
		Local x0#=gc.handle_x, y0#=gc.handle_y
		Local tx#=x+gc.origin_x, ty#=y+gc.origin_y
		Local ix#=gc.tform_ix, iy#=gc.tform_iy
		Local jx#=gc.tform_jx, jy#=gc.tform_jy
		Local x1#=x0+_w, y1#=y0+_h
		glEnable		( GL_TEXTURE_2D )
		glBindTexture	( GL_TEXTURE_2D, _tex[0] )
			glBegin GL_QUADS
				glTexCoord2f( 0.0, _vs )
				glVertex3f	( x0*ix+y0*iy+tx,x0*jx+y0*jy+ty, 0.0 )
				glTexCoord2f(_us, _vs )
				glVertex3f	( x1*ix+y0*iy+tx,x1*jx+y0*jy+ty, 0.0 )
				glTexCoord2f(_us, 0.0 )
				glVertex3f	( x1*ix+y1*iy+tx,x1*jx+y1*jy+ty, 0.0 )
				glTexCoord2f( 0.0, 0.0 )
				glVertex3f	( x0*ix+y1*iy+tx,x0*jx+y1*jy+ty, 0.0 )
			glEnd
		
		glBindTexture	( GL_TEXTURE_2D, 0 )
		glDisable		( GL_TEXTURE_2D )
	End Method
	
	Method Width:Int() Return _w ;End Method
	
	Method Height:Int() Return _h ;End Method
	
End Type


Function CreateCanvas:TCanvas(w:Int,h:Int)
	Return TCanvas.Create(w,h)
End Function

Function SetCanvas:Byte(Canvas:TCanvas)
	If Canvas=Null
		Return TCanvas.Reset()
	End If
	Return canvas.Set()
End Function

Function ResizeCanvas:Byte(Canvas:TCanvas,w:Int,h:Int)
	Return canvas.Resize(w,h)
End Function

Function ReleaseCanvas:TCanvas(Canvas:TCanvas var)
	Canvas = TCanvas.Free(Canvas)
	Return Null
End Function

Function DrawCanvas(Canvas:TCanvas, x:Float,y:Float)
	Canvas.Draw(x,y)
End Function












'* Initialization *
	' screen size
	Global screen_width:Int = 1024;
	Global screen_height:Int = 768;
	
	' use GL Max2D driver !
	SetGraphicsDriver GLMax2DDriver()
	Graphics screen_width,screen_height,0
	
	' init glew
	glewInit()
		
	' required only to check your hardware support framebuffer object
    If(Not(GL_EXT_framebuffer_object))
        Throw "Requires EXT_framebuffer_object"
        End
    EndIf
	
	' the offscreen renderer
	Local Canvas:TCanvas = CreateCanvas(screen_width,screen_height)
	
'* your program start here
	Const edgex:Int=96,edgey:Int=48 ' how far is off the edge ?
	Const distx:Int=256, disty:Int=192 ' how often to relocate ? Less is more
	
	Local i:Int,x1:Int,y1:Int,x2:Int=1024,y2:Int ' 1024 forces new coords
	Local xa1:Int=2,xa2:Int=1,ya1:Int=-2,ya2:Int=-1
	Local r1:Int,g1:Int,b1:Int,r2:Int,g2:Int,b2:Int
	Local Count:Int
	
	Repeat
		
		' clear the canvas every time the count = 0
		If Count=1
			SetCanvas	( Canvas )
			Cls
			SetCanvas	( Null )
		EndIf
		
		' escape with ... Escape
		If KeyDown(27) Then Exit
		
		' increase counter
		Count = (Count + 1) Mod(3000)
		
		' update your logic
		
		x1:+xa1 ; y1:+ya1 ; x2:+xa2 ; y2:+ya2
		If x1&lt;-edgex ' check edges, if reached bounce back
		xa1=Rand(1,2) ' in random angle and acceleration
		ElseIf x1&gt;1023+edgex
		xa1=Rand(-1,-2)
		EndIf
		If y1&lt;-edgey
		ya1=Rand(1,2)
		ElseIf y1&gt;768+edgey
		ya1=Rand(-1,-2)
		EndIf
		If x2&lt;-edgex ' check these vectors too
		xa2=Rand(1,2)
		ElseIf x2&gt;1023+edgex
		xa2=Rand(-1,-2)
		EndIf
		If y2&lt;-edgey
		ya2=Rand(1,2)
		ElseIf y2&gt;768+edgey
		ya2=Rand(-1,-2)
		EndIf
		
		If r1&lt;r2 Then r1:+1
		If r1&gt;r2 Then r1:-1
		If g1&lt;g2 Then g1:+1
		If g1&gt;g2 Then g1:-1
		If b1&lt;b2 Then b1:+1
		If b1&gt;b2 Then b1:-1
		If r1=r2 And g1=g2 And b1=b2 ' colors match ?
			Repeat ' yes they do so change to new target color
				r2=Rand(0,255) ; g2=Rand(0,255) ; b2=Rand(0,255)
			Until Abs(r2-g2)&gt;64 Or Abs(r2-b2)&gt;64 Or Abs(g2-b2)&gt;64
		EndIf
		
		If Abs(x1-x2)&gt;distx Or Abs(y1-y2)&gt;disty
			Repeat
				x1=Rand(2,1021) ; y1=Rand(2,734) ' too far apart ?
				x2=Rand(2,1021) ; y2=Rand(2,734) ' switch locations
			Until Abs(x1-x2)&lt;distx And Abs(y1-y2)&lt;disty
		EndIf
		
		' set the canvas as current buffer
		SetCanvas		( Canvas )
		SetBlend		( LIGHTBLEND )
		
		'draw your stuff
		SetColor		( r1,g1,b1 )
		SetAlpha		( .1 )
		DrawLine		( x1,y1,x2,y2 ) ' draw our vectored lines
		DrawLine		( 1023-x1,y1,1023-x2,y2 )
		DrawLine		( x1,736-y1,x2,736-y2 )
		DrawLine		( 1023-x1,736-y1,1023-x2,736-y2 )
		SetAlpha		( .01 )
		SetColor		( 255,255,255 )
		DrawLine		( x1,y1,x2,y2 ) ' draw again with a tinge of WHITE
		DrawLine		( 1023-x1,y1,1023-x2,y2 )
		DrawLine		( x1,736-y1,x2,736-y2 )
		DrawLine		( 1023-x1,736-y1,1023-x2,736-y2 )
		
		SetCanvas		( Null )
		
		SetBlend		( SOLIDBLEND )
		SetColor		( 255, 255, 255 )
		SetAlpha		( 1.0 )
		DrawCanvas		( Canvas, 0,0 )
		
		Flip Not(KeyDown(KEY_SPACE))
		
	Forever
	
	' --------- End
	ReleaseCanvas(Canvas)
	
End
</textarea> <br><br></td></tr></table><br>
<a name="1290495"></a>

<a name="1290497"></a>

<a name="1290498"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm ... This sounds suspiciously like that Virtual Page method I tried earlier only to find grabimage() and grabpixmap() did not work on it. Let's try here though.<br><br>Oh, you used my Kaleidoscope program, okay. Running, looks good, can you do full-screen (no taskbar is seen) with your canvas ?<br><br>Checking CPU, a little more than 1.5% in use, nice job !!<br><br>Awright, now lemme really pick through this thing proper and see what you are doing here - AND test it with grabimage() and grabpixmap(). Hope it works this time ...<br><br>Pause, I see Kfprimm wrote back. His 5-line sample works fine. Wow ! Small code, Neat ! I needed this weeks ago.<br><br>Here is an animation test:<pre class=code>SetGraphicsDriver GLMax2DDriver(), 0 ' 0 is important. No GRAPHICS_BACKBUFFER.
Graphics 640,480
Repeat
  Cls
  DrawOval i,50,50,50
  i:+1
  glFlush
  Delay 1
Until KeyDown(27)</pre>ZING ! There it goes ! :D I've never really used the delay command before today - looks like I'll need it now !<br><br>But now there's another question, if FLIP() is out, how do you make for maintaining the program at the same speed no matter the CPU power ?<br><br>And yes, my hand is raised, Bobysait - your program works very well too. What does your program do, however, that Kfprimm's does not ?<br><br>Why would I use your code over Kfprimm's smaller ?<br><br>I'm not trying to be rude, I'm honestly and truly (being as nice as I can be) and really wanting to know what is going on in your code that made you write it to such lengths ? How does this differ from Kfprimm's ?<br><br>Now I need to test both your entries with grabimage() and grabpixmap(), however, I think they're going to work just fine. <br><br></td></tr></table><br>
<a name="1290502"></a>

<a name="1290503"></a>

<a name="1290509"></a>

<a name="1290515"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Didn't need it, but now there's another question, if FLIP() is out, how do you make for maintaining the program at the same speed no matter the CPU ?<br> <br></div><br><br>the delay can do this. just surround your loop with two variable that stores millisecs()<br>set the delay value according to the time elapsed and you'll get a fully control framerate (that will get consistent until your framerate goes above 1000 fps ...).<br><br>--------------------------------------------------------<br><div class="quote"> <br>can you do full-screen (no taskbar is seen) with your canvas ?<br> <br></div><br>Sure, just modify the "Graphics" parameter like a normal use.<br><br><div class="quote"> <br>What does your program do, however, that Kfprimm's does not ?<br> <br></div><br>Actually, a lot of things probably, all what RenderToTexture can do.<br>It was not coded for rendering like on the frontbuffer (what the Kfprimm does).<br><br>All I can say, it's that you probably will have a use for it one day, when you won't remember you had it.<br>So, it's the kind of code you put in a module and save it for later use.<br><br>Imagine that you need to work in backbuffer (like it's really mostly always the case) and you have this kind of effect that require to not clear the effect ... but if you don't the rest of the screen don't get cleared and it's dirty ...<br>with the virtual canvas, you have no problem to do it<br>-&gt; To simplify, it's the same usage as drawing on a pixmap within the loop. You can write to it, clear it, draw it on screen, and nothing you do on it affect the screen, so as nothing that affects the screen affects the canvas.<br><br><br>I won't explain in detail what is RenderToTexture, it covers a large panel of usages so, google it, maybe you'll find something interesting to do with it.<br>Else I won't blame you, I just suggest it because it could do what you want.<br><br>and BTW, working in frontbuffer on nowadays, it's a bit like making wine with the feet ... it's possible, but it's not how we work anymore. <br><br></td></tr></table><br>
<a name="1290505"></a>

<a name="1290506"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> how do you make for maintaining the program at the same speed no matter the CPU power ? <br></div><br>That's related to the main loop of your game.<br>There's some science behind this subject. The two main articles on this I remember are these:<br><br>- <a href="http://www.koonsolo.com/news/dewitters-gameloop/" target="_blank">http://www.koonsolo.com/news/dewitters-gameloop/</a><br>- <a href="http://gafferongames.com/game-physics/fix-your-timestep/" target="_blank">http://gafferongames.com/game-physics/fix-your-timestep/</a> <br><br></td></tr></table><br>
<a name="1290519"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> Bobysait, I've got big feet if that's what it takes. :) No, seriously, won't using frontbuffer fix the flicker problem completely (topic at hand) ?<br><br>And - if so, why isn't anyone else using it ?<br><br>Kryzon, looking at the articles. Ohh ,,, that's knocking around a few pendulums in my head. Ok, yes - I had to do this in QBasic years ago. What I did was write code to calculate how many iterations could be done in exactly one-second of time - and build a routine to give proper snips of time.<br><br>It actually took 2-seconds cause I looped until the time changed, then I started calculating. Hmm ... I may have that be an option that appears if the code is being run in final mode <b>(?Not debug)</b>.<br><br>Still experimenting with yours, Kfprimm. <br><br></td></tr></table><br>
<a name="1290532"></a>

<a name="1290533"></a>

<a name="1290534"></a>

<a name="1290535"></a>

<a name="1290538"></a>

<a name="1290539"></a>

<a name="1290540"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here it is, Kfprimm, and the test for your method:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">' THOROUGHLY TEST HIDDEN PAGE METHOD
' uses GrabImage, GrabPixmap, ReadPixel(), and WritePixel(), and more !

Strict
SetGraphicsDriver GLMax2DDriver(),0 ' 0 forces front buffer

Graphics 640,480
SetBlend alphablend ' needed below for smooth font

Local i,j,img:TImage=CreateImage(16,16),pic:TPixmap
Local img2:TImage=CreateImage(16,16),pic2:TPixmap
Local fnt:timagefont=LoadImageFont("caecilia.ttf",32) ' choose any font really

DrawRect 0,0,100,100
GrabImage img,0,0 ' already size is 16x16, now grab top
DrawImage img,0,200 ' plot it to show it works
pic=GrabPixmap(0,200,16,16) ' this pixmap copies what was just plotted
DrawPixmap pic,32,200 ' and draws it - to show it works
pic=LockImage(img2) ' final test is for read and writepixel
pic2=LockImage(img)
For i=0 To 15
  For j=0 To 15
    WritePixel pic,j,i,ReadPixel(pic2,j,i) ' write was just read to
  Next
Next
UnlockImage img2 ' always unlock pixeled images
UnlockImage img
DrawImage img2,64,200

WaitKey ' screen should be black at this point
glFlush ' see big square at top and 3-smaller ones below

Cls
SetImageFont fnt
DrawText "Amazing Grace.",50,50 ' new test, plot text and shapes
DrawOval 100,100,50,50 ' filled circle
SetLineWidth 4
DrawLine 50,90,300,90 ' underline text
SetLineWidth 1
SetRotation 45
DrawRect 200,100,35,35 ' filled diamond
SetRotation 0
drawhollowoval 250,100,50,50 ' hollow circle
WaitKey ' test, despite all drawing screen should still be UNCHANGED

glflush ' now should see smooth font underlined, circle, square,
WaitKey ' and a hollow circle

' &gt;&gt; DRAW HOLLOW OVAL
Function drawhollowoval(h,v,x,y)
  glbegin(gl_line_loop)
  _max2ddriver.DrawOval h,v,h+x,v+y,0,0
  glend
EndFunction
</textarea><br><br>Your code gives correct results all the way around, congrats ! :D<br><br>Bobysait, I am going to be using Kfprimm's method for all my future work (till it breaks, hopefully not) but I WILL back up your code, as you say, if I need it later. Thanks for all the help and contributions !<br><br>I'll go to update the top Lights Fantastic with the new method and see if that takes flicker out of it completely. I'll even let it run until you hit a key which clears the screen - that will be a real test of no flicker !<br><br><img src="http://www.buckeyetraffic.org/images/fmsicons/speed_alert.gif"> Updated ! You should totally try it out now (code on top !) It runs really fast and really sweet !<br><br>CPU usage ? &lt;0.5 % ! <br><br></td></tr></table><br>
<a name="1290552"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> I find dw817 amazing Ppl like him is what makes places like this worth going to.<br><br>In most of these kind of forums often you find only trashing, ignorance and petrinizing, you find ppl bullying eachother and sort ppl by what they know or not, and talk to them differently. Helping gets to be redirecting as best. Not him. He offers hands down some help. Right here and now.<br><br>So ya.. I wanted to help out with the screen buffer problem, I know you wanted to have a buffer as in GFA.<br><br>Use the link not the box. Because the it uses long lines I couldnt post all of it. So go for the link.<br><br><a href="http://www.megafileupload.com/a7cu/retro.bmx" target="_blank">http://www.megafileupload.com/a7cu/retro.bmx</a><br><br><pre class=code>
'
' 60hz Smooth screen pixel access on 2010+ Mac's and PC's
'
' It does not use pixelshader nor PBO, but a simple memory-to-GPU transfer every frame. This practically saturates at about 4GB for an old 2010+ Mac' or PC.
' Meaning a full 1920 x 1080 are perfectly possible at 120hz (or two frames at 60hz if you want that for some reason) on most old machines. It only goes up from there. 
'
' You get 60 fps pixelaccess of your full screen (1920 x 1080 or similiar is very realistic).
' Full pixel access reading writing, and it's perfectly possible at 60hz without stuttering.

' This use no GPU whatsoever, it relies on the CPU, BUS and MEM to be fast. Luckily today it's not a major problem.
' The problem using this technique is instead the speed of the language itself and how it compiles. 
' Becuase the array that are manipulated is huge this means that instructions gets too expansive to neglect in these huge quantities (even by todays standard). So despite popular beliefs - we need do optimize here.
'
' You need optimization every bit you can and you'll notice that when you start doing more and more complex things, e.g. try some trigonometry or even standard random functions and see it quickly die off.
' With BlitzMax this goes with simple IF THEN aswell, so try to use simple primitive such as + shl or even explore things like Sgn And Abs (which seem strangely fast in BlitzMAX if thet are they makes them into good optization tools).
' But you do need To think about code speed when manipulating the array. The array behaves just a classic screenbuffer.
'
' Here's a reminder of what sizes we're playing with and why careful coding and optimization needs to be done in the inner loops;
' - A 320 x 240 resolution is about 70 KB (32 bit graphics).
' - A 1920 x 1080 is 2GB (32 bit graphics).'

' This kind of slowdowns means oldschool &amp; general knowledge about assemblers and compilers applies very much what we need to think about iside the loops e.g. 
' use minimum of IF THEN, converting multiplications into shifts etc everything is valuable. 
' It also means that you may want to use your knowledge about memory alignments and common practice how to transverse BlitzMax arrays quickest possible.
 
' Load some suiting retro graphics
Global buffer:Int[128*128] ; Local myhex$ = "0123456789ABCDEF", w:Int, h:Int, line$
RestoreData tiles ; ReadData w ; ReadData h
For Local y:Int = 0 To h - 1
	ReadData line$
	For Local x:Int = 0 To w - 1
		Local word$ = Mid$( line$, x * 8 + 1, 8 ), pixel:Int = 0, shift:Int = 28
		For Local i:Int = 1 To 8 ; pixel :+ (Instr( myhex$, Mid$(word$, i, 1) ) - 1) Shl shift ; shift :- 4 ; Next
		buffer[x+y*w] = pixel
	Next
Next

' Graphics mode
Global xres:Int = 1920 ; yres:Int = 1080 ; Global pixels:Int[xres*yres]
GLGraphics(xres,yres,32,60,GRAPHICS_BACKBUFFER + GRAPHICS_DEPTHBUFFER) ; HideMouse ' Fullscreen, for windowed use instead GLGraphics(xres,yres,0,60,GRAPHICS_BACKBUFFER + GRAPHICS_DEPTHBUFFER)
glViewport(0,0,xres,yres) ;  glLoadIdentity() ; glMatrixMode(GL_PROJECTION) ; glPixelZoom(1,-1) ; glOrtho(0,xres,yres,0,0,1) ; glRasterPos2i(0,0)

' Main loop
Repeat

	' Demo a CLS, example how to clear the array (non-optimized yet)
	For y=0 To yres-1 Step 1 ; For x=0 To xres-1 Step 1 ; pixels[(y*xres+x)] = 0 ; Next ; Next ' stepping is not needed if you only use 1
	
	' Demo 128 sprites
	' The only reason that we do this is to show that the fullscreen buffer is very much alive and up and working, ready to be used.
	' Its there so you should be able to decide that there's a smooth 60hz movement happening or not. Remember its not about the sprites or few pixels that they are made of. 
	' We shuffle the whole buffer each frame either way if we use all the pixels or not. If it is smooth. You can go wild with your new pixelaccess fullscreen.
	
	xsprite=xsprite+2 ; ysprite=ysprite+2 ; xsprite = xsprite Mod (1920-512) ; ysprite = ysprite Mod (1080-512) ; temp2=temp2+1
	For temp=1 To 128
		ysprite = temp*2
		' Draw one sprite (coordinates are xprite &amp; ysprite) (same goes here, partly un-optimized code)
		base = ysprite*xres+xsprite+(temp*32) ' Sprite coordinates are xsprite And ysprite
		tempy=0 ; For y=0 To 127 Step 1 ; For x=0 To 127 Step 1 ; pixels[base+x+x+X+X+tempy] = buffer[x+(y Shl 7)] ;	Next ;	tempy=tempy+xres+xres+XRES+XRES ; Next
	Next
	
	' This writes the array to the GPU, amazingly this is not the major bottleneck even on weak machines.
	glDrawPixels(xres,yres,GL_BGRA,GL_UNSIGNED_BYTE,Varptr(Pixels[0]))
	Delay 1 ; Flip 1

Until MouseDown(2)
End


</pre> <br><br></td></tr></table><br>
<a name="1290554"></a>

<a name="1290555"></a>

<a name="1290556"></a>

<a name="1290557"></a>

<a name="1290558"></a>

<a name="1290561"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> I - very much appreciate the sentiment Casaber. I try to help when I can, it's usually returned tenfold, such as today.<br><br>While Front Buffer may not seem like much, it is going to make my work =SO= much easier - and execution time is a LOT faster than with flip() even after a delay(1) statement.<br><br>I really and honestly thought flip() was running as fast as it could to keep flicker-free graphics. No, not at all. GLFlush() and Delay(1) return very smooth and VERY fast graphics. Can't be beat.<br><br>I had to go into my keyboard code for Tilemaster and increase the timer delays multiplying by 10 as everything was a blur !<br><br>That's extra CPU power I can run in the background with other things. BlitzMAX with that little bit of Front Buffer code to me is now a slice of heaven. *Grin*<br><br>I'm trying out your program, Casaber, really curious to see it. I run and get a hardware shift on my monitor and the resolution does not work (images flicker and are drawn incorrectly).<br><br>I stopped it, closed the output, then tried to change the resolution to 1024x768, the one my monitor handles:<pre class=code>Global xres:Int = 1024 ; yres:Int = 768 ; Global pixels:Int[xres*yres]
</pre> and it crashes HERE:<pre class=code>tempy=0 ; For y=0 To 127 Step 1 ; For x=0 To 127 Step 1 ; pixels[base+x+x+X+X+tempy] = buffer[x+(y Shl 7)] ;	Next ;	tempy=tempy+xres+xres+XRES+XRES ; Next</pre><b>Unhandled Exception:Attempt to index array element beyond array length</b><br><br>That's an awful lot of ";" too. I admit I may use one or two per line with the exception of variable definitions, however ... :)<br><br>Also, you might use <b>[ codebox ]</b> and <b>[ /codebox ]</b> (minus spaces) between your code to keep it in a neat box where to copy, all you have to do is click inside, and press CTRL-A, and CTRL-C, instead of highlight copying with the mouse. <br><br></td></tr></table><br>
<a name="1290564"></a>

<a name="1290566"></a>

<a name="1290567"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> I want to correct some numbers in the remarks while I'm here and all. It should say<br><br>' -  320 x 240 x 4bytes = 0.5 MB per frame (18MB per second at 60hz)<br>' - 1920 x 1080 x 4bytes = 8 MB per frame (480MB per second at 60hz)<br><br>Ive found that the weakest machines tolerate 1GB-2GB / second in practice, at least, thats the worst case Ive ever found. Well above the needed 0.5GB.<br><br>I think I did a bad demo lemme improve it, and to be sure I made it windowed this time (and when windowed works, just try the commented fullscreen line instead) <br>Windowed mode gives less errors, thats why I prefer that when I heard you had problems.<br><br>Just replace the actual code and leave the data below END intact. This code should be a correct working demo.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
' 320 x 240 x 4bytes = 0.5 MB per frame (18MB per second for 60hz)
' 1920 x 1080 x 4bytes = 8 MB per frame (480MB per second for 60hz) 

' So 0.5GB per second for a full HD is good refereence to remember to get the feeling of speeds and amounts of memory
' I found 1-2GB is okay on the weakest machines

'
' 60hz Smooth screen pixel access on 2010+ Mac's and PC's
'
' It does not use pixelshader nor PBO, but a simple memory-to-GPU transfer every frame. This practically saturates at about 4GB for an old 2010+ Mac' or PC.
' Meaning a full 1920 x 1080 are perfectly possible at 120hz (or two frames at 60hz if you want that for some reason) on most old machines. It only goes up from there. 
'
' You get 60 fps pixelaccess of your full screen (1920 x 1080 or similiar is very realistic).
' Full pixel access reading writing, and it's perfectly possible at 60hz without stuttering.

' This use no GPU whatsoever, it relies on the CPU, BUS and MEM to be fast. Luckily today it's not a major problem.
' The problem using this technique is instead the speed of the language itself and how it compiles. 
' Becuase the array that are manipulated is huge this means that instructions gets too expansive to neglect in these huge quantities (even by todays standard). So despite popular beliefs - we need do optimize here.
'
' You need optimization every bit you can and you'll notice that when you start doing more and more complex things, e.g. try some trigonometry or even standard random functions and see it quickly die off.
' With BlitzMax this goes with simple IF THEN aswell, so try to use simple primitive such as + shl or even explore things like Sgn And Abs (which seem strangely fast in BlitzMAX if thet are they makes them into good optization tools).
' But you do need To think about code speed when manipulating the array. The array behaves just a classic screenbuffer.
'
' Here's a reminder of what sizes we're playing with and why careful coding and optimization needs to be done in the inner loops;
' - A 320 x 240 resolution is about 70 KB (32 bit graphics).
' - A 1920 x 1080 is 2GB (32 bit graphics).'

' This kind of slowdowns means oldschool &amp; general knowledge about assemblers and compilers applies very much what we need to think about iside the loops e.g. 
' use minimum of IF THEN, converting multiplications into shifts etc everything is valuable. 
' It also means that you may want to use your knowledge about memory alignments and common practice how to transverse BlitzMax arrays quickest possible.
 
' Load some suiting retro graphics
Global buffer:Int[128*128] ; Local myhex$ = "0123456789ABCDEF", w:Int, h:Int, line$
RestoreData tiles ; ReadData w ; ReadData h
For Local y:Int = 0 To h - 1
	ReadData line$
	For Local x:Int = 0 To w - 1
		Local word$ = Mid$( line$, x * 8 + 1, 8 ), pixel:Int = 0, shift:Int = 28
		For Local i:Int = 1 To 8 ; pixel :+ (Instr( myhex$, Mid$(word$, i, 1) ) - 1) Shl shift ; shift :- 4 ; Next
		buffer[x+y*w] = pixel
	Next
Next

' Graphics mode
Global xres:Int = 1024 ; yres:Int = 768 ; Global pixels:Int[xres*yres]
'GLGraphics(xres,yres,32,60,GRAPHICS_BACKBUFFER + GRAPHICS_DEPTHBUFFER) ; HideMouse ' Fullscreen
GLGraphics(xres,yres,0,60,GRAPHICS_BACKBUFFER + GRAPHICS_DEPTHBUFFER) 
glViewport(0,0,xres,yres) ;  glLoadIdentity() ; glMatrixMode(GL_PROJECTION) ; glPixelZoom(1,-1) ; glOrtho(0,xres,yres,0,0,1) ; glRasterPos2i(0,0)

' Main loop
Repeat

	' Demo a CLS, example how to clear the array (non-optimized yet)
	For y=0 To yres-1 Step 1 ; For x=0 To xres-1 Step 1 ; pixels[(y*xres+x)] = 0 ; Next ; Next ' stepping is not needed if you only use 1
	
	' Demo 128 sprites
	' The only reason that we do this is to show that the fullscreen buffer is very much alive and up and working, ready to be used.
	' Its there so you should be able to decide that there's a smooth 60hz movement happening or not. Remember its not about the sprites or few pixels that they are made of. 
	' We shuffle the whole buffer each frame either way if we use all the pixels or not. If it is smooth. You can go wild with your new pixelaccess fullscreen.
	
	xsprite=xsprite+2 ; ysprite=ysprite+2 ; xsprite = xsprite Mod (1920-512) ; ysprite = ysprite Mod (1080-512) ; temp2=temp2+1

		' Draw one sprite (coordinates are xprite &amp; ysprite) (same goes here, partly un-optimized code)
		base = ysprite*xres+xsprite+(temp*32) ' Sprite coordinates are xsprite And ysprite
		tempy=0 ; For y=0 To 127 Step 1 ; For x=0 To 127 Step 1 ; pixels[base+x+x+X+X+tempy] = buffer[x+(y Shl 7)] ;	Next ;	tempy=tempy+xres+xres+XRES+XRES ; Next
	
	' This writes the array to the GPU, amazingly this is not the major bottleneck even on weak machines.
	glDrawPixels(xres,yres,GL_BGRA,GL_UNSIGNED_BYTE,Varptr(Pixels[0]))
	Delay 1 ; Flip 1

Until MouseDown(2)
End
</textarea> <br><br></td></tr></table><br>
<a name="1290576"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just wondering why you are using glFlush? <br><br></td></tr></table><br>
<a name="1290580"></a>

<a name="1290584"></a>

<a name="1291040"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzMan</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> . <br><br></td></tr></table><br>
<a name="1290581"></a>

<a name="1290583"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Therevills, are you just catching up to our convo ? :)<br><br>With it you can copy a hidden page to the main page, which is a programming method I'm quite familiar with. FLIP can give problems like so:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Strict
SetGraphicsDriver GLMax2DDriver()
Graphics 640,480
DrawOval 50,50,50,50
Flip
WaitKey
DrawOval 100,100,50,50
Flip
WaitKey
DrawText "Hey, where'd the other one go ? No good ! This won't do.",0,0
Flip
WaitKey
Cls
DrawText "New method ...",0,0
Flip
WaitKey
SetGraphicsDriver GLMax2DDriver(),0
Graphics 640,480
DrawOval 50,50,50,50
glflush
WaitKey
DrawOval 100,100,50,50
DrawText "Perfect ! No change until CLS !",0,0
glflush
WaitKey ' we see 2 ovals now, this is how I used to do my graphics</textarea><br><br>Flipping pages was a real nightmare back on the Apple ][, unfortunately, that was the only way to get really fast graphics.<br><br>When I wrote my game packages back then though, I would NOT do that. Instead I made a machine-language routine to copy HIRES page 2 to HIRES page 1 anytime I wanted to update the screen.<br><br>I never had to worry about flipping in the wrong places, it was flicker-free always, and perfect - aside from being a bit slower than just flipping viewing pages.<br><br>The method of using <b>glflush</b> in BlitzMAX is a godsend to me and VERY fast. The screen does not FLIP at all and I can add all the elements I want, viewing them in-between with no problems and never EVER have to worry about flicker or wrong pages.<br><br>When I started BlitzMAX years ago I realized FLIP() was going to be a problem, so - I wrote routines to redraw the screen from CLS to all elements every single machine-cycle before I would do a FLIP(). Now I don't have to ! :) <br><br></td></tr></table><br>
<a name="1290585"></a>

<a name="1291038"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzMan</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> . <br><br></td></tr></table><br>
<a name="1290586"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> Casaber, this time it ran ! it got halfway across the screen and then crashed ...<br><br>Nonetheless I like what I'm seeing. Those are some great game characters, :D did you draw them ?<br><br>You might be interested in a program I wrote that lets you attach images or really anything you want to BlitzMAX source-code - AND you can upload it straight as a message in the forum.<br><br>Lemme find it ... Here ya go. You won't have to use data numbers anymore and you are welcome to use my data converter (Carryall) in your projects. :)<br><br><a href="http://www.blitzbasic.com/Community/post.php?topic=105555&amp;post=1288492" target="_blank">http://www.blitzbasic.com/Community/post.php?topic=105555&amp;post=1288492</a><br><br>I call it the "BOXCAR" edition as with dice, 12 is considered boxcars. And you are converting 8-bit data to 6-bit and back again.<br><br>Hope This Helps ! <br><br></td></tr></table><br>
<a name="1290592"></a>

<a name="1290597"></a>

<a name="1290598"></a>

<a name="1290599"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice 3D Robot, BlitzMAN - and you didn't even use a 3D library like SideSign.<br><br>... I'm keenly looking at your DrawCube function. Do you have a way of putting 6-different images appearing on each face of the cube - and can add some arguments so you can specify the scale and other goodies ? I.E.:<pre class=code>Function DrawCube(xScrnPos:Float,yScrnPos:Float,xWidth:Float,yHeight:Float,xPos:Float,yPos:Float,zPos:Float)</pre>I am correct in thinking the xPos, yPos, and zPos you have currently is for the rotation of the cube ? <br><br></td></tr></table><br>
<a name="1290593"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#51">[#51]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, I drew some most are from the Commodore though. I extracted every character available in the ROM and I threw away the inverted and rotated ones to make room for my other graphics.<br><br>Perhaps the best example is the simplest one a simple plot actually. Trust me Ive already build amazing things with this simple code as base I wish I had some code here with me now. But I think you got the idea. It's amazingly powerful.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Global xres:Int = 800 ; yres:Int = 600 ; Global pixels:Int[xres*yres]
' GLGraphics(xres,yres,32,60,GRAPHICS_BACKBUFFER + GRAPHICS_DEPTHBUFFER) ; HideMouse ' Fullscreen 
GLGraphics(xres,yres,0,60,GRAPHICS_BACKBUFFER + GRAPHICS_DEPTHBUFFER)
glViewport(0,0,xres,yres) ;  glLoadIdentity() ; glMatrixMode(GL_PROJECTION) ; glPixelZoom(1,-1) ; glOrtho(0,xres,yres,0,0,1) ; glRasterPos2i(0,0)

' Main loop
Repeat

	' Demo a CLS, example how to clear the array (non-optimized)
	For y=0 To yres-1 Step 1 ; For x=0 To xres-1 Step 1 ; pixels[(y*xres+x)] = 0 ; Next ; Next ' stepping is not needed if you only use 1
	
	' Demo a plot x,y,color (non-optimized and non-clipping)
	x=400 ; y = 300 ; c = 65535
	pixels[x + y*xres] = c ' set the pixel at x,y

	' This writes the array to the GPU, amazingly this is not the major bottleneck even on weak machines.
	glDrawPixels(xres,yres,GL_BGRA,GL_UNSIGNED_BYTE,Varptr(Pixels[0]))

	' Flip 0 ' use this instead if you want max speed and not eat processor time (but you need flip)
	 Delay 1 ; Flip 1

Until MouseDown(2)
End
</textarea> <br><br></td></tr></table><br>
<a name="1290594"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#52">[#52]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've build half an C64 emulator with this. It runs perfectly smooth. with that exact plot even. Not even optimized it yet. <br><br></td></tr></table><br>
<a name="1290600"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#53">[#53]</a></td></tr></table></td></tr><tr ><td class="posttext"> That last example just gives me a dot on the screen, Casaber ?<br><br>I see you're trying to clear an array. That's an interesting point, am I correct in thinking that BlitzMAX does not have a command like other basics such as:<pre class=code>ClearArray Cards()</pre>or<pre class=code>FillArray Flags(),1</pre> <br><br></td></tr></table><br>
<a name="1290601"></a>

<a name="1290611"></a>

<a name="1291039"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzMan</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#54">[#54]</a></td></tr></table></td></tr><tr ><td class="posttext"> . <br><br></td></tr></table><br>
<a name="1290605"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#55">[#55]</a></td></tr></table></td></tr><tr ><td class="posttext"> Blitzman, hardware wise I have done a little investigation. If I am understanding it correctly, DX does not have as many 'effects' available as GL but DX is more compatible with computers.<br><br>As you have a choice for videogame emulators, I have chosen GL if and whenever possible - and have better results and accurate graphics - at least on my computer. <br><br></td></tr></table><br>
<a name="1290612"></a>

<a name="1290615"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#56">[#56]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here, try an Amiga variation.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Global xres:Int = 800 ; yres:Int = 600 ; Global pixels:Int[xres*yres]
' GLGraphics(xres,yres,32,60,GRAPHICS_BACKBUFFER + GRAPHICS_DEPTHBUFFER) ; HideMouse ' Fullscreen 
GLGraphics(xres,yres,0,60,GRAPHICS_BACKBUFFER + GRAPHICS_DEPTHBUFFER)
glViewport(0,0,xres,yres) ;  glLoadIdentity() ; glMatrixMode(GL_PROJECTION) ; glPixelZoom(1,-1) ; glOrtho(0,xres,yres,0,0,1) ; glRasterPos2i(0,0)

' Main loop
Repeat

	' Demo a CLS, example how to clear the array (non-optimized)
	For y=0 To yres-1 Step 1 ; For x=0 To xres-1 Step 1 ; pixels[(y*xres+x)] = 0 ; Next ; Next ' stepping is not needed if you only use 1
	
	' Demo a plot x,y,color (non-optimized and non-clipping)
	x=400 ; y = 300 ; c = 65535
	pixels[x + y*xres] = c ' set the pixel at x,y

	a = a + 1 ; b = 64 * Sqr(a)*Cos(a)
	For y=0 Until yres Step 1 ; For x=0 Until xres Step 1
	c = x + b * b Shr 8 * x
	pixels[x + y*xres] = c
	Next ; Next
	
	' This writes the array to the GPU, amazingly this is not the major bottleneck even on weak machines.
	glDrawPixels(xres,yres,GL_BGRA,GL_UNSIGNED_BYTE,Varptr(Pixels[0]))

	' Flip 0 ' use this instead if you want max speed and not eat processor time (but you need flip)
	 Delay 1 ; Flip 1

Until MouseDown(2)
End

</textarea><br><br>Full HD fullscreen version<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Global xres:Int = 1920 ; yres:Int = 1080 ; Global pixels:Int[xres*yres]
GLGraphics(xres,yres,32,60,GRAPHICS_BACKBUFFER + GRAPHICS_DEPTHBUFFER) ; HideMouse ' Fullscreen 
'GLGraphics(xres,yres,0,60,GRAPHICS_BACKBUFFER + GRAPHICS_DEPTHBUFFER)
glViewport(0,0,xres,yres) ;  glLoadIdentity() ; glMatrixMode(GL_PROJECTION) ; glPixelZoom(1,-1) ; glOrtho(0,xres,yres,0,0,1) ; glRasterPos2i(0,0)

' Main loop
Repeat

	' Demo a CLS, example how to clear the array (non-optimized)
	For y=0 To yres-1 Step 1 ; For x=0 To xres-1 Step 1 ; pixels[(y*xres+x)] = 0 ; Next ; Next ' stepping is not needed if you only use 1
	
	' Demo a plot x,y,color (non-optimized and non-clipping)
	x=400 ; y = 300 ; c = 65535
	pixels[x + y*xres] = c ' set the pixel at x,y

	a = a + 1 ; b = 64 * Sqr(a)*Cos(a)
	For y=0 Until yres Step 1 ; For x=0 Until xres Step 1
	c = x + b * b Shr 8 * x
	pixels[x + y*xres] = c
	Next ; Next
	
	' This writes the array to the GPU, amazingly this is not the major bottleneck even on weak machines.
	glDrawPixels(xres,yres,GL_BGRA,GL_UNSIGNED_BYTE,Varptr(Pixels[0]))

	' Flip 0 ' use this instead if you want max speed and not eat processor time (but you need flip)
	 Delay 1 ; Flip 1

Until MouseDown(2)
End
</textarea> <br><br></td></tr></table><br>
<a name="1290618"></a>

<a name="1290625"></a>

<a name="1290626"></a>

<a name="1290628"></a>

<a name="1290629"></a>

<a name="1290630"></a>

<a name="1290640"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#57">[#57]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm ... I may be able to reproduce that, Casaber. Is this the effect you wanted ?<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Strict
SetGraphicsDriver GLMax2DDriver(),0 ' zero forces front buffer (Kfprimm)
Graphics 800,600

Local a#,c#,d#=.01,i

Repeat '{* MAIN *}

a#=0
For i=0 To 799
  SetColor 0,a# Mod 256,Rand(0,192)
  DrawLine i,0,i,599
  a:+c#
Next
c#:+d#
If c#&gt;5 Or c#&lt;0 Then d#=-d#

glflush
Delay 1
Until KeyDown(27) '{* END MAIN *}</textarea><br><br>I was adding "#" in front of all the variables. I sometimes forget that once you define a variable in BlitzMAX, it is OPTIONAL if you use "#" for real or "$" for string. Old habits die hard - I'll be working on that this month. :) <br><br></td></tr></table><br>
<a name="1290622"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#58">[#58]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yup, how the hell did you reproduce that with that code it does look like nothing like mine haha. Impressive. <br><br></td></tr></table><br>
<a name="1290624"></a>

<a name="1290627"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#59">[#59]</a></td></tr></table></td></tr><tr ><td class="posttext"> *Grin* When I started working for businesses, Casaber, they would show me commercial software they didn't want to use and ask me to rewrite it completely with changes they wanted in it. As it is I got pretty good at being able to look at data handling methods or even graphics and being able to reproduce them pretty easily, provided they weren't 3D. (Although that may change this month).<br><br>The main problem critics have with my code (and there were some guys from Germany working in GFA - and they told me this). "Yes, your code works, but it's not portable in the least."<br><br>And by that they meant I used such unconventional methods of programming to just - git R done - and generate what I wanted that in many cases my code was language specific - that is, my code would only run on that particular programming language, possibly hardware specific as well, and precious few other platforms or hardware would run my code.<br><br>Whereas your code above is likely the more 'accepted' standard today and I suspect can be easily ported to many different programming languages, including C++ <br><br></td></tr></table><br>
<a name="1290641"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#60">[#60]</a></td></tr></table></td></tr><tr ><td class="posttext"> BTW, I'm still thinking of that character set you had, Casaber. I don't know if you had seen this - I was going to build a BBS called Anonymouse years ago where a mouse was the host and - well, these were the graphics you could do in it, 2400 baud at the time.<br><br><a href="http://www.writerscafe.org/uploads/rte/ae119bac1be1e81f011146a2d5984fba.png" target="_blank"><b>[image]</b></a><br><br>Today ? All for naught it seems. But, who knows. Maybe you could get some use out of them with your interest in classic and retro graphics ? :) <br><br></td></tr></table><br>
<a name="1290702"></a>

<a name="1290703"></a>

<a name="1290705"></a>

<a name="1290706"></a>

<a name="1290708"></a>

<a name="1290709"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#61">[#61]</a></td></tr></table></td></tr><tr ><td class="posttext"> I like the retro and naive look on those graphics, really nice.<br><br>I discovered this technique beats Blitz3D with being exactly twice the speed on my machines. I'm not sure why, I guess DX7/OS uses one buffer "too much" that's really not needed and it's somewhere in the chain inbetween WIN/DX/B3D and uses exactly this or a similiar method, this would explain the half capping of the speed at 1 Million pixels.<br><br>Writing pixels this way using OpenGL has been bashed alot as being slow, I guess it once probably where because opengl implementations simply was no good. <br>But in the last years OpenGL implementations seem to have improved exponentially. I don't even see the need for DX any longer and this shift seemed to start happen just around about 4-6 years ago, it should be okay to start to embrace it.. <br><br>With this you may plot at least 2 million pixels each 60 hz on even weak machines and you get amazingly quick read/write pixel access (as it's an array / bank).<br>You have never had a quicker pixelbuffer in your life ;)<br><br>If I could get my hands dirty and just put SOME assembler in the inner loops and have all the control what's happening, that would be the sweetest thing. <br><br></td></tr></table><br>
<a name="1290719"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamStrange</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#62">[#62]</a></td></tr></table></td></tr><tr ><td class="posttext"> MMM, did a quick test on the two different but visually the same. but with very interesting CPU results:<br><br>Casaber: 18.3<br>dw817: 27.4<br><br>so just by going by those results. Casabers version wins and has less CPU use than the other.<br><br>I really like the quick detailed look at the GL code to deal with pixel drawing - very cool :) <br><br></td></tr></table><br>
<a name="1290727"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#63">[#63]</a></td></tr></table></td></tr><tr ><td class="posttext"> @AdamStrange<br><br>Actually I think Its because things like MOD and RAND are used alot in his loops, and those are awfully CPU eating instructions in Bmax.<br>He uses GPU for everything and I intentionally use CPU so his code has definitly the better potential to be cheap on CPU. Try replace those with something cheap and I think things will change.<br><br>But dont take me wrong, if you need pixelaccess then what I trying to do works amazingy nice, one just has to separate the slowdowns.<br>Hes code is only more CPU demanding becuase of BMax's slow logic in some instructions<br><br>My approach to only use the GPU for getting an array over to the screen in a decently effecient way still need manipulating that array and that will cost you some CPU time, <br>so its not very CPU friendly.<br><br>With my i3 3Ghz with i manage one 1920x1080 screens (almost two, but not quiet) It handles about almost 3 million pixels perfectly.<br>While my i5 1.9Ghz manages more than double, and both machines uses same or similiar speeds on memory and buses overall, so ya it's tricky to know what to expect.<br><br>But 1 full HD screen is easly plotted on any machine and you still have lots of CPU time left to do lots of stuff. Which is nice. <br><br></td></tr></table><br>
<a name="1290728"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Endive</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#64">[#64]</a></td></tr></table></td></tr><tr ><td class="posttext"> Casaber this is amazing, thank you so much. <br><br></td></tr></table><br>
<a name="1290736"></a>

<a name="1290746"></a>

<a name="1290766"></a>

<a name="1290767"></a>

<a name="1290768"></a>

<a name="1290769"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#65">[#65]</a></td></tr></table></td></tr><tr ><td class="posttext"> Morning gang. I just tossed that code together looking at Casaber's - no big. Mine may run slower with the <b>delay 1</b> I have listed in my code, but I'm good with that. *Grin*<br><br>In any case it uses .25% (not even 1%) of my CPU. Casaber's if you're curious (checking last code w <a href="https://technet.microsoft.com/en-us/sysinternals/processexplorer.aspx" target="_blank"><b>Process Explorer</b></a>) pegs my CPU at 23.4%. If it's a race (which I was not aware of), he can have the prize. :)<br><br><img src="http://www.virtualhorseranch.com/skills/skill_img/trophy.gif"><br><br>Casaber, what is GPU and how is it different from CPU ? Not familiar with the term. <br><br></td></tr></table><br>
<a name="1290774"></a>

<a name="1290775"></a>

<a name="1290776"></a>

<a name="1290778"></a>

<a name="1290780"></a>

<a name="1290781"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#66">[#66]</a></td></tr></table></td></tr><tr ><td class="posttext"> GPU?<br><br>I guess just as the CPU and its memory makes up a world of their own, the graphicscard makes up another world with its CPU and memory.<br>And its called GPU. (Graphics Processing Unit instead of Central Processing Unit).<br><br>The important thing is that there's no way for the CPU and the GPU to glance over eachothers shoulders and access things, they may only talk using API like Opengl And DX.<br>Everything that happens in the GPU world are called "hardware accelerated", while things happening in the CPU world are called "software rendering".<br><br>These GPU's are very flexibly in how they could be used,<br><br>The standard way doing hardware accelerated rendering. Here you use upload static images from the CPU once into the GPU world and then you splash those images onto the canvas (backbuffer), <br>you could also use any primitives that the GPU happens knows how to draw. It's not very flexibly and theres not much useful pixelmanipulation, just splatting premade images on the canvas.<br><br>Then there are two main appoaches that adds flexibility inside this GPU world:<br>- The first improvement is VBO which adds the flexibility to draw images not only the canvas but also onto other images (which in turn may be painted anywhere not only backbuffer), much more flexible but still no pixelaccess though.<br>- The second improvement is when we have pixelshaders which gives pixelaccess (and it happens inside the GPU world). You transfer your actual pixelaccess-code to the GPU, <br>that in turn does what you want with the pixels as a helper CPU that happens to live where it needs to have quick access all the pixels.<br><br>The last approach (this one) adds flexibility in that it opens up the gate between the worlds, by sacrificing some power to get the added flexibility of pixelaccess<br>We use the CPU world exclusively to build up our single screen that we want To display and then transfer it to the GPU.<br>We're basically just streaming a piece of memory at e.g. 60hz.<br><br>The only hardware acceleration happening about this is the actual transfer though, I know you could add multiple whats called "PBO's" To speed up the transfering.<br>But there's alot of things happening with OpenGL right now and Im not keen in learnining those details when they might go old within a year. <br><br></td></tr></table><br>
<a name="1290784"></a>

<a name="1290787"></a>

<a name="1290788"></a>

<a name="1290789"></a>

<a name="1290790"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#67">[#67]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, I think you are getting a little extra kick in your program by going to a hardware resolution. Still ... really looking over your code - you have <b>xres</b> and <b>yres</b> at fixed values.<br><br>To be more compatible with users who have different resolutions on their computers and laptops, you could use:<pre class=code>xres=DesktopWidth() ; yres=DesktopHeight()</pre>You will see you don't have to initialize graphics before this - so you can know someone's resolution every time.<br><br>And yes, :) there are indeed a lot of things happening in your code. Really a marvel how fast you throw those pixels out with your array.<br><br>You may like this too as a way of stuffing fast pixels:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
' Hyper Pixels ! (uses double-pixel size)
Strict
SetGraphicsDriver GLMax2DDriver(),0 ' zero forces front buffer (Kfprimm)
Global maxx=DesktopWidth(),maxy=DesktopHeight() ' nail screen size
Graphics maxx,maxy,DesktopDepth() ' using shortcut variables
maxx:/2 ; maxy:/2 ' adjust plotting size, double pixels
Local pix:TPixmap=CreatePixmap(maxx,maxy,pf_rgb888) ' NOTICE NO ALPHA, it is not used, means faster pixels !
Local z,img:TImage
SetScale 2,2

Repeat '{* MAIN *}
For Local i=0 Until maxy ' redraw entire screen one pixel at a time
  For Local j=0 Until maxx
    pix.pixels[j*3+i*3*maxx]=i+j*2+z*7 ' red
    pix.pixels[j*3+i*3*maxx+1]=i*2+j+z*5 'green
    pix.pixels[j*3+i*3*maxx+2]=i*2+j*2+z*3 ' blue
  Next
Next
z:+1 ' used to see animation

img=LoadImage(pix) ' need image to show double scale
DrawImage img,0,0 ' draw image to screen
glflush ' update
' NOTICE, no delay this time, all stops are out ! Should run like a stink. :)
Until KeyDown(27) ' {* END MAIN *}
</textarea> <br><br></td></tr></table><br>
<a name="1290791"></a>

<a name="1290792"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#68">[#68]</a></td></tr></table></td></tr><tr ><td class="posttext"> Im not sure why PIXMAPs never seem stable for me, its not stable on Mac's, not even smaller buffers, neither on the PC's Ive tried.<br>Otherwise I would have used that. But I really needed smooth graphics. Im really pleased with Bmax now.<br><br>But I was abit dissapointed on Monkey 1 it's not smooth nor powerful in that aspect, its very jittery even with Mojo2. I haven't had the time to explore that fully yet but I feel it's beyond my hands in Monkey 1.<br>I do see a very nice language though, so I thought I would support either way. <br>I'm hoping for Monkey2 will offer smooth graphics and able to have things like quick integer arrays and able to do lots of pixel manipulation when you need it.<br><br>Actually I bought Monkey mainly just to support Monkey 2, bc I knew Monkey 1 wouldn't probably work for me as I wanted. <br><br></td></tr></table><br>
<a name="1290793"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#69">[#69]</a></td></tr></table></td></tr><tr ><td class="posttext"> You've bought Monkey-X ? Could you please post a FLASH of a program you've written, Casaber ? Anything will do. I'm just curious to know if the graphics are not smooth in that format as well.<br><br>As far as pixmaps go, when you DO create one using the <b>CreatePixmap()</b> command, if you don't plan to write to every single pixel yourself, you need to use the command <b>ClearPixels()</b> as trash bytes can appear on it without this.<br><br>Other than that, I've never had any problems with pixmaps ! They work quite well for what I need. Just wish when I used drawpixmap() that you could rotate, scale, and alpha plot, that's why I'm using the code <b>loadimage(pixmap)</b> in-between so I can scale it. <br><br></td></tr></table><br>
<a name="1290801"></a>

<a name="1290802"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#70">[#70]</a></td></tr></table></td></tr><tr ><td class="posttext"> You have to install each platform you want to compile to I've never used FLASH, I tried though but it failed. I hate this kind of crap. I need a break or I will explode.<br><br>About pixmap no, never never *ever* it was smooth for me, I tried all kinds of tricks but no.. <br><br>You got me an idea though with when you mentioned rotation and alpha.<br><br>PBO seem actually not that old, its more an extension to VBO.  Meaning VBO is painting images on images.<br>And what we're doing above s painting CPU Memory to the screen. What if we paint the CPU memory into another buffer?<br><br>Which is what PIXMAPS tries to do of course but will all that cost when converting between PIXMAP and TIMAGE makes it useless for realtime.<br><br>I would like to try to change the code to do that. I'm not sure how to approach it though but I know it wouldnt take much code. I need to think for abit. <br><br>This would bring together ALL of the individual advantages of above.<br>Painting images on screen, Painting images on images, painting CPUmemory onto images (and not only fullscreen as the destination). <br><br></td></tr></table><br>
<a name="1290805"></a>

<a name="1290806"></a>

<a name="1290807"></a>

<a name="1290808"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#71">[#71]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tried again FLASH but no luck, if you REALLY really need it I could try again before the weekend but <br>It's not much I can do really that I know of Ive set the path right I did download the SDK. Im starting to have horror dreams Monkey might need a certain version of the flash SDK, Ive been in that ditch too many times with JAVA and whatnot, Flash seem even less documented. <br><br>I was quickly looking around, and you better dont have high hopes even then..<br><a href="http://www.monkey-x.com/Community/posts.php?topic=731" target="_blank">http://www.monkey-x.com/Community/posts.php?topic=731</a><br><br>You need that for a client? HTML5 is really the way to go if not.<br>In Win10 which comes with IE11 Monkey 1 HTML5 is as smooth as Bmax. Chrome and other browsers they all are having a hickup party. But Win10 + IE11 *thumbs up*. <br><br></td></tr></table><br>
<a name="1290844"></a>

<a name="1290847"></a>

<a name="1290848"></a>

<a name="1290849"></a>

<a name="1290850"></a>

<a name="1290851"></a>

<a name="1290852"></a>

<a name="1290856"></a>

<a name="1290857"></a>

<a name="1290859"></a>

<a name="1290860"></a>

<a name="1290861"></a>

<a name="1290862"></a>

<a name="1290864"></a>

<a name="1290865"></a>

<a name="1290867"></a>

<a name="1290870"></a>

<a name="1290871"></a>

<a name="1290872"></a>

<a name="1290873"></a>

<a name="1290909"></a>

<a name="1290910"></a>

<a name="1290911"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#72">[#72]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's no big. Get some sleep. I have to admit, I've even been burning a little too much midnight oil myself. :)<br><br>After thorough testing, there is no doubt now that your pixels are faster than anything I can come up with (tested and retested), but you can't use any of these commands with it:<pre class=code>SetColor Red,Green,Blue
SetAlpha Solid#
SetRotation Rot#
SetScale X#,Y#
</pre>That can only be done with DrawImage(). Here is my code using your plotter.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
'     ________________________________________
'    //                                     //
'   // "Hyper Pixels - I've Been Framed !" //
'  // Written by David W (dw817) 01/21/16 //
' // Screen Plotting routine by Casaber  //
'//_____________________________________//

' What's up ??
' Just checking a few things, added timer to maintain
' same speed on any CPU. Added a test frame with border
' to see how it appears. Added functions of Pst(), Pnt(),
' and DrawBox().
Strict

SetGraphicsDriver GLMax2DDriver(),0 ' zero forces front buffer (Kfprimm)

Global maxx=800,maxy=600,scrn[maxx*maxy] ' array takes 4-bytes per value
Global scrnptr:Int Ptr=Varptr scrn[0] ' no need to compute it each time
Global plottype,milli ' important to keep timer accurate
Global pscrn:TPixmap=CreatePixmap(800,600,pf_rgb888)

Local z,r,g,b,a,i,j,typ,div

typ=1
' typ=0 hardware snap
' typ=1 no hardware snap

If typ=0
  Graphics maxx,maxy,DesktopDepth() ' hardware snap
Else
  Graphics maxx,maxy ' no hardware snap
EndIf

plottype=0
' plottype=0 use Casaber's plot
' plottype=1 use mine (pixmap)

div=1
' div=1 draw on full screen (max out cpu)
' div=4 draw on quarter of screen only (to confirm animation speed is same)
' if you did NOT use DELAY for timing below, it would run too fast

Repeat '{* MAIN *}
For i=0 Until maxy/div ' redraw entire screen one pixel at a time
  For j=0 Until maxx/div ' w rainbow method
    r=i+j*2+z*7&amp;$ff ' red ' &amp;$ff ensures value is 0-255
    g=i*2+j+z*5&amp;$ff 'green
    b=i*2+j*2+z*3&amp;$ff ' blue
    If i&gt;50 And i&lt;300 And j&gt;50 And j&lt;500 ' darken this area
      r=bound(r-96,0,255) ; g=bound(g-96,0,255) ; b=bound(b-96,0,255)
    EndIf ' ^ sample shadowed frame
    pst j,i,r,g,b ' simple routine to plot pixels in Casaber's array
    ' ^ note ALPHA implied at 255 If not entered
  Next
Next
drawbox 52,52,446,246 ' simple white box

z:+1 ' used to see animation

update ' update everything (convenient function)

Until KeyDown(27) ' {* END MAIN *}
' cpu usage, 10% when not DEBUG compile

' // UPDATE FULL DISPLAY
Function update()
Local a=Abs(MilliSecs())
  If milli=0 Then milli=a
  If plottype=0

    glDrawPixels(maxx,maxy,GL_RGBA,GL_UNSIGNED_BYTE,scrnptr)
  Else ' ^ ///CASABER's PLOTTER ///

    DrawPixmap pscrn,0,0
  EndIf
  If a-milli&gt;20 ' staggering cpu, let us know !
    SetScale 2,2
    SetColor 0,0,0
    DrawText "Pushing it pretty hard !",222,296
    SetColor 255,255,255
    DrawText "Pushing it pretty hard !",220,294
    SetScale 1,1
    DrawRect 0,0,0,0 ' necessary because any calls to drawtext() lock up gl without this I found
  EndIf
  glflush ' update display
  If a-milli&gt;20 Then Cls ' keep workspace clean
  Delay 15+milli-a ' neat timer to keep things smooth
  milli=a
EndFunction

Function drawbox(h,v,x,y)
  For Local i=0 Until Max(x,y)
    If i&lt;x
      pst h+i,v,255,255,255
      pst h+i,v+y-1,255,255,255
    EndIf
    If i&lt;y
      pst h,v+i,255,255,255
      pst h+x-1,v+i,255,255,255
    EndIf
  Next
EndFunction

' // PLOT A SINGLE PIXEL
Function pst(x,y,r,g,b,a=255)
Local p=x*3+y*maxx*3
' ^ note, ALPHA is implied at 255 if not entered
  If plottype=0
    scrn[x+(maxy-y-1)*maxx]=r|g Shl 8|b Shl 16|a Shl 24
  ' ^ note Y is reversed !
  Else
    pscrn.pixels[p]=r
    pscrn.pixels[p+1]=g
    pscrn.pixels[p+2]=b
  EndIf
EndFunction

' // RETURN COLOR OF A SINGLE PIXEL (not used in this program)
Function pnt(x,y,r Var,g Var,b Var,a Var)
  Local c=scrn[x+(maxy-y-1)*maxx]
' ^ note Y is reversed !
  r=c&amp;$ff ; g=c Shr 8&amp;$ff ; b=c Shr 16&amp;$ff ; a=c Shr 24&amp;$ff
EndFunction

' &gt;&gt; RETURN NUMBER WITHIN BOUNDS
Function bound(a,b,c)
	If a&lt;b Then a=b
	If a&gt;c Then a=c
	Return a
EndFunction
</textarea><br><br>Now, I was reading this night some people were saying drawing QUAD is even faster than glDrawPixels(). Might be worth investigating as I don't know really know what that is.<br><br>Nonetheless, get a good rest, you've earned it. Definitely the fastest pixel and bang for the buck. :) <br><br></td></tr></table><br>
<a name="1290858"></a>

<a name="1290863"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#73">[#73]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm just about to get to sleep here, it has been such a long night, full of extra strong coffee and learning, not so much any practical code yet. I'm trying to grasp this <br><a href="http://graphics.snu.ac.kr/class/graphics2011/materials/ch12_pbo&amp;fbo.pdf" target="_blank">http://graphics.snu.ac.kr/class/graphics2011/materials/ch12_pbo&amp;fbo.pdf</a> ) to be able write quickly into a texture which would actually solve your problem and give alpha and rotation.<br><br>Im not sure about Quad, I remember I started in that end and I dont think that's the best solution but I could be wrong.<br>About the current glDrawPixels my thoughts are that despite its actually an old way doing things, it has never been as good as now simply bc of developments in hardware that has happened.<br>When it was brand new computers lacked the cpu speed the memory speed, the bus speed, and it wouldntt even have made a difference if you went out and got the best Graphiccard in the world, <br>you still had the same busspeed. I think that started the rumour about it. This is not true anymore.<br><br>Unfortuently they're forcing the it away (https://www.opengl.org/wiki/Common_Mistakes) but API-developers usually do their part of the deal of both keeping and optimizing general things for awhile and only improve if anything.<br>Glwritepixels is having its hayday.<br><br>But there must be a change to get those features mentioned above; including rotation, scale and alpha.<br>It looks like its time to dive into OpenGL. I dont have much time and this is not something you do within a week. I never stop to amaze myself how I keep hoping to solve every problem in the world overnight, but not this one. <br><br></td></tr></table><br>
<a name="1290912"></a>

<a name="1290913"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#74">[#74]</a></td></tr></table></td></tr><tr ><td class="posttext"> Starting some coffee here, Casaber. Despite how fast your pixels go I am going to experiment with double-size using loadimage(). Essentially it'll be your code running on a 512x384 screen but with double-pixels that's 1024x768, and that's fine.<br><br>Because of the lesser # of pixels needed to plot, I should be able to make some interesting libraries and routines done solely at the touch of a single pixel.<br><br>If the rotation, scale, and alpha are to be met by your code, I suspect strongly you will not be using the common commands but the GL equivalent - and they may be out there. I'm not seeing an easy way of bring up GL commands in BlitzMAX.<br><br>In fact, if you click on HELP in BlitzMax on OpenGL you don't get very much.<br><br><img src="http://www.writerscafe.org/uploads/rte/1e7cbf7179c31ae4dc5dca270a24b377.png"><br><br><img src="https://s-media-cache-ak0.pinimg.com/236x/4b/04/63/4b04634ca586398e62d52ecbf6df4d63.jpg"><br><br>Good hunting sir ! <br><br></td></tr></table><br>
<a name="1290914"></a>

<a name="1290915"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#75">[#75]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ya I do that too alot, that's why you see STEP all over the place, I skip or double them in the rendering routine. Becuase 1920x1080 is waaaay too much for most things. Its just a waste really. <br><br>Not even for realistic 3d games that kind of resolutions are needed (quality is about other things), same goes even more for retro stuff (even if you want smooth glowing ontop). <br><br><br>Several million dots to tell a good story - Its just not needed.<br><br><br>For anyone interested here's a few good links<br><a href="http://www.slideshare.net/CassEveritt/approaching-zero-driver-overhead" target="_blank">http://www.slideshare.net/CassEveritt/approaching-zero-driver-overhead</a><br><a href="http://www.openglsuperbible.com/2013/10/16/the-road-to-one-million-draws/" target="_blank">http://www.openglsuperbible.com/2013/10/16/the-road-to-one-million-draws/</a> <br><br></td></tr></table><br>
<a name="1290925"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#76">[#76]</a></td></tr></table></td></tr><tr ><td class="posttext"> Don't rebuild the PS3, Casaber !<br><br>*Grin* Yeah, I learned long ago while I may eventually be able to handle and understand writing 3D games, in truth, I would always want to do topview map &amp; sprite graphics like I grew up with on the Nintendo and Super Nintendo.<br><br>BlitzMAX's primary function was not 3D, that's why there is a language called Blitz3D, however - I would like it if you stayed with BlitzMAX as I am definitely learning from you.<br><br>And I see your work invaluable for anyone who wants to write their own from-scratch pixel libraries with your very fast renders. <br><br></td></tr></table><br>
<a name="1290929"></a>

<a name="1290930"></a>

<a name="1290934"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#77">[#77]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hah no worries, no PS3 and no 3D neither Im all 2D at the moment, I think we share alot there. Nintendo, NeoGEO, older Arcades, and ya all that good stuff, I think even if I hadnt experienced those things as a kid it still has something special that speaks to people. I love those kind of things.<br><br>The first thing I would use any pixelshader for would be create the best CRT style looking graphic ever and make that into a small project on its own;) <br><br></td></tr></table><br>
<a name="1290935"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#78">[#78]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've heard of pixelshaders. In your own words, can you tell me what they are and how they might be useful in a fast-pixel quest ?<br><br>I'm still looking at that robot demo that BlitzMAX posted out of the blue and wondered if there was a way to create a 3D cube with the same or 6-different pixmap or images on the facets. I could do something with that. <br><br></td></tr></table><br>
<a name="1290959"></a>

<a name="1290960"></a>

<a name="1290961"></a>

<a name="1290963"></a>

<a name="1290964"></a>

<a name="1290965"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#79">[#79]</a></td></tr></table></td></tr><tr ><td class="posttext"> The nice thing is that GPU's are designed to be extremely parallal and powerful, even with low Mhz/Ghz.<br><br>Graphics cards are becoming very general machines, Its sort of a factory setup (called the "pipeline"). They used to have alot of steps, and very specific tasks at each step.<br><br>I see nowadays graphics cards have simplified these steps, they are fewer and have become very general what they are able to do. <br>So general that chances are that the "G"in GPU soon will stand for General Processor my guess is. <br><br>Here'  where shaders comes in, it's  the most general part on the GPU's and they come in two flavors; Vertexes and Pixels. <br>Shaders allow you to simply upload some code into the GPU and run that it to do some manipulation on your Vertexes or Pixels. <br>So shaders becomes *the way* to use all the raw power of a GPU and have at your fingertips and do whatever you like.<br><br>You use GLSL, which is a standard and part of Open GL, its a weird mix of the language C (look-alike) together with shader instructions <br>(which I guess you could call shader assembler) Im not sure what to call it. Personally I just use the term Shader instructions. <br><br>So you use GLSL and write your small snippets of code and upload to the GPU at runtime and decide what it should affect.<br>It could be recoloring a sprite for example in realtime. It could do stuff like render the fullscreen in wavelike motion or create a CRT look, or even render an photo realistic ocean live (this needs high end still but it's moving, but rarely 60hz for these kind of things, there's a limit even with GPU's) .<br><br>That's the basics anyway. The only caveat is that you have to think very differently you're programming these shaders, because its parallal <br>meaning you have to access pixels in a kind of a different way than you usually do. <br><br>But I guess, that's part of the fun. Its a new challenge to do parallal coding. <br><br></td></tr></table><br>
<a name="1290968"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#80">[#80]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, thought I'd have a go at my own version.  Doesn't glow or use alpha at all, shouldn't be too hard to modify code to add it.  I do like the way I have the colors cycling through the life of the line.  I think in fullscreen, it could make a decent screensaver. :-)<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">'Lines
'By TomToad
'inspired by Lights Fantastic by dw817
'
'
'
SuperStrict
Framework BRL.GLMax2D
Import BRL.Random
Import BRL.System
Import BRL.Timer
Import BRL.PolledInput


SetGraphicsDriver GLMax2DDriver()


'Here we define some constants.  By changing these numbers, we can make the program behave differently

Const Phase1:Int = 500 'number of milliseconds our line will be full color
Const Phase2:Int = Phase1 + 8000 'number of milliseconds our line will fade to secondary color
Const Phase3:Int = Phase2 + 500 'Number of milliseconds for our line to disappear
Const Transition:Int = 4000 'number of milliseconds to transist from source color to destination color
Const MinVect:Float = -20.0 'Maximum speed the point will travel on the negative x/y axis
Const MaxVect:Float = 20.0 'Maximum speed the point will travel on the positive x/y axis
Const ClearLines:Int = True ' a flag to clear the list of lines or not when a new vector is created
Const ClsRed:Int = 0, ClsGreen:Int = 0, ClsBlue:Int = 0 'the color to clear the screen

Global ScreenWidth:Int = 800'DesktopWidth()   'Set to whatever resolution your monitor will support or use DesktopWidth() and DesktopHeight()
Global ScreenHeight:Int = 600'DesktopHeight() '   for maximum resolution
Global ScreenDepth:Int = 0 'Change to 0 for windowed mode or 32 for fullscreen

Type TPointVector 'defines our endpoints and speed vector
	Field x:Float, y:Float
	
	Method Update(Vector:TPointVector) 'Adds 2 vectors, and does a perfect reflection on boundaries
		x :+ Vector.x
		y :+ Vector.y
		If x &gt;= ScreenWidth
			x = ScreenWidth - (x - ScreenWidth)
			Vector.x = -vector.x
		End If
		If x &lt; 0
			x = Abs(x)
			Vector.x = -Vector.x
		End If
		If y &gt;= ScreenHeight
			y = Screenheight - (y - Screenheight)
			Vector.y = -Vector.y
		End If
		If y &lt; 0
			y = Abs(y)
			Vector.y = -Vector.y
		End If
	End Method
End Type

Type TLine 'our line type
	Const State_Phase1:Int = 0 'In Phase 1, Our line will remain the original color
	Const State_Phase2:Int = 1 'In Phase 2, Our line will fade from the original color to the secondary color
	Const State_Phase3:Int = 2 'In Phase 3, Our line will grandually disappear
	
	
	Global LineList:TList = CreateList() 'list of lines
	Global LineImage:TImage 'this image will be stretched to make the lines.  Not only will it make rendering a bit faster, with small
							' changes in code, you can make these image lines do things that are more difficult with a traditional
							' DrawLine()
	Global Symmetry:Int = True 'Flag to determine if lines are drawn symmetrically.
	
	' We are defining the line with a start point, length, amd angle.  A bit unusual way to describe a line, but works
	'  well with our TImage line hack
	Field x1:Float,y1:Float 'start point of the line
	Field Length:Float 'length of the line
	Field Angle:Float 'angle of the line
	
	Field Red:Int, Green:Int, Blue:Int 'color of the line
	Field FRed:Int, FGreen:Int, FBlue:Int 'Fade color
	
	Field LifeStart:Int 'Time in which this line was created
	Field TimePassed:Int = 0 'Time that has passed since the line was created
	Field State:Int = State_Phase1'The state of the line
	
	Function Create(x1:Float,y1:Float,x2:Float,y2:Float,Red:Int, Green:Int, Blue:Int) 'create a new line
		Local Line:TLine = New TLine
		Line.x1 = x1
		Line.y1 = y1
		Line.Angle = ATan2(y2-y1,x2-x1)
		Line.Length = Sqr((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1))
		Line.Red = Red
		Line.Green = Green
		Line.Blue = Blue
		Line.FRed = 255 - Red 'We are using inverse of the color to determine the secondary color
		Line.Fgreen = 255 - green
		Line.FBlue =  255 - Blue
		Line.LifeStart = MilliSecs()
		LineList.AddLast(Line)
	End Function
		
	Function Draw(LineWidth:Float = 1.0) 'Draw all lines in the list
		For Local Line:TLine = EachIn LineList
			Line.DrawL(LineWidth)
		Next
	End Function
	
	Method DrawL(LineWidth:Float) 'draw a single line
		Select State
			Case State_Phase1
				SetColor red,green,blue 'full Color
			Case State_Phase2
				Local Percent:Float = Float(TimePassed-Phase1)/Float(Phase2-Phase1) 'interpolate between color and Fade color
				SetColor Float(FRed-red)*Percent+red, Float(FGreen-Green)*Percent+green, Float(FBlue-Blue)*Percent+Blue
			Case State_Phase3
				Local Percent:Float = Float(TimePassed-Phase2)/Float(Phase3-Phase2) 'interpolate betwen fade color and black
				SetColor Float(ClsRed-FRed)*Percent+FRed, Float(ClsGreen-FGreen)*Percent+FGreen, Float(ClsBlue-FBlue)*Percent+FBlue
		End Select
		
		SetTransform(Angle,Length,LineWidth)
		DrawImage LineImage,x1,y1
		If Symmetry 'Draw the line on opposite side of screen
			SetRotation -(Angle+90)-90
			DrawImage LineImage,ScreenWidth-x1,y1
		End If
	End Method
	
	Function Update() 'Update the lines
		Local Time:Int = MilliSecs() 'Get the current time
		
		For Local Line:TLine = EachIn LineList
			Line.TimePassed = Time - Line.LifeStart
			Select Line.State 'If the proper amount of time has passed, switch to the next phase
				Case State_Phase1
					If Line.TimePassed &gt;= Phase1 Then Line.State = State_Phase2
				Case State_Phase2
					If Line.TimePassed &gt;= Phase2 Then Line.State = State_Phase3
				Case State_Phase3
					If Line.TimePassed &gt;= Phase3 Then LineList.Remove(Line) 'there is no phase 4, remove the line
			End Select
		Next
	End Function		
	
		
End Type



SeedRnd(MilliSecs()) 'seed the randomizer

'this is the initial color we are rendering in
Local SourceRed:Float = Rnd(0,255)
Local SourceGreen:Float = Rnd(0,255)
Local SourceBlue:Float = Rnd(0,255)

'this is the color we will switch to after "Transition" milliseconds have passed.  Rendering will actually interpolate between the two values
Local DestRed:Float = Rnd(0,255)
Local DestGreen:Float = Rnd(0,255)
Local DestBlue:Float = Rnd(0,255)
Local TransitionTime:Int = MilliSecs()+Transition

'Set the graphics mode, hide the mouse, and set the Cls color
Graphics ScreenWidth,ScreenHeight,ScreenDepth
HideMouse
SetClsColor ClsRed,ClsGreen,ClsBlue

'Here we will create a 1 pixel long, 1 pixel wide line
TLine.LineImage = CreateImage(1,1)
DrawRect 0,0,2,2
GrabImage TLine.LineImage,0,0

'These next lines define the endpoints of the current line, as well as the speed and direction of movement for the lines
Local Point1:TPointVector = New TPointVector '1st endpoint
Point1.x = Rnd(1,ScreenWidth - 2)
Point1.y = Rnd(1,ScreenHeight - 2)
Local Point2:TPointVector = New TPointVector '2nd endpoint
Point2.x = Rnd(1,ScreenWidth - 2)
Point2.y = Rnd(1,ScreenHeight - 2)
Local Vector1:TPointVector = New TPointVector 'direction first line is moving
Vector1.x = Rnd(MinVect,MaxVect)
Vector1.y = Rnd(MinVect,MaxVect)
Local Vector2:TPointVector = New TPointVector 'direction second line is moving
Vector2.x = Rnd(MinVect,MaxVect)
Vector2.y = Rnd(MinVect,MaxVect)

Local LineWidth:Float = 2.0

'We will use a fixed rate timestep to move the lines.  We are setting it to 30 logical frames per second.  The actual graphics will be 
'  rendered at its own rate. This will insure that the logic will continue To run the same speed regardless of refresh rate.
'
'We will be using Delta timing to control color transitions, as delta will make the calculations easier.  Yes, I am using two different
'  timing methods in my program. :-)
Local Timer:TTimer = CreateTimer(30)
Local OldTicks:Int = 0
Local Delta:Float

Local Help:Int = True 'Flag for toggling help screen

While Not KeyHit(key_escape) And Not AppTerminate()	'We will run until the escape key is pressed or the window is closed.
	Local TotalTicks:Int = Timer.Ticks() 'Count the number of Ticks that have passed since the timer was created
	Local Ticks:Int = TotalTicks - OldTicks 'Don't want TTimer.Wait() as it will block and TTimer.Ticks() does not clear the count
	OldTicks = TotalTicks					'  So I created this hack. :-)
	
	Delta = 1.0 - Float(TransitionTime - MilliSecs())/Float(Transition) 'Calculate the percentage of time that has passed between transitions
	If Delta &gt; 1.0 'If transition is completed, choose new color to change through
		SourceRed = DestRed
		Sourcegreen = DestGreen
		SourceBlue = DestBlue
		Delta :- 1.0
		DestRed = Rnd(0,255)
		destgreen = Rnd(0,25)
		destblue = Rnd(0,255)
		TransitionTime :+ Transition
	End If
	
	'Now here we will interpolate between the original color and the new color to give a smooth transition
	Local Red:Int = (DestRed - SourceRed)*Delta + SourceRed
	Local Green:Int = (DestGreen - SourceGreen)*Delta + SourceGreen
	Local Blue:Int = (DestBlue - SourceBlue)*Delta + SourceBlue
	
	For Local i:Int = 1 To Ticks 'We will update our line points according to how many logical frames have passed.  Should be either 0 or 1, but
								  '  Could be higher if Windows hangs the prgram a bit, or if the program is running on a very old computer.
		Point1.Update(Vector1)
		Point2.Update(Vector2)
		TLine.Create(Point1.x,Point1.y,Point2.x,Point2.y,Red,Green,Blue)
	Next
	If KeyHit(KEY_SPACE) 'Pick new line parameters
		Point1.x = Rnd(1,ScreenWidth - 2)
		Point1.y = Rnd(1,ScreenHeight - 2)
		Point2.x = Rnd(1,ScreenWidth - 2)
		Point2.y = Rnd(1,ScreenHeight - 2)

		Vector1.x = Rnd(MinVect,MaxVect)
		Vector1.y = Rnd(MinVect,MaxVect)
		Vector2.x = Rnd(MinVect,MaxVect)
		Vector2.y = Rnd(MinVect,MaxVect)
		If ClearLines Then TLine.LineList.Clear()
	End If
	If KeyHit(KEY_S) 'Toggle Symmetry flag
		TLine.Symmetry = Not TLine.Symmetry
	End If
	If KeyHit(KEY_1) 'Skinny Line
		LineWidth = 1.0
	End If
	If KeyHit(KEY_2) 'Normal line
		LineWidth = 2.0
	End If
	If KeyHit(KEY_3) 'Thick Line
		LineWidth = 3.0
	End If
	If KeyHit(KEY_F1)
		Help = Not Help
	End If
	
	'Now for the fun part
	Cls 'Clear the screen
	TLine.Update() 'Update the color of the lines
	TLine.Draw(LineWidth) 'Draw the lines
	If help
		SetColor 0,0,0
		SetScale 1,1
		SetRotation 0
		DrawRect 0,Screenheight - 30,ScreenWidth,30
		SetColor 255,255,255
		DrawText "S - Toggles Symmetry : 1, 2, 3 - Adjust line width : F1 - Toggle Help : SPACE - Clear Screen",10,ScreenHeight-25
	End If
	Flip 'Flip the screen
Wend				
</textarea> <br><br></td></tr></table><br>
<a name="1290986"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#81">[#81]</a></td></tr></table></td></tr><tr ><td class="posttext"> A little playing around and I came up with something really cool :-)<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">'Lines - Tiger addition
'By TomToad
'inspired by Lights Fantastic by dw817
'
'
'
SuperStrict
Framework BRL.GLMax2D
Import BRL.Random
Import BRL.System
Import BRL.Timer
Import BRL.PolledInput


SetGraphicsDriver GLMax2DDriver()


'Here we define some constants.  By changing these numbers, we can make the program behave differently

Const Phase1:Int = 500 'number of milliseconds our line will be full color
Const Phase2:Int = Phase1 + 8000 'number of milliseconds our line will fade to secondary color
Const Phase3:Int = Phase2 + 500 'Number of milliseconds for our line to disappear
Const Transition:Int = 4000 'number of milliseconds to transist from source color to destination color
Const MinVect:Float = -20.0 'Maximum speed the point will travel on the negative x/y axis
Const MaxVect:Float = 20.0 'Maximum speed the point will travel on the positive x/y axis
Const ClearLines:Int = True ' a flag to clear the list of lines or not when a new vector is created
Const ClsRed:Int = 0, ClsGreen:Int = 0, ClsBlue:Int = 0 'the color to clear the screen

Global ScreenWidth:Int = 800'DesktopWidth()   'Set to whatever resolution your monitor will support or use DesktopWidth() and DesktopHeight()
Global ScreenHeight:Int = 600'DesktopHeight() '   for maximum resolution
Global ScreenDepth:Int = 0 'Change to 0 for windowed mode or 32 for fullscreen

Type TPointVector 'defines our endpoints and speed vector
	Field x:Float, y:Float
	
	Method Update(Vector:TPointVector) 'Adds 2 vectors, and does a perfect reflection on boundaries
		x :+ Vector.x
		y :+ Vector.y
		If x &gt;= ScreenWidth
			x = ScreenWidth - (x - ScreenWidth)
			Vector.x = -vector.x
		End If
		If x &lt; 0
			x = Abs(x)
			Vector.x = -Vector.x
		End If
		If y &gt;= ScreenHeight
			y = Screenheight - (y - Screenheight)
			Vector.y = -Vector.y
		End If
		If y &lt; 0
			y = Abs(y)
			Vector.y = -Vector.y
		End If
	End Method
End Type

Type TLine 'our line type
	Const State_Phase1:Int = 0 'In Phase 1, Our line will remain the original color
	Const State_Phase2:Int = 1 'In Phase 2, Our line will fade from the original color to the secondary color
	Const State_Phase3:Int = 2 'In Phase 3, Our line will grandually disappear
	
	
	Global LineList:TList = CreateList() 'list of lines
	Global LineImage:TImage 'this image will be stretched to make the lines.  Not only will it make rendering a bit faster, with small
							' changes in code, you can make these image lines do things that are more difficult with a traditional
							' DrawLine()
	Global Symmetry:Int = True 'Flag to determine if lines are drawn symmetrically.
	
	' We are defining the line with a start point, length, amd angle.  A bit unusual way to describe a line, but works
	'  well with our TImage line hack
	Field x1:Float,y1:Float 'start point of the line
	Field Length:Float 'length of the line
	Field Angle:Float 'angle of the line
	
	Field Red:Int, Green:Int, Blue:Int 'color of the line
	Field FRed:Int, FGreen:Int, FBlue:Int 'Fade color
	
	Field LifeStart:Int 'Time in which this line was created
	Field TimePassed:Int = 0 'Time that has passed since the line was created
	Field State:Int = State_Phase1'The state of the line
	
	Function Create(x1:Float,y1:Float,x2:Float,y2:Float,Red:Int, Green:Int, Blue:Int) 'create a new line
		Local Line:TLine = New TLine
		Line.x1 = x1
		Line.y1 = y1
		Line.Angle = ATan2(y2-y1,x2-x1)
		Line.Length = Sqr((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1))
		Line.Red = Red
		Line.Green = Green
		Line.Blue = Blue
		Line.FRed = 255 - Red 'We are using inverse of the color to determine the secondary color
		Line.Fgreen = 255 - green
		Line.FBlue =  255 - Blue
		Line.LifeStart = MilliSecs()
		LineList.AddLast(Line)
	End Function
		
	Function Draw(LineWidth:Float = 1.0) 'Draw all lines in the list
		For Local Line:TLine = EachIn LineList
			Line.DrawL(LineWidth)
		Next
	End Function
	
	Method DrawL(LineWidth:Float) 'draw a single line
		Select State
			Case State_Phase1
				SetColor red,green,blue 'full Color
			Case State_Phase2
				Local Percent:Float = Float(TimePassed-Phase1)/Float(Phase2-Phase1) 'interpolate between color and Fade color
				SetColor Float(FRed-red)*Percent+red, Float(FGreen-Green)*Percent+green, Float(FBlue-Blue)*Percent+Blue
			Case State_Phase3
				Local Percent:Float = Float(TimePassed-Phase2)/Float(Phase3-Phase2) 'interpolate betwen fade color and black
				SetColor Float(ClsRed-FRed)*Percent+FRed, Float(ClsGreen-FGreen)*Percent+FGreen, Float(ClsBlue-FBlue)*Percent+FBlue
		End Select
		
		SetRotation Angle
		DrawImageRect LineImage,x1,y1,Length,LineWidth
		If Symmetry 'Draw the line on opposite side of screen
			SetRotation -(Angle+90)-90
			DrawImageRect LineImage,ScreenWidth-x1,y1,Length,LineWidth
		End If
	End Method
	
	Function Update() 'Update the lines
		Local Time:Int = MilliSecs() 'Get the current time
		
		For Local Line:TLine = EachIn LineList
			Line.TimePassed = Time - Line.LifeStart
			Select Line.State 'If the proper amount of time has passed, switch to the next phase
				Case State_Phase1
					If Line.TimePassed &gt;= Phase1 Then Line.State = State_Phase2
				Case State_Phase2
					If Line.TimePassed &gt;= Phase2 Then Line.State = State_Phase3
				Case State_Phase3
					If Line.TimePassed &gt;= Phase3 Then LineList.Remove(Line) 'there is no phase 4, remove the line
			End Select
		Next
	End Function		
	
		
End Type



SeedRnd(MilliSecs()) 'seed the randomizer

'this is the initial color we are rendering in
Local SourceRed:Float = Rnd(0,255)
Local SourceGreen:Float = Rnd(0,255)
Local SourceBlue:Float = Rnd(0,255)

'this is the color we will switch to after "Transition" milliseconds have passed.  Rendering will actually interpolate between the two values
Local DestRed:Float = Rnd(0,255)
Local DestGreen:Float = Rnd(0,255)
Local DestBlue:Float = Rnd(0,255)
Local TransitionTime:Int = MilliSecs()+Transition

'Set the graphics mode, hide the mouse, and set the Cls color
Graphics ScreenWidth,ScreenHeight,ScreenDepth
HideMouse
SetClsColor ClsRed,ClsGreen,ClsBlue

'Here we will create a 1 pixel long, 1 pixel wide line
TLine.LineImage = CreateImage(ScreenWidth,3)
For Local i:Int = 0 To ScreenWidth
	SetColor Sin(i)*128+128,Sin(i)*128+128,Sin(i)*128+128
	Plot i,0
	Plot i,1
	Plot i,2
Next
GrabImage TLine.LineImage,0,0

'These next lines define the endpoints of the current line, as well as the speed and direction of movement for the lines
Local Point1:TPointVector = New TPointVector '1st endpoint
Point1.x = Rnd(1,ScreenWidth - 2)
Point1.y = Rnd(1,ScreenHeight - 2)
Local Point2:TPointVector = New TPointVector '2nd endpoint
Point2.x = Rnd(1,ScreenWidth - 2)
Point2.y = Rnd(1,ScreenHeight - 2)
Local Vector1:TPointVector = New TPointVector 'direction first line is moving
Vector1.x = Rnd(MinVect,MaxVect)
Vector1.y = Rnd(MinVect,MaxVect)
Local Vector2:TPointVector = New TPointVector 'direction second line is moving
Vector2.x = Rnd(MinVect,MaxVect)
Vector2.y = Rnd(MinVect,MaxVect)

Local LineWidth:Float = 2.0

'We will use a fixed rate timestep to move the lines.  We are setting it to 30 logical frames per second.  The actual graphics will be 
'  rendered at its own rate. This will insure that the logic will continue To run the same speed regardless of refresh rate.
'
'We will be using Delta timing to control color transitions, as delta will make the calculations easier.  Yes, I am using two different
'  timing methods in my program. :-)
Local Timer:TTimer = CreateTimer(30)
Local OldTicks:Int = 0
Local Delta:Float

Local Help:Int = True 'Flag for toggling help screen

While Not KeyHit(key_escape) And Not AppTerminate()	'We will run until the escape key is pressed or the window is closed.
	Local TotalTicks:Int = Timer.Ticks() 'Count the number of Ticks that have passed since the timer was created
	Local Ticks:Int = TotalTicks - OldTicks 'Don't want TTimer.Wait() as it will block and TTimer.Ticks() does not clear the count
	OldTicks = TotalTicks					'  So I created this hack. :-)
	
	Delta = 1.0 - Float(TransitionTime - MilliSecs())/Float(Transition) 'Calculate the percentage of time that has passed between transitions
	If Delta &gt; 1.0 'If transition is completed, choose new color to change through
		SourceRed = DestRed
		Sourcegreen = DestGreen
		SourceBlue = DestBlue
		Delta :- 1.0
		DestRed = Rnd(0,255)
		destgreen = Rnd(0,25)
		destblue = Rnd(0,255)
		TransitionTime :+ Transition
	End If
	
	'Now here we will interpolate between the original color and the new color to give a smooth transition
	Local Red:Int = (DestRed - SourceRed)*Delta + SourceRed
	Local Green:Int = (DestGreen - SourceGreen)*Delta + SourceGreen
	Local Blue:Int = (DestBlue - SourceBlue)*Delta + SourceBlue
	
	For Local i:Int = 1 To Ticks 'We will update our line points according to how many logical frames have passed.  Should be either 0 or 1, but
								  '  Could be higher if Windows hangs the prgram a bit, or if the program is running on a very old computer.
		Point1.Update(Vector1)
		Point2.Update(Vector2)
		TLine.Create(Point1.x,Point1.y,Point2.x,Point2.y,Red,Green,Blue)
	Next
	If KeyHit(KEY_SPACE) 'Pick new line parameters
		Point1.x = Rnd(1,ScreenWidth - 2)
		Point1.y = Rnd(1,ScreenHeight - 2)
		Point2.x = Rnd(1,ScreenWidth - 2)
		Point2.y = Rnd(1,ScreenHeight - 2)

		Vector1.x = Rnd(MinVect,MaxVect)
		Vector1.y = Rnd(MinVect,MaxVect)
		Vector2.x = Rnd(MinVect,MaxVect)
		Vector2.y = Rnd(MinVect,MaxVect)
		If ClearLines Then TLine.LineList.Clear()
	End If
	If KeyHit(KEY_S) 'Toggle Symmetry flag
		TLine.Symmetry = Not TLine.Symmetry
	End If
	If KeyHit(KEY_1) 'Skinny Line
		LineWidth = 1.0
	End If
	If KeyHit(KEY_2) 'Normal line
		LineWidth = 2.0
	End If
	If KeyHit(KEY_3) 'Thick Line
		LineWidth = 3.0
	End If
	If KeyHit(KEY_F1)
		Help = Not Help
	End If
	
	'Now for the fun part
	Cls 'Clear the screen
	TLine.Update() 'Update the color of the lines
	TLine.Draw(LineWidth) 'Draw the lines
	If help
		SetColor 0,0,0
		SetScale 1,1
		SetRotation 0
		DrawRect 0,Screenheight - 30,ScreenWidth,30
		SetColor 255,255,255
		DrawText "S - Toggles Symmetry : 1, 2, 3 - Adjust line width : F1 - Toggle Help : SPACE - Clear Screen",10,ScreenHeight-25
	End If
	Flip 'Flip the screen
Wend				
			
		

</textarea> <br><br></td></tr></table><br>
<a name="1290995"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#82">[#82]</a></td></tr></table></td></tr><tr ><td class="posttext"> Tiger Stripes indeed, really very impressive, Tom !<br><br>I see you are using a rotating 'plank' to draw with. I did that in my earlier, "Kaleidoscope." When I was working on an earlier version of S3, I did that. But the "Lights Fantastic" was a different method, and I liked it better. So I made it part of my current engine. Just hit CTRL-K anywhere at all and it pops up over the map editor or item editor or wherever you are.<br><br><br>This is the original Kaleidoscope, hearkens back from Commodore Amiga, 320x200 pixels with 8-bits per pixel.<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=105560" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=105560</a><br><br>Colors were made in a PALETTE. Because you could change the palette at any time, you could have interesting animation effects without plotting any new pixels.<br><br>I've got some QBasic DOS stuff that does that. You can try it in DOS BOX if you like.<br><br><br><br>It probably got lost in the shuffle. :)<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">' David's Animated Bubbles !
DECLARE SUB Center (A%, A$)
DECLARE SUB TR (T$)
DEFINT A-Z
DECLARE SUB RGB (N, R, G, B)
DEFINT A-Z
SCREEN 13
DEF FNR (A) = INT(RND * A)
RANDOMIZE TIMER

DEF FNC$ (A$, A) = MID$(A$, A, 1)

A$(0) = "freeware bubbles v0.2 written in quickbasic 4.5"
A$(1) = "you like ?  please send a postcard to let me know !"
A$(2) = "(address removed)"

FOR I = 0 TO 2
  FOR J = 1 TO LEN(A$(I))
    A = A + ASC(FNC$(A$(I), J))
  NEXT
NEXT
WHILE A &lt;&gt; 14735: WEND

FOR I = 0 TO 199
  C = FNR(16)
  FOR J = 0 TO 319
    PSET (J, I), C + 32
    C = C - 1 + FNR(3)
    IF C &lt; 0 THEN C = 0
    IF C &gt; 15 THEN C = 15
  NEXT
NEXT

FOR I = 0 TO 319 STEP 22
  S = 7
  C = FNR(64)
  Z = (I MOD 44) \ 22
  FOR J = 199 TO 0 STEP -7 * (Z + 1)
    X = SIN(A / 2) * 20
    CIRCLE (I + 8 + X, J), S, 64 + C
    C = C - 1
    IF C &lt; 0 THEN C = 63
    A = A + (Z + 1)
  NEXT
  A = 0
NEXT

FOR I = 0 TO 319
  C = FNR(16)
  Z = FNR(5)
  FOR J = 199 TO 199 - FNR(50) STEP -1
    X = I + SIN((J + 2 + Z) / 2) * 2
    LINE (X, J)-(X - 2 + FNR(5), J - 2 + FNR(5)), C + 16
    C = C + 1
    IF C &gt; 15 THEN C = 0
  NEXT
  C = FNR(16)
  Z = FNR(5)
  FOR J = 0 TO FNR(50)
    X = I + SIN((J + 2 + Z) / 2) * 2
    LINE (X, J)-(X - 2 + FNR(5), J - 2 + FNR(5)), 63 - C
    C = C + 1
    IF C &gt; 15 THEN C = 0
  NEXT
NEXT

FOR I = 0 TO 7
  RGB 16 + I, 0, I * 8, 0
  RGB 31 - I, 0, I * 8, 0
  RGB 32 + I, 0, 32 + I, 47 + I
  RGB 47 - I, 0, 32 + I, 47 + I
  RGB 48 + I, I * 8, 0, I * 8
  RGB 63 - I, I * 8, 0, I * 8
NEXT
FOR I = 0 TO 63
  RGB 64 + I, 0, 32 + 4, 47 + 4
NEXT
RGB 64, 63, 63, 63
Again:
  FOR I = 0 TO 15
    OUT &amp;H3C7, 16 + I
    OUT &amp;H3C8, 0
    R = INP(&amp;H3C9)
    G = INP(&amp;H3C9)
    B = INP(&amp;H3C9)
    IF I &gt; 0 THEN
      RGB 16 + I - 1, R, G, B
    ELSE
      RGB 31, R, G, B
    END IF
    OUT &amp;H3C7, 32 + I
    OUT &amp;H3C8, 0
    R = INP(&amp;H3C9)
    G = INP(&amp;H3C9)
    B = INP(&amp;H3C9)
    IF I &gt; 0 THEN
      RGB 32 + I - 1, R, G, B
    ELSE
      RGB 47, R, G, B
    END IF
    OUT &amp;H3C7, 48 + I
    OUT &amp;H3C8, 0
    R = INP(&amp;H3C9)
    G = INP(&amp;H3C9)
    B = INP(&amp;H3C9)
    IF I &gt; 0 THEN
      RGB 48 + I - 1, R, G, B
    ELSE
      RGB 63, R, G, B
    END IF
  NEXT
  FOR I = 0 TO 63
    OUT &amp;H3C7, 64 + I
    OUT &amp;H3C8, 0
    R = INP(&amp;H3C9)
    G = INP(&amp;H3C9)
    B = INP(&amp;H3C9)
    IF I &gt; 0 THEN
      RGB 64 + I - 1, R, G, B
    ELSE
      RGB 127, R, G, B
    END IF
  NEXT
  TT! = TIMER: WHILE TIMER - TT! &lt; .1 AND TIMER &gt;= TT!: WEND
  IF INKEY$ = "" THEN GOTO Again
SCREEN 0, 1, 0, 0
WIDTH 80
COLOR 7, 0
CLS
PRINT STRING$(80, " ");
LOCATE 10
Center 1, A$(0)
Center 5, A$(1)
Center 4, A$(2)
COLOR 7, 0
LOCATE 23, 1, 1
TT! = TIMER: WHILE (TIMER - TT! &lt; 1 AND TIMER &gt;= TT!) OR INKEY$ &gt; "": WEND
DO: LOOP UNTIL INKEY$ = ""
DO: LOOP UNTIL INKEY$ &gt; ""
END

SUB Center (A, A$) : SHARED ColFlip
  LOCATE , 40 - LEN(A$) \ 2
  ColFlip = A
  TR A$
  PRINT
  PRINT
END SUB

SUB RGB (N, R, G, B)
  OUT &amp;H3C8, N
  OUT &amp;H3C9, R
  OUT &amp;H3C9, G
  OUT &amp;H3C9, B
END SUB

SUB TR (T$) : SHARED ColFlip
  FOR I = 1 TO LEN(T$)
    C$ = FNC$(T$, I)
    IF C$ = "`" THEN C$ = CHR$(34)
    IF C$ &lt; "A" OR I = 1 THEN COLOR ColFlip + 8: NextUp = 1
    IF NextUp = 1 THEN C$ = UCASE$(C$)
    PRINT C$;
    IF C$ &lt;&gt; " " THEN COLOR ColFlip: NextUp = 0
  NEXT
END SUB</textarea><br><br>This would be a difficult program to convert as it animates the hardware palette.<br><br>. . .<br><br>Casaber, I guess what I'm hoping for is to find a routine that let me build a polygon and have any 2D image on it. So if I put it on a triangle for instance, X1 and X2 would meet at the center, but X1 And X2 below would be apart, to make a triangle, so it would warp the image you put in it.<br><br>Doing this it should be possible to build 3D cubes with images on them. Then it's just a matter of stuffing them in a 3D array so you can build dungeon walls, corridors, and rooms. <br><br></td></tr></table><br>
<a name="1290999"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#83">[#83]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah then you want Quads, I guess triangles are non-intuitive, and so are polygons, but Quads are prett intuitive to use.<br><br>Pushing the buffer into one of those allow more than rotation, scaling, it allows you to move each corner and the content to be warped along with it. I have that on my list just for that reason actually. I dont know of any better way to allow easy warping. We'll see if it could become a reality. I want to forge these feature nicely and I might have to re-arrange things to get it that way, even throw away something and do it differently.<br><br>For example why have CPU pixxeling if you have Pixelshader aswell but I feel that want both for different reasons, also pixelshaders are not that much powerful if you dont need floatingpoint, it's about x8 - x 16 more power than this CPU above (comparing with a common medium GPU).<br><br>Same goes with that I would like to have not only stream software rendering onto a Quad but also stream a playing movie, at least one, prefferable multiple. <br><br></td></tr></table><br>
<a name="1291002"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#84">[#84]</a></td></tr></table></td></tr><tr ><td class="posttext"> Now I'm having fun.  Here is Lines - Running Tiger Edition.  Making use of alpha and a rotating texture to create a dance of colors.  Best in fullscreen.<br><br>Will have to check out your kaleidoscope code, but first need to install DosBox and QBasic :)<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">'Lines - Running Tiger Edition
'By TomToad
'inspired by Lights Fantastic by dw817
'
'
'
SuperStrict
Framework BRL.GLMax2D
Import BRL.Random
Import BRL.System
Import BRL.Timer
Import BRL.PolledInput


SetGraphicsDriver GLMax2DDriver()


'Here we define some constants.  By changing these numbers, we can make the program behave differently

Const Phase1:Int = 500 'number of milliseconds our line will be full color
Const Phase2:Int = Phase1 + 8000 'number of milliseconds our line will fade to secondary color
Const Phase3:Int = Phase2 + 500 'Number of milliseconds for our line to disappear
Const Transition:Int = 4000 'number of milliseconds to transist from source color to destination color
Const MinVect:Float = -20.0 'Maximum speed the point will travel on the negative x/y axis
Const MaxVect:Float = 20.0 'Maximum speed the point will travel on the positive x/y axis
Const ClearLines:Int = True ' a flag to clear the list of lines or not when a new vector is created
Const ClsRed:Int = 0, ClsGreen:Int = 0, ClsBlue:Int = 0 'the color to clear the screen
Const TigerAngleTickSpeed:Int = 10

Global ScreenWidth:Int = 800'DesktopWidth()   'Set to whatever resolution your monitor will support or use DesktopWidth() and DesktopHeight()
Global ScreenHeight:Int = 600'DesktopHeight() '   for maximum resolution
Global ScreenDepth:Int = 0 'Change to 0 for windowed mode or 32 for fullscreen

Type TPointVector 'defines our endpoints and speed vector
	Field x:Float, y:Float
	
	Method Update(Vector:TPointVector) 'Adds 2 vectors, and does a perfect reflection on boundaries
		x :+ Vector.x
		y :+ Vector.y
		If x &gt;= ScreenWidth
			x = ScreenWidth - (x - ScreenWidth)
			Vector.x = -vector.x
		End If
		If x &lt; 0
			x = Abs(x)
			Vector.x = -Vector.x
		End If
		If y &gt;= ScreenHeight
			y = Screenheight - (y - Screenheight)
			Vector.y = -Vector.y
		End If
		If y &lt; 0
			y = Abs(y)
			Vector.y = -Vector.y
		End If
	End Method
End Type

Type TLine 'our line type
	Const State_Phase1:Int = 0 'In Phase 1, Our line will remain the original color
	Const State_Phase2:Int = 1 'In Phase 2, Our line will fade from the original color to the secondary color
	Const State_Phase3:Int = 2 'In Phase 3, Our line will grandually disappear
	
	
	Global LineList:TList = CreateList() 'list of lines
	Global LineImage:TImage 'this image will be stretched to make the lines.  Not only will it make rendering a bit faster, with small
							' changes in code, you can make these image lines do things that are more difficult with a traditional
							' DrawLine()
	Global Symmetry:Int = True 'Flag to determine if lines are drawn symmetrically.
	
	Global TigerAngle:Float = 0
	
	' We are defining the line with a start point, length, amd angle.  A bit unusual way to describe a line, but works
	'  well with our TImage line hack
	Field x1:Float,y1:Float 'start point of the line
	Field Length:Float 'length of the line
	Field Angle:Float 'angle of the line
	
	Field Red:Int, Green:Int, Blue:Int 'color of the line
	Field FRed:Int, FGreen:Int, FBlue:Int 'Fade color
	
	Field LifeStart:Int 'Time in which this line was created
	Field TimePassed:Int = 0 'Time that has passed since the line was created
	Field State:Int = State_Phase1'The state of the line
	
	Function Create(x1:Float,y1:Float,x2:Float,y2:Float,Red:Int, Green:Int, Blue:Int) 'create a new line
		Local Line:TLine = New TLine
		Line.x1 = x1
		Line.y1 = y1
		Line.Angle = ATan2(y2-y1,x2-x1)
		Line.Length = Sqr((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1))
		Line.Red = Red
		Line.Green = Green
		Line.Blue = Blue
		Line.FRed = 255 - Red 'We are using inverse of the color to determine the secondary color
		Line.Fgreen = 255 - green
		Line.FBlue =  255 - Blue
		Line.LifeStart = MilliSecs()
		LineList.AddLast(Line)
	End Function
		
	Function Draw(LineWidth:Float = 1.0) 'Draw all lines in the list
		For Local Line:TLine = EachIn LineList
			Line.DrawL(LineWidth)
		Next
	End Function
	
	Method DrawL(LineWidth:Float) 'draw a single line
		Select State
			Case State_Phase1
				SetColor red,green,blue 'full Color
			Case State_Phase2
				Local Percent:Float = Float(TimePassed-Phase1)/Float(Phase2-Phase1) 'interpolate between color and Fade color
				SetColor Float(FRed-red)*Percent+red, Float(FGreen-Green)*Percent+green, Float(FBlue-Blue)*Percent+Blue
			Case State_Phase3
				Local Percent:Float = Float(TimePassed-Phase2)/Float(Phase3-Phase2) 'interpolate betwen fade color and black
				SetColor Float(ClsRed-FRed)*Percent+FRed, Float(ClsGreen-FGreen)*Percent+FGreen, Float(ClsBlue-FBlue)*Percent+FBlue
		End Select
		
		SetRotation Angle
		SetScale length/Float(360),1
		DrawSubImageRect LineImage,x1,y1,360,LineWidth,TigerAngle,0,360,LineWidth
		If Symmetry 'Draw the line on opposite side of screen
			SetRotation -(Angle+90)-90
			DrawSubImageRect LineImage,ScreenWidth-x1,y1,360,LineWidth,TigerAngle,0,360,LineWidth
		End If
	End Method
	
	Function Update() 'Update the lines
		Global TigerAngleTick:Int = -1
		Local Time:Int = MilliSecs() 'Get the current time
		
		If TigerAngletick &lt; 0
			TigerAngleTick = MilliSecs() + TigerAngleTickSpeed
			TigerAngle = 0
		End If
		While MilliSecs() &gt;= TigerAngleTick
			TigerAngle :+ 1
			If TigerAngle &gt;= 360 Then TigerAngle :- 360
			TigerAngleTick :+ TigerAngleTickSpeed
		Wend
			
			
		
		
		For Local Line:TLine = EachIn LineList
			Line.TimePassed = Time - Line.LifeStart
			Select Line.State 'If the proper amount of time has passed, switch to the next phase
				Case State_Phase1
					If Line.TimePassed &gt;= Phase1 Then Line.State = State_Phase2
				Case State_Phase2
					If Line.TimePassed &gt;= Phase2 Then Line.State = State_Phase3
				Case State_Phase3
					If Line.TimePassed &gt;= Phase3 Then LineList.Remove(Line) 'there is no phase 4, remove the line
			End Select
		Next
	End Function		
	
		
End Type



SeedRnd(MilliSecs()) 'seed the randomizer

'this is the initial color we are rendering in
Local SourceRed:Float = Rnd(0,255)
Local SourceGreen:Float = Rnd(0,255)
Local SourceBlue:Float = Rnd(0,255)

'this is the color we will switch to after "Transition" milliseconds have passed.  Rendering will actually interpolate between the two values
Local DestRed:Float = Rnd(0,255)
Local DestGreen:Float = Rnd(0,255)
Local DestBlue:Float = Rnd(0,255)
Local TransitionTime:Int = MilliSecs()+Transition

'Set the graphics mode, hide the mouse, and set the Cls color
Graphics ScreenWidth,ScreenHeight,ScreenDepth
HideMouse
SetClsColor ClsRed,ClsGreen,ClsBlue
SetBlend AlphaBlend

'Here we will create a 1 pixel long, 1 pixel wide line
TLine.LineImage = CreateImage(720,3)
Local Pixmap:TPixmap = LockImage(TLine.LineImage)
For Local y:Int = 0 Until TLine.Lineimage.Height
	For Local x:Int = 0 Until TLine.LineImage.Width
		WritePixel(Pixmap,x,y,(Min(Int(Sin(x)*128+128),255) Shl 24)+$ffffff)
	Next
Next
UnlockImage(TLine.LineImage)

'These next lines define the endpoints of the current line, as well as the speed and direction of movement for the lines
Local Point1:TPointVector = New TPointVector '1st endpoint
Point1.x = Rnd(1,ScreenWidth - 2)
Point1.y = Rnd(1,ScreenHeight - 2)
Local Point2:TPointVector = New TPointVector '2nd endpoint
Point2.x = Rnd(1,ScreenWidth - 2)
Point2.y = Rnd(1,ScreenHeight - 2)
Local Vector1:TPointVector = New TPointVector 'direction first line is moving
Vector1.x = Rnd(MinVect,MaxVect)
Vector1.y = Rnd(MinVect,MaxVect)
Local Vector2:TPointVector = New TPointVector 'direction second line is moving
Vector2.x = Rnd(MinVect,MaxVect)
Vector2.y = Rnd(MinVect,MaxVect)

Local LineWidth:Float = 2.0

'We will use a fixed rate timestep to move the lines.  We are setting it to 30 logical frames per second.  The actual graphics will be 
'  rendered at its own rate. This will insure that the logic will continue To run the same speed regardless of refresh rate.
'
'We will be using Delta timing to control color transitions, as delta will make the calculations easier.  Yes, I am using two different
'  timing methods in my program. :-)
Local Timer:TTimer = CreateTimer(30)
Local OldTicks:Int = 0
Local Delta:Float

Local Help:Int = True 'Flag for toggling help screen

While Not KeyHit(key_escape) And Not AppTerminate()	'We will run until the escape key is pressed or the window is closed.
	Local TotalTicks:Int = Timer.Ticks() 'Count the number of Ticks that have passed since the timer was created
	Local Ticks:Int = TotalTicks - OldTicks 'Don't want TTimer.Wait() as it will block and TTimer.Ticks() does not clear the count
	OldTicks = TotalTicks					'  So I created this hack. :-)
	
	Delta = 1.0 - Float(TransitionTime - MilliSecs())/Float(Transition) 'Calculate the percentage of time that has passed between transitions
	If Delta &gt; 1.0 'If transition is completed, choose new color to change through
		SourceRed = DestRed
		Sourcegreen = DestGreen
		SourceBlue = DestBlue
		Delta :- 1.0
		DestRed = Rnd(0,255)
		destgreen = Rnd(0,25)
		destblue = Rnd(0,255)
		TransitionTime :+ Transition
	End If
	
	'Now here we will interpolate between the original color and the new color to give a smooth transition
	Local Red:Int = (DestRed - SourceRed)*Delta + SourceRed
	Local Green:Int = (DestGreen - SourceGreen)*Delta + SourceGreen
	Local Blue:Int = (DestBlue - SourceBlue)*Delta + SourceBlue
	
	For Local i:Int = 1 To Ticks 'We will update our line points according to how many logical frames have passed.  Should be either 0 or 1, but
								  '  Could be higher if Windows hangs the prgram a bit, or if the program is running on a very old computer.
		Point1.Update(Vector1)
		Point2.Update(Vector2)
		TLine.Create(Point1.x,Point1.y,Point2.x,Point2.y,Red,Green,Blue)
	Next
	If KeyHit(KEY_SPACE) 'Pick new line parameters
		Point1.x = Rnd(1,ScreenWidth - 2)
		Point1.y = Rnd(1,ScreenHeight - 2)
		Point2.x = Rnd(1,ScreenWidth - 2)
		Point2.y = Rnd(1,ScreenHeight - 2)

		Vector1.x = Rnd(MinVect,MaxVect)
		Vector1.y = Rnd(MinVect,MaxVect)
		Vector2.x = Rnd(MinVect,MaxVect)
		Vector2.y = Rnd(MinVect,MaxVect)
		If ClearLines Then TLine.LineList.Clear()
	End If
	If KeyHit(KEY_S) 'Toggle Symmetry flag
		TLine.Symmetry = Not TLine.Symmetry
	End If
	If KeyHit(KEY_1) 'Skinny Line
		LineWidth = 1.0
	End If
	If KeyHit(KEY_2) 'Normal line
		LineWidth = 2.0
	End If
	If KeyHit(KEY_3) 'Thick Line
		LineWidth = 3.0
	End If
	If KeyHit(KEY_F1)
		Help = Not Help
	End If
	
	'Now for the fun part
	Cls 'Clear the screen
	TLine.Update() 'Update the color of the lines
	TLine.Draw(LineWidth) 'Draw the lines
	If help
		SetColor 0,0,0
		SetScale 1,1
		SetRotation 0
		DrawRect 0,Screenheight - 30,ScreenWidth,30
		SetColor 255,255,255
		DrawText "S - Toggles Symmetry : 1, 2, 3 - Adjust line width : F1 - Toggle Help : SPACE - Clear Screen",10,ScreenHeight-25
	End If
	Flip 'Flip the screen
Wend				
			
		


</textarea> <br><br></td></tr></table><br>
<a name="1291004"></a>

<a name="1291005"></a>

<a name="1291006"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#85">[#85]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not very used to play movies using acceleration but with Blitz3d I could play movies using Writepixelfast. Which was pretty fun.<br><br>I wrote an app to catch the playing movie into an array (very small of course as I saved it non-compressed, I wasnt THAT ambigtios). <br>And then wrote another  app for playing that same saved array at its original fps (much much smaller in size of course but it had nice quality.<br><br>So I had several intros from a few TV shows saved as arrays of pixels, that I could play perfectly. <br>Just a fun thing to do, it might inspire ppl what could be done without acceleration. <br><br></td></tr></table><br>
<a name="1291008"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#86">[#86]</a></td></tr></table></td></tr><tr ><td class="posttext"> @TomToad nice, I like that last one it feels very polished. <br><br></td></tr></table><br>
<a name="1291014"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#87">[#87]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, installed DosBox and QBasic.  Ran the code above.  Color me impressed :)  There is a bug though.  On line 22 you have <b>WHILE A &lt;&gt; 14735: WEND</b> which is basically just an endless loop.  Once that line was removed, everything ran fine. <br><br></td></tr></table><br>
<a name="1291031"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#88">[#88]</a></td></tr></table></td></tr><tr ><td class="posttext"> Started reading thread, decided to lock thread... turns out no need. Phew! <br><br></td></tr></table><br>
<a name="1291032"></a>

<a name="1291034"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#89">[#89]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's my silly (very silly) way of ensuring no-one changed my 'copyright' info by binary patching the EXE (the only thing I released years ago). I just nulled out the address without even looking. So it ran fine huh ? That's neat, that must be like - gosh - 25 years since I shared any of my QBasic stuff with someone. :D<br><br>Glad you like it ! Shoot ! I forgot all about QBasic, glad you could find it Online. I have 4.5 here. They ACTUALLY made a QBasic 7.1, but I never used it.<br><br>In DOS BOX, you can hit CTRL-F12 to make any DOS program run faster, or CTRL-F11 to make it run SLOWER.<br><br>If you don't mind SNAPPING your monitor, you can press ALT-ENTER and it runs full-screen.<br><br>Trying out your new Tiger Stripes, yeah, you got the palette to cycle, awesome ! :)<br>. . .<br>Casaber, back in the day when I was working on Turbo Pascal, I wrote routines that kept track of every single pixel on the screen and if I wanted to do an effect, I could have them explode - go all over the place, or even have every pixel on the screen do the explode effect.<br><br>On the line of controlling pixels, however, I was thinking of writing an example in a fresh post based on Bob Bishop's Bomber game, a tribute to his excellence and coding.<br><br><img src="http://www.writerscafe.org/uploads/rte/bfcc7769dc682d7c136c15d6e3f90b78.png"><br><br><a href="http://apple2history.org/spotlight/bobbishop/" target="_blank">http://apple2history.org/spotlight/bobbishop/</a><br><br>He made this game called Bomber. It was a technical marvel for it's time as every pixel for the jet and tank were painstakingly drawn from a machine-language array and executable. You drop a bomb that follows a neat curve and if you could HIT the tank, every pixel on the target tank exploded in a shower of pixels. Can't find a video for it in Youtube.<br><br>Anyways, I will definitely do a tribute for the guy using TYPE variables, also as a test to ensure I know LINKED LISTS at this point.<br><br>Hmm ... Looks like I'm overdue for making a good vector-maker. I'll build that first and post it. <br><br></td></tr></table><br>
<a name="1291033"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#90">[#90]</a></td></tr></table></td></tr><tr ><td class="posttext"> After viewing your QBasic program, I thought I'd see if I could get some kind of pallet rotation going in BlitzMax.  <a href="/codearcs/codearcs.php?code=3248" >Palette Rotation</a> <br><br></td></tr></table><br>
<a name="1291067"></a>

<a name="1291076"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#91">[#91]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep, I can see that, Tom. I wrote you there.  I needed a good font to display for the vector maker I'm working on so I made some code for that too - you can find it HERE:<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=105678" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=105678</a><br><br>This vector generator is going to be a bit different than my original. The first one I wrote would only let you make polygons, not where you could have a line intersect inside an area to give it definition. This one will. I want this so the JET and TANK will look good and hollow like Bob had them.<br><br>BTW, I was running your Chasing Tiger in 800x600 full-screen and of course it looks great. My question is, does that seem to be the correct way to go to distribute full-screen games ?<br><br>Do all OS's (and Macintosh) have a hardwired 800x600x32 resolution ? <br><br></td></tr></table><br>
<a name="1291080"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Endive</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#92">[#92]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why would you give this away for free?  Write it in Monkey so you can release it on all kinds of devices and sell it! <br><br></td></tr></table><br>
<a name="1291081"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#93">[#93]</a></td></tr></table></td></tr><tr ><td class="posttext"> I could fill you in about the Apple Computers / OSX.<br>From all what I know all Apple's computers manages at least 800x600 and 1024x768. My iMac for example (2010 mid model) stretches the screen vertically and centres it horisontally, on its widescreen (this one uses 1920 x 1080). So you still get square pixels and the antialising method used looks great. <br><br></td></tr></table><br>
<a name="1291082"></a>

<a name="1291084"></a>

<a name="1291085"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#94">[#94]</a></td></tr></table></td></tr><tr ><td class="posttext"> Endive ? Who are you talking to ?<br><br>Thanks, Casaber. Actually my computer uses a resolution of 1920x1080, but I don't do that. I keep it at 1024x768, old school 4x3 the way I like it.<br><br>I know many of the Windows games I've purchased in the past will run windows at 800x600 (which to me is kinna small) or you can hardware snap to 800x600, which I also don't like as I can't see my task icons below.<br><br>In fact, I think I'm about the only person that writes games that use the full-screen resolution of the monitor while maintaining the buttons below - outside of game emulators which will work with any resolution you choose.<br><br>When I saw BlitzMAX years ago able to do this, that was one of the main reasons I chose it for graphics. Today, I'm not disappointed. Finally figured out how to make borderless frames that span the user's screen and keep the taskbar below. Good enough for me. :) <br><br></td></tr></table><br>
<a name="1291086"></a>

<a name="1291087"></a>

<a name="1291088"></a>

<a name="1291090"></a>

<a name="1291092"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#95">[#95]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm wondering why that Pallet example is going crazy in any fullscreen mode that I try to run it with?<br> It gets about (I guess 16?) vertical tearings constantly moving and flickering. It works amazingy good as as windowed.<br><br>It must use some special technique. I really feel the urge to look into this why this is messing with fullscreens and what it does.<br><br>haha I love this part. 1st time ever Ive seen remarks being remarked out. Actually I like that trick.<br><br><pre class=code>
'Rem	
	'Here we rotate the pallet entries by one. :-)
	Local Temp:Int = Pallet[0]
	For Local i:Int = 0 To 14 ; Pallet[i] = Pallet[i+1] ; Next
	Pallet[15] = temp	
'End Rem
</pre> <br><br></td></tr></table><br>
<a name="1291091"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#96">[#96]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you talking about TomToad's Running Tiger ? It works great here. And - perhaps that's a good point I was referring to. Running hardware resolutions (snap) I never thought it was a good idea with modern computers. You could get different results.<br><br>Now in BlitzMAX you =DO= you have the ability of running in virtual resolutions, this is not a problem.<pre class=code>Strict
Local i,j
Graphics 1024,768
SetVirtualResolution 800,620 ' note it's 20+ compensates for taskbar
DrawRect 0,0,800,600 ' yet we can draw to full 800x600 with no problem
SetColor 0,0,0
DrawRect 1,1,798,598 ' hollow out rectangle to show it really fits
SetColor 0,0,255
DrawLine 50,50,200,200 ' simple line
SetColor 255,0,0
DrawOval 400,200,50,50 ' simple circle
Flip
WaitKey</pre>So, yeah, there's no reason to hardware snap, not really. You can use <b>SetVirtualResolution</b> and put it anywhere you want. <br><br></td></tr></table><br>
<a name="1291093"></a>

<a name="1291095"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#97">[#97]</a></td></tr></table></td></tr><tr ><td class="posttext"> No this one, it acts up when you try it in fullscreen (at any resolution).<br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=3248" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=3248</a><br><br>EDIT SOLVED IT, it needed FLIP to become FLIP 1 <br><br></td></tr></table><br>
<a name="1291105"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#98">[#98]</a></td></tr></table></td></tr><tr ><td class="posttext"> Re: hardware snap:  Why would you want to use hardware fullscreen?  When you create a window, your program must play nice with any other program wanting to use the screen.  This can slow rendering down. Using fullscreen gives the program total control of the screen, speeding things up, and also allowing games to adjust resolution as some games might work better at a different resolution than what your desktop is set to.<br><br>There are some caveats using fullscreen, though.  As you can see, Windows components such as  the taskbar cannot be used.  Also ever have a buggy game crash and throw an error, but you can't see it because it crashed before releasing the screen back to windows?<br><br>Re:Flip 1: Yeah, I keep thinking that 1 is default with Flip.  But actually it is -1.  1 will sync up the graphics to the vertical blank cycle, which will prevent tearing.  -1 is a software sync which should reduce tearing, but might not eliminate it, usable in cases where the user has vertical blanking turned off in the graphics driver and you are relying on it for game timing.  I din't notice it as my LCD monitor does't tear as badly as CRT monitors do.<br><br>Of course, a good commercial game will give the user control over Window settings, game settings, what kind of vertical blanking they want, etc... So that it can run according to their preference. <br><br></td></tr></table><br>
<a name="1291169"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#99">[#99]</a></td></tr></table></td></tr><tr ><td class="posttext"> Agreed, Tom. In s3 you have massive configuration, not just resolution but is it full-screen, not, speed of program, SKIP of program (if it skips frames), and a whole bunch of other stuff.<br><br>Rather be Safe Than Sore. :)<br><br>As for your rainbow circle animation, it works fine here at full-screen 800x600, but as Casaber pointed out, it did NOT on his. And that's not your fault, Tom. That's BlitzMAX not being 100% compatible with all monitors when accessed at a hardware level.<br><br>You may be able to fix it with a special FLIP(), like 1 (one) as you mentioned above. <br><br></td></tr></table><br>
<a name="1291350"></a>

<a name="1291351"></a>

<a name="1291352"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#100">[#100]</a></td></tr></table></td></tr><tr ><td class="posttext"> dw817 here I did an example for you to see how shaders could be done in Bmax.<br>Im still learning myself how to connect the two but I thought it could be fun to see something?<br><br>Pixelshader sorts of works like those old lightpens on crts.<br>The pen I think used the timing or something to tell where it was and was actually an optical sensor, and got x and y position from looking at the moving raster.<br>Same goes here, pixels only know where they are by reading a special coordinate variable and, hmm damn I lost my idea how to explain this well.. Did that make sense at all?<br><br><br>Mind you that the while loop is just for looks, I should try a more complex example such as a starfield next.<br><br><br><pre class=code>
'        50 SHADES of Red
'
' A simple introduction To shaders
'
'

' SET GRAPHICS MODE
Local xres:Int = 1920, yres:Int = 1080 ; GLGraphics xres,yres,32,60,GRAPHICS_BACKBUFFER + GRAPHICS_DEPTHBUFFER ; glewInit ; HideMouse
glMatrixMode GL_PROJECTION ; glLoadIdentity ; glOrtho 0,xres,yres,0,-1,1 ; glMatrixMode GL_MODELVIEW ; glLoadIdentity ; glViewport 0,0,xres,yres ; glPixelZoom 1,-1 ; glRasterPos2i 0,0

' CREATE SHADER
Local VC:String = VERTEX ; PC:String = PIXEL ; PO = glCreateProgramObjectARB() ; VS = glCreateShaderObjectARB(GL_VERTEX_SHADER_ARB) ; PS = glCreateShaderObjectARB(GL_FRAGMENT_SHADER_ARB)
Local SC:Byte Ptr = VC.ToCString(),SL = VC.Length ; glShaderSourceARB VS,1,Varptr SC,Varptr SL ; MemFree SC ; glCompileShaderARB VS
SC = PC.ToCString() ; SL = PC.Length ; glShaderSourceARB PS,1,Varptr SC,Varptr SL ; MemFree SC
glCompileShaderARB PS ; glAttachObjectARB PO,VS ; glAttachObjectARB PO,PS ; glDeleteObjectARB VS ; glDeleteObjectARB PS ; glLinkProgramARB PO

' PROGRAM BEGINS
Repeat
	glClear GL_COLOR_BUFFER_BIT ; glUseProgramObjectARB PO ; glBegin GL_QUADS ' Custom attributes instead, glVertexAttrib2f or VA/VBO glEnableVertexAttribArray/glVertexAttribPointer.
    glTexCoord2f(0,0) ; glVertex2f(0,0) ; glTexCoord2f(1,0) ; glVertex2f(xres,0) ; glTexCoord2f(1,1) ; glVertex2f(xres,yres) ; glTexCoord2f(0,1) ; glVertex2f(0,yres) 
	glEnd ; glUseProgramObjectARB 0
	Delay 1 ; Flip 1
Until KeyHit(KEY_ESCAPE)
End

' SHADERS
Const VERTEX:String = "void main(void) { gl_Position = gl_ModelViewProjectionMatrix * gl_Vertex ; gl_TexCoord[0] = gl_MultiTexCoord0 ; }"

Const PIXEL:String = ..
"void main(void) { vec4 coord = gl_TexCoord[0] ; vec4 coord2 = coord ;                                  ~n" + ..
"int temp = 0 ; while (temp++ &lt; 512) { coord2.w = coord.w + coord.y ; coord2.y = coord.y + coord.x ; } ~n" + ..
"float p = coord2.x ; gl_FragColor = vec4(p,0.0,0.0,1.0) ; }"

Rem VERTEX SHADER
void main(void) {
gl_Position = gl_ModelViewProjectionMatrix * gl_Vertex
gl_TexCoord[0] = gl_MultiTexCoord0 
}
EndRem

Rem PIXEL SHADER
void main(void) {
vec4 coord = gl_TexCoord[0]
vec4 coord2 = coord
int temp = 0
while (temp++ &lt; 512) {
coord2.w = coord.w + coord.y
coord2.y = coord.y + coord.x
}
float p = coord2.x
gl_FragColor = vec4(p,0.0,0.0,1.0)
}
EndRem
</pre> <br><br></td></tr></table><br>
<a name="1291357"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamStrange</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#101">[#101]</a></td></tr></table></td></tr><tr ><td class="posttext"> very simple code - congrats :) <br><br></td></tr></table><br>
<a name="1291411"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#102">[#102]</a></td></tr></table></td></tr><tr ><td class="posttext"> Indeed very simple code, except it's beyond what I understand. :)<br><br>Casaber, is the red part of a 3D rectangle ? How does it look when you feed random pixels into it ? And of course, the speed ? Is this faster than your previous glDrawPixels() ? <br><br></td></tr></table><br>
<a name="1291431"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#103">[#103]</a></td></tr></table></td></tr><tr ><td class="posttext"> @casaber: trying to follow along with your example.  Don't understand this line<br><pre class=code>"int temp = 0 ; while (temp++ &lt; 512) { coord2.w = coord.w + coord.y ; coord2.y = coord.y + coord.x ; } ~n" + ..
</pre><br>Seems to do nothing.  Removed it from the code and the screen renders the same.  Is there a reason for that loop to be there? <br><br></td></tr></table><br>
<a name="1291432"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#104">[#104]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's right. It does nothing, I mentioned that in the post and If I took that out you would't notice it was C even. So I kept it because of that reason. <br><br></td></tr></table><br>
<a name="1291433"></a>

<a name="1291434"></a>

<a name="1291435"></a>

<a name="1291436"></a>

<a name="1291437"></a>

<a name="1291449"></a>

<a name="1291451"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#105">[#105]</a></td></tr></table></td></tr><tr ><td class="posttext"> Heres just another general Vertex shader, and a pixelshader with as many instructions as I could fit to see how things looks like inside a shader.<br><br>Mostly for my own eyes, Not much time for perfect presentation yet.<br><br>It's tough business to debug shaders, so its nice to have something to look at though to what is correct syntax.<br>I skip unfolding this time it's just a bunch of random code I use this while Im testing this week It has absolutely no sensible layout. The Vertex shade though, its very sensible. Its a general vertex to allow a pixel shader to exist. I use a somewhat different one here.<br><br>But the pixelshader i just an emmensive amount of code to show off syntax, it does nothing.  (Except it shows bars) nothing moving yet though. <br>You get things moving by relaying on variables that are not position, but time. This example does not either show time.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
'        50 SHADES of Red
'
' A simple introduction To shaders
'
'

' SET GRAPHICS MODE
Local xres:Int = DesktopWidth(), yres:Int = DesktopHeight() ; GLGraphics xres,yres,32,60,GRAPHICS_BACKBUFFER + GRAPHICS_DEPTHBUFFER ; glewInit ; HideMouse
glMatrixMode GL_PROJECTION ; glLoadIdentity ; glOrtho 0,xres,yres,0,-1,1 ; glMatrixMode GL_MODELVIEW ; glLoadIdentity ; glViewport 0,0,xres,yres ; glPixelZoom 1,-1 ; glRasterPos2i 0,0

' CREATE SHADER
Local VC:String = VERTEX ; PC:String = PIXEL ; PO = glCreateProgramObjectARB() ; VS = glCreateShaderObjectARB(GL_VERTEX_SHADER_ARB) ; PS = glCreateShaderObjectARB(GL_FRAGMENT_SHADER_ARB)
Local SC:Byte Ptr = VC.ToCString(),SL = VC.Length ; glShaderSourceARB VS,1,Varptr SC,Varptr SL ; MemFree SC ; glCompileShaderARB VS
SC = PC.ToCString() ; SL = PC.Length ; glShaderSourceARB PS,1,Varptr SC,Varptr SL ; MemFree SC
glCompileShaderARB PS ; glAttachObjectARB PO,VS ; glAttachObjectARB PO,PS ; glDeleteObjectARB VS ; glDeleteObjectARB PS ; glLinkProgramARB PO

' PROGRAM BEGINS
Repeat
	glClear GL_COLOR_BUFFER_BIT ; glUseProgramObjectARB PO ; glBegin GL_QUADS ' Custom attributes instead, glVertexAttrib2f or VA/VBO glEnableVertexAttribArray/glVertexAttribPointer.
    glTexCoord2f(0,0) ; glVertex2f(0,0) ; glTexCoord2f(1,0) ; glVertex2f(xres,0) ; glTexCoord2f(1,1) ; glVertex2f(xres,yres) ; glTexCoord2f(0,1) ; glVertex2f(0,yres) 
	glEnd ; glUseProgramObjectARB 0
	Delay 1 ; Flip 1
Until KeyHit(KEY_ESCAPE)
End

' SHADERS
Const VERTEX:String = "varying vec2 vUv ; varying float time ; void main() { gl_Position = ftransform() ; gl_TexCoord[0] = gl_MultiTexCoord0 ;}"

' GENERAL VERTEX SHADER
' gl_Position = ftransform() OR gl_Position = gl_ModelViewProjectionMatrix * gl_Vertex '  ( glVertex = modelViewMatrix * vec4(position,1.0) )

Const PIXEL:String = ..
"#define SPEED 40.0 ~n" + ..
"float rand (in vec2 uv) {return fract(sin(dot(uv,vec2(12.4124,48.4124)))*48512.41241) ; } ~n" + ..
"vec2 O = vec2(1.0,0.0) ; float wrap(float x) {return abs(mod(x,2.0)-1.0) ; } ~n" + ..
"float wave(vec2 p,float angle) {vec2 direction = vec2(cos(angle),sin(angle)) ; return cos(dot(p,direction)) ; } ~n" + ..
"float noise (in vec2 uv) {vec2 b = floor(uv) ; return mix(mix(rand(b),rand(b+O.yx),0.5),mix(rand(b+O),rand(b+O.yy),0.5),0.5) ; } ~n" + ..
"varying vec2 vUv ; varying vec2 position ; uniform float time ; uniform sampler2D tex0 ; uniform sampler2D tex1 ; uniform vec2 resolution ; float stripes(vec2 p,float steps) {return fract(p.x*steps) ; } ~n" + ..
"void main() { vec4 fragCoord = gl_TexCoord[0] ; vec2 uv = fragCoord.xy / resolution.xy ; vec4 coord2 = fragCoord ; float fl,s,stars = 0.0 ;  ~n" + ..
"int temp = 0 ; while (temp++ &lt; 512) { coord2.w = fragCoord.w + fragCoord.y ; coord2.y = fragCoord.y + fragCoord.x ; } ~n" + ..
"for (int layer = 0; layer &lt; 8 ; layer++) { fl = float(layer) ; s = (400.0 - fl * 20.0) ; ~n" + ..
"stars += step(0.1,pow(noise(mod(vec2(uv.x * s + time * SPEED - fl*100.0,uv.y*s),resolution.x)),18.0)) * (fl/8.0) ; } ~n" + .. 
"float p = stripes(coord2.xy,1000.0) ; gl_FragColor.rgb = vec3(time) ; gl_FragColor.a = 1.0 ; gl_FragColor = vec4(p,0.0,0.0,1.0) ; }"
</textarea> <br><br></td></tr></table><br>
<a name="1291439"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#106">[#106]</a></td></tr></table></td></tr><tr ><td class="posttext"> The code above just segfaults on my computer.<br>The code in #100 segfaults here too.<br><br>Both segfault - in release and in debugmode, so it segfaults somewhere, where blitzmax cannot catch it.<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1291440"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#107">[#107]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ya it's not stable at all, it could be something else than what I think.<br>But my thought is; as shaders are limited what they may do and how they do it in what sequence., and this pixelshader does alot of nonsense as a untouched whole.<br><br>If it's truly the shade that brings the computer to a segfault, it would not segfault if you exchange it with a simple pixelshader the first post should work. <br><br></td></tr></table><br>
<a name="1291441"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#108">[#108]</a></td></tr></table></td></tr><tr ><td class="posttext"> It crashes because my screens do not allow fullhd :-)<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1291443"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#109">[#109]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah nice, good that's a relief, I made resolution change easy to do at the top. <br><br></td></tr></table><br>
<a name="1291450"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#110">[#110]</a></td></tr></table></td></tr><tr ><td class="posttext"> I edited the last post to sense screensize now. It assumed 1920x1080 before. <br><br></td></tr></table><br>
<a name="1291453"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#111">[#111]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think I'm starting to get a hang of this.  Little messy, but works. :)<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">'        50 SHADES of Red And Green
'
' A simple introduction To shaders
'
'

' SET GRAPHICS MODE
Local xres:Int = DesktopWidth(), yres:Int = DesktopHeight() ; GLGraphics xres,yres,32,60,GRAPHICS_BACKBUFFER + GRAPHICS_DEPTHBUFFER ; glewInit ; HideMouse
glMatrixMode GL_PROJECTION ; glLoadIdentity ; glOrtho 0,xres,yres,0,-1,1 ; glMatrixMode GL_MODELVIEW ; glLoadIdentity ; glViewport 0,0,xres,yres ; glPixelZoom 1,-1 ; glRasterPos2i 0,0

' CREATE SHADER
Local VC:String = VERTEX ; PC:String = PIXEL ; PO = glCreateProgramObjectARB() ; VS = glCreateShaderObjectARB(GL_VERTEX_SHADER_ARB) ; PS = glCreateShaderObjectARB(GL_FRAGMENT_SHADER_ARB)
Local SC:Byte Ptr = VC.ToCString(),SL = VC.Length ; glShaderSourceARB VS,1,Varptr SC,Varptr SL ; MemFree SC ; glCompileShaderARB VS
SC = PC.ToCString() ; SL = PC.Length ; glShaderSourceARB PS,1,Varptr SC,Varptr SL ; MemFree SC
glCompileShaderARB PS


glAttachObjectARB PO,VS ; glAttachObjectARB PO,PS ;
Print "~nVertex Object~n---------------------------------"
PrintLog(VS)
Print "~nPixel Object~n----------------------------------"
PrintLog(PS)

 glDeleteObjectARB VS ; glDeleteObjectARB PS ; glLinkProgramARB PO
Print "~nProgram Object~n-------------------------------"
Printlog(PO)
Local CString:Byte Ptr = "timer".ToCSTring()

' PROGRAM BEGINS
Local Timer:Int = 0
Repeat
	glClear GL_COLOR_BUFFER_BIT ; glUseProgramObjectARB PO ; 
	Local TimerObject:Int = glGetUniformLocationARB(PO,CString)
	If TimerObject &lt;&gt; -1
		glUniform1fARB(TimerObject,Float(Timer))
	End If
	glBegin GL_QUADS ' Custom attributes instead, glVertexAttrib2f or VA/VBO glEnableVertexAttribArray/glVertexAttribPointer.
    glTexCoord2f(0,0) ; glVertex2f(0,0) ; glTexCoord2f(1,0) ; glVertex2f(xres/2,0) ; glTexCoord2f(1,1) ; glVertex2f(xres/2,yres) ; glTexCoord2f(0,1) ; glVertex2f(0,yres) 
    glTexCoord2f(1,0) ; glVertex2f(xres/2,0) ; glTexCoord2f(0,0) ; glVertex2f(xres,0) ; glTexCoord2f(0,1) ; glVertex2f(xres,yres) ; glTexCoord2f(1,1) ; glVertex2f(xres/2,yres) 
	glEnd ; glUseProgramObjectARB 0
	Delay 1 ; Flip 1
	Timer :+ 1
	If Timer = 360 Then Timer = 0
Until KeyHit(KEY_ESCAPE)
End

' SHADERS
Const VERTEX:String = "void main(void) { gl_Position = gl_ModelViewProjectionMatrix * gl_Vertex ; gl_TexCoord[0] = gl_MultiTexCoord0 ; }"

Const PIXEL:String = ..
"uniform float timer; void main(void) {  vec4 coord = gl_TexCoord[0] ;       ~n" + ..
"float p1 = sin((timer + coord.x * 360.0 * 4.0)*3.1415926535897932384626433832795/180.0);~n" + ..
"float p2 = sin((timer + coord.y * 360.0 * 4.0)*3.1415926535897932384626433832795/180.0); gl_FragColor = vec4(p1,p2,0.0,1.0) ; }"

Function PrintLog(obj:Int)
	Local LS:Byte[]
	Local Length:Int
	glGetInfoLogARB(obj, 1024, Varptr Length,  LS)
	Print String.FromBytes(LS,Length)
End Function
</textarea> <br><br></td></tr></table><br>
<a name="1291454"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#112">[#112]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice I like that, very Amiga like demo. Really nice !! <br><br></td></tr></table><br>
<a name="1291465"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#113">[#113]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, now I figured out how to get it to work with Max2D commands.<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">'        1000 Bullseyes
'
' A simple introduction To shaders
'
'

' SET GRAPHICS MODE
Local xres:Int = DesktopWidth(), yres:Int = DesktopHeight() ; SetGraphicsDriver GLMax2DDriver(); Graphics xres,yres,32; glewInit; 'GLShareContexts

' CREATE LINE SHADER
Local VC:String = VERTEX ; PC:String = PIXEL ; PO = glCreateProgramObjectARB() ; VS = glCreateShaderObjectARB(GL_VERTEX_SHADER_ARB) ; PS = glCreateShaderObjectARB(GL_FRAGMENT_SHADER_ARB)
Local SC:Byte Ptr = VC.ToCString(),SL = VC.Length ; glShaderSourceARB VS,1,Varptr SC,Varptr SL ; MemFree SC ; glCompileShaderARB VS
SC = PC.ToCString() ; SL = PC.Length ; glShaderSourceARB PS,1,Varptr SC,Varptr SL ; MemFree SC
glCompileShaderARB PS ; glAttachObjectARB PO,VS ; glAttachObjectARB PO,PS ; glDeleteObjectARB VS ; glDeleteObjectARB PS ; glLinkProgramARB PO

' CREATE CIRCLE SHADER
Local CircleVertexShaderSource:String = "void main(void) { gl_Position = gl_ModelViewProjectionMatrix * gl_Vertex ; gl_TexCoord[0] = gl_MultiTexCoord0 ; }"
Local CirclePixelShaderSource:String = "uniform float Timer; void main(void) { vec4 coord = gl_TexCoord[0]  ;                                  ~n" + ..
"float x = coord.x - .5; float y = coord.y - .5; float d = sqrt(x * x + y * y); " + ..
"float red = sin((d*360.0*2+Timer)*3.14159/180.0); float green = sin((d*360.0*3+Timer)*3.14159/180.0); float blue = sin((d*360.0*4+Timer)*3.14159/180.0);" + ..
"gl_FragColor = vec4(red,green,blue,1.0) ; }"
Local CircleShader:Int = glCreateProgramObjectARB()
Local CircleVertexShaderObject:Int = glCreateShaderObjectARB(GL_VERTEX_SHADER_ARB)
Local CirclePixelShaderObject:Int = glCreateShaderObjectARB(GL_FRAGMENT_SHADER_ARB)
SC = CircleVertexShaderSource.ToCString(); SL = CircleVertexShaderSource.Length
glShaderSourceARB(CircleVertexShaderObject,1,Varptr SC,Varptr SL) ; MemFree SC; glCompileShaderARB CircleVertexShaderObject
SC = CirclePixelShaderSource.ToCString(); SL = CirclePixelShaderSource.Length
glShaderSourceARB(CirclePixelShaderObject,1,Varptr SC,Varptr SL); MemFree SC; glCompileShaderARB CirclePixelShaderObject
glAttachObjectARB CircleShader, CircleVertexShaderObject
glAttachObjectARB CircleShader, CirclePixelShaderObject

LogInfo(CircleVertexShaderObject,"~nVertexShaderObject")
loginfo(CirclePixelShaderObject,"~nPixelShaderObject")
glDeleteObjectARB CircleVertexShaderobject; glDeleteObjectARB CirclePixelShaderObject
glLinkProgramARB CircleShader

' PROGRAM BEGINS

Local Image:TImage = CreateImage(64,64)
Local Timer:Float = 0.0
Local x:Int = 0, y:Int = 0, xd:Int = 2, yd:Int = 2
Local CString:Byte Ptr = "Timer".ToCString()
Local Location:Int

Repeat
	Cls ; 
	glUseProgramObjectARB CircleShader
	Location = glGetUniformLocationARB(CircleShader,CString)
	glUniform1fARB(Location,Timer)
	TileImage Image,0,0
	
	glUseProgramObjectARB PO ; 
	Location = glGetUniformLocationARB(PO,CString)
	glUniform1fARB(Location,Timer)
	DrawImage Image,x,y; glUseProgramObjectARB 0
	Delay 1 ; Flip 1
	
	Timer :+ 4
	If Timer &gt;= 360 Then Timer :- 360
	x :+ xd
	If x &gt; xres-64 Then xd = -2
	If x &lt; 0 Then xd = 2
	y :+ yd
	If y &gt; yres - 64 Then yd = -2
	If y &lt; 0 Then yd = 2
Until KeyHit(KEY_ESCAPE)
End

' SHADERS
Const VERTEX:String = "void main(void) { gl_Position = gl_ModelViewProjectionMatrix * gl_Vertex ; gl_TexCoord[0] = gl_MultiTexCoord0 ; }"

Const PIXEL:String = ..
"uniform float Timer; void main(void) { vec4 coord = gl_TexCoord[0]  ;                                  ~n" + ..
"float p1 = sin(( Timer + coord.x *360.0 * 4.0)*3.14159/180.0) ; float p2 = sin(( Timer + coord.y *360.0 * 4.0)*3.14159/180.0) ;" + ..
"gl_FragColor = vec4(p1,p2,0.0,1.0) ; }"

Function LogInfo(Obj:Int, Prompt:String = "~n")
	Print Prompt
		Local LS:Byte[]
	Local Length:Int
	glGetInfoLogARB(obj, 1024, Varptr Length,  LS)
	Print String.FromBytes(LS,Length)
End Function

Rem VERTEX SHADER
void main(void) {
gl_Position = gl_ModelViewProjectionMatrix * gl_Vertex
gl_TexCoord[0] = gl_MultiTexCoord0 
}
EndRem

Rem PIXEL SHADER
void main(void) {
vec4 coord = gl_TexCoord[0]
vec4 coord2 = coord
int temp = 0
while (temp++ &lt; 512) {
coord2.w = coord.w + coord.y
coord2.y = coord.y + coord.x
}
float p = coord2.x
gl_FragColor = vec4(p,0.0,0.0,1.0)
}
EndRem
</textarea> <br><br></td></tr></table><br>
<a name="1291468"></a>

<a name="1291469"></a>

<a name="1291472"></a>

<a name="1291474"></a>

<a name="1291478"></a>

<a name="1291479"></a>

<a name="1291481"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#114">[#114]</a></td></tr></table></td></tr><tr ><td class="posttext"> Some nice patterns, abstract-red-bloodcells-whirlpools from hell.<br><br><pre class=code>

'        50 SHADES of Red
'
' A simple introduction To shaders
'

' SET GRAPHICS MODE
Local xres:Int = DesktopWidth(), yres:Int = DesktopHeight() ; GLGraphics xres,yres,32,60,GRAPHICS_BACKBUFFER + GRAPHICS_DEPTHBUFFER ; glewInit ; HideMouse
glMatrixMode GL_PROJECTION ; glLoadIdentity ; glOrtho 0,xres,yres,0,-1,1 ; glMatrixMode GL_MODELVIEW ; glLoadIdentity ; glViewport 0,0,xres,yres ; glPixelZoom 1,-1 ; glRasterPos2i 0,0

' CREATE SHADER
Local VC:String = VERTEX ; PC:String = PIXEL ; PO = glCreateProgramObjectARB() ; VS = glCreateShaderObjectARB(GL_VERTEX_SHADER_ARB) ; PS = glCreateShaderObjectARB(GL_FRAGMENT_SHADER_ARB)
Local SC:Byte Ptr = VC.ToCString(),SL = VC.Length ; glShaderSourceARB VS,1,Varptr SC,Varptr SL ; MemFree SC ; glCompileShaderARB VS
SC = PC.ToCString() ; SL = PC.Length ; glShaderSourceARB PS,1,Varptr SC,Varptr SL ; MemFree SC
glCompileShaderARB PS ; glAttachObjectARB PO,VS ; glAttachObjectARB PO,PS ; glDeleteObjectARB VS ; glDeleteObjectARB PS ; glLinkProgramARB PO

' INIT VARIABLES
Local CString:Byte Ptr = "timer".ToCSTring(), TimerObject:Int = glGetUniformLocationARB(PO,CString), timer:Float = 0 ' TIMER
 
' PROGRAM BEGINS
Repeat
glClear GL_COLOR_BUFFER_BIT ; glUseProgramObjectARB PO

' FUN
If MouseDown(1) Then timer = MouseX()/1024.0 ' allow interactivity when mousdown

glUniform1fARB(TimerObject,timer) ; timer :+ 0.05 ; timer = timer Mod 360 ' TIMER
glBegin GL_QUADS ; glTexCoord2f(0,0) ; glVertex2f(0,0) ; glTexCoord2f(1,0) ; glVertex2f(xres/2,0) ; glTexCoord2f(1,1) ; glVertex2f(xres/2,yres) ; glTexCoord2f(0,1) ; glVertex2f(0,yres)
glTexCoord2f(1,0) ; glVertex2f(xres/2,0) ; glTexCoord2f(0,0) ; glVertex2f(xres,0) ; glTexCoord2f(0,1) ; glVertex2f(xres,yres) ; glTexCoord2f(1,1) ; glVertex2f(xres/2,yres) 
glEnd ; glUseProgramObjectARB 0 ' Custom attributes instead, glVertexAttrib2f or VA/VBO glEnableVertexAttribArray/glVertexAttribPointer.
Delay 1 ; Flip 1
Until KeyHit(KEY_ESCAPE)
End

' ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

' SHADERS
Const VERTEX:String = "void main() { gl_Position = gl_ModelViewProjectionMatrix * gl_Vertex ; gl_TexCoord[0] = gl_MultiTexCoord0 ; }"

Const PIXEL:String = ..
"vec2 O = vec2(0.0,1.0) ;        ~n" + ..
"float wrap(float x) {return abs(mod(x,2.0)-1.0) ; }                                                                                    ~n" + ..
"float wave(vec2 p,float angle) {vec2 direction = vec2(cos(angle),sin(angle)) ; return cos(dot(p,direction)) ; }                        ~n" + ..
"float rand (in vec2 uv) {return fract(sin(dot(uv,vec2(12.4124,48.4124)))*48512.41241) ; }                                              ~n" + ..
"float noise (in vec2 uv) {vec2 b = floor(uv) ; return mix(mix(rand(b),rand(b+O.yx),0.5),mix(rand(b+O),rand(b+O.yy),0.5),0.5) ; }       ~n" + ..
"varying vec2 position ; uniform sampler2D tex0 ; uniform vec2 resolution ; uniform float timer ;                                       ~n" + ..
"void main() { vec4 coord = gl_TexCoord[0] ; vec2 uv = coord.xy / resolution.xy ;                                                       ~n" + ..
"vec2 p = (coord.xy - 0.5) * 50.0 ; float brightness = 0.0 ; for (float i = 1.0 ; i &lt;= 11.0 ; i++) {brightness += wave(p,timer/i) ; }   ~n" + ..
"brightness = wrap(brightness) ;  gl_FragColor = vec4(brightness,0.0,0.0,1.0) ; gl_FragColor.a = 1.0 ; }                                ~n"

' ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Rem Unrolled Pixelshader
vec2 O = vec2(0.0,1.0)
float wrap(float x) {return abs(mod(x,2.0)-1.0) ; }
float wave(vec2 p,float angle) {vec2 direction = vec2(cos(angle),sin(angle)) ; return cos(dot(p,direction)) ; }
float rand (in vec2 uv) {return fract(sin(dot(uv,vec2(12.4124,48.4124)))*48512.41241) ; }
float noise (in vec2 uv) {vec2 b = floor(uv) ; return mix(mix(rand(b),rand(b+O.yx),0.5),mix(rand(b+O),rand(b+O.yy),0.5),0.5) ; }

varying vec2 position ; uniform sampler2D tex0 ; uniform vec2 resolution ; uniform float timer 

void main() {
	vec4 coord = gl_TexCoord[0]
	vec2 uv = coord.xy / resolution.xy
	vec2 p = (coord.xy - 0.5) * 50.0
	float brightness = 0.0
	for (float i = 1.0 ; i &lt;= 11.0 ; i++) {
		brightness += wave(p,timer/i)
	}
brightness = wrap(brightness)
gl_FragColor = vec4(brightness,0.0,0.0,1.0)
gl_FragColor.a = 1.0 
}
EndRem
</pre> <br><br></td></tr></table><br>
<a name="1291509"></a>

<a name="1291511"></a>

<a name="1291512"></a>

<a name="1291513"></a>

<a name="1291517"></a>

<a name="1291518"></a>

<a name="1291572"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#115">[#115]</a></td></tr></table></td></tr><tr ><td class="posttext"> TomToad's I Like it ! <br><br>I couldnt get the circleshader working it said something about some error I dont know what that was about.<br><br>Got the sudden urge for images now.<br>Click and hold the mouse to interact with the shaders for some nice effect. <br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">

'        50 SHADES of Yellow
'
' A simple introduction To shaders
'

' SET GRAPHICS MODE
Local xres:Int = DesktopWidth(), yres:Int = DesktopHeight() ; SetGraphicsDriver GLMax2DDriver() ; Graphics xres,yres,32 ; glewInit ; HideMouse ; ' GLShareContexts

' CREATE SHADERS
PO = glCreateProgramObjectARB() ; VS = glCreateShaderObjectARB(GL_VERTEX_SHADER_ARB) ; PS = glCreateShaderObjectARB(GL_FRAGMENT_SHADER_ARB)
Local SC:Byte Ptr = VC.ToCString(),SL = VC.Length ; glShaderSourceARB VS,1,Varptr SC,Varptr SL ; MemFree SC ; glCompileShaderARB VS
SC = PC.ToCString() ; SL = PC.Length ; glShaderSourceARB PS,1,Varptr SC,Varptr SL ; MemFree SC
glCompileShaderARB PS ; glAttachObjectARB PO,VS ; glAttachObjectARB PO,PS ; Loginfo(VS) ; Loginfo(PS) ; glDeleteObjectARB VS ; glDeleteObjectARB PS ; glLinkProgramARB PO ; Loginfo(VS)

PO2 = glCreateProgramObjectARB() ; VS2 = glCreateShaderObjectARB(GL_VERTEX_SHADER_ARB) ; PS2 = glCreateShaderObjectARB(GL_FRAGMENT_SHADER_ARB)
SC = VC2.ToCString() ; SL = VC2.Length ; glShaderSourceARB VS2,1,Varptr SC,Varptr SL ; MemFree SC ; glCompileShaderARB VS2
SC = PC2.ToCString() ; SL = PC2.Length ; glShaderSourceARB PS2,1,Varptr SC,Varptr SL ; MemFree SC
glCompileShaderARB PS2 ; glAttachObjectARB PO2,VS2 ;  glAttachObjectARB PO2,PS2 ; Loginfo(VS2) ; Loginfo(PS2) ; glDeleteObjectARB VS2 ; glDeleteObjectARB PS2 ; glLinkProgramARB PO2 ; Loginfo(VS2)

' INIT VARIABLES, TIMER, IMAGES
Local CString:Byte Ptr = "timer".ToCSTring(),TimerObject:Int = glGetUniformlocationARB(PO,CString),timer:Float = 0
Local Image:TImage = CreateImage(64,64),x:Int = 0,y:Int = 0,l:Int ; l = glGetUniformlocationARB(PO,CString) ; l2 = glGetUniformlocationARB(PO2,CString) 

' PROGRAM BEGINS
Repeat
Cls
glUniform1fARB(TimerObject,timer) ; x=x+1 ; y = y + 1 ; timer :+ 1 ; timer = timer Mod 360 ' UPDATE TIMER &amp; VARIABLES
temp=temp + 3 ; x=Cos(temp) * 100 ; y=Sin(temp) * 100 ; temp2=temp2 + 2 ; x2=Cos(temp2) * 100 ; y2=Sin(temp2) * 50

' FUN
If MouseDown(1) Then timer = MouseX()/1024.0 + MouseY()/100.0 ' allow interactivity when mousedown
glUseProgramObjectARB PO ; glUniform1fARB(l,timer) ; glUseProgramObjectARB PO2 ; glUniform1fARB(l2,Timer) ' Animate both shaders with timer

' Draw 2 Shaders to 2 quads
glUseProgramObjectARB PO ; glBegin GL_QUADS ; glTexCoord2f(0,0) ; glVertex2f(0,0) ; glTexCoord2f(1,0) ; glVertex2f(xres/2,0) ; glTexCoord2f(1,1) ; glVertex2f(xres/2,yres) ; glTexCoord2f(0,1) ; glVertex2f(0,yres) ; glEnd 
glUseProgramObjectARB PO2 ; glBegin GL_QUADS ; glTexCoord2f(1,0) ; glVertex2f(xres/2,0) ; glTexCoord2f(0,0) ; glVertex2f(xres,0) ; glTexCoord2f(0,1) ; glVertex2f(xres,yres) ; glTexCoord2f(1,1) ; glVertex2f(xres/2,yres) ; glEnd

' 1st shader to image &amp; draw few copies
glUseProgramObjectARB PO ; For tempy=0 To 7 ; For tempx=0 To 7 ; DrawImage Image,x+tempx*128,y+tempy*128 ; Next ; Next

' 2nd shader to image &amp; draw few copies
 glUseProgramObjectARB PO2 ; For tempy=0 To 7 ; For tempx=0 To 7 ; DrawImage Image,x2+tempx*128,y2+tempy*128 ; Next ; Next ; glUseProgramObjectARB 0 ' last

Delay 1 ; Flip 1
Until KeyHit(KEY_ESCAPE)
End

' SHADERS
Const VC:String = "void main() { gl_Position = gl_ModelViewProjectionMatrix * gl_Vertex ; gl_TexCoord[0] = gl_MultiTexCoord0 ; }"

Const PC:String = "uniform float timer ; void main() {vec4 coord = gl_TexCoord[0] ;        ~n" + ..
"float p1 = sin((timer + coord.x * 360.0 * 4.0)*3.1415926535897932384626433832795/180.0) ; ~n" + ..
"float p2 = sin((timer + coord.y * 360.0 * 4.0)*3.1415926535897932384626433832795/180.0) ; gl_FragColor = vec4(p1,p2,0.0,1.0) ; }"

Const VC2:String =  "void main() { gl_Position = gl_ModelViewProjectionMatrix * gl_Vertex ; gl_TexCoord[0] = gl_MultiTexCoord0 ; }"

Const PC2:String = "vec2 O = vec2(0.0,1.0) ;        ~n" + ..
"float wrap(float x) {return abs(mod(x,2.0)-1.0) ; }                                                                                    ~n" + ..
"float wave(vec2 p,float angle) {vec2 direction = vec2(cos(angle),sin(angle)) ; return cos(dot(p,direction)) ; }                        ~n" + ..
"float rand (in vec2 uv) {return fract(sin(dot(uv,vec2(12.4124,48.4124)))*48512.41241) ; }                                              ~n" + ..
"float noise (in vec2 uv) {vec2 b = floor(uv) ; return mix(mix(rand(b),rand(b+O.yx),0.5),mix(rand(b+O),rand(b+O.yy),0.5),0.5) ; }       ~n" + ..
"varying vec2 position ; uniform sampler2D tex0 ; uniform vec2 resolution ; uniform float timer ;                                       ~n" + ..
"void main() { vec4 coord = gl_TexCoord[0] ; vec2 uv = coord.xy / resolution.xy ;                                                       ~n" + ..
"vec2 p = (coord.xy - 0.5) * 50.0 ; float brightness = 0.0 ; for (float i = 1.0 ; i &lt;= 11.0 ; i++) {brightness += wave(p,timer/i) ; }   ~n" + ..
"brightness = wrap(brightness) ;  gl_FragColor = vec4(brightness,0.0,0.0,1.0) ; gl_FragColor.a = 1.0 ; }                                ~n"

Function LogInfo(Obj:Int, Prompt:String = "~n") ; Print Prompt ; Local LS:Byte[], Length:Int ; glGetInfoLogARB(obj, 1024, Varptr Length,  LS) ; Print String.FromBytes(LS,Length) ; End Function
</textarea> <br><br></td></tr></table><br>
<a name="1291561"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#116">[#116]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Casaber, what error are you getting?  If you run it in debug mode, it should print some error messages in the BlitzMax output tab.<br><br>It may be there is an error in the shader code. Apparently, some graphics cards are a little more slack on the GLSL standards and will accept code that others will flag as an error. <br><br></td></tr></table><br>
<a name="1291569"></a>

<a name="1291570"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#117">[#117]</a></td></tr></table></td></tr><tr ><td class="posttext"> I got this error, I mostly got a black shader2 but a few times I got noisey pixels, and one rare time I could see the wallpaper of circles (OS garbled with noise). (Same error always though).<br><br>PixelShaderObject<br>ERROR: 0:2: '*' does not operate on 'float' and 'int'<br>ERROR: 0:2: '*' does not operate on 'float' and 'int'<br>ERROR: 0:2: '*' does not operate on 'float' and 'int'<br>ERROR: 0:2: Use of undeclared identifier 'red'<br>ERROR: 0:2: Use of undeclared identifier 'green'<br>ERROR: 0:2: Use of undeclared identifier 'blue' <br><br></td></tr></table><br>
<a name="1291571"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >steve_ancell</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#118">[#118]</a></td></tr></table></td></tr><tr ><td class="posttext"> Rewinding back to post #2:<br><br>I just tried this, no flicker whatsoever. <br><br></td></tr></table><br>
<a name="1291573"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#119">[#119]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, found the problem.  GLSL specs don't allow for operations on different types.  So 360.0 * 3 is not allowed on many cards.  This version should work.<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">'        1000 Bullseyes
'
' A simple introduction To shaders
'
'

' SET GRAPHICS MODE
Local xres:Int = DesktopWidth(), yres:Int = DesktopHeight() ; SetGraphicsDriver GLMax2DDriver(); Graphics xres,yres,32; glewInit; 'GLShareContexts

' CREATE LINE SHADER
Local VC:String = VERTEX ; PC:String = PIXEL ; PO = glCreateProgramObjectARB() ; VS = glCreateShaderObjectARB(GL_VERTEX_SHADER_ARB) ; PS = glCreateShaderObjectARB(GL_FRAGMENT_SHADER_ARB)
Local SC:Byte Ptr = VC.ToCString(),SL = VC.Length ; glShaderSourceARB VS,1,Varptr SC,Varptr SL ; MemFree SC ; glCompileShaderARB VS
SC = PC.ToCString() ; SL = PC.Length ; glShaderSourceARB PS,1,Varptr SC,Varptr SL ; MemFree SC
glCompileShaderARB PS ; glAttachObjectARB PO,VS ; glAttachObjectARB PO,PS ; glDeleteObjectARB VS ; glDeleteObjectARB PS ; glLinkProgramARB PO

' CREATE CIRCLE SHADER
Local CircleVertexShaderSource:String = "void main(void) { gl_Position = gl_ModelViewProjectionMatrix * gl_Vertex ; gl_TexCoord[0] = gl_MultiTexCoord0 ; }"
Local CirclePixelShaderSource:String = "uniform float Timer; void main(void) { vec4 coord = gl_TexCoord[0]  ;                                  ~n" + ..
"float x = coord.x - .5; float y = coord.y - .5; float d = sqrt(x * x + y * y); " + ..
"float red = sin((d*360.0*2.0+Timer)*3.14159/180.0); float green = sin((d*360.0*3.0+Timer)*3.14159/180.0); float blue = sin((d*360.0*4.0+Timer)*3.14159/180.0);" + ..
"gl_FragColor = vec4(red,green,blue,1.0) ; }"
Local CircleShader:Int = glCreateProgramObjectARB()
Local CircleVertexShaderObject:Int = glCreateShaderObjectARB(GL_VERTEX_SHADER_ARB)
Local CirclePixelShaderObject:Int = glCreateShaderObjectARB(GL_FRAGMENT_SHADER_ARB)
SC = CircleVertexShaderSource.ToCString(); SL = CircleVertexShaderSource.Length
glShaderSourceARB(CircleVertexShaderObject,1,Varptr SC,Varptr SL) ; MemFree SC; glCompileShaderARB CircleVertexShaderObject
SC = CirclePixelShaderSource.ToCString(); SL = CirclePixelShaderSource.Length
glShaderSourceARB(CirclePixelShaderObject,1,Varptr SC,Varptr SL); MemFree SC; glCompileShaderARB CirclePixelShaderObject
glAttachObjectARB CircleShader, CircleVertexShaderObject
glAttachObjectARB CircleShader, CirclePixelShaderObject

LogInfo(CircleVertexShaderObject,"~nVertexShaderObject")
loginfo(CirclePixelShaderObject,"~nPixelShaderObject")
glDeleteObjectARB CircleVertexShaderobject; glDeleteObjectARB CirclePixelShaderObject
glLinkProgramARB CircleShader

' PROGRAM BEGINS

Local Image:TImage = CreateImage(64,64)
Local Timer:Float = 0.0
Local x:Int = 0, y:Int = 0, xd:Int = 2, yd:Int = 2
Local CString:Byte Ptr = "Timer".ToCString()
Local Location:Int

Repeat
	Cls ; 
	glUseProgramObjectARB CircleShader
	Location = glGetUniformLocationARB(CircleShader,CString)
	glUniform1fARB(Location,Timer)
	TileImage Image,0,0
	
	glUseProgramObjectARB PO ; 
	Location = glGetUniformLocationARB(PO,CString)
	glUniform1fARB(Location,Timer)
	DrawImage Image,x,y; glUseProgramObjectARB 0
	Delay 1 ; Flip 1
	
	Timer :+ 4
	If Timer &gt;= 360 Then Timer :- 360
	x :+ xd
	If x &gt; xres-64 Then xd = -2
	If x &lt; 0 Then xd = 2
	y :+ yd
	If y &gt; yres - 64 Then yd = -2
	If y &lt; 0 Then yd = 2
Until KeyHit(KEY_ESCAPE)
End

' SHADERS
Const VERTEX:String = "void main(void) { gl_Position = gl_ModelViewProjectionMatrix * gl_Vertex ; gl_TexCoord[0] = gl_MultiTexCoord0 ; }"

Const PIXEL:String = ..
"uniform float Timer; void main(void) { vec4 coord = gl_TexCoord[0]  ;                                  ~n" + ..
"float p1 = sin(( Timer + coord.x *360.0 * 4.0)*3.14159/180.0) ; float p2 = sin(( Timer + coord.y *360.0 * 4.0)*3.14159/180.0) ;" + ..
"gl_FragColor = vec4(p1,p2,0.0,1.0) ; }"

Function LogInfo(Obj:Int, Prompt:String = "~n")
	Print Prompt
		Local LS:Byte[]
	Local Length:Int
	glGetInfoLogARB(obj, 1024, Varptr Length,  LS)
	Print String.FromBytes(LS,Length)
End Function

Rem VERTEX SHADER
void main(void) {
gl_Position = gl_ModelViewProjectionMatrix * gl_Vertex
gl_TexCoord[0] = gl_MultiTexCoord0 
}
EndRem

Rem PIXEL SHADER
void main(void) {
vec4 coord = gl_TexCoord[0]
vec4 coord2 = coord
int temp = 0
while (temp++ &lt; 512) {
coord2.w = coord.w + coord.y
coord2.y = coord.y + coord.x
}
float p = coord2.x
gl_FragColor = vec4(p,0.0,0.0,1.0)
}
EndRem
</textarea> <br><br></td></tr></table><br>
<a name="1291575"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#120">[#120]</a></td></tr></table></td></tr><tr ><td class="posttext"> @TomToad<br><br>Try to follow your mouse cursor while your code is running - I assume you should avoid this when not being sober :-)<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1291577"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#121">[#121]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great ! Me too, found it just the minute ago i just couldnt let it go.<br>Shaders really want floats everywhere . Missing a . could kill it instantly. Glad that's sorted! <br><br></td></tr></table><br>
<a name="1291638"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#122">[#122]</a></td></tr></table></td></tr><tr ><td class="posttext"> Morning ! Yes it's coffee time ...<br><br>Casaber, that's an astounding bit of code you have there. Question, can you write a routine so you can stuff in a display of any size (512x384 zoomed) or (1024x768 unzoomed) and place pure random pixels in the field ? R G B (0-255) ? <br><br></td></tr></table><br>
<a name="1291644"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#123">[#123]</a></td></tr></table></td></tr><tr ><td class="posttext"> Zooming is no problem it handles that, but the pixelaccess I need to try out. <br>I found a way to even READ pixels under 5ms on a mobile now (normally taking 100ms for a 720 picture). So Im encourage by that.<br><br>Writing should be possible with good speed later most likely ! <br><br></td></tr></table><br>
<a name="1291645"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#124">[#124]</a></td></tr></table></td></tr><tr ><td class="posttext"> I forgot to mention what it means<br><br>12ms becomes 60hz<br>24ms is 30hz<br>100ms is way slow<br>5msec is really fast <br><br></td></tr></table><br>
<a name="1291759"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#125">[#125]</a></td></tr></table></td></tr><tr ><td class="posttext"> Casaber, is using this new method, is it the fastest way of putting pixels on the screen ? Benchmark ? <br><br></td></tr></table><br>
<a name="1291792"></a>

<a name="1291793"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#126">[#126]</a></td></tr></table></td></tr><tr ><td class="posttext"> Im counting on 5 msec as the worst case scenario, which is the same as my PIXELWRITERBUFFER. Its a (nice) standard bus constrain today.<br>Pixelshaders constrain are the GPU bus and memory, the design of all. I have only some rough ideas what to expect. If I keep under 2-5msec it would be great.<br><br>GPU's biggest trick up its sleave is to avoid pixel overdraws. When you use GPU's for splatting images this is very accessible but with shaders it's not as easly.<br>Some of these feataures are hidden in the hardware and some are very visible to the programmer as things like DEPTHBUFFER, STENCIL, those kind of things. <br>The GPU uses those buffers but they are not filled with rgba values for each pixel in those buffers but a number which gives the idea of "depth".<br><br>And you could of course do alot things with this. <br><br>This is great for handling 2D overdraws. You know when you draw more than "you really have to", to get a scene going with layers, those kind of thigns.<br>The GPU accesses those buffers much more quicker than it may access rgba buffers, also you may program many things how the GPU should react on those.<br><br>Shaders are not good at using these overdrawing features. That makes it worse than "normal GPU of just splatting images".<br>This is why VBO works so good. It allows pixeloverawing.<br><br>You want a VBO with PBO's I think would be the best soution.<br>This way you could draw pixles using normal techniques (GAINING THE SPEED PIXELOVERDRAW), and then read/write pixels aswell.<br><br>If you use alpha alot, I dont think pixeloverdraw makes a difference at all.<br>Scratch all that. But this way would either way give you the best possible scenario Im very sure on that so that's my goal.<br><br>Sorry for blabbing incoherently, my gf is still on the hospital and Im not feeling any good.<br><br><br>I will try to come up with ideas later okay <br><br></td></tr></table><br>
<a name="1292023"></a>

<a name="1292024"></a>

<a name="1292026"></a>

<a name="1292027"></a>

<a name="1292029"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#127">[#127]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
Global xres:Int = 1920 ; yres:Int = 1080 ; Global pixels:Int[xres*yres] ; Global pixels2:Int[xres*yres]
GLGraphics(xres,yres,32,60,GRAPHICS_BACKBUFFER + GRAPHICS_DEPTHBUFFER) ; HideMouse ' Fullscreen 
glViewport(0,0,xres,yres) ;  glLoadIdentity() ; glMatrixMode(GL_PROJECTION) ; glPixelZoom(1,-1) ; glOrtho(0,xres,yres,0,0,1) ; glRasterPos2i(0,0)

' C64 managed 2KB per frame just barely, To be able to do this was "elite" (120 KB / sec) (Triple buffering was pretty much invented here just to get things going)

' 1920 x 1080 32bit is 8MB per frame (0.5G Byte per 12 msec) (This example shows that One read of the screen + One write of the screen is possible under 12msec (60hz).

' A full read (0.5 GByte) and a full write (0.5 GB), makes a 1 Gbyte transfer happens between CPU and GPU per second.

' If you use any other resolution here's the numbers per frame it takes, just to get the feeling when you upsize pixels to something else.
' 1920*1080 takes 8MB, 0.5 GB per sec
' 1280*800 takes 4MB, 0.25GB per sec
' 1280*720 takes 3.5MB, 0.21 GB per sec
' 1024*768 takes 3MB, 0.18 GB per sec
' 800*600 takes 1.8MB, 0.1 GB  per sec
' 640*480 takes 1.2MB, 120 MB per sec
' 320*240 takes 0.3MB, 18 MB per sec

' Main
Repeat

	' Demo a CLS, example how to clear the array (non-optimized)
	For y=0 To yres-1 Step 1 ; For x=0 To xres-1 Step 1 ; pixels[(y*xres+x)] = 0 ; Next ; Next ' stepping is not needed if you only use 1
	
	' Demo a PLOT, example how to draw a pixel x,y,color (non-optimized and non-clipping)
	x=400 ; y = 300 ; c = 65535 ; 	pixels[x + y*xres] = c

        ' Demo
	a = a + 1 ; b = 64 * Sqr(a)*Cos(a) ; 	For y=0 Until yres Step 1 ; For x=0 Until xres Step 1 ; 	c = x + b * b Shr 8 * x+yy ; 	pixels[x + y*xres] = c ; 	Next ; Next
	
	' This reads an array from the GPU, make a dummy read of the entire screen before each frame and it just about manages to fetch an entire HD screen once and write it all once. 
        ' Living on the edge but it's a simple apporach. No slowdown on e.g. 2010 Mac's.
	 glReadPixels 0,0,xres,yres,GL_BGRA,GL_UNSIGNED_BYTE,Varptr(Pixels2[0]) ' Reads into an invisible array as a test.
	
	' This writes the array to the GPU, amazingly this is not the major bottleneck even on weak machines.
         glDrawPixels(xres,yres,GL_BGRA,GL_UNSIGNED_BYTE,Varptr(Pixels[0]))

Delay 1 ; Flip 1

Until MouseDown(2)
End
</pre> <br><br></td></tr></table><br>
<a name="1292030"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#128">[#128]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
Global xres:Int = 1920 ; yres:Int = 1080 ; Global pixels:Int[xres*yres] ; Global pixels2:Int[xres*yres]
GLGraphics(xres,yres,32,60,GRAPHICS_BACKBUFFER + GRAPHICS_DEPTHBUFFER) ; HideMouse ' Fullscreen 
glViewport(0,0,xres,yres) ;  glLoadIdentity() ; glMatrixMode(GL_PROJECTION) ; glPixelZoom(1,-1) ; glOrtho(0,xres,yres,0,0,1) ; glRasterPos2i(0,0)

' C64 managed 2KB per frame just barely, To be able to do this was "elite" (120 KB / sec) (Triple buffering was pretty much invented here just to get things going)

' 1920 x 1080 32bit is 8MB per frame (0.5G Byte per 12 msec) (This example shows that One read of the screen + One write of the screen is possible under 12msec (60hz).

' A full read (0.5 GByte) and a full write (0.5 GB), makes a 1 Gbyte transfer happens between CPU and GPU per second.

' If you use any other resolution here's the numbers per frame it takes, just to get the feeling when you upsize pixels to something else.
' 1920*1080 takes 8MB, 0.5 GB per sec
' 1280*800 takes 4MB, 0.25GB per sec
' 1280*720 takes 3.5MB, 0.21 GB per sec
' 1024*768 takes 3MB, 0.18 GB per sec
' 800*600 takes 1.8MB, 0.1 GB  per sec
' 640*480 takes 1.2MB, 120 MB per sec
' 320*240 takes 0.3MB, 18 MB per sec

' Main
Repeat

	' Demo a CLS, example how to clear the array (non-optimized)
	For y=0 To yres-1 Step 1 ; For x=0 To xres-1 Step 1 ; pixels[(y*xres+x)] = 0 ; Next ; Next ' stepping is not needed if you only use 1
	
	' Demo a PLOT, example how to draw a pixel x,y,color (non-optimized and non-clipping)
	x=400 ; y = 300 ; c = 65535 ; 	pixels[x + y*xres] = c

        ' Demo
	a = a + 1 ; b = 64 * Sqr(a)*Cos(a) ; 	For y=0 Until yres Step 1 ; For x=0 Until xres Step 1 ; 	c = x + b * b Shr 8 * x+yy ; 	pixels[x + y*xres] = c ; 	Next ; Next
	
	' This reads an array from the GPU, make a dummy read of the entire screen before each frame and it just about manages to fetch an entire HD screen once and write it all once. 
        ' Living on the edge but it's a simple apporach. No slowdown on e.g. 2010 Mac's.
	 glReadPixels 0,0,xres,yres,GL_BGRA,GL_UNSIGNED_BYTE,Varptr(Pixels2[0]) ' Reads into an invisible array as a test.
	
	' This writes the array to the GPU, amazingly this is not the major bottleneck even on weak machines.
         glDrawPixels(xres,yres,GL_BGRA,GL_UNSIGNED_BYTE,Varptr(Pixels[0]))

Delay 1 ; Flip 1

Until MouseDown(2)
End
</pre> <br><br></td></tr></table><br>
<a name="1292025"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#129">[#129]</a></td></tr></table></td></tr><tr ><td class="posttext"> Doing two things now side by side,<br><br>Pixelwriter with FBO the other is Shader with FBO<br><br>Both takes about 2 screens worth of code, but I'll have to create an API to use everything and makes some examples. I'll promise I'll something.<br><br>You could try explain exactly what you need to do and what you need to read I will try see if it's managable to do it. okay? <br><br></td></tr></table><br>
<a name="1292031"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#130">[#130]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>under 12msec (60hz).<br> <br></div><br><br>Unless I'm wrong considering what a Hertz is :<br>60 hz = 60 frames per second<br>= 16.7 ms per frame<br><br>So, what is supposed to be the 12 msec in your code comments ? <br><br></td></tr></table><br>
<a name="1292034"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#131">[#131]</a></td></tr></table></td></tr><tr ><td class="posttext"> I use the 12msec for some other uses, andI I also use it for extra overhead. Don't worry about that. <br><br></td></tr></table><br>
<a name="1292035"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#132">[#132]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's just an average of the span I uses alot (10-16msec).<br><br>I guess I forgot to change it to specific numbers when showing them. Sorry for the confusion. <br><br></td></tr></table><br>
<a name="1292062"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#133">[#133]</a></td></tr></table></td></tr><tr ><td class="posttext"> Casaber, the code above is pegging my CPU at 100%, do you think you can get it down a bit ?<br><br>Rapid speed of pixels, little to zero use of CPU - that's the ticket ! <br><br></td></tr></table><br>
<a name="1292082"></a>

<a name="1292101"></a>

<a name="1292102"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#134">[#134]</a></td></tr></table></td></tr><tr ><td class="posttext"> Adding PBO to a VBO will take the same amount of time as readingpixels  (if readpixels is nicely implemented in the driver) there's also least 4 main variations how to read pixels then a few different techniques using them but they all seem to share the same speed limits (the bus). But I think you got slowdown becuase of bad implementation So I will try find a better one.<br><br>In the meantime try changing GL_BGRA into GL_RGBA (this is less common but sometimes used on the GPU, it might help. I dont think so but there's a chance.<br><br>Adding PBO will take away waitime from the CPU (things gets asynchrounsly). So everything will stay the same the speed for the pixels to get there is the same, it's only the CPU's that gets freed up totally.<br>In this example CPU have to wait at each read or write is finished. But PBO adds no magic speedup, just freeing the up so the R/W will become air for it.<br><br>Im going got the the lowest common denominator. That's why I want to keep things below 1GB.<br><br>I would like precise pixel access above anything else aswell so I will focus on that. VBO with PBO are my best hope so far but I need to work out the specifics that really drives up the speed.<br>I think that pegging in the CPU just happens to be that I happened to use a "bad" API path. Meaning it's likely that readpixels might be badly I think, and that it could do better.<br><br>I just need some motivation to know where to go, there's alot of options how to do everything in a good combination. How to mix features, What do we need?<br>Do we want to have bufferimages splatted, with alpha rotation and size applied and then be able to read back the pixels they made? You mentioned quads and wanting to warp the software buffers.<br><br>How to mix it all the working piece together in a nice way that's usable. <br><br>What are the actual practical things we need to be done quickest? The more detailed the better really.<br><br><br><br>My thoughts about the pixelwriter<br>I marvel at the fact that you could do 50 reads and 50 writes to a 320x240 screens (worth the same as 2 HD screens) Both are 1GB per second. And API latency for having 100 separate calls is minimal.<br><br>With the C64 you had 8KB bitmap and you could not even DREAM about to do more than 2KB per frame. (That's why tiling became so popular, it was 2K.. 25x40 bytes to fill a whole screen, exactly 1000 chars and 1000 bytes for colorinfo - you had your 2K to move in time)<br><br>Why I like that? becuase you had to draw everything manually back then, no alpha/blend no stretch rotation. It makes you humble of what you've got today.<br>Being able to do 50 reads and 50 writes to pixelbuffers of 320x240 buffers silky smooth is not to be thrown upon.<br><br>That's is a world in itself, worth exploring. <br><br></td></tr></table><br>
<a name="1292086"></a>

<a name="1292087"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#135">[#135]</a></td></tr></table></td></tr><tr ><td class="posttext"> I got painting to VBO and shader working nicely, meaning we can paint onto images/sprites with primitives and other sprites, but adding pixelaccess breaks it abit  I need time to do update my <br>knowledge in the details to match the current common minimum denominmator, which is the sensible goal.<br><br>My gf got home from hostpital so I need to take care of her now and that might make the coding suffer abit. And I need to rest up too I guess I'm soo finished right now.<br><br>But I've got your mail. And The forum is good too.<br><br>We'll keep checking how this will progress with time allright? <br><br></td></tr></table><br>
<a name="1292133"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#136">[#136]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Casaber. You mentioned something about your girlfriend ! Is everything okay, what's happening there ?<br><br>Focus on that before anything else. Hope you are doing well. I see my own Doctor Wednesday. Psychiatric. Ah - they check up on me. :) But afterwards visit my sister out in the country on her farm.<br><br>So likely I'll be really GONE most of the day tomorrow.<br><br>And yes, I'm still working on the Carryall 750k, at this point the interface so it's easy to use as it is fairly complex what goes on inside.<br><br>out "[1] Change Encryption KEY, currently ("+key+")"<br>out "~q"+sdat2$+"~q"<br>out<br>out "[2] Get Code From current package"<br>out<br>out "[3] Compress &amp; Encrypt File or Folder contents"<br>out "[4] Recreate Files or Folder From Code"<br>out<br>out "[0] END" <br><br></td></tr></table><br>
<a name="1292210"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Casaber</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#137">[#137]</a></td></tr></table></td></tr><tr ><td class="posttext"> I could write you a mail , It will just be a hectic time for a while, no worries.<br><br>I hope your appoint goes well !!<br><br>Really want to know about that CarryAll later aswll, you got me curious. <br><br></td></tr></table><br>
<a name="1292346"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#138">[#138]</a></td></tr></table></td></tr><tr ><td class="posttext"> Never received mail. That's fine. I wish BlitzMAX had the ability to plot text on the screen where it scrolls when you hit the bottom, like most programming languages.<br><br>Anyways, I had to write that and am getting there on the Carryall program. <br><br></td></tr></table><br>
<a name="1292372"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#139">[#139]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I wish BlitzMAX had the ability to plot text on the screen where it scrolls when you hit the bottom, like most programming languages. <br></div><br>It does.  Turn off "Build Gui App" from the Program - Build options menu.  You will now have a console window where you can use Print and Input like most Basic's text mode. <br><br></td></tr></table><br>
<a name="1292374"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#140">[#140]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Tom. The problem with that is, it's true text and I tried running one of those applications in final EXE format. It is not the least bit attractive.<br><br>No, I have my own page scroller now and am using a 5x7 double-pixel font to display the information and ask questions needed for the 750k Carryall. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
