<!DOCTYPE html><html lang="en" ><head ><title >TList indexing?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >TList indexing?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >TList indexing?</a><br><br>
<a name="468263"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there no way to index a TList?  Do I -have- to convert it into an array or use a "eachin" loop to access specific elements?<br><br>I tried using MyList[0] and MyList(0) and both produce errors.<br><br>Is this not possible? <br><br></td></tr></table><br>
<a name="468266"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could use the OO structure of TList and go through the list yourself. ( using TList.first() and Link.after() etc )<br><br>but it is not possible with the non-OO functions <br><br></td></tr></table><br>
<a name="468269"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Michael Reitzenstein</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Internally, Blitz would just iterate through the list x number of times anyway, so an EachIn wouldn't be any slower. But no, there isn't any native way to do this.<br><br>Just out of interest, I can't image a situation where you'd want to index a TList where it didn't make sense to just make it an array of objects - I'd like to see an example. <br><br></td></tr></table><br>
<a name="468270"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah ... I'm current doing this sort of thing:<br><br><pre class=code>
local array:Object[] = ListToArray( MyList )
local MyObj:MyObjectType = MyObjectType(array[MyIndex])
</pre>But I was hoping for something less hacky. <br><br></td></tr></table><br>
<a name="468271"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Michael Reitzenstein</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Your list changes frequently enough that this is a problem, but you still want to access specific elements? Or is it just the syntax that you don't like? <br><br></td></tr></table><br>
<a name="468272"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Michael<br><br>It's not that hard to imagine.  I want to have a dynamically growing array of items that I need to index directly for various reasons.<br><br>For example, I'm currently faking a 'stack' implementation by having a TList of objects, using ListAddFirst to push onto the stack and I'm wanting to do a "GetTop" function by indexing item 0.  But I currently can't do that with converting to an array first...<br><br>Is there a better way?  I'm more than willing to learn!  :) <br><br></td></tr></table><br>
<a name="468279"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> jepp :-)<br><br><pre class=code>

function getTop:Type( List:TList )
  return Type( List.RemoveFirst() )
endfunction

</pre> <br><br></td></tr></table><br>
<a name="468280"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Michael Reitzenstein</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> You've got me there! A bank would be the best thing to use for a stack, since it's got an internal size which is larger than what you size it to, so most of the time growing/shrinking it is instant. When using it to store objects, though, the syntax would be kind of ugly, and I can't figure out how to get BlitzMax to cast Object&lt;-&gt;Int. Oh, and they'd have to be stored in a list elsewhere, too, so they aren't collected.<br><br>So yeah, I guess each of the three (obvious) ways you can solve the problem are hacky. <br><br></td></tr></table><br>
<a name="468288"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Michael: Why is the usage of OO ( type own methods ) hacky?<br>There are some quite usefull functions in there that have no "flat function equivalents" so OO can't be avoided in this case, at least if you don't create your own flat functions for it :) <br><br></td></tr></table><br>
<a name="468294"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Dreamora<br><br>I don't want to remove the first item, I want to retrieve it.  :) <br><br></td></tr></table><br>
<a name="468295"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> removefirst returns the first object in the list and removes it afterwards<br>you can use .first() if you want it to stay in the list<br><br>see linkedlist.bmx for full details what it actually does :) <br><br></td></tr></table><br>
<a name="468309"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Michael Reitzenstein</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Michael: Why is the usage of OO ( type own methods ) hacky? <br></div><br>It's not. Iterating through a list to find the n-th object is. <br><br></td></tr></table><br>
<a name="468314"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok there you are right :)<br>For something like that a 2 way linked list would be more suited to iterate from front and back to lower the amount of needed steps and calls. <br><br></td></tr></table><br>
<a name="468321"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looking in LinkedList.bmx, I found what I needed:<br><br>Method ValueAtIndex:Object( index )<br><br>Thanks all! <br><br></td></tr></table><br>
<a name="468532"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eni</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> I looked through the module myself a few days ago but missed that method. Thanks for highlighting it to me!<br><br><div class="quote"> It's not. Iterating through a list to find the n-th object is. <br></div><br><br>I agree but on the rare occasion such a thing is a necessity. Well, actually there are generally ways around it but they are even worse. <br><br></td></tr></table><br>
<a name="468551"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  Looking in LinkedList.bmx, I found what I needed:<br><br>Method ValueAtIndex:Object( index )<br><br>Thanks all!  <br></div><br><br>Thanks to you too- saved me some time there. <br><br></td></tr></table><br>
<a name="468559"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Noel<br><br>Least I could do after you posted your DrawImageBlock code.  I was -just- arriving at a spot where I was like, "Oh man, don't tell me I can't draw a sub section of an image!"  Really should be part of the base modules...  Kinda mandatory for anyone doing UI code.<br><br>Thanks! <br><br></td></tr></table><br>
<a name="468599"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep, that's exactly what I'm using it for, actually. <br><br></td></tr></table><br>
<a name="468602"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taxlerendiosk</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you want a dynamically-growing array you *could* make an array wrapped in a type that uses slicing to increase its size every time the limit is reached, something like (entirely untested):<br><br><pre class=code>Type GrowingArray
  Field Array[100]
  Field Pointer

  Method New()
     Pointer = 0
  End Method

  Method AddElement(NewElement)
     if Pointer = Len(Array)-1
        Array = Array[..Int(Len(Array)*1.5)]
     endif
     Array[Pointer] = NewElement
     Pointer :+ 1
  End Method
End Type</pre><br>...but there are various reasons it might not be appropriate, just throwing it out there. <br><br></td></tr></table><br>
<a name="468780"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> COuld.  But TList works perfectly fine.  My lists aren't growing and shrinking every frame, just on certain actions within the UI.  So a TList combined with the index accessor function are ideal... <br><br></td></tr></table><br>
<a name="468790"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> edit-nm, someone beat me to it. <br><br></td></tr></table><br>
<a name="468871"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Erm, isn't this a perfect scenario for using a HashMap? <br><br></td></tr></table><br>
<a name="468892"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Seems like over kill.  The list will contain less than 10 items at any given time, I just needed access to specific indices from time to time.<br><br>At any rate, problem solved guys!  Thanks.  :)  Move on... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
