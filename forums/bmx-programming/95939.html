<!DOCTYPE html><html lang="en" ><head ><title >saving and opening files ?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >saving and opening files ?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >saving and opening files ?</a><br><br>
<a name="1108048"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Twinprogrammer</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey, guys,<br><br>    I'm trying to make a simple text editor and want it to open and save special formats.could you give me any info on how to do that ?<br>I already know how to use the requestfile().<br><br>twinprogrammer <br><br></td></tr></table><br>
<a name="1108056"></a>

<a name="1108057"></a>

<a name="1108058"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>Local file1:TStream = WriteFile("mydoc.txt")
If Not file1 Then RuntimeError "Unable to open file"
file1.WriteString("Good day sir")
file1.WriteLine("This will end with a new line")
file1.Close()

Local file2:TStream = ReadFile("mydoc.txt")
If Not file2 Then RuntimeError "Unable to open file"
Local text2:String = file2.ReadString(12) '12 chars
Local line2:String = file2.ReadLine() 'until new line
file2.Close()

Print text2
Print line2</pre><br><br>I don't know what you mean by special formats.<br><br><font class="tiny">Last edited 2011</font><br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1108212"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Twinprogrammer</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> kind of like "myfile.specialfile" <br><br></td></tr></table><br>
<a name="1108261"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do you mean file extensions?<br><br>You can give the files any file extension you like. They are just the name.<br><br>If you want to write a special format such as pdf, doc, then things are a lot more tricky. <br><br></td></tr></table><br>
<a name="1108485"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Twinprogrammer</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Alright thanks !<br><br>Twinprogrammer <br><br></td></tr></table><br>
<a name="1108492"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you want to write a special format, you'll generally need to find the file format specifications. In a lot of cases, this is public information, available either from the "owner"/creator of the format or just from general interest websites. In some cases, there might be an SDK available to aid you. There's no generic answer though, it's specific to the "special formats" you actually want to write. Note that many of these special formats will have multiple versions. PDF, for example, has a dozen or so. So it's a pretty substantial task and can require some strategic planning to decide which file version(s) you want to support. <br><br></td></tr></table><br>
<a name="1108667"></a>

<a name="1108668"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jtfrench</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> One thing to think about is if by special format you mean *your own* proprietary binary format, or if you are just encoding straight up text/strings in your file.<br><br>For example, a .txt file you can open up anywhere and see the encoded characters in just about any text editor.<br><br>A Microsoft .doc file, while still semantically a text file, it is binary encoded to include text along with lots of other information (like fonts, styling, images, etc).<br><br>To go the binary route, you will want to look to the WriteInt, WriteByte, WriteXXX/ReadXXX functions. These will allow you to write in any type of arbitrary data into a file and read it back out. If it's anything other than just straight up strings, that's enough to consider it a "special format" in that you need a "special program" that knows what to do with all the data contained inside.<br><br>Hope that helps/makes sense.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1108795"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Twinprogrammer</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's really helpful, do you know how to open a file without the requestfile() function ? <br><br></td></tr></table><br>
<a name="1108796"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> ReadFile, WriteFile or OpenFile (for both reading and writing)<br><br>RequestFile on its own doesn't do anything..<br><br><pre class=code>Local filename:String = RequestFile("Select a file")
Local file1:TStream = OpenFile(filename)
If Not file1 Then RuntimeError "Unable to open " + filename</pre> <br><br></td></tr></table><br>
<a name="1109162"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Twinprogrammer</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Could i use that to open a notepad txt format and save it to a .specialtext format ? <br><br></td></tr></table><br>
<a name="1109166"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jsp</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> To load a notepad txt you can simply use:<br>Local Text:String = LoadText("TheFileName.txt")<br><br>what you do then with that string depends on you.<br>Saving the string again as text can be done with <br><br>SaveText(Text:String , "TheOutputFileName.txt")<br>or even<br>SaveText(Text:String , "TheOutputFileName.specialtext")<br>but the file would still be a text file, like a notepad file, regardless of the .specialtext extension. <br><br></td></tr></table><br>
<a name="1109167"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Twinprogrammer</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Could I open the text and show it on screen ? <br><br></td></tr></table><br>
<a name="1109182"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jsp</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you have MaxGui installed here is a simple example:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
SuperStrict

Import MaxGui.Drivers

Global	txtArea:TGadget

Local SimpleEditor:TGadget = CreateWindow:TGadget("Simple Editor",370,213,459,327,Null,WINDOW_TITLEBAR|WINDOW_RESIZABLE |WINDOW_STATUS |WINDOW_CLIENTCOORDS )
	Local btnSave:TGadget = CreateButton:TGadget("Save",9,290,75,23,SimpleEditor:TGadget,BUTTON_PUSH)
	Local btnLoad:TGadget = CreateButton:TGadget("Load",373,290,75,23,SimpleEditor:TGadget,BUTTON_PUSH)
	txtArea:TGadget = CreateTextArea:TGadget(9,37,439,242,SimpleEditor:TGadget,Null)
		SetTextAreaText( txtArea:TGadget , "" )

Repeat
	WaitEvent()
	Select EventID()
		Case EVENT_WINDOWCLOSE
			Select EventSource()
				Case SimpleEditor	SimpleEditor_WC( SimpleEditor:TGadget )
			End Select

		Case EVENT_GADGETACTION
			Select EventSource()
				Case btnSave	btnSave_GA( btnSave:TGadget )
				Case btnLoad	btnLoad_GA( btnLoad:TGadget )
				Case txtArea	txtArea_GA( txtArea:TGadget )
			End Select

	End Select
Forever

Function SimpleEditor_WC( Window:TGadget )
	DebugLog "Window SimpleEditor wants to be closed"
	End
End Function

Function btnSave_GA( Button:TGadget )
	DebugLog "Button btnSave was pressed"
	Local File:String = RequestFile( "Enter Filename", "txt", True )
	
	If Not File Return
	
	Local Text:String = TextAreaText( txtArea )
	
	SaveText( Text, File )
End Function

Function btnLoad_GA( Button:TGadget )
	DebugLog "Button btnLoad was pressed"
	Local File:String = RequestFile( "Select text file to load", "txt" )
	
	If Not File Return
	
	Local Text:String = LoadText( File )
	
	SetTextAreaText( txtArea, Text )
End Function

Function txtArea_GA( TextArea:TGadget )
	DebugLog "TextArea txtArea was modified"
	
End Function
</textarea> <br><br></td></tr></table><br>
<a name="1243202"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nuno</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey guys!<br><br>I'm writing a text editor too, but I'm having problems with lines saved in the .txt file: they doesn't apply!<br><br>I tried the jsp's code above and it saves fine, but when I open the .txt in Notepad (Windows), the text has only 1 line... all lines are mixed in just 1 line. And I'm having the same problem with my code.<br><br>So, I tried the above code again and tried to open the .txt with the "Load" option and guess what? The lines are read!<br><br>Would you or someone know what the cause is?<br><br>Thank you! <br><br></td></tr></table><br>
<a name="1243221"></a>

<a name="1243222"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nuno</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Solved!<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=89396#1015166" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=89396#1015166</a> <br><br></td></tr></table><br>
<a name="1243283"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would suggest, unless you really need the Windows version of txt file, that you don't make the substitution linked above.  Should you port your program to Mac or Linux, the file could give you unexpected results depending on what it is used for.<br><br>Instead, keep it in the standard format and use a better Windows program for reading it.  Wordpad will show those files properly.  I would suggest installing Notepad++, it has many more features than Notepad and it also reads standard .txt files as well as Windows .txt files. <br><br></td></tr></table><br>
<a name="1247485"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nuno</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
