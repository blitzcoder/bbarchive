<!DOCTYPE html><html lang="en" ><head ><title >Drawing to multiple monitors</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Drawing to multiple monitors</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Drawing to multiple monitors</a><br><br>
<a name="987964"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BugZilla</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am thinking of building a teleprompter application. I need to know how to draw specific items on multiple monitors. For example, monitor 1 would show the prompter text, monitor 2 would show the same text only drawn in reverse (so it will look correct in the mirror that is mounted on the camera.<br><br>How can one detect and send drawing commands to specific monitors for a computer that has two monitors attached? <br><br></td></tr></table><br>
<a name="987970"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jsp</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> When using MaxGui you can detect the size of the first primary monitor with ClientWidth(Desktop()) or ClientHeight(Desktop()) and the complete size (primary and secondary display) with GadgetWidth(Deskstop()) or GadgetHeight(Desktop()).<br><br>With those values you are able to detect where a certain window is located. On the first or second display or even in between and send your output accordingly. You could have also one big window across both and split only logical. <br><br></td></tr></table><br>
<a name="987994"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> when the 2nd display is bigger than the first in resolution, does gadgetwidth/height return the 2nd display's edge in pixels, or the first? ie how can you reference a screen that is basically this shape:<br><br>oO <br><br></td></tr></table><br>
<a name="988144"></a>

<a name="1075814"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >theHand</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> When using MaxGui you can detect the size of the first primary monitor with ClientWidth(Desktop()) or ClientHeight(Desktop()) and the complete size (primary and secondary display) with GadgetWidth(Desktop()) or GadgetHeight(Desktop()) <br></div><br>Actually, that's not quite right.<br><pre class=code>ClientWidth(Desktop())</pre><pre class=code>ClientHeight(Desktop())</pre><pre class=code>GadgetWidth(Desktop())</pre>and<pre class=code>GadgetHeight(Desktop())</pre> <u>all</u> seem to display the width/height of the current active desktop (the primary monitor) (assuming extended displays is/are set up, for all of this).<br>But BlitzMax is able to tell which is the primary desktop, and seems to open new programs on it.<br>Here is an executable to run, in case you are wondering (and have such a setup): <a href="http://www.mediafire.com/?n0nn422zzjn" target="_blank"><u>For Windows</u></a><br>Smaller desktops (at smaller resolutions) are clipped off.<br>Like so:<br><img src="http://img202.imageshack.us/img202/6941/differentsizemonitors.png"><br><strike>And it may be for the same reason you don't resize images.</strike><br>This executable brings up a window, so drag it over "inbetween" and see what I mean.<br><br>ImaginaryHuman, you're just the kind of person to devise and run further, more exacting tests on this matter.  Figure this out! (although jsp's second paragraph was true, as GadgetX() and GadgetY() do return such values)<br><pre class=code>
Strict

Import MaxGui.Drivers

Local bpchold:Int=0
Local mywindow:TGadget=CreateWindow("Look below",200,200,370,500,Null,WINDOW_TITLEBAR | WINDOW_RESIZABLE)
Local texthold:TGadget=CreateTextArea(15,15,330,330,mywindow,TEXTAREA_WORDWRAP | TEXTAREA_READONLY)
SetGadgetText(texthold,("GadgetWidth() returns:~n"+GadgetWidth(Desktop())+"~nGadgetHeight() returns:~n"+GadgetHeight(Desktop())+"~n------------------------------~nDesktop().width returns:~n"+Desktop().width+"~nDesktop().height returns:~n"+Desktop().height+"~n------------------------------~nClientWidth(Desktop()) returns:~n"+ClientWidth(Desktop())+"~nClientHeight(Desktop()) returns:~n"+ClientHeight(Desktop())+"~n------------------------------~nGadgetX(mywindow) returns: "+GadgetX(mywindow)+"~nGadgetY(mywindow) returns: "+GadgetY(mywindow)+"~n~n------------------------------------------------------------~nPush the button below To check the resolution again.~n~n~nNumber of times button has been pressed: "+bpchold))
Local thebutton:TGadget=CreateButton("Poosh Bootun",135,400,100,50,mywindow,BUTTON_OK)
PollEvent()

While (WaitEvent()&lt;&gt;EVENT_WINDOWCLOSE)
If (CurrentEvent.id=EVENT_GADGETACTION And CurrentEvent.source=thebutton)
	bpchold:+1
	SetGadgetText(texthold,("GadgetWidth() returns:~n"+GadgetWidth(Desktop())+"~nGadgetHeight() returns:~n"+GadgetHeight(Desktop())+"~n------------------------------~nDesktop().width returns:~n"+Desktop().width+"~nDesktop().height returns:~n"+Desktop().height+"~n------------------------------~nClientWidth(Desktop()) returns:~n"+ClientWidth(Desktop())+"~nClientHeight(Desktop()) returns:~n"+ClientHeight(Desktop())+"~n------------------------------~nGadgetX(mywindow) returns: "+GadgetX(mywindow)+"~nGadgetY(mywindow) returns: "+GadgetY(mywindow)+"~n~n------------------------------------------------------------~nPush the button below To check the resolution again.~n~n~nNumber of times button has been pressed: "+bpchold))
EndIf
PollEvent()
Wend
</pre><br><br>(if mark or some other BRL member is reading this: I'm using an radeon x1600 pro, and whether or not BlitzMax does provide a way to get the "full resolution" is of absolutely no importance to me, as BlitzMax has already exceeded every expectation I had about it.)<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="988145"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> There's also a 3rd part module, DesktopExtension by chaos / (d-bug, hamZta) that adds a bunch of monitor functions, including retrieving their dimensions.<br><br><a href="http://www.chaos-interactive.de/de/desktopextension/" target="_blank">http://www.chaos-interactive.de/de/desktopextension/</a><br><br>multi-platform -- it'll probably do what you need. <br><br></td></tr></table><br>
<a name="988148"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >theHand</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> There it is, build it into it and post the code, dude.  I am all outta time. :( <br><br></td></tr></table><br>
<a name="988190"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jsp</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> When using MaxGui you can detect the size of the first primary monitor with ClientWidth(Desktop()) or ClientHeight(Desktop()) and the complete size (primary and secondary display) with GadgetWidth(Desktop()) or GadgetHeight(Desktop()) <br><br><br>Actually, that's not quite right.<br> <br></div><br><br>And that is a bug in MaxGui 1.34!<br><br>I just tested it and you are right, it gives all the same result while it should not! I started the old 1.28 up and let the code run and it worked correctly as it should.<br><br>Seb mentioned once he touched the code and swapped by mistake the Client and the Gadget coordinates, but i thought it was all fixed in the last released. <br><br></td></tr></table><br>
<a name="988220"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I only have 1 monitor ;-) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
