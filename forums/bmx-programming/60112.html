<!DOCTYPE html><html lang="en" ><head ><title >BMax Still Implicitly casts TAnything to Byte Ptr</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >BMax Still Implicitly casts TAnything to Byte Ptr</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >BMax Still Implicitly casts TAnything to Byte Ptr</a><br><br>
<a name="670523"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I complained about this a while ago, and I was sure I read somewhere where Mark or Skid said that it had been or would be changed. Not on my thread, I don't think, but somewhere.<br><br>But no, it's still possible :<br><br><pre class=code>
SuperStrict

Function AFunc(B:Byte Ptr)
End Function

Type TAnything
	Field Something:Int
	Field SomethingElse:Float
	Field SomethingDifferent:String
End Type

Global AThing:TAnything=New TAnything

AFunc(AThing)
</pre><br><br>or even<br><pre class=code>
Type TAnything
	Field Something:Int
	Field SomethingElse:Float
	Field SomethingDifferent:String
End Type

Global AThing:TAnything=New TAnything
Global B:Byte Ptr=AThing
</pre><br><br>This is a debugging nightmare. It's so easy to make a mistake because the compiler won't alert you to it.<br><br>Now I don't mind if it happens in non-strict, I don't mind if it happens in Strict. I don't even mind if it's possible in SuperStrict as long as it's done with an explicit type cast. But to have TAnything cast to a Byte Ptr automatically  is just asking for problems.<br><br>I fully accept that this problem only arises if you're a bit stupid ( I am! ) and you're prone to making a lot of stupid mistakes ( That's me! ) but that's what Strict and SuperStrict are for, isn't it? To stop stupid people making stupid mistakes? <br><br></td></tr></table><br>
<a name="670537"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why are you creating Byte Ptr variables at all if you want to be strict about things?  Shouldn't you use Object or something? <br><br></td></tr></table><br>
<a name="670541"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes<br>BytePtr are for external usage but using something unmanaged within BM will garantee that there will rise far worse nightmares than a simple "implicit cast" if you only forget to free one single memory block! <br><br></td></tr></table><br>
<a name="670542"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Why are you creating Byte Ptr variables at all if you want to be strict about things? Shouldn't you use Object or something? <br></div><br>Because I'm not using them as I demonstrated above, it's simplified for demonstration purposes ;)<br><br><div class="quote"> BytePtr are for external usage <br></div><br>I'm using them for external usage. It doesn't change the problem because the implicit cast happens with Externs too. As I say, this is to demonstrate the problem, not my reason for using them. <br><br></td></tr></table><br>
<a name="670586"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chris C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> well I cant see what your "problem" is without a real world example, byteptr works *very* well as is, in fact its invaluable!<br><br>its a pointer to an individual memory location, its up to you to decide what its actually pointing too... <br><br></td></tr></table><br>
<a name="670618"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> His problem is mainly that it implicitely casts to Byte Ptr, without needing a Byte Ptr(sometypethingy) ...<br>As it is with $z / $w as well.<br><br>I would suggest that this is changed, at least in superstrict, so you need to explicitely cast everything that is casted somewhere ... (I'm only using strict, so I don't mind much) <br><br></td></tr></table><br>
<a name="670659"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MrCredo</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> PYTE PTR is a "universal" pointer in blitzmax to a address - i think<br><br>what about using PTR (alias void* IN C++) as a universal pointer? and the compiler should do not alert you.<br><br>But if you use BYTE PTR - it should alert...<br><br>Or a special strict mode - without conversations <br><br></td></tr></table><br>
<a name="670672"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> well I cant see what your "problem" is without a real world example, byteptr works *very* well as is, in fact its invaluable! <br></div><br>And it'll be just as invaluable if you have to explicitly cast to it. I'm not asking to remove the ability, only to enforce explicit casting, so you don't do it by mistake. I'm surprised wrapping Ogre hasn't demonstrated the problems with the current situation, but maybe you're wrapping very differently to how I do.<br><br><div class="quote"> His problem is mainly that it implicitely casts to Byte Ptr, without needing a Byte Ptr(sometypethingy) ... <br></div><br>Precisely!<br><br><div class="quote"> I would suggest that this is changed, at least in superstrict, so you need to explicitely cast everything that is casted somewhere ... (I'm only using strict, so I don't mind much)<br> <br></div><br>Again, precisely! Leave it alone in Strict and non-Strict, no need to penalize users who don't want strict error checking, but SuperStrict implies that I want all my mistakes pointed out and that I have to declare my intentions at every stage. <br><br></td></tr></table><br>
<a name="670810"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chris C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can you give me a better explanation with a real world example, the way byte ptr works is very handy and in no way a hinderance to me, just what is causing you the problem I just dont see how you are having any real problem?? <br><br></td></tr></table><br>
<a name="670818"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry, I've learned in the past that justifying yourself in feature requests / bug reports just gets the thread way off topic with silly banter back and forth about why you should be programming in an entirely different way, and I'm not going to fall into that trap again. <br><br>There's no good reason for implicit casting in SuperStrict. If you want it, cast it. Can't be bothered to cast it, don't use SuperStrict. Simple. <br><br></td></tr></table><br>
<a name="672146"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> BRL? <br><br></td></tr></table><br>
<a name="674882"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> :( Bump. <br><br></td></tr></table><br>
<a name="676603"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> And again :( :( <br><br></td></tr></table><br>
<a name="676605"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Bumping it won't help. Either it is in BM 1.22 or it isn't. <br><br></td></tr></table><br>
<a name="676608"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well without a simple reply, I can't even be sure if anyone from BRL has read it, can I? This is the second thread on the subject, and to my recollection, no one from BRL ever commented on the first thread either.<br><br>I'm not asking for a lengthy piece of prose. A simple "Will be done soon", "might be done, but not just yet", "will have a think about it", "not likely, and not any time soon" or "you must be joking. never gonna happen" would suffice. <br><br></td></tr></table><br>
<a name="676625"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >popcade</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Write a piece of code that describe the problem and runable, then post it to BUG report, it should help. <br><br></td></tr></table><br>
<a name="676681"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm certain it's not a bug, or I would have reported it long ago. The piece of code that is runnable and describes the problem is in my first post. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
