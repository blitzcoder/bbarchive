<!DOCTYPE html><html lang="en" ><head ><title >BaH modules...</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >BaH modules...</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >BaH modules...</a><br><br>
<a name="695823"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've recently uploaded the latest versions of my modules :<br><br>cairo<br>fontconfig<br>libxml<br>gtkmaxgui   (linux gui fltk replacement)<br>realtimebattle (linux only)<br><br>You can download these via syncmods...<br><pre class=code>syncmods -u your_name -p your_pass bah.MODULENAME</pre><br>or from the website :<br><a href="http://brucey.net/programming/blitz" target="_blank">http://brucey.net/programming/blitz</a><br><br>* Cairo uses the latest 1.2.2 of the cairo lib. (requires fontconfig module!)<br><br>* Fontconfig has been split from the cairo distro as it is now useful in its own right. It comes with a new Font Loader, that enables you to load any system fonts with LoadImageFont - Max2D - without requiring the full path.<br><br>* Libxml now has much more of the API exposed.<br><br>* GTKMaxGUI is a replacement for the default Linux MaxGUI module (fltk), which is based on GTK+. Gadgets perform as expected (rather than the hit-or-miss affair with the fltk module), and provide a much more "standard" look and feel on the Linux platform. It also fully supports GTK themes, and will update on-the-fly.<br><br>* RealTimeBattle is a Max module for building robots to compete in a virtual arena. More info <a href="/posts.php?topic=62142" target="_blank">here</a>.<br><br><br>The libxslt module is done, but I'm just tidying up the documentation before I release it.<br><br>As usual, all modules come complete with source and documentation, and are cross-platform unless otherwise stated...<br><br>If you have an suggestions / ideas, they are always most welcome.<br><br>Enjoy :o) <br><br></td></tr></table><br>
<a name="695827"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> If you have an suggestions / ideas, they are always most welcome. <br></div><br>I suggest we elevate Brucey to Sainthood.<br><br>libxslt will be SUPER usefull in my next project. <br><br></td></tr></table><br>
<a name="695842"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I suggest we elevate Brucey to Sainthood. <br></div><br>Same here!!! <br><br></td></tr></table><br>
<a name="695865"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >morszeck</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's very coo! Thx Brucey for upgading cairo! But i can't update with syncmods?! The modserver is www.blitzbasic.com/modserver120 or an other? <br><br></td></tr></table><br>
<a name="695869"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry morszeck, my mac is sick at the moment, so I am unable to upload syncmods for mac versions.<br><br>You'll have to get it from the website for now, I'm afraid. :-( <br><br></td></tr></table><br>
<a name="695940"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >morszeck</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> No,no. I can compiled the modules from you, but i can't update automatically the modules width syncmod. <br><br></td></tr></table><br>
<a name="695980"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taxlerendiosk</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Fantastic Brucey, I'm glad you're still interested in all these. Can you load zlib-compressed SVG from incbin yet? Or, load XML from memory at all, I guess,  I could probably work out the rest. I'm not at home at the moment so I can't sync-a-mods yet to check it out myself. <br><br></td></tr></table><br>
<a name="696121"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> @denzil<br>XML thru incbin is working now. If you need it from a Bank or such, I could probably build that in too...<br>Haven't looked at the same for SVG yet tho.<br><br>@morszeck<br>If you are on Mac, syncmods won't work for my modules yet. The way it works is, one must upload each platform module *from* the platform itself, and since my Mac is currently sick, I am unable to upload for Mac, and hence there won't be syncmods for Mac til I can. <br><br></td></tr></table><br>
<a name="696453"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >morszeck</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Brucey, i have same problem in cairo-module with RGBA_8888, the colors and the alpha-canal.<br><br>See here: <a href="http://www.blitzbasic.com/Community/posts.php?topic=59324" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=59324</a> <br><br></td></tr></table><br>
<a name="697385"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ninjacrat</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Building gradient<br>Compiling:gradient.bmx<br>flat assembler  version 1.64<br>3 passes, 6478 bytes.<br>Linking:gradient.debug.exe<br>C:/Program Files/BlitzMax/mod/bah.mod/fontconfig.mod/fontconfig.debug.win32.x86.a(fcfreetype.c.debug.win32.x86.o)(.text+0x1768):fcfreetype.c: undefined reference to `FT_Get_BDF_Property'<br>C:/Program Files/BlitzMax/mod/bah.mod/fontconfig.mod/fontconfig.debug.win32.x86.a(fcfreetype.c.debug.win32.x86.o)(.text+0x2362):fcfreetype.c: undefined reference to `FT_Get_BDF_Property'<br>C:/Program Files/BlitzMax/mod/bah.mod/fontconfig.mod/fontconfig.debug.win32.x86.a(fcfreetype.c.debug.win32.x86.o)(.text+0x2379):fcfreetype.c: undefined reference to `FT_Get_BDF_Property'<br>C:/Program Files/BlitzMax/mod/bah.mod/fontconfig.mod/fontconfig.debug.win32.x86.a(fcfreetype.c.debug.win32.x86.o)(.text+0x23b1):fcfreetype.c: undefined reference to `FT_Get_BDF_Property'<br>C:/Program Files/BlitzMax/mod/bah.mod/fontconfig.mod/fontconfig.debug.win32.x86.a(fcfreetype.c.debug.win32.x86.o)(.text+0x2516):fcfreetype.c: undefined reference to `FT_Get_BDF_Property'<br>C:/Program Files/BlitzMax/mod/bah.mod/fontconfig.mod/fontconfig.debug.win32.x86.a(fcfreetype.c.debug.win32.x86.o)(.text+0x257d):fcfreetype.c: more undefined references to `FT_Get_BDF_Property' follow<br>Build Error: Failed to link C:/Program Files/BlitzMax/mod/bah.mod/cairo.mod/examples/gradient.debug.exe<br>Process complete <br></div><br><br>Um, help! <br><br></td></tr></table><br>
<a name="698303"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> @ Ninjacrat<br>That's interesting...  it almost looks like you have an old verion of the Freetype module installed (there was a file missing from the compile in a previous version, which BRL have now included). I suggest ensuring you have run syncmods.<br>With the latest modules that example runs fine on both win32 and linux for me.<br><br>@morszeck<br>I may have messed up the Mac PPC cairo... If you are feeling adventurous, you might like to try changing a line in src/config.h<br>Since my Mac is offline, I had to guess what the PPC define should be... so it currently looks like :<br><pre class=code>#If defined(__APPLE__) &amp; defined(PPC)</pre><br>Try changing it to simply<br><pre class=code>#If defined(__APPLE__)</pre><br>...if anyone knows what the "proper" definition for a PPC compile is, I'd be grateful to know...<br><br><br>Oh, and btw, libxslt is now available :-)<br>You can either syncmods for it:<br><pre class=code>syncmods -u your_name -p your_password bah.libxslt</pre><br>or get it off the website...<br>As usual, full source, documentation and short tutorial included ;-)<br><br>:o) <br><br></td></tr></table><br>
<a name="725815"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bradford6</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Brucey,<br>I just want to reiterate what an excellent job you have done with the LibXML mod. Thanks for your hard work on that. <br><br></td></tr></table><br>
<a name="731386"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks :-)<br>As with all the mods, I try to make them as easy (in a Max way) to use as possible, and try to have them reasonably well documented with (I hope) useful examples.<br><br><br>Just updated lots of mods today (including libxml). Here's the list of changes :<br><br>BaH.libxml<br><pre class=code>
* Exposed some XPathContext properties. 
* Fixed TxmlBuffer getContent not returning anything. 
* API change - Renamed TxmlURI URIEscapeStr() to URIEscapeString(). 
* Docs tidy up. 
* Many more examples.
</pre><br><br>BaH.cairo<br><pre class=code>
* Added CreateFromImage function to TCairoImageSurface. 
* Proper SetDash implementation. (API change!) 
* Added group methods - PushGroup(), PushGroupWithContent(), PopGroup(), PopGroupToSource() and GetGroupTarget(). 
* Added CAIRO_EXTEND_PAD const. 
* Added pattern GetType() and pattern type consts. 
* Added NewSubPath(), SetScaledFont(). 
* Added font type consts. 
* Added scaled font methods - TextExtents(), GetFontFace(), GetFontOptions(), GetFontMatrix(), GetCTM() and GetType(). 
* Added font face GetType(). 
* Added surface methods - GetContent(), GetDeviceOffset(), SetFallbackResolution(), GetType(), and surface type consts. 
* Added image surface methods - GetData(), GetFormat() and GetStride(). 
* Added PDF and PS surface SetSize() methods. 
* Improved API documentation.
* Linux now requires libcairo (1.2.0+) installed.
</pre><br><b>Note for Linux build -</b> BaH.cairo on Linux now uses libcairo on the system rather than using the included library source. You will need to have at least libcairo 1.2.0 installed.<br><br>BaH.libsvg<br><pre class=code>
* Updates to cvs versions of libsvg and libsvg-cairo (1 Dec 2006)
</pre><br><br>BaH.GTKMaxGUI<br><pre class=code>
* New popupmenu functionality. 
* Added EVENT_MOUSEWHEEL events for canvas and active panels. 
* Added EVENT_KEYDOWN and EVENT_KEYUP events for active panels. 
* Added EVENT_KEYCHAR events for canvas and active panels. 
* Added EVENT_KEYREPEAT for Canvas and active panels. 
* Fixed canvas mouse up not reporting button data. 
* Fixed canvas generating double ACTIVATE_REDRAWs. 
* Fixed some key mappings. 
* Fixed PANELPIXMAP_TILE not resetting to 0,0. 
* Fixed panel redraw event handling.
</pre> <br><br></td></tr></table><br>
<a name="731469"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RepeatUntil</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Excellent job!! I am using libxml and this is just great! <br><br></td></tr></table><br>
<a name="739552"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hallo folks, and welcome to 2007.<br><br>Only a couple of updates this time.<br>Mostly it's all about UTF-8 support (you know, those non-ASCII characters some people like).<br><br>BaH.Libxml (1.09)<br><pre class=code>
* Added automatic libxml UTF-to-Max and Max-To-UTF String conversion. Fixes non-ascii string issues.
* Added getLineNumber method to TxmlBase.
</pre><br><br>BaH.GTKMaxGUI (1.14)<br><pre class=code>
* Fixed non-resizable window resizing problem with menus and statusbar changes.
* Fixed ComboBox not clearing items.
* Rewrite of UTF-8 handling... *sigh*
* Fixed UTF-8 issues with Notify, Confirm, Proceed, RequestFile and RequestDir.
</pre><br><br>I've also updated (on my website - see link in sig) BaH.Volumes, which now includes Mac OS X support, and therefore completes the set by supporting all three platforms. (Volumes gives you volume/drive information for your PC)<br><br>I've been thoroughly testing UTF-8 support in both libxml and GTK, and all seems to be going well. Hopefully I'll be releasing another module in the not too distant future which  supports localization in applications. It comes with a GUI utility app which makes keeping track of everything much easier, and also removes the need for editing of localized text-files. As usual, it'll be free, flexible, and reasonably well documented. ;-) <br><br></td></tr></table><br>
<a name="739559"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well done, thank you very much for your efforts! <br><br></td></tr></table><br>
<a name="739605"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bradford6</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Brucey!<br><br>Happy new year. <br><br></td></tr></table><br>
<a name="739658"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks!<br><br>Does the "Added automatic libxml UTF-to-Max and Max-To-UTF String conversion" has anything to say when I'm using the xmlReaderForFile functions and then ugly stuff like: <br><br>ElementName= UTF82LAT1(String.FromCString(xmlTextReaderConstName(reader))) ?<br><pre class=code>Function UTF82LAT1$(in$)
	
	Local inlen,outlen

	inlen = Len(in)

	Local outbank:TBank = CreateBank(Len(in))
		
	outlen = BankSize(outbank)
		
	If UTF8Toisolat1 (BankBuf(outbank) ,outlen ,in.ToCString(),inlen )&gt;=0
		
		Local as:String			
			
		as = string.FromBytes(BankBuf(outbank),BankSize(outbank))
										
		Return Left$(as  ,outlen )
	Else
		Return in$
		
	EndIf
	
End Function	</pre> <br><br></td></tr></table><br>
<a name="739773"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, unless I've missed one, all exposed API calls that return Strings are first converted into "Max"-type Strings, rather than what was previously going on - which was that I simply did a String.fromCString(byte ptr) call - fine if the text is ASCII only.<br>In my current tests, the Max libxml mod is now happily converting text of 170+ languages and displaying them correctly in a ListBox. (on both Mac and Linux, with, I assume Win32 also, once I get my App working correctly there). ... and before anyone asks, you need to have all the correct fonts installed for most of these to work. For example, on Windows, I had to install a 7+meg chinese font to get that text displaying properly. (it seems to be pre-installed on my Mac and FC5 installations)<br><br>Also, any exposed API that takes a String as a parameter should now be converted from Max String to UTF-8 String - which is what libxml appears to expect.<br>I've successfully opened, edited, and saved XML in Max that contains all kinds of native language script.<br><br>Btw, if you find any missing API that you think important.. please let me know.<br>I was surprised I'd missed xmlGetLineNo()... ;-) <br><br></td></tr></table><br>
<a name="739823"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sounds great. I'll give it a good testing and report back. <br><br></td></tr></table><br>
<a name="739839"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi Brucey:<br>First awesome work espacially the port of the fontconfig module was very usefull for me. (I'm working on a new Textarea Gadget and a new IDE). <br><br>But here is a small screen what I will offer to you as soon I have everything debugged :<br><br><img src="http://i2.photobucket.com/albums/y48/klepto2/GTKWinMaxIDE.png"><br><br>Yes, it is your GTK Module on win32, and till now it works really nice with some restrictions (no htmlview atm and some <br>problems with canvases when using imagefonts)<br><br>so, if you're interrested I will send the linux\win32 version to you. (the win32 package need the GTK+ Runtimepackage for win32) <br><br></td></tr></table><br>
<a name="740395"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey Klepto, that's really nice.<br>Does the IDE work as well as it does on Linux? Certainly looks the same. <br><br></td></tr></table><br>
<a name="740398"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, it's the end of the first week of 2007 (for those that follow the Gregorian calendar...)<br><br>I've got some more updates to announce.<br><br>BaH.GTKMaxGUI (1.15)<br><pre class=code>
* UTF-8 fix for RequestFile filters and RequestDir path.
* Added text attribute with GetText and SetText methods to TreeNode.
</pre><br>see sebtest_9.bmx in the tests folder for the TreeNode fix.<br>I think now that I've covered all the UTF-8 holes in my GTK implementation, but you never knows...<br><br>BaH.Volumes (1.03)<br><pre class=code>
* Added new functions : GetUserHomeDir, GetUserDesktopDir, GetUserAppDir, GetUserDocumentsDir.
</pre><br>and 1.02 previously added Mac support.<br><br>For anyone that's interested, the Volumes module gives you cross-platform support to what drives are available and what space/size they have.<br>The new functions provide things like the directory for the users Home, Documents, Desktop and Application Data (on Mac it is Application Support).<br>It uses the various platform APIs to get this information, so it should be fairly rigid...<br><br><br>Last but not least, I'm releasing yet *another* new module. This one is called <b>BaH.Locale</b> and provides a nice Localization implementation.<br>If you need flexible multi-language support in your Max applications, this might be worth a look.<br>It uses the Libxml mod to drive the file-format, and also makes everything nice and UTF-8 friendly by default.<br><br>It comes with support for 190+ languages, using the official ISO standards for language codes, plus, for most languages it includes the native version of the language name, which is handy for language selection menus etc.<br><br>I've also thrown in a small GUI app called BLFBuilder which I use for creating and maintaining the localization files. The app itself uses the Locale module, and as such demonstrates one implementation of the module.<br><br><br>As usual, you can get these either from my website, or via syncmods...<br><br>Enjoy!<br><br>:o) <br><br></td></tr></table><br>
<a name="740452"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> How can you get Brucey's GTK module to work with Windows? I was wondering if this was possible... <br><br></td></tr></table><br>
<a name="740494"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok I have uploaded the win32 version: <br>(seems there are a lot of bugs in the win version)<br><br>Download link for the Module: <br><br><a href="http://klepto2.kl.funpic.de/include.php?path=content/download.php&amp;contentid=15&amp;download=go" target="_blank">http://klepto2.kl.funpic.de/include.php?path=content/download.php&amp;contentid=15&amp;download=go</a><br><br>The archiv contains a second archiv called lib.rar which contains the needed .a lib files for the win port and have to be extracted and copied to the BMax lib folder. <br>The module is already precompiled.<br><br>As a second download you have to download the needed dlls (only if you haven't installed gimp for windows) .<br><br>Get them from : ftp://ftp.gtk.org/pub/gtk/v2.10/win32/gtk+-2.10.6.zip<br><br>Have fun.<br><br>Currently you can't use the HTMLView Gadget because gtk makes a lot of problems if you will use the gtkhtml view.<br>Maybe someone else could solve this. <br><br></td></tr></table><br>
<a name="741052"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the info - I tried it with Max'd GUI today and it's really broken. Menu's won't show at all, and the UI is really unresponsive. I thought it might help with cross platform development but it looks like I'll have to do that while booted in Linux instead. <br><br></td></tr></table><br>
<a name="758787"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >morszeck</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Brucey. Cairo has it new release 1.4.0. can you take up this in your module? <br><br></td></tr></table><br>
<a name="758789"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'll take a look, morszeck :-) <br><br></td></tr></table><br>
<a name="762462"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >siread</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Brucey. Can I just say that I love you? <br><br>I just found your Locale module and it's superb. Exactly what I was intending to write myself, and you've gone and saved me the trouble! Thanks.<br><br>I have noticed a small glitch with the BLFBuilder. If you have some tags then click Add. Give the new tag a name, then click on a previous tag (before giving the new tag some text) and you end up with duplicate tags. Then you have to delete them otherwise editing the text of either messes them both up. (This was the Windows build btw.)<br><br>Nothing major, and I will take a look at the code myself later, but just thought I'd mention it. Thanks again. :) <br><br></td></tr></table><br>
<a name="762726"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> Heh... thanks si ;-)<br><br><div class="quote"> ...you end up with duplicate tags <br></div><br>Cool... will take a gander at it.<br>You always think you've thought of every combination of doing something, and then someone else tests it and you find you hadn't :-) <br><br></td></tr></table><br>
<a name="762761"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >siread</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've added a couple of features to the BLFBuilder. I hope you don't mind...<br><br>- Export CSV file<br>- Import CSV file<br><br>This means you can save your locale file as a csv, then open it in your favourite spreadsheet program. The advantage to this is that you can have a master file that you can share with your translators. If you have several people doing the translations it's very hard to simply share the .blf file as each person would have to wait their turn, but with a csv you can load it up in Excel and copy and paste contributions from the translators. It also makes it easier to add tags or text in bulk. <br><br>Then you just import it, save it as a blf and use it in your program. :)<br><br>The csv files don't support values at the moment (as I'm not using keyboard shortcuts) but it would be simple enough to add. Also, commas are converted to semi-colons in the csv file (so as not to mess the csv up) and converted back when imported. This means if you can't use a semi-colons in your text as it will be changed into a comma if you import.<br><br><a href="http://download.newstargames.com/misc/BLF_CSV.zip" target="_blank">http://download.newstargames.com/misc/BLF_CSV.zip</a> <br><br></td></tr></table><br>
<a name="763467"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's excellent, si,<br><br>Tho I have a tweak for non-ascii characters, which won't save properly using the standard WriteFile.<br><br>Instead of<br><pre class=code>
Local csvfile:TStream=WriteFile(filename)
</pre><br>use<br><pre class=code>
Local csvfile:TStream=WriteStream("utf8::" + filename)
</pre><br>as this will write the data out in something you should be able to read (given any decent editor).<br><br>For example, exporting the example_01.blf gives the following :<br><pre class=code>
Tag,af,de,en,es,it,ru,
eight,agt,acht,eight,ocho,otto,2&gt;A5&lt;L,
</pre><br><br>Note that the Cyrillic (Russian) text has been translated into something like a mess, basically.<br><br>In UTF8, the file looks like<br><pre class=code>
Tag,af,de,en,es,it,ru,
eight,agt,acht,eight,ocho,otto,&amp;#1074;&amp;#1086;&amp;#1089;&amp;#1077;&amp;#1084;&amp;#1100;,
</pre><br>(<b>Note:</b> that this Forum converts the text to Unicode values - the file itself stores the characters properly :-p )<br><br>The Import should also probably load as UTF-8. (haven't tried that yet).<br><br>I'll be adding your revised BLFBuilder to the release.<br><br>Thanks for the work, and glad someone finds it useful.<br><br>:o) <br><br></td></tr></table><br>
<a name="763522"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >siread</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah, of course. I forgot to test those funny alphabets. :) <br><br></td></tr></table><br>
<a name="763712"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> The bug you mentioned is only on win32... seems to be fine on Linux (GTK / Qt) and Mac...<br>...There's always one... <br><br></td></tr></table><br>
<a name="763724"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK...  sorted. New version of the module uploaded (1.01).<br><br>Turned out there's a bug with Event Hooks on win32, which is why it wasn't working quite right. Anyways, I changed the logic to work-around the bug. (that's Mac and Win there are Event Hook problems... geepers)<br><br>I also tweaked the CSV stuff a wee bit more.<br>The comma/semi-colon stuff wasn't working quite right, and I added support for newlines in text (you can have ~n for a newline in the csv text now).<br>And I used slices in place of the "retro" stuff.<br><br>I wonder if we shouldn't have some kind of "ini" import/export too, since you mentioned the idea of making it easy for people to add a new translation.<br>Perhaps something along the lines of:<br><pre class=code>
[lang:en]
one=one
two=two
...

[lang:de]
one=ein
two=zwei
...
</pre><br>..where you would supply them with the default ini, and a blank ini in their specialized locale:<br><pre class=code>
[lang:fr]
one=
two=
</pre><br><br>Just an idea... <br><br></td></tr></table><br>
<a name="763781"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >siread</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ooh, slices. Something for me to learn about. And yes, newlines are quite important too. :)<br><br>I think ini files would be a great addition. Makes it easy to for anyone to read in a simple text editor. <br><br></td></tr></table><br>
<a name="779443"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just seen your <a href="/logs/userlog.php?user=8077&amp;log=1434" target="_blank">worklog</a> and I'm looking forward to your Console GUI module... ;-) <br><br></td></tr></table><br>
<a name="781967"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just a couple of things today....<br><br>Some new cross-platform modules :<br><br><b>BaH.Random</b> - A drop in replacement for BRL.Random (ie. you import BaH instead of BRL) which uses the same Function set, but utilizes the latest SFMT (SIMD-oriented Fast Mersenne Twister) code. Also adds a new Rand64() function which generates random Longs.<br><br><b>BaH.ClearSilver</b> - A C-library templating engine, used by people like Google Groups. Comes with a basic CGI kit if you want to build CGI apps. As well as web-page generation, it's also good for generating code and the likes (well, anything that you can create from templates really).<br><br><b>BaH.Portmidi</b> - I was asked to help with this recently. So here we are. Uses hooks/callbacks which is about as threaded as we get at the moment in BlitzMax. Hasn't been tested too much, but it does build on all platforms (which is something) ;-p<br><br><br>Also some updates (to the website) for Cairo and Libxml modules. I haven't had a chance to put them on Syncmods yet.. but for those that are desperate for them, head to the website.<br>Note about Cairo. On PPC Mac, you will need also a customized BRL.Pixmap module (which is also on the site). This makes it possible for me to not have to re-write the Cairo internals (like I used to do) to make it work with the different byte-order BlitzMax uses...<br><br>Enjoy :-) <br><br></td></tr></table><br>
<a name="781987"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice - just installed the Random mod.<br><br>It did catch me out, though - at first I didn't realise I had to call SeedRnd() before anything else worked.<br><br>No big deal, but couldn't it default to "1" or something? <br><br></td></tr></table><br>
<a name="781996"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> No big deal, but couldn't it default to "1" or something? <br></div><br><br>It could indeed :-) <br><br></td></tr></table><br>
<a name="782010"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> BaH.Random (1.01) now automatically seeds to 0 if not done so before a call to one of the functions.<br><br>Thanks GfK ;-) <br><br></td></tr></table><br>
<a name="782012"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thx!<br><br>*nudge* The dates on your website are wrong.  portmidi and random mods show 2006 - should be 2007! ;) <br><br></td></tr></table><br>
<a name="782016"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks... I've been writing 2006 all year :-/ <br><br></td></tr></table><br>
<a name="796179"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >siread</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Brucey. I just found a small bug in Bah.locale.<br><br>Line 722: If comma Then<br><br>Should be: If comma &gt; -1 Then<br><br>The find function returns -1 if a string isn't found. This was causing a problem if there wasn't a comma at the end of every csv line. :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
