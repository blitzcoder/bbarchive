<!DOCTYPE html><html lang="en" ><head ><title >Array question about [,] vs [][]</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Array question about [,] vs [][]</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Array question about [,] vs [][]</a><br><br>
<a name="672969"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>I'm wondering what the technical difference between an array using [,] and an array using [][] is. As far as I can tell the big difference is that the [][] type is alot more complicated to setup, but I'm sure I'm missing the big picture.<br><br>Does anyone know? And why would you use [][] instead of [,]?<br><br>A comparison:<pre class=code>Strict

Local a:Int[5,5]
Local b:Int[][] = [New Int[5],New Int[5],New Int[5],New Int[5],New Int[5]]

For Local i:Int = 0 To 4
	For Local j:Int = 0 To 4
		a[i,j] = i + j
		b[i][j] = i + j
	Next
Next

For Local i:Int = 0 To 4
	For Local j:Int = 0 To 4
		Print a[i,j]+" vs. "+b[i][j]
	Next
Next</pre> <br><br></td></tr></table><br>
<a name="672971"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, you could more efficiently use memory with [][] I think, since you could nullify specific areas of the array and thus let the data be picked up by the garbage collector, compared to it always being allocated.<br><br>Edit: Another thing is that each sub-array can be variable length with [][], whereas [,] is basically a square array.<br><br>Aside from that, I think it's personal preference. <br><br></td></tr></table><br>
<a name="672984"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> [,] means each second array [x,this] are the same size but [][] the second arrays [x][this] can be different sizes. ie [,] is a 2d array, but [][] is an array of arrays, a 1d array of type array<br><br>So if you want (for example) a map then [,]<br>If on the other hand you want a map with what units are in each square [,][]<br><br>In your example Array:Int [5,5] is a 5 by 5 array of type Int<br>While Array:Int[][] = [New Int[5],New Int[5],New Int[5],New Int[5],New Int[5]]<br>Is a 5 segment array of type 5 segmant int array <br><br></td></tr></table><br>
<a name="673016"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> [,] mens you are sing a 2 dimensional array (matrix). [][] means you are using an array of arrays. <br><br></td></tr></table><br>
<a name="673067"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> There is one more interesting point in using [][] above [,]<br><br>[][] can be sliced! (as well as have subarrays of differet sizes), while [,] can't be sliced (and is always a "rectangle area of variables") <br><br></td></tr></table><br>
<a name="673314"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> isn't  [][] called a "jagged" array. <br><br></td></tr></table><br>
<a name="673334"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> don't know ... normally it is called "array of array" or dynamic array of multiple dimensions and the like. <br><br></td></tr></table><br>
<a name="673367"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> A Jagged array is exactly what it looks like on an old "one font" printer/screen display. So I can Imagine that being the name. But Its just as likly its a coloqualism. <br><br></td></tr></table><br>
<a name="673383"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bradford6</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here is an example of each type of array.  In the first example we have a Matrix [x,y] type array. these arrays are like excel spreadsheets or a piece of graphpaper. these cannot be sliced. they have an advantage in that they are easier to set up and more intuitive (for me at least) to use:<br><br>[X,Y]<br><br>0,1,2,3,4<br>0,1,2,3,4<br>0,1,2,3,4<br>0,1,2,3,4<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
SuperStrict
Local xcells:Int = 10
Local ycells:Int = 10
		
Local map:Int[xcells,ycells]

	Print Len(map)
	For Local CX:Int = 0 To xcells-1
		For Local CY:Int = 0 To ycells-1 
			map[CX,CY] = CY
			
		Next
		
	Next
	Print "created" +xcells*ycells

For Local CX:Int = 0 To xcells-1
		Print "Map["+CX+"]"
		For Local CY:Int = 0 To ycells-1 
			Print "    Map["+CX+","+CY+"]="+map[CX,CY] ' "CX:"+CX+" CY:"+CY
			

		Next
		
	Next
	


</textarea><br><br><br>This is an Array of Arrays [X][Y]. these offer much more flexibility. (can be sliced, can be resized) but require more setup and are less intuitive. Check out the output for Element Map[3] after the resize:<br><br>[X] [....Y.....]<br>[0] [0,1,2,3,4]<br>[1] [0,1,2,3,4]<br>[2] [0,1,2,3,4]<br>[3] [0,1,2,3,4,5,6,7,8,9...]<br>[4] [0,1,2,3,4]<br><br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
SuperStrict
Local xcells:Int = 5
Local ycells:Int = 5
		
Local map:Int[][]

map = map[..xcells]
		
	For Local this_cell:Int = 0 To xcells - 1
			map[this_cell] = map[this_cell][..ycells]
	Next
		
	map = map[..xcells][..ycells]
	Print Len(map)
	For Local CX:Int = 0 To xcells-1
		For Local CY:Int = 0 To ycells-1 
			map[CX][CY] = CY
			
		Next
		
	Next
	Print "created" +xcells*ycells

For Local CX:Int = 0 To xcells-1
		Print "Map["+CX+"]"
		
		For Local CY:Int = 0 To Len(map[CX])-1 
			Print "    Map["+CX+"]["+CY+"]="+map[CX][CY] ' "CX:"+CX+" CY:"+CY
			

		Next
		
	Next
Print "*************** Resize of Map[3] to 25 elements ( Map[3][..25] ) **************"
' you can resize at any time.
map[3] = map[3][..25]
	
For Local CX:Int = 0 To xcells-1
		Print "Map["+CX+"]"
		
		For Local CY:Int = 0 To Len(map[CX])-1 
			Print "    Map["+CX+"]["+CY+"]="+map[CX][CY] ' "CX:"+CX+" CY:"+CY
			

		Next
		
	Next


</textarea><br><br>So the Biggest advantage of 'Array of Arrays' is that they can be resized, sliced, diced etc. you can start off with an emty array[][] and resize it from within your program. <br><br></td></tr></table><br>
<a name="673868"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bradford6</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'll paste a better example in awhile <br><br></td></tr></table><br>
<a name="673917"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Red Ocktober</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> quick question... as this just jumped out at me...<br><br>i dunno if this holds true in max, but isn't one an example of late binding, and the other early binding...<br><br>what i mean is , if something is declared as x=new SomethingOrTheOther, isn't it created immediately, where as the other methods creates a placeholder in memory for the type?<br><br>or am i all screwed up on this :)<br><br>--Mike <br><br></td></tr></table><br>
<a name="674068"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> or am i all screwed up on this :) <br></div>There are so many ways to respond to that. <br><br></td></tr></table><br>
<a name="674124"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Red Ocktober</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> well... don't be shy... lets hear  it some of those ways :)<br><br>(all within the scope of the discussion, of course... i mean, after all... this is a serious programming forum, and not the open discussion cafeteria below)<br><br>--Mike <br><br></td></tr></table><br>
<a name="674144"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bradford6</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> 'new' creates an instance of a type.<br><br>a type declaration is just a blueprint of an object to be.<br><br><pre class=code>
Type Animal
    field Name:String

End Type

</pre><br><br>does not do anything until we create an INSTANCE<br><br><pre class=code>
Dog:animal = new animal

Dog.name = "Fido"

</pre><br><br><br>as far as 'late binding' vs 'early binding' I think that just has to do with when you instantiate your objects. i.e on the fly when needed or at compile time. not really 100% sure though <br><br></td></tr></table><br>
<a name="674269"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>Thanks :) I think I'll just stick with regular multi dimensional arrays, and type arrays. Arrays of arrays seem a bit too much for me. <br><br></td></tr></table><br>
<a name="674287"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Fred we've all probably made arrays of arrays sound a lot more complicated than they are. But to make it sound simple.<br>An array of Strings, is an array of arrays. (Because the strings can be of different sizes)<br><br>In the old days of basic you would use a multi array with [numberofstrings,MaxStringSize]. Which was a total waste of space. Now we dont, as the language now treats the string as a list of charecters<br><br>The basic thing is If you need to store an unspecific number of things  a specific numer of times you should use an array of arrays. (Or an array of TLists I suppose)<br><br>I know that the memory problem is secondary nowadays. But its still good programming practice <br><br></td></tr></table><br>
<a name="674297"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bradford6</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> fredborg,<br>it is really not complicated at all.<br>check this out:<br><br><pre class=code>
Local mystringarray:String[10]

mystringarray[0] = "hello"
mystringarray[1] = "World"

Print mystringarray[0] + " " + mystringarray[1]

For Local letter:Int = 0 To Len(mystringarray[0])-1
	Print "MyStringArray[0]["+letter+"]="+Chr(mystringarray[0][letter])
Next
</pre> <br><br></td></tr></table><br>
<a name="675418"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rdodson41</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> In BMX an array is maintained by keeping track of a pointer to the first element in a continguous block of data. The values of that data is the data in the array. When you do [,] the value is a continguous array of all the data in the entire rectangular array, and some simple math is used to convert the rectangular coordinates to a linear position. But when you use [][], the value of the first array contains pointers to more arrays, which hold your actual data.<br><pre class=code>
A one dimensional array:

array:Int[3]

$00        $01        &lt;- location of array in memory, pointing to $01, the location of the first element
$01        123        &lt;- first element of array, array[0]
$02        456        &lt;- second element of array, array[0]
$03        789        &lt;- third element, array[1]



Then a two dimensional array:

array:Int[3,3]

$00        $01        &lt;- location of array, points to first element at $01
$01        123        &lt;- first element, array[0, 0]
$02        456        &lt;- second element, array[0, 1]
$03        789        &lt;- array[0, 2]
$04        987        &lt;- array[1, 0]
$05        654        &lt;- array[1, 1]
$06        321        &lt;- array[1, 2]
$07        65          &lt;- array[2, 0]
$08        66          &lt;- array[2, 1]
$09        67          &lt;- array[2, 2]



And finally an array of arrays:

array:int[3][3]

$00        $01        &lt;- location of array, points to $01
$01        $04        &lt;- array[0], which points to $04, the location of the values
$02        $07        &lt;- array[1], which points to $07
$03        $0A        &lt;- array[2], which points to $0A
$04        123        &lt;- array[0][0]
$05        456        &lt;- array[0][1]
$06        789        &lt;- array[0][2]
$07        987        &lt;- array[1][0]
$08        654        &lt;- array[1][1]
$09        321        &lt;- array[1][2]
$0A        65          &lt;- array[2][0]
$0B        66          &lt;- array[2][1]
$0C        67          &lt;- array[2][2]
</pre><br>It helps to think about an array as an object, just like any other object like a TList or TImage or whatever. So you can have an array of arrays just like you can have an array of any object like an array of TImage's.<br><br>Hope it helps. I was confused at first with the difference, but I read up on it and figured it out. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
