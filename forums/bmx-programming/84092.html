<!DOCTYPE html><html lang="en" ><head ><title >Physics + threading = Headache! suggestions welcom</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Physics + threading = Headache! suggestions welcom</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Physics + threading = Headache! suggestions welcom</a><br><br>
<a name="949652"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>I was working on my project Verlet Max 2D and contrary to my sig, I decided to try out a little threading before I stopped working on it... oops<br><br>so my question is. can I revive an old thread once it has ended?  I tried this by simply using createthread again but it doesnt work right because it takes away the pointer's globalness which is a necessity! Is there a way around this? <br><br></td></tr></table><br>
<a name="949655"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Create a thread pool and keep the threads, don't end them, just make them dormant by have them wait for some signal to keep working. <br><br></td></tr></table><br>
<a name="949662"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks!<br><br>ok... I tried that using semaphores and now something else is wrong...  I guess im on my own with this one because it consists of 1000+ lines of physics and threading code, two of the most misunderstood and/or unexplored areas of game programming.<br><br>I'll post some simpler example if I find out its a weird bug in bmax threads. <br><br></td></tr></table><br>
<a name="949663"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> physics is a lot but neither missunderstood nor unexplored, especially not newtonian physics.<br><br>near indefinitely large systems can be solved.<br><br>Its more that 95% of the mankind will never be able to understand and use this kind of math to develop such a system.<br><br><br>And blitz threads are regular system threads so chances that your design creates dead locks or cross locks is sadly much higher. Source will be good in this case as locks are at best (if at all) possible to be found there. <br><br></td></tr></table><br>
<a name="949664"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Dreamora<br><br>it is missunderstood by a lot of people that I know... misunderstood as in not understood correctly<br>there are also many unexplored areas of physics... it is one of those areas of programming that will most likely never be completely explored, meaning we will never find EVERY way of calculating physics and you can never stop finding new and uniqu ways of optimizing physics.<br><br>all in all I guess its mostly an opinion statement<br><br>what do you mean by dead locks or cross locks? is there an example of how this would happen because after experimenting I have discovered that the verlet update thread is randomly locking itself for no reason. <br><br></td></tr></table><br>
<a name="949724"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> dead lock / cross lock means that you have 2+ threads that block each other due to incorrect usage of mutex<br>Commonly you should have as few interdependencies as possible.<br>If possible the interdependency is restricted to a single concurrent datastructure that handles the data (for your case this could be pretty simple depending on how you do. A "to process" waiting queue and a "processed" waiting queue, both storing task objects. the physics thread pool then would check the to process queue and get a waiting task or go back to sleep for xxx ms<br><br>once done, the task would just throw the result into the processed queue for the main thread to use.<br><br>the importatn thing is that this requires a queue thats thread save so you need to write your own "parallel linked list" or whatever for this task <br><br></td></tr></table><br>
<a name="949893"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok I have figured out what I was doing.  My update verlet functions acceses methods wich lock certain mutexes but those methods can also be used by the main thread.  I guess this created some sort of lock. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
