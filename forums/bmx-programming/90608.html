<!DOCTYPE html><html lang="en" ><head ><title >Byte Ptr Ptr(VarPtr(String)) same as char ** ?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Byte Ptr Ptr(VarPtr(String)) same as char ** ?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Byte Ptr Ptr(VarPtr(String)) same as char ** ?</a><br><br>
<a name="1030558"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AndrewT</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm working with OGL right now, and glShaderSource requires that one of its parameters is a const char **, aka an array of char *. I only have one string, so I'm essentially trying to pass a pointer to the string, or, since the string itself is a pointer, I'm trying to pass a pointer to a pointer to the string. What I've come up with is to do this<br><br>Byte Ptr Ptr(VarPtr(MyString))<br><br>Is this the way one would typically pass a string as a char **?The biggest reason for which I ask is that my shaders aren't working :P but I'll be posting about that in the OpenGL forum. I just want to make sure that I can cross incorrect casting off of the list of possible sources of error. <br><br></td></tr></table><br>
<a name="1030563"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You should probably be using something like<br><pre class=code>Local cstr@Ptr = someString.ToCString()

' Do something with the C string.

MemFree(cstr) ' You have to do this.</pre><br><br>The problem with what you're doing is that String, in BlitzMax, is not just an alias for char*.  It's also not multibyte internally, which is what you seem to be looking for, so passing a pointer to the data part of the string object also won't work.  Strings are objects, just like arrays and anything else that is derived from Object (basically everything other than basic data types). <br><br></td></tr></table><br>
<a name="1030567"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AndrewT</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ahh, I didn't even know I could retrieve a c-string. Thanks!<br><br>Oh, and I'm not familiar with the syntax you used when declaring the string--is @Ptr just another way of saying Byte Ptr, or is there some significance to it that I'm missing? <br><br></td></tr></table><br>
<a name="1030582"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >plash</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Ptr is a Byte Ptr. <br><br></td></tr></table><br>
<a name="1030673"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AndrewT</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
