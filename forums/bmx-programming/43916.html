<!DOCTYPE html><html lang="en" ><head ><title >Floats and Decimals 2</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Floats and Decimals 2</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Floats and Decimals 2</a><br><br>
<a name="489966"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Any idea why my other thread 'Floats and Decimals' was locked without any explanation?<br>I'm simply saying that I liked the way B3D did the 'rounding' and why Bmax doesn't do it. <br><br></td></tr></table><br>
<a name="489978"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Clyde</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was also very interested in that topic before it was unexpectedly and for no apparent reason LOCKED.<br><br>OT: Sorry for this TonyG: A big suggestion for all the MODERATORS / ADMINISTRATORS who ever you maybe. Could you in  small text give a reason to why things get moved and locked. Instead of the normal happenings of TOPIC MOVED TO HERE of the usual silent treatment. This way it can help educate us all. Was it because it wasnt a bug?<br><br>Back to the matter in hand.<br><br>I always thought a Float was a decimal, plus used for turning Integars into decimals / floats. And What is the difference with floats in BMAX compared to the previous Blitz language? Pardon the pun, how'd we get around it. <br><br></td></tr></table><br>
<a name="489999"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's because it isn't a bug, and there were more than enough explanations as to the behaviour.<br><br>I apologise for not giving a reason for locking. This one is being moved because it isn't a bug report.<br><br>I imagine the differences between Bmax and other versions of Blitz will probably be related to it being cross platform.  But I might be wrong.<br><br>More info here:<br><a href="http://www.blitzbasic.com/Community/posts.php?topic=43861" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=43861</a> <br><br></td></tr></table><br>
<a name="490013"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> The reason Blitzmax probably doesn't round floats when printing, is because if it did then you couldn't print the real float value.<br><br>Hm.. I tried to make a round function or you, and it might work in Blitzmax, (assuming int rounds up/down... if not maybe there is a round commands in bmax) but it seems to work oddly in Blitzplus.<br><br><pre class=code>
 x#=13.12345 
Print x#
Print Round#(X#, 1)
Print Round#(X#, 4)
Print (X# * 10.0^4)
Print Int(X# * 10.0^4)

WaitKey()

Function Round#(N#, DecimalPlaces)
	Return Int(N# * 10.0^DecimalPlaces) / 10.0^DecimalPlaces
End Function
</pre><br><br><br>The odd thing is the last two print statements.  <br><br>The first one returns 131235.0  The second one returns 131234.  <br><br>Here's why it's odd:<br><br>We start with:<br>13.12345 <br><br>We multiply by 10^4 ... 10,000<br><br>Which should give us:<br>131234.5<br><br>So far so good.  Now when we print X#, we get:<br>131235.0<br><br>Okay... that appears to be rounded up from 131234.5...  Maybe that is intentional.  No problem.<br><br>But wait!  <br><br>If X# equals 131234.5, and print rounds it up, and int() is supposed to round floats up too, then why do we get:<br>131234 <br><br>When we print int(x#) instead of x#?<br><br>I understand if Blitz rounds up when it prints values... But if INT is also supposed to round up, then why doesn't the value match the one printed without int, and presumably also rounded up? <br><br></td></tr></table><br>
<a name="490032"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'll be using the method <a href="/posts.php?topic=41898" target="_blank"> HERE </a> <br><br></td></tr></table><br>
<a name="490137"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>The reason Blitzmax probably doesn't round floats when printing, is because if it did then you couldn't print the real float value. <br> <br></div><br><br>Bingo.<br><br>BlitzMax's float-&gt;string conversion attempts to produce the most accurate representation of the underlying value as possible.<br><br>So it should now be possible to write a float to a file, as a string, and read back exactly the same value - an oft. requested feature of Plus/B3D etc.<br><br>I didn't really give this much thought pre Max, but I now feel strongly that this is the only sane approach for a 'built-in' float-&gt;string conversion to take. <br><br></td></tr></table><br>
<a name="490151"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> What Blitz could use is a 'print using' command that's present in most other BASIC's, which allows you to convert a number to a string using a specific pattern, e.g.<br><br>##,###.##<br><br>etc. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
