<!DOCTYPE html><html lang="en" ><head ><title >Change the icon in code on a Mac</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Change the icon in code on a Mac</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Change the icon in code on a Mac</a><br><br>
<a name="819328"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, I have some neat code to change the icon for my PC games, but has anyone managed to do this in code for the Mac?  I've found this thread which tells you how to do it manually:<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=41986" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=41986</a><br><br>and this one:<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=41222" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=41222</a><br><br>But neither do it in code.  Is that even possible?<br><br>Thanks in advance for any help you can offer. <br><br></td></tr></table><br>
<a name="819341"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhans0n</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Since the icon isn't actually part of the executable, but is part of the application package, it's probably a little more difficult than on Windows.<br><br>Maybe you could edit the info.plist file inside the package in code to point to a different icon name.  I don't know if that would be picked up on the fly, though. <br><br></td></tr></table><br>
<a name="819361"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm, OK so when you compile an app on a Mac, it makes the package folder and gives it the BMax icon, but I was wanting to find some way to automatically make that icon a GAME icon. Perhaps it's an IDE issue?  As if you could specify it in the IDE, it could make the package with the correct icon right? <br><br></td></tr></table><br>
<a name="819474"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhans0n</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, I think it would have to be done from the IDE, or with a program that was executed after the package has been created. <br><br></td></tr></table><br>
<a name="819605"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> As jhanson says, the IDE would likely be a good place to have this functionality.<br><br>You kind of want a cross-platformable "Customize your project Icon" window - where you can specify a set of icons (different sizes) to be deployed with your application, included in the package on Mac, stored as application resources on Windows...<br><br>:o) <br><br></td></tr></table><br>
<a name="819642"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> sounds fantasic. Yes the IDE should have it built in... <br><br></td></tr></table><br>
<a name="835422"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nino</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> If we could add scripts to the build process this would be easy to do.  I bash:<br><br>cp myGame.icns myGame.app/Contents/Resources/myGame.icns<br><br>after building but it would be nice if I could run that as part of the build <br><br></td></tr></table><br>
<a name="835441"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Agreed.  How do you turn that into a script or batch file  equivalent on a Mac (I'm a Mac noob) as I'm still copying it in manually each time.  Thanks. <br><br></td></tr></table><br>
<a name="835473"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can bash scripts be invoked via system_ command?<br><br>If yes, it should be easy changing the IDE to manage this script, modifing the BuildSource Method (standard IDE). <br><br></td></tr></table><br>
<a name="835518"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nino</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> yeah.. I have that in a file called blabla.bash<br><br>then in the console you'd do<br><br>bash blabla.bash<br><br><br>There's ways to use variables in a bash script so it would be something like<br><br>cp $var.icns $var.app/Contents/Resources/$var.icns<br><br>but I'm not exactly sure how you do it. <br><br></td></tr></table><br>
<a name="836977"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm testing this piece of code<br><pre class=code>
Local fileicon$=RequestFile("Icon name")
local fileapp$=RequestFile("Application name")
local newfileicon$="/"+StripDir(fileIcon)
local com$=chr(24)+"cp "+fileicon+" "+fileapp+"/Contents/Resources"+newfileicon+chr(34)
system_ com

print "ICON: "+fileicon
print "APP : "+fileapp
print "COM : "+com
</pre><br>but I have an error when running the 'com' instruction: No such file or directory<br>Any clue?<br>In any case I've tested via Terminal to change the icon like suggested, but I dont' understand if ICON_NAME and APP_NAME *must* be identical or not...<br><br>Tested on Mac OS X 10.3.9 - Bmax 1.26 <br><br></td></tr></table><br>
<a name="837010"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you put .app on the end of fileapp?  You need it. <br><br></td></tr></table><br>
<a name="837070"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I run the program and I choose this 2 files:<br><br>Font.icns<br>Font.app<br><br>In the output window of MaxIDE I can see the name of the choosen files (and they are correct).<br><br>The error raises in the call to the system_ command<br><pre class=code>
sh: line 1: cp /Users/degac/Desktop/Font.icns /Users/degac/Desktop/Font.app/Contents/Resources/Font.icns: No such file or directory
</pre><br><br>For test I copied&amp;pasted the cp... to the Terminal - no error <br><br></td></tr></table><br>
<a name="837075"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> The error message is telling you that there is no command called "cp /Users/degac/Desktop/Font.icns /Users/degac/Desktop/Font.app/Contents/Resources/Font.icns".<br>It appears that system_ is taking your string literally - which isn't what you want it to do.<br><br>You may find there's less hassle to use Stream Read/Write to do a "copy". <br><br></td></tr></table><br>
<a name="837085"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Doh!<br>Thanks to clear out the problem. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
