<!DOCTYPE html><html lang="en" ><head ><title >HANDLE/OBJECT analogy for Blitzmax?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >HANDLE/OBJECT analogy for Blitzmax?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >HANDLE/OBJECT analogy for Blitzmax?</a><br><br>
<a name="1180017"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mongoose</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello all,<br><br>I'm porting some of my old Blitz3D code that uses a ton of HANDLE/OBJECT calls, and i'm curious if there's an analogy / way to emulate it within Blitzmax? I've tried a few things, but they ended in misery for me. Any clue as to if this is possible, or am I going to have to reimagine how some of this is written? <br><br></td></tr></table><br>
<a name="1180023"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> It is possible, but the short answer is that it's a really bad idea because it messes with the garbage collector.<br><br>Depending upon how you were using the Object/Handle calls, there are several ways you might want to go about rewriting it.<br><br>-- if you were using them to store objects in a bank... just use an array, as in BlitzMax you can pass arrays around as freely as banks anyway<br><br>-- if you were using them to store objects of multiple types in the same collection (an array, bank, list, whatever)... BlitzMax will let you store them all as the base type "Object", so there's no need to fake polymorphic behaviour with integers<br><br>...and various other things. Object/Handle are almost always used in B3D to make up for features that BlitzMax has built-in, so you'll see much better results if you use the "real" version of whatever the original code was trying to do (and learn something new at the same time!). <br><br></td></tr></table><br>
<a name="1180060"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yasha +1.<br><br>Avoid that type of thing like the plague in Max. <br><br></td></tr></table><br>
<a name="1180064"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yasha +1 too.<br>Also, use Strict or SuperStrict code ALWAYS <br><br></td></tr></table><br>
<a name="1180120"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> These are the functions used by the MaxIDE Import bb code option which take advantage of auto type conversion in functions to do their magic.<br><br><pre class=code>
	Function HandleToObject:Object(obj:Object)
		Return obj
	End Function
	
	Function HandleFromObject(obj:Object)
		Local h=HandleToObject(obj)
		Return h
	End Function
</pre> <br><br></td></tr></table><br>
<a name="1180352"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mongoose</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the responses, guys. I know it's bad practice, and leaves a lot of garbage behind, but I mainly need this for legacy purposes. I tried converting all of it, but somewhere down the line it broke how it functioned, which took me back to square one. My desk has a permanent mark where I've been bashing my skull against it.<br><br>I've also tried the Import BB function, but it can't make heads or tails with some of the crazy array magic I pulled off. This is one moment where younger me thinks I'm doing amazing things, while older me wants to punch him. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
