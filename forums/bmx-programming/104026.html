<!DOCTYPE html><html lang="en" ><head ><title >Math Question!</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Math Question!</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Math Question!</a><br><br>
<a name="1257642"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BLaBZ</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's a math question for those who are equipped! <br><br>I'm using the linked equation to calculate the points at which a line intersects an ellipse.<br><br><a href="http://mathworld.wolfram.com/Ellipse-LineIntersection.html" target="_blank">http://mathworld.wolfram.com/Ellipse-LineIntersection.html</a><br><br>What I'm trying to figure out is how to change the origin of the line. <br><br></td></tr></table><br>
<a name="1257650"></a>

<a name="1257651"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PhotonTom</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'll try to give you an answer and explain it but it is not as easy as you might think. You also need to do some extra checks as sometimes the line won't ever intersect<br><br>In the working on the link you gave they use y=(y0 / x0)x, this is an equation for a line going through the origin and (x0,y0). This will always intersect the circle in two places!<br>If we replace this with equation y=mx+n then we can describe any straight line we want using different values of m and n. (You can also get values for m and n from two points (x1,y1), (x2,y2) that a straight line passes through but I won't explain how unless you need it)<br><br>So we then use the same method they did to calculate their formula: substitute our equation for y into our formula for an ellipse: x^2/a^2 + y^2/b^2 = 1 and then solve for x using the quadratic formula and we get some results for x. We do similar to get the y coordinates. Its a long and tedious method and can lead to many mistakes so I cheated and got wolfram to calculate it for me:<br>[a http://www.wolframalpha.com/input/?i=x^2%2Fa^2%2By^2%2Fb^2%3D1%2Cy%3Dmx%2Bn]https://www.wolframalpha.com/input/?i=x^2%2Fa^2%2By^2%2Fb^2%3D1%2Cy%3Dmx%2Bn[/a]<br><br>The solutions section is all you need to worry about on that page and only the first two boxes are important for your problem. The last two boxes are not important under this situation. Your first two boxes provide your two x and y coordinates of intersecting points. Note if a^2*m^2+b^2=0 then the line doesn't touch the circle and if both solutions are the same then the line only touches the ellipse once. <br><br></td></tr></table><br>
<a name="1257667"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BLaBZ</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> First of all, holy crap, I've never heard of Wolfram Alpha but that engine is freaking incredible. <br><br>That equation becomes quite a monster with that seemingly minor change. Thank you for you help!<br><br>Do you know of any other helpful math tools like Wolfram Alpha, or websites\references that you find useful regarding computational mathematics or algorithms? <br><br></td></tr></table><br>
<a name="1257675"></a>

<a name="1257676"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> The reason that original Wolfram formulation was so simple is the total symmetry: a circle and a line through the center. That meant finding only one solution. If you found a point of intersection then you immediately knew the other, which was the reflection through the center.<br><br>Translating so the center is at (0,0) is an obvious simplification, translating back after finding the solution.<br><br>Likewise, you can recapture some of the symmetry by transforming the ellipse to a circle. If the ellipse was, say, x^2/4 + y^2/9 = 1 then you could substitute 2*u = x and 3*v = y. The ellipse becomes the unit circle u^2 + v^2 = 1. Make the same substitution for the line. The problem is now unit circle versus line. This is conceptually the same as the original, but much less fiddly in practice. For example, when I put the original problem into Wolfram Alpha I get a "standard time limit exceeded" message. With a unit circle I do not. Anyway, you solve this for intersection points (u,v). Then substitute back u = x/2 and v = y/3 to get the answer to the original problem.<br><br>There is still work to do for a really general solution: there can be zero, one or two points of intersection, the line might be vertical ( can't solve for y ). The latter problem could also be handled with a simple transformation: swap x and y, solve, swap back. <br><br></td></tr></table><br>
<a name="1257677"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's a promising looking <a href="/codearcs.php?code=2130" target="_blank">Code Archive entry</a>. <br><br></td></tr></table><br>
<a name="1257680"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BLaBZ</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is fun, I decided to take it to the next level and find the x,y,z intersection points of an ellipsoid while adjusting the origin on the y access. The equation is quite crazy!<br><br>[a http://www.wolframalpha.com/input/?i=x%5E2%2Fa%5E2%2By%5E2%2Fb%5E2%2Bz%5E2%2Fc%5E2%3D1%2Cy%3Dmx%2Bn%2C+z%3Dtx]http://www.wolframalpha.com/input/?i=x%5E2%2Fa%5E2%2By%5E2%2Fb%5E2%2Bz%5E2%2Fc%5E2%3D1%2Cy%3Dmx%2Bn%2C+z%3Dtx[/a] <br><br></td></tr></table><br>
<a name="1257703"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PhotonTom</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Translating so the center is at (0,0) is an obvious simplification, translating back after finding the solution. <br></div><br>This only works if the line goes through the centre point of the ellipse though :(<br><br>Also Blitz forums really doesn't like the wolfram links :D <br><br></td></tr></table><br>
<a name="1257731"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> At some point the forums restricted links in an attempt to reduce hacking. <br><br>TinyURL version of <a href="http://tinyurl.com/q2r6c67" target="_blank">Circle-Line Wolfram Alpha</a> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
