<!DOCTYPE html><html lang="en" ><head ><title >Extra VRAM required for Filtered and MipMapped</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Extra VRAM required for Filtered and MipMapped</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Extra VRAM required for Filtered and MipMapped</a><br><br>
<a name="930195"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi All, I can't recall if it's Filtered Images or Mip Mapped Images that require more VRAM (or both).  I recall something about a texture 1/4 the size and then 1/16th the size etc which I think must have been for mip mapped.<br><br>I'm basically trying to work out the VRAM an image uses.  For example:<br><br>1024x1024x4 = 4Mb for a plain image.  How much more for filtered, and how much more for mip mapped.<br><br>Anyone know?  Thx. <br><br></td></tr></table><br>
<a name="930205"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MGE</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't have the exact formula, but my notes tell me to figure 6mb for every 1kX1k texture with filtered/mip mapping flags. <br><br></td></tr></table><br>
<a name="930212"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> MGE's figure is correct. For any given texture, multiply by 1.5 to get the total figure including mips. <br><br></td></tr></table><br>
<a name="930224"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK thanks, that's worth knowing. <br><br></td></tr></table><br>
<a name="930231"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Mipmapping needs more ram. I saw elsewhere that it would work out to about *1.3 not *1.5 - but I could be wrong. You basically divide the dimensions by 2 each time until it gets down to like 1x1. There is a little bit of overhead probably for storing the textures in an mipmap array.<br><br>Filtering does not use any additional video ram. <br><br></td></tr></table><br>
<a name="930252"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah I thought it was less that 1.5.  e.g.<br><br>1st mip map  = 25%<br>2nd mip map = 25% of 25%, so 6.25%<br>3rd mip map = 25% of 25% of 25%, so 1.56%<br><br>and so on.<br><br>Add them and you'll get 33% ish extra.<br><br>So 1.33 is maybe a more accurate figure?<br><br>Interesting that filtering doesn't use more RAM. <br><br></td></tr></table><br>
<a name="930262"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Koriolis</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, 1 + 1/4 + 1/4 * 1/4 ... is a mathematical series that tends towards 4/3, so you need 1/3 more memory when using mipmapped textures. <br><br></td></tr></table><br>
<a name="930337"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yup 133% compares to non-mipmapping. It's not a bad amount of overhead considering it makes the rendering potentially faster and better looking. Having said that, the main purpose of mipmapping is to create pre-scaled versions of the image which will be displayed when you render your image with some kind of scale factor. It isn't going to have any effect when you use SetScale above 1.0 as there is no `bigger` image to tap into. It's only going to have an effect when you shrink your image with SetScale below 1.0, and will only use the mipmap level close to/within the scale of the image. For example if you setscale to 0.5 you will probably begin to see the first mipmap level ie 50% size. It won't use the next one until you set scale to 0.25 etc... so if you aren't scaling down very much, and especially if you aren't scaling down to 50% size or less, they aren't going to help and are a waste of memory. I forget exactly how the texture lookup system uses the mipmap levels - I think it does some kind of cross-reference between the current mipmap image and the next one depending on the scale factor? Also there is anisotropic texture lookup which is somewhat more advanced but better quality, and not a standard blitzmax feature.<br><br>Where mipmapping is basically a way of selecting texel colors in the Z direction, ie comparing a further-away image to a nearer image, filtering is a similar process but in the X-Y direction. Filtering doesn't need any mipmaps. It's just a way of looking up texel colors and, if necessary, interpolating between their values to create pretend in-between values. Also it might take several texels and blend them together if you're scaling down - basically a way of doing sub-pixel floating-point coordinate access with interpolation. It doesn't need any extra memory to do it, it's part of the texture lookup functionality. It's basically just some different math. <br><br></td></tr></table><br>
<a name="930396"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah I use it to scale down fonts.  Actually for some graphics that I was scaling down I felt that mipmap actually made it worse so switched it off. <br><br></td></tr></table><br>
<a name="930508"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I guess that's possible, since it sort of blends between two differently scaled images, and depending on how you created those scaled images, they may or may not be a good fit together. I think BMax auto-generates them using the hardware, which then depends on the driver as to the quality. You could alternatively create your own mipmaps and upload them. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
