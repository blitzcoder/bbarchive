<!DOCTYPE html><html lang="en" ><head ><title >Load PDF Pages?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Load PDF Pages?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >Load PDF Pages?</a><br><br>
<a name="1016846"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've been looking but can't find a module to handle loading PDFs. There's been mention of one a few years ago but I couldn't find anything in the code archives...<br><br>I need to load a PDF file and render it's pages into pixmaps. I'm sure I'll need to do a number of steps to get that going, but short of finding a PDF lib and wrapping it myself (a bit beyond my current interest and expertise level...) I don't really know where to start... <br><br></td></tr></table><br>
<a name="1016847"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Otus</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do you have to do it inside BlitzMax? Can you just get <a href="http://www.imagemagick.org/" target="_blank">ImageMagick</a> and do this:<br><pre class=code>System_ "convert file.pdf tmp.png"
Local img:TImage = LoadImage("tmp.png")</pre><br>Edit: I see it's also available as a DLL, so it should fit your needs in any case. <br><br></td></tr></table><br>
<a name="1016848"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> sadly it's not 1 PDF, it's user PDFs so it needs to be built in. And I need it cross platform (mac and windows, linux would be nice but not needed right now). <br><br></td></tr></table><br>
<a name="1016880"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> There's a number of PDF writers for BlitzMax, but I've never come across a PDF *reader*<br><br>Which is unfortunate, because I could really use one of those as well... :-? <br><br></td></tr></table><br>
<a name="1016881"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Space_guy</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes me too. But imagemagick and ghostscript works well enough for pc anyway. <br><br></td></tr></table><br>
<a name="1016882"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Apparently, if you have ghostscript installed, graphicsmagick can do it too. <br><br></td></tr></table><br>
<a name="1016883"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Space_guy</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Interesting Brucey. How would you go about it? <br><br></td></tr></table><br>
<a name="1016892"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Space_guy</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> -r must be followed by &lt;res&gt; or &lt;xres&gt;x&lt;yres&gt;<br>magicktest: Postscript delegate failed (tmp\9.pdf) reported by C:/BlitzMax/mod/bah.mod/magick.mod/src/coders/pdf.c:377<br><br>I get this error trying to load a pdf file. Any ideas? <br><br></td></tr></table><br>
<a name="1016920"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> mupdf looks promising as a starting point... anyone with more skill interested? *nudges brucey with crossed fingers*<br><br><a href="http://ccxvii.net/mupdf/" target="_blank">http://ccxvii.net/mupdf/</a> <br><br></td></tr></table><br>
<a name="1016963"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Otus</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> mupdf looks promising as a starting point... anyone with more skill interested? *nudges brucey with crossed fingers* <br></div><br>It seems to be cross platform, which is good. Note that it uses GPL v3+, so only suitable for projects that use the same. <br><br></td></tr></table><br>
<a name="1016970"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I do have ghostscript installed (it was a requirement for CutePDF), and if I run magick.mod\examples\example_04.bmx to return the supported formats, then I do see .PDF among them:<br><div class="quote"> <br>PDF: (Portable Document Format) : Readable = true, Writable = true, Multiframe = true<br> <br></div><br><br>However, when trying to load a PDF file using example_05.bmx, I receive the following error:<br><br><div class="quote"> -r must be followed by &lt;res&gt; or &lt;xres&gt;x&lt;yres&gt;<br>testing: Postscript delegate failed (C:\Misc\DISH_Player-DVR_522-625_User_Guide.pdf) reported by C:/Code/BlitzMax/mod/bah.mod/magick.mod/src/coders/pdf.c:377<br> <br></div><br><br>(Same like Space_guy, apparently)  any idea what needs to be done to render a multi-page PDF file?<br><br>&lt;EDIT&gt;  It appears that the parameters for the filetypes are stored in the /config/delegates.mgk file -- there are a bunch of references for various types of PDF, which have things like this:<br><br><div class="quote">   &lt;!-- Read monochrome Postscript, EPS, and PDF  --&gt;<br>  &lt;delegate decode="gs-mono" stealth="True" command='"gs" -q -dBATCH -dMaxBitmap=50000000 -dNOPAUSE -sDEVICE=pbmraw -dTextAlphaBits=%u -dGraphicsAlphaBits=%u -g%s -r%s %s "-sOutputFile=%s" -- "%s" -c quit' /&gt; <br></div><br><br>So it does refer to the -r parameter in there, but something seems odd: According to the header %s is "scene", and %x / %y are used for resolution... There seem to be too many %s variables in there, I'd think.... But I tried some changes to that mgk file, but so far none of those appear to work... <br><br></td></tr></table><br>
<a name="1016974"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Note: looking for that error message on google, it does appear that it's Ghostscript that's generating that "-r" error, so at least it's seeing it and trying to communicate?<br><br>something is going squirrely, though... :-/ <br><br></td></tr></table><br>
<a name="1017095"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> poppler -&gt; cairo? <br><br></td></tr></table><br>
<a name="1017175"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Brucey: do you happen to have any other examples, for example on how to display *any* of the multi-page document types?<br><br>I found that by hardcoding some values in the delegates.mgk file I could get it to return a very tiny thumbnail of a semi-random portion within a PDF, but have absolutely no idea on how to control any of the specifics... <br><br></td></tr></table><br>
<a name="1021779"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Space_guy</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Did anyone have any progress with loading pdf with imagemagick? <br><br></td></tr></table><br>
<a name="1021790"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> No dice here.... Just tiny, semi-random blurry snippets, nothing that I managed to control. :-/ <br><br></td></tr></table><br>
<a name="1022061"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Foolish</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> PDF is a really challenging format to work in.  However, the best non-Adobe library I have worked with is from PDFTron.  It's commercial though.  The open source libraries never really cut it for me when it comes to viewing.  <br><br>The PDF format is like a Frankenstein's monster of a format.  You can throw anything in there.  When it comes to the high standards users expect of page fidelity, this makes it twice as hard to deal with.  <br><br>And foget the Java based libraries.  They are too way, way too slow. <br><br></td></tr></table><br>
<a name="1022085"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> the PDF format is like a Frankensteins's monster of a format. <br></div><br><br>No kidding...<br><br>All I'm really after is a way to extract plain vanilla text from a PDF file... which is still near impossible. The only thing I found so far are some command line tools like PDF2HTML that can extract it in HTML format, but I haven't found anything that I can include as a library instead of having to call a 3rd party command-line app... <br><br></td></tr></table><br>
<a name="1089848"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Henri</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> I found out that if you edit the delegates.mgk file by removing the "-g%s" switch from one of the four PDF read options (usually gs-color) you get full picture (not sure how to get multi page image in TMimage object) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
