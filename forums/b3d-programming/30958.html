<!DOCTYPE html><html lang="en" ><head ><title >Lip-Sync?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Lip-Sync?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Lip-Sync?</a><br><br>
<a name="330123"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Anyone done any work on Lip-Sync?<br>And please don't say 'BlitzBass', coz at 995$ (or whatever) for a commercial license what's the point? <br><br></td></tr></table><br>
<a name="330141"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danny</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi John,<br>No not yet,<br>But sooner or later I've got to go there.<br><br>I had a few thinks about this before. I think it would be too complext to 'deform geometry' (for me at least;)<br>So my approach would be to create different textures for a characters mouth- and replace/animate (multiple frames texture) them according to the speech. If I can't replace his mouth texture - I'll stick and match a sprite in front of his mouth to get the same effect.<br><br>Then basically making (for example) 8 different 'mouth poses' for the A, E, I, O, U, etc. (also, a smile, grin, and other basic expressions.<br><br>To 'sync' then with the exactual voice (=wav file) I'd create a long string like this for example:<br><br>"E...L.L..O.... E..A.A..G...ER..." wich could translate in something like 'hello stranger' ;)<br><br>Where each letter corresponds to one of the x textures (or A, E, I, O, U, 'phonyms'). And each character in that string would ie. be 1/4 of a second. That way to 'only' have to translate each wav file to one of those text strings. This should be super-easy to code (and doesn't cost you anything else except time ;)<br><br>Actuall speach-to-text or speach-to-text would be too complex I guess and take too much processor time. Also remember you don't have to translate each letter to get proper lip-sync - quite the contrary.<br><br>The 'string' technique works really well, I've used something like this for many years doing commercials and such in 3D. Ofcourse I didn't do it using textures for mouth positions but with actual 3D blend shapes. Textures will work for most basic human characters I figure, although for a 'dragon's mouth' an animated texture would look rather silly I guess ;)<br><br>But, as I said before, I've never actually tried this in Blitz :)<br><br>Most importantly I still think that it's better NOT to have any lip-sync, than BAD lip-sync...<br><br>Hope this helps,<br>Danny. <br><br></td></tr></table><br>
<a name="330171"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xmlspy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> . <br><br></td></tr></table><br>
<a name="330179"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ashmantle</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can also model your characters head seperately from the body, and make an animation for the mouth for each different mouth pose... I think this would look better than texture, and it would be just as easy to code for as with a texture. <br><br></td></tr></table><br>
<a name="330240"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> This doesn't help now, but if you look in "Animated mesh with multiple weights" Mark should have support for blended vertex weights in the next update, at which point using bones for facial animation becomes an attractive option. <br><br></td></tr></table><br>
<a name="330259"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CodeD</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I believe there are tutorials online on how to model mouth animations for lip syncing for the different vowels/sounds etc. you would just have to do those animations for the model. <br><br></td></tr></table><br>
<a name="330272"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IPete2</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Somewhere in these forums there is a demo of lip syncing.  I don't know whatever happaned to it - I'll have a look on my trusty disk drive for you!<br><br>IPete2.<br><br>edit.  I found it - No Frontiers "Talk Test".  It's not source code and requires the bass thing. <br><br></td></tr></table><br>
<a name="330285"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >poopla</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think if you analyze the pitch and ranges of the sound, it should match generally with a base set of facial animaitons for each sound in the file. <br><br></td></tr></table><br>
<a name="330418"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anthony Flack</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> As of last week, Cletus lip-syncs. <br><br></td></tr></table><br>
<a name="330432"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CodeD</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> instead of making an animation sequence for each word or phrase you want the character to say, make sequences for each vowel/sound they will say, then play the anims in the correct sequence for the words. i'll try and find the tuturial i was looking at. <br><br></td></tr></table><br>
<a name="330463"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SoggyP</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Folks,<br><br>John, depending on the type of game you could forget lip-synching and go for Kung-Fu movie style dubbing with genuine dodgy accents.  That way the lips and speech don't have to match up.<br><br>Good for a laugh, anyway.<br><br>Later,<br><br>Jes <br><br></td></tr></table><br>
<a name="330606"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlackJumper</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> You might like to try a search on 'visemes' (the visual counterpart of phonemes) before tackling this...<br><br>most vowels will have the same viseme (try saying 'a..e..i' and look at how much the mouth changes - very little until you try 'o' and 'u')<br><br>many sounds can use the same viseme - e.g. 'p' and 'b' both force the speaker to purse the lips...<br><br>You might also do some research on phonetically equivalent 'strings' - search for 'Soundex Coding' so that you can play the same series of lip motions for the string 'feenicks' and 'phoenix' <br><br></td></tr></table><br>
<a name="330654"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Woah! Lots of replies!<br>Thanks to you all, especially Jes : )<br>The problem is, Jes, that my chars look like that already... I merely animate the jaw up and down until the wave file isn't playing.<br>Then I got an actor to do the voice who used lots of meaningful pauses, which brought to my attention the fact that the method should be one of 'tracking' the amplitude of the wave file as it plays, and opening or closing the mouth accordingly.<br>So... BlitzBass can do this this, but is too costly.<br>Anyone know of another dll that can play/track the wave file (in real time)? - That appears to be the method that Deus Ex uses, and very effective too. <br><br></td></tr></table><br>
<a name="1157325"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drisky</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Stumbled across this post by accident (looking for soundex code).<br><br>If i were coding your project, for each of your wav files, I would create a guide string and use that to control the animation. <br><br>For example <br><br>"Hello. (meaningful pause) Greatings from Parth!"<br><br>might have a duration of 8 seconds.<br><br>My guide string, each character representing 0.5 sec would be<br><br>"1110001111111111".<br><br>A whole bunch of preprocessing (write a program!), store all the guide strings - job done. <br><br></td></tr></table><br>
<a name="1157349"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rroff</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thats how a lot of games around half-life 1 era did it - each conversation sound file was accompanied by a file that described the animations to use - pretty much just a set time interval string with letters for the different animations.<br><br>Dunno if BlitzAL has any similiar features I've never looked at everything it can do tho I'm guessing it doesn't. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
