<!DOCTYPE html><html lang="en" ><head ><title >Loadsound sync?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Loadsound sync?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Loadsound sync?</a><br><br>
<a name="259309"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Not Available</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi all,<br><br>I've got a little issue I'd like to share, I have a demo that's time synced to a soundtrack. The problem is that the first time you run the program it seems to have a 1 second delay in playing the soundfile - so everything is off (timewise). Running the demo again it seems the sound file is cached or something because it functions as expected.<br><br>My question is, how do I know a soundfile is really loaded and ready to play?<br><br>My code obviously doesn't work:<br><br>s=LoadSound("intro.wav")<br>done=False<br>Repeat<br>	If s&lt;&gt;0 Then done=True <br>Until done=True <br>PlaySound S<br><br>Can anyone help?<br><br>-R <br><br></td></tr></table><br>
<a name="259312"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Program execution will halt at LoadSound until the sound is fully loaded. <br><br></td></tr></table><br>
<a name="259319"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Not Available</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> GFK, thanks for the reply - <br><br>The problem must be with playsound then, because at times running the demo the audio is delayed 1 second, other times the audio is on que.<br><br>I use millisecs() for my timing.<br><br>ie. I have an event that occurs at 1.5 secs, another at say 5 secs and another at 9.5 secs. When the audio is late it looks terrible, everything happens early.<br><br>I do a playsound and jump directly into the main loop.<br><br><br>gamefps=30<br>framePeriod = 1000 / gameFPS <br>frameTime = MilliSecs () - framePeriod <br><br><br>Repeat<br><br>	Repeat <br>		Delay 1<br>		frameElapsed = MilliSecs () - frameTime <br>	Until frameElapsed &gt;0<br>	frameTime = frameTime + framePeriod <br><br>etc. etc.<br><br>could it be that this frame limiting code is sometimes early?<br><br>I really appreciate anyones help - I have no idea?<br><br>-R <br><br></td></tr></table><br>
<a name="259320"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try compiling an EXE and run that, see if you get the same problem.<br><br>In Blitz3D I often get a "stutter" in program speed about 2-3s after I run a program, I don't know if Blitz is doing some internal memory housekeeping or what, but I don't get that problem with EXEs.<br><br>Could be related....? <br><br></td></tr></table><br>
<a name="259322"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could try pausing the channel (s, in your code above) immediately after loading it. Then delay for a second or two before unpausing the channel and starting your loop.  This might give the computer enough time to finish up whatever's slowing it down. <br><br></td></tr></table><br>
<a name="259430"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Not Available</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Gfk - same problem with EXEs :(<br><br>Wolron - I'll try this, I did try putting a few second delay after it loaded, and the called playsound. I'll try your suggestion.<br><br>Thank you both!<br>-R <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
