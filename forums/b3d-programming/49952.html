<!DOCTYPE html><html lang="en" ><head ><title >Texture mapping</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Texture mapping</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Texture mapping</a><br><br>
<a name="555212"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ferret</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>I have 1 mesh and add 15 more meshes to it.<br>so now i have a mesh with 16 surfaces.<br><br>How can i texture this as 1 surface?<br><br>Thx <br><br></td></tr></table><br>
<a name="555235"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can use the AddMesh command, but you will probably lose the UV co-ords. Unless you copy them across that is. <br><br></td></tr></table><br>
<a name="555263"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ferret</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thx, but this does not answer the question.<br><br>I allready added 15 meshes to the first one, but when i aply a texture it seems to tile. I want 1 texture to stretch over all  16 surfaces. <br><br></td></tr></table><br>
<a name="555299"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try using the scaletexture commands to stretch it out. It's tiling because the UV co-ords aren't correct. Try either:<br><br>Add the meshes together, either in blitz then save it out again, or, add the meshes together in a 3d modelling program, then adjust the UV co-ords outside of blitz.<br><br>Or, using scaletexture command to stretch the texture.<br><br>:) <br><br></td></tr></table><br>
<a name="555326"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ferret</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ill try to explain it more,<br><br>I want to avoid using third party tools, the output should not require any further editing.<br><br>Here is a screen:<br>REMOVED<br><br>What you see is made out of 16 meshes/tiles.<br>I take the first mesh and add the other meshes to it.<br>So i end up with 1 mesh with 16 surfaces, right??<br>Now i can manipulate it as one mesh.<br>Then i load a texture and scale it so that it should stretch and aply it.<br><br>As you can see in the screen, the texure starts again on each surface.<br>The texture scale is ok because you only see a portion on a tile, i just starts again on the next tile.<br><br>I must be doing something wrong, but what? <br><br></td></tr></table><br>
<a name="555347"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you have used addmesh then you will end up with one surface. You'll need to manually set the UV co-ords then. You can't do much about that really exept adjusting the UV's.<br><br>Have you tried using scaletexture? <br><br></td></tr></table><br>
<a name="555523"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ferret</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I used the AppMesh() function from the archives, thats why i end up with 16 surfaces.<br>The texture is 512x512 and i scaled it to that using scaltexture, it works fine on blitz terrains.<br><br>I want to edit and export it as 1 mesh but want to have tiles for culling.<br>If i make it 1 surface, can i still hide tiles out of view? <br><br></td></tr></table><br>
<a name="555677"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> no <br><br></td></tr></table><br>
<a name="556035"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ferret</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I started over from scratch and got what i want exept the texture is not showing up. <br><br>Here is what i have so far:<br><pre class=code>
;;Terrain tester ;; Ferret 2005 ;;

Graphics3D 800,600,0,2
SetBuffer BackBuffer()


Global camera = CreateCamera()
CameraRange camera,1.0,10000
MoveEntity camera,1000,1000,1000

Global Camera_VelX# = 0
Global Camera_Velz# = 0
Global camera_velocity# = 1.1
Global camera_speed# = 1
Global Camera_Pitch# = 0
Global Camera_Yaw# = 0

Global WireCheck = False

Global MiTile = F_CreateTerrain()
ScaleEntity mitile,10,10,10
tex = LoadTexture("Map/color.png")
ScaleTexture tex,512,512
EntityTexture Mitile,tex
PointEntity camera,MiTile


While Not KeyHit(1)

	If KeyHit(57)
		WireFrame True	
	EndIf
		
	UpdateGhostCam()
	
	UpdateWorld()
	
	RenderWorld()
	
	Text 10,10,"Space=Wireframe"
	
	Text 10,50,"X: "+EntityX(camera)+"    Y: "+EntityY(camera)+"    Z:"+EntityZ(camera)
		
	Flip

Wend

End

Function F_CreateQuad(FQ_Size#)
	;FQ_Size = FQ_Size +0.1

	F_Mesh = CreateMesh()
		F_Surf = CreateSurface(F_Mesh)
			F_V1 = AddVertex ( F_Surf,0,0,0 )
			F_V2 = AddVertex ( F_Surf,FQ_Size,0,0 )
			F_V3 = AddVertex ( F_Surf,0,0,FQ_Size )
			F_V4 = AddVertex ( F_Surf,FQ_Size,0,FQ_Size )
				F_Tri1 = AddTriangle (F_Surf,F_V1,F_V2,F_V3)
				F_Tri2 = AddTriangle (F_Surf,F_V2,F_V4,F_V3)	
	FlipMesh(F_Mesh)			
	Return(F_Mesh)

End Function

Function F_CreateTerrain(FT_Detail%=64,FT_Size%=1024)
	
	F_Tile = CreateMesh()
		F_XCount = 1
		F_ZCount = 0
		For F_Count = 1 To FT_Detail
			F_Quad = F_CreateQuad(Sqr#(FT_Size)*4)					
			PositionEntity F_Quad,(Sqr#(FT_Size)*4) * (F_XCount-1) ,0,(Sqr#(FT_Size)*4) * (F_ZCount)
							
			F_XCount = F_XCount + 1					
					
			If F_XCount &gt; Sqr#(FT_Detail)
				F_XCount = 1
				F_ZCount = F_ZCount + 1
			EndIf	
									
			EntityParent F_Quad,F_Tile	
			AddMesh F_Quad,F_Tile
		Next	
			
	Return(F_Tile)

End Function





Function UpdateGhostCam()

	Mouse_X_Speed#=MouseXSpeed()*0.5
	Mouse_Y_Speed#=MouseYSpeed()*0.5

	MoveMouse GraphicsWidth()/2,GraphicsHeight()/2
	Camera_Pitch=Camera_Pitch+Mouse_Y_Speed#
	Camera_Yaw=Camera_Yaw+Mouse_X_Speed#


	RotateEntity camera,Camera_Pitch,-Camera_Yaw,0

	If KeyDown(203) Then 
		Camera_VelX=Camera_VelX-camera_speed#
	ElseIf  KeyDown(205)
		Camera_VelX=Camera_VelX+camera_speed#
	EndIf 
	If KeyDown(208) Then 
		Camera_VelZ=Camera_VelZ-camera_speed#
	ElseIf  KeyDown(200)
		Camera_VelZ=Camera_VelZ+camera_speed#
	EndIf
	
	Camera_VelX=Camera_VelX/camera_velocity#
	Camera_VelZ=Camera_VelZ/camera_velocity#
	MoveEntity camera,Camera_VelX,0,Camera_VelZ

	If KeyDown(200) Then
		MoveEntity camera,0,0,camera_speed#
	EndIf

	If KeyDown(208) Then
		MoveEntity camera,0,0,-camera_speed#
	EndIf

	If KeyDown(205) Then
		MoveEntity camera,camera_speed#,0,0
	EndIf

	If KeyDown(203) Then
		MoveEntity camera,-camera_speed#,0,0
	EndIf
	
End Function

</pre> <br><br></td></tr></table><br>
<a name="556036"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ferret</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Grmbl, how do i get the posted code in a codebox?? <br><br></td></tr></table><br>
<a name="556038"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RGR</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Home ... FAQ ... What are the forum codes?<br><br><a href="http://www.blitzbasic.com/faq/faq_entry.php?id=2" target="_blank">http://www.blitzbasic.com/faq/faq_entry.php?id=2</a><br><br>What is EntityParent F_Quad,F_Tile for?<br>If you do AddMesh F_Quad,F_Tile in the next line<br><br>And the result of Sqr# seems not to be what you expect ...<br>If you rem the Line EntityParent (see above out) you see lots of tiles overlaying the others... <br><br></td></tr></table><br>
<a name="556052"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ferret</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> It looks like another big quad is under the terrain, it is the only thing that scales and gets textured.<br>How do i get rid of it? <br><br></td></tr></table><br>
<a name="556056"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RGR</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is the entity you scaleentity mitile,10,10,10<br>You are not returning what you expect - and thats why its untextured<br>If you delete Scaletexture tex,512,512 then you see your texture on the big square.<br>I'd say - your concept of doing the whole thing is wrong. I would not glue meshes together but adding surfaces to that created Mesh. And texture them with Brushes (PaintSurface Surf,brush) <br><br></td></tr></table><br>
<a name="556197"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> If your using function (not related to your problem), use Global variables in the main code :o) <br><br></td></tr></table><br>
<a name="556623"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Clyde</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just a suggestion. Would Update Normals not be needed for the texture prob? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
