<!DOCTYPE html><html lang="en" ><head ><title >Keeping track of Random plots</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Keeping track of Random plots</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Keeping track of Random plots</a><br><br>
<a name="1007831"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jigga619</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> What I am trying To do is have the computer randomly draw plots on the screen. The problem is I need to know the EXACT coordinates of EACH random plot drawn so I can use the data later in my program... how do I do this?<br><br>;;;;;;;;;;;;;;;;;;;;;;;;;<br><br>SeedRnd (MilliSecs()) <br><br>Graphics 800,600<br><br>For t = 1 To 200<br><br>Plot xmov,ymov<br><br>xmov=xmov+0.6<br>ymov=ymov+Rnd(20,-15)<br><br>Next<br><br>WaitKey <br><br></td></tr></table><br>
<a name="1007833"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You don't need to store them - just store the random number seed.<br><pre class=code>value = MilliSecs()
'draw some random plots
seedRnd(value)

Graphics 800,600

For t = 1 To 200

Plot xmov,ymov

xmov=xmov+0.6
ymov=ymov+Rnd(20,-15)

Next

WaitKey

;draw the same 'random' plots again
SeedRnd(value)
For t = 1 To 200

Plot xmov,ymov

xmov=xmov+0.6
ymov=ymov+Rnd(20,-15)

Next

</pre> <br><br></td></tr></table><br>
<a name="1007837"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Charrua</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> if you want to store them you could use an Array:<br><br><pre class=code>
Dim VALUES(200)

SeedRnd (MilliSecs()) 

Graphics 800,600

For t = 1 To 200

	Plot xmov,ymov
	
	VALUES(t)=Rnd(20,-15)
	xmov=xmov+0.6
	ymov=ymov+VALUES(t)

Next


WaitKey 


Cls

WaitKey 
xmov = 0
ymov = 0

For t = 1 To 200

	Plot xmov,ymov
	
	xmov=xmov+0.6
	ymov=ymov+VALUES(t)

Next

WaitKey
</pre><br><br>what gfk says is that rnd generates the same sequence of pseudorandomic values if you seed it with a specific seed value.<br><br>Juan <br><br></td></tr></table><br>
<a name="1007890"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PowerPC603</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> The sample of Gfk only works when you don't use Rnd somewhere else in the program. Eg: first draw 100 dots, then do something else (using Rnd), then draw the other 100 dots. It could mess up the order of the random numbers generated by Rnd. Unless you draw all dots in one go.<br><br>The sample given by Charrua works better if you don't add new dots afterwards.<br>When the array is re-dimensioned (when you add more dots), the contents are lost.<br><br>In that case, you can use types:<br><pre class=code>
; Setup the type-structure for a dot
Type TDot
	Field X, Y ; Holds the X and Y coordinates of the dot
End Type



; Seed the random number generator
SeedRnd (MilliSecs())

; Setup screen
Graphics 800,600

; Draw and store 200 dots
For t = 1 To 200
	; Create a new TDot type-instance
	dot.TDot = New TDot
	; Store the coordinates
	dot\X = xmov
	dot\Y = ymov

	; Draw the dot on the screen
	Plot xmov,ymov

	; Calculate the coordinates for the next dot
	xmov=xmov+0.6
	ymov=ymov+Rnd(20,-15)
Next

; Wait for a keypress
WaitKey 

; Clear the screen
Cls

; Re-draw all dots (loop through each TDot type-instance
For dot.TDot = Each TDot
	; Draw the dot at the stored coordinates
	Plot dot\X, dot\Y
Next

; Wait for a keypress
WaitKey()

; End the program
End
</pre> <br><br></td></tr></table><br>
<a name="1007919"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Bear in mind that the seed may not generate the same random numbers on all computers.  I think it may be processor related.  It was discussed at length on several occasions a while back if you search the forums. <br><br></td></tr></table><br>
<a name="1007926"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> While the generated random numbers may not be identical on different computers, at least the sequence itself should be identical if you re-run it on the same computer. <br><br></td></tr></table><br>
<a name="1007934"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> The sample of Gfk only works when you don't use Rnd somewhere else in the program. <br></div>Wrong.  My code resets the random number seed when the number sequence needs to be repeated. <br><br></td></tr></table><br>
<a name="1008052"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, I've used a similar method as Gfk suggests so that a more constant seed value is retained.<br><br>By ensuring the Randomiser is seeded before each Rand or Rnd call, you can define whether the values will be predicted or truly (pseudo-)random.<br><br>Note : The sue of Millisecs() for MySeed is only to ensure that the actual predicted sequence isdifferent each time the program is run, even though for that running of the program, provided MySeed doesn't change elsewhere, it will always follow the same sequence*<br><br><pre class=code>Global MySeed%=MilliSecs()

;To use predicted values
Print GetRandomInt(1,6,MySeed)

;To use typical pseudo random values
Print GetRandomInt(1,6)

Function GetRandomInt%(Low%=1,High%=2147483647,Seed%=False)
	
	If (Not(Seed))
			SeedRnd MilliSecs()
		Else
			SeedRnd Seed%
	End If
	
	Return Int(Rand(Low%,High%))
	
End Function

Function GetRandomFloat#(Low#=0.0,High#=2147483647.0,Seed%=False)
	
	If (Not(Seed))
			SeedRnd MilliSecs()
		Else
			SeedRnd Seed%
	End If
	
	Return Rnd#(Low#,High#)
	
End Function
</pre><br><br><br>*For that particular cpu at least. <br><br></td></tr></table><br>
<a name="1008081"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>Simple way:</b><br><pre class=code>
SeedRnd (MilliSecs()) 

Graphics 800,600

Const TotalPlots = 200

Dim Plots#(TotalPlots-1,1)

Local xmov#,ymov#  ;You forgot to declare your coordinates as floats.

For t = 1 To TotalPlots

      Plot xmov,ymov

      Plots(t-1,0) = xmov
      Plots(t-1,1) = ymov

      xmov=xmov+0.6
      ymov=ymov+Rnd(20,-15)

Next

WaitKey 
</pre><br><br>There you go. Now Plots(,) should have every plot made, and give you their coordinates. No types, no nothing (you can speed things up if you use two []-arrays). <br>If you want the first plotted coordinates, read "Plots(0, xy)", xy being "0" for the X coordinate or "1" for the Y. If you want the last, read "Plots(TotalPlots-1, xy)". You can also use a FOR...NEXT loop to reproduce the plots in the exact order they were made, and seed-independent.<br><br><br>Tip - the number inputted using DIM is actually the <b>index number of last variable to be created within that particular index-range</b>. <br><br>So, if you do:<br><pre class=code>Dim Array(200)</pre>You are actually creating a 201 element array. <br><br></td></tr></table><br>
<a name="1008091"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PowerPC603</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Wrong. My code resets the random number seed when the number sequence needs to be repeated.<br> <br></div><br><br>I've seen that you re-init the seed before the drawing, Gfk.<br><br>This is true if you draw all 200 dots in one go, as I explained before.<br>But if he splits up the drawing over multiple frames (or some other reason), and uses Rnd in between, then it could mess up the numbers.<br><br>First draw 100 dots, then do something else (using Rnd to do something else), then go back to draw the remaining 100 dots, then the numbers aren't the same as you would draw all 200 dots in one go, without using Rnd in between for doing something else.<br><br><pre class=code>
value = MilliSecs()
;draw some random plots
SeedRnd(value)

Graphics 800,600

For t = 1 To 200
	Plot xmov,ymov

	xmov=xmov+0.6
	ymov=ymov+Rnd(20,-15)
Next

Print "Generating the dots for the first time"

WaitKey

Cls
xmov = 0 : ymov = 0

;draw the same 'random' plots again
SeedRnd(value)

For t = 1 To 200
	Plot xmov,ymov

	xmov=xmov+0.6
	ymov=ymov+Rnd(20,-15)
Next

Print "Re-drawing all dots in one go"

WaitKey

; Draw the random dots again, using Rnd in between
SeedRnd(value)

Cls
xmov = 0 : ymov = 0

For t = 1 To 100
	Plot xmov,ymov

	xmov=xmov+0.6
	ymov=ymov+Rnd(20,-15)
Next

; Use another Rnd in between -&gt; messes up the next 100 dots, as they won't be in the same position
dummy = Rnd(20, -15)

For t = 101 To 200
	Plot xmov,ymov

	xmov=xmov+0.6
	ymov=ymov+Rnd(20,-15)
Next

Print "Re-drawing all dots in 2 parts, using Rnd in between"

WaitKey
End
</pre> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
