<!DOCTYPE html><html lang="en" ><head ><title >Shadows 101</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Shadows 101</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Shadows 101</a><br><br>
<a name="702480"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >YellBellzDotCom</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, its been days and I still have no idea on how to create shadows (except a simple blob shadow, see link below). So I have to get to ground zero and start from there. I need to find out alot of info since I couldnt understand alot of the custom functions and methods in the demos and code archives relating to shadows. I figured I would ask the kind Blitzmasters a few questions and maybe post some very simple examples...<br><br>what is a stencil shadow? <br><br>If there is a thing called stencil shadows what are the not-stencil-shadows called?<br><br><b>Shadowing Techniques...</b><br><br><u>Lightmapping</u> = creating an image of a scene that darkens faces that are blocked by an entity that sits between that face and a lightsource. This image has an alpha value so that a colormap can show through it. Both images are applied to a mesh to create a realistic looking terrain.<br><br><u>blob shadows</u> = creating a seperate mesh, making it flat and applying a dark color to it that sits below an entity for static entities or is parented to a moving entity so that it follows it around. Quickest method of creating shadow look for a scene. May or may not be adjusted according to light sources. Is not an accurate method of representing shadows of  entities. Basically its just a dark circle mesh that sits below an object. If you use uneven terrains, the lines of code required to blanket the shadow across the terrain appropriately will outnumber the lines of code to actually make your game, lol.<br>Blob Shadow Xample using a mesh = <a href="http://www.hilbily-works.com/Downloads1/BlobShadow.bb" target="_blank">http://www.hilbily-works.com/Downloads1/BlobShadow.bb</a><br>Blob Shadow Xample using a textured Quad = <a href="http://www.hilbily-works.com/Downloads1/BlobShadow_wQuad.zip" target="_blank">http://www.hilbily-works.com/Downloads1/BlobShadow_wQuad.zip</a><br>Blob Shadow Xample using a Max created Quad mesh and TED Terrain = <a href="http://www.hilbily-works.com/Downloads1/BlobShadow_wMaxQuad_wTEDMeshTerrain.zip" target="_blank">http://www.hilbily-works.com/Downloads1/BlobShadow_wMaxQuad_wTEDMeshTerrain.zip</a><br><br><u>Shadow Mapping</u> = The process of comparing wether a pixel is visible from the light source by comparing it to a depth image of the lightsource view stored in the form of a texture.<br>Steps in creating and applying a shadow map<br>1 - Render the scene in shadow and store the image as a texture.<br>2 - Do a depth test to see if pixels are visible or not.<br>3 - Render the scene lit, areas that failed the depth test will not be re-rendered.<br><br><u>Shadow Volumes</u> = A typical method of creating shadows for a scene. Involves raycasting from a lightsource to the furthest point of a scene and finding which faces are occluded by objects. Still have a way to go in understanding  this.<br><br><br><u>Stencil Shadow</u> = Ok, thanks to MarkCW's link, a stencil shadow system incorporates using a stencil buffer, (which limits the rendered area to work with) and a Zbuffer (Processes depth information), to determine per pixel coloring. According to Wikipedia, it is a three step process.<br>1 - Render the scene as if it were completely in shadow<br>2 - Using the depth information from that scene, construct a mask in the stencil buffer that has holes only where the visible surface is not in shadow.<br>3 - Render the scene again as if it were completely lit, using the stencil buffer to mask the shadowed areas.<br><br>There are currently 3 variations in applying this technique. DepthPass, DepthFail, and Exclusive-Or. These 3 variations use different methods on step 2 above.<br><br>Still have a way to go in understanding this.<br><br><br><u>LinePicking</u> = Popular method of finding out if a face is behind an object and as such, should recieve the shadow of that object. Projects a line from the face to the lightsource, if there is a collision with any objects other than the the lightsource, than that face should be shadowed. Slow method since checking thousands of faces with every render is processor intensive.<br><br><u>Mixing Methods</u> = Applying multiple methods of shadowing to represent the best looking scene without sacrificing processing power.<br><br>Lightmapping + Blob Shadows = Looks good until a moving entity enters the shadow area of a static object. The mixing of the blob shadow with lightmapped shadow doesn't work. You can create code to alter the coloring of the blob shadow mesh to look more like the lightmapped shadow, but this just doesnt seem to be efficient to me.<br><br>Shadow Volumes and Stencil Shadows = Using the stencil buffer (Area of ram on video card?) to accelerate the method of finding which faces are occluded according to a lightsource by raycasting or linepicking those faces.<br><br>If anyone is kind enough to help me, I will update this post to show accurate information so I can have a compilation of methods and techniques with a little understanding of how to apply them otherwise I will just go and play with my little 3d model dolls and dream.<br><br>Also, I realize that Swifts Shadow system is the most recommended one. But I am tapped out for purchasing addons, plugins, libraries, dlls and all that, So I am attempting to understand what Blitz3d can and cannot do in regards to shadows.<br><br>lol, thanks!! <br><br></td></tr></table><br>
<a name="702493"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> see these for info.<br><a href="http://en.wikipedia.org/wiki/Stencil_buffer" target="_blank">http://en.wikipedia.org/wiki/Stencil_buffer</a><br><a href="http://en.wikipedia.org/wiki/Stencil_shadow_volume" target="_blank">http://en.wikipedia.org/wiki/Stencil_shadow_volume</a><br><br>i don't think blitz3d supports stencil shadows, but here is the most recommended shadow system, by sswift.<br><a href="http://www.blitzbasic.com/logs/userlog.php?user=963&amp;log=269" target="_blank">http://www.blitzbasic.com/logs/userlog.php?user=963&amp;log=269</a> <br><br></td></tr></table><br>
<a name="702502"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bytecode77</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> blitz3d supports stencil shadows as well!<br>my system: <a href="http://www.blitzbasic.com/Community/posts.php?topic=62809" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=62809</a> <br><br></td></tr></table><br>
<a name="702511"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> i just tried to buy the "swift shadow system" on shareit and couldn't, i kept getting "The page cannot be displayed" message when i click on the buy button. strange, thought i should mention it. <br><br></td></tr></table><br>
<a name="702512"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >YellBellzDotCom</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Devils Child,<br><br>What exactly does that mean? <br><br>Are you saying that you can use Blitz3d code to read and write directly to a hardware enabled stencil buffer? (accelerated)<br><br>or<br><br>You can do some grand coding in Blitz3d to read and write to a virtual ram buffer for storing Stencil information? (Slower)<br><br>Thanks for the replies and help. <br><br></td></tr></table><br>
<a name="702519"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bytecode77</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> no, i am using just a dll for direct X.<br>check out the previous stencil shadow thread.<br>there are two shadow threads(both my me ;))<br>there is no need for grand coding. but it is very tricky at all.<br><br>please post all questions about stencil shadows in the stencil shadow thread!<br>cya <br><br></td></tr></table><br>
<a name="702525"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> mark:<br>Is this the page you went to?<br><br><a href="http://www.shareit.com/product.html?cart=1&amp;productid=208046&amp;languageid=1&amp;currencies=USD" target="_blank">http://www.shareit.com/product.html?cart=1&amp;productid=208046&amp;languageid=1&amp;currencies=USD</a><br><br>Seems to be working just fine for me. <br><br></td></tr></table><br>
<a name="702537"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes. must be just me then. strange, i've bought of shareit before and never had any problems. <br><br></td></tr></table><br>
<a name="702539"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >YellBellzDotCom</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Devils Child, <br><br>I believe that is what MarkCW was saying, which was also reaffirmed by BlackD, Stencil Shadowing is not possible with Blitz3d WITHOUT the use of external pluggins, dlls or 3rd party solutions.<br><br>Thanks for the help though. <br><br></td></tr></table><br>
<a name="702562"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> well IE (5.0) seems to have been the problem. i downloaded the latest firefox (1.5) installed, and it worked. <br><br></td></tr></table><br>
<a name="702597"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe you just needed to clear your IE cache and cookies.  My bank's website will sometmes refuse to let me log in until I do that. <br><br></td></tr></table><br>
<a name="702598"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >YellBellzDotCom</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe this thread shouldve been started in the beginners area. I apologize for that. <br><br></td></tr></table><br>
<a name="702612"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; Maybe you just needed to clear your IE cache and cookies. <br><br>yes, something like that i guess.<br><br>xyle, no need to apologize man. :/<br><br>technically, this board is for code, but users post non-code stuff here all the time and nobody complains usually. <br><br></td></tr></table><br>
<a name="702615"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >YellBellzDotCom</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, added a new download for a Blob Shadow example using a textured quad to the first post.<br><br>Thanks MarkCW. <br><br></td></tr></table><br>
<a name="702866"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >YellBellzDotCom</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Added a new download for a Blob Shadow Xample using a Max created Quad Mesh and TED Created terrain. This Xample keeps the shadow aligned with an uneven Terrain.<br><br>I had a heckuva time trying to properly align a Blitz3d created quad mesh with the terrain and to stay centered around the Sphere. I finally gave up on it and just made the quad externally with max.<br><br>The new problem with this was texturing the mesh with a transparent shadow texture. No matter what I did I couldnt get the mesh to load properly with the transparent texture. I finally just tried loading the texture manually and applying it to the Max Created mesh and that worked. <br><br></td></tr></table><br>
<a name="702929"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leto</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for this, Xyle.  I was investigating shadowing options recently too (but couldn't even get blobs to work, actually, haha...) so this info is useful. <br><br></td></tr></table><br>
<a name="702933"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >YellBellzDotCom</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> ah great, glad it helped someone out besides me. Im gonna take a better gander at Shadow Mapping, but I may just use the blob shadow in my own game.<br><br>Thanks for the reply. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
