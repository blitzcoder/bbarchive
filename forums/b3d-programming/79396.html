<!DOCTYPE html><html lang="en" ><head ><title >using timer to change levels</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >using timer to change levels</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >using timer to change levels</a><br><br>
<a name="891333"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dena</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Help!<br>I am unable to get a timer to work as I need it to, and would really appreciate some help, as I have to put this in an exhibition in two days!  I expect it is something simple that I am missing.<br><br>At present, running 	If KeyHit(28) PastCycle() or If KeyHit(57) CleanupScene() within the ChangeBirdState() function do what I want, but I need to run these functions using a timer instead, I need to run PastCycle() every 30 secs for 6 cases within case select, and then run CleanUpScene().  Can anyone help me figure out how to get this to happen?  Seems so simple, and I have done similar things with other pieces...<br><br>+++++++++++++++++++++++++++++++++++++++++++++++<br>;variables<br>Global light<br>Global light2<br>Global tmrFPS = CreateTimer(40)<br>Global prevtime<br>Global curtime<br>Global FPS<br>Global mdlBlack<br>Global mdlBlack2<br>Global worldstate = 0	;0 no birds loaded, 1 birds loaded<br>Global birdstate = 0	;0 past, 1 present, can add more states<br>Global titleFont,subtitleFont<br>Global listen,bluHeron,vireo,junco,amfinch,mdove,cardinal,NightHawk<br>Global ScTana,RNPheasant,BWBB,RTHawk,HFinch,PWood,NBob,Killdeer,GHSparrow,DWood,Whip<br>Global CWarb,Bobo,YBCuckoo,BBCuckoo,Robin,AmKest,BJ,Crow,Grackle,BlueBird,Flycatcher<br>Global time<br><br>;sound stuff<br>bluHeron=Load3DSound("sounds/greatblueheron_mono.wav") ; Load 3D sound <br><br>vireo=Load3DSound("sounds/White-eyedVireo_mono.wav") <br>junco =Load3DSound("sounds/Dark-eyedJunco_mono.wav")<br>amfinch =Load3DSound("sounds/americanGoldFinch_mono.wav")<br>mdove =Load3DSound("sounds/mourningDove_mono.wav")<br>cardinal =Load3DSound("sounds/cardinal_mono.wav")<br>NightHawk =Load3DSound("sounds/commonNighthawk_mono.wav")<br>ScTana =Load3DSound("sounds/ScarletTanager_mono.wav")<br>RNPheasant=Load3DSound("sounds/Ring-neckedPheasant_mono.wav")<br>BWBB=Load3DSound("sounds/Red-wingedBlackbird_mono.wav")<br>RTHawk=Load3DSound("sounds/RedTailedHawk_mono.wav")<br>HFinch=Load3DSound("sounds/HouseFinch_mono.wav")<br>PWood=Load3DSound("sounds/PileatedWoodpecker_mono.wav")<br>NBob=Load3DSound("sounds/NorthernBobwhite_mono.wav")<br>Killdeer=Load3DSound("sounds/Killdeer_mono.wav")<br>GHSparrow=Load3DSound("sounds/GrasshopperSparrow_mono.wav")<br>DWood=Load3DSound("sounds/Downywoodpecker_mono.wav")<br>Whip=Load3DSound("sounds/whipporwill_mono.wav")<br>CWarb=Load3DSound("sounds/CeruleanWarbler_mono.wav")<br>Bobo=Load3DSound("sounds/Bobolink_mono.wav")<br>YBCuckoo=Load3DSound("sounds/YellowBilledCuckoo_mono.wav")<br>BBCuckoo=Load3DSound("sounds/BlackBilledCuckoo_mono.wav")<br>Robin=Load3DSound("sounds/robin_mono.wav")<br>AmKest=Load3DSound("sounds/AmericanKestrel_mono.wav")<br>BJ=Load3DSound("sounds/blueJay_mono.wav")<br>Crow=Load3DSound("sounds/crow_mono.wav")<br>Grackle=Load3DSound("sounds/CommonGrackle_mono.wav")<br>BlueBird=Load3DSound("sounds/EasternBluebird_mono.wav")<br>Flycatcher=Load3DSound("sounds/AcadianFlycatcher_mono1.wav")<br><br>SoundVolume Flycatcher,1<br>SoundVolume vireo,1<br>SoundVolume BlueBird,1<br>SoundVolume bluHeron,1<br>SoundVolume BJ,1<br>SoundVolume Crow,1<br>SoundVolume Grackle,1<br>SoundVolume AmKest,1<br>SoundVolume Robin,1<br>SoundVolume BBCuckoo,1<br>SoundVolume YBCuckoo,1<br>SoundVolume Bobo,1<br>SoundVolume CWarb,1<br>SoundVolume Whip,1<br>SoundVolume DWood,1<br>SoundVolume GHSparrow,1<br>SoundVolume Killdeer,1<br>SoundVolume NBob,1<br><br><br>Global dateTXT$<br><br>Type birds<br>	Field mesh<br>	Field speed#<br>	Field sing<br>End Type<br><br><br><br>;initialize the scene<br>Graphics3D 1440,900,32,1<br>;Graphics3D 800,600,32,2<br>SetBuffer BackBuffer()<br><br>SeedRnd (MilliSecs())<br><br>Global cam = CreateCamera()<br>PositionEntity cam,0,0,-25<br>CameraViewport cam,0,0,GraphicsWidth(),GraphicsHeight()<br>CameraZoom cam,.5<br>CameraFogMode cam,1<br>CameraFogRange cam,28,160<br><br>listen=CreateListener(cam)<br><br>;CameraClsColor cam,Rand(100,120),Rand(0,80),Rand(200,255)<br><br>;Global cam2 = CreateCamera()<br>;PositionEntity cam2,1000,0,-25<br>;CameraViewport cam2,720,0,GraphicsWidth()/2,GraphicsHeight()<br>;CameraClsColor cam2,100,100,100<br><br>mdlBlack = CreateCube(cam)<br>FlipMesh mdlBlack<br>ScaleEntity mdlBlack, 3.1, 3.1, 3.1<br>EntityColor mdlBlack, 0, 0, 0<br><br>;mdlBlack2 = CreateCube(cam2)<br>;FlipMesh mdlBlack2<br>;ScaleEntity mdlBlack2, 1.1, 1.1, 1.1<br>;EntityColor mdlBlack2, 0, 0, 0<br><br>light=CreateLight(1)<br>RotateEntity light,90,0,0<br>LightColor light,0,0,255<br>LightRange light,200<br><br>light2=CreateLight(1)<br>RotateEntity light2,-90,0,0<br>LightColor light2,222,222,222<br><br>AmbientLight 100,100,100<br><br><br><br>; Splash Screen<br>imgTech = LoadImage("images/4thebirds_splash.jpg")<br>DrawImage imgTech, 0, 0<br>Flip<br>t = MilliSecs()<br>While (t &gt; MilliSecs() - 3200) And (Not KeyDown(1))<br>	WaitTimer tmrFPS<br>Wend<br><br><br>titleFont = LoadFont("Arial",32,True,False,False)<br>subtitleFont= LoadFont("Arial",24,True,False,False)<br><br>;main loop<br>While Not KeyDown(1)<br>	Select worldstate<br>		Case 0<br>			LoadBirds()<br>		Case 1<br>			UpdateScene()<br>	End Select<br>	<br>Wend <br><br><br>Function ChangeBirdState()<br>	time = 5000<br>	If MilliSecs() &lt; JumpTimer	And worldstate = 0 Then<br>		JumpTimer=MilliSecs()+time;(1000 * 300);(1000+60+2);(1000+60+5)<br>		PastCycle()<br>	End If<br>;	If MilliSecs() &gt; 5000 And birdstate = 0  And birdstate &lt; 6 Then<br>;;		JumpTimer=MilliSecs()+time;(1000 * 300);(1000+60+2);(1000+60+5)<br>;		PastCycle()<br>;;		birdstate = birdstate + 1<br>;	End If <br>	<br>	If KeyHit(28) PastCycle()	<br>		If KeyHit(57) CleanupScene()<br>			<br>End Function<br><br>;fade from black<br>Function FadeIn()<br>	Alpha# = 1.0<br>	While Alpha# &gt; 0<br>		WaitTimer tmrFPS<br>		RenderWorld<br>		Flip<br>		EntityAlpha mdlBlack, Alpha#<br>		;EntityAlpha mdlBlack2, Alpha#<br>		Alpha# = Alpha# - 0.05<br>	Wend<br>	EntityAlpha mdlBlack, 0<br>	;EntityAlpha mdlBlack2, 0<br>End Function<br><br><br>;fade to black<br>Function FadeOut()<br>	Alpha# = 0.0<br>	While Alpha# &lt; 1.0<br>		WaitTimer tmrFPS<br>		RenderWorld<br>		Flip<br>		EntityAlpha mdlBlack, Alpha#<br>		;EntityAlpha mdlBlack2, Alpha#<br>		Alpha# = Alpha# + 0.05<br>	Wend<br>	EntityAlpha mdlBlack, 1<br>	;EntityAlpha mdlBlack2, 1<br>End Function<br><br><br>;draw borders around the text<br>Function OutlineText(x, y, txt$, center_x = False, center_y = False)<br>	r = ColorRed()<br>	g = ColorGreen()<br>	b = ColorBlue()<br>	Color 0, 0, 0<br>	Text(x+1, y, txt$, center_x, center_y)<br>	Text(x-1, y, txt$, center_x, center_y)<br>	Text(x, y+1, txt$, center_x, center_y)<br>	Text(x, y-1, txt$, center_x, center_y)<br>	Color r, g, b<br>	Text(x, y, txt$, center_x, center_y)<br>End Function<br><br><br>;populate the scene<br>Function LoadBirds()<br>	Select birdstate<br>		Case 0		;first set of birds, Oberlin March 2 1908, White-eyed vireo, olive-sided flycatcher<br>			CameraFogColor cam,141,143,255<br>			CameraClsColor cam,141,143,255 ;(Late February 1908 37F)<br>			LoopSound vireo<br>			LoopSound Flycatcher<br>			RotateEntity cam,0,0,0<br>			For counter=0 To 70<br>				bird.birds = New birds<br>				tmp = Rnd(1,2)<br>				Select tmp<br>					Case 1<br>						bird\mesh = LoadAnimMesh("meshes/whiteEyedvireo.b3d")<br>						Animate bird\mesh,1,Rnd(.6,1.3),0,0<br>						;ScaleEntity bird\mesh,4.5,4.5,4.5<br>						feathers = LoadTexture("textures/White-eyed_Vireo_masked_ind.bmp",5+8)<br>						EntityTexture bird\mesh,feathers<br>						bird\sing = EmitSound(vireo,bird\mesh)<br>						;ChannelVolume vireo,1<br>					Case 2<br>						bird\mesh = LoadAnimMesh("meshes/oliveSidedFlycatcher.b3d")<br>						Animate bird\mesh,1,Rnd(.1,.2),0,0<br>						feathers=LoadTexture("textures/Olive-sided Flycatcher_masked_ind.bmp",5+8)<br>						EntityTexture bird\mesh, feathers<br>						;ScaleEntity bird\mesh,.5,.5,.5<br>						EntityFX bird\mesh,16<br>						<br>						bird\sing = EmitSound(Flycatcher,bird\mesh)<br>				End Select<br>				<br>			PositionEntity bird\mesh, Rnd(-200,200),Rnd(-200,200)+(fs#*0.5),Rnd(-200,200),True<br>			bird\speed# = Rnd(.1,1.5)<br>			Next<br>			dateTXT = "Oberlin Ohio, late February, 1908"<br>			<br>		Case 1		;second set of birds, crow, robin, killdeer, larks<br>			CameraFogColor cam,110,135,244<br>			CameraClsColor cam,110,135,244 ;March 1908 45.5 F<br>			LoopSound Crow<br>			LoopSound Robin<br>			LoopSound Killdeer<br>			LoopSound amfinch<br>			LoopSound cardinal<br>			For counter=0 To 200<br>				bird.birds = New birds<br>				tmp = Rnd(1,6)<br>				Select tmp<br>					Case 1<br>						;crow<br>						bird\mesh = LoadAnimMesh("meshes/raven-anim.b3d")	<br>						Animate bird\mesh,1,Rnd(.6,1.3),0,0<br>						feathers=LoadTexture("textures/raven_textmask_ind.bmp",5+8)<br>						EntityTexture bird\mesh,feathers<br>						bird\sing = EmitSound(Crow,bird\mesh)<br>					Case 2<br>						bird\mesh=LoadAnimMesh("meshes/bird_anim-1.b3d")<br>						Animate bird\mesh,1,Rnd(.6,1.3),0,0<br>						EntityFX bird\mesh, 16<br>						feathers=LoadTexture("textures/robin.bmp",5+8)<br>						EntityTexture bird\mesh,feathers<br>						bird\sing = EmitSound(Robin,bird\mesh)<br>					Case 3<br>						bird\mesh = LoadAnimMesh("meshes/killdeer-anim.b3d")<br>						Animate bird\mesh,1,Rnd(.6,1.3),0,0<br>						feathers=LoadTexture("textures/Killdeer_masked_ind.bmp",5+8)<br>						EntityTexture bird\mesh, feathers<br>						bird\sing = EmitSound(Killdeer,bird\mesh)<br>					Case 4<br>						;lark<br>						bird\mesh = LoadMesh("cardinal.b3d")<br>						feathers=LoadTexture("textures/Cardinal_textmask_ind.bmp",5+8)<br>						EntityTexture bird\mesh, feathers<br>						ScaleEntity bird\mesh,1.5,1.5,1.5<br>						EntityFX bird\mesh,16<br>						bird\sing = EmitSound(cardinal,bird\mesh)<br>					Case 5<br>						bird\mesh = LoadAnimMesh("meshes/common_nighthawk-anim.b3d")<br>						;bird\mesh = LoadAnimMesh("meshes/whiteeyed_vireo-anim.b3d")<br>						Animate bird\mesh,1,Rnd(.6,1.3),0,0<br>						;ScaleEntity bird\mesh,4.5,4.5,4.5<br>						feathers = LoadTexture("textures/nighthawk_textmask_ind.bmp",5+8)<br>						;feathers = LoadTexture("textures/vireo_textmask_ind.bmp",5+8)<br>						EntityTexture bird\mesh,feathers<br>;						<br>					Case 6<br>						bird\mesh = LoadAnimMesh("meshes/yellow_billed_cuckoo-anim.b3d")<br>						;bird\mesh = LoadAnimMesh("meshes/olivesided_flycatcher-anim.b3d")<br>						Animate bird\mesh,1,Rnd(.1,.2),0,0<br>						feathers=LoadTexture("textures/YellowBilled_Cuckoo_masked_ind.bmp",5+8)<br>						;feathers=LoadTexture("textures/olivesided_masked_ind.bmp",5+8)<br>						EntityTexture bird\mesh, feathers<br>						;ScaleEntity bird\mesh,.5,.5,.5<br>						EntityFX bird\mesh,16<br>						bird\sing = EmitSound(amfinch,bird\mesh)<br>				End Select<br>			PositionEntity bird\mesh, Rnd(-200,200),Rnd(-200,200)+(fs#*0.5),Rnd(-200,200),True<br>			bird\speed# = Rnd(.1,1.5)<br>			Next<br>			dateTXT = "Oberlin Ohio, March 2-9 1908"<br>		Case 2		;third set of birds, rwblackbird,bluebirds,grackle,rusty blackbird<br>			CameraFogColor cam,80,128,245<br>			CameraClsColor cam,80,128,245 ;March 45.5<br>			LoopSound BWBB<br>			LoopSound BlueBird<br>			LoopSound Grackle<br>			For counter=0 To 250<br>				bird.birds = New birds<br>				tmp = Rnd(1,10)<br>				Select tmp<br>					Case 1<br>						;bluebirds<br>						bird\mesh = LoadMesh("meshes/grasshopperSparrow.b3d")	<br>						;Animate bird\mesh,1,Rnd(.6,1.3),0,0<br>						feathers=LoadTexture("textures/grasshopper_textmask_ind.bmp",5+8)<br>						EntityTexture bird\mesh,feathers<br>						bird\sing = EmitSound(BlueBird,bird\mesh)<br>					Case 2<br>						;rwblackbirds<br>						bird\mesh=LoadAnimMesh("meshes/blackBilledCuckoo.b3d")<br>						Animate bird\mesh,1,Rnd(.6,1.3),0,0<br>						EntityFX bird\mesh, 16<br>						feathers=LoadTexture("textures/BlackBilled_Cuckoo_masked_ind.bmp",5+8)<br>						;Animate bird\mesh,1,Rnd(.6,1.3),0,0<br>						EntityTexture bird\mesh,feathers<br>						bird\sing = EmitSound(Grackle,bird\mesh)<br>					Case 3<br>						;rustyblackbird<br>						bird\mesh = LoadAnimMesh("meshes/chuckwillsWidow.b3d")<br>						Animate bird\mesh,1,Rnd(.6,1.3),0,0<br>						feathers=LoadTexture("textures/ChuckWillsWidow_masked_ind.bmp",5+8)<br>						EntityTexture bird\mesh, feathers<br>						bird\sing = EmitSound(BWBB,bird\mesh)<br>					Case 4<br>						;grackle<br>						bird\mesh = LoadAnimMesh("meshes/raven-anim.b3d")<br>						Animate bird\mesh,Rand(1,3),Rnd(.1,.7),0,0<br>						ScaleEntity bird\mesh,2,2,2<br>						feathers = LoadTexture("textures/raven_textmask_ind.bmp",5+8)<br>						EntityTexture bird\mesh,feathers<br>						bird\sing = EmitSound(Grackle,bird\mesh)<br>					Case 5<br>						;crow<br>						bird\mesh = LoadAnimMesh("meshes/raven-anim.b3d")	<br>						Animate bird\mesh,1,Rnd(.6,1.3),0,0<br>						feathers=LoadTexture("textures/raven_textmask_ind.bmp",5+8)<br>						EntityTexture bird\mesh,feathers<br>					Case 6<br>						bird\mesh=LoadAnimMesh("meshes/bird_anim-1.b3d")<br>						Animate bird\mesh,1,Rnd(.6,1.3),0,0<br>						EntityFX bird\mesh, 16<br>						feathers=LoadTexture("textures/robin.bmp",5+8)<br>						EntityTexture bird\mesh,feathers<br>					Case 7<br>						bird\mesh = LoadAnimMesh("meshes/killdeer-anim.b3d")<br>						Animate bird\mesh,1,Rnd(.6,1.3),0,0<br>						feathers=LoadTexture("textures/Killdeer_masked_ind.bmp",5+8)<br>						EntityTexture bird\mesh, feathers<br>					Case 8<br>						;lark<br>						bird\mesh = LoadMesh("cardinal.b3d")<br>						feathers=LoadTexture("textures/Cardinal_textmask_ind.bmp",5+8)<br>						EntityTexture bird\mesh, feathers<br>						ScaleEntity bird\mesh,1.5,1.5,1.5<br>						EntityFX bird\mesh,16<br>					Case 9<br>						bird\mesh = LoadAnimMesh("meshes/common_nighthawk-anim.b3d")<br>						;bird\mesh = LoadAnimMesh("meshes/whiteeyed_vireo-anim.b3d")<br>						Animate bird\mesh,1,Rnd(.6,1.3),0,0<br>						;ScaleEntity bird\mesh,4.5,4.5,4.5<br>						feathers = LoadTexture("textures/nighthawk_textmask_ind.bmp",5+8)<br>						;feathers = LoadTexture("textures/vireo_textmask_ind.bmp",5+8)<br>						EntityTexture bird\mesh,feathers<br>;						EmitSound(bluHeron,bird\mesh)<br>					Case 10<br>						bird\mesh = LoadAnimMesh("meshes/yellow_billed_cuckoo-anim.b3d")<br>						;bird\mesh = LoadAnimMesh("meshes/olivesided_flycatcher-anim.b3d")<br>						Animate bird\mesh,1,Rnd(.1,.2),0,0<br>						feathers=LoadTexture("textures/YellowBilled_Cuckoo_masked_ind.bmp",5+8)<br>						;feathers=LoadTexture("textures/olivesided_masked_ind.bmp",5+8)<br>						EntityTexture bird\mesh, feathers<br>						;ScaleEntity bird\mesh,.5,.5,.5<br>						EntityFX bird\mesh,16<br>				End Select<br>				PositionEntity bird\mesh, Rnd(-200,200),Rnd(-200,200)+(fs#*0.5),Rnd(-200,200),True<br>				bird\speed# = Rnd(.1,1.5)<br>			Next<br>			dateTXT = "Oberlin Ohio, March 16 1908"<br>		Case 3		;forth set of birds, Great Blue Heron,American Bittern<br>			<br>			CameraFogColor cam,60,120,255<br>			CameraClsColor cam,60,120,255<br>			LoopSound bluHeron<br>			LoopSound GHSparrow<br>			LoopSound BBCuckoo<br>			LoopSound YBCuckoo<br>			LoopSound Killdeer<br>			LoopSound NightHawk<br>			LoopSound cardinal<br>			;ChannelVolume bird\sing,1<br>			For counter=0 To 300<br>				bird.birds = New birds<br>				tmp = Rnd(1,12)<br>				Select tmp<br>					Case 1<br>						;bluebirds<br>						bird\mesh = LoadMesh("meshes/grasshopperSparrow.b3d")	<br>						;Animate bird\mesh,1,Rnd(.6,1.3),0,0<br>						feathers=LoadTexture("textures/grasshopper_textmask_ind.bmp",5+8)<br>						EntityTexture bird\mesh,feathers<br>						bird\sing = EmitSound(GHSparrow,bird\mesh)<br>					Case 2<br>						;rwblackbirds<br>						bird\mesh=LoadAnimMesh("meshes/blackBilledCuckoo.b3d")<br>						Animate bird\mesh,1,Rnd(.6,1.3),0,0<br>						EntityFX bird\mesh, 16<br>						feathers=LoadTexture("textures/BlackBilled_Cuckoo_masked_ind.bmp",5+8)<br>						;Animate bird\mesh,1,Rnd(.6,1.3),0,0<br>						EntityTexture bird\mesh,feathers<br>						bird\sing = EmitSound(BBCuckoo,bird\mesh)<br>					Case 3<br>						;rustyblackbird<br>						bird\mesh = LoadAnimMesh("meshes/chuckwillsWidow.b3d")<br>						Animate bird\mesh,1,Rnd(.6,1.3),0,0<br>						feathers=LoadTexture("textures/ChuckWillsWidow_masked_ind.bmp",5+8)<br>						EntityTexture bird\mesh, feathers<br>					Case 4<br>						;grackle<br>						bird\mesh = LoadAnimMesh("meshes/raven-anim.b3d")<br>						Animate bird\mesh,Rand(1,3),Rnd(.1,.7),0,0<br>						ScaleEntity bird\mesh,2,2,2<br>						feathers = LoadTexture("textures/raven_textmask_ind.bmp",5+8)<br>						EntityTexture bird\mesh,feathers<br>					Case 5<br>						;crow<br>						bird\mesh = LoadAnimMesh("meshes/raven-anim.b3d")	<br>						Animate bird\mesh,1,Rnd(.6,1.3),0,0<br>						feathers=LoadTexture("textures/raven_textmask_ind.bmp",5+8)<br>						EntityTexture bird\mesh,feathers<br>					Case 6<br>						bird\mesh=LoadAnimMesh("meshes/bird_anim-1.b3d")<br>						Animate bird\mesh,1,Rnd(.6,1.3),0,0<br>						EntityFX bird\mesh, 16<br>						feathers=LoadTexture("textures/robin.bmp",5+8)<br>						EntityTexture bird\mesh,feathers<br>					Case 7<br>						bird\mesh = LoadAnimMesh("meshes/killdeer-anim.b3d")<br>						Animate bird\mesh,1,Rnd(.6,1.3),0,0<br>						feathers=LoadTexture("textures/Killdeer_masked_ind.bmp",5+8)<br>						EntityTexture bird\mesh, feathers<br>						bird\sing = EmitSound(Killdeer,bird\mesh)<br>					Case 8<br>						;lark<br>						bird\mesh = LoadMesh("cardinal.b3d")<br>						feathers=LoadTexture("textures/Cardinal_textmask_ind.bmp",5+8)<br>						EntityTexture bird\mesh, feathers<br>						ScaleEntity bird\mesh,1.5,1.5,1.5<br>						EntityFX bird\mesh,16<br>						bird\sing = EmitSound(cardinal,bird\mesh)<br>					Case 9<br>						bird\mesh = LoadAnimMesh("meshes/common_nighthawk-anim.b3d")<br>						;bird\mesh = LoadAnimMesh("meshes/whiteeyed_vireo-anim.b3d")<br>						Animate bird\mesh,1,Rnd(.6,1.3),0,0<br>						;ScaleEntity bird\mesh,4.5,4.5,4.5<br>						feathers = LoadTexture("textures/nighthawk_textmask_ind.bmp",5+8)<br>						;feathers = LoadTexture("textures/vireo_textmask_ind.bmp",5+8)<br>						EntityTexture bird\mesh,feathers<br>;						EmitSound(bluHeron,bird\mesh)<br>					Case 10<br>						bird\mesh = LoadAnimMesh("meshes/yellow_billed_cuckoo-anim.b3d")<br>						;bird\mesh = LoadAnimMesh("meshes/olivesided_flycatcher-anim.b3d")<br>						Animate bird\mesh,1,Rnd(.1,.2),0,0<br>						feathers=LoadTexture("textures/YellowBilled_Cuckoo_masked_ind.bmp",5+8)<br>						;feathers=LoadTexture("textures/olivesided_masked_ind.bmp",5+8)<br>						EntityTexture bird\mesh, feathers<br>						;ScaleEntity bird\mesh,.5,.5,.5<br>						EntityFX bird\mesh,16<br>					Case 11<br>						;Great Blue Heron<br>						bird\mesh = LoadAnimMesh("meshes/blueHeron_anim.b3d")<br>						Animate bird\mesh,2,Rnd(.6,1.3),0,0<br>						feathers=LoadTexture("textures/Great_Blue_Heron_masked_ind.bmp",5+8)<br>						EntityTexture bird\mesh,feathers<br>						bird\sing = EmitSound(bluHeron,bird\mesh)<br>					Case 12<br>						bird\mesh=LoadMesh("meshes/LeastBittern.b3d")<br>						;Animate bird\mesh,1,Rnd(.6,1.3),0,0<br>						EntityFX bird\mesh, 16<br>						feathers=LoadTexture("textures/LeastBittern_textmask_ind.bmp",5+8)<br>						EntityTexture bird\mesh,feathers<br>						<br>				End Select<br>				PositionEntity bird\mesh, Rnd(-200,200),Rnd(-200,200)+(fs#*0.5),Rnd(-200,200),True<br>				bird\speed# = Rnd(.1,1.5)<br>			Next<br>			dateTXT = "Oberlin Ohio, March 28 1908"<br>		Case 4		;fifth set of birds, Wood Duck, Green Heron, Loon,Grasshopper Sparrow, chimney Swift,Bobolink<br>			CameraClsColor cam,40,110,255 ;April 1908 51.7F<br>			CameraFogColor cam,40,110,255<br>			LoopSound Bobo<br>			For counter=0 To 400<br>				bird.birds = New birds<br>				tmp = Rnd(1,16)<br>				Select tmp<br>					Case 1<br>						;bluebirds<br>						bird\mesh = LoadMesh("meshes/loon-anim.b3d")	<br>						;Animate bird\mesh,1,Rnd(.6,1.3),0,0<br>						feathers=LoadTexture("textures/loon_masked_ind.bmp",5+8)<br>						EntityTexture bird\mesh,feathers<br>					Case 2<br>						;rwblackbirds<br>						bird\mesh=LoadAnimMesh("meshes/woodDuck-anim.b3d")<br>						Animate bird\mesh,1,Rnd(.6,1.3),0,0<br>						EntityFX bird\mesh, 16<br>						feathers=LoadTexture("textures/woodDuck_textmask_ind.bmp",5+8)<br>						;Animate bird\mesh,1,Rnd(.6,1.3),0,0<br>						EntityTexture bird\mesh,feathers<br>					Case 3<br>						;rustyblackbird<br>						bird\mesh = LoadAnimMesh("meshes/greenHeron-anim.b3d")<br>						Animate bird\mesh,1,Rnd(.6,1.3),0,0<br>						feathers=LoadTexture("textures/Green_Heron_masked_ind.bmp",5+8)<br>						EntityTexture bird\mesh, feathers<br>					Case 4<br>						;grackle<br>						bird\mesh = LoadAnimMesh("meshes/raven-anim.b3d")<br>						Animate bird\mesh,Rand(1,3),Rnd(.1,.7),0,0<br>						ScaleEntity bird\mesh,2,2,2<br>						feathers = LoadTexture("textures/raven_textmask_ind.bmp",5+8)<br>						EntityTexture bird\mesh,feathers<br>					Case 5<br>						;crow<br>						bird\mesh = LoadAnimMesh("meshes/raven-anim.b3d")	<br>						Animate bird\mesh,1,Rnd(.6,1.3),0,0<br>						feathers=LoadTexture("textures/raven_textmask_ind.bmp",5+8)<br>						EntityTexture bird\mesh,feathers<br>					Case 6<br>						bird\mesh=LoadAnimMesh("meshes/bird_anim-1.b3d")<br>						Animate bird\mesh,1,Rnd(.6,1.3),0,0<br>						EntityFX bird\mesh, 16<br>						feathers=LoadTexture("textures/robin.bmp",5+8)<br>						EntityTexture bird\mesh,feathers<br>					Case 7<br>						bird\mesh = LoadAnimMesh("meshes/killdeer-anim.b3d")<br>						Animate bird\mesh,1,Rnd(.6,1.3),0,0<br>						feathers=LoadTexture("textures/Killdeer_masked_ind.bmp",5+8)<br>						EntityTexture bird\mesh, feathers<br>					Case 8<br>						;lark<br>						bird\mesh = LoadMesh("cardinal.b3d")<br>						feathers=LoadTexture("textures/Cardinal_textmask_ind.bmp",5+8)<br>						EntityTexture bird\mesh, feathers<br>						ScaleEntity bird\mesh,1.5,1.5,1.5<br>						EntityFX bird\mesh,16<br>					Case 9<br>						bird\mesh = LoadAnimMesh("meshes/common_nighthawk-anim.b3d")<br>						;bird\mesh = LoadAnimMesh("meshes/whiteeyed_vireo-anim.b3d")<br>						Animate bird\mesh,1,Rnd(.6,1.3),0,0<br>						;ScaleEntity bird\mesh,4.5,4.5,4.5<br>						feathers = LoadTexture("textures/nighthawk_textmask_ind.bmp",5+8)<br>						;feathers = LoadTexture("textures/vireo_textmask_ind.bmp",5+8)<br>						EntityTexture bird\mesh,feathers<br>;						EmitSound(bluHeron,bird\mesh)<br>					Case 10<br>						bird\mesh = LoadAnimMesh("meshes/yellow_billed_cuckoo-anim.b3d")<br>						;bird\mesh = LoadAnimMesh("meshes/olivesided_flycatcher-anim.b3d")<br>						Animate bird\mesh,1,Rnd(.1,.2),0,0<br>						feathers=LoadTexture("textures/YellowBilled_Cuckoo_masked_ind.bmp",5+8)<br>						;feathers=LoadTexture("textures/olivesided_masked_ind.bmp",5+8)<br>						EntityTexture bird\mesh, feathers<br>						;ScaleEntity bird\mesh,.5,.5,.5<br>						EntityFX bird\mesh,16<br>					Case 11<br>						bird\mesh = LoadMesh("meshes/grasshopperSparrow.b3d")	<br>						;Animate bird\mesh,1,Rnd(.6,1.3),0,0<br>						feathers=LoadTexture("textures/grasshopper_textmask_ind.bmp",5)<br>						EntityTexture bird\mesh,feathers<br>					Case 12<br>						bird\mesh=LoadAnimMesh("meshes/woodDuck-anim.b3d")<br>						Animate bird\mesh,1,Rnd(.6,1.3),0,0<br>						;EntityFX bird\mesh, 16<br>						feathers=LoadTexture("textures/woodDuck_textmask_ind.bmp",5)<br>						EntityTexture bird\mesh,feathers<br>					Case 13<br>						bird\mesh = LoadAnimMesh("meshes/greenHeron-anim.b3d")<br>						Animate bird\mesh,1,Rnd(.6,1.3),0,0<br>						feathers=LoadTexture("textures/Green_Heron_masked_ind.bmp",5)<br>						EntityTexture bird\mesh, feathers<br>					Case 14<br>						;loon<br>						bird\mesh = LoadAnimMesh("meshes/Turkey_VultureAnim.b3d")<br>						Animate bird\mesh,Rand(1,3),Rnd(.1,.7),0,0<br>						ScaleEntity bird\mesh,2,2,2<br>						feathers = LoadTexture("textures/TurkeyVulture_texture_indexed.bmp",5)<br>						EntityTexture bird\mesh,feathers<br>					Case 15<br>						bird\mesh = LoadAnimMesh("meshes/bobolink.b3d")<br>						Animate bird\mesh,1,Rnd(.6,1.3),0,0<br>						feathers=LoadTexture("textures/Bobolink_masked_ind.bmp",5+8)<br>						EntityTexture bird\mesh, feathers<br>						ScaleEntity bird\mesh,1.5,1.5,1.5<br>						EntityFX bird\mesh,16<br>						bird\sing = EmitSound(Bobo,bird\mesh)<br>						<br>					Case 16<br>						;chimney swift<br>						bird\mesh = LoadMesh("meshes/grasshopperSparrow.b3d")<br>						;Animate bird\mesh,1,Rnd(.6,1.3),0,0<br>						feathers=LoadTexture("textures/grasshopper_textmask_ind.bmp",5+8)<br>						EntityTexture bird\mesh, feathers<br>						ScaleEntity bird\mesh,1.5,1.5,1.5<br>						EntityFX bird\mesh,16<br>				End Select<br>				PositionEntity bird\mesh, Rnd(-200,200),Rnd(-200,200)+(fs#*0.5),Rnd(-200,200),True<br>				bird\speed# = Rnd(.1,1.5)<br>			Next<br>			dateTXT = "Oberlin Ohio, April 26 1908"<br>			<br>		Case 5		;sixth set of birds, Caspian Tern, Least Bittern, Scarlet Tanager, Cerulean Warbler,Yellow-Billed Cuckoo<br>			CameraFogColor cam,31,100,255 <br>			CameraClsColor cam,31,100,255 ;May 62.2, June 69.2<br>			For counter=0 To 90<br>				bird.birds = New birds<br>				tmp = Rnd(1,6)<br>				Select tmp<br>					Case 1<br>						bird\mesh = LoadMesh("meshes/Caspian_Tern.b3d")	<br>						;Animate bird\mesh,Rand(1,3),Rnd(.1,.7),0,0<br>						feathers=LoadTexture("textures/CaspainTern_masked_ind.bmp",5+8)<br>						EntityTexture bird\mesh,feathers<br>					Case 2<br>						bird\mesh=LoadAnimMesh("meshes/scarlet_tanager-anim.b3d")<br>						Animate bird\mesh,Rand(1,3),Rnd(.1,.7),0,0<br>						EntityFX bird\mesh, 16<br>						feathers=LoadTexture("textures/scarlet_textmask_ind.bmp",5+8)<br>						EntityTexture bird\mesh,feathers<br>					Case 3<br>						bird\mesh = LoadMesh("meshes/LeastBittern.b3d")<br>						;Animate bird\mesh,Rand(1,3),Rnd(.1,.7),0,0<br>						feathers=LoadTexture("textures/LeastBittern_textmask_ind2.bmp",5+8)<br>						EntityTexture bird\mesh, feathers<br>					Case 4<br>						bird\mesh = LoadAnimMesh("meshes/yellow_billed_cuckoo-anim.b3d")<br>						Animate bird\mesh,Rand(1,3),Rnd(.1,.7),0,0<br>						ScaleEntity bird\mesh,2,2,2<br>						feathers = LoadTexture("textures/YellowBilled_Cuckoo_masked_ind.bmp",5+8)<br>						EntityTexture bird\mesh,feathers<br>					Case 5<br>						;cerulean warbler<br>						bird\mesh = LoadAnimMesh("meshes/Cerulean_warbler-anim.b3d")<br>						Animate bird\mesh,Rand(1,3),Rnd(.1,.7),0,0<br>						ScaleEntity bird\mesh,2,2,2<br>						feathers = LoadTexture("textures/CeruleanWarbler_masked_ind.bmp",5+8)<br>						EntityTexture bird\mesh,feathers<br>					Case 6<br>						bird\mesh = LoadAnimMesh("meshes/blackBilledCuckoo.b3d")<br>						Animate bird\mesh,Rand(1,3),Rnd(.1,.7),0,0<br>						ScaleEntity bird\mesh,2,2,2<br>						feathers = LoadTexture("textures/BlackBilled_Cuckoo_masked_ind.bmp",5+8)<br>						EntityTexture bird\mesh,feathers<br>				End Select<br>				PositionEntity bird\mesh, Rnd(-200,200),Rnd(-200,200)+(fs#*0.5),Rnd(-200,200),True<br>				bird\speed# = Rnd(.1,1.5)<br>			Next<br>			dateTXT = "Oberlin Ohio, May 25, 1908, 188 species reported"<br>		Case 6		;Oberlin 2008 BackYard Bird Count<br>			CameraFogColor cam,31,100,255<br>			CameraClsColor cam,31,100,255 ;(mean temp during breeding season 64F)<br>			RotateEntity cam,0,90,0<br>			For counter=0 To 100<br>				bird.birds = New birds<br>				tmp = Rnd(1,11)<br>				Select tmp<br>						;canada goose, red-tailed hawk,mourning dove,downy woodpecker,blue jay,crow,robin,raven,starling,dark-eyed junco,cardinal,goldfinch,house sparrow<br>					Case 1<br>						bird\mesh = LoadAnimMesh("meshes/canada_gooseAnim.b3d")<br>						;bird\mesh = LoadAnimMesh("meshes/whiteeyed_vireo-anim.b3d")<br>						Animate bird\mesh,1,Rnd(.6,1.3),0,0<br>						;ScaleEntity bird\mesh,4.5,4.5,4.5<br>						feathers = LoadTexture("textures/CanadianGoose_texture_indexed.bmp",5+8)<br>						;feathers = LoadTexture("textures/vireo_textmask_ind.bmp",5+8)<br>						EntityTexture bird\mesh,feathers<br>;						EmitSound(bluHeron,bird\mesh)<br>					Case 2<br>						bird\mesh = LoadAnimMesh("meshes/red_tailed_hawk-anim.b3d")<br>						;bird\mesh = LoadAnimMesh("meshes/olivesided_flycatcher-anim.b3d")<br>						Animate bird\mesh,1,Rnd(.1,.2),0,0<br>						feathers=LoadTexture("textures/Red_tail_hawk_masked_ind.bmp",5+8)<br>						;feathers=LoadTexture("textures/olivesided_masked_ind.bmp",5+8)<br>						EntityTexture bird\mesh, feathers<br>						;ScaleEntity bird\mesh,.5,.5,.5<br>						EntityFX bird\mesh,16<br>					Case 3<br>						bird\mesh = LoadAnimMesh("meshes/mourningDove-anim.b3d")<br>						;bird\mesh = LoadAnimMesh("meshes/whiteeyed_vireo-anim.b3d")<br>						Animate bird\mesh,1,Rnd(.6,1.3),0,0<br>						;ScaleEntity bird\mesh,4.5,4.5,4.5<br>						feathers = LoadTexture("textures/Mourning_Dove_masked_ind.bmp",5+8)<br>						;feathers = LoadTexture("textures/vireo_textmask_ind.bmp",5+8)<br>						EntityTexture bird\mesh,feathers<br>;						EmitSound(bluHeron,bird\mesh)<br>					Case 4<br>						bird\mesh = LoadAnimMesh("meshes/downyWoodpecker-anim.b3d")<br>						;bird\mesh = LoadAnimMesh("meshes/olivesided_flycatcher-anim.b3d")<br>						Animate bird\mesh,1,Rnd(.1,.2),0,0<br>						feathers=LoadTexture("textures/Downy_Woodpecker_masked_ind.bmp",5+8)<br>						;feathers=LoadTexture("textures/olivesided_masked_ind.bmp",5+8)<br>						EntityTexture bird\mesh, feathers<br>						;ScaleEntity bird\mesh,.5,.5,.5<br>						EntityFX bird\mesh,16<br>					Case 5<br>						bird\mesh = LoadMesh("meshes/blueJay.b3d")<br>						;bird\mesh = LoadAnimMesh("meshes/whiteeyed_vireo-anim.b3d")<br>						;Animate bird\mesh,1,Rnd(.6,1.3),0,0<br>						;ScaleEntity bird\mesh,4.5,4.5,4.5<br>						feathers = LoadTexture("textures/blueJay_textmask_ind.bmp",5+8)<br>						;feathers = LoadTexture("textures/vireo_textmask_ind.bmp",5+8)<br>						EntityTexture bird\mesh,feathers<br>;						EmitSound(bluHeron,bird\mesh)<br>					Case 6<br>						;crow<br>						bird\mesh = LoadAnimMesh("meshes/raven-anim.b3d")<br>						;bird\mesh = LoadAnimMesh("meshes/olivesided_flycatcher-anim.b3d")<br>						Animate bird\mesh,1,Rnd(.1,.2),0,0<br>						feathers=LoadTexture("textures/raven_textmask_ind.bmp",5+8)<br>						;feathers=LoadTexture("textures/olivesided_masked_ind.bmp",5+8)<br>						EntityTexture bird\mesh, feathers<br>						;ScaleEntity bird\mesh,.5,.5,.5<br>						EntityFX bird\mesh,16<br>					Case 7<br>						bird\mesh = LoadAnimMesh("meshes/raven-anim.b3d")<br>						;bird\mesh = LoadAnimMesh("meshes/whiteeyed_vireo-anim.b3d")<br>						Animate bird\mesh,1,Rnd(.6,1.3),0,0<br>						ScaleEntity bird\mesh,4.5,4.5,4.5<br>						feathers = LoadTexture("textures/raven_textmask_ind.bmp",5+8)<br>						;feathers = LoadTexture("textures/vireo_textmask_ind.bmp",5+8)<br>						EntityTexture bird\mesh,feathers<br>;						EmitSound(bluHeron,bird\mesh)<br>					Case 8<br>						;starling<br>						bird\mesh = LoadAnimMesh("meshes/raven-anim.b3d")<br>						;bird\mesh = LoadAnimMesh("meshes/olivesided_flycatcher-anim.b3d")<br>						Animate bird\mesh,1,Rnd(.1,.2),0,0<br>						feathers=LoadTexture("textures/raven_textmask_ind.bmp",5+8)<br>						;feathers=LoadTexture("textures/olivesided_masked_ind.bmp",5+8)<br>						EntityTexture bird\mesh, feathers<br>						ScaleEntity bird\mesh,.8,.8,1.2<br>						EntityFX bird\mesh,16<br>					Case 9<br>						<br>						bird\mesh = LoadMesh("meshes/cardinal.b3d")<br>						;bird\mesh = LoadAnimMesh("meshes/whiteeyed_vireo-anim.b3d")<br>						;Animate bird\mesh,1,Rnd(.6,1.3),0,0<br>						;ScaleEntity bird\mesh,4.5,4.5,4.5<br>						feathers = LoadTexture("textures/Cardinal_textmask_ind.bmp",5+8)<br>						;feathers = LoadTexture("textures/vireo_textmask_ind.bmp",5+8)<br>						EntityTexture bird\mesh,feathers<br>;						EmitSound(bluHeron,bird\mesh)<br>					Case 10<br>						<br>						bird\mesh = LoadAnimMesh("meshes/canada_gooseAnim.b3d")<br>						;bird\mesh = LoadAnimMesh("meshes/whiteeyed_vireo-anim.b3d")<br>						Animate bird\mesh,1,Rnd(.1,.3),0,0<br>						;ScaleEntity bird\mesh,4.5,4.5,4.5<br>						feathers = LoadTexture("textures/CanadianGoose_texture_indexed.bmp",5+8)<br>						;feathers = LoadTexture("textures/vireo_textmask_ind.bmp",5+8)<br>						EntityTexture bird\mesh,feathers<br>;						EmitSound(bluHeron,bird\mesh)<br>;					Case 11<br>;						;goldfinch<br>;						bird\mesh = LoadAnimMesh("meshes/common_nighthawk-anim.b3d")<br>;						;bird\mesh = LoadAnimMesh("meshes/whiteeyed_vireo-anim.b3d")<br>;						Animate bird\mesh,1,Rnd(.6,1.3),0,0<br>;						;ScaleEntity bird\mesh,4.5,4.5,4.5<br>;						feathers = LoadTexture("textures/nighthawk_textmask_ind.bmp",5+8)<br>;						;feathers = LoadTexture("textures/vireo_textmask_ind.bmp",5+8)<br>;						EntityTexture bird\mesh,feathers<br>;;						EmitSound(bluHeron,bird\mesh)<br>;					Case 12<br>;						;house sparrow<br>;						bird\mesh = LoadAnimMesh("meshes/yellow_billed_cuckoo-anim.b3d")<br>;						;bird\mesh = LoadAnimMesh("meshes/olivesided_flycatcher-anim.b3d")<br>;						Animate bird\mesh,1,Rnd(.1,.2),0,0<br>;						feathers=LoadTexture("textures/YellowBilled_Cuckoo_masked_ind.bmp",5+8)<br>;						;feathers=LoadTexture("textures/olivesided_masked_ind.bmp",5+8)<br>;						EntityTexture bird\mesh, feathers<br>;						;ScaleEntity bird\mesh,.5,.5,.5<br>;						EntityFX bird\mesh,16<br>					Case 11						;starling<br>						bird\mesh = LoadAnimMesh("meshes/raven-anim.b3d")<br>						;bird\mesh = LoadAnimMesh("meshes/olivesided_flycatcher-anim.b3d")<br>						Animate bird\mesh,1,Rnd(.1,.2),0,0<br>						feathers=LoadTexture("textures/raven_textmask_ind.bmp",5+8)<br>						;feathers=LoadTexture("textures/olivesided_masked_ind.bmp",5+8)<br>						EntityTexture bird\mesh, feathers<br>						ScaleEntity bird\mesh,.8,.8,1.2<br>						EntityFX bird\mesh,16<br>;					Case 14<br>						;dark-eyed junko<br>;						bird\mesh = LoadAnimMesh("meshes/yellow_billed_cuckoo-anim.b3d")<br>;						;bird\mesh = LoadAnimMesh("meshes/olivesided_flycatcher-anim.b3d")<br>;						Animate bird\mesh,1,Rnd(.1,.2),0,0<br>;						feathers=LoadTexture("textures/YellowBilled_Cuckoo_masked_ind.bmp",5+8)<br>;						;feathers=LoadTexture("textures/olivesided_masked_ind.bmp",5+8)<br>;						EntityTexture bird\mesh, feathers<br>;						;ScaleEntity bird\mesh,.5,.5,.5<br>;						EntityFX bird\mesh,16<br>				End Select<br>				PositionEntity bird\mesh, Rnd(-200,200),Rnd(-200,200)+(fs#*0.5),Rnd(-200,200),True<br>				bird\speed# = Rnd(.1,1.5)<br>			Next<br>			dateTXT = "BackYard Bird Count,Oberlin Ohio,Spring Migration 2008,28 species reported "<br>	End Select<br>	<br>	worldstate = 1		;startup the scene<br>	FadeIn()<br>End Function<br><br>Function UpdateSound()<br>	<br>	If EntityDistance (cam,birds) &gt; 300<br>		For bird.birds = Each birds<br>			StopChannel bird\sing<br>			FreeSound bird\sing<br>		Next<br>	End If<br>	<br>	<br>End Function<br><br><br>;main mechanics of bird simulation<br>Function UpdateScene()<br>	<br>	navigate()<br>	UpdateBirds()<br>	ChangeBirdState()<br>	<br>	UpdateWorld<br>	RenderWorld<br>	<br>	curtime=MilliSecs()<br>	FPS=1000/(curtime - prevtime)<br>	prevtime=curtime<br>	SetFont titleFont<br>	Color 150,150,150<br>	OutlineText (GraphicsWidth()/2,90,"Species Bird Count, Lake Erie Basin, Black-Rocky Watershed" ,True,False)<br>	SetFont subtitleFont<br>	OutlineText(GraphicsWidth()/2,150, dateTXT, True,False)<br>	Color 255,255,255<br>;	Text 10,40,"Hit escape key to quit,"<br>;	Text 10,70,"Hit Space to unload previous birds and load new set of birds"<br>;	Text 10,100,"Hit enter key to add new set of birds to previous birds"<br>	<br>	Text 10,860,"FPS:"+FPS<br>;	Text 10,320,"Camera Z="+EntityZ(cam,True)<br>	<br>	Flip<br>	WaitTimer tmrFPS<br>	<br>	<br>	<br>;	While (time &gt; MilliSecs() - 3200) And (Not KeyDown(1)) And birdstate = 0<br>;		PastCycle<br>;	Wend<br>	<br>		<br>	<br>;	If MilliSecs() &gt; 10000 And birdstate = 0    Then<br>;;		JumpTimer=MilliSecs()+time;(1000 * 300);(1000+60+2);(1000+60+5)<br>;		PastCycle()<br>;;		birdstate = birdstate + 1<br>;		<br>;	End If <br>	<br>;	If MilliSecs() &gt; 40000	And birdstate = 1 Then<br>;		JumpTimer=MilliSecs()+time;(1000 * 300);(1000+60+2);(1000+60+5)<br>;		PastCycle()<br>;;		birdstate = birdstate + 1<br>;		<br>;	End If <br>	<br>;	If KeyHit(28) PastCycle()	<br>;		If KeyHit(57) CleanupScene()<br>		<br>End Function<br><br><br>;move birds in the scene<br>Function UpdateBirds()<br>	For bird.birds = Each birds<br>		If EntityX(cam,True)-EntityX(bird\mesh,True) &gt; 300<br>			HideEntity bird\mesh<br>			PositionEntity bird\mesh, EntityX(bird\mesh,True)+400,EntityY(bird\mesh,True),EntityZ(bird\mesh,True),True<br>			ShowEntity bird\mesh<br>		Else If EntityX(cam,True)-EntityX(bird\mesh,True) &lt; -300<br>			HideEntity bird\mesh<br>			PositionEntity bird\mesh, EntityX(bird\mesh,True)-400,EntityY(bird\mesh,True),EntityZ(bird\mesh,True),True<br>			ShowEntity bird\mesh<br>		EndIf<br>		<br>		If EntityZ(cam,True)-EntityZ(bird\mesh,True) &gt; 300<br>			HideEntity bird\mesh<br>			PositionEntity bird\mesh, EntityX(bird\mesh,True),EntityY(bird\mesh,True),EntityZ(bird\mesh,True)+400,True<br>			ShowEntity bird\mesh<br>		Else If EntityZ(cam,True)-EntityZ(bird\mesh,True) &lt; -300<br>			HideEntity bird\mesh<br>			PositionEntity bird\mesh, EntityX(bird\mesh,True),EntityY(bird\mesh,True),EntityZ(bird\mesh,True)-400,True<br>			ShowEntity bird\mesh<br>		EndIf<br>		If EntityY(cam,True)-EntityY(bird\mesh,True) &gt; 300<br>			HideEntity bird\mesh<br>			PositionEntity bird\mesh, EntityX(bird\mesh,True),EntityY(bird\mesh,True)+400,EntityZ(bird\mesh,True),True<br>			ShowEntity bird\mesh<br>		EndIf<br>		<br>		MoveEntity bird\mesh, 0, 0 ,-bird\speed# *.5<br>	Next	<br>End Function<br><br><br>;movement keys for camera<br>Function navigate()<br>	If KeyDown (200)<br>		MoveEntity cam,0,0,1<br>	EndIf<br>	<br>	If KeyDown (208)<br>		MoveEntity cam,0,0,-1<br>	EndIf<br>End Function<br><br>;additive cycle for past Oberlin counts<br>Function PastCycle()<br>	FadeOut<br>	worldstate = 0		;prepare to load next set of birds<br>	birdstate = birdstate + 1<br>	If birdstate &gt; 6	;determines how many sets of birds to cycle through<br>		birdstate = 0<br>	EndIf<br>End Function<br><br>;remove all birds<br>Function CleanupScene()<br>	FadeOut()<br>	<br>	For bird.birds = Each birds<br>		FreeEntity bird\mesh<br>		StopChannel bird\sing<br>		FreeSound bird\sing<br>		Delete bird<br>	Next<br>	<br>	worldstate = 0		;prepare to load next set of birds<br>	birdstate = birdstate + 1<br>	If birdstate &gt; 6	;determines how many sets of birds to cycle through<br>		birdstate = 0<br>	EndIf<br>End Function<br><br><br>End <br><br></td></tr></table><br>
<a name="891339"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Uncle</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could try something along the lines of...<br><br><pre class=code>
Graphics 800,600,0,2

global selectedBird=1 ; this is the variable you feed your case statement with
global startTime%=MilliSecs()

While Not Keydown(1) ; just a loop to test
   Cls
   If MilliSecs()&gt;startTime+30000 then ; check for 30 second since we last changed.
      selectedBird=selectedBird+1
      if selectedBird&gt;6 then selectedBird=1 ; loop back to 1 if we have reach the last bird
   endif
   Text 10,10,"Current Bird Is "+selectedBird
   Flip
Wend
</pre> <br><br></td></tr></table><br>
<a name="891564"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dena</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks uncle, I will try it out. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
