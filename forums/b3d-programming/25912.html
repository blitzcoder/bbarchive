<!DOCTYPE html><html lang="en" ><head ><title >ESC-problem with movieplayer</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >ESC-problem with movieplayer</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >ESC-problem with movieplayer</a><br><br>
<a name="269529"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PowerPC603</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>I created a small and simple movieplayer.<br>You can download it here:<br><a href="http://users.pandora.be/vge/downloads" target="_blank">http://users.pandora.be/vge/downloads</a><br><br>On my PC (Intel P4 with WinXP Professional) it works like it should.<br><br>But my friend has Windows 2000 Advanced Server.<br>When he presses the ESC-key, the movie doesn't quit, and the pc just makes a beep-sound.<br>He has to wait until the movie actually ends.<br><br>Even stranger: after playing a movie, the CTRL-ALT-DEL keycombination doesn't work anymore.<br>Any key pressed results in a beep-sound, only the mouse works normally.<br><br>The source code is also located at my website.<br>Could someone look at the code and tell me how I could fix this?<br>Maybe using a different main loop?<br><br>I currently using this loop:<br><br>Repeat<br>   ; some code<br>Until KeyHit(1) Or MoviePlaying(movie)=False<br><br><br>Should I use this code:<br><br>While NOT KeyHit(1) or MoviePlaying(movie)=False<br>   ; some code<br>Wend<br><br><br>Or does this make no difference?<br><br>For anyone who has looked on my website:<br>MoviePlayer.exe uses the first loop, MoviePlayer2.exe uses the second loop. They do exactly the same on my pc.<br><br>If the movieplayer works for you, you can use it freely.<br>You can even take screenshots (press F8) with it from a playing movie (that's the reason I designed it).<br>The screenshots will be stored in this location:<br>"C:\MoviePlayer\Screenshots"<br>I don't know what error you will get when this directory isn't present.<br><br>You will not be able to pause the movie or to move forward or backward in the movie.<br>Even the soundvolume isn't changable.<br>I don't know how to do this (if it is even possible). <br><br></td></tr></table><br>
<a name="269662"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> sounds pretty much like the keyboard buffer was filled with keystrokes.<br>I don't know what's the problem, but I would reccomend to use the keydown(1) function instead.<br><br>while not keydown(1)...<br>...<br>wend<br>and then at the end:<br>flushkeys()<br><br>If this doesn't work then this is one for the bug reports.<br><br>BTW you really should use Flip true or at least Delay 1 in the Loop because if you don't then windows cannot "breath".<br>Or, assuming the Movie should play with 30 Frames per Second you could also use the CreateTimer and Waittimer Functions:<br><br>fps=30<br>t=createtimer(1000/fps)<br><br>while not keydown(1)...<br>drawmovie movie<br>waittimer t<br>Flip 0<br>wend <br><br></td></tr></table><br>
<a name="270067"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PowerPC603</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> According the explanation in the help-files, the DrawMovie command doesn't need an extra timer for timing AVI-movies.<br>The timer commands are only needed for animated GIFs, because they have no internal timing info.<br><br>The movies I tried all play back at normal speeds.<br><br>The problem is actually when my friend presses the ESC-key, his computer doesn't end the movie, it just makes a beep-sound, while my pc does exactly what it must do (terminating the movie).<br><br>I don't know if this is related to Windows2000 Advanced Server, or to Blitz3D.<br>If anyone who uses Win2000 Advanced Server could try this program. To use the player, you have to set it as the default player for a specific filetype in Windows.<br>Otherwise the player will display a message, informing you that no valid file is supplied to the player.<br>(It needs the filename and full path in it's command-line)<br><br>We will try this "FlushKeys()" command, to see if that helps.<br>In this case, I think KeyHit and KeyDown would perform the same action: Terminating the movieplayer.<br><br>Keydown is (according to the manuals) used when the user has to HOLD a key down, so the action assigned to the key is executed every time the main-loop executes for as long the key is being pressed.<br>This isn't the case here, because the main-loop would be interrupted as soon as the ESC-key is being pressed.<br>So keeping checking it, to see if it is HELD down, is actually unneccessary.<br><br>But it could be worth trying it if nothing else helps. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
