<!DOCTYPE html><html lang="en" ><head ><title >massive slowdown - help!</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >massive slowdown - help!</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >massive slowdown - help!</a><br><br>
<a name="249305"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've just started working on something new and I've run into a problem.  Download this to see:<br>www.3darteest.com/test.zip<br>Use WASDRF to control the camera.<br><br>What's happening is that as you rotate the camera and zoom in/out the demo experiences massive slowdowns after a little bit.  For me it only takes a couple seconds but I have a relatively old computer so on newer systems it may take longer.  Given the nature of the problem I at first assumed I am accidentally creating instances of something every frame but I combed through the code (and there isn't much; like I said, I just started working on this) and couldn't find anything like that.<br><br>Do other people experience slowdown when running the demo I posted?  If so, any ideas what the problem is? <br><br></td></tr></table><br>
<a name="249315"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CyBeRGoth</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just ran it, no slowdown here<br><br>specs:<br><br>AMD XP2600, 1 Gig Ram, Geforce4 Ti4200, Windows XP<br><br>[EDIT]<br><br>when i turn on waitforvertblank i get slowdown, id do it like this:<br><br>;main game loop<br>While Not KeyHit(1)<br>	<br>;counter for time between frames<br>	currentframetime=MilliSecs()<br>	frametime=currentframetime-lastframetime<br>	avgframetime=(avgframetime*4.0 + Float(frametime))/5.0<br>	frametime=avgframetime<br>	lastframetime=currentframetime<br>	<br>;update the game and draw the next frame<br>	UpdateGame()<br>;	If waitForVerticalBlank=1 VWait  &lt;-- take this line out<br>	Flip(waitForVerticalBlank)<br>Wend <br><br></td></tr></table><br>
<a name="249322"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Among the possibilities I am considering is that the slowdown is simply my hardware.  I'm going to restart my computer and test the demo.  In the meantime though I want to make sure there is nothing wrong with my code; experience tells me that 9 times out of 10 any problems are due to errors in the code. <br><br></td></tr></table><br>
<a name="249325"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ziltch</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Seems OK on my computer.<br><br>It ran at 58fps and did not slow at all.<br><br>Code looks OK, too.  Is it just this code that runs slow ? <br><br></td></tr></table><br>
<a name="249326"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CyBeRGoth</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> IMO its this line:<br><br>If waitForVerticalBlank=1 VWait <br><br>thats the problem, just remove it and replace the Flip() that is below it with:<br><br>Flip(waitForVerticalBlank) <br><br></td></tr></table><br>
<a name="249327"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> "Is it just this code that runs slow?"<br><br>Yeah.  I've been running other stuff all day with no problems, but this has been bogged down since the first time I ran it and the code is barely doing anything.  It's so weird. <br><br></td></tr></table><br>
<a name="249422"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> what are your computer specs? <br><br></td></tr></table><br>
<a name="249464"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> 450MHz PIII with 128MB RAM and an ATI Rage Fury Pro<br>running Win2000<br><br>I'm still getting the slowdown/lag even after shutting my computer off for the night.  I'm starting to get suspicious that I picked up some spyware which is eating up my CPU. <br><br></td></tr></table><br>
<a name="249470"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> hey joe, try this<br><br><a href="http://download.com.com/3000-2144-10045910.html" target="_blank">http://download.com.com/3000-2144-10045910.html</a> <br><br></td></tr></table><br>
<a name="249528"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I get constant 83 FPS.<br><br>850MHz Athlon, 128MB RAM, GeForce 256, Win98SE <br><br></td></tr></table><br>
<a name="249694"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) ENAY</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> It'll happen when an object is closely zoomed into the camera. As it does it on my machine as well. The fill rate is full. I've not managed to solve this problem yet either. <br><br></td></tr></table><br>
<a name="249777"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually it happens even when I am zoomed way out.  From paying attention to changes in the framerate I've determined that the slowdown happens when I look at the scene from specific angles, in particular straight down.  Must be something to do with the architecture of my 3D hardware which prefers rendering from certain angles. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
