<!DOCTYPE html><html lang="en" ><head ><title >Detecting if a mesh is inside another?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Detecting if a mesh is inside another?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Detecting if a mesh is inside another?</a><br><br>
<a name="496178"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ICECAP</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there any way of detecting when one mesh is inside another.  I have tried mucking round with MeshesIntersect() but that just detects when they intersect not when one is inside the other.<br><br>Any thoughts? <br><br></td></tr></table><br>
<a name="496212"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DJWoodgate</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could try flipping the second mesh, the one you think you are inside, and then testing the assumption with a linepick from inside the first mesh to somewhere you are sure will be outside the second.  That's assuming the potential containing mesh is completely closed.<br><br>Edit... thinking about it that will not work too well.  You could perhaps create a duplicate of the second mesh and flip it, so you can be sure you are picking inside out and not outside in. <br><br></td></tr></table><br>
<a name="496240"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would pick from inside in 6 directions. If it all hits the outter mesh, mesh one is inside. well, maybe o_O <br><br></td></tr></table><br>
<a name="496244"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Picklesworth</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Check X Y Z positions according to center of both objects. Check size of both objects.<br>If the one expected to be inside is smaller, <b>and</b> it is in the same position (keeping in mind a clearance found with the difference between both object's X Y Z and Width Height Depth values), it's inside. <br><br></td></tr></table><br>
<a name="496325"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DJWoodgate</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thing is the container mesh could be any shape and need not even be centred on it's origin. If the container has two sides, by using a flipped copy, temporarily anyway, then when you pick from inside, you will pick the inside copy.  Otherwise if it is only one sided you might pick from the outside and still pick the inside.  <br><br>I suspect there will be even more sophisticated approaches by building a representation of the bounding volumes or creating a BSP for the geometry.   Above my head though.<br><br>I suppose you could also try using your own ray caster routine which can detect triangle intersection from either direction.  I think SSwift posted something on the archives. <br><br></td></tr></table><br>
<a name="496345"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> This might be feasible if the meshes are extremely simple, but in general it would be very difficult.<br><br>Consider something as simple as a torus ( i.e. donut ) and a cylinder. Is the cylinder inside the torus?<br><br>It may be that all the cylinder's vertices are inside the torus, but part of the cylinder is outside, in the 'donut hole'. <br><br></td></tr></table><br>
<a name="496510"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PowerPC603</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could check in 6 directions (like jfk EO-11110 said), and when the test is positive (the linepick hits the outer object), you could check with MeshesIntersect.<br><br>If that returns False, then your inner mesh is really inside the outer mesh (this could work for the example Floyd mentioned, cylinder inside torus). <br><br></td></tr></table><br>
<a name="496742"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Providing you know where the Entity handles are that represent the meshes' positions and sizes, perhaps EntityDistance may actually be quite useful.<br><br>PowerPC's answer seems to be the simplest and workable solution, except that if said cylinder was slightly above the centre of the torus, then a TRUE-FALSE result would still be given, so a bit more checking would be necessary for such a scenario. <br><br></td></tr></table><br>
<a name="496896"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ICECAP</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cheers for your feedback, i'll give several ways a go and see which ones work better. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
