<!DOCTYPE html><html lang="en" ><head ><title >Cull occluded objects or not?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Cull occluded objects or not?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Cull occluded objects or not?</a><br><br>
<a name="363433"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TartanTangerine (was Indiepath)</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've been messing around with some code to cull occluded objects on a blitz terrain. Whilst the code works very well I am not convinced that I am actually getting any benefits. The processing required to work out if an object is really occluded seems to negate the need to such a system. It can actually be faster just to chuck all the polys at the GFX card and use some LOD.<br><br>In my tests of 10,000 objects it's faster just to throw everything at the GFX card and be done with it.<br><br>Does this sound familiar? <br><br></td></tr></table><br>
<a name="363444"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's how the modern HW works... it's so fast that trying to be "smart" (like in the old days) about what to draw just usually slows down rendering (and fps) :) <br><br></td></tr></table><br>
<a name="363454"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CopperCircle</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sounds familiar to me, I have just about finished rebuilding my terrain engine and I played with allsorts of idea`s but in the end I just use a basic system to control how/when many objects are drawn and chuck it all at the card.  Frame rate is fine and its simple. <br><br></td></tr></table><br>
<a name="363496"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shambler</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Unless you can cull big batches of objects with a couple of lines of code then throwing everything at the graphics card is the way to go. <br><br></td></tr></table><br>
<a name="363545"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Proper *pre-calculated* occlusion will always make for big speed gains, even on tomorrows hardware. <br><br></td></tr></table><br>
<a name="363599"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TartanTangerine (was Indiepath)</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> But how do you go about pre-calculation? where do you put all that data? and how would you structure it? <br><br></td></tr></table><br>
<a name="363617"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  Proper *pre-calculated* occlusion will always make for big speed gains, even on tomorrows hardware.  <br></div><br>Even then, if you're throwing small batches at the card, you're effectively stalling the pipeline.  I imagine throwing entire Quake1 levels at the card is faster these days than trying to use the precomputed vis information. <br><br></td></tr></table><br>
<a name="363624"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> EpicBoy - that might be true somewhere, but not in Blitz.<br><br>Try it: take a Quake BSP and load it into Blitz as both a BSP and a standard mesh, OR take a map made in Quill, and test it with and without Quills portal occlusion.<br><br>The point of occlusion is that you throw less of the map at card/render-pipeline generally, regardless of whether its all one mesh or lots of small batches.<br><br>I really think you are mistaken here.<br><br>Flynn - there are many ways, but the simplest one right now is to build your levels in Quill and use its built in portal engine.  Works very well.<br><br>If you want to roll your own, I recommend trying to setup a world editor that lets you define your portals (there are many ways to do this).  And, you then store your occlusion data either in the b3d (blitz ignores chunks it doesn't recognise) or in a seperate file.<br><br>Good luck! <br><br></td></tr></table><br>
<a name="363942"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TartanTangerine (was Indiepath)</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm happy with the portal stuff for "indoors", it's the "outdoors" that I've for the problems with. <br><br></td></tr></table><br>
<a name="364051"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I found that it was the law of diminishing returns.<br>I was 'Hiding' and 'Showing' lots of entities depending on visibility, but after the number of entities rose over 80 (yes I did need them all) it made almost no difference. <br><br></td></tr></table><br>
<a name="364201"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> John - Maybe you aren't grouping them properly.  Also, which version of BB3D are you using?<br><br>Flynn - do you mean terrains, or just open walled areas? <br><br></td></tr></table><br>
<a name="364284"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ice9</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm using a view cull and have removed all the rear facing<br>polygons from my static meshes. If I threw the whole level<br>at the graphics card It would choke even a fast card.<br><br>Finding a smart occlusion technique would be optimal. The<br>more fps room you have to move around the better especially<br>If you want that optimization so you can include a lot of<br>special effects. :) <br><br></td></tr></table><br>
<a name="364371"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TartanTangerine (was Indiepath)</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I mean terrains. <br><br></td></tr></table><br>
<a name="364402"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> @ Masterbeaker - Just curious but is there known problems in certain versions of BB3D which may apply to what John is doing? <br><br></td></tr></table><br>
<a name="364489"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Older versions of Blitz3D had slower Hide/ShowEntity commands.<br><br>Flynn - seen from ground level or the sky? <br><br></td></tr></table><br>
<a name="364525"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TartanTangerine (was Indiepath)</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Masterbeaker - From ground level <br><br></td></tr></table><br>
<a name="364552"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> @MasterBeaker:<br>I'm using 1.86.<br>By grouping, do you mean welding all my meshes together?<br>- Not possible since many have to be clicked on independantly. <br><br></td></tr></table><br>
<a name="364569"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> "Not possible since many have to be clicked on independantly."<br><br>Sure it's possible.  You have the visible ones which are welded, and then you have invisible seperate ones, or use pivots to represent the collision radiuses. <br><br></td></tr></table><br>
<a name="364584"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh, _that_ kind of grouping... them that are visible and that aren't. Yeah, I already do that, according to entities within a 'sector'.<br>Hang on sswift I just re-read you post... do you mean 'have all entities doubled up; half visible and welded, and held invisible and unwelded?' (Brain-lock!) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
