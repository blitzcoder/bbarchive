<!DOCTYPE html><html lang="en" ><head ><title >double precision</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >double precision</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >double precision</a><br><br>
<a name="548066"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Abram</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have ran into calculation problems where I need better precision than float can provide. Is there anyone that have implemented some dll for a double precision type? Would guess that a lot of you have had the need for double precision type before me....... <br><br></td></tr></table><br>
<a name="548069"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can use a DLL with double precision, but if you get values to Blitz / from Blitz it will be converted to single precision.<br><br>Tell us exactly what u need to see if it can be done.<br><br>Good Luck. KURi <br><br></td></tr></table><br>
<a name="548084"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Abram</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was thinking to create a double in Blitz by creating a bank of 8 bytes in order to store the value, and then call a dll in order to operate on the value. The dll should then have normal functions like =,+,-,* and / only take pointers to the banks storing the value... In that way it should be possible to store a double in Blitz without ever converting it to a float, and keeping the precision by doing all operations in an external dll. In the end also call a function in the dll to convert double to float to be able to operate on it in Blitz. <br><br>Hope you could get some sense of what I mean :) <br><br></td></tr></table><br>
<a name="548112"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is a good idea, but then you won't be able to use this values in Blitz3D, because if you convert them to blitz float, you lose the precision.<br><br>Then, using them, only in the dll is no sense, except that the dll makes some processing directly to memory, graphics, or something else... <br><br></td></tr></table><br>
<a name="548117"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Abram</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am working on a program that converts map coordinates back and forward between a lot of different coordinate systems. Doing these convertions a lot of times using floats means that I in every convertion  loose a lot of precision, making me end up with coordinates that does not match in the end. <br><br>However converting only one single time in the end of the calculations would mean only loosing some centimeters in accuracy instead of meters (I end up with an accuracy of about 11 meters in this specific case). <br>So by doing everything in a dll and with one single "double to float" convertion I would get a very big improvement in accuracy. And as long as you create banks of 8 bytes for your varibles in Blitz you would be able to use double. <br>Guess that you would have to implement some more functions than only =+-*/ in order to cover all functions you would need, but I guess it could be done.... and thought that someone already had done this. No need to invent the wheel twice... <br><br></td></tr></table><br>
<a name="548150"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> then you could just implement all your convertions into one dll.<br><br>so only one pass to the dll and one get from the dll! <br><br></td></tr></table><br>
<a name="548162"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Abram</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> That is also a solution ofcourse, but reimplementing all the converations into dll would probably take me longer than to implement a double in Blitz, so if it has not been done I think I will give it a try :) <br><br></td></tr></table><br>
<a name="548179"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, good luck then! <br><br></td></tr></table><br>
<a name="548512"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Abram</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have gotten it to work perfect. Can multiply, divide add and subtract doubles in blitz without any problems now.<br><br>If anyone wants the code just let me know <br><br></td></tr></table><br>
<a name="759855"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Abram</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> This topic has been continued in two other threads, see<br><a href="http://www.blitzbasic.com/Community/posts.php?topic=58849" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=58849</a><br>or<br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=1905" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=1905</a><br>for source code and comments... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
