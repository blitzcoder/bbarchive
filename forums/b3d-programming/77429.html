<!DOCTYPE html><html lang="en" ><head ><title >YAL help</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >YAL help</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >YAL help</a><br><br>
<a name="866428"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nexus6</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can anybody help me, I'm trying to create a random city generator made up of 3D tiles. The problem is I want to lightmap the city after its been created and currently the only way to do this is by writing my own lightmapper or use YAL. This is were my problem lies, because  I'm definately not capable of writing my own lightmapper and I cant make any sense of the YAL code to be able to insert it into my own source. Has anybody managed to strip down YAL and create a useable include file (and a small help doc wouldn't go amiss).<br><br>I know JFK has had some success with YAL because its used as the basis for SlimShady, anyway, all help welcome. <br><br></td></tr></table><br>
<a name="866736"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nexus6</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Had another go at tackling the YAL code again last night, totally messed it up, anybody had any success implementing this code within a game? <br><br></td></tr></table><br>
<a name="866774"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I looked through it. Boggled my mind completely... <br><br></td></tr></table><br>
<a name="867159"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warner</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you downloaded sswifts version of Yal ? It seems to be pretty straightforward. I didn't look at any earlier version. All functions are commented.<br><a href="http://www.blitzmax.com/codearcs/codearcs.php?code=794" target="_blank">http://www.blitzmax.com/codearcs/codearcs.php?code=794</a><br>You'll need to download another code entry of sswift that contains the missing intersection functions. Click on his name to find them.<br>There is an example function at the bottom of the code:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
; ambientlight 40,40,40
BeginLightMap(40, 40, 40) 
; create light: x, y, z, r, g, b
CreateLMLight( -8, 3, -8, 219, 219, 255, 0, True, 3)
CreateLMLight(  8, 3,  3, 255, 255, 219, 0, True, 3)

;(mesh, lumelsize# = 0.5, maxmapsize = 1024, blurradius = 1, TotalInfo$ = "")
;tex = LightMapMesh(ent, 0.25, 1024, 1, "Lightmapping " + EntityName(ent))

tex = LightMapMesh(ent, 0.25, 1024, 1, "Lightmapping " + EntityName(ent))

If tex
;save light map as data
SaveLightMap(ent, tex, EntityName(ent) + "_lm.bmp", EntityName(ent) + ".luv")
;apply generated texture
ApplyLightMap(ent, tex)
EndIf
				
EndLightMap()
</textarea><br>To convert this version of yal into an include file, remove the LMExample() Function, and the call to it at the top of the program, and use the rest as an include to your program. <br><br></td></tr></table><br>
<a name="867178"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just bear in mind that YAL can only handle a single welded mesh, not children. <br><br></td></tr></table><br>
<a name="867435"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nexus6</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Warner, Sswifts version is certainly a lot easier to undestand and use, I've avoided his version because I could never find the include file, thanks for pointing me in the right direction.<br><br>Thanks for the tip John. <br><br></td></tr></table><br>
<a name="867822"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Just bear in mind that YAL can only handle a single welded mesh, not children. <br></div><br>It's basically very good code, and the wrapper above works.<br>What we need is for some clever person to mod the code to handle children. <br><br></td></tr></table><br>
<a name="867962"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nack</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> to handle children, cant you just add it the one mesh ? like collaspe it into one giant mesh before exporting? <br><br>nack <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
