<!DOCTYPE html><html lang="en" ><head ><title >ImagesCollide Replacement</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >ImagesCollide Replacement</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >ImagesCollide Replacement</a><br><br>
<a name="805708"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >maverick69</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Probably some of you know that ImagesCollide command causes randomly MAVs on some hardware. I also expierence it on my new PC.<br><br>Does somebody of you have a function that replaces the ImagesCollide-Command  (pixel perfect coliision). It should be possible using the LockBuffer/ReadPixelFast Commands. I know it would be much slower than the original Blitz3D Function, but that doesn't matter to me at the moment. <br><br></td></tr></table><br>
<a name="805725"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sledge</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does the ImagesCollide example code from the help system also MAV? At any rate I wouldn't use ReadPixelFast as a replacement -- consign the image data to arrays (or banks) and compare those instead. <br><br></td></tr></table><br>
<a name="805835"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >maverick69</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> No, it does only occur when a lot of images are loaded in. Its not my code, the "Memory Access Violation" (debug mode) does occur in the following lines. It only occurs on one of my pcs (latest directx and graphics drivers), and it occurs randomly.: <br><pre class=code>
...
...

DrawImage Player\Sprite,Player\X,Player\Y,Player\Frame
DrawImage PlayerExtras\Sprite,PlayerExtras\X+temp_x,PlayerExtras\Y+temp_y,PlayerExtras\CurrentFrame
		
If ImagesCollide(Player\Sprite,Player\X,Player\Y,Player\Frame,PlayerExtras\Sprite,PlayerExtras\X+temp_x,PlayerExtras\Y+temp_y,PlayerExtras\CurrentFrame)

...
...
</pre><br><br>If you do a search on this forums it seems like a known bug of Blitz3D.<br><br>@Sledge: Do you have a code example? I don't know how to consign image data to an array or bank! <br><br></td></tr></table><br>
<a name="805883"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sledge</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> it does only occur when a lot of images are loaded in <br></div><br>Have you tried dumping in-built animimages and using arrays of single images instead? Also (and I'm sure you've probaly done this but let's be thorough) do check that the type fields you pass to DrawImage are ints and that the requested image isn't of the bounds of the animstrip. I know you're probably right and it isn't working properly, but I can't discount the possibility that the 'working' PCs are actually failing improperly from my comfy sofa.<br><br>But yeah, before writing your own pixel collision routines it would be a good idea to see if you can keep ImagesCollide by losing animstrips. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
