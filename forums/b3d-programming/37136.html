<!DOCTYPE html><html lang="en" ><head ><title >stuttering/sticking</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >stuttering/sticking</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >stuttering/sticking</a><br><br>
<a name="407639"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ryan scott</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> i am working on a game and right now it's very basic.  you have a tank driving around, there are walls in your way, enemies come out and attack and you can kill them and the buildings they come from.  on screen at any one time are possibly 100 objects.  i don't think any of them are multi-thousand triangle objects.<br><br>what's happening is that periodically the game stutters/freezes for a second before continuing.  it seems to happen at certain times - the first time it displays an enemy building, when enemies first start emerging, etc.<br><br>it does also happen at apparently random times.<br><br>i am totally unclear why this would be happening.  i don't think i have too many objects on screen.  <br><br>i'm wondering if it is my setup or something. i'm running a 2.4ghz machine, matrox parhelia graphics card with 3 monitors, although the game plays in 800x600 on just one monitor.  it also stutters (runs even worse actually) on my laptop.<br><br>i am wondering what i should look for to make this thing run reasonably.  <br><br>if anyone has a spare 15 minutes would you be interested in trying it?<br><br><a href="http://download.runinteractive.com/zdistro.zip" target="_blank">http://download.runinteractive.com/zdistro.zip</a><br><br>drive around with arrow keys, use mouse to aim and fire.  driving over those red squares triggers things to happen.<br><br>(obviously all placeholder graphics at this point)<br><br>i would love any feedback on this problem.  :(<br><br>thanks! <br><br></td></tr></table><br>
<a name="407650"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't think it's your system, cause I experienced the same behavior as you(Athlon 1.2 gHz, G4-Ti4200,512MB).<br>First I thought of too many surfaces, but that's unlikely, cause it would hurt framerate in general, and not explain the stuttering. <br>How do you create multiple instances from the objects? Do you use Copyentity on an existing object, or do you reload it from harddisk? If you reload from harddisk every time, that might cause the stuttering. <br>Also, you maybe could disable single features for testing, like particles, sound etc. <br><br></td></tr></table><br>
<a name="407698"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ryan scott</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes i've been trying the disabling of various features, not really zeroing in on a particular thing that makes sense.  <br><br>i am using copyentity.<br><br>i precreate objects too, if possible, for example for particles i have a pool of already created ones i fetch one from. <br><br>is it possible that the first time you use copyentity it could be slower than subsequent calls to copyentity for the same entity? <br><br></td></tr></table><br>
<a name="407701"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ryan scott</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> what would be a lot of poly's for my objects?<br><br>enemy building:    300 polys<br>enemy 1:           1040 polys, 3 textures<br>enemy 2:   unknown 781k 3ds file<br>enemy 3:   unknown 500k 3ds file<br>enemy 4:   unknown 125k 3ds file<br>enemy 5:   unknown 17 k file.<br><br>hmm i am getting better response with the smaller enemies.<br><br>i don't have anything to read these 3ds files, so i'm unsure on poly count.  i'm guessing here that 700K worth of 3d data is a little too much to use in a 3d game for one of the many objects, is that sensible? <br><br></td></tr></table><br>
<a name="407722"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >karmacomposer</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Since it happened to me as well, I will rule out video card drivers as the source - which is what I WAS going to say it probably was.<br><br>I did notice that everytime I rotated with the mouse and THEN fired a shot, that was when the delay happened - but not EVERY time.<br><br>Must be in the code somewhere dude.<br><br>Mike <br><br></td></tr></table><br>
<a name="407865"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Andy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt;i don't have anything to read these 3ds files, so i'm <br>&gt;unsure on poly count. i'm guessing here that 700K worth of <br>&gt;3d data is a little too much to use in a 3d game for one <br>&gt;of the many objects, is that sensible? <br><br>B3D has a built-in object viewer, just use the open dialogue, set the filetype to 'all files' and double click on the 3ds file you want to load... It displays the tris and vertices...<br><br>Andy <br><br></td></tr></table><br>
<a name="408055"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IPete2</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ryan,<br><br>Do me a favour and rem out all the sounds and sound effects.  See if the stuttering is resolved.<br><br>Let us know plz.<br><br>IPete2. <br><br></td></tr></table><br>
<a name="408134"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ryan scott</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> i removed all the sounds, and i made sure every object was simpler than before.<br><br><a href="http://download.runinteractive.com/zdistro.zip" target="_blank">http://download.runinteractive.com/zdistro.zip</a> <br><br>it is still stuttering, seems to be related to spinning around.<br><br>could it be something to do with blitz's terrain rendering?  i notice while traversing the hills around the maze area, the terrain triangles move around strangely.  a LOD thing, i'm guessing. <br><br>i gotta tell you, my code is really pretty simple, and i write efficiently.  what i'm not sure of though is the speed certain blitz commands might take.  then again i am doing things like creating all meshes at startup, and then just doing PositionEntity,ShowEntity when I want to use them, which seems like it would be the fastest method.  <br><br>in the software you can use q and z to change the altitude of the camera.<br><br>the sounds were mostly mp3s, is this bad?  i would think converting to wav would be a Good Thing.<br><br>so yes, i'm still getting stuttering, and i'm unsure what to look for.  i'm still working on it though.<br><br>if anyone can try it, thanks very much. <br><br></td></tr></table><br>
<a name="408143"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BODYPRINT</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Ryan,<br><br>I ran it on my P4 3.2Ghz - 1 Gig RAM - Radeon 9800 and had no stutters :-P<br><br>Here's some stats for you that might explain things.<br><br>martian.3ds = 26000 poly<br>pod.3ds = 31000 poly<br>maverick.3ds = 3200 poly<br>alienapc.3ds = 13000 poly<br>t80.3ds = 12500 poly<br>yoyo.3ds (in game?) = 20000 poly<br><br>I'm not sure about the directx models. But they don't look too big in file size.<br><br>I will reduce them for you tomorrow when I get time if you like. I think this will speed things up :-) <br><br></td></tr></table><br>
<a name="408165"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ryan scott</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> that would be very nice of you, but don't bother, because they are only temporary images.  i really need consistent images, so i'll need to hire that out or collaborate with someone.  i've switched over to using the simpler images, and i still get the problem.<br><br>in fact i get it before any images have appeared except my car.  i am not going to bother trying to simplify further, you can't make it simpler than just the car on the terrain!<br><br>it's somewhat gratifying you are getting no stutters.  I notice that sometimes i hear my harddrive make a head-movement sound, and that definitely has some correspondence to it. <br><br>my harddrive is always making random movement noise every once in awhile, even if i try to stop everything I can think of. <br><br></td></tr></table><br>
<a name="408224"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ryan scott</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> i just read what i think is my solution<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=37168" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=37168</a><br><br>its possibly caused by the fact that every time i display a new object it is not in the video ram.  i have to display it all to the video card as a kind of pre-caching.<br><br>this makes sense based on what i'm seeing.  i know stuttering seems to happen when a showentity happens. <br><br>i will try and report back in case anyone else is interested. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
