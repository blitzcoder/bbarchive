<!DOCTYPE html><html lang="en" ><head ><title >Loading Mesh Advice</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Loading Mesh Advice</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Loading Mesh Advice</a><br><br>
<a name="405359"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >-Rick-</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've managed to get my hands on some nice meshes for my Solar System Model program. These are models of some of the smaller non round moons. Thier counts are ungodly high (26,000 surfaces / 13,000 vertices PER moon) but I've managed to shrink them down to what I thought was a more manageable size (948 surfaces / 476 vertices) and still maintain their distinctive shapes.<br><br>The size of the mesh files are between 20 and 30k in size. The jpg's I'm using to texture them are on the large size and I plan on trimming those up later, but for now are around 100k to 300k on the average (there are some below 100 and 1 or 2 above 500k).<br><br>Milkshape wouldnt even handle the original file sizes so I used another program (AC3D) to decrease the triangle counts and saved them as .3ds files. Then I used Milkshape to "weld Vertices" (which smoothed the model very nicely) and add its texture to and save as a .b3d file.<br><br>Now once in my Model program I only load the mesh, I dont load the texture since it was already set in Milkshape. The moons look great. The problem I'm having is the time to load.<br><br>If I do a full load of all 60 meshes at the beginning then it takes about 2-3 minutes on my 2.66 ghz system to simply do that. Way to long to sit thru. I decided to load the meshes on the fly whenever the camera gets a set distance from them. The problem here is I'm getting about a 2-3 second delay - horrible while in the middle of a flight sequence.<br><br>I'm unsure where I need to trim. I really cant cut much more vertices out of the meshes or the overall shape is lost. It would make having them meshes pointless and I'd be better off just going with resized spheres.<br><br>Is there a faster way to load meshes? Is there a better file type I should use rather than b3d or jpg's? I just wish I could hide that load delay better. Any suggestions would be appreciated. <br><br></td></tr></table><br>
<a name="405368"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >-Rick-</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Think I may have solved this - seems to be my texture sizes? I went in and removed the material settings for each moon (what a pain) and found that the meshes now load instantly. Even when entering an area like Jupiter where there are some 28 moons I dont see any noticeable loss of time when they come in range. Now I'll have to code in the texture part and see if .b3d format just sucks at loading textures or of the files themselves are just way too large. <br><br></td></tr></table><br>
<a name="405377"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >-Rick-</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Once again I was a tad quick to post. The sollution the to problem was indeed the texture sizes. Most were in the range of 2048x1024. I decreased them down to 512x256 and nearlyl all the files are under 30k now. When alot load at once there is a slight hitch, but I can fix that by tightening my distance check. I wanted a full moonlette system load for testing purposes.<br><br>I'm going with jpg's ... if anyone thinks I'd be better off in another format please holler. <br><br></td></tr></table><br>
<a name="405399"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sweenie</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> When I was fiddling with streamed meshloading, I rearranged the vertices, indices and uvs from a mesh and saved them in a new "Raw-file" in this way...<br><br>1.Total number of surfaces <br>2.Texturename for first surface(if used) <br>3.Number of vertices in first surface <br>4.VertexList of first surface(pos, uv's, normals &amp; colors) <br>5.Number of triangles in first surface <br>6.TriangleList of first surface <br>... and repeat from step 2 for the rest of the surfaces. <br><br>Then I wrote a loaderfunction that simply reads the file and creates the mesh.<br><br>In some cases I actually improved the loadtime with 400%. <br><br></td></tr></table><br>
<a name="405656"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EvilMeowChi</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> you really just need to reduce the poly count and texture resolution. If you want i can do it for you, just email the models and textures to me. <br><br></td></tr></table><br>
<a name="406125"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >-Rick-</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've gone thru and reduced both my meshes and my textures. After noticing the load time all but vanished when I took the texture settings out of b3d I figured out it was  mostly my texture sizes being too big. <br><br>Thanks for the offer to reduce for me tho, that was very generous. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
