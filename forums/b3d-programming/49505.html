<!DOCTYPE html><html lang="en" ><head ><title >scaling animated meshes</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >scaling animated meshes</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >scaling animated meshes</a><br><br>
<a name="550619"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >D4NM4N</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> is there a way to scale an animated mesh properly. Scaleentity is no good for this unless you know the meshes original size. Scalemesh doesnt seem to work for this either. <br><br></td></tr></table><br>
<a name="550702"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I guess it depends if it's a 3ds/x or b3d animation. you may be able to scale all children of a 3ds recursively. I don't know exactly if the movement animation will be scaled too, but the rotation will work the same, no matter how much you scale it. With b3d it may be harder. I think I remember somebody said you cannot scale the animation, so it will look wrong when you scale the mesh, and not the bones.<br><br>However, you should try to scale all children recursively, if they are Meshes at all. Something like this:<br><br><pre class=code>
Function EntityAnimScale(m,x#,y#,z#)
 If EntityClass$(m)="Mesh"
  ScaleEntity m,x,y,z,0
 Endif
 For i=1 to CountChildren(m)
  ww=GetChild(m,i)
  EntityAnimScale(ww,x,y,z)
 Next
End Function
</pre><br>Or you may try ScaleMesh in this Function. <br><br></td></tr></table><br>
<a name="550712"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wings</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> then i wrote mollle the dog 3d i scaled the player. it worked. <br><br></td></tr></table><br>
<a name="550855"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >D4NM4N</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thx JFK ill have a play around with that, They are mostly 3DS. I wanted to create a standardized loader/scaler for any 3D mesh<br><br>ie <br>mesh=loadscaledanimmesh(filename,sx,sy,sz) <br><br></td></tr></table><br>
<a name="551156"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't understand how scaleentity doesn't work for some people with animated b3d meshes.  It has always worked fine for me:<br><br>I create a model in milkshape, export it as b3d with animation.<br><br>I then load it normally ie <br><pre class=code>

someanimatedmesh=loadanimmesh("your b3d animated mesh here.b3d")

;if I want it to be twice the original size then 
scaleentity someanimatedmesh,2.0,2.0,2.0

</pre><br><br>What is it exactly that doesn't work with scaling entities - as I said I've never had a problem using it. <br><br></td></tr></table><br>
<a name="551175"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nicstt</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> works for me too.<br><br>only thing i have to watch for is, make sure your animation is at first fram when exporting it.  That causes problems irrispective of scaling, puzzled the hell out of me 'till i realised. <br><br></td></tr></table><br>
<a name="553228"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >D4NM4N</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks again JFK, i had no idea there was an entityclass$!!<br>learn somit every day :)<br><br>hi matty, I know scaleentity works, its fine for a ratio scale, but take a anim model with an unknown size and try to scale it to say.. 30 blitz units high and 20 wide. <br><br>I could only come up with one way and ive posted it here. <a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=1430" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=1430</a><br><br>The reason is i dont have a decent 3ds editor, and have several animated meshes ive bought that i want to use. I hardly use 3ds for anything normally, because i dont like it.<br><br>If im wrong and there is a simpler more reliable way than this, Please please let me know. <br><br></td></tr></table><br>
<a name="553291"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> well I don't remember exactly what it was, I just thought somebody said something about problems, problably only with ScaleMesh.<br>To scale a mesh to a certain world size you need to use Fitmesh. So ScaleEntity can only be used, when you already know the world size of the unscaled mesh. Meshwidth doesn't seem to work as one would expect. The only solution to determine the true w-h-d size of a mesh that I came up with some time ago was to use a huge and very flat box and the MeshesIntersect Command. Moving this box from 30'000 towards the center of the mesh in a binary way, until the physical borders of all 6 sides of the mesh are found. takes up to 32 steps to determine the border in a 32 bit resolution. (check out binary search argorithm). <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
