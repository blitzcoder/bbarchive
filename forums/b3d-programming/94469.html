<!DOCTYPE html><html lang="en" ><head ><title >Animation from file with a different rig</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Animation from file with a different rig</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Animation from file with a different rig</a><br><br>
<a name="1083840"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rgdyman</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello to all once again.<br><br>I was wondering if there is a way to know if a loaded animation from a file belongs to the existing loaded rig.<br><br>Premise: <br>I have a mesh loaded in holding its own rig.<br>I then am able to press a "Load Animation" button and a window<br>appears displaying all animations I can load using the .b3d format.<br>You load it in and I have the new loaded animation appending to the mesh.<br><br>All works perfect.<br><br>Problem:<br><br>If I load in a animation that does not belong to the mesh the animation will not play. ( Naturally)<br><br>Is there any way I can do a "check" and make for certain that<br>the newly loaded animation belongs to the mesh so I can error out and display why this event will not work.<br><br>Hmm.. I guess I could check all the bones and if Matched then continue on else error things out ......<br><br>This might do the trick. Instead of just deleting this post and moving on I would like to post this question anyhow in hopes<br>to learn something new. Perhaps a routine I don't know of yet.<br><br>Thanks for any pointers/ideas! <br><br></td></tr></table><br>
<a name="1083844"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob the Great</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> The only simple solution I can think of would be to set up your files in a way that you can check while loading if the animation should belong to the mesh.<br><br>For example, if you have your main hero, place that model in a single folder called "hero", and any animation files related to that model will go in the same folder. Then when you go to load the animation, run a routine to find out if the animation is in the same folder as the model itself. If so, then you know that the animation will work, and if it's not in the same folder, debug log it or throw up your own error message and never load the animation.<br><br>Another option would be to name the files using a common base name, e.g. the model could be named "hero_model.b3d", and the animation files would all begin with "hero_". When you go to load the file, check if the filename begins with "hero_", and if so, load it, if not, don't load it.<br><br>Aside from mesh hierarchy like the bone comparison you were talking about, I don't know if Blitz has a native way to check for problems like that. It might be possible to create a master bone or pivot in the modeling software and then give it a unique name, such as "HERO_MODEL". When loading the model or animations in Blitz, you could check if the file contains that specific name with the FindChild command to see if the animation and model match, but I'm not sure if that would work or not. A lot of that depends on how you actually load the animation. I assume you're using LoadAnimSeq() to do this? <br><br></td></tr></table><br>
<a name="1083846"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rgdyman</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Rob!<br><br>Yes I am using LoadAnimationSeq()<br><br>I am going to look into naming things directly associated with each unique <br>mesh and its animations to see how the pipeline runs.<br><br>Sounds smooth. Thanks!<br><br>I currently am directed to the folder that the Mesh was loaded from.<br>I was hoping for a direct return stating the file and mesh's rig  are not of the same. :P  But I dream a tad to high sometimes.<br><br>I'll need to sit back and rethink this and make sure I have all in order.<br>I do have a Bone type when loaded already. I may just run a function<br>of the b3d animation loaded and do a compare , If all bones do not match they must be diff rigs.. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
