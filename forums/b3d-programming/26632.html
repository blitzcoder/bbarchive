<!DOCTYPE html><html lang="en" ><head ><title >Possibly Advanced Animation Issues :)</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Possibly Advanced Animation Issues :)</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Possibly Advanced Animation Issues :)</a><br><br>
<a name="278008"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeremy Alessi</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm begining a new project which will need to have a large number of keyframed entities animating simultaneously. Currently, I've got about 15,000 polys, 100 animated entities which have quite a few frames of animation (100), but they aren't vertex animated or boned. They are transform animations. Anyway, while using CaptureWorld() the FPS is about 10 - 15 less. This isn't the bothersome part. As the animation runs to the end the FPS drop further and further from about 33 with CaptureWorld() or 43 without, all the way to 1 - 2 FPS. Then when the animation begins again the FPS jump back up and it begins to slow down again. It's funny but it really drastically slows down right before the animation loops back. <br><br>I'm guessing it's just that the code has to search 100 entities and search through 100 frames for each one which is just killing it. What's strange though is that I've used copy entity. Is there some way to play the animation for the original and just have the others follow. I guess I'll have to experiment. Any clues to how animation works and also any optimizations would be nice. Up till now I've mainly used dynamic animations for my games (True-Vol and Aerial Antics, AA used a little standard animation). <br><br>Anyway, I'm going to need a little over 100, maybe 110 animated entities in this game and I'll need many speed tricks. <br><br></td></tr></table><br>
<a name="278120"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stickman</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Im guessing your doing your own animating function() in Blitz and not a actual LoadedAnimated Mesh ???<br><br>Well Im not Quite sure what you mean by Transform animations but here is a cut down version of a code I use for vertex animations that works pretty well.<br><br>To use this for Copyed entites,you will only need to Dim the TformVertsArray(m,f,v) (m) for the master mesh ( the one you loaded and are coping from ) and the animation function will animate all the other entites the same.<br><br>Playing with this structure you can do a lot a real lot,Even your own bones if needed.<br><pre class=code>
For m=0 To Animentites ; No off entites to animate

mesh=entitey_to_Animate( m ); mesh index

 For f=0 To 99 ; Keyframes

  For v=0 To CountVertices(mesh)

   TformVertsArray( m,f,v ); Vertex Keyframes per mesh

  Next 

 Next

Next
</pre><br> <br>Hope this help you some.<br>If not,Well.... I tryed...... <br><br></td></tr></table><br>
<a name="278150"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> If I interpret transform as being simply positioning/rotating, then couldn't you just have one animate, and replicate it's motion in others? <br><br></td></tr></table><br>
<a name="278466"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeremy Alessi</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nah, if I only animate the original that's the only one that animates :(  I'm not using dynamic animation.  It's keyframed, but with no bones. <br><br></td></tr></table><br>
<a name="278479"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeremy Alessi</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Seems to work now, with 100 animated characters with only 30 frames of animation all running, and with my new motion blur on it :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
