<!DOCTYPE html><html lang="en" ><head ><title >File Problems</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >File Problems</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >File Problems</a><br><br>
<a name="480648"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wizzlefish</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have a file called lvl0.op and it looks like this:<br><pre class=code>
Loophole
0
../../data/media/levels/articbase2.b3d

createobject
car
jeep2
../../data/media/models/vehicles/jeep2.3ds
0
0
0
0
1
0
0
0
0
.7
.7
.7
103
195
90
</pre><br>The only problem is with the file names (the lines with all the slashes). My file system will load the meshes perfectly if I make those filepaths:<br><pre class=code>
C:\Documents and Settings\Steven\Mine! Mine!\Games\Written Programs\Operation 600\Operation 600 - version 2\data\media\levels\articbase2.b3d
</pre><br>And<br><pre class=code>
C:\Documents and Settings\Steven\Mine! Mine!\Games\Written Programs\Operation 600\Operation 600 - version 2\data\media\models\vehicles\jeep2.3ds
</pre><br>But if I just have the relative file path, it doesn't work. What do you suppose I do? I've tried switching the slashes around, changing the relative file path, everything. <br><br></td></tr></table><br>
<a name="480651"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fall_x</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> It has to be relative to your blitz basic program (exe or main bb file), not the text file. Maybe that's what you're doing wrong?<br><br>Edit :<br><br>Just try :<br>data/media/levels/articbase2.b3d<br><br>instead of :<br>../../data/media/levels/articbase2.b3d <br><br></td></tr></table><br>
<a name="480652"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SoggyP</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Greetings Puppies,<br><br>Have you tried setting a variable with the path name and appending the filename to that?<br><br>Just a thought.<br><br>Peace,<br><br>Jes <br><br></td></tr></table><br>
<a name="480654"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wizzlefish</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Haven't thought of that, SoggyP. <br><br></td></tr></table><br>
<a name="480656"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wizzlefish</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK, fall_x - thanks. I was writing the path relative to the level FILE, not the .bb FILE. Thanks alot, now it works! <br><br></td></tr></table><br>
<a name="480912"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wizzlefish</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have another problem.<br><br>I changed the level file to this:<br><pre class=code>
Loophole
0
data/media/levels/articbase2.b3d
33
23
38

createobject
crate
crate1
data/media/models/objects/crate/Crate.3ds
0
0
0
0
1
0
0
0
0
.1
.1
.1
0
0
0
</pre><br><br>But it still loads the jeep, and not the crate. <br><br></td></tr></table><br>
<a name="480916"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fall_x</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Without the code I can't tell you much, you probably have a variable that's being used instead of the content of this file or something similar. <br><br></td></tr></table><br>
<a name="480918"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wizzlefish</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here is the code:<br><pre class=code>
;loads level
Function LoadLevel(filepath$)
	
	lvl.level = New level
	file = OpenFile(filepath$)
	lvl\title$ = ReadLine(file)
	lvl\id = ReadLine(file)
	lvl\mesh = LoadMesh(ReadLine(file))
	ScaleEntity lvl\mesh, 2, 2, 2
	EntityType lvl\mesh, LEVEL_COL
	camerax = ReadLine(file)
	cameray = ReadLine(file)
	cameraz = ReadLine(file)
	PositionEntity camera, camerax, cameray, cameraz
	
	Repeat
		If Lower(ReadLine$(file))="createobject"
			obj_type$ = ReadLine$(file)
			name$ = ReadLine$(file)
			obj_mesh$ = ReadLine$(file)
			el_dest = ReadLine(file)
			x = ReadLine(file)
			y = ReadLine(file)
			z = ReadLine(file)
			alpha = ReadLine(file)
			shine = ReadLine(file)
			xv = ReadLine(file)
			yv = ReadLine(file)
			zv = ReadLine(file)
			sx = ReadLine(file)
			sy = ReadLine(file)
			sz = ReadLine(file)
			rx = ReadLine(file)
			ry = ReadLine(file)
			rz = ReadLine(file)
			CreateObject(obj_type$, name$, obj_mesh$, el_dest, x, y, z, alpha, shine, xv, yv, zv, sx, sy, sz, rx, ry, rz)
		EndIf
	Until Eof(file)
	CloseFile file
	
	
End Function 
</pre> <br><br></td></tr></table><br>
<a name="480921"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SoggyP</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Greetings Puppies,<br><br>What happens if you replace the crate data with the data for the jeep - do you get two instances of the jeep?  You could tell then if it's a problem with the data or the program.<br><br>Peace,<br><br>Jes <br><br></td></tr></table><br>
<a name="480934"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wizzlefish</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> But I don't load the jeep anywhere in the program! <br><br></td></tr></table><br>
<a name="480935"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wizzlefish</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'll try that, though. <br><br></td></tr></table><br>
<a name="480936"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wizzlefish</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'ma such an idiot! I WAS loading it in the program! :P <br><br></td></tr></table><br>
<a name="480943"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> The edit button is your friend...... <br><br></td></tr></table><br>
<a name="480945"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wizzlefish</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep..... <br><br></td></tr></table><br>
<a name="480975"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> On topic though, i usually find it useful to keep a fileversion with the file so that if you upgrade after making a ton of levels, it can still read the old ones :)<br><pre class=code>
if fileversion&gt;1.01 then ;New features since this version
;Do/read the new stuff here
endif
</pre> <br><br></td></tr></table><br>
<a name="480989"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wizzlefish</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah.<br><br>OK, I got it to load the crate, but when I scaled it, as it was too big, it disappeared. I am sure I didn't scale it too much, it's a problem with the file.<br><br>Here's the *.op file:<br><pre class=code>
createobject
crate
crate1
data\media\models\objects\crate\Crate.3ds
0
9
1
31
1
0
0
0
0
.07
.07
.07
0
0
0
createobject
crate
crate2
data\media\models\objects\crate\Crate.3ds
0
12
1
31
1
0
0
0
0
.07
.07
.07
0
30
0
createobject
crate
crate3
data\media\models\objects\crate\Crate.3ds
0
10
3.1
31
1
0
0
0
0
.07
.07
.07
0
-30
0
</pre><br>And the parser is same as above. <br><br></td></tr></table><br>
<a name="481011"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wizzlefish</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> But there are collisions between the camera and object. ?? <br><br></td></tr></table><br>
<a name="481016"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fall_x</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Did you scale it negatively? <br><br></td></tr></table><br>
<a name="481024"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wizzlefish</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nope.<br><br>I scaled it .07 x, y, and z. <br><br></td></tr></table><br>
<a name="481037"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> if collisions are happening or you have collisions enableed before positioning an entity, try using resetentity after positioning the entity :) <br><br></td></tr></table><br>
<a name="481063"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wizzlefish</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Collisions are enabled afterwards. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
