<!DOCTYPE html><html lang="en" ><head ><title >Are trig tables still quicker</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Are trig tables still quicker</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Are trig tables still quicker</a><br><br>
<a name="856581"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >andy_mc</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm looking to make a game that uses lots of trig based natsh to draw lines and construct vestor objects. Is it still more fficient to use arrays of pre-calculated values or to do the maths on the fly?<br><br>I may be looking to do several thousand calculations per frame. <br><br></td></tr></table><br>
<a name="856586"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob Farley</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Lookup tables generally are faster but you loose accuracy... To be honest I really wouldn't worry about it. Try it using Maths functions and if it needs to be faster swap to a sine look up table.<br><br>Also if you're using Blitz3D (as the forum suggests) you can use the built in 3D functions. Create pivots, position them and use entitydistance, entityyaw, pointentity etc. Depends what you're doing though. <br><br></td></tr></table><br>
<a name="856591"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do a test for yourself. You will really struggle to notice ANY difference. I did a test couple of years back. It will a couple of million iterations of lookup tables and a couple of million iterations of sin/cos. The results were inconclusive. <br><br></td></tr></table><br>
<a name="856615"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> On modern hardware the difference, even with 10,000 per frame will be negligible.  It will not be the cause of any bottlenecks in your programs.<br><br>Stevie <br><br></td></tr></table><br>
<a name="856620"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >andy_mc</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool thanks, I'm using blitz3D but it will be a 2D game.  I assume with the original asteroids game they must have used look up tables as co-processors didn't exist at that time. I'm not making asteroids, but that the type of graphics I'm looking to do. <br><br></td></tr></table><br>
<a name="856715"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'd stick to using SIN TAN and COS. It's not quicker or slower :o) <br><br></td></tr></table><br>
<a name="857025"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sokurah</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, I completed a wireframe game a few months ago and I had a problem with my framerate so I changed part of the game to use lookup tables instead of using sin/cos constantly and in my case it helped a lot.<br><br>Here's a quick bit of pasting from my own blog;<br><br><div class="quote"> <br>Amazing what a bit of optimization can do. No more framerate drops for <b>Rip Off</b>.<br>The framerate is limited to 60fps, but unthrottled, the earlier version would usually run at up to 200fps if the screen wasn’t too busy.<br>But the screen did get busy sometimes, which caused the framerate drop below 60fps and cause jerky movement. Now, after it's been optimized, it’ll run unthrottled at up to 1000fps and most of the time at about 500fps even if the screen is busy.<br>There are more bits that can be optimised, but I think this’ll do for now. :-)<br>I’ve noticed a few bugs though (small ones), so I’ll need to take a look at that before releasing the game, but this extra week of optimization was more than worth it.<br> <br></div><br><br>So it <i>will</i> make a difference in <i>some</i> cases. :-)<br><br><a href="http://tardis.dk" target="_blank">http://tardis.dk</a> <br><br></td></tr></table><br>
<a name="857036"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, i ran some tests again:<br><br><pre class=code>
Delay 1000

Dim cos_(360)
Dim sin_(360)

For loop = 0 To 360

	cos_(loop) = Cos(loop)
	sin_(loop) = Sin(loop)
	
Next

Delay 100

Global timer = MilliSecs()

For loop = 1 To 10000000

	temp = Cos(Rnd(1,360)) * Sin(Rnd(1,360))
	
Next

Print " Real SIN/COS = "+(MilliSecs() - timer)+" Milliseconds"

Delay 100

timer = MilliSecs()

For loop = 1 To 10000000

	temp = cos_(Rand(1,360)) * sin_(Rand(1,350))
	
Next

Print " Lookup SIN/COS = "+(MilliSecs() - timer)+" Milliseconds"

WaitKey()

</pre><br><br>And my code would definetly agree with you. 10 million iterations of multiplying a random integer COS by a random integer SIN. Then, the same, but this time with lookup tables. Almost twice as fast on this machine.<br><br>So apologies for the slightly wrong information :o) <br><br></td></tr></table><br>
<a name="857118"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nawi</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could use Blitz arrays or Banks for even faster access. If you're doing a simple 2D game you could use them, since it is so easy anyway, but you really need to start using them when doing some 2D gfx demos. <br><br></td></tr></table><br>
<a name="857164"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >smilertoo</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> You lose accuracy.<br>The tile was loose. <br><br></td></tr></table><br>
<a name="857635"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danny</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep, that test above also gives me nearly twice the speed using look up tables.. Good to know.. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
