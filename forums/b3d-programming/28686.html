<!DOCTYPE html><html lang="en" ><head ><title >Physics tip</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Physics tip</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Physics tip</a><br><br>
<a name="302150"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Previously, I have been calculating entity velocities as the difference between the entity position before UpdateWorld and the position after.  This is wrong.<br><br>Instead, multiply the normal of the collisions with your velocity to get the new velocity:<br><br><pre class=code>If EntityCollided(p\entity,2)
	m=Magnitude(p\velocity[0],p\velocity[1],p\velocity[2])
	For c=1 To CountCollisions(p\entity)
		p\velocity[0]=p\velocity[0]+CollisionNX(p\entity,c)*Abs(p\velocity[0])
		p\velocity[1]=p\velocity[1]+CollisionNY(p\entity,c)*Abs(p\velocity[1])
		p\velocity[2]=p\velocity[2]+CollisionNZ(p\entity,c)*Abs(p\velocity[2])
		Next
	EndIf</pre><br>I expect this to fix a number of errors I was getting with verlets. <br><br></td></tr></table><br>
<a name="302167"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> is this with my verlet code (for the engine)? or are you continuing developing your own code? Right now I'm doing a 'windows update' to get .net support, and I can't really test it. I believe I'm doing somthing similar. I'll post my coll. code tommorow, as it's late(or very very early) here. although it is 19.6mb out of 24 done.... <br><br></td></tr></table><br>
<a name="302736"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eBusiness</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm pretty shure it depends on what type of collision you want, should it bounce off like a ball, or should it go along the wall. It depends on the item, and by chance it is somewhere between the two methods. Well Halo's new function is, whatever, mine work good enought. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
