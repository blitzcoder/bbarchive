<!DOCTYPE html><html lang="en" ><head ><title >Counting Brush Textures?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Counting Brush Textures?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Counting Brush Textures?</a><br><br>
<a name="719688"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey guys/gals. I don't suppose there is anyway to count the brush textures? Upon writing this i just realise that that would be kind of pointless. I guess you just loop through each brush texture slot and see if it holds a texture? <br><br></td></tr></table><br>
<a name="719764"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's what I would try too. I guess it will return zero if there's no texture. Note GetSurfaceBrush and GetBrushTexture will create a clone Brush/Texture that needs to be deleted after eg. counting the textures. <br><br></td></tr></table><br>
<a name="719914"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> So, say if i wanted to get the texture that was on a 3d model, i would be creating a clone? So, how do i access the texture on the model? <br><br></td></tr></table><br>
<a name="720382"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry, was AFK for a while.<br><br>No, you don't need to create a clone.<br><br>If you're working on the mesh level (not animesh) than you have to track down the textures this way:<br><br>Get the surfaces one by one. <br>Get each surfaces brush<br>Get each brushes testureS<br>If you want get each textures file path.<br><br><br>The SaveB3D example in the archives /mesh stuff shows clearly how to determine the used textures.<br><br>In your case you will also do a "repeat until texture handle returns zero" check to determine potential multiple textures of a brush.<br><br>The commands GetBrushTexture and GetSurfaceBrush will create a clone brush and texture for some reason, so you need to free them after usage. No Mesh clone. <br><br></td></tr></table><br>
<a name="721973"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry to bring this up again, but... if it creates a clone texture and clone brush, how can i access the texture, change it (draw on it) and keep the results. Surely if i create a clone, edit that, then free it, it will be lost? <br><br></td></tr></table><br>
<a name="722023"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Simply PaintSurface the surface in question with the new brush, and don't delete it. I guess the old one, that is not in use anymore, will be freed automaticly with the next garbage collection, or at least as soon as directX needs to optimize the resources for some reason. <br><br></td></tr></table><br>
<a name="722029"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Fair point :o) Will do. I am finding out alot about what seems to go on behind the scenes with blitz. For instance, as i have posted in my other post, EntityTexture seems to add a texture to the EntityBrush, rather than a surface texture brush. I guess this was for ease of use for beginners, who simply wanted to slap on a texture, without creating a brush first. Makes saving a dam pain though :o) <br><br></td></tr></table><br>
<a name="722582"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is probably not what you want but may be useful anyway:<br> Model's Texture names:<br><a href="http://www.blitzbasic.co.nz/codearcs/codearcs.php?code=1626" target="_blank">http://www.blitzbasic.co.nz/codearcs/codearcs.php?code=1626</a> <br><br></td></tr></table><br>
<a name="722726"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks John. I have read over Ricky Smith's archive code, and i'm going to get the brush textures by reading through the actual .b3d file. Keep you'z posted and hopefully have a save routine that easy to use and very portable. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
