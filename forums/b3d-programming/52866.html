<!DOCTYPE html><html lang="en" ><head ><title >Delay command - what is it good for</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Delay command - what is it good for</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Delay command - what is it good for</a><br><br>
<a name="590515"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> What is the difference between:<br><br><pre class=code>
delay 1000
</pre><br><br>and<br><br><pre class=code>
mydelay=millisecs()
repeat 
until millisecs()-mydelay&gt;1000
</pre> <br><br></td></tr></table><br>
<a name="590518"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oddball</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Whilst a program is delayed it is not hogging 100% of the CPU. Some people have been sticking a Delay 1 in the main loop of their windowed apps so that other apps get a slice of the CPU time. Not sure how useful it is as I've not used it in this way myself. <br><br></td></tr></table><br>
<a name="590525"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Like delay, flip and vwait let the system breath while they are waiting. I had problems with Apps that didn't wait in any way, they completely throw windows down on its knees and after a couple of minutes the OS crashed fulminantly. I then added a "Delay 1" somewhere in the mainloop and it didn't crash anymore.<br><br>Additionally, as Oddball said, you can use delay to control ho much CPU usage your app may utilize. When you have a watch that has to animate every second, it makes no sense to hook all the CPU time with an empty loop:<br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=1121" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=1121</a> <br><br></td></tr></table><br>
<a name="590556"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for your replies, quite helpful.<br><br>This leads to my next question:<br><br>If I used a 'delay' statement as part of a frame limiting algorithm in a full screen game is it then possible that when the 'delay' command is executed the actual delay could be longer (by a significant amount) because some other windows app decides to use the CPU heavily and take control of the CPU for longer than the amount specified when the 'delay' command was executed.<br><br>And - if that were true I'm guessing it would be better to use the simple "repeat..until millisecs()-timebeforethisloop&gt;somesmallamount"? <br><br></td></tr></table><br>
<a name="590734"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not sure but I would guess that Delay can take longer than specified for the reason you suggest. I guess you could test this by wrapping a delay command with the millisecs counter code. Make sure you have lots of hoggy background tasks running to test this properly and report back here. :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
