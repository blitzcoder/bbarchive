<!DOCTYPE html><html lang="en" ><head ><title >Convert a vector to another vector's space?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Convert a vector to another vector's space?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Convert a vector to another vector's space?</a><br><br>
<a name="405018"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> My brain is not working today.<br><br>If I have a vector and want to find what it is relative to another vector, what is the operation? <br><br></td></tr></table><br>
<a name="405023"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Relative in which way?<br>Projection of vec2 on vec1? <br><br></td></tr></table><br>
<a name="405047"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do you mean the math, or do you just want TFormVector? <br><br></td></tr></table><br>
<a name="405061"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> The math, of course.  This tangent to RGB to world to tangent to RGB stuff is giving me a headache. <br><br></td></tr></table><br>
<a name="405063"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Be sure to help him out guys.  If the past has taught us anything, he'll be really appreciative and grateful. <br><br></td></tr></table><br>
<a name="405071"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's not really possible, I asked the same question here before when I was doing dot3 stuff in blitz.<br><br>The closest I came was to allign a pivot to the target vector, then tform the tangent vector by that. <br><br><pre class=code>
            PointEntity lpiv1,spiv
		PointEntity spiv,lpiv1
		
	
		AlignToVector spiv,nox,noy,noz,0
		AlignToVector spiv,nox,noy,noz,2
			
	
		TFormVector2(vx,vy,vz,nox,noy,noz)
		ar=128.0+(128.0*TFormedX())
		ag=128.0+(128.0*TFormedY())
		ab=128.0+(128.0*TFormedZ())
		
</pre><br><br>vx,vy,vz=vertex position, nox,noy etc=normal.lpiv being a pivot at the vertex position and spiv, being a pivot projected in the direction of the target vector. <br><br></td></tr></table><br>
<a name="405116"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >maximo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> EpicBoy you should help him, you must know this stuff ;) <br><br></td></tr></table><br>
<a name="405138"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Of course, a vector does not have roll, so it might not even be possible.<br><br>This is all for tangent normal mapping.  It looks pretty cool, but no one seems to have a clue how to get the vert colors right. <br><br></td></tr></table><br>
<a name="405163"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  EpicBoy you should help him, you must know this stuff ;)  <br></div><br>Yes, the company I work for does normal mapping so I must have first hand knowledge of all the math.  :) <br><br></td></tr></table><br>
<a name="405179"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >maximo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt;Yes, the company I work for does normal mapping so I must have first hand knowledge of all the math. :) <br><br>That was my idea :-) <br><br></td></tr></table><br>
<a name="405211"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Isn't it strange how someone so desperate to comment on everyone else's ego around here has overtime seemed to developed an even bigger alter-ego himself. <br><br></td></tr></table><br>
<a name="405215"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >.rIKmAN.</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Put your handbags away.... <br><br></td></tr></table><br>
<a name="405278"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Deep.  Very deep. <br><br></td></tr></table><br>
<a name="405676"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RetroBooster</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> If I have a vector and want to find what it is relative to another vector, what is the operation?  <br></div><br>1. You need to get your vector maths straight, what one vector is relative to another is a very vague statement. Dot product, cross product, normal reflection, would all be a lot more helpfull descriptions :P<br><div class="quote"> This is all for tangent normal mapping. It looks pretty cool, but no one seems to have a clue how to get the vert colors right.  <br></div><br>2. It's a piece of cake, I've had tangent normal mapping in blitz for half a year now, just because someone kepth asking me to actualy write propper code for it, but if I post the code to do it the best thing I could possibly expect from you is to grab it and run, while the most likely response would be that of you using it in the wrong way (because you wouldn't understand what it did anyways) and then coming back here and telling me my code sucks...<br><br>So, I'll think twice before doing something that stupid. ;)<br><br>You have, more then once proven to be ignorant of the inner workings of these maths, this does not make you a bad person at all, but the fact that you will act like you do understand them and then stamp over other peoples code (such as that of sswift I believe) simply because you don't "get it", that's what makes you look bad in my eyes. <br><br></td></tr></table><br>
<a name="405696"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just a little addition:<br><br>For all programming in 3D which didn't have the needed math already in college, I can really advice the book "3D Math Primer for Graphics and Game Developement" by Dunn &amp; Parberry.<br><br>It covers most of all common math you need for 3D dev<br><br><br>@halo: You still have not really answered the question at the top but that is normal as you ignore me. On the other hand you should already know the answer as you wrote a map exporter for CS and texture coords in map format are familiar with what you are asking for here. <br><br></td></tr></table><br>
<a name="405791"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tom</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> This stuff is still hurting my head too.<br><br>this is messy, it's a mash of Fredborgs original DOT3 code, a snippet of yours Halo, and some of my own. It produces ok results, but I'm not sure when stuff is rotated.<br><br>b.t.w this is slightly different from one I posted a few weeks back, the shading wasn't correct, but it is using Halos tangent&gt;rgb math.<br><br>The problem for rotating meshes seems to be hierarchial tranformations.<br><br><a href="http://www.tomspeed.com/test/normal-mapping-2.zip" target="_blank">http://www.tomspeed.com/test/normal-mapping-2.zip</a><br><br>Tom <br><br></td></tr></table><br>
<a name="405796"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's a pretty nice normal map.<br><br>See my other thread for a demo with tangent mapping.  It's just a little off at some angles, I am sure we can figure it out. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
