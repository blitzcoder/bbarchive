<!DOCTYPE html><html lang="en" ><head ><title >Single Surface Pixel Perfect 3D, How?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Single Surface Pixel Perfect 3D, How?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Single Surface Pixel Perfect 3D, How?</a><br><br>
<a name="497334"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Techlord</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm looking for an explanation on Single Surface Pixel Perfect that can help me devise a new <i>style</i> of 3D GUI Lib. <br><br>The first milestone in the Library is to produce a set of 3D functions that can replace Blitz 2D Image and Graphic Drawing Commands. The first goal in the milestone is to create a function in which you pass a Surface Handle, Image Handle, StartCoords,Rect_X,Rect_Y,rect_width,rect_height. With these parameters the function should be able to create a Pixel Perfect Sprite on the surface appropiatelty distanced from the camera. <br><br>So far I've identified a set variables involved with creating a Single Surface Pixel Perfect Sprite:  <br><br>Screen_Width, Screen_Height<br>Viewport_Width, Viewport_Height<br>Sprite_Width, Sprite_Height (Common Surface)<br>Texture_Width, Texture_Height (Divisible by 2)<br>VertexTexCoords_U(0-3), VertexTexCoords_V(0-3)<br>Sprite_ To_Camera_Distance<br><br>It would seem that with this set of variables one could formulate in infallible Single Surface Pixel Perfect Sprite Solution (formula, algorithm, etc). I've examined several Freely available Pixel Perfect Sprite systems. But the Solution isnt as obvious as I would like.  I know the solution is within the set of variables.  I 'm stumped!<br><br>Any help from the Blitz Gurus would be appreciated. <br><br></td></tr></table><br>
<a name="497355"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm happy to answer any questions you have about my Pixies code:<br><br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=773" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=773</a> <br><br></td></tr></table><br>
<a name="497361"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Techlord</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> skidracer,<br><br>Thanks. I don't know I overlooked it. I'm play with it and follow up. <br><br></td></tr></table><br>
<a name="497390"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shambler</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> There are a few examples in the code archives, one of the better ones is<br><br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=1152" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=1152</a> <br><br></td></tr></table><br>
<a name="497469"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GW</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> You should definitly check out SpriteMasterPro by syntax error. Its full featured, very easy to use and its free!! <br><br></td></tr></table><br>
<a name="497568"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Techlord</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> @skidracer - Your 'pixie' code is very close to what I'm looking for. The 'pixiespace' code is throwing me off a tad. I'm not sure what the purpose of this portion of the code is for.<br><br>The code works very well for a single texture. But a little more work would be required for a single surface Sprites using a several images in a single texture. I know some VertexTexCoord manipulation is needed. If you have an idea of achieving this my ears are open:)<br><br>@Shambler - Thanks. If I can recall correctly you had written some very good 3D lifttype code. Were you able to implement it in a FPS engine? Project PLASMA FPS is still looking for a few good coders;)<br><br>@GW - Thanks. I'm very familiar with ImagePacker and SpriteMasterPro. In fact, these applications sparked my interest in this subject. Unfortunately, the formula for producting 3D Single Surface Pixel Perfect Sprites is not very obvious. Finding the most simple solution to achieve these results is my goal. <br><br></td></tr></table><br>
<a name="497571"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> create a quad the size of the screenx in width, and screeny in height. Distance it at screenwidth/2.0 away from the camera. Face it at the camera.<br><br>The "hard" bit is the UV coordinates... you need to set the quad's UV Co-ords so that only a portion of the texture that is the shape of the screen is used. Its not that difficult, though im a tad busy at work with databases and spreadhseets to think properly.<br><br>If you are unable to get it working by saturday evening, message me on saturday eve. <br><br></td></tr></table><br>
<a name="497620"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Techlord</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Running some test with skidracer's pixie code. The code doesnt handle odd shaped textures and I did not expect it to. Textures must be a multiple of 2 (16x8, 128x16, 256x256, etc), thus, I would have to compensate by rounding off to nearest multiples of 2. This is not a problem.<br><br>The pixie code is a good start. It also takes viewport size in consideration (which I overlooked). I've managed to reduced the pixie code down to this:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Function LoadPixie(camera,file$)
	; load squared Texture
	Texture=LoadTexture(file)
	Texture_Width=TextureWidth(Texture)
	Texture_Height=TextureHeight(Texture)
	
	; change these for viewports
	Viewport_Width=GraphicsWidth()
	Viewport_Height=GraphicsHeight()

	;mysterious math stuff here
	Pixie_Pivot=CreatePivot(camera) 
	PositionEntity Pixie_Pivot,-1,Float(Viewport_Height)/Viewport_Width,1 
	scale#=2.0/Viewport_Width 
	ScaleEntity Pixie_Pivot,scale,-scale,-scale 
	Pixie_Pivot=CreatePivot(Pixie_Pivot)
	PositionEntity Pixie_Pivot,-.5,-.5,0

	; create sprite from Texture as child of Pixie_Pivot overlay	
	sprite=CreateSprite() ;Single Surface Quad
	EntityParent sprite,Pixie_Pivot		;cludge for blitz bug in createsprite(parent)
	
	EntityTexture sprite,Texture ;VertexTexCoords Manipulation

	scale#=1.0/Viewport_Width 
	ScaleSprite sprite,Texture_Width*scale,Texture_Height*scale ;required for formula

	Return sprite
End Function</textarea><br><br>Next is figuring out VertexTexCoord manipulation with Quads.<br><br>Cygnus - any assistance you offer will be great. <br><br></td></tr></table><br>
<a name="497626"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Quick pop up:<br><br>x=0-640,x=0-1<br>y=0-480,y=0-?<br><br>y=(640/480) ;)<br><br>Texture your quad with this, and use a 640x480 texture. it *should* work.<br><br>[edit]<br>your texture will need to be 640x640 i beleive... and theres a problem;<br><br>640x640 will likely get put up to 1024x1024, so....<br><br>x=0-texturewidth/640<br>y=0-textureheight/480<br><br><br>bah i dont have blitz here or my source code. Oh well ;/<br><br>I can't guarantee that will work. just thinking out loud. I HAVE done it in code though it is on my home 'puter. <br><br></td></tr></table><br>
<a name="497663"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tried to find Spritemaster Pro, without success (I tried this URL: <a href="http://homepage.ntlworld.com/config/imagepacker/spritemaster/index.htm" target="_blank">http://homepage.ntlworld.com/config/imagepacker/spritemaster/index.htm</a> ) Any ideas? <br><br></td></tr></table><br>
<a name="497665"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shambler</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>@Shambler - Thanks. If I can recall correctly you had written some very good 3D lifttype code. Were you able to implement it in a FPS engine? <br> <br></div><br><br>Yes it was/is in the SARE Engine and works better than ever ;) <br><br></td></tr></table><br>
<a name="497668"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Techlord</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://homepage.ntlworld.com/config/imagepacker/index.htm" target="_blank">ImagePacker &amp; SpriteMasterPro</a> <br><br></td></tr></table><br>
<a name="497673"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Techlord</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Cygnus - Good Try.<br><br>@Shambler - Thats great. <br><br></td></tr></table><br>
<a name="497788"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Frank, I wasn't aware of SpritemasterPro is part of the ImagePacker Download. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
