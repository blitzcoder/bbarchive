<!DOCTYPE html><html lang="en" ><head ><title >Copyentity() w/ animated mesh</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Copyentity() w/ animated mesh</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Copyentity() w/ animated mesh</a><br><br>
<a name="1040595"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SabataRH</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Since installing the latest Blitz3D patch i seem to be getting pauses in my game when I use copyentity() with animated mesh. The pauses are completely random and never happen at the same time. They can be from 1 sec to 3 seconds long.  To prove this I removed copyentity and just loaded the model each time and the pauses vanished.<br><br>Any ideas? <br><br></td></tr></table><br>
<a name="1040599"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SabataRH</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Interesting.. Upon testing deeper I've noticed this only seems to occur when I copyEntity() two different meshes that contain animation. Animation may not have anything to do with it but that's what I been copying in my game that has caused these pauses.<br><br>Src1=loadanimmesh("blah.b3d")<br>Src2=loadanimmesh("blah2.b3d")<br><br>monster1=copyentity(src1)<br>monster2=copyentity(src2)<br><br>Doing this would result in random pauses ( 1 - 3 seconds in length ) during realtime rendering.<br><br>It's worth noting that the pauses don't actually occur during the CopyEntity() call itself but rather at random intervals when the copied meshes are onscreen and visible. <br><br></td></tr></table><br>
<a name="1040627"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Update 1.101 was meant to fix a bug with shallow copied transparent, boned, meshes.  It was known to break other libs, such as FastExtension.  FastExtension was subsequently patched in relation to the update, but there may be other things out there that are not fully compliant. <br><br></td></tr></table><br>
<a name="1040696"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SabataRH</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well after testing most of the day the only way i was able to stop the pauses from happening was to remove LoadAnimMesh() and use LoadMesh() so b3d's animation system seems seriously messed up in the latest release. <br><br></td></tr></table><br>
<a name="1041091"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Santiworld</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, I have the exactly same problem.<br><br>for the moment, i use LoadAnimesh without copyentity.<br><br>if i have 100 sombies, y need to use 100 times Loadanimmesh("sombie.b3d")<br><br>is the only way i found to stop the PAUSES.<br><br><br>problem = copyentity + loadanimmesh<br><br>i have v1.104 <br><br></td></tr></table><br>
<a name="1041640"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SabataRH</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Same Santiworld, although sometimes even using seperate loadanimmesh commands i still get huge pauses that eventaully lead to "video driver has become corrupted" errors. <br><br></td></tr></table><br>
<a name="1041654"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warner</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe you could render the same mesh 100 times at different locations, using CameraClsMode false, false? <br><br></td></tr></table><br>
<a name="1041656"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not seeing any slowdowns.<br><br>I can load a single, animated, .b3d with LoadAnimMesh and then create 100 animated copies of it and they appear okay.<br><br><br>How long do you have to wait before you see any slowdown/pauses?<br><br>Does the number of copies matter or can it happen with just one copy?  Does this affect the time it takes to see a slowdown/pause? <br><br></td></tr></table><br>
<a name="1041661"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah, wait a minute - I just noticed I am still running Blitz3D Update V1.104. <br><br></td></tr></table><br>
<a name="1041662"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah, wait a minute - I just noticed I am still running Blitz3D Update V1.104.<br><br>EDIT: <br>Wait a minute - 1.105 is the Win 7 update.<br><br>What version do you both have and what version of Windows do you have? <br><br></td></tr></table><br>
<a name="1041749"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SabataRH</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> 1.105<br><br>Its rather a weird bug, i tried to duplicate it with a small demo but the small demo worked fine. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
