<!DOCTYPE html><html lang="en" ><head ><title >Recreating AMAL in Blitz</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Recreating AMAL in Blitz</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Recreating AMAL in Blitz</a><br><br>
<a name="541802"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >QuickSilva</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Despite its many flaws AMOS on the Amiga had a few nice user friendly features, one being the AMAL animation language. It allowed easy creation of an objects animation and movement based on a simple string of commands that were stepped though on at a time. <br><br>A simple AMAL command may have read, "Move -100,0,10" which simply meant move -100 pixels on the x axis, 0 pixels on y and at a rate of 10 pixels a second and so on.<br><br>Using simple strings like this complex movements were easy to make and actually made things like creating boss character movements a lot of fun. I remember a large monkey jumping all around the screen in a rather intelligent looking manor even though he was controlled by a few randomly picked AMAL strings.<br><br>My question is what would be the best way to tackle this in Blitz? I have my own ideas on the subject but before I mention them I would like to hear how others would implement the system in the most simple and direct manor.<br><br>Jason. <br><br></td></tr></table><br>
<a name="541840"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shifty Geezer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> AMAL used hardware interrupts to maintain smooth animation no matter what, a multithreaded concept. It was also compiled into machine code, bypassing AMOS' interpretation step.<br><br>No idea how to translate that into Blitz tho'! <br><br></td></tr></table><br>
<a name="541847"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rhyolite</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Errr, unless I misunderstand...<br><br>Use the blitz3d command for 'Move' eg.<br><br>MoveEntity Monkey, -100, 0, 10<br><br>You smooth the movement based on PC by using either render tweening or delta timing.<br><br>Hope that helps,<br>Rhy :) <br><br></td></tr></table><br>
<a name="541895"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> You do misunderstand Rhyolite ;)<br><br>You can't really do true AMAL from within Blitz, you need access to hardware interrupts/multithreading like Shifty said.<br><br>You could emulate it though, but it wouldn't have the same advantages that AMAL used to have like blistering speed. <br><br></td></tr></table><br>
<a name="541900"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rhyolite</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah, ic ;) Well, I don't actualy - but thats beside the point! Hehe, I should keep my mouth shut when I dont understand the question I guess ;)<br><br>Rhy :) <br><br></td></tr></table><br>
<a name="541901"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >QuickSilva</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thats what I`m interested in, a way to emulate it. Sorry if I wasn`t very clear before. <br><br>Any ideas as to how to create a similar system, speed is not important just the idea of how to implement it?<br><br>Jason. <br><br></td></tr></table><br>
<a name="541916"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nicstt</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I still have an amiga with amos on it, did some upgrades on it about 3 years ago too<br><br>no idea how to emulate amal though <br><br></td></tr></table><br>
<a name="541926"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm, IIRC all AMAL did was update the coordinates of an object you created automatically. Once you setup AMAL to do the proposed task, it continues by itself without the need to update it every loop.<br><br>So to emulate it you would be doing the same things that you would normally do in Blitz to move objects during each loop. That is to calculate and update the position of an object.<br><br>That's all AMAL did really. <br><br></td></tr></table><br>
<a name="541950"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >QuickSilva</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think your spot on. But how to actually implement this in a simple way is the problem. <br><br>Jason. <br><br></td></tr></table><br>
<a name="542004"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rhyolite</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Errr, are we not back to the 'MoveEntity' or 'TranslateEntity' commands then?!! Just wrap up all the movement code into a nice little function which you call every game loop?<br><br>Rhy :) <br><br></td></tr></table><br>
<a name="542172"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >QuickSilva</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> It`s actually setting up the AMAL like strings\commands that is the problem not the actual execution of them which would very probably be done with the MoveEntity and TranslateEntity commands.<br><br>You really need to have used AMOS\AMAL to know what I`m getting at.<br><br>Jason. <br><br></td></tr></table><br>
<a name="542186"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shifty Geezer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'd say you have a parsing function that reads through AMAL strings and converts them into movement instructions. Indeed, as modern PCs are so fast you could just interpret tham on the fly. eg.<br><br>a$="M 100,10"<br><br>Function parse_AMAL(s$)<br><br>Read token$    ; read one character<br>   ; All upper case letters are commands<br>   If token$ = uppercase letter<br>   Select token$<br>      case 'M'<br>         Read parameters x,y<br>         MoveEntity x,y<br><br>End Function<br><br>You could try setting up a timer based system that calls this every 60th second/scanline. Probably better ot parse the instruction at program start. AMAL worked so well because the AMAL programs were very short, able to be executed in a tiny amount of time, so could run on interrupts without derailing the main thread. <br><br></td></tr></table><br>
<a name="542223"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >QuickSilva</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is the approach I was thinking of but how to tackle multiple commands in one string, "M 100,10 : M -100,10" posses a bit of a problem. Knowing when one part had finished for instance.<br><br>Jason. <br><br></td></tr></table><br>
<a name="543408"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Banshee</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes a string interpreter and a once-per-pass function would do it, personally I found AMAL too inflexible for all but one project where I moved a car across the screen like in the CSL game Formula One on the Spectrum.  <br><br>Let's not loose sight of the big picture here, the purpose of using AMAL was speed and certainly not it's ease of use or flexibility.  The big advantage of AMAL was speed.<br><br>AMAL was running in a BASIC language on a computer with a 14Mhz processor.<br><br>You dont need AMAL ;)  Really, you dont ! <br><br></td></tr></table><br>
<a name="543942"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neochrome</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> 14Mhz! seems something you put on a wrist watch now dont it!<br>My miggy ran on 14Mhz for years . fast enough for me then! hehe<br>Sorry. Topic returned: <br><br></td></tr></table><br>
<a name="544021"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shifty Geezer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> You know, I wasn't happy with the 14 MHz figure above so just checked. The A500 was actually 7 MHz. A1200 was 14 MHz. And yes, that A500 could handle 60fps super smooth gaming!! <br><br></td></tr></table><br>
<a name="544268"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hotcakes</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> You check any highend AAA title for the A500 and I think you'll find most games were really running at 25-30fps ;] Scrolling a bitmap around at 50-60fps was a nice and effective trick to cover that up ;]<br><br>And yes, 7mhz of awesome power. ;] Still an amazing little beast. <br><br></td></tr></table><br>
<a name="544934"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Banshee</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yup, 7Mhz for A500 I remember it, the only real CPU upgrade was to drop in a MC68EC010 processor which got you a little extra oomph without raising the clock speed.  On my A1200 I ran a MC68EC030+FPU at 28Mhz which outperformed my A2000 running an MC68030+FPU at 30/40Mhz? because of the 32bit bus on the A1200.<br><br>Yet despite my upgraded CPU's in most of mine I found Amiga's where dog slow at any CPU driven task.  You have to remember at the launch of the A1200 with it's 14Mhz CPU the PC had just launched the 486 at 25Mhz,  it wasn't long before the PC had dx4-100Mhz and the Miggy was still crawling along at 14Mhz.<br><br>I dont recall the CPU in my A4000, I think it's the standard /40 model with an MC68040 at 25Mhz, but the fastest Amiga I got to work on was a MC68060 at 50 or 60Mhz (+FPU) and by then PC's where a quarter the price and already at 90Mhz.<br><br>The point is, they where dog slow when it came to doing anything on the CPU and there's only so much extra boost you get from a good chipset, if that wasn't true, we'd all be using Apple's right now. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
