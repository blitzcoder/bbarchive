<!DOCTYPE html><html lang="en" ><head ><title >destory object with id help?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >destory object with id help?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >destory object with id help?</a><br><br>
<a name="1258731"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Caton</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I need help!<br>there are two objects with a type I want it to destory a object as the id object<br><br>like id=0 will = object1<br>like id-1 will = object2<br><br>Code<br>------------------------<br>MonsterTempId$=Input$("Type the Monster Id: ")<br>For monster.monsters = Each monsters<br>If monster\monsterid=MonsterTempId$ Then<br>FreeEntity monster\monstermesh<br>FreeEntity monster\monsterentity<br>Delete monster<br>---------------------------------- <br><br></td></tr></table><br>
<a name="1258732"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah....that looks fine....except you're probably freeing the same entity twice....Assuming youre getting an error...<br><br><br>What's the problem? <br><br></td></tr></table><br>
<a name="1258733"></a>

<a name="1258734"></a>

<a name="1258735"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zethrax</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not entirely sure what question your asking, but your code seems on the right track.<br><br>Note that if you've got either your main entity or mesh entity parented to the other then you only need to free the parent.<br><br><pre class=code>
Graphics3D 800, 600, 0, 2

Type monsters
	Field monsterid$
	Field monstermesh
	Field monsterentity
End Type

monster.monsters = New monsters
monster\monstermesh = CreateCube()
monster\monsterentity = CreatePivot()
monster\monsterid$ = "Cookie Monster"

out_flag = False
Repeat
MonsterTempId$ = Input$( "Type the Monster Id: " )
For monster.monsters = Each monsters
	If monster\monsterid$ = MonsterTempId$
		FreeEntity monster\monstermesh
		FreeEntity monster\monsterentity
		Delete monster
		Print "You slew the monster!"
		out_flag = True
		Exit
	Else
		Print "Wrong monster. Try again."
		Print
	EndIf
Next
Until out_flag

WaitKey
End
</pre> <br><br></td></tr></table><br>
<a name="1258737"></a>

<a name="1258739"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Caton</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Code<br>------------------------<br>;New Monster<br>Monster\MonsterId=Monster\MonsterId+1<br>;createmonstercube<br>----------------------------------<br>like destory every of that type of current id <br><br></td></tr></table><br>
<a name="1258738"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Caton</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> and I used camerapick but how do I make it where it will do something when a 3d object is picked? <br><br></td></tr></table><br>
<a name="1258743"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you looked at the samples? <br><br></td></tr></table><br>
<a name="1258744"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zethrax</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> For monster.monsters = Each monsters<br> If monster\monsterid = MonsterTempId<br>  FreeEntity monster\entity_handle<br>  Delete monster<br> EndIf<br>Next<br><br>Don't really know what more you need than that son. You loop through the list looking for IDs that match the one you want to delete, and then delete the object and it's associated media, objects, whatever. <br><br></td></tr></table><br>
<a name="1258749"></a>

<a name="1258751"></a>

<a name="1258757"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Another way to retrieve an entity in a list, without wasting time searching all the entries of a list, and it also shows you how to retrieve the id/handle of a collidable/pickable after a collision/linepick/camerapick :<br><br>with type list :<br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=3095" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=3095</a><br><br>with dim arrays :<br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=3094" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=3094</a> <br><br></td></tr></table><br>
<a name="1258762"></a>

<a name="1258763"></a>

<a name="1258765"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zethrax</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's an example of camerapicking.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Global G_viewport_center_x = GraphicsWidth() / 2, G_viewport_center_y = GraphicsHeight() / 2

Function UpdatePlayerGun()

		If G_player_weapons_disabled Then Return
		
		If ( MouseHit( G_primary_mouse_button ) &gt; 0 ) And ( Not G_gun_firing ) ; If an attempt has been made to fire the gun and the gun is ready to fire again...
			; Fire the gun
			G_gun_firing = True ; Flag that the gun's firing state needs to be managed.
			;G_gun_picked_entity = LinePick( EntityX#( G_player_camera, True ), EntityY#( G_player_camera, True ), EntityZ#( G_player_camera, True ), 0.0, 0.0, G_gun_range#, 0.5 ) ; Used LnePick as CameraPick doesn't allow the pick radius to be set.
			G_gun_picked_entity = CameraPick( G_player_camera, G_viewport_center_x, G_viewport_center_y )
			If G_gun_picked_entity ; If the gun picked an entity...
				; Grab all the data returned by the pick operation.
				G_gun_picked_x# = PickedX()
				G_gun_picked_y# = PickedY()
				G_gun_picked_z# = PickedZ()
				G_gun_picked_nx# = PickedNX()
				G_gun_picked_ny# = PickedNY()
				G_gun_picked_nz# = PickedNZ()
				G_gun_picked_surface# = PickedSurface()
				G_gun_picked_triangle# = PickedTriangle()
				; Process any damage the gun did here, along with other effects (setting bullet decals, etc).
			EndIf
		EndIf		
		If G_gun_firing ; If the gun has been flagged to have it's firing state updated...
			; Update the gun's firing state.
			G_gun_pitch_sin# = G_gun_pitch_sin# + G_gun_pitch_inc#
			If G_gun_pitch_sin# &gt;= 180.0 ; Note that using 180 degrees give Sin values in the range 0.0 to 1.0 starting at the zero midpoint (assuming you start at zero) and incrementing towards 1.0.
				; The operation has completed its one-shot full cycle, so reset the values and flag that we're finished.
				G_gun_pitch_sin# = 0.0
				G_gun_pitch# = 0.0
				x# = G_gun_x#
				y# = G_gun_y#
				z# = G_gun_z#
				G_gun_firing = False
			Else
				v# = Sin( G_gun_pitch_sin# ) * G_gun_pitch_extent#
				G_gun_pitch# = v#
				x# = G_gun_x# + ( G_gun_fire_vx# * v# )
				y# = G_gun_y# + ( G_gun_fire_vy# * v# )
				z# = G_gun_z# + ( G_gun_fire_vz# * v# )
			EndIf
			PositionEntity G_gun, x#, y#, z#
			RotateEntity G_gun, -G_gun_pitch#, 0.0, 0.0
		EndIf
End Function
</textarea><br><br>Anything that you need to camera pick should have a type object associated with it that contains all the things you need to know about it.<br><br>eg.<br><pre class=code>
Type T_enemy
Field entity_handle
Field health%
End Type

enemy.T_enemy = New T_enemy
enemy\entity_handle = CreatePivot()
EntityRadius enemy\entity_handle, 1.0
EntityPickMode enemy\entity_handle, 1
enemy\health = 100.0

NameEntity enemy\entity_handle, Handle( enemy ) ; Store the type object pointer.

; Your code to camera pick the enemy entity would go here.
; Let's assume that the camera pick code returned a valid entity handle and that
; &gt; we've placed that handle into the variable 'entity_hit_handle'.

enemy_hit.T_enemy = Object.T_enemy( EntityName( entity_hit_handle ) ) ; Retrieve the type object pointer.

enemy_hit\health = enemy_hit\health - 10.0
</pre><br><br>Use the Handle and Object commands along with NameEntity and EntityName to store and retrieve a pointer to the type object in the entity's name-string. Links below.<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=53348" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=53348</a><br><a href="http://www.blitzbasic.com/b3ddocs/command.php?name=NameEntity&amp;ref=3d_cat" target="_blank">http://www.blitzbasic.com/b3ddocs/command.php?name=NameEntity&amp;ref=3d_cat</a><br><a href="http://www.blitzbasic.com/b3ddocs/command.php?name=EntityName&amp;ref=3d_cat" target="_blank">http://www.blitzbasic.com/b3ddocs/command.php?name=EntityName&amp;ref=3d_cat</a> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
