<!DOCTYPE html><html lang="en" ><head ><title >T.ED Terrain Issues</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >T.ED Terrain Issues</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >T.ED Terrain Issues</a><br><br>
<a name="891232"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >iamdaman13</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> When I export multi-mesh terrians from T.ED, I always get an index out of bounds error using the epr loader if I use alpha vertex texturing. If I use a supertexture instead, it works fine, but it's blurry. Also, I can use a alpha vertex if my terrain is a single mesh. How do I properly use a multimesh terrain from T.ED in Blitz with alpha vertex texturing? <br><br></td></tr></table><br>
<a name="891246"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I assume it's a vertex count problem. The reason it would be blurry, is because the supertexture doesn't have the resolution of the tiled, independant textures. <br><br></td></tr></table><br>
<a name="891948"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >D4NM4N</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> As ross said.<br><br>Index out of bounds probably means you have not set the arrays that hold the data to match the size of either your terrain blocks resolution or (more likely) the array that holds the blocks themselves. Ie, you are specifying 6x6 blocks but are trying to stuff 7x7 blocks into it.<br>If it's still having problems, please feel free to zip it up and email me a link (in confidence) and I will take a look for you and see what the problem is.<br><br>Can you post the section &amp; line the debugger is failing on? <br><br></td></tr></table><br>
<a name="891971"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >iamdaman13</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> "Surface Index out of range" as soon as the epr loader gets to the line "surf2=GetSurface(ted_terrain(a,b+1),s)".  I simply exported the terrain from T.Ed as b3d with alphatexturing. <br><br></td></tr></table><br>
<a name="891972"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >iamdaman13</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I figured it out! I needed to set "Ted_Trn_With_Children=True". One more question, however, how do I get the alphatexturing to work if I use .x instead of b3d? My .x terrains are textureless when I export them with alpha texturing.<br>Thank you. <br><br></td></tr></table><br>
<a name="891974"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >iamdaman13</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I also noticed that in blitz3d, if you use the option I mentioned above, collision doesn't work with the terrain in the epr as is because it doesn't check the child nodes for the terrain blocks. I added a few lines to the collisions section of the epr loader code to fix this, hope this helps for future updates on your epr loader:<br><br>	c = CountChildren(ted_terrain(a,b))<br>	For d = 1 To c<br>		EntityType GetChild(ted_terrain(a,b), d), C_Scene<br>	Next <br><br></td></tr></table><br>
<a name="892045"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >D4NM4N</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Correct.<br><br>Although you only need to set collision on the base mesh, not all the texture layer's geometry. You can do this by tracking down the base mesh name. Its something like trn_baselayer or something. Im not at my PC so cant remember. However, have a look whats its called in a 3D app (or dump the entitynames to the debuglog in b3d). It will certainly speed up your collision!<br><br>PS: if you want different footstep sounds ie, snow grass etc then use an AI color recognition from a tiny downward render capture, rather than testing collisions on all that extra geometry ;)<br><br><br>X when loaded seems to ignore the vertex alpha values even though they are in the file. This isnt just in blitz3d, it even happens in MS's own X viewer too and i have no idea why. However, search my forum there is some code in there to re-parse the X file once loaded and set the alpha values on the loaded mesh correctly. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
