<!DOCTYPE html><html lang="en" ><head ><title >Making animation libraries</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Making animation libraries</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Making animation libraries</a><br><br>
<a name="375836"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ash</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was just wondering: is it possible to build a library of animations (bones-only), and then be able to apply the same animations to several different models at once, without having to store the animations within the model files? (Obviously, this has to assume that all the models that will use the animations, will have the same bone structure and layout as the animation library uses.)<br><br>But how would I go about this, if indeed it can be done? What programs could I use to do this, and what commands would I use in Blitz to apply pre-built animations to models? <br><br></td></tr></table><br>
<a name="375845"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >aCiD2</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> The LoadAnimSeq function? <br><br></td></tr></table><br>
<a name="375846"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ash</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm really talking about appending stuff here, since I want models and animations to be kept separate. So animations are in their own files, and models are also in their own separate files, and I just plaster the animations onto the models, so basically I have a load of models that can be animated using a common library.<br><br>Does the LoadAnimSeq support appending of animations to a model? I don't necessarily want to have to copy and paste the frames of every single animation I want to have, into every single model I want to use. That would take way too much time, and I'd probably be spending more time doing that than coding. <br><br></td></tr></table><br>
<a name="375988"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danny</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just started on something similar myself (want tokamak ragdoll physics with procedural animations), but still trying to figure out bones in general ;-)<br><br>I think in this case you've got store the 'animation data' yourself and then apply that data to the bones. With some default character setup and naming convention on the bones I think this should be possible. <br><br>Possible, but far from easy I guess because it would mean you need to be able to 'blend' one animation into another, keep feet on the ground, without dropping the gun, etc. etc.<br><br>0.02<br>:Danny <br><br></td></tr></table><br>
<a name="376159"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Techlord</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ash,<br><br>I've been planning to do something similar for my MMORPG, but, I can see the technique being used for many genres. I have been considering many different ways to achieve this. I pondering over 3 methods: 1) one base model + attachments + modifiers upon load, 2) segmented meshes attached to a skeleton, animation applied to skeleton, 3) multiple character meshes, animation set applied to all. <br><br>In either case, LoadAnimSeq will do the trick assuming the models use the same bone hiearchy (entitynames). <a href="/b3ddocs/command.php?name=LoadAnimSeq&amp;ref=3d_cat" target="_blank">LoadAnimSeq</a> specifically appends an animation sequence from a file to an entity, returns the animation sequence number added.<br><br>If you have more then one animation sequence per file you will have to use the ExtractAnimSeq commands and apply them to the model by first frame and last frame. I assume you have one animation per file. <br><br>As mentioned earlier, LoadAnimSeq will return a sequence number. If animations are appended to the models in a different sequence order, you will need some sort of tracking. From an game engine perspective, the "run" animation should always be sequence 1, "jump" sequence 2, etc, although the sequence number for a specific model differs. <br><br>This could be easily managed with one array to store the Engine Animation Sequence File List and an array per model to match the models sequence to the engine's animation sequence.<pre class=code>
;Engine Animation Sequence List (example)
Dim EngineAnimSeqFile$(MAX_ANIMATIONS%)
EngineAnimSeqFile$(1)="RunNormal.b3d"
EngineAnimSeqFile$(2)="Still.b3d"
EngineAnimSeqFile$(3)="StillFire.b3d"
EngineAnimSeqFile$(4)="TakeHit.b3d"
EngineAnimSeqFile$(5)="RunFire.b3d"
EngineAnimSeqFile$(6)="Dying1.b3d"
EngineAnimSeqFile$(7)="Dying2.b3d"
EngineAnimSeqFile$(8)="Idle.b3d"

Model Animation Sequence List
Dim ModelAnimSeq(MAX_MODEL_ID%,MAX_ANIMATIONS%)

To use:

ModelAnimSeq(new_model_id%,ENGINE_ANIM_SEQ%)=LoadAnimSeq(new_model_handle%,EngineAnimSeqFile$(ENGINE_ANIM_SEQ%))
</pre><br><br>Keep in mind, this is theory, but, either way I'm quite sure this can be achieve in Blitz3D. <br><br></td></tr></table><br>
<a name="376163"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wait 1 week:<br><img src="http://www.leadwerks.com/charshop/schematic.jpg"> <br><br></td></tr></table><br>
<a name="376164"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> While we're pimping, you can do it in code with vividGL. <br>And have control of the resulting animation on a per limb basis.<br>i.e you can have the lower torso running while the upper torso is playing a gun fire anim etc.<br><br>but as for your question using b3d,<br>You can do it in blitz3d now anyway...create anim sequences, manually play the anim you want to copy and copy it's limb position and rotation(On the closet matching limb. i.e arm for arm ec)...should work ok. <br><br></td></tr></table><br>
<a name="376176"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TroM</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> the Loadanimseq will append to an existing animated entity <br><br></td></tr></table><br>
<a name="376245"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Techlord</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Halo, lookin good! <br><br></td></tr></table><br>
<a name="1333943"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>is it possible to build a library of animations (bones-only), and then be able to apply the same animations to several different models<br> <br></div><br>yes, if the b3d file which has the skeleton (joints/bones) and the animations and the b3d file which has the rigged skinned mesh have the same skeleton (joints/bones)... <br><br></td></tr></table><br>
<a name="1333965"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dna</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> DO you know the link to the vividgl3d engine? <br><br></td></tr></table><br>
<a name="1333973"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I doubt it was ever completed...the author has a history of producing vapourware and hasn't been seen around here for a decade or more. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
