<!DOCTYPE html><html lang="en" ><head ><title >The power of surfaces?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >The power of surfaces?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >The power of surfaces?</a><br><br>
<a name="425019"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drey</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> They, i've been researching and test lately.  I'm goin to work on my particle engine soon, but i heard something interesting, making them on a single surface system.  So i'm guessing u draw all your sprites on one surface or something like that.  Well, first thing i'm goin to do with my particle system is have a triangliar and rectangliar sprite system.  I think that 2 tris is over kill in some cases (like a ball in a center of a texture.  Just use one tri for that).  So i'm guessing, I should make all my sprites as part of one BIG mesh instead of having many small meshes.   Well, that sounds like an alright idea in some cases, but i won't be able to do some of the effects i'll probably want. <br><br>Also animation wouldn't be based on move/position entity right, i'll have to recal all the vertices in the mesh if i want them to move kinda independly of one another.  Would using a vertice repositioning code be faster than using positionentity? <br><br><br>Single Surface sounds great for clouds.<br><br>Multi Surface sounds great for rocks(the way i'm building it, u can just slap in an entity u want overall.  So u can have a 3d rock spin with all the cals for movement) shooting out and having a smoke trail behind it(again, make the spawnpoint based on entities(mesh, to pivots).  SO u can have the rock position as a spawn point automaticly) that does it's own thing(use global position to keep the smoke in one place and hae it alpha out). <br><br>I'm thinking that'll be clearer and better than tryin to use a single surface system for that.  Plus i can still have collision one the rocks.<br><br>So what do u think? Should i have a mix system with optional single and multi surface options.  Should i have the system be "partcile type" depend.  So say the rock is multi surface system, but the smoke coming from the rock that just stays there in the sky...maybe have that single surface?<br><br>Is the speed increase worth it?  I would run test myself...but i haven't the time lately :(.<br><br>Thanks for your help. <br><br></td></tr></table><br>
<a name="425048"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> 1  Single tri particles are rarely (if ever) worth the overdraw, best to focus on square 2 poly ones.<br><br>2  The speed increase is well worth it.<br><br>3  You might want to not write your own and just use Lotus, ParticleCandy, or any other particle system already out there. <br><br></td></tr></table><br>
<a name="425070"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Space_guy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Me I just made a tri single surface sprite engine for my self and i only noticed the fps raised comparing to quad with alot less vertex modifications per update. <br>But i guess if the screen is filled up with particles the quad would eat about half the fillrate of a tri?<br><br>Perhaps I should put quad back in as an option. hehe. <br><br></td></tr></table><br>
<a name="425076"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Tris have another problem:<br><br>Texture are square and when you put a square on a triangle, much of it will be cut which might cause quite some problems with a single surface system :) <br><br></td></tr></table><br>
<a name="425078"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Space_guy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually this is no problem. you just put the uv coordinates of the texture so its a square inside the tri.<br><br>The problem is that by doing this, much of the space the tri occupies will be empty and quite probabbly eat up fillrate worth abit more than 2 quads of same size.<br><br>I just wonder what is needed most in a normal gaming scenario. ability to cover the screen in more particles or to have the particles faster proccessed. <br><br></td></tr></table><br>
<a name="425080"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> On a single surface system you will only have 1 textures for "all" particle graphics for example. So the wasted space of the tri might give problems afterwards<br><br>On the other hand it is only half the amount of triangles ( only 1 vertex less per particle ) so if less graphics are needed it might be a quite good alternative <br><br></td></tr></table><br>
<a name="425081"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's been said a couple of times before, but i think it's best to use one surface per emittor, that way the emittors off screen, don't need to be rendered, or processed. <br><br></td></tr></table><br>
<a name="425084"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Space_guy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> The one texture per surface is ofcourse alil bit annoying. I guess one could press in more textures but then there will be alot of wasted texture memory with all the needed space between each texture.<br><br>I use several surfaces. one per texture and then i sort sprites to different surfaces depending on how long away they are from eachothers in some way to try and limit fillrate and calculations. this rarely gives a good speed bonus though. <br><br></td></tr></table><br>
<a name="425089"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> No need really. You can fit say mulitple particle images on the one texture, and choose which one you want to use, using texture coords :) <br><br></td></tr></table><br>
<a name="425095"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Space_guy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> With quads this is no problem at all with different texture coords. <br>Its just harder with a tri becourse the uv space one tri takes up to make a square fit inside is alot more than a quad. So there will have to be alot of blank space between each texture in the picture. <br><br></td></tr></table><br>
<a name="425104"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's true. I'd just go with quads then ;) Alot easier for texturing :o) <br><br></td></tr></table><br>
<a name="425141"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> See my signature for possible inspiration. <br><br></td></tr></table><br>
<a name="425376"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Space_guy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well i did some speed tests now comparing triangle sprites vs quad and and the difference was quite big. <br>With big sprites i got about double the speed with quads<br>But with small ones like sparks it really is alot faster with triangles. so now i will use both hehe :) <br><br></td></tr></table><br>
<a name="425377"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> With a auto-convertation function basing on onscreensize or what ;) <br><br></td></tr></table><br>
<a name="425459"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drey</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> alright, U guys mention fillrates.  My plan was to have <br>V1.u = 0.5<br>V1.v = 1<br><br>V2.u = 0<br>V2.V = 0<br><br>V2.u = 1<br>V2.v = 0<br><br>yea, this will leave some space on the texture itself, i know this.  I was planning on drawing inside the triangle area.  <br><br>If i used say a framed Texture method,(256x512 for ex) then i could put 3 different triangle textures in those slots.  But that's not the true question, Say if i have a standard sized(256^2) texture, and i'll be using about half of its space.  Does DX still try to render the area that isn't goin to be seen on the texture anyways?  Y would having a triangle output on a texture slow things down?<br><br>I'm assuming this surface business is less DX and more Blitz3d design for rendering.  So u guys are sayin, make a mesh, get it's surface than add each vert in that.  But for sayin partcicles falling down in kinda a different more random manner so that it doesn't look like all the particles are attach to some "point"(mesh overall orgin) in space , instead of using Scaleentity, i'll just make my own scale rounte that directly effect the verts and not the "mesh"(single tri mesh/sprites).  I"m sure it could done easy, but i figure that if blitz does it in the background(move/position entity) it would be way faster than "outside" code handling it(making my own function for it, did they use assembly optimizing for some internal movements for example?  I'm thinking whatever they did int he background would be better than what is custom code by the programmer because of blitz3d overhead)<br><br>So what do u guys say about all that? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
