<!DOCTYPE html><html lang="en" ><head ><title >Another collision query</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Another collision query</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Another collision query</a><br><br>
<a name="210516"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skel</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey folks,<br><br>I've put together a little loader program for testing objects, textures. What I'd like to do is add collisions for the camera and the object that has been loaded (in my tests, a room modelled in 3DS)...<br><br>Here's the code I've used:<br><br>Const ROOM=1,CAM=2<br><br>Collisions CAM,ROOM,2,2<br><br>Global font=LoadFont("Arial",20,False,False,False):SetFont font<br><br>Global file$=Input$("Enter model filename (with path if not in current folder): ")<br><br>Global figure=LoadAnimMesh(file$)<br>EntityType figure,ROOM<br><br>Global camera_p=CreatePivot()<br>EntityType camera_p,CAM<br>EntityRadius camera_p,2<br><br>Global camera=CreateCamera(camera_p)<br><br>Problem is - it doesn't work. The camera passes straight through the object. I've looked at a tutorial by Rob Hutchinson in which he's doing something similar... works for him... not for me! :(<br><br>Another quick one - are collisions one-way? That is if you have a collision set up for ball,box does it also trigger if box hits ball? I did a demo in which the collisions only seemed to work one way, but it didn't help to declare ball,box and also box,ball... <br><br></td></tr></table><br>
<a name="210574"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TartanTangerine (was Indiepath)</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah collisions only work one way so you'd also have to include the line :-<br><br>Collisions ROOM,CAM,2,2<br><br>Also the object you are checking for collisions must be moving. If it is stationary and something moves into it then a collision will not be registered. <br><br></td></tr></table><br>
<a name="210603"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> That code looks fine such as it is; I assume the room is stationary so it doesn't matter if you setup room-&gt;camera collision detection.  However, you don't show your game's loop.  In particular, are you using UpdateWorld every frame?  Collision detection only happens at UpdateWorld. <br><br></td></tr></table><br>
<a name="210904"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skel</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry, the rest of the code was just for camera movement. I'm definitely executing an UpdateWorld...<br><br>I was starting to wonder if it might be some sort of Blitz weirdness with 3DS models(?) I've done collisions before between objects created within Blitz. This is my first attempt with an imported object and I'm suddenly having problems...<br><br>Thanks for that other info too Flynn. I had exactly that problem with a moving object hitting a stationary object and just passing straight through it. Least that's one mystery resolved :) <br><br></td></tr></table><br>
<a name="211023"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DJWoodgate</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is just a guess but maybe you need to apply entitytype to all the children of the model as well.  Loadanimmesh may mean you have a hierarchy and I'm not sure that entitytype is recursive. <br><br></td></tr></table><br>
<a name="211057"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) sinu</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> EntityType has an additional parameter to select recursive or not. <br><br></td></tr></table><br>
<a name="211308"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DJWoodgate</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Egads, so it has! Well there you go then, try the recursive option. <br><br></td></tr></table><br>
<a name="211492"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skel</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I wouldn't have thought to do that in a million years. What's more embarrassing is that I poured over all those commands for ages before creating this post! I never saw the recurse option...<br><br>I'm in the painful process of reloading my machine at the moment. I'll give this a try as soon as it's up again...<br><br>Thanks for the tip. Sounds very promising... <br><br></td></tr></table><br>
<a name="211519"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) sinu</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> don't worry, i used to use it without thiniking it was recursive either, setting up all children manually :P <br><br></td></tr></table><br>
<a name="211541"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skel</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well at least I'm not the only one :)<br><br>I don't like to think of myself as stupid... just as possessing an infinity capacity for improvement... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
