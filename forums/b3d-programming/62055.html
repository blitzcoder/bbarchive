<!DOCTYPE html><html lang="en" ><head ><title >Problem with loading/saving</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Problem with loading/saving</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Problem with loading/saving</a><br><br>
<a name="693554"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Farflame</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, been banging my head against the wall for a week with this one. My program is huge so I can't show you any code, but hopefully the problem might trigger some ideas from somebody.<br><br>Here's what's happening.....<br><br>I'm loading alot (about 50k) of info from disk to a type. The info is then being updated slightly, then saved back to disk. The routines to do all this are working fine as far as I'm concerned, because they're used in various parts of my program and have been working correctly for ages.<br><br>After that, the files are closed and my program continues.<br><br>However, upon loading the info again, I see that the updated info isn't there. This is very odd, because as I say, the load/save routines are fine (I'm 99% sure of that). I've checked the info IMMEDIATELY after closing the file (reopened it and reloaded it again) and the updated info isn't updated at all.<br><br>I can only assume I'm doing something wrong with the closing of my files. If I don't close them at the correct place, am I right in saying the file won't get updated? Is there any other reason that anyone can think of why a save operation won't work (bearing in mind that other save operations are still working in the same program)?<br><br>I realise I'm not giving you much to go on, but any ideas will be appreciated. <br><br></td></tr></table><br>
<a name="693555"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Farflame</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Good lord, I don't know what it is, but that's twice I've done this. Simply by typing out my problem, I've worked it out (30 seconds later). Sorry about that, please feel free to delete this topic.<br><br>I was using Readfile......... (puts gun to head)...... <br><br></td></tr></table><br>
<a name="693556"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> - Assuming you are using WriteFile(filename$) for writing the file, make sure it returns a non zero value.<br><br>- Run everything in debug.<br><br>- Make sure the file you are writing to is not a read-only file.<br><br>- Make sure you are writing to the correct file.<br><br>Your file write code should look something like this:<br><br><pre class=code>f = WriteFile("hubba.txt")
If f
  ; Write everything here, using writeline(f,"hello"), writestring(f,"world") etc.
  
  CloseFile f
Else
  RuntimeError "Yo, couldn't write the file...fishy, innit?"
EndIf</pre> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
