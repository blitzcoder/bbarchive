<!DOCTYPE html><html lang="en" ><head ><title >BlitzPlay Client Problem</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >BlitzPlay Client Problem</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >BlitzPlay Client Problem</a><br><br>
<a name="329900"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FBEpyon</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Im making a MMORPG and im having problems with the Client side of it..<br><br>When I connect to the server, the client wants to keep adding players that are already on the server playing  TRIS go up (meaning more objects are being made of the players already there..) and the FPS is going down..<br><br>What im looking for a is a better HandleMassage Function and a UpdateNetworkObjects (being the objects that would already be there or that are made, well im in the game)<br><br>Also im not looking ot buy a already made MMORPG ENGINE i want to make my own sorry.. I thought I would inform you of that before you suggest it :P<br><br>Also BlitzPlay v 1.14 lite does seem to be working right Im using 1.12 lite<br><br>&lt;code&gt; <br><br>Function HandleMessages()<br>For Msg.msgInfo=Each MsgInfo<br><br>Select msg\msgtype<br><br>Case 255<br><br>nInfo.NetInfo=Bp_findid(msg\msgfrom)<br>If Msg\Msgfrom&gt;1<br>i.info=New info<br>i\txt="ID#"+Msg\Msgfrom+" ("+BP_GetPlayerName(Msg\Msgfrom)+")"+" Has Joined"<br>EndIf<br>NetPlayer.NetPlayers = New NetPlayers<br>NetPlayer\NetID = msg\msgFrom<br>NetPlayer\Name$ = BP_GetPlayerName(msg\msgFrom)<br>Netplayer\Mesh=CreateCube()<br><br><br><br>Case 254<br>i.info=New info<br>i\txt="ID#"+Msg\Msgfrom+" ("+BP_GetPlayerName(Msg\Msgfrom)+")"+" Has Left"<br>For NetPlayer.NetPlayers = Each NetPlayers<br>If NetPlayer\NetID = msg\msgFrom<br>FreeEntity Netplayer\mesh<br>Delete NetPlayer<br>Exit<br>EndIf	 <br>Next<br><br><br><br>Case 100<br>BP_EndSession()<br>End<br><br>Case 52<br>;EntityAlpha waterplane,Float(msg\msgdata)<br><br>Case 51<br>i.info=New info<br>i\txt="Wiping out all Server Objects!"<br>For NetSideObject.NetObjects = Each NetObjects<br>FreeEntity NetSideObject\Mesh<br>Delete NetSideObject<br>Next<br><br><br>Case 50<br>X# = BP_StrToFloat(Mid$(msg\msgData,1,4))<br>Y# = BP_StrToFloat(Mid$(msg\msgData,5,4))<br>Z# = BP_StrToFloat(Mid$(msg\msgData,9,4))<br>Heading% = BP_StrToFloat(Mid$(msg\msgData,13,4))<br>NetSideObject.NetObjects = New NetObjects<br>NetSideObject\Mesh=CreateCube()<br>NetSideObject\X# = X#<br>NetSideObject\Y# = Y#<br>NetSideObject\Z# = Z#<br>EntityTexture NetsideObject\mesh,cubetex<br>EntityType NetsideObject\mesh,2<br><br>Case 2<br>i.info=New info<br>ChatText$=msg\MsgData<br>i\txt=BP_GetPlayerName(msg\msgFrom)+": "+ChatText$<br><br>Case 1   ;Position/Rotation Data<br>X# = BP_StrToFloat(Mid$(msg\msgData,1,4))<br>Y# = BP_StrToFloat(Mid$(msg\msgData,5,4))<br>Z# = BP_StrToFloat(Mid$(msg\msgData,9,4))<br>Heading% = BP_StrToInt(Mid$(msg\msgData,13,2))<br>For NetPlayer.NetPlayers = Each NetPlayers<br>If NetPlayer\NetID = msg\msgFrom<br>Netplayer\name=BP_GetPlayerName(Netplayer\Netid)<br>NetPlayer\X# = X#<br>NetPlayer\Y# = Y#<br>NetPlayer\Z# = Z#<br>NetPlayer\Heading% = Heading%<br>EndIf<br>Next<br><br>Default<br>i.info=New info<br>i\txt="[Type: "+Msg\Msgtype+"] "+"[From: "+BP_GetPlayerName(Msg\Msgfrom)+"] "+Msg\Msgdata<br>End Select<br>Delete Msg<br>Next <br><br>Function UpdateNetworkObjects()<br><br>For Netplayer.Netplayers=Each Netplayers<br>RotateEntity Netplayer\Mesh,0,Netplayer\heading%,0<br>PositionEntity Netplayer\Mesh,Netplayer\x#,Netplayer\y#,Netplayer\z#<br>CameraProject camera,Netplayer\x#,Netplayer\y#,Netplayer\z#<br><br>If EntityInView(Netplayer\mesh,Camera)<br>BMPtext fntsmall,ProjectedX#(),ProjectedY#(),Netplayer\name$+"("+Netplayer\NetID+")"<br>EndIf<br>Next<br><br><br>For NetSideObject.Netobjects=Each Netobjects<br>PositionEntity NetSideObject\Mesh,NetSideObject\x#,NetSideObject\y#,NetSideObject\z#<br>Next<br><br>End Function<br><br>&lt;/code&gt; <br><br></td></tr></table><br>
<a name="329984"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> looks like you get that message 255 continously. Maybe BP tries to confirm it but fails to do that, so the server sends that 255 again? Where's Surreal? :) <br><br></td></tr></table><br>
<a name="330008"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FBEpyon</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> yeah thats what I was thinking :( <br><br></td></tr></table><br>
<a name="330050"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zenith</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hehe silly, I knew this answer! Sorry :D<br><br>After reading a message (After the select) delete the message from the type! :)<br><br>simple as: <pre class=code>Delete msg</pre><br><br>It just keeps reading the message each loop because surreal made it so you have to delete it -- that way you can log it or do whatever you want with it.. :) <br><br></td></tr></table><br>
<a name="330055"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FBEpyon</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> THANKS THAT FIXED IT!!! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
