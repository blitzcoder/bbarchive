<!DOCTYPE html><html lang="en" ><head ><title >FAST TorchLight</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >FAST TorchLight</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >FAST TorchLight</a><br><br>
<a name="809122"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neochrome</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> this isn't truely a torch, im just trying to make something work, i've posted this code and someone could build on it?<br><br>this should work on ALL scenes! no matter what tho<br>its a very poor attempt to make a doom3 torch light tho<br><br><a href="http://www.neochrome.co.uk/fhr.rar" target="_blank">http://www.neochrome.co.uk/fhr.rar</a><br><br><img src="http://www.neochrome.co.uk/example.jpg"><br><br>there is a video clip of this too<br><br><a href="http://www.neochrome.co.uk/fstdemo.mpg" target="_blank">http://www.neochrome.co.uk/fstdemo.mpg</a><br><br>the video clip rins at 25 FPS, using fraps, do know that the frame rate on THIS computer reaches 400+ FPS<br><br>1024 x 768, 32 Bit depth<br><br>i release this code free to use! if anyone can improve on this tho, i would like your updates ;)<br><br>this is probably my first every (semi usefull) demo<br><br>this doesn't DO shadows as of yet. THAT one hasn't light-bulbed me yet<br>im working on something for that tho <br><br></td></tr></table><br>
<a name="809172"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> That is d**n clever.<br><br>What did you use to make the BSP world?<br>And does it work with non-BSP i.e. .3DS or .B3D rooms? <br><br></td></tr></table><br>
<a name="809183"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neochrome</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> i should imagine so!<br>im using GTKRadient for BSP<br><br>im told that there arn't any issues with licencing anyways now.<br><br>but i see no reason for this to be limited to BSP<br>just a few tweeks on the code...<br>have you tried to code for your self?<br><br>this is highly experimental i dont know if it will work on other graphics, im assuming i've used the very basics of blitz to achieve this tho.<br><br>not quite Doom3 but it could be usefull? <br><br></td></tr></table><br>
<a name="809243"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mortiis</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Fast but looks like a sniper rifle scope. I would use texture projection instead. <br><br></td></tr></table><br>
<a name="809268"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bytecode77</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> very good! you see: you dont need a stencil buffer for that. also stenciled torch light would be slow and hard-edged. so a texture would do it much better...<br>you even managed the correct blending... i know that i didnt...<br><br>but i would try this instead<br><img src="http://www.dc.freecoder-portal.de/upload/files/Devils%20Child/Flashlight.png"><br>(this texture is from farCry) <br><br></td></tr></table><br>
<a name="809302"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mortiis</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> It has to take the shape of the surface it's projected on like in Half-Life which has texture projection I think. <br><br></td></tr></table><br>
<a name="809316"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neochrome</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Devils. actually i haven't quite optimised the code<br>i've used 2 textures.. one in white and one in black<br>i've included them in the Rar file.<br>if you wish i could send you the original photoshop format? <br><br></td></tr></table><br>
<a name="809352"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bytecode77</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> hm, since i dont know anything about BSP, i cant work on this... but my blending looks weird.<br><img src="http://www.dc.freecoder-portal.de/upload/files/Devils%20Child/Screen213.jpg"><br><br>in half-life the flashlight works as follows: a texture UV coordinate in the lightmap image is picked and the lightmap image is getting white at this place. no decal engine, no overlay! <br><br></td></tr></table><br>
<a name="809361"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bytecode77</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> ah i see how that works!<br>you are not projecting anything on a map-overlay! you just position a "flashlight" sprite in front of the camera... well, thats why it looks like a scope :) <br><br></td></tr></table><br>
<a name="809423"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mortiis</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> :) and that's why it doesn't take the shape of the surface it's reflected. It may be used as a night vision goggle with goggle sprite shape and greenish color IMO. <br><br></td></tr></table><br>
<a name="809453"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neochrome</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> as i say, its not a very good copy lol<br><br>its designed to give you guys something to work on? <br><br></td></tr></table><br>
<a name="810988"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kalisme</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was reading Devil childs comments about bleending textures. I presume he was talking about subtracting from the shadows in lightmaps with a tourch texture.<br>I did a lil project about this a while ago (is it the same method?) but it removes shadows from the lightmap using 3 layers of rendering and blending them together to get a single image... not the fastes thing in the world, but it works. (Apparently there are much better ways of doing it... but "hey", i'm simple =P )<br>here's my post:<br><a href="http://www.blitzbasic.co.nz/Community/posts.php?topic=67347#751986" target="_blank">http://www.blitzbasic.co.nz/Community/posts.php?topic=67347#751986</a><br><br>no media included... if you are intrested, just Email me, I'll post you a demo with source :)<br>Hope that helps someone. <br><br></td></tr></table><br>
<a name="812495"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >earok</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I experimented a little with scaling the sprite in order to give a more realistic spot light effect, rather then the "rifle scope" effect, and this is what I came up with:<br><br>Before the main loop put:<br><br>EntityPickMode world%,2<br>pivot = CreatePivot()<br><br>And during the main loop put:<br><br>EntityPick cam, 10000<br>PositionEntity pivot, PickedX(), PickedY(), PickedZ()<br>ScaleSprite spot, 0.5 / (EntityDistance(cam,pivot) / 500), 0.5 / (EntityDistance(cam,pivot) / 500) <br><br></td></tr></table><br>
<a name="812967"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neochrome</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> earok.<br>are you using the code i supplied? <br><br></td></tr></table><br>
<a name="1169972"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello,<br><br>Sorry to dig up this old post but i am curious about the torchlight effect Neocrome has achieved.<br><br>Does anybody has the file "fhr.rar" to try the demo please ?<br><br>Thanks, <br><br></td></tr></table><br>
<a name="1170097"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've found two 'torch' examples I had tucked away.<br>You can download them at:<br><a href="http://www.tla-data.co.uk/download/blitz/spotlight.zip" target="_blank">http://www.tla-data.co.uk/download/blitz/spotlight.zip</a><br><a href="http://www.tla-data.co.uk/download/blitz/torch.zip" target="_blank">http://www.tla-data.co.uk/download/blitz/torch.zip</a> <br><br></td></tr></table><br>
<a name="1170100"></a>

<a name="1170101"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just got a bit confused.  I thought Neochrome was that guy who a couple of years ago had "gone fishing".<br><br>Turns out that was <a href="/userposts.php?user=81" target="_blank">Nebula</a>.<br><br>As you were.<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1170113"></a>

<a name="1170145"></a>

<a name="1170146"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> John B.&gt;&gt;<br>Thanks for the file :)<br><br>Edit : i am not sure i understand what it does, i am studying it.<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
