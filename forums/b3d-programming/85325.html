<!DOCTYPE html><html lang="en" ><head ><title >DirectX Performance Tips</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >DirectX Performance Tips</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >DirectX Performance Tips</a><br><br>
<a name="964886"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just thought some points of this article could prove to be useful for us blitzers:<br><br><a href="http://wiki.directxers.com/index.php?title=Performance_optimizations" target="_blank">http://wiki.directxers.com/index.php?title=Performance_optimizations</a><br><br>(EDIT: I just checked, all these tips come from the DirectX 7 SDK)<br><br>Many tips rely on having a control that only using the DirectX SDK itself could we use, but there are some interesting points like:<br><br>- Clear only when you must (for those thinking that the Devil Child's Particle System is well optimized...it uses ClearSurface every time it updates the particles).<br>- 256x256 textures are the fastest (if not that exact size, then at least square textures).<br>- Directional lights are more efficient than point lights or spotlights.<br><br><br>Cyas. <br><br></td></tr></table><br>
<a name="964891"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> That is interesting.. and helpful, thanks for the link, Kryzon.<br><br>I'm a little unsure of some of the meanings used such as "Vertex Buffer switches" or "vertex format size", but that seems beyond my 'level of Blitzing' anyway. <br><br></td></tr></table><br>
<a name="964893"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think that this would be intended for DX 9, so you'd have to pick out what is useful from the article. <br><br></td></tr></table><br>
<a name="964895"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GIB3D</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Bah, directional lights can go kiss my... fart... because I like point lights. <br><br></td></tr></table><br>
<a name="964896"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> You should be using vertex lighting - it is the snizz. <br><br></td></tr></table><br>
<a name="964898"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> You don't even need to worry about that Malice, that's the part I mentioned that is beyond our Blitz3D-abled control. <br><br>Only with C++ and the SDK could you handle such things. <br><br></td></tr></table><br>
<a name="964916"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GIB3D</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> D:)  Vertex lighting eh? NOT POSSIBLE I SAY!! *expects to be handed an extremely simple vertex lighting example* <br><br></td></tr></table><br>
<a name="964920"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> There are about 3 or 4 in the code archives. <br><br></td></tr></table><br>
<a name="964922"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GIB3D</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ha! I'll prove you wrong! *doesn't look and simply heads off to see how to make a .dll*<br><br>*finds out making a .dll to store all his useful functions is harder than he thought* <a href="http://www.codeproject.com/KB/DLL/DLL_EZ_Build_EZ_Usage.aspx" target="_blank">http://www.codeproject.com/KB/DLL/DLL_EZ_Build_EZ_Usage.aspx</a> <br><br></td></tr></table><br>
<a name="964967"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> DX lights are vertex lights anyway, so i reckon it'd be slower than the hardware lights.<br><br>Anyway, making each entity less than 2000, or the closest to a multiple of 2000, will make your rendering more effient. SOmething to do with dx 7 sending 2000 triangle at a time to the graphics card. So if your model was 2,100 triangles, then it would sending 2 lots of triangles to the graphics card. <br><br></td></tr></table><br>
<a name="964986"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OJay</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Anyway, making each entity less than 2000, or the closest to a multiple of 2000, will make your rendering more effient. SOmething to do with dx 7 sending 2000 triangle at a time to the graphics card. So if your model was 2,100 triangles, then it would sending 2 lots of triangles to the graphics card. <br></div><br>hm...any references to verify this? google just has results regarding the year 2000, when dx7 was released... ;)<br><br>even if that were true, it would make a difference only, when you change the mesh structure. since a normal mesh is send to the graphicscard only once after loading. transforming and rendering an entity happens entirely on the graphicscard due to T&amp;L...<br>so this would affect you, if you're using a singlesurface particle system or something, but there really isnt much you could do about the polycount then... <br><br></td></tr></table><br>
<a name="965012"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I wouldn't have thought Blitz3D would cap the triangle batches, let alone DX7.  I'd say it is purely hardware-related. <br><br></td></tr></table><br>
<a name="965185"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I think that this would be intended for DX 9, so you'd have to pick out what is useful from the article. <br></div><br>Nope, I just read the Dx7 documentation and it's the same tips there, from 1999. <br><br></td></tr></table><br>
<a name="965190"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I purely looked at the date at the top of the article: 'DirectX SDK June 2007'. <br><br></td></tr></table><br>
<a name="965192"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Don't worry man, I'm not saying you are wrong or anything. <br><br>I didn't know it was from back then either. <br><br></td></tr></table><br>
<a name="965270"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Blitz3D doesn't cap it, it's a directX 7 thing. I did extensive testing on this. You can set up the experiement yourself. Something simple like creating 40 spheres.<br><br>Make code so you can change the level of detail of the spheres (through the built in CreateSphere() command) Monitor the FPS on screen, and, the polycount an individual sphere. When the sphere contains 1500, then 1900, then 2200 (making these numbers up to demonstrate a point.) upon going past 2000 tris, you will notice a drop in the framerate, not inkeeping with the previous. <br><br></td></tr></table><br>
<a name="965274"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, here we go. It isn't much, but it's hard to tell on this old work computer. The actual limit is 2048 (2^11), between sphere detail level 23 and 24. There is a large jump in fps between detail level 23 and 24, than there is between any other detail level (this gap will occur when the traingle limit for each sphere reaches 4096 too.<br><br>I have not displayed the triangle result for each sphere. You can test this by setting the number of spheres to 1 though. 21 was best for my test, on this computer.<br><br>Adjust sphere detail using the left and right ARROW keys.<br><br><pre class=code>
Graphics3D 800,600
SetBuffer BackBuffer()

Global camera = CreateCamera()



Global timer = MilliSecs()
Global fps
Global frame

Global detail = 23

Global number_of_spheres = 21

Dim spheres(number_of_spheres-1)

For loop = 0 To number_of_spheres - 1
	spheres(loop) = CreateSphere(detail)
	PositionEntity spheres(loop),Rnd(-10,10),Rnd(-10,10),20
Next

While Not KeyHit(1)

	If KeyHit(203) Then
		detail = detail - 1
		sphere_detail(detail)
	End If
	
	If KeyHit(205) Then
		detail = detail + 1
		sphere_detail(detail)
	End If


	If MilliSecs() &lt; timer + 1000 Then
		frame = frame + 1
	Else
		fps = frame
		frame = 0
		timer = MilliSecs()
	End If

	UpdateWorld
	RenderWorld
	
	Text 0,0,fps
	Text 0,15,detail
	Text 0,30,TrisRendered()
	Flip 0


Wend

Function sphere_detail(detail)

	Local tempx#
	Local tempy#
	Local tempz#
	
	For loop = 0 To number_of_spheres - 1
		tempx = EntityX(spheres(loop))
		tempy = EntityY(spheres(loop))
		tempz = EntityZ(spheres(loop))
		FreeEntity spheres(loop)
		spheres(loop) = CreateSphere(detail)
		PositionEntity spheres(loop),tempx,tempy,tempz
	Next
	
End Function
</pre> <br><br></td></tr></table><br>
<a name="965437"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't see a drop.<br><br>22 yields 555 FPS<br>23 yields 515 FPS<br>24 yields 478 FPS<br>25 yields 443 FPS<br><br>I still deem this hardware-related. <br><br></td></tr></table><br>
<a name="965439"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's probably a drop in the ocean nowadays. I was fairly noticable though on the older hardware, and it definetly was a dx7 thing. <br><br></td></tr></table><br>
<a name="965442"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Funny, there's a larger drop between 22~23 (EDIT: About 60% more, something like that).<br><br>Don't know why. <br><br></td></tr></table><br>
<a name="965453"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe it was 2,000 tris? anyways :) there was definetly a limit round about that number. I'm glad someone else confirmed my results. Thought i was losing my memory :D <br><br></td></tr></table><br>
<a name="965457"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> What hardware are you using "Kryzon"?<br><br>I have an 8800 GTX and an Intel E6600 Core2 Duo 2.4GHz. <br><br></td></tr></table><br>
<a name="965460"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey, we're all here to help each other, Ross C. :)<br><br><br>Here you go, "puki":<br><br>P IV 2.2 GHz<br>GeForce FX5200 <br><br></td></tr></table><br>
<a name="965589"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Puki, your computer is probably too stupidly fast :D Try using alot more spheres?<br><br>Indeedy Kryzon :) <br><br></td></tr></table><br>
<a name="965602"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> No, my Blitz3D is better than everyone elses.<br><br>I have the best copy of Blitz3D. <br><br></td></tr></table><br>
<a name="965656"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> What's the good thing about having the best copy of Blitz3D if you don't make any games with it? =( <br><br></td></tr></table><br>
<a name="965659"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am more of a pioneer than a game maker.  I don't do simple games. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
