<!DOCTYPE html><html lang="en" ><head ><title >An approach to Inverse Kinematics</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >An approach to Inverse Kinematics</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >An approach to Inverse Kinematics</a><br><br>
<a name="246844"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Litobyte</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://www.cs.vassar.edu/~ellman/old-courses/395-spring-2001/cs395-lecture12.pdf" target="_blank">http://www.cs.vassar.edu/~ellman/old-courses/395-spring-2001/cs395-lecture12.pdf</a><br><br>Realtime Inverse Kinematics,<br>how cool would it be ?<br><br>Imagine moving a bone joint of the hand of your model, and have the arm perfectly bending or relaxing.<br><br>Aaaah :)<br><br>Man, that is the kind of lecture I've been searching for the past 2 days.<br><br>Now, got the theory and the formulas, I'm wondering,<br>anybody went in this matter already ?<br><br>I heard someone is trying to do that for animated .b3d<br><br>The fact about this, is that, a 3D artist, who works in Max or Maya, would like to see its Effectors / IK Handle implemented, and not an external editor for it.<br><br>So the real best would be maya/max----&gt;b3d + IK, and IK calculated on the basis on what the SCENE have in its format.<br><br>This would allow kick-ass / straigh-forward implementation of characters.<br><br>Let's see if we can come up with something (at least, simulating IK from given value, and not read from a LWO/max/maya scene) <br><br></td></tr></table><br>
<a name="246898"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Page not found. <br><br></td></tr></table><br>
<a name="247034"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Litobyte</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I find the page... <br><br></td></tr></table><br>
<a name="247101"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I got it.<br><br>Having redefined the process of 3D architectural modeling, I may turn my attention to a real-time IK animator and physics system. <br><br></td></tr></table><br>
<a name="247125"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) sinu</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> "Having redefined the process of 3D architectural modeling, I may turn my attention to a real-time IK animator and physics system."<br><br>if anyone can do this, you can :) <br><br></td></tr></table><br>
<a name="247127"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok, get your hand out of his pants! =] <br><br></td></tr></table><br>
<a name="247132"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Litobyte</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is too much math for me :)<br>But If I'm too bored I will try perhaps :P <br><br></td></tr></table><br>
<a name="247219"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) sinu</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> "ok, get your hand out of his pants! =] "<br><br>it's just halo seems to be one of the best coders(there's some others too) around here especially with the advanced stuff. <br><br></td></tr></table><br>
<a name="247273"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I almost typed that without laughing.  Almost. <br><br></td></tr></table><br>
<a name="247686"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ragtag</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here is a little snippet of code I did as an expression in Maya. It's a 2D analytical IK. I'm no expert coder nor good at maths, but I at least got this working. (for those not familiar with Maya, e.g. Handle.translateX  simply refers to the position of handle geometry/null in X and so on).<br><br><br>float $t;<br>float $a1;  // angle of first bone<br>float $a2;  // angle of second bone<br>float $L1=5; // length of first bone<br>float $L2=3; // length of second bone<br><br>$t=rad_to_deg(acos(Handle.translateX/(sqrt(Handle.translateX*Handle.translateX + Handle.translateY*Handle.translateY))));<br><br>$a1 = rad_to_deg(acos(($L1*$L1 + Handle.translateX*Handle.translateX + Handle.translateY*Handle.translateY - $L2*$L2) / (2*$L1*(sqrt(Handle.translateX*Handle.translateX + Handle.translateY*Handle.translateY)))) );<br><br>$a2 = rad_to_deg(acos(($L1*$L1 + $L2*$L2 - (Handle.translateX*Handle.translateX + Handle.translateY*Handle.translateY)) / (2*$L1*$L2)) );<br><br>Bone1.rotateZ=$a1;<br>Bone2.rotateZ=(180-$a2)*(-1);<br><br><br> Ragnar<br><br> p.s. Now what was it one enclosed code in here? <br><br></td></tr></table><br>
<a name="247749"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Litobyte</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> humm, in a 3 axis system would be  ? :)<br>I think the answers[formulas] are on that PDS paper I posted, pity they are written in math language, not in a programming language.<br><br>Maybe some student in math can help here. <br><br></td></tr></table><br>
<a name="248045"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ragtag</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hehe...if you want the details on this, I used a book called Computer Animation Algorithms and Techniques by Rick Parent. It's an excellent (somewhat expensive) book, that explains in detail how the formula works, including 3 axis. Here is an explanation of the stuff above, shown step by step.<br><br><img src="http://www.ragtag.net/xternal/blitz/IK.gif"><br><br>Hope that's of some help. In Maya I simply added an aim constraint to the parent of the bones, thus I got three axis...maybe the same could be done in Blitz.<br><br> Ragnar <br><br></td></tr></table><br>
<a name="248279"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Litobyte</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Aren't used IKhandle, Locators and other kind of things in Maya ?<br><br>Anyway, thanks I will look into this picture.<br>You can remove it now if you want, I have got it.<br><br>BTW, very similiar to the formulas in the PDS papers.<br><br>I wonder how long it will take to translate into blitzMath code.<br><br>:P <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
