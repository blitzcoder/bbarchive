<!DOCTYPE html><html lang="en" ><head ><title >Floating point innacuracy or something else?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Floating point innacuracy or something else?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Floating point innacuracy or something else?</a><br><br>
<a name="610614"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OrcSlayer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, on my now very tiny starship (it's a little over a unit long), I am trying out the method which I plan to use for marking hardpoints and projectile exits. Using pivots (which will be in the model as bones when I get my own models), parented to the entity in the right spot for the projectile to come out, I copy the position and rotation of the pivots to every projectile created that belongs to that port. The problem is...<br><br>If the ship has not moved at all, it looks fine. But once I start to move it (turn, accelerate, anything), the positioning screws up. The result is very obvious, as they are created sometimes several tenths of a unit away from their needed location (which is big error at this scale).<br><br>However, I also tested making the projectiles at the starship entity position, then using move entity to manually place them at the exact same spot as the hardpoints should be (rather than copying from the pivots), and simply copying the rotation of the starship entity. The result is exactly what it's supposed to be. The first though I had was that this is related to floating point innacuracy, but if that is the case, why is it not affecting the other method as well?<br><br>If anyone has any ideas, please, let me know... <br><br></td></tr></table><br>
<a name="610636"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chevron</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think making the players ship tiny to overcome your problem is the wrong way to go about it as you will create other problems in the process as you have now found.<br> Keep your objects at a reasonable size and use other methods to allow the player to fly around a huge area. I guess this is what you are wanting to acheive?<br><br>I would sugest keeping the player at the same position inside a texured shpere and rotate the sphere to give the impression of roll etc. Stars can be added within the sphere to give the impression of speed.<br><br>This is only a very basic explanation but hope you get the idea. <br><br></td></tr></table><br>
<a name="610646"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OrcSlayer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually the scale isn't overwhelmingly large...the view distance is 50000 and I do take advantage of a skybox, but there has to be a certain amount of scale to it to allow for the fairly large multi-planet systems, etc...<br><br>I suppose I can try increasing the scale of everything to the maximum I can work with, and then using a 'lock object at view range and scale' trick to make the planets and in-system stars still be visible beyond visual range.<br><br>I guess this will make the whole game easier to work with, as long as it fixes this rather tacky problem...I just can't figure out why the one option worked and the other didn't. The pivots were staying in place so the coordinates should have been correct, I would think. <br><br></td></tr></table><br>
<a name="610679"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WendellM</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  Actually the scale isn't overwhelmingly large...the view distance is 50000  <br></div><br>That seems pretty large for a ship that's only one unit long, with weapons needing fractional-unit accuracy.  Also, what's your minimum view distance?  The ratio of maximum:minimum is what matters. Going below 1 for minimum effectively multiplies the effect of maximum view distance (so that "CameraRange 0.1, 100" is the effectively the same as "CameraRange 1, 1000", I believe). <br><br></td></tr></table><br>
<a name="610699"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob Farley</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm guessing that you're doing a moveentity, turnentity or something AFTER getting the positions of the bones...<br><br>Make sure you get the positions of the bones after you have done all your turning and moving and it'll be fine.<br><br>ie<br><br>WRONG:<br>get bone positions<br>get input control<br>move player<br>create stuff based on bone positions<br><br>RIGHT:<br>get input control<br>move player<br>get bone positions<br>create stuff based on bone positions <br><br></td></tr></table><br>
<a name="610802"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OrcSlayer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, my minimum view distance is currently set to 1, but I'm starting to get the idea it needs to be something else...<br><br>The reason view distance is so big is because there will be much, much larger entities as well (dreadnaught class ships will be immense), and I need room for big cap-ship to cap-ship battles. The ship that was between 1-2 units long was a mere test fighter.<br><br>However, I did as you suggested, and increased the size of my player ship tenfold. Now, the accuracy is perfect and my problem with the hardpoints is solved. So, I'll just make planets bigger, and use tricks to keep them in view past viewdistance.<br><br>Thanks for the help guys! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
