<!DOCTYPE html><html lang="en" ><head ><title >Online Programming</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Online Programming</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Online Programming</a><br><br>
<a name="555959"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >S_Seth</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, I'm in a bit of a jam. I am trying to create on online game, and someone suggested to me to use UDP. I have successfully gotten this game to the LAN stage, by using the Local IPs 192.168.0.xxx to connect to the hosting PC. <br><br>However, now I want to take a bigger leap, and convert to online. Exactly what IP would I use to connect to the remote hosting PC? I have gotten my remote IP from ipchicken.com , but this doesnt seem to work.<br><br>I need all the suggestions/tips I can get. <br><br></td></tr></table><br>
<a name="555977"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rottbott</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you made sure that the UDP port you are using is open on the server's firewall? It also needs to be set up on the router (if there is one) to forward packets on that port to your server. <br><br></td></tr></table><br>
<a name="556254"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >S_Seth</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I disabled the firewall for the test, so that won't be it. As for port forwarding, I will double check on let you guys know.<br><br>EDIT: I went in front of the router, and through Windows Command Prompt, several of my friends and I pinged each other, I could ping them, they could ping each other, but they could not ping me. I'm guessing that something needs to be changed in my modem. Any ideas? <br><br></td></tr></table><br>
<a name="557106"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >S_Seth</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK, sorry for the double post. I went outside the router and directly into the modem, but remote computers cannot ping my IP. I think that it is because a static IP. So now I am changing my question. Is there a way to program an Internet code in Blitz that does not require a static IP? <br><br></td></tr></table><br>
<a name="557115"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ozak</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> It does require a static IP if you want users to connect form the internet. IP chicken seems to report my correct IP.<br>Remember that your router probably have a firewall tool.<br>Ping is usually disabled.<br><br>I have no problem connecting to blitz apps from outside my firewall/router, so it's probably your setup. <br><br></td></tr></table><br>
<a name="557487"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >S_Seth</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> So what you are saying is that there is no way in Blitz coding that I will be able to receive data packets from a Blitz app w/o a static ip? Cause I ran a test and was able to send them just fine, but I cannot receive them.<br><br>I get the same result when I go in front of the router as well. <br><br></td></tr></table><br>
<a name="557501"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ozak</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well. You can use a dynamic IP, but the users would have to input a new IP each time as it changes occasionally.<br><br>Do you by any chance have software firewall like the default in Windows XP that you forgot to disable? <br><br></td></tr></table><br>
<a name="557518"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >S_Seth</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> No I disabled it, to tell the truth I think its my modem, I'm gonna have to look at the settings in there and see if that helps.<br><br>I found something under my internet properties, would this be what you were talking about, I had disable the firewall, and this looks like the firewalls "holes" to me.<br><br><img src="http://www.angelfire.com/ar3/mongitanx/settings.JPG"><br><br>EDIT: And hence I came upon the answer, it was a router problem. The reason it wouldnt work in front of the router is b/c I need to change in Internet Connection setting to allow users to connect to my comp on the specified port. Once I change this setting on the router, I'm good to go. Thank you for all your help. :) <br><br></td></tr></table><br>
<a name="558980"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wings</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> what has online programming with UDP.. udp is for lame LAN games :) <br><br></td></tr></table><br>
<a name="559109"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hotcakes</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Umm, then you clearly have no idea what UDP is for...<br><br>UDP is the standard protocol for any online action game, it's slim headers enable a very small overhead, which is very VERY important when dealing with the internet, which is incredibly slow compared to a LAN.  As opposed to TCP, which is good for slower data, it automatically corrects errors, you don't need to worry about if it reaches the other end or what order it gets there in, because all that is sorted for you.  Of course the headers are larger and almost prohibitive for an action game with a lot of stuff that needs updating. <br><br></td></tr></table><br>
<a name="559138"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ozak</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> True, but still both EverQuest and WoW used TCP/IP. The trick is correct interpolation of player positions :) <br><br></td></tr></table><br>
<a name="559164"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wayne</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ozak has no clue either. Perhaps Everquest uses TCP for login, or account maintenance, but clearly not for game play. Why would they consume extra bandwidth of TCP, and include extra delay for lost packets?<br><br>Sony's EQ Tech site explains the use of udp in detail, and makes no mention of TCP/IP.<br><br><a href="http://eqlive.station.sony.com/support/tech_support/ts_network_support_security.jsp" target="_blank">http://eqlive.station.sony.com/support/tech_support/ts_network_support_security.jsp</a><br><br>I think some anonymous poster said it best,<br>"TCP is a reliable protocol. Although this sounds like I'm paying it a compliment, it can be a bad thing for games.<br><br>Reliable means that the packets you send are received in the same order. If you send packets:<br><br>X -&gt; Y -&gt; Z they are received as X -&gt; Y -&gt; Z<br><br>This is great for chat/communication, but horrible for just about anything else.<br>In UDP packets are received in the order that they arrive. Which is great for movement, or actions, because the last action is less important than the current action. You can mitigate the problems with out of order sequences on UDP very easily, simply by queuing the messages as they arrive, and then re-requesting those that didn't make it. Once your packets are ordered, then you can process them.<br><br>Unfortunately there is no mitigation for the reliability of TCP. If a packet is dropped, then no new packets will be accepted until the missing packet arrives. This can cause a great amount of perceived lag. Have you ever played a game where you are moving your sprite, and then all of a sudden you stop moving, so you keep hitting the forward button. Then, all of the sudden your sprite bursts into a fast-forward sprint. This is because the movement packets were sent with TCP.<br><br>I would strongly suggest that you use a network API that mitigates these problems for you. Most of them do. I see no feasible reason to use TCP, except to be lazy."<br><br>As for World of Warcraft, maybe they do use TCP/IP for game play, maybe that's why it sucks. I know one of the reasons I stopped playing WOW was because large groups caused unplayable lag. Everquest, Camelot, and Asherons Call all appeared to do a much better job of managing packets.<br><br>.02 <br><br></td></tr></table><br>
<a name="559170"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ozak</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually the everquest emulator uses TCP/IP thus proving the game runs TCP/IP or the client would fail to run with it.<br>(But that's beside the point, both protocols would work fine for the job)<br><br>UDP is even worse as packets get lost, duplicated, and severely delayed. The ping time is huge on the internet due to slow routers, long travel time etc.<br><br>And you can't even trust TCP/IP if you are not quick enough to read packets from the driver queue they are simply lost.<br><br>So no matter what you use, you'd have to do some kinda dead reckoning.<br><br>And your position is never used directly causing the sprite to stop moving. <br><br>And for the record I worked many years as a programmer of online software (both servers and clients) and I do know how it works from a professional perspective.<br><br>Please have your facts straight, before talking down to people. It appears you are the one with no clue :) <br><br></td></tr></table><br>
<a name="559227"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Banshee</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I removed my post, giving up smoking / nicoteene craving made it more agressive than productive... <br><br></td></tr></table><br>
<a name="560197"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wings</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> i dont think this is right.<br>"In UDP packets are received in the order that they arrive"<br>u missing IF THEY DMM PACKED IN UDP ARRIVES !<br><br>Packet can also be corrupt in udp.<br><br>so i stay away from it on internet its TCP/IP that count <br><br></td></tr></table><br>
<a name="560205"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wings</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> the below is wrong too.<br><br>TCP/IP<br>"And you can't even trust TCP/IP if you are not quick enough to read packets from the driver queue they are simply lost."<br><br>blitz3d has 8k buffer. never send more info than that at same time.. or else it will lag good :)<br><br>Hint to speed upp tcp:<br>iam not expert on UDP just TCP cause i use it well. Just create 2 ro 10 tcp streams and u get faster connection :) <br><br></td></tr></table><br>
<a name="560210"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> so i stay away from it on internet its TCP/IP that count  <br></div><br><br>Stay away from it all you wish, but your claim that UDP is for lame network games is ridiculous. If you know what you're doing, UDP is much faster, even when you account for the extra packet you have to send to get reliable, ordered UDP. <br><br></td></tr></table><br>
<a name="560245"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >King Dave</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> UDP does include a checksum so you shouldn't get currupt packets (guess they are just lost instead)... well so far i have never seen one and I use UDP heavily. <br><br></td></tr></table><br>
<a name="560347"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hotcakes</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> True, but still both EverQuest and WoW used TCP/IP. <br></div><br>The thing about these games and most other MMORPGs is that they are not realtime or action games.  They do not need to synchronise a fast moving projectile on all connected machines and have it hit the destination at the same time in the same place.  They are almost turn based - you click Attack and when the server recognises your command, it enters you in combat mode...  when you make a hit, it isn't being calculated on your machine first and then sent to the server, it is the server doing the calculations and then sent to your computer.  Or every computer that is in your party etc...  And there is a very noticeable delay between when you press 'Attack' and when battle mode commences.  However, you can be sure that when you press Attack, you will definately enter Attack mode, because the server will never lose your 'attack' request.  The magic of TCP.  Sometimes it will just take longer than others...<br><br><div class="quote"> The trick is correct interpolation of player positions :) <br></div><br>In MMORPGs, what you see on your screen is no where near a correct representation of what other people see on their screens.  The real trick is to make the actions of all *appear* to be fluent and realtime on your machine.  That is the hard task for the client...<br><br><div class="quote"> would they consume extra bandwidth of TCP, and include extra delay for lost packets? <br></div><br>For games like that it can make sense.  To reuse my previous example, you don't want to have to issue an 'Attack' command more than once before you will be noticed...<br><br>Perfectly impossible/highly improbable to do something like a FPS over the net with TCP though... <br><br></td></tr></table><br>
<a name="560360"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >S_Seth</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok guys, got one more question for ya.<br><br>Will the command UDPMsgIP() only return the IP for a local (LAN) connection or will it return the sender's IP via internet as well? I'm asking the because I see that HostIP() only returns Local IPs. <br><br></td></tr></table><br>
<a name="560393"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Banshee</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> It depends upon the method of connection.  If you connect to a machine using a LAN then a local address will be returned.  If you connect remotely then a WAN address will be returned.<br><br>This applies to both commands.<br><br>You can fake a WAN connection if your server PC is the gateway to the internet (ie: not using a router) by specifying the IP# of the WAN connection and then, using your LAN connect the second PC to the servers internet IP# and then HostIP() returns the WAN IP.<br><br>If you connect to the LAN IP# such as 192.168.0.1 then HostIP() returns the LAN IP.<br><br>You might also be able to sort through IP's with countHostIP's and specify the index but i've not personally ever bothered with that so don't know for sure.<br><br>EQ (and therefore I guess EqEmu) uses UDP.  I suppose the EqEmu docs do not clarify it because most end users do not know what UDP is.  This post being a prime example of that, and as UDP is using IP# for target ident, /shrug: 1+1=2. <br><br></td></tr></table><br>
<a name="579857"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chano</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi S_Seth<br>As an alternative to dynamic IP connection you can use <a href="http://apurientertainmentstudios.no-ip.info" target="_blank">http://apurientertainmentstudios.no-ip.info</a> or other, to get it please visit <a href="http://www.no-ip.com" target="_blank">http://www.no-ip.com</a> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
