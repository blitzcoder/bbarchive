<!DOCTYPE html><html lang="en" ><head ><title >Main loop/Movie FPS</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Main loop/Movie FPS</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Main loop/Movie FPS</a><br><br>
<a name="593244"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> ..after latest Blitz3D update (1.91), I start to playing with movie as a texure again..my question is how to properly escape from locking ingame main loop FPS with movie FPS (movie is in loop all time)..so, how to keep separate main loop and movie FPS? I did something with stop updating movie within main loop, and its working, but picture is not smooth anymore...on another side, if I dont do that, main loop FPS following movie FPS (25 fps in my case)...so..anyone knows elegant solution for this issue? <br><br></td></tr></table><br>
<a name="593309"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Someone said that in effect you couldn't/didn't need to control FPS - that Blitz will update the frame counter by the correct amount every time UpdateWorld is called.<br><br>Otherwise with variable timings induced by changing in-game fps trying to also control smooth movie playback would be nitemare.<br><br>In other words, movie playback has it's own internal timer(?). <br><br></td></tr></table><br>
<a name="593345"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paolo</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you are using a frame-tweening technique, you must<br>not call the DrawMovie() command inside the main loop.<br>Each time you open a movie, it starts being played on<br>the background, you have to write a separate code (outside<br>the main loop) so that you only call the DrawMovie when<br>you know for sure a new frame is in the animation,<br>so if you have a 30fps movie then write a code which calls<br>DrawMovie every 33 milliseconds and so ...<br><br>something like this:<br><pre class=code>
;--- VIDEO PROYECTADO ---
movies_millis=MilliSecs()-movies_millis
movies_storemillis=movies_storemillis+movies_millis
movies_millis=MilliSecs()
If movies_storemillis&gt;32
movies_storemillis=0

	DrawMovie()
	CopyRect (to texture here)

EndIf
;----------------------------------
</pre> <br><br></td></tr></table><br>
<a name="593355"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Also, its advisable to put a little Delay in your main loop. <br><br></td></tr></table><br>
<a name="593406"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> ..Eurythmia..your advice working very well..thanks a lot to all of you guys... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
