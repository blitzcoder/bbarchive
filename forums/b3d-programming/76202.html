<!DOCTYPE html><html lang="en" ><head ><title >BASS.DLL -- looping a sound?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >BASS.DLL -- looping a sound?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >BASS.DLL -- looping a sound?</a><br><br>
<a name="851958"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Roland</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey all,<br><br>I've been trying (and getting very frustrated) trying to integrate Bass.dll into my project so that I can use the extra features.  Unfortunately, I can't seem to accomplish much!<br><br>I need to play back several mp3's and loop them, as well as have them sync up so they start at the same time.  Would anyone have any code lying around to help me do this?<br><br>I've tried using the "BASS_ChannelSetFlags" function, but it doesn't seem to work, or maybe i'm missing something!<br><br>thanks!<br>roland <br><br></td></tr></table><br>
<a name="852221"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Abrexxes</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>if you willto work on more channels the best way is to work with "channelgroups". That mean that if you start one, every channel in this goup will start, pause, stop the same time. (see bass.chm)<br><br>I dont now why the channelflag "loop" want to work in your case. What you can do is with with "BASS_ChannelGetPosition" or "BASS_ChannelIsActive".But all  of them are not realy cool. So..sorry i will look at this in the next (24)houres! (I came from work now..so ...)<br><br>A) You must work casesensitive<br>B) You must at least work with BBS 1.3.5<br>C) post a little code if it is possible (*thanks*)<br><br><br>Dont forget that the flags are "CASESENSITIVE". But in every case, your problem i (a  1A problem that i) must solve in the next houres if it is one, so wait out.<br><br>bye <br><br></td></tr></table><br>
<a name="852421"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Roland</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey Abrexxes!  Thanks for the reply.  I'll try to post some code later on today.<br><br>What i've found is that there isn't a function in the bass.bb file the BASS_Channel_SetFlags()... So I don't even know if the wrapper supports this yet???  It is in the Decls, though.  I guess i'm a little out of my depth here.<br><br>The concept of channel groups sounds perfect for what I am doing -- i think that this would be really helpful.  If you could help me with some demo code that groups 3 channels of mp3s together and loops them that would be a HUGE help to me! <br><br>Thanks for all your hard work on this -- I know it's really time-consuming and i appreciate it very much.<br><br>best,<br>roland <br><br></td></tr></table><br>
<a name="852459"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Abrexxes</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ups...what you search is "BASS_ChannelSetLink" and "BASS_ChannelRemoveLink" <br><br><div class="quote"> <br>Linked channels are started/stopped/paused/resumed together. Links are one-way, for example, channel chan will be started by channel handle, but not vice versa unless another link has been set in that direction.<br> <br></div><br><br>I will see this weekend for the loop problem. For the moment you can maybee work with BASS_ChannelIsActive to restart after ending.<br><br>bye <br><br></td></tr></table><br>
<a name="852465"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Roland</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey Abrexxes,<br><br>I just was able to get the sounds to loop by setting the flag when I started the stream.  Before I'd tried to use the "BASS_ChannelSetFlags()", which is in the decls, but doesn't seem to be wrapped. <br><br>Here's how i am now able to loop a sound:<br><pre class=code>
music = BASS_StreamCreateFile(0,"media\loop6.mp3",0,0,BASS_SAMPLE_LOOP)
</pre><br><br>this seems to work great!  But when i tried the "BASS_ChannelSetLink", that gives me the same error as the setflags, "Userlib not found".  I think that these commands would need to be wrapped as well.<br><br>thanks again for your help!  Let me know if you can get the linking working!<br><br>cheers,<br>roland <br><br></td></tr></table><br>
<a name="852636"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Abrexxes</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> It seems that you have and OLD bass.dll in your windows/system32 folder. Search it and delete it. The bass.dll has nothing to do in the OS system. <br><br>This errors are still because windows search first in his system folder for dlls, after this in the mainfolders of the applications. So...you "recent" bass.dll version is ignored and you use an older one, installed by a programm done by a lamer (copy bass.dll in system32)<br><br>use the "BASS_GetVersion()" command to see the bass.dll used, there you must have 02030003 (version 2.3.0.x ) ;<br><br><pre class=code>
version = BASS_GetVersion()
Text 0,20,"Bass version : " +Hex$(version)</pre><br><br>EDIT: Ohh. i see a bug there XD. I will take a look <br><br></td></tr></table><br>
<a name="852641"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Abrexxes</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok sorry, i was really an idiot -.- reload bbs (1.6.1) or just make this changes in your bass.decls.<br><br>Still hope all this works now.<br><br><div class="quote"> <br>----- v.1.6.1<br>* Changed file bass.decls<br>- Fixed BASS_ChannelSetLink Error<br>- Fixes BASS_ChannelSetFlags Error<br>(You dont need to reload if you have still 1.6.0, just edit this line in your bass.decls)<br>--&gt;BASS_ChannelSetLink%(Handle, chan%) : "BOOL BASS_ChannelSetLink" <br>to : BASS_ChannelSetLink%(Handle, chan%) : "BASS_ChannelSetLink" <br>--&gt;BASS_ChannelSetFlags%(Handle,flags%) : "BOOL BASS_ChannelSetFlags"  <br>to : BASS_ChannelSetFlags%(Handle,flags%) : "BASS_ChannelSetFlags"<br>(WTH i have made there -.-, sorry for this guys and thanks to Roland to report this!)<br> <br></div><br><br>Sorry Roland, for the moment i can only work the weekend on my "big" machine. For the rest i use a good old Pentium I (one). :) If there is still a problem with this commands i can only fix that this weekend (as i can make tests). But ..you was right, what i have made there CAN NOT WORK! -.- So, feel free to report every problem about this (and other thinks) Thanks a lot!<br><br>bye <br><br></td></tr></table><br>
<a name="852651"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Roland</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey, that works now!  Awesome!<br><br>Don't worry about the bug Abrexxes -- I'm so thankful to you for putting this lib together... Now I can try to integrate it into my program :)<br><br>I'll let you know if I find anything else!<br><br>best,<br>roland <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
