<!DOCTYPE html><html lang="en" ><head ><title >Type Field holding handle? Array of handles?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Type Field holding handle? Array of handles?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Type Field holding handle? Array of handles?</a><br><br>
<a name="653254"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bigfoot</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Dear Community,<br><br>I am just beginning to program with B3D. My goal is to create a maze with 25 rooms.  I have the composed the rooms of inside walls, outside walls, and floors in order to texturize these parts separately.  I bound all these meshes to a pivot calles 'RoomTmpl' which serves as a room template. Since all rooms will look basically look alike, I wanted to create a Type array with fields specifying the coordinates (where to put the room in space) and other items defining the rooms. I thought a Type array would allow me to loop over it in a For-loop and is thus a efficient way to update the rooms.<br><br>Thus, I wanted to do something like the following:<br><br>Type RoomProps<br>Field Name<br>Field Wall ; this is for holding the handle<br>Field x#, y#, z#<br>EndType<br><br>Dim Room.RoomProps(25)<br><br>For i = 1 To 25<br>	Room(i) = New RoomProps<br>	Room(i)\Name = MyNames$(i) <br>	Room(i)\Wall = CopyEntity(RoomTmpl)<br>	Room(i)\x# = Xcoord#(i)<br>	Room(i)\y# = 0<br>	Room(i)\z# = Zcoord#(i) <br><br>	PositionEntity Room(i)\Wall,Room(i)\x#,Room(i)\y#,Room(i)\z#<br>Next<br><br>However, when I checked for errors I got the error message "Expecting 'NEXT' statement" (or something like that).  I guess I cannot simply assign an Entity to a field in a Type (I do not get any line number associated with<br>the error - is there way to turn this on in B3D?).<br><br>However, I also tried this:<br>...<br>Room(i)\wall = handle(CopyEntity(RoomTmpl))<br>...<br><br>but I got the same error message.<br><br>Now, is it actually possible to save handles in a Type field?  Or should I rather create an array of handles, e.g. Dim RoomHdl(25)? And if that is possible, what type does this array have? Integer? Or is this just the wrong approach to begin with?<br><br>Thanks for your help! <br><br></td></tr></table><br>
<a name="653256"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) sinu</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can assign an entity to a field in a type.<br>Check that your array is declared before calling the array type:<br>Dim Room.RoomProps(25) is before any calls to a room() = new roomprops<br><br>or replace the line:<br><br>Room(i)\Wall = CopyEntity(RoomTmpl)<br><br>with <br>Room(i)\Wall = 0<br><br>and see if you still get a problem <br><br></td></tr></table><br>
<a name="653288"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bigfoot</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, sinu. With your reply I found out that the Entity assignment was not the problem in my code (that worked fine just as you said), but rather some problem with the coordinate assignment.<br><br>Thanks, again.  BTW, do you know if there a way to have B3D tell me the line number when is stumbles on some error in the code? <br><br></td></tr></table><br>
<a name="653470"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) sinu</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Run blitz in debugmode, it usually jumps to the line which has caused a problem in the debugger. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
