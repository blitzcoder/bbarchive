<!DOCTYPE html><html lang="en" ><head ><title >Smoke</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Smoke</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Smoke</a><br><br>
<a name="305688"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >elseano</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, i wrote this particle effect code and it's basicaly meant to look like smoke. It just ends up looking like a lot of grey blobs that don't look anything like smoke...<br>I'm using a grey blurry sprite as the main_particle. Does anyone have any ideas anout how I could make this a bit more realistic. <br><br>Here's the code:<br><pre class=code>
Function createparticle(player)

	p.particle=New particle
	p\entity=CopyEntity(main_particle)
	p\x=EntityX(player)
	p\y=EntityY(player)-1
	p\z=EntityZ(player)-1
	p\time=Rand(1400,2200)
	p\timer=MilliSecs()
	PositionEntity p\entity,p\x,p\y,p\z
	p\speed=-3
	p\alpha=1
	
End Function 

Function updateparticles()
         
        Local random=Rnd(-0.5,0.5)
	For p.particle= Each particle
	p\alpha=p\alpha-0.1
	EntityAlpha p\entity,p\alpha
        MoveEntity p\ent,random,random,random
	If MilliSecs()&gt;p\time+p\timer Then
	FreeEntity p\entity
	Delete p.particle
	EndIf
    Next

End Function 
</pre> <br><br></td></tr></table><br>
<a name="305707"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you played my latest demo (secret of manes) there is some smoke with the impact of the bullets when you fire the gun against a wall. If you like that - I released it some time ago, check blitzcoder.com for a particle system by norc.<br><br>basicly it works in a way that a number of sprites are fading in and out cascadicly, partially overlapping (in time) while their size is increasing. Tey are all using the same sprite, the nebula sprite at a max of about .2 alpha transparency. It's not single surface, but it's very simple to use and flexible. you can have any number of textures simultanously with that system. In the Demo I use it for Fire and Smoke in the same time. however. - <br><a href="http://www.blitzcoder.com/cgi-bin/showcase/showcase_showentry.pl?id=norc02062003164813&amp;comments=no" target="_blank">http://www.blitzcoder.com/cgi-bin/showcase/showcase_showentry.pl?id=norc02062003164813&amp;comments=no</a> <br><br></td></tr></table><br>
<a name="305715"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >elseano</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow, nice demo.<br>Thanks, is it Ok if i change the source etc, and use my own textures?<br>If so, i will be using this in my next project.<br>Once again, v nice effects... ;] <br><br></td></tr></table><br>
<a name="305716"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes, of course! <br><br></td></tr></table><br>
<a name="305738"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >elseano</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks. <br><br></td></tr></table><br>
<a name="305768"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LostCargo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> i have cinema 3d and have been playing around with the pyro plugin. I was wathcing the smoke. To get more realistic smoke they use a sprite system that animates the sprites. So its not just a fade from  1 sprite to nothing. So if you have a fire. the sprite is bright yellow and a full fireball, but at the end it is a small wisp. they also transition the alpha of course.<br><br>The effect is quite realistic. Great for explosions or raging fires. <br><br></td></tr></table><br>
<a name="305773"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> my fire system uses this. An animated texture. It looks cool, but since i drew it myself, can't expect too much :) <br><br></td></tr></table><br>
<a name="305792"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Clyde</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> How cool is that hey!<br>Welldone Guys! :) <br><br></td></tr></table><br>
<a name="305799"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LostCargo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ross do you have a demo u could show us? How are the frame rates on animated sprites? i have only implemented basic smoke particles for fear that the frame rates might get chewed up quickly. <br><br></td></tr></table><br>
<a name="305801"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >elseano</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Baudspeed: Good idea, thanks for the info. Just been doing some pixel art...maybe I'll try some explosion/smoke/fire sprite animations....at the moment I'm just doing RPG-style people, but I could try this.<br><br>I'll post them when they're finished... <br><br></td></tr></table><br>
<a name="305804"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> @baudspeed, it's a single surface system using a texture with frames that i set. And it's fire :S But same idea, the fire animation increments. The frames change a bit. If i were better at drawing, i could do better :)<br><br><a href="http://www.rosscrooks.pwp.blueyonder.co.uk/Blitz/test.exe" target="_blank">http://www.rosscrooks.pwp.blueyonder.co.uk/Blitz/test.exe</a><br><br>packed with molebox, so don't open it from the downloadbox thingy :)<br><br>If you want, i can give you the demo with just the particles? No matter howmany particles there are, it doesn't really affect the pseed. What kills the above demo is the poly count nd large texture i think :) And the fill rate of course :)<br><br>Zoom in and out with the mouse button. <br><br></td></tr></table><br>
<a name="305829"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wedoe</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Simple smoke:<br><br>The image:<br><img src="http://www.blitzbasic.no/div/smoke.jpg"><br><br><pre class=code>
AppTitle "Smoke"
; Einar Wedoe, January 2002

Graphics3D 640,480,32,2
Global timer=CreateTimer(60)

Global dx#,dy#,dz#
Global number=50

Dim trail(number)
Dim x#(number)
Dim y#(number)
Dim z#(number)

AmbientLight 80,80,80							
Global camera=CreateCamera()								
CameraViewport camera,0,0,640,480					
PositionEntity camera,0,0,-150						
AntiAlias False

Global Smoke = LoadSprite("smoke.jpg")
SpriteViewMode(Smoke , 1)
PositionEntity(Smoke , 0 , -1000 , 0)
EntityBlend(Smoke,3)
EntityAlpha(Smoke,1)
EntityColor(Smoke,150,150,150)

For a#=1 To number
	trail(a)=CopyEntity(Smoke)
	x(a)=-1000
Next
;--------------------------------
Repeat
Smoke
UpdateWorld()
RenderWorld()
WaitTimer timer
If KeyDown(28) Then SaveBuffer(FrontBuffer(),"smoke.bmp") ; Screenshot on Return
Flip
Until KeyDown (1)
End
;--------------------------------
Function Smoke()
dx=dx+5
 If dx &gt; 360 Then dx=dx-360
dy=dy+5
 If dy &gt; 360 Then dy=dy-360
dz=dz-2
 If dz &lt; 0 Then dz=dz+360
  tmpx#=Sin(dx)*100
  tmpy#=Cos(dy)*100
  tmpz#=Cos(dz)*100+100
b#=number/2+5
 For a#=1 To number-1
	x(a)=x(a+1)
	y(a)=y(a+1)
	z(a)=z(a+1)
     PositionEntity (trail(a),x(a),y(a),z(a))
	 EntityAlpha(trail(a),a/number)
	 b=b-.5
	 ScaleSprite(trail(a),b,b)
 Next
x(number)=tmpx+Rnd(-2,2)
y(number)=tmpy+Rnd(-2,2)
z(number)=tmpz+Rnd(-2,2)
End Function
;---------------------------------
</pre><br><br>Looks like this:<br><img src="http://www.blitzbasic.no/div/smoke.png"> <br><br></td></tr></table><br>
<a name="305949"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >elseano</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Pretty kewl...nice coding <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
