<!DOCTYPE html><html lang="en" ><head ><title >PNG -&gt; DDS = better framerates?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >PNG -&gt; DDS = better framerates?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >PNG -&gt; DDS = better framerates?</a><br><br>
<a name="763689"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MadJack</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> My game typically uses 256x256 PNG textures, perhaps 25+ per level (including tanks/bullets etc..) and one or two 1024x1024 PNG lightmaps - it's not overly texture heavy, but I'd like to get better rendertimes. <br><br>My question is; have people found converting to dds gives better rendertimes? <br><br></td></tr></table><br>
<a name="763714"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> IMO .DDS doesn't give you any speed advantage, it just takes less VRAM. Because it's packed, decoding takes time... other formats are not packed (in VRAM) so .DDS actually may take more time. Of course HW does that decoding and the way .DDS are packed I think that in the end .DDS vs Others are just as fast. But IMO definitely .DDSs are not faster? <br><br></td></tr></table><br>
<a name="763751"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >t3K|Mac</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> i think its faster (but only on older machines). uploading times to vram is shorter and if your game exceeds the amount of available vram, stuttering will be less, cause less data has to be copied from ram to vram. at least you are able to run your game on lower end graphics cards with low vram available (not too low end of course). i'd go for dds -  take your 256 textures, make them 512, use dds and voila: your game looks even better and uses the same or less amount of ram. just my 2 cents. <br><br></td></tr></table><br>
<a name="763852"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you're putting more textures in VRam than the card has VRam in which to put them then you'd be better off fixing that problem than optimizing the bad effect it has. Any time you're sending textures across the AGP pipe in realtime you're getting a massive slowdown that you really don't need. <br><br></td></tr></table><br>
<a name="764011"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MadJack</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the replies all.<br><br>Ok, so it seems that DDS is not intrinsically faster - except where VRAM usage is high/excessive. At this point I'll probably stick with PNG as I have a feeling I could do a lot of work converting everything to DDS and not getting much of a speed inc. <br><br></td></tr></table><br>
<a name="764019"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Loading speed is better. The time ratio may be compared with the filesize ratio.<br><br>Distro ZIP Filesize will be much smaller. A good reason to use it. And masked DDS is looking much better than masked bmp,png etc.<br><br>Some people enthousiasticly reported faster rendering with DDS, but it was always some kind of "is it only me, or does this run faster??".<br><br>It won't take you much time if you write a little patching tool that will replace the texture paths in mesh files, corresponding to the dds files found in a certain folder, eg:<br>If texturepath found in mesh = mypic.bmp<br>And if file exists: mypic.dds<br>then patch texturepath in mesh.<br><br>BTW: DirectX will not fill Vram as much as it gets, but only with the stuff that is within the inital camera range. To prevent jerkish vram-upload pauses you should "render all" before the game starts, using a camera that can "see everything". <br><br></td></tr></table><br>
<a name="764042"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MadJack</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Good tips - thanks <br><br></td></tr></table><br>
<a name="764043"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> DDS is always faster.  It takes less time to upload the texture data to the video card. <br><br></td></tr></table><br>
<a name="764047"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Was there ever a clear answer on whether or not B3D loads MipMaps from DDS textures or if it still auto-generates it's own? <br><br></td></tr></table><br>
<a name="764133"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OJay</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <b>versions.txt in blitz root folder:</b><br>...<br>The mipmap flag is ignored when loading DDS textures. Instead, if the DDS file contains mipmaps, then they are <br>loaded &amp; used.<br>...<br> <br></div><br><a href="http://www.imdb.com/title/tt0374900/quotes" target="_blank">Gosh!</a> <br><br></td></tr></table><br>
<a name="764179"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Neat. That's a nice advantage. Thanks. <br><br></td></tr></table><br>
<a name="764946"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's another thing that makes my heart jump like a monkey:<br><br>I just added a grass engine to my project. When a grass texture cannot be found, a substitute will be created at runtime, using createtexture. What should I say. From exactly the same angle, the same picture, with a lot of grass all over, gives me 9.3 frames with the created texture (flags:2+32), and 18.5 fps with the loaded alpha-masked dds texture! Since there are more meshes in the scene (grass is about 50% of the rendered tris) I guess the advantage is not only 100% but even more!<br><br>It's unbelievable and it feels good!<br><br>Still have to do some test, to make sure it's not only a daydream.<br><br>Other than that, I think I got to correct my prev. statement, DDS surprisingly really renders a lot faster. At least Alpha masked ones.<br><br>PS: How comes none knew about that. <br><br></td></tr></table><br>
<a name="765119"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MadJack</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sounds all good then! I understand the next version of Giles will have native support for DDS as well. <br><br></td></tr></table><br>
<a name="765014"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Using the DDS mipmaps certainly gives more control and a sharper image - I've managed to eliminate the seam down the centre of the SRX roads by converting my road texture to DDS and using only 5 levels of mipmapping.<br><br>Also using alpha-masked DDS textures on the fences and girders gives a much nicer distance fade effect whereas normal masked textures just flicker. Wish I'd known about DDS textures before. <br><br></td></tr></table><br>
<a name="765017"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >t3K|Mac</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> in four words: we all love dds ;) <br><br></td></tr></table><br>
<a name="765027"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have to agree with you Vorderman. Maybe the higher speed of alpha masked dds is due to the mipmapping - probably normal alpha textures are flickering in the distance because they don't use Mipmapping at all?<br><br>I am currently using a trick provided by Fredborg if I recall correctly: before exporting the alpha masked texture as DDS I clone the texture as a new layer, then I gaussian blur it and set its transparency to 1%, this prevents the fade-to-white outlines artefacts seen with masked and alpha dds.<br><br>So once again: Thanks to Tom for the DDS module, and thanks to Mark for adding it to the runtime dll. <br><br></td></tr></table><br>
<a name="765029"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> The problem I had with normal masked textures was that the mipmapping very quickly removed fine lines and so the entire texture became transparent, meaning items with thin lines (such as girders and fences) disappear very close in front of the camera. Turning mipmapping off just makes a flickery mess.<br><br>With an alpha masked DDS the effect is excellent - smoothly alphaed and it fades nicely as the camera moves away. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
