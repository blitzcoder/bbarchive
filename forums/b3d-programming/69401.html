<!DOCTYPE html><html lang="en" ><head ><title >Linepick collision</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Linepick collision</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Linepick collision</a><br><br>
<a name="776331"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> ..I would like to see some nice example of use Linepick for collisions with terrain or mesh level geometry since I am not understanding exactly this linepick thingy regarding parameters I have to provide for this command...anyone can post some nice example code with explanation regarding Linepick's parameters actually.. <br><br></td></tr></table><br>
<a name="776364"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well it's quite straightforward really. <br><br>The first set of params specifiy the starting point of the line pick and it's important to note that the second set are the vector to the end point, not the end point itself.<br><br>e.g. <br><br>LinePick 0,-10, -50  , 0,100,60<br><br>Will check picks between a line from 0,-10,-50 to 0,90,10.<br><br>Stevie <br><br></td></tr></table><br>
<a name="776379"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Moraldi</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> There is another example (with pseudo code):<br><pre class=code>
If meshmodel moves front
 LinePick(EntityX(meshmodel), EntityY(meshmodel), EntityZ(meshmodel)+dz
if meshmodel moves back
 LinePick(EntityX(meshmodel), EntityY(meshmodel), EntityZ(meshmodel)-dz
if PickedNY(() &lt; 0.85 then StopMeshModel()
.
.
.
etc
</pre><br>You can experiment with 0.85 and dz<br>I use the same method on my <a href="http://www.moraldigames.com/Xplorer/Xplorer.zip" target="_blank"> Xplorer </a> game I am working on. Take a look it works great <br><br></td></tr></table><br>
<a name="776731"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Moraldi, I think your codes lines got clipped. Try again. <br><br></td></tr></table><br>
<a name="776868"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Moraldi</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> No, not clipped, I was just very harry<br><pre class=code>
If meshmodel moves front
 LinePick(EntityX(meshmodel), EntityY(meshmodel), EntityZ(meshmodel)+dz
Endif
if meshmodel moves back
 LinePick(EntityX(meshmodel), EntityY(meshmodel), EntityZ(meshmodel)-dz
endif
if PickedNY(() &lt; 0.85 then StopMeshModel()
.
.
.
etc
</pre><br>Now its correct and more clear <br><br></td></tr></table><br>
<a name="776913"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Moraldi,<br><br>As John is pointing out, your LinePicks don't have a pick direction vector so will give you an error on compile.<br><br>Stevie <br><br></td></tr></table><br>
<a name="776938"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Moraldi</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh guys, I am very sorry (I am laughing with my self, here in Greece we say that when a man makes the same mistake for a second time then he is not a wise man...). Here we are:<br><pre class=code>
If meshmodel is onground

  maxradius = Max(meshmodel_collision_xradius, meshmodel_collision_yradius)
  If meshmodel moves front
   LinePick(EntityX(meshmodel), EntityY(meshmodel), EntityZ(meshmodel)+dz, 0, -2*MeshHeight(meshmodel), 0, maxradius)
  Endif
  if meshmodel moves back
   LinePick(EntityX(meshmodel), EntityY(meshmodel), EntityZ(meshmodel)-dz, 0, -2*MeshHeight(meshmodel), 0, maxradius)
  endif
if PickedNY(() &lt; 0.85 then StopMeshModel()

endif
.
.
.
etc
</pre><br><br>No comments... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
