<!DOCTYPE html><html lang="en" ><head ><title >Camera EntityInView help...</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Camera EntityInView help...</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Camera EntityInView help...</a><br><br>
<a name="966930"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlagDKT</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> In the game I'm working, I have 4-5 characters on the screen at the same time.<br><br>I need to know at runtime at what distance, camera have to be positioned to have all the characters inside cameraview with a cameraZoom of 1.7<br><br>I think I have to use camera projection/perspective matrix but I don't know how to do it...<br><br>...anyone? <br><br></td></tr></table><br>
<a name="967067"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, the math required for that is out of my league, but for starters you could try to find out the averaged center for all those models. Compute the average position for the characters in relation to eachother, and then average those points and you'll find out the center for all the characters. Having the camera pointing that center is a start.<br><br>From then on you can start to move the camera on the negative Z axis (so it goes backward) by certain increments, and checking every iteration to see if all the models are visible. When they are all visible, you know you got a good distance. <br><br>Also, projecting their coordinates onto the screenspace (using <a href="/b3ddocs/command.php?name=CameraProject" target="_blank">CameraProject</a>) and seeing the distance of those projected points in relation to the screen's extremities will also tell you if they are well distributed on screen.<br><br>It's a way to do it, but far from a mathematical precise algorithm. <br><br></td></tr></table><br>
<a name="967089"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Charrua</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi<br><br>with a zoom of 1.7 you see aprox 1.2 units for each 1 unit of distance<br>so you have to put your camera at a distance of : SizeOfObjectToSee/1.2 if you want to see it completelly<br>(1.2 is an aproximation the coorect number is 1.17... derived from the formula Zoom=1/Tan(FOV/2) where FOV is Field Of View, in your case you are using a FOV of 60 degrees)<br><br>but that formula alone doesn't help too much, you first has to know the size of a sphere? that surrounds all your players (kryzon way is better than mine i think) and then use the diameter of the sphere to calc the distance of the camera. The center of the sphere should be in the center of all the characters as keyzon say.<br><br>hope that help<br><br>Juan <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
