<!DOCTYPE html><html lang="en" ><head ><title >How to stop Mp3 being converted to wav?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >How to stop Mp3 being converted to wav?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >How to stop Mp3 being converted to wav?</a><br><br>
<a name="946584"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Crinkle</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> When i load an mp3 into blitz3d, the program memory jumps in a manner that only means the program has taken the mp3 file i've asked it to load, and making it a WAV file, which takes up about 1 MB per second. Does anyone know how to stop this? <br><br></td></tr></table><br>
<a name="946590"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ginger Tea</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> 1mb per second?<br>i doubt that, 10mb per minute ive found for cd quality wav's<br><br>blitz due to mp3 licencing no longer officially supports mp3's perhaps try ogg's instead<br><br>i guess instead of streaming (which im guessing it would if it was built into b3D) whatever lib you are calling has to convert it on the fly into ram or a temp file<br>if it was a wav already, granted it would take your game to huge file sizes, i doubt youd find any slowdowns<br><br>in short<br>use ogg <br><br></td></tr></table><br>
<a name="946610"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Crinkle</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Converting to OGG seemed to help a lot, and yes it was 1MB per second also. The trouble is, that playing using the "playmusic(file$) command often leads to very choppy playback! <br><br></td></tr></table><br>
<a name="946611"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ginger Tea</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> odd for the file size as i record annecdotes and my bass at cd quality and get 10mb aprox per minute <br><br></td></tr></table><br>
<a name="946613"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Abrexxes</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you LOAD a musicfile it is converet to PCM Audio, a pc can not play back mp3,ogg, wav or what ever. The playback buffer must contain  PCM datas. That is not a problem of blitz but how a pc work inside.<br><br><a href="http://en.wikipedia.org/wiki/Pulse-code_modulation" target="_blank">http://en.wikipedia.org/wiki/Pulse-code_modulation</a><br><br>Thats the difference Samples/Streams. A stream only use a buffer of 30-50ms to convert in realtime. ;)<br><br>bye <br><br></td></tr></table><br>
<a name="946737"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Crinkle</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> SO is there no way to have background ambience tracks in my program (that are about 4/5 minutes long) without my program memory usage jumping up from 30 to nearly 100Mb? <br><br></td></tr></table><br>
<a name="946740"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LineOf7s</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Out of interest, what commands are you using?<br><br>I get the sneaky suspicion you're using <i>LoadSound()</i> when you should really be using <i>PlayMusic()</i>.  Check out the difference in the docs/helpfile. <br><br></td></tr></table><br>
<a name="946743"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Crinkle</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> the trouble with playmusic() is that it doesn't loop the sound, which is something i really need the sound to do. <br><br></td></tr></table><br>
<a name="946790"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you tried lowering the bitrate? <br><br></td></tr></table><br>
<a name="946794"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Crinkle</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just used ogg file format and that seems to work pretty well. I made a little counter that compares the time played to the millisecs() variable also, to make the file "loop". <br><br></td></tr></table><br>
<a name="946809"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LineOf7s</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> the trouble with playmusic() is that it doesn't loop the sound, which is something i really need the sound to do. <br></div><br>You're right.<br><br>Which is why one tends to do something like the following:<br><pre class=code>
Global channelHandle
Global musicFileName$ = "\Path\To\musicfile.ogg"

;During initialisation of the level or whatever (when you want the music to start)
channelHandle = PlayMusic(musicFileName$)  ; Start the music playing

;#### In Main Loop ####
If Not ChannelPlaying(channelHandle) then PlayMusic(musicFileName$)  ; Play the music again if it's not already playing
;#### End Main Loop ####
</pre><br><br>Hope that helps. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
