<!DOCTYPE html><html lang="en" ><head ><title >Any ideas on this code??</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Any ideas on this code??</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Any ideas on this code??</a><br><br>
<a name="336192"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Spec</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, I have bought the package WorldSpin to create terrains etc, I have done a test terrain and exported it to BLitz but when I run it on my 30 day trial version of Blitz I get an error message saying illegal memory address??<br><br>Any ideas?<br><br>Heres the code:<br><br>; ******************************<br>;    Sourcecode created with WorldSpin<br>;    Last Change: 11 Mar 2004  00:51:45<br>; ******************************<br> <br>Graphics3D 800,600,16,1 ; ScreenResolution and ColorDepth<br>SetBuffer BackBuffer()<br>HidePointer<br> <br>Global Cam,dt#,DeltaT#,Terrain,Waterplane, Waterplane2,WaterMove,Cloudplane,Cloudplane2<br>Const CAM_TYPE=1<br> <br>Type Entity ;Type to hold your objects/lights/sprites<br>	Field Entity_ID<br>	Field Entity_Name$<br>	Field Entity_Type<br>	Field Spriteplane<br>End Type<br> <br>Type Sprite ;Type to hold your spriteimages<br>	Field Holder<br>End Type<br> <br>; setup camera and fog<br>Cam=CreateCamera()<br>CameraRange Cam,1,4000<br>CameraFogMode Cam,1<br>CameraFogRange Cam,1000,3000<br>CameraClsColor Cam,0,144,211<br>CameraFogColor Cam,0,144,211<br>EntityType Cam,CAM_TYPE<br>EntityRadius Cam,1.8<br>PositionEntity Cam,2304,312,1223<br>AmbientLight 255,255,255<br> <br>CreateTerrainscape()<br>CreateWaterplane()<br>CreateCloudplane()<br> <br>; ####### Main Loop #######<br>Repeat<br><br>;coding on time for equal FPS <br>If dt=0 Then dt=MilliSecs() ;multiply all movements with DeltaT<br>DeltaT=(MilliSecs()-dt)/1000<br>dt=MilliSecs()<br> <br>;basicmovement <br>If KeyDown(200)=True Then MoveEntity Cam,0,0,300*DeltaT ; Up<br>If KeyDown(208)=True Then MoveEntity Cam,0,0,-300*DeltaT ; Down<br>If KeyDown(205)=True Then MoveEntity Cam,300*DeltaT,0,0 ; Right (Sidestep)<br>If KeyDown(203)=True Then MoveEntity Cam,-300*DeltaT,0,0 ; Left (Sidestep)<br>If KeyDown(76)=True Then TurnEntity Cam,-EntityPitch#(Cam),0,-EntityRoll#(Cam) ; center look<br> <br>; mouse look if right mousebutton is down<br>If MouseDown(2)=True<br>	Mx#=Mx#*.9+MouseXSpeed()<br>	My#=My#*.9+MouseYSpeed()<br> <br>	If Pressed=0<br>		If Mx#&gt;20 Then Mx#=20<br>		If My#&gt;20 Then My#=20<br>		Pressed=1<br>	EndIf<br> <br>	MoveMouse GraphicsWidth()/2,GraphicsHeight()/2<br>	TurnEntity Cam,+(My#*2)*DeltaT,-(Mx#*2)*DeltaT,0<br>	Roll#=EntityRoll#(Cam)<br>	If Roll#&lt;&gt;0 Then TurnEntity Cam,0,0,-Roll#<br> <br>	; Restriction looking up<br>	Pitch#=EntityPitch#(Cam)<br>		If Pitch#&gt;50<br>		Pitch#=Pitch#-50<br>		TurnEntity Cam,-Pitch#*DeltaT,0,0<br>	EndIf <br> <br>	; Restriction looking down<br>	If Pitch#&lt;-75<br>		Pitch#=Pitch#+75<br>		TurnEntity Cam,-Pitch#*DeltaT,0,0<br>	EndIf<br>	FlushMouse<br>End If<br> <br>; collision with the terrain<br>X#=EntityX#(Cam)<br>Y#=EntityY#(Cam)<br>Z#=EntityZ#(Cam)<br>Terra_Y#=TerrainY#(Terrain,X#,Y#,Z#)+40<br>PositionEntity Cam,X#,Terra_Y#,Z#<br> <br>;Watermovement (basic circle movement)<br>WaterMove=WaterMove+1<br>If WaterMove&gt;=360 Then WaterMove=0<br>PositionEntity Waterplane,Sin(WaterMove)*40,150,Cos(WaterMove)*40<br>PositionEntity Waterplane2,Sin(Watermove)*40,150,Cos(WaterMove)*40<br> <br>; Cloudplanemovement<br>MoveEntity Cloudplane,50*DeltaT,0,50*DeltaT<br>MoveEntity Cloudplane2,100*DeltaT,0,100*DeltaT<br> <br>UpdateWorld()<br>RenderWorld()<br> <br>; insert any 2Dactions here<br> <br>Flip<br>Until KeyHit(1)=True<br>End<br> <br> <br>Function CreateTerrainscape()<br>; setup terrain<br>Terrain=LoadTerrain("C:\Program Files\Guildhall Leisure\Worldspin\Heightmaps\heightmap_256.bmp")<br>ScaleEntity Terrain,20,400,20<br>TerrainDetail Terrain,2000,0<br> <br>; texture terrain <br>Tmap=LoadTexture("C:\Program Files\Guildhall Leisure\Worldspin\Textures\dirt.jpg",9)<br>ScaleTexture Tmap,20,20<br>TextureBlend Tmap,2<br>EntityTexture Terrain,Tmap,0,1<br>FreeTexture Tmap<br> <br> <br>End Function<br> <br>Function CreateWaterplane()<br>Wmap=LoadTexture("Textures\WATER.jpg",11) <br>ScaleTexture Wmap,100,100<br>Waterplane=CreatePlane()<br>EntityTexture Waterplane,Wmap<br>EntityBlend Waterplane,1<br>EntityAlpha Waterplane,1.000000<br>PositionEntity Waterplane,0,150,0<br>Waterplane2=CopyEntity(Waterplane)<br>PositionEntity Waterplane2,0,150,0<br>RotateEntity Waterplane2,0,0,180<br>FreeTexture Wmap<br>End Function<br> <br> <br>Function CreateCloudplane()<br>Cmap=LoadTexture("C:\Program Files\Guildhall Leisure\Worldspin\Textures\cloud.bmp",3)<br>ScaleTexture Cmap,2000,2000<br>Cloudplane=CreatePlane()<br>EntityTexture Cloudplane,Cmap<br>RotateEntity Cloudplane,0,0,180<br>EntityAlpha Cloudplane,0.900000<br>PositionEntity Cloudplane,0,1100,0<br>Cloudplane2=CreatePlane()<br>EntityTexture Cloudplane2,Cmap<br>RotateEntity Cloudplane2,0,0,180<br>EntityAlpha Cloudplane2,0.900000+0.2<br>PositionEntity Cloudplane2,1000,1100-90,500<br>FreeTexture Cmap<br>End Function <br><br></td></tr></table><br>
<a name="336194"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can't see anything thats obviously wrong, other than you're using absolute paths to load textures and stuff.  You really should use relative paths only, eg, put all your textures into the same folder as your .bb source, and just do stuff like:<br><pre class=code>Cmap=LoadTexture("cloud.bmp",3)</pre> <br><br></td></tr></table><br>
<a name="336195"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Spec</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> The program Worldspin creates this sorce code for you. Just wanted to see it demo so left the textures where they are for now but still doesnt work :( <br><br></td></tr></table><br>
<a name="336198"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> In that case, switch Debug on, and run it again.  You'll likely get an error telling you that an image or texture or something doesn't exist... <br><br></td></tr></table><br>
<a name="336199"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just tried it - the code works - are you sure you are correctly pathing to the external files? <br><br></td></tr></table><br>
<a name="336208"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Spec</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> oooops!<br><br>Worldspin made an error for the texture waterplan!! :)<br><br>Sorted thanks :)) <br><br></td></tr></table><br>
<a name="336246"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zethrax</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I notice there's a few JPEG image files being called in that code. Last time I used the Blitz3D demo I think it only supported '.bmp' image files.<br><br>You are probably using a more up to date version of the demo but, if not, then that would cause the problem you're describing. <br><br></td></tr></table><br>
<a name="336356"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rogue Vector</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I used WorldSpin before moving on to Quill 3D, which is a much better world editor.<br><br>If you 'export as code' in WorldSpin, you will find errors in the syntax.<br><br>I always found errors in the .DATA statements.<br><br>The bottom line is that it's not Blitz3D, it's the code generated by Worldspin.<br><br>Regards,<br><br>Rogue Vector <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
