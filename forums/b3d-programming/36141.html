<!DOCTYPE html><html lang="en" ><head ><title >2d Waypoint animation?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >2d Waypoint animation?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >2d Waypoint animation?</a><br><br>
<a name="395098"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Craig H. Nisbet</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Anyone have any good code for doing waypoint animation in 2D?  I'm not refering to pathfinding, I've got code for that.  I need some code that will take a 2d sprite and  animate it along a path that is predefined.  This could be a spline I guess or just simple linear interpelation.  Any ideas? <br><br></td></tr></table><br>
<a name="395135"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MSW</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> have a look at the plethora of example code concerning things like "heat seeking missles" or calculateing vectors...<br><br>A real simple approch is something like this:<br><br>CurrentX and CurrentY store the current 2D cords<br><br>VectorX and VectorY store the vector...this is added to CurrentX and CurrentY to move it<br><br>TargetX and TargetY store the 2D cords of the waypoint...<br><br>basicly to find the vector you do this:<br><br>VectorX = TargetX - CurrentX<br>VectorY = TargetY - CurrentY<br><br>you can then find the length of this vector (the distance) like so<br><br>vectorlength = SQR( VectorX * VectorX + VectorY * VectorY )<br><br>Then you can check to see if the vectorlength is larger then the max speed you wish the object to travel<br><br>If vectorlength &gt; maxspeed Then<br>  scalefactor = maxspeed / vectorlength<br>   VectorX = VectorX * scalefactor<br>   VectorY = VectorY * scalefactor<br>End If<br><br>Then just move the object by adding the vector<br><br>CurrentX = CurrentX + VectorX<br>CurrentY = CurrentY + VectorY<br><br>Some other ways to do this for different effects:<br><br>An effect simular to moveing the camera in a RTS type game, or a speed independant way of moveing the object to the waypoint (further it is the faster it moves, closer the slower) done each update in which you need to move the object:<br><br>CurrentX = CurrentX + ((TargetX - CurrentX) * .09)<br>CurrentY = CurrentY + ((TargetY - CurrentY) * .09)<br><br><br>Another simular effect is the little "options" often found following the players space ship around in games like R-Type:<br><br>VectorX = VectorX + ((TargetX - CurrentX) * .1)<br>VectorY = VectorY + ((TargetY - CurrentY) * .1)<br> <br>CurrentX = CurrentX + VectorX<br>CurrentY = CurrentY + VectorY<br><br>either way you can change the floating point value to something between 1 and 0 inorder to scale the speed up/down...the second example sorta gives the illusion of inertia because the vector values are carried over from update to update...<br><br>Hope this helps :) <br><br></td></tr></table><br>
<a name="395301"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Craig H. Nisbet</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow, I'll give this a try.  Thanks! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
