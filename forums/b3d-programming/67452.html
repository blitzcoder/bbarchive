<!DOCTYPE html><html lang="en" ><head ><title >specular highlight on a road - can it be done?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >specular highlight on a road - can it be done?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >specular highlight on a road - can it be done?</a><br><br>
<a name="753342"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I want to get a nice specular map effect on a road surface, but I can't find any way to do it, and all the forum search results are out of date with no accessible examples.<br><br>Like this :<br><img src="http://www.armchairempire.com/images/Reviews/xbox-360/need-for-speed-most-wanted/need-for-speed-most-wanted-3.jpg"><br><br>HAs anyone managed this sort of thing? <br><br></td></tr></table><br>
<a name="753346"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> That looks bump mapped to me. Not sure you could achieve that effect fully in B3D. Not sure, TBH.<br><br>Doesn't a regular spec map applied to the road mesh cut it, then?<br><br>[edit]I mean, a sphere map. <br><br></td></tr></table><br>
<a name="753353"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's very easy to do... Take a look here: <a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=1928" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=1928</a><br><br>You can also use a reflection map (instead of a light) for defining  the specular effect. That way you can have street and car lights reflecting in the street. <br><br></td></tr></table><br>
<a name="753361"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's about time "fredborg" handed over his hard-drive.<br><br>I quite like 'LightColor light,100,100,0' - has a kind of warmth to it. <br><br></td></tr></table><br>
<a name="753392"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> fredborg - thanks very much for that code, it ALMOST works - screenie below - <br><br><img src="http://www.jameskett.dsl.pipex.com/specular_test_A.jpg"><br><br>BUT there are 2 problems - <br><br>1. it needs quite a lot of polys in the road for the specular shine to work smoothly <br><br>2. it requires a point light - this is my major problem - my gameworld is lit by a directional which reduces this effect to a very tight and faint specular shine, so tight in fact it looks like a flash of light as you pan the camera around. I've tried (in the screenie above) to use a pointlight and move it with the camera, but the hills receive odd secondary lighting from it as they pass by, and of course with a directional and a point light everything is lit strangely and twice as brightly in places where the point light affects things.<br><br>So annoying because it almost works.<br><br>Would you be able to give me an example of the reflection map version instead? I've no idea what sort of refmap would produce this specular effect. <br><br></td></tr></table><br>
<a name="753400"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nexus6</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Fantastic effect, but I would also be interested in the reflection map approach that you mention. <br><br></td></tr></table><br>
<a name="753401"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pinete</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Vorderman, it's amazing, I hope you all the success! I'm not advanced coder as Fredborg, I cannot help you.. just to say go for it.<br>:)<br><br>regards! <br><br></td></tr></table><br>
<a name="753402"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oooh, what game is that, Vorderman? A Blitz version of Ridge Racer? :) <br><br></td></tr></table><br>
<a name="753403"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >D4NM4N</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sweet!! that lambo would look the biz with a sph/cubemap on it :) <br><br></td></tr></table><br>
<a name="753408"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's a sort of Need For Speed (the original) but with lots more traffic, tokamak crashes, and best of all - motorbikes!<br>The road engine recycles parts of the road as the player progresses, so the road can be infinitely long and as varied as the number of track bits I can be bothered to build. Got to add some tunnels and hills next to spice it up a bit.<br><br>I knew that Ducati 916 model I made ages ago would come in handy for something, and the rider is the driver model from SRX, so he's getting some re-use also...<br><br><img src="http://www.jameskett.dsl.pipex.com/screenshotA.jpg"><br><img src="http://www.jameskett.dsl.pipex.com/screenshotB.jpg"> <br><br></td></tr></table><br>
<a name="753410"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>I updated the example to show how to achieve the same thing with a reflection map... Download the zip from here: <a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=1928" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=1928</a> <br><br></td></tr></table><br>
<a name="753434"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Fredborg, with that cubemap you've supplied and a bit of editing I've got it pretty well sorted. I've toned the effect down so it's nice and sublte, but it does add quite a bit of depth to things.<br><br><img src="http://www.jameskett.dsl.pipex.com/screenshotC.jpg"> <br><br></td></tr></table><br>
<a name="753456"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matthew Smith</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Terrific stuff! <br><br></td></tr></table><br>
<a name="753505"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I forgot the effect the alpha would have, so I've added that back in and now it's working even better - <br><img src="http://www.jameskett.dsl.pipex.com/screenshotD.jpg"> <br><br></td></tr></table><br>
<a name="753507"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> slurp!!!!!!!!!!!!!!!!!!!!!!!!!!!!! <br><br></td></tr></table><br>
<a name="753517"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow! When? <br><br></td></tr></table><br>
<a name="753572"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bytecode77</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> cant wait to play it :D <br><br></td></tr></table><br>
<a name="753599"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> "Carol" considering we seem to helping you to program this game, how about handing over full source and media?<br><br>Seems fair to me.  Plus, I'd like to check to see what other code of mine might be in there.<br><br>Email in sig. <br><br></td></tr></table><br>
<a name="753603"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> The entire source code to my game is an fact composed of stuff that you've written Puki.<br><br>However rather inconsiderately you hadn't written it to my exact specification, so I had to make slight modifications which took up my valuable time, so I'll be sending you a bill shortly to cover my costs.<br><br>Next time, please make sure all your code is up to scratch, will you?<br><br>Ta<br>:) <br><br></td></tr></table><br>
<a name="753702"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nexus6</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> @ Fredborg, thanks for sharing, thats a really simple but effective effect.<br>@ Vorderman, that looks really good, I presume that your roads are quite high polly to maintain a good effect. I dont presume to fully understand the above code but, did you have to create a duplicate road mesh to get the specular highlight to work? <br><br></td></tr></table><br>
<a name="753731"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> The road mesh for the main visual tarmac is very low poly - one huge rectanglular poly the width of the tarmac, and twice as long.<br><br>For the specular effect yes you need a higher poly mesh because Blitz's specularity works on a poly basis, so to avoid really sharp jagged specular edges you need more polys to break it up. I'm using an overlaid mesh just above the tarmac that is 4x8 polys per single tarmac poly. Any lower res and the specular highlight breaks up badly.<br><br>Just added the first tunnel - it's quite un-nerving blatting through the curves not able to see past the walls - <br><img src="http://www.jameskett.dsl.pipex.com/screenshot1.jpg"><br><img src="http://www.jameskett.dsl.pipex.com/screenshot4.jpg"> <br><br></td></tr></table><br>
<a name="753809"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Speed ~39... not "top gear" exactly? :) <br><br>BTW, I'd change those tunnel lights to more yellow-green shade, that would be more "realistic" imo. Quick googling shows some quite reddish ones too, but I still think that yours are too red. <br><br>Otherwise nice job overall, like the "Coastal pacific" look of the road. Alright, I'll have nag about the shadows too, they are way too dark and sharp edged and the lambo's lighting in the screenshot doesn't quite match the very sunny and ambient environment. <br><br></td></tr></table><br>
<a name="753812"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the comments.<br><br>The tunnel lighting is based from a reference pic I found that I quite liked ( <a href="http://flickr.com/photos/risumiru/113708255/" target="_blank">http://flickr.com/photos/risumiru/113708255/</a> ) , so I'm not too worried about the colours at the moment. I want to avoid that "yellow/brown" look that most games seem to be developing (see the NFS Most Wanted screen right at the top of this thread).<br><br>re. 39 - well, it's not in mph, just in some unit I invented, so 39 is reasonably quick. Currently the bike will do about 70 flat out. I just need to add a proper speedo and calibrate it right.<br><br>The shadow of the bike is a polygon shadow, so it will be angular - I might swap to a single quad with a texture on it perhaps, to get smooth soft edges.<br><br>As far as the Lambo's lighting goes, in that screenshot I was testing the specular effect, so there was a point light as well as the main directional, which is why it looks a little odd. I'm back to one directional now so it looks accurate again. <br><br></td></tr></table><br>
<a name="753860"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Awesome work! :) <br><br></td></tr></table><br>
<a name="753882"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cheers, I always find it difficult to maintain any sort of momentum in these projects, but this one is holding my attention better than even SRX, but we'll see... :) <br><br></td></tr></table><br>
<a name="760984"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pinete</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi all,<br>First of all, congratulations for your game vorderman, great!<br><br>I've been following this post.. and as far as I can remember, vorderman included a specular function that worked depending on the light position, I guess was a modification of Fredborg..<br>Could you please point me where can I find that function and media? I would like to implement for the floors..<br><br>Thanks a lot! <br><br></td></tr></table><br>
<a name="760994"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> fredborg	(Posted 1 month ago)<br>Hi,<br><br>I updated the example to show how to achieve the same thing with a reflection map... Download the zip from here: <br><br>www.blitzbasic.com/codearcs/codearcs.php?code=1928 <br><br></td></tr></table><br>
<a name="761046"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pinete</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you very much Mustang!<br>It seems is this version! :)<br><br>best regards! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
