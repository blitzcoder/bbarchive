<!DOCTYPE html><html lang="en" ><head ><title >Loading a texture with a texture</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Loading a texture with a texture</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Loading a texture with a texture</a><br><br>
<a name="260201"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PaulJG</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I want to add details to my terrain that are gonna change every frame update. (cloud shadows, object shadow movement etc..)<br><br>The way I'm gonna do this is to alter the top texture layer, (which is also used as a light map, and stretched across the top of the terrain), so I need to find the fastest way to..<br><br>1) Either have my texture already loaded, or as an image<br><br>2) Edit the data directly<br><br>3) display the texture on the object<br><br>4) reset the texture to its original image (with the lightmap).. then loop again<br><br>Now, what would be the fastest way of accessing the textures/image and doing this ?<br><br>I dont have much experience with textures and what types of memory is quickest at writing to, (and if its possible at all !) - so any advice would be very welcome.<br><br>Thanks ! <br><br></td></tr></table><br>
<a name="260701"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >semar</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> 1) Either have my texture already loaded, or as an image <br>----------&gt; global texture = loadtexture("tex.bmp",flag)<br>see loadtexture command for flag explanation (usually flag=1)<br><br><br>2) Edit the data directly <br>----------&gt; Don't know what do you mean with edit, anyway, an useful command would be:<br>setbuffer texturebuffer(texture)<br>After this command, all the graphics will be targeted on the texture image, until you set the buffer back to backbuffer().<br><br>3) display the texture on the object <br>----------&gt; Entitytexture object, texture<br><br>4) reset the texture to its original image (with the lightmap).. then loop again <br>----------&gt; Hum... CopyRect command ?<br>CopyRect src_x,src_y,src_width,src_height,dest_x,dest_y,[src_buffer],[dest_buffer]<br>You may need to load the texture into two copies of it, one will be modified, the second will be used to reset the modified image to the original one.<br><br>Hope this helps,<br>Sergio. <br><br></td></tr></table><br>
<a name="260750"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PaulJG</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> It does, thankyou. I'll give it a whirl !.<br><br>But.. would altering and copying from a texture to a texture be faster or slower than say - copying from an image (system memory) to a texture (video memory)?<br><br>Btw.. when I spoke about editing the image, I mean to add things like tyre marks and explosions directly to the lightmap. <br><br></td></tr></table><br>
<a name="260978"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Coping from System Memorey to Video Memory is extremly slow. Better copy from Texture to Texture using the Videoram resident Operations Flag<br><br>l=loadtexture("x.bmp",256)<br><br>If you don't use this Bit then the whole Texture will be moved to the Videoram, every time you edit it, even if you edit only one Pixel. So you should use this Flag and use Copyrect to reset the Hightmap. This is the fastest I know. But there are a few Videocards which don't support this Flag properly. If you want to be shure that you App works with all Cards then use the Flag 256 Compatibility Check Source from the Code Archives that I wrote some Time ago. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
