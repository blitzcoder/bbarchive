<!DOCTYPE html><html lang="en" ><head ><title >another entityvisible question</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >another entityvisible question</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >another entityvisible question</a><br><br>
<a name="847976"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >cash</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> quick question<br><br>I have a level which is a single b3d model with buidings , walls etc.<br><br>entityvisible doesnt seem to work  in this scenario.<br><br>enemies still react even if the player is completely hidden behind a wall or building. <br><br>Is it because the complete model does not obcure the views (obscurer is set).<br><br>should the buildings and walls be individually loaded and placed for this to work properly.<br><br>Does entityvisible get confused with my large entire model ? <br><br></td></tr></table><br>
<a name="847977"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you set EntityPickMode to use polygon geometry with the obscurer flag set to True? <br><br></td></tr></table><br>
<a name="847978"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you use loadanimmesh, i believe you must set each individual meshes pickmode. <br><br></td></tr></table><br>
<a name="847983"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >cash</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am using entitypickmode level,2,true<br><br>It is not an animmesh<br><br>The enemies and player are also pickable (if that is relevant for entityvisible)<br><br>basically if the player is visible the enemies can do something.<br><br>if not they do something else.<br><br>however it seems to ignore this completely and appears as if the player is visible whatever. <br><br></td></tr></table><br>
<a name="847994"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> RossC has a point.  Try doing a CountChildren on your level mesh.  Its been ages since I've done anything with BB3D but I have a feeling that a B3D model might always have at least one child (this is what you need to set as an obscurer). <br><br></td></tr></table><br>
<a name="849040"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >cash</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> okay, thanks for the info guys....however I am still having problems and beginning to figure out alternatives...unsuccessfully.  I have loaded a cube onto my level and scaled it up so it will completely obscure my player if he is behind it.  But is still doesnt stop the enemies doing what they shouldnt.  <br><br>It is not an animated mesh so I cannot find the child. <br>(As a side note if I made it an animated mesh with a single joint then my player to level collisions stopped working completely).<br><br>I must be doing something wrong but my code is so simple I cant figure out where.  For example<br><br>if entityvisible (enemy,man)=true then <br>text 10,10,"HIT"<br>else<br>text 10,10,"NOHIT"<br>endif <br><br></td></tr></table><br>
<a name="849067"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Since EntityVisible is about as slow as a linepick I would suggest to use a LinePick in the first place. You may then pick from the enemies eyes to the player, in respect of distance and direction of the enemy etc. Building must be polygonal pickable of course. <br><br></td></tr></table><br>
<a name="849077"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Linepicks are slower over a longer distance.  If you're doing hundreds of them across thousands of units then you're going to have performance problems. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
