<!DOCTYPE html><html lang="en" ><head ><title >alpha/intersect with AnimMesh</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >alpha/intersect with AnimMesh</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >alpha/intersect with AnimMesh</a><br><br>
<a name="580371"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neraj</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Neihter EntityAlpha nor MeshesInteresect are working with animated meshes for me. Is this a known issue? If yes, any other way to do these things (especially RntityAlpha)?<br><br>Thanks for your help. <br><br></td></tr></table><br>
<a name="580484"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shambler</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> For alpha you have to traverse the child meshes, ripped from my engine,<br><pre class=code>
Function Recursive_Alpha(mesh%,alpha#)
Local c%
Local count%=CountChildren(mesh%)

EntityAlpha mesh%,alpha#

If count%&gt;0
For c%=1 To count%
Recursive_Alpha(GetChild(mesh%,c%),alpha#)
Next 
EndIf

End Function 
</pre><br>No experience with meshes intersect but it may have a similar solution. <br><br></td></tr></table><br>
<a name="580622"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neraj</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for your help Shambler, its working fine with your function, hope you dont mind if i use it in my project?<br>Instead of intersecting every child i'll use a collision box, would have done that anyway i think, was more a gerneral question.<br><br>regards, Neraj <br><br></td></tr></table><br>
<a name="580650"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shambler</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>hope you dont mind if i use it in my project?<br> <br></div><br><br>You can use it, its standard stuff. <br><br></td></tr></table><br>
<a name="581306"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think the meshinteresect command will only detect the collision of the mesh, in it's unanimated pose. There's no way really of detecting collisions between animated meshes. <br><br></td></tr></table><br>
<a name="581314"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> A minor point about you function, Shambler: the "If count%&gt;0" test is redundant and can be removed because even if 'count' is zero or less, the for/next loop won't be executed. Sorry to be a pedant but I have a thing about culling unnecessary stuff from code. Old habits die hard. :) <br><br></td></tr></table><br>
<a name="581344"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I think the meshinteresect command will only detect the collision of the mesh, in it's unanimated pose. There's no way really of detecting collisions between animated meshes. <br></div><br><br>This is correct. Blitz does not keep track of vertex positions at all during skeletal animation so there is no way to know where they are and no way to do the collisions. If there was, I suspect it would be horrendously slow. <br><br></td></tr></table><br>
<a name="581357"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >t3K|Mac</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> isn't this the death of blitz3d? i mean animated characters and collisions are essential.....<br><br>do i have to create hitboxes and re-position them every animstep? ugly ugly..... lots of work. <br><br></td></tr></table><br>
<a name="581401"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Panno</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> first i think i have a solution but now iam test it with no luck <br><br>anyone a good idea<br><br>mfg panno <br><br></td></tr></table><br>
<a name="581552"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> What you could do, is parent pivots to the bones of the mesh. this should register collisions, as long as the other mesh it's colliding against isn't moving. It's it's two moving meshes, then you could do a distance check between them. <br><br></td></tr></table><br>
<a name="581559"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  isn't this the death of blitz3d? <br></div><br><br>Bit melodramatic, don't you think?<br><br><div class="quote"> i mean animated characters and collisions are essential..... <br></div><br><br>I've completed 6 games in Blitz3d without ever needing them, as have many others. So they're clearly not essential. Even big retail games rarely do real poly-poly collisions with animated meshes. It's slow and unnecessary. There are perfectly good workarounds which are almost as accurate and much faster.<br><br><div class="quote"> do i have to create hitboxes and re-position them every animstep? ugly ugly..... lots of work.  <br></div><br><br>Lots of work? It's about another 10-20 lines of code. And no, you don't even have to do that. Parent them to the bones like Ross said. Then, not only do you have collisions with animated meshes, you can even tell which part of the body has been hit and react accordingly. Many retail shooters make a big thing of this feature. <br><br></td></tr></table><br>
<a name="581751"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >t3K|Mac</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> many retail shooters use hitboxes - and i dont like that idea at all. if you play fps regularly you will notice strange behavior in hit detection sometimes. and thats really annoying (depends on the games).<br><br>but what bothers me most is the fact that you have lots of "workarounds" in bb3d.  hope blitzmax (with dx9 engine) will do better...<br><br>"lots of code": i didn't think about parenting.... with parenting its easy, you're right. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
