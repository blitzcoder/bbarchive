<!DOCTYPE html><html lang="en" ><head ><title >Question On Camera Zoom</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Question On Camera Zoom</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Question On Camera Zoom</a><br><br>
<a name="692561"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Red Ocktober</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> what i'm trying to do is give the impression of immense size by zooming in the camera... but this causes everything to slow down... especially the particles...<br><br>what am i missing... is there any way to keep the speed up when zoomed in (about 12)<br><br>thx<br><br>--Mike <br><br></td></tr></table><br>
<a name="692596"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Changing the CameraZoom changes the FoV, so you see more and render -&gt; everything slows down. Or if you reduce the FoV you'll end up rendering the particles bigger on screen and the fill rate kills the performance.<br><br>So high FoV shows so much (polygons) that it can slow down things, and low FoV can make rendering even slower because you stuff on screen gets bigger - even if you don't see more than few dozen particles, because these alone can increase the fillrate too high.<br><br>Not the best explanation but I'm sipping only my first morning cup of coffee so I'm not yet fully awake yet :) <br><br></td></tr></table><br>
<a name="692637"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think the highly zoomed particles are essentially the test called Massive Overdraw in some 3D benchmarks. It will bog down just about any graphics card. <br><br></td></tr></table><br>
<a name="692641"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Changing the CameraZoom changes the FoV, so you see more and render -&gt; everything slows down. <br></div>When you zoom in you actually see LESS, as the field of view is shorter, but the depth of field remains the same.<br><br>Even when you set CameraZoom to 12 you still won't see anything beyond the 'far' limit of the camera.<br><br>Try changing the camera 'near' limit to either 1, or 0.1 (whichever you don't currently have it set at) - remember somebody telling me years ago (xMystik?) that he had similar problems, and that was part of the solution. <br><br></td></tr></table><br>
<a name="692646"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Red Ocktober</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> thx guys...<br>Gfk... yeah, that's what i thought as well... you would see less, but i wasn't sure... lemme give the near limit thing  a shot...<br><br>--Mike <br><br></td></tr></table><br>
<a name="692658"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >boomboom</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> a good trick to show size is to not have the entire object on screen at the same time. You can see this in star wars movies etc, where the big imperial ships are often have bits cut off<br><br><img src="http://hangarbay.tripod.com/ssd1.jpg"><br><br><img src="http://starwars.wikia.com/images/thumb/5/50/Falcon-destroyer-chase.jpg/350px-Falcon-destroyer-chase.jpg"> <br><br></td></tr></table><br>
<a name="692684"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Umm... I tried to explain problems going BOTH directions with FoV/CameraZoom... CameraZoomXYZ itself doesn't tell me anything because I use the one-and-only way to do this, ie FoV routine from the cod archives. FoV I can understand, CameraZoom makes my head spin. :)<br><br>Apparently CameraZoom"verybignumber" gives you narrow FoV, and CameraZoom"almostzero" gives you wide FoV, so decrypt my morning ramblings using these values. <br><br></td></tr></table><br>
<a name="694081"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; is there any way to keep the speed up when zoomed in (about 12)<br><br>what about not zooming? instead position the camera along a line to the target, that should look exactly like zooming. <br><br></td></tr></table><br>
<a name="694106"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Red Ocktober</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> ya know... that's a great idea muk... <br><br>nice outta the box solution to a problem... i'll look at that tommorrow...<br><br>--Mike <br><br></td></tr></table><br>
<a name="694120"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi Red, i read your recent post in general discussion, and suddenly realized that camera position rather than zoom is all that is needed, so i'll credit you with the "out of the box" solution. :)<br><br>I did a little test and actually camerazoom is bad, not just because it costs the framerate but because it's technically not right anyway! <br><br>camerazoom makes things travel towards orthographic projection which, i think is wrong, in real life there is no orthographic projection, when you looks though binoculars you see what you would see if you were standing closer to the object, so all you need is the maths to position a camera from 3d point A to B then.<br><br>I wrote up a quick test actually, just to check what it is like, there's no algo there, just hard-coded values to emulate it but it gives you the impression anyway.<br><br>Maybe i'll have a go at the algo too. sounds like fun.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
;Zoom test, keys Q/A=camera zoom, W/S=camera position

Graphics3D 640,480,0,2
SetBuffer BackBuffer()

cam=CreateCamera()
light=CreateLight()
RotateEntity light,90,0,0

cube=CreateCube()
PositionEntity cube,0,0,200

While Not KeyHit(1)
 UpdateWorld
 RenderWorld

 If KeyDown(16) ;Q key
  zoom#=zoom#+0.1
  If zoom#&gt;20 Then zoom#=20
  CameraZoom cam,zoom#
 EndIf
 If KeyDown(30) ;A key
  zoom#=zoom#-0.1
  If zoom#&lt;1 Then zoom#=1
  CameraZoom cam,zoom#
 EndIf

 If KeyDown(17) ;W key
  pos#=pos#+(EntityDistance(cam,cube)/50)
  If pos#&gt;190 Then pos#=190
  PositionEntity cam,0,0,pos#
 EndIf
 If KeyDown(31) ;S key
  pos#=pos#-(EntityDistance(cam,cube)/50)
  If pos#&lt;0 Then pos#=0
  PositionEntity cam,0,0,pos#
 EndIf

 TurnEntity cube,0.4,0.2,0.3

 Text 0,0,"camera zoom="+zoom#
 Text 0,12,"camera Z mt="+EntityZ(cam)

 Flip
Wend
</textarea> <br><br></td></tr></table><br>
<a name="694145"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> what about not zooming? instead position the camera along a line to the target, that should look exactly like zooming. <br></div>Actually, it won't.  It will look like the camera is moving (because thats what its doing).<br><br>If you have a camera at point A, an object at Point C, and an object mid-way, Point B - zooming the camera you will still be able to see both of the objects.<br><br>If you move the camera close to Point C, then you WON'T see object B.<br><br>Changing the camera zoom is vastly different to just moving the camera - you're changing the camera's field of view.  Its important to understand this difference. <br><br></td></tr></table><br>
<a name="694216"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Red Ocktober</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> yeah... i just tried it...  while the concept was interesting in theory, it just didn't look right in actual practice... for a lot of the reasons that GfK mentions...<br><br>but thx anyway muk... it was a good idea, and may come in usefull for other situations...<br><br>--Mike <br><br></td></tr></table><br>
<a name="694450"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> done. no algorithm, just a camera on a pivot.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
;Camera Zoom/Position test
;WASD=camera move, left/right mouse=camera zoom, Space=zoom mode

Graphics3D 640,480,0,2
SetBuffer BackBuffer()

camerapivot=CreatePivot() ;pivot
camera=CreateCamera(camerapivot) ;camera on pivot
light=CreateLight()
RotateEntity light,90,0,0

Type cubetype
 Field hent,htex
End Type

For i=0 To 5 ;create and texture 6 cubes
 cube.cubetype=New cubetype
 cube\hent=CreateCube()
 If i=0 Then x=0 : y=0 : z=15 : r=128 : g=64 : b=64 : name$="front"
 If i=1 Then x=0 : y=0 : z=-15 : r=64 : g=128 : b=64 : name$="back"
 If i=2 Then x=15 : y=0 : z=0 : r=64 : g=64 : b=128 : name$="right"
 If i=3 Then x=-15 : y=0 : z=0 : r=64 : g=128 : b=128 : name$="left"
 If i=4 Then x=0 : y=15 : z=0 : r=128 : g=64 : b=128 : name$="upper"
 If i=5 Then x=0 : y=-15 : z=0 : r=128 : g=128 : b=64 : name$="lower"
 PositionEntity cube\hent,x,y,z
 cube\htex=CreateTexture(64,64)
 EntityTexture cube\hent,cube\htex
 SetBuffer TextureBuffer(cube\htex)
 ClsColor r,g,b : Cls : Text 12,12,name$ : Text 12,36,"cube"
 SetBuffer BackBuffer()
Next

MoveMouse 640/2,480/2 ;centre the mouse

While Not KeyHit(1) ;main loop
 UpdateWorld
 RenderWorld

 ;camera movement, using pivot
 If KeyDown(17) ;W key, forward
  MoveEntity camerapivot,0,0,0.1
 EndIf
 If KeyDown(30) ;A key, left
  MoveEntity camerapivot,-0.1,0,0
 EndIf
 If KeyDown(31) ;S key, back
  MoveEntity camerapivot,0,0,-0.1
 EndIf
 If KeyDown(32) ;D key, right
  MoveEntity camerapivot,0.1,0,0
 EndIf

 ;camera mouse look, using pivot
 lastx=msex : If lastx=0 Then lastx=MouseX() ;init lastx/lasty
 msex=MouseX() : movex=lastx-msex
 lasty=msey : If lasty=0 Then lasty=MouseY()
 msey=MouseY() : movey=msey-lasty
 camx#=camx#+Float(movey*0.5) : camy#=camy#+Float(movex*0.5)
 RotateEntity camerapivot,camx#,camy#,0

 If KeyHit(57) Then key=Not key ;Space, zoom mode toggle

 If key ;camera zoom
  camz#=0
  If MouseDown(1) Then zoom#=zoom#+0.1
  If MouseDown(2) Then zoom#=zoom#-0.1
  If zoom#&lt;1 Then zoom#=1
 EndIf

 If Not key ;camera position
  zoom#=1
  If MouseDown(1) Then camz#=camz#+0.2
  If MouseDown(2) Then camz#=camz#-0.2
  If camz#&lt;0 Then camz#=0
  ;do a simple distance collision check
  closest#=1000
  For cube=Each cubetype
   If EntityDistance(camera,cube\hent)&lt;closest#
    closest#=EntityDistance(camera,cube\hent)
   EndIf
  Next
  If closest#&lt;3 Then camz#=camz#-0.2 ;zoom back if too close
 EndIf

 PositionEntity camera,0,0,camz# ;zoom camera from pivot
 CameraZoom camera,zoom# ;normal/real zoom

 ;spin the 6 cubes
 For cube=Each cubetype
  TurnEntity cube\hent,0.4,0.3,0.2
 Next

 ;some info
 Text 0,0,"Space to toggle zoom mode, left/right mouse to zoom"
 Text 0,12,"camera zoom="+zoom#
 Text 0,24,"camera z pos="+EntityZ(camera)

 Flip
Wend
</textarea> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
