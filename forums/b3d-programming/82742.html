<!DOCTYPE html><html lang="en" ><head ><title >hiding entities in a single camera</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >hiding entities in a single camera</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >hiding entities in a single camera</a><br><br>
<a name="933353"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wigwam</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm making a multiplayer first-person shooter game- and currently you can see "inside" your own character mesh, which shouldn't happen. is there any way to hide just your own player model in your own camera, so the player will be able to see the other players but not themselves? <br><br></td></tr></table><br>
<a name="933359"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jasu</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> LAN/WAN multiplayer answer<br>- Don't draw local players mesh. Have it hidden, or better yet, don't have it at all.<br><br>Split screen multiplayer answer<br>- I think doing a separate render for each viewport should work. You can deactivate cameras with <b>cameraprojmode cam,0</b> <br><br></td></tr></table><br>
<a name="933374"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you've hidden your own mesh you may now be finding out that collisions don't work.<br><br>So create a pivot and entityparent your model to it.<br>Set up collisions etc for the pivot, and hide the model. <br><br></td></tr></table><br>
<a name="933377"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wigwam</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> it's split screen, and thanks, it worked. but as John Blackledge says, the collisions don't work. I made the entities transparent instead of hiding them, but bullets still collide with the player. I mean, the pivot solution sounds like it could work, it'll just take quite a lot of tweaking. <br><br></td></tr></table><br>
<a name="933422"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Workaround:<br><br>Do your updateworld() and collision code<br><br>Then hide player1 and camera 2, and render camera 1<br>Show player1, camera2, hide player2 and camera1 and render camera 2.<br><br>Easy :o)<br><br><pre class=code>

UpdateWorld
; Render first camera
HideEntity camera2
HideEntity player1
Renderworld
;Render second camera, hiding the second player and the first camera.
HideEntity camera1
HideEntity player2
ShowEntity player1
ShowEntity camera2
Renderworld
Flip

</pre> <br><br></td></tr></table><br>
<a name="933429"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drak</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why can't you just move the camera forward a little bit?  If it's first person the camera should be at the location of the eyes, in which case you don't see any mesh anyway. <br><br></td></tr></table><br>
<a name="933477"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Then your centre of rotation would be off with your character though. Gives you a strange effect. <br><br></td></tr></table><br>
<a name="933556"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jasu</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, I forgot about collisions. That's because I use internal 3d commands only for drawing.<br><br>In your case I'd go with Ross. I think there's the other render missing in the example? <br><br></td></tr></table><br>
<a name="933573"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, your right. Well spotted. Updated :o) <br><br></td></tr></table><br>
<a name="933581"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wigwam</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> don't worry, I've solved the first problem already- in the way Ross C mentioned in #5. my current problem is slightly different- the bullets are still colliding with the character mesh on the "way out"- I kind of need to know exactly where collisions get registered- is it every time an entity is moved, or during updateworld? <br><br></td></tr></table><br>
<a name="933591"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Only during updateworld. <br><br></td></tr></table><br>
<a name="933605"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wigwam</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> hmm, that's a problem. basically, there are three meshes involved in bullet collisions:  the pivot, that the player follows, that collides against the scenery but not with bullets; the player, that follows the pivot, and bullets collide with it; and the bullet, which are all types. I shoot bullets out of the player's centre, but they hit me as they leave me (I'm a bit of an odd shape, you see).  I can only think of two solutions- change the players so they each have thier own collision type, but this could make the collisions very complex- and involve a lot of rewriting the script- (especially as it accomodates limitless players) or produce the bullet slightly in front of me. that just causes problems for close range fire.<br><br>got a bit off topic now, but... yeah. <br><br></td></tr></table><br>
<a name="933643"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> You should allow the bullets to collide with the pivot too, not the player.        Surely, full polygon collision for the players is a bit OTT, applying a simple ellipsoid collision to the pivot should look fine in most cases. <br><br></td></tr></table><br>
<a name="933656"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could even, if you want, attach pivots to the mesh for the head, arms, torso and legs collision if you wanted slightly more accuracy, but not full polygon. Alot more work involved in that though. <br><br></td></tr></table><br>
<a name="935199"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wigwam</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've solved it now. I took all collisions off the player and did what Ross C suggested, by putting simpler meshes on top of the old ones. thanks for the help! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
