<!DOCTYPE html><html lang="en" ><head ><title >Light Range is messed up</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Light Range is messed up</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Light Range is messed up</a><br><br>
<a name="697767"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xmlspy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey, I just noticed that the light range is not like the docs say<br><div class="quote"> <br>The range of a light is how far it reaches. Everything outside the range of the light will not be affected by it.<br> <br></div><br>I have set my range to be 5, however I'm at about 20 units away from the light source and I'm still getting light.  Anyone notice it? <br><br></td></tr></table><br>
<a name="697790"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You'd better read the whole doc !<br>=&gt; "The value is very approximate, and should be experimented with for best results" <br><br></td></tr></table><br>
<a name="697799"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xmlspy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> 15 or more units away is not an "approximate"  I am using a point light. <br><br></td></tr></table><br>
<a name="697818"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> lightrange can be altered by ambientlight, as lightrange is really approximate and not really easy to view in realtime !<br>Sometimes , you 'll have vertexlightning on mesh and the light is 100 units distant, and lightrange setted to 10 .<br><br>I think, LightRange is a factor, maybe not a real distance,and  that fallof at Range distance.<br>But you're right, it's not clear. <br><br></td></tr></table><br>
<a name="697840"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> There was a discussion about lights year or two ago... the formula is such that light falloff really never goes to zero. And this is DX "problem", not Blitz3D:<br><br><div class="quote"> <br>"At least that's what it does in C++/DirectX and the Blitz Docs state..."<br><br>The Blitz docs are wrong, and Blitz's lights work just like DirectX. I know this for a fact because I researched it thouroughly when developing my shadow system after I noticed that my shadows were not matching up with the falloffs of the hardware lights which were illuminating the world.<br><br>Here are the comments in my shadow system on the whole thing about how the lights work. And this is based on information straight from Mark, and the Direct 3D docs, and asking other 3D programers on Flipcode.<br><br>; DX7 Lighting equation:<br>; Attenuation = 1.0 / (C0 + C1*D + C2*D*D)<br>;<br>; In Blitz:<br>; C0,C2 = 0. C1=1<br>;<br>; So the revised lighting equation is:<br>; A = 1.0 / D<br>;<br>; With this equation, when D=1, A=1.<br>;<br>; Now in Blitz, a light has a radius, which defines where the light BEGINS to fall off. <br>; At this radius, A will equal 1.<br>; Inside this radius, A is greater than 1, reaching infinity when D = 0.<br>; Outside this radius the light falls off exponentially.<br>;<br>; So we change the equation to read like so:<br>; A = R / D<br>;<br>; And then all we need to do once we calculate A is multiply the light's color by it, and we get the<br>; color of our vertex at a distance of D.<br>;<br>; It is interesting to note that multiplying the light's color by a factor equal to the radius will<br>; give us the same results. That means that rather than thinking about radius as a mininium radius at<br>; which the light is fullbright, you can think about the radius as a brightness mutliplier instead.<br>;<br>; However, it is more useful to consider it as the radius inside of which the light is fullbright.<br><br><br>"The value is very approximate, and should be experimented with for best results."<br><br><br>Yeah I'll say it's very approximate. It's off by like 5000 units! :-)<br><br><br><br>"There appears to be a cutoff point, above which hardware lights give a very slight performance hit"<br><br>That drop there was just caused by the fact that 1000fps means each frame takes 1ms, and 500fps means each frame takes 2ms. Not a cuttoff point. Just the fact that your millisecond timer isn't precise enough to see the difference between the first two. The second is probably like 750fps but you cna't have 1.5ms. <br> <br></div><br><br>"How do hardware lights work?"<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=25291" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=25291</a> <br><br></td></tr></table><br>
<a name="697908"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danny</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Subdividing your model can help in some cases. This won't 'fix' the range issues (as clearly pointed out in previous post) but can help create a better fall off.<br><br>If you for example have a 50 meter long corridor, subdivide it in 5 meter sections. Yes, this will add more poly's but when balanced properly often gives slightly better lighting results....<br><br>Vertex lighting is a much better option, and better control over exact ranges, etc.<br>D. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
