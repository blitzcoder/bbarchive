<!DOCTYPE html><html lang="en" ><head ><title >EntityColor</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >EntityColor</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >EntityColor</a><br><br>
<a name="378550"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK, been wondering about this one for ages so I'm finally going to ask. :)<br><br>Anyone know why the RGB params of EntityColor() are floats and not simply ints?<br><br>*grits teeth, bracing for the obvious answer* :P <br><br></td></tr></table><br>
<a name="378734"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Err... No. <br><br></td></tr></table><br>
<a name="378741"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Heh, It seems it's not just me, then. :) <br><br></td></tr></table><br>
<a name="378761"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >koekjesbaby</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> this code doesn't help at all:<br><pre class=code>Graphics3D 640,480,0,2

cam=CreateCamera()
PositionEntity(cam, 0,0,-5)
l=CreateLight()

x# = 128
f=CreateSphere()
i=CreateSphere()

PositionEntity(f, 1,0,0)
PositionEntity (i,-1,0,0)
Repeat
	EntityColor(f,x,x,x)
	EntityColor(i,Int(x),Int(x),Int(x))
	x= (x+0.01) Mod 255
	RenderWorld tween
	Text 0,0, x
	Text 0,10,Int(x)
	Flip 0

Until KeyHit(1)
End
</pre><br>so i'll guess you have to stick to integers because it's probably impossible to see the difference (even if the command uses floats)<br><br>blah <br><br></td></tr></table><br>
<a name="379345"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DJWoodgate</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> If nothing else I suppose it saves having to convert them to floats for DirectX which uses normalised floating point  color values (red#=red#/255 etc). <br><br></td></tr></table><br>
<a name="379346"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob Farley</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think I read somewhere it's for future enhancement when you get higher bit depths on colour. So the colours still work from 0-255 however, there can be more than 256 interations between these 0-255.<br><br>Of course I might just be making it up, or have dreamed it, or something... <br><br></td></tr></table><br>
<a name="379360"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's a docs error. <br><br></td></tr></table><br>
<a name="379371"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ordinarily you would never be able to see tiny differences in color.<br>But you can here, with an incredibly bright light to magnify them.<br><pre class=code>
Graphics3D 640, 480, 0, 2

cam = CreateCamera()
PositionEntity cam, 0,0,-5 

e1 = CreateSphere()
e2 = CreateSphere()

PositionEntity e1,  1,0,0
PositionEntity e2, -1,0,0 

light = CreateLight()
LightColor light, 66000, 0, 0

EntityColor e1, 0.66, 0, 0 
EntityColor e2, 0.99, 0, 0  ; 50% more than e1

RenderWorld  :  Flip 

WaitKey  :  End
</pre> <br><br></td></tr></table><br>
<a name="379553"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't think it's a docs error, as such. Unless the same error was made on every single command that works with RGB. :P<br><br>However, this:<br><br><pre class=code>
VertexColor surf,index,1.2345,0,0
.
.
.
Text 10,10,VertexRed(surf,index)
</pre><br><br>causes 1.0 to be displayed. But VertexRed() must be returning a float in order for it to be displayed with the decimal point. <br><br></td></tr></table><br>
<a name="379730"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Let me put some facts down as I know them:<br><br>B3D File format uses range 0..1. This is a float.<br>Blitz3D entities use range 0..511 this is integer.<br><br>The actual colour range you can use is 0..255, however the reason it's 512 is because you can override the ambient light value with EntityColor values above 255.<br><br>I still mantain it's a docs error and you're just getting confused with ambient light values. Floating point colour is not on in DX7! DX9 is another story. <br><br></td></tr></table><br>
<a name="379733"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's not a docs error. Just press F1 once in the official IDE to see that - what's shown in the status bar (in this case EntityColor red#,green#,blue#) is taken directly from Blitz itself. <br><br></td></tr></table><br>
<a name="379738"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DJWoodgate</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I do not think it is  a docs error.  Why?  Because if you specify 127.5 as a colour value the value stored by blitz is 0.5.  That would not happen if the argument was an integer.  Further Blitz does not restrict the value passed to 0..511. I have observed they can be anything you like positive or negative.  <br><br>Of course DX caps the actual values applied to each lit vertex to the range 0..255 *after* it has done all its lighting stuff.  Thats my understanding anyways, but heck I am no DX guru so if you know better please set me right. <br><br></td></tr></table><br>
<a name="379742"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> My example showed color values of 0.66 and 0.99 being different, and both non-zero. So we know the floating point values are being used somehow.<br><br>And about the docs, the F1 quick help shows the arguments as floats. This is determined by Blitz's internal record of the argument type. So it can't be wrong. <br><br></td></tr></table><br>
<a name="379828"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well we definately need some form of clarification from the man himself. <br><br></td></tr></table><br>
<a name="379864"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, this shows that floats are being used by Blitz. Modified example from floyd's code.<br><br>The sphere on the left is incrementing the RED colour value by 1.<br><br>The sphere on the right is incrementing the RED colour value by 0.01.<br><br>You can clearly see the sphere on the left is stepping quite a bit.<br><br><pre class=code>
Graphics3D 640, 480, 0, 2

cam = CreateCamera()
PositionEntity cam, 0,0,-5 

e1 = CreateSphere()
e2 = CreateSphere()

PositionEntity e1,  1,0,0
PositionEntity e2, -1,0,0

light = CreateLight()
LightColor light, 6000, 0, 0

Global count#=0
Global dir#=0.01

Global count1#=0
Global dir1#=0.01


While Not KeyHit(1)
	
	EntityColor e1, 1+count, 0, 0
	count=count+dir:If count&gt; 100 Or count&lt;0 Then dir=dir*-1

	EntityColor e2, Int(1+count1), 0, 0
	count1=count1+dir1:If count1&gt; 100 Or count1&lt;0 Then dir1=dir1*-1
	
	RenderWorld
	Text 0,0," red left="+(Int(1+count1))+"  red right="+(1+count)
	Flip
	Delay 20
Wend
End
</pre> <br><br></td></tr></table><br>
<a name="380165"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> WOW! This really is intriguing! <br><br></td></tr></table><br>
<a name="380171"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sarcasim there? :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
