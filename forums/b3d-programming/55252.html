<!DOCTYPE html><html lang="en" ><head ><title >surface -&gt; triangle?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >surface -&gt; triangle?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >surface -&gt; triangle?</a><br><br>
<a name="615101"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, just a quickie... how do I paint/apply certain surface/brush to certain triangle? For example I have created two textures and want to apply textures to the triangles depending how the face etc? Code archives probably has something like this already but I though if someone would have a quick answer. Also what if the triangle is multitextured, how to control that with individual triangles?<br><br><b>EntityTexture entity,texture[,frame][,index][,triangle_index]</b> would be so handy but most Blitz commands are mesh wide... I need individual triangles for targets. <br><br></td></tr></table><br>
<a name="615128"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Avon</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> So far as I know, you can't apply textures to single triangles, only surfaces.  You need a brush to do this.  I wrote a "TextureSurface" function a while back, but the code is at home.  I'll paste it in here tonight, if you are interested.<br><br>In the meantime, from memory it works something like this:<br><br><pre class=code>
mesh = LoadMesh("mesh.3ds")
texture = LoadTexture("texture.png")
brush = CreateBrush()
BrushTexture brush, texture
surface = GetSurface(mesh, 1) ; 1 = surface index, ranges from 1 to No. of surfaces in mesh
PaintSurface surface, brush
</pre> <br><br></td></tr></table><br>
<a name="615146"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> As Avon says, you can only apply textures on a per surface basis, not per triangle AFAIK.<br><br>So, the only ways I can think of to achieve what you want is to either sort all triangles into separate surfaces, or combine your textures into one large texture and UV map each tri appropriately. However, even then you'll probably have to unweld a load of tris to get the effect you want.<br><br>That's a lot of fiddling and hassle so probably isn't a practical solution. Best I can think of, though. <br><br></td></tr></table><br>
<a name="615149"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>As Avon says, you can only apply textures on a per surface basis, not per triangle AFAIK.<br> <br></div><br><br>Yup, I know that, but I want per triangle... and like you and Avon said, it's certainly possible. And here's how:<br><br><a href="http://www.blitzbasic.co.nz/codearcs/codearcs.php?code=433" target="_blank">http://www.blitzbasic.co.nz/codearcs/codearcs.php?code=433</a><br><br>I should have checked the archives more throughly in the first time... what ever you want to do, it's probably there :) <br><br></td></tr></table><br>
<a name="615155"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Avon</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow... nice find!  That TeraBit is a clever fellow. <br><br></td></tr></table><br>
<a name="615169"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice find. The code arcs are a goldmine. :)<br><br>Quick look at the code looks like he's unwelding all the tris which I 'spose is the only practical way to do it. <br><br></td></tr></table><br>
<a name="615203"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just tested it - it even works! :)<br><br>[Well so far I have not seen any code from TeraBit that would not work...] <br><br></td></tr></table><br>
<a name="615211"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> You just have to remember to re-weld all same textured triangles into a one surface, otherwise you will have one surface per triangle which could get very slow. <br><br></td></tr></table><br>
<a name="615212"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, that's what I meant when I said "sort all triangles into separate surfaces". Not a very clear way of putting it, I'll admit. :) <br><br></td></tr></table><br>
<a name="615270"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>You just have to remember to re-weld all same textured triangles into a one surface<br> <br></div><br><br>Now correct me if I'm wrong but TeraBits code does that? Check the "AddTriangle dest,vertind,vertind+1,vertind+2<br>... UpdateNormals pmesh" part. <br><br></td></tr></table><br>
<a name="615285"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes it does.  Sorry, I didn't look at the code before posting. :) <br><br></td></tr></table><br>
<a name="615937"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Something I just noticed tho is that it doesn't attempt to re-weld the vertices (altho it does weld tri's into one surface).  For that you will need this:<br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=454" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=454</a> <br><br></td></tr></table><br>
<a name="615938"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah - thanks for the heads up! I'll add that code. <br><br></td></tr></table><br>
<a name="615956"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Updated version posted here:<br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=433#comments" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=433#comments</a> <br><br></td></tr></table><br>
<a name="615962"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> :) Thanks! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
