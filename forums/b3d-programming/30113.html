<!DOCTYPE html><html lang="en" ><head ><title >Terrain or big mesh</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Terrain or big mesh</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Terrain or big mesh</a><br><br>
<a name="320306"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PeachJay</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have been messing around with a zoom-style Flight-simulation.<br><br>If I use a big terrain, it works, but I can only give it one texture.<br><br>But if I create a big mesh with different surfaces, I have trouble with the memory. <br><br>How many vertices can Biltz3d handle maximum???<br><br>I have a grid of about 2200 x 3000. I would like to zoom out so that I can see the whole terrain/grid, and then zoom at every single position and gently increase the resolution.<br>Then of course have different textures for trees, water, grass, snow, steep mountains etc.<br><br>Has anybody got an idea? <br><br></td></tr></table><br>
<a name="320466"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Directx has that 64k Vertices Maximum. Use a Terrain whenever possible since the LOD Optimation is perfect for Flight sims. that said - terrains seems to have some compatibility problems with a number of radeon Cards/drivers, see bug report, ati terrain bug thread.<br><br>Let's assume this will be solved soon - I vote for terrains, even if you need to do some tricks for the texturing. There are several things you can do: Multitexturing with soft transitions using alpha-transparency with a blended texture (eg: the higher the mountains, the more rock shines through).<br>Or, even easier:<br>Use Multiple Terrains and stretch a single Texture across each Terrain, so there is no repetition. You can combine this with a second texture (multitexturing) that will add a fine structure pattern. <br><br></td></tr></table><br>
<a name="320700"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >poopla</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Terrains are hellu slow on older systems.  But seeing as you probably arent looking to play you're game onn old systems if you're using large land areas, they could do the job. <br><br></td></tr></table><br>
<a name="321697"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PeachJay</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi JFK<br><br>"Multitexturing with soft transitions using alpha-transparency with a blended texture (eg: the higher the mountains, the more rock shines through). "<br><br>Do you mean using a brush with 3 Textures <br>1st Groundtexture<br>2nd Rocktexture<br>3rd "How much Rock" alpha - Texture <br>And then using brushblend and paintentity ???<br><br>"Or, even easier: <br>Use Multiple Terrains and stretch a single Texture across each Terrain, so there is no repetition. You can combine this with a second texture (multitexturing) that will add a fine structure pattern. "<br><br>I guess here, I just draw several Terrains over each other and use ENTITYFX terrain2,32 For Alpa-Blending ???<br><br>I hope this is what you meant. It took quite a while for me to get into Multitexturing and I'm desperately looking for some guidance. <br><br></td></tr></table><br>
<a name="321934"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> The Problem is I never tried this myself :) but I think I remember some other people did it. You can set a flag whtn you laod a texture. So set the flag 2 for Alpha. Now, if oyu load a BMP, it will simply use the pixels brightness to set its transparency: the darker, the more transparent.<br><br>But there is also the TGA format. It uses 32 Bit: RGB plus an Alpha Channel that can be edited seperatly, so you can set the transparency of each pixel completely individually.<br><br>Now you would copy the heightmap to the alpha-channel of the Rock Texture. You might need to fiddle a bit with the order of the blended textures (first normal, second alpha) to make it work.<br><br>BTW there are several Painting Apps which can deal with 32 Bit TGAs (I prefere Photoshop - not that cheap), plus there is a TGA save soucecode in the codearchives, if you want to mix a texture with a heightmap yourself. <br><br></td></tr></table><br>
<a name="322150"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PeachJay</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi jfk,<br><br>I've been playing around with the "Fonts + multi-texturing (B3D)" Turtorial in the forum.<br><br>It is real sad. I can only use one texture as an alpha map and then have an overlying texture. <br>Unfortunately I can't have a second or third overlyingtexture with alpha info.<br><br>This means, for every different Rock or Tree etc style I need a seperate Terrain with an alpha map texture(how strong should the trees look (compared to the heigt of the mountain)) and then a second terrain with small scale "black" trees but the rest of this texture has to be transperent. <br><br>Now that creates a big problem. <br>If I could only use a third overlay with the "leaves" texture, but no. I loose all the alpha transperency.<br><br>Any Ideas??? <br><br></td></tr></table><br>
<a name="322161"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think you should not use Terrains for trees. I'd use terrains only for the ground. Today I think the best solution would be to use a high number of little terrains and use them as a grid byside eachother, eg. 10*10 Terrains, and each of these Terrains uses it's own texture that is stretched across the complete terrain. SOu you would have 100 Textures, which can be highly detailed. <br><br>If I was you, I would do the following: Create a HUGE Heightmap, maybe 640*640 Pixels. Then slice it to 10*10 parts, each 64*64 Pixels and store them as heightmaps, bitmaps or whatever you like. Then write an application in Blitz which will load each heightmap and create a 512*512 pixel texture for it. Depending on height (=brightness) of each pixel it will draw parts of some textures, grass, rock, seaground, sand, mud, whatever. You can also use transitions to mix textures, and add a random factor to make it look interesting.<br><br>However, this way you can store a texture for each part of the Heightmap Grid. SInce Terrains are using LOD (Level of detail optimation), distant Terrains are automaticly reduced to a small number of Polygons and the framerate could remain pretty high, compared to the usage of meshbased big terrains. <br><br></td></tr></table><br>
<a name="322345"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PeachJay</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well to tell you the truth,<br><br>I am tying to make an overview over a real existing country.<br><br>Mark Sibly's home country New Zealand.<br><br>So I have a heightmap of about 2900 x 2100 Pixels.<br><br>Splitting everything up in little units is a very good idea.<br><br>And then calculating textures for every unit is a perfect idea.<br><br>I'll have to try that out and have a look how many MBytes of Texture I will create and if it all fits well together.<br>I must admit, I havn't really found out how to stich the terrains togehter properly.<br><br>It would have been a great deal easier just to have several big texture layers with alpha- and  texture- data. <br><br>At the moment I have the heightmap and just a big coloured terture map, that I stretch across the whole terrain. It's just color now with no texture-differences. <br><br></td></tr></table><br>
<a name="322364"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> There is another alternative.  You could generate rectangular meshes, texture them with black transparent, then conform each of the vertices of the rectangular mesh to the height of the terrain at that vertex's X and Z coordinates.  Basically it is like painting the terrain with lots of quads or with a rectangular mesh made up with a lot of quads. <br><br></td></tr></table><br>
<a name="322406"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Matty - but wouldn't that mean there wold be a very big lot of Quads? 2900*2100= about 12 Million Tris - good to see you brought us some graphiccards from the year 2020 using your timemachine ;)<br><br>2900 * 2100 is really big! Do you have a bearable framerate with that? <br><br>However, you could load this Heightmap as an image, then create the Terrain-patches manually with CreateTerrain and ModifyTerrain.<br><br>something like <br><pre class=code>
for y=0 to 2099 step 256
for x=0 to 2899 step 256

create terrain patch
for y2=0 to 255
for x2=0 to 255
set heights using pixels (x+x2,y+y2) brightness
next
next
position patch based on x and y
scale terrain patch so it fits in the grid

next
next
</pre><br><br>;Maybe you need to round up the size of 2900*2100 to numbers which can be divided trough 256<br>If you have once made this working, you can decide if this method can be used at all (speed!) I really don't know if this is going to be an overkill.<br><br>For the texture sizes you can calculate: 512*512Texels= 1 Megabyte, 256*256=250kB (well, not shure if mipmaping will require even a bit more). So 10*10 textures of 512*512 Size would require at least 128 Megabytes Videoram. YOU must decide what minimum hardware requirement makes sense. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
