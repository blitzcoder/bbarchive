<!DOCTYPE html><html lang="en" ><head ><title >Cubemapping?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Cubemapping?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Cubemapping?</a><br><br>
<a name="268094"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can someone (anyone) please explain what this cubemapping is all about and how it works/how to use it - in words of one syllable for idiots like me(!) <br><br></td></tr></table><br>
<a name="268140"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RepeatUntil</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> My computer is too old to support cubemapping. I am unable to make the demo work!<br>  So I would appreciate if, in addition, someone post a screenshot !! <br><br></td></tr></table><br>
<a name="268147"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Filax</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Include "Inc_CubeMapping.bb"<br><br>Graphics3D 640,480,16,2<br>SetBuffer BackBuffer() <br><br>; If user's graphics card does not support cubic mapping then quit example <br>If GfxDriverCaps3D()&lt;110 Then RuntimeError "Sorry, your graphics card does not support cubic environemnt maps." <br><br>cam=CreateCamera() <br>PositionEntity cam,0,10,-30 <br><br><br>light1=CreateLight(2)<br>PositionEntity light1,30,30,-30<br>LightRange light1,150<br>LightColor light1,255,255,255<br><br>light2=CreateLight(2)<br>PositionEntity light2,-30,30,30<br>LightRange light2,150<br>LightColor light2,255,255,255<br><br><br><br><br>AmbientLight 150,150,150<br><br>; Load object we will apply cubemap to - the classic teapot <br>;teapot=LoadMesh ("Teapot.3ds")<br>teapot=CreateSphere(80)<br><br>ScaleEntity teapot,5,5,5<br>PositionEntity teapot,0,9,0<br>EntityShininess teapot,1<br>EntityColor teapot,255,255,0<br><br><br>; ground <br>ground1=CreateCube()<br>PositionEntity ground1,0,0,0<br>ScaleEntity ground1,40,1,40<br><br>ground2=CreateCube()<br>PositionEntity ground2,0,0,40<br>ScaleEntity ground2,40,40,1<br><br>ground3=CreateCube()<br>PositionEntity ground3,0,0,-40<br>ScaleEntity ground3,40,40,1<br><br><br>Texture=LoadTexture ("01.bmp")<br>EntityTexture Ground1,Texture<br><br><br><br><br>; Create texture with color + cubic environment map + store in vram flags<br>size=256<br>;CreateCubeMap(64,teapot,2)<br>CreateCubeMap(size,ground2,2)<br>CreateCubeMap(size,ground3,2)<br><br><br>While Not KeyDown(1)<br><br><br>	mxs#=mxs#+(MouseXSpeed()/5.0) <br>	mys#=mys#-(MouseYSpeed()/5.0) <br><br>	RotateEntity cam,mys#,-mxs#,0<br>	<br>MoveMouse GraphicsWidth()/2,GraphicsHeight ()/2<br><br><br>	If KeyDown(200)=True Then MoveEntity cam,0,0,.3 ; move camera forward <br>	If KeyDown(208)=True Then MoveEntity cam,0,0,-.3 ; move camera back <br><br>	If KeyDown(205)=True Then MoveEntity cam,.3,0,0 ; move camera left <br>	If KeyDown(203)=True Then MoveEntity cam,-.3,0,0 ; move camera right <br><br>	TurnEntity teapot,0.2,0.2,0.2<br><br>	UpdateCubemap() <br><br>	RenderWorld <br>	Flip <br>Wend <br><br><br><br><br><br><br>THE INCLUDE TYPE LIB<br><br><br><br>; *********************************************************************<br>; * Include     : Création de cubic map					  								*<br>; * 																												*<br>; * Version    :  V1.0 Par Philippe Agnisola											*<br>; *********************************************************************<br><br>; --------------------------<br>; Type des CubeMap<br>; --------------------------<br>Type TCubeMap<br>	Field CubeCamera<br>	Field CubeTexture<br>	Field CubeEntity<br>End Type<br><br>; -------------------------------------------------------------------------------<br>; Fonction qui permet d'initialiser le cubemaping d'un objet<br>; -------------------------------------------------------------------------------<br>Function CreateCubeMap(Size,Entity,Index)<br>	Cube.TCubeMap=New TCubeMap<br>	Cube\CubeCamera=CreateCamera()<br>	Cube\CubeTexture=CreateTexture(Size,Size,1+128+256+512)<br>	Cube\CubeEntity=Entity<br><br>	EntityTexture Cube\CubeEntity,Cube\CubeTexture,0,Index<br>End Function<br><br>; ------------------------------------------------------------------------<br>; Fonction qui permet de rafraichir les cubes mapping<br>; ------------------------------------------------------------------------<br>Function UpdateCubemap() <br>	For Cube.TCubeMap=Each TCubeMap<br>		TmpTextureSize=TextureWidth(Cube\CubeTexture) <br><br>		; --------------------------------<br>		; Affichage de la camera<br>		; --------------------------------<br>		ShowEntity Cube\CubeCamera<br><br>		; ---------------------------------<br>		; On cache l'entite attache<br>		; ---------------------------------<br>		HideEntity Cube\CubeEntity<br><br>		; -------------------------------------------------------------<br>		; On positionne la camera au centre de l'objet<br>		; -------------------------------------------------------------<br>		PositionEntity Cube\CubeCamera,EntityX#(Cube\CubeEntity),EntityY#(Cube\CubeEntity),EntityZ#(Cube\CubeEntity)<br><br>		CameraClsMode Cube\CubeCamera,False,True <br><br>		; ------------------------------<br>		; Definition du viewport<br>		; ------------------------------<br>		CameraViewport Cube\CubeCamera,0,0,TmpTextureSize,TmpTextureSize <br><br>		; ------------------<br>		; Face gauche<br>		; ------------------<br>		SetCubeFace Cube\CubeTexture,0 <br>		RotateEntity Cube\CubeCamera,0,90,0 <br>		RenderWorld <br>		CopyRect 0,0,TmpTextureSize,TmpTextureSize,0,0,BackBuffer(),TextureBuffer(Cube\CubeTexture) <br><br>		; ---------------<br>		; Face avant<br>		; ---------------<br>		SetCubeFace Cube\CubeTexture,1 <br>		RotateEntity Cube\CubeCamera,0,0,0 <br>		RenderWorld <br>		CopyRect 0,0,TmpTextureSize,TmpTextureSize,0,0,BackBuffer(),TextureBuffer(Cube\CubeTexture) <br><br>		; ---------------<br>		; Face droite<br>		; ---------------<br>		SetCubeFace Cube\CubeTexture,2 <br>		RotateEntity Cube\CubeCamera,0,-90,0 <br>		RenderWorld <br>		CopyRect 0,0,TmpTextureSize,TmpTextureSize,0,0,BackBuffer(),TextureBuffer(Cube\CubeTexture) <br><br>		; -----------------<br>		; Face arriere<br>		; -----------------<br>		SetCubeFace Cube\CubeTexture,3 <br>		RotateEntity Cube\CubeCamera,0,180,0 <br>		RenderWorld <br>		CopyRect 0,0,TmpTextureSize,TmpTextureSize,0,0,BackBuffer(),TextureBuffer(Cube\CubeTexture) <br><br>		; ------------------<br>		; Face dessus<br>		; ------------------<br>		SetCubeFace Cube\CubeTexture,4 <br>		RotateEntity Cube\CubeCamera,-90,0,0 <br>		RenderWorld <br>		CopyRect 0,0,TmpTextureSize,TmpTextureSize,0,0,BackBuffer(),TextureBuffer(Cube\CubeTexture) <br><br>		; --------------------<br>		; Face dessous<br>		; --------------------<br>		SetCubeFace Cube\CubeTexture,5 <br>		RotateEntity Cube\CubeCamera,90,0,0 <br>		RenderWorld <br>		CopyRect 0,0,TmpTextureSize,TmpTextureSize,0,0,BackBuffer(),TextureBuffer(Cube\CubeTexture) <br><br>		; --------------------------<br>		; On reaffiche l'entite<br>		; --------------------------<br>		ShowEntity Cube\CubeEntity<br>		<br>		; ----------------------------<br>		; On cache la camera<br>		; ----------------------------<br>		HideEntity Cube\CubeCamera<br>	Next <br>End Function <br><br></td></tr></table><br>
<a name="268163"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cube mapping can be used to make shiny / reflective surfaces, eg: shiny spheres, water.<br><br>One way to explain it is to image a room, with 6 sides (roof,floor,and the four walls).  In the middle is a shiny ball.  If you look at the ball you can see a reflection of the walls.  <br><br>In Blitz, you would use SetCubeFace to "decorate" each of teh walls (called faces).  These faces will then be reflected in the cube mapped object, eg: the shiny teapot from the demo. <br><br></td></tr></table><br>
<a name="268171"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> "Can someone (anyone) please explain what this cubemapping is all about and how it works/how to use it - in words of one syllable for idiots like me(!)"<br><br>I'm sorry, but it's imnpossible to describe in one syllable words, but I'll try to make it simple.<br><br><br>Cube maps are used to render reflections.<br><br>Imagine you have an object that you want to be reflective.  Well you know how a skybox works?  Well a cubemap is like a skybox which is surrounding your model and projected onto it.<br><br>In other words, if you have a skybox around your character, and a cubemap with the same textures as your skybox, as you rotate around the character with the camera you would appear to see the skybox reflected in the character's body.  Cube map reflections stay oriented properly to the world unlike spherical environment maps.<br><br>Now imagine that your skybox is animated.  Well, your cubemap can be animated too.<br><br>Now imagine that you're dynamically creating a skybox in realtime from your current viewpoint as you walk around the world.  Top bottom, left right, front back... each of those you render to a texture each frame.  Six 90 degree FOV square camera viewports, each 128x128.<br><br>If you apply THAT to your model, then your model will appear to relect whatever is around them in the world wherever he goes.  It'll look just like the Terminator chrome effect if you use high res maps.  <br><br>And if you use lower res or blurred maps then you can get an effect which is more like radiosity lighting, where everything near the character affects his color via reflected light.<br><br><br>Another thing to keep in mind is that you do not have to re-render all six views erach frame.  You can choose to render only the ones you think need to be updated.  So if nobody will ever be able to see your object from below, you may be able to avoid rendering the bottom side of the cube map.  Or, you could choose to render the maps every other frame. <br><br></td></tr></table><br>
<a name="268174"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>I'm sorry, but it's imnpossible to describe in one syllable words, but I'll try to make it simple. <br> <br></div><br>That was an exaggeration, but thanks Sswift. It all sounds very good! <br><br></td></tr></table><br>
<a name="268200"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rottbott</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> So what would be the best way to go about doing, say, cube mapped water? What sort of speed hit could I expect? <br><br></td></tr></table><br>
<a name="268234"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ckob</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> i did cube mapped water and it didnt give me any slow down <br><br></td></tr></table><br>
<a name="268304"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >QuickSilva</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just saw the original cube map demo in the gallery and it says that the source code for it (the water demo one) is included in the latest update package, can anyone find it?<br><br>Jason. <br><br></td></tr></table><br>
<a name="268338"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John-Robin</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Filax,<br><br>I don't seem to get your demo working.. This is what I get;<br><br><img src="http://www.johnrobinsmith.com/example1.jpg"><br><br>Any clues?<br><br>John-Robin Smith <br><br></td></tr></table><br>
<a name="268350"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IPete2</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> John,<br><br>how much vram you got?<br><br>Try setting the Size variable to 64 or 128<br><br>IPete2. <br><br></td></tr></table><br>
<a name="268433"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John-Robin</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> IPete2&gt; Unfortunately, no big difference when I change the size variable.<br><br>Something else DOES change, when I set my screen settings from hicolor (16 bits) to truecolor (24bits)<br><br>See the image below. Still I don't think it's right either.. :(<br><br>www.johnrobinsmith.com/example2.jpg <br><br></td></tr></table><br>
<a name="268441"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> that's what I get when I run it (www.johnrobinsmith.com/example2.jpg <br>) <br><br></td></tr></table><br>
<a name="268447"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bouncer</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Only way I could get cubemapping to work was to load the texture with 256 flag... force it to Vmem. <br><br></td></tr></table><br>
<a name="268531"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John-Robin</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Bouncer&gt; tried that too, but doesn't seem to help much :( <br><br></td></tr></table><br>
<a name="268565"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IPete2</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> John,<br><br>I got an odd result too, but it wasnt what you've posted.  Hmm hopefully someone will post a cure or a reason.<br><br>IPete2. <br><br></td></tr></table><br>
<a name="269578"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >HNPhan</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> CameraClsMode camera,True,True<br><br>did u use that command for your cube map camera?<br>try using that command instead of the one mentioned in the example that comes with b3d <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
