<!DOCTYPE html><html lang="en" ><head ><title >Strange Flag 256 behavior</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Strange Flag 256 behavior</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Strange Flag 256 behavior</a><br><br>
<a name="467118"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >morduun</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've been doing some testing with a 3D GUI lib I've been working on.  It's a single-surface-per-window lib that uses Skid's 'pixie' thinking with fredborg's PickedUVW stuff to give easy rotation, scaling, alpha and all that other nice stuff.<br><br>I've run into an odd thing though.  I update the texture when gadgets and windows change, and on most rigs all things work fine.  The odd thing is that, on some rigs, using flag 256 to create the texture makes the changes to the texture invisible -- while on some rigs, NOT using flag 256 to create the texture will do the same exact thing.  I expected that =using= flag 256 might cause trouble... but I certainly didn't expect that NOT using it would!<br><br>Here's the code -- it's based in part on others' work and going to be free for use anyway so if anyone can work out why, exactly, it's doing this -- or at least how to sensibly test what flag I need to use without actually asking the user -- I'd be much obliged.)<br><br><a href="http://www.echthros.com/files/3gui.rar" target="_blank">http://www.echthros.com/files/3gui.rar</a><br><br>(PS -- even if you can't work out why this is happening, a note on your FPS would be much appreciated)<br><br>(PPS -- if you're one of the unlucky souls that require flag 256 to see anything (or just want to change it to get faster window update times), go to the WIN3_Create() routine, go to the line under 'If masked = False' and change the flags in the call to CreateTexture() from 1 to 257.)<br><br>(PPPS -- if you just want to have a play, be sure to read the readme.txt so you can see what you can do with it.) <br><br></td></tr></table><br>
<a name="467123"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Specis</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> 504fps in windowed mode the flag has to be set to 1 for me :) <br><br></td></tr></table><br>
<a name="467131"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >morduun</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> From testing in #blitzbasic and #blitzcoder, it's looking as though nVidias can't handle the 256 flag, ATIs can handle either, and certain Intel chipsets are the ones that require 256.<br><br>Thinking I may need to do a quick initialization call that creates two small textures, one with flag 1 and one with flag 256, plot a point to both and then test that point to see which flags 'work'.  Ugly but doable. <br><br></td></tr></table><br>
<a name="467149"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >morduun</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> FWIW: I've added an initialization routine that does exactly what I've described above and it seems to work consistently.  I know it seems a bit like I'm talking to myself here, but lots of folks helped in both #blitzbasic and #blitzcoder and I'd like to thank em for bearing with me as I got this sorted out.<br><br>Definitely some unusual findings -- nice to know it's the sort of thing you can work around though. <br><br></td></tr></table><br>
<a name="467186"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ezbe</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Damn, this thing's fast! =)))  Try commenting out the 'Delay 1' -line from the mainloop and run in fullscreen...  ;)<br>Edit: morduun already took it off from the new version <br><br></td></tr></table><br>
<a name="467412"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rambus</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> 1500 fps with no changes... o.O <br><br></td></tr></table><br>
<a name="467416"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rambus</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Forgot specs,  P4 3.0ghz HT, 1gig ram, Radeon 9800 pro(128meg), xp corp. <br><br></td></tr></table><br>
<a name="467494"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >morduun</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for checking it out you three -- looks like the compatibility problems are over and I can get down to coding the rest of this thing.  Got 3D cameraview gadgets working on the train tonight, and I'll probably have the rest of it done to my satisfaction before Christmas, so I'll post a new post in the showcase when it's openly available.<br><br>Thanks again to everyone for testing! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
