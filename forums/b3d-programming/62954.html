<!DOCTYPE html><html lang="en" ><head ><title >Custom Geometry</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Custom Geometry</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Custom Geometry</a><br><br>
<a name="703115"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've been slaving over how to allow the user to create unique rooms in my dungeon editor.  At first it was just square rooms, and then I changed to creating pieces of room that were assembled like Legos.  It finally hit me on the way to McDonalds (my boy is a Mario nut and had to have the new Mario toys...).<br><br>The goal is to allow custom room design where the floor is dragged out and then the walls are dragged up.  I can do that now no problem with a simple square room.  I also want the user to be able to create custom room shapes.  So here's my idea.  <br><br>A text file that contains XYZ vertice coordinates for the floor only, all plotted on a 10x10 grid where 0,0 is in the lower left hand corner.  The person would define the vertice number ie "v1" followed by the XYZ coordinate.  It might look like this:<br><br>v1:0,0,0<br>v2:0,0,10<br>v3:10,0,10<br>v4:10,0,0<br><br>Then they would follow it up with the actual way the floor looks by connecting the vertices.<br><br>connect:v1,v2,v3,v4<br><br>All the player is doing it creating a floorplan shape and then connecting the dots to give it the correct outline.  Then that script is loaded in and the flat object is made and then walls raised up.<br><br>Keep in mind this method is mainly for people who want to create a custom room but have never or never will touch a 3d modeler. <br><br></td></tr></table><br>
<a name="703131"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> souns like sketchup. Here's another approach: assuming all the vertices of the floor are located somewhere on the outline of the floor (I think that's possible with every shape) then all you have to do is create a clone of every vertex, then translate it to the ceil, then add a triangle using this vertex, it's clone and one "clockwise neighbour" vertex.<br><br>Some suggestions:<br>It would also give you much more freedom if you allow the user to deform any vertex manually, with a truely intuitive and effective interface. Plus, a triangle division tool that will split any wanted triangle in 3 triangles. Plus an edge rotation tool.<br><br>Probably I'd concentrate on primitives rather than on CSG, because CSG tends to fragment things unneccessarily. Imagine a room with 4 cylindric columns, each with 12 facettes. With CSP boolean addition they will shatter the floor and ceil in   a few hundred tris, where four simple (uncapped) cylinders in a cube would serve the same purpose and leave the floor/ceil at 4 Triangles only. <br><br></td></tr></table><br>
<a name="703135"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Here's another approach: <br> <br></div><br><br>That's exactly the approach I'm referring to.  Let the user define the floor shape.  Then make the walls by duplicating the vertices and letting the user set the wall height then connecting the floor and ceiling vertices.<br><br>The only bad aspect in that way is what if you wanna put a descending staircase in the middle of the floor or a pit trap.<br><br>So maybe some floor primitives that the user pieces together.  That will allow for holes in the floor.<br><br>I'll post a pic to show ya what I mean. <br><br></td></tr></table><br>
<a name="703144"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I could have it where the floor is always segmented in 10x10 so the user can add floor stuff later.  Well I'm in no hurry so I'm hoping a sound method will pop up soon.  I really would like to have user defined floor shapes but I'd have to do CSG-like stuff to get holes in the floor for stairs, traps etc (which I don't want to do).<br><br>One method would be a set of 2d floor primitives that snap together.  Build the room floor shape then run it thru a function where it finds all vertices that lie on the edge and just build the walls up from there.<br><br>EDIT: well another idea just hit me.  Have a bunch of preset rooms to choose from but also have it so you can create a custom room from the floor primitives.<br><br><img src="http://img.photobucket.com/albums/v146/chromaz/floors.jpg"><br><br>And the basic floor primitives:<br><img src="http://img.photobucket.com/albums/v146/chromaz/floorprim.jpg"> <br><br></td></tr></table><br>
<a name="703341"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've seen the results of editors that - as you say - split the floor into a thousand pieces, and it's laughable. Chroma, try to avoid this, I personally don't mind columns etc that sit on or pass thru the floor. <br><br></td></tr></table><br>
<a name="703346"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IPete2</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Chroma,<br><br>Although people may never have to touch a modeller you aren't going to expect people to write this floorplan textfile out by hand are you?<br><br>It wouldn't be too difficult to create a small prog with an interface to do that job.  I certainly woudn't want to make the textfile manually.<br><br>Just a thought as it was not clear in the above, just how you were going to allow users to achieve this.<br><br>IPete2. <br><br></td></tr></table><br>
<a name="703420"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, not anymore I guess now that you put it that way haha.<br><br>I'm still deciding on how to do this.  I think what may be easiest is to put in fake, "plane only" CSG.  Where you can comebine rooms simply by dragging them over each other.  Columns wouldn't be including so the only fragmenting would be in quads.<br><br>Basically the user will select the corner shape (square, angled, or round).  Then drag out a part of the room.  Then if they want an L-shape you would drag the other leg of the room making sure it intersects where you want them to be joined.  Then run any surfaces that intersect through a function to copy the surface info, destroy them, then recreate the surfaces with the new info but keeping both rooms as separate surfaces. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
