<!DOCTYPE html><html lang="en" ><head ><title >Partially fog</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Partially fog</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Partially fog</a><br><br>
<a name="370326"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Play</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello. We are making a fishing game (like Trophy Bass etc.). Right now we are stuck with creating a fog which would be only underwater. When player throws his/hers bait into the water it would be nice to have a some kind of fog, simulating negative opacity of the water. However the fog is not recommended above the water. The problem is, that when we enalbe the fog on the camera the whole scene gets it (under and over the water surface) whether only underwater is desireable. I've tried dividing the scene with CameraViewPort func but didn't succeed. <br><br></td></tr></table><br>
<a name="370342"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Play</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> okey, my budy came with idea that worked :-)<br>here it is:<br><br>        ;render upper view(without fog)<br>	  CameraFogMode g_hNormalCamera, 0 ;turn of fog<br>        HideEntity g_hUnderwaterScene<br>        EntityAlpha g_hPlayer, 0    ;'HideEntity g_hPlayer<br>        ShowEntity g_hAboveWaterScene<br>        ShowEntity hWaterPlane<br>	  RenderWorld<br>	  CopyRect 0, 0, 1024, 768, 0, 0, BackBuffer(),ImageBuffer(g_hImageBufferUp)<br><br>        ;render down view (with fog)<br>	  CameraFogMode g_hNormalCamera, 1<br>        EntityAlpha g_hPlayer, 1    ;'ShowEntity g_hPlayer<br>	  HideEntity g_hAboveWaterScene<br>        HideEntity hWaterPlane<br>        Showentity g_hUnderWaterScene<br>	  RenderWorld<br>	  CopyRect 0, 0, 1024, 768, 0, 0, BackBuffer(), ImageBuffer(g_hImageBufferDown)<br><br>;        SetBuffer BackBuffer()<br>        DrawImage g_hImageBufferUp, 0, 0<br>        DrawImage g_hImageBufferDown, 0, 0 <br><br></td></tr></table><br>
<a name="370408"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> That isn't the easiest way to do this.<br><br>Take a look at CameraClsMode() to avoid having to use 2 CopyRect commands and two DrawImage commands (the latter will be very slow). <br><br></td></tr></table><br>
<a name="370459"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IPete2</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> (1) You could look for the camera Y position, below a certain height switch on the fog in the camera, turn it off above that level.<br><br>(2) Use a second camera with the fog already set, and switch to viewing from that camera.<br><br>IPete2. <br><br></td></tr></table><br>
<a name="370467"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RifRaf</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> i think he wants to see the fog from any Y position.. but doenst want the fog to extend above the water <br><br></td></tr></table><br>
<a name="370484"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IPete2</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> oh okay<br><br>IPete2. <br><br></td></tr></table><br>
<a name="370556"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DarkEagle</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> disable fog for everything above the water? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
