<!DOCTYPE html><html lang="en" ><head ><title >Did you know that ... End/RuntimeError Override</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Did you know that ... End/RuntimeError Override</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Did you know that ... End/RuntimeError Override</a><br><br>
<a name="1181386"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> <textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Function RuntimeError(msg$)
	DebugLog "Ha ah !"
End Function
Function End()
	Print "Nooooo ?! reaylly ???"
End Function


; Let's try to close the program with a runtimeerror
RuntimeError("skip the closure Mouahahaha, No I won't Crash !")

; what ? ... whatever let's end ...
End

; If I'm here, nobody can stop me ?
WaitKey

; maybe I could override the waitkey function
; so you'll have to deal with Task manager to close this stupid program
; But I'm not a bad guy :)

</textarea><br><br>I would have thought thoose "function" would be protected from overriding.<br>Actually it might become a bit unsafe (but Im' maybe the only "stupid" guy who think about this kind of trick ... I assume ^.^) <br><br></td></tr></table><br>
<a name="1181389"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Captain Wicker (crazy hillbilly)</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can "override" any BlitzBasic command using this method..<br>In BlitzMax, there are modules for that. <br><br></td></tr></table><br>
<a name="1181393"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I Know that, but I precised :<br><i>I would have thought thoose "function" would be protected from overriding.</i> <br><br></td></tr></table><br>
<a name="1181407"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> RuntimeError isn't a surprise, but I never realised End was a function at all. I always thought it was a keyword (like Next or EndIf), not a valid name! I guess there's no reason why it needed to be one though, since it can only appear in call-position.<br><br>RuntimeError is more obviously just a function though.<br><br>As for why they aren't protected... Why should they be? It's your program, do with it as you will. Not hurting anyone else by doing so (note that since we <i>don't</i> have the BlitzMax module system in B3D, you can't secretly insert these into a project or anything: someone has to explicitly Include every definition). <br><br></td></tr></table><br>
<a name="1181408"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> sure, it's just that like you say, I thought "End" was a protected keyword.<br>for runtimeerror, it's probably the fact I don't know how low-level this function is, I thought it was really deep incorporated to the blitz3d language (not just a function) Like "Stop" or "Exit" maybe.<br><br>Then, according to the fact we are supposed to explicitely include the definitions, we are not supposed to "accept" such modifications, but ... if someone send you a massive library (with multiple includes) you would probably miss it.<br><br>-&gt; it's like when blitz-users post some come, for help most of the time, and go for fullscreen with a memory leak or infinite loop that almost crash your PC while you were trying to help. You don't always think about it.<br><br>Hopefully, I have not such friends that hide destructive stuff in their programs :)<br>(Sadly, My friends can't say the same ...) <br><br></td></tr></table><br>
<a name="1181432"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Overwriting the WaitKey() in the above example will not accomplish much unless it is set to loop or call itself, which would cause a stack overflow in an executable.<br><br>Interesting that the Blitz commands can be overloaded though. <br><br></td></tr></table><br>
<a name="1181442"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <i>"Who would even think about replacing waitkey with an infinite loop ?!<br>...<br>No ... mmm .... No ! Don't even think about it."</i><br><br>Well, I already replaced majors blitz-function years ago, for some tricks, but I thought every body knew it here.<br><br>Actually, it's very usefull for debugging.<br>for ex : the writeLine command<br>You have some stuff to process on a file, but it's a big file, and you want to be sure what will end in the file before modifying it<br>-&gt; Overwrite the WriteLine/WriteByte/WriteWhateverYouUse functions with <br>Function WriteLine(Stream,line_$)<br> Debuglog line_<br>End Function<br><br>It's faster than commenting/adding a DebugLog on each line that process writing to the output.<br>When you come to something working, just remove the overwriten function and that's finished.<br><br>By the way, you can also overwrite the PointEntity function which is reeeally a slow function (or the Trim function which is a bit buged)<br><br>we just have to take care of (obviously) not needing the original function inside the overwriten function <br><br></td></tr></table><br>
<a name="1181881"></a>

<a name="1181882"></a>

<a name="1181886"></a>

<a name="1181887"></a>

<a name="1181888"></a>

<a name="1181889"></a>

<a name="1181891"></a>

<a name="1181893"></a>

<a name="1181895"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >virtlands</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> BobySait is brilliant.  <br><br>I would never have thought of controlling that aspect of B3D before.<br><br>Therefore, you can also override the <b>STOP</b> command; "Debug enabled" would be rendered useless.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Function Stop()      
      Print" Wait. Please don't stop "
End Function 

Function RuntimeError(msg$)
	DebugLog "Ha ah !"
End Function

Function End()
	Print " Nooooo ?! reaylly ???"
End Function

Stop
Stop 


; Let's try to close the program with a runtimeerror
RuntimeError("  skip the closure Mouahahaha, No I won't Crash !")

; what ? ... whatever let's end ...
End

; If I'm here, nobody can stop me ?
WaitKey

; maybe I could override the waitkey function
; so you'll have to deal with Task manager to close this stupid program
; But I'm not a bad guy :)
</textarea><br><br>Most of the String functions can be replaced too, except that <b>Str$(a)</b> won't allow itself to be replaced.<br><br>The following math functions can be replaced too, (there might be more):<br>Rnd (start#,end#)<br>Rand ([low value],high value)<br>SeedRnd()<br>RndSeed() <br><br></td></tr></table><br>
<a name="1181897"></a>

<a name="1181898"></a>

<a name="1181899"></a>

<a name="1181900"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is a documented feature: you can replace <i>any</i> function in the B3D library with your own definition.<br><br>The part of the topic that was surprising was the news that End and RunTimeError are functions, not special syntax forms like If or EndIf, and that therefore the replacement rule applies to them as well.<br><br>Str, Abs, Int, Float, Object, Handle, and several others are not functions, but <i>operators</i> (i.e. the compiler considers them symbols that coincidentally happen to be made out of letters, <i>not</i> valid names), and therefore the rewrite rule won't apply - not because what they do is special, but because it's simply impossible for a function to be given one of those keywords as a name (any more than you could name a function "function": it's a special symbol). An interesting consequence is that they therefore follow the operator rules instead of function rules, and you can use them without parentheses (e.g. 'Str(X)' is the same as '(Str X)' and 'Str X', because 'Str' works like '-').<br><br>In general, this happens because B3D doesn't permit overloading, so operations like Handle or Str that need to accept arguments of multiple types can't be defined as functions, because they have no valid type signature: the compiler has to generate special code for each usage site. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
