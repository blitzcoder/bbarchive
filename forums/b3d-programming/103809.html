<!DOCTYPE html><html lang="en" ><head ><title >Blitz3D and C++ DLL coding question</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Blitz3D and C++ DLL coding question</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Blitz3D and C++ DLL coding question</a><br><br>
<a name="1252989"></a>

<a name="1252990"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >videz</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm new to DLL programming so I'm not sure what compiler to use. Currently I have CodeBlocks Setup with either VC2008/2010 or MinGW and I'm trying to test a simple DLL here<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=51944" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=51944</a><br><br>It mentions coding in Dev C++. Can I use VC2010 or CodeBlocks instead? I'm currently using V1.106 <br><br></td></tr></table><br>
<a name="1252991"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >videz</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> ...Ending up installing and trying it out in Dev C++ and it works. Maybe there's a solution for VC2010 or CodeBlocks??? <br><br></td></tr></table><br>
<a name="1253212"></a>

<a name="1253213"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rroff</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I ended up going back to using LCC compiler for blitz userlib dlls :S not sure what the problem is but I'm assuming new stuff like VC 2013 is building dlls that can't be loaded with plain loadlibrary or something though I did try messing with the character set. <br><br></td></tr></table><br>
<a name="1253219"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >videz</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Rroff for this info. I didn't know about LCC, does this particular compiler support latest C frameworks? <br><br></td></tr></table><br>
<a name="1253221"></a>

<a name="1253223"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Blitz3D DLLs are simple once you get the hang of them. All you need is a compiler that lets you build DLLs and supports the stdcall calling convention.<br><br>You don't need a fancy environment like an IDE, and if this is your introduction to C or C++ programming, you should definitely avoid them as they make life much, much more complicated. You should also avoid Visual Studio unless you actually need it as it's different and strange and doesn't do things the normal way. (And you should avoid Dev-CPP because it's ridiculously outdated.)<br><br>MinGW works best; if that's too big an install for the moment you might also consider <a href="http://bellard.org/tcc/" target="_blank">TCC</a>, which is C-only, but very small (less than 1MB!).<br><br>A DLL is just a library that has been compiled with the -shared flag. You can just write up your C library (it has to be a C library: if you're using C++ you will need wrapper functions) in a text editor like Notepad++ and then build on the command line. This will give you a much deeper understanding of the process than the huge tools that obscure what they're actually doing, and is more than efficient enough for most real work. (in fact it's likely to be a lot faster and simpler for shorter tasks like B3D wrapping) <br><br></td></tr></table><br>
<a name="1253253"></a>

<a name="1253254"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rroff</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> ^^ For some reason I've not been able to build dlls with any recent version of Visual Studio that will work with b3d - not really troubled myself too much about why as I can just build them on an older C compiler.<br><br>EDIT: Also one of the working compilers produces almost byte for byte identicall dlls to VS so must be some encoding issue or something fairly small thats putting it off. <br><br></td></tr></table><br>
<a name="1253280"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >videz</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you for this huge amount of info Yasha. Now I understand that B3D uses C with DLLs. I thought you can use both C/C++ easily. <br><br>I don't mind using old compilers as long as it can compile recent frameworks done in C/C++.  Because most of the time you can't reinvent the wheel and need to use existing frameworks and technologies, and most of these libraries/packages are built towards the recent VS products or MinGW with CMake or Make.<br><br>I would also prefer MinGW and now that I already tested that it (Orwell Dev C++) works with Blitz, it's a sigh of relief :-)<br><br>Question: If I use Ploppy's VS2010 Blitz3D built, can I still create a DLL made with other or old compilers and hook them on that build version?<br><br>@Rroff<br>Yes, same here. I dont have any luck with VS past VC6. But it's good to know that recent MinGW version works fine :-) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
