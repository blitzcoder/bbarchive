<!DOCTYPE html><html lang="en" ><head ><title >Distance between two points in 3d.</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Distance between two points in 3d.</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Distance between two points in 3d.</a><br><br>
<a name="270208"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Farflame</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Fairly basic question, but I need to find the distance between two points in 3d, using software. As far as I'm aware, the formula is : <br><br>xd=x2-x1<br>yd=y2-y1<br>zd=z2-z1<br>distance#=sqr(xd*xd+yd*yd+zd*zd)<br><br>But it isn't working in my program. I've tried putting brackets around (xd*xd)+(yd*yd)... etc, that doesn't work either. I am using very, very large numbers, as high as 1,000,000,000, but should that make a difference? Is the formula correct? <br><br></td></tr></table><br>
<a name="270210"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CyBeRGoth</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
Function DISTANCE3D#(x1#,y1#,z1#,x2#,y2#,z2#)
; ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
; USE EUCLIDEAN DISTANCE (3D) TO WORK OUT THE DISTANCE TWO ENTITIES ARE FROM EACH OTHER
; ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

DISTANCE#=Sqr((X2-X1)^2+(Y2-Y1)^2+(Z2-Z1)^2)

Return DISTANCE
End Function
</pre><br><br>Should do the trick <br><br></td></tr></table><br>
<a name="270216"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Michael Reitzenstein</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> That is exactly what he is doing, except substantially slower - using ^ for squaring a number is significantly slower than standard multiplication. I believe your problem, Farflame, is that you are not using floats? <br><br></td></tr></table><br>
<a name="270229"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CyBeRGoth</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is it a lot slower?  I think I will change to Multiplication like you suggest then.<br><br>I too think the problem might be floating point numbers, or perhaps your entities are children of other entities? In which case you will need to use the global command when getting their x,y,z like<br><br>x1#=entityx#(spaceship,1) <br><br></td></tr></table><br>
<a name="270230"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Farflame</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ahh yes, I was using some floats but a couple of my variables were integers, so it was messing it up.<br><br>Out of interest, what's the range of an integer and a float? I can't find that info in the manual/help files. <br><br></td></tr></table><br>
<a name="270237"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dangerdave</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's in the language description in the help.<br><br>Both types are 4 bytes/32bit.<br>So you can easily get out of range if you do a lot of values<br>that are 1000000000. <br><br></td></tr></table><br>
<a name="270261"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Farflame</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Found it. So what happens if I want to use larger values? Doesn't Blitz have anything bigger, such as a long value? <br><br></td></tr></table><br>
<a name="270305"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Unfortunately No. But I hope it will be in BlitzMAX. And I guess somebody wrote a 64 Bit Workaround in the Code Archives, no? (EDIT: no, sorry, I confused it) Well I never needed it. <br><br></td></tr></table><br>
<a name="270360"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> far:<br>Blitz's integers ARE longs.  They can go up to approximately +-2 billion.<br><br>Blitz's floats can go really really high.  I can't really say how high for sure though.  But the problem is that the higher or lower you go with a float, the less precise the value is.<br><br>In other words, if you have a huge float, like 10 billion, and you add 0.1 to it, it might still be 10 billion, and not 10 billion + 0.1.<br><br>With floats what you need to know is the number of digits of precision they have, but I don't know what it is in Blitz.  But it's good enough for most realistic sizes of level.  I use a scale of 1 unit = 1 meter, and I never have levels that are more than 2km or so wide, and I've never had a problem, but if you're modelling space, then you might have a problem if you don't scale everything down. <br><br></td></tr></table><br>
<a name="270472"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Farflame</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm, if floats can handle larger numbers, then they might be better for my game, since precision isn't critical, nor is speed (well it is, but I'd rather have the larger numbers). It might just be wiser to scale everything down a bit, but I found that if I scale my ships down too much, they start to distort, so I'm a bit limited. <br><br></td></tr></table><br>
<a name="270490"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jager</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why not use EntityDistance#()? or have I missed something? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
