<!DOCTYPE html><html lang="en" ><head ><title >Converting RGB &lt;--&gt; HSV</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Converting RGB &lt;--&gt; HSV</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Converting RGB &lt;--&gt; HSV</a><br><br>
<a name="638894"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Pickford</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've been tinkering with using HSV to manipulate bitmap images.   I don't really know a whole lot about this stuff but I thought it might be interesting to mess with.  <br><br>I found some code online to do the conversion and ported it to Blitz.<br><br>The original code can be found at:<br><br><a href="http://www.cs.rit.edu/~ncs/color/t_convert.html" target="_blank">http://www.cs.rit.edu/~ncs/color/t_convert.html</a><br><br>In my version I've created a type for each pixel which contains the R,G,B and H,S,V values.   They are kept as floating point in the 0-1 range apart from hue which is 0-6  (It's 0-360 in the original code).<br><br>I found you can immediately improve an image by normalising the V channel - improving contrast and bringing out detail.   Normalising the other channels seems to improve the image too - not entirely sure why.<br><br>Anyway, here's my code if you are interested.   It's not fast (or meant to be) - this stuff isn't great for realtime work.<br><br>www.zee-3.com/video/HSV.zip<br><br>If you remove the drawimage command you get a random image made of coloured circles. <br><br><img src="http://www.zee-3.com/video/HSV.JPG"><br><br>The top row of images shows the effects of normalising the channels V,S,H.   The other rows I'm tinkering with enhancing\decreasing stuff like saturation.  Tinting the image by shifting the H channel and even blurring the various channels.<br><br>If this evolves into anything useful I'll post it in the code archive. <br><br></td></tr></table><br>
<a name="638921"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> What do you mean by "normalize"?  Do you mean finding the max and min pixel values over the whole image, and then scaling all the pixel values so that they expand to fill the max range?  Ie, if an image was 50% gray static, it would expand to have black pixels and white pixels?<br><br>Photoshop has an auto color and auto contrast feature, which I think do this.  It works on some images, but not most.  On most it oversaturates everything or makes the image too harsh. <br><br></td></tr></table><br>
<a name="638925"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Pickford</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah that's exactly what I mean by normalise. <br><br></td></tr></table><br>
<a name="639958"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks good :o) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
