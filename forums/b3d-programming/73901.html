<!DOCTYPE html><html lang="en" ><head ><title >Returning the correct type</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Returning the correct type</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Returning the correct type</a><br><br>
<a name="825587"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >YellBellzDotCom</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was just wondering if there is  better\ faster way to return a custom type then using a for loop.<br><br>for instance, if you have 100 player types with individual names and ids, but you wanted to find a player named Joe so you could smack him with a rubber duck, is the below code the only way to pick him out of a group of 100 players?<br><br><br><pre class=code>
For P.player = Each player
	If P\name = "Joe" Then
		Smack_With_Rubber_Duck("Joe")
		Exit
	EndIf
Next
</pre><br><br>Thanks for any help here.<br><br>EDITED: Fixed the player name call, thanks KED <br><br></td></tr></table><br>
<a name="825593"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, that's one way if "Joe" is the only info you have to go on. However, in practice, isn't it more likely you can identify the player to smack in some other way, such as through picking or collisions etc., whereby you can retrieve the type instance directly. I mean, what are you doing in code to identify the player to be smacked as "Joe"? <br><br></td></tr></table><br>
<a name="825596"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's not the only way, no. I'd say with a good hashing algorithm, a hash table is one of the best ways to do it.<br><br><a href="http://en.wikipedia.org/wiki/Hash_table" target="_blank">http://en.wikipedia.org/wiki/Hash_table</a><br><br>There appears to be one in the code archives, but don't take that as a recommendation from me, as I no longer use B3D. It's by Octothorpe though, so it should be good.<br><br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=1439" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=1439</a> <br><br></td></tr></table><br>
<a name="825601"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ked</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> You have a line of code messed up.<br><br><pre class=code>For P.player = Each player
     If P\name = "Joe" Then         ;CHANGED;
          Smack_With_Rubber_Duck("Joe")
          Exit
     EndIf
Next</pre> <br><br></td></tr></table><br>
<a name="825614"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I personally wouldn't worry about it unless it's a massive list, ie a good couple of thousand of more. Hasing tables looks interesting though, i remember them from college. That wiki link sounds alot more complicated than i remember :D <br><br></td></tr></table><br>
<a name="825683"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> You have a line of code messed up. <br></div><br>No he doesn't, his code is perfectly fine. The ".player" you have removed is not required but equally it is not invalid syntax either. It's just a technique some people use to make the code easier to read. <br><br></td></tr></table><br>
<a name="825694"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >YellBellzDotCom</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for that clear up Gabriel, I normally use the syntax that Ked recommended. I just did a quick mockup for this threads purpose, its not actual code Im using. I had no idea either way would work, though so thanks for the info.<br><br>Thanks for the other replies too, it will definitely give me some things to think about.<br><br>Searching through types is for the multiplayer portion of my game. Anytime a client makes a move the client will send its coordinates (maybe) to the server and the server will update the game. I was just wondering if there was a faster way then going through each player on a server to find the one that actually needs to move.<br><br>Thanks again. <br><br></td></tr></table><br>
<a name="825700"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >YellBellzDotCom</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> How bout making a function in a seperate module that Im calling PlayerManager.bb like this...<br><br><pre class=code>
Function FindPlayer(Name$)
	For P.player = Each player
		If P\name = Name Then
			Return player
			Exit
		EndIf
	Next
	
End Function
</pre><br><br>Im calling this function in the main client code like this...<br><pre class=code>
TempNick$ = Input("Enter your Nickname: ")
CreatePlayer(TempNick)
	
P.player = FindPlayer(TempNick)
</pre><br><br><br>The problem with this is player isnt a valid returnable type. Any ideas? <br><br></td></tr></table><br>
<a name="825705"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >YellBellzDotCom</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok this works...<br><br><pre class=code>
Function FindPlayer.player(Name$)
	For P.player = Each player
		If P\name = Name Then
			Return P.player
			Exit
		EndIf
	Next
	
End Function
</pre><br><br>This does what I need to find a player in my main client code using a function in a seperate bb.<br><br>Man, I love these forums...<br><br>Thanks again for the help! <br><br></td></tr></table><br>
<a name="825853"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PowerPC603</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can also give each player some sort of ID, which basically is just an integer number.<br>Inside each player's type-instance you create another field "ID".<br>When a player moves, you don't send it's name, but it's ID-number.<br>On the server-side you have an array of types where the ID's of the players refer to the index of that array.<br><br><pre class=code>
Dim Players.player(100)

Type player
	Field Name$
	Field ID
End Type

For i = 0 To 99
	Players(i) = New player
	Players(i)\ID = i
Next

; Find a player with ID 5
P.player = Players(5)

Print P\Name
</pre><br><br>To find a player with the name "Joe", you'll still have to loop through the array to find the player you want/need.<br>But if you know the player's ID, then you've found him directly. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
