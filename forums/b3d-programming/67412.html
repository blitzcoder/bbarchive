<!DOCTYPE html><html lang="en" ><head ><title >Blitz3D ugly shading prob (help)</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Blitz3D ugly shading prob (help)</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Blitz3D ugly shading prob (help)</a><br><br>
<a name="752794"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danny</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi All,<br><br>Does anyone of some way to get rid of this default dead ugly "smooth-shading" you get with un-textured models?!<br><br>In any 3d program or model viewer, these near-flat surfaces look ... well.. flat! (see picture on the right)<br>But Blitz applies this really ugly semi-smooth shading (see picture on the left).<br>Any idea's to get rid of that so that it looks more like the picture on the right?!<br>I receive external models that have been converted to 3ds format.<br>And whatever smooth-group settings I use during conversion, it keeps looking like the picture on the left. Which is not acceptible.<br>I've tried Rob's DX7 lib to see the difference between flat/gouraud/phong shading, but all look yuck! <br><br>Any help appreciated!<br>Danny.<br><br><img src="http://www.xs4all.nl/~dendanny/Blitz/shadingprob.jpg"> <br><br></td></tr></table><br>
<a name="752807"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> EntityFX entity,4 <br><br></td></tr></table><br>
<a name="752815"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danny</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I wish it was as simple as that, but Blitz still gives an ugly shading where you can almost see every polygon. Even though the model's topology is fine, vertices are welded, etc.!<br><br>I was hoping you can influence a triangle's shading by tinkering with it's normals?!?! But I got no clue how (IF?) that is true or works at all....<br><br>any other idea's most welcome..<br>d. <br><br></td></tr></table><br>
<a name="752819"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >QuickSilva</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I seem to remember having the same problem and got around it by making each surface seperate in my 3D program. It`s been a while but worth trying. Possibly smoothing groups related.<br><br>Jason. <br><br></td></tr></table><br>
<a name="752821"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> its not up to Blitz...if you using 3Dsmax, try to apply Xform modifier on to mesh and then collapse it in to Editable mesh and then export and it will be gorgeus within blitz <br><br></td></tr></table><br>
<a name="752831"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pinete</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> However, while I'm reading the post... the people is always surprising..., oh my god... The first thing they do is to baptize the blitz's shadows as "crap", and that without having #~@! idea about the basic rules about how to export just a polygon!... before ask, before try, before anything... first thing they do is say shadows are crap. surprising.<br><br>regards. <br><br></td></tr></table><br>
<a name="752838"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> It'll be your smoothing groups, or lack of - if you have a mesh with just 1 smoothing group then it will look exactly as you have it - Blitz will attempt to shade smoothly across all polys, resulting in a mess. <br><br>Simply apply nice clean smoothing groups to cure the problem - in Max do it manually or apply an autosmooth modifier with the angle set to 45degrees or less and then you'll find it will look perfect in B3D.<br><br>I assume other modellers have smoothing groups also, AC3D certainly has, which is my preferred cheap modeller. <br><br></td></tr></table><br>
<a name="752840"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paolo</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm using 3DStudioMax and I have never been able to export<br>correctly the smoothing-groups in a .3DS format,<br>for me, a .3DS model is always loaded in Blitz with a default<br>value of 180º for the smooth shading,<br><br>two solutions,<br>- look for a .X exporter, the Panda_DirectX_exporter works good<br>and it exports the smoothing groups correctly,<br>- try using the "UpdateNormals" command with your model<br>after loading it, this can solve the problem in some situations.<br><br>Paolo. <br><br></td></tr></table><br>
<a name="752841"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I had similar problems with a extruded 3d text mesh. I tried a lot with the smoothin groups as well. After all I saved the flat front and back parts as one surface and the extrusion sides as an additional surface.<br><br>The house should however look ok if you set it flatshaded, using entiyfx 4. (If loaded using LoadAnimMesh you need to set its children's fx recursively!) <br><br></td></tr></table><br>
<a name="752856"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> It'll be your smoothing groups <br></div><br><br>/agree<br><br>If you're using Milkshape3d, you have to save to .ms3d, load into Unwrap3d with reweld vertices checked, then export to .b3d and smoothing groups will be intact. <br><br></td></tr></table><br>
<a name="752858"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I receive external models that have been converted to 3ds format.<br>And whatever smooth-group settings I use during conversion, it keeps looking like the picture on the left. Which is not acceptible. <br></div><br>Then stop using 3ds format. It doesn't support smoothing groups. No point blaming Blitz for not loading information which isn't in the file you're giving it ;)<br><br>If you insist on using the 3ds format, you'll have to manually break the vertices wherever you want a different smoothing group, and it might work, but it's far from ideal. Far better to just use a format that actually supports smoothing groups. B3D ideally. <br><br></td></tr></table><br>
<a name="752895"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danny</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks everybody!<br><br>The problem is that I'm getting these models from an external source that was originally a MAYA model, and there are no resources (people) available to start cleaning up these models, do complex conversions or manually tweak or set smoothing groups, etc.<br><br>So I would have to find a solution where I can 'correct' this problem AFTER the facts. Which is far from ideal - I know but that's the reality I gotta deal with..<br><br>I agree with several of you that I should check what other formats could be delivered and how they behave in this case..<br><br>I've got plenty of experiences with smoothing groups etc using lightwave. But what I never understood from Blitz is that it tries to apply smoothing between poly's that are on the same 2D plane! A sphere or cylinder getting smoothed out makes perfect sense to me; but a flat surface that happens to be made up from multiple poly's?! I don't understand why it smooths every individual poly, instead of over the entire surface.<br><br>That's why I'm asking this question in the hope to learn something about these things senor Pinete (btw, I was talking about shading, not shadows)..<br><br>cheers,<br>Danny. <br><br></td></tr></table><br>
<a name="752900"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >b32</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are the normals correct ? I think they are causing this. Maybe try Stevies MeshNormal function in this topic:<br><a href="http://www.blitzbasic.com/Community/posts.php?topic=64797" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=64797</a><br>It needs the mesh to be unwelded, he posted another function for that further below. <br><br></td></tr></table><br>
<a name="752908"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danny</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Appreciated b32! I'll check it out... <br><br></td></tr></table><br>
<a name="752911"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> @ Danny - until I saw b32's post I was going to post them for you.  These are the functions I use to get nice flatshading so they should work for you.<br><br>Stevie <br><br></td></tr></table><br>
<a name="752927"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danny</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> You the man Stevie G! MeshNormals() certainly did the trick.<br><br>Thanks again,<br>Danny <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
