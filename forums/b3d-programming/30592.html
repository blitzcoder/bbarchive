<!DOCTYPE html><html lang="en" ><head ><title >animation woes</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >animation woes</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >animation woes</a><br><br>
<a name="325987"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ruz</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> having a few problemd with this.<br><br>I want my player when he has stopped walking to be still for a few secs then go in to his idle animation.<br>whats happening is the timer is working but then I get a rapid burst of animation( like its just playing one frame or something) then it goes back to the still sequence.<br>what should happen is that the idle animtion should loop until you exit the idle state.<br>Its probably real obvious that i am a bit out of my depth here, but I need to get it wokring<br><br><br>delayTime=1500 ; 1 1/2 secs<br>time_to_wait=millisecs()+delayTime ; use 0 for no initial delay<br><br>Function UpdatePlayer( p.Player )<br><br>walkstate=False <br><br>If KeyDown(200)	;walk forward<br>walkstate=True<br>MoveEntity p\entity,0,0,.2<br>		If Animating(p\model)=p\walk<br>			 Animate p\model,3,.7,1<br><br>	    EndIf<br>EndIf<br><br>;Walking back<br>	<br>	If KeyDown(208)<br>walkstate=True<br>MoveEntity p\entity,0,0,-.2<br>		If Animating(p\model)=p\walk<br>			 Animate p\model,3,-.7<br>EndIf<br>EndIf<br><br><br><br>If KeyDown(203)	; left/right<br>		TurnEntity p\entity,0,2,0	;turn player left/right<br>	Else If KeyDown(205)<br>		TurnEntity p\entity,0,-2,0<br>		<br>		<br>	EndIf<br>	<br>;stopped<br><br>If walkstate=False <br><br>stopstate=True<br>Animate p\model,1,0,2,5;play no animation to simluate stop before entering idle state<br>If  MilliSecs()&gt;=time_to_wait<br><br>If Animating(p\model)=p\idle;idle animation<br><br>Animate p\model,3,.2,2;play idle animation after delay<br><br>time_to_wait=MilliSecs()+delayTime<br><br><br>End If<br>EndIf<br>EndIf<br><br>;footstep cycles<br><br>If KeyDown(200) Or KeyDown(208)<br>   p\footStepCycle=p\footStepCycle+0.5<br>Else<br>  p\footStepCycle=0<br>EndIf<br>If p\footStepCycle=11.0<br>   PlaySound footsteps<br>   p\footStepCycle=0<br>EndIf<br><br>I tried to use the code darlordz gave me for the timer  , but I don't really understand it to be honest <br><br></td></tr></table><br>
<a name="325995"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am not sure what the problem is, but maybe it has something to do with the keyframes? Every Sequence should have keys on all bones on the first frame. This will allow to reset each sequence properly. <br><br></td></tr></table><br>
<a name="326016"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ruz</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> hmm perhaps its because I am using one frame from the idle sequence  as a still sequence . i may try a different approach <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
