<!DOCTYPE html><html lang="en" ><head ><title >Question about B3D models...</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Question about B3D models...</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Question about B3D models...</a><br><br>
<a name="452315"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OrcSlayer</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've got most of the framework for my game finished, so now I need to figure out how to pull this off before I tell my modeler to get to work...<br><br>In my game, I want to be able to pitch the torso of the player model by 45 degrees, up or down. I don't want to use an animation for this, I want it to be possible regardless of what animation is playing (running, standing, etc). I assume this will require bone manipulation, however I'm not sure exactly how to go about doing this. I've seen people do similar things with Blitz before, unfortunatly I've never gotten to look at the source code for those projects.<br><br>Just FYI, the purpose of this is that the player will have a somewhat GTA like autoaim, that will detect the nearest enemy in a 90 degree cone in front of the player, rotate him or her to face the enemy, then pitch the torso if the enemy is above or below the player so it looks like you're really aiming at the target, instead of strait ahead. Seems simple enough to me, and I have the code for the auto-aiming system down, but I wanted advice from more seasoned coders before I start messing with mesh manipulation. <br><br></td></tr></table><br>
<a name="452349"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I dont have blitz help open atm, but there should be a command like "find child" thant takes a string and finds the child entity named that.  So, you simple find child on your animated entity with the name of the torso bone.  Then, just rotate that entity as you wish. <br><br></td></tr></table><br>
<a name="452428"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OrcSlayer</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmmm, I was thinking that would be the simplest way to do it, but I heard that wouldn't work if the mesh was animating...perhaps it will, I'll try it. Thanks, I'll let ya know if it works. <br><br></td></tr></table><br>
<a name="452439"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OrcSlayer</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, rotating the bone itself doesn't seem to work. You can attach objects to bones easily enough (weapons and such), but rotating the bones manually seems to have no effect on the mesh. I know I've seen this done before, there has to be a way... <br><br></td></tr></table><br>
<a name="452469"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sunteam Software</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you tried it on a static mesh (no anim data)? If that works you know you can't do it with an animated mesh. Just a thought :) <br><br></td></tr></table><br>
<a name="452476"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ricky Smith</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=660" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=660</a><br><br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=655" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=655</a><br><br><br>Here's 2 examples ! As Bot Builder says but you must manipulate the bone after UpdateWorld. This overrides the animation. Using this method you can also blend more than one animation sequence at a time. <br><br></td></tr></table><br>
<a name="452511"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OrcSlayer</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmmm, got the demo to work, does exactly what I needed done! Thanks a lot for the info, you've been a big help guys! <br><br></td></tr></table><br>
<a name="452696"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Clarifying Smiff's comment, bones snap to the animation when UpdateWorld is called.  So moving a bone before UpdateWorld accomplishes nothing, while moving a bone after UpdateWorld (but before RenderWorld) will be visible. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
