<!DOCTYPE html><html lang="en" ><head ><title >Pre-packaged physics system</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Pre-packaged physics system</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Pre-packaged physics system</a><br><br>
<a name="208613"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there a physics system available for Blitz3D that one could buy/download somewhere?<br><br>I don't want a lot.  Just simple sphere/polygon collisions and reactions.  Blitz handles the collisions just fine, but it's the reactions I'm mostly interested in.<br><br>I'd be willing to pay good money for a solid system like this.<br><br>Any ideas or links? <br><br></td></tr></table><br>
<a name="208633"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have a system I developed a while ago (actually 2 systems: physics and collisions) that I was planning to make friendly enough to release.  But, its a job in itself making it usable to others, documenting, and supporting.<br><br>You can get some idea of it in my old demo here:<br><a href="http://www.marina.cybermog.co.uk/hamsterball.zip" target="_blank">http://www.marina.cybermog.co.uk/hamsterball.zip</a><br><br>Some people have tried using the ODE system as well. <br><br></td></tr></table><br>
<a name="208640"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> ODE? <br><br></td></tr></table><br>
<a name="208644"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> James Vorderman wrote a <a href="http://www.corstorphineonline.com/ode/" target="_blank">wrapper</a> for the open-source <a href="http://opende.sourceforge.net/" target="_blank">ODE</a> physics system... <br><br></td></tr></table><br>
<a name="208726"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Neither of the links to the wrapper work... <br><br></td></tr></table><br>
<a name="208746"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Um, the first one works fine.  That's what you get when you search for "blitz ode" on Google:<br><a href="http://www.corstorphineonline.com/ode/" target="_blank">http://www.corstorphineonline.com/ode/</a> <br><br></td></tr></table><br>
<a name="208765"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh...<br><br>I thought that the first two links were to the library ITSELF.<br><br>The last two looked like they were to the wrapper.  So I only clicked those. <br><br></td></tr></table><br>
<a name="209236"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DarkEagle</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> i started working on a physics system this morning, dont know how far its going to go or even if il finish it... but if i dont il just release the source... heres what i got down in about an hour:<br><br>Global acceleration;<br>Relative acceleration;<br>Global friction;<br>Relative friction;<br>Bouncing, including the oppurtunity to bounce with any % of the original speed;<br><br>the bouncing can also include rolling if the surface is smooth enough, although i may try to implement a "rolling collision" method.<br><br>is it worth me figuring out rotation stuff for this? i really hate it... so im not sure about implementing it. also, it only uses blitz collision techniques - so moving poly to static sphere collisions arent allowed. is there anything else you want? <br><br></td></tr></table><br>
<a name="209844"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >octothorpe</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> All the physics systems out there seem to be particle/spring physics, which is great for silly little programs where you want to fool the player into thinking that something bounced for aesthetic reasons.<br><br>Unfortunately, you can't base a game around particle/spring physics, because it's unreliable: add too much speed to a collision, or let a crafty player fool for too long, and you'll have rediculous and unrealistic things happen - like wooden crates unfolding into big balloons.  Spring physics is a poor imitation of real physics and should only be used for looks and/or very simple applications.<br><br>I haven't run into a single physics system which would be solid enough to make it an integral part of a game.  I'm talking about rigid-body physics with rotational torque and all that good stuff.  It pains me to imagine all the fun games that could be created easily with access to something like real-world physics. <br><br></td></tr></table><br>
<a name="209845"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well did you check out that ODE physics engine linked to above?  I did, and the demos of it working in blitz are pretty impressive, even though whoever made the demos didn't model gravity properly, and didn't set enough friction for certain things.<br><br>For example, there's a demo where a hundred cubes fall in a straight line down on top of one another, and they seem to collide properly and spill outwards into the surrounding area.  Some of them bounce really high and stuff but I have to assume that's the fault of whoever made the demo.  There's a bowling demo with a ball that you can set the weight of and if you set it to the highest setting the simulation seems pretty solid, though the pins appear to be far too light.<br><br>There's also a monster truck demo, but they physics in that aren't very good.  The car jitters like crazy going up hills.  But I chalk that up to programmer error as well.  After all, you can't expect to model the performance of a vehicle and leave out half the suspension system.  I'd be willing to bet he took shortcuts and didn't put in all the bits a real suspension system has and that led to zany effects.<br><br>Anyhow, even with a few bugs, there's a lot of stuff that ODE system looks like it would be great for in games.  If all you used it for was to model how objects moved and fell after being shot, that would be pretty cool in and of itself. <br><br></td></tr></table><br>
<a name="209851"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >maximo</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Damn Swift, this thing has been around for long and you first heard of it now? Vorderman did those demos. <br><br></td></tr></table><br>
<a name="209880"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sweenie</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thomas Jakobsen used Particle/Spring physics using verlet integration which was used in Hitman with excellent results. <br><br></td></tr></table><br>
<a name="209889"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well it's not neccesarfily that I hadn't heard of it.   I just never payed any attention to it because I don't like using DLL's with Blitz, and I never had a need for any real physics stuff. <br><br></td></tr></table><br>
<a name="209942"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> "but I have to assume that's the fault of whoever made the demo"<br>"But I chalk that up to programmer error as well"<br>"I'd be willing to bet he took shortcuts "<br><br>Really? Please feel free to do better. Such gratitude. How inconsiderate of me not to provide you with Gran_Turismo.bb.<br><br>"The car jitters like crazy going up hills"<br><br>That's a fault between ODE and a certain version of Blitz. On 1.77 it's perfectly smooth. <br><br></td></tr></table><br>
<a name="210147"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bouncer</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> octothorpe: Hitman is a silly little game with bad physics?<br>Particle/spring based system is more stabile than more realistic rigid body calculations. Try to stack up objects using ODE... you'll see what I mean. Because if you use as real modelling as possible, then if something goes wrong or numbers drift a bit it all comes unstable. check the rigid body thread in user projects. <br><br></td></tr></table><br>
<a name="210151"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh jeez, you don't have to take it personally.  I was merely stating facts.  I wasn't trying to bash your programming.  I am grateful that you made some demos to demonstrate it.<br><br>I mean did you completely ignore the bit where I said " I did, and the demos of it working in blitz are pretty impressive,"?  <br><br>I said the demos were impressive.  But as they stand, they are not realistic enough simulations to use in a game.  <br><br>They are nice demos, they are poor games. :-)<br><br>Don't take it so personally!<br><br><br>Anyhow, speaking of problems...  When I tried to run the EXE's you provided, all I got was a memory access error.  I had to compile and run the demos myself.  Do you have any idea why that might happen?  It's not good that a Blitz program would fail like that, and it concerns me.<br><br>You mention that it does not work with certain versions of Blitz.  Why is that?  What changed? <br><br></td></tr></table><br>
<a name="210154"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh and I also wanted to say that though I think the demos are inadequate, I understamd why they are.  I'm sure it's a pain in the ass to set up a realistic suspension system for a care that works right with the physics system.  I was merely stating that the reason the demos displayed jittering was because that was likely the case.  <br><br>Of course now that you mention that that is just a problem with a specific version of Blitz I'm not so sure that the setup you provided IS actually inadequate.  I'd have to see it running in a proper version of Blitz, but you said it's smooth, so I guess I'll have to beleive you. :-) <br><br></td></tr></table><br>
<a name="210174"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TartanTangerine (was Indiepath)</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> 'tis a nice system though.. I do find that the DLL locks up now and again - wouldn't want to use it on a commercial release.<br><br>Great work, Love the Monster Demo, not too sure about the demo with the Beach Buggy's - seems too buggy :o <br><br></td></tr></table><br>
<a name="210198"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >maximo</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Examples lock on my system, that's why I abondened it. It had something to do with something, in some prevoius versions it worked perfectly but 1.8 didn't work so perfectly. Mark didn't know what caused it and he didn't have time to go thru it and check if it was something in ODE <br><br></td></tr></table><br>
<a name="210252"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >octothorpe</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Well did you check out that ODE physics engine linked to above? <br></div><br>Yes, a long time ago.  It's yet another particle/spring system.<br><br><div class="quote"> Some of them bounce really high and stuff but I have to assume that's the fault of whoever made the demo. <br></div><br>No, that's because the underlying physics system isn't very good.<br><br><div class="quote"> Hitman is a silly little game with bad physics? <br></div><br>Can you provide an URL or something?  I haven't heard of Hitman.<br><br><div class="quote"> Try to stack up objects using ODE... <br></div><br>They bounce all over the place, even from a standstill.  That's because spring physics are inadequate for most realistic applications.  You can't get friction or surface forces to work with particles and springs!<br><br>PS - the ODE's dll locks up and throws errors all the time too.  I wouldn't recommend using it at all.  :( <br><br></td></tr></table><br>
<a name="210270"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bouncer</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> I might be wrong but i think ODE is NOT a particle/spring system. And you are totally wrong... you can easily implement surface forces and friction in particle/spring system. www.kotiposti.net/naama/rigid.zip -&gt; It's 2D, but you'll see the picture.<br><br>Hitman has the most impressive character physics today. And it's all implemented using particle/spring system and verlet integration. So don't bash if you don't know what you're talking about.<br>www.hitman2.com <br><br></td></tr></table><br>
<a name="210284"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> "No, that's because the underlying physics system isn't very good."<br><br>Maybe I'm going out on a limb here, but I read the documentation for ODE, and to me, the guy seems to know EXACTLY what he's doing, and he's doing stuff which is way beyond my own knowedge of physics. <br><br>So I'd be very surprised if there was something fundamentally wrong with his simulation. <br><br>"They bounce all over the place, even from a standstill. That's because spring physics are inadequate for most realistic applications. You can't get friction or surface forces to work with particles and springs!"<br><br>Where does it say that the objects are modeled with springs?  I read the docs, and from what I understand, it looks like he says that when an object collides with another object, you (or he, I'm not sure) find the point of the collision, and create a special joint at that location which allows movement only in a direction away from the surface.  This supposedly prevents objects from interpenetrating somehow.<br><br>Since I see the cubes in the cube string demo interpenetrate a lot, I must assume this isn't being done in that demo.  The other demo with the falling cubes however seems to be better abou tnot letting cubes interpenetrate.<br><br>As for locking up and throwing out errors, well I guess that's a price you pay for using a free physics system.  Has ANYONE else here written anything more sophisticated though than objects coliding properly?  Like simulating stick and slip friction for tires?  And all those diffrent kinds of constrained joints he supports?  Cause if not, then this seems like the best option at this point to me if I needed a physics system. <br><br></td></tr></table><br>
<a name="210382"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sweenie</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, the guys at www.Quest3D.com implemented ODE with great success and I don't think they would have implemented it if they believed it was such an unstable system. <br><br>The creator of ODE was also the mastermind behind the Mathengine system. <br><br></td></tr></table><br>
<a name="210411"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RepeatUntil</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was very impressed by the ODE under Blitz3D!! I will maybe try to use it... The problem is that I experienced some instabilities on some examples (everything freeze).<br><br>Concerning the stunt car demo, I modified every AlignToVector linked to the car and put a smoothing rate of 0.3 (instead of the default value of 1). The game is then perfectly smooth!! <br><br></td></tr></table><br>
<a name="210479"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> That AlignToVector command change was something that was introduced in a certain version of Blitz. Without the rate parameter being altered the new versions make the car body jump around all over the place.<br><br>"I'm sure it's a pain in the ass to set up a realistic suspension system for a care that works right with the physics system"<br><br>It certainly is. I've not bothered because I don't think ODE's collision responses can effectively simulate the rubber tyre-&gt;road reactions that you get in real life. Without going into stuff like the pacejka formulas (http://www.racer.nl/reference/pacejka.htm) the sliding friction and tyre model you get just doesn't allow for a fun car.<br><br>I've tried many times to get the stunt car demo to behave more realistically, but with little success, and I can't be bothered to try and set up a complete model of the suspension system. <br><br></td></tr></table><br>
<a name="210565"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ice9</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think the ODE wrapper only works on a previous version of Blitz3D. I'm not sure which version. I liked ODE and it did work great but it locks up under the current version. <br><br></td></tr></table><br>
<a name="210663"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> I know it works with 1.77, as that's what I used to create it. I believe after the compiler became a seperate thing it all went pear shaped. <br><br></td></tr></table><br>
<a name="210715"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> Vorder:<br><br>Well, if I may make a suggestion about the car demo...<br><br>It seems to me strange that the front of the car when it hits an angled incline just snaps to the right, rolling around the car's Z axis instantly.<br><br>Now you and some other folks suggest that modifying aligntovector fixes this.<br><br>But I say that using a value other than 1.0 with aligntovector is a hack which is physically incorrect.<br><br>The reason is that aigntovector does not make something move with a constant time regardless of framerate.  The more often you call your physics, the faster the object will move, and it will move REALLY fast intitally to get to the new alignment, and then slow down really fast to the point where it never quite reaches the alignment specificed.<br><br>Think of it like so...<br><br>I have a stick pointing straight up.  Now, if I want that stick to lie down, and I use aligntovector with a tween value of 0.5, the first time I call aligntovector for the stick, the stick rotates 45 degrees and is now 45 degress from horizontal.  The next time I call it, the stick moves only 22.5 degrees, and is now 22.5 degrees offset from horizontal.  The next time I call it it moves only 12.5 degrees and is 12.5 degrees from horizontal.<br><br>As you can see each time, the distance it moves is half the distance of the previous time, and as a result you can NEVER align to the new vector because it will just keep slowing down more and more.<br><br><br>What you need for proper physics is to change vectors with a constant angular velocity, variable by the time taken between physics updates.  <br><br>And it looks to me like it would help a lot if that axis that is being rotated around on the car was a spring.  Of course, there should not even be an axis there, but if you're going to use that in lieu of a proper suspension system then it definitely seems like a spring or two to make it rotate back to a neutral orientation and resist being rotated would be a big improvement.<br><br>(Of course maybe there is a spring there and it just doesn't work in my demo cause of those aligntovector issues which still probably need to be corrected.)<br><br><br>I know I could try this stuff myself, but I'm not really interested in simulating cars myself right now, especially not when it's so complicated to set up ned joints and stuff, I just don't have the time.  I'm just offering some suggestions on how you could improve your simulation. <br><br></td></tr></table><br>
<a name="211027"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> Eh?<br><br>The AlignToVector command has no part in the physics at all - it simply aligns the visual representation of the car body to the physics object (in this case a box) that ODE is using to represent the car.<br><br>Therefore the AlignToVector 'hack' is no such thing - the behavior of the command was changed between two versions of Blitz, when the rate parameter was added. Thus if you run the demo on a later version of Blitz you need to modify this command to allow Blitz to orient the object correctly. If you don't, you'll see the car body flicking around all over the place.<br><br>You want the car body to instantly match the orientation of the physics body, you don't want it to slowly turn to get there, because in that case what you see on screen is not really what is happening behind the scenes in the physics.<br><br>The use of AlignToVector has NOTHING to do with the physics going on. Nothing at all. <br><br></td></tr></table><br>
<a name="211131"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >maximo</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> Swift is still learning, don't be so hard on him ;) He was skipping some lessons on ODE before and is catching up now ;) <br><br></td></tr></table><br>
<a name="211199"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> This simple routine will work wonders:<br><br>x=entity position()<br>moveentity velocity<br>updateworld<br>velocity=entityposition-x <br><br></td></tr></table><br>
<a name="211208"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> ..but not when linked to an external physics system. <br><br></td></tr></table><br>
<a name="211220"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SSS</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> here is just something random, i know its not made with blitz but its sooo cool, maybe he could release an article on how to do it or something because it is a great phisics system<br><a href="http://www.flipcode.com/cgi-bin/msg.cgi?showThread=04-30-2003&amp;forum=iotd&amp;id=-1" target="_blank">http://www.flipcode.com/cgi-bin/msg.cgi?showThread=04-30-2003&amp;forum=iotd&amp;id=-1</a> <br><br></td></tr></table><br>
<a name="211342"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> "You want the car body to instantly match the orientation of the physics body, you don't want it to slowly turn to get there, because in that case what you see on screen is not really what is happening behind the scenes in the physics."<br><br><br>Yes, that's part of what I was saying. Using aligntovector with a value other than 1.0 to "smooth out" the motion is a hack.<br><br>The other part of what I was saying may not apply.  I haven't taken a careful look at the demo.  I thought that the physics sytem might be giving you back a direction to rotate the object with a velocity, or that you were running the physics system at a lower framerate than the actual framerate which means you'd have to interpolate the positions.<br><br>If that is not the case, okay.  But it still looks like the problem with the snapping is that the joint there lacks a spring, and without that it's no wonder the car can't steer around corners when going uphill very well.<br><br>Of course I am again assuming a mistake was made and that it is not the physics engine at fault, not having seen the code.  However, you yourself admitted that you did not build a full suspension system model.  So there's no reaosn for me to assume you put a spring in that part of the car.<br><br>Anyhow, the fact is that if you create a poor model of a car, then it will drive poorly.  Same thing goes for modelling planes.  When Looking Glass was first making Flight Unlimited, the programmer finished coding all the physics, and all his planes kept crashing into the ground.  He talked to another programmer about it, and asked him what was wrong, and he realised that he was modeling airflow over a wing realistically, but the wing model itself was not realistic so it didn't work!  The physics were so good that the plane itself being modeled improperly resulted in the physics sending the plane hurtling into the ground everytime... exactly as would happen in the real world.<br><br>So you'll never know how good a job this physics sytem does modelling vehicle behavior until you actually model a realistic suspension system based on a real car.  That's the only way to truly say whether the system can model a car properly.  Any other test which results in crappy driving proves nothing at all about the quality of the simulation unless you have a real car built the same way to test against.<br><br>Of course you do not have to model things exactly, but there is a certain level of modeling you need to do.  And if the wheels don't stick to the ground when you go over obstacles, well then you've got a problem.  If I recall your tires are each on some kind of a shock...  Perhaps if you simply got rid of that pivot in the center of the car it would help.  Then at least you'd be modeling an RC car.  That pivot could be resulting in some weird behavior with one tire pushing the other tire down into the ground or something.  I dunno.<br><br>Anyhow, I just think you gave up on it too easily.  That monster truck demo almost seems fun, and it seems that all that it needs is some tweaking and a wider track you don't fall off of all the time to make it a little better.  Like make a big terrain with rolling hills.  That would be fun. <br><br></td></tr></table><br>
<a name="211456"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> Take initial position.<br><br>Do anything you want to it, move it, update collisions, move it some more.<br><br>Subtract initial position from current position, and that's how fast it's moving.  This will make things slide off walls, accelerate, decelerate, and can be modified to transfer energy or bounce. <br><br></td></tr></table><br>
<a name="211570"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> My god Halo, why didn't I think of that before!  Forget about contrained joints, springs, friction, gravity, torque, lift, drag, side slip, and center of mass!<br><br>Genius!<br><br>... <br><br>Of course that is assuming the only kind of game you're interested in making is a simulation of Pool or Pong or Asteroids.  <br><br>And a poor simulation at that.  <br><br>What happens when your ball is one inch from the wall the frame before it hits it?  Hitting the wall stops it, so that frame your ball loses most of it's velocity and slows to stop.  That's not right.<br><br>The only thing you'd want to subtract current position from previous position for is to determine WHEN a collision occured between frames so that you can then move the ball that extra amount for a slightly more accurate physics simulation.  <br><br>In practice however, such inaccuracies are unnoticable with simple physics simulations but will cause problems with more complex simulations probably. <br><br></td></tr></table><br>
<a name="211662"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> LOL.<br><br>Anyhow, the car model in the demo is made from a number of ODE objects and ODE joints - the wheels are spheres (an unfortunate problem but there is no cylinder-&gt;poly collision in Blitz at the moment to get around this), and the body is a cube.<br><br>The wheels are joined the to body by 4 special CARWHEEL ODE joints. These incorporate 2 axes of powered movement (vertical rotation (steering) and a horizontal axle (forward/backward)), and also a springing suspension system that operates along a defined axis (probably vertical in the demo I think).<br><br>The problem with the AlignToVector use is that the Blitz visual object doesn't get oriented correctly to the ODE box (body) unless the rate parameter is changed on some versions of Blitz. The physics system and subsequent physically actions of the car are entirely unrelated to the use of this command. You can remove it completely and the car will still drive exactly the same as before.<br><br>In fact, you can entirely remove the Blitz side of things (minus the input routine) and the car will drive the same (albeit without poly collision and thus interacting with ODE objects only).<br><br>You need to understand how that the physics is totally independant from the Blitz bits - the only feedback added was to force sphere-&gt;poly collisions with the track model.<br><br>This ODE model of the car would drive exactly the same in a program written in C or whatever. Look at the ODE Buggy (C++) demo - the same problems and 'feel' to the car are there too.<br><br>This is in my opinion the major problem with an external physics system - getting info back and forth is difficult and you have to bully the system into doing what you want.<br><br><div class="quote"> <br>Anyhow, the fact is that if you create a poor model of a car, then it will drive poorly<br> <br></div><br><br>Yes, but it's not the car model at fault, it's the tyre model, or more precisely the complete lack of one. The suspension joints in ODE are prefectly OK, but without at least some form of realistic simulation of rubber on tarmac <br>the car will behave like it's either driving on ice or on velcro. There will be no static-&gt;sliding friction changes etc.. that make up a real car model.<br><br>I really wish someone would package up a "CAR PHYSICS SYSTEM" userlib for Blitz, incorporating all these things. <br><br></td></tr></table><br>
<a name="211786"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> "Anyhow, the car model in the demo is made from a number of ODE objects and ODE joints - the wheels are spheres (an unfortunate problem but there is no cylinder-&gt;poly collision in Blitz at the moment to get around this)"<br><br><br>You COULD use meshesintersect though, and toss out the whole Blitz collision system.<br><br>Cylinder collisions alone will not give you an accurate simulation of a tire any more than a sphere will.  Real tires deform where they press against the ground and you get a square cross section of area where contact occurs.  That's a lot more contact than you would get with a cylinder which would contact at only a single line.<br><br>But it may be that for the purpouses of the simulation that is totally uneccessary detail.  If that is the case however, then I would argue that the sphere collision model should therefore be just as good as a cylinder model for the tires.  <br><br><br>"The suspension joints in ODE are prefectly OK, but without at least some form of realistic simulation of rubber on tarmac the car will behave like it's either driving on ice or on velcro."<br><br>Yeah like I said.  But one thing I was considering now is that you're inputting certain values into the physics simulation that take that into account aren't you?  I mean, you have to tell it how much the sphere sticks and slips.  It doesn't calculate that at ALL using the actual surface area of the sphere that is in contact with the road.  So making a more accurate contact model seems like it would really only have an effect when transitioning from flat surface to a hill breifly.<br><br><br>Anyhow, you still haven't explained one thing.  Why do the front two tires of the car seem to jerk suddenly, rotating to the left or right, and then sticking in that orientation after you go off a jump?  That is the problem which I think a spring would solve and which I think would help to improve the driving model.  Without a spring there it seems to me that that will cause all sort of prblems, especially on landings.  Those front tires should not be so easily forced to rotate like that and once rotated they should spring back quickly to a neutral position while in the air so the car lands on all four tires and not on just three with one at an angle.<br><br><br>"I really wish someone would package up a "CAR PHYSICS SYSTEM" userlib for Blitz, incorporating all these things."<br><br>I thought about doing that once, but simulating physics on this level is about 100x harder than simulating an airplane and I had a hard time juet getting the numbers I needed for a real plane to be able to simulate it and m resulting simulation didn't feel very good.  And it took me a week to program.<br><br>But stick and slip and sliding friction and stuff... These things require a college level knowledge of physics, and a knowledge of calculus to be able to read the formulas online which I don't have.  And I don't know anyhting about driving a racecar (or a plane for that matter) and so I don't know what feels right and what feels wrong... which makes it impossible to debug such a simulation.<br><br>So that's why I haven't done that. :-)<br><br>I figure if I make a car game eventually I'm going to stick to a simpler simulation.  I'll model springs for shocks, and use my ball bouncing physics with variable elasticity for the tires, and add some movement constraints so that there is a lot of friction when the car tries to move sideways but little friction when it moves forward and backwards so that it will be ableto slide sideways if a big enough force is applied, but tend to roll forwards and backwards only. <br><br></td></tr></table><br>
<a name="211851"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >c5ven</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> by "stick and slip" i assume you're all referring to the two different coefficients of friction attributed to a material.  don't believe that would be too difficult to get a handle on, but could be a bear to implement.<br><br>assign the first material "stick" coefficient until a force acting on the vehicle (in a turn - centrifugal force for example) overcomes the resisting force (a function of the "stick" coefficients for the contact materials and the footprint as well as other things like vehicle weight).  when the resisting force is overcome, material "slip" coefficients replace the "stick" coefficients and the vehicle would start accelerating sideways (in this example).<br><br>you would need a cylinder and not a sphere.  and deformation would be important; for example, the vehicle comes over a hill while turning (could be just an undulation in the surface actually):<br>- vehicle's downward motion causes the wheel to deform<br>- the increased footprint causes a subsequent increase in the resistant force (i.e. the "stick" coefficient combined with the other properties result in a larger force to be overcome before you can switch to "slip" coefficients)<br>- if the resisting force is too large the vehicle might spin or flip depending on its CG and such<br>- during all this time the vehicle's footprint is changing as it bounces around (primarily vertically) and the resistive force is also changing, so whether it sticks or slips if very much a function of the vehicle's suspension which influences tire deformation<br><br>there's plenty to consider, but when broken down a reasonable simulation could be achieved.  but effectively breaking down the problem and determining how detailed is good enough is the first step. <br><br></td></tr></table><br>
<a name="211917"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> "You COULD use meshesintersect though, and toss out the whole Blitz collision system. "<br><br>Unfortunately not - the collision system relies upon Blitz returning collision normals and locations, which then get passed to the ODE DLL and used to generate all the collision contacts. MESHESINTERSECT doesn't return either of these vital bits of info.<br><br><div class="quote"> <br>Anyhow, you still haven't explained one thing. Why do the front two tires of the car seem to jerk suddenly, rotating to the left or right, and then sticking in that orientation after you go off a jump?<br> <br></div><br><br>That's something I've not seen - I can only assume that's one of the by-products of running the demo on a later version of Blitz where the change was made to the ALIGNTOVECTOR command. On my version the front wheels react smoothly and turn smoothly as you steer - there are no sudden changes or flicks at all.<br><br><div class="quote"> <br>and which I think would help to improve the driving model<br> <br></div><br><br>I don't think so - the effect you're seeing must be a visual artefact as I mentioned above, and therefore has absilutely no impact on the phyiscs side of things at all. You need to remember that what you're seeing on-screen doesn't necessarily represent what the physics is doing. Due to that ALIGNTOVECTOR problem the visual wheels can jerk around all over the place, but in the background the physics happily soldiers on entirely un-aware of these things.<br><br>Actually, having just read what I've just written, a thought occurs - the program uses Blitz's collision system to generate collision normals and points. If the ALIGNTOVECTOR command is screwing up the orientation of the Blitz wheel object, the collisions Blitz generates will be wrong, and this wrong info will then get passed to the DLL and things will go screwy.<br><br>Of course that will only apply when the truck is driving up on the mesh track - the invisible ground plane is an ODE object and is therefore unaffected by this problem as it uses ODE's internal collision system and is independent from the Blitz-generated collisions.<br><br>So if you get any visual weirdness when driving on the flat ground plane, then it's not affecting the physics system at all. <br><br></td></tr></table><br>
<a name="212004"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> "Unfortunately not - the collision system relies upon Blitz returning collision normals and locations, which then get passed to the ODE DLL and used to generate all the collision contacts. MESHESINTERSECT doesn't return either of these vital bits of info."<br><br>Hm... well then you could write your own meshesintersect function. :-)<br><br><br>"On my version the front wheels react smoothly and turn smoothly as you steer - there are no sudden changes or flicks at all."<br><br>I don't think you understand.<br><br>Imagine the wheel assembly is like so:<br><br>o-|-o<br>..X<br>..|<br>o-|-o<br><br>Each of the o's is one tire.<br><br>Now notice the X.<br><br>When going off a jump, whatever is at the X acts like one of the wheel joints.  It rotates around the center axis of the car.  Thus when the left front wheel goes up, the right one goes down.<br><br>This is where the front wheels are rotating.  In order for them to DO that, you must either have placed a joint there or something is not being constrained properly.<br><br>That X is where I was saying it would be better to have a spring rather than a simple joint, and that no joint at all would be better than having one that doesn't have a spring on it.<br><br>You coould be right that this is not realted to the physics at all.  However, when driivng the car and landing it does seem to affect how fast the car can move forward until it resets itself.<br><br><br>"So if you get any visual weirdness when driving on the flat ground plane, then it's not affecting the physics system at all."<br><br>When I jump off the track, the tires snap-roll to one side.  then when I land on the infinite plane this cuases the car to behave improperly, but eventually it sorts itself out and drives around normally. <br><br></td></tr></table><br>
<a name="212213"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah, I see. What you're seeing is rotation around the actual position of the front carwheel joints - they used to be located at the centre of the wheel they control, as you find in real life (almost), but this gave the car a tendancy to topple over it's own front wheels as it cornered. Therefore I experimented with the position of the joint and moved it backwards and inwards relative to the (front) wheels.<br><br>To change this, you just need to alter the position parameters of the appropriate CREATEJOINT function call within the Blitz program. The ODE doc I wrote tells you which these are, but it should be simple enough to find it via trial and error anyway - there are only a few parameters.<br><br>The approach you're describing, where the left wheel goes up as the right goes down, sounds very much like an old live-axle vehicle suspension, which you only find on the rear of cars. As each wheel in the ODE car already has completely independent suspension and springing, I fail to see how this would improve the car model at all - it'd just introduce yet another unrealistic variable into the mix.<br><br><div class="quote"> <br>When I jump off the track, the tires snap-roll to one side. then when I land on the infinite plane this cuases the car to behave improperly, but eventually it sorts itself out and drives around normally.<br> <br></div><br><br>As I said before, I've not seen any of this weirdness, except with the unmodified or incorrectly set ALIGNTOVECTOR command, so I can only assume you still haven't changed it as mentioned before, and there is therefore little I can do to help. You may see it as a bodge (can't see why though - it's just altering the command behavior within specified limits), but it works just fine for me and I believe for most others. <br><br></td></tr></table><br>
<a name="212216"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Hm... well then you could write your own meshesintersect function. :-) <br> <br></div><br><br>Well there is a collision system called TRICOLLIDER, that is being used with ODE by many people (outside of Blitz). I've looked at it but it goes a bit above my head. <br><br>I believe however that somebody else here on the forums said that they were creating their own ODE DLL/userlib, that incorporated this library to give perfect collisions, totally unrestricted by the Blitz collision system.<br><br>I really hope they have something that can be used - ODE combined with TRICOLLIDER seems to be very robust and reliable. <br><br></td></tr></table><br>
<a name="213276"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SSS</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> you guys should check out the ridged body physics system in the code archives under algorithms <br><br></td></tr></table><br>
<a name="214189"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, I wrote that one also, and it's just a spring and mass system that can be used to simulate some forms of ridid(ish) or deformable body. It's certainly not any form of full physics system. <br><br></td></tr></table><br>
<a name="286966"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LostCargo</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> has anyone been able to port anything stable to a dll or package something other than a basic Verlet engine? <br><br></td></tr></table><br>
<a name="287003"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bradford6</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> If someone is going to write a wrapper, do it for this...<br><br><a href="http://www.tokamakphysics.com/" target="_blank">http://www.tokamakphysics.com/</a> <br><br></td></tr></table><br>
<a name="287004"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LostCargo</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks for the info brad i will take a looka t this tool <br><br></td></tr></table><br>
<a name="287161"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sweenie</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> I managed to do a wrapper for Tokamak and used it successfully with Visual Basic.<br>I'm currently making a wrapper for Blitz, but I want permission from the Tokamak creators before going any further. <br><br></td></tr></table><br>
<a name="287165"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CopperCircle</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> A wrapper for Tokamak would be great.  I hope you finish it. <br><br></td></tr></table><br>
<a name="287226"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LostCargo</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#51">[#51]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sweenie, No doubt! i would be all for that. <br><br></td></tr></table><br>
<a name="287227"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#52">[#52]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool, go Sweenie! <br><br></td></tr></table><br>
<a name="287320"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bradford6</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#53">[#53]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://www.adamdawes.com/programming/tokamak/index.html" target="_blank">http://www.adamdawes.com/programming/tokamak/index.html</a><br><br>VERY liberal license agreement<br>1) The LICENSEE may not redistribute the SOFTWARE, except as part of a compiled software program that is not itself a physics library. <br><br>2) The LICENSEE may not use the SOFTWARE to reverse engineer the computer algorithm used by the SOFTWARE. <br><br>3) The LICENSEE agrees to credit the use of the Tokamak physics library in any program information, including splash screens, "About" dialogs, program notes or instructions and shrink-wrapped packaging. <br><br>4) The LICENSEE agrees to notify Tokamak Physics (the Company) of any products, commercial, shareware or free that incorporate the Tokamak library. <br><br>5) The LICENSEE agrees that the Company can refer to any such product as described in item (4) in its promotional material or press releases unless a specific agreement is made with the Company prior to its usage.<br><br><br>looks like as long as you:<br>1. mention and credit Tokamak<br>2. Tell Tokamak what your did/ are doing<br>3. allow them to advertise for you!<br>4. do not reverse engineer or sell/release product as a physics library<br><br>you are golden.  <br><br>I am sure that if Mark wants to incorporate Tokamak 1.x into Blitz, he very well could with Tokamak's permission <br><br></td></tr></table><br>
<a name="295626"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sweenie</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#54">[#54]</a></td></tr></table></td></tr><tr ><td class="posttext"> Finally I got an answer from the Tokamak staff.<br>They will let me create the wrapper as long as I don't distribute it myself.<br>That means that as soon as I've finished the wrapper it will be available for download on their website.<br>Starting to get a little nervous, as it feels as alot of people are watching my progress... ;) hehe<br><br>One thing that is worrying me a little is that the agreement is that I create a dll which in turn calls the TokamakDLL.<br>I'm not sure how much this affects the performance of the physicsengine.<br>I will do some speedtests and if the results show a large loss of speed due to API-call overhead I will beg them, standing on my bare knees to let me integrate the physicscore inside the wrapper.<br><br>I've already simulated 500 cubes and spheres falling into a hollow box with acceptable framerate.<br><br>You are welcome to check the <a href="http://www.tokamakphysics.com/" target="_blank">tokamak site </a>, but I will let you know on this forum as soon as the wrapper is done.<br><br><br>//Sweenie <br><br></td></tr></table><br>
<a name="295651"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >poopla</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#55">[#55]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sweenie, What will the edn user agreement for those of use who want to use it?<br><br>If it removes the developers ability to sell a project using it without releasing their sourcecode, or anything like that, then I will continue my plans to eventually release the verlet library i've been working on. <br><br></td></tr></table><br>
<a name="295653"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Almo</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#56">[#56]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think Tokamak only requires you put their logo on your game so people know you used it. <br><br></td></tr></table><br>
<a name="295654"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >poopla</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#57">[#57]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm interresting.. will have to see the speed results. <br><br></td></tr></table><br>
<a name="295695"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#58">[#58]</a></td></tr></table></td></tr><tr ><td class="posttext"> A wrapper for Blitz would be fantastic. For the future, this needs to be a BlitzMax module. Whether written by Mark or someone else, isn't really imperative, but it would make BlitzMax so much more of a saleable product to be able to advertise in-built integration with the Tokamak physics engine. <br><br></td></tr></table><br>
<a name="295794"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LostCargo</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#59">[#59]</a></td></tr></table></td></tr><tr ><td class="posttext"> sweenie. good for u. Are u using any worklogs on this site? <br><br></td></tr></table><br>
<a name="295795"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >poopla</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#60">[#60]</a></td></tr></table></td></tr><tr ><td class="posttext"> well, I've got my physics engine to the point it can quickly and easily be set up for simulating about anything... cloth, chains, vehicles, grenades, yada yada.  :)<br><br>Going to work on adding boyancy and allowing Constraints to break when they are stressed too far(Aka: blowing doors off hinges, or smashing car doors off.... or....  hmm anything that you want to break apart.  <br><br>After that I have to add ragdoll junk and it's done.  Since we dont have fast polygonal collision I'll probably set up a kludge system to allow object stacking realistically. <br><br></td></tr></table><br>
<a name="295803"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >poopla</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#61">[#61]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just got a good laugh watching the jeep in my game get blown off a cliff by gale force winds :D... HAHAHAHA.  ;)   Good times for sure. <br><br></td></tr></table><br>
<a name="295832"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LostCargo</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#62">[#62]</a></td></tr></table></td></tr><tr ><td class="posttext"> shattered. have you implemented a friction loss point. ie when your jeep drives around a corner, when the centrifugical force exceeds the friction with the ground, the car slides, or drifts. Other implementations i have seen tend to break loose then grab again immediately.<br><br>are there any joints and springs? <br><br></td></tr></table><br>
<a name="295844"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >poopla</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#63">[#63]</a></td></tr></table></td></tr><tr ><td class="posttext"> as for friction, I have the code in another program to allow an object to slide with linear momentum at a certain friction value.  So, when the friction value of the tires in contact with the ground is overcome, the vehicle would slide, yes.  I think I'll spend more time on the vehicle physics though. <br><br></td></tr></table><br>
<a name="295969"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sweenie</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#64">[#64]</a></td></tr></table></td></tr><tr ><td class="posttext"> @ShatteredReality, I believe it's like AlmoAtAcclaim says.<br>You should be able to use it how you like as long as Tokamak gets credits for their work.<br><br>@Baudspeed, I will start using worklogs.<br><br>The internal speed of Tokamak is fast.<br>On my computer it performs all physics calculations for 256 cubes on 1.9 - 3.5 ms depending on the number of collisions.<br><br>The speedloss may occur when fetching the position and rotation info for all 256 cubes.<br>Currently i'm doing it the "Blitz" way.<br><br>GetRBx#() ; position<br>GetRBy#() ; position<br>GetRBz#() ; position<br>GetRBqx#() ; quaternion<br>GetRBqy#() ; quaternion<br>GetRBqz#() ; quaternion<br>GetRBqw#() ; quaternion<br><br>That is seven API-calls just to get the position and rotation of one rigidbody.<br><br>It would probably be faster to pass a BlitzBank or a structure/type and fill it with the values.<br>That would bring it down to One API-call.<br>Testing will be done.<br><br>Perhaps the Object/Handle thingy could be used. *nutch, nutch*<br>But all the talk about their *unofficial* use, makes me a little unsure wether to use them or not. <br><br></td></tr></table><br>
<a name="295997"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#65">[#65]</a></td></tr></table></td></tr><tr ><td class="posttext"> They are pretty official AFAIK. Mark said he had no plans to change them.<br><br>They might change in BlitzMax or something? <br><br></td></tr></table><br>
<a name="296000"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >poopla</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#66">[#66]</a></td></tr></table></td></tr><tr ><td class="posttext"> tokamak is very impressive.  Anything I can do to help you finish this, and I'm more then glad to do it. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
