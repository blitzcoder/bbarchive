<!DOCTYPE html><html lang="en" ><head ><title >Car Lights on the ground</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Car Lights on the ground</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Car Lights on the ground</a><br><br>
<a name="650611"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi friends. I am trying to add some fake lights to my cars. I have created a plane on the ground, with entityblend 3 and sized correctly to match the vehicle. Then applied a simple white-over-black texture.<br><br>Is this a good way? <br>Where could i find a good light texture? (this is most important, hehe).<br><br>Thanks! <br><br></td></tr></table><br>
<a name="650612"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is the Actual Result: (how to make it better?)<br><br><img src="http://www.granadaracer.com/carlights.jpg"> <br><br></td></tr></table><br>
<a name="650615"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Use a texture which is faded so that the part of the 'light plane/mesh' close to the car is bright and the part which is far from the car is dark.  <br><br>If you want shadows from any objects in front of the car, within the 'lit area' take a render from the light's perspective, make sure any shadow casting objects are colored black and then apply the resulting render to the texture, perhaps as a second layer multiply blended with the first. <br><br></td></tr></table><br>
<a name="650617"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for your answer Matty. I am not going to make any shadows for that plane/light, because i don't have more fps to spend ;)<br><br>If someone had a good light texture for that... I have created that in photoshop with just two ovals...<br><br>P.D: Why can i see a line at the end of the plane!?!?! the original bmp does not have it... <br><br></td></tr></table><br>
<a name="650645"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeppe Nielsen</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Using the Clamp UV texture flags might help, 16+32, if I remember correctly. <br><br></td></tr></table><br>
<a name="650920"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Suggestion, use a torch (flashlight) in a dark room on a sheet of white paper, then take a picture with a digicam. This way the borders will be blurred realisticly. of course you need to use the same angle as with the car. <br><br></td></tr></table><br>
<a name="650938"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IPete2</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> jfk - what a cool innovative idea... nice one dude!<br><br>IPete2. <br><br></td></tr></table><br>
<a name="650962"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great, thanks, but you have given me a great idea. I am going to simulate the torch in 3dsmax, then render, and i get the texture i need! <br><br></td></tr></table><br>
<a name="651039"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could try something like this -<br><img src="http://www.jameskett.dsl.pipex.com/NIGHT.jpg"><br><br>and the two textures used if you want to try them -<br><a href="http://www.jameskett.dsl.pipex.com/headlight1.tga" target="_blank">http://www.jameskett.dsl.pipex.com/headlight1.tga</a><br><a href="http://www.jameskett.dsl.pipex.com/headlight_beam.tga" target="_blank">http://www.jameskett.dsl.pipex.com/headlight_beam.tga</a> <br><br></td></tr></table><br>
<a name="651053"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey, great lights! Is it yours?<br><br>Thanks for the textures! <br><br></td></tr></table><br>
<a name="651068"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> How can i force the headlights to be drawn before the car, but not before map, other players, etc???<br><br>Edited: Actual Result:<br><br><img src="http://www.granadaracer.com/carlights2.jpg"> <br><br></td></tr></table><br>
<a name="651114"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could use Entityorder but you'd loose z-buffer control so it may look a bit screwed up.<br><br>Stevie <br><br></td></tr></table><br>
<a name="651213"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, i cannot use entityorder, because then all the headlight would appear in front of buildings, etc...<br><br>and if i position the light too far from the car, when it is viewed at more than 45º the result is not good...<br><br>Any other ideas?<br><br>(anyway thanks for all, the result is acceptable right now) <br><br></td></tr></table><br>
<a name="651224"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> You do a linepick from the light to the camera (or the other way round) and see if anything gets in between.  When the light isn't in view you fade it's alpha quickly down to zero, and the reverse when it comes back into view.  This gives it a persistance of vision effect, and as a happy by-product means you only have to check one light per frame. <br><br></td></tr></table><br>
<a name="651320"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> I can't do that. I have 8 cars at the same time, in a city with 30.000 polys. Linepick is too slow. By the moment i am calculating the angle between the car and the camera, and fading the light when the angle is greater than 45º... <br><br></td></tr></table><br>
<a name="651340"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, i will use the ray collisions from ODE. Fast and very good! <br><br></td></tr></table><br>
<a name="651346"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Kurix, Looking good!<br><br>ODE rays are good, I just wish they would be immediate. You have to wait one physics update before they return a hit. :/ <br><br></td></tr></table><br>
<a name="651360"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's not true Cygnus! I have wrapped the dCollide function, then you can create the ray in a ZERO space, and call it like:<br><br>ODE_dcollide(ray,trimeshspace)<br><br>and then:<br><br>ODE_dgeomgetcollisioncount(ray)<br><br>;) <br><br></td></tr></table><br>
<a name="651366"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Whoops, it's my flawed logic. I've got used to having collision and update in a single function. This could come in handy :) the way i used to use ODE, the whole lot of collision checking (some of which was done by blitz) would occur at PhysicsUpdate. :)<br><br>*sigh* The guys i'm working with are going to start bashing me aronud the head now! :P<br><br>[edit] Our commands are different however i was able to build a similar command set, the above doesn't work for me although it clearly should. My problem is in Blitzmax though so i wont be dirtying up this thread :D <br><br></td></tr></table><br>
<a name="651403"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Kurix - are you colliding against the actual level mesh (with 30,000 polys)?  Wouldn't it be better to use some proxies for collisions (and linepicks)?  And/or you could reduce the processing by breaking the level up using a quadtree (or similar).<br><br>Are ODE rays faster than linepicks? <br><br></td></tr></table><br>
<a name="651411"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> I can do 100 rays in ode with less that 2ms, and i only need about 20 rays!<br><br>Yes, triangle meshes in ode are really really fast... very much faster that linepicks <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
