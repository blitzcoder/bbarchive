<!DOCTYPE html><html lang="en" ><head ><title >Blitz3D Lights VS. Lightmapping?!?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Blitz3D Lights VS. Lightmapping?!?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Blitz3D Lights VS. Lightmapping?!?</a><br><br>
<a name="366107"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kozmi</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok Guys,<br><br>This is going to sound like a complete stupid question here,<br>So please forgive it, ok?! I just was wondering in my head if it's possible to use a Blitz3D <b>Omni</b> light along with a level that has been lightmapped in gile[s]???<br><br>I've been trying to create this effect you see, Where my player is carrying around with him a torch through some dark cooridores of this level im' designing at the moment!<br>I want my torch to give off light in these dark cooridores and areas... But i've been having trouble getting my light to work... :( I take it that you can't use a regular Omni light along with a lightmapped level then correct? And if this is the case and all, Why is this then? And can someone possibly post a code example showing how I would use just such a effect with my torch? Id' greatly appreciate it very much so! Thank's Guys!! <br><br></td></tr></table><br>
<a name="366146"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can do it, but I wouldn't recommend it.  You must remember that DX/Blitz lights only light vertices, so that may only really effect the corners of your rooms.<br><br>You might want to think about using a blended sprite (or similar) to simulate the light cast by your torch. <br><br></td></tr></table><br>
<a name="366152"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I take it that you can't use a regular Omni light along with a lightmapped level then correct? <br></div><br><br>By default, that's correct.<br><br><div class="quote"> And if this is the case and all, Why is this then? <br></div><br><br>Because Gile[s] - like most lightmappers - enables fullbright on all lightmapped objects, which stops any blitz lights from affecting them. You've already applied light to the objects. If you were to allow Blitz lights to affect the objects again, you would effectively be doubling the intensity of your lights. The idea is to have Blitz lights to light non-lightmapped objects so that they match the lightmapped objects. If you were "double-lighting" the levels, the characters would only be single lit, and would still not match.<br><br>If you really, really want dynamic lights, you would normally use only dynamic lights and no lightmapping. That's not particularly viable in Blitz because blitz doesn't have per-pixel lighting or shadows. So for Blitz purposes, I would probably be inclined to use a blended sprite/quad like Beaker suggested. <br><br></td></tr></table><br>
<a name="366279"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neochrome</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok, i did this once, but my sprite wasn't very good, i basically did a PNG with an alpha map and had a white circle of about 127,127,127 for the light intensity. it work OK, but when i was in a dark room, all i saw was a circle of white (dark gray actually) instead of what a vertex light would have done. <br><br>How would i get about this? would dot3 blending (4) work at all?? <br><br></td></tr></table><br>
<a name="366348"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kozmi</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmmmm...<br><br>Ok! Thank's Guys for your helpful suggestions and all!<br>As a special note also, I just realized that this effect I once done in 3D GameStudio and all... I just remembered that 3D GameStudio has Dynamic Lights with their engine!<br>This would also explain why with their engine, that when you light a room with their engine, You need only apply... Or... drop a light into that room and render it, And the room will have it's light &amp; shadows automatically!! Duh!!!<br>It would be cool if Mark Sibly would include Dynamic Lighting in the near future. But that would probably mean that he would have to step up to DX8 or DX9 to accomplish this! And I just read just yesterday in one of his work logs... I think?!? That he said he wasn't going to move up to DX8 or DX9 for Blitz 3D! So I guess that idea got shot out of the water huh? Anyways!! I did find a code snippet in the archives that Fredborg wrote that is called: <b>Textured Spotlight</b> that look's like it should do the trick! ;) However though! My only concern now is when I use this code sample of Fredborg's... I wonder how the dark area's are going to look when I use this kind of fake lighting?!? I am assuming it probably wont look just right!<br>Oh no!!!! :( <br><br></td></tr></table><br>
<a name="366374"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Blitz HAS dynamic lights. CreateLight() creates a dynamic light. If you disable FullBright on the lightmapped geometry, these lights will effect your levels too. I don't recommend it, but you're free to experiment. <br><br></td></tr></table><br>
<a name="366385"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> A method to remove the effect of lightmapping would be cool. This is proper illumination with lightmaps. <br><br></td></tr></table><br>
<a name="366407"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kozmi</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok! thank's Sybixsus for clearing that up for me there! I might try to experiment a little with this and see what happens! ;) <br><br></td></tr></table><br>
<a name="366414"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you want to make a hardware light "remove" lightmapping wherever it is shining, ie, make shadows go away, then you have to set up your lightmap object/surface the following way.<br><br>Lightmap texture - add blend<br><br>Lightmap Surface/Object - Whatever blending mode you're using for it.  If it's blended on top of textures then that would be multiply or multiply x2.<br><br>Lightmap object/surface must be white, with texture on top.<br>Must have fog turned off.<br>Must have ambient turned off, unless you want ambient light to make it so no area can be fully black.<br>Must NOT be fullbright.<br>Probably want to set specular to 0, but do not have to.<br><br>And that's it.  Now all areas lit by lightmaps will be lit.  But those areas which have dark lightmaps on them will be affected by the Blitz lights and brightened up accordingly.<br><br>The only caveat is that if your surfaces don't have enough polygons hardware lights won't light them very well.  If you have a big flat wall, then you'll want it to be divided into a grid to make the hardware lights look better.  Same for the floor. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
