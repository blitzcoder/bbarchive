<!DOCTYPE html><html lang="en" ><head ><title >[Solved] Shadows with AnimMesh support</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >[Solved] Shadows with AnimMesh support</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >[Solved] Shadows with AnimMesh support</a><br><br>
<a name="1314091"></a>

<a name="1314092"></a>

<a name="1314093"></a>

<a name="1314094"></a>

<a name="1314229"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Going back to B3D, I've seen a lot of shadow techniques, including Yasha's and AShadow but all of them seem to work on static models only.<br><br>I'm not going for FastExt route as I'm now using 1.108c.<br><br>thanks <br><br></td></tr></table><br>
<a name="1314102"></a>

<a name="1314103"></a>

<a name="1314104"></a>

<a name="1314105"></a>

<a name="1314106"></a>

<a name="1314107"></a>

<a name="1314108"></a>

<a name="1314109"></a>

<a name="1314111"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am not aware of Yasha shadows system, can you please show me an example ?<br><br><br>From my tests, you can use FastExt shadows with one direct light in the scene (the texels are considered as casters), or Devil shadow system (DSS) with one omni light in the scene (the triangles are considered as casters) (best looking shadows imo). I have not tested AShadow shadows system.<br><br>If you want to cast shadows of simple shapes (columns, containers, furnitures, machines, low details characters), i suggest DSS, but if you plan to cast shadows of complex shapes (trees with leaves, bushes, shapes with opaque texels and transparent texels), i suggest FastExt.<br><br>As always, the best way to know is to do some tests with simple scenes...<br><br>If you want to use skinned animated characters with DSS, you will have to use the addons by Bobysait (to be able to get the skinned vertices positions) and to mod the code so that you can build/update casters depending on the current shape of the skinned animated mesh.<br>Also with DSS, you need to have low details casters because a shadow volume is calculated each frame by considering the vertices of the caster. (so you will need to have a clean mesh without duplicated vertices) <br><br></td></tr></table><br>
<a name="1314138"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi RemiD,<br><br>Here is Yasha's shadow example:<br><br><a href="https://sites.google.com/site/nangdongseng/downloads/Shadow.zip?attredirects=0&amp;d=1" target="_blank">https://sites.google.com/site/nangdongseng/downloads/Shadow.zip?attredirects=0&amp;d=1</a><br><br>I forgot about DSS, will try this out but the only problem with it is it does not have the source dll. <br><br></td></tr></table><br>
<a name="1314139"></a>

<a name="1314143"></a>

<a name="1314144"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> BTW, the animated shadows in DSS and AShadow only supports morph animation. I can see it is using the Mak robot model with morphs.<br><br>EDIT: Ok it looks like .X only animations for DSS but I have not tested it yet. <br><br></td></tr></table><br>
<a name="1314153"></a>

<a name="1314154"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <img src="http://i67.tinypic.com/2nsvyo1.png"><br><br><br><a href="https://dl.dropboxusercontent.com/u/39767349/ombres-V01-00.zip" target="_blank">https://dl.dropboxusercontent.com/u/39767349/ombres-V01-00.zip</a> <br><br></td></tr></table><br>
<a name="1314156"></a>

<a name="1314157"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks a lot Yue, but as I was saying that is not boned animation and not even vertex animation.<br><br>That is morphed animation where the robot is divided into different parts and move around in 3d space.<br><br>3DS file like that Mak Robot does not support vertex or bone animation.<br><br>Try loading your Pawn model with walk animation and see if it works.. ;-) <br><br></td></tr></table><br>
<a name="1314170"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>If you want to use skinned animated characters with DSS, you will have to use the addons by Bobysait (to be able to get the skinned vertices positions) and to mod the code so that you can build/update casters depending on the current shape of the skinned animated mesh.<br> <br></div> <br><br></td></tr></table><br>
<a name="1314171"></a>

<a name="1314172"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I will upload my version of DSS (slightly modified to make it faster) in the evening (if i find it) <br><br></td></tr></table><br>
<a name="1314176"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks RemiD. <br><br></td></tr></table><br>
<a name="1314197"></a>

<a name="1314198"></a>

<a name="1314199"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> @RustyKristi&gt;&gt;thanks, for the shadows example by Yasha. I have never seen this one...<br><br><br>Imo, devil shadows system produces the best looking shadows, especially for indoors scenes. (without trees, bushes)<br><br>However there are some limitations :<br>-you can't use high details casters, it is too slow to render.<br>-you can't use skinned animated casters (but thanks to the addons by Bobysait, now this can be done)<br>-you can't render several lights in the same scene (but i have an idea on how to do that, not sure if it will work well or fast enough)<br>-you can't cast shadows which considers transparent texels. (only the triangles of the casters are considered)<br>-it is glitchy on some low end computers (some netbooks) <br><br></td></tr></table><br>
<a name="1314201"></a>

<a name="1314202"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can somebody share a code example of shadows with AShadow ? I never managed to make it work on my computer, maybe i don't have the right decls dll ?<br>Thanks, <br><br></td></tr></table><br>
<a name="1314203"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> forgot the link to the site and examples but I got this one here:<br><br><pre class=code>Include "../AShadowBBinclude/fps.bb"
Include "../AShadowBBinclude/Ashadow.bb"
DrawProgress=0 ; disable draw progress

AGraphics3D 640,480,32,2

AmbientLight 50,50,70

SetBuffer BackBuffer()


camera=CreateCamera()
PositionEntity camera,0,25,30

light=CreateLight(2) ; create light
SetSLight(light,2)
PositionEntity light,50,80,0
Lsphere=ACreateSphere(4,light,0) ; create full-bright(not shadowing) sphere(in position of the light) 
EntityFX Lsphere,1

Center=CreatePivot()
PointEntity camera,Center


tex1=LoadTexture("wall_00.jpg")
ScaleTexture tex1,.3,.3
tex2=LoadTexture("wood_panel_00.jpg")


Cube=ACreateCube(0,2) ; create caster(Cube)
PositionEntity Cube,0,10,0
ScaleEntity Cube,5,5,5
RotateEntity Cube,91,0,0
EntityTexture Cube,tex2

cube2=ALoadMesh("cube.3DS") ; create shadowig cube
ScaleEntity cube2,50,2,50
EntityTexture cube2,tex1

MoveMouse GraphicsWidth()/2,GraphicsHeight()/2

While Not KeyHit(1)

If KeyHit(57)
alphaS#=1-alphaS# 
ShadowVolumesAlpha(alphaS#/10); change visibility shadow (SPACE)
EndIf

If KeyHit(15) SoftSelfShading=1-SoftSelfShading ; change Soft Self Shading mode (TAB)


 TurnEntity Cube,.01,.01,0

	ARenderWorld(camera)
;PostProcess_Render(camera)
;
Text 5,5,Fps(50) ; draw fps
Text 5,20,"ShadowTris: "+ShadowTris ; draw count tris in shadow volumes
Text 5,30,"RenderTris: "+RenderTris; draw count tris in scene
Text 5,40,"TimeShadow: "+TimeShadow; draw time for building shadow volumes

Flip 0
Wend
End</pre><br><br>Here's the full lib:<br><a href="http://www.mediafire.com/download/j5vi4di1g3jvylb/5_Ashadow_1.1.0.0.rar" target="_blank">http://www.mediafire.com/download/j5vi4di1g3jvylb/5_Ashadow_1.1.0.0.rar</a> <br><br></td></tr></table><br>
<a name="1314204"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> It looks like AShadows supports B3D Animation, I just don't know how to set it up.. :/ <br><br></td></tr></table><br>
<a name="1314205"></a>

<a name="1314206"></a>

<a name="1314207"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> @RustyKristi&gt;&gt;I have downloaded your rar and also the archives on the official AShadow website (they have the same size), but when i try to run a sample demo i have a pop up window "Runtime error" "User Lib version (v.1089) is not correct, you must update Ashadow.dll (v.1095)"<br><br>So does anyone know where to download this Ashadow.dll (v.1095)<br><br>Thanks, <br><br></td></tr></table><br>
<a name="1314208"></a>

<a name="1314209"></a>

<a name="1314210"></a>

<a name="1314211"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello, Ashadow not support animation skeleton but by vertex , the model ashadow robot is animated by vertex and not by bone and so this in 3ds format. So if you want a model in this example to encourage him to encourage him for vertex you have in 3d max.<br><br><br>Edit: <br><br>you downloaded the example of the shadows are bone ?<br><br><img src="http://i67.tinypic.com/2nsvyo1.png"> <br><br></td></tr></table><br>
<a name="1314213"></a>

<a name="1314214"></a>

<a name="1314215"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> After a quick look at the original DSS code and at the DSS + my mods code, it seems easy enough to mod it some more in order to consider skinned animated casters.<br>However, as i have already said, the casters will have to be low details (and closed meshes) or it will be too slow to render...<br><br>The only problem is that i know what to do but i don't have the motivation to code it, debug it, now...<br><br>But i can explain if somebody is motivated to do it... <br><br></td></tr></table><br>
<a name="1314227"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yue, You just repeated on what I have posted and it's not even vertex, it's morph animation. there's no bone example in there because there's not even a b3d file with bone in media folder on that demo to begin with. Thanks anyway. :-)<br><br>@RemiD<br>that's ok, thanks. I'll have a look at other works for now. BTW, does your DSS code work now with anim casters? what does it do? <br><br></td></tr></table><br>
<a name="1314228"></a>

<a name="1314230"></a>

<a name="1314231"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yue, it looks like the ombres demo does indeed work with B3D animated mesh, sorry for not trying it first and I made an assumption. it works great btw! :-) thanks a lot for this<br><br>Honestly I have seen this demo before but was hesitant to test it out because the same mak robot is being used. It does have limitations as any other solution but it is expected.<br><br>Problem solved! :D :D :D <br><br></td></tr></table><br>
<a name="1314233"></a>

<a name="1314253"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello, Google Translate No help much in some cases , I'm glad it work. <br><br></td></tr></table><br>
<a name="1314238"></a>

<a name="1314239"></a>

<a name="1314240"></a>

<a name="1314241"></a>

<a name="1314242"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Rusti&gt;&gt;my mods of DSS remove some useless procedures and add some functions to make it faster especially if your map is divided in different zones (like rooms), as i have mentioned it is now possible to have skinned animated casters if another mod is added (with the use of the addons by Bobysait), it is not done, but doable. I may do it in the future...<br><br><br>The blend between shadows of GOM shadows is ugly imo, and it seems slow with only a few casters in the scene... But if it is good enough for your project, good for you !<br><br><br>I am still looking for the Ashadow.dll (v.1095) or for a working example of shadows with the AShadow lib.<br><br>Thanks, <br><br></td></tr></table><br>
<a name="1314243"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes ok I figured the performance somehow when I used mid poly size models. I wonder how it would perform if this is done directly by c++ source or maybe optimized a bit. Obviously, the pure b3d implemenation is also a big plus.<br><br>I'm still curious though on how your DSS solution would work. BTW, you can just edit the decls/bb to match so it will look for the userlib that you got, this is what I did so I got it to work. <br><br></td></tr></table><br>
<a name="1314246"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here is the fix to be able to run AShadow shadows code examples :<br>Open AShadow.bb<br>Search for these lines :<br><pre class=code>
If S_AShadowDLLvers &gt; S_GettingAShadowDLLvers
 RuntimeError "User Lib version(v."+S_GettingAShadowDLLvers+") is Not correct, you must update Ashadow.dll (v."+S_AShadowDLLvers+")"
EndIf
</pre><br>and put them in comments (; before each line) <br><br></td></tr></table><br>
<a name="1314247"></a>

<a name="1314248"></a>

<a name="1314249"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> But now i get a message that there is a missing function in the dll "BBSetProjectionCorrect()", so not all examples work... There seems to be a mismatch  between Ashadow.bb and the decls/dll. <br><br></td></tr></table><br>
<a name="1314250"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> I cannot find the original zip file but it is labeled Ashadow 1.1.0.0 for the examples. try downloading that on the Ashadows site. <br><br></td></tr></table><br>
<a name="1314251"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have downloaded all files from the AShadow website... <br><br></td></tr></table><br>
<a name="1314252"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> If somebody has the same version for Ashadow.bb and the decls/dll, please share it. Thanks, <br><br></td></tr></table><br>
<a name="1314254"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here: <a href="https://www.dropbox.com/sh/z95btmjsaqki6a2/AAC_kDHvP-NQ96aSq3ZKx1pOa?dl=0" target="_blank">https://www.dropbox.com/sh/z95btmjsaqki6a2/AAC_kDHvP-NQ96aSq3ZKx1pOa?dl=0</a> <br><br></td></tr></table><br>
<a name="1314259"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> Way late to the party, but that code I apparently wrote looks like it ought to work with animated <i>casters</i>, since it's based on RenderWorld. It won't do self-shadows or work for animated receivers, though, among other limitations (it's probably really slow for more objects).<br><br>There's a huge difference in difficulty between animated casters and animated receivers. The first is easy enough that not including it in a system is basically an oversight; the second is close to impossible in Blitz3D and requires deep engine hacking (or switching to a more modern renderer). <br><br></td></tr></table><br>
<a name="1314260"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> @RemiD<br>I forgot what I have changed, I just remember editing the decls. My examples are all modified except the one that I posted above and I can't find the zip file associated with it. <br><br></td></tr></table><br>
<a name="1314261"></a>

<a name="1314262"></a>

<a name="1314267"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yue&gt;&gt;thanks for the archives but<br>AShadow.bb version : 1.0.9.5<br>AShadow.decls AShadow.dll version : 1.0.8.9<br><br>so not the same version...<br><br>Do the shadows code examples (shadow_sameple1, shadow_sample2, shadow_sample3) work well on your computer ? <br><br></td></tr></table><br>
<a name="1314265"></a>

<a name="1314266"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> @RustyKristi&gt;&gt;can you please share your version of the library (AShadow.bb, fps.bb, AShadow.decls, AShadow.dll) (the files that you have in your Blitz3D\userlibs directory)<br>Maybe you have found the same versions in the past (for the .bb and the decls dll)... <br><br></td></tr></table><br>
<a name="1314268"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's the same as Yue's download but here it is..<br><br><a href="http://www.mediafire.com/download/pdty3r9ruwa1ksb/AShadow.zip" target="_blank">http://www.mediafire.com/download/pdty3r9ruwa1ksb/AShadow.zip</a> <br><br></td></tr></table><br>
<a name="1314269"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> I can not understand , it is the last version of the Ashadow , and works perfectly the theme of the shadows. Examples does not work, because you have to update and recompile the dll latter. <br><br></td></tr></table><br>
<a name="1314270"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> Web here Ashadow here: <a href="http://andreyman.ucoz.ru/" target="_blank">http://andreyman.ucoz.ru/</a> <br><br></td></tr></table><br>
<a name="1314272"></a>

<a name="1314273"></a>

<a name="1314275"></a>

<a name="1314278"></a>

<a name="1314279"></a>

<a name="1314280"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> <img src="http://i65.tinypic.com/2reoeiv.png"><br><br><img src="http://i65.tinypic.com/2mfynnt.png"><br>Here dll last and includes, copy and dir samples.<br><br><img src="http://i66.tinypic.com/6yigzl.png"><br><br><img src="http://i64.tinypic.com/2qu7lvs.png"><br><br>Touch -create the executable with the new version<br><br><img src="http://i68.tinypic.com/3492lw1.png"> <br><br></td></tr></table><br>
<a name="1314274"></a>

<a name="1314276"></a>

<a name="1314287"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, but it does not work here, when i try to run one of the shadows examples (shadow_sample1, shadow_sample2, shadow_sample3), i get an error message "User Lib version (v.1089) is not correct, you must update Ashadow.dll (v.1095)" and indeed the AShadow.bb is version 1095 but the Ashadow.decls and Ashadow.dll are version 1089...<br>Not sure why it works on your computers...<br><br>Whatever, i will do some tests with Devil Child shadow system to see if i manage to have skinned animated casters... <br><br></td></tr></table><br>
<a name="1314277"></a>

<a name="1314281"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> Edit last post.<br><br>Edit: The devil without funcionba animations bone system is the same principle of Ashadow . <br><br></td></tr></table><br>
<a name="1314282"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> @RemiD,<br><br>I think you should probably try the guide that Yue posted above. It's the same thing that I did. The old examples runs on last version of AShadow and not matching. <br><br></td></tr></table><br>
<a name="1314294"></a>

<a name="1314295"></a>

<a name="1314296"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rick Nasher</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just tested it on Win10 Pro x64 and Blitz3d version 1.106.<br><br>Dumped the dll +_decls in the userlib folder and copied the example code + model &amp; textures to the Ashadow folder: running all fine here.<br><br>Weird thing RemiD.<br>-Perhaps another library conflicting in your userlibs folder? make a copy and delete the non-standard ones.<br>-Or.. are you using the modified version of Blitz3d, if so what happens in the original? <br><br></td></tr></table><br>
<a name="1314305"></a>

<a name="1314306"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Rick&gt;&gt;Good idea, i will remove all decls dll from the userlibs folder, and then add only the ashadow decls dll, and then add the others one by one. <br><br></td></tr></table><br>
<a name="1314315"></a>

<a name="1314316"></a>

<a name="1314317"></a>

<a name="1314318"></a>

<a name="1314319"></a>

<a name="1314465"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> Good news concerning Devil Child shadow system (DSS) and skinned animated meshes : i have done some tests using the addons by Bobysait to get the skinned vertices position of a skinned animated mesh and it takes less than 0.5ms to get the positions of all vertices of a skinned mesh of around 1000tris (humanoid shape), which is fast enough, considering that my cpu and gpu are not powerful, and that the aim is to have around 6 skinned animated characters in the rendered zone, and that we have up to 66ms each frame (15fps) before a slowdown becomes noticeable...<br><br>I can't say if it will work or be fast enough for now, tomorrow i will continue and try to mod the DSS code. I have several ideas to improve it, one step at a time ! (especially because i don't need it, i am just curious to see if this is doable :P) <br><br></td></tr></table><br>
<a name="1314434"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah that's great RemiD. curious about your solution I hope we get to see some pics. :) <br><br></td></tr></table><br>
<a name="1314466"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm working on it, but not all day long, so be patient ( or do it yourself ! ;) ) <br><br></td></tr></table><br>
<a name="1314602"></a>

<a name="1314603"></a>

<a name="1314604"></a>

<a name="1314605"></a>

<a name="1315573"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> Some good news, some bad news : after some more reading of the original source code, and after some tests, it seems that some improvements are doable :<br>-skinned casters (for now there are only "rigid" casters or turning moving parts)<br>-separate renders of different zones with for each zone, its own light, lighting/shading, casters, volumes, receivers...<br>-one "finalvolumes" mesh/surface per zone (so you can have more casters, more shadows per zone)<br>-some optimisations to make it faster :<br>--use of handles to find an instance instead of browsing lists again and again<br>--if the light is static, do not recalculate the volumes of static rigid non animated casters, only recalculate the volumes of turning moving animated casters<br>-some optimizations to make it nicer :<br>--a skinned receiver does not receive the shadow of its skinned caster so that it is possible to use a low details skinned caster and a high details skinned receiver without weird coloring of the triangles (not sure if this is doable)<br><br>but i will have to rewrite the whole system in order to have these improvements.<br><br>Fortunately i can use the equations of the great "devilchild" to calculate the shadow volumes and do the stencil magic.<br><br>I also plan to add a primitive lighting/shading system using lightmesh (vertices lighting) so that each zone can be lighted/shaded without having the light go through walls in others zones.<br><br>I will try but i don't promise anything, and it will take some time !<br><br>If you have others (reasonable) suggestions, feel free to post them. <br><br></td></tr></table><br>
<a name="1314611"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rick Nasher</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's sounding really marvelous RemiD. Hope you can pull it off. <br><br></td></tr></table><br>
<a name="1314613"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> btw, I thought maybe we could ask Martin (bytecode777) for the DLL source since he released this under BSD. The source on the site just included bb source, not the actual dll. <br><br></td></tr></table><br>
<a name="1314654"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> @RustyKristi&gt;&gt;i don't need it, but if you need it... <br><br></td></tr></table><br>
<a name="1314691"></a>

<a name="1314704"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> Bad news : i have tried to modify the code in order to update a shadow volume considering the skinned vertices of a skinned animated mesh and this was a failure and i am not sure why... (only the tpose is considered)<br>I have difficulties to understand 2 functions (concerning the volumes creation/update) which are separated and i am not sure why...<br><br>I will try again tomorrow but this may not be as easy as i thought...<br><br>I will try to rewrite the shadow volume creation from scratch by considering the skinned vertices coordinates and if this does not work, i think that it would be quicker to ask "DevilChild" to add these modifications (if he agrees...)<br><br>Or the alternative is to attach separate bodyparts to the same animated skeleton than your skinned animated mesh, a bit uglier but good enough. (shadows are not essential to make a good game anyway!) <br><br></td></tr></table><br>
<a name="1314778"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >NotAGamer</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi guys, just saw this ..<br>im using <br>ashadow for my game .. the one from the website..<br>works fine here <br><br></td></tr></table><br>
<a name="1314787"></a>

<a name="1314788"></a>

<a name="1314789"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have removed all others decls dll from my Blitz3d userlibs folder, and i have put the decls dll of Ashadow that i have just downloaded from the website.<br>Same problem : shadow_sample1 works well, shadow_sample2 and shadow_sample3 trigger an error... I give up. I will continue with DSS. <br><br></td></tr></table><br>
<a name="1314798"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rick Nasher</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#51">[#51]</a></td></tr></table></td></tr><tr ><td class="posttext"> Did you use a non default installation path for Blitz perhaps? <br><br></td></tr></table><br>
<a name="1314799"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >NotAGamer</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#52">[#52]</a></td></tr></table></td></tr><tr ><td class="posttext"> @RemiD<br><br>want me to send my files to you so you can test it?<br>Ashadows working totally fine here <br><br></td></tr></table><br>
<a name="1314804"></a>

<a name="1314805"></a>

<a name="1314806"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#53">[#53]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe it is because i use the addons by Bobysait ? Who else use them ? (it changes the Blitz3d executable)<br><br><br>NotAGamer&gt;&gt;no i don't need AShadow... I was just curious about the shadow system. But thanks anyway... <br><br></td></tr></table><br>
<a name="1314811"></a>

<a name="1314812"></a>

<a name="1314813"></a>

<a name="1314814"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#54">[#54]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Maybe it is because i use the addons by Bobysait ? Who else use them ? (it changes the Blitz3d executable)<br> <br></div><br><br>I don't know who but right now I'm using any baked fmod version as this issue is still not solved, licensing wise. You need to contact Firelight Tech to license the game, gratis or commercial game, which is a little hassle. One title only per year, additional 1 per year.<br><br>So if you only just to release a small game, you can only release one. You need to pay 500 bucks to release another one within the same year or wait next year to release it for free.<br><br>..or get rid of fmod and replace it with another.<br><br>Fmod is an awesome (I mean really awesome) library. Unity and other engine uses it as default. If someone could confirm there's another foss contender over the quality of fmod, it's worth a try to do something and now with kfprimm made some changes by separating the device code wise with the dummy sound driver. <br><br></td></tr></table><br>
<a name="1314819"></a>

<a name="1314820"></a>

<a name="1314822"></a>

<a name="1314827"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#55">[#55]</a></td></tr></table></td></tr><tr ><td class="posttext"> So here is what i have done so far :<br>rd-stuff.fr/shadow-volumes-with-rigid-casters-with-skinned-animated-casters-201604082215.7z<br>(you need to have the addons by Bobysait installed (modified Blitz3d executable))<br><br>There are 3 methods to create the shadow volumes (2 really, as the 3rd is the same as the 2nd but uses a premade shadow volume) (these algorithms were made by "DevilChild"/"bytecode77", i have just modified them to consider skinned vertices...)<br>However, strangely, the skinned vertices positions are not considered and i don't know why (the code seems correct and triggers no error...)<br><br>If somebody interested in this could take a look and see if there is an error somewhere...<br><br>An alternative to modifying DSS to support skinned meshes would be to, for each skinned animated caster, premake a rigid caster clone of the skinned animated mesh, and each frame, get the positions of the skinned animated vertices and use these positions to reshape the rigid caster (by repositionning its vertices) not sure if this is fast enough... I will try tomorrow... <br><br></td></tr></table><br>
<a name="1314821"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#56">[#56]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'd be interested to check it out or if it's not that ready you can probably just upload vids that's ok too RemiD. <br><br></td></tr></table><br>
<a name="1314823"></a>

<a name="1314825"></a>

<a name="1314826"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#57">[#57]</a></td></tr></table></td></tr><tr ><td class="posttext"> (the code in my previous post is not from DSS, but the procedure to build the shadow volume is similar, and since i had this simplified code, i wanted to try to modify this one too to see if it worked well with the same modifications that i have done for DSS, but apparently no...)<br><br>However, i know that the functions to get the skinned vertices positions of a skinned animated mesh work well, so the problem is somewhere else.<br><br>Also, considering the mstime it take to rebuild (i suppose that you can't simply update the shadow volume of a skinned animated caster because the vertices/triangles have changed position/orientation), the example above (algorithm 1 or algorithm 2) demonstrates that it is too slow to do that for a skinned animated mesh with around 1000 triangles... (at least with these algorithms)<br><br>But i see several alternatives :<br>-have premade volumes of rigid casters corresponding to each pose (frame) of the animation of the character (but then the problem would be to store them in memory)<br>-use the same skeleton with the same animation and attach similar body parts to the appropriate joints, it works well and it is fast enough since the casters (body parts) are not rendered, but the shadows are a bit weird compared to the shape of the skinned mesh (but players may not notice, especially if the character is always animated !)(demonstrated here : <a href="http://www.blitzbasic.com/gallery/view_pic.php?id=2441&amp;gallery=hr&amp;page=1" target="_blank">http://www.blitzbasic.com/gallery/view_pic.php?id=2441&amp;gallery=hr&amp;page=1</a> ) <br><br></td></tr></table><br>
<a name="1314833"></a>

<a name="1314834"></a>

<a name="1314835"></a>

<a name="1314842"></a>

<a name="1315879"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#58">[#58]</a></td></tr></table></td></tr><tr ><td class="posttext"> after some calculations, the approach to premake one caster for each pose is totally doable, for this humanoid skinned caster (1014vertices, 893triangles) and for a 16frames animation, it would use only around 0.5mo of memory)<br>So it could be a solution for a game where there is a base skinned animated character and additional rigid clothparts, rigid armorparts, rigid weapons)<br>and this would be fast to render since each caster is rigid and each caster "outline" is calculated.<br>But then the animations would probably be less "smooth". <br><br></td></tr></table><br>
<a name="1314839"></a>

<a name="1314840"></a>

<a name="1314841"></a>

<a name="1314844"></a>

<a name="1314845"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#59">[#59]</a></td></tr></table></td></tr><tr ><td class="posttext"> After some tests with SetAnimTime(), i think that my last suggestion would work and would really decrease the mstime it takes to recalculate the "outline" of a caster.<br>Also since we are talking about the caster here, the player would probably not notice the less "smooth" animation...<br>This would also solve the skinned vertices positions issue...<br><br>What do you think ?<br><br>I will do more tests tomorrow ! <br><br></td></tr></table><br>
<a name="1314855"></a>

<a name="1314856"></a>

<a name="1314858"></a>

<a name="1314859"></a>

<a name="1314860"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#60">[#60]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey RemiD. Not to throw you off balance or anything with this one, but I think you should also give Philip's solution a quick look and maybe see if there's room for improvement.<br><br>It's textured shadows which has some potential to be cascaded or zoned and it just works with animated meshes. morphs/bones and vertex. <br><br>It's pure bb source which means it can be translated to c++ dll OR can be optimized to make it more faster. I'm against the DLL route if it can be helped but if it makes it faster, handle more and it works then it's not an issue.<br><br>The test: I got 10 animated meshes closely playing with 3-4k polys each and the performance is not that bad (around 30fps) considering it's DX7, which has some limitations. <br><br>The reason why I think ombres (Philips) solution is better is: 1) it does not require DLLs and 2) it just plainly works as it is. It does need some optimization if you need more dynamic shadows but for a simple game i think it would be enough (for me at least).<br><br>Again I thought this was not possible with B3D and I was early ignoring Yue's suggestion to take another quick look, it turns out it was the one I'm looking for so I marked this thing solved.<br><br>Still looking forward to your test though. thank you <br><br></td></tr></table><br>
<a name="1314861"></a>

<a name="1314862"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#61">[#61]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey RemiD. Not to throw you off balance or anything with this one, but I think you should also give Philip's solution a quick look and maybe see if there's room for improvement.<br><br>It's textured shadows which has some potential to be cascaded or zoned and it just works with animated meshes. morphs/bones and vertex. <br><br>It's pure bb source which means it can be translated to c++ dll OR can be optimized to make it more faster. I'm against the DLL route if it can be helped but if it makes it faster, handle more and it works then it's not an issue.<br><br>The test: I got 10 animated meshes closely playing with 3-4k polys each and the performance is not that bad (around 30fps) considering it's DX7, which has some limitations and not fully uses GPU power, if I'm right.<br><br>The reason why I think ombres (Philips) solution is better is: 1) it does not require DLLs and 2) it just plainly works as it is. It does need some optimization if you need more dynamic shadows but for a simple game i think it would be enough (for me at least).<br><br>Again I thought this was not possible with B3D and I was early ignoring Yue's suggestion to take another quick look, it turns out it was the one I'm looking for so I marked this thing solved.<br><br>Still looking forward to your test though. thank you <br><br></td></tr></table><br>
<a name="1314929"></a>

<a name="1314930"></a>

<a name="1314931"></a>

<a name="1314932"></a>

<a name="1315878"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#62">[#62]</a></td></tr></table></td></tr><tr ><td class="posttext"> @RustyKristi&gt;&gt;good for you if GOM shadows look nice enough for your project, however the shadows will never look as good as stencil shadows, same for fastext shadows or for swift shadows (which use a method similar to GOM).<br><br>Personally i don't care, i don't plan to use shadows for any of my future projects, i am just curious if skinned animated casters could be used in DSS since Bobysait shared these addons.<br><br>I won't post again about this here since this is your thread. Sorry !<br><br><br>When you have some time, please post a demo or video of what you have achieved with GOM shadows, especially for an indoor scene (in a room), i am curious to see how it looks.<br><br>Thanks, <br><br></td></tr></table><br>
<a name="1314933"></a>

<a name="1314934"></a>

<a name="1314935"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#63">[#63]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes I would have to agree that stencil shadows looks sharper and you can have more than enough of it. I have tried stencil shadows with OpenB3d and it looks great to some extent.<br><br><div class="quote"> <br>Personally i don't care, i probably won't use shadows for any of my future projects, i am just curious if skinned animated casters could be used in DSS since Bobysait shared these addons.<br><br>I won't post again about this here since this is your thread. Sorry ! <br></div><br><br>Nope, please do go on and I don't mind. It would be informative to compare but if you would like to showcase it to another new thread, I'm really interested to see the results.<br><br>Yes, I'm gonna try and put up a quick demo soon. no problem. :-) <br><br></td></tr></table><br>
<a name="1314952"></a>

<a name="1314954"></a>

<a name="1314955"></a>

<a name="1314956"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#64">[#64]</a></td></tr></table></td></tr><tr ><td class="posttext"> double post <br><br></td></tr></table><br>
<a name="1314957"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#65">[#65]</a></td></tr></table></td></tr><tr ><td class="posttext"> It is not that stencil shadows look sharper (even this is true and this is not necessarily an advantage), it is that you won't be able to have the same shadows with stencil shadows or with the method that GOM, fastext, swift, use.<br>It is especially noticeable for a column in a room, try it, make a simple demo with an indoor room (10x10units) (with floor, walls, ceiling) with columns, some containers, some furnitures, some characters. (simple models, no need for textures)<br><br>I will do the same on my side, then we will compare the shadows. I bet that we will notice the difference... (i have already done these tests in the past...) <br><br></td></tr></table><br>
<a name="1314970"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#66">[#66]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, I guess it's a matter of preference. As for static shadows like illuminating a room or outside environment, for me lightmaps will do just fine. Yes, it is fake but at the same time it is more practical. <br><br></td></tr></table><br>
<a name="1315006"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rick Nasher</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#67">[#67]</a></td></tr></table></td></tr><tr ><td class="posttext"> True, they give great fx, but static shadows aren't really all that flexible right? For instance in a roaming outdoor scene with day &amp; night cycles it has limited usage. <br><br></td></tr></table><br>
<a name="1315010"></a>

<a name="1315011"></a>

<a name="1315298"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#68">[#68]</a></td></tr></table></td></tr><tr ><td class="posttext"> I discovered stencil shadows in severance: blade of darkness and later in Thief deadly shadows and in Doom3, you really can't compare the lighting/shading and shadows of others games to those of these games... It is almost part of the gameplay... <br><br></td></tr></table><br>
<a name="1315012"></a>

<a name="1315013"></a>

<a name="1315014"></a>

<a name="1315015"></a>

<a name="1315016"></a>

<a name="1315017"></a>

<a name="1315018"></a>

<a name="1315019"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#69">[#69]</a></td></tr></table></td></tr><tr ><td class="posttext"> @RickNasher<br><br>Yes, it depends on the game and there are pros and cons for each method. UDK and UE mostly relies on static shadows and blend in with dynamic shadows of players. ie Gears of War series/CS:GO.<br><br>game/game engines today does not use stencil shadows anymore (UE/Unity/Cry), but some indie still, like we do. :-)<br><br>@RemiD<br><br>Don't get me wrong, I like and use them both but you can't compare old and new method. The sad truth is the game industry has moved on with stencil shadows. Let's not put this up for debate and move away from topic. Lol, I'm not here to defend lightmapping or autodesk beast or UE's lightmass. XD<br><br>For me, whatever makes the game scene and lighting look better without performance impact got my vote. :)<br><br>cheers guys. <br><br></td></tr></table><br>
<a name="1315043"></a>

<a name="1315044"></a>

<a name="1315045"></a>

<a name="1315046"></a>

<a name="1315063"></a>

<a name="1315064"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#70">[#70]</a></td></tr></table></td></tr><tr ><td class="posttext"> Whatever, i am not arguing that one solution is better than the other, i just wanted to say that the resulting shadows and consequently the ambiance will not be the same... Go make a thief deadly shadows with static texels lighting/shading/shadows (lightmaps), it would remove a lot to the ambiance and not be as immersive. (but you could achieve a very similar result with per pixels lighting/shading/shadows) <br><br></td></tr></table><br>
<a name="1315059"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rick Nasher</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#71">[#71]</a></td></tr></table></td></tr><tr ><td class="posttext"> Perhaps you should remove the "solved" from the topic, for it appears far from it. ;-) <br><br></td></tr></table><br>
<a name="1315070"></a>

<a name="1315071"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#72">[#72]</a></td></tr></table></td></tr><tr ><td class="posttext"> @RickNasher<br><br>No I got it but I was surprised it got to 60+ comments now lol.<br><br>GOM shadows is what I needed for a particular project. Just having discussions with RemiD here.<br><br><br>@RemiD<br><br>Yes, I did not say they are the same. That's why I said they have their own use. <br><br>BTW, I don't recall Thief the game getting into the picture. It looks immersive to you, looks normal to me, shadow or graphic wise, to each his own.<br><br>Good day. :-) <br><br></td></tr></table><br>
<a name="1315075"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#73">[#73]</a></td></tr></table></td></tr><tr ><td class="posttext"> <img src="http://i63.tinypic.com/2u482a9.png"><br><br><br><br>I think these shadows Ashadow look very good for my taste. <br><br></td></tr></table><br>
<a name="1315082"></a>

<a name="1315083"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rick Nasher</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#74">[#74]</a></td></tr></table></td></tr><tr ><td class="posttext"> Indeed, very nice.<br>-What did you use to put on the decals(arrows, lines, symbols on the floor? It's looking pretty tight. <br><br></td></tr></table><br>
<a name="1315100"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#75">[#75]</a></td></tr></table></td></tr><tr ><td class="posttext"> The demo was nice. I was just saying I'm not in for DLLs with either method if we stick to the topic on this thread.<br><br>That is also why I choose GOM over DSS. Thank you again Yue for pointing out that GOM stuff. <br><br></td></tr></table><br>
<a name="1315102"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#76">[#76]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is GOM with animated b3d. No DLLs and it works out of the box without any changes on the original code by the author. That is why I chose it over DSS.<br><br><img src="http://i.imgur.com/vNaG9id.png"><br><br>babe model taken from Flanker's demo in UDPNet thead. <br><br></td></tr></table><br>
<a name="1315107"></a>

<a name="1315108"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#77">[#77]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Rick Nasher<br><br>Fragmotion  i am using for arrows declas. :)<br><br><br>@RustyKristi<br><br>I'm glad to have helped you . :) <br><br></td></tr></table><br>
<a name="1315121"></a>

<a name="1315122"></a>

<a name="1315123"></a>

<a name="1315124"></a>

<a name="1315125"></a>

<a name="1315129"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#78">[#78]</a></td></tr></table></td></tr><tr ><td class="posttext"> @RustyKristi&gt;&gt;ok i understand that GOM is easier to use, but your example is not really a good demonstration of the quality of this shadow system. (what about the realistic projection of the shadows on others shapes ? the appropriate edge continuity of the shadows when projected on several faces ? the uniform texel size of the different projections ? the blending of several shadows ?)<br>At least make a simple scene like i described (room with floor, walls, ceiling + some columns + some containers/furnitures/machines + some characters + one light)<br><br>Then we will compare objectively. <br><br>Of course GOM/fastext/swift shadows are easier to use because you don't need to have a low details caster for each renderer, but the resulting shadows are not the same.<br><br>Not a big problem depending on the kind of game you make and if shadows are not an important part of the ambiance. <br><br></td></tr></table><br>
<a name="1315128"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#79">[#79]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes we all have different approaches so I'm not here to compare solutions, and even dynamically shadowing a room that will not be moving in game at any point is simply not practical.<br><br>That is why I only asked for animated shadows on this thread in the first place. <br><br>Apparently the only working texture/stencil solution that I see right now is GOM, 3D Engine wrappers like irrlicht and OpenB3D if you're into BMX.<br><br>thank you. <br><br></td></tr></table><br>
<a name="1315130"></a>

<a name="1315131"></a>

<a name="1315132"></a>

<a name="1315140"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#80">[#80]</a></td></tr></table></td></tr><tr ><td class="posttext"> One thing that you want to test is if GOM allows to have a shadow of one skinned animated character projected on another skinned animated character.<br><br>Another thing, is what happen if you want an omnilight which is inside an hollow shape (like a light mask) ? Are the shadows casted only in one direction or in all directions ?<br><br>Again this is not really important depending on the function of the shadows in the game, but good to know... <br><br></td></tr></table><br>
<a name="1315135"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#81">[#81]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have not tried and I don't how to do it yet with GOM. I really just need a shadow casted on animated objects that's all.<br><br>Maybe you can have a quick look at it if you got the time. <br><br></td></tr></table><br>
<a name="1315137"></a>

<a name="1315138"></a>

<a name="1315139"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#82">[#82]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>I really just need a shadow casted on animated objects that's all.<br> <br></div><br>I suppose that you meant "by animated objects"<br><br><br>I am currently modeling a simple scene to do some tests with stencil shadows, then i will do some tests with GOM shadows and compare, just by curiosity... <br><br></td></tr></table><br>
<a name="1315143"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#83">[#83]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes sorry typo there. Ok great, I'm still curious on your changes on DSS. thank you<br><br>Side question, do you think there's a possibility to do stencil with pure b3d? <br><br></td></tr></table><br>
<a name="1315146"></a>

<a name="1315147"></a>

<a name="1315149"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#84">[#84]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>do you think there's a possibility to do stencil with pure b3d?<br> <br></div><br>no because you need to access directx7 functions which are not available with Blitz3d.<br><br><br>(your obsession to not use external libs is unjustified and a handicap imo, but you do what you want !)<br><br>From my experience, it is ok to use an external lib if there is no major bugs and it is compatible with the target computers (you can't please everyone, that's life !)<br><br>For example, DSS works well on most modern computers but there are some artifacts with some low end graphics cards (maybe it can be fixed, it seems to be a zorder issue)<br><br>The disable bilinear filtering of textures works well on all modern and old computers that i have tested it on.<br><br>So don't be afraid of external libs, some are very useful. You just have to do some tests to determine if it is compatible with the target computers... <br><br></td></tr></table><br>
<a name="1315158"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#85">[#85]</a></td></tr></table></td></tr><tr ><td class="posttext"> lol slow down RemiD, it's not an obsession. :P It's just what I'm looking for on a particular project/demo. Nothing serious to be called obsessed though.<br><br>I have no problem using external libs, but not this time apparently. <br><br></td></tr></table><br>
<a name="1315175"></a>

<a name="1315180"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#86">[#86]</a></td></tr></table></td></tr><tr ><td class="posttext"> @RustyKristi&gt;&gt;since you said that you use lightmaps, have you managed to have a good blending between GOM shadows and the lightmaps ? Can you please show us a screenshot or video of that ? <br><br></td></tr></table><br>
<a name="1315563"></a>

<a name="1315569"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#87">[#87]</a></td></tr></table></td></tr><tr ><td class="posttext"> After more rereading of the original code, it seems that the key to calculate and make new shadows volumes fast is to have the "outline" of a rigid caster precalculated.<br>Therefore the support of skinned animated meshes would be too slow.<br>However ! My idea to extract one rigid caster for each pose of each animation of a skinned animated caster seems definitely possible !<br>And after further reading of the original code, it seems that there is no need to premake one rigid caster for each pose of each animation but rather to store infos about the vertices/triangles (orientation/position) for each pose.<br>And, after a quick calculation, for a skinned caster of around 1000 triangles, with around 1000 poses, it would take only 54mo in memory... So this is totally doable and it would result in a very very fast update of the shadows volumes (even for skinned animated casters !).<br>However, i am not sure how much time it would take to analyze the skinned animated mesh, in each pose, for all poses, and to get and to store the infos about its vertices and triangles and to precalculate the outline, So let's hope this will be fast enough.<br>More infos later... <br><br></td></tr></table><br>
<a name="1315564"></a>

<a name="1315565"></a>

<a name="1315566"></a>

<a name="1315570"></a>

<a name="1315572"></a>

<a name="1315576"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#88">[#88]</a></td></tr></table></td></tr><tr ><td class="posttext"> So after some tests :<br>-it is fast enough to set a skinned caster in a specific pose<br>-it is fast enough to get all positions of all skinned vertices of a skinned caster<br>-but it is too slow to precalculate the "outlines"of a rigid caster of around 1000triangles for 1000 poses (it would take 19s per character...)<br><br>And if i don't precalculate the outline, it is too slow to consider all vertices/triangles, each frame, for several animated characters in the scene...<br><br>The only way i see it would work is if the skinned character would only be the same (never change clothes/armors) and that the "oultines" are precalculated and loaded when needed.<br><br>An alternative (which works well but is annoying to setup) is to have one skinned renderer and use the same skeleton to attach body parts (rigid casters) on it.<br><br>So, end of discussion, for skinned animated casters, FastExt, GOM, Swift, wins ! (except if Martin finds a faster way to calculate the "outlines" ?) <br><br></td></tr></table><br>
<a name="1315567"></a>

<a name="1315568"></a>

<a name="1315571"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#89">[#89]</a></td></tr></table></td></tr><tr ><td class="posttext"> This explain why in Severance, Deadly Shadows, Doom 3, the skinned meshes of characters never change (body, face, hair, clothes, armors), only the weapon change (which can be rigid casters)<br>So my guess is that they encountered the same problem that i just did. <br><br></td></tr></table><br>
<a name="1315582"></a>

<a name="1315583"></a>

<a name="1315584"></a>

<a name="1315585"></a>

<a name="1315586"></a>

<a name="1315599"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#90">[#90]</a></td></tr></table></td></tr><tr ><td class="posttext"> after having retested the samples of the GOM system, i realize how mediocre these "projected textures shadows" look and how stencil shadows are superior in appearance...<br><br>After all, DSS is already good as it is and instead of skinned casters we can use the same skeleton + several bodyparts/hair/clothparts/armorparts (rigid casters) attached on the appropriate joints, in this way it is fast to precalculate the "outline" and to update the shadow volumes... The player will most likely not notice that the shadows are not exactly the same as the skinned renderer... (or most likely not care)<br><br><br>The only better looking shadows that i have seen are per pixel shadows which requires a shader...<br><br><br>Shadows are a pain to setup anyway. That's why i decided to not use shadows in my recent games... <br><br></td></tr></table><br>
<a name="1315600"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#91">[#91]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, I agree. It depends on the method being used and if done by shaders it could be much better.<br><br>Again GOM here was my choice because of the no DLL requirement, that's all. If I'm going for wrappers anyway, irrlicht is better than DSS with more features and shader support but have to loose the B3D command set which is not good. This is why I have asked AquaLung if he can do something about it.<br><br>First thing when doing wrappers should replicate the basic command set and then extend it with other features of the engine, like what OpenB3D and SoftPixel does but some SP commands are not working when I tried it. <br><br></td></tr></table><br>
<a name="1315605"></a>

<a name="1315606"></a>

<a name="1315608"></a>

<a name="1315609"></a>

<a name="1315649"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#92">[#92]</a></td></tr></table></td></tr><tr ><td class="posttext"> Good news !<br><br>I had an idea in the evening and i have tested it, and at first view it works well and it is fast enough to precalculate the "thing" and to update the shadows volume.<br><br>In fact, what i called the "outline" was a wrong interpretation, so i thought of it the wrong way. The precalculation seems to be an analyze of how the triangles are connected by edges...<br>And if my current interpretation is correct (i am not a math genius), then there is only a need of one precalculation for each caster (rigid or skinned).<br><br>Now, i am not sure why my previous attempts have not worked, but i have found another way, and it seems to work well, see :<br><img src="http://rd-stuff.fr/stencil-shadows-of-rigidcasters-of-skinnedcasters-201608122355.jpg"><br><br>The current approach is to have one hidden skinned caster, one rigid caster with the same vertices/triangles, and each frame, after having animated the character (skinned renderer (high details) and skinned caster (low details)), get the positions of the skinned vertices of the skinned caster, and reshape the rigid caster.<br>Then using the rigid caster, i have modified the original source code so that the index of each triangle is kept in memory and this way i can get the new positions of the vertices fast and update the shadow volume fast ! Oh yeah !<br><br>However i have found another obstacle (with updateworld)... (so not too much enthusiasm yet...)<br><br>And also i have to find a way to remove the ugly black triangles in the shadowed areas of the renderers, see :<br><img src="http://rd-stuff.fr/stencil-shadows-ugly-black-triangles-201608122358.jpg"><br><br>But the shadows look good, very good. Take that ugly projected textures ! ;)<br><br>More to come later... <br><br></td></tr></table><br>
<a name="1315616"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#93">[#93]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks good. What is the recommended polycount for each animmesh and animated object count? <br><br></td></tr></table><br>
<a name="1315621"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#94">[#94]</a></td></tr></table></td></tr><tr ><td class="posttext"> looks good RemiD. Yes, I'm really curious about framerate issues when you got more casters there. keep it up. <br><br></td></tr></table><br>
<a name="1315645"></a>

<a name="1315646"></a>

<a name="1315653"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#95">[#95]</a></td></tr></table></td></tr><tr ><td class="posttext"> if i manage to remove the ugly black triangles which are created on the shadowed areas of the caster (there seems to be the same problem with AShadow), the idea is to have a high details renderer and a low details caster.<br>For example for a character, you could have a 2000 or 3000 or 4000 tris renderer and a 1000 tris caster (the less tris the better...).<br>In this example the renderer and the caster are the same... (low details, less than 1000tris)<br>Note that there is no optimisation for the moment but i have several ideas to decrease the time it takes to build the shadow volumes and to render the stencil shadows. This is wip...<br>Also note that my computer is not powerful, so it will be faster on more powerful computers.<br><br>The only annoying thing is that you must make sure that the caster is closed (no backface visible from any angle)<br><br>But let me tell you that the shapes and blending of the shadows is beautiful, i will create a demo to demonstrate it, you will be surprised. Even Unity3d shadows are mediocre compared to this, the only better looking shadows that i have seen are those created with a shader by "Gabor" (with nuclearbasic) <br><br></td></tr></table><br>
<a name="1315650"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#96">[#96]</a></td></tr></table></td></tr><tr ><td class="posttext"> Also another advantage is that the lib is very convenient to use, you don't need to modify the structure of your code to add shadows. (unlike the GOM system) <br><br></td></tr></table><br>
<a name="1315655"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#97">[#97]</a></td></tr></table></td></tr><tr ><td class="posttext"> sounds great RemiD. BTW, I already contacted Martin earlier and mentioned about the request for the DLL source and your new skinned DSS project, and this is his reply back:<br><br><div class="quote"> <br>Hi Rusty,<br> <br>how nice to hear that even 10 years later, people are still interested in the Devil-Engines. Thats why I still host them. In fact, I work as a software developer by the time and therefore I stick to C#, etc. If I had the opportunity and motivation to re-do the Devil-Engines, I would release an entire framework that wraps the Blitz3D functions altogether and I would definitely combine the Shader Engine and DSS into one functioning solution. Also I would avoid the plane used for the shadowed areas and do proper renderstates instead. But the fact that I dont code in Blitz3D, doesnt mean I wont answer some questions along the way J<br> <br>I did some experiments using a B3D bone reader DLL, which can access the animation frames. But I didnt implement it in DSS, because the coordinates differed and some vertices were left out and the animations were a bit wonky. To be honest, none of the DLLs are written by me, I just named them accordingly to provide a proper filename sorting in the decls folder. Tom (Tomspeed) wrote the DLLs. He is out of reach and his website has been offline for a very long time, and I dont have the sources. If I had, I would definitely share them with you. If you want to complete my work, go for it!<br> <br></div> <br><br></td></tr></table><br>
<a name="1315657"></a>

<a name="1315659"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#98">[#98]</a></td></tr></table></td></tr><tr ><td class="posttext"> As I have gathered, since the current Hardwired does not support skinned animations, the closest modern "Blitz3D" implementation without the aid of wrappers is Yasha's bOGL.<br><br>When I say modern, it's the possibility of shader support (since it's opengl), breaking out of DX7 and if we're into stencil shadow discussion, the stencil buffer is already set, no shadows yet. I'm not sure about the command set completion (but it does have essential b3d functions to make a game) and the xyz orientation if similar to b3d.<br><br><a href="https://github.com/Leushenko/bOGL-2/search?utf8=%E2%9C%93&amp;q=stencil" target="_blank">https://github.com/Leushenko/bOGL-2/search?utf8=%E2%9C%93&amp;q=stencil</a> <br><br></td></tr></table><br>
<a name="1315664"></a>

<a name="1315665"></a>

<a name="1315666"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#99">[#99]</a></td></tr></table></td></tr><tr ><td class="posttext"> As i already said, i don't need the source of the dlls, these are just to access directx7 functions...<br><br>However, contrary to Martin, if i had a good understanding of c++, i would create a dll decls for each system and not mix a stencil shadow system with a reflection effect or with a glow effect...<br><br>Quick test with a more detailed skinned renderer and skinned caster (2000triangles) and with a complex pose :<br><img src="http://rd-stuff.fr/stencil-shadows-of-rigidcasters-of-skinnedcasters-201608131205.jpg"><br><br>Seems to work well :) <br><br></td></tr></table><br>
<a name="1315671"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#100">[#100]</a></td></tr></table></td></tr><tr ><td class="posttext"> looking good! No worries, If you remember a few weeks ago, I just mentioned the DLL source out of my own interest. that's all.<br><br><div class="quote"> However, contrary to Martin, if i had a good understanding of c++, i would create a dll decls for each system and not mix a stencil shadow system with a reflection effect or with a glow effect... <br></div><br><br>I can agree, I have a problem with AShadows about that. I would assume he's thinking about subsystem, more like an extension of blitz3d. <br><br></td></tr></table><br>
<a name="1315676"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rick Nasher</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#101">[#101]</a></td></tr></table></td></tr><tr ><td class="posttext"> Simply: wow!<br>Does it work OK on animated characters? <br><br></td></tr></table><br>
<a name="1315677"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#102">[#102]</a></td></tr></table></td></tr><tr ><td class="posttext"> When you mix different unrelated systems/effects, the problem is that if one is not compatible anymore and crashes, all others can't be used anymore too. Not good...<br>Especially considering that a game needs specific functionalities/effects but not all. <br><br></td></tr></table><br>
<a name="1315678"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#103">[#103]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Rick&gt;&gt;yes that's what i am working on :) <br><br></td></tr></table><br>
<a name="1315680"></a>

<a name="1315690"></a>

<a name="1315696"></a>

<a name="1315762"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#104">[#104]</a></td></tr></table></td></tr><tr ><td class="posttext"> Bad news : i have a problem because of updateworld()<br>i don't know exactly how it decides to update the rotation of the joints/bones and the positions of the skinned vertices depending on if the mesh is in the camera fov or is shown/hidden.<br>But if i try to hide the skinned caster or set its alpha to 0 the animation is not updated, and then i can't reshape the rigid caster, and then i can't update the shadow volume...<br>And if i always show the caster inside the camera fov, well it is not what we want :\<br><br>So i don't know what to do. I give up for now and i will wait for a new idea. <br><br></td></tr></table><br>
<a name="1315682"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#105">[#105]</a></td></tr></table></td></tr><tr ><td class="posttext"> aww that really sucks. :( I thought you are already testing out the shadows while animating? <br><br></td></tr></table><br>
<a name="1315685"></a>

<a name="1315686"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#106">[#106]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes but the skinned caster was visible for debug purposes... But if i hide it or if i set its alpha to 0, the skinned caster skinned vertices are not updated...<br><br>I will try to take a look at the source code of updateworld() (which is a senseless function imo, there is no advantage to mix the update of skinned animated meshes and the collisions detection/response, but it is what it is...), but with my poor understanding of c++, i don't expect to find a solution quickly.<br><br>Maybe i will find a workaround with Blitz3d only... <br><br></td></tr></table><br>
<a name="1315688"></a>

<a name="1315689"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#107">[#107]</a></td></tr></table></td></tr><tr ><td class="posttext"> the problem is that behind the scene, updateworld() seems mixed with renderworld(), (which is really stupid, but works well for most cases), and so, if an animated mesh is hidden or has its alpha at 0 or is out of the camera fov, its animation and skinned vertices are not updated... <br><br></td></tr></table><br>
<a name="1315691"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#108">[#108]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  But if i hide it or if i set its alpha to 0, the skinned caster skinned vertices are not updated... <br></div><br><br>For basic functionalities, I don't see any problem in regard to setting a skinned caster to alpha of 0. Are you trying to work on having a child mesh as a low poly caster for optimization? <br><br></td></tr></table><br>
<a name="1315692"></a>

<a name="1315693"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#109">[#109]</a></td></tr></table></td></tr><tr ><td class="posttext"> either my written english is bad or your reading/understanding is bad. reread my previous post, then reread your last post... <br><br></td></tr></table><br>
<a name="1315694"></a>

<a name="1315695"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#110">[#110]</a></td></tr></table></td></tr><tr ><td class="posttext"> basicly i need to modify updateworld() so that i can force the update of joints/bones and of the skinned vertices when a mesh is animated. (even if it is outside the camera fov, or hidden, or with its alpha at 0) <br><br></td></tr></table><br>
<a name="1315723"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#111">[#111]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes maybe I'm not really understanding your whole process. So if modifying the source will help, I guess that's the way to go. Do you know where to start?<br><br><a href="https://github.com/blitz-research/blitz3d/blob/master/bbruntime/bbblitz3d.cpp#L275-L286" target="_blank">https://github.com/blitz-research/blitz3d/blob/master/bbruntime/bbblitz3d.cpp#L275-L286</a> <br><br></td></tr></table><br>
<a name="1315725"></a>

<a name="1315726"></a>

<a name="1315727"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#112">[#112]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not really, i have already asked Bobysait in the past what he has done to manage to edit the source code and to create a new executable, i will try to follow his vague recommendations...<br><br>The problem is that i have a low understanding of c++ and i am not really motivated by this kind of syntax (that's why i use Blitz3d).<br><br>I will try... <br><br></td></tr></table><br>
<a name="1315730"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#113">[#113]</a></td></tr></table></td></tr><tr ><td class="posttext"> Compiling the source to make an executable is a good start. You can download visual studio 2013 community edition which is free and Ploppy's VS2010-2013 blitz3d copy here.<br><br><a href="https://github.com/ploppyman/blitz3d" target="_blank">https://github.com/ploppyman/blitz3d</a><br><br>There's more instruction down below the page. If you need the DX7 sdk I could upload a copy or put up some link.<br><br>It's really easy to build it, you just need some patience. :-)<br><br><div class="quote"> The problem is that i have a low understanding of c++ and i am not really motivated by this kind of syntax (that's why i use Blitz3d). <br></div><br><br>With your logic skills, I'm sure you'll find C++ to be another perfect fit for you. Blitz3D is really C++ underneath, I think that's your whole motivation :-). <br><br></td></tr></table><br>
<a name="1315731"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#114">[#114]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the compliment, but i really believe that intelligence is specialized, i can create a lot of things using Blitz3d syntax but this c++ syntax annoys me to high levels...<br><br><br>Have you tried to do some modifications on your side and to create a new executable ? Is it easy enough ? Any recommendations ? <br><br></td></tr></table><br>
<a name="1315732"></a>

<a name="1315763"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#115">[#115]</a></td></tr></table></td></tr><tr ><td class="posttext"> Forget about it, it is too complicated, i don't have time to understand this c++ code...<br><br>Maybe i will find a workaround in Blitz3d... <br><br></td></tr></table><br>
<a name="1315733"></a>

<a name="1315734"></a>

<a name="1315735"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#116">[#116]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, Luckily I have an old visual c++ 6 installer but it's better to go with Ploppy's VS2010 version.<br><br>Nothing serious on my own so far, but what I did recently is apply Kevin's (kfprimm) "no directplay patch" to Ploppy's build, if you want to keep it up to date, IDE and compiler wise. Kevin's build is still VC6, same as original BRL.<br><br>It's fairly easy and the use of new method always is a big help and convenience like github's patch system to do some major work here even though you just need to modify a few files..<br><br><b>Kfprimm's Blitz3D No Direct Play Patch:</b><br><a href="https://github.com/kfprimm/blitz3d-ng/commit/252d9131b8acea24ca883b4714e9923595749e7d.patch" target="_blank">https://github.com/kfprimm/blitz3d-ng/commit/252d9131b8acea24ca883b4714e9923595749e7d.patch</a><br><br>Use git's own patch system rather than gnu, just download git for windows.<br><br><a href="https://ariejan.net/2009/10/26/how-to-create-and-apply-a-patch-with-git/" target="_blank">https://ariejan.net/2009/10/26/how-to-create-and-apply-a-patch-with-git/</a><br><br>I would recommend building your own blitz3d exectuable from source first with no modification and if you're not using git to save your progress history, make backups when you do some changes on source. <br><br></td></tr></table><br>
<a name="1315761"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#117">[#117]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe in many years from now when i will be old with nothing better to do with my time...<br><br>Or maybe i will outsource the creation of the modifications to an experimented c++ coder (freelancer)...<br><br>What is sure is that it will not be now. <br><br></td></tr></table><br>
<a name="1315764"></a>

<a name="1315765"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#118">[#118]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can you please share a tutorial to remove the directplay functions ? It would be good if we can apply this mod and the mods made by Bobysait and have one final executable.<br>No more directplay, and useful new functions. <br><br></td></tr></table><br>
<a name="1315766"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#119">[#119]</a></td></tr></table></td></tr><tr ><td class="posttext"> Reading a few posts up about your issue with alpha of zero not updating....why not apply a transparent texture or masked texture to the whole mesh? <br><br></td></tr></table><br>
<a name="1315768"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#120">[#120]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Matty&gt;&gt;because the idea is not to have a transparent caster but to not have to render it (hence the use of hideentity or entityalpha 0) <br><br></td></tr></table><br>
<a name="1315769"></a>

<a name="1315770"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#121">[#121]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have another idea to update the orientations of the joints/bones and the positions of the skinned vertices without having to use updateworld(), but not sure if this will work or be fast enough. I will try... <br><br></td></tr></table><br>
<a name="1315772"></a>

<a name="1315773"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#122">[#122]</a></td></tr></table></td></tr><tr ><td class="posttext"> @RemiD<br><br>The links I have sent you already contains the patch, the first thing you need to do is build one from source.<br><br>1) Download Git for Windows<br>2) create a new folder named b3d (not blitz3d, for clarity). cd to that directory and run git to clone the source from git<br><br>git clone --depth=1 <a href="https://github.com/ploppyman/blitz3d.git" target="_blank">https://github.com/ploppyman/blitz3d.git</a> .<br><br>This will make a copy but just the latest source/changes.<br><br>download dx7sdk, fmod and freeimage, link on github page. unzip them beside the created blitz3d folder.<br><br>Here's the full build instruction by ploppy<br><br><pre class=code>Blitz3D open source release! (VS2010/2013 version)

You can grab the prebuilt free version of blitz3d from www.blitzbasic.com.

Steps to build:
1) Install directx7 sdk into same dir as blitz3d:, the foldername should be DX7_Sdk 

2) Install freeimage241 into same dir as blitz3d: <a href="http://monkeycoder.co.nz/downloads/freeimage241.zip" target="_blank">http://monkeycoder.co.nz/downloads/freeimage241.zip</a>

PLEASE NOTE - IMPORTANT
=======================
You will need to edit the freeimage.h file and modify the following line (normally should be line #206)

typedef FIBITMAP *(DLL_CALLCONV * FI_AllocateProc)(int width, int height, int bpp, unsigned red_mask FI_DEFAULT(0), unsigned green_mask FI_DEFAULT(0), unsigned blue_mask FI_DEFAULT(0));

to this...

typedef FIBITMAP *(DLL_CALLCONV * FI_AllocateProc)(int width, int height, int bpp, unsigned red_mask , unsigned green_mask , unsigned blue_mask);

You have to modify this line because the original line of code is not compatible with versions of visual studio that are newer than vs6.  Changing this line will remove any compile error concerning this bug

3) Install fmodapi375win into same dir as blitz3d: <a href="http://www.fmod.org/files/public/fmodapi375win.zip" target="_blank">http://www.fmod.org/files/public/fmodapi375win.zip</a>

4) Open blitz3d workspace in MSVC 6.0.

5) Build project 'bblaunch' using config 'Win32 Blitz3D Release'.

6) Output files should end up in _release subdir.

7) Also copy fmodapi375win/api/fmod.dll to _release/bin.</pre><br><br>Place the patch file inside blitz3d directory, the instruction on how to apply the patch is in the tutorial link above. best you followed it so you know how it works.<br><br>let me know if encounter some problems. <br><br></td></tr></table><br>
<a name="1315774"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#123">[#123]</a></td></tr></table></td></tr><tr ><td class="posttext"> @RustyKristi&gt;&gt;Thanks for the explanations, but if i try to modify the Blitz3d source code i will use the original one and the modifications by Bobysait, at least i am sure that it has no errors and works well...<br><br>But for now, i have another approach to test (with rotateentity() instead of updateworld()) <br><br></td></tr></table><br>
<a name="1315775"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#124">[#124]</a></td></tr></table></td></tr><tr ><td class="posttext"> sounds good. btw, there's no change with ploppy's version, it's the same as original only you build it with at least a modern IDE like Visual Studio 2010 unless you have visual c++ 6? <br><br></td></tr></table><br>
<a name="1315788"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rick Nasher</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#125">[#125]</a></td></tr></table></td></tr><tr ><td class="posttext"> True. For convenience Ploppy first only converted it (but no enhancement/mods yet) so that the original source could be used with an up to date compiler for the original source version was hopelessly out dated and wouldn't allow it. <br>He then released this to the community so they wouldn't need to do all the boring work all over again.<br><br>He then used that version as a base for future enhancements/changes. <br><br>BTW: Didn't Bobysait use the same version Ploppy released as a base or did he convert the source himself for modern compilers or was he using an old VS version? <br><br></td></tr></table><br>
<a name="1315792"></a>

<a name="1315793"></a>

<a name="1315794"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#126">[#126]</a></td></tr></table></td></tr><tr ><td class="posttext"> Bobysait apparently used the original source code to create his addons, see : <a href="http://www.blitzbasic.com/Community/posts.php?topic=105408" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=105408</a> (#50 #62) <br><br></td></tr></table><br>
<a name="1315806"></a>

<a name="1315807"></a>

<a name="1315808"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#127">[#127]</a></td></tr></table></td></tr><tr ><td class="posttext"> Bad news : my other approach works but suffers from the same problem :<br>if the mesh is out of the camera fov, or hidden, or alpha 0, its joints/bones and skinned vertices are not updated.<br>So i can't have the skinned caster with its joints at the correct positions with the correct orientations, and consequently i can't have its skinned vertices at the correct positions.<br>And then i can't reshape the shapable (rigid) caster correctly.<br>And then i can't build the shadow volume correctly.<br><br>The only way to make it work would be to modify the source code of Blitz3d and add a function to force the update of the joints/bones and of the skinned vertices after having animated a skeleton (joints/bones) or after having repositionned/reoriented some joints of a skeleton.<br>But since my understanding of c++ is low and i don't want to spend time on this, i will try to find a good c++ coder, but if i don't, this is the end of this project. <br><br></td></tr></table><br>
<a name="1315816"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rick Nasher</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#128">[#128]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's indeed unfortunate news, sorry to hear that. <br><br></td></tr></table><br>
<a name="1315817"></a>

<a name="1315819"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#129">[#129]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not sure if looking at OpenB3d source would help since it's OpenGL but we appreciate your efforts RemiD either way.<br><br>I remember reading some tutorial links on how to do this directly from DX7 api, I can't find my bookmarks but doing some search found this:<br><br><a href="http://www.gamasutra.com/view/feature/3140/inside_direct3d__stencil_buffers.php?print=1" target="_blank">http://www.gamasutra.com/view/feature/3140/inside_direct3d__stencil_buffers.php?print=1</a><br><br>(Under Soft Edge Shadows)<br><a href="http://www.gamasutra.com/view/feature/3399/rendering_to_texture_surfaces_.php?print=1" target="_blank">http://www.gamasutra.com/view/feature/3399/rendering_to_texture_surfaces_.php?print=1</a> <br><br></td></tr></table><br>
<a name="1315831"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#130">[#130]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is a Blitz3d problem, not a stencil shadow problem.<br><br>I have already noticed this a while ago, even if you structure your code in a certain way (instructions written in a certain order), it does not matter because behind the scene, Blitz3d runs it another way... <br><br></td></tr></table><br>
<a name="1315871"></a>

<a name="1315872"></a>

<a name="1315877"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#131">[#131]</a></td></tr></table></td></tr><tr ><td class="posttext"> There is another approach but which will be slower to render :<br>always display the skinned caster with an alpha of 0.01 or less (but more than 0) and at the same position/orientation than the skinned renderer, so that it is not seen by the player but is in the camera fov and is shown and thus its joints/bones and skinned vertices will be updated.<br>But for each character this will render one high details renderer and one low details caster.<br><br>Whereas with a mod/addon in the Blitz3d source code, only the renderer would need to be rendered.<br><br>I will try this (bad) approach anyway, just to see if this is fast enough to be usable... <br><br></td></tr></table><br>
<a name="1315882"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#132">[#132]</a></td></tr></table></td></tr><tr ><td class="posttext"> Good luck with that RemiD, As the old saying goes. "If There's a Problem  There's a Solution" ;-) <br><br></td></tr></table><br>
<a name="1315883"></a>

<a name="1315884"></a>

<a name="1315885"></a>

<a name="1315886"></a>

<a name="1315887"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#133">[#133]</a></td></tr></table></td></tr><tr ><td class="posttext"> Good news : the approach that i mentioned in post#131 works well (even if it is an ugly workaround) and is probably fast enough if there are only a few skinned casters (around 1000tris each) in the scene see : <br><img src="http://rd-stuff.fr/stencil-shadows-of-skinnedcasters-with-shapablecasters-offsetbug-201608152245.jpg"><br>(the fps is voluntarily locked at 30fps, don't worry)<br><br>If you consider that there are 66ms available before a slowdown is noticeable (then the fps becomes lower than 15fps), and if you consider that my cpu/gpu are not powerful, i say that this approach is usable for some games with zones separated by walls and passages...<br><br>However there is a problem and i don't why it happens, the code seems correct, but there is a slight offset between the "shapable" caster and the renderer... I hope that this is not due to something happening behind the scene and that i can't control... (it is as if the skinned renderer and the skinned caster, move after the shapable caster has been reshaped... Weird!)<br><br>I will reread my code later, with "new eyes". Time to go sleep. <br><br></td></tr></table><br>
<a name="1315892"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#134">[#134]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks good! :0 but first get some rest! <br><br></td></tr></table><br>
<a name="1315920"></a>

<a name="1315921"></a>

<a name="1315925"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#135">[#135]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Looks good!<br> <br></div><br>not really, looks buggy... I think this is because of the use of 2 renderworld per frame (to render the stencil shadows). it is as if the renderer turns/moves/animates 2 times while the shapable caster has already been positionned/oriented/shaped with the previous position/orientation/pose, and unfortunatly i have no control over that (it is a behind the scene thing) <br><br></td></tr></table><br>
<a name="1315926"></a>

<a name="1315927"></a>

<a name="1315928"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#136">[#136]</a></td></tr></table></td></tr><tr ><td class="posttext"> after some tests, it seems that the use of 1 or 2 renderworld(s) does not change the orientation, position, pose, so the problem is somewhere else, but i have no idea where. But i know that the problem happens with the orientation, with the position, with the pose... I give up for the moment... <br><br></td></tr></table><br>
<a name="1315929"></a>

<a name="1315930"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#137">[#137]</a></td></tr></table></td></tr><tr ><td class="posttext"> Don't beat yourself up RemiD. I know it's a challenge but I think it is not worth the time anymore unless you will continue this as a hobby and rediscovering Blitz3D. I have moved on with GOM and maybe thinking of using the wrappers that has stencil and shader support.<br><br>You did your best, you learn new things and if you had fun doing it and makes you better at what you do after all this, I think that's all that matters. :-) <br><br></td></tr></table><br>
<a name="1315931"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#138">[#138]</a></td></tr></table></td></tr><tr ><td class="posttext"> Don't beat yourself up RemiD. I know it's a challenge but I think it is not worth the time anymore unless you will continue this as a hobby and rediscovering Blitz3D. I have moved on with GOM and maybe thinking of using the wrappers that has stencil and shader support.<br><br>You did your best, you learn new things and if you had fun doing it and makes you better at what you do after all this, I think that's all that matters. :-) <br><br></td></tr></table><br>
<a name="1315934"></a>

<a name="1315935"></a>

<a name="1315936"></a>

<a name="1315937"></a>

<a name="1315938"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#139">[#139]</a></td></tr></table></td></tr><tr ><td class="posttext"> Don't worry, i do it by curiosity, just to see if it is doable, and at the same time i improve my understanding and coding/debugging skills.<br><br>I have managed to remove the ugly black triangles at the back of the renderer, so this means that i can now use a different mesh for the renderer (high details) and for the caster (low details)<br>Next test will be to see how this looks.<br><br>However the slight offset between the orientation, position, pose of the "shapable" caster and of the renderer produces ugly artifacts. I will have to find a way to prevent that.<br><br><br>What this made me realizes is that Blitz3d is too limited for some things because you don't know how it runs things behind the scene and you can't change it... <br><br></td></tr></table><br>
<a name="1315939"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#140">[#140]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> What this made me realizes is that Blitz3d is too limited for some things because you don't know how it runs things behind the scene and you can't change it...  <br></div><br><br>Not true, the source code is always at your disposal. Think Hardwired ;-) <br><br></td></tr></table><br>
<a name="1315956"></a>

<a name="1315960"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#141">[#141]</a></td></tr></table></td></tr><tr ><td class="posttext"> By "can't change it" i mean that unless you modify the Blitz3d source code, you can't access some things and you can't force Blitz3d to run instructions in the order you want... <br><br></td></tr></table><br>
<a name="1316123"></a>

<a name="1316127"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#142">[#142]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just to let you know that MeshCullbox() allows to force the update of joints/bones/skinnedvertices of a rigged skinned mesh which is out of the camera fov, but apparently the size of the cullbox takes into account the scale of the entity and that's why it didn't work in my previous attempts (my meshes are scaled down by 0.01).<br>So in my case, i had to put a meshcullbox of 100times the size that i wanted... (-10*100,-10*100,-10*100,20*100,20*100,20*100)<br><br>But it works well ! no need to modify the Blitz3d source code. Oh yeah :) <br><br></td></tr></table><br>
<a name="1316157"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#143">[#143]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok understood, but hey that's some new stuff right there. Any demo or screenshots? :-) <br><br></td></tr></table><br>
<a name="1316182"></a>

<a name="1316183"></a>

<a name="1316204"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#144">[#144]</a></td></tr></table></td></tr><tr ><td class="posttext"> No demo yet, i have not finished to add all the things that i want in the scene, a wip screenshot :<br><img src="http://rd-stuff.fr/stencil-shadows-of-rigidcasters-of-skinnedcasters-201608182259.jpg"><br><br>It is a bit slow for the moment because i have not added the optimizations that i plan to add :<br>-each renderer is one mesh with one surface (currently i use several materials to color them)<br>-low details casters (currently they are very similar to the renderers...)<br>-each caster has its volume precalculated, prebuilt, and not always updated<br>-don't update volumes of casters which are not turning, not moving, not animating, only update volumes of casters which are turning, moving, animating<br>-don't update/consider volumes which are projected behind the camera<br>-don't update/consider volumes which are inside the shadows of another caster<br><br>and of course, to improve performance you should avoid moving the light as much as possible (a static light will not require to update the volumes of non turning, non moving, non animating casters) <br><br>However i still have a strange offset between the renderer and the reshaped caster when it turns, moves, animates and this is noticeable and ugly, i will have to find a solution about that...<br><br>Also, i am not sure that Martin's approach to render the stencil shadows is completely correct because it seems that there are ugly black triangles added on the areas in the shadows of each renderer, and i don't see how this is necessary (it seems that there is the same problem with the ashadow lib)<br><br>More later... <br><br></td></tr></table><br>
<a name="1316218"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Flanker</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#145">[#145]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice one, it looks neat ! <br><br></td></tr></table><br>
<a name="1316219"></a>

<a name="1316220"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#146">[#146]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks :)<br><br>However i think that i chose the wrong kind of scene to use stencil shadows, because a celebrationroom/nightclub has usually several lightsources and with this stencil shadows system i can only use one light source which is really restrictive !<br><br>I will try to finish the demo anyway, just for the fun and to see the limitations (it already takes a lot of time to render a simple scene with stencil shadows compared to the same scene without stencil shadows !) <br><br></td></tr></table><br>
<a name="1316241"></a>

<a name="1316242"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#147">[#147]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice. <br><br>Here Shadow Blur on Ashadow.<br><br><img src="http://i64.tinypic.com/9j1u9s.png"> <br><br></td></tr></table><br>
<a name="1316261"></a>

<a name="1316262"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#148">[#148]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Yue&gt;&gt;is this blur effect part of Ashadow or you have added it with another lib (fastext?)<br><br>This could allow to use low details casters without being noticeable if the outline of the shadow is blurred. <br><br></td></tr></table><br>
<a name="1316308"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#149">[#149]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's an ideal shadow for Blitz3D. I have not used ashadows because of lack of bones shadow support, but how did you manage to blur it? can you share some example? <br><br></td></tr></table><br>
<a name="1316309"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#150">[#150]</a></td></tr></table></td></tr><tr ><td class="posttext"> I see a way to blur the outlines of stencil shadows by blurring the "shadows mask" texture using a fast blur routine like FastExt blur (but of course, now that we need it, it is not compatible anymore :P) <br><br></td></tr></table><br>
<a name="1316318"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#151">[#151]</a></td></tr></table></td></tr><tr ><td class="posttext"> haha nice one RemiD. Using Ashadows and FastExt at the same time looks like overkill. BTW, I think ashadows has blur routine too, you can check the decls. ;-P <br><br></td></tr></table><br>
<a name="1316340"></a>

<a name="1316341"></a>

<a name="1316342"></a>

<a name="1316343"></a>

<a name="1316344"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#152">[#152]</a></td></tr></table></td></tr><tr ><td class="posttext"> The shadow &amp; blurring is only possible with the false shadow , at least as I understand it .<br><pre class=code>
EnableSoftStencilShadows ( 0.002 , 5, 50 ) ; customize far plane for optimal shadow bluring

repeat
ARenderWorld (camera % , 1.0 , 0.6)
</pre><br><br>This shade does not work if the features of the graphics card are maxed out , I think it has to do with the anti alias, and will not be visible shadow.<br><br><br>One problem I have with the devil and ashadow shadows is that EndGraphics , causes errors to exit the program in full screen mode. <br><br></td></tr></table><br>
<a name="1316346"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#153">[#153]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah yes I remember, with Ashadows soft shadows are possible. nice. <br><br></td></tr></table><br>
<a name="1316367"></a>

<a name="1316368"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#154">[#154]</a></td></tr></table></td></tr><tr ><td class="posttext"> I will have to find a way to test this Ashadow lib... Curious to see how the shadows system works, how the shadows look, and how fast it is compared to DSS... <br><br></td></tr></table><br>
<a name="1316378"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#155">[#155]</a></td></tr></table></td></tr><tr ><td class="posttext"> To avoid artifacts strangers , the model that casts the shadow has to be fullbright and black color, in my case it worked.<br><br>:)<br><br><img src="http://i67.tinypic.com/rswhhf.png"> <br><br></td></tr></table><br>
<a name="1316384"></a>

<a name="1316385"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#156">[#156]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>To avoid artifacts strangers , the model that casts the shadow has to be fullbright and black color, in my case it worked<br> <br></div><br>This is great if you have found a solution, however i have tried the same thing with DSS and it does not seem to remove the black triangles in the shadowed areas. (at least with my modded version, i will test with the original version just to see)<br><br><br>So now, you should be able to use even less detailed meshes for the casters. It should not be noticeable if there are no black triangles in the shadowed areas... That's what i am trying to achieve but with DSS... <br><br></td></tr></table><br>
<a name="1319446"></a>

<a name="1319447"></a>

<a name="1319448"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#157">[#157]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Bad news : my other approach works but suffers from the same problem :<br>if the mesh is out of the camera fov, or hidden, or alpha 0, its joints/bones and skinned vertices are not updated.<br>So i can't have the skinned caster with its joints at the correct positions with the correct orientations, and consequently i can't have its skinned vertices at the correct positions.<br>And then i can't reshape the shapable (rigid) caster correctly.<br>And then i can't build the shadow volume correctly.<br> <br></div><br><br>This can be fixed easily :<br>- add 2 vertices to your model and DON'T rigg them (they'll be static)<br>Put one at the left bottom back corner of your rigged mesh (use the worst case animation keyframe to set it, so any keyframes will not go farther than this vertex)<br>Put one vertex at the opposite -&gt; Top-Right-Front corner<br>Then, blitz3d will use thoose vertices to compute the bounding box of the mesh, so that whatever the keyframe being played, the box will be accurate for the camera's frustum test.<br><br>ps : "the addons by bobysait" (damned, RemiD is my commercial agent :p), I compiled it with the original sources from the github repository, with and old MSVc 6 and the MFC add-on on a virtual OS (windows Xp on virtualbox)<br>Using a new visual studio version is doable, but it will probably fail using the Puppy's version. He probably modified so much things on his OS to get it compiled that you won't be abble to get anything compiled without tons of errors.<br>It's still doable for someone who knows what he is doing, but, I really think the blitz3d sources should be more "officially" updated with newer SDKs.<br><br>BTW : Shadows done with stencil suffer from a common problems that is : it can't deal with alpha textures.<br>It's also a very old technic that is probably deprecated nowadays (Karmak used them with an engine fully built around the idea of thoose stencil volumes, so it perfectly fit its game, but there is no engine currently that really support them, because it's full of constraints)<br><br>Blitz3D allows to make some nice shadows, but there are always restrictions : (one or all of the followings)<br>- performance cost<br>- no self-shadowing<br>- poor render<br>- static meshes only<br>All my addon can solve is the last problem, but with a high loss of framerate (the vertex coordinates for skinned and animated entity is really just done for animation tools or debug, it's not intended to be used in real time -&gt; it will be slow as hell ^^)<br>Unless implementing shader stuff and defer the hard part to the GPU, there is a single way to get both self-shadowing and dynamic meshes, that is : RenderWorld from the light view with fog (to get a fake depth pass) then a computation of the depth against the camera view. And, whatever it will give nice results, it will also be slow as hell (we're talking about per pixel computation for a at least a 512*512 pixels shadowmap)<br><br>So : Dealing with shadow is always something to start with an idea in mind that is "Always consider it will be &lt;good enough&gt; but not accurate, and it will be &lt;with restriction&gt; or very slow"<br><br>For language that support shaders, it's a bit different -&gt; the per pixel computation still exist but it's done seriously faster by the GPU, and all the magic is there.<br><br>ps 2 : And BTW, stencil volumes are really low to compute, with or without low detail meshes.<br><br>ps 3 : the modifications I 've done to the blitz3d sources does not interact in any way with what AShadows could do ... But, maybe as FastExt, AShadow uses some memory pointers to retreive some blitz3d native stuff, and as FastExt, maybe it's useable only until a specific blitz3d version -&gt; memory pointers are not efficient, you just need to add an extra field to an object to get all the object memory pointers wrong from an offset.<br>So, does AShadows work with the latest blitz3d build ? <br><br></td></tr></table><br>
<a name="1319454"></a>

<a name="1319455"></a>

<a name="1319456"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#158">[#158]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>This can be fixed easily :<br>- add 2 vertices to your model and DON'T rigg them (they'll be static)<br>Put one at the left bottom back corner of your rigged mesh (use the worst case animation keyframe to set it, so any keyframes will not go farther than this vertex)<br>Put one vertex at the opposite -&gt; Top-Right-Front corner<br>Then, blitz3d will use thoose vertices to compute the bounding box of the mesh<br> <br></div><br>i tried that and curiously it did not work, but i have found a solution to this problem, see post#142<br><br><br><div class="quote"> <br> no self-shadowing<br> <br></div><br>with stencil shadows, there is self shadowing, see my screenshots... It looks very good but it is slow to render and the shadows must be from low details casters.<br><br><br><div class="quote"> <br>static meshes only<br> <br></div><br>yes but a premade non skinned caster can be reshaped each loop with the pose of the skinned animated caster (thanks to your addons we can get the skinned vertices global positions), see my screenshot, the character shadow is animated.<br><br><br>But since i have not found a way to remove the ugly black triangles at the back of each caster (the "caps mesh"), i gave up on that (and also because i don't really need shadows in my current project)<br><br><br><div class="quote"> <br>So, does AShadows work with the latest blitz3d build ?<br> <br></div><br>not sure, but maybe that's why i get an error when i try some Ashadows demos... <br><br></td></tr></table><br>
<a name="1319460"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#159">[#159]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>with stencil shadows, there is self shadowing, see my screenshots... It looks very good but it is slow to render and the shadows must be from low details casters.<br> <br></div><br>-&gt; "but there are always restrictions : (one or all of the followings)"<br><br>"One or all", meaning some shadow system can't do self-shadowing, some can, but won't have alpha etc...<br><br><div class="quote"> <br>yes but a premade non skinned caster can be reshaped each loop with the pose of the skinned animated caster (thanks to your addons we can get the skinned vertices global positions), see my screenshot, the character shadow is animated.<br> <br></div><br>yep, and that's one good sample for the "performance cost". (or it has to be used on very very low detailed shadows) <br><br></td></tr></table><br>
<a name="1319464"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#160">[#160]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks guys for these valuable input. I understand that adding shadows to good ol' blitz3d is a loosing battle. Maybe Ashadows is the best free one yet idk. (yes bobysait, ashadows works with latest version)<br><br>glad that this was given some attention again and would think that wrappers will solve this problem <br><br></td></tr></table><br>
<a name="1319482"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#161">[#161]</a></td></tr></table></td></tr><tr ><td class="posttext"> @RustyKristi&gt;&gt;with Blitz3d version 1.108 + the addons by Bobysait ? Are you sure that AShadows works well with it ? Because here i get some errors... <br><br></td></tr></table><br>
<a name="1319513"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#162">[#162]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've tested AShadow with the sample posted above (by RustyKristi on post #12) with my modified version of Blitz3D, it works like a charm. <br><br></td></tr></table><br>
<a name="1319515"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#163">[#163]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great to know! Do you think Ashadow can be ugpraded to work with animated mesh?<br><br>@RemiD<br>I think he meant without his addons <br><br></td></tr></table><br>
<a name="1319536"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#164">[#164]</a></td></tr></table></td></tr><tr ><td class="posttext"> It surely could, but the AShadow sources are really messy (and fully unindented). It makes it very confusing and it's a bit annoying to debug this kind of sources. <br><br></td></tr></table><br>
<a name="1337515"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Juggernaut</td><td align="right"><font class=tiny>(Posted April)</font>&nbsp;<a href="#165">[#165]</a></td></tr></table></td></tr><tr ><td class="posttext"> @RemiD: The problem you faced while running the Ashadow examples was due to the older version of Ashadow.dll existing within the Ashadow_Samples.rar archive. By default Windows dll files are being searched from the current directory. So as Ashadow.dll already exists in the Ashadow_Samples folder/archive, the Ashadow.dll that is placed in the Userlibs folder of blitz3D installation by manually copying from the UserLibs folder of the 5_Ashadow_1.1.0.0.rar archive is getting ignored. <br><br>So if you delete the Ashadow.dll file that comes within the Ashadow_Samples.rar everything works fine. Alternatively you can replace the Ashadow.dll file existing within the Ashadow_Samples.rar with the one that comes within the UserLibs folder of the 5_Ashadow_1.1.0.0.rar archive. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
