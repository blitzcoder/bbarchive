<!DOCTYPE html><html lang="en" ><head ><title >Transforming one vector into another vec's space?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Transforming one vector into another vec's space?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Transforming one vector into another vec's space?</a><br><br>
<a name="380827"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> To put it simply(otherwise i'll confuse myself...)<br><br>Say I have vector A, that is 0.1,1,0.<br><br>And I have vector B, that is 1,0,0<br><br>Now what I need to do is 'transform' it into the space of b. <br><br>I.e with the above two vectors A+B, it would output 1,0.1,0<br><br>I tried pointing a entity along vector b's 'heading', and then using tformpoint and tformvector(Passed with vector A)<br>but this produces wierd results, and doesn't seem to be doing what I need.. <br><br></td></tr></table><br>
<a name="380834"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> The problem in this situation is that you cannot define a 'space' or reference with only one vector. Basically, you are leaving out the roll component. You need two vectors to define an orientation, and three to define a refrence (axis, basically).  You can assume that roll is 0 in which case your solution should work. To set roll to somthin else you can use the third param of pointentity. <br><br></td></tr></table><br>
<a name="380881"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> well roll isn't important, at all, I just need the vector to 'transform' into the space of vector B. <br><br></td></tr></table><br>
<a name="380980"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eBusiness</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ehhh, why don't I understand anything of this? <br><br></td></tr></table><br>
<a name="381058"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tom</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do you have a frame reference the vectors are relative to?<br><br>When you do it in Blitz, you have to give it 2 reference coordinate sets (the entitys or world space) that the vector is relative to. I don't think what you want to do can be done without these. <br><br></td></tr></table><br>
<a name="381934"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not entirely sure.<br><br>To simplify it further,<br><br>Vector A is a 'position' on a triangle. A vector pointing off it's surface.(This can either be triangle normal, calculated for that individual pixel(I.e spherical from 0,0,0))<br><br>Vector B is got from a 'heightmap', generated from this height's r,g,b(Proper, normalized etc, withyin -1,1)<br><br>Now I want to 'transform' this height map into the space of vector A. So if vector A is pointing up, the height map will point up(On the surface I'm mapping the resultant output to) <br><br></td></tr></table><br>
<a name="381958"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>TFormVector2(Ax#,Ay#,Az#,Bx#,By#,Bz#)
temp=createpivot()
aligntovector temp,bx,0,0,1
aligntovector temp,0,by,0,2
aligntovector temp,0,0,bz,3
TformVEctor ax,ay,az,0,temp
freeentity temp
</pre> <br><br></td></tr></table><br>
<a name="381994"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AbbaRue</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't know if I understand what you are trying to do.<br>But is looks like you want to add vector B's location to that of vector A. <br>If that is what you want to do then you need to use this comand: <br>VertexCoords surface,index,x#,y#,z# <br>Add each of B's x,y,z to A's x,y,z then use VertexCoords to set the new vector. <br><br></td></tr></table><br>
<a name="382072"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Abba, nope, not even close ;) <br><br>Halo, thanks but doesn't work either. Not even remotely..;)<br><br>I tried all the tform combinations ages ago anyway...nothing seems to work. <br><br></td></tr></table><br>
<a name="382086"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> You should sign up for some uni maths, you can't define a space with a vector. The bump map has to be aligned in all three axis, the polygons' normal does not have enough information.<br><br>To transform the bump map into triangle space you need a plane equation not a normal. <br><br></td></tr></table><br>
<a name="382107"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes I know, Skid. Along the T,U vectors of the tri's uv. I.e tangant space. It's just not something I want to do in blitz3D (Which this is for..vivid is another matter)<br><br>This method I'm trying here just seemed like a logical step as it works beautiful for per-pixel lighting normal map generation.... <br>I mean this 'bumpmap' is being projected onto each tri by my code...it just seems plausible that it can be encoded already 'tanganted'...if that makes sense...no need to process...<br>(Bar a simple angle to light, per-tri)<br><br>And more to the point, I did actually get it working once...Although this was before the mapper projected the normal map along the uv coords of the mesh for obvious reasons...Then I tried experiementing with this...that..and before you knew it nothing's working.. I don't recall how I did it, but it worked just fine. Though...<br><br>Tbc.<br><br>-Edit- As for maths uni, right after you guys take 'release dates for products called bmax' uni...;) (j/k) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
