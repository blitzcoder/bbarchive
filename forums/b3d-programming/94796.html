<!DOCTYPE html><html lang="en" ><head ><title >dialogue system?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >dialogue system?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >dialogue system?</a><br><br>
<a name="1088844"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >vivaigiochi</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> someone have some example? <br><br></td></tr></table><br>
<a name="1089067"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> it's a rather complex issue, esp. with 3d mimics. usually not very portable custom solutions. if you study my system, it may give you an idea. <br><br></td></tr></table><br>
<a name="1089108"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >vivaigiochi</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I post for dialogue system like zelda or paper mario where mimics is simplified at all. it's only text and some audio effects(without sinc or other complex...).i need that player talk with other and interact with the mission.Some examples in form of .bb or .bsl are welcome. <br><br></td></tr></table><br>
<a name="1089120"></a>

<a name="1089121"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Think <a href="http://en.wikipedia.org/wiki/Analysis" target="_blank">analytically</a> about it.<br><br>What do you think you need for a message-box system?<br>It's basically three elements: the <b>box</b>\<b>frame</b>, the formatted <b>text</b> of the message and a <b>symbol</b> to indicate that a player action is allowed for the text to scroll or continue.<br>An optional fourth element is the <b>portrait</b> to be shown the player - it could be the face of the one who is speaking, as it is common with RPGMaker-made games.<br><br>Message box from Zelda - OOT:<br><img src="http://i55.tinypic.com/34gmulk.jpg"><br><font class="tiny">Features:<br>- A borderless frame<br>- The action symbol (blue square) <br>- A portrait space, with the icon of the Ocarina <br>- Colored, formatted text</font><br><br>Framed message box from a RPGMaker game:<br><img src="http://i56.tinypic.com/mmpe1z.png"><br><font class="tiny">Features:<br>- Bad grammar...<br>- A gradient background<br>- Action symbol (the triangle at the bottom of the screen)<br>- Padded text (it doesn't simply start right at the edge of the frame)</font><br><br>Do you know how to reproduce these features? I'm sure you know how to draw and place graphics on the screen (if you don't, the Beginners Area is purposed for these kinds of discussions regarding the Blitz3D language).<br>For those features you don't know how to reproduce you need to search for code that does it or at least the <i>logic</i> behind it, and <b>study</b> it. Sometimes you can realize it just by giving yourself the time to think about what you are trying to do.<br><br>I think the feature of formatting text to a defined rectangle on the screen is the hardest by far. Out-of-the-box I really don't know how to do that, and I'd resort to the Code Archives in this website, the forum search and Google for any piece of logic and code I can find - doesn't really matter the language, as the logic is what's important - I would try searching for different terms: "format text, wrap text, word wrap" etc. I remember seeing postings in this website about it.<br><br>You need the initiative to look for reference material in various places, or you'll be facing these roadblocks throughout the entire development of your project.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1089165"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >vivaigiochi</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Dear Kryzon, i was born at the center of Sicily(IT). We have invented the word calculus...and pitagora was an example. I know what you say. For example your features are only an override of PRINT function.<br>I need data structure and other example.<br>Hovewer i take your suggestion for the MESSAGE BOX SYSTEM. I will seek also for this... <br><br></td></tr></table><br>
<a name="1089214"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I see. I hope you don't take offense when I explain it so basically because there are lots of people reading these posts and they might otherwise not understand what we're talking about.<br><br>If you want to strike up actions and events when the player hits 'action' close to an interactive element (a treasure chest, a sign on a wall, an NPC etc.), you need to detect when this happens.<br>This condition is valid when <i>the player is close to the object</i>, and when he hits the <i>action key</i>.<br><pre class=code>
KEY_Space = KeyHit(57)
KEY_...   = ...

For In.Interactive = Each Interactive
	If EntityDistance(player, In\object) &lt; EVENT_DISTANCE Then
           If KEY_Space Then TriggerEvent(In)
        EndIf 
Next

Function TriggerEvent( event.Interactive )
	RunScript(event\script) ;You can build a script system so that each NPC\object interacts differently with the player.
End Function
</pre>The core of your interactivity is not the detection of the event; it's the script to be run.<br>I explain more how I would make my script system over at the BMax forums, in <a href="/posts.php?topic=93104#1063397" target="_blank">this thread</a>. <br><br></td></tr></table><br>
<a name="1089228"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >vivaigiochi</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> i'm not offended at all. I think you are ok when say: <br>Sometimes you can realize it just by giving yourself the time to think about what you are trying to do.<br>I will follow youe thread and sample.<br>if there are other example for a data structure they are welcome. <br><br></td></tr></table><br>
<a name="1089244"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> You're also welcome to post what you think is a good data structure for this kind of system, or what you're coding of it. <br>Then we can discuss on it to reach an efficient design. <br><br></td></tr></table><br>
<a name="1089333"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Funny you should mention this, I am building a dialog system in my interactive story book thingy me bob.<br><br>I am going for a different system, and probably not the right way to do it. Each character has an array, filled with strings of things they can say. At the end of each string, are tags, which the code reads:<br><br>&lt;goto 5&gt;<br>&lt;question&gt;&lt;yes&gt;&lt;goto 8&gt;&lt;no&gt;&lt;goto 10&gt;<br><br>When for instance the question tag is read, you can have two options. Yes and No (you can actually have it display whatever text you want, but it's built round two options) after the yes, is the number for the array slot, which the dialog will proceed from. I have an event tag also, whereby you can generate events, such as giving the character an item, taking it away, changing locations... etc etc. <br><br></td></tr></table><br>
<a name="1089336"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not sure exactly WHICH aspect you are needing help with, wehter it's the actual displaying of the box and text, the identification of what the text should be, or the means to deal with the players' responses.<br><br>However, if it helps, here's a suggestion for the various phrases that may be spoken according to progression in the storyline<br><br>Each NPC would have flag variables, these can represent the progress through particular quests or stages of the game.<br>For example:<br><br>QUEST_1_FLAG_VARIABLE=11<br><br>QUEST_1_FLAG_NO_QUEST=0<br>QUEST_1_FLAG_ACCEPTED=1<br>QUEST_1_FLAG_SPOKEN_TO_WIZARD=2<br>QUEST_1_FLAG_GONE_TO_SMOKY_MOUNTAIN=4<br>QUEST_1_FLAG_KILLED_DRAGON=8<br>QUEST_1_FLAG_TAKEN_DRAGON_HOARD=16<br>QUEST_1_FLAG_SIDEQUEST_FREED_VIRGIN=32<br>QUEST_1_FLAG_GIVEN_HOARD_TO_KING=64<br>QUEST_1_FLAG_SIDEQUEST_REUNITED_KING_AND_PRINCESS=128<br><br>**(More can be added using more than 1 byte. If more than 32 quest flags are needed, you can combine quests together, using QUEST_FLAG_2_VAR as well etc. Though since most quests would in theory only be "Accept Quest - Kill Monster - Take Treasure - Give Treasure To X - Return For Reward" or similar at most, A single byte per quest SHOULD be enough.<br><br>So there are up to 9 responses, depending on the number of parts of the quest.<br><br>QUEST_1_RESPONSES$[x]<br>QUEST_1_RESPONSES$[0]$="Will you help us? A dragon threatens the village"<br>QUEST_1_RESPONSES$[1]$="Maybe the old wizard could help?"<br>QUEST_1_RESPONSES$[2]$="The dragon nests up in the mountains"<br>QUEST_1_RESPONSES$[3]$="Back so soon? The dragon's still abroad!"<br>QUEST_1_RESPONSES$[4]$="I can't believe you killed the dragon!"<br>QUEST_1_RESPONSES$[5]$="You have the treasure! The King would love to see that"<br>QUEST_1_RESPONSES$[6]$="Back so soon? The dragon's still abroad!"<br>etc. etc.<br><br><br>Different NPC's of course may have different responses - The WIZARD themselves at #2 would perhaps say something else. So generally, each NPC could have 'stiock' answers, or simply default to #0, but those who are important will have an overriding output, so the wizard might say:<br><br>QUEST_1_RESPONSES$[1]$="You were wise to come to me. The dragon cannot be slain by normal weapons, only with the magical sword, Dragonslayer!" <br><br></td></tr></table><br>
<a name="1089339"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Addition:<br><br>The bitwise technique allows for sidequests to be logged separately, and reactions to include those, even if the main quest has not been concluded, or vice-versa.<br>Quests with multiple paths can be plotted likewise, and NPCs reacting to te state of missions only depends on the missions they are interested in, rther than having EVERY NPC checking EVERY quest every time the PC 'talks' to them. <br><br></td></tr></table><br>
<a name="1089517"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >vivaigiochi</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> nothing. This info are ok but there aren't ideas born in my mind.<br>so give me other suggestion... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
