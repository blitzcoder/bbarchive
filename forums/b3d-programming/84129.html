<!DOCTYPE html><html lang="en" ><head ><title >Millisecs() and rollover</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Millisecs() and rollover</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Millisecs() and rollover</a><br><br>
<a name="950148"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dip</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I see Millisecs() on my machine returns the time since the last reboot. What happens if the machine has been on for a very long time? Given that each day has 86,400,000 milliseconds, and the maximum size of the integer data type is 2,147,483,647, Millisecs() will rollover in less than 25 days. What happens if I'm playing a game that uses Millisecs() on day 25? Will it flip over to -2,147,483,647, will it reset to 0, will it just crash? I can't wait 25 days to find out :) <br><br></td></tr></table><br>
<a name="950171"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Exactly. Nobody leaves a game running for 25 days. <br><br></td></tr></table><br>
<a name="950172"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LineOf7s</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://www.blitzbasic.com/Community/posts.php?topic=84114#950040" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=84114#950040</a> <br><br></td></tr></table><br>
<a name="950173"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zethrax</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Exactly. Nobody leaves a game running for 25 days. <br></div><br><br>That's a fairly dubious statement, John. Many programs may need to run for more than 25 days (gameservers, etc).<br><br>I could be wrong, but I think it's the operating system that needs to be running for 25+ days for this to happen,  not the game - and many people do leave their computers on for that long.<br><br>@Dip - What happens is that the counter will flip over to the maximum negative integer (eg. -2,147,483,647) and will then begin counting up to the max positive value and then flip over again. The solution for this is to test for the difference between two timer values, rather than testing the time itself.<br><br>Here's some links with more info on the subject:-<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=78458#880544" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=78458#880544</a><br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=49285#548324" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=49285#548324</a> <br><br></td></tr></table><br>
<a name="950177"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Don't use Millisecs.  Use a timer. <br><br></td></tr></table><br>
<a name="950214"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dip</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <a href="http://www.blitzbasic.com/Community/posts.php?topic=84114#950040" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=84114#950040</a>  <br></div><br><br>Wow, talk about right on time! Figures I didn't check the blitzmax forum when searching this issue, wasn't sure if the underlying code for that part was the same.<br><br>@John: Millisecs() goes from the start of the system, not the start of the game. You can verify this by running the code listed here: <a href="http://blitzbasic.com/Community/posts.php?topic=83218#939145" target="_blank">http://blitzbasic.com/Community/posts.php?topic=83218#939145</a><br><br>@GfK: I'm already using timers in a different part of the app. The use of Millisecs() is for synchronizing time between a client and server and using it to determine lag on the connection.<br><br>@Bill: Your second link leads to an internal error, but the first one tells me what I needed to know (along with Lineof7's). Thanks all for the help! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
