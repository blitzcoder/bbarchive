<!DOCTYPE html><html lang="en" ><head ><title >Slowdown when usiny EntityOrder on sprites</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Slowdown when usiny EntityOrder on sprites</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Slowdown when usiny EntityOrder on sprites</a><br><br>
<a name="985463"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm getting some major slowdown when applying using entityorder on some sprites, more than about 20 is enough to hammer the framerate. If I remove the entityorder then I can happily have 1000s of sprites sailing around with no issues.<br><br>Anyone know why this is? I've tried B3D v1.100 and an older v1.98, same results on both. The sprites are pretty small on-screen, not covering the whole screen. <br><br></td></tr></table><br>
<a name="985536"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> try earlier versions.  164 works but I think the sprites got slower and slower from there. <br><br></td></tr></table><br>
<a name="985587"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> V1.64? I've seen more recent cave paintings :)<br><br>Try V1.88, there were some tweaks made to sprites in V1.89 which broke stuff, then they were fixed in V1.91. Maybe the fix caused this slowdown?<br><br>More info about the sprite bug/fix <a href="/posts.php?topic=49552" target="_blank">here</a> <br><br></td></tr></table><br>
<a name="985622"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> How did you use EntityOrder, everything -1 or 1, or did you assign individual numbers to each sprite? (like, from -99 to -1).<br>If so, you should try to create the sprites in he same order, or sort them by<br>creation time. Try both, upward or downward sorted. This probably is going to make it faster.<br><br>I just read in the online manual about the command, but even if it isn't mentioned there I have a slight feeling that the possible values are somehow limited, maybe from -1000 to 1000? I cound be wrong, however. <br><br></td></tr></table><br>
<a name="985628"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I just read in the online manual about the command, but even if it isn't mentioned there I have a slight feeling that the possible values are somehow limited, maybe from -1000 to 1000? I cound be wrong, however. <br></div>My guess would be -32768 to +32767 <br><br></td></tr></table><br>
<a name="985639"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've just tried using Entityorder -&lt;sprite_number&gt; rather than -1 for all of them, makes no difference at all to the framerate :(<br><br>With 2000 sprites the rendertime goes from 8ms to 80ms when EntityOrder is used. <br><br></td></tr></table><br>
<a name="985641"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sounds as though an expensive renderstate may be being set more often than it should be. Modern versions of DirectX make it impossible to needlessly reset a renderstate, but I'm not certain that DX7 did. Depending on what you're using them for, would it be possible to use quads instead of sprites? Perhaps it's something particular to the parenting/orientation overhead that sprites need. <br><br></td></tr></table><br>
<a name="985645"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, i can't understand why EntityOrder is having such an impact. Sounds like a renderstate is being set for every entity, or something. :/ <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
