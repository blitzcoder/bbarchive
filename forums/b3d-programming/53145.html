<!DOCTYPE html><html lang="en" ><head ><title >TCP and UDP streams / buffers</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >TCP and UDP streams / buffers</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >TCP and UDP streams / buffers</a><br><br>
<a name="594014"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chaduke</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've been experimenting with the TCP and UDP networking functions in Blitz3D and have some basic examples working.  I'm curious about how streams and buffers work internally though.  I want to make sure I'm "cleaning up" properly and not being wasteful when designing clients and servers.<br><br>At the moment my most important questions are with UDP.   <br>On the client side I create a UDP stream.  I then write things to it, bytes, integers, floats, and strings. I then send a message to the server referencing this stream and the data gets sent.  <br>At this point, what happens to the stream?  Is it automatically cleared or is there a reference pointer of some sort that gets set?  Say at this point I write some more data to the stream and then send another message.  Has the stream grown more thus taking up more memory?  Also, does the send message function automatically know from where in the stream to start sending data?<br>Now, on the server side, I create a UDP stream, accept a UDP message which in turn writes to the stream of data.  I then read the data from the stream and use it however I want.  When I recieve another message with this stream, is data appended to it?<br>I'm mainly wondering if I have to somehow manually clear the data in these streams so they don't end up taking huge amounts of memory over time. <br><br></td></tr></table><br>
<a name="594138"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BIG BUG</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> At this point, what happens to the stream? <br></div><br>It's cleared, so only new data gets sent.<br><br><div class="quote"> When I receive another message with this stream, is data appended to it? <br></div><br>No, you have to use RecvUDPMsg for each "packet". Repeat RecvUDPMsg and your receiving code, until returncode is zero. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
