<!DOCTYPE html><html lang="en" ><head ><title >Mirror Idea</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Mirror Idea</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Mirror Idea</a><br><br>
<a name="503297"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey peeps. While helping someone around here ;) write a game, I've come across an idea and put it into use. <br><br>[Heres a Screenie:]<br><br><img src="http://damiensturdy.pwp.blueyonder.co.uk/WOAH.JPG"><br><br>Mirror: <br><br>1) make complete level mesh.<br>2) Use Big10p's mesh clipping code to crop the mesh at water height. <br>(http://www.blitzbasic.com/codearcs/codearcs.php?code=1143)<br>3) Copy this mesh and flip it, then move it up by 2xwaterheight.<br>4)Create water plane.<br><br>rendering:<br><br>1) Hide original mesh. Show reflection mesh. Hide water. Render<br>2) go down the screen using copyrect to mvoe each bit left/right a bit and up by 1, using rnd and SIN to create an alogrhythm that you like.. (up by one to fix cracks...)<br><br>3) Show original mesh. Hide reflection mesh. Show water<br>4)Cameraclsmode camera,0,1<br>Render.<br><br>Flip :D<br><br>I have something mroe advanced in the workings too involving water with full reflections but still see the bottom of the cropped mesh through water.<br><br>i will post about this later.<br><br>I know i dont have any pics or code right here, but what are your thoughs on this technique? <br><br></td></tr></table><br>
<a name="503452"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Good idea. Problem is Levels usually are made of more than one Mesh. There may be interactive and animated meshes that need to be clipped in realtime - and I'm afraid that's too slow.<br><br>But it's surely worth some tests. <br><br></td></tr></table><br>
<a name="503497"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Heh, its useful in some cases,<br><br>Check it out, Ive been toying with it all day :D<br><br>[edit]<br>screenie moved to top post<br><br>Me and Paulo did this. Ive coded the reflections since a day or so back. <br><br></td></tr></table><br>
<a name="503986"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks nice, but why don't you use the animated water mesh we've seen lately, won't this work too? <br><br></td></tr></table><br>
<a name="504006"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ive not seen that...<br><br>Animated water? Does it reflect as above and still show the under water stuff?<br><br>Link me, I'm interested in seeing it (maybe i'm blind, but i just tried to use the search function again. *choke*)<br><br>Cheers :D <br><br></td></tr></table><br>
<a name="505161"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> well, it used cubic enviroment mapping with an animated water surface. It was looking just totaly cool, but it wasn't possible to put something below the water level because it was then mirrored on the top side, as seen with the standard mirror command too.<br><br>We where searching for a solution (the submarine problem) - don't remember?<br><br>Wait a minute, I'll try to find a link...<br><br>OK, from Graphics Showcase:<br><a href="http://www.blitzbasic.com/Community/posts.php?topic=43897&amp;hl=water" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=43897&amp;hl=water</a> <br><br></td></tr></table><br>
<a name="505242"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ahh yes, i saw that<br><br>My code suffers the same problem, but<br>it doesnt need cubic maps and runs fast on older systems ;) thats the advantage :)<br><br>Cheers :) <br><br></td></tr></table><br>
<a name="505281"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I meant - could you combine both? they way you clip things and the reflective waves of the other demo? <br><br></td></tr></table><br>
<a name="505379"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well it would look nice, I could forge a nice routine to do it but as you said in the first post, Itd be deadly slow :(<br>To use it in realtime, I cant have stuff go below the water either.<br><br>I have a few ideas though, Im going to play around with that idea.<br><br>I think you could figure out how far the object is into the water and adjust the rendering camerarange for that single render? I'll get back to you on it :) I have had problems with cubemaps before though.<br><br>Thanks for finding it again.<br><br>[edit] no luck. man this is a touch one. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
