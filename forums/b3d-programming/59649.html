<!DOCTYPE html><html lang="en" ><head ><title >My Enemies Are Flashing :(</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >My Enemies Are Flashing :(</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >My Enemies Are Flashing :(</a><br><br>
<a name="664898"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >matthews_30</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> you need 3 images, a player, an enemy and a hud (diablo like), i am trying to re-use several codes from the forum and adapting it to work all together. everything was working until i create the enemies :(<br><br>"always the bad guys..."<br><br>this is the code (veru much commented)<br><br>;This script is edited in Brain Editor Pro - v1.0.8 DEMO<br>; Prototipo rpg, Diablo 2 like game :P<br>; iniciado el 12/05/2006<br><br>AppTitle "Prueba de RPG por Batman!"<br><br>Graphics 640,480,0,2 ;ponemos el modo grafico en 640x480 con profundidad 0 modo 2 (ventana)<br><br>;Constantes<br>Const BufferWidth=640, BufferHeight=480<br><br>;Constantes de estado<br>vagar=1<br>perseguir=2<br>atacar=3<br><br><br>;Globals<br>;Global mouseImage=loadimage("punteroMouse.bmp")<br><br>;Globals para el jugador<br>Global ultimoClickX=320<br>Global ultimoClickY=240<br>Global playerX=320<br>Global playerY=240<br>Global imgPlayer=LoadImage("cristiano.png")<br>playerVel#=1<br>;MaskImage imgPlayer,255,0,255<br><br>;Globals para enemigos<br>Global imgEnemigo=LoadImage("archer_m_01_nvo.PNG")<br>;Global imgEnemigoV=LoadImage("archer_caminando.PNG") ;enemigo vagando<br>;Global imgEnemigoP=LoadImage("archer_persiguiendo.PNG") ;enemigo persiguiendo<br>;Global imgEnemigoA=LoadImage("archer_atacando.PNG") ;enemigo atacando<br><br><br><br><br>;Variables varias<br>splashScreen=loadimage("splashScreen.bmp"); pantalla de bienvenida<br><br>;ahora creamos una imagen negra donde dibujaremos<br>Global pictureBuffer=createimage(bufferwidth,bufferheight)<br><br>Setbuffer Backbuffer()<br><br>;musica de fondo<br>musicaFondo=playmusic("musicaFondo.mp3")<br><br>;pantalla de bienvenida<br>DrawImage(splashScreen,0,0) ;parte desde la posicion 0,0<br>Flip<br>Delay 2000<br>;freeimage splashScreen<br>;splashScreen=0<br>cls<br><br>Text 230,240,"Entrando al nivel 1"<br>Flip<br>Delay 2000<br><br>StopChannel musicaFondo	; detenemos la reproduccion de la musica de introduccion<br><br>;main loop<br>While not keyhit(1)<br>	Cls<br>	<br>	;dibujamos el HUD<br>	hud_image=LoadImage("hud.png") ;el HUD<br>	MaskImage hud_image,255,0,255<br>	DrawImage(hud_image,0,350)<br>	;Flip<br><br>	<br>	If Mousedown(1) Then ultimoClickX=Mousex() ultimoClickY=MouseY()<br>	<br>		; If ultimoClick &lt;= 593 or ultimoClickY &lt;= 371 then<br>		<br>			DrawImage imgPlayer,playerX-32,playerY-32<br>			<br>			If playerX &lt; ultimoClickX then playerX = playerX+1<br>			<br>			If playerx &gt; ultimoClickX then playerX = playerX-1<br>			<br>			If playerY &lt; ultimoClickY then playerY = playerY+1<br>			<br>			If playerY &gt; ultimoClickY then playerY = playerY-1<br>			<br>		; End If<br>	<br>	; nuestro enemigo aparece en escena<br>	<br>		enemyX#=rand(0,640)<br>		enemyY#=rand(0,480)<br>		enemyVel=.5<br>		enemyEstado=vagar<br>		dist_perseguir=100<br>		dist_atacar=20<br>		pos_VagarX=rand(0,640)<br>		pos_VagarY=rand(0,480)<br>		MaskImage imgPlayer,255,0,255<br><br>	<br>	; movimientos del enemigo<br>		; obtenemos la distancia entre ambos<br>			dis# = Sqr(((playerX-enemyX)*(playerX-enemyX)) + ((playerY-enemyY)*(playerY-enemyY))) <br>	<br>		; inteligencia artificial<br>			If enemyEstado=vagar and dis#&lt;dist_perseguir then enemyEstado=perseguir<br>			If enemyEstado=perseguir and dis#&lt;dist_perseguir then enemyEstado=vagar<br>			If enemyEstado=perseguir and dis#&lt;dist_atacar then enemyEstado=atacar<br>			If enemyEstado=atacar and dis#&gt;dist_atacar then enemyEstado=perseguir<br>		<br>		; ejecutar acciones segun estado actual<br>			If enemyEstado=vagar <br>				If enemyX&lt;pos_VagarX then enemyX=enemyX+enemyVel<br>				If enemyX&gt;pos_VagarX then enemyX=EnemyX-enemyVel<br>				If enemyY&gt;pos_VagarY then enemyY=enemyY-enemyVel<br>				If enemyY&lt;pos_VagarY then enemyY=enemyY+enemyVel<br>					dis# = Sqr(((pos_VagarX-enemyX)*(pos_VagarX-enemyX)) + ((pos_VagarY-enemyY)*(pos_VagarY-enemyY)))<br>					if dis#&lt;50 then<br>						pos_VagarX=rand(0,640)<br>						pos_VagarY=rand(0,480)<br>					end if<br>				end if<br>	<br>			If enemyEstado=perseguir<br>			If enemyX&lt;playerX Then enemyX=enemyX+enemyVel<br>			If enemyX&gt;playerX Then enemyX=enemyX-enemyVel<br>			If enemyY&gt;playerY Then enemyY=enemyY-enemyVel<br>			If enemyY&lt;playerY Then enemyY=enemyY+enemyVel<br>		EndIf<br>		<br>		If enemyEstado=atacar<br>			If enemyX&lt;playerX Then enemyX=enemyX+enemyVel<br>			If enemyX&gt;playerX Then enemyX=enemyX-enemyVel<br>			If enemyY&gt;playerY Then enemyY=enemyY-enemyVel<br>			If enemyY&lt;playerY Then enemyY=enemyY+enemyVel<br>		EndIf<br><br>		; ahora dibujamos el enemigo<br>	<br>			drawimage imgEnemigo,enemyX,EnemyY<br>			<br>			If estate=roam Then drawimage imgEnemigo,enemyX,EnemyY<br>			If estate=chase Then drawimage imgEnemigo,enemyX,EnemyY<br>			If estate=attack Then drawimage imgEnemigo,enemyX,EnemyY<br>	<br><br>	; imprimimos la posicion actual de nuestro personaje<br>	Text 0,0,"Actual posicion X del jugador: "+ultimoClickX<br>	Text 0,12,"Actual posicion Y del jugador: "+ultimoClickY<br>	<br>	;pasamos la pagina (flip)<br>	Flip<br>Wend ;fin del main loop<br><br>End <br><br></td></tr></table><br>
<a name="664902"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >matthews_30</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> oops, i forget to mention the spalshScreen and the mp3 sound for it.<br><br>please any comment may help... <br><br></td></tr></table><br>
<a name="664905"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> My Enemies Are Flashing <br></div><br>That means you defeated them and they are about to disappear from the screen. <br><br></td></tr></table><br>
<a name="664906"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> You really need to TAB your code man. It makes it so much easier to read. <br><br></td></tr></table><br>
<a name="664908"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> These lines here, might be your problem...<br><br><pre class=code>
DrawImage imgEnemigo,enemyX,EnemyY

If estate=roam Then DrawImage imgEnemigo,enemyX,EnemyY
If estate=chase Then DrawImage imgEnemigo,enemyX,EnemyY
If estate=attack Then DrawImage imgEnemigo,enemyX,EnemyY
</pre><br><br>Your drawing the image. Then, doing some checks, and drawing the same image, regardless of the outcomes of your if statements <br><br></td></tr></table><br>
<a name="664911"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> On a more serious note, this bit of code seems a tad redundant:<br><br><pre class=code>
drawimage imgEnemigo,enemyX,EnemyY

If estate=roam Then drawimage imgEnemigo,enemyX,EnemyY
If estate=chase Then drawimage imgEnemigo,enemyX,EnemyY
If estate=attack Then drawimage imgEnemigo,enemyX,EnemyY
</pre><br><br>Now I'm not sure why that would cause flashing, but I assume "imgEnemigo" is the flashing graphic you are referring to.  If not, please be more specific in describing your problem.<br><br>EDIT: He beat me to it.  Basically, delete those three If lines. <br><br></td></tr></table><br>
<a name="664912"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hehehe :OP slow coach ;) The commenting doesn't help much i'm afraid, cause it's in a different language, but try our suggestion out, see what happens. <br><br></td></tr></table><br>
<a name="664915"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >matthews_30</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok, my code is tabbed (indented) but i dont know how to do int when posting.<br><br>second, i think the problem is that the enemy is been generated randomly every time the cicle runs.<br><br>i made a test moving all the enemy variables out of the main loop but the enemy stay freeze in the first position.<br><br>matt. <br><br></td></tr></table><br>
<a name="664917"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> So, are they still flashing? If you could provide the media, we could further help you :o) <br><br></td></tr></table><br>
<a name="664919"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >matthews_30</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> i have the media, how can i send it?<br><br>do you have an email?<br><br>my email is oscargarin@...<br><br>B! <br><br></td></tr></table><br>
<a name="664922"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> . <br><br></td></tr></table><br>
<a name="664931"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >matthews_30</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> sent! <br><br></td></tr></table><br>
<a name="664932"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, these lines here:<br><br><pre class=code>
	enemyX#=rand(0,640)
	enemyY#=rand(0,480)
</pre><br><br>You constantly giving the enemy a random position. You will need to have an X and Y variable holding the enemies position and increment these to move it.<br><br>The problem you will run into, is when you want to create more enemies. You should look into types for this. <br><br></td></tr></table><br>
<a name="664934"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Unfortunatly, it's hard to try and put things into your code, because of the variable name being in your native language. But, you will need to find a way of moving the enemy and changing it's direction. What about something simple, like moving the enemy in a direction until he hits a wall?<br><br>Your flashing is caused by the constant moving of the enemies position. <br><br></td></tr></table><br>
<a name="664936"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >matthews_30</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> i thoght it was the problem, but i tried to take it out of the mail loop, but if failed, any idea about how to make it work? <br><br></td></tr></table><br>
<a name="664956"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, you need to give the enemy co-ords to start. So, set it's co-ords, before the main loop starts. How do you want your enemy to move? <br><br></td></tr></table><br>
<a name="664961"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >matthews_30</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> i think the problem is that the coords are given in the main loop. i tried to move it outside the mail loop and declaring as global, but the enemy stay in the same place, no flashing nor enemy movement :(<br><br>i will try to re-create the whole code, and i will try to use variables in english.<br><br>many thanks for all. <br><br></td></tr></table><br>
<a name="664970"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, you will need to move the enemy within the code. That is probably the hardest part of creating these games. You will need to create code for moving the enemy. Maybe have some variables to move it or something :o) Your last attempt at moving the enemy, involved you randomly positioned the enemy at different spots on the screen. It makes it look like it's flashing. It's not :o) Just moving randomly to different spots on the screen. <br><br></td></tr></table><br>
<a name="665439"></a>

<a name="1134261"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RGR</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> .<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="665440"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >matthews_30</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Excellent!<br><br>many thanks exactly what i needed to know!<br><br>thank you, very much!<br><br>B! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
