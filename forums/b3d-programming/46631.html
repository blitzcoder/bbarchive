<!DOCTYPE html><html lang="en" ><head ><title >A nice complex shadow prob :)</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >A nice complex shadow prob :)</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >A nice complex shadow prob :)</a><br><br>
<a name="518661"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >D4NM4N</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I got one hell of a terrain, lots of faces, and want to put a simple blob shadow under certain entities.<br><br>so far ive tried:<br><br>Geometric shads, (too slow because of complexity of terrain)<br><br>dark light shadows with spotlights, looks bad as only the verts are un-lit (although is there a way of making spots light in a nice smooth circle, independent of vertices??!? if so please tell)<br><br>shooting sprites at the landscape and aligning to vectors(really bad idea)<br><br>jfks linepick idea, (closest so far) but still not fast enough because of the big mesh<br><br><br>The only thing i havent tried is texture shads. I can shoot a pivot out of my 'dude' and have it return the entity hit, but how do i plot the texture coords to this point??<br><br>unless anyone has any better ideas, but i cannot reduce the complexity of the mesh unless i can do hw lighting that doesnt light only when near a vertex. <br><br></td></tr></table><br>
<a name="518682"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DJWoodgate</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> If it is a regular grid like terrain mesh you may be able to calculate the texture coords for a tformed point.  You may also be able to calculate the tri and surrounding tris to overlay a shadow mesh. <br><br></td></tr></table><br>
<a name="518779"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> The textured spotlight demo that Fredborg has posted in the code archives can (and has been - there is another entry using similar code by him) can achieve this.  Projected shadows is a simple way.  What it involves is this:<br><br>Hiding scene objects apart from shadow caster (ie character).<br>Coloring character black/grey some dark uniform color <br>Rendering the scene from the light's view and copying it to a texture buffer.<br>Using the second set of UV coords for your terrain multiply blend the shadow texture with the terrain's textures.  You need to also set the U,V values for the second texture coordinate set.  The details of how to do all this are in the following code archive entries.<br><br>Issues with it are as follows:<br>Very hard to have multiple light sources (need to make a copy of the terrain surface for each light source beyond the first)<br>Requires changing vertex uv coords each frame which can be slow if terrain has a lot of vertices, which I'm sure it does.<br><br>Anyway the code archives needed are here:<br><br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=1000" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=1000</a><br><br>and<br><br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=1010" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=1010</a><br><br>Note that Fredborg copies the original mesh - if you only have a single light and no lightmap for the mesh you can simply use the second UV coord set.  (Wouldn't it be nice if you could have unlimited UV coord sets..) <br><br></td></tr></table><br>
<a name="519044"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >D4NM4N</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> works great, thx 4 pointing it out!!! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
