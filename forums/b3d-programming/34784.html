<!DOCTYPE html><html lang="en" ><head ><title >Motion tweening, B3D</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Motion tweening, B3D</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Motion tweening, B3D</a><br><br>
<a name="376700"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeroen</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi!<br><br>Am I right that B3D doesn't "motion tween" animations, like MD2's? I'd like to implement this, but Blitz seems to ignore the motion tween parameter <br><br></td></tr></table><br>
<a name="376964"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I always thought anims might go a little wierd with render tweening... Anyway, yes, it probably doesn't adjust animation speed as all animation stuff is done in the updateworld command. <br><br></td></tr></table><br>
<a name="377007"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeroen</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> but, is it possible to get animation tweening with render tweening? <br><br></td></tr></table><br>
<a name="377071"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was thinking a bone per vertex approach may be plausible way of converting md2 to b3d, each vertex simply follows a motionpath which would be described by it's unique parent bone. <br><br></td></tr></table><br>
<a name="377082"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think a good approach would be automatic clustering of verts.<br><br>I.e for say animation 1, each vert generates a 'roadmap' of it's movement. Then group off verts that cross a threashold of similarity. (Say 90%) <br>Take this group, then average the roadmap of the verts applied to it, and then apply this to the overall limb.<br>Then any redudent verts are added to the group they most match, even if below the threashold..just to clean things up.<br><br>Won't be 100% perfect, but it should in theory(Unless I've had a brain shut down and can't see a glaring problem) work... <br><br></td></tr></table><br>
<a name="377399"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeroen</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> huh? I just want the animation to "tween" as described in the Animate command :) <br><br></td></tr></table><br>
<a name="377450"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >scribbla</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> as far as i understand it the tween is for the change over between anim cycles<br><br>walk...tween...run<br><br>not walk1..tween...walk2..tween...and so on <br><br></td></tr></table><br>
<a name="377497"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Could you be more specific than just saying "tween" again?  What is it you want to do?  Because the transition parameter (I assume that is what you are referring to) of the Animate command does as tiler describes, and it works great when I use it.  That is, to smooth out transitions from one animation sequence to another you set the transition parameter greater than 0 (most of the time I use 3) when calling the Animate command to start a new animation. <br><br></td></tr></table><br>
<a name="377600"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeroen</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> sorry, yes, I haven't been too specific.<br>I mean: the transition parameter in Animate.<br><br>With all B3D files, whatever I type, seems to be ignored. It does not transide. Does this parameter only work with M2d's? <br><br></td></tr></table><br>
<a name="377624"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> They work with b3ds as well. try somthing like 10. you should be able to notice that. Note that it only does somthing if you transition animations <br><br></td></tr></table><br>
<a name="377633"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rook Zimbabwe</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> This would be a great feature since every time I try to export my animated crossbow in MD2 I get a BONE... blah blah error! Works fine in b3d though! <br><br></td></tr></table><br>
<a name="377704"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeroen</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> still can't get it to work. I use bones.<br>Does the transition only work with a "non-bone" setup? <br><br></td></tr></table><br>
<a name="377922"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am using the transition feature right now on several skeletal animated b3d models.  Could you post some code please?  If it isn't working for you then you probably are making a mistake in the code. <br><br></td></tr></table><br>
<a name="378052"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeroen</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Jhocking,<br><br>First:<br><pre class=code>
ANIM_WALK=1
ANIM_RUN=2
ANIM_BLAH=3
ANIM_SHOOT=4

ExtractAnimSeq p\entity, 190, 200    ; WALK, ID 1
ExtractAnimSeq p\entity, 190, 200    ; RUN, ID 2
ExtractAnimSeq p\entity, 190, 200    ; BLAH, ID 3
ExtractAnimSeq p\entity, 190, 200    ; SHOOT, ID 4
TRANSITION=10
</pre><br><br>and then later, from a not yet animating entity:<br><br><pre class=code>
Animate p\entity, 3, 1, ANIM_SHOOT, TRANSITION
</pre><br><br>ANIM_SHOOT etc are constants to make it more readable. <br><br></td></tr></table><br>
<a name="378056"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >scribbla</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> if thats your code from what i can make out you are grabbing the same frames for each cycle...or am i missing something<br><br>i use...<br>idle=ExtractAnimSeq(kid,1,30) <br>walk=ExtractAnimSeq(kid,33,69)<br>run=ExtractAnimSeq(kid,72,103)<br><br>Animate kid,-1,.4,walk,4  <br>  (play cycle backwards) <br><br></td></tr></table><br>
<a name="378059"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> That he's grabbing the same frames for each cycle shouldn't matter for the transition (although it certainly is odd.)  Perhaps there is a problem with variable scope.  Specifically, is TRANSITION within scope where you call the animate command?  If not, it'll default to 0 and thus you won't have any transition. <br><br></td></tr></table><br>
<a name="378062"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeroen</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> I found the problem,<br><br>When setting the animation to 0 (off) I used speed 0.<br>The speed value, whatever the mode, should be 1 or higher. <br><br></td></tr></table><br>
<a name="378222"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gpete</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just a comment...in general...<br><br>With all the discussion of b3ds and animating and bones and such, is anyone willing to post a b3d with bones and example blitz code on animating it? I have Quill3d which doesn't quite have whats needed to animate and this is a major hurdle for a lot of us to understand. <br><br></td></tr></table><br>
<a name="378252"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >scribbla</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> heres an early test model i did in lightwave converted to .b3d  while learning.. its a bit dodgy but it may help<br><br><a href="http://www.btinternet.com/~coloured.pixels/Mek.zip" target="_blank">ZipFile!</a><br><br>note: if you want to grab any bones using findchild{}<br>then for some strange reason theres a space in front of the bone name$,i think its a lightwave problem...eg: "(space)bonename$" <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
