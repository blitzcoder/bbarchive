<!DOCTYPE html><html lang="en" ><head ><title >Cool Missile Trails</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Cool Missile Trails</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Cool Missile Trails</a><br><br>
<a name="779985"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Buggy</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there an easy way to make those cool, bloomy, missile trails that are so often seen in 2D space shooters without any userlibs, DLLs, or anything like that?<br><br>Example: <img src="http://www.jaggedbladesoft.com/desperate/screen1big.jpg"><br><br>More importantly, is there an easy way to achieve this effect without using any 3D commands in Blitz3D?  I'm creating a simple 2D shooter, and didn't want to have to use any 3D if possible. <br><br></td></tr></table><br>
<a name="779991"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_33</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I's suggest using sprites.<br><br>Commands are; LoadSprite, RotateSprite, ScaleSprite, HandleSprite, SpriteViewMode<br><br>For each trail, you'd have multiple copies of the same sprite animation which does the trail, when the sprite animation finishes one cycle, then you would remove that sprite.  Or, don't do animation and just scale the sprite smaller and when you reach a certain value, remove the end trail sprite. <br><br></td></tr></table><br>
<a name="780012"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Trader3564</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> i beleiver there is an example in the B3D folder of an plane flying in the desert with dudes running over the place. I guess that has exactly what you want. <br><br></td></tr></table><br>
<a name="780127"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IPete2</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> You should build a mini particle system for yourself, using either single surface techniques.  There are plenty of examples in the code archives and free particle systems knocking about.<br><br>IPete2. <br><br></td></tr></table><br>
<a name="780131"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think the others missed your statement 'i don't want to use any 3d commands at all'<br><br>If you are going to do glowy trails in 2d then to get that additive blend effect you will need to read pixels from the backbuffer and process them by adding the 'rocket trail' pixel color components to the backbuffer color components at that point and writing it to the backbuffer using writepixel.<br><br>In blitz3d this will be slow.  If you want to do direct pixel access at high speed then blitzplus is much better.  However - in most cases it is better to use the 3d approach nowadays - especially for something like this.  This is possible in blitz3d, and is easy with something like nsprite or spritecandy.  In blitzplus it will be fast enough as writepixel and readpixel are an order of magnitude faster under blitzplus than under blitz3d. <br><br></td></tr></table><br>
<a name="780137"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >plash</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> B3d does not support alpha channels (right?), you can make custom alpha drawing functions, but it will be very slow. <br><br></td></tr></table><br>
<a name="780150"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MixailV</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Heh, see FastImage - it's ultra fast 2D like BMax! <br><br></td></tr></table><br>
<a name="780156"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bytecode77</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> you have to use a particle system!<br>there are a few ones.<br>try the devil particle system on www.devil-engines.net <br><br></td></tr></table><br>
<a name="780173"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Buggy</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have some reluctance to use a 3D system.  One of these days I need to get myself BlitzMax.<br><br>1) I'm much more comfortable programming in 2D.<br>2) The game is based around mouse movement, and my efforts to map the mouse to 3D as accurately as in 2D did not work out. <br><br></td></tr></table><br>
<a name="780230"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >cyberyoyo</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> translucent additive particles.<br>If you want to do a game like that you'll have to use a particle system anyway.<br>It's not very difficult to create if you know how it works.<br>You don't need 3D for that, as long as you can display sprites, you can use them in a particle system. <br><br></td></tr></table><br>
<a name="780256"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> . <br><br></td></tr></table><br>
<a name="780315"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Buggy</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I prefer to code everything myself... and I've got a few 2D particle systems I can implement.<br><br>A big hindrance in me using 3D is mapping the mouse to 3D coords.  When I can't do that, what's the use in using sprites?  If I don't know where the mouse is, then I don't know where the player is, so I don't know where the player's trails are.<br><br>Thanks all. <br><br></td></tr></table><br>
<a name="780348"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leto</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's simple to translate MouseX,MouseY to whatever your 3D scale is.<br><br>If you don't want do translate, one idea is to draw your 3D scene in a 1:1 pixel scale, meaning that if your window is 800px wide, create your scene as 800 units wide. Because the mouse still exists in two dimensions (MouseX,MouseY) there's no issue in translating that to "3D X,Y".  That's how i've seen 2D-in-3D systems work. <br><br></td></tr></table><br>
<a name="780383"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> @ Buggy,<br><br>Using 3d is much better for you here.  Just use mousexspeed and mouseyspeed scaled by some factor and then movemouse to the middle of the viewport each frame.  <br><br>Works well for me anyway.<br><br>Alternatively, here's a bit of code to for a 2d-in-3d GUI which works in all resolutions - you'll need your own cursor texture.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Graphics3D 640,480,16,1
AmbientLight 255,255,255

Global CAMERA = CreateCamera() , LIGHT = CreateLight()
Global GH = GraphicsHeight()
Global GW = GraphicsWidth()
Global HGW = GW * .5
Global HGH = GH * .5
Global GUIcamera
Global GUIcursor
Global GUIsx#, GUIsy#

;draw some backgound stuff
For l = 0 To 50
	entity = CreateCube()
	ScaleEntity entity , Rand(1,5), Rand(1,5), Rand(1,5 )
	RotateEntity entity , 0, Rand(-180,180 ), 0
	EntityColor entity, Rand( 128,255 ), Rand( 128,255 ), Rand( 128,255 )
	PositionEntity entity, Rand(-100,100 ), Rand(-100,100 ), Rand(-100,100 )
Next

GUI_Init()

While Not KeyDown(1)

	TurnEntity CAMERA, 1, 1, 0

	GUI_Position( GUIcursor , MouseX(), MouseY() )

	RenderWorld()
	Flip
	
Wend

;===========================================================================
;===========================================================================
;===========================================================================

Function GUI_Init()

	GUIcamera = CreateCamera()
	CameraClsMode GUIcamera,False,True
	CameraRange GUIcamera, .1,5
	PositionEntity GUIcamera, 0,0,10000
	EntityOrder GUIcamera,-999

	;get 3d reso independant scaling
	GUIplane = CreatePlane( 1, GUIcamera )
	RotateEntity GUIplane, -90,0,0
	PositionEntity GUIplane, 0,0,1
	EntityPickMode GUIplane, 2
	CameraPick ( GUIcamera, 0,0 )
	sx# = PickedX()
	sy# = PickedY()
	CameraPick ( GUIcamera, 1, 1 )
	GUIsx# = PickedX() - sx
	GUIsy# = sy - PickedY() 
	FreeEntity GUIplane
	
	;cursor
	GUIcursor = GUI_Quad( GUIcamera, 16 , 16 , LoadTexture( "Cursor.png", 4 )  , True , 0 , 0 , 1,  -1000 ) 

End Function

;===========================================================================
;===========================================================================
;===========================================================================

Function GUI_Position( Entity , x#, y# )

	PositionEntity Entity, ( x - HGW ) * GUIsx , ( HGH - y ) * GUIsy, 0

End Function

;===========================================================================
;===========================================================================
;===========================================================================

Function GUI_Quad( parent , sx#, sy#, Texture , Free = False , ox#=0, oy#=0 , oz# = 1 , order=-998 )

	mesh = CreateMesh( parent )
	s = CreateSurface( mesh )
	For iy = 0 To 1
		For ix = 0 To 1
			px# = ( ix * sx - ox ) * GUIsx
			py# = ( -iy * sy + oy ) * GUIsy
			AddVertex s, px, py, oz, ix+.5*(1.0/sx), iy+.5*(1.0/sy )
		Next
	Next
	AddTriangle s, 0,1,3
	AddTriangle s, 3,2,0
	EntityFX mesh, 1
	EntityTexture mesh , Texture
	If Free FreeTexture Texture
	EntityOrder mesh, order
		
	Return mesh

End Function
</textarea><br><br>Stevie <br><br></td></tr></table><br>
<a name="780430"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Buggy - have a look at nsprite2.  It provides an entire commandset that is identical to the 2d drawing commands in blitz3d but uses hardware accelerated 3d.  The only difference is the commands have a "ns_" prefix to them. or something like that.  I bought a copy of it a while ago but haven't used it yet. <br><br></td></tr></table><br>
<a name="780446"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Buggy</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks all.<br><br>I will take some time off just to experiment with it being in 3D, and see if it is easy enough to code, with a big enough improvement. <br><br></td></tr></table><br>
<a name="781074"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Buggy</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> While I haven't actually done this in 3D (apparently I'm not a man of my word), I realized that 3D won't solve the problem of what I'm really trying to do.<br><br>I suppose I didn't really explain this, but I want it to be a continuous missile trail.  I could, in 2D or 3D, create a trail image/sprite behind the missile each frame, but that would be lumpy when the missile's moving a lot each frame.<br><br>And while I do understand that I could create a lot of these, close together, to achieve the effect I'm looking for, it might slow down my game drastically when a bunch of missiles are onscreen, and I'm wondering if there's a simpler way to do this.<br><br>Since I'm using 2D, I suppose what I'm looking for is some sort of irregular polygon/rect command that can create filled rects that aren't composed of strictly horizontal and vertical lines.  Short of that, I suppose I could simply create a bunch of lines instead.<br><br>To give you an idea:<br><br><img src="http://www.harmotion.org//images/stories/screenshots/screenshot_8-14b_small.jpg"> <br><br></td></tr></table><br>
<a name="781646"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >cyberyoyo</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> And while I do understand that I could create a lot of these, close together, to achieve the effect I'm looking for, it might slow down my game drastically when a bunch of missiles are onscreen, and I'm wondering if there's a simpler way to do this. <br></div><br>That's the point of using Hardware accelerated 3D, with it you can send hundreds of sprites to the graphic card and making flashy games becomes very easy. I think most of the flashy games you can see nowadays use 3D rendering, if you don't want to use hardware accelerated 3D you'll be limited in the effects you can achieve.<br>You can't make simpler than that. <br><br></td></tr></table><br>
<a name="781843"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Buggy</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> So having 1000 sprites is like having 100 images?  Ooh... that's tempting. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
