<!DOCTYPE html><html lang="en" ><head ><title >Debuglog</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Debuglog</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Debuglog</a><br><br>
<a name="325737"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Almo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi!<br><br>Does DebugLog generate any code when debugging is turned off? <br><br></td></tr></table><br>
<a name="326675"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Almo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Anyone? <br><br></td></tr></table><br>
<a name="326678"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mearrin69</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think it works the same, no matter the mode.<br>M<br><br>edit: if you want to exclude some code from release versions just put in a constant like DEBUG or something and then put the debug code into an if block that checks to see if it's true or false. It's my understanding that 'constant false conditions' are not compiled into the exe. <br><br></td></tr></table><br>
<a name="326684"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Debuglog doesn't write anything to the debuglog, when debugmode isn't active. <br><br></td></tr></table><br>
<a name="326689"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Almo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Right, but when I compile, does it generate code that checks to see if debug mode is on, or does the compile leave the code out entirely if debug mode is off at the time of compilation? <br><br></td></tr></table><br>
<a name="326697"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I imagine it does compile with debugmode on, but it won't write anything to the log. Check for yourself. Compile an exe that writes to the debuglog, and leave debugmode on. Run it and see if the program get slower :) <br><br></td></tr></table><br>
<a name="326713"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlackJumper</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looking for Slowdown might not be obvious. Can you use the old DOS file compare command on two versions of an EXE ?<br><br>To compare original.txt and new.txt go to a command prompt and type:<br><pre class=code>fc original.txt new.txt &gt;difference.txt</pre><br><br>then simply read difference.txt to see what changed.<br><br>So...<br><br>put DebugOn.exe and DebugOff.exe into C:\temp and then at a command prompt use...<br><pre class=code>fc DebugOn.exe DebugOff.exe &gt;comparison.txt</pre> <br><br></td></tr></table><br>
<a name="326715"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I mean by writing to the debuglog every loop. Causes a big slowdown as the log grows. <br><br></td></tr></table><br>
<a name="326728"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neo Genesis10</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you compile in debug mode it will continue to generate debug info. If you turn it off before compile it wont. Simple as that. If debug mode is not active the log wont be either. <br><br></td></tr></table><br>
<a name="326738"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Almo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not talking about whether or not the log is active. I want to know if there's any extra code generated into the .exe. Will try the file compare thingy... <br><br></td></tr></table><br>
<a name="326742"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Almo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great. Even without changing any code the debug enabled version and disabled versions are different... The program is just a single print statement. And the dir command lists the two as the same size. I gather this is because DOS is reporting the filesize as the number of bytes-per-sector * sectors, even though that last sector isn't full. <br><br></td></tr></table><br>
<a name="326744"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, the Debuglog becomes inactive so it's reasonable to assume there is no code generated.<br><br>Can we be sure? I suppose not. So let's try a quick test.<br><pre class=code>
DebugLog "one"
DebugLog "two"
Stop
</pre><br>Create an exe with Debug mode turned off. Check the file size.<br>Now comment out one of the DebugLog lines and try again. File size is exactly the same.<br><br>This shows that there was no DebugLog code.<br><br>The remaining reference to DebugLog guards against the possibility the compiler doesn't generate code if DebugLog is never used.<br>I don't think Blitz does this sort of optimization, but it can't hurt to be paranoid. <br><br></td></tr></table><br>
<a name="326777"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Almo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, got it. I made a 90K file, with just loads of <br><br>debuglog "woops"<br><br>lines.<br><br>The .exe with debug mode on is 1.84 meg, 1.59 meg without it on. But a program with one print statement is 1.18 meg. So debuglog DOES generate code, even with debug mode turned off. <br><br></td></tr></table><br>
<a name="326820"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmmm... that's unexpected.<br><br>Okay, compile a bunch of DebugLog "woops" statements, with debug mode off.<br><br>Next, rename the .exe file to .txt and open it in WordPad.<br><br>I see a long list of repeated woops, which I guess is a table of string literals.<br><br>There is a similar repetition of _fdebuglog, apparently corresponding to the DebugLog statement. <br><br></td></tr></table><br>
<a name="326839"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not really unexpected.  I imagine the debuglog command is written with a line at the start along the lines of ...<br><br>if( debugmode == off ) return;<br><br>Seems logical enough.<br><br>If it really bothers you, use the preprocessor that's floating around and #ifdef it out. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
