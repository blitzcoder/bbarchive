<!DOCTYPE html><html lang="en" ><head ><title >Need some help with linepick...</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Need some help with linepick...</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Need some help with linepick...</a><br><br>
<a name="358794"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OrcSlayer</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, what I am trying to do is see if a character is standing on the ground. The entity from which I am checking is a pivot placed at the characters feet, which has a collision radius of 0 (it's just for ground collision). I need to be able to do a short linepick to see if the character is standing on the ground (with at most half of the characters radius). The idea is, the character will be able to walk up surfaces until the center area (where the linepick comes from) no longer picks the ground. Then I'll start applying gravity as if the player was falling and thus prevent them from climbing further. The only problem is I'm not too savy with linepicks and I can't seem to make it pick anything (I do have the pickmode for the ground set properly). Anyone care to help?<br><br>Thanks,<br>-OrcSlayer <br><br></td></tr></table><br>
<a name="358802"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try this,<br><br>entityPickMode LevelMesh,2,true (And if you used loadAnimMesh to load your level, you'll have to set all it's children to pick mode too, unless it's a skinned .b3d, in which case picks won't work at all if it's animating too much.(Goes out of sync)<br><br>Then,<br><pre class=code>
hit=linePick(entityX(myPlayer),entityY(myPlayer)+0.1,entityZ(myPlayer),0,-0.2,0)
if hit
     yInertia=0
     positionEntity myPlayer,entityX(myPlayer),pickedY(),entityZ(myPlayer))
else if yInertia&gt;-0.2 ;Terminal Velocity, change to suit.
     yInertia=yInertia-0.02
endif
</pre><br><br>Also, be sure to use the global flag if the player is a child of anything, or you might be moving it in local space. <br><br></td></tr></table><br>
<a name="358870"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OrcSlayer</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmmm, this looks exactly like what I was trying to do...except I missed a few key details, this will certainly help me out. Thanks a lot! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
