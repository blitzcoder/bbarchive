<!DOCTYPE html><html lang="en" ><head ><title >Linked objects</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Linked objects</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Linked objects</a><br><br>
<a name="297116"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RifRaf</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,  I am trying to create link system that will take two objects and link them.. so that as they move or fall they will pull and push each other so that they stay about the same distance apart from each other and in the same position relative to each other.  I want to use these forces with translateentity.  If I use moveentity or and other command it breaks the rest of my program.  <br><br>I simply have <br>Forcex# Forcey# ForceZ#<br>Entity1, Entity2 (blitz3d entities)<br>weight1# weight2#.  weight of each object<br>Xdist# Ydist# Zdist#  (these are original distances stored at creation, distances from entity1 to entity2)<br>SpringX# SpringY# SpringZ#  (ise these for bounce effect from collisions)<br><br>Currently I have to make 2 instances of the link type to link 2 objects.  Once call will link object 1 to object 2, then the next call will link object 2 to object 1.  <br><br>Forces are applied to each object through a loop.  I currently have bounce, and collisions working, but the objects will not keep their orientaton to each other<br><br>I am not trying to make any kind of real physics here. so please no complicated maths.  I just want some bouncing objects that keep their formation.  Oh and they do collide with blits collision system., meaning I am trying to set it up so that if one object is stuck, the first object cannot pull it and therfor will not move either.<br><br>Im sure this very simple fix, Any help would be appreciated. <br><br></td></tr></table><br>
<a name="297130"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's how I do it in my physics system:<br><pre class=code>
deltax#=EntityX(entity2,True)-EntityX(entity1,True)
deltay#=EntityY(entity2,True)-EntityY(entity1,True)
deltaz#=EntityZ(entity2,True)-EntityZ(entity1,True)
d#=Sqr(deltax#*deltax#+deltay#*deltay#+deltaz#*deltaz#)
div#=(d#-Relaxd#)/(d#*-(mass1#+mass2#))
tmass#=mass1#+mass2#
m1#=-mass1#/tmass#
m2#=-mass2#/tmass#
PositionEntity entity1,EntityX(entity1,True)+div#*deltax#*m1,EntityY(entity1,True)+div#*deltay#*m1,EntityZ(entity1,True)+div#*deltaz#*m1,True
PositionEntity entity1,EntityX(entity1,True)-div#*deltax#*m2,EntityY(entity1,True)-div#*deltay#*m2,EntityZ(entity1,True)-div#*deltaz#*m2,True
</pre><br><br>You might think this is "complicated maths", but this is not an especially easy topic.<br><br>Oh yes, and relaxd#=sqr(xdist*xdist+ydist*ydist+zdist*zdist). This should only be done once, as it's a costly calculation. You can probably substitute mass with wheight(wheight is the acceleration imaparted by mass). <br><br></td></tr></table><br>
<a name="297200"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RifRaf</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
