<!DOCTYPE html><html lang="en" ><head ><title >How to "Include" a file from a string?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >How to "Include" a file from a string?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >How to "Include" a file from a string?</a><br><br>
<a name="1085306"></a>

<a name="1085307"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FearedMachina</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, so the problem I'm having is that I'm essentailly trying to let the user select a .bb file (with a prompt) for inclusion in the main script.<br><br>However, I can't figure out how to get blitz3d to do this. I've got the file path saved as a string, thats no problem. The problem is this<br><br>"Include inputstring$"<br><br>returns an error. I can't put it in quotes either, because I'm guessing blitz3d verifies all Include file paths before program execution. So, is there any way to allow someone to SELECT a file to include? or is the command always this linear?<br><br>Your help would be appreciated.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1085310"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can't be done, I'm afraid.  The "Include" part is done at compile time and you cannot add any more code to it afterwards. <br><br></td></tr></table><br>
<a name="1085317"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> the main script <br></div><br><div class="quote"> verifies all Include file paths before program execution <br></div><br><br>Sounds like you've completely misunderstood both the Include directive, and how Blitz3D runs.<br><br>Blitz3D is a compiled language. What you've written is not a script, but is deployed as an executable binary - you don't ever need to distribute the source. (If you see people talking about scripts on this forum, they're referring to addons in Lua or some other language, which is an unrelated issue having nothing to do with B3D's core.)<br><br>Because of this, everything that will be a part of the program has to be found, processed and linked at compile-time. This means that Included files have to be pasted together into a single long piece of source before the compiler processes them. As a result, the executable never actually sees the Include statement, because it's been replaced with the complete text in the named file (this is why it's a "directive" rather than a "command" - it gives an instruction to the compiler, not to the runtime).<br><br>This in turn means that Include quite simply does not exist at runtime, and isn't a procedure that can be executed by a running program (if you think about it, there's no way this could even work logically). Since variables and program logic do not exist at compile-time, there's no way to use Include with them (even then, this wouldn't help your users).<br><br>If you simply want your users to choose between functionalities that you've written and were intending to distribute with the main program, the simplest thing is to include them all into one big exe and use a Select structure to dispatch to the right functions - within the relevant files - at runtime (there are no namespaces in B3D so anything defined in any Included file is visible throughout the program).<br><br>If you want to either distribute addon modules later, or let your users write mods, you'll need an <i>actual</i> scripting language, or possibly something more complicated. There are several scripting languages floating about the forum, although none of the ones available for B3D are perfect sadly. Other options include TCC (see my signature link, makes use of scripts written in the C programming language that compile to binaries at runtime), or using DLLs linked with the CallDLL function - but B3D doesn't let you make DLLs so again you'd need to use another language (C is good!). <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
