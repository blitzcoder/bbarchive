<!DOCTYPE html><html lang="en" ><head ><title >Blitz3D window mode speedUP</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Blitz3D window mode speedUP</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Blitz3D window mode speedUP</a><br><br>
<a name="371963"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kev</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi<br><br>while looking into placing gadgets on top of the blitz runtime window ive came up with a speed increase when using blitz3d in windowed mode.<br><br>do you see the speed increase?<br><br>.decls<br><br>.lib "user32.dll"<br>apiFindWindow%(lpClassName$,lpWindowName$):"FindWindowA"<br>apiInvalidateRect%(hWnd%,lpRect%,bErase%):"InvalidateRect"<br><br>example<br><br>;<br>RUNTIME_Window$ = "SpeedTest"<br>AppTitle RUNTIME_Window<br>runtimewindow = apiFindWindow("",RUNTIME_Window$)<br><br>;<br>Graphics3D 800,600,16,2<br>SetBuffer BackBuffer()<br><br>camera = CreateCamera()<br>PositionEntity camera,0,0,0<br><br>light = CreateLight()<br><br>cube = CreateCube()<br>PositionEntity cube,0,0,8<br><br>;<br>While Not KeyDown(1)<br><br>		TurnEntity cube,1,1,1			<br>		<br>		UpdateWorld<br>		RenderWorld	<br><br><br>	<br>		Text 100,100,"Press ESC to end."	<br>		apiInvalidateRect runtimewindow,0,True<br>;		Flip		<br>Wend<br>FreeEntity cube<br>FreeEntity light<br>FreeEntity camera<br>End<br><br>un rem out the flip and rem the InvalidateRect call to see the speed change, anyone now the implications of removing flip when using window mode.<br><br>kev <br><br></td></tr></table><br>
<a name="371978"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I get a MAV if the invalidateRect is used. <br><br></td></tr></table><br>
<a name="371979"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I haven't tried it yet, but wouldn't Flip False be just as fast? I guess I'll find out in a sec :)<br><br>edit: Flip false is just as fast :)<br><br>Try adding this:<pre class=code>If KeyHit(57) Then mode = (mode+1) Mod 3

Text 100,100,"Press ESC to end." 
If mode = 0
	Text 100,110,"InvalidateRect"
	apiInvalidateRect runtimewindow,0,True 
ElseIf mode = 1
	Text 100,110,"Flip False"
	Flip False
Else
	Text 100,110,"Flip"
	Flip
EndIf</pre> <br><br></td></tr></table><br>
<a name="371987"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kev</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes, i did not think of flip false :) it does help with redrawing gadgets on the runtime window. <br><br></td></tr></table><br>
<a name="372051"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FBEpyon</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> All Flip False does is shuts off the vsync..<br><br>Not really what I call a preformance incress <br><br></td></tr></table><br>
<a name="372069"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Right ... so you're not waiting for the vertical sync, which means that if you're processing faster than the refresh rate of the monitor, you're getting more processor to use.<br><br>Sounds like a speed up to me. <br><br></td></tr></table><br>
<a name="372134"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FBEpyon</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes but it is useless, why not program it to run vsynced <br><br></td></tr></table><br>
<a name="372209"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Because it's slower? <br><br></td></tr></table><br>
<a name="372342"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kev</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> fbepyon, it does have some use invalidateRect cause the window rect to redraw sending the WM_PAINT message to the window causing the gadgets to be redrawn this can not be done using flip. <br><br></td></tr></table><br>
<a name="372671"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FBEpyon</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I might of miss understanded you, if you use flip false during a function to incress processing to some that would take alot of memory, then yes I would see its point, but I have talked to alot of people that use flip false in there main loop thru out the full game or app, and that to me is just plan sloppy programming :P and you would argee. but Kev im impressed with seeing how your GUI turns out because I have been looking for a nice one for a longtime other than BCF:P <br><br></td></tr></table><br>
<a name="372756"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rottbott</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's no good going faster if you're going faster than the monitor can refresh anyway - the tearing just looks ugly.<br><br>Give me Vsync ON any day. <br><br></td></tr></table><br>
<a name="373418"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeroen</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Kev,<br><br>Will your Gui system include foldboxes, ala 3dsmax? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
