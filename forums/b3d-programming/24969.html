<!DOCTYPE html><html lang="en" ><head ><title >verlet physics update</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >verlet physics update</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >verlet physics update</a><br><br>
<a name="259150"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay I went through version 4 of the verlet VW code and i did a massive cleanup of the code, reformatting it, adding comments where I could, adding comments telling you when I haven't got a clue what is going on in a particular area so that someone else can comment it, and seperating the demo from the verlet lib itself.<br><br>Still needs a lot of work, but at least now the code isn't triple spaced. :-)<br><br>I included all the media and stuff in case anyone wants to try it out who hasn't already downloaded that stuff.  Doesn't include any of the newer media cause the version 4 demo didn't use that.<br><br><a href="http://home.earthlink.net/~sswift/verlet-001.zip" target="_blank">http://home.earthlink.net/~sswift/verlet-001.zip</a><br><br>Also, if you can, try to link to code instead of posting it in the thread or we'll have to start a new one. :-) <br><br></td></tr></table><br>
<a name="259151"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IPete2</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Mr. Swift,<br><br>You're a gent - thanks.<br><br>IPete2. <br><br></td></tr></table><br>
<a name="259274"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hm... I'm trying to figure out how to get the car to reverse in the right direction now, but it's proving to me more difficult than it should because of the extensive use of globals that I don't know where and how they're being used.  <br><br>I wonder what the best way to remove all those globals and do the steering is...  <br><br>Hm.  The steering I think is kinda funny the way it's implemneted now.  I think that when you steer, it should just rotate the wheels, and then each update acceleration should be applied to the wheels alone, and not to the body of the car like it is now.  Then the tries can slip or stick individually based on whatever their own current speed is. <br><br></td></tr></table><br>
<a name="259321"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmc</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> thank you swift for taking the time to do clean up and host it.<br><br>originally, when i was trying to figure out how to provide player contol to a structure that has no clue about its orientation, i parented everything temporarily to a pivot, moved the pivot, then unparented it. well this is not a good way to do it. so i started to move player control to a per verlet calculation. the forward/backward (z axis)acceleration was partially finished (thats why its such a mess), and i never had time to finish converting the left/right (x axis)turning over to per verlet calculations.<br><br>but the heart of how it works is basically this.<br><br>the center verlet is used to locate a master pivot to the entire structure. this pivot initially only follows the xyz movement of the center verlet. now two verlet "sets" help orient that pivot to the overall orientation of the structure. one set of two define a z vector and the other set define a x vector. now we can orient the master pivot to those vectors so we can derive an yaw,pitch, and roll value.<br><br>now that we have these orentation value we can then transform the "global" xyz vectors of each verlet relative to the master pivot. once we have transformed the vectors we can then do some math on them that makes sense to a vehicle. so in the do verlet function youll see two sets formulas, those relative to the master pivot (which btw is called player_pivot) that are used for the wheels and another set that dont care about any orientation that remain global vectors for the body verlets.<br><br>for the wheels we need to do passive calculations, like the wheel slip to both the current and old values or else the vehicle will widly spin out out of control. for the active calculation like steering we simple add them to the force accumlator because they are the acceleration value we talked about in the prior post. i never finished the conversion from the hack i was using of parenting to doing it the right way as i just tried to describe.<br><br>ok the way im doing wheel slip or static friction for the wheels is, i define a threshold and a max value in the wheel force function. this is only for the x vector relative to the player pivot after transformation. the values that you can plug into the wheel function are currently based on crude way of calculating how much force is being applied to the x axis of the wheel from turning. the threshold is the point at which the wheel begins to slip and max is the vlue at which the wheel is allowed to fully slide. the out put of the wheel force function is 0 to 1. where 0 is no slip (x velocity is multiplied by 0 hence no slip) and where 1 is full slip (x velocty multiplied by 1 hence its the whole value).<br><br>another part that prolly doesnt make sense is the fact that i have different mass value for different axis (relative to player_pivot). let me try to explain why. since i couldnt find a way to control the actuall stiffness of a spring (constraint) i did notice that if i changed the mass of y axis of the wheel to MUCH lower than the verlets it connects to that the end result was a squishy suspension. but i only wanted it to be squishy in the z axis (relative to the player_pivot) and not the other axis. so for both x and z its a higher number.<br><br>thats all i got time for now. i will help try to answer any questions as they come up.<br><br>once again thank you swift for the work you have done. <br><br></td></tr></table><br>
<a name="259333"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm... I think maybe I'm gonna just write my own verlet system from scratch, because there's just too much extra stuff in this system and I want to fully understand this whole thing.  <br><br>I found this website.  It's by the guy who wrote the article on Gamasutra, and there's an additional verlet realated presentation which I think presents some new information like how to do angular constraints and hingers and pin joints, though I didn't go back to check the original article to be sure.<br><br><a href="http://www.ioi.dk/Homepages/thomasj/publications/index.htm" target="_blank">http://www.ioi.dk/Homepages/thomasj/publications/index.htm</a><br><br>I want a system which will work in a physically accurate way with the wheels themselves actually providing the thrust, because that's really the only way to create a generalized system where you can simulate anything, and I like generalized code. :-)<br><br>Here's an updated version of the verlet test program.  I just basically did some more code formatting, moving the particle, camere, and input code out of the main loop to clean it up.<br><br><a href="http://home.earthlink.net/~sswift/verlettest-003.bb" target="_blank">http://home.earthlink.net/~sswift/verlettest-003.bb</a> <br><br></td></tr></table><br>
<a name="259338"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bouncer</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> You cant really do rolling motion using particle phased method (unless you use huge amount of particles as a circle)... so that's (allmost) impossible to make the wheels to provide the thrust... <br><br>You have to use the good old ODE solver to do that, where you actually calculate rotation. <br><br></td></tr></table><br>
<a name="259339"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bouncer</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> double post... sorry <br><br></td></tr></table><br>
<a name="259343"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Good stuff!  It is much easier to understand and use the vertlet stuff now that you've cleaned it up and separated the vertlet code from the rest.<br><br>I just uploaded the code from my demo to<br>www.moondoggieent.com/blitz_racer.bb<br>My primary additions to the code are the added speedometer and improved chase cam (both things you might want to add to your cleaned up code.)  The chase cam in particular I like a lot because I introduced a little lag so that the camera doesn't turn exactly along with the car, smoothing out the camera movements. <br><br></td></tr></table><br>
<a name="259345"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> "You cant really do rolling motion using particle phased method (unless you use huge amount of particles as a circle)... so that's (allmost) impossible to make the wheels to provide the thrust..."<br><br><br>The way he does things now I think, the tires have a collision sphere, and if that collision sphere is colliding with the ground, the car can move forward.  But all thrust is applied to the car.<br><br>I'm not really advocating making the itres themselves roll, and having that rolling motion provide the actual thrust.  Instead what I am suggesting is a method like the above, but where the TIRES themselves are allowed to provide thrust to themselves when they touch the ground individually, and in turn their contrained connection to the car, via springs, is what actually pulls the car's body forward.<br><br>This would allow each tire to slip and grip individually which is needed when you whip the back end around cause the front tires aren't moving much when that happens and they should still be in stick mode.  Also, in the current system you get just as much thrust if one tire is touching the ground as you do if four are.  The result seems to be that the car jumps if a tire touches the ground by itself, and flips around uncontrollably.<br><br>Hm...  There is one thing that confuses me though.  When I dump the car over on it's side, I can make it spin around in a circle.  Is that possible if the thrust isn't being applied to the tires themselves rather than to the car body?  Hm...<br><br><br>"(both things you might want to add to your cleaned up code.)"<br><br>I would prefer that people just add stuff to the cleaned up code themselves and work off that.  I don't have the time to add lots of stuff to this engine, I just thought I'd help out a bit since I wanted a cleaner version of the code to look at myself so I could better understand what was going on. <br><br></td></tr></table><br>
<a name="259354"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> hmm. yeah. I'm trying to write a generalized verlet system. (As I've brodcasted many times) Anyway, If you have any problems, ask me. I've been working on mine for quite some time, and have done most of the things outlined in the Thomas Jakobsan articles-verlets,constraints, some friction, and my own collisions.  Of course, no demos as impressive as dmc's buggy. <br><br>Oh yeah, and I might post a list of comment-corrections/removing the "what does this do?" comments. <br><br></td></tr></table><br>
<a name="259358"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmc</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> swift you wrote:<br>"The way he does things now I think, the tires have a collision sphere, and if that collision sphere is colliding with the ground, the car can move forward. But all thrust is applied to the car."<br>your partially correct. the part that is true is thrust is only applied when the wheels are in contact with the ground. but if you look closely you will see that there is an if statement that checks if its a front wheel or rear wheel. i only apply thrust to the wheels not the entire body. this is for the z axis. so its basically a 4 wheel drive car.<br><br><br>"Instead what I am suggesting is a method like the above, but where the TIRES themselves are allowed to provide thrust to themselves when they touch the ground individually, and in turn their contrained connection to the car, via springs, is what actually pulls the car's body forward."<br>that is how it is working now.<br><br>"Also, in the current system you get just as much thrust if one tire is touching the ground as you do if four are."<br>in the original code it did exactly what you describe, but i turned it off because the wheel bounces so much that car did not maintain its speed very well. so this is very much on purpose for playability reasons. <br><br></td></tr></table><br>
<a name="259362"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't think that moving the application of force from the car body to the wheels or vice-versa would make much difference. The ODE cars had the thrust provided by the front or rear or all four wheels, using rotational movement (what you describe as the ideal case), but the car still swapped ends in an instant and was generally not that much fun to drive.<br><br>ODE even allowed soft contacts, but still you couldn't get a realistic car model because in the end the friction between the wheel and road was constant, and it either gripped and stuck or it bounced, leading to an on-off grip situation.<br><br>A "rubber tire -&gt; ground" friction model is what the simulation needs. <br><br>As I understand it - if you look at the force a tire experiences when it corners, it can grip and grip until a certain level of total loading is reached, whereupon it starts to break and gradually or rapidly (dep. upon the tire) starts to slide and the traction level drops right off. The total force upon the tire must then be reduced (by slowing down and/or turning the steering) until the level is reached where the tire can grip again. Note that the regaining grip level is lower than the level at which the tire broke in the first place (presumably due to the way in which the tire reacts as it slides and heats up etc...?)<br><br>Have a look on the net for tire force-circles and you'll see the effect.<br><br>Alternatively, download Richard Chaney's excellent car demo and you can see the force circles displayed on the screen. Note that even in his demo, the car still displays a tendancy to flip into oversteer.<br><br><a href="http://homepage.ntlworld.com/richard.chaney/cardemo.zip" target="_blank">http://homepage.ntlworld.com/richard.chaney/cardemo.zip</a> <br><br></td></tr></table><br>
<a name="259372"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> "But if you look closely you will see that there is an if statement that checks if its a front wheel or rear wheel. i only apply thrust to the wheels not the entire body. this is for the z axis. so its basically a 4 wheel drive car."<br><br>""Instead what I am suggesting is a method like the above, but where the TIRES themselves are allowed to provide thrust to themselves when they touch the ground individually, and in turn their contrained connection to the car, via springs, is what actually pulls the car's body forward.""<br><br>"that is how it is working now."<br><br><br>Okay, I didn't look at the code yet, but assuming what you're saying is true, then it's working more like I want, but not exactly like I want.<br><br>Right now, you are calling the function, passing it the car, and the acceleration for the car.  Then, I guess if what you say is true, you're acting on the WHEELS inside the function when you passed it the car.<br><br>The way I see a proper system functioning would be to call DoVerlet once for each verlet object in the world, or for none at all, having the function iterate through them seperately and add any acceleration you want added this frame.  That way I could easily change the code on the fly to apply force only to the front tires, or only to the back tires, and there would not be a difference ebtween tires at all, and I could make a six wheeled vehicle with two sets of turning tires if I so desired.<br><br>Also, because you only have one acceleration parameter, you don't have the ability to specify an acceleration in any direction you want to.  So for example, there's no way to suddenly give the body of the car a sudden vertical push if it goes over say, a fan, or to give the tires a sudden downward push to shove them into the ground which should make the car jump.<br><br><br>""Also, in the current system you get just as much thrust if one tire is touching the ground as you do if four are.""<br><br>"in the original code it did exactly what you describe, but i turned it off because the wheel bounces so much that car did not maintain its speed very well. so this is very much on purpose for playability reasons."<br><br>Okay, but I suspect that this is because you modeled the tires in a funny way.  You don't have any actual springs connecting them to the body, and they don't have a correct mass because you used the mass to fake a spring effect.<br><br>The thing about springs is they're used in cars to keep the tires sticking to the road even when the tire goes over a bump.  So I think that exchanging the stick constraints with a spring constraint would solve that problem.<br><br>If I knew which constraints in the code were the sticks connecting the tires to the car body then I could attempt to create a spring constraint and test it out.  I need to know which ones go up and down.  <br><br>I'm guessing that you chose to use a single constraint that can go up and down.  I need to know which one that is for each tire.<br><br>Another way to connect the tires to the body would be with two stick constraints and a spring, in a tetrahedron type of formation, connected to a triangle of sticks which are fixed in position on the car.  Then you wouldn't need an axis constraint on the spring.  I dunno if that would make things more stable or less stable though. <br><br></td></tr></table><br>
<a name="259377"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> "I don't think that moving the application of force from the car body to the wheels or vice-versa would make much difference"<br><br>It's not mainly about changing the driving model.  It's about fixing the system and the model so that it works in a logical way.  You don't want to have to have a specific function for doing the physics for a car, and a specifc model for a rig, and a specific mdoel for a six wheeled moon rover with really springy shocks.<br><br>So that's why I want to seperate the force the tires are exerting from the car.<br><br>Personally, I like the driivng model like it is now.  Actually, I kinda liked version 3 the best.  The version I put up, when you turn sharply the car doesn't lose traction and spin around.  I liked that, I just thought it needed a little tweaking so it was a little harder to do.  Also in this version you can't turn as sharply when you're moving at a high rate of speed, which may be responsible for the lack of ability to spin the car around.<br><br>In fact, I would like a driving model where the car only rolls over so far and then stops.  It's no fun if the player flips over onto the roof when going over a jump.  Unfortunately, I don't know if it will be possible to do that...  Then you couldn't make the car go around loops! :-)  But I guess one could forgo the loops since it doesn't seem like the car is going to be able to go around a loop without a lot more physics. :-) <br><br></td></tr></table><br>
<a name="259388"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would have thought the car could do loops as it is. It has problems with banking and such like though, as the polygon seams (ie. the bits where one poly joins the next at an abrupt change of angle) cause the wheels to loose grip and / or bounce. It's currently pretty hard to corner on the raised spiral thingy, due to the harsh poly angles.<br><br>Unfortunately there's no way around this apart from a) increasing the poly count to smooth edges, or b) making the contacts slightly soft (ie. allowing penetraction).<br><br>I quite like being able to flip the car over (currently though it's a bit too easy to do). <br><br></td></tr></table><br>
<a name="259407"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> "I would have thought the car could do loops as it is."<br><br>Well, right now if you fly at the tall curved wall really fast, then the physics breaks if you hit it too hard.  And I'm guessing that even if the tires didn't flip around, the car would still either get stuck, or would not make it around because the forces wouldn't be balanced right and the wheels would stop touching the surface halfway around the loop.<br><br>Of course I'm just guessing, but as the car can't even go off a jump at high speed now properly or consistently, I think my guess is a good one.  <br><br>By properly or consistently, I mean that when I go off jumps at high speed a lot of the time the car isn't launched into the air properly, and as a result doesn't fly as far as it should, or just flips end over end.<br><br>Of course it's not so bad as to be unusable.  It just isn't very physically accurate.<br><br>"b) making the contacts slightly soft (ie. allowing penetraction)."<br><br>I think you mean penetration. :-)<br><br>Actually now that you mention it, on that site I listed, it shows a method for calculating friction based on the amount which an object penetrates a surface.  I don't think this code currently does that, but I'm not sure.  I think it's more accurate if you do it that way instead of just using a generic ground friction when the wheels are in contact with something.  Maybe it would help make the steering more realistic. <br><br></td></tr></table><br>
<a name="259436"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> I like the ability to roll it too, though not when it comes too easily (and it would be better if it was (more) possible to roll back up the right way.<br><br>BTW I take it you guys have read the Marco Monster tutorial? This covers the tyre[/tire] stuff in detail that even I can almost grasp...<br><br><a href="http://home.planet.nl/~monstrous/tutcar.html" target="_blank">http://home.planet.nl/~monstrous/tutcar.html</a> <br><br></td></tr></table><br>
<a name="259498"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rottbott</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Another brilliant link, thanks for that one :) Where do you get all these links? <br><br></td></tr></table><br>
<a name="259501"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> That code of Marco's is the stuff I converted to Blitz way back in the dim and distant past, which is in the code archives.<br><br>Yes, I did mean penetration. Whoops!<br><br>I think it would help make the movement more realistic and predictable. <br><br></td></tr></table><br>
<a name="259541"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmc</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> some more answers i hope are helpfull for you swift.<br><br>"Okay, but I suspect that this is because you modeled the tires in a funny way. You don't have any actual springs connecting them to the body"<br>im not sure what you mean. if you mean code that uses correct physics for a spring? if so then yes i dont have that. but each tire does have many constraint springs connected to verlets that represent the body.<br>heres a list of what the connections are for the tires.<br><br>verleta and verletb are front tires.<br>verlete and verletf are rear tires.<br>verlets c,d,g,h form the roof of the car body<br>verleti is the center verlet that the player_pivot is tied to.<br><br>so here is one of the front tires, verleta, is connected.<br>the following 3 are consider edge connections (imagine the edges of a cube)<br>Constraint2(verleta,verletb) from tire a to tire b (parrelel to x axis)<br>Constraint2(verleta,verletd) from tire a to roof body d (parrellel to y axis)<br>Constraint2(verleta,verlete) from tire a to rear tire e (parellel to z axis)<br><br>the next 3 are cross face connections (imagine a dice, look at a face on the dice and draw a line diaganol corner to corner across that face)<br>Constraint2(verleta,verletc) tire a to roof c<br>Constraint2(verleta,verletf) tire a to rear tire f<br>Constraint2(verleta,verleth) tire a to roof h<br><br>the next one is a connection that travels thru the middle of the imaginary cube. (hold a dice so that you are looking directly at one face. pick a corner of that face and draw a line thru the middle of the dice to a corner of a face on the opposite side)<br>Constraint2(verleta,verletg) tire a to roof g<br><br>the last type of connection is the easiest. every verlet is connected to the center verlet.<br><br><br>you also wrote:<br>"and they don't have a correct mass because you used the mass to fake a spring effect."<br>actually if you think about it the wheels having a much lower mass is very realistic. how much does a tire/wheel weigh? lets say 75 pounds. how much does the body of the car weigh? a ton? so that part is correct. you DO want the wheels to have a low mass. the part about faking a spring effect, yeah i admit i have abosultely no clue how to code a real spring. so maybe if you know how to do that it could take the sim one step closer in realism.<br><br>"Also, because you only have one acceleration parameter, you don't have the ability to specify an acceleration in any direction you want to. "<br>it is typical to accumulate all your forces, or in our case accelerations, before you send them to the integrator. the code has one line that is messing this all up. if i fixed it you could accelerate the car in any vector direction by storing them in the accululator, vGrav.Vector = Vector(0.0,9,0.0). the reason it isnt working properly is i am resetting that accumulator in the main loop. thats one of the bugs that needs to be fixed. but it is a VERY easy fix. <br><br></td></tr></table><br>
<a name="259546"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DH</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have played with all the demos for this thing you guys have put out (thus far), and have to say, alghough fun, its very very unrealistic.<br><br>I dont mean this as a complete cut, but more in refference to what Sswift has said, "It needs to be fixed to act in a logical way".  I have driven off road many a times, and played many a game where they try to simulate it.  To me (aside from looking at the code, which I am not going to do at the moment) it seems as if everything is being based on collision (wheels colliding with this, body colliding with that, etc) and not on force (or not enough forces involved to affect the result).<br><br>Things to always consider:<br>Weight of the body<br>Weight of each tire<br>Tension of Springs<br>Pull flex of springs (they can go further then their pre-made length)<br>Bounce of the body (There is some flex in the frame, and in the metal, weather it shows damage or not, a bounce of a car frame does rely on the flex of the frame).<br>Bounce on the wheels<br>Points of refference (with a veichle, the wheels of course, and also a few key points on the body ie: 2 along the roof, one on each side of the body, 2 in front, and 2 in the rear).  This gives you roll forces, and opposing forces (which creates roll inertia).  <br>Grip factor on the tire (and indirect formula with torque vs ground speed to apply the grip)  This also applies movement based on collision (angle of polygon collided with direction of pull on body (intended direction of wheel))<br><br>Just a few things to factor into a good driving sim.  I'd be happy to help out with some of the math, however I am scared to get too side tracked (it always pull me away from my current project, and you know how that goes).. <br><br></td></tr></table><br>
<a name="259555"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmc</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> no offense dark half but we already have enough people pointing out its weaknesses. thats easy, anybody can do that. <br><br>it would be MUCH more productive to contribute code rather than sit safely back and pick it apart. <br><br></td></tr></table><br>
<a name="259568"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Dmc I think you're taking this too personally, I think his suggestions for how to improve the model are useful.  Though I personalyl don't have an interest in creating the perfect driving sim.  I just want something that drives in a fun way, and is in fact, unrealistic.  For example, I like how the car bounces off walls when it hits them.  Getting stuck up against a wall is really annoying in Crazy Taxi. <br><br></td></tr></table><br>
<a name="259583"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DH</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> no offense dark half but we already have enough people pointing out its weaknesses. thats easy, anybody can do that. <br><br>it would be MUCH more productive to contribute code rather than sit safely back and pick it apart. <br> <br></div><br><br>Fine.  You'd be interested to know that I DID start my own version of the program (about 4 hours ago), just because I think the model would come in when i do persue a driving sim.  Tell you what though, just because of your comments, I doubt i will contribute the code to this thread (weather its an improvement, or not, YOU'LL never know)......  Good Day<br><br><div class="quote"> , I think his suggestions for how to improve the model are useful. Though I personalyl don't have an interest in creating the perfect driving sim. I just want something that drives in a fun way, and is in fact, unrealistic. For example, I like how the car bounces off walls when it hits them. Getting stuck up against a wall is really annoying in Crazy Taxi.  <br></div><br><br>Weather its the perfect model or not, with more advanced forces (and control), you CAN do wacky things with the physics (IE you want to make the car bounce like its on a pogo stick, merely up the flex var for the body, and for the shocks, or you want to have the car do big air jumps, down the force of the gravity, and down the drag).  The point is, with more control over forces (and more forces), you can really pull off some cool demos (pure fun) <br><br></td></tr></table><br>
<a name="259593"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmc</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> people can throw all the darts they want, but god forbid i try to defend it.<br><br>on a more productive note, and vorderman you may be interested in this, ya know how the wheels start to bounce and that causes problems getting a clean slip? well i just did a test and the results are interesting. i took out the portion of the code that checked if the wheels left the ground which would then prohibit the state change code to take place. the bounce effect while under forces from turns has dropped off significantly. it appears that if the code had a way to predict the difference between it just oscilating up and down fast versus it really leaving the ground for more than a couple millisecs that the perfomance of the wheel slip routine really starts to look good. <br><br></td></tr></table><br>
<a name="259624"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> "people can throw all the darts they want, but god forbid i try to defend it."<br><br>But they're not throwing darts.  They're just saying what could  use improvement.  I just think you're being TOO defensive.<br><br>Surely people will present some ideas you may not have thought of.  But if you act so defensive when folks offer suggestions then they might not feel safe in making comments.<br><br><br>"The point is, with more control over forces (and more forces), you can really pull off some cool demos (pure fun)"<br><br>Well yeah.  But I like stuff to be simple.  I made a a simple flight sim, and the number of variables to control became overwhelming when trying to make a model which worked well. <br><br></td></tr></table><br>
<a name="259625"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> "it appears that if the code had a way to predict the difference between it just oscilating up and down fast versus it really leaving the ground for more than a couple millisecs that the perfomance of the wheel slip routine really starts to look good."<br><br>Hm...<br><br>That may be so, but I don't like the idea of averaging things over several frames to dtermine the outcome.  I would prefer to find a solution which involves forcing the tires to stay on the ground with springs.<br><br>Maybe the solution is to use two springs.  A short squishy spring to simulate the rubber of the tire, and a stiffer longer spring to simulate the shocks.  The squishy spring would compress easily, and would expand quickly, keeping the tire ont he ground longer when the car lifts off the ground.  The stiffer srping would allow a lot more motion, but respond more slowly to changes. <br><br></td></tr></table><br>
<a name="259630"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmc</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> thats an interesting idea....<br><br>i think i see what your saying. heres an odd thought along those lines swift....<br><br>instead of using a spring to represent the rubber could you vary the radius of the collision entity using spring math? and if you did vary the radius would that break the blitz internal collision functions? <br><br></td></tr></table><br>
<a name="259644"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> woo. heated discussion. Anyway, I think that the major thing to fix would be unreasonably far bounces. bouncing on collision isn't to bad of a thing, but when the car decides to spontaneously shoot of into the sky, that's rediculous, and not very fun. If everything was realistic, it wouldn't be very much fun. You wouldn't make insane stunts or jumps. I think one minor adjustment would be to implement more realistic air friction. I forgot the equation, but I think it's either drag=coef*vel or drag=coef*drag^2 . Maybe try both? simply apply this to the verlets. this way, even if it does try and go shooting off, it will radically slow down. <br><br></td></tr></table><br>
<a name="259656"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe, instead of using Blitz collision on the wheels which instantly forces them to be in perfect contact with the ground, you can use a sphere-&gt;poly check to find out whether the wheels are penetrating the ground (or other objects) and then move them back along the collision normal, at a speed dep. upon how bouncy you want the rubber tires to be.<br><br>Maybe that would simulate soft contacts? Basically that's how it works in ODE - you set an error correction level that allows intersection but works it out and resolves it over a number of frames, so objects penetrate but then slowly (or quickly dep. upon how you set it up) push apart from each other.<br><br>I think you'd need to log the normal of the first collision and then use that until the objects were apart. Having just written that produces all sorts of images in my mind of situations and geometry where it'd fall over. Hmmm. Maybe log all collisions and normals and average them? <br><br></td></tr></table><br>
<a name="259661"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> "instead of using a spring to represent the rubber could you vary the radius of the collision entity using spring math?"<br><br>As you said, if you alter the collision radius of an object in Blitz, it's very likely that the collision code will mess up and the object will pass through the ground without registering a collision.<br><br>"this way, even if it does try and go shooting off, it will radically slow down."<br><br>Another thing one could do is cap the velocity of any verlet at some max value that's beyond what any object would be expected to travel at.  Would have to be a constant you could change though cause everyone uses different units of speed. <br><br></td></tr></table><br>
<a name="259820"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmc</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> sswift i have time today to do a pass thru the code and comment and further clean it up. is there a way i can get it to you so you can host it? i dont have web hosting.<br><br>all im doing is making more understandable (i hope) and improving some of the basic systems. not making huge changes in functionality. <br><br></td></tr></table><br>
<a name="259866"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dangerdave</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> dmc stated that there are verlets for the roof of the vehicle to which the wheels are connected.<br><br>Could we not have a verlet for each wheel, which connects to the tire? This would be additional, and would only connect to the tire and across to the corresponding wheel.<br>It could act like an axle.<br>(Example. The two verlets for the front wheels would connect to each other and the tires.) <br><br></td></tr></table><br>
<a name="259895"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Miracle</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> Didn't I post in here about how to make a spring constraint? Or am I going nuts? <br><br></td></tr></table><br>
<a name="259902"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DL</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the code guys (especially for dmc for starting it all).<br><br>I had been thinking about making a small stunt racer style of game and this will help immensely.  I've spent a lot of hours going through the code to clean it up and make it easier to read for myself.  I've gotten rid of most of the global vars (by adding them to the VObject which I think is where they really belong) and fixed the reverse steering issue. Once I'm done I think I'll look at modifications etc. (this is a learning process for me as math has never been my strong point)<br><br>I was reading one of the links posted here on car physics and I might try changing the DELTA_TIME value to see if that stops the wild out of control values that can happen in certain collisions.<br><br>In any event, just wanted to thank you all for your contributions. <br><br></td></tr></table><br>
<a name="259931"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> "Didn't I post in here about how to make a spring constraint? Or am I going nuts?"<br><br>Evidently you're nuts. :-)<br><br><br>"is there a way i can get it to you so you can host it? i dont have web hosting."<br><br>Just email it to sswift@... <br><br></td></tr></table><br>
<a name="259986"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Miracle</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, so here's how to make a spring: Instead of having the constraint routine automatically force two verlets to be exactly the constraint's distance apart, you modify the routine so that for some "springy" constraints it'll only move the verlets a fraction of that distance per iteration. A rigid spring would move the verlets, say, 80% of the distance; a soft one, only 20% or so. This way the verlets will slowly go back to where they ought to be instead of snapping taut. <br><br></td></tr></table><br>
<a name="259991"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here is stuff I have written down on how springs work.  Don't ask me what a "logarithmic impulse formula" is for.  I don't know.  I just copied down equations that looked important.<br><br><br>--------<br>SPRINGS<br>--------<br><br><a href="http://www.pcug.org.au/~apurdam/doublespring/doublespring.html" target="_blank">http://www.pcug.org.au/~apurdam/doublespring/doublespring.html</a><br>two masses, connected by one spring:<br><br>M1, M2 = masses<br>k = coefficient of stiffness of the spring<br>x1, x2 = the displacements of the masses from their positions of equilibrium<br>x1'', x2'' = the acceleration for M1 and M2<br>r = viscous damping<br>x1', x2' = velocity of masses (from previous frame?)<br><br>x1''= k / (M1*(x2-x1)) - r*x1'<br>x2''= k / (M2*(x1-x2)) - r*x2'<br><br><br><br>misc notes:<br><br>Logarithmic Impulse formula.<br>Impulse  = Log(RestSpan) - Log(CurrentSpan)  <br><br>Note: this is a different from the usual linear spring formula which is taught in physics classes.  With the logarithmic formula, it should be impossible to completely compress the spring.  It also means that springs that have long rest lengths vibrate much slower than short ones. <br><br></td></tr></table><br>
<a name="260024"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> Did some research on the impulse method. apparently it's good for rigid bodies/ basic articulated bodies, but not good for say people or mechs. Perhaps you could have it as another type of constraint??? Though it appears that the main focus of the system is rigid body, so it should be fine. <br><br></td></tr></table><br>
<a name="260036"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eole</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi !<br><br>I'm french and my english is very bad. I ve spent a lot of time to understand how it works . . <br>I try many different parameters to see what happenend, but i dont' really understand how it's work, If someone have link on Verlet physic to help to undesrtand , thank ?<br><br>thank to DMC and Sswift to share this ... <br><br></td></tr></table><br>
<a name="260043"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Koriolis</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://www.gamasutra.com/resource_guide/20030121/jacobson_01.shtml" target="_blank">this?</a><br>You'll just have to register to gamasutra. <br><br></td></tr></table><br>
<a name="260082"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bouncer</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> bot builder: be ready for some hard maths then... verlet "physics" is very easy compared to all traditional approaches.<br><br>"Perhaps you could have it as another type of constraint???"<br> <br>You can't have it as "another constraint", as it's entirely different method of handling rigid bodies. <br><br></td></tr></table><br>
<a name="260087"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> "You can't have it as "another constraint", as it's entirely different method of handling rigid bodies."<br><br>Are you saying that you can't use springs in a verlet based system, instead of using only sticks?  Because I read the article by the guy who came up with all this stuff, and he indicates that you can use springs and angular constraints and all that good stuff just fine. <br><br></td></tr></table><br>
<a name="260096"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bouncer</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was talking about the impulse based method of handling rigid bodies.<br><br>As for constraints as springs and joints. They are easy to implement. You already have them. Springs are what keeps your verlets together. If you want flexible sticks, just make them contract over several frames. If you want hinge joint, just fuse a couple of non colliding verlets together by using a stiff spring with normal lenght of zero and voila!<br><br>Angular constraints are just springs working only one way.. they keep points from coming too close, but don't restrict movement to the other way.<br><br><br>In my 2d engine... these were easy to implement, but friction was hard, as I noticed you are strugling with it also. After a few days of trying I managed to come off with very good friction modelling, but in your case (the tires) it's much more difficult. Good luck. <br><br></td></tr></table><br>
<a name="260104"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> "Angular constraints are just springs working only one way.. they keep points from coming too close, but don't restrict movement to the other way."<br><br>Only to a degree.  If I want to connect to verlets and keep the angle between them from becoming less than 45 degrees, then yes, I can do that.  But if I want to constrain the verlets to between 45 degrees and 90 degrees apart, then I need to do a little more than just make sure they don't come together. :-)<br><br>Also, there's more to doing springs than just "making them contract over several frames".  You have to do it a certain way to keep the speed the same regardless of how many iterations you do, or whether those iterations take different lengths of time.<br><br>And yeah, making hinge joints and pin joints is easy.  But what about a joint which is like a tube on a rod, with a rod sticking out of the tube?  Slide up and down, and rotate around the axis, but can't pivot up and down.  There's a lot of more difficult types of constraints to implememnt that you might not be able to make with simple verlet constructions. :-) <br><br></td></tr></table><br>
<a name="260282"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> Perhaps I misunderstood the whole impulse thing. I was under the impression that it was simply a more complex method of handeling springs. I guess then that it is an integrator scheme?<br><br>sswift: One way you might handle the rod and tube situation is to create a constraint that takes three verlets. two to define the position and angle(just pitch/yaw) of the tube, and one to define the end of the rod. then have some values giving minimum distance, maximum distance, and possibly movement friction. then simply check if the end of the rod is below the minimum or maximum, and reposition. Finally, check if the end of the rod is in the line represented by the two tube verlets.<br><br>moderatly complicated, but it outa work......... as lon as you don't have a negative minumum. then you might require 4 verlets......<br><br>Oh yeah, I know that verlet is simple. no calculas or anything like runge kutta etc... Yet it is surprisingly stable and fast so it's a pretty good choice for games. <br><br></td></tr></table><br>
<a name="260440"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bouncer</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think that verlet is the best choice for games... Try using any other method to stack, say 10 boxes or whatever objects... it's impossible. For example in ODE you can't  stack anything and expect to be stable :)<br><br>Srping physics using verlet integration<br><br>+ Simple<br>+ Stable<br>+ FAST<br>+ With enough iterations and good collision handling, it's also very accurate.<br><br>- Perfect friction modelling hard to implement<br>- Balls are very hard to model, because particles don't have orientation.<br>- Accumulation of kinetic energy because of spring-structure. Makes it hard to control elastic properties of an object. (this one is the most anoying)<br>- Exploding of objects (not a problem with more timesteps and properly placed constraints) <br><br></td></tr></table><br>
<a name="260674"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> I definatly agree on verlet being the best known integrator games. Yeah. that's a pretty good summary of pros and cons.  Another pro is that even if you already have a system handeling non-physical movement(blitz), it's easy to continue the motion of an object before physics was turned on.<br><br>I'm not entirely sure of the first part of the most annoing problem, but I think it may have been solved by the author of Advanced Charachter physics. Infinitely strong strings. immediate correction. <br><br></td></tr></table><br>
<a name="260682"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bouncer</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> Even though the springs connecting the particles are infinetely strong, that doesn't solve the problem. When you solve multiple constraints, the kinetic energy still accumulates to the object, because when you correct one spring in a multispring body, it will make some other constraint to go out of limits. This is why you have to use more iterations. The more complex constraints, the more iterations you need for the constraints to be satisfied correctly globally. <br><br>In hitman it certainly hasn't been solved. They use as many as 10 iterations for the bodies. And in Hitmans case it really is not such a problem anyway, because there's no body to body collisions, only body to static scenery, where the kinetic energy doesn't become a problem.<br><br>You start to see problems, when you stack lot's of different weight objects on top of each other with high gravity. With little iterations they interpentrate a little and when you suddenly take of gravity they all go flying in the air. That's because the kinetic energy is released, which is formed by the constraints not been solved globally. But 4 iterations is enough in most cases to solve very complex scenario if the objects are moving at reasonable speeds. <br><br></td></tr></table><br>
<a name="260761"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Miracle</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> Back to the inverting verlet problem for a second ... what would happen if you did a movement phase and then a constraint phase each iteration? Say, you did four iterations of quarter-speed movement with a constraint go-round after each iteration? That wouldn't put too much strain on the system, and would allow you to travel four times as fast before you might knock the verlets out of kilter.<br><br>We may have a problem in that Blitz collisions are too perfect. You can't move a pivot with collisions active so it'll partially intersect something, and you don't actually have any control over where the pivot will end up, so you have to code around that inflexibility. It also makes a difference whether you're using full-stop or sliding collisions. There may be advantages to one over the other in certain situations or control schemes. I dunno. Needs more thought. <br><br></td></tr></table><br>
<a name="260895"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#51">[#51]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's why I'm not using blitzes system. It's to inflexible. Which makes it easy to use, but in this case it screws things up. the other advantage to custom collision systems is that you can get important values such as penetration distance etc. The main problem is that it takes a while to put together the system, and it would most definately be slower. Unless of course you did specialized optimizations, which is what I'm attempting. This makes it much harder, but hopefully it'll make the system run at a reasonable speed. <br><br></td></tr></table><br>
<a name="261202"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmc</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#52">[#52]</a></td></tr></table></td></tr><tr ><td class="posttext"> heres a little update<br><br>i have some time right now to work on the code. i was just going to do a little more clean-up but i decided to give it a major overhaul instead.<br><br>currently i have yanked out almost all the car specific stuff like the part wheel body etc. i have broken down the do_verlet function into a series of sub functions like it should be. so basically the code is WAY more generic right now.<br><br>im trying to solve the collapsing problem right now it turning into a real stinker. i tried what you said miracle but it screwed up the handling so bad i abandoned the attempt.<br><br>in summary the good news is its way more generic<br>the bad news is the inversion problem is gonna take time to solve right. <br><br></td></tr></table><br>
<a name="261506"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Spot</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#53">[#53]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just one question, may I use this code in a commercial game? <br><br></td></tr></table><br>
<a name="261519"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmc</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#54">[#54]</a></td></tr></table></td></tr><tr ><td class="posttext"> spot, personally i formed an opinion on that just yet. im not sure anybody could stop you even if they were against it. but ill go with the majority vote. see how the others feel about it. <br><br></td></tr></table><br>
<a name="261520"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmc</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#55">[#55]</a></td></tr></table></td></tr><tr ><td class="posttext"> another update:<br><br>made some great progress on the inversion problem. right now its many many times more stable than it was. but it still needs some work to be "fool-proof" if i can even reach that point. <br><br>the handling characteristics are getting a little out of whack so at some point im going to have to re-tune the whole vehicle. <br><br></td></tr></table><br>
<a name="261527"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dangerdave</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#56">[#56]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can the direction be determined and then just flip it?<br><br>If a point is supposed be below another point and the calculations would move the point to the other side, can the code just put it on the proper side? <br><br></td></tr></table><br>
<a name="261531"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dangerdave</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#57">[#57]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you guys looked at this?<br><br><a href="http://home.planet.nl/~monstrous/tutcar.html" target="_blank">http://home.planet.nl/~monstrous/tutcar.html</a><br><br>-------------------------<br><a href="http://www.hpl.hp.com/techreports/2000/HPL-2000-124.html" target="_blank"><br>http://www.hpl.hp.com/techreports/2000/HPL-2000-124.html</a> <br><br></td></tr></table><br>
<a name="261578"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmc</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#58">[#58]</a></td></tr></table></td></tr><tr ><td class="posttext"> dangerdave99 wrote:<br>"Can the direction be determined and then just flip it?"<br><br>its not quite that simple. ill give you an example. lets say you drop the car from 1000 feet. as it falls towards the ground the entire system is building up alot of energy as it travels faster and faster. when it does finally hit the ground the energy that was built doesnt have any way to dissapate. so if we detected that the wheels flipped on the roof and we tried to flip them back much of that downward force still exists for a number of simulation cycles. the very next fram the wheels will be right back on the roof again.<br><br>so the approach im currently coding is to first detect that a collapse may happen and freeze the simulation, well more accuratly divert to seperate loop, and bleed off the excess energy and allow the springs to relax. by using this method it is possible to prevent the structure from almost never getting into a inversion state to begin with.<br><br>so to put it simply. rather than try to fix it after its broken, my choice is to prevent it from happening in the first place.<br><br>so far it working 90 percent of the time. the last ten percent is the hard part. <br><br></td></tr></table><br>
<a name="261610"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#59">[#59]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's some ideas:<br><br><br>Imagine a tetrahedron.  A pyramid with a triangular bottom.<br><br>Now imagine your tire is connected to the top point of the terahedron.<br><br>The bottom three points form a plane.<br><br>You can determine which side of that plane the top point is on.  Therefore you can push the top point back if it gets on the wrong side of this plane, just like when you push the point back when it collides with the ground.<br><br><br>But when you have a single verlet conencted to another single verlet, or a single verlet connected to just two other verlets you still have a problem.  Hm...<br><br><br>I wonder if you could somehow give the verlets a quaternion orientation and then use that to determine the location of other verlets realtive to it.<br><br>Or maybe...<br><br>You have two verlets connected.  Verlet 1, and Verlet 2.  Verlet 2 is in motion.  Verlet 1 is not.<br><br>We will call then V1 and V2.  But V2 has two positions.  V2a, which is where it was, and V2b which is where it's going.<br><br>That means we have V1, V2a, and V2b... which are three verlets, though two of them are just different locations of one of them.<br><br>Because we have three, we can calcualte the plane in which they lie.<br><br>Then once we have that plane, we can determine if V2b is clockwise or counterclockwise from V2a.<br><br>And if we do a dot product between vectors V1,V2a and V1,V2b, then we know how far apart in angle they are.<br><br>Hm...<br><br>Perhaps this information would would enable one to determine if the verlet has suddenly flipped around to the other side of a verlet.  That would indicate the spring/stick collapsed completely and inverted, and you could then fix it by going back and collapsing it almost all the way but not enough to have the verlets on top od one another which would destroy the directional information.<br><br><br>Hm...<br><br>Hey wait a minute...<br><br>I always thought you needed three points to define a plane.  But do you really?<br><br>If you take V1, and V2 in their initial locations in the model, And imagine that V1 lies in the plane, and that the two points goether represent tha plane's normal, then you know how that plane is oriented in space.<br><br>You don't know what it's ROLL is, but do you need to know the roll of a plane?  I'm not sure.  I don't think that even if you have three points that that defines a roll at all. <br><br></td></tr></table><br>
<a name="261668"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >NTense</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#60">[#60]</a></td></tr></table></td></tr><tr ><td class="posttext"> Your right sswift, you only need two points/vectors to define an infinite plane (I don't think Roll is applicable if it's infinite).  The first 'point' defines a place in space that the plane crosses through.  The second, as sswift mentioned, defines the normal, thus defining the plane. <br><br></td></tr></table><br>
<a name="261783"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#61">[#61]</a></td></tr></table></td></tr><tr ><td class="posttext"> With a plane, each point has a function. two points defines a line. a plane could intersect the line from many directiions. add another point, and you have the definition of a plane (geometrically speaking).<br><br>sswift:<br><br> your method is basically the same as my inversion-solution. an infinite plane on the car body that the wheels have to be below. the only problem is that the physics engine/blitz collisions keep on popping it back on top. <br><br></td></tr></table><br>
<a name="261810"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmc</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#62">[#62]</a></td></tr></table></td></tr><tr ><td class="posttext"> swift heres a more detailed explanation of im doing (and most importantly it is working well).<br><br>prep phase<br>1) build the verlet structure<br>2) store off each verelets position relative to the structures CG.<br>3) create a distance value that defines if the verlet is about to collapse. we will call this DangerDistance<br>4) create a distance value that defines if the verlet HAS collapsed. we will call this CollapseTrue<br> <br><br>begin simulation<br><br>1) each simulation tick record how far the verlet has travelled.<br>2) if the verlet has travelled beyond the DangerDistance but less than the CollapseTrue distance, run a loop that relaxes the structure and updates collision information per iteration of the loop.<br>3) if the verlet has travelled beyond CollapseTrue then reset its position from the original stored location and relax structure<br><br>this technique is often used in physics simulation. the way it basically works is you use low fidelity collision information until it reaches a critical threshold, then you turn on the high fidelity collision routines to gain frame by frame control.<br><br>my method is not perfect for sure. still could use alot of refinement but if you try not to allow the structure to collapse in the first place the springs will auto-solve the problem for you. now to make this even better we should start to use the techniques of sim time control that are common in impulse based physics simulation. basically what happens in impulse based sims, is you run it using low fidelity as stated above and when a collision is detected you back up the simulation until the entity is just barely in contact with the colliding surface. then you run a high fidelity collision response code.<br><br>im currently not using any impulse time correction. thats for the next go around. what i got coded right now is working for 90 percent of the situations. that last ten percent will be corrected later with impulse time control. <br><br></td></tr></table><br>
<a name="261820"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmc</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#63">[#63]</a></td></tr></table></td></tr><tr ><td class="posttext"> added downforce to vehicle as speed increases. omg what a difference! <br><br></td></tr></table><br>
<a name="261890"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#64">[#64]</a></td></tr></table></td></tr><tr ><td class="posttext"> post a new demo??? <br><br></td></tr></table><br>
<a name="261900"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeremy Alessi</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#65">[#65]</a></td></tr></table></td></tr><tr ><td class="posttext"> Seconded! <br><br></td></tr></table><br>
<a name="261925"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#66">[#66]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thirded! Glad you're still working on it, dmc! <br><br></td></tr></table><br>
<a name="262021"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmc</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#67">[#67]</a></td></tr></table></td></tr><tr ><td class="posttext"> well before i post new demo heres what i need to finish.<br><br>the wheel spin code has been using a hack for a formula. i need to look up the right way to do it. i think its something like circumference/velocity<br><br>finish wind resistance.<br><br>finish the tweaking of the steering controls<br><br>re-tune the entire car. <br><br></td></tr></table><br>
<a name="262025"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jcoco</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#68">[#68]</a></td></tr></table></td></tr><tr ><td class="posttext"> Fourthed! I'm in the process of tinkering with the code I got from sswift's post but it sounds like you might be further along. I'd like to compare what you have done with my comments and modifications and share them with you if they are different.<br><br>Later,<br>Joe <br><br></td></tr></table><br>
<a name="262112"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmc</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#69">[#69]</a></td></tr></table></td></tr><tr ><td class="posttext"> im in the process of re-tuning the vehicle. this is the fun part =)<br><br>this version is almost done folks.<br><br>heres a preview of what you can use to tune the vehicle<br>;steering<br>Const maxturn=130 ;maximum turn force, how tight you can turn. higher = sharper<br>Const TurnRate#=6; how fast you can achieve max turn rate. higher = faster<br>Const TurnReturn#=1.03 ;how fast the steering returns to nuetral. a value of 1 will leave the steering at last value. higher for return to nuetral<br>;gas pedal<br>Const SnapResponse#=.1 ;value from 0 to 1. how fast max gas pedal is reached<br>Const GasReturn#=1.01 ; how fast the gas returns to nuetral. a value of 1 will leave the gas at last value. higher for return to nuetral<br>;suspension<br>Const front_stiff = 20 ; This is actually the mass value for the front wheel. lower mass = suspension less stiff. caution will collapse<br>Const rear_stiff = 20 ; This is actually the mass value for the rear wheel. lower mass = suspension less stiff. caution will collapse<br>;tire slip<br>Const FrontSlipMin# = 2 ;the value at which the front tires will begin to slip<br>Const FrontSlipMax# = 3 ;the value at which the front tires will slip completely<br>Const RearSlipMin# = 2 ;the value at which the rear tires will begin to slip<br>Const RearSlipMax# = 3 ;the value at which the rear tires will slip completely<br>;tire size<br>Const FrontTireSize# = 5; this the verlet collision radius<br>Const RearTireSize# = 5; this the verlet collision radius<br>;rolling friction for tires<br>Const RollingFriction#=.02; how much friction on the tires when they are in contact with the ground<br>;body friction<br>Const BodyFriction#=.07;how much friction on the body when they are in contact with the ground<br>;wind resist<br>Const AirDensity# = .8 ; density of air for wind resist function<br>Const DC# = .3 ;Drag coefficient. how streamlined the car shape. used for wind resist<br>Const CA# = .5 ;Cross sectional area. how large an area the wind is running across. used for wind resistance<br>;down force<br>Const DownForce# = 1 ;how much down force is allowed. value from 0 to 1. zero= no down force, 1=max downforce<br>;power of engine<br>Const VM = 10 ;Vehicle Mass. Fictional mass value used for acceleration calculations on player_pivot.<br>Const HP = 1000 ;Horse Power. Fictional force value exerted on z axis, local to pivot, of verlet for acceleration calculations <br><br></td></tr></table><br>
<a name="262119"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmc</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#70">[#70]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok folks the new version has been sent to swift. so hopefully he can post it soon.<br><br>first i want to thank everyone for there input. sometimes i get defensive but i do value it.<br><br>im sorry for not having a "credit" section. frankly i forgot who all had contributed. i hope you dont take offense.<br><br>somebody asked earlier in this thread if they could use it for a commercial game. personally i guess ive decided that it can be used any way anybody wants to. it is my hope that this demo will further the success of blitz and its users.<br><br>the code is definatly not an "accurate" simulation of physics. it was never intended to be. but i did want to try to show how to use the principles of physics to make something fun. it is not optimized. ive prolly botched the formating in a bunch of places, and im sure its got bugs =)<br><br>nuff for now.<br><br>swift please let the community know when the new version is posted =) <br><br></td></tr></table><br>
<a name="262120"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#71">[#71]</a></td></tr></table></td></tr><tr ><td class="posttext"> oohhhh ahhh. looks good. Now all we need is one of those vehicle UI with several different chassis with different parts that affect the stats! Well, maybe we should implement some sounds first... :)<br><br>Is DC# frontal air resist? and CA# sideways? in that case, it sounds really good. probably fairly negligible, but still a reasonable addition. <br><br></td></tr></table><br>
<a name="262127"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmc</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#72">[#72]</a></td></tr></table></td></tr><tr ><td class="posttext"> bot builder im cheating so its using one "profile" for any direction. so its neither frontal or sideways. its every direction. to make it accurate is some nasty math that would calculate the cars cross sectional area as it appears to the wind and direction of penetration of the wind. thats an insane amount of work that most users wont even notice.<br>those values are from the basic air resistance formula of:<br>Fdrag =  0.5 * Cd * A * rho * v2 <br><br></td></tr></table><br>
<a name="262132"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IPete2</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#73">[#73]</a></td></tr></table></td></tr><tr ><td class="posttext"> DMC,<br><br>Well FUN is what this is all about.<br><br>I have to tell you I have spent lots of time just playing with the results of what you guys have developed here.  <br><br>As you say it doesn't matter if it is not true life physics, it is fun!  Games are about having fun.<br><br>A commercial game written using the verlet code here would have a great kick start advantage.<br><br>I think it is great that so many programmers can learn from what you're doing here -  brilliant work...<br><br><br>Ipete2. <br><br></td></tr></table><br>
<a name="262133"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#74">[#74]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's the links:<br><br><a href="http://home.earthlink.net/~sswift/verlettest-005.bb" target="_blank">http://home.earthlink.net/~sswift/verlettest-005.bb</a><br><a href="http://home.earthlink.net/~sswift/verletlib-002.bb" target="_blank">http://home.earthlink.net/~sswift/verletlib-002.bb</a><br><br>You know, you coould just post the code in the code archives and update the archive post each time you release a new version. :-)<br><br>The car seems to slide better now, but I liked the older versions better. <br><br>Because:<br><br>1. It was harder for the car to do seemingly impossible things, like flip over suddenly, or fly into the air.  The first thing I did in this demo was hit a ramp a tthe wrong angle because the car was ward to control and it went flying miles into the air.<br><br>2. The car now is very very hard to control because it slides around like mad.<br><br><br>These things aside, the new physics do seem better.  The car slides around better now, and I imagine the issues above can be corrected by tweaking some of the settings for mass and slip and friction. <br><br></td></tr></table><br>
<a name="262134"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dangerdave</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#75">[#75]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmmm.............<br>I get a message the domain is for sale. <br><br></td></tr></table><br>
<a name="262151"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmc</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#76">[#76]</a></td></tr></table></td></tr><tr ><td class="posttext"> swift i sent you a bug fix. did ya get it? its version 5 <br><br></td></tr></table><br>
<a name="262163"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#77">[#77]</a></td></tr></table></td></tr><tr ><td class="posttext"> Links updated/fixed.<br><br>Please post future updates to the code archives! :-)  I don't have time to keep posting updates of this. :-) <br><br></td></tr></table><br>
<a name="262180"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#78">[#78]</a></td></tr></table></td></tr><tr ><td class="posttext"> hahaha cool. much better physics. sliding is less than desirable, but at least you aren't having the wheel inversion problem. I'm laghing cause I added another constant-shocklength. it's just how far down to position the wheels. now you can make monster trucks with giant wheels and big suspensions. Heh. there's another thing badly needed. suspension models. especially for monster trucks. <br><br>heh. I'm happy cause I just solved a bad problem in my code. none of the quad collisions were suddenly working (oh horror), and I had no idea what was wrong. and after about an hour of debugging I discoverend I had left out a small chunk of an extremly long if statement. You might expect to be mad to have wasted that much time debuging a small bug, but I'm just happy to get it to work.  Oh yeah, and I had some more collision ideas. <br><br>1)Image based collisions. somthing like bumpmapping, only for collisions. I don't think it would be to hard, and it should run fast. all you have to so is take your verlet's current position, check the value of the pixel reflecting the position, and see if it is within the collision area. then figure out the closest point out of the collision-image(hard part)<br><br>2)friction maps. Apply a friction map to a collision type, and lighter areas would be mor frictive, and darker areas less. Much easier to implement than #1. <br><br></td></tr></table><br>
<a name="262189"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#79">[#79]</a></td></tr></table></td></tr><tr ><td class="posttext"> hmmm.. as a slight hijacking of this thread, I've got a question.<br><br>With usual blitz comands you can create a pivot, create a mesh parented to the pivot, and then find out the meshes positition local to the pivot through entityx(mesh,0).... what I want to do is do that purely mathamatically. I have one type structure holding a position, a pitch, yaw, and roll. I want to be able to give a global position and recieve a position local to the pivot. I would be very grateful if anyone has a good fast solution to this. <br><br></td></tr></table><br>
<a name="262194"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmc</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#80">[#80]</a></td></tr></table></td></tr><tr ><td class="posttext"> bot builder you know about tformpoint right? i think that will do what ya want.<br><br>swift dont worry im done. that latest release is good enough to get people starting on there own stuff. thanks for hosting.<br><br>any further development will be my own from here on out.<br><br>p.s. you know its sliding alot because i wanted to simulate dirt =) but ive already done asphault and with the tuning variables you can totally control the amount of slide.<br><br>cya folks. <br><br></td></tr></table><br>
<a name="262303"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#81">[#81]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmmm. I was going to post back that I can't us Tformpoint because I'm using a non-blitz,simply mathamatical pivot, but I decided that it might actually be better to make my pivot a real blitz pivot, and use it for Tform stuff. It's probably faster, and less error-prone anyway. <br><br></td></tr></table><br>
<a name="262519"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#82">[#82]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was disappointed at first because of the sliding, but after playing with the tweak parameters (both xxxSlipMins at 2 and both xxxSlipMaxes at 4, a little more horsepower and higher return-to-centre steering), it's clear that this version is much more solid and can be made to work just how you prefer. Nice -- thanks dmoc &amp; co! <br><br></td></tr></table><br>
<a name="262521"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#83">[#83]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow, a real measure of how much the physics have improved: you can now (slowly) drive the car right up to the top of the spiral! <br><br></td></tr></table><br>
<a name="262905"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >NTense</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#84">[#84]</a></td></tr></table></td></tr><tr ><td class="posttext"> How come this works in the test code:<br><pre class=code>
DoVerlet(car.Vobject, accelerator)
</pre><br><br>when the function definition is this (I don't see any default values here):<br><pre class=code>
Function DoVerlet(name.Vobject, verlet_element.VerletPack, GlobalForces.vector, rfox#, rfoy#, rfoz#, GlobalFriction#, rfrx#, rfry#, rfrz#)
</pre><br><br>I tried applying the code to a new VObject and keep getting too few parameters errors (even though I've included all of the globals). <br><br></td></tr></table><br>
<a name="262920"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmc</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#85">[#85]</a></td></tr></table></td></tr><tr ><td class="posttext"> ntense i have no clue what your talking about. whos test code? your test code? it aint my test code. <br><br></td></tr></table><br>
<a name="262957"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >NTense</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#86">[#86]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ahh, woops, sorry.. I was taking it from an older version of the Verlettest(v.003).  My bad. :/ <br><br></td></tr></table><br>
<a name="264687"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RandyLW</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#87">[#87]</a></td></tr></table></td></tr><tr ><td class="posttext"> jhocking <br> <br>Your code for blitz racer has an include for Swift Shadow System - 080.bb<br><br>Where can we get this file so that we can run your program?<br><br>Randy <br><br></td></tr></table><br>
<a name="264728"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#88">[#88]</a></td></tr></table></td></tr><tr ><td class="posttext"> You have to purchase Swift's shadow system. that's probably why he didn't post the code. <br><br></td></tr></table><br>
<a name="264810"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RandyLW</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#89">[#89]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks bot, so where do I find more info on Swift's shadow system? <br><br></td></tr></table><br>
<a name="264814"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IPete2</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#90">[#90]</a></td></tr></table></td></tr><tr ><td class="posttext"> Look for any SSwift post and check his signature.<br><br>IPete2. <br><br></td></tr></table><br>
<a name="264854"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RandyLW</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#91">[#91]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, cool. I just commented out the shadow code for now so I could play around. But I do like the shadow system and it would be well worth the purchase considering the time it would take to program it myself. <br><br>As far as the verlet physics that dmc, sswift, and others have done here, I have to compliment them on their work. I'm impressed and this has at least given me some ideas on how to improve on my game. I am working on a dirt racing game (sprint cars, late models, etc) and I have a lot of the car physics as far as handling, but wasn't sure how to go about handling collisions and making the car roll over and stuff like that. I am shooting for something realistic, but I am not looking to make it a pure simulation where everything has to be perfect. I just want it to be believable and fun. There are die hard sim junkies who will criticize every little thing they can find that isn't as realistic as real life racing, and then those who just prefer arcade type racing - I'm shooting for something in between. <br><br></td></tr></table><br>
<a name="266337"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#92">[#92]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is just the trick. Really happy with this code. Thanks lads! who do we credit with what work? <br><br></td></tr></table><br>
<a name="266418"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Miracle</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#93">[#93]</a></td></tr></table></td></tr><tr ><td class="posttext"> I suppose we should start out crediting Thomas Jakobsen for the original tutorial. This particular code is based on a demo I wrote, but there's so little of my original stuff left I could almost be left out. :) While I was working on it there was lots of input from Dev/T-Bogard and Bouncer, and Chroma wrote the 3D vector lib it was all based on.<br><br>From there, DMC took up the ball and ran with it, which is where botbuilder and sswift got involved, among others.<br><br>...<br><br>Maybe it'd be easier to credit the "BlitzBasic forums." <br><br></td></tr></table><br>
<a name="266505"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmc</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#94">[#94]</a></td></tr></table></td></tr><tr ><td class="posttext"> no way miracle, without your original help i would still be stuck in mathematical hell. see ive been trying to learn physics on and off for a couple of years. my math schooling is only up to pre-elgebra and although i can write code that uses more complex math, everytime i try to do some research its always written at the college level and i just dont know the language of math. the symbols that are used just confuse the hell out of me. so that has been a serious limiting factor for me.<br><br>i started a full blown rigid body simulator two years. i was trying to do it the "right" way using quaternions for rotation and runge kutta integration and real torque forces etc. after it reached about 3000 lines of code it became apparent that my lack of understanding of the language of high level math and time constraints made the project impossible to continue on.<br><br>so the day i came across your demo with the falling sphere groups was an obsolute god send. no way i couldnt have done this stuff without your work. <br><br></td></tr></table><br>
<a name="266511"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#95">[#95]</a></td></tr></table></td></tr><tr ><td class="posttext"> I didn't really help with the verlet physics in this demo at all.  All I've done is reformattred the code to look nice. :-) <br><br></td></tr></table><br>
<a name="266577"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#96">[#96]</a></td></tr></table></td></tr><tr ><td class="posttext"> THANKS LADS!<br><br>One thing I've been stuck on so far is: how do we "neatify" it so that we can make as many individual cars as we like? <br><br>I tried to use banks to make individual verlet cages per car then realised they can't hit each other... and so on. <br><br></td></tr></table><br>
<a name="266652"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmc</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#97">[#97]</a></td></tr></table></td></tr><tr ><td class="posttext"> Rob,<br><br>making new cars is easy so i assume you really want to just focus on collision between non static objects such as other cars.<br><br>what i had envisioned was to use the verlets current x,y,z coords as a vertice for a real-time build on the fly deformable mesh. this part concept was completed in a much earlier version of the verlet code that is no longer shown here. but it did work and worked well for that matter. it has the benefit of being very low in poly count (as opposed to using the highly detailed mesh of the car for collision) and it would conform to the points we would collide against for the verlets.<br><br>now for the hard part =(<br><br>blitz's internal collision routines do not allow for two, or more, moving non sperical entities to collide. it will simply pass right thru it. so you would have to write your own collision routines.<br><br>if im not mistaken only two routines are needed.<br>1) moving sphere to moving poly (the sphere is the verlet of vehicle 1 and the poly is the polymesh of the second vehicle whos vertices are the coordinates of the verlets)<br>2) moving poly to moving sphere (just a reversal of the above)<br><br>but it gets more complicated...<br><br>if the sphere collides with a mesh the sphere is moved, the verlets position is updated to the new location of the collided sphere and energy, or velocity, is added to the system. this part works. but what about the poly on the second vehicle that the firsts vehicles sphere collided against? best guess i have is that the poly AND ALL its connected verlets are moved and each connected verlet is updated and velocity is inferred. not a very good solution but it may work assuming you had the above described routine.<br><br>currently i dont have a clue how to write such a routine.<br><br>ohh last thought. the problem is not collision detection between the two cars. the old code i had did that. it used meshesintersect to detect if one poly cage collided with another poly cage. however the problem is how to react after a collision is detected. <br><br></td></tr></table><br>
<a name="266654"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#98">[#98]</a></td></tr></table></td></tr><tr ><td class="posttext"> Using sphere to sphere collisions as illustrated works well for car to car:<br><br><img src="http://www.nitrologic.net/simon/skidcoll.jpg"> <br><br></td></tr></table><br>
<a name="266665"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Miracle</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#99">[#99]</a></td></tr></table></td></tr><tr ><td class="posttext"> Blitz collisions may not be what you want to use for car-to-car impacts, because one thing colliding with another will only affect one of them. You'd probably be better off writing a sphere-to-sphere algo of your own which pushes both particles equally to separate them. That'll impart the proper momentum to both behicles. <br><br></td></tr></table><br>
<a name="266746"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#100">[#100]</a></td></tr></table></td></tr><tr ><td class="posttext"> The snooker code I have will work wonders here - the first hit will impart more mass and less feedback for some interesting crash dynamics!<br><br>This vehicle/verlet/constraint stuff is addictive coding..! It's still quite difficult for me to understand how verlets work. <br><br></td></tr></table><br>
<a name="266784"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#101">[#101]</a></td></tr></table></td></tr><tr ><td class="posttext"> Skid, do you use verlet physics at all in your game,<br>or is it a more custom thing? <br><br></td></tr></table><br>
<a name="269049"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeremy Alessi</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#102">[#102]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, Skid how did you do those physics?  Will you ever do a tutorial?  What you've done feels really solid.  I love the collisions with the trucks.  It's very tight. <br><br></td></tr></table><br>
<a name="270540"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeremy Alessi</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#103">[#103]</a></td></tr></table></td></tr><tr ><td class="posttext"> Come on! <br><br></td></tr></table><br>
<a name="270710"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blackway</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#104">[#104]</a></td></tr></table></td></tr><tr ><td class="posttext"> Congratulations to sswift, dmc and the others. A very good job!<br>this tutorial: <a href="http://home.planet.nl/~monstrous/tutcar.html" target="_blank">http://home.planet.nl/~monstrous/tutcar.html</a> have a explanation of how gearbox works, but my English and physics knowledge are very poor  :(<br>Somebody had tried to make the physics for gearbox ?<br>Many thanks for sharing !!!<br><br>Fernando.- <br><br></td></tr></table><br>
<a name="270840"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmc</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#105">[#105]</a></td></tr></table></td></tr><tr ><td class="posttext"> blackway thats one of the items on my VERY long list of things i would eventually like to do. unfortunatly all my time is devoted to a complete re-write of the constraint system and its proving to be very hard. <br><br></td></tr></table><br>
<a name="271006"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blackway</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#106">[#106]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe it's the first of your list!  ;)<br>Keep up the good work.....! <br><br></td></tr></table><br>
<a name="271123"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LostCargo</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#107">[#107]</a></td></tr></table></td></tr><tr ><td class="posttext"> dmc - how far are you on the rewrite? <br><br></td></tr></table><br>
<a name="271127"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmc</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#108">[#108]</a></td></tr></table></td></tr><tr ><td class="posttext"> well since nothing has worked yet i suppose not very far at all lol. <br><br>that im trying to wrap my brains around is a way to add a real spring model that has the ability to assign a host of variables per the constraint AND the direction of travel.<br>also to add dampening, a non linear spring rate, make it time dependant and allow for differening masses.<br><br>i already have a spiffy spring model but its hard locked on one end. what we need here is a spring with 2 masses, one on each end. and its driving me batty lol.<br><br>im very pleased with my friction code and the tire model is working really well. but the suspension just sucks. so anyways thats an update. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
