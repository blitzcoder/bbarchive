<!DOCTYPE html><html lang="en" ><head ><title >SpriteControl - Generated Sprites Alpha issue</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >SpriteControl - Generated Sprites Alpha issue</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >SpriteControl - Generated Sprites Alpha issue</a><br><br>
<a name="719219"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello all,<br><br>I'm currently using Sprite Control for Sprite managing and that sort of stuff. But I'm always getting the same problem: When I load a sprite with LoadImage3D() (The SpriteControl's command to load a sprite), I put the flag 2 (that means Alpha) in the function. <br>Well, the sprite doesn't get transparent, even if I draw a 10,10,10 RGB Picture to load it with Sprite Control. What happens is that i think sprites/textures generated from scratch in Blitz3D don't get alpha properties, don't know why. Every texture I create using CreateTexture() (with flag 2) and draw semi-transparent RGB to it, it just doesn't get alpha. What can i do to create textures/sprites from scratch and get them to be transparent (with and without SpriteControl)?<br>Hope you understand what i'm saying, my english sucks ;).<br><br>Thanks in advance,<br>                         Rafael. <br><br></td></tr></table><br>
<a name="719249"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> As soon as you use drawing commands to the texture buffer, the alpha channel will be "erased", say set to non-transparent. If I recall correctly the only command that is capable of setting alpha corretly is copyrect (besides Writepixel/fast).<br><br>Not sure what you meant by "and draw semi-transparent RGB to it" - how can you draw semi-transparent RGB? You'd rather draw normal RGB, plus an alpha value in the top byte of the 32bit ARGB value. DirectX 2D commands such as Line, Rect, Oval etc. do not support Alpha. So if you used some substitutes that are using writepixelfast, with alpha etc. then it SHOULD work. Tho you have to set the alpha bytes of every pixel, not only for the primitives you draw. <br><br></td></tr></table><br>
<a name="719258"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DH</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, sux that writepixelfast is so slow....  There is a good world of fun that could be had if they weren't <br><br></td></tr></table><br>
<a name="719414"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh, ok. Maybe I didn't express myself the right way. Let me re-write:<br><br>What I wanted to do, is to load Sprites (using Sprite Control) that has Alpha in them (the flag 2). <br><br>Even though I create images like in photoshop that have different intensities in their pixels, like a dark grey, it just doesn't get transparent as it should.<br><br>Here's what i'm doing:<br><pre class=code>
Sprite = LoadImage3D("alpha.bmp",2)
</pre><br>Although i put in the Alpha flag, the sprite isn't gettin transparent. It does work if i load it manually with LoadSprite(filename,2). (Loading manually works, but loading with the Sprite Control LoadImage3D doesn't, the sprite just keeps solid without alpha). <br><br></td></tr></table><br>
<a name="719461"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Alpha is only supported on PNG and TGA and you have to use the alpha mask or the layer alpha blend to actually get alpha in photoshop. <br><br></td></tr></table><br>
<a name="719515"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, but i don't want to mask the sprites. <br>I want them to blend with the background, like if i load them with the Alpha Flag manually ( LoadSprite(sprite,2) ). What happens is that if i load the sprite with Sprite Control, even if i put in the flag 2, it just doesn't get the sprite to blend, i don't know why. <br><img src="http://img93.imageshack.us/img93/8021/alphaspritesvu9.jpg">(image taken from <a href="http://www.nothing.ch/works/games/7" target="_blank">Attack of the Groox - Encounter on Blubuzz</a>)<br><br>Is there a way to get to something like this with Sprite Control? <br>I think i may be forgetting some important step to get sprites to react like that. <br><br></td></tr></table><br>
<a name="719919"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do you have a screenshot of what's happening?<br><br>You might want to look at these functions in the code archives. The first one i wrote and it will mask/alpha off the colour you pass across. So, if you draw your sprite and mask off the rest of the image with a colour such as RGB (255,0,255), then call my function, passing across the mask colour, it will add in the alpha information, making the mask colour invisible. It will leave the rest of the image untouched.<br><br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=1013" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=1013</a><br><br>This function by skidracer, basically smoothes the edges of the mask area, so the mask colour doesn't bleed through.<br><br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=1131" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=1131</a> <br><br></td></tr></table><br>
<a name="719935"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the posts so far guys, i think we are getting close to the problem.<br>Here is what's happening:<br> <br><br>   - Loading with LoadImage3D() (Sprite Control):<br><img src="http://img154.imageshack.us/img154/5673/loadimage3deo1.jpg"><br>  <br><br>  - Loading with LoadSprite() (Blitz3D Command)<br><img src="http://img154.imageshack.us/img154/7938/loadspritepr4.jpg"><br>This nice result here just happens when i use LoadSprite, but then I won't get Sprite Control's features. I guess i can't have everything i want :)  <br><br>What happens is that i would like an alpha-blended sprite, but with SpriteControl's handling features, you know?<br><br>I believe that the only reason this happens is because when you manually create a texture in blitz, even if you put the flag 2, it doesn't get alpha blended (and Sprite Control is using a manually created texture to scale to a pixel-size or something like that).<br>Any way to solve this?<br><br>Thanks guys,<br>                 Rafael. <br><br></td></tr></table><br>
<a name="719939"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you tried running the texture through that function i posted? <br><br></td></tr></table><br>
<a name="719960"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, I implemented your Texture_Mask_Colour() function into the Sprite Control's functions. But it's still isn't working, the sprite keeps solid.<br><br>I'm starting to think that whatever texture or sprite you create manually in blitz3D, by using CreateTexture or CreateSprite, even if you put the alpha flag (2) when you create them, it just won't function properly.<br><br>I just don't get what's the difference from loading a sprite (and it gets just like i want) and creating one manually (doesn't get how i want, but will have sprite control's features). Hmm...I'm beggining to give up :( <br><br>If any one has a clue or sugestion to what i should do, please help. I was going to use alpha-blended sprites WITH Sprite control in order to get a decent HUD for my games, something like the screenshot of the game i posted the earlier. I wonder what that game used to get something like that...<br><br>Thanks again. <br><br></td></tr></table><br>
<a name="719995"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm, sprite control might use single surface stuff. If you could locate the mesh used, you could try using EntityFX command on the mesh, with the alphablend flag included.<br><br>If not, try using the EntityFX command on the actual sprite, with the alpha blend flag.<br><br>Does masking work btw? <br><br></td></tr></table><br>
<a name="720004"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, masking is working. I believe alpha blending is the only mode that is not properly working. I will test the Sprite Control Basic version now, see if there is any difference.<br><br>Dang! got it to work! it seems that Alpha only works if I use an old version of SpriteControl, the Sprite Control BASIC.bb (wich is considered a 'bare bones' version), one that actually treats the sprites as 3d quads, wich is probably the reason it is working. Phew! finally!<br><br>As a gift for helping me, I shall reward everyone that posted here a free copy of the game I'm going to make using these sprites :)  (I was going to publish it for free anyways :D )<br><br>Thank you for all for helping me! <br><br></td></tr></table><br>
<a name="720006"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Heh, no worries. Seems like you helped yourself though. Glad you got it fixed :o) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
