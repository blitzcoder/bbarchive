<!DOCTYPE html><html lang="en" ><head ><title >Resolution selected causes display to rotate 90deg</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Resolution selected causes display to rotate 90deg</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Resolution selected causes display to rotate 90deg</a><br><br>
<a name="1051042"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Good Afternoon,<br><br>A while ago I wrote a game, which we still play at work occasionally (multiplayer space combat).  These work pcs mostly have intel on board cards - which is fine for bog-standard blitz3d.<br><br>Anyway I now use a simple text file to determine the screen resolution to set - user only needs to set it once usually.<br><br>However at one point I used an 'auto detect' method which simply chose the largest screen resolution (width * height) from those available on the graphics card, as reported by blitz3ds gfxmodeexists functions.<br><br>On some of these intel machines however, though not all, the display would then rotate by 90 degrees making play virtually impossible (until we get zero-g environments so we can sit at any angle).  <br><br>Is there a 'safe' way to autodetect the maximum screen resolution available, aside from simply picking the mode with the largest screen area as reported by blitz3d.<br><br>These machines were running any of XP &amp; Vista at the time. <br><br></td></tr></table><br>
<a name="1051052"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Axel Wheeler</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> It seems that if the graphics mode starts with the larger value (say, 1024 x 768) then it will be horizontal, otherwise (i.e. 768 x 1024) vertical.  Just have the auto detect skip the ones where the first value is smaller than the second.<br><br>However, keep in mind that at least with CRT monitors you also had to worry about the refresh rate of the graphics card potentially damaging the monitor, especially at the highest res setting.  At low res there was more flexibility but the highest resolution often had only one "legal" refresh rate (hz) and any other refresh rate could "let the magic smoke out" after a few minutes.  I don't know if this is true with today's flat panels though.  Just an FYI when you are using the highest resolution on the card.<br><br>- Pete <br><br></td></tr></table><br>
<a name="1051561"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rroff</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Modern flatpanels will either blank out and show a message saying "unsupported resolution or refresh rate" or display the image (blurrily) through the onboard scaler using native res/refresh. <br><br></td></tr></table><br>
<a name="1055609"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rroff</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Dunno if this is any use to you - or been covered here before but this is what I use;<br><br>In my userlibs for user32.decls I have:<br><br>.lib "user32.dll"<br>GetSystemMetrics%( iMetric% ) : "GetSystemMetrics"<br><br>Then in my program I use<br><br>Const SM_CXSCREEN = 0<br>Const SM_CYSCREEN = 1<br><br>vidx = GetSystemMetrics(SM_CXSCREEN)<br>vidy = GetSystemMetrics(SM_CYSCREEN)<br><br>To get the current screen resolution and use that to set it in my program if the user hasn't defined a res. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
