<!DOCTYPE html><html lang="en" ><head ><title >Reflections with bump</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Reflections with bump</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Reflections with bump</a><br><br>
<a name="891945"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikhailV</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Pleased to present small demo to subjects "How do reflection on floors and walls".<br><br>Screenshot:<br><img src="http://www.fastlibs.com/temp/wetfloor.jpg"><br><br>Demo with source-files:<br><a href="http://www.fastlibs.com/temp/demo.zip" target="_blank">http://www.fastlibs.com/temp/demo.zip</a> (1.2 Mb)<br><br>p.s. I do this for two render, since is impossible use cubemap with bump (not work on NVidia videocards). First render in small texture and occupies much little time (don't eat FPS). <br><br></td></tr></table><br>
<a name="891955"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SabataRH</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Excellent, does fastextension still offer the blitzuser coupon? Thats a really nice library you got going there. <br><br></td></tr></table><br>
<a name="891975"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikhailV</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Swampdonkey: Yes, you can use coupon for discount.<br><br>I can tell in detail about technology, which is used in demo.<br>Apropos, this technology is used in many games. <br><br></td></tr></table><br>
<a name="891979"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Mikhail, your work in extending DirectX7 for Blitz3D is very appreciated by this community. <br><br></td></tr></table><br>
<a name="891988"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >t3K|Mac</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> i think i have to switch to fastlibs... looks good! <br><br></td></tr></table><br>
<a name="891993"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mortiis</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Mikhail, your work in extending DirectX7 for Blitz3D is very appreciated by this community. <br></div><br><br>Totally agreed! +1 <br><br></td></tr></table><br>
<a name="891994"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> ..problem i see here is use for non symetrical objects(since its prerendered reflection texture)..other than that, its nice... <br><br></td></tr></table><br>
<a name="891997"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikhailV</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Symmetry does not matter :)<br>Simply this method more whole suits for closed space - for each room possible to create pre-rendered cubemap and use it for reflection. This method is used in HL2 engine (is it only made on shaders). <br><br></td></tr></table><br>
<a name="891999"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> hey Mikhail..but how to render appropriate reflection map for environment such as caves and in very curved shape? Reflection map is not updated realtime, right?? So how to render out such reflection map? <br><br></td></tr></table><br>
<a name="892001"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> ..is it better to make copy of existing mesh and then render very small reflection map over it with added bumpmap and set transparency for it?? <br><br></td></tr></table><br>
<a name="892004"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikhailV</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> No, you has not understood, all more simply than you think.<br>It's 'fake' reflections and is not required high quality and persisting reflections — not seen difference! (only experienced programmer can notice differences). Attentively see HL2 game or CounterStrike (or other games based on this method) — reflections on floors and walls look fine, but this too 'fake' !<br><br>p.s. You can render environment to cubemap texture each frame, but this unnecessary. Enough single pre-rendered cubemap for each sector (room)! <br><br></td></tr></table><br>
<a name="892005"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I do understand that Mikhail..but if you notice, when i move left within room(demo you provided) its easy to see that shine part goes away from open door..i know its fake so its fine..but for my caves with multiple torches, not work well..i mean..only fake version <br><br></td></tr></table><br>
<a name="892049"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SabataRH</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Excellent, just aquired this wonderful blitz3d addon.. and thanks for the coupon! :) <br><br></td></tr></table><br>
<a name="892107"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice, i've been waiting on this! <br><br></td></tr></table><br>
<a name="892176"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey MikhailV, do you know if it is possible to use HLSL shaders on Blitz3D, through a wrapper maybe? <br><br></td></tr></table><br>
<a name="892178"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_33</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> At least 50 blitzers will tell you that it's not possible rafael_blitz :)<br><br>1) Blitz3D uses Direct X 7 api<br>2) HLSL is for OpenGL<br>3) There are no packages around that let us use shaders in Blitz3D <br><br></td></tr></table><br>
<a name="892182"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Er, no, HLSL is for DirectX. Taken from wikipedia:<br><div class="quote"> <br>In Direct3D, shaders are programmed with High Level Shader Language, or HLSL, but the types and complexity of shader programs allowed differ depending on what version of Direct3D is used.<br> <br></div><br>Still, we are left out with the DirectX 7 API. I wonder what MikhailV is using to do those effects. Maybe the rest of the D3D 7's library? <br><br></td></tr></table><br>
<a name="892263"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tab</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>	; render reflection-meshes only to small texture
		SetBuffer TextureBuffer (texReflect)
		CameraViewport cam, 0, 0, TextureWidth(texReflect), TextureHeight(texReflect)
		ShowEntity pReflect
			RenderEntity pReflect,cam,1,2
		HideEntity pReflect

	
	; render main scene (without reflection-meshes)
		SetBuffer BackBuffer()
		CameraViewport cam, 0, 0, GraphicsWidth(), GraphicsHeight()
		ShowEntity pNormal
		RenderWorld</pre><br><br>RenderEntity is faster than 2 full renders..... only have a problem with the z-order on alpha entities... but, is pretty simple to fix. D: <br><br></td></tr></table><br>
<a name="892279"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikhailV</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Tab: Great! Thanks :)<br><br>@rafael_blitz: DirectX7 not support shaders. It's new blend modes only! <br><br></td></tr></table><br>
<a name="919241"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Moraldi</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry for this stupid and late question, but where are the  references of materials box.jpg, floor.jpg etc.? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
