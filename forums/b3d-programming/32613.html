<!DOCTYPE html><html lang="en" ><head ><title >Polys Rendered</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Polys Rendered</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Polys Rendered</a><br><br>
<a name="349744"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AbbaRue</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there a way to keep Blitz3D from rendering polys that are obviously blocked from view. <br>In my scene I walk up to a high hill that blocks out everything behind it, <br>and I still have the same frame rate as when I am fare away from it with the scene behind it in view. <br>The tris count also stays the same. <br>I thought z-buffering is supposed to cut out everything that is hidden by something else. <br>Do I need to set something to get z-buffering to work? <br><br></td></tr></table><br>
<a name="349747"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> No, that's not what z-buffering is for.  In a sense, z-buffering is in fact just the opposite; it allows things to draw in the correct order, so that things hidden behind other things aren't drawn on top.  What you want is occlusion culling.  BIG topic that.  The idea is to chunk up your scene in some way, determine which chunks are visible, and hide the other chunks. <br><br></td></tr></table><br>
<a name="349748"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AbbaRue</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> So Blitz doesn't have a command for this then? <br>Or a way to set a meshes attributes so if it is behind something it's not rendered? <br>So I have to use EntityInView, and check every mesh in my scene to see if it is visible then? <br><br></td></tr></table><br>
<a name="349753"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually, I don't know if EntityInView will work.  I don't remember exactly but I think that command simply checks if an entity is within the viewing frustrum, regardless of whether or not it is occluded.  And you generally don't want to check every mesh in your scene (unless your scene is comprised of very few meshes.)  Instead, chunk up you scene into zones, with meshes grouped inside of zones.  Determine visibility on entire zones (there's LineOfSight code in the code archives; that's still not an ideal approach, but it's a start,) hiding/showing meshes in groups.  It'll be faster than attempting to nitpick about what is and isn't visible. <br><br></td></tr></table><br>
<a name="349762"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Techlord</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> AbbaRue,<br><br>Heres a very useful system for developing your own Occlusion, Hidden Surface Removal, or VIS System: <a href="/codearcs.php?code=341" target="_blank">CSP Compiler.</a><br><br>I developed a similar system myself and requires level maps that contain child meshes. It works by coloring each child mesh with a unique color starting from 1. The child mesh id = unique color value. A camera is incremented through the level taking snapshots. A set of snapshots from 6 or more angles are usually required. The set of snapshots are scaned for the colors. The camera position and colors found are written to a data file.<br><br>Once saved, there are many ways to load this VIS data for use. One way is to load camera position into a 3 element Array Table and child mesh ids into a bank.<br><pre class=code>VIS(x,y,z)=ChildMeshIDBank</pre>Once the data is loaded you could easily display visible Child meshes corresponding camera x,y,z position. Assuming you handle your child mesh geometry with the Array childmesh(n).<pre class=code>For loop = 0 To BankSize(VIS(camera\x,camera\x,camera\z)) Step 4
	ShowEntity childmesh(PeekInteger(VIS(camera\x,camera\x,camera\z),loop)
Next</pre><br><br>Overall the system is fairly simple and works well. <br><br></td></tr></table><br>
<a name="349796"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AbbaRue</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I finally know what Occlusion is, and have some idea now of what it involves. <br>I can remember the old Ultima2 game. When you explored the world everything stayed black until you explored it. <br>I can remember the way the viewing area lit up as you approached it. <br>I always thought a simular approach would work in 3D. <br>Only thing is height is a major factor here. <br>I think some kind of ray casting would work, only thing is the time for the raycasting <br>is probably the same time needed for Blitz to render the scene itself. <br>So I think that LOD preproccessing is the best way to do things.  <br>I just thought Blitz had some function to do this, that I didn't know about. <br>Because when I spin around in a 3D scene I noticed different frame rates at different angles. <br>I thought that had something to do with items blocking the view. <br>I now think hidden surfaces actually slow things down, because they are harder to display. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
