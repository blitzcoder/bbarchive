<!DOCTYPE html><html lang="en" ><head ><title >Pixels to 3D coordinates</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Pixels to 3D coordinates</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Pixels to 3D coordinates</a><br><br>
<a name="933153"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fireshadow4126</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm looking for a way to convert pixels (such as the <pre class=code>MouseX()</pre>) to 3D coordinates.  Could someone please help? <br><br></td></tr></table><br>
<a name="933160"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Create a quad (or plane) that is rotated to face the camera. Make it pickable and position it where you want your Z coord to be. Use CameraPick to find convert from MouseX/Y to 3D x,y[,z]. There really isn't any other way to do it because the z coordinate will always have an effect on the x and y positions (and vice-versa). <br><br></td></tr></table><br>
<a name="933179"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fireshadow4126</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> awesome<br><br>thanks Beaker <br><br></td></tr></table><br>
<a name="933227"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Don't forget you probably need to zero the plane/quads alpha. <br><br></td></tr></table><br>
<a name="933305"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jasu</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b><br>There really isn't any other way to do it because the z coordinate will always have an effect on the x and y positions (and vice-versa).</b><br>There is. The math way. I'm amazed I haven't seen a math solution to this in the archives.<br><br>Camera is basically a plane in the shape of the viewport. Camerazoom value is the distance of eye point behind the camera. Vertex positions are drawn on the screen by calculating the point where projection from vertex to eye point crosses the camera plane.<br><br>The math way might be faster than using a quad and pick, but if you are doing it only once per tick, it doesn't matter what you use. <br><br></td></tr></table><br>
<a name="933322"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, you can convert the x/y co-ords in 3d space the camera occupies. You still need some sort of depth though, because the camera is just a point in space. <br><br></td></tr></table><br>
<a name="933332"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jasu</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Indeed indeed... (moment of clarity came to me) There still must be a plane or an object you are pointing at. Otherwise you'll just have a vector of infinate length. Now I see why there's no math solution available. There's no need for one. Only if you are using a 3rd party graphics engine that doesn't have picking, then the math solution is needed.<br><br>I was always afraid of making objects pickable, like they had an effect on performance like mesh intersects do. Mesh picking is just something that comes for free when calculating z-buffer, isn't it? <br><br></td></tr></table><br>
<a name="933341"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you make the quad/plane very close to the camera it's fine. Hell, you can generate a maths equation if you choose a distance, without using a quad or plane, and there is no picking involved. <br><br></td></tr></table><br>
<a name="933648"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Any "3rd party graphics engine that doesn't have picking" is possibly not worth using. <br><br></td></tr></table><br>
<a name="935913"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Adam Novagen</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I'm amazed I haven't seen a math solution to this in the archives. <br></div><br><br>Probably because a math-based routine uses nothing but the CPU, while an entity-based routine probably uses graphics hardware accelleration. <br><br></td></tr></table><br>
<a name="935937"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I was always afraid of making objects pickable, like they had an effect on performance like mesh intersects do. Mesh picking is just something that comes for free when calculating z-buffer, isn't it? <br></div><br><br><br>Effectively, yeah.. the erndering needs to know what's where in relation to the camera and what's in between will get filled in with the z-buffer, so the result is that picking can identify the drawn object in the screen representation of 3-D space, and therefore, the coords of that 3-D object.<br><br><div class="quote"> Otherwise you'll just have a vector of infinate length.  <br></div><br>Precisely :D If there's nothing in the way, this is exactly what you would get anyway :D - Chances are, though, you'd hit the skybox or something. <br><br></td></tr></table><br>
<a name="935961"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Probably because a math-based routine uses nothing but the CPU, while an entity-based routine probably uses graphics hardware accelleration. <br></div><br>I'm pretty sure it's all done on the CPU either way. <br><br></td></tr></table><br>
<a name="935962"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah. In blitz3D, the CPU does nearly everything except draw the graphics. <br><br></td></tr></table><br>
<a name="936126"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> How about this?<br><a href="/codearcs/codearcs.php?code=379" >2D-to-3D entity positioning (or something)</a> <br><br></td></tr></table><br>
<a name="936202"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fireshadow4126</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> wow<br>thanks BlitzSupport,<br>but i think i'll just use<br><pre class=code>CameraPick(Mousex(),MouseY())</pre><br>thanks everyone else too <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
