<!DOCTYPE html><html lang="en" ><head ><title >Mathmatical challenge - 'flipping the vector'</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Mathmatical challenge - 'flipping the vector'</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Mathmatical challenge - 'flipping the vector'</a><br><br>
<a name="686273"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> We've all been there - you try to move a mesh from one place to another and once the little fellar is on his way via the vector, the little fellar is moving backwards (facing the opposite way it is moving) but is moving in the right direction:<br><br><pre class=code>bx#=EntityX(targetmesh)-EntityX(yourmesh)
bz#=EntityZ(targetmesh)-EntityZ(yourmesh)
bn#=Sqr(bx^2+by^2+bz^2)
bx#=bx/bn
bz#=bz/bn
AlignToVector yourmesh,bx,0,bz,0,.1
MoveEntity yourmesh,0,0,.05</pre><br>Mathmatically, can the above be written to move the mesh but not reverse the way it is facing?<br><br>I played around with it a bit and managed to send the mesh on a negative vector (ie moving the right way and facing the right way), but the steering went wonky.<br><br>I'm just wondering if mathmatically this can be done?  Perhaps, I am even doing the math wrong?<br><br>Some might suggest to 'RotateMesh' the mesh beforehand or load it into a modelling package and face it the opposite way.  However, my problem is the characters are all rigged up with skeletons and stuff.  If I try to flip them then they go all wonky like something out of 'The Thing'.<br><br><b>I feel that a solution to this problem benefits the community</b> <br><br></td></tr></table><br>
<a name="686280"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> matrix matrix matrix. <br><br></td></tr></table><br>
<a name="686284"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm a bit pi**ed at the mo but, can't you just negate the movement vector? i.e. -x,-y,-z <br><br></td></tr></table><br>
<a name="686289"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tried using a negative vector before and sending the mesh on a negative movement, but it didn't work.<br><br>Sniffage. <br><br></td></tr></table><br>
<a name="686294"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try applying a normal sausage. <br><br></td></tr></table><br>
<a name="686296"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> In fact, I just emailed the model authors and asked if they could just face the models the opposite way on the Z axis.  Maybe other programming products are not affected by this as both authors supply models for Torque and DB, etc?<br><br>I'd still like to know how to solve it in code. <br><br></td></tr></table><br>
<a name="686312"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not sure I'm grasping what's going on, or whether this does what you're asking, but how about parenting to a pivot and rotating the mesh "beneath" that, moving the mesh via the pivot? <br><br></td></tr></table><br>
<a name="686314"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why not just do it the way you said in the first post, but just steer in the oposite direction<br><br>Did you giveup driveing because you couldnot reverse? Did you demand that the drivers seat turned around. No you just got used to turning the wheel the other way.<br><br>My Oblivion clone, is going to be well better than yours <br><br></td></tr></table><br>
<a name="686323"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try LoaderMatrix... <br><br></td></tr></table><br>
<a name="686326"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah, this must be what "Grey Alien" was spouting on about.  <br><br>I've never used the command.  I'll take a look and lesson those meshes. <br><br></td></tr></table><br>
<a name="686366"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Defoc8</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> jst a couple of things..<br> - align to vector causes the local axis of an object to <br>tranform..so your making the zaxis point  in a given direction..<br>This is fine, but keep this in mind, because if you now rotate<br>about the  axis vectors you may not get the expected<br>results - the local axes have become none orthonormal (they are no longer at right angles to each each other).<br>[i could be wrong here..but i imagine this could be a problem]<br><br>as for moving backwards without changinf direction..<br> moventity(blah,0,0,-1) = -1 along z vector/axis<br><br>if you want to use positioning - grab the z vector, negate<br>it, multiply by a scalar displacement...and add it to your<br>position... the a vectors negative, has opposite sense..<br>so unless theres something wrong elsewhere, you should<br>be moving backwards..<br><br>perhaps ive missed something, but from what you have written, i dont see a real problem.. <br><br></td></tr></table><br>
<a name="686548"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Interesting answer from BasilStudio:<br><br><div class="quote"> I am aware that the b3d models are flipped though that is intended as i optimized the models for the <br>Realmcrafter Engine that require the models to be like that.  Though you are right its a good idea to include a normal version. <br></div><br><br>It shows that B3D is not the daddy - I am sorting this.<br><br>I assumed it would have to be in relation to other programming environments - as it didn't make sense to me.<br><br>Also, BasilStudio supplied me with upated .b3d meshes - so nice one BasilStudio - although I am their most favourite customer.<br><br>Actually, this is also a cause for concern over the future release of the RC media - best I email them now before it goes splat at launch. <br><br></td></tr></table><br>
<a name="693599"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can anyone vouch for the 'LoaderMatrix' command working with .b3d files?<br><br>I resolved the above problems by getting the model authors to redo the models.  In now have a new batch of animated b3d models that all face the wrong way on the Z-axis.<br><br>I find that 'LoaderMatrix' does not do anything, regardless of what values I throw at it. <br><br></td></tr></table><br>
<a name="693603"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> In fact, I'll assume 'LoaderMatrix' does not work for this type of thing:<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=36026" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=36026</a><br><br>I hope "Matty" is right. <br><br></td></tr></table><br>
<a name="693617"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> In fact it does not work - it almost works, but the skeleton is still slightly screwed up in the way the joints bend. <br><br></td></tr></table><br>
<a name="693651"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's okay - panic over - the RC media is being sorted at source.<br><br>Right, no need for maggoty little pivots anymore. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
