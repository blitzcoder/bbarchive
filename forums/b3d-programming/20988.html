<!DOCTYPE html><html lang="en" ><head ><title >DIfferent masking schemes</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >DIfferent masking schemes</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >DIfferent masking schemes</a><br><br>
<a name="215363"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've noticed that Blitz and other games vary in the look and style of the edge they create when masking textures.<br><br>For instance, HalfLife has a nice rounded edge, Blitz has a fairly octagonal edge and PikMin has a square edge.<br><br>They all seem to have their place dependant on where and what you use them on.<br><br>Question is: I presume that Mark creates the mask on loading the texture, but could we and should we have access to the way in which these are created?<br><br>Something else I don't quite understand is why masked textures get sorted correctly and alpha textures do not?  They are essentially the same thing I thought.<br><br>I know why alpha textures *aren't* sorted, but I don't understand how masked textures are.<br><br>Any ideas? <br><br></td></tr></table><br>
<a name="215366"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> In theory masked textures don't have to read and mix with the pixels behind them so can be drawn in first pass with all the solid surfaces using standard perpixel zbuffering.<br><br>Blitz does give you certain control, when you writepixel to a masked texture you either have the high 8 bits set or clear depending on mask  but  when bilinear filtering comes along most cards will still mix the rgb component of clear pixels in with the solid ones around edges so it does make a difference what color you set the masked bits too on some cards. <br><br></td></tr></table><br>
<a name="215381"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I understand.  Are you also saying that the granular shape of the edge of the masked pixels is down to the way in which different games bi-linear filter?  Blitz always creates a hex/octagonal shape for example.<br><br>Or, can anyone explain why these shapes differ? <br><br></td></tr></table><br>
<a name="215388"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pudding</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is how I understand it:<br><br>In most engines this kind of masking is called "alpha testing." With alpha testing you pick a threshold value and a test to perform (e.g. greater than, less than etc.); now if the alpha component for a particular pixel in the texture passes that test (e.g. greater than 128) that pixel will be transparent. <br><br>The different edges you describe (rounded, octagonal, square) can result from differences in the alpha channel. For example, some texture formats might only have a one bit alpha channel resulting in square pixel edges. Eight bit alpha channels that are also bilinear filtered result in nice rounded edges (a greater than 128 operation will find nice curves through a blurred 8 bit alpha channel). The sharpness of the original alpha and the threshold value also effect the edge shapes.<br><br>It would be nice to have more explicit control of the alpha testing in Blitz. You can do some interesting things with the threshold value and the testing operation.<br><br>e.g. volumetric textures: create a texture with a "heightfield" alpha channel; now create a stack of planes and texture each plane with the same texture but with a threshold value less than the plane below it - voila, a cheap volumetric effect from a single texture! (if you can't see it, picture it like those those topographical models made from slices of cardboard cut from contour maps but in this case the countours are defined by the threshold values) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
