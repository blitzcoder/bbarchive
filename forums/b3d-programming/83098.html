<!DOCTYPE html><html lang="en" ><head ><title >EXE file format info... mind blowing</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >EXE file format info... mind blowing</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >EXE file format info... mind blowing</a><br><br>
<a name="937712"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi<br><br>as some people on here have noticed I like to reinvent the wheel for curiosity's sake so here it goes...<br><br>I was just curious of how to write an exe via the writefile and writeint commands in blitz... I know it is possible.  So after much thought I decided learning the exe file format is a must at this stage and I did a ton of research and experimenting getting manny bsd's along the way.  so after going through much strife to get to what I know about the exe file format already (which is relatively nothing) I decided that someone on the blitz blog might know.<br><br>all I know now is that the first 4 bytes of every exe are the same<br><br>0x4d and 0x5a consecutively<br><br>i think these translate to binary accordingly<br><br>0000 0000 0100 1101 x 0000 0000 0101 1010<br><br>is that right? and if so how would i write that via the writeint command? how does blitz write integers?<br><br>I also know that the first 80 to 100 ish bytes of every blitz3d compiled program are the same mostlikely because they have the same icon and information<br><br>so is there an expert in the field? does anyone know anything about this format that we use so often yet never have come to understand fully? <br><br></td></tr></table><br>
<a name="937714"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://en.wikipedia.org/wiki/Portable_Executable" target="_blank">http://en.wikipedia.org/wiki/Portable_Executable</a> <br><br></td></tr></table><br>
<a name="937715"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Your hex to binary conversions look right to me, except that you've filled them out with leading zeros, which won't be correct if the first 4 bytes are 4d and 5a.<br><br> You don't need to do anything to convert them. Blitz3D is already quite happy dealing with hex numbers. You just prefix them with a $ to denote that they're hex. You can do binary too, but I'm not positive of the character you need to denote binary. I think you prefix it with % as in %0100110101011010<br><br><pre class=code>
WriteInt(File,$4d5a)
</pre> <br><br></td></tr></table><br>
<a name="937720"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks gabriel! that will be helpful! it just goes to show that even after 6 years of programming in blitz, there are still random little things to be learned :)<br><br>@skidracer<br><br>ill take a look at it later.. have to go to bed right now. thanks<br><br><br>I still cant figure out the commands in hex :p anyone know these? <br><br></td></tr></table><br>
<a name="937725"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Windows .exe file format:<br><br><a href="http://www.wotsit.org/download.asp?f=exe-win&amp;sc=287540417" target="_blank">http://www.wotsit.org/download.asp?f=exe-win&amp;sc=287540417</a> <br><br></td></tr></table><br>
<a name="937731"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ginger Tea</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> 32-bit Portable Executable: Introduced with Windows NT, these are the most complex[citation needed] <b>and can be identified by the "PE" in ASCII.</b> These can be run by all versions of Windows NT, and also Windows 95 and higher, partially also in DOS using HX DOS Extender. They are also used in BeOS R3, however the format used by BeOS somewhat violates the PE specification as it doesn't specify a correct subsystem[citation needed]. <br></div><br><br>although without looking at the ascii chart i doubt PE match those numbers (edit: its MZ which is for DOS apparantly)<br><br>other versions of windows/dos prefixed exes with<br>MZ, NE, LX or LE <br><br></td></tr></table><br>
<a name="937734"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wings</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> ahh you make an assembler for windows :) <br><br></td></tr></table><br>
<a name="937792"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks xlsior the link didnt work but I found the same file somewhere else :) its really complicated but im sure I can understand it eventually...<br><br>At wings<br><br>exactly<br><br><br>hmmm now to get this off the ground :p <br><br></td></tr></table><br>
<a name="938728"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SytzeZ</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I one time downloaded a free program: Immunity Debugger<br>Google it, and I'm sure you'll find it.<br>I don't know exactly what it does, but it can look into an .exe file in a weird way, and returns some weird code.<br>Sometimes there are c++ function names in it <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
