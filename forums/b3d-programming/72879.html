<!DOCTYPE html><html lang="en" ><head ><title >Loading Videos</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Loading Videos</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Loading Videos</a><br><br>
<a name="814623"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mintybreath</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there any way to load videos into the game and play it through the game?<br><br>I am not sure if there is a way, but if there is that would be really helpful with something else i am doing. <br><br></td></tr></table><br>
<a name="814685"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >andy_mc</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, you can play AVI files directly onto a texture surface.<br><br>Check out: <a href="http://www.blitzbasic.com/b3ddocs/command.php?name=OpenMovie&amp;ref=2d_cat" target="_blank">http://www.blitzbasic.com/b3ddocs/command.php?name=OpenMovie&amp;ref=2d_cat</a><br><br>in the manual. <br><br></td></tr></table><br>
<a name="814705"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mintybreath</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok ill try that.<br><br>Thank you! <br><br></td></tr></table><br>
<a name="814716"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >andy_mc</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> it works great. I had a metal gear solid trailer playing on a terrain, each polygon of the terrain showed the video, so it was like flying over a giant mosaic of video screens. I'm not sure if the sound is 3D though, you'll need to experiment with that. <br><br></td></tr></table><br>
<a name="817185"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Etica</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Apologise my roughness,<br>where the heck is the example of using openmovie to draw to a texture??<br><br>I opened your link, but it seems that is just the 2D openmovie ddraw command.<br><br>I could do 3D video textures only with BlitzMovie.dll,<br>are you sure you can draw a video texture with native blitz3D commands ?<br><br><br>Ok, I found this and seems ok to me:<br><pre class=code>
	;--- VIDEO  ---------------------
	movies_millis=MilliSecs()-movies_millis
	movies_storemillis=movies_storemillis+movies_millis
	movies_millis=MilliSecs()
	If movies_storemillis&gt;32
	movies_storemillis=0

	DrawMovie( ? ) ;draw movie here
	CopyRect  ? ;copyrect to texture here

	EndIf
	;----------------------------------
</pre> <br><br></td></tr></table><br>
<a name="817253"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah...<br>I think it's something like<br><br>SetBuffer TextureBuffer(movietex)<br>DrawMovie(hmovie,0,0,MovieWidth(hmovie),MovieHeight(hmovie))<br>SetBuffer BackBuffer()<br><br>There should be an example in the archives. <br><br></td></tr></table><br>
<a name="818493"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> As far as I recall you can't drawmovie directly to a texturebuffer. Or probably it works only on some cards, and not on some others. Altering Pixels of a texture is slow anyway, so using Copyrect to copy eg. from backbuffer to texturebuffer is pretty fast. But you definitely NEED to set the texture flag 256 to get at least half-decent speed. <br><br></td></tr></table><br>
<a name="819186"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> i will try and find the code but i had an example of a avi playing on a spining cube. i think it was really simple <br><br></td></tr></table><br>
<a name="819248"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> rob had an example in the code archives, misc 3d, it was a link to a "movie3d.zip", but the link is broken now.<br><br>ok here's a quick sample that should work on most machines:<br><br><pre class=code>
; playing a movie in a texture
Graphics3D 640,480,32,2
SetBuffer BackBuffer()

camera=CreateCamera()
TranslateEntity camera,0,0,-4

light=CreateLight()
RotateEntity light, 45,45,0

cube=CreateCube()

tex=CreateTexture(256,256,256)
EntityTexture cube,tex


movie_file$="test.avi"
movie=OpenMovie(movie_file$)


While KeyDown(1)=0
 dummy=DrawMovie(movie,0,0,256,256) ; here you can scale the movie to the texture size most efficiently
 CopyRect 0,0,256,256,0,0,BackBuffer(),TextureBuffer(tex)
 If MoviePlaying(movie)=0 Then
  CloseMovie movie
  movie=OpenMovie(movie_file$) ; reload when finished = loop
 EndIf
 TurnEntity cube,.2,.4,.6
 RenderWorld()
 Flip
Wend

CloseMovie movie
End
</pre> <br><br></td></tr></table><br>
<a name="819293"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>; Simple movie on 3D Object example (rob@...)
; sample avi was a simple quicktime trailer preview converted.

; for best results and efficient memory usage please use power of two sizes.
; ie. 256x256


Graphics3D 640,480,16,2
camera=CreateCamera()
light=CreateLight()

;create texture for the movie &amp; 3d entity
movietex = CreateTexture(256,256,256+48)
cube = CreateCube()
EntityTexture cube,movietex
MoveEntity cube,0,0,6
EntityFX cube,16
EntityBlend cube,3
For i=0 To 3
	temp=CopyEntity(cube,cube)
	PositionEntity temp,Rnd(-10,10),Rnd(-10,10),Rnd(-10,10)
Next

;load movie
movie = OpenMovie("sample.avi")

While Not KeyHit(1)
	; this is just a delay before updating movie

	If t&gt;2
		t=0
		If MoviePlaying(movie)=0 Then movie = OpenMovie("sample.avi")
		DrawMovie(movie)
		CopyRect 0,0,256,128,0,0,BackBuffer(),TextureBuffer(movietex)
	EndIf
	t=t+1
	
	TurnEntity cube,-.4,.4,0
	RenderWorld

	Flip
Wend
End</pre> <br><br></td></tr></table><br>
<a name="819294"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Works great thanks, it was bugging me i couldnt find the old example but i know i have it some where <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
