<!DOCTYPE html><html lang="en" ><head ><title >Jump tables?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Jump tables?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Jump tables?</a><br><br>
<a name="213608"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Strider Centaur</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there anyway to create a jump table in BB3D?<br><br>I know about select case, but I was wondering if it can be done like in C.  <br><br>You know, get the direct address of functions, store them in an array, and then with a simple bit of math jump to a function indicated by the offset value returned in the math.?<br><br>Some basics do something like this using Gosub, but I was wondering if BB3D  gave us access to this data?   Jump tables are very fast.  <br><br>I suppose the compile may turn a Select Case into a Jump table also.  <br><br>Anyway, just a interesting question I had. <br><br></td></tr></table><br>
<a name="213634"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dynaman</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> No function pointers in Blitz. <br><br></td></tr></table><br>
<a name="213653"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Knotz</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> But the select case is damn powerfull:<br><br>Select foo<br> case foo &gt; 5<br>   DoSomethingInteresting()<br> case foo &gt; 8<br>   DoSomethingEvenMoreInteresting()<br>End Select <br><br></td></tr></table><br>
<a name="213821"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Koriolis</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> stevenm, that doesn't work that way. What case expect is an expression that will be compared to the one of the select (here it's 'foo') and execute the case whose expression evaluates to the same value (if there is one; if there is more than one then it's the first matching case that is executed). <br>So your example compiles because (foo &gt; 5) and (foo &gt; 8) are integer expressions that will evaluate to 0 or 1 depending on the value of foo. But doesn't do what you expect, as the first case will be executed if<br>    (foo &gt; 5) = foo, which happens only when foo = 0<br>The same goes for the second case, but it won't be executed as the first one has already been executed in that case.<br><br>Well, it's a lot of talking just for saying it doesn't work but I thought you could be interested.<br><br>Doing something like<br>Select True<br>    Case foo &gt; 5 ...<br>End Select<br>would work as long as your cases conditions are mutually exclusive (which is not the case here as foo can be say 7 and then we have foo &gt; 5 AND foo &gt; 8).<br>But that's a trick anyway, for such things you'd better use plains Ifs. Selects are really meant to be used like in C.<br>Note you can also have multiple values in a case:<br>"Case 5,6,7".<br><br>Strider Centaur: the compiler doesn't seem to compile Selects into jump tables, even for selects on integer expression. <br><br></td></tr></table><br>
<a name="213878"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Knotz</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Koriolis: you're right, i'm wrong <br><br></td></tr></table><br>
<a name="214094"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anthony Flack</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was wondering about the relative speed of stuff like this... I have some very large select structures... potential slowdown? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
