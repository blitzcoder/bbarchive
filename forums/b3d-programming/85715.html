<!DOCTYPE html><html lang="en" ><head ><title >Flush individual key?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Flush individual key?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Flush individual key?</a><br><br>
<a name="970177"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LamptonWorm</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi everyone,<br><br>Is it possible to flush a single key as opposed to all keys (flushkeys())?<br><br>Cheers,<br>LW. <br><br></td></tr></table><br>
<a name="970178"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> No. <br><br></td></tr></table><br>
<a name="970180"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> He's right. I'm afraid not dude..<br><br>sorry <br><br></td></tr></table><br>
<a name="970186"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you are wanting to limit repetition I use a kinda delay in the keypress routine:<br><br><pre class=code>

;Before Main Loop
Global LastFired=Millisecs()


; During Main Loop
If Keydown(52)
If ((Millisecs()-LastFired)&gt; 50 ); 50 here is the 'fastest' repetition of the keypress 'allowed'. 
LastFired=Millisecs()
; Do fire stuff as normal
End If
End If
</pre> <br><br></td></tr></table><br>
<a name="970196"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LamptonWorm</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>Thanks for the speedy reply.. no worries, just checking I wasn't missing anything obvious!<br><br>Cheers for the snippet Malice, but I've got something slightly different to solve, I have 2 players sharing the keyboard and only need to flush the dying players keys.. but I think there are other ways around it but a simple single key flush would be easiest :) but no worries, need to re-plan a little 'tis all.<br><br>Cheers,<br>LW. <br><br></td></tr></table><br>
<a name="970200"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Pseudocode:<br><pre class=code>CheckKeys()
If Player = Dead
  DontMovePlayer()
EndIf</pre><br>?? <br><br></td></tr></table><br>
<a name="970218"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> yeah, as Gfk hints at, I would think that it may be best to simply add in a check  and if that player is 'dead or dying', then skip the section of code that deals with checking their movement keys, or  applying the movement. <br><br></td></tr></table><br>
<a name="970408"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LamptonWorm</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>I'm already doing that.. the problem is that without doing a flush, that during the dying sequence any key hits are still added to the keyboard buffer, and it just so happens that the key to start the players next life is also their movement key. In this game you have 1 life btw.<br><br>I can get around it by having another key as the start key, but I wanted to avoid this if possible, as it breaks one of the design rules specific to the game.<br><br>Other options are split the control methods to key, mouse, or key, joy, so I can independenty flush stay presses between dying and new life starting.<br><br>Cheers,<br>LW. <br><br></td></tr></table><br>
<a name="970412"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LamptonWorm</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey, think I've nailed it.. the player goes into their dying/reset I can reset the keyhit count by simply calling keyhit(203) on its own. I've always used keyhit as 'if keyhit(203) = 1 then..', forgot it returns the count between keyhit calls. so I reset it, by calling it at the right time (during player reset) and it acts as a flush.. need to test it more now but I think it is working as needed. <br><br></td></tr></table><br>
<a name="970414"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> good job:) <br><br></td></tr></table><br>
<a name="970428"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Adam Novagen</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> That should definitely work, and it's a nicely out-of-the-box solution. Bravo! <br><br></td></tr></table><br>
<a name="970441"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, I am so used to  Keydown I forget the other commands.<br><br>It makes sense and should work ideal. Well thought :) <br><br></td></tr></table><br>
<a name="970475"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> ahaha.<br><br>im so used to fusing them.<br><br>lol<br><br>:P<br><br>"moveentity cam, 0, 0, (keydown(200)-keydown(208))*1<br>turnentity cam 0, (keydown(203)-keydown(205))*1,0"<br><br>:P <br><br></td></tr></table><br>
<a name="970715"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LamptonWorm</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cheers folks. I've done a bit more testing and this appears to be working fine, cool.<br><br>Cheers,<br>LW. <br><br></td></tr></table><br>
<a name="1227517"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >cryptadone</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> at my advice its possible<br><br>dim a1$(100)<br><br>repeat<br><br>     repeat<br><br>          a$=inkey$<br><br>          aa=aa+1<br><br>          if a$&lt;&gt;"c"  then a1$(aa)=a$<br><br>    until a$=""<br><br>until keyhit(1)<br><br><br>end<br><br><br>; so get the last key$ in the array a1$()... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
