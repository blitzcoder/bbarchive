<!DOCTYPE html><html lang="en" ><head ><title >Game Demo</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Game Demo</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Game Demo</a><br><br>
<a name="764919"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Moraldi</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I indent to use <a href="http://www.fraps.com/" target="_blank">FRAPS</a> in the following way:<br>I will capture videos of my game and play them later when the game runs in main menu loop.<br>In order to see if I can do this I downloaded the demo version but the produced video (an .avi file] it was not so good for my purposes. The problem focused on the frame rate and not on the quality. I noticed that the demo version supports only 30 fps.<br>All I need to know if someone of you has the registered version of FRAPS and if the videos in higher fps's are good enough for what I want to achieve<br><br>Thanks <br><br></td></tr></table><br>
<a name="764923"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Barnabius</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> 25, 30, 50 and 60 fps are predefined in the full version. You can also set any fps value (default is 29.97) but you'll need some serious computing power to record at anything higher than 30 fps. Also don't forget that you will have to do some more work with the recorded data. Most likely you'll have to recode them with XdiV or similar codec to make them smaller and more manageable. Original FRAPS codec is designed for fast work but not for small sized files. Expect the recordings to be huge, easily going into hundreds of megabytes in length.<br><br>Barney <br><br></td></tr></table><br>
<a name="765193"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hockings</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just a thought for your demo - possibly a better option (depending on whether it suits your game) may be to replay keypresses to create your main menu demo.<br>Set up a key (joystick/whatever) logger that each game loop records your input and write that to a file.<br>In your main menu routine, run the actual game in the background (rather than a video of it) but each game loop feed it the next input from your previously recorded log. <br><br>Assuming you completely reset your game before the menu and before starting the game itself, you will have an infinately repeatable "demo", and the storage space required is only what key(s) were pressed per frame. <br><br></td></tr></table><br>
<a name="765199"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Moraldi</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks guys.<br>hockings: I wanted to avoid your solution to save time, but I think that I don't have other option... <br><br></td></tr></table><br>
<a name="765517"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ked</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry to hijack this thread, but how would you do it Hockings way? I don't understand that suggestion. <br><br></td></tr></table><br>
<a name="765586"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hockings</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ked<br>To do this properly, your game needs three modes <br>1) Let the player play the game<br>2) Record what the player does (this should be part of your game's debug mode)<br>3) Replay what the player did<br><br><br>Here's our basic pseudocode that I'm going to use as examples - modify to suit your program. It is not necessarily the best or neatest way, but it will work<br><br>Subroutine Main loop()<br>  process_input		# this processes the user keypresses<br>  draw_screen		# draws the level / player / enemies etc<br>  flip<br>End subroutine<br><br>Subroutine Process_input()<br>  if player hits right<br>    playerx = playerx + 1<br>  endif<br><br>  if player hits left<br>    playerx = playerx - 1<br>  endif<br><br>  …<br>  [code for other inputs up/down/fire]<br>  …<br>End subroutine<br><br>------------------------------------------------------------<br><br>Mode 1) <br><br>How you get into this mode : This is the default mode. <br><br>Initialisation : set all your variables etc up to the defaults (level=1, lives=3 etc). <br><br>Code : Each time the main game loop runs it processes player/enemy input as normal and does stuff. The game will do this mode by default.<br><br>------------------------------------------------------------<br><br>Mode 2) <br>Lets assume your game has 5 player inputs, up,down,left,right,fire. <br>We need a notation system for these, we'll assign the first letter for each input to make life easy - "u","d","l","r" &amp; "f". We'll also assign a sixth input "nothing" ("n")<br><br><br>How you get into this mode :  put "DEBUG=1" at the top of your code, run game with a debug command line option, or whatever method suits you. <br><br>In your code :<br>Initialisation : As per mode 1, but also create a file to record your inputs into<br><br>Code :<br>Main loop : <br>Where you process the player's input, we need to record the input. We also need to put the code that controls what happens when a player presses a key into a subroutine. eg. change<br><br>if player hits right<br>  playerx = playerx + 1<br>endif<br><br>modify this to put the "pressed right" code in a subroutine, record the notation chosen earlier for pressing the particular input into the file, and also catch "no input pressed" situation<br><br>your code should now look like :-<br>Process_input()<br>  if player hits right<br>    run pressed_right subroutine<br>  endif<br><br>  if player hits left<br>    run pressed_left subroutine<br>  endif<br><br>  […]<br><br>  if mode=2 then<br>    if has_hit_key=0 then<br>      write "n" to file<br>    endif<br>  endif<br><br>End subroutine<br><br><br>Subroutine pressed_right()<br>  playerx = playerx + 1<br>  if mode=2 then<br>    has_hit_key=1<br>    write "r" to file<br>  endif<br>End subroutine<br><br>Subroutine pressed_left()<br>  playerx = playerx - 1<br>  if mode=2 then<br>    has_hit_key=1<br>    write "l" to file<br>  endif<br>End subroutine<br><br>  [… subroutines for up/down/fire …]<br><br><br>If you didn't add the "if has_hit_key=0" section to Process_input, we wouldn't know about all the game frames where the player isn't doing anything and your playback will end up broken.<br><br>Now run your game in mode 2 and play until you die / have played long enough for your demo.<br><br>You will now find your file will contain something like<br>"udnnnunnnnfnnnfnnnunnnrdnnnnfnr"<br><br><br>------------------------------------------------------------<br><br>Mode 3)<br>How you get into this mode : Runs as your main menu<br><br>Initialisation :  as per mode 1.<br><br>Main loop : <br>At the start of your game loop, read the next character from the file into a variable (eg. action)<br><br>Where you process your player inputs change the code to be able to handle reading the input from the file instead of (for example) the keyboard.<br><br>Code :<br>In Process_Input() change<br>if player hits right<br>  run pressed_right subroutine<br>endif<br><br>To<br><br>if (mode=1 or mode=2) and (player hits right)<br>  run pressed_right subroutine<br>else<br>  if (mode=3) and action="r" then<br>    run pressed_right subroutine<br>  endif<br>endif<br><br><br>Change your main loop to<br><br>Subroutine Main loop()<br>  if mode=3 then read next character from file<br>  process_input		# this processes the user keypresses<br>  draw_screen<br>  if mode=3 then DoMenuFunctions<br>  flip<br>End subroutine<br><br>With this, you'll now end up that the game will play in the background, running from the inputs recorded in the file, and because we "DoMenuFunctions" (ie. Display the menu, check for the user moving between and selecting menu items etc) after we draw the screen, the menu will end up on top of the playing game.<br><br><br>So there you have it, your game will now support a demo mode. You'll need to make your initialization routine and the file format for recording the demo a bit more complicated if you want the demo to start from somewhere other than the start of the first level, but that should get you started.<br><br>Final code<br>----------------<br><br>Subroutine Main loop()<br>  if mode=3 then read next character from file<br>  process_input		# this processes the user keypresses<br>  draw_screen<br>  if mode=3 then DoMenuFunctions<br>  flip<br>End subroutine<br><br>Process_input()<br>  if player hits right<br>    if (mode=1 or mode=2) and (player hits right)<br>      run pressed_right subroutine<br>    else<br>      if (mode=3) and action="r" then<br>        run pressed_right subroutine<br>      endif<br>    endif<br>  endif<br><br>  if player hits left<br>    if (mode=1 or mode=2) and (player hits left)<br>      run pressed_left subroutine<br>    else<br>      if (mode=3) and action="l" then<br>        run pressed_left subroutine<br>      endif<br>    endif<br>  endif<br><br>  […]<br><br>  if mode=2 then<br>    if has_hit_key=0 then<br>      write "n" to file<br>    endif<br>  endif<br>End subroutine<br><br><br>Hope that helps! <br><br></td></tr></table><br>
<a name="765846"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ked</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> That does help. Thanks for your time. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
