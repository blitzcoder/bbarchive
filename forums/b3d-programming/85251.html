<!DOCTYPE html><html lang="en" ><head ><title >Did we achieve triangle/vertice lit recognition?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Did we achieve triangle/vertice lit recognition?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Did we achieve triangle/vertice lit recognition?</a><br><br>
<a name="964044"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Did we achieve triangle/vertice lit recognition; ie determining if a triangle (or even vertices) are affected by a DX light (ie lit)? <br><br></td></tr></table><br>
<a name="964045"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think people have been experimenting with per-pixel light (shaders) so they've "skipped over" just looking at the entire vertex.<br><br>I dug this up and blew the dust off, though.. Not sure how helpful it might be:<br><a href="http://www.blitzbasic.com/Community/posts.php?topic=68345#764889" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=68345#764889</a><br><br><br>(EDIT - Within that discussion was a link to this in the archives:<br><br>It's a workaround to simulate lighting by using Vertex Colour<br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=284" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=284</a><br><br>) <br><br></td></tr></table><br>
<a name="964048"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I want to do a more realistic lighting system:<br><br>This is what I have so far - may seem a bit dark:<br><img src="http://img269.imageshack.us/img269/7771/vanilla2q.jpg"><br><br>Basically the table which has the candle on it is only top-surface lit.  I have stopped the light hitting the base of the table.  Normal DX lights pass through surfaces.<br><br>The base of the table to the right is lit by the candle.<br><br>I'm kind of interested in how people would go about doing what I did. <br><br></td></tr></table><br>
<a name="964229"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> My own way would to probably use a ray pick from the physics engine. Limit the length of the pick firstly, to the lights range. The problem is see though, is it's not a great real time solution, if the light is moving...<br><br>The problem with the ray pick, is you would need to do thousands, and it would be probably quicker to do real time lightmapping.<br><br>It's a tough one. That's probably why the other methods are being used tbh. <br><br></td></tr></table><br>
<a name="964241"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Clue:  I separate meshes as far as they will go. <br><br></td></tr></table><br>
<a name="964244"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have no idea how you did it. Perhaps rendering all the dark parts first, preserving the z-buffer, then rendering all the lit parts? I'd like to see a light moving though, and the lighting actually updating to miss out the shadowed areas. <br><br></td></tr></table><br>
<a name="964249"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> The table base cannot 'see' the light.<br><br>If you separate a model into various sections you can know which sections can 'see' the light.  You can map sections together to globally recognise light recognition.<br><br>However, to 'see' is not just to visually 'see' - the physical location of a light can prove it as 'unseen' based on the location of what could 'see' the light.<br><br>Note:<br>This is all done with one pass - only one render. <br><br></td></tr></table><br>
<a name="964900"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GIB3D</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Couldn't you simply stop the raycasting at a certain distance so it doesn't have to calculate as much? I don't know if that's how it's already done or not but.. just seein if it helps. <br><br></td></tr></table><br>
<a name="964901"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> The picture posted is using my lighting system.  I was trying to find out how people would achieve it.<br><br><br>You can kind of do this using this:  <a href="http://www.blitzbasic.com/Community/posts.php?topic=75711" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=75711</a><br><br>BP_SetLightMaxRange%( light,range# ) : "SetLightMaxRange@8" ; sets absolute LightRange ( not normally accessable in b3d )<br><br>However, I did not. <br><br></td></tr></table><br>
<a name="964912"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Where can I read about those "not normally accessable in b3d" light functions, like that SetLightMaxRange and the others? <br><br></td></tr></table><br>
<a name="964917"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Probably in the SDK: <a href="http://bcb-tools.com/Downloads.htm#DirectX7" target="_blank">http://bcb-tools.com/Downloads.htm#DirectX7</a> <br><br></td></tr></table><br>
<a name="964919"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Gee, thanks Puki! <br>I didn't even think there was the Dx7 SDK available for download anymore. <br><br></td></tr></table><br>
<a name="965009"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice to know those BP functions work. I use BPlus myself, but havent gotten to the more techy light stuff yet.<br><br><br>Anyway, I will say I think your table is very nice. One of the biggest problems with the 'default lighting system' is where light passes through objects.<br><br><div class="quote"> The problem with the ray pick, is you would need to do thousands, and it would be probably quicker to do real time lightmapping.<br> <br></div><br>There might be some way to optimise this, because at the first sign of any 'obscurer' and across the profile of the obscurer, EVERYTHING behind the obscurer will be unlit. <br>The maths and stuff to figure that out tho is way beyond me. <br><br></td></tr></table><br>
<a name="965015"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Bare in mind though that, prior to "Billp's" goodies, you could bypass the limitations with LightMesh - ie, for example, you can contain lighting within a room - not just a sort of static lightmap lighting, it can be dynamic - ie be moving, be multiple lights, be casting on moving entities within the room, etc.<br><br>That table could be done with a LightMesh call that is exclusive to the table top and the other tables - ie, everything but the base of the table that the candle is on.  However, the light in my pictured example is a CreateLight(2) and the LightRange is set to .4; However, .4 is enough to hit the base of the table - which is, in fact, what is actually happening. <br><br></td></tr></table><br>
<a name="965129"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ShadowTurtle</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> yeah... this are the good ol' 3d effects \o/<br><br>erm.. this normaly knows only map/model designer eh? ok.. a good 3d engineer too..<br><br>back to topic: today you can realy create worlds with 20000 triangles per scene. With this rate is good looking vertex lighting (CPU&amp;GPU) no more a problem. In these terms i am with blitz3d up to date Oo<br><br>Thanx puki! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
