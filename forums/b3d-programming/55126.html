<!DOCTYPE html><html lang="en" ><head ><title >Graphics distortion problem</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Graphics distortion problem</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Graphics distortion problem</a><br><br>
<a name="613734"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >t3K|Mac</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi mates,<br><br>i am currently experiencing some sort of strange looking graphics distortion problems with my FPS. i have a flat ground and placed a house on it. when i am running through it, i get sometimes graphical errors (see attached pictures). this error is on my geforce4 card, on intel 915gms and also on ati x800xl. therefore i don't think its a driver issue. anyone having same problems? or even better a solution for this?<br><br><img src="http://www.the3kings.de/test/bug0.jpg"><br><img src="http://www.the3kings.de/test/bug1.jpg"> <br><br></td></tr></table><br>
<a name="613744"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks like z-fighting between your building and the ground plane.  Set the entityorder on the ground plane to 1 or more so that it's drawn first and this should resolve.<br><br>Stevie <br><br></td></tr></table><br>
<a name="613748"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep, looks like z-fighting to me. <br><br></td></tr></table><br>
<a name="613751"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Andy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Z-fighting indeed, you might also want to reconsider your Camerarange setup.<br><br>Andy <br><br></td></tr></table><br>
<a name="613754"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Finjogi</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Or you could lift the building a bit -&gt; no z-fighting. <br><br></td></tr></table><br>
<a name="613761"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >t3K|Mac</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> i did an entityorder on the groundmesh, but it didn't help. now its fixed, cause i recursively entityordered my groundmesh (i loaded it with loadanimmesh). too bad that entityorder does not affect all children of a mesh. you have to do this manually... <br><br></td></tr></table><br>
<a name="613783"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's the same with entityalpha too :o) <br><br></td></tr></table><br>
<a name="613786"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> in fact with all entity commands that affect meshes. there's an example in the archives on how to do this recursively and also to take care to apply it only on MESH type children.<br><br>Personally I always got a compilation of recursively working Command equivalents for LoadAnimMesh floating around. <br><br></td></tr></table><br>
<a name="613920"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Honestly, for this situation I would just lower the ground plane slightly, like -.01 movement on Y.  Tada, problem solved. <br><br></td></tr></table><br>
<a name="613936"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >t3K|Mac</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> andy, you were right! neither lowering the ground plane, nor adjusting entityorder did fix it 100%. it looked better, but was still distorted. Camerarange setup did the trick. i used CameraRange camera,.0001,300 - do not do this. now is use CameraRange camera,.03,300 and voila, clipping errors are gone! <br><br></td></tr></table><br>
<a name="613939"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Picklesworth</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice building.<br><br>How long have you been working on this? <br><br></td></tr></table><br>
<a name="613963"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Using small values for the near range is very problematic and should be avoided.<br><br>Bookmark this for more info:<br><a href="http://www.sjbaker.org/steve/omniv/love_your_z_buffer.html" target="_blank">http://www.sjbaker.org/steve/omniv/love_your_z_buffer.html</a> <br><br></td></tr></table><br>
<a name="613970"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I like as long as you keep the ratio of 1:10000 everythings cool. But, since your on that verge ;o) Beakers dead right. Raising the floor above the ground will work. Just keep moving it up, till the problem goes away. If if looks stupid outside, put a block base on the factory. <br><br></td></tr></table><br>
<a name="613982"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Andy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> you basically 2 options. <br><br>1) Adjust your camerarange<br><br>Generally you should keep the near# value as high as possible and the far# value as close as possible while still keeping near# closer than far#.<br><br>2) Use dualrendering.<br><br>Using dual rendering you keep the first render from 500 to 10000 units away and the second from 1 to 500. This gives you a defacto larger Z-buffer at the expense of rendering everything twice.<br><br><br>Andy <br><br></td></tr></table><br>
<a name="614108"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >t3K|Mac</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Mr. Picklesworth: a friend of mine did this. don't know how long exactly he has been working on this, but i think one week @8hours per day in total. and it's still not ready ;) as our upcoming FPS gets better, the building needs to be adjusted for better gameplay.. its more a try and error phase at the moment ;) <br><br></td></tr></table><br>
<a name="614320"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IPete2</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> . <br><br></td></tr></table><br>
<a name="614382"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's a helluva nice building. Is it Giles lightmapped? <br><br></td></tr></table><br>
<a name="614407"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> t3K|Mac<br><br>Try to keep your camera range to the same ratio as 1-1000.<br><br>1-1000, .1-100, .05-50,.025-25,.03-30.<br><br>This will ensure compatibility with other cards.<br><br>Although it looks good on your computer, on older cards it will distort still. Onboard SIS cards seem to have a really low bit Z buffer that makes them fight really shortly after the 1-1000 range.<br><br><br>Personally I've used 1-5000, or 1-10,000 okay, just have to remember this wont look the same on all computers.<br><br><br>Just a FYI <br><br></td></tr></table><br>
<a name="614430"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >t3K|Mac</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes, lightmapping was done with giles.<br>cam range ratio as 1-1000 is a slight problem. i have the weapon very close to the camera in order to avoid clipping when my character leans and rotates. maybe i have to double render the scene for perfect z-buffer appearance. but i'll keep that in mind. btw. blitzbasicforum is a very nice place to stay ;) - i love the community here... <br><br></td></tr></table><br>
<a name="614431"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> I know the problem, thats why you reduce the NEAR value, but when you do that you need to reduce the FAR value by the same factor.<br><br>Keep playing with it. You should try to get your "near" value as high as possible though. <br><br></td></tr></table><br>
<a name="614436"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can't you simply set the EntityOrder of the weapon so that it's rendered last? I'm a bit rusty but I think doing so will remove the weapon from z-buffering completely.<br><br>[edit] scratch that. I had a brainfart. :P <br><br></td></tr></table><br>
<a name="614443"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> brainfart? wow!! :P<br><br><br>WHat you CAN do however is asd you suggested-<br><br>a Two pass render.<br><br>1) Render the main scenery without the main weapon. this can use camerarange 1,1000<br><br>2) Render the main weapon (Use cameracls mode to disable clearing of the colour buffer but enable clearing of z buffer- for this render only!), this can use camerarange .03,30 or whatever :)<br><br>This method leaves the main weapon visible and it wont vanish into the walls.<br><br>It also enables you to use a higher camerarange for the scenery.<br><br>AND it makes sure the game looks best on even older systems, although two renders might slow down on old systems. <br><br></td></tr></table><br>
<a name="614452"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >t3K|Mac</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> @big10p:<br><br>if i entityorder my weapon it looks correct. but if i shoot a bullet, the bullet starts its flightpath in the wall, cause in 3d world the weapon clips into the wall but it doesnt look like. hope you understand what i am trying to say ;-) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
