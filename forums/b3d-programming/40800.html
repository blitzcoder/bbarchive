<!DOCTYPE html><html lang="en" ><head ><title >sound volume</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >sound volume</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >sound volume</a><br><br>
<a name="458882"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >barryem</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I want to have an engine sound vary with speed and attitude, etc and I've loaded an engine sound and used loopsound and playsound and it's playing okay but soundvolume and soundpitch and channelvolume and channelpitch don't seem to have any effect.<br><br>I'm not sure if I should be using the sound or channel commands for one thing.  I wish the docs were clearer on that.<br><br>I have three global variables at the start of the program; sndEngine, chnEngine and engineVolume.  All are specifically declared as global.  I then set the value of engineVolume to 0.5.  Then, inside a function I change the value of engineVolume but that doesnt seem to take.  Since the variable is global I would assume it's still in scope inside the function.  Is that not correct?  But debuglog shows it to be 0.<br><br>I've tried every combination I can think but nothing works.  Does anyone have any ideas?<br><br>Thanks,<br>Barry <br><br></td></tr></table><br>
<a name="458883"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not sure if I entirely understood you Question.<br><br>Of course, alligning a new Value to the Variable EngineVolume does in no way automaticly alter the Volume of the engines soundchannel. Instead you need to set the Volume using the Commands "ChannelVolume" every time you want to alter the Volume etc.<br><br>Always use the PlaySound Command with a Return Value:<br><br>(example)<br><br>snd_handle=LoadSound("ding.wav")<br>LoopSound snd_handle<br>...<br>channel=PlaySound(snd_handle)<br>ChannelVolume channel, 0.5<br>ChannelPitch channel, 22050 <br><br></td></tr></table><br>
<a name="458920"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ICECAP</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, jfk is right, but to put it more simply in the game loop just put:<br><br><pre class=code>
ChannelVolume chnEngine, engineVolume
</pre><br><br>That should work then. <br><br></td></tr></table><br>
<a name="459003"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >barryem</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry if I wasn't clear.  I'm already doing what you suggest and it doesn't seem to have any effect.<br><br>I start the volume at 0.5 at the start of the program.  That seems to be working.  Then in the loop I add 0.1 to the volume variable and issue the channelvolume command again.  Or the soundvolume command.  I've tried both.  Nothing happens.  Debuglog shows me the value of that variable is 0 but the sound keeps on going.<br><br>Barry <br><br></td></tr></table><br>
<a name="459004"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Make sure your channel variables are held as globals - a simple one, but it caught me out. <br><br></td></tr></table><br>
<a name="459006"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> JFK is right.  Post some code, you're probably doing something wrong somewhere. <br><br></td></tr></table><br>
<a name="459029"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just a thought, have you declared your volume and pitch variables as floating point with '#'? (i.e. Global engvolume#=0.5)<br><br>If you haven't then the variable will be an integer and will have no effect when you alter it by fractional amounts. This will also explain why the debug shows zero values. <br><br></td></tr></table><br>
<a name="459030"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >barryem</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> The program is too large and spread out to post easily. It's basically the xfighter demo program that I used as a starting point to build on.<br><br>I'll play with it some more and if I can't get anywhere I'll post some parts of it.<br><br>Thanks,<br>Barry <br><br></td></tr></table><br>
<a name="459078"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >barryem</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; Just a thought, have you declared your volume and pitch<br>&gt; variables as floating point with '#'? (i.e. Global<br>&gt; engvolume#=0.5)<br><br>That was the problem.  As soon as I read your post I remembered reading that variables default to integer but I had forgotten.<br><br>Thanks for paying attention.  It's working fine now.<br><br>Barry <br><br></td></tr></table><br>
<a name="459092"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Your welcome :)<br><br>It's caught me out a couple of times too. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
