<!DOCTYPE html><html lang="en" ><head ><title >Pseudo-random reproducible number generator?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Pseudo-random reproducible number generator?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Pseudo-random reproducible number generator?</a><br><br>
<a name="518753"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WarpZone</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey.  I'm looking to devise a way of getting a list of numbers that looks random, but which returns the same list every time it is run.<br><br>I'm a little unsure how the rnd and rand commands work.  Do they rely upon some sort of bank of numbers that is burned into a chip somewhere on the motherboard, coupled with whatever number you seed it with?  (Usually milliseconds.)<br><br>The reason I ask is because I need a reliable way to make stuff LOOK random but not actually BE random.  One method I considered is this:<br><br><pre class=code>
SeedRnd 1 
For x=1 To 10
num=Rnd (10)
Print num
Next
</pre><br><br>When I run this on my computer, it ALWAYS produces the same 10 numbers.  BUT.  I don't just want it to do this on my computer.  I want a program that will produce the same ten numbers on EVERYONE'S computer.  <br><br>If BlitzBasic's random number generator draws non-seed variables from internal code, then this code (when compiled into an exe) should produce the exact same output on every computer it's run on.  <br><br>On the other hand, if it hashes the seed number with a list of numbers on a chip, then each computer model will work differently.  It means that some computers will return the same "random" numbers as my computer, while other brands or models of computer parts will do all kinds of different things with that "SeedRnd 1" command.<br><br>Can anyone tell me whether Blitz's random numbers are software-encoded or derived from hardware on the computer?<br><br>And would somebody please run the above code and tell me what numbers the program outputs.  On my computer, it's always:<br><br>3<br>7<br>9<br>7<br>0<br>2<br>3<br>1<br>1<br>6<br><br>If we all get the same numbers from "SeedRnd 1," then it means it'll be easy to do what I want to do.  If not... :/  Then I'll have to write my own txt file full of "random" numbers and figure out how to hash it manually.<br><br>Thanks in advance for your help! :) <br><br></td></tr></table><br>
<a name="518784"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >morduun</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Blitz's PRNG is broken for this purpose (known issue, current behavior will not be changed) and for encryption as it depends on the FPU, and float results will vary noticeably across processors.  I recommend Kanati's excellent Mersenne Twister userlib for this purpose, which can be found here:<br><br><a href="http://www.blitzcoder.com/cgi-bin/showcase/showcase_showentry.pl?id=kanati886903202005194825&amp;comments=no" target="_blank">http://www.blitzcoder.com/cgi-bin/showcase/showcase_showentry.pl?id=kanati886903202005194825&amp;comments=no</a> <br><br></td></tr></table><br>
<a name="518791"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rook Zimbabwe</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I got<br>3<br>7<br>9<br>7<br>0<br>2<br>3<br>1<br>1<br>6<br>and then 3.14152798963021 (OK I didn't get that PI thing...) but I did get your list exactly as you did. If you seedrnd 1 you will always get the list for 1... (now your test is a BIT small!) I am running an Athlon 64 3200+... it could be on a larger assignment of random numbers there might be slight variations in the stream... but only possibly at a TRULY HUGE count of variables.... <br><br></td></tr></table><br>
<a name="518797"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RGR</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you want Random INTEGERS you should at least use Rand<br>Rnd produces Floats... <br><br></td></tr></table><br>
<a name="518802"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WarpZone</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, now I've tried it on one other computer besides this one, so far, besides the feedback from Rook.  That's 3 computers that all generate the same table of numbers.<br><br>morduun, are you saying that you are definitely sure there are differences across processors, and that the results Rook and I have gotten so far are a coincidence?  (I.E. same table in the processor?)  Or are you only talking about floats with decimal places?  Would my code work as planned (E.G. same integers on all computers regardless of processor) if I replaced rnd with rand?<br><br>I will definitely take a look at that userlib.  Sounds interesting, and relevant to my project.<br><br>I'm still uncertian how this actually works, so please keep posting here, folks.  Especially if you managed to generate a different batch of numbers! :)  Thanks. <br><br></td></tr></table><br>
<a name="518806"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RGR</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> WarpZone, I tested Blitz Random on several computers - I found no errors yet - the rows where everywhere the same.<br>btw - your code produces the same numbers here... although your floating point numbers get changed to integers <br><br></td></tr></table><br>
<a name="518811"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WarpZone</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Incidently, what's up with my 5-line, no-graphics application taking up 1.23mb? :(  I was sort of expecting Blitz to compile down a little bit better than that. <br><br></td></tr></table><br>
<a name="518816"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Andy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt;morduun, are you saying that you are definitely sure there <br>&gt;are differences across processors, and that the results <br>&gt;Rook and I have gotten so far are a coincidence? <br><br>B3D's RNG is broken, in that you can't rely on the result being the same across a number of different platforms. This is old news.<br><br>&gt;Incidently, what's up with my 5-line, no-graphics <br>&gt;application taking up 1.23mb? :( I was sort of expecting <br>&gt;Blitz to compile down a little bit better than that. <br><br>B3D appends the entire B3D commandset to the exe, even if you just use a single command.<br><br>Andy <br><br></td></tr></table><br>
<a name="518856"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just create a 10K file filled with random numbers (Blitz can generate them for you).  Then just load/use those values in all of your 'random' statements.  This is the process I used for a 'predictable' casino game. <br><br></td></tr></table><br>
<a name="518922"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >morduun</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, I am definitely certain.  As Andy indicates, this is a known, beaten to death and now ancient issue that BR is aware of and has decided not to change.  Using RND/RAND makes no difference as the core PRNG is based on float values, not integers.<br><br>Again, Kanati's Mersenne DLL is excellent and I highly recommend its use for algorithmic content generation and encryption. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
