<!DOCTYPE html><html lang="en" ><head ><title >Keyboard Problem</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Keyboard Problem</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Keyboard Problem</a><br><br>
<a name="257351"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paragon</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am experiencing a keyboard problem in a program I am working on.<br><br>The program uses a data structure containing the ASCII code for a particular key as well as its associated scan code. The program uses GetKey() to determine if a key has been pressed, then stores the assoicated scan code for processing the next time through the loop. Using KeyDown() and a couple timers, I am able to provide an auto-repeat feature for the UI portion of my program.<br><br>This method works great until, once in a while, the keyboard buffer either overflows (indicated by the motherboard's speaker emitting a beep) or comes close to overflowing. When this happens, KeyDown() continually returns true for the last scancode.<br><br>I wrote the code below to verify this. You'd need to be able to type quickly enough to overflow the keyboard buffer (or come close to overflowing it) while the program is running. You could also reduce the value in the call to CreateTimer().<br><br>Once the program is "stuck" (KeyDown returns true all the time), by deactivating and then reactivating the window in which it is running will un-jamb it.<br><br><br>timer = CreateTimer( 5 )<br><br>txt$ = ""<br>Repeat<br>    Cls<br>    down = False<br>    For n = 1 To 88<br>        If KeyDown( n ) Then down = True : Exit<br>    Next<br>    If down Then<br>        txt$ = txt$ + n + " "<br>        Text 0, 0, "Down: " + txt$<br>	If Len( txt$ ) &gt; 40 Then txt$ = ""<br>    Else<br>	Text 0, 0, "Up"<br>        sc$ = ""<br>    EndIf<br>    WaitTimer timer<br>Until KeyHit( 1 )<br><br><br>I am wondering if this is a coding problem on my part, a bug in Blitz3D or possibly some other issue particular to my system. <br><br></td></tr></table><br>
<a name="257354"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sunteam Software</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> It works fine here. I'd recommend you take a look at your keyboard settings both in Windows and in your BIOS. Could be related to key repeat/delay speeds. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
