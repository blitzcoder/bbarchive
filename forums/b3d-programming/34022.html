<!DOCTYPE html><html lang="en" ><head ><title >how to  sink a ship?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >how to  sink a ship?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >how to  sink a ship?</a><br><br>
<a name="366921"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pinete</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi!,<br>I need help with the next issue.<br>Imagine that you want to sink a ship under water when<br>it is destroyed, using a simple way:<br><br>if ship = destoyed<br>   moveentity 0,-1,0<br>endif<br><br>but the problem is that the sea has a different "entityorder" (1000) being painted the first, under the rest of the entities, and the ships has (0), that's the reason because it's a issue... When I try<br>to sink the ship, this continues painting "in front" of<br>the water, and, If I change the order of the sinked ship,<br>suddenly it starts to be painted "behind" the water and<br>dissapears in one frame.<br><br>How to give the feeling of sinking??<br><br>There exist some way to alter the entityorder making that<br>two different entities could be ordered beetween them, but<br>without taking into account the rest of the entities?<br><br>Thanks in advance! <br><br></td></tr></table><br>
<a name="366925"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mac M</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you using entityorder to disable z-buffer for any reason? If you don't use entityorder or if you assign order 0 to both objects, they are rendered using z-buffer and they must appear correctly.<br><br>Also giving both objects same order index must render they correctly, if you want to use entityorder for any reason.<br><br>Regards <br><br></td></tr></table><br>
<a name="366926"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob Farley</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> My first question is why does the sea have an entity order of 1000? That sounds like your issue, fix that and the rest will fall into place.<br><br>I'm guessing you're getting z buffer issues and probably using a single plane for your sea, and that plane is probably always at the original point you placed it.<br><br>So, here's some ideas you might want to try out..<br><br>If you are using a plane, try moving it so that it's always directly under the camera, this should reduce the zbuffer problems you probably encountered as you move further away from the original point.<br><br>Reduce the amount of z-buffer you have in your scenes by reducing the camera range. <br><br></td></tr></table><br>
<a name="366932"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pinete</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for your replies, the problem is the next.<br><br>Now, the sea is making a sinus movement and I gave<br>the valour of 1000 to the sea in order to avoid possibles<br>issues with the paint of the particles (trails) of the<br>ships in the water &amp; the reflexes of the ships on the<br>water (the same model, mirrored with alpha)<br>If I don't give another valour to the order of the water,<br>then, the water in the sinus movement hide the particles &amp;<br>the reflexes of the ships.<br>I have tried to give to the ships the same order than the<br>water (1000) when its state is "destroyed", but it doensn't<br>works...<br>:_( <br><br></td></tr></table><br>
<a name="367019"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mac M</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think you will find a lot of troubles with the mirrored-model reflections method. Why don't you try cubemap reflections? There are good examples, like Rob's cubedemo. Cubemaps allow reflections deform depending on water mesh, that cannot be done by mirroring the model, where you see always the same reflection.<br>About the particles, you can make a vertical linepick to calculate where exactly the water is in that axis and put the particle just in the surface (or a little higher).<br><br>Suerte con tu proyecto, compañero. <br><br></td></tr></table><br>
<a name="367050"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pinete</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Muchas gracias Mac M!<br>Thank you very much!,<br>I have tried with cubemapping, and in this moment it is implemented, but in order to achieve a different eyecandy<br>effect beyond of the ship's reflexes. The cubemapping<br>technique doesn't works fine with "small" entities like ship<br>on an enormous ocean.. The resulting reflex is weird, however it works fine giving to the water's surface other<br>texture layer reflexing the sky..<br>About the particles, I'm doing at this way (catching with linepick the y coord), but again, some<br>of the particles, attending to the sinus movement of the<br>water, gets the y-coordinates and, depending on its life,<br>are painted in front of the ships a lot of times.<br>It would be perfect if someone could find a way to sink the<br>boat in this context. <br><br></td></tr></table><br>
<a name="367098"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Red Ocktober</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> The cubemapping <br>technique doesn't works fine with "small" entities like ship <br>on an enormous ocean..  <br></div><br><br>it sounds as if you are doing a lot of 'brute force' implementation here to get the results you desire... <br><br>that last statement especially, makes it seem as if you have a giant ocean model, and a small ship model running around on it, just to get the 'scale' of a large body of water...<br><br>perhaps it might help if you were to step back and look at the total picture, and examine exactly what effects you want, and what Blitz allows you to do... and then decide how to best implement them.<br><br>i am also involved in making a game/sim in which a sub is on the ocean... and coming up with a large scale ocean appearance took a lil bit of planning.<br><br><img src="http://home.att.net/~subbase2/OldandNew_3.jpg"><br><br>might i suggest that you do not use a large ocean model, but implement a two layer ocean, where the water that is immediately at the viewpoint is large enough to be seen from the view and moves whenever the view exceeds certain limits, so that it will always appear as if you are on an endless sea...<br><br>the second half being a flat larger simple plane that shares the ocean texture and lies right under the ocean...<br><br>this one does not have to move, and does not have to be as reflectively exact as the immediate ocean layer since it will only be seen at distances that the immediate ocean layer does not cover...<br><br>--Mike <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
