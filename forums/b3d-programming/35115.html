<!DOCTYPE html><html lang="en" ><head ><title >Blitz units?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Blitz units?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Blitz units?</a><br><br>
<a name="381227"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >martonic</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi! Many commands like "EntityRadius" etc. use so-called Blitz units, but what are they? For instance, I have a character mesh that is scaled up to fit into a scene. I would like to set pivots at her feet and head to intelligently manage collisions, but where are her feet and head?  How can I find out the height of my character in "Blitz units"? <br><br></td></tr></table><br>
<a name="381232"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Koriolis</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Keep in mind all is relative. A unit means nothing in itself.<br>But put a 20 units tall mesh in your scene, if your mesh is supposed to represent a house which is 10 meters in height, then you just have *decided* that 1 unit is 2 meters. You just have to be consistent with all your other meshes (a human character should in this case be around 3.6 units in height). <br><br></td></tr></table><br>
<a name="381243"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >martonic</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks. I put an artificial object into the scene, next to my character, and found out that she is roughly 60 units tall.<br><br>I wonder if there is any programmatic way to determine the dimensions of the smallest bounding box to a given Blitz3d entity. <br><br></td></tr></table><br>
<a name="381259"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ZombieWoof</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> MeshWidth, MeshHeight, MeshDepth <br><br></td></tr></table><br>
<a name="381295"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zethrax</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> The usual terms of reference used are 1 unit = 1 metric metre.<br><br>You also may need to factor in practicalities like default 3d sound parameters, default game texture UV coords as set by modelling programs, etc, which often use a metre as the unit value. You can change these, of course, but it makes your life simpler if you don't have to. <br><br></td></tr></table><br>
<a name="381297"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >poopla</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can I give a bit of advice, which is to keep your game in much lower scale.  If your character is 60 units tall, your going to run into floating point accuracy issues when you start moving it arround in a large arena.(At least you very well could.) <br><br></td></tr></table><br>
<a name="381298"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >poopla</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry, double post. <br><br></td></tr></table><br>
<a name="381329"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yup, IMO character that's 60 units tall is too "big". I use 1 unit = 1 meter scale and this matches exactly what my lightwave spits out when I model everything there in real-world scale, using meters. <br><br></td></tr></table><br>
<a name="382765"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Koriolis</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Can I give a bit of advice, which is to keep your game in much lower scale <br></div>Unless blitz does something very weird, I really don't see why. There is plenty of room for scaling without any precision loss, ie multiplying everything by 1000 would give you the exact same result (floats can handle numbers up to near 1e40).  When i say everything, it includes the camera range.<br>If there is really some precision loss I'd be interested to see some sample exhibiting the problem, so that I can figure what's going on.<br><br>Anyway using 1 unit per meter is really a good advice, makes everything easier to manage. <br><br></td></tr></table><br>
<a name="382804"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> If there is really some precision loss I'd be interested to see some sample exhibiting the problem, so that I can figure what's going on.  <br></div><br><br>Watch what happens with terrain collision when you get too far  away from the origin! <br><br></td></tr></table><br>
<a name="382816"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Koriolis</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe (...?), but what does too far away mean? Relatively to the terrain size (in which case the scaling doesn't matter at all), or in absolute value ?<br><br>Actually I see a very simple thing blitz might do (wrong) that would be a problem relatively to scaling: using a hard coded "epsilon" value. By example, in order to prevent floating point inaccuracy problems, to test if two values are "equal you'd do something like abs(a-b) &lt; epsilon rather than just a = b. When scaling up a lot, the epsilon would become insignificant (if hard coded) and then it would become useless, and there comes back the floating point inaccuracy issue. <br>I wonder if it's the problem. <br><br></td></tr></table><br>
<a name="382899"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have no idea what you are talking about when you say "epsilon". <br><br></td></tr></table><br>
<a name="382901"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Koriolis</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Simply a very little value constant, like 0.001. That's the common term, it comes from a long mathematics tradition (in mathematics it's actually a value we make tend to zero). <br><br></td></tr></table><br>
<a name="382909"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eBusiness</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Koriolis is right, if you scale up the world you will get less exaction, but you will need equally less exaction, so no difference. <br><br></td></tr></table><br>
<a name="382946"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> "The usual terms of reference used are 1 unit = 1 metric metre."<br><br>Usually I use 1 unit = 1 foot.  But obviously it all depends on your game; we're talking here about something set at a normal human scale like an average first-person shooter.  If you're doing a god's eye view RTS game then the scale you decide on would be different. <br><br></td></tr></table><br>
<a name="383050"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zethrax</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> You're using imperial measurement? How many number bases does that system have again? :-P <br><br></td></tr></table><br>
<a name="383058"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob Farley</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've noticed when you get to over 100,000 blitz units things start getting a touch wobbly! <br><br></td></tr></table><br>
<a name="383061"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) ENAY</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; things start getting a touch wobbly! <br><br>Like BAPS? <br><br></td></tr></table><br>
<a name="383073"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
a# = .01

For x = 1 To 83
a# = a# + .01
Next
Print a#

Repeat Until KeyDown(1)

</pre><br><br>The answer should be .84 but instead it's .83999999<br>the reason is the way computers store floating point numbers.  Just like there are some fractions that can't be represented in base 10 decimal (like 1/3 would be .333333 repeated forever) there are some fractions the computer can't handle in base 2.  The more you add, the more pronounce the inaccuracies become.<br><br>So if you move your character over a distance of 1000 units instead of 100 the inaccuracies become very noticable.  Try replacing the 83 in the for next loop with 1000.  The answer, which should be 10.01 is now 10.0101. <br><br></td></tr></table><br>
<a name="383086"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zethrax</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I've noticed when you get to over 100,000 blitz units things start getting a touch wobbly! <br></div><br><br>Yes, I've seen this with infinite planes. Get a decent distance from point zero and you can see the two tris that make up the plane moving relative to each other as you move around. <br><br></td></tr></table><br>
<a name="383373"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Koriolis</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> So if you move your character over a distance of 1000 units instead of 100 the inaccuracies become very noticable <br></div>In the case of a scale by ten, the inaccuracy would indeed be 10 times bigger (*if* it's really the case internally - the "epsilon" issue would be a contradiction to this), but everything being ten times bigger the relative inaccuracy is just the same. As long as you don't go too close to the maximum float value ( -&gt; possibilies of overflow ) everything would then be fine. <br><br></td></tr></table><br>
<a name="384203"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nik Green</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Surely you would get LESS floating point errors if you scale things up.<br><br>For example, if you use 1000 blitz units to 1 metre you can place verts and move things around to millimetre accuracy using integer values (and integer maths).<br><br>Nik. <br><br></td></tr></table><br>
<a name="384253"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zethrax</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Surely you would get LESS floating point errors if you scale things up. <br></div><br><br>Obviously not!<br><br>If you scale things up, your world scale gets less detailed, and you get precision errors.<br><br>Try it and see.<br><br>Blitz doesn't use integer maths for this, so that part of your post is pointless. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
