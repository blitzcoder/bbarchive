<!DOCTYPE html><html lang="en" ><head ><title >Entity within BOX</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Entity within BOX</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Entity within BOX</a><br><br>
<a name="830387"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> ..I saw this a while in code archives and I simply cant find it again...it was function that basically returning you true/false if entity(pivot, camera, object, whatever) is inside/outside specified box mesh...anyone have this code maybe?? <br><br></td></tr></table><br>
<a name="830396"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is it this one:<br><a href="http://blitzbasic.com/codearcs/codearcs.php?code=414" target="_blank">http://blitzbasic.com/codearcs/codearcs.php?code=414</a> <br><br></td></tr></table><br>
<a name="830398"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> ..this could be useful, but it wasnt Swift's code..I have this one downloaded already...there was another very simple example and quite fast..I need it for some kind of portal thingy im working on.. <br><br></td></tr></table><br>
<a name="830401"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just knocked this up .... any use ..<br><br><pre class=code>
Global PIVOT = CreatePivot()


Function INSIDEbox( Entity , x#, y#, z#, Sx#, Sy#, Sz# )

	PositionEntity PIVOT, x, y, z

	TFormPoint 0,0,0,Entity, PIVOT
	
	Return (  Abs( TFormedX() ) &lt; Sx And Abs( TFormedY() ) &lt; Sy And Abs( TFormedZ() ) &lt; Sz
	
End Function
</pre> <br><br></td></tr></table><br>
<a name="830408"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> ..mm..thats interesting Stevie..anyway, I found it..its something like Swifty code..boxes used as a zones for checking portals will be nice to precalculate after level mesh loading..anyway here it is..I hope someone else will find it useful..<br><br>;Inside check<br>;this will check to see if a specified 3d position is within another<br>;entity.<br><br>;This code uses the box code from Rob Cummings so he deserves some of the<br>;credit too =).<br><br>;if you use the code please give me (EdzUp) and Rob Cummings credit for<br>;the code :)<br><br>Function InsideCheck( Ent, x#, y#, z# )<br>	Local tx#, ty#, tz#			;Top Left<br>	Local tx2#, ty2#, tz2#		;Top Right<br>	Local bx#, by#, bz#			;Bottom Left<br>	Local bx2#, by2#, bz2#		;Bottom Right<br>	Local Top#, Bottom#			;absolute highest and lowest<br>	<br>	Local VX#, VY#, VZ#			;Vertex coords<br>	<br>	Local Inside=0				;this will be 0 if its not inside<br>	<br>	;We really need to check to see if the player is within the entity<br>	If Ent=0 Return 0<br>	<br>	For i=0 To CountSurfaces( Ent )-1<br>		s = GetSurface( Ent, 1 )<br>		For v=0 To CountVertices( s )-1 <br>            TFormPoint VertexX(s,v),VertexY(s,v),VertexZ(s,v),ent,0<br>		<br>			VX# = TFormedX#()<br>			VY# = TFormedY#()<br>			VZ# = TFormedZ#()<br>						<br>			;now we need to check to see if its in a better<br>			;position that any of our other vertex coords.<br>			If vy#&gt;Top# Then Top# = vy#<br>			If vy#&lt;Bottom# Then Bottom# = vy#<br>			;vx<br>			If vx#&lt;tx# Then tx#=vx#<br>			If vx#&lt;bx# Then bx#=vx#<br>			If vx#&gt;tx2# Then tx2#=vx#<br>			If vx#&gt;bx2# Then bx2#=vx#<br>						<br>			;vy<br>			If vy#&gt;ty# Then ty#=vy#<br>			If vy#&gt;ty2# Then ty2#=vy#<br>			If vy#&lt;by# Then by#=vy#<br>			If vy#&lt;by2# Then by2#=vy#<br>				<br>			;vz<br>			If vz#&lt;tz# Then tz#=vz#<br>			If vz#&lt;bz# Then bz#=vz#<br>			If vz#&gt;tz2# Then tz2#=vz#<br>			If vz#&gt;bz2# Then bz2#=vz#						<br>		Next<br>	Next<br>	<br>	;now we need to see if the point is within the entity<br>	ok=0<br>	If bx#&lt;=x# And tx#&lt;=x# Then	ok=ok+1<br>	If bx2#&gt;x# And tx2#&gt;x# Then ok=ok+1<br>	If bz#&lt;z#  And tz#&lt;z#  Then	ok=ok+1<br>	If bz2#&gt;=z# And tz2#&gt;=z Then ok=ok+1<br>	If top#&gt;=y# And bottom#&lt;y# Then	ok=ok+1<br><br>	If ok=5 Then Return 1 Else Return 0	;0 if point not inside entity<br>End Function <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
