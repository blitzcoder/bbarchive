<!DOCTYPE html><html lang="en" ><head ><title >3D math question</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >3D math question</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >3D math question</a><br><br>
<a name="626931"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Craig H. Nisbet</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey guys,<br><br>I'm making a AI coding game that has tanks you can program to fight each other.  I know it's been done before, but I don't care.  Anyway, I need to make a radar system for my tanks.  The arena that the tanks battle in is completely flat and there or only two types of objects that the radar can see, other tanks, and obsticles.  Both the obsticles and the tanks are going to be entitys in the game world.  I need to make a radar system that will let the user set the range of the radar, the scan arc in degrees.  This is only a 2D detection, does need to detect up and down.  <br><br>So what I'm thinking is I need to first determine if there are anything in range of the rader, if not leave the funtion.  If the first check passes, I need a way to figure out if the object it sees is in the radar scan arc.  This arc would be something like 90 degrees wide in front of the tank.  This is where I'm kind of lost.  I'm not sure how to get the angle of the object relative to the tank.  I'm guessing it's some kind of point tranform trick.  Anybody got any ideas?  I'm sure this is pretty easy, I'm just a dumb ass with math. <br><br></td></tr></table><br>
<a name="626942"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob Farley</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why not just attach an 'eye' pivot to the tank and do picks rotating the eye each frame so it scans. This way it works more like a radar as you won't get the full picture every time.<br><pre class=code>Rotateentity eye,0,entityyaw(tank)+(sin(counter)*viewrange),0
counter = (counter + speed) mod 360</pre>Viewrange would be 45 to give you a 90º view arc. Speed is how fast / accurate the scan is, the faster the less accurate and therefore might miss stuff as the step size will be bigger.<br><br>Then just do an <a href="/b3ddocs/command.php?name=entitypick" target="_blank">EntityPick</a> from the eye pivot. <br><br></td></tr></table><br>
<a name="626947"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have a look at the DeltaYaw command. <br><br></td></tr></table><br>
<a name="626960"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >octothorpe</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> The simple trig solution is to use Atan2(), which will give you the angle between two 2d points. <br><br></td></tr></table><br>
<a name="626972"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Concur with Big10p!   Parp .... bed!!! <br><br></td></tr></table><br>
<a name="626976"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John J.</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe this will help:<br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=1552" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=1552</a> <br><br></td></tr></table><br>
<a name="626997"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeppe Nielsen</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> This might also help:<br><a href="/codearcs.php?code=871" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=871</a> <br><br></td></tr></table><br>
<a name="627030"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
;pseudocode
TFormNormal entityx(othertank)-entityx(radar),0,entityz(othertank)-entityz(radar),0,radar
if TFormedZ()&gt;0.7071 then "object is in 90 degree arc"
</pre> <br><br></td></tr></table><br>
<a name="627051"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >octothorpe</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> P.S. I think this is a great idea for a game.  Sure, it's been done before, but in my opinion it's never been done very well.<br><br>Colobot had nice graphics and a sensible programming language, but the single-player gameplay was flawed and there was no competitive mode.<br><br>Mind Rover had nice graphics and competitive play, but the programming language(?) was freakishly weird.<br><br>CRobots had horrible graphics (ASCII) and terrible UI (command line only,) but was otherwise great.<br><br>Use a simple language with a great API, some nice graphics, maybe a single player mode, and you may have a winner on your hands.  If you want to go further, add Internet connectivity for entering robots into tournaments and downloading other people's (compiled) code so you can test your bots against theirs. <br><br></td></tr></table><br>
<a name="627993"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Craig H. Nisbet</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> actually, I'm basing the language off of FPS Creators scripting language.  It's super easy and very simple to implement without having to write an entire c style script parser.<br><br>This is currently working in my game.<br><br>You write a text file that looks like this;<br><br>:radarrange=10,radarviewangle=90<br>:enemyseen:state=1<br>:enemynotseen:state=0<br><br>:state=0:rotateright<br>:state=1:movefore<br><br>basically the commands between the first set of colons is the condition and the rest is the action.  So...<br><br>:enemyseen,state=1:rotateright,movefore<br><br>this means that if the condition "enemyseen" and "state=1" then execute anything after the second colon.<br><br>It's working perfectly so far. <br><br></td></tr></table><br>
<a name="628250"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mrjh</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't know if this will help or if I even understand what you are asking, but I always use TformPoint for my radar. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
