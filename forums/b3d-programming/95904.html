<!DOCTYPE html><html lang="en" ><head ><title >Alternative methods for server listings</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Alternative methods for server listings</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Alternative methods for server listings</a><br><br>
<a name="1107453"></a>

<a name="1107454"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RifRaf</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Right now I'm using a modified gnet listing on my website to hold server listings.. but couldn't you use other free services for listings, I'm not sure how to use IRC from code but couldn't each server create a user in this channel with the ip info stored in the name or something, then just log off irc if the server closes.. then clients could check connected servers via irc chat room ??<br><br>could that work?  if you have any other ideas please share them<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1107455"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rroff</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Your suggesting creating each server a client thats connected to a chat room? its feasible and a simple IRC client is actually quite simple to create and you can store information in the client info (other clients can right click on the name and show info on that "person") <br><br></td></tr></table><br>
<a name="1107456"></a>

<a name="1107457"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RifRaf</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Rroff, yes but I don't actually want a chat room visible or anything .. just use code to connect a game server to an IRC server and keep them alive in there with the minimal amount of communication to the irc server.<br><br> Then the game clients can (in code as well, no real chat room) connect , retrieve the connected servers (irc clients) info and disconnect from irc<br><br>that was my idea anyway, not sure how easy or hard it would be.<br><br>I would like to make this for B3D in an include where it can all be achieved in the background with just a few commands such as<br><br>IRC_CreateClient(irc_address$,my_clientinfo$)<br>IRC_KEEPALIVE()<br>IRC_DISCONNECT()<br>IRC_RETRIEVESERVERLIST(irc_address$,my_clientinfo$)<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1107458"></a>

<a name="1107459"></a>

<a name="1107460"></a>

<a name="1107462"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rroff</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah its fairly trivial to write a very simple IRC client inside your game server that does the minimal to connect to an IRC server, join a channel and idle in it.<br><br>I used the RFC and other technical links from the middle box at the bottom of this page to write a simple IRC client.<br><br><a href="http://www.mirc.com/help.html" target="_blank">http://www.mirc.com/help.html</a><br><br>Unfortunatly I coded the IRC client inside mIRC using mIRC's built in scripting capabilities just out of interest and its part of a more complicated "bot" script but I'll reproduce it here if your interested (tons of ancillary code tho).<br><br><br>Essentially you open a socket to the IRCd and send:<br><br>NICK &lt;name&gt; CRLF<br>USER &lt;name&gt; localhost localhost :&lt;clientinfo string&gt; CRLF<br><br>It will probably then fail IDENT unless you setup IDENT but most IRC servers will still let you join.<br><br>You can join a channel with JOIN &lt;channel name&gt; CRLF and exit the server with QUIT :&lt;reason&gt; CRLF<br><br>Obviously you don't send CRLF but a carriage return/line feed... from B3D may not even need to manually enforce it.<br><br>You will need to monitor for (and in some cases respond to) a small numer of IRC events tho like: PRIVMSG, PING, VERSION, FINGER and various codes for handling NICK clashes/enforced changes like 431, 432, 433 and 436 or you will get booted off the server.<br><br>You probably need to handle client mode changes as well.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1107461"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rroff</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh for the game client retrieving server list again pretty trivial - connect and join the same channel on the IRC server and then get the connected user list and walk those users pulling information off each one pertaining to the currently active servers. <br><br></td></tr></table><br>
<a name="1107463"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RifRaf</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the information Rroff, ill tinker with this later tonight. <br><br></td></tr></table><br>
<a name="1107464"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rroff</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> The RAW numeric reference here is invaluable<br><br><a href="http://www.mirc.net/raws/" target="_blank">http://www.mirc.net/raws/</a> <br><br></td></tr></table><br>
<a name="1107533"></a>

<a name="1107534"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RifRaf</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> wow, looks like some nice person already posted an IRC lib in the achives.<br>Thanks for that.<br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=2804" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=2804</a><br><br>Is there a list of dependable IRC hosts that may be better used than others for this purpose ??<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1107580"></a>

<a name="1107582"></a>

<a name="1107585"></a>

<a name="1107586"></a>

<a name="1107603"></a>

<a name="1107604"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rroff</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh nice that even covers getting the nicklist - tho you probably need to add a couple more event monitor states as well as ping for stuff like nick collisions, etc. otherwise your client will get thrown off the network relatively frequently.<br><br>AFAIK the biggest (UK) game related network is <a href="http://www.quakenet.org/" target="_blank">http://www.quakenet.org/</a> and been operating a fair few years... tho for your useage you'd probably have to get permission to use a channel in that way.<br><br>EDIT: Also his code seems to try to join a channel either immediatly after connect or after an enforced wait... afaik neither of those methods is reliable (and probably why he had problems with it) or a good way to do it, instead monitor for either a 001 RAW event (welcome to server) or better if the server is configured correctly wait for the server to either return 422 or 376 (should check for either) which marks when the server has finished sending MOTD at which point it will be ready and waiting for your commands then try to join channels.<br><br>EDIT2: Actual nicknames usually have to conform to certain character regulations and are limited in length so putting a server IP or other data into the name itself isn't going to work most likely, however this info can be packed into the client info area which has fields for things like first name, last name, email address, etc. which can be got from a simple query on that nick.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
