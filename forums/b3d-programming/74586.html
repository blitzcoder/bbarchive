<!DOCTYPE html><html lang="en" ><head ><title >Fading Fog + Skymap ?!</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Fading Fog + Skymap ?!</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Fading Fog + Skymap ?!</a><br><br>
<a name="833392"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danny</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I know others have had similar issues, but I haven't been able to find a proper solution..<br><br>  How can you smoothly fade 'fogged objects' into the background - specifically a skybox - without resorting to expensive image-processing and multi-rendering tricks?<br><br>Using a fog color that 'roughly matches' my sky background is simply not acceptible since it looks absolutely horrible (anno 2008)...<br><br>Did anyone ever find a way around this? Perhaps some external library that can accomplish this (ashadow?)??<br><br>here's a test example of what I mean - with the light area being the effect of the fog:<br><img src="http://www.xs4all.nl/~dendanny/Blitz/FogFront.jpg"><br><br>Thanks in advance,<br>:Danny <br><br></td></tr></table><br>
<a name="833399"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> The entity autofade capability perhaps, when set to a range similar to the fog one or a little shorter.<br><br>Otherwise it will not fade into the background if the Fog does not match the skybox, as it will fade into the fog and pop away <br><br></td></tr></table><br>
<a name="833409"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> The only solution that I know of and that works nicely, is a SkyPlane:<br><br><img src="http://www.melog.ch/dropper/images/galleries/v60_7.jpg"><br><br>This is a blue sky and a dark-turkis kind of fog.<br><br>The skyplane is a very large quad, and it requires some hills on the horizon because it does not bend to the ground, as a skydome or skybox. Other than that, the fog fades nicely. The texture may be tiled. <br><br></td></tr></table><br>
<a name="833418"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danny</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Problem with EntityAutofade is that you can look straight through objects whilst they're in semi-transparent state..<br><br>That looks good JFK!<br>So you've basically got the fog shading / color incorporated into the skymap texture itself to smooth the transition, is that correct? Or have you got a plane stuck in the middle of your geometry at a given distance from the camera?<br><br>How then do you deal with distant objects 'popping' into view? - which is what I'm trying to prevent al together...<br>Also, i've got mountains and such in my scene, meaning low &amp; high altitude objects possibly obscuring the skymap - as opposed to a near flat-horizon as you illustrate...!?!<br><br>D. <br><br></td></tr></table><br>
<a name="833434"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> The fog is not incorporated in the skymap texture itself. But the Skyplane is scaled up in X and Z, so it covers the entire map and fog/view range. Where the sky is closer to the player (right above him) there is less fog, at the horizon there's a max of fog since the distance is higher. It will not pop in since the whole quad is bigger than the fog range. Like other skyboxes, it is parented to the player, and the rotation is reset each frame, as usual. There is a small problem with the fact that dx7 fog is not calculated by the true distance to the camera, but by a rectangular "manhatten" distance, resulting in artefacts when the player is turning around.<br><br>Your mountains should however not be higher than the distance to the fog start.<br><br>Well, you best try it, it's done quickly. <br><br></td></tr></table><br>
<a name="833459"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leon Drake</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> i usually go for a singular color on skyzone cubes near the horizon point and set the fog color to match. <br><br></td></tr></table><br>
<a name="833491"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danny</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah! I see what you mean JFK, that's pretty sneaky!<br>Nice one... Yes I'm definitely going to play with that idea, cheers!<br><br>But yeah, i need to limit the height of the these mountains for sure, because they can seriously ruin all this - especially in the distance..<br><br>Thank,<br>Danny <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
