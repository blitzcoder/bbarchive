<!DOCTYPE html><html lang="en" ><head ><title >Self Shadows</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Self Shadows</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Self Shadows</a><br><br>
<a name="990610"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Colonel_Klink</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Has anybody experimented with self shadow casting, where a model casts shadows onto itself as well as the surrounding terrain or objects?<br><br>I can do this by baking on shadows, but in real time it looks kinda lame.<br>Any thoughts on this would be appreciated. <br><br></td></tr></table><br>
<a name="990631"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes, it is done by Mikhail FastExt library. <br><br></td></tr></table><br>
<a name="990632"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Colonel_Klink</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Tried that, cannot get it working. <br><br></td></tr></table><br>
<a name="990633"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> it does require some tweaking but its doable.. <br><br></td></tr></table><br>
<a name="990667"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you sure you can self-shadow in FastExt? I don't think you can. <br><br>You can have more than 1 shadow system working at the same time, so for example a car and trees can both cast onto the ground, and the trees can cast also onto the car, but I don't think you can have the car cast shadows onto itself. If you did that, due to the way the shadowing works, the whole object would cast a shadow, covering itself up entirely.<br><br>The only way you could do it would be to have the bits of the object that you want to cast shadows split off into seperate objects, which then cast onto the main object. For example, a TV aerial on a house roof - the aerial would have to be a seperate object to the house to enable it to cast a shadow onto the roof. <br><br></td></tr></table><br>
<a name="990678"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Colonel_Klink</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tried using FastExtend shadows by using a duplicate object for the shadows but that didn't work. <br><br></td></tr></table><br>
<a name="990684"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikhailV</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I already explained why so, I will try once again...<br>The shadow system realised in FastExt library, probably to use in <b>real projects</b> with good FPS - it is main advantage of library.<br><br>Self-shadowing is present in other libraries based on stencil buffer (Devil Shadow system, AShadow library). But it cannot be used in real projects, as FPS will be very low.<br><br>My shadow system too can be improved and create real self-shadowing, but these are +3 additional RenderWorld !<br>And then the system will be unsuitable for projects, only for small and beautiful demonstrations.<br><br>All of us are in DirectX7 frameworks and it is impossible to fall outside the limits.<br><br>It is possible to achieve high efficiency to the detriment of quality. Or it is possible to make qualitatively to the detriment of productivity. I select the first path. <br><br></td></tr></table><br>
<a name="990724"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rroff</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Devil Shadow System can do stencil self shadowing at acceptable performance on modern computers (3gig P4 or 2gig core 2, nVidia 8 series or ATI 3800 series or higher) however you will potentially run into 2 issues:<br><br>DSS seems to screw up multi texturing capabilities and some objects will not texture correctly if your using more than 1-2 extra texture layers or texture layers with certain blending effects.<br><br>Theres a potential patent overlap with IP owned by Creative Labs which could result in you being liable for royalties depending on the circumstances.<br><br>You can "hack" in some degree of self shadowing with FastExt but its not always going to work entirely properly - I highly reccomend buying it tho as theres so many enhancements it provides.<br><br><br><br>You _could_ hack up a low res dynamic lightmap system of your own that updates the shadows on the nearest character models in real time... however it could only test against the model geometry and not take into account when world geometry occludes the light source if you wanted viable real time performance... you'd also need some kinda light grid system or a fast external line pick routine. <br><br></td></tr></table><br>
<a name="990774"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Colonel_Klink</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> "My shadow system too can be improved and create real self-shadowing, but these are +3 additional RenderWorld !<br>And then the system will be unsuitable for projects, only for small and beautiful demonstrations."<br><br>Do you have an example of this?<br><br>What I cannot understand is why a shadow lod using FastExt won't work. When I reduced the alpha on the shadow lod the shadow disappeared as well. <br><br></td></tr></table><br>
<a name="990852"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikhailV</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Colonel_Klink: Latest example of self-shadowing - <a href="http://fastlibs.com/temp/ppssm2.zip" target="_blank">http://fastlibs.com/temp/ppssm2.zip</a><br>In demo used one singlesurface 3D model. But the given experiment is very difficult for using in real projects, there are many problems (no free time to describe).<br><br>p.s. At present FastExt library not contain given technology... <br><br></td></tr></table><br>
<a name="990983"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Colonel_Klink</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> MikhailV <br>Thanks for the demo. <br><br></td></tr></table><br>
<a name="991120"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rroff</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Example works nice... but I can imagine theres a lot of issues with complex, multi surface, world geometry... getting almost 400fps as well in the example on a fairly modest rig so I'd imagine it would scale well. <br><br></td></tr></table><br>
<a name="991121"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> try devilshadowsystem :) <br><br></td></tr></table><br>
<a name="991202"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >6</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there any code to go with the ppssm2 demonstration?  I'm writing a graphics tool that I'd like to include self-shadowing in. <br><br></td></tr></table><br>
<a name="991309"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikhailV</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Rez: <a href="/posts.php?topic=87416#990724" target="_blank">Read above</a><br>p.s. All peoples already long ago tried DevilShadow system... This system not support self-shadowing. <br><br></td></tr></table><br>
<a name="991388"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Colonel_Klink</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> "Is there any code to go with the ppssm2 demonstration? I'm writing a graphics tool that I'd like to include self-shadowing in."<br><br>Me too. I'm not creating a game, but a previsualization application for movie makers (e.g. machinima). So the use of self shadows is more for artistic merit than real time gameplay.<br><br>As I explained earlier, I had tried using a shadow lod model, which would probably work, IF, the shadow model was invisible. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
