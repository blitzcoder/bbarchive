<!DOCTYPE html><html lang="en" ><head ><title >Animation Issues</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Animation Issues</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Animation Issues</a><br><br>
<a name="277694"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeremy Alessi</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm begining a new project which will need to have a large number of keyframed entities animating simultaneously.  Currently, I've got about 15,000 polys, 100 animated entities which have quite a few frames of animation (100), but they aren't vertex animated or boned.  They are transform animations.  Anyway, while using CaptureWorld() the FPS is about 10 - 15 less.  This isn't the bothersome part.  As the animation runs to the end the FPS drop further and further from about 33 with CaptureWorld() or 43 without, all the way to 1 - 2 FPS.  Then when the animation begins again the FPS jump back up and it begins to slow down again.  It's funny but it really drastically slows down right before the animation loops back.<br><br>I'm guessing it's just that the code has to search 100 entities and search through 100 frames for each one which is just killing it.  What's strange though is that I've used copy entity.  Is there some way to play the animation for the original and just have the others follow.  I guess I'll have to experiment.  Any clues to how animation works and also any optimizations would be nice.  Up till now I've mainly used dynamic animations for my games (True-Vol and Aerial Antics, AA used a little standard animation).<br><br>Anyway, I'm going to need a little over 100, maybe 110 animated entities in this game and I'll need many speed tricks. <br><br></td></tr></table><br>
<a name="277695"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeremy Alessi</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Note:<br><br>When only animating the original, the copies don't follow and in addition the FPS don't drop noticebly at all. <br><br></td></tr></table><br>
<a name="278063"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sounds like the Animation Module has to parse the Keyframe List, and the higher the Keyframe Count, the longer it takes. Of course this isn't very useful. A binary Access to the current Keyframe would be required. What did you say was the File Format? B3D? 3DS?<br><br>Maybe you could "equalize" the Keyframe Searchtime using ExtractAnim. Sounds like this isn't a simple Problem...<br><br>BTW Ban - I just realised that I accidently used a Picture of True-Vol in my last Demo Release, I put your Biohazard Sign onto some VX Oildrums. Unfortunately I forgot to replace this, although a have several other Biohazard Signs here.<br><br>Hope you don't mind, feel free to use Texures from my Demo release (not the Darkmatter ones unless you own the Darkmatter CD), or tell me if you wish this to be removed.<br>It was used here:<br><a href="http://www.melog.ch/dropper/v20/v20_3.jpg?" target="_blank">http://www.melog.ch/dropper/v20/v20_3.jpg?</a> <br><br></td></tr></table><br>
<a name="278071"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeremy Alessi</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh lol, don't worry about the texture it's cool.<br><br>About the animation, yes it's in .b3d format.  I'll hopefully be using less frames for what I really need, but it was unsettling considering that I plan on using may animated entities.  Hopefully a solution will present itself.  Even with fewer keyframes it's still strange to have it slowdown near the end and suddenly get faster. <br><br></td></tr></table><br>
<a name="278094"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> THX! Yes, it really shouldn't slowdown. Personally I have never noticed this, but I only use an average 30 Frames with about 15 Models at the same time. And of course, I use Updateworld(Delta-T), so the Animation will not slow down, only the Framerate, if it is remarkable at all.<br><br>I have no Idea, maybe you really need to ask Mark directly if this is up to the way Animations are handled or if there is a possible Solution. Strange behaviour, mabye one for the Bug-Report. <br><br></td></tr></table><br>
<a name="278115"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeremy Alessi</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'll go ahead and post one then. <br><br></td></tr></table><br>
<a name="278478"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeremy Alessi</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Seems to work now, with 100 animated characters with only 30 frames of animation all running, and with my new motion blur on it :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
