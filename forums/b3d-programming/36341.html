<!DOCTYPE html><html lang="en" ><head ><title >Spot on Texture</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Spot on Texture</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Spot on Texture</a><br><br>
<a name="397629"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eric</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have a Mesh Terrain, and a Lunar Lander type ship.. As I get close to the ground it's hard to tell how far above I am are... I was thinking of a shadow system, but Most of the ones I see are a little more complicated than I need. I just want a landing spot to appear directly below the Lander. It should scale accordingly, as I get close to the ground it gets bigger. My landing Spot will probably be just an 'X' with a circle around it. Once i learn how to implement this I can get fancy. How can I apply a second texture, my landing spot at just the right location. I really hope I made sense. I'm sure it has to do with multitexturing.<br><br>Regards,<br>ERic <br><br></td></tr></table><br>
<a name="397631"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> ive done this two ways, one is to constantly have a hidden pivot, reset it to your ships location, and mvoe it directly down, Have it set to collide with the floor. You can then simply just position a "shadow" entity at that location..<br><br>However, this is outdated and i know it can be done with linepick. However, ive never used that command, so i darent explain it! <br><br></td></tr></table><br>
<a name="397662"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eric</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm actually trying to do this with textures if I can.  Thanks for the advice.<br><br>Regards,<br>Eric <br><br></td></tr></table><br>
<a name="397669"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob Farley</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> load a texture on a handle with flags set to clamp U and V (can't remember those off the top of my head).<br><br>mytex = loadtexture("Spot.png",flags)<br><br>apply the texture on the next channel to your terrain<br><br>entitytexture terrian,mytex,0,2<br><br>Then move it around with positiontexture mytex,x,y (values go from 0-1)<br><br>Also play with scaletexture mytex,x,y too.<br><br>That should get you started. <br><br></td></tr></table><br>
<a name="397672"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eric</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Rob,<br><br> My Terrain is like this... I Created a terrain with Terragen, Imported it into TrueSpace. My Mesh Terrain is 32 x 32 .I have a Texture Apply In Slot 0, Scaled .1 x .1 <br>Then I have a Texture of a Circle In Slot2 Clamped U and V it's 64,64. I had to Scale the Texture to .01 x .01.<br><br>Currently I have the Circle multitextured on top of the Terrain. My TexturePosition is 49.5 x 49.5 to Center it on the Terrain.<br><br>All Looks Good Except I can't figure out the correlation between The Mesh Size and Scale and the Texture Size and scale... along with Position. I want the texture to be at the same TRUE X and Z coords as my Lander. <br><br>Can you or someone else please help me with this.<br><br>Thanks,<br>Eric <br><br>Eric <br><br></td></tr></table><br>
<a name="397858"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eric</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can Someone please help with the above question.<br><br>Thanks,<br>Eric <br><br></td></tr></table><br>
<a name="398000"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eric</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can Anyone Help me? <br><br></td></tr></table><br>
<a name="398011"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hang around mate, il try something when i get home later. This would help me out too you see! <br><br></td></tr></table><br>
<a name="398103"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eric</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok thanks, and If I come up with something, I will post it here.<br><br>Regards,<br>Eric <br><br></td></tr></table><br>
<a name="398229"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eric</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there Anyone That Can Help With Texture Coords? <br><br></td></tr></table><br>
<a name="398235"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, normally, the texture co-ords should range between 0 and 1. But since you've scaled the texture, you will have scaled it's movement too.<br><br>You wrote<br><div class="quote"> <br>Then I have a Texture of a Circle In Slot2 Clamped U and V it's 64,64. I had to Scale the Texture to .01 x .01. <br><br>Currently I have the Circle multitextured on top of the Terrain. My TexturePosition is 49.5 x 49.5 to Center it on the Terrain.<br> <br></div><br><br>You have scaled the texture to .01 which is a 100th it's normal size. To get the texture in the middle you have set the textures position to 49.5, which is half of 100.<br><br>Since you scaled the texture down, you've scaled it's movement down by the same amount. Just remember the positiontexture is more of a percentage.if you scale the mesh up, 49.5 will still be the centre. Only scaling the actual texture will change it's positioning.<br><br>Hope that made some sense ;) <br><br></td></tr></table><br>
<a name="398238"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Once you have your shadow code working so that drawing at 0,0 is correct then you need to position it at 1,1.<br><br>I would add entity markers at both positions with the origin a different color than the corner (1,1) marker.<br><br>It should then simply be a matter of changing the multiplier to the TexturePosition to get the shadow at 1,1 at global coordinates 1,1.<br><br>PositionTexture offsetx#+multx#*globalx#,offsety#+multy#*globaly#<br><br>At a guess the multipliers will be something like 1.0/meshwidth(terrainmesh),1.0/meshheight(terrainmesh) for an unscaled terrainmesh model. <br><br></td></tr></table><br>
<a name="398254"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eric</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok Thanks for the Replies, I have been toying with formula for too many hours, sometimes when your too close to the problem it illudes you. <br><br>My Mesh Terrain is Centered at 0,0,0<br>The Terrain Mesh is 32 x 32 Then Scaled 10,5,10<br><br>My Ship Is At Entity Position 0,0,0<br><br>The Texture is 64 x 64 Scaled To .01<br><br>Looking from top down. Camera Rotated to 90,0,0<br><br>If I don't scale the Circle Mesh. It covers the entire Terrain... One big Circle. <br><br>As I scale the texture it starts to move to the upper right hand side of the terrain. <br><br>Every attempt I have made to keep the texture centered as I scale it, fails... I figure if I can maintain coords of the Actual Scaled Texture, I can create proper offsets. <br><br>The actual Scale of the Spot Texture is going to change dynamically in game. So it is important that I have something that works based on Texture Scale.<br><br>Also it's position must be directly linked to EntityX#(Ship) and EntityZ#(Ship).<br><br>Can you give me some more guidance.<br><br>What I am trying to produce is a "Landing Spot" At I get closer to the target landing area, A target Spot will appear and start to get bigger as I approach the terrain.<br><br>Thanks a million,<br>Eric <br><br></td></tr></table><br>
<a name="398406"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eric</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Please Please Please , I'm to the point of frustration now.. Can you guys lend me a hand? <br><br></td></tr></table><br>
<a name="398419"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob Farley</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Scale your spot to one extreme and position it correctly.<br><br>Scale your spot to the other extreme and position it correctly.<br><br>Now, take the difference of the scales and divide that by the position difference.<br><br>Then this will give you the mulitplier for the scale.<br><br>Apply this multiplier to the position of your spot dependant on your spot scale. <br><br></td></tr></table><br>
<a name="398459"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eric</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, Now I did this, and the Multiply ends up being -.14356<br><br>Let's say EntityY() is Fixed @ 10 Units and the X and Z Axis are free to move with the keyboard. how do I incorporate the info above to make sure that the texture is Directly below my entity. I figured this would be easy and that there was a direct correlation. But My gosh I can't believe I haven't figured this out yet.  Just another stubling block. Ya know I have always wanted to Make a lunar Lander type game since I had my first Computer the 'PET'  I did the best I could with that system... and Again on the Amiga with Amos Basic.. Now it time for the 3d incarnation of my favorite game and Something so "Simple" is driving me nuts.<br><br>Does anyone have code examples?<br><br>Regards,<br>Eric <br><br></td></tr></table><br>
<a name="398684"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, your formula for positioning your texture should be something like this:<br><br><pre class=code>
t_scale_x = 0.1
t_scale_y = 0.1

t_coord_x = 0.3 ; coords range between 0 and 1
t_coord_y = 0.7 ; coords range between 0 and 1

ScaleTexture texture , t_scale_x , t_scale_y

PositionTexture texture, t_coord_x * (1/t_scale_x) , t_coord_y * (1/t_scale_y)

</pre><br><br>That should work, as long as you adjust the variables when your going to scale the texture, and when your going to move the texture. Remember, the textures co-ords are always between 0 and 1, to keep it simple. 0 being left most and 1 being right most for x. Same for y, cept on a the Y axis.<br><br>For example, say you scaled the texture down a bit, and wanted to position it in the centre, then you would do:<br><br><pre class=code>
[code]
t_scale_x = 0.01
t_scale_y = 0.01

t_coord_x = 0.5 ; coords range between 0 and 1
t_coord_y = 0.5 ; coords range between 0 and 1

ScaleTexture texture , t_scale_x , t_scale_y

PositionTexture texture, t_coord_x * (1/t_scale_x) , t_coord_y * (1/t_scale_y)

</pre><br><br>Hope that helps some more :) <br><br></td></tr></table><br>
<a name="398843"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eric</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> It Does, Thanks, Now another thing I should think about is the Scale of my Mesh terrain. That affects the Size of the Texture. There are a lot of variables to concider here.<br><br>If my EntityX#=0 Which is Centered on the X Axis of the Terrain.. The Texture Coord should be .5. How do I fit this into the Equation. The only thing I am trying to do is make this spot follow my ship. based on True EntityX and Z coords.  The Texture Needs to follow the Lander, If the Terrain Scale changes or the Texture scale changes.. It should always remain Centered on the Lander. <br><br>Regards,<br>Eric<br><br>Ross, I am at work and can't play around with what the sample you gave me. <br><br></td></tr></table><br>
<a name="398846"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry didnt get back to you! by the time i got back here theres already much more help that i was able to find oit. i managed it with a quad but because i was able to scale everything to my liking from scratch, it isnt mutch help. The main problem being scaling of textures. hmmmm.<br><br>Just thought id post to apologise for my disapearence.... <br><br></td></tr></table><br>
<a name="398869"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eric</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> I appreciate you getting back to me... I can't believe I can't get this to work yet. <br><br></td></tr></table><br>
<a name="399034"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DJWoodgate</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> This works for a blitz terrain...<br><br>TFormPoint posx,0,posz,0,terrain<br>PositionTexture texture,-0.5+TFormedX()/uscale,(tsize/vscale-0.5)-TFormedZ()/vscale<br><br>posx and posz are the world x and z positions. tsize is the terrain grid size.  Uscale and vscale are the texture scale.  Don't ask me why you need to apply the tsize/vscale offset though because I have not worked it out yet!<br><br>I just noticed you say you are using a mesh terrain.  Well the same prinicple should apply as for a blitz terrain, with some alteration for UV's and so on.  Anyway just post a link to the terrain or a similar one if you are still having problems. <br><br></td></tr></table><br>
<a name="399049"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eric</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> I Don't have a way to post links right now... May I E-mail you what I have...And maybe you could make sense of it.<br><br>My code is very haphazard do to coding frustrations.<br><br>Your help would be greatly appreciated <br><br></td></tr></table><br>
<a name="399200"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DJWoodgate</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sure, just the terrain mesh will do and I will have a look at it this evening (GMT). <br><br></td></tr></table><br>
<a name="399233"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eric</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> David,<br><br>I sent you the Mesh Terrain, There is no texture applied. I usually scale the Mesh to 10,10,10.<br><br>Please let me know if you received it Via E-mail.<br><br>again, Thanks.<br><br>Eric <br><br></td></tr></table><br>
<a name="399485"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DJWoodgate</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, got it and after some trial and error came up with this, which should work for you provided you are not using loadermatrix() or otherwise changing the physical mesh.  Once I got the texture moving in the right direction and correctly centred, with a texture scale of 1,  I then decreased the scale to 0.5 and then 0.25 and worked out how to calculate the offsets after applying them manually.  Consequently there may well be a more elegant way of expressing this.<br><br>TFormPoint posx,0,posz,0,terrain ; also need to specify posy if your terrain is pitched or rolled.<br>PositionTexture texture,(0.5/uscale-0.5)+(-TFormedX()/(32*uscale)),(0.5/vscale-0.5)+(-TFormedZ()/(32*vscale))<br><br>terrain is your land mesh, uscale and vscale are the texture scales.  Your mesh is 32x32 in x/z extending from -16 to +16 with uvs in the range 0..1 hence the use of 32 above multiplied by texture scale which gets the tformed coords in the right ballpark. <br><br></td></tr></table><br>
<a name="399495"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eric</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> You David are a brain... Perfect!!<br>Now I am going to pick it apart and figure out how it works... It looks close to what I was doing, except, I could not change terrain Scale or it got all screwed up...Your code works no matter what my Scale is...I just have to adjust the Scale of the Spot Texture down as I increase the scale of the Terrain Mesh.<br><br>Again...Thanks a million!!<br>Eric <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
