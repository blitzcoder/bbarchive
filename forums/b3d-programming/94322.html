<!DOCTYPE html><html lang="en" ><head ><title >Image Based Collisions for 2D Platformer</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Image Based Collisions for 2D Platformer</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Image Based Collisions for 2D Platformer</a><br><br>
<a name="1081742"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ClayPigeon</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am creating a 2D platformer and I would like the collisions in the game to not be tile based, but be image based. In other words, I will have an image in which white is 'no collision' and black is 'collision'. I have a 32x32 black square image for the player's bounding box and the 640x480 image for the world collisions. I'm using the ImagesCollide() function to perform collision checking. The only problem is that I can't figure out how to do the collision response. If I simply move the player back to its previous position if there is a collision (never works :D), it sort of hovers above the ground a little. So does anyone know how to perform a collision response with an image? I know it's possible... <br><br></td></tr></table><br>
<a name="1081753"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >6</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> As far as I understand it, collision detection should be performed <i>before</i> an object is moved. So when the player hits a key to move a character you calculate the outcome of moving in that direction and if a collision doesn't occur, you then move the character. <br><br></td></tr></table><br>
<a name="1081756"></a>

<a name="1081757"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ClayPigeon</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> if a collision doesn't occur, you then move the character. <br></div><br><br>But, if the collision does occur, you need to move it as close to the collision as you can without actually invoking the collision. This is necessary because if the object is moving quickly, it would stop far before it actually ever made the collision.<br><br><div class="quote"> collision detection should be performed before an object is moved. <br></div><br><br><i>This</i>, though I have found to be true.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1081761"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> If a collision occurs, you could put it back where it was an increment it in steps of one pixel (or some kind of optimisation involving a binary chop) towards the desired position? Then when it collides again, stop moving it. <br><br></td></tr></table><br>
<a name="1081768"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ClayPigeon</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> But the problem is that when the player is on an upward slope, and the 'right' key is held, they will not go up it (I think) Instead they will walk into it as though it is a vertical wall. (once again this is a theory) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
