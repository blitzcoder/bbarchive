<!DOCTYPE html><html lang="en" ><head ><title >Lets discuss collisions!</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Lets discuss collisions!</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Lets discuss collisions!</a><br><br>
<a name="281341"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >poopla</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well this is something that is very mysterious and confusing for new people (and some of the veterans), to do get working right.    For example, in plasma, I'm having one hell of a time getting the player mesh to smootherly slide down steep hills.  ESPECIALLY in "pinch" areas.  If the player moves into a corner in any area, he seems to get stuck.   What have you guys found for solving this, and other, problems? <br><br></td></tr></table><br>
<a name="281386"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> There's still a bit of a problem with ellipse collisions AFAIK. I've never had any problems like you describe though. <br><br></td></tr></table><br>
<a name="281388"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IPete2</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Dev,<br><br>Perhaps when a character gets stuck and cannot move (no matter how much input the user gives) a flag is set.  In turn this flag temporarily increases the entityradius for the character.  I think this will enable thew character t release himself, and as sonn as movement begins again the radius should be reset along with the flag.<br><br>Just a thought.<br><br>IPete2. <br><br></td></tr></table><br>
<a name="281394"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) sinu</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Dev<br><br>to allow smooth transition down steep hills you should<br><br>a) transform the collision normals to player space.<br><br>This means that all collisions in front and behind of the player resulting in a collisionNZ value, this will allow you to tell if the player is moving up a slope or down one.<br>a positive value means a front collision etc.<br><br>b) then modify the moverate by the collisionNY value based upon wether the character is going up the slope or down(the NZ value). <br><br></td></tr></table><br>
<a name="281410"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've run into the "corner" problem as well.  I have gravity being applied to my character every frame and I recently added the ability to jump, by applying an upward force to him that degrades over a half second or so.<br><br>Anyway ... if I just against a single wall, it's fine.  He goes up and forward until he hits the wall and then he slides down.  But if I jump into a corner so that I hit 2 walls at once, he sticks in place (in mid air) and when the jump timing is over he suddenly snaps to the floor and all is normal again.<br><br>It's the weirdest thing... <br><br></td></tr></table><br>
<a name="281487"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) sinu</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> strange problem, haven't seen it yet, gonna try a level with corners now and see how it goes. <br><br></td></tr></table><br>
<a name="281495"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) sinu</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> crap, this is weird, i've just tried this and if i collide with a wall while jumping with a +z value i also get stuck or slowly slide jerkily down the wall. funny thing is it only happens every so oftne ie 1 out of 5 attempts and is usually near a corner! <br><br></td></tr></table><br>
<a name="281498"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> * use countcollisions to count the number of collisions<br>* loop through each collision and add the normals returned to<br>nx, ny and nz<br>* finally divide each by the number of collisions occured so you have the averaged normals<br><br>Then when you get stuck, simply push by the average (aligntovector nx,ny,nz will point out by the normal if you're wondering). <br><br></td></tr></table><br>
<a name="281501"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Genexi2</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt;&gt; In turn this flag temporarily increases the entityradius for the character.<br><br>From what I've experianced, if an object is colliding and you increase that object's radius, the radius will go through the object it was colliding with, thus screwing everything up.... <br><br></td></tr></table><br>
<a name="281504"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wmaass</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Believe it or not, games as good as Battlefield 1942 have similar problems, especially where steep terrain meets sunken bunkers. You can get stuck in these spots and your only choice is to sit on a grenade. <br><br></td></tr></table><br>
<a name="281527"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) sinu</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> edit: :) <br><br></td></tr></table><br>
<a name="281544"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) sinu</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> EDIT: setting the players move speed to 0 on collision with the wall while jumping fixes the problem perfectly for corner collisions. <br><br></td></tr></table><br>
<a name="281620"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DH</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Believe it or not, games as good as Battlefield 1942 have similar problems, especially where steep terrain meets sunken bunkers. You can get stuck in these spots and your only choice is to sit on a grenade. <br> <br></div><br><br>As good as??? what world are you living in?  BF1942 isnt a well designed game, its pure crap in code.  The only reason you hear about it is because it is popular, and backed by EA Games...  If it weren't the only game to allow you to drive a plethura of veichles, it would be as faceless as every other FPS out there.. <br><br>The physics are crap, the collisions are crap, the gameplay is crap, the "crash to desktop" is crap, the "Take all the memory you have free, and dont release it when wer're done" is crap.. it was a rushed project, and if it were't for the above named things, it wouldn't be worht 2 cents. <br><br></td></tr></table><br>
<a name="281685"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wish I could have a badly designed game, filled with crap code and no gameplay like BF1942.<br><br>Seriously, pass whatever you're smoking over here ... <br><br></td></tr></table><br>
<a name="281762"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LostCargo</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does anyone know how to overcome the collision issue where you have two sphere type collisions that when they bumptogeather at the wrong angle, they enter each other? <br><br></td></tr></table><br>
<a name="281854"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Would like to pass along thanks to everyone in this thread BTW.  Negating foward player movement when I detect I'm jumping into a corner is starting to solve the problem for me (needs a little refinement, but the concept is sound).<br><br>Aces! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
