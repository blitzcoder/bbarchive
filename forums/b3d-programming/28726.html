<!DOCTYPE html><html lang="en" ><head ><title >Delta timing - What to Change and What to Leave?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Delta timing - What to Change and What to Leave?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Delta timing - What to Change and What to Leave?</a><br><br>
<a name="302677"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm having a mental block when it comes to adding Frame Limiting to my game. I'm using Delta Timing, and I'm having a problem remembering which things should be affected by my frame limitting and which shouldn't.<br><br>What I have at the moment : <br><br>* Movement IS affected ( multiplied ) by Speed Factor.<br><br>* Animation Speed IS affected ( multiplied ) by Speed Factor.<br><br>*  Velocity IS NOT affected by speed factor. ( I'm affecting movement, so I'd be doing it twice if I affected velocity )<br><br>* Lifespan ( for Particles ) IS affected ( divided ) by Speed Factor.  ( To ensure that the effects look exactly the same. )<br><br><br>I've been working so many hours, I'm looking at this now and I have no idea if this is close or way off or right or wrong or anything. <br><br></td></tr></table><br>
<a name="302685"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah that looks just about right, Sybixsus. I know a lot of folks will say different, but I think render tweening is better. I'm making a golf game and there's no way to get consistency with deltatime for stuff like this as far as I can see. Also, it's nicer to be able to forget about all the dt stuff...... <br><br></td></tr></table><br>
<a name="302686"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks. It was starting to look wrong, and since I only have a very fast dev machine to test on, I can't really get it to slow down and see how it's working.<br><br>I have used delta time before, albeit with a slightly simpler game, but I've always found it worked well for me, and unfortunately, render tweening is always ever-so-slightly jerky for me.<br><br>It is going to be quite a lot of work now implementing delta time, so I will take this opportunity to give it another go. Maybe I've learned something since last time that will enable me to avoid that little bit of jerkiness. I know it's my fault because SkidRacer's Skid Marks demo ( which I'm sure was using render tweening ) was sooooooo smooth even on my old machine at high res.<br><br>Thanks again for the confirmation, and for persuading me to give render tweening one more go. <br><br></td></tr></table><br>
<a name="302719"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ice9</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Anything where time is a factor <br><br></td></tr></table><br>
<a name="302737"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well time is a factor in velocity too, but I can only affect either movement or velocity or I'll be doubling the effect of the limit, no? <br><br></td></tr></table><br>
<a name="302872"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah I think you are right, Sybixsus.<br><br>My recommendation to you is to take a look at Si's demo that comes with B3D (little 'it's a me, Mario' type bloke running around a castle). That has render tweening, so just rip that apart. No idea why it hasn't worked smoothly for u previously.<br><br>Testing schemes: Assuming everything is synched to the monitor, you can test your current stuff by changing monitor refresh rate.<br><br>Delta time works fine for a lot of things, and I must admit I never tried any of the 'smoothed' delta time stuff people have spoke of, but I found it a bit jerky.<br><br>The one drawback I know of to be aware of with render tweening is that if you want an object to 'teleport' i.e: you place it instantly at a new position far away, the tweens will be unwelcome, tho perhaps you can hide it?<br><br>Why the hell can't PC's come with standardised monitor refresh rates? <br><br></td></tr></table><br>
<a name="302883"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Odds On</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> the thing I don't like about render tweening is that the game logic sometimes has to be skipped to keep it at a constant frame rate. (If it renders at 600fps and the game logic runs at 60fps then the "game logic loop" will be missed out every 10 render loops, which could result in a small delay between a key press and its action, and possibly even miss the key press completely - KeyDown() in particular) but don't quote me on that. <br><br></td></tr></table><br>
<a name="302888"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Chris- the game logic is never missed- it can't be missed because it runs every loop with no conditional jump. In the vast majority of cases 25fps game logic is more than enough and the worst that can happen is you don't get a frame rendered for every logic loop. If your machine can't handle 25fps logic, say (gfx aside), then the game will begin to slow down (i.e: objects move slower, not just jerkiness), but gfx rendering is more likely to be the bottleneck. Like I say, try the demo that comes with B3D and see how it runs on yours. <br><br></td></tr></table><br>
<a name="302920"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Odds On</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> RAM, thats not how it works... the "conditional jump" in render tweening is the For..Next loop itself. The game logic loop looks like this:<br><br>For k = 1 to Ticks<br>    ;game logic here<br>Next<br><br>When Ticks is less than 1 then it skips the game logic and just renders the scene. <br><br></td></tr></table><br>
<a name="302933"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep sorry I see what you're getting at now Chris. Let's see who can punch a key for less than 1/25th of a second! <br><br></td></tr></table><br>
<a name="302941"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well I've implemented render tweening in my game now, in place of delta timing, and there are a few visual artifacts occasionally, so I must have some "teleporting" issues to take care of that I hadn't noticed. They shouldn't be too much trouble.<br><br>It seems pretty smooth at the moment. Not as smooth as with no timing at all ( well it wouldn't be, would it? ) but it's as smooth as delta timing and was very simple to implement. So I'm pretty happy with it for this game. The lack of a logic update isn't going to present any problem in my game, as I hardly ever use keydown() and when I do, it's just going to be ever so slightly slower at a point that no one would care about.<br><br>So thanks for the tip, RAM, I think you just saved me a lot of time adding delta timing to all my code. <br><br></td></tr></table><br>
<a name="302949"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Odds On</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could always remove the tweening part of the code. Just let it render as fast as it can and limit the game logic to the specified fps. That should get rid of the visual artifacts and "teleporting" issues.<br><br>Just comment out the CaptureWorld stuff and remove the tween parameter from the RenderWorld command. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
