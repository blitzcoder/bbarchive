<!DOCTYPE html><html lang="en" ><head ><title >Maximum collision objects?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Maximum collision objects?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Maximum collision objects?</a><br><br>
<a name="593420"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Boiled Sweets</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>just wondering if there is a maximum number of objects you can setup collision detection with and when I might hit a problem...<br><br>Currently my player object tests for collisions with about 120 game objects with no problems so far... <br><br></td></tr></table><br>
<a name="593423"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> My current project involves a lot of objects testing for collisions (specifically, bullets.)  There is a slowdown associated with those objects colliding with stuff, but the slowdown is due to the explosions generated on impact and not the collision detection itself. <br><br></td></tr></table><br>
<a name="593431"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Boiled Sweets</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> In fact the EntityType range is 0-999 so the maximum number of collision objects is 1000.  <br><br>How many do people have?<br><br>It's looking like having 120-200 or so is not gonna cause a problem I suppose. <br><br></td></tr></table><br>
<a name="593435"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >octothorpe</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Entities with the same EntityType can be set up to collide with each other, so 1000 isn't the "maximum number of objects you can setup collision detection with."<br><br>I suspect if you're using up to 200 EntityTypes, you're not using them correctly.  Why do you need 200? <br><br></td></tr></table><br>
<a name="593442"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Boiled Sweets</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> for example I have 16 gas masks that could be placed anywhere within the world.  I need to test for a player actually finding one so I have 16 collisions setup between the player and each of the 16 gas masks.<br><br>Then I have gas clouds, teleports, teleport triggers, doors, keys, timebombs, unstable blocks etc... <br><br></td></tr></table><br>
<a name="593468"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jams</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Each of the gas masks can share the same collision group matey :) <br><br></td></tr></table><br>
<a name="593469"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is indeed not necessary boiled sweets. You just assign a number for all the gas masks, for example:<br><br>- Type = 5 -&gt; Gas Masks<br>- Type = 6 -&gt; Doors<br><br>Then, when colliding with type gas mask, just get the entitycollided... <br><br></td></tr></table><br>
<a name="593473"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Boiled Sweets</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> But each gas mask has different properties.  For example gas mask 1 works for 2 seconds and gas mask 2 works for 10 seconds.  If I just test for a collision then I will know its a gas mask but which one?  <br><br>So I assign a different EntityType for each gas mask so then I can go thru a loop and compare the EntityType to the Entity and work out which specific gas mask I have.<br><br>How would I do it other wise? <br><br></td></tr></table><br>
<a name="593486"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why don't you simply do a distance check? Loop through ever gas mask, and use entitydistance to check the distance. If it's within a certain distance, your touching it :o) EntityDistance is lightning quick too :o) <br><br></td></tr></table><br>
<a name="593490"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Presumably your gas mask 'object' is a type? If so, you can store the handle of that specific type instance as the associated mesh's name.<br><pre class=code>
NameEntity mesh,Handle(this.gas_maskT)
</pre><br><br>then, when a collision occurs and you have the gas mask entity involved:<br><br><pre class=code>
this.gas_maskT = Object.gas_maskT(EntityName(collided_entity))
</pre><br><br>This is an old trick that uses the undocumented Handle and Object commands. It saves having to iterate through all your gas mask types in order to find the one with the collided mesh. However, if your game has relatively few gas masks, you can always use that method without much of a speed hit, I suppose. <br><br></td></tr></table><br>
<a name="593507"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >octothorpe</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> But each gas mask has different properties. <br></div><br><br>Ahh, you're storing information in the EntityType of entities.  EntityName is another place to store information, and won't mess with the collision system.  You could simply store the same number you're using to identify objects in your entities' EntityNames instead.  Or use it as a Handle(), like big10p explained.<br><br>I always thought EntityType was a poor choice of names for that field.  EntityCollisionType would be better.<br><br>Chances are that you don't need more than a bare minimum of EntityTypes:<br><br>1 = level<br>2 = powerups<br>3 = enemies<br>4 = player<br>5 = player bullets<br><br>Collisions: 1+3, 1+4, 1+5, 2+4, 3+4, 3+5 <br><br></td></tr></table><br>
<a name="593534"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> You have hundred of possibilities of storing additional values within an entity.<br><br>Just a few:<br><br>1 - Use Types<br>2 - Use Dims<br>3 - Use Vectors<br>4 - Use EntityName (above commented)<br>5 - Use colors<br>Etc...<br><br>:) <br><br></td></tr></table><br>
<a name="593543"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would strongly advise, if your using sphere to sphere collisions, using the entitydistance method. Far quicker then using the collision system. <br><br></td></tr></table><br>
<a name="593552"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ross C is Right. If you don't need the slide collision, use entitydistance! <br><br></td></tr></table><br>
<a name="593698"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> I double that, using collision for this kind of task is a waste of cpu time.<br><br>Personally I would use EntityName and name them with something that contains an index (eg. "gasmask_123"), so I could access an Array or Bank region with all the needed information about the object. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
