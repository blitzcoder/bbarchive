<!DOCTYPE html><html lang="en" ><head ><title >More (Specific) Help With Online-Ness</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >More (Specific) Help With Online-Ness</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >More (Specific) Help With Online-Ness</a><br><br>
<a name="636963"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >alloidgames</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I can't figure out why this isn't working, mostly because I'm so new at online programming. I've got:<br><br><pre class=code>
Graphics 800,600,32,2
Print "Connecting..."
tcp=OpenTCPStream( "www.alloidgames.com",80 )

If Not tcp Print "Failed.":WaitKey:End

Print "Connected! Sending request..."

WriteLine tcp,Chr$(10)

If Eof(tcp) Print "Failed.":WaitKey:End

Print "Request sent! Waiting for reply..."

While Not Eof(tcp)
Print ReadLine$( tcp )
Wend

Print "Connected!"

While Not KeyHit(1)
	If KeyHit(6) Then
		AcceptTCPStream(tcp)
		alk$ = Input("")
		WriteLine(tcp,alk)
		Print ReadLine(tcp)	
	End If
Wend

CloseTCPStream tcp

WaitKey
End
</pre><br><br>It's supposed to, if you press 5, get input, and then print it back, but the printing part isn't working! What am I missing!? <br><br></td></tr></table><br>
<a name="637001"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Haven't messed with the networking stuff myself, but just quickly looking at your code, are you allowing the other side enough time to reply?  I kind of doubt (but don't know for sure) that ReadLine actually waits for data to be present before it reads it. <br><br></td></tr></table><br>
<a name="637106"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DJWoodgate</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think you need to formulate a valid http request.  Check out the sample code for ReadAvail().  Not too sure how it works now tbh but I guess the server is not going to waste time replying to any old rubbish :). <br><br></td></tr></table><br>
<a name="637413"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >alloidgames</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I added a ReadAvail()and apparently there are 0 availible bytes....also when I tried running the demo it failed. I don't think I understand this online thing at all... <br><br></td></tr></table><br>
<a name="637572"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DJWoodgate</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just use the readavail sample code and replace both the references to blitbasement.com with your own site name. Do not change anything else.  <br><br>It works here.  Now read this and look at some of the code on the code archives.<br><a href="http://www.comptechdoc.org/independent/web/http/reference/" target="_blank">http://www.comptechdoc.org/independent/web/http/reference/</a> <br><br></td></tr></table><br>
<a name="637902"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >alloidgames</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looking at the website now, but whenever I run the demo for ReadAvail, I get an error (and 0 avail bytes). When I sub in my stuff, it prints out a bunch of text which looks suspiciously like the html for the website I'm putting in, and every other line it prints out the avail bytes, but at the end, it shows 0 avail.<br><br>Sorry I'm so n00bish at this, and your help is REALLY appreciated. If I can ever get a good game made thanks to this, I won't forget who helped me get my feet set! <br><br></td></tr></table><br>
<a name="637924"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DJWoodgate</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> That is because blitzbasement.com has long since ceased to exist, so really that sample code should be updated. Anyway what you see when you put your site in is indeed the Html for your site.  That is primarily what you will get on port 80 since that port number is reserved for serving html.  Other ports may support different protocols or be unassigned. For instance this code archive entry <a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=16" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=16</a> uses port 21 since that port is reserved for use by FTP (File transfer protocol).  There is a list of commonly used ports here <a href="http://www.iana.org/assignments/port-numbers" target="_blank">http://www.iana.org/assignments/port-numbers</a><br><br>Anyway the readavail() function shows how much data is available on a stream.  As your program is likely much faster than your internet connection you can check readavail to see if more data is available and if not get on with something else.<br><br>If you do not have a dedicated server then you are likely to be limited as to what you can actually do with it and what sofware you can run on it.  I am very vague on this and others will be able to advise you better. <br><br>You can of course use your existing PC and internet connection to provide any sort of service you like, including an in game service, provided you configure your firewall accordingly to open up the required port. The same can be said for any user of your game, they may act as a server or client. Typically the server would advertise the presence of the game online in some sort of lobby.  Like the Gnet one hosted on this site: <a href="http://www.blitzbasic.com/gnet/gnet_servers.php" target="_blank">http://www.blitzbasic.com/gnet/gnet_servers.php</a> using this code <a href="http://www.blitzbasic.com/toolbox/toolbox.php?tool=61" target="_blank">http://www.blitzbasic.com/toolbox/toolbox.php?tool=61</a> Never used it myself, but I am sure someone will be able to fill you in on the details of its use.<br><br>So, what is it that you want to achieve? (Or as Microsoft might put it, "Where do you want to go today?") <br><br></td></tr></table><br>
<a name="637960"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >alloidgames</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well the long term is to have a game, that without going into details, is one-on-one turn based, with live rankings.<br><br>Short term, just to get the hang of online programming, I'd like to make just a simple chat engine that me and my friend (about 200 miles north of me) can use to talk to each other. <br><br></td></tr></table><br>
<a name="637962"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> alloid, if you get something going regarding your chat engine, I would like to see your blitz code later if you don't mind sharing it, since I too will be embarking on a quest to make an online game/game server. <br><br></td></tr></table><br>
<a name="637965"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >alloidgames</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sure thing! But you're probably better off finding help from someone who knows what they're doing...<br><br>Also, DJ, don't I need availible bytes to write a line? So how do I get space? And what port would be needed for the basic chat engine? <br><br></td></tr></table><br>
<a name="637970"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would presume using one that no one else is using would be a good choice?  If you have a firewall though, you will have to explicitly let that port traffic go through.<br><br>It looks like Internet Relay Chat uses port 194...<br>PrivateChat is 1735?<br>Very simple chatroom prot is 3073 <br><br></td></tr></table><br>
<a name="638154"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >alloidgames</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hrm, well, I'm sure this'll annoy you guys even more, but I only know a tiny bit about ALL online-related-programming-needed things, including port forwarding and firewalls <br><br></td></tr></table><br>
<a name="638193"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DJWoodgate</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> There is an example of a chat program on the archives.<br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=28" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=28</a><br>Have not tried it myself, but let us know if you have any problems. <br><br></td></tr></table><br>
<a name="638269"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >alloidgames</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah that looks really good! Thanks! <br><br></td></tr></table><br>
<a name="638315"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >alloidgames</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> This has been INCREDIBLY educational so far, but what do I need to do so that I can run it off/through (not sure what the correct wording is) my server (alloidgames.com). I tried switching the CreateServer to OpenServer in the server code, and pointing the OpenServer on the client code to the same place. However, if I try on port 40000, they don't start up, and if I try it on something like 80, it starts up but doesn't work (and I get to see that lovely html again &gt;_&lt;) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
