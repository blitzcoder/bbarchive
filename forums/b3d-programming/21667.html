<!DOCTYPE html><html lang="en" ><head ><title >An important optimization?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >An important optimization?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >An important optimization?</a><br><br>
<a name="221851"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://www.extremetech.com/article2/0,3973,1086862,00.asp" target="_blank">http://www.extremetech.com/article2/0,3973,1086862,00.asp</a><br><br>I was just reading that...  And it SEEMS that it indicates that the FASTEST way to render a scene where some polygons are occluded is to draw the potentially occluded polygons LAST.  Ie, front to back rendering, rather than back to front!<br><br>Anyone know if this is true or not?  I suppose it's easy to test.  Unfortunately in Blitz there's no way yet to use entityorder and render objects with zbuffering.  I will pass this info along to Mark. <br><br></td></tr></table><br>
<a name="221853"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Did a test, and Blitz sorts entities back to front, drawing the most distant entities first.  <br><br>Which is exactly the opposite of what this articel seems to indicate will be fastest! <br><br></td></tr></table><br>
<a name="221854"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ice9</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think that's how S3 use to do it. They were tops in 3d at a point before voodoo came out. They also had a lot of problems with compatibility issues and games on different cards. I think it's up to the driver and up to directx on the render order and you would end up having to write hardware specific code the way it was in the old days. <br><br></td></tr></table><br>
<a name="221860"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> It makes sense to me that the optimal would be to draw the nearest triangles first. <br><br></td></tr></table><br>
<a name="221862"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, it does kind of make sense...<br><br>But it also makes sense to think there wouldn't be a speed hit at all.  You'd think they would draw the scene to the zbuffer, and then using that actually calcualte texture and lighting stuff for only those pixels that are visible for each polygon.<br><br>But I guess this allows them to throw out whole polygons so they don't even have to write them to the zbuffer, which would save a lot cause writing to the zbuffer is almost as memory bandwidth intensive as writing pixels.  There's less work involved, but memory is slow. <br><br></td></tr></table><br>
<a name="221881"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just did a test and I'm not sure how much effect this has on speed anymore.<br><br>I rendered in the hgihest resolution I could, and if I draw the skybox tiny so it covered the whole rest of the scene instead of of being behind it, then the framerate only went up by 4fps, from 62 to 66.  That's a pretty small change, and could be attributed to any number of things because this test isn't exactly the same thing.  But it's close enough to tell if it would result in a speed increase.  <br><br>4fps though... Not much of an increase.  Of course my scene is a terrain where only 50% of the screen is covered by the terrain normally.  I suppose 8fps is a pretty good increase.  But to get that you'd have to be rendering indoor enviroments with small areas of sky visible, and/or rendering terrain with lots of trees covering the sky much of the time. <br><br></td></tr></table><br>
<a name="221933"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Koriolis</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I remember Carmack talking of this. <br>That was not due to the card being clever enough to throw out whole polygons very early. This technique exists, but requires a hierarchical z-buffer, a bit like a mip map. It's been a while since I didn't check very deep the sepecifications of newest cards, but I'd be surprised they include such a buffer (amybe another technique, don't know). And above all I'm sure they didn't at the time Carmack talked of this.<br>At that time the speed up was more due to fill rate considerations: if you draw front faces first then the next triangles will much more often fail the z-depth test (which means less pixels that need to be written in the frame buffer) than when drawing back to front. <br><br></td></tr></table><br>
<a name="221964"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't know if it's a heirarchial zbuffer or not, but new cards cheat to clear the zbuffer faster. :-)  They divide the zbuffer into 8x8 regions, and set each region to "dirty" when they clear the screen, then they pay attention to which regions become cleared as stuff is drawn or something.  This saves them tons of bandwidth cause they don't have to set every single z value to 0 every time you clear the screen. <br><br></td></tr></table><br>
<a name="222006"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Koriolis</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> That seems clever. <br>But it's not related to the speed up of drawing front to back. Or have I missed something? <br><br></td></tr></table><br>
<a name="222093"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Probably not. <br><br></td></tr></table><br>
<a name="222321"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neochrome</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I did hear that Mark was working on something like that a while back.. In one of his updates <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
