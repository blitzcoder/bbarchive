<!DOCTYPE html><html lang="en" ><head ><title >Lightmaps - on, off and flickering</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Lightmaps - on, off and flickering</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Lightmaps - on, off and flickering</a><br><br>
<a name="258502"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Caff</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm building 3d worlds using a mixture of packages. I'm using pre-rendered lightmaps. However, I'd also like some way of creating a 'flickering' effect on the walls. Also for turning lights on / off by a lightswitch. As the lightmap is applied with fullbright, how could I go about doing this? Would I need two or more lightmaps and then apply as necessary?<br><br>Obviously as lightmaps aren't small things, I've thought as I write this the best way would be to have seperate meshes for the parts of the map where the lightining needs to be modified independantly of the rest of the level. <br><br></td></tr></table><br>
<a name="258506"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I've thought as I write this the best way would be to have seperate meshes for the parts of the map where the lightining needs to be modified independantly of the rest of the level. <br></div><br><br>I'm going to use this method... it's easier to switch geometry chunks (with mapped maps) than fiddle with lightmaps themselves IMO. There is slight geometry overhead / duplication of course with this method, but it is not that bad, I think. <br><br></td></tr></table><br>
<a name="258533"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Lightmaps are normally 1024x1024 maximum size, so surely if you preloaded a series of them, there wouldn't be a big delay switching between them? <br><br></td></tr></table><br>
<a name="258593"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, you would use one main lightmap for all lights which always stay on, and one lightmap for each dynamic light.<br><br>Then you would blend the dynamic lights with the main lightmap by either applying the dynamic map to the second texture channel with the texture set to add blend, or by making copies of only those polygons which are affected by the dynamic light, and texturing those with a multiply blend texture, but setting the copied entity itself to add blend.<br><br>If you're going to have a dynamic light, then there's a ton of effects you can do at little or no additional cost.<br><br>Render the lightmap as if the light were white, and you can change the entity color to dynamically set the color of the light.  Adjust the brightness of said color, and you can make the light flicker.<br><br>Create a second set of UV coordinates for all the geopmetry using a spherical projection from the light, and you can apply a multiply texture as the second texture, setting it to use this second set of UV coordinates, and you can then make your light cast diffrent colors in different directions, or make the light into a spotlight which you can change the angle of...  You could make a police light which is red one one side, and blue on the other and make it rotate.  Or you could make a disco ball effect with little points of light and spin it around the horizontal axis.  <br><br>You do this by using the texture position command to change it's U location.  You don't want to change the V location though because of how spherical mapping works.  It won't look right.  But if you change how you apply the sphericla map you can make it so you can move vertically but not horizontally. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
