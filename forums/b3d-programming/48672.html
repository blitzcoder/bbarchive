<!DOCTYPE html><html lang="en" ><head ><title >Lightmapping question</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Lightmapping question</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Lightmapping question</a><br><br>
<a name="541316"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I hope someone can save me the time of converting my B3D's to X etc just to find out....<br><br>- but is lightmapping only supported through the B3D format?<br>(By that I mean the usual MyModel.B3D + MyModel_lm.bmp situation.)<br><br>In other words if I have MyModel.3DS + MyModel_lm.bmp will this still work, or does Blitz only go looking for a lightmap if the model is in B3D format?? <br><br></td></tr></table><br>
<a name="541388"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> lightmap is just a texture (using spesific blend mode) and can be applied to any model (format) that supports at least two UV sets (and the UV set meant for lightmapping purposes has to match the actual lightmap texture of course). B3D format doesn't have any automatic lightmap loading itself. 3DS doesn't support more than set of UVs and is crap in every other imaginable way too. Do NOT use .3DS format if you can use .B3D. <br><br></td></tr></table><br>
<a name="541408"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, Mustang.<br><br>But I think to say "B3D format doesn't have any automatic lightmap loading itself." is incorrect.<br><br>If I load MyModel.b3d, and MyModel_lm.bmp exists, then the lightmap will automatically be loaded and implemented by Blitz.<br><br>I just called my mate Ipete2, and he confirmed that Blitz will do this for b3d models, but if the model is a .x or .3ds then the lightmap texture must be loaded separately and implemented as layer 1. <br><br></td></tr></table><br>
<a name="541446"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>If I load MyModel.b3d, and MyModel_lm.bmp exists, then the lightmap will automatically be loaded and implemented by Blitz.<br> <br></div><br><br>Really? If so, that is new to me. <br><br></td></tr></table><br>
<a name="541451"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdrianT</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> John are you the artist? or coder. It's always possible that an engine was coded to load a texture with the _lm flag. However i'm pretty sure this isn't normal. <br><br>Like mustang said, the normal way is to assign a second texture layer on UV2 with fullbright and or 2xmultiply blendmode on. Normaly you would want to give your artists as much flexibility as possible, but a lot of shareware tools don't support multiple UV's. In which case adding the _lm nametag in code makes sense. <br><br></td></tr></table><br>
<a name="541470"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm acting really thick these days aren't I?<br>Anyone who's been reading my threads must think I'm losing it. -Overworked and underpaid.<br><br>OK. You're right.<br>I imported the model (Church.x) into Quill, lightmapped it and saved is as a Church.b3d.<br>Quill also exported Church_lm.bmp, and of course the reference to this file is built into the exported Church.b3d.<br><br>So, one the one hand there was no more coding for me to do than just LoadMesh(), but on the other hand Blitz _does_ automatically load the lightmap. <br><br></td></tr></table><br>
<a name="541627"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> ..appart from B3D, it is possible to use 3DS or X files with lightmaps...of course it will not happen just with loading of the mesh, such as case with B3D, but its possible..<br><br><br>Function MapVertices(textured_model,model_textured_with lightmap,lightmap_texture)<br><br>for n=1 to countsurfaces(textured_model)<br>surf=GetSurface(textured_model,n)<br>next<br>For n=1 To CountSurfaces(textured_model)<br>	<br>	surf=GetSurface(textured_model,n)<br>	lsurf=GetSurface(model_textured_with_lightmap,n)<br>	For v=0 To CountVertices(surf)-1<br>		<br>		tu#=VertexU#(lsurf,v)<br>		tv#=VertexV#(lsurf,v)<br>		tw#=VertexW#(lsurf,v)<br>		VertexTexCoords surf,v,tu,tv,tw,1<br>	Next<br><br><br><br><br>TextureCoords lightmap_texture,1<br>EntityTexture textured_model,lightmap_texture,0,1<br><br>For e=1 To CountChildren(textured_model)<br>limb=GetChild(textured_model,e)<br>limb2=GetChild(model_textured_with_lightmap,e)<br>MapVertices(limb,limb2,lightmap_texture)<br>Next<br><br>End Function<br><br><br><br><br>so, you have to load 2 meshes, one fully textured and then one textured just with lightmap, but geometry must be same..after calling this function simply just call FreeEntity Model_Textured_With_Lightmap and FreeTexture Lightmap_Texture, and thats it...it will work.. <br><br></td></tr></table><br>
<a name="541810"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Alien.<br><br>I think I'll stick with the B3D format, but I'll tuck your code away in case. <br><br></td></tr></table><br>
<a name="541997"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tom</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes John.<br><br>B3D is the only format for which Blitz3D will automaticlly import &amp; apply multitexturing if it's specified in the file. <br><br></td></tr></table><br>
<a name="542018"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Er, this may be a silly question, but what does everyone else outside the Blitz community do for lightgmapping? <br><br></td></tr></table><br>
<a name="542379"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Take a look at the <a href="http://www.frecle.net/forum/" target="_blank">gile[s]</a> forum to find out.  There are all sorts of nasty ways, but many engines: DBpro, Ogre, and some others, have their own file format like Blitz. <br><br></td></tr></table><br>
<a name="542401"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdrianT</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Giles is by far the best affordable lightmapping tool avaliable, particularly if you use blitz. High end 3D apps can produce better results but also requre more work and understanding of the tools. Whether it's worth that extra effort I'm not sure. I guess it depends on whether you want to sdpend a considerable ammount of extra time :)<br><br>I've used max a lot and dabbled with giles on occasion, The part I like best of all with Giles is the Auto UV mapping, which is superior to any general purpose 3D art tool I have used. That and not having to plan to far in advance as to what objects share which lightmaps, which is kind of nice as it takes away a lot of prep time before you actualy start the lightmapping itself. <br><br></td></tr></table><br>
<a name="543260"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually what I meant was 'what are people outside the 3D-modelling/gaming community using?'<br><br>And I think the answer is that they don't.<br><br>They just seem to use 3DSmax or some other high priced software, and create beautiful (but static) shots.<br><br>I don't think they know that realtime exists yet.<br>And of course for them realtime will still carry the stigma of 'gamey!' <br><br></td></tr></table><br>
<a name="543330"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdrianT</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> yeah, outside of games most 3d is pre rendered, instead of rendering lightmaps all the lighting is rendered per frame. Or in the case of radiosity a lighting model is created once (in a static scene) and rendered per frame from there.<br><br>In many ways it's a lot easiuer than making game art, allthough the latest shader 3 type stuff is starting to introduce more pre rendered features. Getting the same visual quality in realtime isn't really possible. You can get good results for a non interactive tech demo.<br><br>Can't wait till new tech becomes mainstream, complex shaders can make the texturing side of game art and lighting much easier, and more natural to an artist than faking everything the way it's done now. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
