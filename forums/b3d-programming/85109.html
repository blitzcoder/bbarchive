<!DOCTYPE html><html lang="en" ><head ><title >Yaay triangle questions! :D</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Yaay triangle questions! :D</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Yaay triangle questions! :D</a><br><br>
<a name="962169"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Adam Novagen</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey all,<br><br>So, I've been wondering, what would be the best way to quickly draw a filled triangle, using <i>only 2D commands</i>??<br><br>Also, what would be the best way to determine if a triangle drawn between three points (X1,Y1, etc) is going clockwise or counter-clockwise. <br><br></td></tr></table><br>
<a name="962180"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Quickly, that's a good one. I have no idea... However, i don't get your second question. A triangle don't go any direction, it just is there. Can you explain further? Do you mean the order of the 3 points from first to last? <br><br></td></tr></table><br>
<a name="962199"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Adam Novagen</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, exactly. In other words, you have three points or vertices, let's say 0,1,2. If you mark the positions of 0,1,2 in order, they'll either go clockwise or counter-clockwise. Like this:<br><br><pre class=code>CLOCKWISE

     0
    / '-,
   /     '-,
  2_________'1

COUNTER-CLOCKWISE

0-----2
|    /
|   /
|  /
| /
|/
1</pre> <br><br></td></tr></table><br>
<a name="962204"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would add the angles between each point up. If they comes to a positive answer, it's a anti clockwise triangle. If it's negative, it's a clockwise triangle. (It might be the other way around, i can't remember what way the 2d rotational system works in blitz :) <br><br></td></tr></table><br>
<a name="962206"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warpy</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Take the vector cross product of the line from point 0 -&gt; point 1 and the line from point 0 to point 2.<br><br>It'll be either negative or positive, depending on if the points are given clockwise or anti-clockwise. <br><br></td></tr></table><br>
<a name="962207"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> what would be the best way to determine if a triangle drawn between three points (X1,Y1, etc) is going clockwise or counter-clockwise. <br></div><br>Can you not just do that prior to drawing the triangle? <br><br></td></tr></table><br>
<a name="962208"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Adam Novagen</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, I'll see what I can come up with... Thanks guys! (Is it just me, or do I say this a lot?? O_o)<br><br><div class="quote"> Can you not just do that prior to drawing the triangle? <br></div><br>Not if the triangle's points are moved unpredictably in realtime. <br><br></td></tr></table><br>
<a name="962217"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Add up the angles ;) that'll work. I would agree with Warner, but i don't really have much of a grasp of dot products :( <br><br></td></tr></table><br>
<a name="962219"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warner</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> You must mean Warpy :) <br><br></td></tr></table><br>
<a name="962222"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Heh, erm... yeah :) Oops! <br><br></td></tr></table><br>
<a name="962229"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not totally following this:<br><div class="quote"> Not if the triangle's points are moved unpredictably in realtime. <br></div><br><br>Exactly what are you doing?  What is 'unpredictably'?  Considering this is all 2D. <br><br></td></tr></table><br>
<a name="962235"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think someones trying to create a 3d engine? <br><br></td></tr></table><br>
<a name="962249"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Adam Novagen</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I think someones trying to create a 3d engine?  <br></div><br><br>Boingo. Nailed it.<br><br>Actually, not a 3D engine as such - that would be totally redundant - it's just an experiment in math, specifically trig, and graphics stuff. Which is why I'm trying, thus far unsuccessfully, to do this with as little help as possible. :D <br><br></td></tr></table><br>
<a name="962251"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> This place is full of secrets these days.<br><br>I'm starting to get paranoid, that you are all getting paranoid that I may just steal everything.<br><br>Hell, some of you don't even plug your webcams in anymore.  I'm starting to get a complex. <br><br></td></tr></table><br>
<a name="962252"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Adam Novagen</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Hell, some of you don't even plug your webcams in anymore. <br></div><br>Aaand you would know that <i>HOW???</i> No wonder we're paranoid. O_o <br><br></td></tr></table><br>
<a name="962312"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Use skidracer's code: <a href="/codearcs/codearcs.php?code=136" >Polygon</a> <br><br></td></tr></table><br>
<a name="962340"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Adam Novagen</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm, that's certainly given me some thoughts... Makes sense really, do horizontal scanlines by dividing the polygons into right triangles... Hm. <br><br></td></tr></table><br>
<a name="963137"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Adam Novagen</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> I DID IT!!! WEEHEE!!! :D<br><br>Well, not the filled thing - I haven't tackled that yet - but I finally figured out the clockwise thing.<br><br>Ross, I tried your suggestion of adding the angles together. Trouble was, they always came out to 180, which I actually should've realized; it's basic geometry. Then I thought maybe you'd meant adding the slope angles of the sides together, using <b>ATan2()</b>, but that didn't work out either. BUT, after three days of bustin' my butt, I figured it out.<br><br>I suddenly realized that, assuming the global slope (using <b>ATan2()</b>) of the first side (between points 2 and 0) was 0 degrees, the second side (points 0 to 1) would have to have a global slope of -179 to 180 degrees, ignoring decimal fractions. If the second side's slope was positive, then the triangle would be going clockwise, and vice versa!<br><br>Of course, the first side wouldn't always have a slope of 0, so I had to make the second side's slope relative to the first, but that was easy; just subtract the first slope from the second, and BINGO!<br><br>That probably lost most of you; I'm afraid that while I can sum up most things concisely and expertly, I have enormous trouble explaining my own thoughts. Here's the function I came up with, tried and true; maybe you'll understand it better from that.<br><br><pre class=code>Function TriClockwise2D3D_SUB(V1X#,V1Y#,V2X#,V2Y#,V3X#,V3Y#)


Local AngleDiff# = ATan2(V2Y - V1Y,V2X - V1X) - ATan2(V1Y - V3Y,V1X - V3X)


;Keep the relative second angle within the proper -179 to 180 range
If AngleDiff &lt; -179 Then AngleDiff = AngleDiff + 360 ElseIf AngleDiff &gt; 180 Then AngleDiff = AngleDiff - 360


If AngleDiff &gt; 0 Return True Else Return False


End Function</pre> <br><br></td></tr></table><br>
<a name="963190"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Take the vector cross product of the line from point 0 -&gt; point 1 and the line from point 0 to point 2.<br><br>It'll be either negative or positive, depending on if the points are given clockwise or anti-clockwise. <br> <br></div><br><br>You had the answer right there, abeit cross product is really a 3d specific thing. <br><br>The code below does the same thing without the need for the Atan2 and other conditional overheads.  Probably makes little difference speedwise unless you're doing loads of calcs :<br><br><pre class=code>
Function CrossProduct( x0# , y0# , x1#, y1# , x2#, y2# )

	Local ax#, ay#, bx#, by#

	ax# = x0 - x1
	ay# = y0 - y1
	bx# = x2 - x1
	by# = y2 - y1
	
	Return ( ( ax * by - ay * bx ) &lt; 0 )
	
End Function 
</pre> <br><br></td></tr></table><br>
<a name="963206"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Adam Novagen</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> You had the answer right there, abeit cross product is really a 3d specific thing.  <br></div><br><br>Oh... Wow... So that's what he meant. I had no idea. XD <br><br></td></tr></table><br>
<a name="963216"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warpy</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, I'm normally a lot more helpful with these kinds of things, but I've been helping the entire engineering department with this stuff over the exam period and I'm tired of it! <br><br></td></tr></table><br>
<a name="963243"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Adam Novagen</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Yeah, I'm normally a lot more helpful with these kinds of things, but I've been helping the entire engineering department with this stuff over the exam period and I'm tired of it! <br></div><br><br>Oh, I can understand that; I didn't mean your explanation was bad, I just meant that it was beyond me. <br><br></td></tr></table><br>
<a name="963369"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AJ00200</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm writing a 3D engine for a kids computer program, Microworlds EX.<br>But wurking with triandles there would be to slow, so the creator has to create a system of turned images. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
