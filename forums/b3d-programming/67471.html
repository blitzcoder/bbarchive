<!DOCTYPE html><html lang="en" ><head ><title >Strange memory access error</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Strange memory access error</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Strange memory access error</a><br><br>
<a name="753636"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mr.Waterlily</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I discovered a weird problem.<br><br>I do this:<br>1. Run my blitzprogram in windowmode.<br>2. Start another program than runs in fullscreen, like a game.<br>3. Close the program I just started.<br>4. Either tabs back to my blitzprogram, or click it in the startmenu.<br>5. Immediately I get a Memory Access Violation.<br><br>Why?<br><br>This does not happen if I run my program in fullscreen.<br>and it only happens when I start any other program that runs in fullscreen.<br><br>It doesn´t matter if I have debug on or off. Nor does it matter if I run it from the IDE or from a compiled .exe.<br><br>When I have debug on I can see where it stops, and it is on a "Line 1, a+1, b-1, a+1". And I have checked those variables and the are fine.<br><br>Now, I know that Blitz are not the most WinGUI/Alt-TAB/minimize friendly environment, but I need to know if I can do anything to remove this error, or not.<br><br>Or is this a known error that I wasn´t aware of?<br>(Not impossible ;)) <br><br></td></tr></table><br>
<a name="753651"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> One is trying to run in GL, the other in DX?<br><br>Had similar problems myself with Blitzmax.  I'd imagine a DX/GL conflict isn't Blitzmax specific though. <br><br></td></tr></table><br>
<a name="753655"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) ENAY</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually this has been a problem with any Blitz program from Day 1 (not in Blitzmax though if I recall)<br><br>Any utility or game running in Windowed mode will instantly crash if you try to change your resolution to another in windows, when you went to full screen, windows changed the resolution.<br><br>Try it, every Blitz program in Windowed mode you own should crash when you change resolution. <br><br></td></tr></table><br>
<a name="753866"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> But he wasn't chanching the resolution, did he?<br><br>I've seen some machines that couldn't run multiple DX 3D-initialized (Graphics3D) windows at a time. That was a DirectX or card issue, AFAIR.<br><br>I've just tested the described condition on my ol 98se with radeon9200se. There is in fact a problem, but it isn't a MAV here. when I tabbed back to the windowed app (no matter if Graphics or Graphics3D) then the inner window was invisible, transparent. (In fact a window :o) ). I then added a "if-keyit then reset graphics3d ",this worked. Altough, the graphics must be reloaded after a new Graphics3D call. <br><br></td></tr></table><br>
<a name="753908"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mr.Waterlily</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I´m not changing the resolution of my blitzprogram.<br>The window can be of any size, and I can change it if I want to and that works fine.<br><br>It´s only when it runs in a window(minimized or not), and I start any other program that opens its own fullscreen.<br>I have tested several programs, and it´s all the same.<br>One was a old DOS-game, one was WinUAE(amiga emulator), and some other programs.<br><br>As soon as another program starts a fullscreen, my blitsprog is doomed, when it gets activaded.<br><br>If I run my prog in fullscreen, I can start as many other programs I want. It all works fine, and my blitzprog also works. <br><br></td></tr></table><br>
<a name="753909"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mr.Waterlily</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Perhaps I should add that I open up my window using Graphics, NOT Graphics3D.<br><br>And I haven´t tested if the problem is there with Graphics3D, but I would guess that it remains. <br><br></td></tr></table><br>
<a name="753956"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LAB[au]</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you open a program in fullscreen it changes windows resolution. <br><br></td></tr></table><br>
<a name="753986"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mr.Waterlily</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, and apparently blitzprograms in window mode does not like when another program opens up a fullscreen.<br><br>The question remains, can this error be avoided somehow? <br><br></td></tr></table><br>
<a name="754037"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) ENAY</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; The question remains, can this error be avoided somehow? <br><br>Nope, going full screen changes the resolution in Windows, even if it's the same resolution you're full screening into. The problem is I recall is that your parameters are getting lost, ie Your image and sounds. Thus when your program comes back to Windows it can't find them anymore, they're gone and then your program crashes.<br><br>Get some source code, load your images and then call the Graphics3D command again, now try to draw them, CRASH!<br><br>If there's a fix, I don't know of one. <br><br></td></tr></table><br>
<a name="754304"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mr.Waterlily</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, it´s not my blitzprogram that changes the resolution by calling Graphics, that is the problem. If so, then I could handle that.<br><br>But if you´re saying that when another program opens a fullscreen it sort of indirectly does the same as blitz Graphics, and so my loaded images is gone?<br>Or is it the same as doing a CloseGraphics?<br><br>I don´t think thats the case here, but I need to do some tests on this. <br><br></td></tr></table><br>
<a name="754589"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Did you try it with a blitz windowed app that didn't set the Graphics at all? (Simply use the initial 400*300 window). Not sure but there's a chance that this runs in non DirectX mode. If this works without MAV then it may be the other Fullscreen app that is doing bad things with the DirectX enviroment. Maybe :o) <br><br></td></tr></table><br>
<a name="754679"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mr.Waterlily</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tried just a basic test with the default window and there was no MAV. <br><br>Since it´s only the blitzprograms that crash I assume that there´s something that´s not properly handled by the blitz engine.<br><br>So there´s probably nothing to do, except wait for an update that fixes this, or tell the user not to open any other fullscreen program.. ;)<br><br>Unless someone has a tricky workaroud? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
