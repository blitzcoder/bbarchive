<!DOCTYPE html><html lang="en" ><head ><title >Ball bouncing</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Ball bouncing</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Ball bouncing</a><br><br>
<a name="754655"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jad</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I need to make a ball bounce accurately off a wall that is inclined at some angle. If anyone knows of an equation that would work for this, that would be awesome. <br><br></td></tr></table><br>
<a name="754666"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bytecode77</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> you need to get the vector normals of the point, the ball hits the wall. then combine this vector with the vector of the ball and flip it. the result will be the "bounce-vector".<br><br>ps: are you the guy who asked this in the devil-engines-forum? <br><br></td></tr></table><br>
<a name="754667"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >t3K|Mac</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> i'd say use a physics engine. no need to fiddle around with mathematics ;) <br><br></td></tr></table><br>
<a name="754669"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bytecode77</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> you mean like <a href="http://www.dc.chat-blitz.de/devilengines/Frame_Main_DPE.html" target="_blank">that one</a>? <br><br></td></tr></table><br>
<a name="754689"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>you need to get the vector normals of the point, the ball hits the wall. then combine this vector with the vector of the ball and flip it. the result will be the "bounce-vector".<br> <br></div><br><br>This is not physically correct.  You need to use get the reflection vector.  It's quite straightforward.<br><br><pre class=code>
Const Restitution# = 1.0 ;elastic collision

;Nx, Ny &amp; Nz are the normals of the surface collided with
;Vx, Vy &amp; Vz is the balls current velocity vector

; Project velocity vector onto the collision normal vector
VdotN# = Vx * Nx + Vy * Ny + Vz * Nz
	
; Calculate the normal force. 
NFx# = -( 1.0 + Restitution ) * Nx * VdotN# 
NFy# = -( 1.0 + Restitution ) * Ny * VdotN# 
NFz# = -( 1.0 + Restitution ) * Nz * VdotN# 
	
; Add the normal force to the motion vector to get the new velocity. 
Vx = Vx + Nfx
Vy = Vy + Nfy
Vz = Vz + Nfz
</pre><br><br>Stevie <br><br></td></tr></table><br>
<a name="754693"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >t3K|Mac</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> i'd still go for a physics engine - you'll have more features for your game (gravity, friction, ...) <br><br></td></tr></table><br>
<a name="754933"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >caff_</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> i'd still go for a physics engine - you'll have more features for your game (gravity, friction, ...)  <br></div><br>And sometimes unpredictable effects. And for some engines you don't need gravity, as I found out when I recently coded a 3D breakout game. <br><br></td></tr></table><br>
<a name="754983"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Gravity and friction are easy to model yourself - if you just have a ball which moves about a level and doesn't do anything fancy, using a complete physics engine is overkill.<br><br>Stevie <br><br></td></tr></table><br>
<a name="755013"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >t3K|Mac</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> "Gravity and friction are easy to model yourself" - if you know the mathematics involved. some guys don't know this (me included). <br><br></td></tr></table><br>
<a name="784509"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IPete2</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Stevie,<br><br>thanks for the code... I'm now laughing my socks off!!!<br><br>IPete2. <br><br></td></tr></table><br>
<a name="784569"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>thanks for the code... I'm now laughing my socks off!!!<br> <br></div><br><br>NP.  Laughing your socks off? <br><br></td></tr></table><br>
<a name="784617"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IPete2</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Stevie,<br><br>I am currently working on a medium sized, commercial project, I need to make my character to bounce around like a pinball, to that end I have been trying to decide on which system to use, ODE, Newton, Aegis Physx, it has been difficult to get any control at the level I need it with physics libraries, so when I came across your code a few weeks ago and saw the comment about physics engines being overkill, I stored the code and came back to it today, deciding to give your code a try.<br><br>Ha ha ha - fantastic!  I had it working in a short time and couldn't believe how few lines of code I would need to achieve what I want.<br><br>So, yes, now I'm laughing my socks off, at my character bouncing around how I want it, and now I can continue to develop my project with a little smile on my face.  It looks so impressive yet the code is so few liens.<br><br>Thanks a lot Stevie G.<br><br>IPete2. <br><br></td></tr></table><br>
<a name="784621"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eviltoes</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think making your own physics would be more fun than using an engine, more thinking involved, I think its fun to figure these things out on your own. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
