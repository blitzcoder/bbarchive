<!DOCTYPE html><html lang="en" ><head ><title >Collisions and sliding</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Collisions and sliding</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Collisions and sliding</a><br><br>
<a name="245272"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Steve Hill</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am writing a simple dungeon crawler and have a problem with collisions and sliding behaviour.  Basically if the camera jumps into a corner, then it encounters two collisions with the adjacent walls ... so far ok.  However, rather than sliding down (under my gravity), it stops.<br><br>I am using the slide collisions behavour (not full slide).  With full slide this works as expected, but I don't want my character to slide back down slopes etc.<br><br>Does anyone have a workaround for this? <br><br></td></tr></table><br>
<a name="245300"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi, sorry. i'm a wee bit confused. you don't want the character to slide down slopes, but you want it to slide under your gravity? Could you clear that up for me? thanks <br><br></td></tr></table><br>
<a name="245307"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, your description is inconsistent.  Sliding down slopes IS sliding due to gravity; if you want objects to slide due to gravity they are going to slide down slopes.<br><br>Re-reading, it sounds a little like (pretty vague though) you want full sliding collision detection for the camera but not for the character.  In that case just set the camera and character to different EntityTypes and use two separate Collisions statements for camera-to-walls and character-to-walls. <br><br></td></tr></table><br>
<a name="245325"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Steve Hill</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, there's sliding and sliding :-)<br><br>I don't want to slide down a ramp, but I do want to slide down a vertical wall.  Perhaps what I am wanting is unreasonable.  As it stands though, you can wedge yourself in the corner of a room by jumping up and moving forward (which would be a nimble and athletic thing to be able to do, but not very realistic).<br><br>The point is that in the corner there is nothing underneath your feet preventing gravity from working.  I assume the walls are not made of glue.  On a ramp there is something, albeit at an angle.<br><br>I guess I could use full sliding collisions and look at the surface normal below my feet and apply a suitable frictional force to counteract the gravity.<br><br>In my case the camera is the same thing as the character, I was just being loose tongued. <br><br></td></tr></table><br>
<a name="245330"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah, what you want is to check the collision normal (using commands like CollisionNX.)  That will tell you the angle of the polygon collided against.  Then you can react differently depending on the normal.<br><br>What I would do (ie. this may or may not be the best way) is to actually turn off "gravity" if the surface collided against is at a shallow angle.  Thus there is no force pulling the character down when standing on ground up to a certain angle.<br><br>EDIT: Didn't read the last couple lines of your post until just now.  The second to last line is essentially what I just suggested. <br><br></td></tr></table><br>
<a name="245342"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> yeah, i would use the collisions normal command, and specify an angle which sliding will occur, don't apply gravity if the angle is less than say 45 deg. a bit like tomb raider. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
