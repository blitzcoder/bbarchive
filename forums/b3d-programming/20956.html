<!DOCTYPE html><html lang="en" ><head ><title >Playmusic with mp3</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Playmusic with mp3</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Playmusic with mp3</a><br><br>
<a name="214916"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have noticed a strange quirk.<br><br>I have tested the following, and I still don't understand why. The online help doc's state that Playmusic will play .mp3 files however:<br><br><pre class=code>

PlayMusic ("My Sound.mp3")

</pre><br><br>does NOT play, unlike:<br><br><pre class=code>

Music=LoadSound ("My Sound.mp3")

PlaySound Music

</pre><br><br>Any suggestions?<br><br><br>(edit to add: I use Blitz v1.83) <br><br></td></tr></table><br>
<a name="214948"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>Channel = PlayMusic("my sound.mp3")</pre> <br><br></td></tr></table><br>
<a name="215331"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sir Gak</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> The Blitz help points out that you MUST use a variable:<br><pre class=code>
PlayMusic (filename$)
Definition
Loads and begins playing a piece of music.  

Parameters
filename$ - name of music file. Formats supported: raw/mod/s3m/xm/it/mid/rmi/wav/mp2/mp3/ogg/wma/asf  

Description
This command will load and play a music file. 

You MUST use a channel variable in order to stop or adjust the music playing. You may use StopChannel, PauseChannel, ResumeChannel, etc. with this command. 

You can't 'preload' the audio like you can a sound sample via the LoadSound command. Every time you call the PlayMusic command, the file is reloaded and played. This means that if you use the command while some graphics are moving on-screen, you may get a slight pause when the hard drive seeks and grabs the music file. To avoid this, you might want to use the PlaySound/LoopSound commands instead.  

Example
; Load and play the background music 

chnBackground=PlayMusic("musicackground.wav") 
</pre> <br><br></td></tr></table><br>
<a name="216223"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tricky</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Variable or not doesn't matter...<br><br>I encountered the same problem...<br><br><pre class=code>
Local Music = PlayMusic("Music.mp3")
</pre><br><br>According to the manual you should have music with that, but not one single thing happens (To me it didn't at least)....<br><br>The line in the top post didn't use a var, but that doesn't make any diffrence in this problem... If the line without var was assinged to a MIDI file, it would have worked... <br><br></td></tr></table><br>
<a name="216225"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) sinu</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> strange, i use <br><br>PlayMusic("track.mp3")<br><br>which works. <br><br></td></tr></table><br>
<a name="216325"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hotcakes</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeh, PlayMusic("blah.mp3") is just the same as 'PlayMusic "blah.mp3"' - it just discards the result - as does 'result = PlayMusic "blah.mp3"' also returns 0, but should still work.<br><br>Is it happenning with any mp3 (I'm guessing yeh)...  It's a very strange problem you're having... <br><br></td></tr></table><br>
<a name="218800"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >yinch</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> One thing that I notice is that Music and Sound are handled differently by Blitz.<br><br>Sounds can be preloaded and then played (therefore requiring a soundchannel)<br><br>Whereas music is not and cannot be preloaded.<br><br>Hence there is a LoadSound AND a PlaySound command but there is only a PlayMusic command (i.e. no LoadMusic)<br><br>The reason I mention this is that an MP3 file is actually much more like a Sound than a Music file (e.g. MIDI). SO, I wonder if depending on what file associations you have for your operating system - Blitz might be identifying the MP3 as a sound data file and it helpfully invokes LoadSound although you called PlayMusic.<br><br>I admit this is a bit of a long shot - but maybe it'll help somebody else come up with the actual explanation and a solution.<br><br>yinch'03 <br><br></td></tr></table><br>
<a name="218904"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hotcakes</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> channel=PlayMusic("sound.mp3")<br>PauseChannel channel<br><br>I'm under the impression that's a good way to 'preload' a music file...<br><br>I can confirm this bug, it's in B3D (havn't tested B+) v1.83.  Ogg files also don't play anymore via PlaySound.  Yikes. <br><br></td></tr></table><br>
<a name="469293"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Has this been fixed at all? <br><br></td></tr></table><br>
<a name="469325"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Has this been fixed at all? <br></div>It was never broken here. <br><br></td></tr></table><br>
<a name="469346"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paolo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Malice,<br>why not upgrade b3d? it might work better in a later version... <br><br></td></tr></table><br>
<a name="469855"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I will - soon as I get my PC out of storage - shouldnt be loing now... we found a house!!!!!!!!!!!!!!!<br><br>I think its at 1.85, what version are we up to now? <br><br></td></tr></table><br>
<a name="469857"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paolo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> v1.88 <br><br></td></tr></table><br>
<a name="470140"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just a thought, could it be that control is being handed over to DirectX, which might need a more explicit path?<br><br>For these functions I ususally use <br>"\Product\Music\music.mp3" (or some such) which works fine, and suggests that the current drive remains the same without needing to restate it within the filename, but if only the current drive is known to DirectX, then it might also need a more explicit path....? <br><br></td></tr></table><br>
<a name="470174"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RGR</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> ;- <br><br></td></tr></table><br>
<a name="470198"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Uber Lieutenant</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> IF I recall correctly, the demo version of Blitz3D has MP3 support disabled. Maybe that's the problem? <br><br></td></tr></table><br>
<a name="470226"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ive never used the demo version <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
