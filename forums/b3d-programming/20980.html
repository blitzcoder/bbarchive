<!DOCTYPE html><html lang="en" ><head ><title >making a 'smart' camera</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >making a 'smart' camera</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >making a 'smart' camera</a><br><br>
<a name="215248"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SSS</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi all, i was wondering if anyone could give me pointers on how to make a 'smart' camera to my platformer game as i have no idea even how to start thanks <br><br></td></tr></table><br>
<a name="215252"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well it depends on how "smart" you want your camera to be (ie. what exactly you want it to do.)  For simply keeping an unobstructed view between the camera and player there are tricks involving the built-in collision detection system to move the camera: detect collisions between the camera and level, then move the camera in to keep a constant distance from the player, and point the camera at the player every frame.  For a smarter camera than that (eg. one which moves to ideal camera angles for given areas of a level) you will pretty much need to code AI to control the camera, basically writing a virtual cameraman which moves the camera around.  A waypoint system is helpful here; define waypoints (ie. good camera spots) throughout the level and then have the camera drift from waypoint to waypoint as the player moves through the level.<br><br>Either way you check the player's location every frame after UpdateWorld (so that collision detection will have already happened) and then have some sort of algorithm which places the camera based on the player's location.<br><br>There are some samples in the Code Archives and which came with Blitz3D which demonstrate 3rd person camera control. <br><br></td></tr></table><br>
<a name="215271"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EOF</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Marks Castle demo seems to be a popular choice.<br><br>Also, Rob Pearmains <a href="/codearcs.php?code=584" target="_blank">Mario Camera Control</a> is worth a look. <br><br></td></tr></table><br>
<a name="215346"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nazca</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> here's one I made, works really nice, and very simple..<br>if you want, you can use sliding collision for the camera to keep it from going through walls if you want.<br><br>it's a lot like DB's "Set camera to follow command"<br>the 'point' flag at the end will also point 'e1' at 'e2' if set to 1<br><br><pre class=code>
Function Curve#(d#,c#,s#)
	If Abs(d-c)&lt;0.01
		Return d
	Else
		Return c+((d-c)/s)
	EndIf
End Function

Function followEntity(e1,e2,angle#,dist#,height#,speed#,point=0)
	x# = EntityX#(e2)+(Sin(angle#)*dist#): y# = EntityY#(e2)+height#: z# = EntityZ#(e2) - (Cos(angle#)*dist#)
	PositionEntity e1,curve#(x#,EntityX#(e1),speed#),curve#(y#,EntityY#(e1),speed#),curve#(z#,EntityZ#(e1),speed#)
	If point Then PointEntity e1,e2
End Function
</pre><br><br>Use:<br><pre class=code>
followEntity(camera,player,entityyaw#(player),100,200,10,1)
</pre> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
