<!DOCTYPE html><html lang="en" ><head ><title >MD2 Texture Map Troublems.</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >MD2 Texture Map Troublems.</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >MD2 Texture Map Troublems.</a><br><br>
<a name="242604"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Seivad Noj</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello. I seem to have a problem with my texturemapping in Blitz3D - well, not specifically to do with Blitz3D, but it's still a problem I have.<br><br>When I create a model in 3D Studio MAX and bring it into Blitz3D as an animated (or non-animated as some stand right now) MD2, using QTiP, the texturemaps on some polygons in the model are distorted. Now I would've expected there to be some problems with importing a model into Blitz (after all it never looks exactly the same, does it?). However, I have no idea how to fix it - I've used the ResetXForm utility before mapping the UVWs, and it's not the whole model that appears distorted - just a few polygons.<br><br>If you need to know what's happening with my model, I can take a screen capture of what it looks like in 3D MAX and Blitz to show the problems..<br><br>If anyone can help, I would most appreciate it. <br><br></td></tr></table><br>
<a name="242700"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Screenshots are nice but posting the actual model would be better.  I have a couple thoughts of what could be going on but I'ld like to see the model for myself. <br><br></td></tr></table><br>
<a name="242737"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Seivad Noj</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://sovanjedi.rpgone.com/SeivadNojProblems.zip" target="_blank">http://sovanjedi.rpgone.com/SeivadNojProblems.zip</a><br>There's the .zip file with the .md2 and .3ds models in, the texture map, and screens of what I get from the image before and after exporting to MD2 and displaying in Blitz.<br><br>(I bet it's something reeeeeally obvious I've done. Typical, really..) <br><br></td></tr></table><br>
<a name="242803"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually, I have no idea what is wrong with your display of the model.  The md2 you posted looks fine.  I loaded it in Blitz and it looks fine.  Perhaps you are messing up the model or the texture in code.<br><br>From your screenshots I assume the problem areas you refer to are on his forehead. <br><br></td></tr></table><br>
<a name="242937"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Seivad Noj</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's the one, the forehead. The broken seams around the edges of his sleeves and so forth are fixable, it's really the forehead that's the problem spot.<br><br>I also have another model that this happens on, but to be honest it doesn't actually look that noticeable so I didn't do anything about it. So I'm for your suggestion that I'm messing the code up somehow. <br><br>I'll try and mess around with the code to see if I can fix it there. Is there anything specific you need to do when applying a Texture to an MD2, other than loading it into a variable beforehand and applying it on? That's what I'm doing at the moment. <br><br></td></tr></table><br>
<a name="242963"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Could you perhaps post sample code which produces the problem display you posted a screenshot of?  I'll see if it produces the problem on my system.  If not it must be a bug/incompatibility with your computer; post that to Bug Reports. <br><br></td></tr></table><br>
<a name="243084"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Seivad Noj</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Rightyho. Here's the code. Now let's see if I can remember how to do that funky "green-on-black" thing when people post code:<br><br>;------------------------------------------------------------<br>;NOTE: These variables are put here only for the purpose of faster testing. Once finished, get rid of 'em!<br>Const FPS=60<br>Const width=800,height=600,depth=0<br>Global mode=0<br>Global a=255<br>Global lightenvcolour=0<br>;------------------------------------------------------------<br><br>;------------------------------------------------------------<br>;Starter pointers - keep these in to be able to run the application.<br>Graphics3D width,height,depth,mode<br>SetBuffer BackBuffer()<br>SeedRnd = MilliSecs()<br><br>Function Update_Player_Cam()<br> ;-------------------------------<br> ; + and - to change sensitivity<br> If KeyDown(13) Then cam_sens=cam_sens-1<br> If KeyDown(12) Then cam_sens=cam_sens+1<br> If cam_sens&lt;=0 Then cam_sens=1<br> ;<br> ;-------------------------------<br> ; Zooming function<br> If MouseDown(1)<br>   zoom=(MouseYSpeed()-zoom)/13+zoom<br>   mouseXs=(0-mouseXs)/cam_sens+mouseXs<br>   mouseYs=(0-mouseYs)/cam_sens+mouseYs<br>  Else<br>   zoom=(0-zoom)/13+zoom<br>   mouseXs=(MouseXSpeed()-mouseXs)/cam_sens+mouseXs<br>   mouseYs=(MouseYSpeed()-mouseYs)/cam_sens+mouseYs<br> EndIf<br>MoveEntity chaseCam,mouseXs,mouseYs,zoom<br>PointEntity chaseCam,chaseCamPivot<br>MoveMouse GraphicsWidth()/2,GraphicsHeight()/2<br>End Function<br><br>Function CreatePlayer.Player(posx,posy,posz,rotx,roty,rotz,player_no)<br>p.Player = New Player<br>p\entity = CreatePivot()<br>p\player_no = player_no<br>p\model = LoadMD2("Models/player"+player_no+"/player"+player_no+".md2")<br>p\texture = LoadTexture("Models/player"+player_no+"/player"+player_no+"text.bmp")<br>EntityTexture p\model,p\texture<br>FreeTexture p\texture<br>AnimateMD2 p\model,1,0.7,1,40<br>ScaleEntity p\model,.08,.08,.08<br>p\player_x = posx<br>p\player_y = posy<br>p\player_z = posz<br>MoveEntity p\model,p\player_x,p\player_y,p\player_z<br>RotateEntity p\model,rotx,roty,rotz<br>End Function<br><br>Type Player<br>     Field entity,model,texture<br>     Field player_x#,player_y#,player_z#,player_no,stats<br>End Type<br>;------------------------------------------------------------<br><br>Global playerCam,CameraPivot,mouseXs#,mouseYs#,zoom#,cam_sens<br>;------------------------------------------------------------<br>;The juicy bits<br>SetBuffer BackBuffer ()<br>p.Player=CreatePlayer(0,5,0,0,180,0,1)<br>Global chaseCam=CreateCamera()<br>Global chaseCamPivot=CreatePivot()<br>CameraViewport chaseCam,0,0,GraphicsWidth(),GraphicsHeight()<br>PositionEntity chaseCam,0,20,30<br>PositionEntity chaseCamPivot,0,8,0<br>cam_sens=5<br>EntityRadius chaseCam,4<br>EntityType chaseCam,1<br><br>Repeat<br><br>Update_Player_Cam()<br>;----------------------------------<br>UpdateWorld<br>RenderWorld tween<br>Text 0,0,"Press the '+' and '-' keys to set the camera's sensitivity."<br>Text 0,10,"Camera sensitivity="+cam_sens<br>Text 0,20,"CameraX="+EntityX(chaseCam)<br>Text 0,30,"CameraY="+EntityY(chaseCam)<br>Text 0,40,"CameraZ="+EntityZ(chaseCam)<br>Text 0,50,"Press the X button to destroy the player and replace with a different character."<br>Flip <br>Until KeyDown(1)<br><br>End<br><br>This is actually tested on two computers, with the same results, so it must be the coding. What could be the problem? <br><br></td></tr></table><br>
<a name="243109"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's a screenshot using the model you posted and that code:<br>www.3darteest.com/test.jpg<br><br>As you can see, no problem on the forehead.  Maybe you need to update Blitz? <br><br></td></tr></table><br>
<a name="243170"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Seivad Noj</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe I should, though I could've sworn I have the latest update already...<br><br>Thanks a lot for your time and help, Joe.<br><br>EDIT: I've been using version 1.64 all this time - d'oh! <br><br></td></tr></table><br>
<a name="243357"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Did updating fix your problem?  When I suggested updating I didn't know if it would help, I was just tossing out stuff to check. <br><br></td></tr></table><br>
<a name="243462"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Seivad Noj</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh sorry, forgot to reply. Yes it did help, thank you.<br><br>And all this time I wondered why I couldn't open .b3d files either...<br><br>Thank you once again. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
