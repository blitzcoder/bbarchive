<!DOCTYPE html><html lang="en" ><head ><title >remove some water</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >remove some water</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >remove some water</a><br><br>
<a name="262193"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kris</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm creating a plane of water, and I have a boat in the water. Problem is, there is water in the boat! anyone know of a way to remove the section of the plane inside of the object? <br><br>Maybe there is a way to paint a transparent shadow on the water that has the dimensions of the boat... <br><br>~Kris~ <br><br></td></tr></table><br>
<a name="262206"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe with EntityOrder(). Or a 2-Pass Render Method, using Grabimage and drawimage to paste the boat onto the water.<br>Or divide the Water in Sub-Meshes, one for each Direction around the boat. <br><br></td></tr></table><br>
<a name="262207"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Michael Reitzenstein</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Grabimage and drawimage? Eek!? <br><br></td></tr></table><br>
<a name="262209"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I didn't say it is a good Idea. <br><br></td></tr></table><br>
<a name="262233"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> If the water is a mesh, you might be able to use vertex alpha to fade out vertices inside the boat. But it would require a pretty dense mesh to work properly...<br><br>Fredborg <br><br></td></tr></table><br>
<a name="262239"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shambler</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Lol an interesting problem =)<br><br>I would have thought entity order should solve this, just set the boats entity order to -1...think that should do the trick. <br><br></td></tr></table><br>
<a name="262243"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Binary_Moon</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> shambler - the only problem with that is that you can't have any part of the boat underwater since the bottom of theboat will always be drawn on top of the water. <br><br></td></tr></table><br>
<a name="262246"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shambler</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Depends where the camera is, if its in the boat then there's no problem.<br><br>You could always switch between -1 and 0 entityorder depending on the camera's position. <br><br></td></tr></table><br>
<a name="262272"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kris</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok... so this is gonna be a pain. If I create a plain around the boat, and make it very, very large so it stretches to the horizan (such as jfk suggested) will it slow down the game? or will I get about the same refresh as an infinate plane?<br><br>Thanks for all of the replies <br><br></td></tr></table><br>
<a name="262282"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RifRaf</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could redesign your boat,  as a split level. meaning the floor of the boat is jut above the waterline. This would look fine, unless your boat is suppsed to be a canoe. <br><br></td></tr></table><br>
<a name="262284"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >smilertoo</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> model the boat with an area of water as part of the boat mesh, then flip normals of the main water grid as the boat passes over them. <br><br></td></tr></table><br>
<a name="262322"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LT</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think the entity order is on the right track, but the boat will not contribute to the z-buffer if you set it to anything other than 0.  I've never tried this myself, but that's what it says in the docs.  A potential solution may be to separate the inside of the boat's hull from the outside and set the entity order for that only. <br><br></td></tr></table><br>
<a name="262347"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IPete2</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe you could use a terrain to make the water, and use some kind of deformation routine where the boat is.<br><br>Or if you are viewing using the camera in the boat, raise the boat out of the water, no one can see!<br><br>IPete2. <br><br></td></tr></table><br>
<a name="262400"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sledge</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> The first thing I'd do, as has been suggested, is cheat and make sure the lowest section of the boat's interior remains above the water-line.<br><br>If that won't do, then the next thing to suggest is losing that plane -- instead I'd have a four entities, each carrying the water texture, box the boat in from each side. You could either make these children of the boat and adjust the UV coods as needed, or dynamically resize them and alter the texture's dimensions. Neeldess to say, the entities (quads would be best I think) should intersect the boat on each side, but not go far enough in so as to encroach on the interior... voila!<br><br>(Actually, thinking about it, I'd make the water entities parent to the boat, so it can all be moved together AND the tub can still bob about independantly 'n' stuff.) <br><br></td></tr></table><br>
<a name="265405"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul "Taiphoz"</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Im wondering .. if the water has a wave effect or not ? if so then keeping the boats water line in cue could be a problem..<br><br>Im wondering how easy it would be to give the plain a few more points, then deform them at the boats position, like displacing the water where the boat is, this would stop the water mesh from showing through the boat cos you just shoved that part of it down a bit. then just have the mesh return to normal as the boat moves, this could also give off a nice boat wake effect although I havent tried anything like this.<br><br>I hope it helps. <br><br></td></tr></table><br>
<a name="265518"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neo Genesis10</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Simple answer to your problem - DONT USE PLANES! They're notoriously bad for graphics since they're infinite and they're not meshes so you cant bend them around the base of the boat either. Your best bet is to use a mesh. Then you could bend the water under the base of your boat. This would also allow waves and such. <br><br></td></tr></table><br>
<a name="265725"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zephar123</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> A proper done mesh alot of times does not effect speed eigher. I am using a mesh currently for a terrain and dont have all the bugs with terrains. THe real irronic thing is the mesh is only take 6000 polies!!! and is huge!! <br><br></td></tr></table><br>
<a name="265863"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is another strong reason for Blitz to introduce better z-buffer manipulation. <br><br></td></tr></table><br>
<a name="265868"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually, take a look at this diagram. There are three meshes.<br><br><img src="http://www.redflame.net/images/boat.gif"><br><br>One is the ocean as you know it. The other is the boat and the rectangle-to-boat detail mesh. The rectangle-to-boat detail mesh is very simple. You then tell the rectangle-to-boat mesh to linepick from each inside vert to the boat. This way, it hugs the boat regardless of the depth the boat sinks, but does not go inside.<br><br>the open verts of the ocean mesh snap to the outer verts of the rectangle-to-boat mesh. This isn't really complicated.<br><br>All you need to know to start with are: the rectangle to boat mesh verts that will snap to the boat, and their local start position.<br><br>Each frame, these verts are positioned back to the outer bounds then linepicked to the boat again.<br><br>You can pretty much do what you want with the boat then. If you're interested in rolling ocean waves too, then you might want to use a similar concept. <br><br></td></tr></table><br>
<a name="265964"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoeGr</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's another idea. You could make a water mesh with a hole in it to fit the boat, then always move it WITH the boat. To make the boat look like its moving, scroll the water's texture in the opposite direction. <br><br>Or come up with a boat model that has a higher deck. <br><br></td></tr></table><br>
<a name="266063"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Reading down that post, i thought: I've got an idea that might work. How about a water mesh with a boat shaped hole.....DOH!!! beaten..Dam u joe!! lol <br><br></td></tr></table><br>
<a name="266066"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoeGr</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> :D <br><br></td></tr></table><br>
<a name="266332"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thats the reason for repeated linepicks - the boat can go deeper into the water at any time without overlaps of a fixed sized hole :) <br><br></td></tr></table><br>
<a name="266463"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah, never thought of that one ;) <br><br></td></tr></table><br>
<a name="266509"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoeGr</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Thats the reason for repeated linepicks - the boat can go deeper into the water at any time without overlaps of a fixed sized hole :) <br></div><br>I know that, and I know your way is better. I was just offering a simpler alternative. How about this though; if the sides of the boat had a certain amount of thickness and didn't slope too much, some vertical movement (as well as pitch and roll) might still be possible with a fixed size hole. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
