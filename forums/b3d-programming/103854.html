<!DOCTYPE html><html lang="en" ><head ><title >Need Help with Double Precision Float Variables</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Need Help with Double Precision Float Variables</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Need Help with Double Precision Float Variables</a><br><br>
<a name="1254023"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm trying to calculate some precised SIN and PI equations and I noticed that the float variable is not that accurate.<br><br>Is there an updated workaround or solution re: this issue?<br><br>Thanks. <br><br></td></tr></table><br>
<a name="1254053"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rroff</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think someone implemented a DLL for dealing with larger numbers/higher floating point accuracy but I don't recall the details off hand. <br><br></td></tr></table><br>
<a name="1254058"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> The relevant code archive entry is here:  <a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=1905" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=1905</a><br><br>Some potential headaches:<br><br>1. That is source code only. You need a C/C++ compiler to build the DLL, or find someone who still has it. Contacting the author probably won't work. He hasn't posted here in eight years.<br><br>2. Using it is awkward. Look at the first example, which just mutliplies two numbers. It's not just a = b * c.<br><br>3. Even if you get everything working it may not help, depending on how you want to use the results. Vertex coordinates, entity position and rotation etc. are handled by Direct3D and are single precision only. Any double precision results would have to be turned back into single precision if used in the 3D system.<br><br>The upshot is that your first task is to decide if you really need double precision and can actually use the results. <br><br></td></tr></table><br>
<a name="1254061"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks guys. Yeah, I just tested Abram's code but it crashes and unusable. Can this be done by modifying the source in B3D?<br><br>That's ok, I don't need it on the final entity position or vectors, just the preliminary computation on the coordinates. I still need it though because I'm comparing my formula to other languages and the angle floats are not the same :/ <br><br></td></tr></table><br>
<a name="1254067"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Abram's code needs the DLL, which is not available here.<br><br>How wrong are your test results? If angles are off by factor of about 57.3 then you are mixing up degrees and radians. <br><br></td></tr></table><br>
<a name="1254068"></a>

<a name="1254069"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, I already downloaded the DLL. I think you were the one who uploaded it as a 'txt' extension file<br><br><a href="http://floyd2.webs.com/blitzdouble.txt" target="_blank">http://floyd2.webs.com/blitzdouble.txt</a><br><br><div class="quote"> <br>If angles are off by factor of about 57.3 then you are mixing up degrees and radians. <br> <br></div><br><br>Ok can you provide an example?<br><br>Thanks. <br><br></td></tr></table><br>
<a name="1254091"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh yeah, that was me.<br><br>The sample code certainly shouldn't crash. Did you put both the .decls and .dll files in your userlibs folder?<br><br>Degrees versus radians:<br><br>180 degrees is the same angle as Pi radians; 57.3 is roughly 180/Pi.<br><br>As an example, 45 degrees has both Sin() and Cos() exactly equal to Sqr(2)/2, which is about 0.7071.<br><br>So you should get Sin( 45 ) equal to about 0.7071 if degrees are used, as in Blitz. Note 45 is 180/4.<br>In case of radians Sin( Pi/4 ) would be 0.7071. <br><br></td></tr></table><br>
<a name="1254102"></a>

<a name="1254104"></a>

<a name="1254105"></a>

<a name="1254106"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok thanks Floyd. I might not need double float if I can solve this blitz math conversion..<br><br>Here's a sample of my code..<br><br><pre class=code>
n = 3
m# = 2*Pi/n

For i = 0 To n
   Print Cos(m * i)
Next
</pre><br><br>I should be getting..<br><br><pre class=code>
1.0
-0.5
-0.5
</pre><br><br>like this in Python or C. I'm just new to Blitz3d math so im a bit confused. <br><br></td></tr></table><br>
<a name="1254107"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> As mentioned, Blitz3D ( and Blitz everything else ) uses degrees rather than radians.<br><br>2*Pi radians is 360 degrees, so your example should be:<br><br><pre class=code>n = 3
m# = 360 / n  ; not (2*Pi)/n

For i = 0 To n
   Print Cos(m * i)
Next</pre><br><br>I've just noticed that Chrome thinks radians is misspelled. Same with Blitz3D but that one is understandable. <br><br></td></tr></table><br>
<a name="1254108"></a>

<a name="1254110"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok thanks again Floyd. now it's clear. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
