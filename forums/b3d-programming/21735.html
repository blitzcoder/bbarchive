<!DOCTYPE html><html lang="en" ><head ><title >I need an 'Infra-red' camera mode</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >I need an 'Infra-red' camera mode</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >I need an 'Infra-red' camera mode</a><br><br>
<a name="222466"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Flexman</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm need to render a 'greyscale' view from an infra-red camera but can't think for the life of me how to do it except to have black-white textures for ALL objects and swap the textures when required.<br><br>Basically I need to seemlessly switch from normal 3D mode to a grey-scale mode. Is there a quick solution to this? <br><br></td></tr></table><br>
<a name="222514"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mearrin69</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I believe the way it's done in the 'real world' -- i.e. military sensor simulation -- is similar to what you've described. <br><br>They hang some sort of thermal data onto the material descriptions and then turn that into a texture at run-time. <br><br>You could probably take some sort of short cuts if you don't really need to simulate all of the thermal characteristics in such detail...i.e. you could pre-render the thermal maps and just swap them in for the real textures when you need them. <br><br>Make any sense?<br>M <br><br></td></tr></table><br>
<a name="222568"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dock</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> The easiest way is to use alternative black and white versions of the graphics.  If you have played Aliens Vs Predator 2 on PC, you'll see they use something similar to swap through the different visual styles.  They use one with different colours for thermal, which is a bit cheap but does the job! <br><br>I'm not sure whether Blitz is capable of altering the colours on textures and resaving them.  You may care to check out the code archives and see what is available in terms of batch image conversion.  Failing that, you should be able to run all your images through a graphics package like PSP or Photoshop.  That's a bit of a pain though, and means you have to update all your images (it will also increase the size of your distributable).  I would try to find a way to get Blitz to make greyscale copies of all the images you need and save them to the HD. <br><br></td></tr></table><br>
<a name="222570"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >darklordz</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> why not use the new setgamma cmd's<br>to set the colors of teh scene to greyish.. <br><br></td></tr></table><br>
<a name="222580"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dock</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah, I wasn't aware of the SetGamma command.  ^^; <br>However, this effects the entire screen, so it would make it impossible for a colour HUD whilst using infra-red via Set Gamma. Still, the sheer convenience of this compared to some long winded graphic copying would probably make it worthwhile :) <br><br></td></tr></table><br>
<a name="222593"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Flexman</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I experimented with the gamma commands, while it's possible to achieve a "green screen" effect I couldn't get them to "desaturate" the screen. And as mentioned above any hud is also altered.<br><br>Is it possible (clutching at straws here to see what you  think) to have some kind of texture in front of the camera that tinted or even better desaturated everything?<br><br>I wonder how you would do it in OpenGL. <br><br></td></tr></table><br>
<a name="222613"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Marcelo</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I found no way to make a grayscale render using the hardware (except by using programmable shaders), but for my "infrared" image I've used two planes in the front of the camera, one is set to Multiply with the color 0,255,0 and the other is a Additive animated green noise, the first one leaves only the green channel and the second add some brightness and noise to the screen.<br><br>Off<br><img src="http://raintree.hpg.com.br/shot001.jpg"><br><br>On<br><img src="http://raintree.hpg.com.br/shot002.jpg"> <br><br></td></tr></table><br>
<a name="222614"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Using two fullscreen planes that cover the whole screen is prpbably going to affect (drop) your Framerate - it's a lot of fill? <br><br></td></tr></table><br>
<a name="222622"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Those screens look pretty good.  How many polygons is that character?  And was the level created in Maplet?<br><br>I'ld also be concerned about fillrate.  At low resolutions (eg. 640x480) that technique would probably work fine but at higher resolution that would kill your framerate.<br><br>Still, that's a pretty clever trick. <br><br></td></tr></table><br>
<a name="222631"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tom</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>this is the reason I was investigating the idea of using Blits via userlibs, I can get some things to work, but Blitz3D doesn't like you messing with it's buffers.<br><br>Tom <br><br></td></tr></table><br>
<a name="222688"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Marcelo</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> jhocking,<br>The character is 1400 polys (excluding the infrared glasses) and the level is created in a internal editor.<br><br><br>At 800x600 there's a about 15 fps drop when the infrared googles are turned on, but one strage thing happens: <br><br>Less the FPS less it will decay when it's on, as a example in my machine (p3-700, gforce1) this level runs at 80fps, and drops to 65fps when the googles are on.<br><br>But in my test machine (p2-400, tnt2)it runs at 30fps and go down to 25fps when on.<br><br>I have no idea why this happens. :)<br><br>If you want to reduce the fill rate you can work with one plane only (the additive green), but you will be able to see some saturated colors at the infrared, such as the red of the t-shirt. <br><br></td></tr></table><br>
<a name="222768"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Andy</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice pictures... But that's just a colourfilter... It doesn't really have anything to do with infrared imaging...<br><br><a href="http://www.indigosystems.com/gallery_fire.html" target="_blank">http://www.indigosystems.com/gallery_fire.html</a><br><a href="http://sirtf.caltech.edu/EPO/IRapp/fire.html" target="_blank">http://sirtf.caltech.edu/EPO/IRapp/fire.html</a><br><br>Andy <br><br></td></tr></table><br>
<a name="222772"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Flexman</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Still, it's a neat solution for a Blitz game, it conveys the sense of night-vision and makes things a little harder to see. Which is what you want for a game.<br><br>I don't think there's any other solution in Blitz, which is a shame. I'd like a color processor of some sort. It would have been easier in the bad old days of 256 color pals. <br><br></td></tr></table><br>
<a name="222782"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Andy</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt;Still, it's a neat solution for a Blitz game, it conveys <br>&gt;the sense of night-vision and makes things a little harder <br>&gt;to see. Which is what you want for a game.<br><br>Isn't that missing the point of nightvision and infrared... If there is plenty of light(as in the scene above), then you don't need 'nightvision'(which is usually a light enhancing/intensifying device), and infrared imaging is to see varying degrees of 'heat'... Not just a coloured filter that you apply to the screen. In real life, both makes things 'easier' to see.<br><br>If you put something into a game, surely you would want it to be atleast somewhat realistic.<br><br>lovely pics though. <br><br></td></tr></table><br>
<a name="222785"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Marcelo</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's why I wrote "infrared" (quoted). :)<br><br>The shots are in a lighted room, but there are some map sectors that is completely dark and the use of the googles is required. <br><br></td></tr></table><br>
<a name="222798"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anthony Flack</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Less the FPS less it will decay when it's on, as a example in my machine (p3-700, gforce1) this level runs at 80fps, and drops to 65fps when the googles are on. <br><br>But in my test machine (p2-400, tnt2)it runs at 30fps and go down to 25fps when on. <br> <br></div><br><br>65/80 = 81% of full speed<br>25/30 = 83% of full speed<br><br>Seems pretty consistent to me.<br><br>Anyway it sounds like your framerates are well within acceptable levels in both cases (considering the hardware you're running it on) <br><br></td></tr></table><br>
<a name="222813"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RetroBooster</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> The aproximate same effect of the green filter can be accomplished more efficiently by changing the ambient light and other light values, should save you some of that 20% speed drop. <br><br></td></tr></table><br>
<a name="222917"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Flexman</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Changing the ambient light is a good idea, that was one of the things I tried but not good for me as I use a second "non-IR" camera. <br><br></td></tr></table><br>
<a name="222973"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> "infrared imaging is to see varying degrees of 'heat'"<br><br>Actually you are getting terms confused.  Infrared imaging can only see intense infrared light cast from an infrared light source.  Such light sources include many motion detector alarm systems (thus infrared goggles are very useful for avoiding security systems.)  Meanwhile, if you want to be able to see in the dark, you need an infrared "flashlight" to cast infrared light on your surroundings.  Infrared imaging systems commonly include a light attached to the goggles.<br><br>What you are describing is thermo-imaging.  Thermo-imaging sees heat, hence the name. <br><br></td></tr></table><br>
<a name="222982"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's few "thermal" and "ir" reference screenshots (REALLY messy page...):<br><br><a href="http://www.x20.org/thermal/" target="_blank">http://www.x20.org/thermal/</a> <br><br></td></tr></table><br>
<a name="223010"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Andy</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> &lt;jhocking&gt; You are absolutely right... Apologies for being confused... I have been checking up on the subject and find it very interesting...<br><br>&gt;That's why I wrote "infrared" (quoted). :) <br><br>cool... I was a little too fast... It just bothers me when a game uses interesting gadgets but in a completely unrealistic way...<br><br>Lovely pics by the way!<br><br>Andy <br><br></td></tr></table><br>
<a name="223591"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tom</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you played Splinter Cell?<br><br>The heatvision goggles mode is amazing, and runs so smooth.<br><br>Tom <br><br></td></tr></table><br>
<a name="223610"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ziltch</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is some code I wrote a while back to do nightvision/heat vision.<br><br>It does slow the FPS but as it looks at every 2nd pixel, it is workable. <br><br>Also Changing the lights,fog,ambientlight adds to the effect.<br><br>This code in main loop (replace  your updateworld/renderworld)<br><br>[code]<br> If Keyhit(211) then   ;del key toggles nightvision<br>    ; you may want to increase ambient light here<br>    NightView = Not NightView<br> End If<br><br><br>  UpdateWorld<br>  RenderWorld<br>  If NightView then NightVision()<br>[\code]<br><br>The Function<br>[code]<br>Function NightVision()<br>  SetBuffer BackBuffer()<br>  LockBuffer<br><br>  For x = 0 To gw Step 3<br>    For y = 0 To gh Step 3<br>      c=ReadPixelFast(x,y)<br>      WritePixelFast(x,y,16768-c)           ; play here<br>      WritePixelFast(x+1,y+1,16768-(c+cc))  ; for color changes<br>      cc = c<br>    Next<br>  Next<br>  UnlockBuffer<br>End Function<br><br>[\code]<br><br>I like your method Marcelo, looks good. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
