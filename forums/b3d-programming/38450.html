<!DOCTYPE html><html lang="en" ><head ><title >MGS 2 style rain?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >MGS 2 style rain?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >MGS 2 style rain?</a><br><br>
<a name="426317"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just curious, anyone know how they made the rain so realistic in mgs2? I'm not after code, just wondering if they used sprites/particles or a combination..I don't have a ps2 anymore so can't check myself.. <br><br></td></tr></table><br>
<a name="426321"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> It looks like sprites in a particle system for the main rain.  The splashes are just a matter of taking any triangle that is facing "upwards" and creating random splash effects on it. <br><br></td></tr></table><br>
<a name="426330"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah..here I am trying to think up clever ways of making the rain collide in real time for the splashes.. never considered just making it random.<br><br>Worth a shot.. <br><br></td></tr></table><br>
<a name="426333"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, that's my theory.  I could be wrong, but I really can't imagine that they're tracing down to every surface and simulating actual rain drop strikes.  That would be insane. <br><br></td></tr></table><br>
<a name="426336"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah I tried it with sota once, way too slow with striaght linepicks. But on the other hand, without it it's going to be an equal nightmare preventing the rain from falling through objects..like walls...<br><br>Maybe one pick when the rain drop forms along it's inertia...though that means no wind.<br><br>back to square 1. <br><br></td></tr></table><br>
<a name="426340"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> *cough* <a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=474" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=474</a> <br><br></td></tr></table><br>
<a name="426343"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> But on the other hand, without it it's going to be an equal nightmare preventing the rain from falling through objects..like walls...  <br></div><br>I'll bet if you looked closely at MGS2, you'd find that they don't handle it.  They probably get around it with clever level design or just keep the camera in places where you can't see it screwing up. <br><br></td></tr></table><br>
<a name="426351"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Fred:<br>That uses camerapick though.  You don't wanna use that.  Too slow.  <br><br><br><br>Figuring out where it is okay to put splashes, and doing it fast, is trivial if you make all the floors that you want rain to fall on a seperate mesh or surface from the rest of your level.  And you are likely to do that because outdoor areas generally use different textures from indoor areas, and floors generally have different textures from walls.<br><br>If you do that... Or keep a list of polygons which you want rain to fall on, then you can easily generate random points on those polygons. <br><br></td></tr></table><br>
<a name="426388"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >joerae</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just a sidepoint: I was reading a magazine article which mentioned MGS2's rain used some very PS2-specific coding (read, it was crazy!).<br><br>Justification: When they converted it to Xbox, they didn't take the time to adapt the rain effect for the system, which leads to slowdown in that first outside tanker scene, but never again in the game. <br><br></td></tr></table><br>
<a name="426400"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, it does look nice Fred, but it's only running at 27fps here. I can't devote that much time to one aspect of the fx.<br>Plus this is for something I'm writing in vivid..<br><br>Swwift, the problem isn't so much finding where or deciding where to make the splash(Even if it's not random, vivid's linepicks go through an octree to cull any polys outside of the view frustum.) it's more finding a fast, non-demanding way to integrate the rain into the scene without affecting sheltered areas. (Without having to manually set up occluders.)<br><br>I could do bounding boxes I suppose.<br><br>Or maybe create a second mesh just for polys facing up like warren first suggested..still wouldn't be bullet-proof though.<br><br>Bear in mind I'm doing this in vivid guys, so suggestions don't have to fall under what b3d can do..anything's at my disposable. But i'd like to avoid vert shaders, as I want the tech demo to run non shader cards.<br><br>Warren, you might be right, but in all honesty I couldn't live with that, I want rain to heighten the suspension of disbelief, not diminish it...though a selective process wouldn't hurt..like lod...more checks the closer rain is, further away =no checks... <br><br></td></tr></table><br>
<a name="426401"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Joe I read that somewhere too. Makes you wonder what they really did if it wasn't possible on a xbox with vert/pixel shaders... <br><br></td></tr></table><br>
<a name="426420"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Warren, you might be right, but in all honesty I couldn't live with that, I want rain to heighten the suspension of disbelief, not diminish it. <br></div><br>Well, a word of advice ... you sound like you're searching for the perfect world solution when something that looks "good enough" would do.  Is accurately simulating rain the most important thing to your game?  If not, just go with something that gets the job done and looks reasonable. <br><br></td></tr></table><br>
<a name="426427"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well bear in mind this is for the tech demo/game to show off vivid.(don't think spinning cubes will impress too much)..so my quest for perfection aside, bad glitches will give people the wrong impression.<br><br>Vivid's certainly fast enough, just never really needed rain before(Sota's got too slow in the end.) <br><br></td></tr></table><br>
<a name="426431"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Picklesworth</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Important thing is, make the raindrops thin and whitish. Bluish and thick raindrops just don't look right, and make light rainfall look much more heavy than it is, and heavy rainfall just looks awfull. Also, whiteish colours make for a nice sort of fake distortion effect (from my limited experience anyway). <br><br></td></tr></table><br>
<a name="426432"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Add in textures that move down planes in eyespace for the raindrops themselves, and for the planes create a special mesh or array or whatever you prefer and spawn a random amount of splashes on triangles stored within it.  Simple solution, and if I recall correctly this is, for the most part, how Splinter Cell does it.  Wouldn't be suprised if MGS2 handled it the same way, but I haven't played it since my PS2 died (6 months ago). <br><br></td></tr></table><br>
<a name="426440"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeremy Alessi</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just add zones like inside a box where the rain can exist and make the splashes bounce up off the lower part of the box ... have multiple boxes if need be instead of using the custom geometry if it's too complex.  It could be cool though to use the geometry and have the rain and it's following particles bounce of the surface normal.  Definitely use sprites though. <br><br></td></tr></table><br>
<a name="426466"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RifRaf</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> you could just do a linepick above the camera once every few seconds, if there is nothing above the camera then alllow rain to be viewed(however you create it) <br><br></td></tr></table><br>
<a name="426467"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> RifRaf: Well then doesn't that kindof mean that if you go under a shelter that all the rain around you would instantly stop? <br><br></td></tr></table><br>
<a name="426498"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sounds like the best bet is warren's method with a proxy mesh. <br><br></td></tr></table><br>
<a name="426596"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> You'd almost think I had experience developing games or something.  :P <br><br></td></tr></table><br>
<a name="426597"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Odds On</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> In a few games I've played the rain appears to be particles, and to stop it raining inside buildings they simply force the rain to render before the buildings (You could do this in Blitz by using EntityOrder on the rain or maybe by a multi-pass render).<br><br>I'm sure it's not quite that simple but it's something to consider at least. <br><br></td></tr></table><br>
<a name="426634"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AramusM</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does the rain drop position have to be random? could you not have a 64x64 array containing local splash heights calculated with linepicks. Then when you move a certain distance shift the array down once and recalculate heights for only 64 rain positions. <br><br>4096 particles for rain seems more than enough and with a random droping order it should seem random enough. It is then only the initial 4096 height calculations that may take some time, but if the rain slowly starts say over 10-20 seconds you could randomly pick positions from the array over that time until it was filled. <br><br>So the rain doesnt look like it is on a regular grid a small random offset could be added when the linepick is done.<br><br>And for people standing still in the rain each time round the main loop 1 or 2 random drops could have their small random offset and heights recalculated. <br><br></td></tr></table><br>
<a name="426641"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> That sounds like a whole lot of work to simulate something that wouldn't end up looking any better than the canned solution proposed above. <br><br></td></tr></table><br>
<a name="426657"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Calculating hit point isn't the problem.It's knowing when to calculate it.<br><br>If that makes sense... I can't exactly cast a pick from last to current position of each drop...<br><br><br>though, that said..I could optimize the oct-tree pick system to check the destination cell first..no polys = no collision checks needed.....ooeh..that'll work..<br>God bless the vivid! :) <br><br></td></tr></table><br>
<a name="426669"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ashmantle</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, I didn't read throught the whole thing, so I might say nothing new..<br><br>Anyways, I think they made the splashes part of the character animations (part of the character mesh) and just played that particular animation when being out in the rain.. I believe I saw this on a behind the scenes thingy.. long time ago though. <br><br></td></tr></table><br>
<a name="426671"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Spaced<br><br>It still sounds like you're doing too much work for the end result.  But it's your time, so...<br><br>AshMantle<br><br>That wouldn't explain the splashes on the geometry. <br><br></td></tr></table><br>
<a name="426677"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ash, i doubt it unless it was a seperate entity, otherwise the splashes would jump whenever snake's anim changed.<br><br>But it would be possible...even on geo warren, imagine if each vert was simply read into the engine as a location for a splash. hell you could just scan the level geo, devide the polys by the number of splashes you want, then use that as a step value and place the splash emitter at the centre of the poly. <br><br>But anyway, w the oct_linepick system is a part of vivid..so, to add this new feature is simply 'if not destnode\hasGeo return'. Octrees are great for speeding up complex collisions/shadows and what not. <br><br></td></tr></table><br>
<a name="426699"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >koekjesbaby</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok, this is a funny read. i have the metal gear substance editoion and if you watch the making of video they tell you that the rain on the characters (and probably on the tanker as well) is just an animation. so when snake walks into the tanker he just switches to another (set of) animation(s). <br><br></td></tr></table><br>
<a name="426703"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> Again, that doesn't explain the splashes on the geometry.<br><br>The PS2 is highly limited in memory.  I would be amazed if they had a whole other set of animations and geometry in memory JUST for rain splashes. <br><br></td></tr></table><br>
<a name="426707"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >koekjesbaby</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> if it's just one big "model" where a couple of rainsplashes move around real fast? seems very feasable to me... <br><br></td></tr></table><br>
<a name="426708"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> Still sounds like a ton of wasted memory.  But I don't have any facts, so... <br><br></td></tr></table><br>
<a name="426709"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ashmantle</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> just a little extra polygons.. no big memory hog there? (compared to all the other things going on in that game) <br><br></td></tr></table><br>
<a name="426711"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >koekjesbaby</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> exactly, a couple of polygons and a load of keyframes, should not use that much memory. <br><br></td></tr></table><br>
<a name="426716"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> So ... we're talking about storing special geometry which is what was suggested in the first place?  I'm lost now. <br><br></td></tr></table><br>
<a name="426717"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >koekjesbaby</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> mh, maybe i am confused too. i probably misunderstood what you meant in the first place... <br><br></td></tr></table><br>
<a name="426728"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ashmantle</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, I just ran through the special behind the scenes dvd that came with my copy of the game..<br><br>I recorded this section from the effects talks.<br>www.poly.no/mgs2_raindrops.mp3 <br><br></td></tr></table><br>
<a name="426758"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ahh, now if they were part of his model and were simply hidden when he went inside, THAT would be somewhat sensible.<br><br>However, it still leaves the geometry splashes unexplained... <br><br></td></tr></table><br>
<a name="426914"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >poopla</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> The video won't download. <br><br></td></tr></table><br>
<a name="426933"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) ENAY</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; The PS2 is highly limited in memory.<br><br>It's not that limited in memory. Besides during that part of the game very little of anything else happens which would certainly allow that effect to hog a lot of CPU and memory with no slowdown. <br><br></td></tr></table><br>
<a name="426935"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Michael Reitzenstein</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> It's not that limited in memory. <br></div><br>Four megabytes of graphics memory and 32 megabytes of conventional ram isn't 'that limited'?! <br><br></td></tr></table><br>
<a name="426984"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> Memory is every companies biggest problem when trying to do a PS2 port.  Doing the Unreal Tournament port, we had to rip half the content out of the levels for them to even have a prayer of loading... <br><br></td></tr></table><br>
<a name="426987"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> IIRC, and I probably don't, Kojima and his team were down to the last few k of free mem come release.<br><br>However, you're overloking the fact the level geo has to be in memory anyway, so it wouldn't take up extra memory, just cpu time.(I.e for tri=0 to leveltris step 40 : doSplash(tri,Centre_of_Tri) : next)<br>That would explain the slowdown on xbox,as xbox/dx = vertex buffers, not that fast at all to read from, yet ps2 = software vertex processing, so to read the geo data = much faster.<br>Just a guess.. <br><br></td></tr></table><br>
<a name="427048"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >koekjesbaby</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> i was thinking something like this:<br><pre class=code>Graphics3D 640,480,16,2


campiv = CreatePivot()
cam=CreateCamera(campiv)
MoveEntity (cam,0,0,-20)
RotateEntity(campiv, 45,0,0)

l=CreateLight()

p=CreatePlane()
EntityPickMode(p,2)
For i = 1 To 100
    c = CreateCube()
    ScaleEntity(c, Rnd(1,3),Rnd(1,3),Rnd(1,3))
    RotateEntity(c, Rnd(360),Rnd(360),Rnd(360))
    PositionEntity(c, Rnd(-20,20),0, Rnd(-20,20),1)
    EntityPickMode(c, 2)
Next

For splash = 1 To 2 ; use higher values for more intesive rain
    s = CreateSprite()
    EntityColor(s, 255,0,0)
    EntityFX(s, 1)
    
    For frame = 0 To 200
        LinePick(Rnd(-20,20),50,Rnd(-20,20), 0, -100, 0)
        PositionEntity(s, PickedX(), PickedY(), PickedZ())
        SetAnimKey(s, frame, 1,0,0)
    Next
    
    seq = AddAnimSeq(s, 200)
    Animate(s, 2)
Next


While Not KeyHit(1)
	TurnEntity(campiv, 0,0.1,0,1)
	RenderWorld()
    UpdateWorld()
	Flip
Wend
</pre><br><br>the only problem is (in blitz) that i can't turn off the interpolation between keyframes, when you slow down the animation you see the splashes slide from one position to antoher. but that's a minor detail. <br><br></td></tr></table><br>
<a name="427126"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>As proposed above, just create a blanket proxy mesh which dictates where the rain must fall.<br><br>Then, access this mesh whenever you spawn a rain splash. You get the area of a random triangle near the player and spawn a particle.<br><br>Why is this so hard for people to use/understand? it requires only a tiny overhead.</b> <br><br></td></tr></table><br>
<a name="427131"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Braincell</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> Something just occured to me. Why do people opt between quads and sprites, why not just use a polygon isntead of a quad, a triangle. The shape of a triangle compared to a quad isnt that important if you size it right, and its 1/4 vertices less, and 1 less poly. Rain drops can fit inside a triangle like that. <br><br></td></tr></table><br>
<a name="427136"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> Because you can define a quad/point sprite with a single call to the gpu, triangles require 3.(Not in b3d, but with what I'm doing anyway)<br><br>Koe, I'll be using linepicks.(See above) just vivid's super-speedy ones..;) <br>But what i'll be doing is casting down lines pre-runtime,to create a map of splash locations, and mix real-splashes with random ones. <br><br></td></tr></table><br>
<a name="427176"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Something just occured to me. Why do people opt between quads and sprites, why not just use a polygon isntead of a quad, a triangle. The shape of a triangle compared to a quad isnt that important if you size it right, and its 1/4 vertices less, and 1 less poly. Rain drops can fit inside a triangle like that. <br></div><br><br>On all gpu's a textured triangle is slower than a quad because the extra vertex doesn't really matter to it.  In contrast, when you use a triangle, you use at LEAST 4 times the fill rate to compensate for fitting a square texture inside it. Try it in a modelling package and see...<br><br>It's a LOT slower. If it's untextured and you need an untextured triangle then fine... <br><br></td></tr></table><br>
<a name="427182"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> No, modern gpus merely convert quads into two tris at the rendering stage. Texture mapping remains the same.<br>The gain comes from only having to define 4 verts/normals/colors per quad, rather than six per quad using triangles. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
