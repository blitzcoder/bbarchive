<!DOCTYPE html><html lang="en" ><head ><title >confused with joints</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >confused with joints</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >confused with joints</a><br><br>
<a name="215369"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >InvisibleKid</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi, i have a character model and a weapon model.<br>what i want to do is attach the weapon to the hand joint, but this findchild stuff is confusing me and i can't get it working.<br>here is the joint list using Robs xtree function<br><pre class=code>
    11291728 base
        21274632 pelvis
            21347024 rhip
                21347776 rknee
                    21348528 rankle
                        21350240 rfoot
            21351360 lhip
                21227776 lknee
                    21229488 lankle
                        21231232 lfoot
            21232392 chest
                21328736 rsb
                    21330128 rshoulder
                        21332000 relbow
                            21333952 rwrist
                                21205648 rhand
                21206808 lsb
                    21207568 lshoulder
                        21209440 lelbow
                            21211392 lwrist
                                21233656 lhand
                21234440 neck
                    21235680 head
</pre><br><br>i know Joint19 is the one i want i just don't know how to attach to it. <br>any help would be most appreciated.<br><br>TIA <br><br></td></tr></table><br>
<a name="215375"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you tried:<br><br>joint = FindChild(ent,"Joint19")<br>EntityParent newthing,joint<br><br>?? <br><br></td></tr></table><br>
<a name="215586"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >InvisibleKid</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes and it didn't work :(<br>i searched the forum on this subject tried all the suggestions that i saw, i'm just not grasping it i guess. <br><br></td></tr></table><br>
<a name="215609"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DarkEagle</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> using loadanimmesh, right??<br><br>oh - and your a metallica fan, also, correct? :) <br><br></td></tr></table><br>
<a name="215626"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >InvisibleKid</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> lol ummmm yes to both<br><br>i just can't seem to get it to find any of the joints<br><br>heres an snippet of what i'm trying<br><br><pre class=code>
Global dude = LoadAnimMesh("guy.b3d")
PositionEntity dude,0,0,50
TurnEntity dude,0,45,0

ExtractAnimSeq(dude,0,13)	;idle1
ExtractAnimSeq(dude,13,39)	;idle2
ExtractAnimSeq(dude,39,59)	;idle3

Global weapon = LoadMesh("pistol.b3d")
TurnEntity weapon,0,45,0
Global hand = FindChild(dude,rhand)
Global msg$
If hand Then msg$= "yes" Else msg$ = "no" ; just for testing
EntityParent weapon,hand
</pre><br><br><br>edit: i figured out how to rename the joints in cfx and changed the first post accordingly, to give a better understanding of the tree <br><br></td></tr></table><br>
<a name="215747"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> You missed quotes "" off your Joint19 in the FindChild command!!<br><br>hand = FindChild(dude,"Joint19") <br><br></td></tr></table><br>
<a name="215749"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >InvisibleKid</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> i just added the quotes (didn't know you needed them), but it still didn't work. i'm guessing it has something to do with child of the child of the child ... etc. but i don't understand how to access the children of children...<br><br>when i do a countchildren on the entity it only finds 1. i remember seeing a post about this sometime ago but can't find it now.<br><br>edit:<br><br>got it semi working after doing some more searching, i had to do it a bit differntly though<br><pre class=code>
Global hand = FindChild(dude, "rhand")
Global weapon = LoadMesh("pistol.b3d",hand)
</pre><br>entityparent wouldn't parent the weapon to the joint, so i'm gonna have to figure a way to get that working right now. but hey its a start and thanks for your help <br><br></td></tr></table><br>
<a name="216050"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DarkEagle</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> when you say it wouldnt parent it, does the weapon move when you move the dude? if so, it has parented, its just that the weapon hasnt been positioned at the right coordinates. <br><br></td></tr></table><br>
<a name="216086"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >InvisibleKid</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> ya i think its sorted now i had to entityparent weapon,hand,0 and everything seems to be good now (fingers crossed) again thanks for the help guys its much appreciated <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
