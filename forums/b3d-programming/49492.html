<!DOCTYPE html><html lang="en" ><head ><title >AI code for FPS/3PS</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >AI code for FPS/3PS</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >AI code for FPS/3PS</a><br><br>
<a name="550491"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Alienforce</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi all,<br><br>Struggeling hard to get my AI codes to behave :)<br><br>Does anyone have any good examples or links to share.<br>Found mrpye´s "Collision Avoidance V2" but i having trouble getting the bots to work on a nonflat surface. :(<br><br>The AI FSM code i am working on will hopefulley include the states Guard,Search,Panic,Hunt,Shoot to kill.<br><br>If anyone has used the "Collision Avoidance V2" for anything i would be glad to get some inputs.<br><br>Best,<br><br>/Alienforce <br><br></td></tr></table><br>
<a name="550687"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >David819</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> The A.I really depends on the level you have, if it's a basic level where floor and wall are joined in the one file then if the A.I bumps into a floping floor then it will think it is a wall, you need to make two separate meshes for floor and wall and only apply the collision aviodance to the A.I and wall meshes. Hope this makes sense and helps abit. <br><br></td></tr></table><br>
<a name="550701"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ozak</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Waypoints are a good way too. Works excellent in UT. Far better than Q3's level scan approach :) <br><br></td></tr></table><br>
<a name="550849"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Alienforce</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the input! <br><br>Setting up the waypoints now and seperated the "floor" from the level mesh.<br><br>/Alienforce <br><br></td></tr></table><br>
<a name="550883"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> In addition to "ozak", I use waypoints - I didn't post before as I think you are looking for answers with regard to 'Collision Avoidance V2'.<br><br>However, waypoints are really for moving entities.  You still need to take into account collisions.  An easy way to do it is to use 3 lanes of waypoints in a line (for example in a corridor), this allows an entity to 'overtake' another entity whilst maintaining oncoming entity 'traffic'.  Or you could just sling-shot around (left or right) on a single waypoint line.<br><br>You can constantly load the current status of waypoints into a look-up table - a bit like a traffic management system - so rather than a multitude of linepicks, etc your AI can just *know*. <br><br></td></tr></table><br>
<a name="550899"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I completely agree with Puki.<br><br>I spent weeks making my characters randomly move, bump off walls, etc, but inevitably they always got stuck somewhere.<br><br>Eventually I had to junk the system and start again using paths of waypoints.<br><br>The downside is that you couldn't use this for any kind of combat system (which luckily I didn't need).<br><br>The upside is that once you have such a system running, as puki says, you can have 'traffic lanes' of people that look pretty random but which actually aren't.<br><br>The final thing I added was that if two people collided they would turn to each other and say 'How are you?', pause, then move on.<br>A lot of work, but staggeringly good - the first time I saw them do that I whooped! <br><br></td></tr></table><br>
<a name="550904"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, technically, you can use waypoints for combat - you can use a reusable, dynamic, floating, waypoint grid.  A bit like a dynamic waypoint grid in an 'Elite'-type space game for space stations and stuff like that. <br><br></td></tr></table><br>
<a name="550977"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raitsun</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you have an area where bots have to fight the player it is not that difficult to simulate pseudo-combat-A.I. throug waypoints.<br>You can set a net of waypoints that lead to cover-positions, alarms, etc. The Bots than have a simple A.I. System that leads them to special places in the waypoint-Net, dependent on the situation.<br><br>That's what i am going to use in my Action Game.<br><br>Raitsun <br><br></td></tr></table><br>
<a name="551180"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Alienforce</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks again guys for the inputs, Just one more thing..<br>If i will be able to sneak up behind my bots and suprise them :) Then Fredborgs examble of "line of sight 3d" the way to do it ?? <br><br>/Alienforce <br><br></td></tr></table><br>
<a name="551270"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raitsun</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> should not be that difficult to make something like that yourself using linepicks. <br><br></td></tr></table><br>
<a name="552809"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Techlord</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Alienforce <br> <br>When I was working on my B.R.A.I.N FMS for the Project Plasma FPS I found myself employing a combination of LinePicks, 3D A* Pathfinding, and Waypoints/Triggers. Each technique had its hi and low points. A* worked well in open exteriors, Waypoints were excellent for interiors. The goal was to developed a expandable AI system with the basic states Guard, Search, Evade, Hunt, Shoot.<br><br>LinePicks and other collision algos were used to  perform search/scan patterns. I had plans to replace them with hidden geometry, but, not sure about performance impacts.   <br><br>The 3D version A* was based on 2D A* with Blitz mesh collision used in path calculation on X/Z Plane and gravity applied to the Y axis. The A* was multi-tiered to handle long and short distances. Although, it wasn't initially intentional, the A* algo had decent collision avoidance built in.<br><br>Waypoints were simple collision points that simply altered the direction of a moving bot upon contact. These are great for creating patterns of movement or navigating narrow corridors.<br><br><br>Triggers on the otherhand were more complicated offering more trigger mechnism and scripted control. Triggers were use to activate actions/events. Although they weren't specific to bots, they another component of BRAIN System and responsible for much of the interectavity.<br><br>I ran into some bugs that pretty much brought development to a halt. I would like to restart work on this though as it was supposed to have been ultimate contribution to the Project PLASMA FPS. <br><br></td></tr></table><br>
<a name="553059"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Alienforce</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> It sounds like a great system Frank.<br><br>The B.R.A.I.N FMS is it included in the Plasma lib. ?<br><br><br><br>/Alienforce <br><br></td></tr></table><br>
<a name="553147"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Techlord</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Alienforce <br> <br>Unfortunately, the BRAIN FMS was never completed nor fully tested for Project PLASMA. I could drum up the code. However, developing A* pathfinding algo was really useful for learning collision avoidance and highly recommended. <a href="http://www.gamedev.net/reference/articles/article2003.asp" target="_blank">Patrick Lester's A* Pathfinding for Beginners</a> was one the best tutorials I found on A* and helped me design my version. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
