<!DOCTYPE html><html lang="en" ><head ><title >Tile texture on mesh?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Tile texture on mesh?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Tile texture on mesh?</a><br><br>
<a name="884446"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LamptonWorm</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>Is it possible to set up a texture that when applied to multiple meshes of differrent sizes, the texture tiles? Perhaps not my best explanation ;)<br><br>Ok, we have a 64x64 texture with some bricks on. We have a mesh that is 64x64, which when textured with with the bricks looks great. If we make a different mesh of 128x64, and use the same texture, I'd like the new mesh to tile the texture so the texture isn't stretched, it is tiled.<br><br>Basically the idea is the have a single texture that can be used on meshes of differrent sizes, and the texture tiles as apposed to stretches.<br><br>I'm tired.. forgive me!<br><br>Cheers,<br>LW. <br><br></td></tr></table><br>
<a name="884447"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> How a texture is applied to a mesh depends entirely on the UV coordinates of the mesh. So yes, of course, you can have the texture applied differently to different meshes. Just UV map the meshes accordingly in your modeller. <br><br></td></tr></table><br>
<a name="884517"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LamptonWorm</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks. Bit more awake now :)... I assume I can do the UV mapping direct in b3d? I'm creating a basic model builder and I want to create a block and have the user scale it how they like, with the texture tiling accordingly.. I think this is possible I just need to get familiar with the commands.<br><br>Cheers,<br>LW. <br><br></td></tr></table><br>
<a name="884518"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can do UV mapping in blitz via the VertexTexCoords() command.<br><br>If you are building your mesh in blitz, and assuming the tiles are square, getting the texture to not stretch is just a case of working out a ratio of height to width, and matching the texture co-ords to it, or scaling the texture accordingly.<br><br>For instance 64x128 would meaning you having to scale the texture 2 times along the x axis to 1 of the y axis, so:<br><br>ScaleTexture texture,2,1<br><br>would sort that problem out.<br><br>If you are building the tile mesh in blitz, you will have to set the texture co-ords of each vertex as you build it anyway. If not, don't worry about texturecoords and just use the scale texture.<br><br>However, if you use this texture on another mesh, it will be scaled, as scaletexture affects all meshes using this texture. <br><br></td></tr></table><br>
<a name="884527"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LamptonWorm</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Ross C.<br><br>Last night I found that command but I wasn't using it correctly, just found the online version with more info - <a href="http://www.blitzbasic.com/b3ddocs/command.php?name=VertexTexCoords&amp;ref=3d_cat" target="_blank">http://www.blitzbasic.com/b3ddocs/command.php?name=VertexTexCoords&amp;ref=3d_cat</a> - hopefully that'll get things moving nicely.<br><br>I guess I'll also need some way to pick the side of the shape so I adjust the right vertex, perhaps some 'select face' code. The plot thickens ;)<br><br>Cheers,<br>LW. <br><br></td></tr></table><br>
<a name="884528"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LamptonWorm</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ps. yes, I'm building the mesh in Blitz, and I want to re-use the same texture on different sizes meshes, so if I've got this right scaletexture won't be for me, I need to change the vertex texture coords on each mesh specifically. <br><br></td></tr></table><br>
<a name="884529"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think he want to use the same texture on both meshes so Ross's method won't work for the reasons he explained.<br><br>Say you had a quad 64 x 64 with uv's set as 0,0 ; 1,0 ; 1,1 ; 0,1 from top left corner going clockwise.   To make the same texture repeat x 2 on a 128 x 64 quad set the uv's as 0,0 ; 2,0 ; 2,1 ; 0,1.<br><br>You will also have to ensure that you don't set the clamp U and clamp V flags otherwise it won't work.<br><br>Make sense? <br><br></td></tr></table><br>
<a name="884553"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Isn't there a segmented plane example in the code archives? I'm sure it lays out the UV co-ords as well, whilst letting you choose the segmentation. <br><br></td></tr></table><br>
<a name="884559"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LamptonWorm</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>Just to confirm what I'm trying to do, I have 1 texture that I want to apply to multiple meshes. I want the texture to tile as needed when the meshes are scaled out. Scaling will be done in increments that snap to the texture size. Pretty much how CShop works, in terms of the texture scaling/tiling.<br><br>If I have a single box, and a texture applied to it and all is well, I want to then copy that mesh and scale the copy to twice the original size on x-axis. The texture should then be repeated twice, rather than stretched.<br><br>I'm trying to get to a point where I can draw/scale wall meshes and the texture auto tiles.<br><br>Cheers,<br>LW. <br><br></td></tr></table><br>
<a name="884570"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sometimes I think I'm invisible here.  Below is a function I knocked up for you and example usage ...<br><br><pre class=code>
Graphics3D 640,480,16,1

;create texture
tex = CreateTexture( 64, 64 )
SetBuffer TextureBuffer( tex )
For y = 0 To 1
	For x = 0 To 1
		If ( x + y ) Mod 2 = 0
			Color 255,0,0
		Else
			Color 0,0,255
		EndIf
		Rect x*32,y*32,32,32,1
	Next
Next
SetBuffer BackBuffer()

;set up camera
camera = CreateCamera()
PositionEntity camera, 0,0,-10
pivot = CreatePivot()

;create normal cube
cube = CreateCube( pivot )
PositionEntity cube, 5,0,0
EntityTexture cube, tex

;create wide cube
widecube = CopyMesh( cube, pivot )
PositionEntity widecube, -5,0,0
ScaleMesh widecube, 3,1,1
MESHscaleUV( widecube, 1 , 3,1 )
EntityTexture widecube, tex

;create tall cube
tallcube = CopyMesh( cube, pivot )
PositionEntity tallcube, 0,0,5
ScaleMesh tallcube, 1,4,1
MESHscaleUV( tallcube, 2, 1, 4 )
EntityTexture tallcube, tex

;create long cube
longcube = CopyMesh( cube, pivot )
PositionEntity longcube, 0,0,-5
ScaleMesh longcube, 1,1,2
MESHscaleUV( longcube, 3, 2, 1 )
EntityTexture longcube, tex

;show
While Not KeyDown(1)

	TurnEntity pivot, 0,1,0
	RenderWorld()
	Flip

Wend

;========================================================================
;========================================================================
;========================================================================

Function MESHscaleUV( mesh , Axis , ScaleU#, ScaleV# )

	;axis = 1 = x
	;axis = 2 = y
	;axis = 3 = z
	
	s = GetSurface( mesh ,1 )
	
	For v = 0 To CountVertices( s ) - 1
	
		Select Axis
			Case 1
				CHANGE = ( VertexNY( s, v ) &lt;&gt; 0 Or VertexNZ( s, v ) &lt;&gt; 0 )
			Case 2
				CHANGE = ( VertexNX( s, v ) &lt;&gt; 0 Or VertexNZ( s, v ) &lt;&gt; 0 )
			Case 3
				CHANGE = ( VertexNX( s, v ) &lt;&gt; 0 Or VertexNY( s, v ) &lt;&gt; 0 )
		End Select

		If CHANGE VertexTexCoords s, v, VertexU( s, v ) * ScaleU , VertexV( s, v ) * ScaleV
	
	Next
	
End Function			
</pre> <br><br></td></tr></table><br>
<a name="884594"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LamptonWorm</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Stevie G, thank you for taking time to help me out here - sorry you feel invisible. Can't wait to get back to my dev env later tonight to have a play with this. Appreciate your help, nice one.<br><br>Cheers,<br>LW. <br><br></td></tr></table><br>
<a name="884611"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Stevie Wonder!<br><br>Sorry, that was poor :o) <br><br></td></tr></table><br>
<a name="884812"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Newbunkle</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> EntityAlpha Steve,1 <br><br></td></tr></table><br>
<a name="884882"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LamptonWorm</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> lol ;) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
