<!DOCTYPE html><html lang="en" ><head ><title >tokamak - how do I rotate an object?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >tokamak - how do I rotate an object?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >tokamak - how do I rotate an object?</a><br><br>
<a name="344519"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I want to rotate an object (and by this I mean a thing made up from a few rigid bodies joined by joints), but how can I do this? I want to be able to position it at a certain place and at a certain orientation, and have it start off from that point with zero velocity or momentum.<br><br>If I just rotate the central rigid body, it imparts a huge torque onto the object causing it to spin.<br><br>I've tried using the SetMomentum and SetTorque commands to zero the momentum on all parts of the object, but it still spins.<br><br>Anyone know how I can achieve this apparently simple thing?<br><br>Thanks <br><br></td></tr></table><br>
<a name="344521"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'd like to know this too. Because if you try and rotate it, it rotates just the RB, and not all it's bits n bobs.<br><br>I've done the position part - spent all day on it today - basically it's just TOKRB_SetPosition applied to all rbs at once.<br><br>setting the rotation and position ignores collisions by the way but I'm guessing this is what you want. I'm doing it the hard way I suppose.<br><br>One thing I need help with is actual steering! it's got me hilariously confused now. <br><br></td></tr></table><br>
<a name="344544"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chi3f Stadi</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does this help you ?<br><br>;AT THE BEGINNING<br>model=CreateCube()<br>rigidbody = TOKRB_Create()<br>geom = TOKRB_AddBox (rigidbody,2.0,2.0,2.0)<br>...<br>TOKRB_SetPosition rigidbody,0,0,0<br>TOKRB_SetRotation rigidbody,0,0,0<br>PositionEntity cube,TOKAB_GetX#(rigidbody),TOKAB_GetY#(rigidbody),TOKAB_GetZ#(rigidbody)<br>RotateEntity cube,TOKAB_GetPitch#(rigidbody),TOKAB_GetYaw#(rigidbody),TOKAB_GetRoll#(rigidbody)<br><br>;TO TURN YOU COULD USE FOR EXAMPLE<br>TOKRB_SetAngularMomentum rigidbody,0,-6,0<br><br>In the beginning i had the same problem with my rigidbodies. Spineffect could be stopped by adjusting the TOKRB_SetBoxInertiaTensor values ! <br><br></td></tr></table><br>
<a name="344584"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IPete2</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Er...<br><br>Shouldn't you be using AnimatedBodies for collections of objects and none collision objects?<br><br>TOKAB commands are for tokamak animated bodies. These are not affected by physics, and are positioned and rotated by your program. They have to be made out of the tokamak primitives, and like rigid bodies, can have more complex shapes constructed from the geometries. Uses for these are things like moving platforms, doors, gates, traps, etc. <br><br>Is this what you meant or am I up the wrong tree again?<br><br>There is also an example on player factory of connecting RBs together, making a table and chair, find it here:<br><br><a href="http://playerfactory.proboards25.com/index.cgi?board=tokamak2&amp;action=display&amp;num=1076363448" target="_blank">http://playerfactory.proboards25.com/index.cgi?board=tokamak2&amp;action=display&amp;num=1076363448</a><br><br>IPete2. <br><br></td></tr></table><br>
<a name="344645"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you still want to use a jointed model, you could parent the meshs representing the jointed parts to the center part you rotate around (if it isn' already), then position and rotate you blit model to the proper position. then, pass global position and rotation on to tokamak. <br><br></td></tr></table><br>
<a name="344657"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thats quite elegent. Perhaps a hierarchy of pivots. Each pivot's name could hold the rb handle. <br><br></td></tr></table><br>
<a name="344824"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> What I want to do is reset my car back on the track after it plummets off. It's the block car from the demo, with 4 RBs for wheels.<br><br>What I actually want to happen is that it is repositioned over the track and set the correct orientation, with no momentum or velocities. However, there seems to be no way within Tokamak perform a sort of 'reset' on the entity to achieve this.<br><br>I've tried zeroing the momentum of each part, but they still aquires enormous momentums from the twist.<br><br>I shall try setting the interia tensors of all to zero before reorienting to object, to see if that works... <br><br></td></tr></table><br>
<a name="344903"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sweenie</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do you reset the velocity as well?<br><br>This should work...<br>TOKRB_SetVelocity RB,0,0,0<br>TOKRB_SetAngularMomentum RB,0,0,0<br>Apply this to ALL parts.<br><br>It's also important that all parts are repositioned correctly or else the joints could generate unwanted forces to bring the parts together. <br><br></td></tr></table><br>
<a name="345026"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cheers guys - I got it working. I had to set all the inertia tensors to zero, velocities to zero and momentums to zero, then rotate the central object and reset all the inertia tensors afterwards. It works OK now. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
