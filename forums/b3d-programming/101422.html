<!DOCTYPE html><html lang="en" ><head ><title >Cubemap not working?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Cubemap not working?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Cubemap not working?</a><br><br>
<a name="1204343"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cubed Inc.</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Whenever I try applying a cubemap flag (128) to a pre-rendered cubemap texture, it returns with an error saying that the texture doesn't exist. Why so? <br><br></td></tr></table><br>
<a name="1204357"></a>

<a name="1204358"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Omnicode</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sometimes Blitz returns an error on such textures if you removed all the texture filters and then didn't reassign the texture color. <br><pre class=code>
Texturefilter "",1
</pre><br>Is needed most likely.<br>Ran into that issue bout 3 days ago when I was messing around with some water code. <br><br></td></tr></table><br>
<a name="1204403"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cubed Inc.</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Am I using this code right?<br><br>Global shadertexB=LoadTexture("cubemap.png",128)<br>TextureBlend shadertexB,3<br>TextureFilter shadertexB,1<br>SetCubeMode shadertexB,1<br><br>What should the cubemap look like if implemented correctly? <br><br></td></tr></table><br>
<a name="1204404"></a>

<a name="1204405"></a>

<a name="1204406"></a>

<a name="1204407"></a>

<a name="1204408"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Omnicode</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Blitz3d default texture flags are 1+8, meaning it has color and is mipmapped.<br>So usually (if you have a need to exclude certain flags from certain textures within your game) You'd clear the texture filters. Using the command 'ClearTextureFilters' and THEN making sure to do the 'Texturefilter "",1 so that all textures have color and will be loaded.<br><br>Well, for starters the texturefilter command needs to be executed before you load the texture, as it automatically adds flags (such as color, masking, alpha, etc) upon loading of any texture.<br><br>The texturefilter command applies whatever flag has been identified to all post-loaded textures.<br><br>Also, i'm not exactly sure if Blitz3d fully supports PNG as a cubemap texture. Perhaps try simply renaming it to a .BMP or .JPG file extension.<br><br>Note: that the texturefilter command does not require the textures handle.<br>It only requires a snippet of the texture filename in order to apply the flags.<br><br>So using 'Texturefilter "",1' would mean to apply to all textures loaded as "" is contained within every filename string.<br><br>Secondly, You don't really need to 'setcubeface' as that'll only draw the texture to the North Side of the cubemap.<br><br>Here is proper usage.<br><br>ClearTexturefilters<br>Texturefilter "",1<br>Global shadertexB=LoadTexture("cubemap.png",128+256)<br>TextureBlend shadertexB,3<br>;Apply your texture to whatever.<br><br>A proper cubemap is basically supposed to show all the objects around the object that is textured with the cubemap, like a mirror. But, your method will most likely generate an object that is shiny and the texture will apparently 'move' when the camera is moving around the object. <br><br></td></tr></table><br>
<a name="1204503"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cubed Inc.</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nope. Still says the texture doesn't exist. <br><br></td></tr></table><br>
<a name="1204505"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cubed Inc.</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't know; no matter what I try I still can't get that damned cubemap function to work -_- <br><br></td></tr></table><br>
<a name="1204506"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cubed Inc.</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> REALLY irritating <br><br></td></tr></table><br>
<a name="1204507"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> What are the dimensions of the texture?<br><br>Loading cubemaps in Blitz3D has some specific requirements. Read the information at "flag 128" here: <a href="http://blitzbasic.com/b3ddocs/command.php?name=CreateTexture&amp;ref=3d_cat" target="_blank">http://blitzbasic.com/b3ddocs/command.php?name=CreateTexture&amp;ref=3d_cat</a> <br><br></td></tr></table><br>
<a name="1204510"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cubed Inc.</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> For sake of reference, what would the typical cubemap texture dimensions be? I understand that they have to be by the power of two. <br><br></td></tr></table><br>
<a name="1204513"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> What are the dimensions of the texture you are using? <br><br></td></tr></table><br>
<a name="1204532"></a>

<a name="1204536"></a>

<a name="1204537"></a>

<a name="1204538"></a>

<a name="1204539"></a>

<a name="1204540"></a>

<a name="1204543"></a>

<a name="1204544"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Omnicode</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hm, this is very strange. I'm assuming you have the source in the same path as the file? Or do you store your textures in a completely different folder associated with your media, if so you simply forgot to 'find' the actual file. So long as the dimensions aren't terribly crazy I doubt that wouldn't have much of an effect.<br><br>Occasionally PNG's have messed up for me, did you try simply saving the image as a different extension? i.e BMP, JPG.<br><br>-For a cube map texture to load.<br>1. Graphics3D needs to be initialized.<br>2. Texture must have 1 Flag assigned.<br>3. Must be file-pathed correctly.<br>4. All 6 images that comprise a cube map image must also be to a power of 2.<br><br>;---1---;<br>Graphics3D 800,600,32,2<br>Setbuffer Backbuffer()<br><br>;---2---;<br>;Default texture filters are color and mipmapped. (1+8) So i don't need to ;apply any since i haven't removed them with the clear texture filters ;function.<br><br>;---3--- AND ---4---;<br>;Here's an example of a relatively small cube map image/texture.<br><img src="http://i42.tinypic.com/2v9xab5.png"><br>-Possible Dims- (Well, I don't think you'd need anything bigger than 512 tbh)<br>;Cell Size;<br>;2x2 (2*6)  =12x2<br>;4x4 (4*6)  =24x4<br>;8x8 (8*6)  =48x8<br>;16  (16*6) =96x16<br>;32  (32*6) =192x32<br>;64  (64*6) =384x64<br>;128 (128*6)=768x128<br>;256 (256*6)=1536x256<br>;512 (512*6)=3072x512<br><br>So, unless you've got a freak of a texture as a cubemap. One of those sizes will do the trick. 6x1 is possible but thats just so low resolution there's no need for it.<br><br>Global shadertexB=loadtexture("Directory that leads to the file",128+256)<br>textureblend shadertexB,3<br>;Apply texture. <br><br></td></tr></table><br>
<a name="1204648"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cubed Inc.</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah, I see now. My textures weren't going by that certain size pattern. <br><br></td></tr></table><br>
<a name="1204652"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Omnicode</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Glad to have helped haha. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
