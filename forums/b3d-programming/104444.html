<!DOCTYPE html><html lang="en" ><head ><title >How to hide sides of blocks that cannot be seen?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >How to hide sides of blocks that cannot be seen?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >How to hide sides of blocks that cannot be seen?</a><br><br>
<a name="1265511"></a>

<a name="1265512"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Liimbix</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi all, as some of you know, I'm working on and expanding my voxel engine, and I would really like to work on optimizations so that it can run better before I add new features. My computer is not the beefiest, so I want to get the best performance possible. When it creates the world, as of now a 20*20 flat world, (so pretty small), it gives me about 30-32 FPS when all blocks are rendered in the camera. When I'm looking away from the blocks, I get about 56-61 FPS. I have heard about a method that programmers use, and that Notch used when he made Minecraft, was to hide the sides of blocks that are against another block. I'm not completely sure how to go about this. I have thought about getting the amount of triangles on the surface of these cubes and change one side to 0% transparency, but it seems that all of a cube's sides are one side, so I can't single out a certain side and just hide one of them. The next idea was to create 6 different, very thin rectangles, and attach them all as one cube, and hide the non-seen ones as necessary. But then I thought of, how would I redraw a texture on a missing side when a block is taken away, and when I place a block, how would I go about removing a side of a block that was already there. I'm sorry if I ranted, but I'm just looking for a method to hide one or more sides of a single cube, so that less tris are rendered. Thanks community (: <br><br></td></tr></table><br>
<a name="1265518"></a>

<a name="1265519"></a>

<a name="1265520"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> One way to decrease render time would be to merge all cubes which are in the same area (10x10 area for example) in the same mesh in the same surface surface.<br><br>So you could keep a list of the cubes (with their properties) in order to be able to modify the cubes of the area, but when the world is not modified, the world would be only a few meshes with a few surfaces.<br><br>And when you want to modify the world, this would allow you to modify only some areas (the cubes of these areas) and consequently minimize the time it takes to build the new surface of each area.<br><br>Also to decrease the number of tris to render per area, you could separate each area in 6 meshes with 6 surfaces instead of 1 surface, one surface for each side of the cubes, (one surface for the front sides, one surface for the back sides, one surface for the left sides, one surface for the right sides, one surface for the top sides, one surface for the bottom sides)<br>And depending on in which direction the camera looks, calculate which sides are visible, and only display the meshes/surfaces with the visible sides.<br>(not sure if this would decrease or increase rendertime since you would reduce the number of triangles per area but you would increase the number of surfaces per area (up to 3 surfaces to display per area)<br><br>And to render a big world with many areas, maybe render the far away areas only each xms and keep this render in an image, and render the near areas each frame and draw this over the image of the faraway render. If your character/vehicle cannot move fast, this would be a good approach i think.<br><br>That's what i would try... <br><br></td></tr></table><br>
<a name="1265521"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Liimbix</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> So, if I merge these cubes into one big one, would I just create a 10*10 cube, instead of littler ones? Or is there a command to merge multiple entities? Also, If I make one big cube instead of multiple little ones, how would I remove a chunk from that bigger block, whenever I break a block? Thanks so much for your help (: <br><br></td></tr></table><br>
<a name="1265525"></a>

<a name="1265526"></a>

<a name="1265527"></a>

<a name="1265528"></a>

<a name="1265529"></a>

<a name="1265530"></a>

<a name="1265531"></a>

<a name="1265532"></a>

<a name="1265533"></a>

<a name="1265534"></a>

<a name="1265535"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Also i would limit the number of cubes on Y<br><br>Let's say that an area is 10x10x10 = 1000cubes, this can be one surface of 12000tris or 6 surfaces of 2000tris (one for each side)<br>So for a zone of 10x10 areas (only 10units on Y) you would have either 100 surfaces of 12000tris or 600surfaces of 2000tris, knowing that not all surfaces would be visible and that you can render the far away surfaces only each xms and keep the image of the render, and draw the image of the render of the near surfaces each loop.<br><br>Also i suppose that you could calculate which cubes are the "surface" cubes (where player can walk on or which player can interact with) and only consider these cubes when building the area so that the numbers of cubes per area would be reduced.<br><br>Maybe you could have only one mesh and a few surfaces for a 100x100 area if you only consider the cubes which are on the surface) 100x100x12 = 120000 tris... doable...<br>And if you create one surface for each side, you would have 6 surfaces of 20000tris, again doable...<br><br>To add a cube or remove a cube from an area, you would have to first update the list of cubes of the concerned area, and then rebuild the surface of the area depending on the remaining cubes in the list.<br><br>Read the doc : <br><a href="http://www.blitzbasic.com/b3ddocs/command_list_3d_cat.php?show=Mesh" target="_blank">http://www.blitzbasic.com/b3ddocs/command_list_3d_cat.php?show=Mesh</a><br><a href="http://www.blitzbasic.com/b3ddocs/command_list_3d_cat.php?show=Surface" target="_blank">http://www.blitzbasic.com/b3ddocs/command_list_3d_cat.php?show=Surface</a><br><br>An example that may help :<br><a href="http://www.blitzbasic.com/Community/posts.php?topic=102895" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=102895</a> (#1)<br><br>Maybe it is not the best approach, i don't know, i have never tried to do this, but the idea is to limit the number of surfaces and of vertices triangles per surface... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
