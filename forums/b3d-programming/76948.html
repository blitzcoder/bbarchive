<!DOCTYPE html><html lang="en" ><head ><title >game/particle candy</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >game/particle candy</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >game/particle candy</a><br><br>
<a name="861008"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oiduts Studios</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok im stuck on this but im sure it is simple.<br>If you already have a game set up with a camera and want to put a emitter in it how do manage this code?<br><br>InitParticles(Cam,"..\Media\particles.png", 6) <br><br></td></tr></table><br>
<a name="861015"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mtnhome3d</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> is the cam global or able to be "seen" by the function call? <br><br></td></tr></table><br>
<a name="861019"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >stayne</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> and have you studied the samples that come with the lib? <br><br></td></tr></table><br>
<a name="861040"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, it's pretty simple. TBH, your best using Candy Store particle editor. You design your particle effect, or choose from pre-defined ones, then it exports the code.<br><br>For instance, i will create a fire torch emitter in Candy Store, and it will export the following .b3d file:<br><br><pre class=code>
;----------------- CODE CREATED BY CANDY STORE ---------------------

Function CreateEmitter_torch% () 

Local  EM% , P1% , P2% , P3%

;//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
; SLOT 1 (One)
;//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	P1 = CreateParticleType()

	ParticleType_SetImage 					P1 , 5
	ParticleType_SetAddedBlend 			P1 , 0
	ParticleType_SetSpeed 					P1 , 5.0 , 2.0
	ParticleType_SetRandomSpeed 		P1 , 0.0 , 0.0 , 0.0
	ParticleType_SetSize 					P1 , 0.4 , 1.0 , 0.84 , 3.0
	ParticleType_SetAlpha 					P1 , 0.7 , 0.5 , -1.0
	ParticleType_SetWeight 				P1 , -1.0 , 0.5
	ParticleType_SetRotation 				P1 , 1 , 90.0
	ParticleType_HorizontalAlign 			P1 , 0
	ParticleType_SetColor 					P1 , 155 , 155 , 170 , 60 , -100.0 , -100.0 , -105.0
	ParticleType_SetStartOffsets 			P1 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0
	ParticleType_SetEmissionShape 	P1 , 0
	ParticleType_SetInnerAngle 			P1 , 0.0
	ParticleType_SetOuterAngle 			P1 , 30.0
	ParticleType_SetCircularMotion 		P1 , 0.0
	ParticleType_SetLifeTime 				P1 , 1500
	ParticleType_SetBounce 				P1 , 0.0 , 0.0 , 0
	ParticleType_SetPulsation 				P1 , 0.0
	
;//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
; SLOT 2 (Two)
;//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	P2 = CreateParticleType()

	ParticleType_SetImage 					P2 , 9
	ParticleType_SetAddedBlend 			P2 , 1
	ParticleType_SetSpeed 					P2 , 5.0 , 2.0
	ParticleType_SetRandomSpeed 		P2 , 0.0 , 0.0 , 0.0
	ParticleType_SetSize 					P2 , 2.0 , 1.0 , 2.0 , 3.0
	ParticleType_SetAlpha 					P2 , 0.7 , 0.5 , -2.0
	ParticleType_SetWeight 				P2 , -2.0 , 0.5
	ParticleType_SetRotation 				P2 , 0 , 90.0
	ParticleType_HorizontalAlign 			P2 , 0
	ParticleType_SetColor 					P2 , 250 , 150 , 50 , 50 , -50.0 , -50.0 , -55.0
	ParticleType_SetStartOffsets 			P2 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0 , 0.0
	ParticleType_SetEmissionShape 	P2 , 0
	ParticleType_SetInnerAngle 			P2 , 0.0
	ParticleType_SetOuterAngle 			P2 , 75.0
	ParticleType_SetCircularMotion 		P2 , 0.0
	ParticleType_SetLifeTime 				P2 , 1500
	ParticleType_SetBounce 				P2 , 0.0 , 0.0 , 0
	ParticleType_SetPulsation 				P2 , 0.0
	
;//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
; SLOT 3 (Three)
;//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	P3 = CreateParticleType()

	ParticleType_SetImage 					P3 , 1
	ParticleType_SetAddedBlend 			P3 , 1
	ParticleType_SetSpeed 					P3 , 8.0 , 5.0
	ParticleType_SetRandomSpeed 		P3 , 0.0 , 0.0 , 0.0
	ParticleType_SetSize 					P3 , 0.2 , 0.2 , -0.5 , 10.0
	ParticleType_SetAlpha 					P3 , 1.0 , 0.5 , -1.0
	ParticleType_SetWeight 				P3 , 3.0 , 1.0
	ParticleType_SetRotation 				P3 , 2 , 90.0
	ParticleType_HorizontalAlign 			P3 , 0
	ParticleType_SetColor 					P3 , 250 , 100 , 0 , 50 , -100.0 , -100.0 , 0.0
	ParticleType_SetStartOffsets 			P3 , 0.0 , 0.0 , -0.5 , 0.0 , 0.0 , 0.0
	ParticleType_SetEmissionShape 	P3 , 0
	ParticleType_SetInnerAngle 			P3 , 0.0
	ParticleType_SetOuterAngle 			P3 , 360.0
	ParticleType_SetCircularMotion 		P3 , 0.0
	ParticleType_SetLifeTime 				P3 , 1000
	ParticleType_SetBounce 				P3 , 0.0 , 0.7 , 10
	ParticleType_SetPulsation 				P3 , 0.0
	

;//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
; CREATE EMITTER AND ADD PARTICLES
;//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	EM = CreateEmitter()

	Emitter_AddParticleType EM , P1 , 0 , 9000000 , 50
	Emitter_AddParticleType EM , P2 , 0 , 9000000 , 50
	Emitter_AddParticleType EM , P3 , 0 , 9000000 , 45

	Emitter_SetSound EM , "Particles\flames.mp3" , 1

	Return EM

End Function
</pre><br><br>Please NOTE that the 9000000 is the life time of the particle. Candy Store exports the code but gives it a very short life time, so increase it :o)<br><br>Anyway, to create the emitter, using that code:<br><br><pre class=code>
InitParticles(camera,"particles\particles.png", 3) ; standard code to start up the lib.

; this code uses the functions created by Candy Store in the above code.
Global torch_Emitter = CreateEmitter_torch% () ; calls the function in the Candy Store generated code
PositionEntity torch_Emitter,111.7,   -403.2,   -74.2 ; basic code to position the emitter
Emitter_Start torch_Emitter ; starts the emitter
Emitter_SetScale torch_Emitter,1

Global torch_light = CreateLight(2)
PositionEntity torch_light,111.7,-403.2,-74.2
LightColor torch_light,252,221,93
LightRange torch_light,15
</pre><br><br>Please also note, that you MUST position the emitter before you start it. For some reason, if you are using sounds, then the sound will emit from the position of the emitter when it starts. So, starting the emitter, then moving it, will cause the sound to emit from it's previous position. Took me AGES &lt;&lt;&lt;&lt;&lt; to find the problem :o) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
