<!DOCTYPE html><html lang="en" ><head ><title >BrokenBasic - is my program too complex for BB3D?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >BrokenBasic - is my program too complex for BB3D?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >BrokenBasic - is my program too complex for BB3D?</a><br><br>
<a name="1054106"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Crinkle</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well i have made this program and it's finally pushed BB3D over the top. Check out the link:<br><br><a href="http://www.selfign.co.uk/BrokenBasic.zip" target="_blank">http://www.selfign.co.uk/BrokenBasic.zip</a><br><br>It's a zip as it's got other files that it reads.<br><br>Basically the program is supposed to read weapons, and then its going into the second part now where it then opens other files and checks their &lt;Name&gt; tags to make sure the strings match what is referenced in weapons. But it doesn't work. the function at issue is check_reference_tags as you can probably see, what should happen is it draws out a list of the dep_exp (explosion references) and as it reads through the file match the names it finds to what is in the database. However it matches nothing even though its programmed correctly.<br><br>What is going on!! <br><br></td></tr></table><br>
<a name="1054109"></a>

<a name="1054110"></a>

<a name="1054111"></a>

<a name="1054112"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Your problem is on lines 1042=1045:<br><br><pre class=code>
...
Linenow$=ReadLine(reffile$)
    numline=numline+1
    tagtxt$=""
    If Mid$(Linenow$,2,6)="&lt;Name&gt;" Then
...
</pre><br><br><strike>For some reason I can't immediately spot, Linenow is being read without the initial tabs (ReadLine isn't supposed to trim starting whitespace, and doesn't in my projects, so I don't know how you made it do that). This means that the &lt;Name&gt; tag is beginning at the first character and your test starting on character 2 is failing.</strike><br><br><b>EDIT:</b> Whoops, got that diagnosis wrong - the tabs are read, but they don't show up in the debugger panel. However, it's causing the same problem - there are two tabs before &lt;Name&gt; and you're only checking at character 2, so it still won't match. You'll also need to do something about the fact that the tags in the data files don't seem to be consistent as far as capitalisation goes. <b>END EDIT</b><br><br>Now, that said, please lose the arrogance. Your program isn't too complex for Blitz3D, but it is a mess of undeclared or even unused variables, incorrect types, inconsistent and nigh-unreadable indenting and a total misunderstanding of XML (seriously, this whitespace issue is exactly the sort of problem that file format is designed to <i>prevent</i> because it's supposed to allow infinitely-nestable data).<br><br>For a start, get a decent editor like IDEal that highlights undeclared and incorrectly-typed variables. Storing file handles in strings can't be doing good things for this program's performance.<br><br>And next time, please don't include "even though its programmed correctly". It <b>isn't</b>, and it's hard for the rest of us to provide meaningful help through the blind rage induced by that sort of idiotic comment.<br><br>Apologies for my tone. I will try to provide solely constructive criticism from here on out.<br><br><font class="tiny">Last edited 2010</font> <br><br></td></tr></table><br>
<a name="1054113"></a>

<a name="1054120"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Crinkle</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ahah i got it working now! What it is is one statement is checking LineNow$ and the one below it, which works right, is reading rline$. This would be when i copied and pasted that part of the code from elsewhere, after coding for so long i must have got blind!<br><br>BB3D is restored to good standing again!<br><br><font class="tiny">Last edited 2010</font> <br><br></td></tr></table><br>
<a name="1054122"></a>

<a name="1054123"></a>

<a name="1054124"></a>

<a name="1054125"></a>

<a name="1054127"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK, I'll try explaining again.<br><br><div class="quote"> Therefore it would appear that the programming language has some weird flaw in it. <br></div><br><br>No. Do not leap to this assumption just because you wrote buggy code. Programming languages are mathematically provable as correct and unless you have good reason to believe Mark is an unusually incompetent language designer, this is a total non-starter.<br><br>Now, as for the actual issue:<br><br><div class="quote"> The issue seems to be that in that functions: &lt;snip&gt; don't ever get the code in the middle of them executed. <br></div><br><br>As I said above, this is because the Mid() check is failing (I don't know if you read my correction to my initial idea - I changed it after a couple of minutes). The actual tag part of LineNow, "&lt;Name&gt;", begins at character 3 and you're searching for it at character 2, so this always fails.<br><br><div class="quote"> you must be overreacting, its not terrible and generally i try and make sure things are tab-stopped appropriately <br></div><br><br>Yes, I was overreacting, but that's what happens when you start by claiming your code is flawless and it's the compiler's fault. I'll be nice if you be nice.<br><br><div class="quote"> i dont know what you mean by "whitespace issue", i'm just trying to read the XML file! <br></div><br><br>XML is supposed to be an ultra-portable format that behaves consistently regardless of whitespace (and judging by the actual files, in this case also regardless of capitalisation, although standard XML is case-sensitive). You shouldn't be counting tabs because that's not the way XML is supposed to be parsed: you're supposed to be able to search for them rather than expect them at preset-locations, because if your code has a rigid binary structure (expecting certain data at certain offsets, expecting specific elements on specific line numbers) the XML isn't actually structuring the data, it's just cruft surrounding a structure hardcoded into your program.<br><br>I would actually suggest looking for an existing XML parser library and importing that into your project... although you've done a lot of work already. Do consider the option though.<br><br><br>EDIT: rLine$ was one of the unused variables I was talking about. If that was really supposed to be LineNow... you <i>really</i> need to rethink your XML parser design, because as I point out above, you're defeating the whole purpose of XML reading it this way.<br><br><font class="tiny">Last edited 2010</font> <br><br></td></tr></table><br>
<a name="1054126"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Crinkle</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well the XML for what purposes i need to use it here it can be a txt file, so though your suggestion may be a wise one, i've come too far down my current path i think! Thankyou for the help anyway <br><br></td></tr></table><br>
<a name="1054177"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> However it matches nothing even though its programmed correctly <br></div><br>Have to say, when you are trying to debug a problem for 200 hours and you still don't see the cause in your code, then most of us would say something like that. Usually in hour 201 it then turns out it was a simple typo somewhere. This, or you'll fix it never and decide to rewrite the whole thing. <br><br></td></tr></table><br>
<a name="1054193"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Amen to the rewriting something from scratch. <br><br></td></tr></table><br>
<a name="1054490"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Have to say, when you are trying to debug a problem for 200 hours and you still don't see the cause in your code, then most of us would say something like that. Usually in hour 201 it then turns out it was a simple typo somewhere. This, or you'll fix it never and decide to rewrite the whole thing. <br> <br></div><br>Story of my life <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
