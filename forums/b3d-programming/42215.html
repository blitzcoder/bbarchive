<!DOCTYPE html><html lang="en" ><head ><title >General Speed Enhancement Tips/Libs</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >General Speed Enhancement Tips/Libs</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >General Speed Enhancement Tips/Libs</a><br><br>
<a name="473102"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wizzlefish</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> My game will most likely have a problem of being very slow, for whatever reason, and I want to make sure it isn't, even on the lowest common denominator. So, I am here to ask:<br><br>What do you do in general to enhance speed on your games?<br><br>Are there any libs that would help with speed?<br><br>What do you do to reduct speed based on high polycounts? <br><br></td></tr></table><br>
<a name="473116"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> it depends on the genre you are talking about. I think you work on something fps/3rdps-ish, right?<br><br>There are several traps you should ship around carefully. A high polycount doesn't neccessarily mean a low framerate, especialy on faster cards. But there are several nonos you shoulda avoid:<br><br>-Too much Linepicking. CameraPick, LinePick, EntityVisible etc. are in this categorie.<br><br>-MeshesIntersect or other exotic and slow Commands.<br><br>-Too much bones Animations, with too bug animated meshes.<br><br>-logical bottlenecks in your code. Sometimes people are using insane slow algotrithms.<br><br>-Meshes not fregmented, so the camera cannot skip rendering parts that are out of sight.<br><br>-Too many surfaces onscreen<br><br>In case you have one huge map mesh I have written a little app lately that will take a huge mesh and split it into multiple fragments. You will then be abl to lower the camerarange to allow the camera to ignore geometry that is out of its range or behind its back:<br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=1244" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=1244</a><br>Based on this Map fragmentation code you may be able to create a working VIS occlusion system, btw.<br><br>Well I think the best way to optimize speed is to learn how to find bottlenecks. Learn how to include some benchmarktests in your engine, so you'll see what's slow and what's not. And also try to test commands in gereral, like<br><br>t1=millisecs()<br>for i=0 to 1000000<br>n=camerapick(camera,320,240)<br>next<br>t2=millisecs()<br><br>print "this took "+((t2-t1)/1000.0)+" secs"<br><br>And of course, when you design maps and meshes for a game, you should always be aware of the polycount and how it should be. <br><br></td></tr></table><br>
<a name="473157"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try to load as few resources as necessary.  For example, if you game has a title screen(s), you may look into Freeing everything that only pertains to those screens before loading in your game.<br><br>If it applies, try dividing your game into reasonable sections (levels, areas, maps) so that you only have to deal with one section at a time.<br><br>Always look to optimise your code.<br>Say, for example that you need to perform this check:<br><pre class=code>If Playerheight &gt; 5.0 and LinePick(x, y, z, dx, dy, dz) = ground Then blahblah</pre>Since LinePick is a processor intensive command, rewrite it like so:<br><pre class=code>If Playerheight &gt; 5.0
  If LinePick(x, y, z, dx, dy, dz) = ground Then blahblah
EndIf</pre>This way, if the first check is false, the LinePick command isn't even executed. <br><br></td></tr></table><br>
<a name="473168"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Don't put:<br><br><pre class=code>
Delay 200
</pre><br><br>In the main loop either :D Happy New year! <br><br></td></tr></table><br>
<a name="473209"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DJWoodgate</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I can't top Ross's ultimate speed saving tip, but...<br><br>Big textures will really hit performance on older cards with a poor fill rate even if they do support that texture size, plus of course they chew up video ram, which if exhausted results in much movement of data over a probably none too speedy agp bus. <br><br></td></tr></table><br>
<a name="473249"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> On a more seroius note, use linepick, instead of camera pick. Line pick you have control over the distance of the pick. So try and keep them short if you can. Or, instead of a line pick, you could project a pivot with a collision type, and move it in the direction you want to shoot. Give it a stop collision response. And check the entitycollided() :o) <br><br></td></tr></table><br>
<a name="473256"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Graythe</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Instead of iterating thru subscripts of an array when comparing/matching data just to see if something exists or not<br><br>concatenate data into a large string<br><br>For AssyLoop=1 to DataItems<br>    DataString=DataString+Data$+","<br>Next<br><br>Now you can use the Instr() function to determine wether or not the item exists.<br><br>How well this works depends on how much data there is, which of course determines the length of the string. Really large strings take longer to process so sometimes you have to break them up into smaller chunks.<br><br>It's also possible to match that data to... say, a file position by creating a numerical stripe array and prepopulating the array with relevant positional data. Then when instr() returns a match at whatever position in the assembled string the same position in the stripe array will contain the filing position - so most of the subscripts in the stripe are not used - only the ones at which a match could occur, but despite that inneficiency and being a pain to set up the speed of operation is very much faster than the iterative technique.<br><br>It should go without saying that you don't assemble the string for each and every search. Usually these things remain in memory once assembled - so they also need to be maintained if data changes. <br><br></td></tr></table><br>
<a name="473664"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wizzlefish</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks guys. I sure hope I can speed up my game. :) <br><br></td></tr></table><br>
<a name="473679"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Storm8191</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Graythe: I don't know much about speed improvements in Blitz, but I know that really large strings are slow.  I've done programs that store large amounts of data into strings.  As the strings get longer, it takes Blitz longer to edit them.  Instead, use a bank.  I don't think Blitz has any problems working with large banks. <br><br></td></tr></table><br>
<a name="473710"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RGR</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> ;-- <br><br></td></tr></table><br>
<a name="473718"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wizzlefish</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> wow.... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
