<!DOCTYPE html><html lang="en" ><head ><title >B3D Animation/ B3D Pipeline</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >B3D Animation/ B3D Pipeline</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >B3D Animation/ B3D Pipeline</a><br><br>
<a name="471901"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Makepool</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, I’m almost at my wits end. I only want to be able to create an animated b3d model so that I can load it using the LoadAnimMesh command and load in subsequent animation with LoadAnimSeq.<br><br><br>Eg<br>mesh = LoadAnimMesh( "Marine Breath.b3d" )<br>LoadAnimSeq(mesh,"Marine Walk.b3d")<br>LoadAnimSeq(mesh,"Marine Shoot.b3d")<br><br>However, I have the slight problem of I’m working in a team, I do the programming, my friend does the models. Neither of us is very good at doing anything related to the others’ jobs and I can’t find a tutorial anywhere that describes how to do this apart from one on blitzcoder which uses physique. We DON’T have physique, we have B3D pipeline! So far we’ve managed to get something working entirely by chance. He’s been exporting models in different ways and by chance I found that by using a model exporting in a particular way and loading that in via LoadAnimMesh and then loading all subsequent animations via LoadAnimSeq that have been exported another way I got it to work….somehow. Here’s the code.<br><br><br>mesh = LoadAnimMesh( "Marine Breath.b3d" )<br>mesh = GetChild (mesh,3)<br>LoadAnimSeq(mesh,"Marine Walk.b3d")<br><br><br>We’re stabbing around in that dark and it’s extremely annoying can somebody please help? We’ve got bones that are visible in max, sometimes static, sometimes they animate while the model remains motionless! <br><br></td></tr></table><br>
<a name="471918"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wizzlefish</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Please restate your question in one sentence. I'm confused with what you want to accomplish. <br><br></td></tr></table><br>
<a name="471927"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ruz</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> You have to use the skin modifier for Puddings exporter, physique is not supported. The way I do it is to have all my animations in one max file, then export all the sequences as one B3d file. you can then extract animations from them. ie frame 1 -15 could be walk, frame 16 to 30 could be run<br>You can use 'note tracks' in max to keep track of the sequences<br><br>        ExtractAnimSeq (p\mesh,0,30)	;1 run<br>	ExtractAnimSeq (p\mesh,31,45)	;2 idle<br>	ExtractAnimSeq (p\mesh,46,46)	;4 still<br>	ExtractAnimSeq (p\mesh,47,48)	;5 turnleft<br>	ExtractAnimSeq (p\mesh,47,48)	;6 turnright<br>	ExtractAnimSeq (p\mesh,49,51)	;7 dying1<br>	ExtractAnimSeq (p\mesh,52,63)	;8 bigslap<br>	ExtractAnimSeq (p\mesh,64,68)	;9 jumpup <br><br>so yeah just load the b3d using LoadAnimMesh then <br>ExtractAnimSeq to get your individual animations.<br><br>[Edit] yeah forgot to mention I attach all my meshes and skin it as one mesh [Edit] <br><br></td></tr></table><br>
<a name="471935"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wizzlefish</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have a question - how would you animate the model using these extracted sequences? <br><br></td></tr></table><br>
<a name="471938"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ruz</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> check out the animate commands in the help file<br>for example<br>Animate entity[,mode][,speed#][,sequence][,transition#] <br><br></td></tr></table><br>
<a name="471942"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pudding</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Blitz animation commands seem to expect a single skinned mesh at the root of a b3d file. You can work around this using GetChild(), but things can get confusing.<br><br>In the simplest case, your model should have a single skinned mesh at the root of the hierarchy. If you have multiple skinned meshes, attach them and skin them as one mesh. Then export with the "Scene Root" option unchecked. <br><br>NOTE: B3d files must have a single root, if you cannot uncheck "Scene Root", it is because doing so would result in an invalid b3d file - you may need to modify your scene or export options so you can uncheck "Scene Root". <br><br>Only use the "Scene Root" option with animated meshes if you're comfortable navigating model hierarchies, finding nodes, animating meshes explicitly etc. Check out SubAnims.bb in the B3d Extensions Library (used by the B3d Viewer) for an example of finding and animating all skinned meshes in a hierarchy. Also check out the B3d Pipeline Forum below...<br><br>-Pudding <br><br></td></tr></table><br>
<a name="471953"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wizzlefish</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Glad to hear from the officials :) <br><br></td></tr></table><br>
<a name="472059"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bob3d</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> if you have max 6, yonce you'r done, you can export as fbx, and reimport as fbx.This will convert any biped and physique animation , or biped and skin, or bones and physique (i used long ago the second, some people prefer one of the other combinations) into a totally skin and bones animation, while you worked it all with your lovely biped and physique (if it's lovely for you) . It's a very cool and working trick (in Max 6)<br><br>The other way possible is using Ultimate Unwrap plugin and Ultimate Unwrap later on fo rfinal b3d export. It was reported to work pretty well too. I suppose is more about each one's preferences. <br><br></td></tr></table><br>
<a name="472081"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ruz</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice idea Bob3d <br><br></td></tr></table><br>
<a name="472092"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bob3d</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think is quite helpful method, yep..  actually, if I'm honest, I think I found the trick in some rare forum googling a bit :) <br><br></td></tr></table><br>
<a name="472135"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IPete2</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Bob3d,<br><br>That is a top tip! Thanks,<br><br>IPete2. <br><br></td></tr></table><br>
<a name="474085"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Makepool</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> The problem wasnt with animating a file, we have managed that. we could load 1 animated file but we couldnt then load in an additional animated file using the 'animseq' command and get it to work. What we want, is to get them both to work without having to use the 'getchild' command. <br><br></td></tr></table><br>
<a name="474157"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ruz</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am presuming that because load animseq returns the sequence number , then you have to animate it <br>like so<br>mesh = LoadAnimMesh( "Marine Default.b3d" ) <br><br>meshwalk=LoadAnimSeq(mesh,"Marine Walk.b3d") <br>meshshoot=LoadAnimSeq(mesh,"Marine Shoot.b3d")<br>meshbreathe=LoadAnimSeq(mesh,"Marine Breathe.b3d")<br><br>Animate mesh,1,.2,meshwalk<br>Animate mesh,1,.2,meshshoot<br>Animate mesh,1,.2,meshbreathe<br><br>etc<br>	<br>I just tested this with my own character and it worked fine.<br>The initial loadanimmesh does not return a sequence number so meshwalk will be sequence 1, mesh shoot will be sequence 2 and so on <br>For the default 'Loadanimmesh' I just imported  a 1 frame default pose .  In puddings exporter dialogue you would still export 'animation' and 'bones , but leave 'sceneroot' unchecked even for the default sequence<br><br>I not sure , but won't it just be easier to use extract animseq. Thats How I have been doing it.<br> Thats mainly because I have all my anims in one max file.<br>If you have all you max animations in seperate files, you will have to use 'loadanimseq' <br><br></td></tr></table><br>
<a name="474158"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ruz</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh and I am presuming that you are using max6 and have all the pipeline updates installed. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
