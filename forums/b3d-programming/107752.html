<!DOCTYPE html><html lang="en" ><head ><title >Simulate Sheet Metal Bending...</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Simulate Sheet Metal Bending...</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Simulate Sheet Metal Bending...</a><br><br>
<a name="1336039"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hollifd</td><td align="right"><font class=tiny>(Posted February)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>I am looking for a way to accomplish this…<br>1.	Import a 2D DXF CAD file – I have already completed this!<br>   a.	This is a “flat” top down view of a unfolded 3D sheet metal part.<br>2.	Identify certain lines on this top view as being “bend” lines – I have already completed this!<br>3.	For each bend line, input an angle to bend Ex: 90, -90, -30, 72, etc. – I have already completed this!<br>4.	Give the 2D flat a thickness Ex:  0.070 inches. – Need help!<br>5.	Tell the 2D part to transform itself into the 3D “folded up” view.  Allow the user to set the order of bending up.  Show some bends flat while others are bent.  Need help!<br> <br></div><br><br>I was wondering if there is an easy way to attach a joint to the "bend" lines to allow this "bending" to occur.  I am looking for some ideas on how this is done in the videos.  I can't find any information on how it is accomplished.  I want to create my own simulation software that will allow me to simulate the bending process so I can reduce machine setup time in our shop.<br><br>Here are some YouTube videos showing what I want to accomplish...<br>[https://www.youtube.com/watch?v=gZRaOqOEpGE]<br>[https://www.youtube.com/watch?v=GRfvSPbrMHA]<br>[https://www.youtube.com/watch?v=PBVmk4eRLU0]<br><br>Thanks for any help,<br>David <br><br></td></tr></table><br>
<a name="1336050"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted February)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could create a pivot (=a 3dpoint) at a picked position on the surface of the metal sheet, and use this pivot to define where the bend would be.<br>Then you would have to subdivide (=add more vertices and triangles) the metal sheet where the bend needs to happen.<br>Then you would have to write a procedure to recalculate the vertices positions of the metal sheet depending on the state of the bend.<br>Not the easiest thing to do, but doable.<br>I hope that you are not afraid of maths formulas and vectors ! <br><br></td></tr></table><br>
<a name="1336171"></a>

<a name="1336172"></a>

<a name="1336173"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted February)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Blitz3D doesn't allow you to create or edit joints. It only loads joints from a B3D file. It's pretty rudimentary.<br><br>You'd have to code your own way of deforming vertices. <br><br></td></tr></table><br>
<a name="1336176"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted February)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> The math for this problem is pretty interesting. <br><br><a href="http://www.cadalyst.com/cad/autocad/bend-it-like-expert-13664" target="_blank">http://www.cadalyst.com/cad/autocad/bend-it-like-expert-13664</a> <br><br></td></tr></table><br>
<a name="1336222"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hollifd</td><td align="right"><font class=tiny>(Posted February)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am familiar with the math to calculate the flat sheet dimensions of the unfolded part.  I cannot seem to wrap my brain around how to fold / unfold the part using code.  Currently, I can read a CAD file (DXF format).  Drawing the flat sheet on the screen, rotate it, flip it, and move it around but cannot figure out a way to have it fold back up.  I have been thinking about this problem for many years and wonder how it is done.  I thought maybe some of you folks might know how it is done or be able to figure it out.  I know it is not a video game but I know there are some very smart people here that have helped me with this project in its current state (2D only).<br><br>RemiD seems to have an idea how it is or can be done.  I am not that good at math.  I am a weekend hacker and not a professional programmer.  I work in a sheet metal shop and am trying to figure out ways to improve our processes and do some machine programming "offline" so the operators don't have to do it at their machines keep them from making more parts during the day.  With help from a lot of you, I have created a very good working 2D version of this tool and would like to add the 3D functionality that would allow us to simulate the machine, tools, and parts in 3D.  I have just not been able to get a simple solution for the 3D folding and unfolding.<br><br>Currently, to draw the 2D flat part, I have an array holding all of the lines, circles, and arcs that allow drawing of the 2D flat.  If I add lines to the array that represent the locations of the bends, so when I use code to loop thru this array, I am not sure how I can tell certain lines that they belong to a certain bend and other lines belong to another bend.  So when I try to rotate the coordinates of lines that are related to a bend, only the lines in the array related to the bend get rotated.  I am murdering this explanation but perhaps some of you might understand the problem I am having.<br><br>RemiD,<br>If I know which of the lines in my array are designated as the bend lines, and I know the angle in which to bend, does this make it easier to implement your idea?  Imagine an array of lines, circles, and arcs.  Some of the lines in the array will have a flag of some sort that signifies that this line is a bend line.  It will also have data for the bend angle.  Does any of that simplify things or is it still really complicated?<br><br>Thanks,<br>David <br><br></td></tr></table><br>
<a name="1336224"></a>

<a name="1336225"></a>

<a name="1336226"></a>

<a name="1336227"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted February)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> My guess would be that you will need 2 plane equations based on the line equation and angle of bend.<br><br>1. Split the shape into two separate meshes A and B with shared common edge created using a new set of "weld points"<br><br>2. For all verts in A (on the bent side) transform so they are relative to their plane, and then transform again into bent plane space.<br><br>Hopefully floyd will be along shortly to address the problem properly:) <br><br></td></tr></table><br>
<a name="1336236"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Depending on how complex the original flat, unfolded model is this could be quite difficult.<br><br>But let's suppose that somehow for each bend line you can decide for each vertex which side of the line it is on.<br><br>Then when bending around the line you want to leave vertices on one side fixed while rotating those on the other side around the line. I think this can be done without any calculation.<br><br>To turn around one of the bend lines do the following:<br><br>Create a copy of the mesh you are going to deform. We will operate on this copy.<br>Attach a Pivot to one vertex on the bend line.<br>Use AlignToVector to aim one axis of the pivot at another vertex on the bend line. Let's say we use the Z axis.<br>(Now the pivot is on the bend line and its Z axis points along the line.)<br>Use EntityParent to make the pivot the parent of the mesh.<br>Turn the pivot by the desired angle around the appropriate axis. This drags the mesh along with it.<br><br>This has turned the entire ( temporary copy ) mesh. The new vertex locations can be copied from the rotated temporary mesh to the corresponding vertices in the original. You would "read" positions in the temporary mesh with VertexX() etc. and write them into the original with VertexCoords. Do this for all the vertices on the side of the line which is to move.<br><br>I haven't written any code but this seems like a workable scheme, provided you have a way to decide which side of the bend line each vertex is on. <br><br></td></tr></table><br>
<a name="1336245"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hollifd</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK.  Currently, my tool is 2D only.  I am drawing 2D lines on the screen.  Your solution seems to be working in 3D.  I do have a very old version of my tool in 3D that I might be able to resurrect and experiment with.  I am not really a game programmer so I'll have to do some learning about the things you are describing.  I'll check the help files.<br><br>Do you have any ideas how this can be accomplished in the 2D world?  I have all of the coordinates for every line that I am drawing loaded into an array and I am looping thru that array to draw the stuff on the screen.<br><br>Also, the flat shapes that I am working with can be very complex...lots of edges, holes, arcs.  Image things like the sheet metal cage inside of your computer that holds all of the components.  Now image flattening this cage out from a 3D cage into it's flat sheet.  These are the types of flats that I am needing to work with.  Perhaps, if I could have a way to do a simple part, then I might be able to figure out a way to do more complex shapes.<br><br>Thanks,<br>David <br><br></td></tr></table><br>
<a name="1336249"></a>

<a name="1336250"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just thinking out loud:<br><br>For each bend line you have priority of order and angle.<br><br>Cut each piece out. With each, selecting highest priority edge, change origin of piece to left end of edge (using CW rule) and add a virtual "hinge".<br><br>Once all pieces have been oriented with hinges @ 0,0 THEN use child parent entity relationship to glue pieces together and select entityyaw I think to animate the solution.<br><br><br>This solution could also be used for origami and paper model building perhaps. <br><br>My preferred method of constructing cardboard boxes would be to use multiple bends and angles so as to hatch a self reinforcing bottom and top - a hard concept to explain without said diagram. <br><br></td></tr></table><br>
<a name="1336251"></a>

<a name="1336252"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Blitz3D doesn't allow you to create or edit joints. It only loads joints from a B3D file. <br> <br></div><br>with the addons by Bobysait (vB.002), it is possible to create joints/bones and skinnedvertices and set the influences (weights) of some joints/bones over some vertices.<br>See : <a href="http://www.blitzbasic.com/Community/posts.php?topic=105408" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=105408</a> <br><br></td></tr></table><br>
<a name="1336367"></a>

<a name="1336443"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> On second thought, Blender can load DXF: the importer is built-in and official.<br>Is there any reason why you can't make a Blender scene <a href="http://www.britishideas.com/2012/07/01/configuring-blender-for-cad/" target="_blank">all with the proper units and grid snapping configured</a>, import your DXF designs and then do what you want in there (animating the folds)?<br>This software has accumulated improvements over time on navigation and usability, you'd have to go through the same if you coded something original.<br><br>Time is really the most valuable resource you have. You can literally start tomorrow training everyone at using Blender. <br><br></td></tr></table><br>
<a name="1336525"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hollifd</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK.  I'll have a look at Blender.  I am not a game programmer and am not familiar with it.  It would be great if it is possible to quickly and easily add some hinges to a flat part and then be able to animate those hinges later in Blitz.  <br><br>Ideally, I would like to quickly add some hinges in the appropriate locations on my DXF part.  Name each hinge as bend1, bend2, bend3 etc.  Then be able to tell each (or a specific bend) of those hinges to animate from 0 degrees (unbent) to the maximum or final angle.<br><br>Perhaps, I will start trying to make a simple model with Blender that is say 6 inches x 4 inches x 0.070 inches thick.  Then, I'll figure out how to add these hinges to create bends along each of the ends of this rectangle.  Then, I am guessing that I need to export out a model that can be opened in Blitz,  Then write some code to tell the hinges to bend / unbend.<br><br>After getting a solution for bending / unbending the part, I will need to model the machine and tooling that bends the part.  I think I can figure those out on my own.<br><br>Thanks for the help.<br>David <br><br></td></tr></table><br>
<a name="1336530"></a>

<a name="1336531"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> If the "bending" happen at a position following a ruler (for example each 1mm, or each 1cm or each 1dm) it is quite easy to do, you can use a subdivided metal sheet (= a subdivided cuboid), then choose a point on the sheet, and choose an axis around which to bend the sheet (preferably around one of the global axises (x or y or z), then position a pivot (like a joint) at this position, then rotate the pivot with the wanted orientation, then recalculate the positions of the vertices using tformpoint() (since you know the position of each vertex related to the pivot before the "bending" happens (=before the pivot changes its orientation), you can then use tformpoint() to find the new position of each vertex during/after the "bending", considering the new orientation of the pivot)<br><br>No need for Blender, no need for a rigged skinned mesh... <br><br></td></tr></table><br>
<a name="1336562"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hollifd</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> RemiD,<br>Sounds like a good working idea.  Not having to add another tool (Blender) to the mix would be good.  I am not a game programmer and don't really understand everything you suggested.  Could someone viewing this provide a simple example...a rectangle with a bend in it?<br><br>I am not sure what you mean by subdivided metal sheet.  I am assuming that you mean a sheet metal part where each of the bends has been separated from the rest of the part and then you can "attach" these separate pieces back to the rest of the part with a "hinge". <br><br></td></tr></table><br>
<a name="1336566"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Give me an idea of the width, depth, height of the sheet, and the minimum unit that you plan to use to make the bends (1mm ? 1cm ? 1dm ?),<br><br>And i can provide a subdivided mesh of a flat sheet and maybe a code example to demonstrate the use of a pivot + tformpoint() to recalculate the position of a 3dpoint (in this case the vertices of the sheet) depending on its initial position and depending on the pivot orientation.<br><br>It would be easier to use a premade rigged skinned mesh, but it would take time to create. (i suggest to use Fragmotion to do that, the exported b3d file is clean) <br><br></td></tr></table><br>
<a name="1336596"></a>

<a name="1336597"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's a Blender scene if you're interested:<br><br><img src="https://s21.postimg.org/9i0fnmerr/blender_Sheet_Bending.gif"><br><br><a href="http://pasteall.org/blend/index.php?id=45841" target="_blank">http://pasteall.org/blend/index.php?id=45841</a><br><br>The sheet is flat, but is given thickness with the <a href="https://docs.blender.org/manual/en/dev/modeling/modifiers/generate/solidify.html" target="_blank">Solidify modifier</a>, and the bending\folding happens with the use of a <a href="https://docs.blender.org/manual/en/dev/modeling/modifiers/deform/hooks.html" target="_blank">Hook modifier</a> (represented by the green cuboid, there could be several hooks, one for each folding part).<br><br>Good luck. <br><br></td></tr></table><br>
<a name="1336603"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hollifd</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> RemiD,<br>Our sheet metal parts range in size of about 1 inch square up to 48 inches by 96 inches.  The thicknesses range from 0.020 inches thick up to 0.500 inches thick.  As for the minimum unit to make the bends, the shortest bend would be about 5 mm.  So if you took a flat sheet of steel and bent up one edge, the height of that bent area would be 5 mm or longer.  Hopefully, that is what you were asking about.  If you were talking about the smallest feature we might have on a sheet metal part, then we have certain features on sheet metal parts that are small as 0.007 inches.<br><br>As for the premade rigged skin mesh...I am not completely sure I know what you are talking about but I have a CAD system for the 3D models.  I can export those CAD models to various formats.  Does that help and if so, what is the best format to make this easiest?<br><br>Kryzon,<br>That looks impressive and exactly what I am trying to accomplish.  How did you get that model?  Create it yourself or find it on the web somewhere?  <br><br>Let's see if I understand how it works.  You found a model or created a model in Blender.  You added a "Hook modifier" at each bend location on the model and entered some properties.  All of this allows the bending and unbending.  I am assuming now that you can export this model from Blender into Blitz and write some code to allow the user to set the angle for each and every bend on the model and see what it looks like?  For example, if the part had 4 separate bends on it.  The user could set 3 of the 4 bends to 90 degrees and the 4th to 0 degrees and view the results?  Then the user could set the 4th bend to something like 45 degrees and then view the results?  Is that how it would work?<br><br>For a model having 10 bends, how much time would it take to apply this "hook modifier" to them in Blender then export it out so that it could be used in Blitz?<br><br>...and to all of you guys...Thanks for all of your time helping and offering ideas.  I am not quite sure why you do it.<br><br>Thanks,<br>David <br><br></td></tr></table><br>
<a name="1336627"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> @hollifd&gt;&gt;"subdivided" means that the shape is structured in a way that the "bend lines" already exist on the shape.<br><br><br>The solution proposed by Kryzon seems interesting, maybe try it...<br><br><br>What kinds of shape the sheet will have ? Obviously it will be flat but what do you want to bend ? A square/rectangle shape or some arbitrary shape like a symbol/thing ? <br><br></td></tr></table><br>
<a name="1336628"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hollifd</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> "subdivided"  Got it now.  Yes.  My current 2d solution is drawing shapes with lines, arcs and circles.  Some of the lines are designated as "bend lines".  As for the shapes, they can be as simple as squares or rectangles.  They also can be very complex with many sides, various holes in the shapes.  Sometimes, the bends cross some of these holes.  Kryzon's example above is a very simple example of the shapes we are working with.  They can be much more complex though.<br><br>I will download Blender and see if I can duplicate what Kryzon has created to see if it might be a solution.  I am really hopeful for a solution that does not involve another piece of software we will have to learn and utilize.  Your (RemiD) idea seems more appealing if it can work.<br><br>Here is an image I found that might help communicate the types of flat sheets I am working with.  <br><br><img src="http://www.megacad.de/typo3temp/pics/USF-Fertigungsgerechte_Faltkoerperkonstr_e34a298cae.jpg"><br><br>I can get either a 3D unfolded model of a part similar to the picture above or I can import the 2D DXF file and display this flat sheet on the screen in 2D.  In any case, I would want to provide some way to allow the user to provide some information about each bend and then be able to tell the software to fold up the flat sheet according to the information the user has provided.  Does this help your understanding of my problem? <br><br></td></tr></table><br>
<a name="1336647"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hollifd</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK.  I have Blender installed.  I imported a flat .3DS file and am trying to figure out how to add the cube and then apply the hook modifier.  I am not able to figure it out.  I did add a cube to my model and located it where I want to create the bend.  Not sure if this is what I needed to do or not.  Can't figure out how to add the hook.  There are too many windows and I don't yet understand how everything works.  Can someone point me in the right direction.<br><br>Thanks,<br>David <br><br></td></tr></table><br>
<a name="1336655"></a>

<a name="1336656"></a>

<a name="1336657"></a>

<a name="1336667"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> In my post there's a link to the .blend scene file that has that animation. You can open it in Blender.<br>But you need to study the program to some extent or you won't know how to navigate, modify objects and meshes, apply modifiers etc.<br><br>This is a great way to start: <a href="https://gumroad.com/l/blendingawaythepain" target="_blank">https://gumroad.com/l/blendingawaythepain</a><br>It's a pay-what-you-can (meaning, you can insert $0 if you don't have cash) course on starting with Blender.<br><br>Besides that one:<br><br>• The <a href="https://docs.blender.org/manual/en/dev/" target="_blank">Blender documentation</a> (I had to look at this to know how to use the hook modifier properly, so you're always gonna use it).<br><br>• Google searches for "Blender how to [...]" which usually lead to StackExchange threads with good answers.<br><br>• This cheat-sheet for the default keyboard shortcuts: <a href="https://i.imgur.com/E42hJ7I.jpg" target="_blank">https://i.imgur.com/E42hJ7I.jpg</a><br><br>• This forum for users, plenty of helpful people there if you can word your questions right: <a href="https://blenderartists.org/forum/forumdisplay.php?7-Support" target="_blank">https://blenderartists.org/forum/forumdisplay.php?7-Support</a><br><br>• <b>edit:</b> Also, make sure to change the <a href="https://docs.blender.org/manual/en/dev/preferences/input.html" target="_blank">"Select with" mouse button configuration</a> to "Left" so left-click selects things, like in most software. Blender's default selection works with right-clicks and may feel unusual.<br><br>The more things you do directly in Blender (fold visualisation, animation etc.) the less work you'll have to do outside, obviously. <br><br></td></tr></table><br>
<a name="1336658"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hollifd</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK and Thanks for the helpful links.  I had a frustrating time last night trying to figure out how to navigate Blender to test this idea out.  I'll have a look at these links / documentation tonight after I get off work.<br><br>Thanks again,<br>David <br><br></td></tr></table><br>
<a name="1336820"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eNano</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi hollifd, (sorry for my english)<br>I totally understand you, you have an industrial job and you really like coding, is more or less what happens to me, I build and design homes and at the same time I'm making my own design software, let me give you an advice: don't try it! is very addictive but will cause you a lot of waste of time.<br>Let me share with you my poor knowledge, Cad/cam softwares used for simulations uses other type of geometric representation called B-Rep (boundary representation), blitz is made to work with simple meshes so if you want to manipulate complex geometries you will have to reinvent the entire wheel. Topology based software lets you do very complex operations in the geometry because every feature of the shape if based on equations. To give thickness to a flat geometry in blitz you will have to have a 3D offset algorithm, mesh triangulation algorithm and work with transform matrices at vertex level.<br>My first advice would be to try SolidWorks, it has a specific module for metal sheet working (I needed to do a design in steel for the first time of my life and toke to me 2 weeks to learn how to do it on youtube, is very intuitive).<br>You can redefine at any moment any feature of your project (thickness, shape, holes...) and the final plans are updated automatically with technical dimensions<br>My second advice would be to use a language like blitzmax and search for some pre-made cad/cam libraries to develop your tool (for example libigl or CADability to mention something)<br>My very last advice would be: try to do it in blitz and see what you get :) <br><br></td></tr></table><br>
<a name="1336827"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hollifd</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> eNano,<br>I don't want to give up just yet.  I am so close now.  I have the entire press brake machine modeled in CAD.  I have all of the parts exported out of our CAD system as .3DS files.  I have written the code to import these into Blitz3D and I can move all of the parts of the machine in any way I need to move them.  I just need a solution for the part folding /unfolding.  I have been on this forum for a very long time and there are some very smart people here.  I think someone will invent a solution.  I have been in the bed for the last 4 days with the flu.  I want to learn more about Blender to see if Kryzon's hook modifier idea might be a solution.<br><br>RemiD has an idea that does not involve a third party software tool like Blender.<br><br>I think if the right person sees this problem, someone will invent a working solution.<br><br>I can do some of the things I want to do in our CAD system but it is much more time consuming than the tool I am working on.  If I can find a solution for the bending / undbending then my tool will be a very useful tool and save a tremendous amount of time in our shop.  There are other people out there developing software like my tool but it is very expensive.  If others can do it, then why not me or the people on this forum?  Just need a idea / solution that is simple and quick.<br><br>As for the parts I am working with, they are designed in our CAD system.  I don't really need to change the design, add features or anything like that in my tool.  I only need to unfold / fold the part.  I can export a 3DS file from our CAD system that can be opened in Blitz3D.  I just need to find a way to fold / unfold it in my tool.  Other CAD software can fold / unfold these CAD files.  Why can it NOT be done in Blitz?<br><br>Perhaps I will not be able to solve this problem.  I have been thinking about it for years and only recently have I tried to actually do it.  I can see the finish line so I don't want to give up just yet.<br><br>Let me know if you come across some sort of idea that might work.<br><br>Thanks,<br>David <br><br></td></tr></table><br>
<a name="1339126"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Flanker</td><td align="right"><font class=tiny>(Posted April)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> I worked a little on this kind of machines when I was in industry, what I remember is that you have to think twice before each bend you do or you'll get stuck at some point. I presume that's why you want to make a software, to "predict" the order of the bends ? <br><br></td></tr></table><br>
<a name="1339186"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hollifd</td><td align="right"><font class=tiny>(Posted April)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes.  You do have to plan the order of the bends carefully or you will get to the last bend and discover that it is not possible and you should have done that bend earlier.  We have some very complex sheet metal parts that we do.  I have a guy on my team that is very good at this sort of thing but I am trying to create a software tool to help us get better and faster at it.<br><br>My purpose for this software is:  <br>1)  determine the proper bend sequence<br>2)  determine tooling that will allow the bends to be made<br>3)  see any interferences between part, tools, and machine<br>4)  take the data that the user is creating with this software and format that data in such a way that a program can be made to run the actual machine.<br><br>If I can simulate the bends in this software, then I don't necessarily need to software to predict the bend sequence.  The user can pick a bend sequence then view it in the software to see if there are any collisions with part, tooling and machine.<br><br>There is software on the market that can do all of this automatically but it is very expensive.  I was hoping someone here could figure out how those guys are doing it and be able to duplicate it in Blitz.<br><br><br>Thanks,<br>David <br><br></td></tr></table><br>
<a name="1339188"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hollifd</td><td align="right"><font class=tiny>(Posted April)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Kryzon had a way to do it in Blender but it is too complicated and takes too long.  I am hoping to find another way that is simpler and faster. <br><br></td></tr></table><br>
<a name="1339205"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Flanker</td><td align="right"><font class=tiny>(Posted April)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> But do you need to take into account bends radius and things like the neutral line ?<br><br>As I'm interested I can have a try, but only for a flat mesh with no thickness. <br><br></td></tr></table><br>
<a name="1339206"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hollifd</td><td align="right"><font class=tiny>(Posted April)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you wanted to be extremely accurate and produce commercial level results then yes, you would want to be concerned about the inside radius and neutral axis.  At this point, I was not going to be too concerned about those details until a solution was found.  I believe I could develop a way to handle those details once bending and unbending is possible. <br><br></td></tr></table><br>
<a name="1339207"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hollifd</td><td align="right"><font class=tiny>(Posted April)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> Let me know if I can provide you with any files or drawings or any other details or information you think might be useful.<br><br>... and thanks for having a go at it.<br><br>David <br><br></td></tr></table><br>
<a name="1339243"></a>

<a name="1339244"></a>

<a name="1339246"></a>

<a name="1339247"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted April)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> When building boxes, i like to interleave the bottom folds of the standard cardboard variety at critical points along the final bend so the four flaps become naturally reinforcing.<br><br>As I am interested in origami and paper construction - cutout and folding as craft is fun, I am considering the simulation needed to output such an animation.<br><br>If I was going to tackle the general case in blitz3d I would use multiple bones per hinge and build a simple animation system. To build bone networks in Blitz3D dynamically it may be simplest to save your object to b3d file (collection of plates connected to a collection of hinges made from a collection of double bone joints) and load result into separate animation module in which final form is at t=1.0 <br><br></td></tr></table><br>
<a name="1339321"></a>

<a name="1339322"></a>

<a name="1339324"></a>

<a name="1339325"></a>

<a name="1339326"></a>

<a name="1339328"></a>

<a name="1339334"></a>

<a name="1339335"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Flanker</td><td align="right"><font class=tiny>(Posted April)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here is a first throw, I ended up using the idea submited by Floyd. It will work well for a mesh with no thickness, but only if triangles are build from vertices on the out bound (meaning no vertices "inside" the surface).<br><br>You can get from that :<br><img src="https://i.imgbox.com/Hb8jpcZI.png"><br><br>To that easily :<br><img src="https://i.imgbox.com/021eddAA.png"><br><br>Here is the test mesh from above : https://1drv.ms/u/s!AmRLc37qlFbZi0xae8yMVU4yN1U1<br><br>And the (crappy) code :<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Type TVertex
	Field x#,y#,z#
	Field x0#,y0#
	Field id
End Type

Type TEdge
	Field v1.TVertex
	Field v2.TVertex
	Field shared
End Type

Type TTriangle
	Field e1.TEdge
	Field e2.TEdge
	Field e3.TEdge
	Field id
End Type

Type TTemp
	Field tri.TTriangle
End Type






Graphics3D 800,600,32,2
SetBuffer BackBuffer()




cameraPivot = CreatePivot()
Global camera = CreateCamera(cameraPivot)
light = CreateLight(1,camera)
MoveEntity camera,0,0,-30
TurnEntity cameraPivot,90,0,0


Global mesh = LoadMesh("sheet.3ds")
Global surf = GetSurface(mesh,1)
EntityFX mesh,2+16

BuildMeshData()


While Not KeyHit(1)
		
	If MouseDown(2)
		TurnEntity cameraPivot,MouseYSpeed()/3,-MouseXSpeed()/3,0
		RotateEntity cameraPivot,EntityPitch(cameraPivot),EntityYaw(cameraPivot),0
	ElseIf MouseDown(3)
		MoveEntity cameraPivot,-MouseXSpeed()/10,MouseYSpeed()/10,0
	Else
		temp = MouseXSpeed() + MouseYSpeed()
	EndIf
	
	RenderWorld
	
	SelectEdge()
	
	Color 255,255,255
	Text 400,550,"Mouse left = bend edge, Mouse right = rotate camera, Mouse middle = translate camera",1,1

	Flip
		
	FlushMouse()

Wend

End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
Function SelectEdge()
	
	Local selected.TEdge
	
	For edge.TEdge = Each TEdge
		Color 0,255,0
		CameraProject camera,edge\v1\x,edge\v1\y,edge\v1\z
		x1 = ProjectedX()
		y1 = ProjectedY()
		CameraProject camera,edge\v2\x,edge\v2\y,edge\v2\z
		If DistanceToSegment(MouseX(),MouseY(),x1,y1,ProjectedX(),ProjectedY()) &lt; 5 And (selected = Null Or CompareEdges(edge,selected)) And edge\shared = 1
			selected = edge
			Color 255,0,0
		EndIf
		Line x1,y1,ProjectedX(),ProjectedY()
	Next
	
	If MouseHit(1) And selected &lt;&gt; Null Then BendEdge(selected)

End Function

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
Function BendEdge(edge.TEdge)
	
	Color 255,255,255
	Locate 0,0
	angle# = Input("Bend angle ? ")
	
	For t.TTemp = Each TTemp
		Delete t
	Next
	
	For triangle.TTriangle = Each TTriangle
		If CompareEdges(edge,triangle\e1) Or CompareEdges(edge,triangle\e2) Or CompareEdges(edge,triangle\e3)
			RecursiveTriangleTracker(triangle,edge)
			Exit
		EndIf
	Next
	
	pivot = CreatePivot()
	PositionEntity pivot,edge\v1\x,edge\v1\y,edge\v1\z
	AlignToVector pivot,edge\v2\x-edge\v1\x,edge\v2\y-edge\v1\y,edge\v2\z-edge\v1\z,3

	copy = CopyMesh(mesh)
	EntityParent copy,pivot
	surf2 = GetSurface(copy,1)
	
	TurnEntity pivot,0,0,angle
	
	For t.TTemp = Each TTemp
		TFormPoint VertexX(surf2,TriangleVertex(surf2,t\tri\id,0)),VertexY(surf2,TriangleVertex(surf2,t\tri\id,0)),VertexZ(surf2,TriangleVertex(surf2,t\tri\id,0)),copy,0
		VertexCoords(surf,TriangleVertex(surf,t\tri\id,0),TFormedX(),TFormedY(),TFormedZ())
		
		TFormPoint VertexX(surf2,TriangleVertex(surf2,t\tri\id,1)),VertexY(surf2,TriangleVertex(surf2,t\tri\id,1)),VertexZ(surf2,TriangleVertex(surf2,t\tri\id,1)),copy,0
		VertexCoords(surf,TriangleVertex(surf,t\tri\id,1),TFormedX(),TFormedY(),TFormedZ())
		
		TFormPoint VertexX(surf2,TriangleVertex(surf2,t\tri\id,2)),VertexY(surf2,TriangleVertex(surf2,t\tri\id,2)),VertexZ(surf2,TriangleVertex(surf2,t\tri\id,2)),copy,0
		VertexCoords(surf,TriangleVertex(surf,t\tri\id,2),TFormedX(),TFormedY(),TFormedZ())
	Next
	
	FreeEntity pivot
	
	UpdateNormals(mesh)
	BuildMeshData()
	
End Function

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
Function RecursiveTriangleTracker(triangle.TTriangle,edge.TEdge)
	
	t.TTemp = New TTemp
	t\tri = triangle
	
	For triangle1.TTriangle = Each TTriangle
		
		If triangle1 &lt;&gt; triangle
			
			If CompareEdges(edge,triangle1\e1) + CompareEdges(edge,triangle1\e2) + CompareEdges(edge,triangle1\e3) = 0
			
				If CompareEdges(triangle1\e1,triangle\e1) Or CompareEdges(triangle1\e1,triangle\e2) Or CompareEdges(triangle1\e1,triangle\e3) Then RecursiveTriangleTracker(triangle1,triangle1\e1)
				If CompareEdges(triangle1\e2,triangle\e1) Or CompareEdges(triangle1\e2,triangle\e2) Or CompareEdges(triangle1\e2,triangle\e3) Then RecursiveTriangleTracker(triangle1,triangle1\e2)
				If CompareEdges(triangle1\e3,triangle\e1) Or CompareEdges(triangle1\e3,triangle\e2) Or CompareEdges(triangle1\e3,triangle\e3) Then RecursiveTriangleTracker(triangle1,triangle1\e3)

			EndIf
		
		EndIf
	
	Next	
	
End Function

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
Function CompareEdges(edge1.TEdge,edge2.TEdge)
	
	If edge1 = Null Or edge2 = Null Then Return
	If (edge1\v1 = edge2\v1 And edge1\v2 = edge2\v2) Or (edge1\v1 = edge2\v2 And edge1\v2 = edge2\v1) Then Return 1

End Function

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
Function CompareTriangles.TEdge(triangle1.TTriangle,triangle2.TTriangle)
	
	If triangle1\e1 = triangle2\e1 Or triangle1\e1 = triangle2\e2 Or triangle1\e1 = triangle2\e3 Then Return triangle1\e1

End Function

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
Function BuildMeshData()
	
	For vertex.TVertex = Each TVertex
		Delete vertex
	Next
	
	For triangle.TTriangle = Each TTriangle
		Delete triangle
	Next
	
	For edge.TEdge = Each TEdge
		Delete edge
	Next
	
	For i = 0 To CountVertices(surf)-1
		vertex.TVertex = New TVertex
		vertex\x = VertexX(surf,i)
		vertex\y = VertexY(surf,i)
		vertex\z = VertexZ(surf,i)
		vertex\x0 = VertexX(surf,i)
		vertex\y0 = VertexZ(surf,i)
		vertex\id = i
	Next
	
	For i = 0 To CountTriangles(surf)-1
		triangle.TTriangle = New TTriangle
		For vertex.TVertex = Each TVertex
			If TriangleVertex(surf,i,0) = vertex\id Then v1.TVertex = vertex
			If TriangleVertex(surf,i,1) = vertex\id Then v2.TVertex = vertex
			If TriangleVertex(surf,i,2) = vertex\id Then v3.TVertex = vertex
		Next
		edge.TEdge = New TEdge
		edge\v1 = v1
		edge\v2 = v2
		triangle\e1 = edge
		edge.TEdge = New TEdge
		edge\v1 = v2
		edge\v2 = v3
		triangle\e2 = edge
		edge.TEdge = New TEdge
		edge\v1 = v3
		edge\v2 = v1
		triangle\e3 = edge
		triangle\id = i
	Next
	
	For edge1.TEdge = Each TEdge
		For edge2.TEdge = Each TEdge
			
			If edge1 &lt;&gt; edge2
			
				If CompareEdges(edge1,edge2) = 1
					edge1\shared = 1
					Exit
				EndIf
			
			EndIf
	
		Next		
	Next
	
	If GetChild(mesh,1) &lt;&gt; 0 Then FreeEntity GetChild(mesh,1)
	
	mesh2 = CopyMesh(mesh)
	FlipMesh mesh2
	EntityParent mesh2,mesh

End Function

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
Function DistanceToSegment#(px#,py#,x1#,y1#,x2#,y2#)

	If x1 = x2 And y1 = y2 Then Return Distance2D(px,py,x1,y1)
	
	sx#=x2-x1
	sy#=y2-y1
	
	ux#=px-x1
	uy#=py-y1
	
	dp#=sx*ux+sy*uy
	If (dp&lt;0) Return Distance2D(px,py,x1,y1)
 
	sn2# = sx*sx+sy*sy
	If (dp&gt;sn2) Return Distance2D(px,py,x2,y2)
 
	ah2# = dp*dp / sn2
	un2#=ux*ux+uy*uy
	Return Sqr(un2-ah2)

End Function

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
Function Distance2D#(x1#,y1#,x2#,y2#)
	Return Sqr( (x1-x2)*(x1-x2) + (y1-y2)*(y1-y2) )
End Function</textarea><br><br>Now it needs a way to align the edge to bend with a reference (the machine), and eventually bend it in realtime to check for collision. <br><br></td></tr></table><br>
<a name="1339513"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hollifd</td><td align="right"><font class=tiny>(Posted April)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> Exciting to see a potential solution already.  I want to see it in action but I cannot seem to download the mesh.<br><br>To align the edge to bend, I was thinking when you select the bend line, the code would re-orient the mesh (...and bend line) from whatever angle it may be TO perfectly horizontal and then move the part (...and bend line) from wherever it may be to where the bend line is Y = 0.  The centerline of the machine is at Y=0.  All tooling used to bend the part is centered on Y=0.  Currently, my tool views the machine from the top as if you were on the ceiling looking down onto the machine.<br><br>If this is too difficult, then I already have code to manually rotate the part and move the part wherever it needs to be moved. <br><br></td></tr></table><br>
<a name="1339514"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Flanker</td><td align="right"><font class=tiny>(Posted April)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here is another link for the mesh : <a href="https://ufile.io/gexgq" target="_blank">https://ufile.io/gexgq</a><br><br>Or you can use any flat mesh. I'll try later to align the mesh according to the selected edge. <br><br></td></tr></table><br>
<a name="1339530"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hollifd</td><td align="right"><font class=tiny>(Posted April)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> Flanker...Thanks for the new link.  I got the mesh and your solution is very impressive.<br><br>Concerning the flat mesh...All of the models we will be working with have a thickness.  Can I take any of my meshes and scale the thickness to achieve a flat mesh with very little thickness or is it more complicated?  Your geometry seems very simple (squares, rectangles, no holes in the part, etc).  I would like to test a few other more complicated geometry...with holes in the parts, parts that have a bend in the center of the part and surrounded by material, etc.<br><br>In order to allow the user to "setup" the bends and machine parts, I think there must be a way for the user to "save" the part, tooling, and machine locations for each bend.  Currently, in my tool, I allow the user to add bends to the setup and once the user has moved everything into position, I allow the user to "save" all of these locations to a TYPE.  At the end, after the user has "setup" all of the bends and machine locations for each bend, I take the information from the TYPE fields and I use that data to create a program that will run the machine.  The machine is a Cincinnati Autoform with a 6 axis backgage system.  Not sure if you are already familiar with that machine or not.<br><br>What ideas do you have that would allow the user to create bends on a part, move the part into position and move the backgages on the machine into position and then save all of this stuff so that it can be "replayed" or viewed later for collisions, sequencing, etc.? <br><br></td></tr></table><br>
<a name="1339536"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Flanker</td><td align="right"><font class=tiny>(Posted April)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> The Cincinnati you have seems to be a big machine. The one we had was smaller and older, as far as I remember it didn't have a system to control the back depth, you had to position and align the sheet manually with a guide. It had a screen where you could set the desired angle and eventually make an automatic sequence but that's all. I was in maintenance mainly on classic lathe and CNC milling machines but I've never coded them.<br><br>I don't know how much a dedicated software costs, but I think that it's a full-time programer job, it's specific and complicated to achieve what you want :-/<br><br>My code would support holes and bends in the middle with a little modification, but only for a perfectly flat input mesh. Eventually it can import a model with thickness and transform it to a flat mesh... I think that you can use flat meshes to simulate your machine, unless you bend very thick sheets it won't be far from reality. <br><br></td></tr></table><br>
<a name="1339552"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hollifd</td><td align="right"><font class=tiny>(Posted April)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> We have investigated software.  There are lots of choices that are quite good and simulate the bending process quite well and accurately.  The software is very expensive...about $25,000 USD.  Our leadership has decided not to spend the money and that is why I am trying to develop something that might help us.  <br><br>Perhaps if there was enough interest on this board, a team could be formed to develop a lower cost but still effective solution for simulating the bending process.<br><br>You are right that we only bend very thin sheet metal parts.  The thickness is 0.125 inches and thinner.  The most common thickness is 0.070 inches thick.  Our machines are very big (10ft long bed with 175 tons of hydraulic squeezing force) and computer controlled.  They are 20+ years old but there is not much more capable machines out there these days...only newer but not much more capable.  I have gotten to know them pretty well.  I have studied the program format for the machines and that is why I am able to take raw data from another system and format it in such a way to create a program that will run the machines.<br><br>We have lathes and milling machines in our shop too.<br><br>I am still a little confused about the perfectly flat meshes.  I don't know how to get a perfectly flat mesh.  Everything out of our CAD system will have a thickness.  Is there a way to start with a mesh having thickness and transform it to make a mesh perfectly flat? <br><br></td></tr></table><br>
<a name="1339621"></a>

<a name="1339622"></a>

<a name="1339623"></a>

<a name="1339624"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted April)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Is there a way to start with a mesh having thickness and transform it to make a mesh perfectly flat? <br> <br></div><br>if the structure of your mesh is a sheet, you can analyze the top vertices/triangles and rebuild a flat mesh using these datas... (and discard the bottom, and sides)<br>But you need to have a "triangulated mesh" (= a mesh made of vertices and triangles, without duplicated vertices or overlapping triangles (this can happen if you have a bad exporter)) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
