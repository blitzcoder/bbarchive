<!DOCTYPE html><html lang="en" ><head ><title >Animating a door...</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Animating a door...</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Animating a door...</a><br><br>
<a name="704188"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Don't do it!  Because even though the door looks open, it really isn't!  Guess I gotta make me a door open function the takes the door and swings it xxx degrees. <br><br></td></tr></table><br>
<a name="704217"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Chroma - it can be done, just differently - instead turn off collisions for the door while it is open, or use a separate collision mesh  which follows the 'opening door' movement without using the animation commands.<br><br>There are many ways of doing it. <br><br></td></tr></table><br>
<a name="704221"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Boiled Sweets</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I use trap doors in qoob and just hide the door entity when it's open.  Simple but perhaps not what you want. <br><br></td></tr></table><br>
<a name="704257"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OrcSlayer</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually yes, there are many ways of doing this...it's something I've had to consider and I came up with many ways, some better or more efficient than others...I am currently looking at doors having a seperate "collision hull" that has polygon collision when the door is closed and no collision when it's open. <br><br></td></tr></table><br>
<a name="704308"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think you were talking about an animated Mesh of a door? Did you use a boned Format? Because, if you use 3DS or X with child objects, like rotation cubes etc (rotate/scale/move), then it should work IF you apply collision to the children recursively.<br><br>That said, if your character is walking agains a door that is swinging right towards him, then it's most likely that he will walk right trough it, unless you perform an additional updateworld between the two movements/rotations (player vs door collision). But this will also happen if you use a static door mesh and rotate it by code.<br><br>an other simple solution for the swinging door collision problem is: apply invisble boxes to each side of the door. Then only if the distance from door to player is low test for MeshesIntersect and pause the door swing thing until they don't intersect any longer. It may be better to attach a box also to the player, for the sake of a faster meshesintersect execution. <br><br></td></tr></table><br>
<a name="704531"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's a .b3d with a bone used to swing the door open and turn the doorknob.  I open the door by clicking on it and triggering the open sequence.  Then close it by clicking again and playing the close sequence.  When the door is open i need to be able to click on it to close it so i'm thinking i do have to manually open it with a function.  Unless this new info sheds some light for one of you.. <br><br></td></tr></table><br>
<a name="704551"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OrcSlayer</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'd just recommend you create a door class and manually animate it with code, so you can give it polygon pick mode (which is what I gather from reading that). There is a way to do it with an animated mesh, but it's a bit more complicated (parenting static meshes to the bones of the animated mesh to make them move with it). <br><br></td></tr></table><br>
<a name="704569"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I thought there was a new command in the last version of Blitz for this very reason - or did I just dream it? <br><br></td></tr></table><br>
<a name="704797"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Um...how do you find the child in a .b3d? <br><br></td></tr></table><br>
<a name="704814"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >kevin8084</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> GetChild or FindChild...you need to enumerate through all children of the parent entity with CountChildren <br><br></td></tr></table><br>
<a name="705021"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> why you just simply put pivot of door mesh exactly in center of rotation and import door as separate object..its easy to set up colision, working much more faster and doesnt require bones.. <br><br></td></tr></table><br>
<a name="705236"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah but I was trying to use just use animation from the modeler to open it and using bones.  I'm sidetracked with a quick project but I'll get back to it! =) <br><br></td></tr></table><br>
<a name="705462"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> John, I think you meant the CullBox command. Has nothing to do with collision, it's only an explicit render inclusion size descritor for animated meshes, to prevent them from being hidden when their logical center is located offscreen and their vertices are still onscreen. Often seen with characters that are lieing dead on the floor. <br><br></td></tr></table><br>
<a name="705510"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey JFK, I cant find CULLBOX command in my Blitz3D command reference..can you update me whats that command and syntax?? <br><br></td></tr></table><br>
<a name="705521"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >b32</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> I believe it's MeshCullBox mesh, x#, y#, z#, width#, height#, depth# <br><br></td></tr></table><br>
<a name="705541"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> ..I cant see MeshCullBox commant within my Blitz3D command reference too..am i missing some B3D help docs update?? <br><br></td></tr></table><br>
<a name="706633"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> MeshCullBox was added in release, 1.97. If you cannot find something in the reference, you may read the version.txt, that is located inside your Blitz3D installation folder. It contains notes about the version releases by Mr. Sibly, including a quick description of the new commands.<br><br>Additionally, the Online Manual now allows to search for substrings, so in this case you could enter "cull". Also try things like "pick", "cam" etc to get "command family" lists.<br><br>Although, it seems MeshCullBox was not added yet. The Manuals are updated frequently, but not with every Compiler Update. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
