<!DOCTYPE html><html lang="en" ><head ><title >Vertex Occlusion</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Vertex Occlusion</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Vertex Occlusion</a><br><br>
<a name="313254"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jim Teeuwen</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Tought one here.<br>Again conceerning the particle system.<br>I'd love to be able to exclude particles from my emitter mesh based on visibility.<br>I've tried a simple LinePick with EntityPickMode set to polygon, but this doesnt appear to work.<br><br>Any ideas on occluding vertices from a mesh that arnt visible in view?<br><br>The actual loop through all vertices is performed allready nearly every loop (used to rebuild the Emitter mesh with changed partricle/vertex data), so it can be hooked in there if there needs to be a per vertex comparison. So that shouldnt pose a big problem regarding performance. <br><br></td></tr></table><br>
<a name="313263"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Klaas</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> you could use a pivot with EntityPickMode and EntityRadius set and position the pivot to the vertex position, then test against the pivot.<br>If you only check if there off the view (not hidden behind something) then you could use the way faster EntityInView command using the pivot as representation of the vertex. <br><br></td></tr></table><br>
<a name="313274"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jim Teeuwen</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> there's an idea. I'll have a fiddle. thnx <br><br></td></tr></table><br>
<a name="313403"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> You didn't say if this particle system uses a single surface or a multiple surface system. If it's single surface then entityInVIew and EntityVisible are useless.<br><br>If it's a multiple surfaces system then you COULD access every particle with EntityVisible, linepicks, EntityInVie etc.<br><br>But EntityInView is pretty useless since it will be ignored by the renderer anyway if it's not at least partially in View.<br><br>EntityVisible only checks it's Center Point, and is slow as death. The same goes for all Linepick-Commands: simply way too slow.<br><br>If you are using sprites or quads which face to the camera all the time, then you could think about to exclude based on obstacles. But this is prettxy hard when the sprites fade to transparence on the edges - which is very likely. Anyway, if you know that the inner half of the sprite is opac then you could check if the more distant sprites are hidden behind the near sprites, projecting their edges by multiplying x and y by z.<br><br>You could use a dynamic array of near sprite edges and build a list of hidden projected rectangles based on it.<br><br>I am afraid this was more confusing than useful :) <br><br></td></tr></table><br>
<a name="313437"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jim Teeuwen</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> lol tis indeed confusing, but interesting :)<br>ANyhoo, as I failed to mention. it is a single surface particle system. (arn't they all the hype these days).<br><br>I had a play and decided that for expensive occlusion to be usefull it would have to be about clusters of about 1000 particles at once, else the occlusion computation would only take longer than actually rendering em all.<br><br>So basicly, occlusion is summin that isnt critical to performance in my case and can be left for what it is. (for now anyways) <br><br></td></tr></table><br>
<a name="313536"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> What i am going to do is have a blitz primtive be the spread of the particle emittor. So each time i check the emittors, i will do an EntityInView check. I will not update any emittors that aren't in view, unless they perform a vital function that needs to be done.<br><br>Fire and such i will use an invisble cylinderfor the emittor. Check this with EntityInView. If it cannot been seen, then don't update the emittor. Which is where speed is lost. Updating particles. :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
