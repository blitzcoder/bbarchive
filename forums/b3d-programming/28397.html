<!DOCTYPE html><html lang="en" ><head ><title >Changing the direction of a vector</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Changing the direction of a vector</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Changing the direction of a vector</a><br><br>
<a name="298623"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> How do we change the direction of a vector gradually?<br>Given vx,vy and vz<br>I'd like to plug in an angle change over time to curve it off into a different direction.<br><br>I believe this will solve most of my problems. <br><br></td></tr></table><br>
<a name="298632"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Almo</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Angle around which axis? You can use a matrix rotation thing to do it. See equations 4, 5 and 6 on this page:<br><br><a href="http://mathworld.wolfram.com/RotationMatrix.html" target="_blank">http://mathworld.wolfram.com/RotationMatrix.html</a> <br><br></td></tr></table><br>
<a name="298635"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yaw would be fine :) Anything involving greek symbols generally causes me to shut my eyes tightly.<br><br>Am I right in assuming this is just modifying vx and vz, where vy is gravity? <br><br></td></tr></table><br>
<a name="298649"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> *begs* <br><br></td></tr></table><br>
<a name="298650"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Almo</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you want the vector to properly rotate through an angle, you need the matrix stuff. I can post a routine that will do this, if you like.<br><br>If it's okay for the vector to change direction in a "non-circular" way, then linear interpolation is easier. Also which I can post if you like. <br><br></td></tr></table><br>
<a name="298653"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Post both, I'm pleased to see any code that might help. Basically I have an object which slides down a halfpipe realistically, but I'd like to change it's direction vector if I can, so as to give the player some control. Eventually it may (or may not) turn out much like skateboard/snowboard physics. <br><br></td></tr></table><br>
<a name="298675"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Almo</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think I have a way to do this, and it's even (sort of) geometrically correct. I'll try to put it up after work. Or if you can find the basic vector math stuff yourself, here's the procedure:<br><br>PlayerVec = The vector direction the player is moving.<br>PlayerUpVec = The vector normal to the surface the player is on. The normal sticks out of the ground perpendicular to it.<br><br>given it's a half-pipe thing, I'm assuming these two are perpendicular; this won't work if they aren't.<br><br>Normalize(PlayerVec) ; makes the length of the vector 1<br>Normalize(PlayerUpVec) ; same<br><br>tempvec = PlayerVec (cross) PlayerUpVec<br>; tempvec is the cross product of PlayerVec and PlayerUpVec<br>; this vector points to the player's left or right. Add a minus sign to swap sides.<br><br>PlayerVec = LinearInterpolation(tempvec, PlayerVec, 0.1)<br>; Set PlayerVec to be the linear interpolation between tempvec and PlayerVec<br>; this "blends" between the two vectors, turning PlayerVec 10% (that's the 0.1) toward tempvec.<br>; to turn faster, use 0.2 or something.<br><br>Normalize(PlayerVec); make length 1<br>PlayerVec = PlayerVec * PlayerSpeed<br>; PlayerSpeed is a float, telling how fast you want the player to move.<br><br><br>So all you need is a normalize function, a cross product function, and a linear interpolate function.<br><br>:D <br><br></td></tr></table><br>
<a name="298755"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeppe Nielsen</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Couldn´t you use aligntovector here? <br><br></td></tr></table><br>
<a name="298803"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeppe Nielsen</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://www.blitzbasic.co.nz/codearcs/codearcs.php?code=858" target="_blank">This</a> example shows aligntovector graphically. <br><br></td></tr></table><br>
<a name="298905"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Almo</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> From Jeppe's code, it's the 0.04 here that's what you're after:<br><br><pre class=code>AlignToVector p2,TFormedX(),TFormedY(),TFormedZ(),3,0.04</pre><br><br>The Blitz Help on AlignToVector mentions no such thing, so I wasn't aware of it. Rob, this is definitely the thing you want. <br><br></td></tr></table><br>
<a name="298906"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> ahhhh thanks! align to vector based on the tformvector is a bit beyond me. I'll have a good learn from all this...!<br><br>Thanks :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
