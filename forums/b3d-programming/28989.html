<!DOCTYPE html><html lang="en" ><head ><title >Bullets hitting backwards?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Bullets hitting backwards?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Bullets hitting backwards?</a><br><br>
<a name="305803"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mr.ninja</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> hello.<br>I have a spaceship flying and shooting (3rd person view).<br>I have some enemies that collide with it (as asteroids).<br><br>the problem is that sometimes, when the enemies are really close to the back of the spaceship, a bullet shoots backwards hitting the enemy, as if it is an homing missile, and the strange thing is that the enemy is immediately destroyed instead of taking the specified amount of damage...<br><br>anybody has any clue?<br><br>thanks <br>Paolo <br><br></td></tr></table><br>
<a name="305805"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Make sure your bullets are coming out of the front of the ship, and not being generated at the back of it and moving forward :) <br><br></td></tr></table><br>
<a name="305806"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mr.ninja</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks. That could be the problem.<br><br>But I'm not really sure how I can generate the bullets in the front. the code is:<br><br>Function createbullet(ship)<br>b.bullet=New bullet<br>b\ent=CopyEntity (main_bullet)<br>b\x=EntityX(ship)<br>b\z=EntityZ(ship)<br>b\y=EntityY(ship)<br>PositionEntity b\ent,b\x,b\y,b\z<br>TurnEntity b\ent, EntityPitch (ship), EntityYaw (ship), 0<br>b\speed=ShotSpeed<br>b\time=ShotLife<br>b\timer=MilliSecs()<br>End Function<br><br>"ship" is a pivot that is moved (with keystrokes and mouse), but if I try to attach my bullets to anything else (such as another parented pivot) they don't move with the ship. Moreover, if I just try to put:<br><br>b\z=EntityZ(ship)+5<br><br>to move the bullet starting point towards the front of the ship, then the bullets startint position get screwed as soon as I turn the ship (i.e. they get fired from some point to the left or the right of the ship)...<br><br>Anyway I noticed that some of the bullets gets also fired sideways, as if they are attracted by the enemy entity... <br><br></td></tr></table><br>
<a name="305811"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shambler</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Put a pivot in front of your ship, point it away from the ship so it is looking in the direction of firing and then parent that pivot to the ship.<br><br>This way you always know what direction is 'forward' and you can fire your bullets from this pivot's position. <br><br></td></tr></table><br>
<a name="305812"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, do you generate the bullets when the user presses fire? If so then position the bullet at the ships co-ords, rotate the bullet to the ships rotations(entitypitch etc), then use the command, moveentity b\ent,0,0,1.<br><br>That will move the ship forward one unit, in it's orentation :) <br><br></td></tr></table><br>
<a name="305814"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mr.ninja</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks all. <br>I can now set the starting position of the bullet, but the problem is still there. If I keep the fire button pressed I can actually see, sometimes, a bullet flying "out of the line" and pointing directly towards the enemy.<br><br>It happens when I move the ship (if I turn, or if I decrease the speed). <br><br>Paolo <br><br></td></tr></table><br>
<a name="305831"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MSW</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> parent the bullet on creation to the ship pivot...this will automaticly place it and point it in the right direction (no need to further rotate it)...set your shotspeed, and timers...then parent the bullet to the world (this way it's movements arn't locked in relation to the ship)... <br><br></td></tr></table><br>
<a name="305854"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> one problem might be your using turnentity instead of rotateentity. Ic guess it does the same thing if it starts from 0,0,0 but I would't be to sure. <br><br></td></tr></table><br>
<a name="305996"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mr.ninja</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks, looks like now it's ok. I have the shot generating from an alpha 0 sphere (I still cannot have it to work with a pivot) in the front of the ship, and I used rotateEntity instead of turnEntity. <br>I'll have to test it a bit more, though, just to be sure it's ok...<br><br>Paolo <br><br></td></tr></table><br>
<a name="306025"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeppe Nielsen</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could also do this, without using a pivot:<br><pre class=code>
Function createbullet(ship,distancetofront#=1) 
b.bullet=New bullet 
b\ent=CopyEntity (main_bullet)
Tformpoint 0,0,distancetofront,ship,0
b\x=tformedx()
b\z=tformedy()
b\y=tformedz()
PositionEntity b\ent,b\x,b\y,b\z 
RotateEntity b\ent, EntityPitch (ship), EntityYaw (ship), EntityRoll(ship)
b\speed=ShotSpeed 
b\time=ShotLife 
b\timer=MilliSecs() 
End Function 
</pre> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
