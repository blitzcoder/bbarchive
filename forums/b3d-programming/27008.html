<!DOCTYPE html><html lang="en" ><head ><title >Question about frame rate</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Question about frame rate</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Question about frame rate</a><br><br>
<a name="282437"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mrtricks</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can't quite work out why this happens. Custom meshes, totalling between 10k-20k polys. Fine, frame rate is a solid 72fps, even when all polys are on screen.<br><br>Then, when I go right up to the mesh(es) so they fill the screen, it SOMETIMES (hence, not always) halves the frame rate. Generally when I'm looking up or down. Polys are the same looking forward or looking up, amount of screen filled by mesh is same, but fps halves.<br><br>I thought it was a fillrate thing but it's fine looking forward... is there some issue with camera angles looking up or down?<br><br>Or is it a texture setting I'm missing? Anyone else had this problem? <br><br></td></tr></table><br>
<a name="282574"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I saw you go 25fps on telly once. j/k<br><br>Seriously, it looks like a fill rate problem. Lets check a few items off.<br><br>-are you using flip false?<br>-are these meshes using any extended b3d specific things like alpha?<br>-are they multi surface or with different textures?<br><br>If you have terrain too, it looks as though it's actually the terrain going nuts here, not the meshes. Finally, are you multitexturing anything (including any terrains) more than twice? <br><br></td></tr></table><br>
<a name="282689"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mrtricks</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not using flip false. <br>Custom meshes made within the program, not using alpha.<br>One surface per mesh, all using same texture.<br>Don't think it's the terrain either, because it's always when I go up close to a mesh.<br><br>Hmmm... when I get a proper demo together it might be easier to detect the problem. <br><br></td></tr></table><br>
<a name="282693"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Consider this:<br><br>you have a terrain which uses 50 points of processing. When you look directly down at a terrain, it triangulates a hell of a lot more due to the way lod works. This sudden shift often makes the terrain use 75 points of processing.<br><br>On this level, you have a mesh, when at a distance, uses 50 points of processing. When close up, it uses 75 points of processing due to the fill rate.<br><br>Add it all together and you will be going over the maximum points before you slow down, for dramatically different reasons. Depending on what blitz is doing, this data may be choking the card a bit since terrains upload new data to the card each frame.<br><br>I hope you fix it :) <br><br></td></tr></table><br>
<a name="282735"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I had exactly the same problem, and all I could put it down to in the end was fill-rate, and a mouse bug which may or may not have been fixed recently.<br><br>I wasn't using a terrain at all, but I had exactly this problem of big slowdown but only when I was close, and ONLY at specific, quite narrow, angles.<br><br>If you're using mouse control at all, you might want to bung a loop of small delays ( I think it was suggested I use a loop of ten delay 2 's but I'm not 100% ) as the mouse buffer seems to get really hinky when the fillrate starts to become a problem.<br><br>Other than that, you can't really block certain camera angles ( well I couldn't anyway ) but you might be able to stop the camera from getting too close to objects. <br><br></td></tr></table><br>
<a name="282789"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mrtricks</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's not a huge problem, it just seems odd. I'll keep tinkering. <br><br></td></tr></table><br>
<a name="282845"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bouncer</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's because of the flip... if your code slows down too much to fit into one screen refresh... the vertical beam will wait another "cycle", so your framerate suddenly drops to half. <br><br></td></tr></table><br>
<a name="283184"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mrtricks</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah, of course! So if I use flip false, it'll slow down a little but not by half. I couldn't see the wood for the trees... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
