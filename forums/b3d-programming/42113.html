<!DOCTYPE html><html lang="en" ><head ><title >No collision while going backwards</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >No collision while going backwards</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >No collision while going backwards</a><br><br>
<a name="472086"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >danjo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> i have a simple camera moving about.. using MoveEntity<br>the cam has a radius, and walls cam camera both have collision types set to sliding.<br>the camera cannot pass thru walls going sideways or forwards, but if you go back (MoveEntity cam,0,0,-0.5)<br>i can go right thru (created entities) that have the collision types set on them. - turn it around and go forward at the entity you just went thru, and it stops on it.<br>has anyone seen this problem before? <br><br></td></tr></table><br>
<a name="472087"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlackD</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Got example code? <br><br></td></tr></table><br>
<a name="472095"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >danjo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> heres relevant code im using..<br><br><pre class=code>
Global playertype=1,walltype=2

EntityRadius editor_cam,3.8
EntityType editor_cam,playertype

Collisions playertype,walltype,2,2


If level(a,b)=17
	e.editor_block=New editor_block
	e\entity = CopyMesh (innerwall_1)
	e\x=xx
	e\z=zz
	PositionEntity e\entity,e\x,-8,e\z
	RotateEntity e\entity,0,0,180
	ScaleEntity e\entity,1,1.1,1
	EntityType e\entity,walltype
EndIf


Function editorcam_view()
If MouseX()&lt;50 Then TurnEntity editor_cam,0,1,0
If MouseX()&gt;550 And MouseX()&lt;=600 Then TurnEntity editor_cam,0,-1,0
If KeyDown(203) Then MoveEntity editor_cam,-.5,0,0
If KeyDown(205) Then MoveEntity editor_cam,.5,0,0
If KeyDown(200) Then MoveEntity editor_cam,0,0,.5
If KeyDown(208) Then MoveEntity editor_cam,0,0,-.5
End Function
</pre><br><br>you can see im not doing anything out of the ordinary.<br>the collisons work when the cam goes forward or sideways into the meshes, but when you spin around, you can travel backwards thru them. <br><br></td></tr></table><br>
<a name="472171"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Spin around? Blitz doesn't handle rotating entities, because technically the entity isn't moving. Same if you scale an entity, the collision won't detect. Have you tried going straight back? <br><br></td></tr></table><br>
<a name="472187"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Probably it has something with fustrum culling to do. if the wall in your back is completely out of sight and it is a seperate mesh, it will not be rendered. probably it will also not process collision. The same happens when you hide something with HideEntity: Collision is not processed any longer. Well if it is that way, it may be named a Bug. Quick solution would be to addmesh the walls to the ground, so there is always something in view. But of course thisisn't a proper solution since it forces to render more than what's neccessary.<br><br>Well I am not sure if it has anything to do with this issue at all. It never happened to me cause my level is one single mesh (not very efficient with large levels, I know) <br><br></td></tr></table><br>
<a name="472191"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> this wont have anything to do with it as things miles off camera still collide. <br><br></td></tr></table><br>
<a name="472210"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, blitz's entity clipping shouldn't affect collisions at all. The only thing I can think of at the moment is that if the collision sphere of your camera is already colliding with the level mesh when you start, then collisions won't work. <br><br></td></tr></table><br>
<a name="472344"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >danjo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> ross c, when i said spin around, i meant turn your camera away from the mesh, and travel straight backward. you go straight thru it.<br>it does seem like collisions are not being processed when you cannot see that entity it is colliding with, as jfk mentioned. (much larger wall entities) you cannot travel backwards thru.. just the smaller ones.<br>its odd that it works fine when you travel around forwards or even sideways, but as soon as you travel backwards, the collisions do not work.<br>* i should mention the unit sizes here.<br>the camera's entity radius is 3.8<br>the offending meshes are 8x8 units<br>the main walls that arent affected are 240x1 units.<br><br><br>its not causing me any greif, because the "bug/occurance" of going thru the walls is no major deal. there is some much larger outside walls that contain the level, which you cant go thru, so atleast i have limited the camera to stay inside the level. <br><br></td></tr></table><br>
<a name="472420"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Which version of Blitz3D are you using?  If you're not using 1.88, give it a try and see if it solves your problem.  The 1.88 version supposedly fixed some collision bugs.  If you are using 1.88, see if you can downgrade to an earlier version and see if it works, possibly the upgrade might've broken something that was originally working. <br><br></td></tr></table><br>
<a name="472495"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >danjo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> using 1.88 <br><br></td></tr></table><br>
<a name="472515"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> notice, "fixed collision bugs in 1.88" basicly means Collision as we know it was edited, so there could be a new bug, in theory.<br><br>danjo - did you try to add the wall to the floor mesh? You only need to take care to use PositionMesh to position the wall initially (not PositionEntity), then use <br><br>Addmesh wall, ground<br>freeentity wall<br><br>Now the wall should be part of the ground.<br><br>BTW maybe it's a graphics card driver problem, try to update your drivers. Do you got a radeon chipset? I had serious problems with randomly disappearing terrains on my radeon, and after updating the driver from ati.com the problem was solved. <br><br></td></tr></table><br>
<a name="472699"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Clarks</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> the face normal of the triangle that you're colliding with<br>sometimes cause this problem.  i experienced the same thing. <br><br></td></tr></table><br>
<a name="472786"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >danjo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> k, after testing, this is what is happening. the offending meshes which collisions are not working on when you cannot see them - ie: travel backwards thru them, are the COPYMESH(entities)<br>i am using copymesh, to add more meshes, and even after the copymesh, placing the entitytype on them, it only works if you can see the mesh.<br>on the original mesh i am copying from, i placed in with them, and collisions work in any facing direction on that one.  so it is a problem with COPYMESH.<br><br>as i said, its not great big deal that you can travel thru the meshes for this instance, as its a level editor - but it still doesnt solve a problem if i or someone else comes up against this dilema of using COPYMESHed entitys for collisions (even backward collisions) <br><br></td></tr></table><br>
<a name="472808"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fall_x</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I had a similar problem, but with copyentity. I have a bunch of trees. If I load them all with loadmesh it works great, but if I load it once and then make all the trees with copyentity, my transparant leaves are not shown most of the time (they pop in and out of the view).<br>I don't know if this has anything to do with your copymesh problem though. <br><br></td></tr></table><br>
<a name="473087"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Whoa, both of the above replies sound pretty crucial to me (suggesting Eek! a bug in Blitz).<br>Anyone been able to nail this down? <br><br></td></tr></table><br>
<a name="473145"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >danjo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> copymesh has not affected any other things i have found. it's alpha transparency works ok, etc.<br>the thing is, the collison on the copymesh works, just not when you can see the entity its colliding with. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
