<!DOCTYPE html><html lang="en" ><head ><title >'Jerky'shadows</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >'Jerky'shadows</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >'Jerky'shadows</a><br><br>
<a name="807507"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> ..this is related to users of Swift Shadow System..basically I did one big nothing but load one of demos provided (simple shadow system setup) and just changed parameter for turning in main loop (TurnEntity samplecone,1,2,3 in to TurnEntity samplecone,.1,.2,.3) and as result I notice that shadow doesnt follow smooth object rotation at all, but its very very jerky...how to fix this?  Is that related with shadow update speed or what?? <br><br></td></tr></table><br>
<a name="807510"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm looking into it now. <br><br></td></tr></table><br>
<a name="807513"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, sorry for the delay.<br><br><br>Here's the issue:<br><br><br>If you look at the globals declared at the top of the shadow system, you'll see this:<br><br><pre class=code>
; This is the amount which the angle of the caster has to change relative to it's light source before the shadow map
; is rerendered.  You should not need to change this value, I've set it to an optimal one, but if you decide you
; don't mind if your shadows jump around a little in extreme cases, and you want to improve performance by a few fps
; on slow PC's, then you can adjust this value.  You can change this value at runtime just like all the other values
; here.
Global Texture_Angle_Epsilon# = 2.0
</pre><br><br><br>If you change that number to 0, your problem will go away completely.  If you reduce it to the point where you don't notice the issue anymore, that would be better for performance though.<br><br>What that number basically does is tells the system not to re-render the shadow map if your car or crate or whatever other static object you're casting shadows from hasn't rotated enough that it really needs to be rerendered.  The only reason you noticed that it was cheating was because you used a worst case scenario of a slowly rotating object.  If you had a crate flying across the room, or a car speeding around a track, you'd never tell the difference.<br><br>Also, if the object is animated, then you'd also never see this issue because this optimization can't be applied to animated objects.  There's no way to tell in Blitz how far a guy's arm has moved for example.  So the angle of the object might not change at all, but the guy's arm moves around, and if the shadow doesn't get rerendered then you've got problems.<br><br>So there you have it.  Easy to fix, if you really need it fixed.  Unfortunately, you can't set this value per object, but you could probably modify the functions and types to accept such a value and make the code use that without too much difficulty. <br><br></td></tr></table><br>
<a name="807518"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> THANKS...working like a charm now ;) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
