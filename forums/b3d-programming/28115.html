<!DOCTYPE html><html lang="en" ><head ><title >Unreal Snow Particals</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Unreal Snow Particals</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Unreal Snow Particals</a><br><br>
<a name="295354"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neochrome</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Any one got any nice out door snow FX i could play with? Mine is just a load of particals and REALY Eats my processor :o(<br><br>if you have suguestions or sample codes i could look at ? <br><br></td></tr></table><br>
<a name="295368"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Single surface particle system? Bouncer had one and he managed a huge number of particles. Something like 10,000! ran at 50 fps on my computer, but it's good! <br><br></td></tr></table><br>
<a name="295488"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> The key is to only spawn the snow around the player in a certain radius.  Fade/scale them as they get further away and you're done.  You don't need to hose the entire level with snow. <br><br></td></tr></table><br>
<a name="295538"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >poopla</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> /me wonders why everyone thinks because something was done in Unreal 2... that it is somehow using a mysterious technique. <br><br></td></tr></table><br>
<a name="295683"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Everyone doesn't think that. <br><br></td></tr></table><br>
<a name="295797"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neochrome</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> i need a quick and simple way of doing it, tho when i walk about my snow disapears. and im already using a tad too many paticals already :o( <br><br>would it be better to use one sprite over the screen and render the snow on that? <br><br></td></tr></table><br>
<a name="295809"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >poopla</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Spawn the particles only arround your player, and offset their spawn position by your players global motion vector.  They will spawn where he is heading and be in view (of course a bit of a change has to occure when he moves backwards or the particles will spawn behind the camera's view frustrum.. <br><br></td></tr></table><br>
<a name="295826"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> i'd personally spawn particles behind the player. So that when he turns round, there are half fallen particles etc behind him. They won't be rendered anyways. <br><br></td></tr></table><br>
<a name="295838"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey, try this out. I couildn't get the alpha on the particles to look right, and there a bit to big, but the program does what it's supposed to. Use arrow keys to move. The codes not commented too much, but it's pretty straight forward. I've commented the lines to change to acheive a greater snow radius. The snow fallsfrom a height of 10 unit above the player, and 3 units below his feet.<br><br><pre class=code>
Graphics3D 800,600
SetBuffer BackBuffer()

Global camera=CreateCamera()
PositionEntity camera,0,2,0

Global light=CreateLight()

Global plane=CreatePlane()
EntityColor plane,50,50,250

Global tex=CreateTexture(32,32,1+4)
SetBuffer TextureBuffer(tex)
Color 255,255,255
Oval 0,0,32,32
SetBuffer BackBuffer()

Global main_sprite=CreateSprite()
EntityTexture main_sprite,tex
HideEntity main_sprite

Dim cubes(15)

For loop=0 To 15
	cubes(loop)=CreateCube()
	PositionEntity cubes(loop),Rnd(-30,30),0,Rnd(-30,30)
Next

Type particle
	Field x#,y#,z#
	Field angle#
	Field distance#
	Field ent
	Field speed#
	Field alpha#
	Field size#
End Type

Global snow_parts=50; NUMBER OF SNOW PARTICLES!!!
Global distance=40; CHANGE THIS FOR A GREATER RADIUS OF SNOW!!!


For loop=1 To snow_parts
	p.particle=New particle

	p\ent=CopyEntity(main_sprite)

	p\angle=Rnd(0,359)
	p\distance=Rnd(3,distance)
	
	p\x=EntityX(camera)+Cos(p\angle)*p\distance
	p\z=EntityZ(camera)+Sin(p\angle)*p\distance
	p\y=EntityY(camera)
	PositionEntity p\ent,p\x,p\y,p\z
	
	p\speed=Rnd(0.1,0.8)

	p\size=Rnd(0.1,0.8)
	ScaleSprite p\ent,p\size,p\size

	EntityAutoFade p\ent,0,distance
Next



While Not KeyHit(1)



	If KeyDown(200) Then MoveEntity camera,0,0,0.2
	If KeyDown(208) Then MoveEntity camera,0,0,-0.2
	If KeyDown(203) Then TurnEntity camera,0,1,0
	If KeyDown(205) Then TurnEntity camera,0,-1,0
	
	updateparticles(EntityX(camera),EntityY(camera),EntityZ(camera))
	
	UpdateWorld
	RenderWorld
	Flip
Wend
End

Function updateparticles(x#,y#,z#)
	For p.particle=Each particle
		p\y=p\y-p\speed
		PositionEntity p\ent,p\x,p\y,p\z
		If p\y&lt;(y-3) Then
			p\y=y+10
			p\angle=Rnd(0,359)
			p\distance=Rnd(3,distance)
			
			p\x=EntityX(camera)+Cos(p\angle)*p\distance
			p\z=EntityZ(camera)+Sin(p\angle)*p\distance
			p\speed=Rnd(0.1,0.8)
			PositionEntity p\ent,p\x,p\y,p\z
			
			p\size=Rnd(0.1,0.8)
			ScaleSprite p\ent,p\size,p\size
		End If
	Next
End Function
</pre> <br><br></td></tr></table><br>
<a name="295845"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neochrome</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Whoohoo, thats about it!! NICE!!  would you mind me using this? <br><br></td></tr></table><br>
<a name="295847"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, sure. It's you i coded it for :) <br><br></td></tr></table><br>
<a name="295851"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neochrome</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool.. houw would i make this go in to a single surface? its very simulare to what i originially came up with, but this one has cos, and sins! haha <br><br></td></tr></table><br>
<a name="295854"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >poopla</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ross C., your essentially saying "oh, dont worry about the hundreds of parrticles being updated behind you you will never see.   There are better ways to do it. <br><br></td></tr></table><br>
<a name="295861"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> There's only about 25 behind the player. They aren't rendered, and it doesn't take much time to cycle thru 50 types.<br><br>I done a test a while back, and if entites aren't onscreen and they aren't using collisions, then it's no better to hide them. Of course, it depends on how tight you wanna make it. But of course you have a point in maybe the amount of memory each particle might take up. Again, i don't think this would be a problem, but i usually learn things the hard way :)<br><br>Going single surface may give you a slight boost.<br>I think if you wanted to use this in single surface particles, just apply the x,y,z co-ords to the quads, and go about what you would normally do. <br><br></td></tr></table><br>
<a name="295863"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >poopla</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't know his situation, so it may work fine for him.  In my case however I am using a huge ammount of processing power every loop for rendering, multiplayer, physics, collisions, mesh deformations etc etc.  So I focus on saving every last drop of system performance. <br><br></td></tr></table><br>
<a name="295864"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, i suppose. It was just a 10 minute job. I'll try and optimise some more maybe. <br><br></td></tr></table><br>
<a name="296078"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >cbmeeks</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> EDIT:<br><br>Nevermind...I had to reload my video card drivers...stupid dell computer!!<br><br>All I get is a blank screen?<br><br>cb <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
