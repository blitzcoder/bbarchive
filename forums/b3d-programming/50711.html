<!DOCTYPE html><html lang="en" ><head ><title >Can of leaking worms.</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Can of leaking worms.</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Can of leaking worms.</a><br><br>
<a name="564899"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sledge</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> General Discussion frequenters will know that I'm a-hunting memory leaks at the moment after adopting much heavier type and dll usage. The problem is that I'm not really sure how to interpret the data that my memory and process monitors (WinME here so no built-in utils) are generating - for example I wrote a quick FMOD interface* yesterday evening, left it running overnight and came back to find several myself shy of several MB. However the allocated heap size (and total size of heap and modules) for the process had not altered at all.<br><br>Stranger still, leaving the computer running only the monitors this afternoon I noticed that it lost half a megabyte while simply idling for a while. This makes it pretty difficult for me to tell if I even <i>have</i> a memory leak in my own programs - the available memory seems to ebb away of its own accord anyway.<br><br>So if anyone has any surefire tactics for identifying mem leaks in Blitz programs (other than those in vidram, obviously) then I'd appreciate the info. I'd also be interested in any thoughts on safe type and entity handling - my main project at the moment seems to leave less mem available than it begins with (which I'm trying to concvince myself is simply due to fragmentation!) but even though its process' allocated memory rises as types and entities are created on the fly, once it peaks it stays static. I do my own housekeeping in the program, but how good is Blitz at cleaning up if you miss or dereference something?<br><br>And now you're all about to tell me to get XP...<br><br>*Don't get excited, it's not a wrapper. <br><br></td></tr></table><br>
<a name="564916"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually my understanding was that of course you should 'clean up' while your prog is running, but when you quit Blitz will clean up all it's memory usage automatically (in case you forgot to do all those 'Free()s').<br>Is that not right? <br><br></td></tr></table><br>
<a name="564928"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sledge</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Is that not right? <br> <br></div><br><br>I thought so, and the fact that the process' allocated memory doesn't continually rise makes me think I'm doing things properly. With WinME (or something in the tray, or - God forbid - one of the monitors) apparently peeing memory away continually it's hard to be 100% certain that my app isn't contributing a few bytes to the pool (the process readout is in MB so you wouldn't necessarily see that for a while, though the overnight test showed no change). I just wondered how others generally handled the issue. <br><br></td></tr></table><br>
<a name="564937"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Remember that the memory used by type instances is not actually returned to the heap when you delete them. Blitz simply 'marks' deleted instances for recycling. This makes things quicker. It's probably the same for the internal structures used by entities etc., but I'm only quessing. <br><br></td></tr></table><br>
<a name="564951"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tend to call a ClearWorld when I exit a program - just to be on the safe side. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
