<!DOCTYPE html><html lang="en" ><head ><title >entitybox and meshes</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >entitybox and meshes</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >entitybox and meshes</a><br><br>
<a name="402448"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ryan scott</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> i'm trying to figure out how to size and position entity boxes.  <br><br>it's difficult using the existing documentation to figure out where the handle is, and where the entitybox is.  it's just not documented. <br><br>when you scalemesh or positionmesh, vs scaleentity vs positionentity - what affect do those have on the handle, and on the entitybox? <br><br>do they scale it as well, position it along with the mesh, or does it stay where it was?  is the entitybox defined relative to the meshes 0,0,0 point?  what happens to that point when you scale the mesh or position the mesh, etc?<br><br>is there some tutorial on all this?  because i'm finding that these 'subtle' details are really critical.  otherwise nothing lines up, nothing collides properly. <br><br></td></tr></table><br>
<a name="402495"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DJWoodgate</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, it is defined relative to the meshes origin.  The handle if you like is always at 0,0,0 and the axis are fixed. Positionmesh, Rotatemesh, Scalemesh just move the verts around this point.  They do not change the box you have defined.  Typically you would find min x,y,z of all the verts and then the box would be defined from min x,min y,min z to meshwidth(),meshheight(),meshdepth(). (As an aside it seems a shame that blitz does not expose the bounds for a mesh; it does of course know what they are - it calculates them when meshwidth() etc is called or at renderworld - which would save having to find them again).<br><br>You can of couse centre the verts on the mesh origin using fitmesh should you want to and then define a box based purely on meshwidth(),meshheight() and meshdepth() since the bounds would then be known.  For instance -Meshwidth(mesh)/2 would be the start position and the end would be at +Meshwidth(mesh)/2 and so on. So using Fitmesh mesh,-meshwidth(mesh)/2,-meshheight(mesh)/2,-meshdepth(mesh)/2,meshwidth(mesh),meshheight(mesh),meshdepth(mesh) would centre the mesh on its origin and the required box could be defined in the same way. <br><br>Boxes are affected by entity orientation.  They are not effected by entity scale AFAIK, which is a tad annoying, but perhaps necessary given how weird scaled space can become.<br><br>None of the mesh commands effect them at all.  You need to adjust them accordingly and of course rotating the mesh around its local axis may result in a better or worse fitting box.  There are I believe algorithms to find a good fitting box, but from what I have read they are completely non trivial, at least from my rather limited perspective. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
