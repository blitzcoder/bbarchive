<!DOCTYPE html><html lang="en" ><head ><title >Microphone output / input?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Microphone output / input?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Microphone output / input?</a><br><br>
<a name="1135908"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi all. I have a question. Does anyone know of a DLL and example code, showing how to send microphone input through the web, and back from the web? basically, an example with microphone support. I would like to add microphone support to my game. :)<br><br><br>Thanks! :) <br><br></td></tr></table><br>
<a name="1135964"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ClayPigeon</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I may be wrong, but I believe either BASS or FMOD has that capability. <br><br></td></tr></table><br>
<a name="1135972"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do they have an example I can use to learn how to send and receive microphone inputs?<br><br>Thanks! :) <br><br></td></tr></table><br>
<a name="1136188"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Bump. its been over 24 hours. <br><br></td></tr></table><br>
<a name="1136199"></a>

<a name="1136214"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> .<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1136206"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have no working sample, but this is the way I'd do it:<br><br>get the code sample from the archives that shows how to reverse play a WAV, this will allow you to have access to the actual sampling data, excluding the header. I'd cut the sound in little packets of eg. 200ms, pack it with zip (somewhere in code) and send them over UDP or TCP by my own. Not sure if ZIP is a good choice, you may instead use a lossy audio codec instead. No matter what, seems like you need to write a lot to the harddrive since Blitz doesn't support editing sounds in ram. Maybe you can do that with a hack or with BASS or so. <br><br></td></tr></table><br>
<a name="1136215"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, Jfk :) <br><br></td></tr></table><br>
<a name="1136411"></a>

<a name="1136412"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rroff</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> BlitzAL has the ability to capture audio data from an external source however I'm not sure if there is any direct buffer access to read the raw data which would be required to send it over a network.<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1136465"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there another way of reading the Raw Data? <br><br></td></tr></table><br>
<a name="1136539"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rroff</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> There may be some way with the RtlMoveMemory API function but its not something I've looked into. <br><br></td></tr></table><br>
<a name="1138488"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> remember the good old times when we had to read the printerport to sample the 8 Bit amplitude of a homebrew AD converter, consisting of a couple of resistors :)<br><br>Probably harder than the raw data access using RtlMoveMemory may be to control the microphone. Maybe there are ways using ome of windows embedded multimedia APIs. You'd need to study a lot of DLL stuff, tho. BlitzAL, as Rroff suggested, sounds good to me. <br><br></td></tr></table><br>
<a name="1138911"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does anyone have an example of streaming a file live with a server, while a client downloads it, and can stream the file too? that would EASILY solve this problem. <br><br></td></tr></table><br>
<a name="1139020"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> bump. its been over 12 hours. <br><br></td></tr></table><br>
<a name="1139035"></a>

<a name="1139037"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RifRaf</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> over 12 hours?  is that your medication interval ?<br><br>Seriously, if nobody answered after reading it once, why would your reminder help them come up with a solution for you?  Folks usually bump good information, not their own "gimme" requests.  Wait and see if somebody answers like polite person, stop trying to force a quick reply.<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1139135"></a>

<a name="1139136"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Rifraf, go away. Stop hijacking my thread.<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1139239"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >K</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well...<br><div class="quote"> BlitzAL has the ability to capture audio data from an external source <br></div><br>1) Look into that. Search engines are wonderful.<br><div class="quote"> may be some way with the RtlMoveMemory API function <br></div><br>2) Look into that. He said he wasn't sure. Research RtlMoveMemory.<br><div class="quote"> Does anyone have an example of streaming a file live with a server...? <br></div><br>3) No. If they did, they would have said so THREE WEEKS ago. As it is, there are close to half-a-dozen great suggestions already in this thread.<br>You have all the clues; if you are to be a programmer you have to understand logic, and more often than not, you are on your own. But, since you know that other games are using this, you know it can be done, yes? Research how they did it. <br><br></td></tr></table><br>
<a name="1139403"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Using <a href="http://forums.purebasic.com/english/viewtopic.php?t=1288" target="_blank">this method</a>, you can record to a simple WAV file. Really crude example:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">

filename$ = "test.wav"
secs = 5
store = 128

DeleteFile (filename$)

open$ = "open new type waveaudio alias capture"
recd$ = "record capture"
save$ = "save capture " + filename$

tbank = CreateBank (store)

openbank = CreateBank (Len (open$))

For byte = 1 To Len (open$)
	PokeByte openbank, byte - 1, Asc (Mid (open$, byte, 1))
Next

recdbank = CreateBank (Len (recd$))

For byte = 1 To Len (recd$)
	PokeByte recdbank, byte - 1, Asc (Mid (recd$, byte, 1))
Next

savebank = CreateBank (Len (save))

For byte = 1 To Len (save$)
	PokeByte savebank, byte - 1, Asc (Mid (save$, byte, 1))
Next

mciSendStringA (openbank, tbank, store, 0)
mciSendStringA (recdbank, tbank, store, 0)

Delay (secs * 1000)

mciSendStringA (savebank, tbank, store, 0)
</textarea><br><br>Note that you'll first have to create a plain text file called "winmm.decls" in the "Blitz3D\userlibs" folder (create that folder if it doesn't exist), containing this definition:<br><br><pre class=code>
.lib "winmm.dll"

mciSendStringA (lpszCommand*, lpszReturnString*, cchReturn, hwndCallback)
</pre><br><br>(If you already have a winmm.decls file -- unlikely -- just add the mciSendStringA line, if it's not already there.)<br><br>I don't really know the details of how this works, other than you send strings via <a href="http://msdn.microsoft.com/en-us/library/windows/desktop/dd757161(v=vs.85).aspx" target="_blank">mciSendStringA</a> to have the work done for you, but the archived page below shows what the string commands mean. It might even be possible to record to memory, but I don't know if that's the case.<br><br>http://web.archive.org/web/20091027051607/http://www.geocities.com/smigman.geo/mci/wav.html<br><br>Anyway, it's one simple way to get mic input at least. <br><br></td></tr></table><br>
<a name="1139404"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> BTW I assume that in a real game you would call the DeleteFile command, then the first two mci commands, then while your game loops, test if x seconds have passed, then call the third one to stop. <br><br></td></tr></table><br>
<a name="1139445"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just tried, and it didnt record anything to any file :/ <br><br></td></tr></table><br>
<a name="1139464"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Also, how do I grab EVERY byte, and put it into a variable? <br><br></td></tr></table><br>
<a name="1139535"></a>

<a name="1139871"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> .<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1139872"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Anyone? <br><br></td></tr></table><br>
<a name="1140024"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Anyone?... <br><br></td></tr></table><br>
<a name="1140707"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> How do I grab all the bytes, and put them into a variable? <br><br></td></tr></table><br>
<a name="1140766"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> No-one knows <br><br></td></tr></table><br>
<a name="1140775"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> sure they don't -.- u all hate me for what i USED to do. I can sense that. But I've changed, and it's time u change too -.- <br><br></td></tr></table><br>
<a name="1140797"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wait a minute. You have been relentlessly bumping this post, even though it never left the top 5 threads in the forum, and you've "changed"?<br><br>Seriously, if someone knows, they will post. If I knew, and it was something simple, I would post. Your asking for stuff that most folks on here probably haven't done. It's quite an advanced topic, especially for blitz3d, and no-one probably has the time to go away and learn this. If you don't understand how to do it, your going to have lots of follow up questions (based on your past), and need further help (you've done that in this thread)<br><br>You scare people off from helping you unfortunetly. <br><br></td></tr></table><br>
<a name="1140819"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> So do u with ur relentless whining about what i do and don't do wrong. and I'm sick of it. -.- <br><br></td></tr></table><br>
<a name="1140860"></a>

<a name="1140861"></a>

<a name="1140862"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> bump<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1140864"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> double bump. for god sake. u continue to argue with me, when i only speak the truth. mods lock this plz... im sick and tired of being ridiculed. <br><br></td></tr></table><br>
<a name="1140867"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> ..if i offer 100% workable solution for your problem, what Ill get in return? <br><br></td></tr></table><br>
<a name="1140891"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> ya know. ur a stingy jerk. Most ppl would WANT to help because its the right thing to do. U know what, get out of my thread. I dont want to see u again if ur gonna be stingy. <br><br></td></tr></table><br>
<a name="1140938"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >K</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, enough. Here is the solution: Open up the command reference, read carefully the entire file/stream section and TCP section. Put something together based on that, test it, then post it. We will review it. <br><br></td></tr></table><br>
<a name="1140979"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>ya know. ur a stingy jerk. Most ppl would WANT to help because its the right thing to do. U know what, get out of my thread. I dont want to see u again if ur gonna be stingy. <br> <br></div><br>..i helped you before with fully working examples(waypoints with smoothing at turning points), ready to go, and it seems, you always throwing rocks on to people..so, in other words, you are ready to take away for free someone work, without sweat and when someone asking near zero request from you, you find that wrong..ihhh..i didnt ask much at all, anyway, if you change your mind, let me know..peace.. <br><br></td></tr></table><br>
<a name="1141000"></a>

<a name="1141001"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Thundros :<br><br>A little more respect would not deserve you, do you know it ?<br><br>Whatever...<br><br>You can capture the input audio device using the "WaveInOpen" command from the windows dll package.<br>Problem for you : You 'll have to wrap it, creating a c++ dll to export it for blitz3d or deal with banks to seed parameters.<br><br>I have already done this before but HEY !<br>Beg me ! ... implore me ! ... supplicate me !<br>and maybe I 'll give you the code (or not, try if you dare ^^)<br><br>You want to be a jackass ? Ok ! So, We'll be too<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
