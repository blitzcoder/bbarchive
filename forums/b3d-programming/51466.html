<!DOCTYPE html><html lang="en" ><head ><title >windy grass. . .</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >windy grass. . .</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >windy grass. . .</a><br><br>
<a name="574227"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mr Snidesmin</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have some grass built with criss-cross type meshes that are spread across a terrain. <a href="/posts.php?topic=51399" target="_blank"> see here</a><br><br>I could implement them in 3 ways:<br>1) 1 mesh, multiple entity copies<br>2) mulitiple mesh copies<br>3) 1 mesh all combined.<br><br>currently I'm using 1)<br><br>I'd like to create some kind of effect to make them turn slightly or shift the verts around to make it look like wind blowing through them.   Is there any way to do this that isn't too processor heavy?<br><br>I'm open to all possibilties, including not trying this if it will be too hard :O) <br><br></td></tr></table><br>
<a name="574252"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> The easiest way perhaps is to animate the model in your modeler software then export the animation. Anyway i don't know if this will be fast because you will need to animate lot of entities.<br><br>The most efficient way should be to have 1 mesh containing all the grass, then animating only the needed vertex or moving the textures...<br><br>The problem is that you should clusterize that mesh to render only the viewing zone... <br><br></td></tr></table><br>
<a name="574254"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mr Snidesmin</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm. yep thats a nice easy way, but the problem is all of the copies will move in sync.  It would be nice to get a kind of gust effect with some grass moving and not others... <br><br></td></tr></table><br>
<a name="574256"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> then you can apply different animation speeds... <br><br></td></tr></table><br>
<a name="574259"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mr Snidesmin</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> ooh didn't think of that. . .  that might work :O) <br><br></td></tr></table><br>
<a name="574351"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Baystep Productions</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actualy a function in the Grass System code archive entry does that. And thats just plugging in sprites. Maybe you could use that. <br><br></td></tr></table><br>
<a name="574403"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Banshee</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I'd like to create some kind of effect to make <br>them turn slightly or shift the verts around to make it look like wind blowing through them. Is there any way to do this that isn't too processor heavy? <br></div><br><br>My method works a bit like this.<br><br>Portalise your data in regions, so if your map is 512x512 make 8x8 block's filled with a number of grasses.<br><br>Calculate which block is nearest the camera every 100 milliseconds or so (or more usually just infront of camera).  This becomes the waypoint block.<br><br>From your list of grass meshes place mesh entities at the waypoint block and other adjacent waypoints.<br><br>Now animate only those meshes tied to waypoints nearest the camera.<br><br>You can fill a massively large area with just a few hundred grass objects, of which even fewer need actually be animated in runtime. <br><br></td></tr></table><br>
<a name="574475"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mr Snidesmin</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Becky!  this is just the sort of thing I'm looking to do I think.  I will probably be associating each grass object with a triangle on the terrain.  .  .<br><br>Do you have any example code for this sort of thing? <br><br></td></tr></table><br>
<a name="574477"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Banshee</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> None that would be easy to extract from an engine and show you clearly what i've done and why at the moment Mr S - but I am thinking hard about doing some Grass/Tree related products soon, depending upon factors unrelated to this thread. <br><br></td></tr></table><br>
<a name="574486"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mr Snidesmin</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've written quite alot of stuff for autogen trees already - I need to clean up a bit and make the algo more flexible but I think I might be producing something really cool on this front. . . <br><br></td></tr></table><br>
<a name="574648"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RifRaf</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would use meshes.  Not really a single surface system, uness you want to get into that.  <br>Get the brushhandle for your meshes, and the texturehandle.. then just rotate the texture back and forth on a cosine.  all your grass will move , and if you have staggered the yaw (turnentity 0,whatever,0)  then they will not all move exactly the same direction at the same time.  <br><br>You can then make clusters of grass by using addmesh on X number of grass that are close to each other .. reducing the total entity count by a great deal, then use entityautofade on the clusters you have created.<br><br>The most processor effecient way to do it. IMO<br><br>Theres a function in the archives for rotating and scaling a texture while mainting its central origin. use that. <br><br></td></tr></table><br>
<a name="574743"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Having lots of grass in a scene is always a tricky job because it may slow things down a lot. I have developed a method that is positioning grass quads around the camera automaticly, where their rotation etc. is reproducable (rnd uses world location as seed), together with EntityAutofade. This way you can have very dense grass on a very big terrain.<br><br>I would also reccomend to develop some kind of Grass LOD system. <br><br></td></tr></table><br>
<a name="574870"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mr Snidesmin</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for all the ideas. . .  I will be using LOD and I like the idea of rotating the texture because it's way way simple.<br><br>Thanks!<br><br>-K <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
