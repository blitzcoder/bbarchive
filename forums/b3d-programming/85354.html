<!DOCTYPE html><html lang="en" ><head ><title >Flight Sim Jitters Solved (Tentatively)</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Flight Sim Jitters Solved (Tentatively)</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Flight Sim Jitters Solved (Tentatively)</a><br><br>
<a name="965403"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, it hit me 2 days ago as I was driving.  I had started to write a flight sim in Blitz3D several years ago (anyone remember Luftwaffe Ace or Air War 1946?).  I shelved it because of 2 reasons:  One, I couldn't get the physics right, and two, because the plane/camera would jitter severely the more distance you got from 0,0,0.<br><br>I solved the first problem and finally figured out the correct way to model flight realistically.  But without double floats, B3D lacked the mathematical accuracy to do a flight sim.<br><br>And now the solution:<br><br>The map is placed so that the airfield is at 0,0,0.  The aircraft is on the runway and you apply full thrust and take off.  You level out at 2000 feet and are cruising along.  Your distance from 0,0,0 is steadily increasing.  Now, let's say that when your aircraft exceeds the distance of 2500 units from 0,0,0...that the whole world is repositioned so that the aircraft is at 0,0,0 and the world is offset appropriately.  This way, the aircraft never exceeds 2500 units from 0,0,0.<br><br>I can't wait to get some test code going.<br><br>Opinions? <br><br></td></tr></table><br>
<a name="965407"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's an old trick to move the terrain instead of the player (aircraft, in your case). <br><br></td></tr></table><br>
<a name="965409"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm...yeah it will work.  You just take the last xyz pos and the current xyz pos and set current pos to 0 and previous pos to 0 - (current pos- previous pos).  That would allow a seamless transition (not detectable to the human eye or physics simulation). <br><br></td></tr></table><br>
<a name="965410"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> @ big10p:  Hmm...wouldn't that make doing the physics like...confusing as hell?  I mean...I suppose you could parent everything to a pivot and just move the pivot but then you're moving the pivot to more than 2500 units from zero...wouldn't that cause jitters.  Or are you resetting the pivot of the terrain to 0 each cycle?<br><br>EDIT:  The thought of moving the terrain makes my head hurt severely... <br><br></td></tr></table><br>
<a name="965433"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Andy</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>And now the solution:<br> <br></div><br><br>This is one way to do it<br><br>http://web.archive.org/web/20040814155424/http://www.blitzcoder.com/cgi-bin/ubb-cgi/postdisplay.cgi?forum=Forum4&amp;topic=000352<br><br><div class="quote"> <br>Opinions? <br> <br></div><br><br>It works very well. <br><br></td></tr></table><br>
<a name="965596"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tried to use a similar technique for my Deathchase game - as you can theoretically drive for as long as you want into an endless field of trees, I needed to be able to reposition the player to near the zero position at regular intervals to avoid loosing precision.<br><br>I found this only works (when using rendertweening) if you perform all the reposition movements in a single step just before the CaptureWorld command, to isolate them from the tweening. Even then it was tricky to avoid glitching and judders.<br><br>However I subsequently discovered that it was much easier to leave the player permanently at X and Z = 0, and just move all the trees and landscape around instead, repositioning them as required when they go out of range - any judders here are not visible because the tree being repositioned is far away from the player. This is how my final Deathchase code works, and it copes OK with a few hundred tree meshes at 60fps. <br><br></td></tr></table><br>
<a name="965658"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm...I haven't actually tried applying all the forces to the terrain/objects but it'd be an interesting effort.  I'll give it a shot. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
