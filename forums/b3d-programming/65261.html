<!DOCTYPE html><html lang="en" ><head ><title >return in a for next loop</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >return in a for next loop</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >return in a for next loop</a><br><br>
<a name="728314"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >b32</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> If I have a function, with a loop in it, can I use return from the loop ? Or should I exit the loop first and then use return ? <br><br></td></tr></table><br>
<a name="728316"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can use return, although I'd avoid gosub/return, really. <br><br></td></tr></table><br>
<a name="728333"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >b32</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Me too, I use return to exit the function:<br><pre class=code>
Function ScanTextures()

  for i = 0 to maxtextures
   if texture(i) = 0 then return 0
  next

  .. some other stuff ..

  return 1

End Function
</pre><br>But thanks, so that means I don't have call 'exit' first. <br><br></td></tr></table><br>
<a name="728343"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah I see.<br><br>Basically as soon as your code encounters a 'Return' in that context, it exits the function completely and instantly. <br><br></td></tr></table><br>
<a name="728945"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Subirenihil</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>Return (value)</b> exits a function immediately and returns a value if specified (the value is normally an int, but can be a float or string IF you specify in the <b>Function &lt;function name&gt;&lt;return type(not required)&gt;(&lt;parameters&gt; )</b> in which &lt;return type&gt; is one of the following:<br>     <b>%</b> or none allows an Int to be returned<br>     <b>#</b> allows a Float to be returned<br>     <b>$</b> allows a String to be returned<br>     <b>.customtype</b> allows a custom type to be returned<br><br>GoSub is a bad way to do things - I don't know why GfK brought it up.  Use Functions.  Yes, <b>Return</b> can exit a <b>For/Next</b> or <b>Repeat/Until</b> loop within a function - no problem.<br><br>Blitz is a very robust language, it's a lot harder to crash than other languages.  Go ahead and try things.  (Don't use WritePixelFast to draw off of an image, VERY BAD things can happen - like total computer lockup.  And don't make endless loops - always add an escape route like "If KeyHit(1) Then Exit")  If you have questions, look in the help.  (Yes, I looked and the help doesn't say anything about your question.  So yes, coming here was a good thing to do.)<br><br>Good luck programming!  Have fun!<br><br><br><br>Just out of curiousity...why do you ask? <br><br></td></tr></table><br>
<a name="728969"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Graythe</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> It can be done - but you should exit the for next loop beforehand.<br><br>Function ScanTextures()<br><br>  for i = 0 to maxtextures<br>   if texture(i) = 0 then exit<br>  next<br>  If i&lt;maxtextures+1 then<br>	Return<br>  End If<br><br>End Function <br><br></td></tr></table><br>
<a name="729064"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >b32</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, so that would mean I should use exit before a return. The reason for my question is that, in my current project, I'm exiting a lot of loops, mostly in this form:<br><pre class=code>
test = 0
For x = 0 to 100
for y = 0 to 100
  if p[x, y] = 0 then test = 1: exit
next
if test = 1 then exit
next
if test = 1 then return
</pre><br>Say, when testing all vertices of a mesh. So I wondered if it's possible to just call return, without calling exit. In other versions of basic (don't remember which one), this would give problems with the stack memory. <br><br></td></tr></table><br>
<a name="729097"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's fine to use Return inside a loop - really! ;) <br><br></td></tr></table><br>
<a name="729146"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Agreed, exiting loops isn't necessary. <br><br></td></tr></table><br>
<a name="729331"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Subirenihil</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> No, exiting loops is unnecessary. <br><br></td></tr></table><br>
<a name="729342"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Curtastic</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> no, exiting loops isn't not unnecessary!<br><br>I actually sometimes purposefully put code into a function so I can Return out of any amount of loops. <br><br></td></tr></table><br>
<a name="730873"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Graythe</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well I'll be jiggered. Out of curiosity I tried it (using return to exit a function within a loop) and it all seems to work with no memory loss. I'd probably never actually use that in anger as it goes against the grain - but it does display (again) what well designed thing B3D is. So my humble apologies for the bum steer and thanks for putting me right. How did you guys figure out that exit within a loop within a function is not needed? <br><br></td></tr></table><br>
<a name="730879"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> How did you guys figure out that exit within a loop within a function is not needed? <br></div>Kinda known it for nigh on 20 years.<br><br>Used to code in Amstrad BASIC and learned early on that as soon as your code hits a 'Return', no code beyond it gets executed. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
