<!DOCTYPE html><html lang="en" ><head ><title >Black startup window thingy</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Black startup window thingy</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Black startup window thingy</a><br><br>
<a name="783640"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yahfree</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey i was wonder if theres a way to get rid of that ugly start up flicker thingy that B3d makes when you start the app...<br><br>i saw this:<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=37093" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=37093</a><br><br>but its 2 years old, and most likely works with the wrong version of Blitz... anyone have any ideas to get rid of this? <br><br></td></tr></table><br>
<a name="783661"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> ..flicker thingy ? Can you be more specific, I have no experiance like that with B3D (flickering) <br><br></td></tr></table><br>
<a name="783667"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yahfree</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> you know, when you start a Blitz3D application, it starts with this wierd black window, then it flickers off and starts the program.. please don't tell me its just me.. <br><br></td></tr></table><br>
<a name="783776"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Buggy</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> No, I get it too.<br><br>I don't know if you can get rid of it, but I think that the sooner you set the graphics mode, the sooner it'll disappear.  If you have it compute lots of things <i>before</i> you call the Graphics or Graphics3D command, I'm pretty sure it'll take longer.<br><br>But I'd also love to get rid of it.  I think it's just that Blitz needs to be an actual application to run all of the commands you use... and applications have windows.  Still, it'd be nice if Blitz3D could just start in the Graphics mode that the programmer specifies. <br><br></td></tr></table><br>
<a name="783788"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yahfree</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> i think the problem is that Blitz has a standard graphics mode to set: if you don't call Graphics/Graphics3D you'll see what i mean, so it starts with this standard graphics mode then it goes on to the real one, i wonder if theres a way to get rid of the standard graphics call.. <br><br></td></tr></table><br>
<a name="783903"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kev</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yahfree, use this on your created .exe to remove the black startup screen. this was posted sometime back by Filax. <br><br><pre class=code>
;
; WB3D_CreateWindow example
;	By Kevin Poole.

; were using external winapi styles
Include "../../../WB3DStyles.bb"

; setup gfx mode.
Graphics3D 640,480,16,2

; install winblitz3d.
Global RuntimeWindow_hWnd = WB3D_InitializeGUI(SystemProperty("AppHwnd"),10,10,500,500)
WB3D_SetQuitMessage "WinBlitz3D 3D/GUI","Sure To Quit" 
WB3D_HideGadget RuntimeWindow_hWnd

; create winapi window, setting its title, and position on screen. use default style creation.
MyWindow = WB3D_CreateWindow("WB3D_CreateWindow Example",200,100,275,275,0,WS_VISIBLE Or WS_SYSMENU Or WS_CAPTION)

; cleanup any old creation events, its better to do this before we enter the main
; event loop, when some gadgets are created they generate events.
WB3D_FlushEvents 

LoadExe = WB3D_CreateButton("Open blitz exe to hack",10,10,250,25,MyWindow,0)
WB3D_DefaultGadgetFont LoadExe


Listbox = WB3D_CreateListBox(10,40,250,190,MyWindow,0)

; setup out quit flag, and loop until the flag is set.
QUIT = 0

While Not QUIT = 1
	; generate an internal blitz event
	Flip

	; get an event of the event queue.
	event = WB3D_WaitEvent()
	Select event
		Case WB3D_EVENT_GADGET
			selected = WB3D_EventSource()
			Select selected

			Case LoadExe
				Filename$ = WB3D_OpenFileRequest("Open file","",example_file_ext$,WB3D_GetGadgetText(example_init_filename))
				WB3D_ClearGadgetItems Listbox
				
				If Filename$&lt;&gt; "" Then
					fil=OpenFile(Filename$)

					WB3D_AddGadgetItem Listbox,"Opening executable file",0,0

					If fil
						siz=FileSize(Filename$)

						For i=0 To siz
							byt=ReadByte(fil)
							If Frst
								If scnd
									If byt=$8B
										pos=i-1
										Exit	
									Else
										scnd=False
										If byt&lt;&gt;$CA frst=False
									EndIf
								ElseIf byt=$10
									scnd=True
								Else
									If byt&lt;&gt;$CA Frst=False
							EndIf
						ElseIf byt=$CA
							Frst=True

						EndIf	
					Next

					WB3D_AddGadgetItem Listbox,"Patching executable file",0,0
					
					SeekFile fil,pos
					WriteByte fil,$00

					WB3D_AddGadgetItem Listbox,"Process completed",0,0
					
					CloseFile fil

					WB3D_AddGadgetItem Listbox,"Close file",0,0
					EndIf
				EndIf
			End Select
			
		
		Case WB3D_EVENT_KEYPRESS
		
			; wb_eventdata holds the key code that was pressed.
			keypressed = WB3D_EventData()
			Select keypressed
				
				Case WB3D_KEY_ESCAPE	
					
					; set the flag to leave the loop.
					QUIT = 1
					
			End Select
				
		Case WB3D_EVENT_WINDOW_CLOSE
		
			; wb3d_eventsource hold the handle to the window that close button was selected
			window = WB3D_EventSource()
			Select window
			
				Case MyWindow
					
					; set the flag to leave the loop.
					QUIT = 1
					
			End Select
	End Select
	
Wend

; use notify using external winapi constants. 
WB3D_EndGUI()
EndGraphics
End
</pre><br><br>kev <br><br></td></tr></table><br>
<a name="784076"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yahfree</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Woah!, this needs to go in the code archives!!<br><br>looks very "Real" now. you'd never know it was created with b3d..<br><br>Edit: It worked on one of my blitz files, didnt work on the other one, it made the other one "Invisible" it was playing, in my processes ect, i had to end it that way ... any ideas? <br><br></td></tr></table><br>
<a name="785534"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yahfree</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Any other ideas kev? it seems to not work on some .exes but works on others, any other methods? <br><br></td></tr></table><br>
<a name="809737"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >chi</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> You want to disable the annoying startupwindow?<br><br>I fixed Bot Builder´s code and it now works even with runtime_beta2.dll<br>check it out: <a href="http://Lunamedia.heim.at/files/B3D_WindowHack.zip" target="_blank">http://Lunamedia.heim.at/files/B3D_WindowHack.zip</a>  <br><br>(fixed it a while ago and lost?!? the source... thats why it´s only the .exe, sorry)<br><br>cheers, chi <br><br></td></tr></table><br>
<a name="809796"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, this works nicely, but unfortunately when my full screen app closes down I have a totally black desktop and startbar.<br>Could be just my graphics card of course. <br><br></td></tr></table><br>
<a name="809805"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Knotz</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Go with the flow...<br><br>We first place our company logo in the startup window after that we start/initialize the application<br><br><pre class=code>
Function Main()

	; splash

		Graphics 400,300,16,2
		SetBuffer BackBuffer()

		splash = LoadImage_("data/images/intro_splash.jpg")
		DrawBlock splash,0,0 : Flip : FreeImage splash
		Delay 3000


	; general

		SeedRnd (MilliSecs()) 
		HidePointer 
        etc..etc..
</pre><br><br>Works very well, even looks semi-pro <br><br></td></tr></table><br>
<a name="810172"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >chi</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> hmm, must be your graphiccard... works nice here ! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
