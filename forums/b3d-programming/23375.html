<!DOCTYPE html><html lang="en" ><head ><title >TransformVector in simple terms</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >TransformVector in simple terms</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >TransformVector in simple terms</a><br><br>
<a name="241246"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Lane</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Could someone explain to me as if I was a 4 year old how TransformVector works.<br>Or perhaps in what situation you would use it?<br><br>I was looking for a way to find a point in 3d space that is 900 units ahead of my Entity using its current XLoc YLoc XVel YVel. ZLoc never changes. I would like to do this WITHOUT actually moving the entity, fetching it's quardinants, and then moving it back.<br><br>My current experiments give me a point just off of 0,0 .<br><br>The documentation and examples (to me) seem pretty lacking in clarity. I'm assuming by the lack of details that I'm just making it much harded than it is. <br><br></td></tr></table><br>
<a name="241255"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Lane</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> This helps a little.<br><a href="http://www.blitzbasic.com/bbs/posts.php?topic=16442" target="_blank">http://www.blitzbasic.com/bbs/posts.php?topic=16442</a> <br><br></td></tr></table><br>
<a name="241313"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not sure exactly what you are trying to do (your description is inconsistent; if want 900 units ahead then why does velocity matter?) but I don't think you need TFormVector.  TFormPoint would be more useful but even that probably isn't necessary.  I do a similar thing by placing a pivot ahead of the entity and parenting it to the entity right when I load the model, before it moves.  Then whenever I want the location ahead of the entity I just get EntityX() and what not for the child/pivot.  Plus, considering your movement is constrained, you may be able to just do the math yourself.  You refer to ZLoc never changing; if the rotation never changes EXCEPT on Z (ie. movement is constrained to 2 dimensions) then the problem is simple trigonometry.  I'm sure you learned the Pythagorean theorum in high school.<br><br>At any rate, put simply TFormVector (and TFormPoint, only referring to a point and not a vector obviously) takes a vector defined within one coordinate system and returns an identical vector but defined within a different coordinate system.  To give the most common example, you may have a vector defined relative to the player (eg. straight forward.)  You can use the TForm commands to get the same vector but defined relative to world coordinates to determine the global position/movement/whatever defined by the vector.<br><br>Actually, the most common thing I use TFormVector for is camera relative movement.  For example, no matter which way the camera is facing I want the left arrow key to face the character left relative to the camera.  Thus I have to transform the left vector from the camera's local coordinates to world coordinates in order to find the direction to face.<br><br>As for your problem, you could find the point relative to the player and then use TFormPoint to find the global coordinates of that point.  Like I said though this is probably overkill. <br><br></td></tr></table><br>
<a name="241722"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Lane</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> jhocking&gt; "if want 900 units ahead then why does velocity matter?" <br>A&lt; Because having the current x and y location doesn't tell you what direction the entity is moving. Actually I meant vector. X and Y Velocity would give be rate of movement in what direction but I only need really need the direction assuming that the rate of movement is always considerably less than 900.<br><br>My alternative at this point is to keep track of the current and last cycles X and Y locations and use that to calculate 900 units out in the direction of movement derived by if the new locations are greater or less than the old locations.<br><br>I was hoping that one of the TForm commands would provide this and it appears that TFormedPoint will give me the correct global location if I use it like this.<br>TFormPoint 0,900,0,Ship1,0<br>If I understand this correctly it will set TFormedX TFormedY and TFormedZ to the global quardinates of 900 units ahead of my ship.<br><br> Your description of what they are for describes it much better than the help files. Thanks. <br><br></td></tr></table><br>
<a name="242804"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Lane</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can someone clarify this please? My assumtion appears to be incorrect that "TFormPoint 0,900,0,Ship1,0" should return a world addressed point 900 units ahead of my ship but rather it returns a point only a few pixels ahead of it. :( <br><br></td></tr></table><br>
<a name="242805"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you sure Y is ahead?  Depending on how your mesh is oriented it could be any of the three axes; make sure to try them all. <br><br></td></tr></table><br>
<a name="243044"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Lane</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I see what your saying where as the point returned might be 900 on the Z but only a few on the Y and appear as only a few pixels ahead of my ship. Possibly. I'll add debug code so I can verify the returned position. <br><br></td></tr></table><br>
<a name="243051"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Unless compiles are taking a long time there's no need for debug code.  Just try changing the TFormPoint command and see what happens.  Specifically, change which axis you are checking 900 ahead on. <br><br></td></tr></table><br>
<a name="248762"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Lane</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Found my solution.<br>Since I have a source dust sprite that I make copies from, While intitializing the environment I move the source dust sprite to the point 900 units ahead of the ship and then make the ship a parent to the dust sprite so it moves and rotates with it. Then I calculate the new dust positions based on the source dust's global coordinates.<br>I'm note sure at this point which is more processor optimized. <br>a: Having an entity constantly being updated in memory as a child to the ship.<br>or <br>b: Calculationg a new position based on the current ship coordinates as needed.<br><br>Seems like option B would be a better use of memory and processor time but then that has to do with how often a dust is moved.<br><br>I would like to find a function that will return the global position of the ship 900 untis ahead without actually using the processor time consumed by moving the ship, getting the coordinates, and then moving the ship back to it's original location. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
