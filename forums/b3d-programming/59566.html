<!DOCTYPE html><html lang="en" ><head ><title >Rare Graphics Glitch</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Rare Graphics Glitch</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Rare Graphics Glitch</a><br><br>
<a name="663957"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>Following on from my collision problem in a previous thread ... re my Vehicle physics engine.<br><br>On the odd occasion the vehicle will kind of flash and some parts appear to be inside out. I say "appears" because it's so fast and rare that I've never been able to capture an image of it. This happens regardless of the camera view being close or far from the vehicle. I'm using 32 bit depth and the camera near and far range are proportionate to 1..1000, in fact slightly more accurate, so I can't imagine it being a z-order issue .. especially when most of the time all is fine.<br><br>I'm hoping that this is a driver issue as I've been unable to pin it down for months and have no issues with other b3d programs. I'm loathe to update my drivers too incase anything else is knocked out. Being a bit of a perfectionist it's extremely annoying and I can't help thinking it's something simple.<br><br>Unless anyone has any suggestions or have experienced similar then I'll have to ask all to look out for it when I release the next demo in a few weeks.<br><br>Cheers<br>Stevie <br><br></td></tr></table><br>
<a name="663977"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have seen a problem like that when using 'EntityAutoFade' - you are probably not using it but it could occur if you are manipulating 'EntityAlpha' somewhere in your code.<br><br>Other than that - no idea. <br><br></td></tr></table><br>
<a name="664002"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cheers "Puki"<br><br>I don't use entityautofade but I am using a camerafog which I would image applies alpha automatically to distant objects.  The near / far fog range is quite a bit away from the main view right enough.  <br><br>I'm using vertex color enabed on all my meshes as I don't want to use any textures for a unique look.  I wonder if this effects the fogging?<br><br>I'll try turning off the fog and see what happens.<br><br>I'm open to any other suggestions as I can't try anything until later :)<br><br>Cheers<br>Stevie <br><br></td></tr></table><br>
<a name="664104"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've seen this happen, when you set a minus value for the fog. I bet it's the fog that's causing the problem here. <br><br></td></tr></table><br>
<a name="664111"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cheers Ross.<br><br>Hmmm.  My fogrange is 800..1000 so surely the range can't be the issue.  If it's the fog then is there a way around it?  I need to avoid the dreaded popup if I can so not sure if I can omit it altogether .<br><br>Stevie <br><br></td></tr></table><br>
<a name="664126"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RGR</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> From experience, the first thing that came into my mind when I read your post.<br><div class="quote"> .. especially when most of the time all is fine. <br></div><br>Does the program render to the backbuffer?<br>. <br><br></td></tr></table><br>
<a name="664136"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's 3d so I would assume so?  What were you thinking about? <br><br>I do have 2 x shadow renders going on.  I render them from a shadow cam which is far from the main scene then copy them from backbuffer to texturebuffers.  The main camera is set to cameraprojmode 0 while this is happening and the shadow camera is set to cameraprojmode 0 when it's finished.<br><br>Please help me :)<br><br>Stevie <br><br></td></tr></table><br>
<a name="664138"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you tried just hiding the cameras? Are you using render tweening? <br><br></td></tr></table><br>
<a name="664144"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'll try hiding them.  Not using render tweening though.<br><br>Stevie <br><br></td></tr></table><br>
<a name="664145"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does the problem go away when you hide the fog? Also, is the fog only on the main camera? <br><br></td></tr></table><br>
<a name="664149"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Tried turning off the fog ... still the same problem ... only once every couple of minutes .. sometimes longer.<br><br>I also tried hiding the cameras and same problem.<br><br>I tried turning the shadows off fully and again .. same problem.<br><br>Why Why Why!!!!<br><br>Stevie <br><br></td></tr></table><br>
<a name="664210"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> So, it must be to do with the two renders then. Do you have the problem when you use the one render?<br><br>Another point to consider. Are you using EntityOrder at all? <br><br></td></tr></table><br>
<a name="664237"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>So, it must be to do with the two renders then.<br> <br></div><br><br>I don't think so ... it's the shadows which use two renders to texture.  If I turn them off completely then same problem. I don't think only doing this once will make a difference ... besides I need both renders.<br><br>Oh, and I'm not using entityorder on any mesh in the game - I know that disables z-order.<br><br>Unless anyone has any further suggestions then I'll see if others experience the problem and package up a quick demo for the weekend.<br><br>Thanks to everyone for their advice and help so far.  Still racking my brains about this!!<br><br>Stevie <br><br></td></tr></table><br>
<a name="664257"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> How about taking out the FlipMeshNormals() function?<br><br><pre class=code>
Function FlipMeshNormals(mesh,num=rand(0,1000))

   If num = 5 then FlipMesh mesh

End Function
</pre><br><br>:P Honestly though... it is a strange problem. Have u tried other versions of Blitz3d? <br><br></td></tr></table><br>
<a name="664297"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hehe, it certainly feels like there's an invisible flipmeshnormals function in there :)<br><br>Problem occured using 1.87 and again with 1.96.  I'm gonna have to go back a few versions to see how far back it started happening :(  <br><br>It's a bugger when it only happens once in 2-5 mins!! <br><br>Cheers Mr C <br><br></td></tr></table><br>
<a name="664431"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RGR</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> It's 3d so I would assume so? What were you thinking about? <br></div><br>I were thinking you forgot to code SetBuffer BackBuffer()<br>Because ... afaik it renders to the frontbuffer as long as you don't use SetBuffer BackBuffer()<br>And rendering to the frontbuffer often has the effect of rare glitches as you call them.<br><br>{Edit} I just looked into the Manual again ... well ... it says RenderWorld renders to the backbuffer by default ... while under SetBuffer it says ... the default buffer is the frontbuffer.<br>Cameras render to the BackBuffer only as well ...<br><br>It is just the case that I noticed forgetting to use SetBuffer caused graphics errors ... can't remember if this was in 3D or in 2D only ... maybe when I used 2D GUI/HUD on 3D screen <br><br></td></tr></table><br>
<a name="664472"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> @ RaGR,<br><br>I've never had to set up the backbuffer this way on any of the hundreds of 3d programs I've written in B3d ... only 2d stuff as you say.<br><br>I just wish it happened more often so it'd be easier to trace.  I'm gonna trawl though older versions of the program and see where it all went to shit.  Hopefully it wasn't always there.<br><br>Cheers again<br>Stevie <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
