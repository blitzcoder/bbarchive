<!DOCTYPE html><html lang="en" ><head ><title >how do I mask texture only lets thru at spots I wa</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >how do I mask texture only lets thru at spots I wa</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >how do I mask texture only lets thru at spots I wa</a><br><br>
<a name="408070"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >maximo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here is the problem in pic:<br><br>consider this:<br><img src="http://www.exin.nu/images/no_details.jpg"><br>here there is only one texture, color texture.<br><br>now this:<br><img src="http://www.exin.nu/images/details.jpg"><br>here there are 2 textures, color and details texture which gives the extra detail.<br><br>There is lots more detail in the second pics, but also the feeling of the snow is gone in the second pic. Is it possible to do let those details come out only at specific areas of texure. Can I use mask so I can paint out areas where there is snow so they are not affected by detail texture. <br><br>Does anyone have any idea how to do it? I did some testing but was not succesfull, seems like Blitz doesn't allow this? Am I wrong or correct and blitz can't mask out snow areas and let the montains have extra details using mask maps? <br><br></td></tr></table><br>
<a name="408076"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Masking for textures is just an alpha value of a pixel, that is below 128 (or above 127 i forget which). It doesn't really matter the color, just the alpha value at that particular pixel. If you wanna mask out certain parts, you'll need to know the (x,y) of the pixel you want to mask, and write alpha value of 0 (or 255) i forget which does which. <br><br></td></tr></table><br>
<a name="408105"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ross, you're talking about alpha transparency, not texture masking.  It's an easy mistake because the vocabulary of 3D graphics is so muddled and inconsistent.  For example, a "masked texture" is different from a "mask texture."  Oi vay<br><br>Blitz doesn't support texture masking such as you describe.  That kind of effect CAN be done using vertex alpha.  For example, ALE uses vertex alpha for painting tiled textures on terrain.<br><br>ADDITION: Oh yeah, and have a look at this code sample of using vertex alpha to paint tiled textures onto terrain<br>http://www.blitzcoder.com/cgi-bin/showcase/showcase_download.pl?id=world_creator03182003021343&amp;fileurl=http://s93726732.onlinehome.us/blitz/transition.zip <br><br></td></tr></table><br>
<a name="408210"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> How do you mean? I'm talking about when you load a texture, with masking, flag 4. You can alter the parts which are masked, by changing the alpha values of the texels. Sorry if i'm on the wrong lines here :) <br><br></td></tr></table><br>
<a name="408217"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> How do you change the alpha value of the texels? <br><br></td></tr></table><br>
<a name="408235"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> You must write pixel data using The WritePixel(Fast) commands and include an alpha value. I can't find any off hand stuff, but i did write a few functions for doing this. You can pull the code for extracting the ARGB and recombining it again.<br><br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=1013" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=1013</a><br><br>In fact, screw it, i'll just put it here.<br><br><pre class=code>
			RGB1=ReadPixelFast(loop,loop1,TextureBuffer(texture))
			r=(RGB1 And $FF0000)shr 16;separate out the red
			g=(RGB1 And $FF00) shr 8;green
			b=RGB1 And $FF;and blue parts of the color
			a=(RGB1 And $FF000000)Shr 24
</pre><br><br>And for combining it again...<br><br><pre class=code>
			newrgb= (a shl 24) or (r shl 16) or (g shl 8) or b ; combine the ARGB back into one value

			WritePixelFast(loop,loop1,newrgb,TextureBuffer(texture)); write back to the texture
</pre><br><br>All taken from the functions i've given the link too. Hope that helps :) <br><br></td></tr></table><br>
<a name="408242"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >maximo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> How can I use this to show parts of detail texure (which tiles it self btw) over the base color texture? I would like to use third mask texture that only lets thru what I paint on it? I've checked the vertex alpha demo, but I would need to build an editor to paint that way, dont have time to be building an editor just for this. <br><br></td></tr></table><br>
<a name="408245"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think if you use the alphablend on the texture, it should show through the masked parts. If i remember correctly though, it cause the texture to lighten just a bit, but it showed through. <br><br></td></tr></table><br>
<a name="408292"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >maximo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
Global sprite=CreateSprite()
Global base=LoadTexture("image.png",4)
Global mask=LoadTexture("image1.png",4)
EntityTexture sprite,base,0,1
EntityTexture sprite,mask,0
prepare_texture(mask)
texture_mask_colour(mask,0,0,0,50)

cube=CreateCube()
PositionEntity cube,0,0,2
ScaleEntity cube,6,2,1
</pre><br>It works but not the way I asked for, here:<br><img src="http://www.exin.nu/images/test.png"><br><br>There are 2 textures on the sprite, base and the mask texture that I put thru:<br>prepare_texture(mask)<br>texture_mask_colour(mask,0,0,0,50)<br><br>Both textures dissappear, whic is not what I relly want. <br><br>Or perhaps I did something wrong here, and I should see the base texture thru the mask? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
