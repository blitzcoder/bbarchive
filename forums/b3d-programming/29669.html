<!DOCTYPE html><html lang="en" ><head ><title >Camera pivot of a pivot not moving?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Camera pivot of a pivot not moving?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Camera pivot of a pivot not moving?</a><br><br>
<a name="314381"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Idiot</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, I've got a pivot on the ground.  Above and back a bit is another pivot, whose parent is the pivot on the ground.  There's a camera attached to it so you can see the problem.  Move the ground pivot.  The camera pivot moves.  The camera moves.  Except that it doesn't. <br><br>Am I missing something here?<br><br>[CODE]<br>;oh snap!  there's trouble in graphics land!  <br>Const SW=640,SH=480<br>Graphics3D SW,SH<br>SetBuffer BackBuffer()<br><br>;I'm camera pivot, sitting on the floor<br>Global cameraPivot=CreatePivot()<br>RotateEntity cameraPivot,0,45,0<br><br>;see?  here I am!<br>s=CreateSphere(10,cameraPivot)<br>ScaleEntity s,.1,.1,.1<br><br>;here's my best friend in the world, other camera pivot<br>holyGeezOtherCameraPivot=CreatePivot(cameraPivot)<br>camera=CreateCamera(holyGeezOtherCameraPivot)<br>	<br>;he's way up in the sky!  OMG!<br>PositionEntity holyGeezOtherCameraPivot,10,10,-10,True<br>RotateEntity holyGeezOtherCameraPivot,45,0,0<br>	<br>;We love to see with light, don't you?<br>light=CreateLight(1,camera)<br>MoveEntity light,20,0,0<br>	<br>;and we also love crap on the ground to see that we're moving<br>For i=0 To 500<br>	r=Rand(1,4)<br>	Select r<br>		Case 1:<br>			o=CreateCube()<br>		Case 2:<br>			o=CreateSphere()<br>		Case 3:<br>			o=CreateCylinder()<br>		Case 4:<br>			o=CreateCone()<br>	End Select<br>	PositionEntity o,Rnd#(-10,10),0,Rnd#(-10,10)<br>	ScaleEntity o,.1,.1,.1<br>	EntityColor o,125*(Rand(0,2)),125*(Rand(0,2)),125*(Rand(0,2))<br>Next ;i<br>	<br>;let's begin:<br>While Not KeyDown(1)<br><br>	getInputs()<br><br>	UpdateWorld <br>	RenderWorld	<br>	<br>	Text 0,0,"The other pivot's x: "+EntityX#(holyGeezOtherCameraPivot)<br>	Text 0,20,"The other pivot's z: "+EntityZ#(holyGeezOtherCameraPivot)<br><br>	Text 0,400,"Use the mouse to move the camera pivot on the floor."<br>	Text 0,420,"Use the left &amp; right arrow keys to rotate the pivot on the floor."<br>	Text 0,440,"Note how the pivot in the air (swinging around with the camera)"<br>	Text 0,460,"DOESN'T MOVE!!!!!!"<br>	<br>	Rect MouseX()-2,MouseY()-2,5,5<br><br>	Flip<br><br>	Cls<br><br><br>Wend<br><br>Function getInputs()<br><br>	TurnEntity cameraPivot,0,(KeyDown(203)-KeyDown(205)),0<br><br>	If MouseY()&gt;SH-50 Then MoveEntity cameraPivot,0,0,-.1<br>	If MouseY()&lt;50 Then MoveEntity cameraPivot,0,0,.1<br><br>	If MouseX()&gt;SW-50 Then MoveEntity cameraPivot,.1,0,0<br>	If MouseX()&lt;50 Then MoveEntity cameraPivot,-.1,0,0<br><br>End Function<br>[/CODE] <br><br>Note the X &amp; Y position of the other pivot. The same is the case for the camera. Move it all you like, it stays in one spot according to the entityX &amp; entityz. <br><br></td></tr></table><br>
<a name="314385"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shambler</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Welcome to the world of Local coords and Global coords...<br><br><pre class=code>
Text 0,0,"The other pivot's x: "+EntityX#(holyGeezOtherCameraPivot,True)
Text 0,20,"The other pivot's z: "+EntityZ#(holyGeezOtherCameraPivot,True)
</pre><br><br>What Blitz was telling you was that relative to camerapivot, holyGeezOtherCameraPivot was not moving. <br><br></td></tr></table><br>
<a name="314387"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Idiot</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> So... how do you get the Global coords? <br><br></td></tr></table><br>
<a name="314388"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Idiot</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wait, I bet it has something to do with EntityX#(entity[,global])... n/m <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
