<!DOCTYPE html><html lang="en" ><head ><title >3d model reading</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >3d model reading</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >3d model reading</a><br><br>
<a name="357530"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >David819</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi i have been trying to quite a long time to make a game ripper but have not got far, i was given the advise to start by reading the .pcx file first and go from there but have not been able to do that, can anyone help me read file and suggest an easier file format to read. please reply soon. <br><br></td></tr></table><br>
<a name="357712"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> What is a 'game ripper'? <br><br></td></tr></table><br>
<a name="357757"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think he means something like this (Dragon UnPACKer 5):<br><br><a href="http://www.elberethzone.net/index.php?page=dup5&amp;language=en#formats" target="_blank">http://www.elberethzone.net/index.php?page=dup5&amp;language=en#formats</a> <br><br></td></tr></table><br>
<a name="357960"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >David819</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I mean like as Mustang said (Dragon UnPACKer 5) and biturn and unmass which allow you to remove game files from bigger pack files and read and convert them to a format which is usable by the programer, but can anyone help me get started with reading a really easy format like a black and white bmp picture or something please. <br><br></td></tr></table><br>
<a name="358031"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Look up the SaveTGA function in the code archives. It doesn't get much simpler than Targa. <br><br></td></tr></table><br>
<a name="358534"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >David819</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sybixsus, thanks for the code, it might be useful later on when i am trying to rewrite the file formate but at present i'm mainly trying to read in file into blitz and go from there. <br><br></td></tr></table><br>
<a name="358539"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> That was kinda the point. Convert the SaveTGA function into a LoadTGA function to give yourself practice of the most basic format around. <br><br></td></tr></table><br>
<a name="358541"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >David819</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I dont understand how to convert the savetga file so that it loads it, sorry but i aint that skill in the file area and need more information rather that all source code. <br><br></td></tr></table><br>
<a name="358579"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) sinu</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> look at how the function saves the parts of the tga and in what order and then using that info try and do it for loading ie reading in headers etc then pixels/colors whatever etc. <br><br></td></tr></table><br>
<a name="358756"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >David819</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> :( <br><br></td></tr></table><br>
<a name="358760"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >David819</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok, i have made a start on reding the tga file but have got stuck, i'm currently reading the header of the file which the specs show as followed:<br>Size<br>byte  - Id Length (offset=0)<br>byte  - Color Map Type (ofset=1)<br>byte  - Image type (offset=2)<br>5 bytes - Color Map Specification (offset=3)<br>10 bytes - Image Specification (offset=8)<br><br>I have read the 3 byte parts and am stuck at the last 2, how do you read bytes, and you please help me here is my code so far...<br><br>Graphics 640,480,32,2<br>SetBuffer BackBuffer()<br><br>filein=ReadFile("test.tga")<br>Idlength=ReadByte( Filein )<br>ColorMapType=ReadByte( Filein )<br>imagetype=ReadByte( Filein )<br><br><br>Color 255,255,255<br>Print Idlength<br>Print ColorMapType<br>Print Imagetype<br><br><br>WaitKey() <br><br></td></tr></table><br>
<a name="358842"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >David819</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Please help me please. <br><br></td></tr></table><br>
<a name="358849"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Odds On</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Game pack files usually use custom formats and maybe even encryption to protect their data.. I'll save you some time and tell you to stop now. If you can't interpret those two bits of data on your own or by doing your own research into the tga format for example, then you don't stand a chance of extracting the data from game pack files. <br><br></td></tr></table><br>
<a name="358853"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >David819</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> look, i have the specs i know of some file reading cause i have only just started and have asked how to read more than one byte i.e bytes, but i dont know what commands to use to do that, and i want to be able to read files not just game formats so when i get round to it i will be able to make my own. so can you please help me so i can stop bothering the community with this topic. <br><br></td></tr></table><br>
<a name="358872"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Odds On</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> To read more than one byte you simply call ReadByte() as many times as you need to. There are no data types in Blitz that are 5 or 10 bytes long. You can read 2 bytes at a time with ReadShort(), and 4 bytes at a time with ReadInt() or ReadFloat(). <br><br></td></tr></table><br>
<a name="358972"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >David819</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok thanks, I'll see where i can get with that. <br><br></td></tr></table><br>
<a name="359245"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >David819</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, i have made progress and am now at the stage where i need to get the picture to display and dont know how to do so, can you please help me with this. My code goes as follows:<br>Graphics 640,480,32,2<br>SetBuffer BackBuffer()<br><br>filein=ReadFile("test2.tga")<br><br>;TGA File Header<br>Idlength=ReadByte( Filein )<br>ColorMapType=ReadByte( Filein )<br>imagetype=ReadByte( Filein )<br><br>;color map specifications<br>index=ReadShort( filein )<br>length=ReadShort( filein )<br>size=ReadByte( filein )<br><br>xorig=ReadShort( filein )<br>yorig=ReadShort( filein )<br>width=ReadShort( filein )<br>height=ReadShort( filein)<br>depth=ReadByte( filein )<br>attributes=ReadByte( filein )<br><br><br>Color 255,255,255<br>Print "ID Length: "+Idlength<br>Print "Color Map Type: "+ColorMapType<br>Print "Image Type: "+Imagetype<br><br>Print "Index: "+index<br>Print "Length: "+length<br>Print "Size: "+size<br>Print "XOrigin: "+xorig<br>Print "YOrigin: "+yorig<br>Print "Width: "+width<br>Print "Height: "+height<br>Print "Depth: "+depth<br>Print "attributes: "+attributes<br><br><br><br><br>WaitKey() <br><br></td></tr></table><br>
<a name="359265"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Odds On</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Basically you need to create an image to the width and height that you read in from the file, then loop through and read the rgb value for each pixel.<br><br><pre class=code>Graphics 640,480,32,2 
SetBuffer BackBuffer() 

filein=ReadFile("test2.tga") 

;TGA File Header 
Idlength=ReadByte( Filein ) 
ColorMapType=ReadByte( Filein ) 
imagetype=ReadByte( Filein ) 

;color map specifications 
index=ReadShort( filein ) 
length=ReadShort( filein ) 
size=ReadByte( filein ) 

xorig=ReadShort( filein ) 
yorig=ReadShort( filein ) 
width=ReadShort( filein ) 
height=ReadShort( filein) 
depth=ReadByte( filein ) 
attributes=ReadByte( filein ) 

Color 255,255,255 
Print "ID Length: "+Idlength 
Print "Color Map Type: "+ColorMapType 
Print "Image Type: "+Imagetype 

Print "Index: "+index 
Print "Length: "+length 
Print "Size: "+size 
Print "XOrigin: "+xorig 
Print "YOrigin: "+yorig 
Print "Width: "+width 
Print "Height: "+height 
Print "Depth: "+depth 
Print "attributes: "+attributes 

image = CreateImage( width, height )
SetBuffer ImageBuffer( image )
LockBuffer

For Y = height - 1 To 0 Step -1
	For X = width - 1 To 0 Step -1
		rgb = ReadInt( filein ) And $FFFFFFFF
		WritePixelFast X, Y, rgb
	Next
Next

UnlockBuffer
SetBuffer BackBuffer(  )

DrawBlock image, 0, 0
Flip

WaitKey
End</pre><br>It's not that simple though, because TGA files can be saved in several different formats (you have to interpret the ColorMapType etc and decide how to read in the data) <br><br></td></tr></table><br>
<a name="359282"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >David819</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the help chriss fuller. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
