<!DOCTYPE html><html lang="en" ><head ><title >Few quick questions about vertex attributes, also tokamak</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Few quick questions about vertex attributes, also tokamak</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Few quick questions about vertex attributes, also tokamak</a><br><br>
<a name="331492"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mrtricks</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> 1. If I use VertexColor() on a vertex to set its RGB, then use VertexRed() to extract the info -- is it screwed up in 16-bit mode? Or can I expect to get the exact same figure back? (I want to use it to store information to extract later, rather than set a colour.)<br><br>2. Can vertex normals be set to any floating point number, or do they cap at 1 (or -1)? Does the system scale them back to cap the highest at 1, since the NXYZ attributes form a vector? (The same reason, I want to use them to store information for later retrieval.)<br><br>And in Tokamak:<br><br>3. Does it get too much with complex items with lots of vertices? Can you only use convex meshes?<br><br>4. Can you assign only SOME of the vertices in a mesh as tokamak vertices (ie, once you specify a mesh as a tokamak object, do ALL verts react to collision whether you want them to or not?) <br><br></td></tr></table><br>
<a name="331496"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sweenie</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> 3)<br>The static mesh can be as complex as you want, but remember that only one static mesh is allowed.<br>The dynamic(non-static) bodies can only be built from primitives, that is spheres, boxes and capsules.<br>However there is no limitation on how to use them so concave shapes is allowed.<br><br>4)<br>You feed tokamak with the triangles you want it to do collision-checks with so if you only want collision with a couple of triangles,just send those to tokamak.<br>And again, this only works with the static(non movable) mesh. <br><br></td></tr></table><br>
<a name="331502"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you have more Tokamak questions there is an official Blitz-Tokamak forum here:<br><a href="http://playerfactory.proboards25.com/" target="_blank">http://playerfactory.proboards25.com/</a> <br><br></td></tr></table><br>
<a name="331503"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mrtricks</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks...<br><br>re 4 though: What about when the tokamak objects collide with each other? or is it that they collide with each other, plus one static mesh?<br><br>And how is a static mesh defined? Is it just a mesh that you don't move, or is it a special kind of mesh that must be loaded in a certain way? (ie cannot be a custom mesh built within the program)<br><br>It's sounding like maybe I can't use tokamak... I'm making a FPS/RTS hybrid where buildings can be built and positioned and destroyed on the fly -- therefore maybe the tokamak objects (vehicles etc) couldn't be made to collide with the dynamic building structures... ? (The buildings don't MOVE, they just appear and disappear (bit by bit) <br><br></td></tr></table><br>
<a name="331515"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Tokamak "tutorial":<br><br><a href="http://www.blitzcoder.com/cgi-bin/articles/show_article2.pl?f=bot__builder102082004102230.html" target="_blank">http://www.blitzcoder.com/cgi-bin/articles/show_article2.pl?f=bot__builder102082004102230.html</a> <br><br></td></tr></table><br>
<a name="331526"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mrtricks</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool - will look at that asap.<br><br>With ref to 1) and 2): Can uv values (both sets) be set to anything, even 60000 or something? Same reason, in order to store information for later retrieval. <br><br></td></tr></table><br>
<a name="331688"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Normals can hold any values - pretty sure the same goes for UV etc. Try it out, it'll only take a minute.<br><br>I must admit I'm a bit confused: If you're planning to use normals, UV's etc. to store 'other' info then how are you going to light, texture or otherwise display your meshes correctly? <br><br></td></tr></table><br>
<a name="331734"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Uvs can be anything. that's how they work out repeting textures over a single poly. <br><br></td></tr></table><br>
<a name="331892"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mrtricks</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> @ big10p: I'm not displaying these verts at all - I am just attempting a new explosion system -- have tried using types for it but they get too complex. Bit complicated to explain and I don't even know if it'll work or have any benefit yet! I like the idea of creative uses for one thing as another thing -- in this case using a mesh with verts but no tri's as information storage. Basically, it means I can check two pieces of information at the same time, hopefully saving a few millisecs. <br><br></td></tr></table><br>
<a name="331897"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> The lookup is still slow from verts. You will be faster using arrays. <br><br></td></tr></table><br>
<a name="331939"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mrtricks</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmmm. Maybe that will be a factor. It's more to do with the method than the raw speed of the info storage, but I won't know until I do it. :) <br><br></td></tr></table><br>
<a name="331944"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Murphy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> nad one thing:<br><br>for the static mesh in tokamak (normally the level) you can use this great function <br><br><pre class=code>
Function MakeTokCollider(mesh)
scount=CountSurfaces(mesh)
For ind=1 To scount
surface=GetSurface(mesh,ind)
ttltris=ttltris+CountTriangles(surface)
ttlvert=ttlvert+CountVertices(surface)
Next
vertices=CreateBank(16*ttlvert)
triangles=CreateBank(24*ttltris)
offsetv=0
offsett=0
For ind=1 To scount
surface = GetSurface(mesh,ind)
ctr=CountTriangles(surface)
tric=tric+cvt
cvt=CountVertices(surface)
;fill bank with vertices
For v=0 To cvt-1
PokeFloat vertices,offsetv,VertexX#(surface,v)
PokeFloat vertices,offsetv+4,VertexY#(surface,v)
PokeFloat vertices,offsetv+8,VertexZ#(surface,v)
PokeFloat vertices,offsetv+12,0.0
offsetv=offsetv+16
Next
;fill bank with triangles
For v=0 To ctr-1
PokeInt triangles,offsett,tric+TriangleVertex(surface,v,0)
PokeInt triangles,offsett+4,tric+TriangleVertex(surface,v,1)
PokeInt triangles,offsett+8,tric+TriangleVertex(surface,v,2)
PokeInt triangles,offsett+12,2 ; Material ID
PokeInt triangles,offsett+16,0
PokeInt triangles,offsett+20,0
offsett=offsett+24
Next
Next

;Hand over the terrain data to Tokamak
TOKSIM_SetStaticMesh vertices,ttlvert,triangles,ttltris
; Now we can free the banks as Tokamak has copied all data
FreeBank vertices
FreeBank triangles
End Function
</pre><br><br>see here <a href="http://playerfactory.proboards25.com/index.cgi?board=tokamak&amp;action=display&amp;num=1077979419" target="_blank">http://playerfactory.proboards25.com/index.cgi?board=tokamak&amp;action=display&amp;num=1077979419</a> <br><br></td></tr></table><br>
<a name="331984"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mrtricks</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> So can you set and reset a static mesh collider? As in, the buildings I was talking about, every time a chunk is knocked out of one, just delete the old collider and set a new one?<br><br>PS. The vertex-holding-information -- got it to work but was rubbish! Back to the old method to try and tighten up... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
