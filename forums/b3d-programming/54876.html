<!DOCTYPE html><html lang="en" ><head ><title >Problem with Gile[s] exporting shapes.. HELP!</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Problem with Gile[s] exporting shapes.. HELP!</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Problem with Gile[s] exporting shapes.. HELP!</a><br><br>
<a name="611331"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pinete</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi all,<br>I'm creating a map with some splines in order to read the<br>vertex to construct some AI paths in the game.<br><br>I'm using B3D pipeline to export the .B3D model of the map<br>and I'm following the instructions of the exporter in order<br>to export shapes.<br><br>Then, I read this shapes and its vertex and create cubes in<br>each one of these vertex...<br><br>Till here all seems to go well..<br><br>The problems comes when I use Gile[s] beetween the modeller<br>and the blitz, to create a lightmap for the terrain.<br><br>Gile[s] assume that there exist a path called AIPath01 and it shows it at the hierarchy tree at the left, but when I<br>export the map with the lightmap again and try to read each<br>vertex of IAPath01 object, it return nothing!<br><br>It seems like if Gile[s] delete the surface of a object that<br>doesn't understand or something similar..<br><br>This is the function I use to read the vertex, and it works if I don't work with Gile[s] to generate the lightmap.<br><br><br>------------------------------------------------------<br>numpaths = 0<br>	child=GetChild(level,1) ; cuenta los hijos del nivel<br>	For i=1 To CountChildren(child)<br>		If Left$(EntityName(GetChild(child,i)),6)="AIPath"<br>			DebugLog("AI Path found!")<br>			numpaths = numpaths + 1<br>			path.TipoPath	= New TipoPath	; Cremos un nuevo path<br>			path\ref		= numpaths		; referencia para identificar el path<br>			shape = GetChild(child,i)<br>			temp_surf = CreateSurface(shape)<br>			For s=1 To CountSurfaces(shape)<br>				surf=GetSurface(shape,s)<br>				For a=0 To CountVertices(surf)-1<br>					VertexColor surf,a,Rnd(255),Rnd(255),Rnd(255)<br>					<br>					path\numnodes 	= path\numnodes + 1<br>					path\NodeX#[path\numnodes]	= EntityX#(shape,True)+VertexX#(surf,a)<br>					path\NodeY#[path\numnodes] 	= EntityY#(shape,True)+VertexY#(surf,a)<br>					path\NodeZ#[path\numnodes]	= EntityZ#(shape,True)+VertexZ#(surf,a)<br>					path\NodeEnt[path\numnodes]	= CreateCube()<br>					DebugLog("Node Created!")<br>					PositionEntity path\NodeEnt[path\numnodes],path\NodeX#[path\numnodes],path\NodeY#[path\numnodes]+0.1,path\NodeZ#[path\numnodes]<br>					<br>					DebugLog("-&gt; "+Str$(path\nodex#[path\numnodes])+", "+Str$(path\nodey#[path\numnodes])+", "+Str$(path\nodez#[path\numnodes])+", ")<br>					<br>					If numpaths = 1 Then EntityColor path\NodeEnt[path\numnodes],0 , 0 , 255<br>					If numpaths = 2 Then EntityColor path\NodeEnt[path\numnodes],0 , 255 , 255<br>					If numpaths = 3 Then EntityColor path\NodeEnt[path\numnodes],255 , 0 , 255<br>					EntityAlpha path\NodeEnt[path\numnodes],1.0<br>				Next<br>			Next<br>			ClearSurface(temp_surf)<br>			;FreeEntity (shape)<br>			;DebugLog("vertices en el path..."+Str$(CountVertices(surf)-1))<br>		EndIf<br>		<br>	Next<br><br>------------------------------------------------------<br><br>Please, someone knows how could I do to solve this<br>problem???<br><br>Thanks in advance! <br><br></td></tr></table><br>
<a name="611332"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pinete</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I forget one thing...<br><br>The lines<br><br>temp_sufr = createsurface(shape)<br>....<br>....<br>clearsurface temp_surf<br><br>has been introduced in a desesperately way trying<br>to solve something.. but they can be deleted because<br>it seems they aren't doing anything positive..<br><br>Thanks again <br><br></td></tr></table><br>
<a name="611352"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>Yep, gile[s] deletes isolated vertices, so your path points will disappear.<br><br>I believe you can export a path as a mesh (with polygons) from b3d pipeline. That might help you?<br><br>Otherwise you could add a number of cubes in 3dsmax, and place them along the path. I don't remember what the function is called in 3dsmax...snapshot or array or something like that. <br><br></td></tr></table><br>
<a name="611364"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pinete</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks a lot Fredborg,<br><br>I've tried before to export the sape as "rendereable"<br>in order to be accepted by Gile[s],<br>and read the vertexs in groups of four (step 4)<br>assuming that the path has the minimum sides allowed (3),<br>but again I meet another problem!<br><br>When I load the map from Blitz and after be lightmapped in<br>Gile[s], (exported as rendereable object from the modeller) the shape appears like an object with more vertex than normal...<br><br>In the modeller the shape has 126 vertex and from blitz<br>with the funcion "countvertices", it says 270!<br><br>Do you have any idea about the process that Gile[s] is following when reading the exported shape ?<br><br>Really, the steps are:<br>a) make a shape<br>b) Set as rendereable (give volume)<br>c) reduce sides to three (3)<br>d) export the map with B3D PipeLine (last version)<br>e) Import from Gile[s] v1.36<br>f) Render and make the lightmap<br>g) Delete -Scene Root- created by gile because the<br>scene has previously its own Scene root<br>h) export again as B3D<br><br>It's like gile[s] invented more vertex!<br>and even reading them in "rendereable" form and in groups<br>of four, it create the various cubes those shouldn't exist!<br><br>The problem making the cubes from the modeller is the order<br>of the created cubes, I guess, or snapshot or array assign<br>a order number within the name??<br>However making it at that way it is a must to order the objects after read them... <br><br>If you have some idea about the reason the vertices seems to be duplicated I would be very pleasant if you share!<br><br>Thanks in advance! <br><br></td></tr></table><br>
<a name="611402"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>If you disable lightmapping for the shape (ie. set it's material to 'No Lighting' in 'Lighting Method') it should stay the same. But, maybe it's better to simply import the shape seperately in Blitz3D?<br><br>Ie. do this:<br>1: Hide everything but the shape.<br>2: Export a b3d from 3dsmax, this will contain only the shape.<br>3: Show everything but the shape.<br>4: Export the scene from 3dsmax and lightmap it in gile[s].<br>5: Load both the first and the second scene.<br><br>That should work. <br><br></td></tr></table><br>
<a name="611538"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> ..export it from 3DSMAX as .3DS file, appart from rest of the your geometry and it will work.. <br><br></td></tr></table><br>
<a name="611601"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pinete</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks to all!<br>I will go for that.<br>:)<br><br>Thanks again! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
