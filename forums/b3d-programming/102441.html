<!DOCTYPE html><html lang="en" ><head ><title >Server Hosts</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Server Hosts</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Server Hosts</a><br><br>
<a name="1223887"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AngelOnFira</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> So I've been pondering on how servers work. Basically I am going to be making a game with a listen server, then possibly add a dedicated server.<br><br>My question is what exactly does the host do? So far I have them able to show their server on the lan menu, and when new players connect, it will send them a list of who else is already in the game. When it comes to the actually game, do all of the players send their position info to the server only and then the server sends it to the rest of the players, or do the players send it between each other and the server picks it up as well? <br><br></td></tr></table><br>
<a name="1223900"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rroff</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Player position data with a dedicated server would go player-&gt;server-&gt;player - the dedicated server means that people don't need to mess about with opening ports on their router to be able to connect to other players directly, etc. (and in theory means the game isn't affected by any one player's connection being rubbish).<br><br>Normally you'd have the clients updating the server at say 20Hz and the server do a world update every say 10Hz and send out the latest world state to connected players at that frequency.<br><br>Gets a bit more complicated after that in regards to what sort of game your working on and what methods best suit it to keep everything in sync but normally individual clients would run clientside prediction ahead of the server. <br><br></td></tr></table><br>
<a name="1223925"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rick Nasher</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Perhaps this library is interesting to you(I think it is) and especially the bit with  <b>"Download: SimpleUDP 3.0 inkl. Masterserver"</b>.<br><br>Original German link: <br><a href="http://www.blitzforum.de/forum/viewtopic.php?t=37472" target="_blank">http://www.blitzforum.de/forum/viewtopic.php?t=37472</a><br><br>As it is in German you may want to use a translator on the above link, as in here:<br><a href="http://www.microsofttranslator.com/bv.aspx?from=&amp;to=en&amp;a=http%3A%2F%2Fwww.blitzforum.de%2Fforum%2Fviewtopic.php%3Fp%3D410348%23410348" target="_blank">http://www.microsofttranslator.com/bv.aspx?from=&amp;to=en&amp;a=http%3A%2F%2Fwww.blitzforum.de%2Fforum%2Fviewtopic.php%3Fp%3D410348%23410348</a><br><br>Works great on my home network. <br><br></td></tr></table><br>
<a name="1223926"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Normally the server would send information to all the players -- player to player is hard, because most of the time the players will be behind a firewall and you won't be able to make a direct incoming connection to them.<br><br>Having the clients themselves initiate an outgoing connection to the server that they can receive information back over bypasses all the router/firewall problems.<br><br>Something else to consider: keep in mind that you can't really trust the client computer. The server should have some logic built in to verify that the information it receives is actuall possible in the game: units moving faster than their max speed, # of bullets fired don't exceed a max, number of enemy deaths all add up as well -- without those doublechecks, a player who intercepted &amp; figured our your server communications could easily make a cheater that ruin the game experience for everyone else. <br><br></td></tr></table><br>
<a name="1223935"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AngelOnFira</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey, I want to thank everyone that posted, the amount that I learned from this is crazy. Just a couple quick questions about the world "tickrate" Rroff, I suppose when you are saying the server would make all of the calculations at 10Hz, that means a tick every 10 milliseconds? So then to elaborate on that, the server makes 100 world updates a second, while the client makes 50? So that wouldnt actually limit the players fps, they can still have max fps however the data is only being sent every 20 milliseconds, or so I understand. Would this limit framerate at all, or would you just tell it to send all the info after a certain time?<br><br>Again, thanks for all the help everyone, this is extremely helpful. <br><br></td></tr></table><br>
<a name="1223936"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AngelOnFira</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I also just watched a video on server ticks, and saw that most of this applies only to online gaming. I am starting out with lan first then working up to online. Does this change how the server ticks? Since there is no latency, does the world need to be updated in the same way? <br><br></td></tr></table><br>
<a name="1223941"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I am starting out with lan first then working up to online. Does this change how the server ticks? Since there is no latency, does the world need to be updated in the same way?  <br></div><br><br>Generally, on a LAN you have insignificant latency: 1-2 ms. That means you can send/receive LOT of network update packets , and have nbear real-time responses.  On the internet, you can have response anywhere from 10ms to 200ms for users on the same continent, and more for thos furrther away.  Obviously, that means that whatever network info you receive can be a quarter second out of date anyway, and you'll probably have to use some predictive algorithms to deal with player positions, weapons, damage, delayed deaths, etc -- of a unit is running, you can typically expect them to keep going in the same direction at that speed, but when you receive the network packet with the *real* position, you'd have to adjust for that. (either average the guessed/real positions for a somewhat smooth movement, or jump to unit to its real location -- but doing that can get pretty 'jumpy'.<br>Gernally it takes a bunch of predictions, mixed with the real info to get a visually smooth result. Unfortunately, that also makes it much harder <br>to determinte whether someone has been 'hit' since the unit may -appear- in a different location to an enemy than where the actual player thinks he really is.<br><br>It's a tricky problem, but if you ignore it you can significantly degrade gameplay fun and 'fairness' on slow networks.  On a LAN, it's probably a non-issue for the most part. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
