<!DOCTYPE html><html lang="en" ><head ><title >Seamless Texture Generator</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Seamless Texture Generator</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Seamless Texture Generator</a><br><br>
<a name="489275"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Techlord</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looking for a FREE Seamless Texture Generator made with Blitz3D, source included. This Texture Utility will be featured in the <a href="/posts.php?topic=43109" target="_blank">PersistentWorld3D</a>. <br><br></td></tr></table><br>
<a name="489314"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Picklesworth</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> We'll have to try as hard as humanly possible to be ridiculously nice to sswifty... <br><br></td></tr></table><br>
<a name="489317"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not sure I understand your comment, Mr. Picklesworth... What do you mean? <br><br></td></tr></table><br>
<a name="489320"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> He means he wants your seamless texture generator for free. :) <br><br></td></tr></table><br>
<a name="489323"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't think that's it.<br><br>And no matter how nice you are, it doesn't change the reality that I need to eat. :-) <br><br></td></tr></table><br>
<a name="489403"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Techlord</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Honestly, if its not for free..its not for me. If all fails, I'll write one me-self.<br><br>thnx <br><br></td></tr></table><br>
<a name="489422"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=650" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=650</a> ? <br><br></td></tr></table><br>
<a name="489425"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, that one of Elias is very nice. <br><br></td></tr></table><br>
<a name="489433"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> "Honestly, if its not for free..its not for me. If all fails, I'll write one me-self."<br><br><br>There are lots of free seamless texture generators out there.  The difference is one of quality and ease of use.<br><br>The link Peter posted is a perfect example.  <br><br>It uses the same sort of texture blending algorithm that most seamless texture generators out there use.  A simple alpha blend.<br><br>But that algorithm simply isn't very good.  <br><br>Here is a direct comparison using the same texture with both the function Peter linked to, and my own seamless texture generator.  I chose a texture which is favorable towards the alpha blend algorithm, what with it being fairly even across it already.<br><br>Peter's link:<br><img src="http://www.nikkopay.com/swift/comparison-competition.jpg"><br><br>My seamless texture generator:<br><img src="http://www.nikkopay.com/swift/comparison-mine.jpg"><br><br>Note how not only are there diagonal stripes with muddy color and low contrast in Peter's image, but the texture has lost much of its variation because now the texture basically tiles every one half of the original texture width.  Note how in the center of each "tile" you see the same rock as at the corners.  That's a terrible waste of texture.  And the seams aren't really gone at all, because blurry lines along the diagonals make the texture repetitions are obbious as ever.<br><br>Meanwhile the texture my function outputs has only one real problem, and that is one rock which has a particularly dark shadow... and that could be easily touched up in a paint program.<br><br><br>So, you can stick with free if you want, but I'm still gonna write this program for people who want quality. :-)<br><br>Oh, and Peter's function wouldn't work well at all on a manmade surface, like a brick wall.  The way a copy of the texture is pasted into the middle of each tile wouldn't work at all for that. <br><br></td></tr></table><br>
<a name="489439"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob Farley</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I gotta agree with Swift here, his does look better. However..<br><br>"And no matter how nice you are, it doesn't change the reality that I need to eat. :-)"<br><br>I thought you lived with your parents? If this is the case, are you suggesting that if you don't earn money from selling a texture utility your parents are going to stop giving you food? <br><br></td></tr></table><br>
<a name="489454"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> It was just an expression... I am in a right spot and need to start earning a decent living though.  And I may need to live on my own soon.  <br><br>And no, my dad's not kicking me out or anything like that.  I just really need to start helping out with the bills, and he might move to Florida with his girlfriend come fall.<br><br>But this really isn't the place to discuss that stuff. :-)<br><br>Anyways I have hope this will sell much better than my Blitz libraries because there is a much larger number of 2D and 3D artists out there than there are programmers who use Blitz.<br><br>Plus there's all those Darkbasic users. :-) <br><br></td></tr></table><br>
<a name="489782"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Techlord</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> There are lots of free seamless texture generators out there. The difference is one of quality and ease of use.  <br></div> Agreed Swift. However, the PW3D is a opensource project. So its in the best interest of everyone that there are few restrictions.<br><br>Very Good Job, Elias_t<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">; ID: 650
; Author: elias_t
; Date: 2003-04-13 14:30:58
; Title: Create seamless texture function
; Description: It works pretty good [updated]

;=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
;
; Seamless texture generation Function
;
; by elias_t
;
; Created after a tutorial by Paul Bourke. 
;
; updated to make the linear methods work better.
;
;=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


;example
Graphics 640,480,32,2

img=LoadImage("your_image.bmp");your image here


;0=Radial   method 
;1=Linear 1 method 
;2=Linear 2 method 


seamless=make_seamless(img,0)


SaveImage (seamless,"seamless.bmp")

TileImage seamless,0,0

;DrawImage seamless,0,0

Flip

WaitKey()

End









;*************************************************************************

;needed arrays
Dim image(0,0,0) , diagonal(0,0,0) , tile(0,0,0) , mask(0,0)



;img=image handle
;masktype= [0=Radial , 1=Linear] method

Function make_seamless(img,masktype)


Local a1#,a2#,d#

;protect masktype
masktype=Abs(masktype)
If masktype&gt;2 Then masktype=2

;find largest side of the image
x=ImageWidth(img)
y=ImageHeight(img)

;and resize the image to become square
If x&lt;&gt;y
If x&gt;y Then N=x
If y&gt;x Then N=y
ResizeImage img,N,N
EndIf

If x=y Then N=x

Dim image(N,N,2)
Dim diagonal(N,N,2)
Dim tile(N,N,2)
Dim mask(N,N)



LockBuffer (ImageBuffer(img))

	For j=0 To N-1
		
		For i=0 To N-1
		
		rgb=ReadPixelFast(j,i,ImageBuffer(img))

		image(i,j,0) = (rgb Shr 16 And $ff)
		image(i,j,1) = (rgb Shr 8 And $ff)
		image(i,j,2) = (rgb And $ff)

        diagonal ( (i+N/2) Mod N , (j+N/2) Mod N ,0) = image(i,j,0)
		diagonal ( (i+N/2) Mod N , (j+N/2) Mod N ,1) = image(i,j,1)
		diagonal ( (i+N/2) Mod N , (j+N/2) Mod N ,2) = image(i,j,2)

		Next

	Next


UnlockBuffer (ImageBuffer(img))


;try to make your own masktypes here

;Create the mask
   For i=0 To N/2-1

      For j=0 To N/2-1

		Select masktype

		Case 0;RADIAL
			d = Sqr((i-N/2)*(i-N/2) +  (j-N/2)*(j-N/2)) / (N/2)
           
		Case 1;LINEAR 1
			If (N/2-i)&lt; (N/2-j)
			d=Sqr((j-N/2)*(j-N/2))/(N/2)
			EndIf
			
			If (N/2-i)&gt;= (N/2-j)
			d=Sqr((i-N/2)*(i-N/2) ) /(N/2)
			EndIf


		Case 2;LINEAR 2
			If (N/2-i)&lt;(N/2-j)
			d=Sqr((j-N)*(j-N) +  (i-N)*(i-N)) / (1.13*N)
			EndIf
			
			If (N/2-i)&gt;=(N/2-j)
			d=Sqr((i-N)*(i-N) +  (j-N)*(j-N)) / (1.13*N)
			EndIf

			
		End Select
		

         ;Scale d To range from 1 To 255

         d = 255 - (255 * d)
         If (d &lt; 1) Then d = 1
         If (d &gt; 255) Then d = 255


         ;Form the mask in Each quadrant

         mask (i     , j    ) = d
         mask (i     , N-1-j) = d
         mask (N-1-i , j    ) = d
         mask (N-1-i , N-1-j) = d


		Next
		
	Next



;Create the tile
	For j=0 To N-1
	
		For i=0 To N-1

		a1 = mask(i,j)
		a2 = mask( (i+N/2) Mod N , (j+N/2) Mod N )
		tile(i,j,0) = a1*image(i,j,0)/(a1+a2) + a2*diagonal(i,j,0)/(a1+a2)
		tile(i,j,1) = a1*image(i,j,1)/(a1+a2) + a2*diagonal(i,j,1)/(a1+a2)
		tile(i,j,2) = a1*image(i,j,2)/(a1+a2) + a2*diagonal(i,j,2)/(a1+a2)
		
		Next
		
	Next


;create the new tileable image

img2=CreateImage(N,N)

LockBuffer (ImageBuffer(img2))

   For j=0 To N-1

      For i=0 To N-1
		
		rgb=(tile(i,j,0) Shl 16) + (tile(i,j,1) Shl 8) + tile(i,j,2)
		WritePixelFast j,i,rgb,ImageBuffer(img2)

		Next
		
	Next

UnlockBuffer (ImageBuffer(img2))

Dim image(0,0,0) , diagonal(0,0,0) , tile(0,0,0) , mask(0,0)

;if it wasn't a square image, resize it back to the original scale
If x&lt;&gt;y Then ResizeImage img2,x,y

Return img2

End Function</textarea> <br><br></td></tr></table><br>
<a name="489816"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >NewtSoup</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> @ Frank Taylor<br><br><div class="quote"> Honestly, if its not for free..its not for me. If all fails, I'll write one me-self.  <br></div><br><br>oho? then where'd you get B3D? or are you still on the trial version? :P <br><br></td></tr></table><br>
<a name="489986"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EddieRay</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> @sswift:<br><br>Can you post the original image you used for your tiling test above?<br><br>Where is your pay-to-play tiling tool?<br><br>Thanks,<br><br>Ed <br><br></td></tr></table><br>
<a name="489988"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tracer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>I am in a right spot and need to start earning a decent living though. And I may need to live on my own soon.<br> <br></div><br><br>How about getting a job? ;)<br><br>Seriously tho, it's not gonna be easy for you to make a 'decent living' from a tiling app :)<br><br>Tracer <br><br></td></tr></table><br>
<a name="490027"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Eddie:<br>Here is a copy of it offset 50% on the X axis so you can see the seam.<br><br><img src="http://www.nikkopay.com/swift/before-001.jpg"><br><br>There is another thread on the product here:<br><a href="http://www.blitzbasic.com/Community/posts.php?topic=43628#489079" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=43628#489079</a><br><br>The tool is not actually finished yet.  <br><br>The main algorithm is done... I used it to generate thos eimages... but I'm still coding the application interface in BlitzPlus, and I still need to code a few algorithmic type things to go with the main seamlessness function.  <br><br>I'm working to get it finished as quickly as I can, but it's still another week or two from completion.<br><br><br>"How about getting a job? ;)"<br><br>Well I could get a part time job in retail or something, but that misses the point of having a real job to earn a real living.  Either I start making money with some of my own projects in Blitz, and become truly self employed, or I'll probably end up getting another job in the game industry as a level designer or texture artist and have to move to another state.<br><br>I'd rather stay right where I am and have my own semi-successful business making shareware, even if it isn't as lucrative as it would be working for someone else.<br><br>And my definition of decent living is making enough money to pay for my car, and insurance, and buy a DVD on occasion. :-)  <br><br>If I could just sell one copy at $35 per day, that would be more than enough.  I'm not really entertaining the idea that I would be moving into an apartment off this.  Besides, I like living with my dad.  I just want to pull my own weight, and bide my time till I finish a game or two that does make me a good living.<br><br>Anyway, I have time enough to finish this, and maybe my tank game, and if those don't make any money I'll probably be looking at a part time job to earn my keep so I can continue to attempt to start my own business.  I'll never really be happy working for someone else on their time schedule. <br><br></td></tr></table><br>
<a name="490042"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdrianT</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> good luck sswift, I'm in the exact same situation s you really. hopefully I'll be able to send some $ your way eventually, but I have to make em. It sure is nice to have a reliable source of income, but I also can't stand the idea of working with a commercial developer, moving house every couple of years and put up with all the rubbish that goes with commercial game dev.<br><br>Hope you make it, my experience with indie dev hasn't been very promising thus far, but doing the work is a lot more fun than anything else when a poject seems to be working out the way you would like.<br><br>It's amazing how hard it is to make $35 a day in indie game dev. I don't think Leadfoot currently makes that much in a month, have to rely on contract work and the wife to keep me in business. <br><br></td></tr></table><br>
<a name="490184"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Barliesque</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Frank Taylor:<br>Here's an idea:  Why don't you see if you can set up a plug-in system so that your users could purchase and use Swift's seamless texture algorithm.  You could provide a free one for free, but make it possible to upgrade to Swift's excellent system.<br><br>@Swift:<br>Maybe you can make a plug-in version of your seamless texture maker.  If you've decided on doing Commercial and Shareware versions, then Frank's application could come with the Shareware version included --along with a little link to purchase the complete version. <br><br></td></tr></table><br>
<a name="490193"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IPete2</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Swifty,<br><br>Your texture generator is brilliant.  Like most of your other libraries it hits the spot and does the job supremely well.  Nice one!  Good luck with it.<br><br>IPete2. <br><br></td></tr></table><br>
<a name="490275"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Techlord</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Here's an idea: Why don't you see if you can set up a plug-in system so that your users could purchase and use Swift's seamless texture algorithm. You could provide a free one for free, but make it possible to upgrade to Swift's excellent system. <br></div>PW3D is being developed on top of the <a href="http://www.blitzbasic.co.nz/Community/posts.php?topic=39622" target="_blank">BlitzScript3D Engine</a> and <a href="http://www.blitzcoder.com/blitzplay/" target="_blank">BlitzPlayLite</a> to support a Updateable Plug-in Management System via the internet. Additionally the source for PW3D is available. So it will be very possible for users to integrate Swift's excellent system. However, I would like to provide a default solution and the source will be available others improve upon it. <br><br></td></tr></table><br>
<a name="493729"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EddieRay</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Swift:  Nice job on the seamless texture generator!<br><br>I tried out that texture with Gimp's "Make seamless" filter and it does have the same diagonal blurry lines (of "mush" - not the texture at all) as the algorithm and BB code from the URL.<br><br>The rocks texture is a very good test, since it has huge chunky pieces to it that just don't match up at the edge.  Swift's algorithm seems to be very localized to the edge of the texture, and looks like it is attempting to scale/distort the edge to minimize the "step" of the colors across the seam (there are still visible horiz/vertical seams, they're just much less noticable than the tiled original).  It's definitely a complex problem... with no "easy" solution... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
