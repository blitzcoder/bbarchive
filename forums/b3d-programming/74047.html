<!DOCTYPE html><html lang="en" ><head ><title >Problem with hardware lights</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Problem with hardware lights</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Problem with hardware lights</a><br><br>
<a name="827229"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Billp</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am in the process of writing a game using dynamic dx lights and have run into a problem, the level is divided into a matrix of 5x5 meshes and some are not lighting properly, visually it appears that the normals are not properly pointed, but they are correctly shown in my modeller (AC3D), i have tried flipping the normals via ac3d, UpdatingNormals, Flipmesh and disabling backface culling via blitz but to no avail and am fairly confident the problem isn't my code as all but 2 or 3 zones are working fine. anyway any help would be appreciated<br><br>all lights are spot lights rotated to point to the floor, iI have tried increasing the range and adjusting the light cone angles but only some surfaces are lit<br><br>heres a properly lit zone<br><img src="http://www.abcwebworx.com/blitz3d/Image1.png"><br><br>one i'm having problems with<br><img src="http://www.abcwebworx.com/blitz3d/Image2.png"><br><br>the same zone using a point light to show the problem<br><img src="http://www.abcwebworx.com/blitz3d/Image3.png"><br><br>Thanks Bill <br><br></td></tr></table><br>
<a name="827234"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >cash</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Don`t know if I can help, however I was getting strange lighting issues on one of my games and it turned out o be something to do with the level itself.<br><br>I rewelded all vertexes and smoothed and it seemed to fix it.<br><br>Probably not exactly your problem but may be a start. <br><br></td></tr></table><br>
<a name="827245"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Billp</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, thats what im thinking, that the mesh itself is gacked, just hoping someone will come up with something I haven't tried <br><br></td></tr></table><br>
<a name="827336"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm assuming that you know of the DX limit on hardware lights is 8.  Are you hiding and showing them depending on which zone you're in?  If not, breaching this limit may be your issue. <br><br></td></tr></table><br>
<a name="827349"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Don't you have to actually move the lights Stevie? Might be a bad memory but i recall only the first 8 created, actually working, regardless of how many created.<br><br>@ Billp, Have you tried segmenting level mesh more? Or rewelding as suggested above? <br><br></td></tr></table><br>
<a name="827361"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Billp</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ross &amp; Stevie G<br><br>I am checking a series of bounding boxes to determine which lights would be visible &amp; am freeing and recreating lights as needed, you can't read the text at the top but there are 5 active lights in the scene. also the mesh is composed of quads 1x1 blitz units across mapped to a single texture so segmentation is uniform through out<br><br>Will try rewelding tho, that sounds promising<br><br>Thanks guys I appreciate your help <br><br></td></tr></table><br>
<a name="827378"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> If this problem is due to borked normals, this may help you confirm it.<br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=1085" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=1085</a> <br><br></td></tr></table><br>
<a name="827414"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Billp</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I figured out the problem. ..... I'M AN IDIOT !<br>when I created my zones the modeler centered them on 0,0,0 of course, after creating them I decided to shift the whole deal in order to make calculating the current zone easier ( ie. CurrentZone = 5*EntityZ(camera)/10+EntityX(camera)/10 ) and although I moved the meshes to compensate I apparently forgot to recenter the object centers on a few of the zones, just realized it when in my light editor, the light's position beared no relation to where the camera was.<br>I assumed the problem had to be with the geometry since my proggy recursively scanned the model itself and positioned the dx lights were the light meshes were located.<br><br>you know what they say about assuming lol<br><br>Thanks again for all of your input <br><br></td></tr></table><br>
<a name="827622"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> You are a programmer, you should know that an assumption is normally the start to a very long chain of "fixing problems" ;-) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
