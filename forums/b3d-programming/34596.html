<!DOCTYPE html><html lang="en" ><head ><title >Request</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Request</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Request</a><br><br>
<a name="374041"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >David819</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> It would be useful to have more file reading command in blitz like readlong and such, for those trying to read game data file and make their own. <br><br></td></tr></table><br>
<a name="374089"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> There is a <b>ReadInt</b> command already. <br><br></td></tr></table><br>
<a name="374091"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob Farley</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> ReadByte<br>ReadBytes<br>ReadFloat<br>ReadInt (readlong)<br>ReadLine <br>ReadShort<br>ReadString<br><br>What else do you want? <br><br></td></tr></table><br>
<a name="374225"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> They work fine for me! What are you trying to do? Wanna post some code if  you're havin trouble??? <br><br></td></tr></table><br>
<a name="374252"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> For file IO you have to interpret the machine code directly.<br>11000010010100010111101010010101010101011010010010110100010111010100101010100101010100101010101010010110110011101000 <br><br></td></tr></table><br>
<a name="374305"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >David819</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm having the main problem with string at present in a file i am reading there are lots of other formats each the size of 4 but can only read on file format with a pile of other things after it, how do i read the other formats? <br><br></td></tr></table><br>
<a name="374315"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >David819</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> oh, and here is my code for the file so far:<br>Graphics 640,480,32,2<br><br>File=ReadFile("level0_Final.dat")<br><br>SeekFile(file,20)<br><br>librects=ReadInt(file)<br>block1=ReadInt(file)<br>block2=ReadInt(file)<br>datastart=ReadInt(file)<br>datasize=ReadInt(file)<br>nameoffset=ReadInt(file)<br>namesize=ReadInt(file)<br>unknown=ReadInt(file)*ReadInt(file)<br><br><br>testt=ReadInt(file)<br>test$=ReadString(file)+testt<br><br><br>SeekFile(file,4)<br>;offset=Read<br><br>Print librects<br>Print block1<br>Print block2<br>Print datastart<br>Print datasize<br>Print nameoffset<br>Print namesize<br>Print unknown<br><br>Print test$<br>Print test1$<br><br>WaitKey() <br><br></td></tr></table><br>
<a name="374333"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >David819</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh, i almost forgot if this does not mke anysence to you (i mean like what the file is about) i have the specs for it, i just need to know how to get the part i am on to work. <br><br></td></tr></table><br>
<a name="374368"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >David819</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> :( <br><br></td></tr></table><br>
<a name="374397"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nacra</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you having trouble getting through this 'unknown' block of data down to testt?<br><br>unknown=ReadInt(file)*ReadInt(file)<br><br>testt=ReadInt(file)<br>test$=ReadString(file)+testt <br><br>It looks like unknown would fill a 2D array or image.  What do you get out of testt and test$?  zeros?  I'd step through it with the debugger and try to orient myself in the file.  If needed hack up the file by putting recognizable values in the different locations.<br><br>And you could upload a sample and spec if you wanted more help. <br><br></td></tr></table><br>
<a name="374530"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rook Zimbabwe</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Slightly OT-<br><br>Goober. I agree with you... but Nacra has a good point. You can use the {codebox} <u> code goes here... </u> {/codebox} command to load a lot of code without taking much scroll space in the topic... the "{" symbol is actually the bracket :[" ie: "[]" instead of "{}" <br><br></td></tr></table><br>
<a name="374892"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >David819</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok thanks so far here are the file specs:<br><pre class=code>
  == DAT - Oni ==
first is header (64b), then lib follows, then some unknown block1 &amp; block2, then data and 
at the end there is a name block

name			offset			size		note


Header:
ident			0				20			1F 27 DC 33  DF BC 03 00  31 33 52 56  40 00 14 00  10 00 08 00
lib recs		20				4			long
block1 recs		24				4			long
block2 recs		28				4			long
data start		32				4			long
data size 		36				4			long
names offset	40				4			long
names size		44				4			long
?				48				4*4			longs

Lib Rec (20 bytes):
type			0				4			string
offset			4				4			relative
name offset		8				4			relative
size			12				4
?				16				2			short
?				18				2			short

Names Block Rec (? bytes):
type			0				4			string
name			4				?			ASCIZ string


</pre><br><br>with the testt and test$ the testt is to get a value in this case (4) and add it onto the test$ to display the file type but there are loads of files in it. <br><br></td></tr></table><br>
<a name="374897"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >David819</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> :| <br><br></td></tr></table><br>
<a name="375056"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nacra</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> How about just jumping straight down into your lib block; skip all of that other reading for now.  Does this get you the 'type' value?<br><br><br>SeekFile(file,48+4*4+1) <br><br>type=ReadString(file)<br>;testt=ReadInt(file)<br>;test$=ReadString(file)+testt <br><br></td></tr></table><br>
<a name="375403"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >David819</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> no, it doesn't work, dunno why though. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
