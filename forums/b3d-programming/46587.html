<!DOCTYPE html><html lang="en" ><head ><title >FAST particle engine, anyone?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >FAST particle engine, anyone?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >FAST particle engine, anyone?</a><br><br>
<a name="518199"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DH</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Would anyone be interested in an extremely fast particle engine?  I know everyone boasts this, however my comparison tests have proven this 3x faster than anything I can find out there.<br><br>How many could use this is what I am asking I guess?<br><br>Documentation:<br><a href="http://www.kcstudios.net/enginetests/ParticleLibraryDocumentation.htm" target="_blank">http://www.kcstudios.net/enginetests/ParticleLibraryDocumentation.htm</a><br><br>Demo:<br><a href="http://www.kcstudios.net/enginetests/ParticleTest.zip" target="_blank">http://www.kcstudios.net/enginetests/ParticleTest.zip</a><br><br>The objective was to create an ultra fast particle engine for a world I am creating.  Problem was that most particle engines start to bog when approaching 700-1000 particles.  After creating the camera displacement tree demo from a while back it got me to thinking about particles and how they could be sped up.<br><br>Let me know what you guys think.<br><br>Thanks <br><br></td></tr></table><br>
<a name="518201"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks good, but smoke always seems to appear in front of fire here, regardless of z-position. <br><br></td></tr></table><br>
<a name="518203"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DH</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> What do you mean? <br><br></td></tr></table><br>
<a name="518219"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RiverRatt</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would. I think it looks great. And documentation is always a help. <br>He means the smoke is being drawn over the fire, but thats nothin that can't be fixed easy by the user, I think. <br><br></td></tr></table><br>
<a name="518223"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Problem was that most particle engines start to bog when approaching 700-1000 particles. <br></div><br><br>Mine can handle up to 8,000 particles without slowdown. <br><br></td></tr></table><br>
<a name="518224"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DH</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Mine can handle up to 8,000 particles without slowdown.  <br></div><br><br>Good to hear, is it free?<br><br><div class="quote"> He means the smoke is being drawn over the fire <br></div><br><br>I was looking at a candle a week back, and also looking at a bit of trash burning we had going on thursday and in most cases the smoke isn't actually visible until a bit above the flame.  Only in huge blazes is the smoke pouring out at the base of the flame.<br><br>Just my observations though.  You are right though, it can be changed by the user to suite. <br><br></td></tr></table><br>
<a name="518226"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DH</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Stupid forums..... and it's slowness... <br><br></td></tr></table><br>
<a name="518269"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I suppose the more speed you can get from these things the better :o) But, the overdraw is probably what kills the frame rate when there are that many particles on screen. I don't really imagine a game needing that many particles.<br><br>In saying that though, if you can get 500 odd on screen, but quickier than other particle system, than it's def worth it :o) We should do a test between all particle system, see which on is fastest. Your method certain seems a good way to speed things up ;) <br><br></td></tr></table><br>
<a name="518273"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DH</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> In saying that though, if you can get 500 odd on screen, but quickier than other particle system, than it's def worth it :o) We should do a test between all particle system, see which on is fastest. Your method certain seems a good way to speed things up ;)  <br></div><br><br>Same thoughts as I had.  I began this on trying to find a quicker way to do sprites for the tree system that way I could spend more time in other areas (process-wise) rather then bog down the screen for a few trees (50 to be specific) and still have to render terrains, grass, buildings, animated objects,etc.<br><br>Thanks for the compliment though.  I haven't had a chance to test Noel's yet to see if it lives up to what he boasts yet.  Although if it does, then by all means his is fastest. <br><br></td></tr></table><br>
<a name="518285"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rottbott</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> How does it compare to RottParticles? I can get many thousands of particles with RP without slowdown. Probably not 8,000 though. <br><br></td></tr></table><br>
<a name="518287"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rook Zimbabwe</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> only 50 trees bog down your screen??? What LOD??? I use ROTTparticles for all I need. I think I have had about 3000- 4000 on the screen at once (based on number of emitters possible to kill at once and their emissions) with no real slowup.<br><br>Are you cleaning up after your particle party??? :) Clearworld() does wonders!!! <br><br></td></tr></table><br>
<a name="518294"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't think there's any question that we're ALL interested in a very fast particle engine.<br><br>My own area of interest though is outdoors, which you seem to be doing a lot of work on, yourself.<br><br>Will your system have the capability for trees/foliage?<br>I can't tell from your website whether your trees are single plane.<br>Personally I'd like each tree to have a minimum of 3 planes, in case the user gets close.<br>Would that be possible within a particle system, so hundreds of trees could be achieved? <br><br></td></tr></table><br>
<a name="518309"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> The main speed gain in this comes from blitz automatically rotating the quads to face the camera, so less processing power required, as you don't need to access the vertices as much, as each quad is created facing the camera. You only need to move it to its desired position. <br><br></td></tr></table><br>
<a name="518358"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, Darky, it is free.<br><br><a href="http://www.blitzbasic.com/toolbox/toolbox.php?tool=113" target="_blank">http://www.blitzbasic.com/toolbox/toolbox.php?tool=113</a> <br><br></td></tr></table><br>
<a name="518442"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DH</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> only 50 trees bog down your screen??? What LOD??? <br></div><br><br>What?  no!  I can get 15,000 trees on the scene before the fps starts to drop.  As for LOD, there is a BSP style tree for zones which control the LOD.<br><br>The trees are similar to speedtree.<br><br><div class="quote"> Will your system have the capability for trees/foliage <br></div><br><br>That is what this work is for.  I am trying to create the most realistic outdoor feel as possible, yet have to ability to do a forest as well (huge forest).  The particles were merely an offshoot of the tree system using teh camera displacement.<br><br><div class="quote"> Personally I'd like each tree to have a minimum of 3 planes, in case the user gets close. <br></div><br><br>How about the trunk, animated,  along with 100 leaf bundles, each rotating to the wind (sort of a pendilum swing), X 15,000 more as far as the eye can see!<br><br>Like I said, I am trying to emulate speedtree.<br><br><div class="quote"> I can't tell from your website whether your trees are single plane. <br></div><br><br>Wow, I forgot I had those outdoor tests on there.  those trees are not even close to the end result of this system.  They were merely place holders as i was trying to get an outdoor feel with lighting, flares, sunsets, etc.<br><br><div class="quote"> Would that be possible within a particle system, so hundreds of trees could be achieved?  <br></div><br>How about 15,000?  The particle system was merely a spinoff of the tree system.  <br><br><div class="quote"> How does it compare to RottParticles? I can get many thousands of particles with RP without slowdown. Probably not 8,000 though. <br></div><br><br>With the demo above, at 800,600 full screen, placing candle objects like mad on a geforce4200 with a P4 2.4 I can get 11,373 at a steady 30 fps.  The candle is a one flame type of particle and a smoke type of particle (2 emitters). <br><br></td></tr></table><br>
<a name="518482"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Comparing speeds of different particle systems is all fine and good but at least do so on equivalent machines.  Simply stating that I can get x-thousand/hundred particles running on a system with 'no slowdown' is meaningless without knowing what hardware is being used. <br><br></td></tr></table><br>
<a name="518685"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cobblers to speed.<br>"How about 15,000? The particle system was merely a spinoff of the tree system."<br>That's what I need. Well, maybe not 15,000. But a few hundred.<br>When will your system be ready? <br><br></td></tr></table><br>
<a name="518693"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Pickford</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> My Dad is bigger than your Dad. <br><br></td></tr></table><br>
<a name="518703"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Software Horizons</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> The problem I've always had with particles is the size rather than the number of them (at least with particle candy). When the particles are close to the camera and fill the screen I get a large slow down, though I think this is only when they have textures with alpha transparency. Does anyone have any ideas on how that can be avoided or have a system that isn't affected by this? <br><br></td></tr></table><br>
<a name="518728"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Horizons: It's unavoidable. <br><br></td></tr></table><br>
<a name="518893"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DH</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> The problem I've always had with particles is the size rather than the number of them (at least with particle candy). When the particles are close to the camera and fill the screen I get a large slow down, though I think this is only when they have textures with alpha transparency. Does anyone have any ideas on how that can be avoided or have a system that isn't affected by this? <br> <br></div><br><br>Yeah, there isn't much you can do about that.  I found the same.<br><br>I have found that the larger the partciles and the closer you are to them bogs things down.  I haven't found a way around it since it has to do with the fill rate.<br><br><br><div class="quote"> That's what I need. Well, maybe not 15,000. But a few hundred.<br>When will your system be ready?  <br></div><br><br>Same here, a few hundred is all I wanted.  But I want the most processing I can to go to other things rather then just to doing trees.  <br><br>As for when the system will be ready, I am still unsure.  I am not much of an artist when it comes down to it, so doing a variety of trunks and leaf bundles isn't my strong point and may take a bit to get to look correct.  I will keep you posted though.<br><br>The tree system does need to be re-written currently.  It was merely a rough draft for testing at the moment.  It currently has a zone based lod system (setup a grid of zones, place a tree and it will up it into a zone, if its withing the lod distance it will show an lod of that tree, if it's closer it will show the actual tree and animate it, if it's further then the zone tollerances it will hide it all together). <br><br></td></tr></table><br>
<a name="519020"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> "I am not much of an artist when it comes down to it, so doing a variety of trunks and leaf bundles isn't my strong point and may take a bit to get to look correct."<br><br>- Don't worry too much about that, I have loads of tree and trunk textures just waitinmg to be used.<br>I just need an easy system, so _I_ don't have to write one myself!<br><br>Don't want to make you scream, but what's the chance of a tiny amount of animation on trees and grass, enough to make them 'sway in the wind'. Is that possible with this kind of system? <br><br></td></tr></table><br>
<a name="519083"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DH</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Don't want to make you scream, but what's the chance of a tiny amount of animation on trees and grass, enough to make them 'sway in the wind'. Is that possible with this kind of system?  <br></div><br><br>Completely possible, and also my intent (we seem to be aiming towords the same thing here).<br><br>The trunks at close range are merely models, and could be loaded via animmesh.  All I (we) would have to do is change the leave positions stored in the tree structure to be the positions of the bones (or relative positions to that bone whever it may be in animation).   The leaves can have a pendelum type of motion by rotating the leaf texture.  For more variety, I can use multiple surfaces (randomizing between the surfaces for leaf assignment) and simply rotating the different textures at varrying speeds/degrees.<br><br>It's all possible, it's just going to be a bit of time.  bare with me :-) <br><br></td></tr></table><br>
<a name="519164"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> What? All that, and they can sway in the breeze as well?<br><br>I think I should say that I'm prepared to pay for such a system (if that helps with the motivation).<br><br>As I said, don't worry about the textures, just give away a couple of trunks and a couple of leaf textures to get new users started, then let them find their own (not too difficult with a web-search, as I did).<br><br>A fast particle system that can also handle trees and grass?<br>This has to be one of the major hurdles in completing my engine.<br><br>Please let me know if there's anything I can do to help.<br>(...coding - unlikely to match yours; working at that level gives me a headache. Textures - just ask.) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
