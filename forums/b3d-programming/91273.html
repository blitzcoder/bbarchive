<!DOCTYPE html><html lang="en" ><head ><title >Prevention of Intersection</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Prevention of Intersection</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Prevention of Intersection</a><br><br>
<a name="1038696"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ClayPigeon</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm working on an FPS in which the current level can be changed during gameplay. When the level is changed, nothing changes except the level mesh, and the player's position stays the same. If there is something inside the player in the second level that's not in the first (e.g. the ground is higher) the player will no longer be on the ground and plummet to their doom. I need some way to be able to prevent this whether it's to bump the player away from the obstacle upon switching levels, or checking for a collision and not allowing the player to even switch if there is. This is a hard problem to solve. I might even have to go to the extreme of having to replace the character at the beginning of the level each time, which I am very reluctant to do. Any ideas?? <br><br></td></tr></table><br>
<a name="1038701"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Whats My Face</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would try placing pivots evenly at safe areas throughout the levels. Then when a new level is loaded just quickly check which pivot the player is closest to and then you don't have to worry about the ground being higher because he'll just be moved to the nearest workable location. By the way, why would you want to start a player half way through a level? <br><br></td></tr></table><br>
<a name="1038702"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shambler</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do a linepick from a very high position to a very low one through the players position ( to cope with any possible terrain height ).<br><br>Once you know the height of the terrain in the next level you can reposition the player.<br><br>If the player collides with something in the new level I would move them away from it or teleport them nearby. <br><br></td></tr></table><br>
<a name="1038724"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ClayPigeon</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Whats My Face: It's a sort of time travel thing - there are separate versions for different times. Don't you think it would get a little tedious placing all those pivots?<br><br>@Shambler: What if the player's in a tunnel or a building? Also I'm not sure how Blitz detects collisions, but I do know that when the player is intersecting with something, it doesn't return a single collision. That I found to be a little strange.. <br><br></td></tr></table><br>
<a name="1038743"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MusicianKool</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> you could load all the meshes at ounce, and hide all but the one your on,  create a pivot that traverses each mesh with the player, then when you need to switch meshes, just position the player and camera to that mesh and un-hide it and hide the original.<br><br>or make each mesh with the same starting vertex point and dimensions so that when you load the other mesh the player ends up in the same spot just in a different mesh. <br><br></td></tr></table><br>
<a name="1038753"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ClayPigeon</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wait, are you saying create separate pivots that are affected by all of the meshes, or.. what? I'm not sure I understand what you're saying. <br><br></td></tr></table><br>
<a name="1038799"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Whats My Face</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK, how 'bout this? Kind of like what I think MusicianKool said, you place all the levels on the same x,z plane but offset the y. Create a pivot for each level. When the player presses a button move all the pivots accordingly, or if there is a lot of platforming involved just make the pivot try and go to the position where the pivot you are currently working with is. Collisions will prevent the non-active pivots from going outside the level. When you want to change a level just move the player to the correct pivot. <br><br></td></tr></table><br>
<a name="1038841"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ClayPigeon</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I see. That's a good idea. But, if I was having the pivots go to the player's position relative to their own level, couldn't they get stuck in a corner or something? <br><br></td></tr></table><br>
<a name="1041781"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think the suggestion was to use pivots to place the Player at the right heiight or away from any other objects.<br><br>If you know the levvel meshes, and where objects are placed, then there asshouldn't be a need for this as the level mesh itself would be placed at the right place and spawned objects in a new level should not be placed at the player's position.<br><br>Might be best to work from this angle instead, and arrange the position of the new level and spawned entities with respect to the player position rather than the other way round... <br><br></td></tr></table><br>
<a name="1041784"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drak</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why not simplify the process and only have the time change possible at certain locations?  That way you can make sure the different levels won't interfere with the character at those locations. <br><br></td></tr></table><br>
<a name="1041789"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ClayPigeon</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Malice: I don't think you realize how my game works. I'm having the player travel to another version of the level (in the past or future) and where the player is might have something that wasn't there in the past (such as a hill or a building). I'll make sure that there's nothing colliding where the player starts in each level, though.<br><br>@Drak: I thought about that, but Blitz's collisions use polygons, and if the player is completely and fully inside the obstacle, with no polygons colliding it will return no collision. Unless you're saying to set specific locations where the player can time travel. That might work, but that would take forever to place all the pivots for the locations, and might confuse the player when they can't time travel for no apparent reason. <br><br></td></tr></table><br>
<a name="1041794"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warner</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> First, would they need to be actual pivots? Maybe a database with positions would be sufficient. And maybe this list/these pivots can be automatically generated by a separate parsing program?<br>Second, perhaps don't disallow any invalid transitions, but transite to a nearby valid location instead.<br>I was thinking of this (2d) game, also something with time travel, but solved in a different way:<br><a href="http://www.kongregate.com/games/rujo/james-replay-egp-edition" target="_blank">http://www.kongregate.com/games/rujo/james-replay-egp-edition</a> <br><br></td></tr></table><br>
<a name="1041801"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ClayPigeon</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> That sounds like a plausible solution. I'd like to try it, but I don't have the program with me right now. I'll let you know if it works! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
