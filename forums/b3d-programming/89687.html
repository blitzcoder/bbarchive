<!DOCTYPE html><html lang="en" ><head ><title >AddMesh - remove mesh</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >AddMesh - remove mesh</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >AddMesh - remove mesh</a><br><br>
<a name="1018934"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >groovylime</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm hoping you guys can help me out...<br>Imagine a wall built with cubes.  I want to be able to remove cubes from the wall during game play.  This is simple if I have each cube as an entity... just use FreeEntity on the cube.<br>Of course the problem with this approach is that if the wall is large, ie. many entities, this will be too slow during game play. <br><br>I'm thinking that the wall should be a single mesh, made up of the cubes each added using AddMesh.  This has much lower overhead, so is more efficient, but I need to have a way of removing a cube from the mesh wall.  Each cube mesh on its own is a single surface, and when it's added to the wall mesh, its surface is melded with the wall surface without an increase to the wall's surface count.  <br>If it was added as a new surface then I could use the GetSurface function to target the Cube, then use the ClearSurface function to remove it.<br>I don't want to have to regenerate the entire wall just to be able to remove a cube.<br><br>Any ideas?<br>It seems like such a basic problem. <br><br></td></tr></table><br>
<a name="1018942"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You'll have to rebuild the entire mesh if your removing triangles. The only other way is to make sure the walls vertices are not shared and then use vertexcolor to apply alpha to all those wall vertices <br><br></td></tr></table><br>
<a name="1018955"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PowerPC603</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can also move the vertices way out of the playfield to remove a cube.<br><br>I tried a similar approach for my Arkanoid3D game.<br>All the blocks were added into one big mesh.<br>When the ball has hit one block, the block needs to be destroyed.<br>I simply used types to hold the indexes of the vertices that represented the block and moved them all way out of the playfield (to coords -5000, 0, 0) using VertexCoords.<br><br>I moved all the vertices of that block to the same coordinates (-5000, 0, 0).<br><br>Then you don't have to rebuild your entire mesh without the vertices and triangles for removing just one block.<br>Simply reposition the vertices and the triangles move with them automatically.<br><br>NOTE: I had to drop this idea as I was checking for collisions on this big mesh and collision-processing was too slow (the big mesh had over 10.000 triangles on some levels with lots of blocks).<br>For every collision (ball to big mesh), I needed to figure out which triangle was hit to identify which block was actually hit, before I could move the vertices.<br><br><br><br>Or, like Ross said, if all your cubes have their own vertices, make those vertices invisible (alpha'd). <br><br></td></tr></table><br>
<a name="1018966"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >groovylime</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the feedback guys!<br>I think this solves my problem.... instead of trying to target the surface of the cube to remove, I go down to the verticies level and target them.. moving them out of the wall moves the cube out.<br>I just need to keep track of the index of each vertex when I add the cube mesh.<br>Thanks for your help!<br><br>If anyone has a better idea, this thread is still open. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
