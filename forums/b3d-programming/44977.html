<!DOCTYPE html><html lang="en" ><head ><title >90 degrees angles</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >90 degrees angles</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >90 degrees angles</a><br><br>
<a name="500273"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Luke.H</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I need to save the rotation of objects in a program I am using. If any one knows how to get the true Pitch, Yaw, Roll of the cube at 90 degrees angles it would be helpful.<br><br><br><br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">

Graphics3D 640,480
SetBuffer BackBuffer()

Cam=CreateCamera()
MoveEntity Cam,0,0,-5

Cone=CreateCube()

Yaw#=0

While Not KeyDown(1)

Cls

Yaw#=Yaw#+1
If Yaw#&gt;180 Then Yaw#=Yaw#-360

RotateEntity Cone,0,0,0,1

TurnEntity Cone,90,Yaw#,0

If KeyDown(28) Then;---How do I make this not change the cube's angle?---
	RotateEntity Cone,EntityPitch#(Cone,1),EntityYaw#(Cone,1),EntityRoll#(Cone,1),1
End If

RenderWorld()
Text 10,10,"Press Enter"
Text 10,20,Yaw#

Text 10,40,EntityPitch#(Cone,1)
Text 10,50,EntityYaw#(Cone,1)
Text 10,60,EntityRoll#(Cone,1)

Flip
Wend

</textarea> <br><br></td></tr></table><br>
<a name="500281"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have no idea what you're trying to do. <br><br></td></tr></table><br>
<a name="500284"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Luke.H</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> See when you press Enter the cube's angle changes, I want to rotate the entity without changing the cube's angle.<br><br>I know it is to do with 90 degrees angles. <br><br></td></tr></table><br>
<a name="500298"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Luke.H</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does any one know want I mean? <br><br></td></tr></table><br>
<a name="500340"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Andy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> It sounds like you want angles in 360 degrees Instead of +-180 and +-90.<br><br>Is that it?<br><br>Andy <br><br></td></tr></table><br>
<a name="500345"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rook Zimbabwe</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do you mean this:<br><pre class=code>
If KeyDown(200)= true Then ; UP ARROW
j=j+1	
RotateEntity Cone,j,0,0
End If

If KeyDown(208)= true Then ; DOWN ARROW
j=j-1	
RotateEntity Cone,j,0,0
End If

If KeyDown(203)= true Then ; LEFT ARROW
j=j+1	
RotateEntity Cone,0,j,0
End If

If KeyDown(205)= true Then ; RIGHT ARROW
j=j-1	
RotateEntity Cone,0,j,0
End If

</pre>It is a sloppy hack BUT what you are really referring to are called Euler Angles... Blitz uses them to simulate rotation. Try that and see... <br><br></td></tr></table><br>
<a name="500370"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you want to rotate it in 90 degree angles, why not just..<br><br><pre class=code>

RotateEntity Cone,EntityPitch(cone,true)+90 , EntityYaw(cone,true) , EntityRoll(cone,true) , true

</pre><br><br>If you use turnentity, it uses the entities local axis. So, by using rotateentity as above, you can rotate it without knowing the current rotation values :o) Hope that helps. <br><br></td></tr></table><br>
<a name="500379"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DJWoodgate</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cough.  He wants to save the rotations.  It is the gimbal lock problem.<br><br><pre class=code>
If KeyDown(28) Then;---How do I make this not change the cube's angle?---
	gpitch#=EntityPitch(cone,1)
	If Abs(EntityPitch(cone,1))&gt;89.98 Then
		TurnEntity cone,90,0,0,1
		gyaw#=EntityYaw(cone,1)
		groll#=EntityRoll(cone,1)
		TurnEntity cone,-90,0,0,1
	Else
		gyaw#=EntityYaw(cone,1)
		groll#=EntityRoll(cone,1)
	EndIf

	RotateEntity Cone,gpitch,gyaw,groll
End If
</pre><br><br>Note however my understanding is that at -90 and 90 pitch,  yaw and roll are combined, so you will never get them back separately but the effect of applying these values should be the same.  Well it seems to work above anyway, but I have not tested it properly.  Fredborg posted some functions here<br>www.blitzbasic.com/Community/posts.php?topic=31781 <br>to get global pitch yaw and roll in these circumstances, and they may be more suitable as they use a temporary pivot and will not disturb the original entity. <br><br></td></tr></table><br>
<a name="500388"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> You should get something for that cough ;)<br><br><img src="http://www.expresschemist.com/pics/products/2304/2/Beechams_Veno_s_Cough_Mixture_100ml.jpg"> <br><br></td></tr></table><br>
<a name="500429"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rook Zimbabwe</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I suspect he is trying to do a dice game... You know... final dice position etc... I have these for a dice I created in RHINO. I had to create an animation of a roll/toss though...<br><br><pre class=code>
; DICE 1
If dice1=1 Then xs#=90 : ys#=0 : zs#=0 
If dice1=2 Then xs#=180 : ys#=0 : zs#=0
If dice1=3 Then xs#=0 : ys#=0 : zs#=90 
If dice1=4 Then xs#=180 : ys#=0 : zs#=90
If dice1=5 Then xs#=0 : ys#=90 : zs#=0
If dice1=6 Then xs#=270: ys#=0 : zs#=0
</pre><br>Probably not incredibly accurate since it was my second game ever in Blitz 3d. If that helps<br>RZ <br><br></td></tr></table><br>
<a name="500519"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Luke.H</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, thank you DJWoodgate,<br>Sorry everyonne trying to guess what I want. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
