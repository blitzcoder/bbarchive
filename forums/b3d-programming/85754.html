<!DOCTYPE html><html lang="en" ><head ><title >PlayMusic - what the..</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >PlayMusic - what the..</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >PlayMusic - what the..</a><br><br>
<a name="970694"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Recently I decided to use PlayMusic for a System that is too complex to preload and PlaySound all sounds. Since the sounds are not loaded as 3D sounds I was really surprised when I realized whenever I PlayMusic a sound, there will be a 3D sound, positioned at the current listeners location, so when I make a step to the side when a sound is played this way, then the sound comes from a 3D location at the players side.<br><br>Is this only me, or are there any other people with the same problem? <br><br></td></tr></table><br>
<a name="970738"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Weeeeeeeeeeeeeeeeeeeirrrd....<br><br>I assume, then that you have 3D sounds i use already. I imagine if having a Listener in efect "Activates 3D sound mode" (probably trigers something Direct-X-ified ?"<br>It would seem likely, if this is the case, that to assume a position to play the sound from as it's played direct from the disk, the listeners' position at that time is ideal.<br><br>I may be completely wrong of course.<br><br>Do you have EAX enabled or anything normally? <br><br></td></tr></table><br>
<a name="971120"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is what I thought too. I only wonder is this something special on my machine, or does it happen on all machines?<br><br>Could somebody please test it? Just create a 3d scene, a listener, then playmusic a sound while the camera moves. <br><br></td></tr></table><br>
<a name="971128"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warner</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I agree with the theory. I can't try it on this machine, but I wonder why would you create a listener that is not the camera? <br><br></td></tr></table><br>
<a name="971326"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Did I ? The code seems to be ok. It's really like loading 2d and hearing 3d sound. Maybe that is an undocumented feature of PlayMusic.<br>ed: Seems like this is known since 2007 (Bug Report). At least on version 1.98. Gotta try it with 1.01. <br><br></td></tr></table><br>
<a name="972647"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, this is a known bug and there is also a further problem with playmusic since it doesn't close a handle, and only 500 handles can be open for a win process like our exe. So after playing 500 sounds with PlayMusic no further file etc. handles could be opened - I really tested it, after 500 sounds it simply doesn't load anymore. No MAV, but as good as it.<br><br>Especially interactive Soundsystems, eg. speech output in AI or Dialog Systems etc. shouldn't use it. but it's pretty simple to write a replacement using Loadsound. Just write the handles and channels of the sounds to a stack, then frequently check if a channel is still playing, if it doesn't then remove the sound from memory and stack list.<br><br>It doesn't really stream the Music, as PlayMusic claimes to do, but at least it's a "fire and forget" substitute System. <br><br></td></tr></table><br>
<a name="972654"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> If PlayMusic maintains handles and therefore I imagine, some memory usage, then it makes the command pretty much useless in comparison to PlaySound, the only advantage that it did have, to me, was that it wasn't necessary to retain the sound info in memory.<br><br>So PlaySound introduces a little bit more management, but it has much better control and functionality anyway. <br><br></td></tr></table><br>
<a name="972880"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Exactly. And to write a little Garbage collection that frequently removes sounds that aren't playing anymore took me only a few minutes. <br><br></td></tr></table><br>
<a name="972899"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SLotman</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Forget PlayMusic... use my MCI libraries, they work like a charm and files are streamed from disc. <br><br></td></tr></table><br>
<a name="972993"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WERDNA</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> 3D sounds give you nothing but problems.<br>I had 3D sounds enabled for Robo Attack3D, and suddenly would get<br>an error if I tried to use playmusic on my .mod files.<br>I could play my first .mod file just fine, but after that if I tried to pause<br>it, stop it, or play another .mod file, then I would get an error and my<br>game would crash.<br>And it was caused by using Load3DSound. Getting rid if, would fix all<br>my problems.<br>I finally fixed it byt converting all my .mod files to .wav files, and using<br>load and play sound instead of playmusic.<br><br>So I agree with SLotman. Ditch playmusic. Stick with Playsound.<br><br>Good luck getting this fixed!<br><br>WERDNA <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
