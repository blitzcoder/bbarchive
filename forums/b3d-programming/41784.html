<!DOCTYPE html><html lang="en" ><head ><title >Multi Renders and Lights</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Multi Renders and Lights</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Multi Renders and Lights</a><br><br>
<a name="468954"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drey</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> The questions are down below if u don't want to read this crap.<br><br><br>Alil background:<br>Ok i have few lighting questions.  I ideas on how to get them to work but i figure since u guys have been playing around with blitz3d for ages and I, a few months, that u'll probably have decovered something by now.<br><br>I know the hardware limitations is 8 max lights.  Well, that even wouldn't be a problem if i had more control over them.  The problem, u set a light, it becomes global..which is bad.  U see, i'm just guess from what i've seen on professional games, that lighting is a function call and probably something that just happens once u set it when u're working directly with DX.<br><br>Now there is software lighting, i've tested out many of them and they are all pretty slow. about 1 millisec to light a mesh with 300+ vertices isn't an option.  One big reason is that i have about 50,000 polygons on my screen now in my engine( for those who read my first post on here, yes, i'm still working on it :-D).  So now i'm working on tryin to get a local lighting system up, where there's probably a global directional light and then local spot and point lights everywere else on actors(not so much the map, that's what light mapping is for..something i'm working on).  <br><br>So now i'm thinking, hide entity might be an answer, then i reposition the lights and then render the entity.  That'll probably work...if it wasn't for render order.  <br><br>I read from halo's engine that he has multi render system that helps up the FPS.  But i think how i'm goin to make sure that when renderworld is called, that This entity might not overlap the entity infront of it.  If i create my own Z order system, i figured that would just be to slow and that's the the hardware is for.  Now i figured i might just have all other entitys around it become black during the render...then i might be able to use 2d draw commands to the back buffer with transparence on..again tho, now it's rendering extra crap and 2d commands are kinda slow :(<br><br><br>****Questions******<br>So now how do i make something multirender without worrying about improper Z order?<br><br>Is there a decent way around blitz3d's global lighting system( like a function call...maybe someone can make a sweet DX7 DLL with the lighting call in it..:-D )?<br><br>Is there a way to make a particular part of a texture uneffected by lighting wihtout using a new surface/mesh to overlay the orginal one effected by light? <br><br></td></tr></table><br>
<a name="469027"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, multipass with a unique lighting environment is the way to go for characters, etc. <br><br></td></tr></table><br>
<a name="469053"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drey</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Alright, how do u make sure i don't run into improper Z order? <br><br></td></tr></table><br>
<a name="469118"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just set CameraClsMode so it doesn't clear the z buffer (after the first pass). <br><br></td></tr></table><br>
<a name="469188"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drey</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> oh...thank you :-D.  U really just helped out alot sir.  I thank u for that. <br><br></td></tr></table><br>
<a name="469190"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drey</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> hey, how's your engine goin anyways? <br><br></td></tr></table><br>
<a name="469440"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Uber Lieutenant</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Attention everyone, I have bad news. halo's engine's plane crashed down over the English Channel an hour ago...no survivors. They're still looking for the black box. I'm sorry. <br><br></td></tr></table><br>
<a name="469461"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I use OpenGL and BlitzPlus.  It kicks ass.  I will crush everyone. <br><br></td></tr></table><br>
<a name="469611"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drey</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Only issue i'm having still is the Z buffer order.  I turn it off and stuff just gets wild.  The lighting idea is working tho, i have 100 ghost lights and 100 meshes.  It relocates the light, changes the color and everything.  I just can't get the Z order thing down yet.  <br><br>Halo, how did u get the entitys in the Z buffer if they are all hidden? <br><br></td></tr></table><br>
<a name="469683"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Remember to reset the cameraclsmode when your doing the very first render, each loop, back it's default settings :) <br><br></td></tr></table><br>
<a name="469790"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drey</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> i tried that tho, i had renderworld as a Z buffer forcer.  Then i set the cameraclsmode to false on color and z buffer.  <br><br>Basicly kinda like this<br><br>Main Loop:<br>{<br>   CameraclsMode Cam, 0, 1<br><br>   REnderworld() ;every entity is hidden...the part i<br>   think i'm having issues with.  But it's suppost to force<br>   objects into Z buffer...<br><br>   CameraclsMode Cam, 0,0<br><br>   Loop each EntityObject<br><br>     shows ONE entity<br>     Basicly shows needed lights<br>     Positions and Colors lights<br><br>     Rendeworld()<br><br>     Hide Lights<br>     Hide Entity<br>Next entity<br>}<br>end of Main Loop<br><br>What's wrong exactly?<br>The lighting is working, just the Z buffer isn't. <br><br></td></tr></table><br>
<a name="469793"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drey</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> haha, i got it...weird.  I thought i tried that before.  Thanks for all the help :-D <br><br></td></tr></table><br>
<a name="470033"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wayne</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> so was the above correct then ? <br><br></td></tr></table><br>
<a name="470041"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drey</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yea, i thought i did that before tho.  I program late tho, so sometimes i make stupid errors.  It's working tho.  I have 100 "lights" and one objects is alot to have 2 lights working on it at once right now.  The light max is a variable tho. <br><br></td></tr></table><br>
<a name="470063"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MadJack</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> 'I use OpenGL and BlitzPlus. It kicks ass. I will crush everyone. '<br><br>Jeez, who's been raiding the steroids cabinet? <br><br></td></tr></table><br>
<a name="470086"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drey</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> well, i hope he makes soemthing pretty good.  I want to see some solid games come out of blitz, not just tech demos.  Whatever it takes for him to make something sweet i guess. <br><br></td></tr></table><br>
<a name="470177"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kalisme</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> this all sounds really interesting... has anyone written a demo to show off this technology? if so... could someone direct me? <br><br></td></tr></table><br>
<a name="470216"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drey</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> u think i should but it in the code archives? <br><br></td></tr></table><br>
<a name="471024"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kalisme</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes, I think that would be great :) it would be very helpful <br><br></td></tr></table><br>
<a name="471202"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drey</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> There u go sir<br><br><a href="http://blitzbasic.com/codearcs/codearcs.php?code=1246" target="_blank">http://blitzbasic.com/codearcs/codearcs.php?code=1246</a> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
