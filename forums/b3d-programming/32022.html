<!DOCTYPE html><html lang="en" ><head ><title >Which is Faster?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Which is Faster?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Which is Faster?</a><br><br>
<a name="342425"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FBEpyon</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is using Types Faster than Arrays???<br><br>Im trying to make a new tile editor for a 2d game im working on but I have noticed that having a large amount of tiles slows blitz down alot,  Im using arrays I was thinking about changin to types for the tile info, but not sure how much faster it would be.. <br><br></td></tr></table><br>
<a name="342427"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >poopla</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> If anything is slowing you down it's displaying those tiles :). <br><br></td></tr></table><br>
<a name="342429"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not enough that they would make the difference you are probably hoping for.  Try looking at your code to see where major bottlenecks are. <br><br></td></tr></table><br>
<a name="342431"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Recently, I read (either here or at Blitzcoder) that arrays are apparantly faster than types. <br><br></td></tr></table><br>
<a name="342439"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah.make sure you are not drawing tiles that are off-screen.<br><br>BTW... whys this in 3d? <br><br></td></tr></table><br>
<a name="342448"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Orca</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> AFAIK,<br><pre class=code>
n=type\value
</pre><br><br>is slower then<br><pre class=code>
n=value(index)
;or
n=value[index]
</pre><br><br>I wouldn't worry about that though. Like ^they^ all said, clip your tiles. <br><br></td></tr></table><br>
<a name="342459"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eole</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually I'm working on QuadTree Terrain Mesh, and i can say that the array are more slower than the type for some operations, and if I need a array of type, I use a memory bank to stock then handle of the type  ...<br><br>Now I always use Handle and Objects commands when i use type, with this you don't need to uses for each ....<br><br><br>But It's not really the type or the array who slow down you editor, it s the number of tile. Blitz don't like to have a lot of thing  (mesh, sprite or other thing)to manage in memory that all.<br><br><br>Just try this: make a simple scence with 1 objects of 10000 Traingle, and an other with 5000 objects with 2 Triangles. <br><br></td></tr></table><br>
<a name="342482"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Orca</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Your right, I just tested.<br><br>I had to jack up the iterations really high to see a difference, and even then it was pretty miniscule.<br><br>*edit #1* hold that thought-- I just realized my test is way off.... re-editing after I fix it XD *edit*<br><br>*edit #2* NM, Fixed it- I was right. This test has arrays coming up faster then types, gonna give it one more go with winamp and crap all turned off *<br><br>test...<br><pre class=code>
Type blah
	Field value%
End Type
b.blah=New blah
Dim value(0)

iterations=100000000
;start test

Print "array access"
t=MilliSecs()
For i=0 To iterations
	n=value(0)
Next
t=MilliSecs()-t
Print t+" ms"
Print ""

Print "type access"
t=MilliSecs()
For i=0 To iterations
	n=b\value%
Next
t=MilliSecs()-t
Print t+" ms"
Print ""

Print "Press Any Key"
WaitKey
End
</pre><br><br>*edit #3* ya arrays slightly faster than types......man my brain is on vacation :) */edit* <br><br></td></tr></table><br>
<a name="342492"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >poopla</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's not enough to worry about.  You need to clean up your code. <br><br></td></tr></table><br>
<a name="342522"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eole</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes it's true, but you can't use an array like a type. An array store only 1 type variable, and in blitz you must fixe his size before to use it ... <br><br>When you acces at one Type, you have more 1 value, and you don't know the size <br><br></td></tr></table><br>
<a name="342523"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >poopla</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can redefine arrays. <br><br></td></tr></table><br>
<a name="342526"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eole</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> So look at this, it s real simulation of type by an array<br><br>Type blah<br>	Field value%<br>	Field value2$<br>End Type<br><br>Dim value(10000,10000)<br>Dim stringarray$(10000,10000)<br><br>Print "array access"<br>t=MilliSecs()<br>For i=0 To 10000<br>		n=value(i,j)<br>		tt$=stringarray$(i,j)<br>Next<br>t=MilliSecs()-t<br>Print t+" ms"<br>Print ""<br><br><br>; Creating the type<br>Print "Creating type"<br>For i=0 To 10000<br>b.blah=New blah<br>Next<br><br>Print "type access"<br>t=MilliSecs()<br>For  b.blah = Each blah<br>	n=b\value%<br>	tt$=b\value2$<br>Next<br>t=MilliSecs()-t<br>Print t+" ms"<br>Print ""<br><br>Print "Press Any Key"<br>WaitKey<br>End <br><br></td></tr></table><br>
<a name="342552"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >poopla</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm <br><br></td></tr></table><br>
<a name="342553"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >poopla</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
Type blah 
Field value% 
Field value2$ 
End Type 

Dim value(10000) 
Dim stringarray$(10000) 

Print "array access" 
t=MilliSecs() 
For i=0 To 10000 
n=value(i) 
tt$=stringarray$(i) 
Next 
t=MilliSecs()-t 
Print t+" ms" 
Print "" 


; Creating the type 
Print "Creating type" 
For i=0 To 10000 
b.blah=New blah 
Next 

Print "type access" 
t=MilliSecs() 
For b.blah = Each blah 
n=b\value% 
tt$=b\value2$ 
Next 
t=MilliSecs()-t 
Print t+" ms" 
Print "" 

Print "Press Any Key" 
WaitKey 
End 
</pre><br><br>Why create two arrays with 10000 elements per element in the first dimension when you only need 1.  That doesnt make for a very accurate test. <br><br></td></tr></table><br>
<a name="342555"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >poopla</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not only that but it takes forever and might not even work on some computers.   Thinking about it, that is jsut going to cause a huge pagefile thrashing since your basically requesting the computer open up WAY more memory then alot of systems are going to have for that in array(400 megs).  I dunno how that even works internally..... <br><br></td></tr></table><br>
<a name="342564"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eole</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I do this to have real compraison between Type and Array, because it s not the same thing.<br><br>How you can have this in an array<br><br>Type Player<br>   field name$<br>   field mesh<br>   field x#,y#,z#<br>end type<br><br>You can't, if you want to manage the player with array without type, you must have 5 arrays<br><br>dim player_name$( )<br>dim player_mesh( )<br>dim player_x( )<br>dim player_y( )<br>dim player_z( )<br><br>So this is why there was 2 arrays <br><br></td></tr></table><br>
<a name="342568"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >poopla</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> you need an array for string and one for float.  And you only need as meny elements in the second dimmension as your object has properties. <br><br></td></tr></table><br>
<a name="342599"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eole</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes you can, but in all case it s more slower <br><br></td></tr></table><br>
<a name="342635"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >poopla</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can use ANOTHER array for integers if your nit picking, but still... the speed gain is so tiny..  Did you even check mmy accurate test code.  Yours that I fixed? <br><br></td></tr></table><br>
<a name="342753"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> You can't, if you want to manage the player with array without type, you must have 5 arrays <br><br>dim player_name$( ) <br>dim player_mesh( ) <br>dim player_x( ) <br>dim player_y( ) <br>dim player_z( ) <br><br>So this is why there was 2 arrays <br></div><br>You don't need 5 arrays.  You only need 2 arrays.<br><br>Dim Player_Name$(amount)<br>Dim Player_Vars(amount, 3)<br><br>The second array is a two dimensional array.<br>Player_Vars(amount, 0) = mesh<br>Player_Vars(amount, 1) = x<br>Player_Vars(amount, 2) = y<br>Player_Vars(amount, 3) = z<br><br><br>or possibly 3 arrays<br><br>Dim Player_Name$(amount)<br>Dim Player_Mesh(amount)<br>Dim Player_Vars#(amount, 2)<br><br>The third array is a two dimensional float array.<br>Player_Vars#(amount, 0) = x<br>Player_Vars#(amount, 1) = y<br>Player_Vars#(amount, 2) = z <br><br></td></tr></table><br>
<a name="342800"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> See for your tile editor. Don't draw each tile every frame. Instead, draw the tiles to a large image, larger than the size of the screen.<br><br>When the image is close to scrolling out the screen, redraw the image, inside it's self (slightly offset off course), and draw the new tiles.<br><br><pre class=code>
SetBuffer ImageBuffer(large_image)
</pre><br><br>use that to select the imagebuffer to be drawn to. Draw the tiles. And only update the large image, when you need to. It's alot faster to draw one large image, then many small ones. Fastest way to do tilemaps in blitz me thinks. Thanks to Shagwana for this info. I'm now using this way on my current tile map system :) <br><br></td></tr></table><br>
<a name="342870"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FBEpyon</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> okay thanks for all the help..<br><br>as for teh imagebuffer idea Im already doing that..  and its give you a slight loading time..<br><br>and as for this being in Blitz3d chat thats what I own and thats what im using :P <br><br></td></tr></table><br>
<a name="344347"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AbbaRue</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you leaving Debug on. I found that debug mode really slows down 2d stuff. <br><br></td></tr></table><br>
<a name="344351"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >poopla</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've come up with an AMAZING new optimization I would like to share with all of you.... firstly the FASTEST method of storing data is to carry it written on a piece of paper with you, running (and this is important!) running, TOP... SPEED, down the highway toward the direction of the computer you are attempting to reach with the information.  Keep this up untill you reach that computer, then inform the occupants to do the same but to NOT return to computers they have passed.  Eventually all the people will die of fatigue and then no one will have to debate issues of speed.<br><br>I begin the revolution now. <br><br></td></tr></table><br>
<a name="344867"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Tried it, Shattered - but IMHO......rollerblades are still faster ;) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
