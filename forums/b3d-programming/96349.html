<!DOCTYPE html><html lang="en" ><head ><title >i hate math.</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >i hate math.</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >i hate math.</a><br><br>
<a name="1114841"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul "Taiphoz"</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
Graphics 640,480,0,2

r=50
g=201
b=156

rgb = r + (g*256) + (b*256*256)

Text 1,1,"RGB ="+rgb

nb= (rgb / (256*256))
ng= ((rgb - nb * 256 * 256) / 256)
nr= rgb - ((rgb - nb * 256 * 256) / 256)


Text 1,20,"r "+nr
Text 1,40,"g "+ng
Text 1,60,"b "+nb

Flip
WaitKey
</pre><br><br>What am I doing wrong with that nr line, cant seem to figure out , oh and i hate math I suck at it clearly lol. <br><br></td></tr></table><br>
<a name="1114843"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> What am I doing wrong <br></div><br><br>...to be blunt? Using +, -, * and / for filtering subvalues.<br><br>This is much, <i>much</i> easier if you just use And, Or, Shl and Shr, as the gods intended. If you don't yet understand these operators fully, see this thread for explanation: <a href="http://www.blitzbasic.com/Community/posts.php?topic=95654" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=95654</a><br><br>(TL;DR: "And" is a filter operator that extracts bit sequences, such as one of the colours; "Or" is a combination operator that glues them together; "Shl" and "Shr" do as the names suggest, moving bits left and right so they don't collide. "Math" is not required for this.) <br><br></td></tr></table><br>
<a name="1114845"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul "Taiphoz"</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I dont, and thanks for the link. <br><br></td></tr></table><br>
<a name="1114846"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul "Taiphoz"</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> nb = (rgb Shr 16) Mod 256<br>ng = (rgb Shr 8) Mod 256<br>nr = rgb Mod 256 <br><br>thanks m8, that link didnt help but the docs on Shl and Shr did. wouldnt have noticed them otherwise. <br><br>TA! <br><br></td></tr></table><br>
<a name="1114848"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Bit shifting is your friend. <br><br></td></tr></table><br>
<a name="1114863"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul "Taiphoz"</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm wondering where else I could use it now lol. <br><br></td></tr></table><br>
<a name="1115786"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ThePict</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I had problems using Int sized numbers. I was trying to use all 32 bits to compress a dictionary, and, in a way, encrypt it. But the 2^31st bit used as a positive/negative sign bit really screwed my code up. shl and shr helped but didn't solve my problem until I stopped using Int. <br><br></td></tr></table><br>
<a name="1115791"></a>

<a name="1115792"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> But the 2^31st bit used as a positive/negative sign bit really screwed my code up. shl and shr helped but didn't solve my problem <br></div><br><br>I don't really understand the nature of your problem (which I guess you didn't explain anyway), but if you use Sar instead of Shr it will fill the "blank" bits on the left with copies of the sign bit, which will make it work as you might expect if you were using it as a fast-divide operator (e.g. -8 <b>Shr</b> 1 = 2147483644, but -8 <b>Sar</b> 1 = -4).<br><br>For most binary operations (e.g. colour values) the values can be considered unsigned anyway, though. In these cases, Shr is much more useful.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1116005"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just as an additional tip, I noticed in your example, you used Mod 256 at the end. Whilst this should suffice for the actual situation, I would recommend, when considering bit flags to use binary operators to ensure restrictions keep the values are within boundaries:<br><br>i.e:<br><br>An example:<br><br>n=-8<br><br>n Mod 256 = -8<br>n And 255 = 248<br><br>The difference may not be significant in many cases, since -8 and 248 are equivalent as Bytes, but if you are performing other aroithmetic on values, the sign may be critical.<br><br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
nr = rgb And 255
ng = (rgb Shr 8) And 255
nb = (rgb Shr 16) And 255
</textarea><br><br>Also:<br><br>Whilst the particular RGB components may be suitable for reading certain file data, (in fact, I believe Windows uses this 32-Bit format for pixels), but, it might help to be aware that by default, Blitz' own RGB(a) values for WritePixelFast and ReadPixelFast are comprised of bytes in the opposite order to the above.<br><br>I always get confused personally with wich is which, but essentially, one way around is "BigEndian" the other is "LittleEndian" which refers to whether the Least Signifficant Byte (i.e 1-255 ) or Most Significant Byte (16777217...)is to the LEFT<br><br>To simplify:<br><br>If you wish to ue WritePixelFast or ReadPixelFast, you should use the following to obtain the Colour value from components:<br><br>(The a = Alpha channel)<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
((a% Shl 24) Or (R% Shl 16) Or (G% Shl 8) Or B%)
</textarea> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
