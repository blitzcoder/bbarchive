<!DOCTYPE html><html lang="en" ><head ><title >some addons for blitz3d</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >some addons for blitz3d</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >some addons for blitz3d</a><br><br>
<a name="1283887"></a>

<a name="1283888"></a>

<a name="1283930"></a>

<a name="1283932"></a>

<a name="1283933"></a>

<a name="1283934"></a>

<a name="1283935"></a>

<a name="1283936"></a>

<a name="1283937"></a>

<a name="1283938"></a>

<a name="1283959"></a>

<a name="1284055"></a>

<a name="1287561"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just for purpose, I rebuild the sources of blitz3d to add support for some missing getters (actually, I don't really know why thoose funcions were not on the "official" release, but whatever ... let's assume it wasn't mandatory)<br><br><u><b><a href="http://bybysait.free.fr/blitz3d/blitz3d_modifications.7z" target="_blank">Download modified sources only (in 7Z format) </a></b></u> (compressed with 7zip -&gt; 42 Ko)<br><br><u><b><a href="http://bybysait.free.fr/blitz3d/vB.003/vB.003.7z" target="_blank">Download vB.003 in 7Z format </a></b></u> (compressed with 7zip -&gt; 775 Ko)<br><br><u><b><a href="http://bybysait.free.fr/blitz3d/vB.003/vB.003.zip" target="_blank">Download vB.003 in Zip format</a></b></u> (if you can't decompress 7z files, here is the zip -&gt; 1.062 Mo)<br><br><br><br><br><u><b>how to instal :</b></u><br>1/ go to your blitz3d installation<br>2/ rename blitz3d.exe as blitz3d.back.exe<br>3/ rename the bin directory to bin.back<br>4/ rename the cfg directory to cfg.back (I modified the "theme" with my own color theme, which is more contrasted and ... IMO more attractive, but, it's not required to run this version of blitz3d, it's just a theme)<br>5/ Decompress the archive in your blitz3d folder<br>6/ run blitz3d as you did before.<br><br><br><br><br><br><br><u><b>GetBrush[]</b></u><br>-&gt; GetBrushBlend%(brush)<br>-&gt; GetBrushRed#(brush)<br>-&gt; GetBrushGreen#(brush)<br>-&gt; GetBrushBlue#(brush)<br>-&gt; GetBrushAlpha#(brush)<br>-&gt; GetBrushShininess#(brush)<br>-&gt; GetBrushFx%(brush)<br><br><br><u><b>GetVertex[]</b></u><br>-&gt; CountVertexBones%(surface, index); returns the bone count set on the specified vertex<br>-&gt; VertexBone%(surface, index, boneIndex); (boneindex in the range 0 to 3) -&gt; returns the bone Identifier from the surface bones list<br> (this is not really usefull as long as there is no function that require this bone index ATM)<br>-&gt; VertexWeight#(surface, index, boneIndex); //    //     -&gt; returns the rate the bone affect this vertex<br>// Thoose 3 functions below check is the entity has bones. If not, it returns the coordinates of the vertex in world space.<br>// Else, it returns the vertex coords multiply by the bones transforms.<br>// As long as the internal function is a bit maths intensive, it's not the fastest function in the world, but it should be faster than anything you might want to code in Blitz3D to get the same result. So, for what it is, it is IMHO the fastest function to get animated vertex coords. (but you can fill it's not ... then leave a comment, I'll be glad to discuss about that)<br>-&gt; VertexRiggedX#(mesh, surface, vertexIndex); returns the real coordinates of the vertex (support animation) /!\ returned coordinates are "world" coordinates.<br>-&gt; VertexRiggedY#(mesh, surface, vertexIndex);<br>-&gt; VertexRiggedZ#(mesh, surface, vertexIndex);<br><br><br><u><b>Setting bones:</b></u><br>-&gt; CreateBones(mesh); extract bones from current hierarchy of the specified mesh<br> you must create the hierarchy before using this function, else it won't do anything.<br>(see exemple below)<br>-&gt; setBone(surface, index, vertex_boneindex, hierarchy_boneindex [, weight#, normalize_weights%=0])<br> set the bone and weight of a vertex.<br> vertex_boneindex can be in the range [0,3], each vertex can support up to 4 bones, but remember that all bones set on a vertex won't be used until all previous boneindex are used. (it means that if I set a bone for index 2 and nothing for 0 and 1, the vertex won't be affected by this bone)<br><br><u><b>Rendering:</b></u><br>-&gt; RenderToTexture(texture [,frame=0] [,tween#=1.0])<br>render the world directly on the specified texture.<br>/!\ You need to use a texture created with CreateTexture with the flag 1024 to allow graphics to be drawn on the texture canvas ! <br><br><br>And that's all for the moment.<br><br><br><br><br><br><br>a blitz function to show how to use the vertex rigged coordinates :<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
; simple function to show a dot for each vertex of the mesh
; don't forget to use "UpdateWorld", else, there won't be "rigged animations".
Function PlotMeshVertices(camera, mesh)
	Local is, nbs = CountSurfaces(mesh);
	For is = 1 To nbs
		Local surf = GetSurface(mesh, is);
		Local nbv% = CountVertices(surf), v;
		For v = 0 To nbv-1
			CameraProject(camera, VertexRiggedX(mesh, surf, v), VertexRiggedY(mesh, surf, v), VertexRiggedZ(mesh, surf, v));
			Plot ProjectedX(), ProjectedY(); Plot the projected "world" vertex
		Next;
	Next
End Function
</textarea><br><br>; sample - rigg a mesh<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Graphics3D 1024,768,0,2
SetBuffer BackBuffer()

; camera
	Local player	=	CreatePivot		( );
	Local head		=	CreatePivot		( player );
	Local camera	=	CreateCamera	( head )
						MoveEntity		( camera	, 0,0,-3.5 );
						CameraRange		( camera	, .1,100 );


; - light ---------------------------------------------------------
						AmbientLight	( 010,015,020 );
						AmbientLight	( 000,000,000 );
	Local lightpiv1	=	CreatePivot		( );
	Local light1	=	CreateLight		( 2, lightpiv1 );
						LightRange		( light1, 10 );
						PositionEntity	( light1, +10,+10,-10 );
						LightColor		( light1, 255,050,000 );
	Local light2	=	CreateLight		( 2, lightpiv1 );
						LightRange		( light2, 10 );
						PositionEntity	( light2, +10,+10,+10 );
						LightColor		( light2, 000,100,255 );
	Local lightpiv2	=	CreatePivot		( );
	Local light3	=	CreateLight		( 2, lightpiv2 );
						LightRange		( light3, 15 );
						PositionEntity	( light3, +00,-10,+00 );
						LightColor		( light3, 050,200,050 );
	Local light4	=	CreateLight		( 2, lightpiv2 );
						LightRange		( light4, 10 );
						PositionEntity	( light4, -10,+00,+00 );
						LightColor		( light4, 255,180,050 );
					

; a sphere to rigg
	Local sphere	=	CreateSphere	( 64 );
						ScaleMesh		( sphere , 1,2,1 );
						EntityShininess	( sphere , 1 );
					
; create a bone hierarchy using blitz pivots (it also works with any entity ... light camera ... etc ...)
	Const NBBONES% = 6;
	Const stp# = Float(2)/NBBONES;
	Local Bones%[NBBONES]
		Bones[0]	=	CreatePivot		( sphere ) : PositionEntity Bones[0], 0,-1,0; first bone is at the bottom of the sphere
		Local id%=1
		For n# = -1+stp To 1 Step stp ; create bones everythin .25 units
			Bones[id]=	CreatePivot		( Bones[id-1] ) : PositionEntity Bones[id], 0,n,0
			id = id + 1;
		Next;
		DebugLog (id-1)+" bones";
	
; build bones from the sphere hierarchy
	CreateBones		( sphere );

; time to assign the bones to the vertices
	Local surf = GetSurface(sphere,1); by default, blitz spheres have only one surface
	For v = 0 To CountVertices(surf)-1
		Local bonecoef# = 1 + Float(id-2) * (MeshHeight(sphere)/2.0 + VertexY(surf,v))/MeshHeight(sphere)
		Local boneid1% = Floor (bonecoef);
		Local boneid2% = Ceil (bonecoef);
		Local w1# = 1.0-(bonecoef-boneid1);
		Local w2# = 1.0-(boneid2-bonecoef);
		; comment the next line for a linear interpolation (sharpen edges)
		w1 = w1 * w1 : w2 = w2 * w2;
		setBone (surf, v, 0, boneid1, w1, False );
		setBone (surf, v, 1, boneid2, w2, True );
		setBone (surf, v, 2, -1, 0);
	Next;

; set frames
	For frame# = 0 To 359
		For i# = 0 To id-1
			RotateEntity( bones[i], 0, 120 * Cos ( i *360/id + Float(frame) ), 0, 0 );
			ScaleEntity	( bones[i], 1.0+.2*Cos(frame+360*Cos(i*360/id)), 1, 1.0+.2*Sin(frame+360*Cos(i*360/id)), True );
			SetAnimKey	( bones[i], frame, False, True, True );
		Next;
	Next;
	
; we covered 360° using 360 frames. -&gt; Register the animation
	Local anim	=	AddAnimSeq ( sphere, 360 );

; play the animation.
	Animate			( sphere, 1, .5, anim, 0 );
					
	MouseXSpeed	( );
	MouseYSpeed	( );
	
	Local wire = False;

Repeat
	
	If KeyHit(59) Then wire =Not(wire) : WireFrame wire;
	
	For t = 1 To 4
		TurnEntity lightpiv1,1,.5,.3
		TurnEntity lightpiv2,-1,.5,-.3
	Next
	
	Local msx# = MouseXSpeed( );
	Local msy# = MouseYSpeed( );
	
	; rotate camera around the model
	If MouseDown(2)
		TurnEntity	( player	, 0,-msx,0 );
		TurnEntity	( head		, +msy,0,0 );
	EndIf;
	
	; mandatory if you want to see animation !
	UpdateWorld		( );
	RenderWorld		( );
	
	
	Text 10,10, TrisRendered();
	
	Flip			( True );
	
Until KeyDown(1);

End;
</textarea><br><br><br>Render To Texture sample<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Graphics3D 800,600,0,2
SetBuffer BackBuffer()


; - camera --------------------------------------------------------
Local player	=	CreatePivot		( );
Local head		=	CreatePivot		( player );
Local camera	=	CreateCamera	( head );
					MoveEntity		( camera	, 0,0,-4.5 );
					CameraRange		( camera	, .1,100 );
					CameraClsColor	( camera	, 20,40,80 );

; - light ---------------------------------------------------------
Local light		=	CreateLight		( 2 );
					LightRange		( light, 15 );
					PositionEntity	( light, 10,10,-10 );

; - small scene ---------------------------------------------------
Local scene		=	CreatePivot		( );
Local cube		=	CreateCube		( scene );
Local sphere	=	CreateSphere	( 8, scene );
					FitMesh			( sphere, -.5,1.5,-.5,1,1,1 );

; - texture for rendering -----------------------------------------
Local rendertex	=	CreateTexture	( 800,600, 1+16+32+256+1024 );

; - a quad to render the texture on screen ------------------------
Local renderquad=	CreateMesh		( camera );
	Local surf	=	CreateSurface	( renderquad );
	; setup the UVs to fit the real texture size on the camera viewport
	Local dh#	=	Float(GraphicsHeight())/GraphicsWidth();
	Local du0#	=	Float(0)/TextureWidth(rendertex);
	Local du1#	=	Float(GraphicsWidth()+1)/TextureWidth(rendertex);
	Local dv0#	=	Float(0)/TextureHeight(rendertex);
	Local dv1#	=	Float(GraphicsHeight()+1)/TextureHeight(rendertex);
					AddVertex		( surf, -1.0,+dh, 0, du0, dv0 );
					AddVertex		( surf, +1.0,+dh, 0, du1, dv0 );
					AddVertex		( surf, +1.0,-dh, 0, du1, dv1 );
					AddVertex		( surf, -1.0,-dh, 0, du0, dv1 );
					AddTriangle		( surf, 0,1,2 );
					AddTriangle		( surf, 0,2,3 );
					
					EntityFX		( renderquad, 1+8 );
					PositionEntity	( renderquad, 0,0,1 ); offset the quad at z=1 from camera

EntityTexture renderquad, rendertex


; - small demo loop -----------------------------------------------

MouseXSpeed	( );
MouseYSpeed	( );

Local r2t% = True;
Local wire% = False;

Local rendermode$[2]
rendermode[0] = "RenderWorld"
rendermode[1] = "RenderToTexture"

Repeat
	
	If KeyHit(60) Then wire = Not(wire):WireFrame wire;
	If KeyHit(59) Then r2t=Not(r2t);
	
	Local msx# = MouseXSpeed( );
	Local msy# = MouseYSpeed( );
	
	; rotate camera around the model (on right mouse down)
	If MouseDown(2)
		TurnEntity	( player	, 0,-msx,0 );
		TurnEntity	( head		, +msy,0,0 );
	EndIf;
	
	; render to texture
	If r2t
		
		; show the real scene to render (not the quad !)
		ShowEntity			( scene );
		HideEntity			( renderquad );
		
		; render to texture ^^
		RenderToTexture		( rendertex );
		
		; hide the scene and show the quad
		HideEntity			( scene );
		ShowEntity			( renderquad );
		
		; finally render the textured quad on the screen
		RenderWorld();
		
	Else
		
		; basic rendering using renderworld ...
		ShowEntity			( scene );
		HideEntity			( renderquad );
		RenderWorld();
		
	EndIf;
	
	Color 255,255,000
	Text 10,10, "Hit F1 to switch render mode"
	Text 10,25, "Current render method : "
	Color 000,255,255
	Text 10+StringWidth("Current render method : "),25,	rendermode[r2t]
	
	Color 255,255,000
	Text 10,40, "Wireframe (F2) : "+wire
	Flip (True);
	
Until KeyDown(1);
End;
</textarea><br><br><br><u><b>notes :</b></u> the new commands are highlighted, but not documented.<br>I won't comment the function, no need to ask me to, I don't need documentation, and the function are self-explained enough.<br>If anyone feel the needs of a documentation, feel free to propose one, I'll add it to the archive.<br><br>If you see bugs, let just post a comment with a code involving the error.<br>If you need a specific function, idem : post a comment, I'll see if I can/want to add it a publish a new release.<br><br>Of course, this is released free and "As is" ( = without any warranty) :)<br>If your machine burn, then ... post a comment ^_^<br><br>I can provide the source of the modification on demand.<br>If anyone wants to see, I'll post a zip of the modification.<br><br><br><br><br><br><br><u><b>[EDIT - 2015.12.02 23h56]</b></u><br>+ update vB.002<br> - add function CreateBones(mesh[,animlength=0])<br> - add function SetBone (surface, vertex_index, vertexboneindex, bone_index [, weight=1.0][, normalize_weight=0] )<br> - add sample for skinning a sphere and animate it.<br><br>+ update vB.003<br> - add function RenderToTexture(texture [, frame=0, tween#=1] ) <br><br></td></tr></table><br>
<a name="1283894"></a>

<a name="1283895"></a>

<a name="1283896"></a>

<a name="1283897"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> CountVertexBones%(surface, index)<br>VertexBone%(surface, index, boneIndex)<br>VertexWeight#(surface, index, boneIndex)<br>could be useful to analyze the joints ("bones") of a skeleton and the influences of some joints over some vertices, this may allow us to create a rigged skinned mesh with several parts in code... thanks ! :)<br><br>Now what is missing are functions to create joints ("bones") (some joints being childs of others joints), set influences ("weights") of some joints over some vertices... And have these joints compatible with the existing functions to create poses and to create animations with the poses... (SetAnimKey(), AddAnimSeq(), ExtractAnimSeq()) and with the existing functions to animate the joints (Animate())<br><br>But i would understand if you don't have time for this. Maybe later.<br><br>(i thought that you were not using Blitz3d anymore ?) <br><br></td></tr></table><br>
<a name="1283898"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I currently have already add the setBone function and I'm adding the addBone function to manually rigg models.<br>Just need some test before commiting the v1.002<br><br>Then, the next stuff could be a b3d export function (that fully support animation and bones) ...<br>But, I'm not sure to be brave enough this week (this month?) for this one ^_^<br><br>ps : I don't use Blitz3D at all, my blitzmax engine is so similar in syntax with blitz3d that there is nothing I can do with blitz3d I can't do with my engine, easier, faster and with shader support... and BTW, my engine already support natively the bone manipulation and have a b3d export function. All I do here, is almost just peek some of my engin code and translate it to the blitz3d sources. It's also the reason why it's easy enough for me to take a bit of time to update the sources.<br><br>But you know, I've been working on blitz3d for so many times that it's kind of my contribution, and since many people could really use thoose functions (that are really missing to enable user to manipulate bones) and since it could pass a long time before anyone publish an update, I can do it, so I do it :)<br><br>Simple as that. <br><br></td></tr></table><br>
<a name="1283899"></a>

<a name="1283955"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br> I've been working on blitz3d for so many times that it's kind of my contribution, and since many people could really use thoose functions, and since it could pass a long time before anyone publish an update, I can do it, so I do it<br> <br></div><br>And i am sure the blitz3d users will appreciate it :)<br><br>I also try to contribute when i can (at my level...) because i have been helped by others in the past (including by you).<br><br>(it seems that you are the last one standing from the ancient blitz3d forum ? Some of the others have moved to unity3d as i have seen...)<br><a href="https://www.youtube.com/watch?v=LiCFfDToc6Q" target="_blank">https://www.youtube.com/watch?v=LiCFfDToc6Q</a> :P <br><br></td></tr></table><br>
<a name="1283912"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Excellent Bobsait.  <br><br>I appreciate that this is probably never going to happen but I'd love to see a fast Render To Texture function in native Blitz3d.  Copyrect is dog slow. <br><br></td></tr></table><br>
<a name="1283931"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Update vB.002<br>the Links on the first post are updated. (I won't leave previous version, links will be replaced for each update)<br><br>@Stevie G:<br>It's a good thing to add. But (there always is a "but")<br>I'm not very familiar with dx7, I'm more an OpenGL user.<br>I'll try to find some doc covering the topic, but, for the moment, I have to say : I can't do that.<br>For the moment, I can modify the c++ sources related to hierarchy, getters, setters, and some maths, but not the graphics function. <br><br></td></tr></table><br>
<a name="1283956"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks ! I will do some tests in the day. <br><br></td></tr></table><br>
<a name="1283960"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> update vB.003<br>-&gt; RenterToTexture implemented.<br>Have fun ;)<br><br>For the next update, I'll add some more rendering functions<br>-&gt; RenderEntity(entity,camera=0,recursive=true)<br>-&gt; EntityToTexture(entity,texture,camera=0,recursive=true))<br>Because it makes the coe easier for multi-pass rendering<br>(else we have to deal with Hide/Show entity ... it's boring and unproductive) <br><br></td></tr></table><br>
<a name="1283970"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RupeB</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just wanted to pop in to tell what a great effort I think this is ! Blitz3D just grew ^ 10 times. Amazing work! <br><br></td></tr></table><br>
<a name="1283976"></a>

<a name="1283977"></a>

<a name="1283978"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> 1/ go to your blitz3d installation -&gt;ok<br>2/ rename blitz3d.exe as blitz3d.back.exe -&gt;ok<br>3/ rename the bin directory to bin.back -&gt;ok<br>4/ rename the cfg directory to cfg.back -&gt;ok<br>5/ Decompress the archive in your blitz3d folder -&gt;ok ("Blitz3D.exe" and "bin" and "cfg" and "versions.txt")<br>6/ run blitz3d as you did before -&gt;ok<br><br>But i have an error "toolbar bitmap failed to load!" <br><br></td></tr></table><br>
<a name="1283980"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I suppose that i have to copy paste the images and font of the old "cfg" directory to the new "cfg" directory ? <br><br></td></tr></table><br>
<a name="1283981"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I removed the bitmaps as long as they are distributed in the official package. I forgot to mention :)<br>Just get them from the "back" directory <br><br></td></tr></table><br>
<a name="1283982"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> It might be easier to not modify your original Blitz3D. Copy the entire installation to a new directory and then replace the relevant files in that.<br><br>Just remember to run the one you really want to use. In the past I've had multiple versions of Blitz3D and BlitzMax installed. I would sometimes forget which one I was dealing with. <br><br></td></tr></table><br>
<a name="1283996"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> update vB.003<br>-&gt; RenterToTexture implemented.<br>Have fun ;)<br><br>For the next update, I'll add some more rendering functions<br>-&gt; RenderEntity(entity,camera=0,recursive=true)<br>-&gt; EntityToTexture(entity,texture,camera=0,recursive=true))<br>Because it makes the coe easier for multi-pass rendering<br>(else we have to deal with Hide/Show entity ... it's boring and unproductive) <br> <br></div><br><br>That was quick!!  Impressive stuff.  <br><br>I hope you don't mind me asking some questions ..<br><br>What does the 'rendertotexture' actually render here?  Is it the same as renderworld(), but direct to the texturebuffer instead of the backbuffer? I assume that both buffers must be the same size?  <br><br>Normally when I do a copyrect from the backbuffer, I have the main camera's hidden using cameraprojmode = 0.  The size of the camera I want to render will normally be a power of 2 in size, 128x128 etc.. but smaller than the graphics width/height.  Remember textures round up to the nearest power on each axis when created.  I would then copy the result from the backbuffer() to a specific offset on the texture buffer (again a power of 2 in size), assuming the texture is larger than the camera rendering the scene.<br><br>I'm probably being selfish but it would be handy, and more versatile, if you could specify almost the same paramaters as copyrect:<br><br><div class="quote"> CopyRect src_x,src_y,src_width,src_height,dest_x,dest_y,[src_buffer],[dest_buffer] <br></div> <br><br>Which would translate to ...<br><br><div class="quote"> RenderToTexture src_x,src_y,src_width,src_height,dest_x,dest_y, texture,[Frame], [Tween#] <br></div><br><br>I appreciate that this would be alot more work but it's maybe something to consider in the future? <br><br></td></tr></table><br>
<a name="1283999"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rick Nasher</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Again: wauw! <br><br></td></tr></table><br>
<a name="1284010"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> About RenderToTexture :<br>What it does -&gt; internally : it sets the rendertarget to the texture then call renderworld and get back to the previous buffer<br>So, the scene is not shown on the screen but directly writen to the texture (it's as fast as a renderworld can be)<br>it copies the screen from the top-left corner regardless to any setup of your viewport "until texture.size" (of course it can't write outside the texture ^^, but it won't generate errors, it will just sort of skip the pixels that can't be rendered ... but you know, it's logical enough to not enter the details)<br><br>BTW, The texture can be larger or smaller than the viewport, it's up to you to setup the size of your texture, then you can render smaller resolution of your scene ... for blur effect or else (fake AA ?).<br><br><br>But ! there is a but (there is ALWAYS a but, sometimes it's a butt :) ) but this time it's a small one :<br>- render to texture make blitz3d a little bit less hardware-compatible as it does not work on all hardware. "But", the graphics cards that don't support it are actually pretty old (like ... graphics card sold before 2000), and thoose hardware already suffer from a bigger disease ... they almost all have a memory stick, or a processor or a motherboard ... that burnt and can't be replaced because no more sold, Anf for once in a lifetime, it's a good thing, because, we don't really need to care anymore about this guy that loved his gf mx-4000 with 32Mo Video Ram \o/ (ok, I loved it too ...)<br><br><br><div class="quote"> I'm probably being selfish but it would be handy, and more versatile, if you could specify almost the same paramaters as copyrect: <br></div><br>There is no need for extra parameters like you mention because everything is already under user control and already almost "copyrect-like" :<br>And to be true, it would make thoose control really complicate if we specify src/dest on the rendertotexture : the results would be almost impredictible and hard to understand<br>-&gt; you can use CameraViewport to specify the "src" parameters<br>-&gt; you can use both UVs of the render mesh and scaletexture/positiontexture/rotatetexture to control the output and in a certain way, the source position and size.<br>So, you have really all the control of the viewport easier and faster. <br><br></td></tr></table><br>
<a name="1284059"></a>

<a name="1284060"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> A multi-view sample for RenderToTexture<br>(like I said, just use the CameraViewport to set the Source position and size, the PositionTexture can fake the Dest position and size)<br><br>But according to the purpose of RenderToTexture, I'm going to add a parameter "Camera" to it, and only render the camera specified (or all cameras if "camera=0"). It will make things easier.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">

Const NVIEWSI%	=	10
Const NVIEWSJ%	=	7

Const TEX_RESW%	=	800
Const TEX_RESH%	=	600

Graphics3D TEX_RESW,TEX_RESH,0,2
SetBuffer BackBuffer()

AmbientLight 255,255,255

; render texture that cover 16* 128*128 views
Local render_texture = CreateTexture(TEX_RESW,TEX_RESH,1+256+1024);
Local rcam	=	CreateCamera	( );
				CameraRange		( rcam	, .1,2 );
Local quad	=	CreateMesh		( rcam );
Local surf	=	CreateSurface	( quad );
				Local u#	=	Float(GraphicsWidth()) / TextureWidth(render_texture);
				Local v#	=	Float(GraphicsHeight()) / TextureHeight(render_texture);
				Local dh#	=	Float(GraphicsHeight())/GraphicsWidth();
				AddVertex		( surf	, -1,+dh,1,0,0 );
				AddVertex		( surf	, +1,+dh,1,u,0 );
				AddVertex		( surf	, +1,-dh,1,u,v );
				AddVertex		( surf	, -1,-dh,1,0,v );
				AddTriangle		( surf	, 0,1,2 );
				AddTriangle		( surf	, 0,2,3 );
				EntityTexture	( quad	, render_texture );

Local views%[NVIEWSI*NVIEWSJ]
Local vw = TEX_RESW/NVIEWSI
Local vh = TEX_RESH/NVIEWSJ

For b = 0 To NVIEWSJ-1
For a = 0 To NVIEWSI-1
	Local i = a+b*NVIEWSI
	views[i]=	CreateCamera	( );
				CameraViewport	( views[i], a*vw,b*vh,vw,vh );
				CameraClsColor	( views[i], Rand(10,100), Rand(10,100), Rand(10,100) );
				HideEntity		( views[i] );
				
	Local obj=	CreateCone		( Rand(3,64), 1, views[i] );
				EntityColor		( obj	, Rand(100,255), Rand(100,255), Rand(100,255) );
				MoveEntity		( obj	, 0,0,3 );
Next;
Next;

Repeat
	; ------------------------------
	; render each view
	; ------------------------------
		
		; hide render camera (view-quad)
		HideEntity rcam
		
		; render views to render_texture
		Local tris = 0;
		For i = 0 To NVIEWSI*NVIEWSJ-1
			ShowEntity		( views[i] );
			RenderToTexture	( render_texture );
			HideEntity		( views[i] );
			tris = tris + TrisRendered();
		Next;
		
	; ------------------------------
	; render view-quad
	; ------------------------------
		
		ShowEntity			( rcam );
		RenderWorld			( );
		
		Text 10,10, tris;
		
		Flip				( True );
	
Until KeyDown(1)
End;
</textarea> <br><br></td></tr></table><br>
<a name="1284064"></a>

<a name="1284065"></a>

<a name="1284066"></a>

<a name="1284067"></a>

<a name="1284068"></a>

<a name="1284069"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello,<br><br>I am grateful for your contribution, but...<br>I have done some tests and i find the functions createsbones() and setBone() confusing... And the necessity to recreate a skeleton with pivots is unecessary work imo (when many of us will probably have premade skeletons and premade animations and premade skinned meshes)<br><br>So if you don't mind, i want to suggest others possibilities and functions for this system :<br><br>Have the possibility to load a premade skeleton with joints (bones) which already has premade animations.<br>Skeleton = loadanimmesh("skeleton.b3d") (a b3d file which contains a skeleton with joints (bones) and animations, each joint (bone) having a name)<br><br>Have the possibility to skin some premade skinned meshes on this skeleton :<br>PartMesh = loadAnimMesh("leg.b3d") (a b3d file which contains a skeleton with joints (bones) and a mesh with skinned vertices (some influences of some joints (bones) over some vertices) <br><br>to get the influences of some joints (bones) over some vertices, have these functions :<br>CountInfluences%(Surface,VId%) ;return the number of influences on this vertex (VId)<br>For IId% = 1 to InfluencesCount<br> GetInfluenceJoint%(Surface,VId%,IId%) ;return the joint reference of this influence (IId) on this vertex (VId)<br> GetInfluenceWeight#(Surface,VId%,IId%) ;return the weight of this influence (IId) on this vertex (VId)<br>Next<br><br>to set the influences of some joints (bones) over some vertices have these functions :<br>SetInfluencesCount(Surface,VId%,ICount%) ;set the number of influences on this vertex (VId)<br>For IId% = 1 to InfluencesCount<br> SetInfluenceJoint(Surface,VId%,IId%,Joint%) ;set the joint reference of this influence (IId) on this vertex (VId)<br> SetInfluenceWeight(Surface,VId%,IId%,Weight#) ;set the weight of this influence (IId) on this vertex (VId)<br>Next<br><br>(of course you can use the word "bone" instead of "joint" if you prefer...)<br><br>To animate, it is possible to extract the premade animations associated to the premade skeleton with ExtractAnimSeq(), and then to play the animation with Animate()<br><br>This would allow us to use one premade skeleton with joints (bones) and premade animations, then to load different premade skinned meshes (body parts, clothes, armors), then to analyze the vertices of these parts (including the influences) then to create a final mesh (with the influences) which can then be animated by the skeleton...<br><br>What do you think ? What others think ? <br><br></td></tr></table><br>
<a name="1284091"></a>

<a name="1284092"></a>

<a name="1284093"></a>

<a name="1284097"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think there is a misanderstood with createbones<br>The demo is just a demo, not "The way to use it"<br>The function rips the hierarchy of the mesh and generates bones from each children and sub-children.<br>It doesn't matter if it's pivots made in the code or a skeleton loaded from a b3d or else ... but for the demo, I had to go from scratch to build a hierarchy. So, if you have a premade skeleton, you just need to call the function, the skeleton will be transformed into bones.<br>I could name it GenerateBones or ExtractBones, but it's a function that was already in the official source, I just wrapped it to the IDE to be usable, so I left the same name for three reasons :<br>- When I saw it, I understood immediatly what it was about, so, for me and for M.Sibly it seems to be a perfect name for the function.<br>- I don't want to use too much of my own style to rename functions, because I want to keep the code standard and generic as much as possible<br>- I don't think I'm more relevant than M.Sibly could be, so if he decided to call it "CreateBones" I didn't feel I could really rename it to something else. And as French say "Rend à César, ce qui lui appartient" ;)<br>But essentially, in my opinion, it's mostly a matter of it must be generic enough to be included in the source. I want to keep the additional stuff as low-level as possible to fit any purpose.<br>And actually, both SetBone and createbones functions are perfect for that.<br>You have all the ability to make what you want as you have all access to all data required.<br><br><div class="quote"> Have the possibility to load a premade skeleton with joints (bones) which already has premade animations.<br>Skeleton = loadanimmesh("skeleton.b3d") (a b3d file which contains a skeleton with joints (bones) and animations, each joint (bone) having a name)<br> <br></div><br>load your mesh<br>load your skeleton (set the mesh as parent)<br>CreateBones(mesh)<br>And that's all.<br>In theory, animations are preserved. (In theory : I have not tested the function further, but there is no reason the previous animations would be collapsed or overriden)<br><br><div class="quote"> <br>Have the possibility to skin some premade skinned meshes on this skeleton :<br>PartMesh = loadAnimMesh("leg.b3d") (a b3d file which contains a skeleton with joints (bones) and a mesh with skinned vertices (some influences of some joints (bones) over some vertices)<br> <br></div><br><br>If I really understand what you say (and I must admit I find this a bit confused), it's way to complicated to be implemented.<br>I'm even not sure blitz3d allow this : it's sort of an md2 mixed with a b3d ... the two formats are not compatible<br><br>Or maybe you mean that the "mesh with skinned vertices" is a mesh which already contains bones ? (because you can't have vertices skinned without a bone hierarchy)<br>Eventually, you can have a mesh with vertices containing bone IDs and weights data without bone structur ... but in this case, there is no problem, load your skeleton and call CreateBones. If your hierarchy match the vertices data, it will work.<br>For now, the CreateBones function does exactly what is made in internal when you load a b3d animmesh.<br><br><br>Also, for the rest about the "influence", it's in the descriptions of the functions in the first post, the function "CountInfluences" that you'd like to see is the function "CountVertexBones", it returns the number of bones that affect the specified vertex, there is also "VertexBone" and "VertexWeight" that returns the bone index and the weight for each vertex. You really have access to all data you need, as far as b3d doesn't support anything else, everything is already there.<br><br>It's just a matter of semantic, or syntax, but what all you mentioned is already there. <br><br></td></tr></table><br>
<a name="1284117"></a>

<a name="1284127"></a>

<a name="1284137"></a>

<a name="1284138"></a>

<a name="1284218"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>The function rips the hierarchy of the mesh and generates bones from each children and sub-children.<br>It doesn't matter if it's pivots made in the code or a skeleton loaded from a b3d or else ... but for the demo, I had to go from scratch to build a hierarchy. So, if you have a premade skeleton, you just need to call the function, the skeleton will be transformed into bones.<br> <br></div><br>Ok good to know, i will try as you say.<br><br>edit : removed useless comments (because of wrong understanding) <br><br></td></tr></table><br>
<a name="1284219"></a>

<a name="1284220"></a>

<a name="1284221"></a>

<a name="1284222"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello Bobysait,<br><br>I have done several tests to load a premade skeleton with bones and premade animations and then to load a premade skinned mesh using the same skeleton/bones and then to recreate the mesh and to skin it on the skeleton (bones) but i am blocked at the skinning step, can you give more explanations please :<br><br>If i use a premade skeleton with bones (skeleton = loadanimmesh("skeleton.b3d"))) and which already has animations (animation = extractanimseq(skeleton,2,26))<br>How am i supposed to then use setbone(surfacereference%,vertexindex%,vertexboneindex%,boneindex%,weight#) knowing that i have no function to get the boneindex% of a bone in the skeleton ? (i can only get the bonereference with getchild() or with findchild()...)<br>(In your code example, boneindex seems to be an index% attributed to a bone in the skeleton when it is created (in the range 1-&gt;bonescount), but how to get this index% in a premade skeleton ?<br><br>Thanks, <br><br></td></tr></table><br>
<a name="1284227"></a>

<a name="1284228"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> The bone indices are sorted by blitz on the creation (it's the way it is in the original) :<br>the mesh itself is the ID 0<br>then it is recursive<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Function GetChildId%( root, searchentity)
	Local curId%[1]:curId[0]=0
	Local resId%[1]:resId[0]=0
	GetSubChildId(root, searchentity, curId, resId)
	Return resId[0];
End Function

Function GetSubChildId%( entity, search, curId%[1], resId%[1])
	If search = entity Then resId[0] = curId[0];
	curId[0]=curId[0]+1;
	Local ic%
	For ic = 1 To CountChildren(entity)
		GetSubChildId(GetChild(entity,ic), search, curId, resId);
	Next
End Function

Graphics3D 800,600,0,2
SetBuffer BackBuffer()


Local Head = CreatePivot(); 0
	Local R0 = CreatePivot(Head);
		Local R00 = CreatePivot(R0);
			Local R000 = CreatePivot(R00);
		Local R01 = CreatePivot(R0);
			Local R010 = CreatePivot(R01);
	Local R1 = CreatePivot(Head);
		Local R10 = CreatePivot(R1);
			Local R100 = CreatePivot(R10);
	Local R2 = CreatePivot(Head);
		Local R20 = CreatePivot(R2);
			Local R200 = CreatePivot(R20);
		Local R21 = CreatePivot(R2);
			Local R210 = CreatePivot(R21);

Print GetChildId(Head,Head)
Print GetChildId(Head,R0)
Print GetChildId(Head,R1)
Print GetChildId(Head,R2)
Print GetChildId(Head,R00)
Print GetChildId(Head,R01)
Print GetChildId(Head,R10)
Print GetChildId(Head,R20)
Print GetChildId(Head,R21)
Print GetChildId(Head,R000)
Print GetChildId(Head,R010)
Print GetChildId(Head,R100)
Print GetChildId(Head,R200)
Print GetChildId(Head,R210)

WaitKey()
End
</textarea> <br><br></td></tr></table><br>
<a name="1284239"></a>

<a name="1284240"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Bobysait&gt;&gt;Thanks.<br>So apparently the bones indexes are in the range 0-&gt;bonescount-1... <br><br></td></tr></table><br>
<a name="1284241"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> it's from 0 to bonescount [o for the mesh, 1 to bonescount for the children hierarchy] <br><br></td></tr></table><br>
<a name="1284246"></a>

<a name="1284247"></a>

<a name="1284248"></a>

<a name="1284249"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> I still have some errors...<br><br>A few more questions please :<br><br>Let's say that i have a premade skeleton with bones and premade animations.<br>I want to use the same skeleton and the same animations for several characters.<br>And i want to build a different skinned mesh for each character by using skinned meshes parts (bodyparts, faces, hairs, clothes, armors)<br><br>To do that, <br>i load my premade skeleton ( premadeskeleton = loadanimmesh("skeleton.b3d") )<br>i extract the premade animation ( premadeanimation = extractanimseq(skeleton,2,26) )<br>i load some premade skinned meshes ( premadebody = loadanimmesh("body.b3d") | premadepants = loadanimmesh("pants.b3d") )<br><br>Now i want each character to have one skeleton with the same bones, which can be animated by the same animations, so for this character, i create a copy of the skeleton ( characterskeleton = copyentity(premadeskeleton) )<br>Then i want this character to have a mesh with a body and pants so i create a new mesh ( charactermesh = createmesh() )  then i analyze the premade skinned meshes (  premadebody and premadepants ) and i recreate them (with the influences of some bones over some vertices)<br><br>In this case, at which time should i use createbones(skeleton) or createbones(skinnedmesh) ?<br>From what i understand :<br>-&gt;once i have loaded the premade skinned meshes, ( premadebody and premadepants ) i must use for each one, createbones(skinnedmesh) so that i can get for each vertex, the influencescount and for each influence, the boneindex and the weight<br>-&gt;once i have used charactermesh = createmesh(), i must use createbones(charactermesh) so that i can set for each vertex, for each influence, the boneindex and the weight<br><br>Yes ? No ?<br><br><br><br>And then to animate the final skinned mesh (charactermesh) can i use the premadeanimation of the premadeskeleton or do i have to extract the animation of the copied skeleton (characterskeleton) ?<br><br><br><br>Thanks, <br><br></td></tr></table><br>
<a name="1284251"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think you own the reccord for "premade" use in a single text ...<br><br>Well, it's hard to answer accurately, models and hierarchy can be really very different from a model to another.<br>And, must admit you're not very clear with all this "premade" stuff :)<br><br>I just have the impression you're looking for something blitz3d can't do :<br>Share bones with model that are not copies.<br><br>You have to understand that each model (different one from the other) will have its own hierarchy, because only "copy" (created as copy) share animations and skeletons.<br><br>If that's clear, let's dig a bit further, we'll find an answer for your problem.<br><br>ps : I'm ok that everybody could learn from that, but, just for this one, go for french, because it's already very complicated with single words to explain your task ... it should be a bit easier for both you and me to understand what you're talking about. <br><br></td></tr></table><br>
<a name="1284252"></a>

<a name="1284253"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>I think you own the reccord for "premade" use in a single text <br> <br></div><br>:D<br><br><div class="quote"> <br>You have to understand that each model (different one from the other) will have its own hierarchy, because only "copy" (created as copy) share animations and skeletons.<br> <br></div><br>Ok but if the animation refers to the scale/orientation/position of a boneindex in the skeleton (hierarchy), then if i use an animation which refers to boneindex in a skeleton which has these bones with the same boneindex, this should work ?<br><br>I think that my attempt is not far to work because all seems correct except the animation which does not animate the final skeleton and final skinned mesh.<br><br>Can i send you a .zip file somewhere so that you can take a look ? <br><br></td></tr></table><br>
<a name="1284254"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you know my email you can send me the zip (i don't want to leave my email as public, for reasons you may know) ... I'll take a look (but not tonight, I'm so tired I could fall asleep on the keybokdjjjjjjjjjjjjjjjjjjjjjj <br><br></td></tr></table><br>
<a name="1284257"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is the email address in your blitzbasic profile ok ?<br><br>Or i could post the link here, no problem. <br><br></td></tr></table><br>
<a name="1284259"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> It wasn't (my email was hacked two monthes ago, I forgot to replace it with the new-old one)<br><br>It's updated. <br><br></td></tr></table><br>
<a name="1284260"></a>

<a name="1284261"></a>

<a name="1284262"></a>

<a name="1284302"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here : &lt;-pouf!-&gt;<br><br>(and thanks)<br>(and good night, i'm going to sleep now...) <br><br></td></tr></table><br>
<a name="1284297"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've read your code and dumped your b3d files ...<br>I think you're not going anywhere like this.<br>your "leg" file already contains everything (model, hierarchy and animation)<br>You add it an animation file and then createbones (that were already presents) etc ...<br>You duplicate so many instances of everything that the hierarchy is a big mess.<br><br>For what you're looking for, you have two ways to do it, but it will depend on your needs.<br>A - you want output a single surface mesh (or a single mesh with single/multiple surfaces)<br>B - you want output a single root (pivot or mesh) with different meshes parented (a mesh for the body, a mesh for the legs etc ...)<br><br>Because in each case, you'll need to implement it in a very different way.<br>in the case A, you'll have lots of memory used (each model will have its own vertex and triangle container), but it will run very fast because : Single mesh<br>in the case B, you'll have lots of entities duplicated and the animation will be harder to maintain (you'll probably have to recreated an animation using the keys of all sub-animations of all parts, OR animate each part individually) <br><br></td></tr></table><br>
<a name="1284300"></a>

<a name="1284301"></a>

<a name="1284303"></a>

<a name="1284304"></a>

<a name="1284337"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>your "leg" file already contains everything (model, hierarchy and animation)<br> <br></div><br>Yes<br><br><div class="quote"> <br>You add it an animation file and then createbones (that were already presents) etc ...<br>You duplicate so many instances of everything that the hierarchy is a big mess<br> <br></div><br>No, all is well i have debugged it, i have the exact same number of bones and of vertices...<br>I load a premade skeleton (PremadeSkeleton) with bones and animations, i load a premade skinned mesh (PremadeLeg) influenced by the same skeleton with bones and animations (i should have removed the animations on this one but whatever)<br>Then i copy the premade skeleton (TestSkeleton)<br>Then i extract the premade animations in TestSkeleton (TestAnimation)<br>Then i recreate the mesh of the premade skinned mesh (with the same influences by the same bones) (TestMesh)<br>All seems to work well according to the debug datas.<br><br>But when i try to animate the skeleton, only the skeleton is animating, not the skinned mesh.<br>This is probably because i am not sure when to use createbones(hierarchy) and on which entity (PremadeSkeleton? PremadeMesh ? TestSkeleton ? TestMesh ?)<br><br>This is why i wanted you to take a look.<br><br>I have added spheres set as childs of each bone of the TestSkeleton and it seems that the skeleton is animating correctly, but the skinned mesh TestMesh does not follow)<br>Why ?<br><br>Here a new example with only the essentials :<br>&gt;-pouf!-&lt;<br><br><div class="quote"> <br>you want output a single surface mesh (or a single mesh with single/multiple surfaces)<br> <br></div><br>Yes that's what i want to do, copy a premade skeleton with bones and animations and analyze several premade skinned meshes (associated to the same skeleton/bones) to create a final skinned mesh associated to the copied skeleton/bones (one copied skeleton + one unique mesh with one surface for each character) <br><br></td></tr></table><br>
<a name="1284308"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> I modified some syntax and indentation (sorry, I couldn't read your code the way it was, I need order in code ...)<br><br>Try this, it should work.<br>And, you must use Createbones :<br>- only on the copy that doesn't have bones<br>- only when you have copied the hierarchy to the mesh (else you won't dump any bones from the mesh)<br>So, for recall : CreateBones extract the entities from your mesh and convert the hierarchy to bones. If the mesh has no hierarchy, then there is no bones extracted.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Graphics3D				( 1000,625, 0,2 );
SetBuffer				( BackBuffer() );

SeedRnd					( MilliSecs() );

Global Arial15Font	=	LoadFont		( "Arial", 15, False,False,False );

; -----------------------------------------------------------------------------
; - CAMERA -
; -----------------------------------------------------------------------------
	
	Local root			=	BuildGhost		( );
	Local head			=	GetChild		( root, 1 );
							PositionEntity	( root, 0,1.65,-3, True );
							
	Local Camera		=	CreateCamera	( );
							CameraRange		( Camera, 0.1,100 );
							CameraClsColor	( Camera, 020,040,060 );
							
; -----------------------------------------------------------------------------
; - LIGHT -
; -----------------------------------------------------------------------------
	
	AmbientLight		( 016,016,016 );
	
	Local DLight		=	CreateLight		( 1 )
						;	LightRange		( DLight, 1000+100 );
							LightColor		( DLight, 240,240,240 );
							PositionEntity	( DLight, 50,1000,-1000,True );
							RotateEntity	( DLight, 45,0,0,True );
							HideEntity		( DLight );

	Local OLight		=	CreateLight		( 2, Camera );
							LightRange		( OLight, 3.0 );
							LightColor		( OLight, 224,224,224 );
						;	HideEntity		( OLight );


; -----------------------------------------------------------------------------
; - EDITOR PARAMETERS -
; -----------------------------------------------------------------------------
	
	Const C2D%			=	1
	Const C3D%			=	2
	
	Global InteractionMode% = C3D
	
; -----------------------------------------------------------------------------
; - EDITOR SCENE -
; -----------------------------------------------------------------------------
	
	Local Origine		=	CreateCube		( );
							ScaleMesh		( Origine, 0.01/2,0.01/2,0.01/2 );
	
	
	Global GroundMesh	=	CreateMesh		( )
	Local Surface		=	CreateSurface	( GroundMesh )
							AddVertex		( Surface, 0.0,0.0,100.0,0.0/8,0.0/8 )
							AddVertex		( Surface, 100.0,0.0,100.0,8.0/8,0.0/8 )
							AddVertex		( Surface, 0.0,0.0,0.0,0.0/8,8.0/8 )
							AddVertex		( Surface, 100.0,0.0,0.0,8.0/8,8.0/8 )
							AddTriangle		( Surface, 0,1,2 )
							AddTriangle		( Surface, 2,1,3 )
							UpdateNormals	( GroundMesh )

	Local TxRes			=	64;
	Local GroundTexture	=	CreateTexture	( TxRes,TxRes, 1+2+256 );
							SetBuffer		( TextureBuffer(GroundTexture) );
								LockBuffer();
								Local i,j
								For j = 0 To TxRes - 1
								For i = 0 To TxRes - 1
									WritePixelFast(i,j, $00FFFFFF );
								Next;
								Next;
								For i = 0 To TxRes - 1
									WritePixelFast(i,1, $40FFFFFF );
									WritePixelFast(i,TxRes-2, $40FFFFFF );
									WritePixelFast(1,i, $40FFFFFF );
									WritePixelFast(TxRes-2,i, $40FFFFFF );
								Next;
								For i = 0 To TxRes - 1
									WritePixelFast(i,0, $FFFFFFFF );
									WritePixelFast(i,TxRes-1, $FFFFFFFF );
									WritePixelFast(0,i, $FFFFFFFF );
									WritePixelFast(TxRes-1,i, $FFFFFFFF );
								Next;
								UnlockBuffer();
							SetBuffer		( BackBuffer() );
							ScaleTexture	( GroundTexture, 0.01,0.01 );
							EntityTexture	( GroundMesh, GroundTexture );
						
; -----------------------------------------------------------------------------
; - ANIMATOR -
; -----------------------------------------------------------------------------
	
	; step 0 : initialize templates
		; Load the template hierarchy and hide it
		Global TPL_Skeleton=LoadAnimMesh	( "test skeleton + animations 201512031932Fraged.b3d" )
							HideEntity		( TPL_Skeleton )
		
		; load the template animation -&gt; this is useless if the model already contains the animation (which should be the case if you don't want to animate your stuff in code)
		;Global TPL_Animation=ExtractAnimSeq	( TPL_Skeleton, 1,10 )
		
		; load the template model and hide it
		Global TPL_Leg	=	LoadAnimMesh	( "test leg 201512031932FragedEN.b3d" )
							HideEntity		( TPL_Leg )
		
		; load the template pants and hide it (actually : hide "them")
		Global TPL_Pants=	LoadAnimMesh	( "test pants 201512031932FragedEN.b3d" )
							HideEntity		( TPL_Pants )
	
	
	;First step : Create the mesh
		; leave it empty for the moment
		Global TestMesh	=	CreateMesh		( );
	
	;Second : add the hierarchy to the mesh
		Global TestSkeleton=CopyEntity		( TPL_Skeleton, TestMesh )
		
	; Third : build/copy the surfaces
		Local BoneOffset%	=	3; YOU HAVE 3 PIVOTS UNTIL YOU REACH THE ACTUAL LEG ROOT -&gt; SO YOU HAVE TO ADD THEM TO MATCH THE HIERARCHY !!!
		Local is%=0, vi%, ii%, ti%;
		For is = 1 To CountSurfaces(TPL_Leg)
			Local OSurf	=	GetSurface		( TPL_Leg, is );
			Local NSurf	=	CreateSurface	( TestMesh );
							; copy vertices
							For vi% = 0 To CountVertices(OSurf)-1
								AddVertex	( NSurf,VertexX(OSurf,vi),VertexY(OSurf,vi),VertexZ(OSurf,vi) );
								VertexNormal( NSurf,vi,VertexNX(OSurf,vi),VertexNY(OSurf,vi),VertexNZ(OSurf,vi) );
								Local nbones% = CountVertexBones ( OSurf, vi );
								For ii% = 0 To nbones-1
									setBone(NSurf, vi, ii, BoneOffset+VertexBone(OSurf, vi, ii), VertexWeight(OSurf, vi, ii), (ii=nbones-1) );
								Next
								If nbones&lt;4 Then setBone(NSurf, vi, nbones, -1, 0);
							Next
							; copy triangles
							For ti% = 0 To CountTriangles(OSurf)-1 Step 1
								AddTriangle(NSurf,TriangleVertex(OSurf,ti,0) ,TriangleVertex(OSurf,ti,1) ,TriangleVertex(OSurf,ti,2) )
							Next
		Next;
	
	; fourth : build the bones
							CreateBones		( TestMesh )
							
	; finally : add some animation(s)
	Global TestAnimation=	ExtractAnimSeq	( TestSkeleton, 1,10 )
	
	;Scale the scene after the animation extraction.
	ScaleEntity				( TestMesh, 0.01,0.01,0.01 )

Global Timer = CreateTimer(30)

Main(root, head, Camera)

End()






Function Main(root, head, camera)
	
	Local MPX%
	Local MPY%
	Local MXDiff%
	Local MYDiff%
	
	While( KeyDown(1)&lt;&gt;1 )
		
		; Update input
		; -------------------------------------------------------------------------
			
			MPX		=	MouseX()
			MPY		=	MouseY()
			MXDiff	=	MouseXSpeed()
			MYDiff	=	MouseYSpeed()
			
			If KeyHit(15) Then InteractionMode = C2D + (C3D-C2D)*(InteractionMode=C2D)
			
			Select (InteractionMode)
				
				Case C2D
					
					;
					
				Case C3D
					
					; update camera view angles
					If MouseDown(2)
						TurnEntity (root, 0,-MXDiff,0 );
						TurnEntity (head, +MYDiff,0,0 );
					EndIf;
					
					; update speed
					Local speed# = 0.10;
					If KeyDown(29)
						speed# = 0.01
					ElseIf KeyDown(42)
						speed# = 1.00;
					EndIf
					
					; update translation
					Local vx# = Float(KeyDown(32)-KeyDown(30)) * speed; D-Q
					Local vy# = Float(KeyDown(18)-KeyDown(16)) * speed; E-A
					Local vz# = Float(KeyDown(17)-KeyDown(31)) * speed; Z-S
					
					MoveEntity root, vx,vy,vz;
					
					; camera-&gt;setTransform(head-&gt;transform)
					TFormNormal ( 0,1,0, head, 0 ) : AlignToVector	( camera, TFormedX(), TFormedY(), TFormedZ(), 2,1 ); align Y
					TFormNormal ( 0,0,1, head, 0 ) : AlignToVector	( camera, TFormedX(), TFormedY(), TFormedZ(), 3,1 ); align Z
					TFormPoint	( 0,0,0, head, 0 ) : PositionEntity	( camera, TFormedX(), TFormedY(), TFormedZ(), True ); position Absolute
					
			End Select;
			
			
		; update animation(s)
		; -------------------------------------------------------------------------
			
			;hold key Space to animate the skeleton and the skinned mesh
			If KeyDown(57)
				If Not(Animating(TestSkeleton))
					Animate(TestSkeleton,3,0.1,TestAnimation)
				EndIf;
			Else
				Animate(TestSkeleton,0);
			EndIf
			
			UpdateWorld()
			
			
		; update rendering
		; -------------------------------------------------------------------------
			
			WireFrame(KeyDown(2)&gt;0)
			SetBuffer(BackBuffer())
			
			RenderWorld()
			
			
		; 2D - debug
		; -------------------------------------------------------------------------
			
			drawHierarchy (camera,TestMesh);
			
			PlotMeshVertices(camera,TestMesh,2,255,000,255)
			
			SetFont(Arial15Font)
			Color(255,255,255)
			CText ( "Triangles = "+TrisRendered(),0,0 )
			CText ( "AnimLength= "+AnimLength(TestSkeleton), 0,15 );
			CText ( "AnimLength= "+AnimLength(TestMesh), 0,30 );
		WaitTimer(Timer)
		VWait():Flip(False)
		
	Wend

End Function

Function drawHierarchy (camera,entity, x=-1,y=-1)
	CameraProject camera, EntityX(entity,1), EntityY(entity,1), EntityZ(entity,1)
	Local px = ProjectedX(), py = ProjectedY()
	If x&gt;0 And y&gt;0 Then Line x,y, px,py
	Local ic%, nbc% = CountChildren(entity);
	For ic = 1 To nbc
		drawHierarchy (camera, GetChild(entity,ic), px,py)
	Next
End Function

Function CText(TextStr$,PX%,PY%)
	Text(PX,PY,TextStr,False,False)
End Function

Function BuildGhost()
	Local root = CreatePivot()
	Local head = CreatePivot(root)
	Return root
End Function

Function PlotMeshVertices(camera, mesh, Radius#=1, R%=255, G%=255, B%=255)
	Local is%
	Local nbs% = CountSurfaces(mesh)
	For is = 1 To nbs
		Local surf = GetSurface(mesh, is)
		Local nbv% = CountVertices(surf), v%
		For v = 0 To nbv-1
			CameraProject(camera, VertexRiggedX(mesh, surf, v), VertexRiggedY(mesh, surf, v), VertexRiggedZ(mesh, surf, v))
            Color(R,G,B)
			Rect(ProjectedX()-Radius,ProjectedY()-Radius,Radius*2,Radius*2,True)
		Next
	Next
End Function
</textarea> <br><br></td></tr></table><br>
<a name="1284311"></a>

<a name="1284323"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>I modified some syntax and indentation (sorry, I couldn't read your code the way it was, I need order in code ...)<br> <br></div><br>My code is indented but only with spaces...<br><br><br>Thanks for the example i will study it and try to modify my code to make it work the same way. <br><br></td></tr></table><br>
<a name="1284312"></a>

<a name="1284313"></a>

<a name="1284314"></a>

<a name="1284315"></a>

<a name="1284322"></a>

<a name="1284326"></a>

<a name="1284329"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> You wrote : "YOU HAVE 3 PIVOTS UNTIL YOU REACH THE ACTUAL LEG ROOT -&gt; SO YOU HAVE TO ADD THEM TO MATCH THE HIERARCHY !!!"<br><br>Why are there 3 pivots until i reach the hierarchy ? I can understand that the root of TestMesh could be considered as one pivot and the root of TestSkeleton could be considered as one pivot but then what is the other ? <br><br></td></tr></table><br>
<a name="1284316"></a>

<a name="1284318"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> double post <br><br></td></tr></table><br>
<a name="1284317"></a>

<a name="1284321"></a>

<a name="1284324"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes i don't understand the BoneOffset thing. What it is supposed to represent ? And why do you give it the value of 3 ?<br><br>Thanks for your time btw, :) <br><br></td></tr></table><br>
<a name="1284325"></a>

<a name="1284328"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> Also can you explain what "normalize_weights%" represents ? And why it is necessary ? (in your code you wrote "(ii=nbones-1)")<br><br>edit : it does not seem necessary... Not sure what it does... <br><br></td></tr></table><br>
<a name="1284327"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> If i add the boneoffset of 3 to the boneindex of each influence, it works well, (thanks!) but i don't understand why. Can you please explain ? <br><br></td></tr></table><br>
<a name="1284330"></a>

<a name="1284332"></a>

<a name="1284334"></a>

<a name="1284338"></a>

<a name="1284340"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> The bone offset is 3 because when you "createbones" it makes a bone for the mesh itself (which is the "0" bone)<br><br>You have a hierarchy on the skeleton which start from scene_root as a pivot (exported as a mesh, but whatever, it is an empty mesh)<br>You have a hierarchy on the leg (from loadanimmesh) which start from scene_root as the mesh model.<br><br>when you copy the skeleton hierarchy to the output mesh, you have one offset due to the skeleton being parented to the mesh (if you want to match perfectly, you should copy the skeleton only beginning by the first child and not the skeleton itself, but as long as you exported the animation on the scene_root, you have to copy the scene_root to enable the animation sequence to be copied too)<br>Then as your leg model is the scene_root of your model (while it should have the scene_root as parent of the model ^^) you have a second offset due to the need of matching with the skeleton<br><br>And as mentioned, the third is the output mesh itself which is added as the first bone in the hierarchy.<br><br>It doesn't have to be like this, it's just your b3d files that are not optimised for this.<br><br>For the normalizeweight, just consider that it's an internal requirement :<br>- you can set up to 4 bones, but blitz3d does know exactly how many are set up, it just knows that if it encounter a "255" on the 4 bones then there is no bone at this place and no bone after.<br>In the function, I replaced the "255" with a "-1" which I thought was more explicit.<br>Then comes the normalization : if you set first bone to 0.2 and second to 0.4 and ends bone here, the sum is 0.6 which will make the vertex having an almost impredictible behavior (it's in fact predictible : it will looks like it's stuck to the origin bone)<br>So, using normalization while setting the last bone, it will sum up all previous bones set for the vertex and normalize, so the weights will be 1.0<br><br><br><br>So, for optimizing your export, (don't know which software you use) export the hip directly if you can. B3d file format allows to have a root whith position offset, it doesn't have to start with a "Scene_root" at 0,0,0 (it's just the 3dsmax b3d exporter that make this happen)<br><br>Same thing for your model, remove any bones that are not directly a child or sub-child from the model (for the leg, there is no need to export the scene_root or the pelvis pivot)<br><br>In blitz3d, you 'll have just one offset with the mesh (and if you can get animation to work on the skeleton without the first root, you won't have any offset at all if your hierarchy match perfectly the hierarchy of the procedurally made leg)<br>-&gt; it will be easier and it will run faster (it's always better when there are no extra entities to increase the loop count on the matrix updates) <br><br></td></tr></table><br>
<a name="1284336"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the precisions.<br><br>About the names of bones, i use Fragmotion and the bones of TestSkeleton all have names...<br>The only entity which has no name is the TestMesh, but i have now used NameEntity() to give it a name. Anyway !<br><br>Thanks again, it can be very useful to be able to do that for some games. <br><br></td></tr></table><br>
<a name="1284339"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> I edited my message.<br>I had debugged the blitz3d created mesh instead of the b3d file's one :)<br>There were no names because we didn't set any :p <br><br></td></tr></table><br>
<a name="1284341"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes i understood why the offset is 3 with the explanations in your previous post.<br><br>The only thing i can do is remove the "Root" bone in the skeleton, because the "Scene_Root" bone i can't do anything about it, it is added automatically by Fragmotion when it exports the .b3d.<br><br>But it works well, that's enough for what i want to do. :)<br><br><div class="quote"> <br>I had debugged the blitz3d created mesh instead of the b3d file's one<br> <br></div><br>Oh i see... :) <br><br></td></tr></table><br>
<a name="1284380"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can also do this :<br><br>-&gt; remove the 2 first bones of the animation hierarchy, then recreate the keys and animation<br><br>-&gt; then the offset is just "1" (for the destination mesh)<br>And you removed 2 entities from the hierarchy = less resources - better performance<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">

Function copyTransforms(dest, src, frame%=-1, pos_key%=True, rot_key%=True, scl_key%=True)
	Local ic%, nbc% = CountChildren(src)
	For ic = nbc To 1 Step -1
		copyTransforms(dest, GetChild(src,ic), frame, pos_key, rot_key, scl_key);
	Next
	Local ent = FindChild(dest, EntityName(src));
	RotateEntity	( ent, EntityPitch(src,0),EntityYaw(src,0),EntityRoll(src,0), 0 );
	PositionEntity	( ent, EntityX(src,0),EntityY(src,0),EntityZ(src,0), 0 );
	TFormVector(1,0,0, src, GetParent(src)): Local sclx# = Sqr(TFormedX()^2+TFormedY()^2+TFormedZ()^2);
	TFormVector(0,1,0, src, GetParent(src)): Local scly# = Sqr(TFormedX()^2+TFormedY()^2+TFormedZ()^2);
	TFormVector(0,0,1, src, GetParent(src)): Local sclz# = Sqr(TFormedX()^2+TFormedY()^2+TFormedZ()^2);
	ScaleEntity		( ent, sclx, scly, sclz, 0 );
	If frame&gt;=0 Then SetAnimKey(ent, frame, pos_key, rot_key, scl_key);
End Function

; -----------------------------------------------------------------------------
; - ANIMATOR -
; -----------------------------------------------------------------------------
	
	; step 0 : initialize templates
		; Load the template hierarchy and hide it
		Global TPL_Skeleton=LoadAnimMesh	( "test skeleton + animations 201512031932Fraged.b3d" )
							HideEntity		( TPL_Skeleton )
		
		; load the template animation -&gt; this is useless if the model already contains the animation (which should be the case if you don't want to animate your stuff in code)
		;Global TPL_Animation=ExtractAnimSeq	( TPL_Skeleton, 1,10 )
		
		; load the template model and hide it
		Global TPL_Leg	=	LoadAnimMesh	( "test leg 201512031932FragedEN.b3d" )
							HideEntity		( TPL_Leg )
		
		; load the template pants and hide it (actually : hide "them")
		Global TPL_Pants=	LoadAnimMesh	( "test pants 201512031932FragedEN.b3d" )
							HideEntity		( TPL_Pants )
		
		
	;First step : Create the mesh
		; leave it empty for the moment
		Global TestMesh	=	CreateMesh		( );
		
	;Second : add the hierarchy to the mesh
		Local skeleton_root=GetChild(GetChild(TPL_Skeleton,1),1); &lt;- get the real root to copy (first child of the first child) ...
																; not the seventh son of the seventh son, but hey ! we must start somewhere
		Global TestSkeleton=CopyEntity		( skeleton_root, TestMesh )	; &lt;- copy the hierarchy and parent it to the mesh
							CreateBones		( TestMesh )				; the mesh is filled, we can extract the bones
		
		; as we removed the root of the skeleton before copy, the keys have been removed too -&gt; copy the sequence
		Local frame%
		For frame = 1 To 10
			SetAnimTime (TPL_Skeleton, frame);
			copyTransforms(TestSkeleton, skeleton_root, frame, False, True, False)	; &lt;- just copy the rotations
																					;	(scale is for setting the morphing of your model )
																					;	(positions are useless on a hierarchy only animated using rotation)
		Next
		
		; add the animation.
		Global TestAnimation=AddAnimSeq		( TestSkeleton, 11 );
		
	; Third : build/copy the surfaces
		Local BoneOffset%	=	1; YOU HAVE 3 PIVOTS UNTIL YOU REACH THE ACTUAL LEG ROOT -&gt; SO YOU HAVE TO ADD THEM TO MATCH THE HIERARCHY !!!
		Local is%=0, vi%, ii%, ti%;
		For is = 1 To CountSurfaces(TPL_Leg)
			Local OSurf	=	GetSurface		( TPL_Leg, is );
			Local NSurf	=	CreateSurface	( TestMesh );
							; copy vertices
							For vi% = 0 To CountVertices(OSurf)-1
								AddVertex	( NSurf,VertexX(OSurf,vi),VertexY(OSurf,vi),VertexZ(OSurf,vi) );
								VertexNormal( NSurf,vi,VertexNX(OSurf,vi),VertexNY(OSurf,vi),VertexNZ(OSurf,vi) );
								Local nbones% = CountVertexBones ( OSurf, vi );
								For ii% = 0 To nbones-1
									setBone(NSurf, vi, ii, BoneOffset+VertexBone(OSurf, vi, ii), VertexWeight(OSurf, vi, ii), (ii=nbones-1) );
								Next
								If nbones&lt;4 Then setBone(NSurf, vi, nbones, -1, 0);
							Next
							; copy triangles
							For ti% = 0 To CountTriangles(OSurf)-1 Step 1
								AddTriangle(NSurf,TriangleVertex(OSurf,ti,0) ,TriangleVertex(OSurf,ti,1) ,TriangleVertex(OSurf,ti,2) )
							Next
		Next;
		
	;Finally : Rescale the scene
	ScaleEntity				( TestMesh, 0.01,0.01,0.01 )
</textarea> <br><br></td></tr></table><br>
<a name="1284417"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, i will take a look... (even if i don't think that 2 bones will reduce performance significantly, especially considering they have no influence over any vertices, but i don't know how Blitz3d calculates the new position of a skinned vertex after the bones have been animated, so i am not sure if it is important or not) <br><br></td></tr></table><br>
<a name="1284419"></a>

<a name="1284420"></a>

<a name="1284421"></a>

<a name="1284422"></a>

<a name="1284423"></a>

<a name="1284424"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> For Each vertex, you sum up the matrix of the 1 to 4 bones set up multiply by the weight for each bone, so it doesn't seem to make any difference ... at first.<br><br>Then, you check how the bone matrix are composed :<br>Each bone has a transformation matrix that is "local", to calculate the global transformation, you must multiply each bone's matrix by its parent's then the parent's of the parent etc ... until you reach the blitz3d scene_root.<br>So, the deeper the hierarchy is, the lower the matrices compute.<br>Any time an entity is not required in a hierarchy, you should do all you can to remove it.<br><br>Of course, this is real for high amount of hierarchies in your scene.<br>If your game is designed to draw only one leg, then the optimisation is useless as it won't really affect the framerate.<br>(for at least 20-100 entities (or higher) with deep hierarchy such as humans, you should start to see a difference, depends on the scene complexity and of course, the hardware)<br><br>In your scene, the 2 entities I removed are not just 2 entities in the scene, but 2 nested entities which are on the top of your hierarchy, so that all the children of your leg are multiply by 2 matrices.<br>Imagine a full human body :<br>- 2 legs (4 matrices multiplication for all bones of the legs)<br>- 2 arms, the spline, the head etc ...<br>it can start to be considered as a leak of performance.<br><br>note that : a useless end-bone does not affect the performance -&gt; no children are computed with them, it is for the top bones that it's important. (the parents are more important than the children ... every body knows that ^_^, you can leave a child at the gare, who cares ? it's just a child abandonned... but a parent ... police will be alerted with big warnings "he seems dangerous ! maybe a bomb alert or a rapist !")<br><br>ps : if this is more relevant<br><br>You have 4 bones A,B,C,D<br>- A is the root<br>- B child of A<br>- C child of B<br>- D child of C<br><br>matrix of A is -&gt; A<br>matrix of B is -&gt; B*A<br>matrix of C is -&gt; C*B*A<br>matrix of D is -&gt; D*C*B*A<br><br>if D is useless, it doesn't change anything but D<br>if A is useless the matrices are :<br>matrix of B is -&gt; B<br>matrix of C is -&gt; C*B<br>matrix of D is -&gt; D*C*B<br><br>lots of calcul removed just by removing a useless bone :) <br><br></td></tr></table><br>
<a name="1284437"></a>

<a name="1284438"></a>

<a name="1284439"></a>

<a name="1284461"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>lots of calcul removed just by removing a useless bone<br> <br></div><br>Yes i understand but i have never found that the animation of rigged skinned meshes was what takes time in the kind of games i try to create (first person view action, third person view action, isometric view action, top down view action)<br>Also maybe because i use low lod meshes for far away meshes.<br><br>For info :<br>The humanoid that i have created myself has 20bones/joints (including the root). (you probably don't care)<br><br>The humanoid used for motion capture (ipisoft) has 23bones/joints (including the root). (you may care about that)<br><br><br><div class="quote"> <br>If your game is designed to draw only one leg<br> <br></div><br>Yes that's what i was planning to do ^^, with a variety of pants as the equipment. ;) <br><br></td></tr></table><br>
<a name="1287078"></a>

<a name="1287082"></a>

<a name="1287084"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Bobysait&gt;&gt;Can you please share the source code for the upgrade vB.002 if some of us want to use it, but also add others updates/upgrades ?<br><br><br>Also, when you have some free time, can you please explain what you have done to modify the source code and then to create a new blitz3d executable (for your upgrades) ? (which tools you have used and what is the process). This may help some of us to create others updates/upgrades...<br><br><br>Thanks, <br><br></td></tr></table><br>
<a name="1287438"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> I used an old MSVC 6.0 installed on a windows Xp 32 bits via VirtualBox.<br>(with the sp6 pack for msvc)<br><br>It required the dx7dsk (which is a bit hard to find nowadays...), freeimage and fmod<br><br>I will upload the modified sources in the week (If I don't forget)<br>(I need to copy the sources from the virtual OS, and I have no time at the moment)<br><br>BTW, I won't explain anything because, I have already commented (not documented) the source, every modifications are tagged with "&lt;addon author='BobyC'&gt; &lt;/addon&gt;"<br><br>Almost all the modifications are self-explained as the function are above all getters. <br><br></td></tr></table><br>
<a name="1287472"></a>

<a name="1287474"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#51">[#51]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the explanations i will try to follow this...<br><br><div class="quote"> <br>I will upload the modified sources in the week<br> <br></div><br>Good, thanks again.<br><br><div class="quote"> <br> I won't explain anything because, I have already commented (not documented) the source, every modifications are tagged with "&lt;addon author='BobyC'&gt; &lt;/addon&gt;"<br> <br></div><br>I am not worried about understanding your code ( except maybe your weird indentation :P ), i just wanted to know how to open these old sources and how to modify them and how to recompile them to create a new executable.<br><br>Can you also explain what i have to do once i have modified the code as i want ? (to create the executable), is it as easy as with Blitz3d ?<br><br>Also to apply the update/upgrade, i suppose that i have to copy/paste the same files that you have provided in your upgrades but replace the executable with my executable, correct ?<br><br>Thanks, <br><br></td></tr></table><br>
<a name="1287563"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#52">[#52]</a></td></tr></table></td></tr><tr ><td class="posttext"> I edited the first post to add a link to the modified sources.<br><br>The archive only contains the files I modified (to replace from the official sources)<br><br>-&gt; <u><b><a href="http://bybysait.free.fr/blitz3d/blitz3d_modifications.7z" target="_blank">Download modified sources only (in 7Z format) </a></b></u> (compressed with 7zip -&gt; 42 Ko)<br><br>As mentioned, all modification is tagged in the sources. <br><br></td></tr></table><br>
<a name="1287646"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#53">[#53]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, i will take a look later. <br><br></td></tr></table><br>
<a name="1287784"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ThePaiva</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#54">[#54]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is awesome! The render to texture is going to be really useful for some of my projects, thanks a lot!!<br><br>Not sure if it's possible but any chance you could activate some other unused things like specular map, extra light functions(ambient color and shininess comes to mind), set the mask/alpha of a texture layer (for texture splatting on terrains or texture mask on models), or anything else along those lines?<br><br>I think it might be possible to add some of those natively since to use some all you gotta do is use a dx7 dll and a decls. I might be wrong though, but doesn't hurt to ask... <br><br></td></tr></table><br>
<a name="1288247"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#55">[#55]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not very familiar with Dx7, I've never really learnt the sdk (I'm more of an opengl programmer), so, it's very certainly possible, but I won't do it.<br><br>I'd better let this kind of stuff to the experts of this old library while, even if I could come to a solution, it would probably be a poor trick, and I wouldn't be able to code something really optimized nor fully reliable.<br><br>ps : Glad you like it. <br><br></td></tr></table><br>
<a name="1288271"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#56">[#56]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>extra light functions(ambient color and shininess comes to mind)<br> <br></div><br>this may help :<br><a href="http://www.blitzbasic.com/Community/posts.php?topic=75711" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=75711</a> <br><br></td></tr></table><br>
<a name="1290183"></a>

<a name="1290184"></a>

<a name="1290203"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#57">[#57]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Bobysait&gt;&gt;When you have some time, and if you want to, can you take look at the source code, and see if it would be easy enough to separate what happens in updateworld() in 2 functions : updatecollisions() (or detectcollisions() or calculatecollisions()) and updateanimations()<br><br>This would give us the possibility to structure the code in a better way (detect the collisions only when we want, and update the animations only when we want), this would be really useful imo, i never understood why these 2 systems were not separate...<br><br>Thanks, <br><br></td></tr></table><br>
<a name="1290273"></a>

<a name="1290279"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#58">[#58]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's probably doable, as far as I remember the two parts are not that dependant, but I can't do it before a long time.<br>Would be better if someone could continue the project, as it's not a "closed-project" and I don't give it any kind of restrictive license.<br><br>It's not that hard to implement, so RemiD, why wouldn't you do it ? you seem to be a stone of the blitz3d world, maybe it's your time to add your own stone to the project ;) <br><br></td></tr></table><br>
<a name="1290282"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#59">[#59]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>why wouldn't you do it ?<br> <br></div><br>I am not familiar with c++ so i will probably have difficulties to understand... I will try... This is not urgent anyway.<br><br>Thanks, <br><br></td></tr></table><br>
<a name="1290283"></a>

<a name="1290284"></a>

<a name="1290285"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#60">[#60]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe you still have the links to find the files that you mentioned ?<br>MSVC 6.0<br>sp6 pack for msvc<br>dx7dsk<br>freeimage<br>fmod<br><br>Thanks, <br><br></td></tr></table><br>
<a name="1290396"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#61">[#61]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have links for dx7 sdk if needed (by uploading my current sdk)<br>freeimage and fmod are not a problem either.<br><br>MSVC 6.0 and the pack are shareware from microsoft (it's not the express edtion, but the professional with MFC-inside)<br><br>And we all know I can't tell you to find it via kind of a torrent link whatever this software isn't sold anymore anywhere on the planet. <br><br></td></tr></table><br>
<a name="1290436"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#62">[#62]</a></td></tr></table></td></tr><tr ><td class="posttext"> So, here are the links :<br>- Dx7 Sdk<br><a href="http://bybysait.free.fr/blitz3d/libs/dx7sdk.7z" target="_blank"><u><b>Dx7Sdk.7z (without samples : 7 Mo)</b></u></a><br>or<br><a href="http://bybysait.free.fr/blitz3d/libs/dx7sdk_full.zip" target="_blank"><u><b>Dx7Sdk.zip (Full : 44 Mo)</b></u></a><br><br>- FreeImage 241 library<br><a href="http://bybysait.free.fr/blitz3d/libs/freeimage241.zip" target="_blank"><u><b>Freeimage 241 (4 Mo)</b></u></a><br><br>- FMod Api 375<br><a href="http://bybysait.free.fr/blitz3d/libs/fmodapi375win.zip" target="_blank"><u><b>fmod 375.zip (2 Mo)</b></u></a> <br><br></td></tr></table><br>
<a name="1290441"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#63">[#63]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, i have already found the links in the readme of the blitz3d source.<br>And i think that i have found the appropriate version of MSVC 6.0.<br><br>I will take a look at this later. (currently trying to create convincing animations manually) <br><br></td></tr></table><br>
<a name="1315810"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#64">[#64]</a></td></tr></table></td></tr><tr ><td class="posttext"> In theory , these modificciones you can create a program for editing, creating , animation of 3D models <br><br></td></tr></table><br>
<a name="1315832"></a>

<a name="1334579"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#65">[#65]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, you can create a skeleton with joints/bones, then create vertices, then skin the vertices (set the weight of each joint/bone over some vertices), then create animation poses, then create an animation, then animate it.<br><br>You can also create a custom rigged skinned mesh using a premade skeleton and several premade rigged skinned parts (for example to create a custom character with different body, head, eyes, hair, clothes, armors, weapons) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
