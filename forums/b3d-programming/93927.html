<!DOCTYPE html><html lang="en" ><head ><title >Sound functions</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Sound functions</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Sound functions</a><br><br>
<a name="1075915"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Doggie</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Anybody have any good sound functions for playing wav files?<br>I need something to play several concurrent wavs and alter their pitch<br>so a basic wav file becomes an instrument.<br>I looked in the archives but not exactly what I need.<br>Any help appreciated. I always thought sound was Blitz weakest area and always wondered why nothing was ever done to improve it.<br>Thanks <br><br></td></tr></table><br>
<a name="1076004"></a>

<a name="1076007"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Abrexxes</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Use "Channelpitch" but this will load any "instrument" into the ram. Else you must use an engine like (see signature). There you can load a sample (wav) one time into the ram and play it XXX times with pitch in realtime using channels.<br><br>bye<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1076480"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Doggie</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks. I'll check into that engine and see if I can come up with anything<br>useful. <br><br></td></tr></table><br>
<a name="1076681"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Axel Wheeler</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually, I'd stick to trying to use native commands (channelpitch) until and unless you find that you really can't use it to do what you want.  Notice that even Abrexxes, who makes Bass Studio, hinted as much.  Avoid implementing additional tools and libraries into a project unless you really need them, because the learning curve and all the other issues that come up with these libraries will distract you from your main goal.  Just my 2 cents.<br><br>As soon as you're done solving the immediate problem, then download Bass Studio and experiment away when you're not under pressure.<br><br>As far as ChannelPitch is concerned, keep the following in mind:<br><br>An octave is simply double the pitch of the next lower octave.  The following code is untested but should give some idea of how to create an array of the fequencies of the keyboard.  The equation(s) are based on this WikiPedia article:<br><br><a href="http://en.wikipedia.org/wiki/Equal_temperament" target="_blank">http://en.wikipedia.org/wiki/Equal_temperament</a><br><br><pre class=code>
Dim pitch(88)

Function SetupPitches()
	;From WikiPedia: the width of a semitone, i.e. the frequency ratio of the interval between two adjacent notes, is the twelfth root of two:
	Local r#=2.0^(1.0/12.0);1.0594630943593 I think?? untested...
	Local note
	
	For note=1 To  88 ; keys of the keyboard
		pitch(note)=440.0*r^(note-49)
	Next
End Function

</pre><br><br>Now you need to know whch key and position you are working in and be able to convert that into a note number above.  For example, in the major scale you have:<br><br>if k=the note of a major key<br><br>Do - Tonic (1) (n=k)<br>Re - Supertonic (2) (n=k+2)<br>Me - Mediant (3) (n=k+4)<br>Fa - Subdominant (4) (n=k+5)<br>So - Dominant (5) (n=k+7)<br>La - Submediant (6) (n=k+9)<br>Ti - Leading Tone (7) (n=k+11)<br>Do - Tonic of next octave (n=k+12)<br><br>Note that you would have to divide the result by the pitch of the sound file you are loading from disk (alas, there is no CreateSound() command)  to get the final value to feed to ChannelPitch.<br><br>Also note that none of this is tested and is just my thoughts to help you proceed.  Good luck Doggie! <br><br></td></tr></table><br>
<a name="1076815"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Doggie</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks. It's a little intimidating at the moment since there just aren't enough builtin commands to adequately make music apps in B3D. I realize Mark originally made B3D with emphasis on 3D games and all but there's so much more that B3d could be that it just seems a shame it's a done deal.<br>Most of y'all are programmers and can use blitz max and the new one I forget it's name but for me, it's way too confusing. I think there'd still be somewhat of a market for someone to make language/command addon packs for B3D. Sound,Music,Character Animation, Animated Sprites(even if I tryed to tackle that one myself)<br><br>Anyways.... <br><br></td></tr></table><br>
<a name="1076821"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Axel Wheeler</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Agreed.  I don't know whether Mark realized it but he created in B3D not just a 3D game system but the best traditional Basic language system around.  I think the user base became anyone who wanted to use just Basic (not OO) to do whatever they wanted, but with the power to do 3D, 2D, etc. and do it really well.<br><br>Now, I have heard that BlitzMax is not really OO in the sense of "Everything is an object", it's just has objects for those who want them.  For example, it's possible that much B3D code (non-3d stuff) would still work with minor modifications.  If so, I will probably go there too at some point.  However, 3D stuff requires choosing an add-on and learning about all it's issues.  So you have to worry about how add-on A works with add-on B and so on.  I'm sure it's awesome, just a new learning curve I don't really have time to go to just yet.<br><br>Also, I can't help but feel that if I'm going to go through the learning curve of BMax, why not just go a bit further and get Visual Basic.net?  The Express edition is free (in fact I have it! and the C# one), and there's a potential job (real money!) at the end of that learning curve.  I've put some C# under my belt, but it's very steep.  I'm tackling C++ right now because I've noticed that most really strong programmers seem to have started with it.<br><br>Keep in mind though that B3D is still an awesome engine and there are lots of existing add-ons in the archives and forums. <br><br></td></tr></table><br>
<a name="1078969"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Axel Wheeler</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hate to bump this (a week old isn't too far down the list anyway these days... :) but does anyone know of good sites for generic instrument "notes" in some common format (wav, mpg, etc.)?  Not music per se, but for exampe, a piano middle c, a flute middle c, etc. that can be used to generate procedural music that would actually sound good.  Even using the randomizer...? <br><br></td></tr></table><br>
<a name="1079148"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob the Great</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Check out this site:<br><br><a href="http://theremin.music.uiowa.edu/MIS.html" target="_blank">http://theremin.music.uiowa.edu/MIS.html</a><br><br>It gives you .aiff samples for typical orchestral instruments (piano, flute, cello, trumpet, ect.). It provides different notes at different dynamic levels (pp-ff), but you will definately need to break them apart into loopable regions and start-end regions.<br><br>They're free for download, so it might be a great starting place. <br><br></td></tr></table><br>
<a name="1079305"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Axel Wheeler</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Awesome.  Thanks RtG! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
