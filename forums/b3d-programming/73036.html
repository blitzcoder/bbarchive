<!DOCTYPE html><html lang="en" ><head ><title >throwing a bomb</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >throwing a bomb</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >throwing a bomb</a><br><br>
<a name="816284"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi.  I recently managed to chuck a bomb in an arc, with a trajectory.  My problem is it only throws directly north.  I would like to through it in the direction I am looking.  <br><br>The trajectory is calculated using GG_curves_3d(a fantastic piece of code) where you plot in at least 5 x,y,z co-ords and the trajectory is mapped.<br><br>So, has anyone a math routine to resolve something like:<br><br>1.  My man is at x,y,and z of 3,3,0 and is looking due east.<br>2.  Start position of bomb will be 3,3,1 and end position 8,3,1 (thrown within an arc)<br>3.  Man turns north, still at x,y and z of 3,3,0 throws bomb but this time the destination of bomb's arc will be 3,8,1.<br><br>If anyone can shed some light on the syntax to resolve what way I'm facing, and subsequently extrapolate a destination co-ord for the bomb ?  I've a sneaking suspicion I might need to use polar co-ords or j-notaion however it's been about 18 years or so since I last used that math.  I store the data regarding the 5 x,y and z co-ord within an array, for population.<br><br>My next step will be to add a 'force' factor to the melt which will factor up the arc and the distance the hand thrown bomb goes.  B3D Rocks (;-)<br><br>Thanks in advance, Blitzplotter. <br><br></td></tr></table><br>
<a name="816462"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >syntax</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok i have a much simpler solution should you choose to try it. basicly get a physics engine (i use devil physics engine, but thats just me) and make an object that has physics and make it go in the direction that you are facing at the ark you wish. while the game is updating keep a timer for each bomb and when the timer for each bomb reaches a certain number, delete the object and its physics and use whatever explosion effect you want. <br><br>basicly: let the physics engine do the work for you <br><br></td></tr></table><br>
<a name="816644"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks syntax, this may end up being my solution.  I am having  limited succes with moving an entity (a bullet) move exceptionally fast to where I want the grenade to end up, extrapolating the co-ord then calculating the arc from player(current x,y,z) and bullet/grenade x,y,z. <br><br></td></tr></table><br>
<a name="816657"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hujiklo</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you translating or moving the entity? If you can't be bothered to translate it and code for directions then simply use moveentity - point it in the direction of the target first then adjust its pitch according to the arc you've apparently already calculated. I fudged my own arced trajectories this way. <br><br></td></tr></table><br>
<a name="816681"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm moving the bullet entity, I made the error of using a 3rd attempt at a bullet, when I should have just used the existing bullet with a different move distance.  Haven't 'translated' an entity and I'm not sure what that means.  <br><br>Cheers Hukjiko. <br><br></td></tr></table><br>
<a name="816685"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >syntax</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> moving an entity in blitz will cause blitz to look at the rotation of the object and move it according to IT'S x,y, or z axis. <br><br>i like to think of it as: there is the world's coordinate plane, and then each entity has its own coordinate planes. <br><br>Translating an entity will move the entity across the world's coordinate plane and moving will move the entity across the entity's coordinate plane.<br><br><br>anywho.... so are you just trying to get a bullet to go in a certain place and you want to make SURE that it goes there or what? <br><br></td></tr></table><br>
<a name="816698"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Doggie</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Function tossgrenade()<br>If grnde&gt;0 Then grnde=grnde-1<br>If grnde&lt;1 Then Return<br>grnz=grnz+1<br>	b.grenade = New grenade<br>	b\entity = CreateSprite() <br><br>	PositionEntity b\entity, EntityX(player), EntityY(player)+2, EntityZ(player)<br>	ScaleSprite b\entity, .4,.4<br>	EntityColor b\entity,50,85,50<br>	<br>	<br>gvel=8<br>End Function<br>Function updategrenade()<br>	For b.grenade = Each grenade<br>	RotateEntity b\entity, EntityPitch(player), EntityYaw(player), EntityRoll(player)<br>	gvel=gvel-1<br>	MoveEntity b\entity, 0,gvel,15<br>	<br>gx#=EntityX(b\entity)<br>gy#=EntityY(b\entity)<br>gz#=EntityZ(b\entity)<br>g_y#=TerrainY(terrain1,gx#,gy#,gz#)<br>If gy#&lt;g_y# <br>fill in the blank from here<br>This code will toss a grenade in the direction "player" is facing. <br><br></td></tr></table><br>
<a name="816714"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob Farley</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> This might help you with general lobbing of things in a direction.<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=72799" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=72799</a> <br><br></td></tr></table><br>
<a name="816764"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gillissie</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Blitzplotter, thanks for the compliment on the GG_Curves_3D code. However, I agree that it's not the best solution for what you're doing here.<br><br>I don't agree that implementing a physics engine is the easiest, or even necessary to do a simple lob.<br><br>What I've done before with arcing arrows is to create a pivot, parent your grenade to the pivot (so the pivot is the grenade's parent). Rotate the pivot in the direction of the trajectory (away an upward from the character), then use MoveEntity in the z direction on the pivot. Also, gradually use TurnEntity to rotate the pitch downward as it flies. It will make a very smooth arch in the direction it's heading. By using a pivot to do the movement, you are free to rotate the grenade independently as it flies without affecting the trajectory. <br><br></td></tr></table><br>
<a name="816991"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> @syntax, em, I am trying to determine x,y, and z cords for a grenade lets say distance {x} from the player.<br><br>@Doggie thanks for the code.<br><br>@Rob, will check this out tomorrow<br><br>@Gillissie, thanks for the advice, I wasn't to keen on going down the physics engine road for 'lobbing' something in an arc.  <br><br>Thanks all for the advice, I will post my results in a .avi when I get it working.  Gotta go do stuff..... <br><br></td></tr></table><br>
<a name="817103"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >syntax</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> well not that you have to use my advise or anything(and really im not insulted or trying to prove a "grand point")but one more thing i guess i should note is that if you do go down the physics engine road, you also wont have to program the grenades bouncing off a wall or other geometry as the physics engine will do this for you.<br><br>just something else to consider in deciding what road to travel. <br><br></td></tr></table><br>
<a name="817560"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks syntax, I'm at the very early stages of 3D motion development, and I freely admit I'm initially going for a dumb ish grenade.  Who knows whether I'll get as far as physics engines, I've a number of other projects on the go, BMax, C, C++, assembly to name a few.  I do think physics engines seem appealing - but also enjoy the challenge of messing about trying to achieve some goals without choosing the easier road before I've got an appreciation of stuff.<br><br>regards,  blitzplotter. <br><br></td></tr></table><br>
<a name="818038"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> My grenades now kill my enenmies.... yeee hah!!!   Oh, and you can elect to drive a car in remote mode, mowing down enemies should there be too many of them.  You can call the car back should you drive it to far away.<br><br>Many thanks to everyone who helped out. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
