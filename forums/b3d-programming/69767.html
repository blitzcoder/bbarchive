<!DOCTYPE html><html lang="en" ><head ><title >Vertex/triangle limit per surface?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Vertex/triangle limit per surface?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Vertex/triangle limit per surface?</a><br><br>
<a name="780824"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OrcSlayer</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I noticed that when merging large levels made with the tileset system I use, eventually I get an error on levels with very high polycounts. This can be fixed of course by splitting the map into sections, but it would be very helpful if I knew the hard limit of what causes this error.<br><br>So, is there a limit of vertex/triangle count per surface, and what exactly is it? I'm pretty sure that's what's wrong...otherwise would appreciate it if someone could clue me in. <br><br></td></tr></table><br>
<a name="780839"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not sure but its about 54K polys or like that...as for me, I'm always holding limit about 40K per loaded chunk max. <br><br></td></tr></table><br>
<a name="780862"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John J.</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Most video cards can handle either 16 or 32 bit vertex indexes. If your vertex count exceeds the storage capacity of a 16 or 32 bit unsigned integer, then it won't be able to count how many vertices you have.<br><br>16 bits = 65535 size<br>32 bits = 4294967295 size<br><br>I'm pretty sure Blitz3D uses only 16-bit vertex indexes, so that means you can have up to 65 thousand vertices per mesh, as far as I know. <br><br></td></tr></table><br>
<a name="780885"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OrcSlayer</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah, now I understand the problem. I"ll keep it at 40k just to be safe, like Naughty suggested. Thanks! <br><br></td></tr></table><br>
<a name="780981"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> As far as I know, the limit for the number of vertices and/ or triangles is at least on some cards a SIGNED 16 bit, that's a max of about 32000. But you can't use it all, the real max is somewhere around 31000. I'd suggest to use 30000. BTW You don't have to split the meshes, you can also split the surfaces instead. <br><br></td></tr></table><br>
<a name="781013"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) sinu</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep, stick to round 30 as the limit of 32k is somewhat hit and miss. I've hit errors near it and some times way below ie 500ish below. <br><br></td></tr></table><br>
<a name="781138"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DareDevil</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> the limits are 32k!! for surface <br><br></td></tr></table><br>
<a name="781150"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) sinu</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> for vertices it is. <br><br></td></tr></table><br>
<a name="781154"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've always taken 32k as the vertex/tri limit per surface. <br><br></td></tr></table><br>
<a name="781221"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OrcSlayer</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, 30k per surface it is! Should be simple enough, I'll just add a feature in my editor to show how many triangles per "group" so I don't go over it... <br><br></td></tr></table><br>
<a name="781236"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> My 8800 GTX seems to handle a cube of 64K meshes at the same time with no problems.<br><br>Plus, with that number of polys, the smoothness of the lighting is like "Britney Spears" smothered in peanut butter and slapped onto a large slice of toast. <br><br></td></tr></table><br>
<a name="781243"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John J.</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> My 8800 GTX seems to handle a cube of 64K meshes at the same time with no problems. <br></div><br>Assuming you mean "a cube of 64K vertices", and assuming this is being done with Blitz3D, then that must mean 64K is the limit after all.<br><br>Edit:<br><br>I just tested it, and 65535 vertices in Blitz3D runs fine, while 65536 does NOT. Like I said earlier, Blitz3D uses unsigned 16-bit vertex buffers.<br><br>The reason some of you are getting errors with lower counts is probably due to the index buffer, which also has limits I think.<br><br>I really don't know how Blitz3D works internally, so this is just all guessing really, but if Blitz3D uses 16-bit buffers, you should be able to use up to 21845 polygons.<br><br>21K polys max., and 64K vertices max. <br><br></td></tr></table><br>
<a name="781250"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm pretty sure I can take it up to 128K though. <br><br></td></tr></table><br>
<a name="781252"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John J.</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I'm pretty sure I can take it up to 128K though.  <br></div><br>Sure, a 8800 (as well as many other cards) can handle that easily, but I doubt Blitz3D can. Though it can't hurt to try. <br><br></td></tr></table><br>
<a name="781253"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> We need a universal piece of stress-test code that everyone can run.<br><br>I delegate that to one of you to knock up. <br><br></td></tr></table><br>
<a name="781254"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I can do 181K.  However, when I jump to 182K Blitz3D freaks out - literally - it loses the ability to scale the meshes correctly and probably other weird side-effects too. <br><br></td></tr></table><br>
<a name="781263"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tom</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Natively, DX7 has a limit of $ffff (65535) vertices in arrays to be drawn. There are various draw methods, but each has a similar limit like so according to the SDK docs:<br><br><div class="quote"> dwVertexCount <br>The number of vertices in the array. The maximum number of vertices allowed is D3DMAXNUMVERTICES (0xFFFF).  <br></div><br><br>I assume anything bigger would be split up by Blitz3D. <br><br></td></tr></table><br>
<a name="781269"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_33</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've managed to build 100K models, but they had 6 surfaces.  Still, it runs without a problem.  Yet, you might have issues with things like Physics engines or stencil shadow engines... <br><br></td></tr></table><br>
<a name="781271"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John J.</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Tom: Ok, thanks for clearing that up :)<br><br><div class="quote"> I've managed to build 100K models, but they had 6 surfaces. Still, it runs without a problem. Yet, you might have issues with things like Physics engines or stencil shadow engines... <br></div><br>Well, you can have an unlimited amount of polygons per model, since you can have as many surfaces as you want. It's the amount of polygons in a surface that's limited. <br><br></td></tr></table><br>
<a name="781292"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually, we tried to nail down the tri/vert limit of B3D meshes some years ago, but gave up and settled on 32k as a safe limit, because we were getting some frankly bizarre results. I seem to remember having x number of tris/verts in a mesh which worked fine, but by simply changing the position of the verts borked it. :/ <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
