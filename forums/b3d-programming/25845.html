<!DOCTYPE html><html lang="en" ><head ><title >shadows</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >shadows</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >shadows</a><br><br>
<a name="268688"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ruz</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> i finally got my realistic player shadow working. still a few bugs to iron out <br>how the heck do i get the player shadow to align to one direction. right now , the player just drags it around with him, looks a bit weird<br>obviously the shadow mesh is parented to the player, but it has to stay aligned also to a particular light source<br>i tried using point entity , but this didn't work ie <br><br>PointEntity shadowmesh,light1 <br><br></td></tr></table><br>
<a name="268700"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> How are you doing this shadow? Please give us an example of your code so that we can best judge how to approach it.<br><br>I think you are wanting to allow the shadow to change with respect to lights in proximity.<br>(Also, this would most likely include creating other shadows for multiple lightsources.)<br><br>Just as a quick thought, and simplistic solution:<br><br> Parent the shadow to a pivot located at and parented to, the main character's mesh<br> Turn the pivot to point away from the light.<br> Scale the shadow according to the EntityDistance  between the character and the lightsource, using Sin/Cos even to determine the ratio of the dimensions for the scaling. <br><br></td></tr></table><br>
<a name="268701"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> "obviously the shadow mesh is parented to the player, but it has to stay aligned also to a particular light source"<br><br>Which is why you DON'T parent the shadow mesh to the player.  Just use commands like EntityX to move the shadow mesh along with the player every frame.  And move the shadow after UpdateWorld to take collisions into account. <br><br></td></tr></table><br>
<a name="268722"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ruz</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> ooh sounds complicated. i will  mess around with it and get back, cheers<br>BTW i am doing the shadow with flex, but am going for the more realistic shadow using a second camera and renderworld.<br>I am hiding everything but the player model and rendering from above and behind the player, copying that to the texture buffer then to the flex mesh( based on most of the shadow stuff in the archives)<br>I don't want to use multiple light sources, just one 'sun'.I just want it looking good enough not to look wrong if you get my meaning.<br>i see what you mean with the parenting though, sounds obvious when someone points it out.The shadow mesh is just inheriting the player models rotation.<br>duh <br><br></td></tr></table><br>
<a name="268733"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ruz</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> cool, that worked great using<br>x#=EntityX(player):y#=EntityY(player):z#=EntityZ(player)<br>PositionEntity shadowmesh,x,y,z<br>Thanks for the tip <br><br></td></tr></table><br>
<a name="268736"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry, I thought you wanted to rotate the shadow as the character passed a lightsource! (Quite complicated stuff)<br><br>No, you'll be fine with the above for a static sun! <br><br></td></tr></table><br>
<a name="268742"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ruz</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> yeah , that sounds great, but a bit beyond me right now. I was pleased to get this far he he<br>Another problem i am having is that i need to apply a texture to my player model temporarily, then revert to its previous default textures. <br><br>The problem is that my player has 4 textures( multi sub )How do I unflag the temp texture wihtout having to use entity texture again. <br>Entity texture just expects one texture<br>I could redesign my player to have one texture, but frankly I don't want to <br><br></td></tr></table><br>
<a name="268806"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ruz</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> its ok i sorted that out. bizzarely by loading the first texture and doing this<br><br>torso=LoadTexture ("models\torso.tga")<br>EntityTexture Player,torso,torso<br><br>it then defaults to the multiskinned texture. Don't know why this works, it just does <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
