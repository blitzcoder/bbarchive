<!DOCTYPE html><html lang="en" ><head ><title >Gourad texturing</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Gourad texturing</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Gourad texturing</a><br><br>
<a name="339480"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am converting a screensaver I wrote a while back from C++ (using DirectX) to Blitz3D.  In my old code, I was able to change how the scene was rendered from Gourad shading (D3DRMRENDER_GOURAUD) to flat shading (D3DRMRENDER_UNLITFLAT) and back.<br><br>Does anyone know how I can acheive this in Blitz?  Currently my entities are being drawn in what appears to be equivalent to unlit flat. <br><br></td></tr></table><br>
<a name="339483"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Klaas</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You cannot change the whole scene but each entity with EntityFX .. Flag 4 is for flatshading <br><br></td></tr></table><br>
<a name="339492"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, 4 is for flatshading, but what is for *Gouraud* shading?  Sorry if my question was misleading.  I want to know how to acheive Gouraud shading. <br><br></td></tr></table><br>
<a name="339515"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RetroBooster</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> it's standard, just add some lights ;) <br><br></td></tr></table><br>
<a name="339516"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Klaas</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes, no light, no lighting ... but make sure your models got correct normals or use UpdateNormals to do so. <br><br></td></tr></table><br>
<a name="339517"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think blitz uses phong or blinn shading though.<br><br>Your best bet is to force vertex colors(EntityFX) again, do the lighting manually. If it's vital. But if not, as Klass said, use normal/faster lighting etc. <br><br></td></tr></table><br>
<a name="340786"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, I figured out that the problem was that I didn't have any normals applied to my meshes.<br><br>I tried using UpdateNormals (and that created the shading effect I wanted), BUT that averages the normals between faces.  This IS an effect that I want applied to parts of my mesh but not the entire mesh.  On other parts of the mesh, I want very defined edges.  (It's a mesh of a gear.  I want the gear teeth to be shaded so that they look smooth but I want the sides of the gears to be shaded so that they look flat.)<br><br>I found the VertexNormal command in the command set.  However, it seems to be able to only set one normal per vertex.  Since the sides of my gears share the same vertices with the teeth of the gears, I need two seperate normals to define the side as flat and the teeth as smooth.<br><br>Is there a way to create two (or more) normals per vertex (basically a normal for each face that shares the vertex)?<br><br>Or<br><br>Must I create seperate vertices (that are in the exact same positions as the other vertices) so that I can seperately set normals for those vertices?<br><br>Or<br><br>Must I create an entirely different surface with different vertices? (I've heard you should try to keep surfaces to a minimum though). <br><br></td></tr></table><br>
<a name="340800"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> "I think blitz uses phong or blinn shading though."<br><br>I think you have Blitz confused with the scanline renderer in 3D Studio Max. <br><br></td></tr></table><br>
<a name="340811"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> No I think you do.<br><br>Have you ever coded a 3D engine? Well, in GL you to explicity set the light shading model.<br><br>Of which those two are an option unless I'm suffering brain damage. And since they are obviously hardware accelerated options on modern cards, it stands to reason DX will offer similar model options. <br><br></td></tr></table><br>
<a name="340817"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> No I think you do. <br></div><br>Huh?<br><br>"No I think you do" WHAT?<br><br>I asked three different questions.<br><br><div class="quote"> Of which those two are an option unless I'm suffering brain damage. And since they are obviously hardware accelerated options on modern cards, it stands to reason DX will offer similar model options. <br></div>What is this in reference to? <br><br></td></tr></table><br>
<a name="340819"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> He was responding to me ie. the post directly above his. <br><br></td></tr></table><br>
<a name="340823"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh, I see.  I have heard of Phong before and I know nothing about OpenGL, so it must have been in reference to DirectX...<br><br>Anyways, back to the questions I asked above! <br><br></td></tr></table><br>
<a name="341003"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DJWoodgate</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think you have to create separate vertices.  But I think it's also the case that the blitz's updatenormals function will still smooth them so you will have to create your own normals, or more likely write your own routine to generate normals which does not do this, which should not be that hard, though it's not quite so trivial that I have got around to doing it yet.:)  Actually I thought SSwift came up with something of the sort, but I can't see it in the code archives, so maybe I am imagining it.<br><br>Oh and I am pretty sure blitz does not do phong as that implies calculating the lighting at every pixel across the triangle which means generating a new normal for every pixel based on the averaged triangle normals which is too slow. Blitz does do Dot3 blending though which is similar in principle and as the normals are pregenerated it's a lot quicker.  I believe true phong can now be done in hardware by using pixel shaders but thats post DX7 which is blitz's current high watermark so as to achieve maximum compatibility across a wide range of hardware. <br><br></td></tr></table><br>
<a name="341081"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> WolRon,<br><br>You can only have 1 normal per vertex. Also, blitz meshes dont have surface normals (which you need to do proper flat shading). Instead, when flat shading, blitz seems to take the first vertex normal of each triangle and use that as the surface normal, but since this normal is unlikely to be perpendicular to the tri, results of flat shading in blitz can be poor.<br><br>The only way I know of getting round this is to unweld all the tris so no vertices are shared, and set the normals to be perpendicular. There is a function for calculating this in the archives somewhere. <br><br></td></tr></table><br>
<a name="342290"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DJWoodgate</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> I see Sswift has just added his modified updatenormals routine to the code archive, good chap that he is, so my memory was not playing tricks on me.<br><br><a href="http://www.blitzbasic.co.nz/codearcs/codearcs.php?code=975" target="_blank">http://www.blitzbasic.co.nz/codearcs/codearcs.php?code=975</a> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
