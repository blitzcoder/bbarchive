<!DOCTYPE html><html lang="en" ><head ><title >TextureFlag 2, alpha problems!</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >TextureFlag 2, alpha problems!</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >TextureFlag 2, alpha problems!</a><br><br>
<a name="312187"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeroen</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi!<br><br>I'm having troubles with entities that use an alpha channel: I can see leaves of trees that suppose to be behind other trees, being rendered in FRONT. What is going wrong? :-(<br><br><br><img src="http://www.theclue.nl/img/1.jpg"><br>The crystal should be behind the tree, not in front.<br><br><img src="http://www.theclue.nl/img/2.jpg"><br>The trees on the right are transparant, when the sea is behind them.<br><br><br>Thanks <br><br></td></tr></table><br>
<a name="312204"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul "Taiphoz"</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try looking into entityorder I think it is.. to set when you want something drawn to screen.<br><br>Hope this helps. <br><br></td></tr></table><br>
<a name="312229"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeroen</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> No it hasn't to do anything with entityOrder....only the alpha textures give the problem, the mesh in its whole is drawn correctly as you can see on the screenshots. <br><br></td></tr></table><br>
<a name="312259"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tangent</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm new to b3d, but I've encountered this in other packages.<br>It's the sorting. Your alpha maps are showing in front of everything else... Is there some control on the sorting? <br><br></td></tr></table><br>
<a name="312271"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeroen</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> that's my question as well :) <br><br></td></tr></table><br>
<a name="312281"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tangent</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry, there's a piece of code dealing with sorting in the code section.. perhaps that would help? <br><br></td></tr></table><br>
<a name="312287"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you tried 'entityfx 34' (vertexalpha + vertex color) - not sure if that would work with 'entityalpha' but if you use vertexcolors I'm sure alpha always screwed up?  <br><br>I don't think entitorder will help as this apparently disables the z-buffer altogether for that entity. <br><br></td></tr></table><br>
<a name="312289"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Alternatively you could use masking instead of alpha, it doesn't have the same problem.<br><br>Another solution is to sort your polygons manually. MasterBeaker has made some great functions for this, which you can scoop out of the code archives. <br><br></td></tr></table><br>
<a name="312321"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Genexi2</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> This might help :<br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=850" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=850</a><br><br>Anyway, I have to say, thats a damn mighty fine lookin' project you goin' there, you make the graphics yerself? <br><br></td></tr></table><br>
<a name="312552"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeroen</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> It seems Blitz does not z-order alpha textures, which is IMHO really, really bad. The code Genexi2 suggested seems to do the job, but unfortunately I haven't got any results yet (nothing happens :-) <br><br></td></tr></table><br>
<a name="312783"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> It seems Blitz does not z-order alpha textures, which is IMHO really, really bad. <br></div><br><br>It's not really Blitz's fault, but rather HW and DX related "problem". Most 3D-engines (even games) have the same problem and because of the nature of alpha, there is no automatic way to z-order it. Only way to do this is to sort every polygon "manually" in every frame, and that is VERY cpu-time consuming. I doubt that DarkBasic for example is any better in this matter. <br><br></td></tr></table><br>
<a name="312786"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Al Mackey</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Indeed..  For textures with an 8-bit alpha channel, any part of the poly with that texture might end up being partially transparent.  Transpareny doesn't jive with the Z-buffer, so polygon ordering needs to be done.  B3D will order these polys by their entitys' origins, so you can only get your Alpha leaves to be properly transparent if each of them is a separate entity with an origin near its middle.<br><br>There is another option...<br><br>Try using the "Masked" flag (4) instead of the "Alpha" flag (2).  Masked is a binary alpha channel; Any part of the image that is true black won't be rendered, and anything else will be fully opaque.  The texture will never need to have partial transparency, so while it may have some jaggies, it can use the Z-buffer just like a normal surface -- you con't have to do anything to get your polys in order. <br><br></td></tr></table><br>
<a name="312905"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Al Mackey</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's an example of the Masked flag from something I'm working on..  Here's a tree that uses it seen from quite a long way away:<br><img src="http://www.almackey.com/Tree1.jpg"><br><br>And here's a close-up of a branch, where you can see the jaggies I was talking about:<br><img src="http://www.almackey.com/Tree2.jpg"> <br><br></td></tr></table><br>
<a name="312952"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Genexi2</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; where you can see the jaggies I was talking about: <br><br>There any way around that by any chance?  Just in other games I've played like FFXI, there are no jaggy outlines, but the pixels themselves just keep gettin smooth\rounder\blurrier up close, kinda like vector art in Flash. :-/ <br><br></td></tr></table><br>
<a name="312964"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Anthony Flack had come up with a clever masking solution for "Cletus."  I don't recall the post/URL but he might pipe up here, or just email him. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
