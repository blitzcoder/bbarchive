<!DOCTYPE html><html lang="en" ><head ><title >Network Lag Counter Measures Discussion</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Network Lag Counter Measures Discussion</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Network Lag Counter Measures Discussion</a><br><br>
<a name="447020"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Techlord</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> In developing PPF2K4.5 Network Architecture my primary focus is addressing Network Lag. I would like to discuss counter measures and what others are doing to minimize network lag using Blitz Network. <br><br>My Network implementation is designed around the principle that the Server is the Game Authority managing all gameworld logic, while the Client is I/O Interface to Render a 'copy' of the Server's GameWorld and transmits inputs from player to the server. <br><br>I'm using a combination of TCP and UDP protocols. TCP for Mandatory Data (Initial GameWorld State), UDP for 'Twitch' Data (Updates and Client Input). I'm implementing my own UDP Tx/Rx data checking systems on the Server/Client. I'm Tx/Rx data in packets of specific byte size, vs streams. This includes text messages (chat) too.<br><br>I'm implementing the following anti-lag techniques:<br>1. Transmit to only players who need the data<br>2. Transmit only data of game objects that have changed state.<br>3. Interpolation<br>4. Compression<br><br>I'm aware of other awesome Blitz Network libraries out there, however, I would like to direct this discussion towards those interested in developing their own. <br><br></td></tr></table><br>
<a name="447117"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm more inclined (without any experience mind you) to suggest that it is better to have a constant throughput on connections than using any method that results in variable size and number of packets. <br><br>The maximum number of players should dictate the network requirements not some variable hard to calculate usage that will be both hard to test and play havoc with any routing / compression between machines. <br><br></td></tr></table><br>
<a name="447144"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Techlord</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> skidracer: I'm more inclined (without any experience mind you) to suggest that it is better to have a constant throughput on connections than using any method that results in variable size and number of packets.  <br></div><br><br>I would agree. Implementing a method to create a constant throughput on connections is where the challenge lies. TCP only guarantees the data will 'eventually' get to its destination, it says nothing about how long it will take. UDP doesnt guarantee anything, which ironically is its speed benefit as no checks are made.<br><br>I'm attempting to deal with this by 'continuously' transmitting packets of fixed size via UDP, regardless if they contain data or empty. The concept is very similar to Asynchronous Transfer Mode (ATM) Cells.<br><br>In my research, others discuss using data transmission duplication techniques as in sending two or more packets with same info in succesion. I'm considering this as well. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
