<!DOCTYPE html><html lang="en" ><head ><title >Organizing code</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Organizing code</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Organizing code</a><br><br>
<a name="388109"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >David819</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi just wandering if there is any way of arranging code to make the final exe run faster? <br><br></td></tr></table><br>
<a name="388111"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eBusiness</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Linear, use Goto and GoSub rather than functions. But in the end, it doesn't really matter how you place the code, the important part is how you code, that you go the shortest way, use the fastest methods, that is what matter. <br><br></td></tr></table><br>
<a name="388133"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >David819</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok, thanks for the help. <br><br></td></tr></table><br>
<a name="388151"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Linear, use Goto and GoSub rather than functions. <br></div>The speed difference is negligible.<br><br><div class="quote"> Hi just wandering <br></div><br><a href="http://dictionary.reference.com/search?q=wandering" target="_blank">v. wan·dered, wan·der·ing, wan·ders</a><br><a href="http://dictionary.reference.com/search?q=wondering" target="_blank">v. won·dered, won·der·ing, won·ders</a> <br><br></td></tr></table><br>
<a name="388161"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> reduce the number of entities and linepicks <br><br></td></tr></table><br>
<a name="388196"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >David819</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> well i need the entities and i haven't use any linepicks yet, i think it is the particles that are slowing it up. <br><br></td></tr></table><br>
<a name="388231"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Craig H. Nisbet</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Restrict your for next loops based on data subsets.  For example, instead of making a for next loop that checks the status of all the entity/sprites/whatever create a seperate list that only the data that needs to be checked for that frame.<br><br>Type BadGuy<br>Field X,Y,Data<br>end Type<br><br>Type VisibleBadGuy<br>Field VBadGuy.BadGuy<br>end Type<br><br>For VBadGuy.VisibleBadGuy = Each visibleBadGuy<br>....do stuff to it<br>next <br><br></td></tr></table><br>
<a name="388232"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you're not using a single surface particle system, that's almost certainly slowing things down. <br><br></td></tr></table><br>
<a name="388660"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ZombieWoof</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Ebusiness: Goto/Gosub ?? get outa the dark ages !!! Just finished up an app to compute mesh visibility automatically, with an embedded manual editor... not a single goto or gosub in the code... well designed code should NEVER use goto.... gosub is just archaic in the face of functions.<br><br>@Goober: one word "profiling" <br><br>Around any chunk of code you think may be slowing things down, insert a little code to store the system clock before, and code to compute elapsed time and DebugLog it after.<br><br>That will at least tell you where you need to get a little more efficient :) at 60 frames/sec, you got about 16.6ms to do everything you gotta do :) FPS higher than the monitor refresh rate are just needlessly thrashing data :) <br><br></td></tr></table><br>
<a name="388786"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >The r0nin</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Functions would be more useful in Blitz3d if you could pass multiple parameters to them.  The alternative is to create many more types than are necessary to pass your values, or you can hyper-segment your functions so they only work on one value at a time.  Either approach will work, but can add needless time and/or potential for bugs.  A judiciously used Gosub can make perfect sense under these conditions... <br><br></td></tr></table><br>
<a name="388797"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ummmmm?????????<br><br><pre class=code>Function IHaveMultipleParameters(Txt$,x%,y%)
 Text Txt$,x,y
End Function</pre><br><br>Anyway, worrting about optimization like this is sometimes a good idea, for instance in a routine called from many places and/or many times. <br><br></td></tr></table><br>
<a name="388851"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  Functions would be more useful in Blitz3d if you could pass multiple parameters to them <br></div><br><br>You can! - what were you thinking.  Have you been using B3D all this time with only single parameters?<br><br>The time difference between a function and gosub is very, very, very small.  I guarantee that there will always be other more important issues. <br><br></td></tr></table><br>
<a name="388865"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rambus</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Dont use goto, it builds bad coding habbits. <br><br></td></tr></table><br>
<a name="388905"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eBusiness</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh please, Goto is fine, at some point you just need this command, ok maybe you could work it out with a function/if/loop combo of some sort, but it's really good when you at some point just need to be somewhere else in the stack:<pre class=code>For a=0 to arraysize
  If array(a)&gt;7 Then Goto validvaluefound
Next
RuntimeError "No valid value found"
.validvaluefound
b=array(a)</pre>If you fear Goto, then you can take a speed hit by using two if's inside the loop:<pre class=code>For a=0 to arraysize
  If array(a)&gt;7 Then Exit
  If a=arraysize Then RuntimeError "No valid value found"
Next
b=array(a)</pre>Shurely Goto can save CPU time, but you don't neccesarily need it very often, depends on what stuff you are doing. <br><br></td></tr></table><br>
<a name="388921"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >The r0nin</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok.  So was I just dreaming that I heard that Blitz3d only supported single-parameter functions?  Was that true in an earlier iteration and has been changed, or did I just misunderstand something along the way?<br><br>Oh, and I do have a question about the difference between functions and Gosubs.  Eons ago, when I first learned BASIC, the compilers at that time would just copy the Gosub code at compile-time and insert it at each reference point.  Is this how function calls are compiled as well?  If not, and if Gosubs still simply copy code in at compile-time, then there might be a file size difference between the use of the two, especially if the functions or Gosubs were called many times from different areas of the program (as opposed to just being used in loops).  Is this the case, or do functions and Gosubs compile the same way?<br><br>EDIT:  OH, I think I remember what made me think that.  How many values can a Function return?  Are the types created within a function also bound within that function?  For example, if I create a type t_tank globally, then within the function Createtanks() I make 10 tank.t_tank = new t_tanks, then after the function has returned will a For tank.t_tank = Each t_tank loop outside of that function recognize those 10 tanks?  <br><br>If not, what is the utility for me to create create a type, pass it to a function 10 times, have the function make 10 pointers, then return each time the pointer to another example of the type I have made globally?  Why not just use a Gosub? <br><br></td></tr></table><br>
<a name="388946"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't think any language has ever supported functions without supporting multiple parameters.<br><br>No, Blitz doesn't copy its gosubs. I believe you are thinking of "Inline Functions/gosubs".I believe the main differences between functions/gosubs are parameters and local variables.<br><br>A function can return one value only.  I'm not sure what the syntax would be if it returned more.  Yes, the tanks will register in a for each loop. <br><br></td></tr></table><br>
<a name="388970"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rambus</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> @eBusiness - used in that context its not a big deal, but have you ever tried to read some ones code with a million goto's in it? I find it's best just to avoid goto all together.<br><br>Goto is a four letter word. <br><br></td></tr></table><br>
<a name="388977"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> In some cases goto is a good thing :P mostly in optimisation, but it's the best way to exit multiple loops.  True you whouldn't use it often, but its better than setting a flag (which would have had to be zeroed out before), calling exit, checking the flag and calling exit again (In a situation of exiting two loops) Instead you could just have a label and a goto. <br><br></td></tr></table><br>
<a name="388980"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rambus</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok well, lets say it's ok for getting out of loops, but if you start using it to warp around your code you will die lonly. <br><br></td></tr></table><br>
<a name="389033"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Ok. So was I just dreaming that I heard that Blitz3d only supported single-parameter functions? Was that true in an earlier iteration and has been changed, or did I just misunderstand something along the way?<br><br>Oh, and I do have a question about the difference between functions and Gosubs. Eons ago, when I first learned BASIC, the compilers at that time would just copy the Gosub code at compile-time and insert it at each reference point. Is this how function calls are compiled as well? If not, and if Gosubs still simply copy code in at compile-time, then there might be a file size difference between the use of the two, especially if the functions or Gosubs were called many times from different areas of the program (as opposed to just being used in loops). Is this the case, or do functions and Gosubs compile the same way?  <br></div><br><br>Blitz has always supported multiple parameters in functions, ever since its birth.<br><br>Functions and gosubs compile the same way in Blitz3D, to the best of my knowledge, the compiler does not inline either functions or gosubs. <br><br></td></tr></table><br>
<a name="389039"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eni</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Don't have anything to add to the actual topic but quite a few people have disputed eBusiness for his initial response but that has actually been the only correct response to the question. The question asked if there was "any way of arranging code to make the final exe run faster," which most of the responses here are about changing implementation rather than code structure. I know nobody cares (myself included :P) but it just seemed odd. <br><br></td></tr></table><br>
<a name="389056"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ZombieWoof</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> @enidox: odd to promote good coding practices ?? <br><br>As a programmer of 27 years experience who started in basic with nothing but goto and gosub on a 4MHZ 8 bit processor, I can state with complete conviction that whatever marginal gains that goto/gosub may give you are not worth the loss of maintainability and reusability that functions and properly structured code provide.<br><br>The speed benefits of gosub will be eaten up by setting/reading globals passed to and returned by the subroutine, putting gosub "functions" on the same if not worse footing than a function call, while cluttering up the global variable pool which makes debugging more difficult. (definitly worse in my opinion because it makes the calling code less readable with all the junk you have to add pre/post the gosub to setup for the call) <br><br>Goto is just plain bad coding practice, encouraging the creation of spagetti code where properly constructed loops and functions can solve the problem in a much more concise and understandable manner.<br><br>If these reasons arent sufficient to avoid the use of goto/gosub, then I wish you luck in whatever you decide to do with blitz.... there isn't all that much out there in the way of gosub based "function" libraries :) <br><br></td></tr></table><br>
<a name="389083"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eni</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> @ZombieWoof<br><br>Of course and I completely agree with you (and everyone else here). eBusiness also said that it was pointless.<br><br>It's just that since this wasn't asked in the beginners forum, I would (personally) assume at least basic knowledge of those kinds of things and therefore take the question on face value (rather than interpreting it as something else being asked in a similar way).<br><br>Interesting point you make on the setup of anything non-trivial using gosubs ending up being slower. I never use them myself so I haven't thought about it - thanks! I like thinking about things. <br><br></td></tr></table><br>
<a name="389088"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AbbaRue</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> What I do is set up a timer around my main routines to see how long they take:<br>TM=MilliSecs() <br>;program code goes here<br>TM=MilliSecs()-TM <br>Then I make changes to see if I can speed things up any. <br>Every function or subroutine call you make eats machine cycles, <br>because the return address has to be pushed onto and poped off of the stack. <br>So the more linear your code.(the less functions or subroutines you call) the faster it is.<br><br>Just remember when all code is boiled down into machine code it's all conditional JMP's.<br>Which is the same as Goto and Gosub. <br>There is no such thing as a "Function" in the CPU. <br>All Functions end up converted into the equivilent of Gosubs.(Calls)  <br>So when you use Gosub your code will be converted directly. <br>But if you use a function then the compiler has to convert it into a Gosub.(Call) <br>The Variables you pass to the function are passed on the stack to the subroutine being called.  <br>So anyone using Goto or Gosub is only programing the computer in it's native language. <br>This is why Goto's and Gosub's are slightly faster. <br>Mostly because pushing and poping values on the stack uses up machine cycles. <br>It takes 1 cycle to push and 3 to pop a value that is 4 machine cycles for each value you pass in a function. <br>So anyone who says that using goto or gosub is in the "dark ages " <br>just lacks knowledge on the workings of the computers CPU. <br><br>Anyone wanting more understanding on this may find the following link usefull: <br><a href="http://win32assembly.online.fr/tutorials.html" target="_blank">http://win32assembly.online.fr/tutorials.html</a><br><br>And here is an example were Gosub and Goto are priceless: <br><br>;place this in the keyboard checking section<br>If KeyDown( 20 )=True Then Gosub Test1	;t key<br><br><br>.Test1 ;T key<br><br>;Do some testing here. <br><br>.k20<br>If KeyDown(20) Goto K20 ;loop until key released<br>Return <br><br><br>**Try doing that with a function call and no goto.** <br>But if you do find a way remember that it will be converted into a JMP by the compiler. <br><br></td></tr></table><br>
<a name="389212"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Pickford</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
If keydown(20) wait_for_key_release(20)


function wait_for_key_release(key)

 while keydown (key):wend

end function
</pre> <br><br></td></tr></table><br>
<a name="389213"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Pickford</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Or simply:<br><br>while keydown(20): wend<br><br>No function needed. <br><br></td></tr></table><br>
<a name="389393"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, My response to Goober is that Goto/Gosub is virtually the only way to rearange your code to make it faster, and in the end, your code will be much more cumbersome and much less readable.  It doesn't matter that functions are eventually boiled down to a couple pops and pushs and a jump. Because in reality 4 machine cycles doesn't matter much at all. (fuzzy math) considering a 1 ghz machine. 1,000 mhz, 1,000,000 khz, 1,000,000,000 machine cycles per second.  In the case there is 5 cycles (one more for the jmp back), then you can call 200,000,000 functions per second. I may have made some mistakes, but I don't think so.  So, the tiny speed loss (you aren't going to be calling to many of these per second, maybe 1,000), is miniscule in comparisent to the gain in readability in your code.<br><br>Most optimisation should be done in the following ways:<br><br>Optimization of And in an If statement.<br><pre class=code>;From
If a=5 or a=15 Then Print "Moo"

;To
If a=5 then
 If a=15 Then Print "Moo"
EndIf</pre>Note that in this case you should attempt to order it from least likely condition to most likely.<br><br>No need for this equal:<br><pre class=code>;From
If a=True Then Print "Moo"

;To
If a Then Print "Moo"</pre><br><br>Algorithm optimization:<br><pre class=code>;From
Print x/2.1

;To
Print x*.476190476190476190476190476190476</pre> Note that there are tons of algorithm optimisations, and they are very specific. For instance, if you are comparing xy distances:<br><pre class=code>;From
If Sqr(x1*x1+y1*y1)&gt;Sqr(x2*x2+y2*y2) Then Print "Moo" ;Another good optimisation, usage of multiply rather than ^2.

;To
If x1*x2+y1*y1&gt;x2*x2+y2*y2 Then Print "Moo" ;Square both sides, eliminating the costly square root.</pre> <br><br></td></tr></table><br>
<a name="389412"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Pickford</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> My opinion is you NEVER need to optimize code.  You optimize your algorithm.   <br><br>I doubled the framerate on my game the the other week.  That's 150fps to 300+ on a normal level.  I found a better way to render the graphics (single surfaces, less separate meshes etc.)  <br><br>If your algorithm is optimal saving the odd clock cycle on a GOSUB is neither here not there. <br><br></td></tr></table><br>
<a name="389423"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> Agreed - unless your game is running at over 1000M FPS on a 386, you don't need to worry too much about that ;) <br><br></td></tr></table><br>
<a name="389725"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >David819</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok thanks, Well do you know where i can find stuff one single surfaces in the blitz community? <br><br></td></tr></table><br>
<a name="389922"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=978" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=978</a><br><br>:D<br><br>Also check out<br><br><a href="http://s87776868.onlinehome.us/Lotus/" target="_blank">http://s87776868.onlinehome.us/Lotus/</a> <br><br></td></tr></table><br>
<a name="389936"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OverDozing</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> You are telling me that:<br>If a=5 then<br> If a=15 Then Print "Moo"<br>EndIf<br><br>is faster than:<br>If a=5 or a=15 Then Print "Moo"<br><br>is that the same for 'and'?:<br>If a=5 and b=5 Then Print "Moo"<br><br>what about:<br>If a=5 or a=15 or a=25 or a=35 or a=45 Then Print "Moo"<br><br>should it be:<br>If a=5<br> If a=15 <br>  If a=25 <br>   If a=35 <br>    If a=45 then Print "Moo"<br>   EndIf<br>  EndIf<br> EndIf<br>EndIf<br><br>is that correct?? <br><br></td></tr></table><br>
<a name="389938"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OverDozing</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> let say I have 30 lines in my code using this unoptimized syntax.<br><br>Optimizing them would make a noticable gain of speed? sensible one ? <br><br></td></tr></table><br>
<a name="389943"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  My opinion is you NEVER need to optimize code. You optimize your algorithm.  <br></div><br>Exactly. <br><br></td></tr></table><br>
<a name="389945"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> HRC_SPIDER<br><br>Blitz evaluates all conditions in an IF statement and doesn't "early out" like most languages do.  So if you have 8 checks in long IF connected with " And " operands, Blitz is going to evaluate all 8 conditions, even if the first one turns out to be FALSE.<br><br>So if you have something expensive as part of a string of conditions, break it out and put it underneath in another level of indentation.<br><br>It's also fun because you can't do this sort of thing:<br><br>if( Player &lt;&gt; Null And Player\Score &gt; 0 )<br><br>...because if Player turns out to be Null, Blitz will still attempt to evaluate the right side of the "And" and crash.<br><br>You have to do:<br><br>If( Player &lt;&gt; Null )<br>    If( Player\Score &gt; 0 ) <br><br></td></tr></table><br>
<a name="389960"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Optimizing them would make a noticable gain of speed? sensible one ?  <br></div><br><br>Nope.  Its no good applying these kind of optimisations if the code in question is sorting one million items of data with a slow bubble sort for example. <br><br></td></tr></table><br>
<a name="390001"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hehehe. I just noticed I messed up on the optimiszation code. You can only optimize like that with ands. I guess you could try optimising ors like this:<br><br><pre class=code>;From
If a=5 or a=15 Then Print "Moo"

;To
If a=5 Then Print "Moo" ElseIf a=15 then Print "Moo"</pre><br><br>I disagree with the idea that you shouldn't optimise. There is no point in writing code when there is a better method of writing it that is perhaps faster. Especially when you are writing libraries, as multiple people will be using it so optimisation makes even more of an effect.  For the main program, or most games, yes, it is most likely pointless, but it's still advisable. <br><br></td></tr></table><br>
<a name="390133"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OverDozing</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks guys !<br>oops it wasn't my post :O<br>Thank you anyway !! :) <br><br></td></tr></table><br>
<a name="390134"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Especially when you are writing libraries, as multiple people will be using it so optimisation makes even more of an effect. For the main program, or most games, yes, it is most likely pointless, but it's still advisable. <br></div><br><br>Actually, that's a perfect example, for me, of when optimization can be bad. If I'm using a 3rd party library, I want it readable so I can see what's going on. If it's optimized up the wazoo for an imperceptible speed increase, and I can see what's going on, that's no help.<br><br>Optmisation is good, but like John said earlier, optimize where it's going to make a difference. <br><br></td></tr></table><br>
<a name="390484"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rhyolite</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> Being relatively new to Blitz AND 3D (although been programming for most of my 30+ years life!), I have found significant speed increases have only come from optimising my algorithms and methods i.e. by finding more effecient methods of accomplishing the same task (the slow bubble sort metioned above is a good example).<br><br>I did spend quite a bit of time messing with some of the different methods of 'writing' code and generaly found the differences to be negligible when compared to getting the 'method' correct. A good method can give a ten fold speed improvement. Optimising the way you 'write' your code may be good for a few percent at best.<br><br>Also, from many years of experience (jeez, I'm an old git!), its far more important to keep your code clear and readable. This is why functions were 'invented' and allow programmers to reliably program larger and more difficult tasks. Functions were added for a reason, and it was not 'just' to slow down code! The only exception is perhaps optimising any routines that are performed 100's of times a second where small speed increases can add up.<br><br>Rhy Out <br><br></td></tr></table><br>
<a name="390648"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I disagree with the idea that you shouldn't optimise <br></div><br><br>Nobody said you shouldn't optimise, but optimise the METHOD. <br><br></td></tr></table><br>
<a name="390678"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh definitly, optimize the moethod, but you might as well write it in an optimized fashion. Often times it's not harder (If optimisations above). <br><br></td></tr></table><br>
<a name="390817"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rhyolite</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> @bot builder: True. I guess I try to adopt 'optimised' ways of writing my code (such as NOT combining too many IF's on a single line as mentioned above), but I never let this come before writing clear code.<br><br>Rhy Out <br><br></td></tr></table><br>
<a name="390868"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> Clean code using the proper algorithm is always preferable to highly optimized code trying to wring a few more cycles out of a poorly chosen algorithm. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
