<!DOCTYPE html><html lang="en" ><head ><title >Serious Problem with Point Lights!!!</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Serious Problem with Point Lights!!!</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Serious Problem with Point Lights!!!</a><br><br>
<a name="458691"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ion-Storm</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> In every sdk I have used, the radius of point lights = the END of the light falloff. <br><br>In blitz this isn't the case, and even a tiny radius will go on and on, way beyond the radius. This makes DX light-reuse techniques virtually USELESS in blitz3d. <br><br>I will have to move to another language to solve this issue if a solution cannot be found!! <br><br>I believe it's a bug as well the radius should equal the limit of the light's effect <br>It DOES EVERYWHERE ELSEWITH GOOD REASON <br>and that reason is LIGHT RE-USE!<br><br>Ion. <br><br></td></tr></table><br>
<a name="458704"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdrianT</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> hmm, it seems to work when I export lights from 3dsmax with pipeline using inverse falloff and start range as the range the lights don't seem to be infinite. We had the same problem your discussing in Aerial antics thoough which were done in code. I wonder what the difference is?<br><br>I havent checked that the lights truly disappear but when I use pipeline I do get a correct falloff which matches what isshown in the max viewports.<br><br>An example of it in use can be seen in market value where the red flashing light at the end of the timer flashes with a short range at the end of each round. The falloff is clearly visible as it only reaches about halfway across the gameplay area and doesn't light all the gameplay pieces on the board.<br><br>Actually just realised I have a screenshot on our web page of the light I'm talking about<br><br><img src="http://www.leadfootproductions.com/mark3.jpg"><br><br>if you look at the TV's you can clearly see the falloff working (only the ones closer to the point light are lit)<br><br>If you don't use pipeline it might be worth asking pudding, or checking out the extensions and seeing how exactly the falloff ranges are being read from max. <br><br></td></tr></table><br>
<a name="458745"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, I can remember SSwift having something to say about this a while back. With Blitz, the radius is the point at which the falloff begins, not ends. No idea why, but as you say, it's not the case with pretty much every other SDK. <br><br></td></tr></table><br>
<a name="458762"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rhyolite</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Make sure you have turned off ambient lighting, otherwise your whole scene may be lit to the point you can not make out your point light or where it ends.<br><br>AmbientLight(0,0,0)<br><br>Point lights DO work (I just double checked), but as Sybixsus mentioned, the LightRange is the start of the falloff (and yes, I learnt this from sswifts shadow system). So, you have to experiment a bit to get it right, but it does work.<br><br>Hope you get it sorted Ion-Storm :) <br><br></td></tr></table><br>
<a name="458806"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DJWoodgate</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can specify a max light range in code, but it does mean hacking the light structure, which does expose this parameter (or at least it did in 1.87). Easy enough to do but probably a bit of a last resort though, so maybe a feature resquest for an appropriate function would be worthwhile, and maybe one that also gives extended control of the other attenuation parameters (specifying a LightRange is a simplification of these), not I suppose they would be used much, but in for a penny... <br><br></td></tr></table><br>
<a name="458857"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't understand why you're asking for this.<br><br>That is...  I don't understand how being able to limit the falloff of a light will imrpove the situation any.<br><br>The problem as I see it is that you only have X number of hardware lights, and if you add any more than that then those lights won't affect an object.<br><br>I'm not sure if Blitz chooses the X hardware lights closest to an object and uses only those, but when you're talking about a level that's a moot point if the level is all one object everywhere, like a big terrain.<br><br>It seems to me that there is a deeper problem that can't be solved by just changing the falloff.<br><br>If I was going to try to get lights to work better in Blitz and couldn't muck about with internal strucutres or DirectX hacks, then what I would do is first consider what needs to be lit.  And the answer to that is only stuff that is close to the camera, because that's all that can be seen at a particular time.<br><br>So what I would consider doing is making a system which calculates the X closest lights to the camera and enables those and disables all others.  Furthermore I might go so far as to make lights fade out as I walk away from them so that I don't have lights on in the distance which might be turned off suddenly when I run out of lights after using them for what is up close.<br><br>Of course this solution might not fit your specfic case.  I'm not sure exactly what you are trying to accomplish and whether or not changing the falloff would help with that.<br><br>But if what you are worried about is turning off lights suddenly and seeing that affect the local objects, then you could possibly help that by forcing lights to fade out before they are turned off, and/or altering the lights falloff parameter as it receedes from the camera.<br><br>I dunno if that'll be of any help to you, but that's all the ideas I have for improving the lights with what you're given in Blitz. <br><br></td></tr></table><br>
<a name="458881"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BODYPRINT</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't think it's a strange request.<br><br>He just wants to control how far a light will shine.<br><br>By the way you can enter negative values for the range to reduce the length. <br><br></td></tr></table><br>
<a name="458898"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> "He just wants to control how far a light will shine."<br><br>Not so...  <br><br>He also said: <br>"and that reason is light re-use!"<br><br>He doesn't jsut want to control light falloff for aesthetic reasons, he wants to control it in some way which he thinks will allow him to, in effect, use more lights in his app. <br><br></td></tr></table><br>
<a name="458906"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eole</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Sswuift<br><br>I already try to create more than 8 lights and move their.<br>Blitz manage the light with a 'list' if you destroy a light and you have create more than x, it's new light after 8 is create automaticly, you have nothing to do .. <br><br></td></tr></table><br>
<a name="458986"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ion-Storm</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi.<br>Phil your correct,<br>sswift, Let me explain further.. <br><br>I am already sorting lights but because blitz light falloff goes on for nearly forever.. <br><br>It makes light re using in this manner very problematic and it should be fixed so falloff is the end of the light.<br><br>I hope you can undertand.<br><br>Thanks. <br><br></td></tr></table><br>
<a name="459031"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ice9</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just a thought <br>Can you create more than 8 even if the others don't work?<br>Does HideEntity, ShowEntity make the 8 that are showing work? <br><br></td></tr></table><br>
<a name="459033"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ice9</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Another thing, 8 lights can be slow. Would fake lights<br>work? I'm also thinking, If you're doing a space shooter, that you could make some interesting quad filter effects<br>for lights.<br><br>I wonder if you placed a geosphere around an object with a filtered texture<br>aligned to the light sources. sort of a reverse environment<br>effect. <br><br></td></tr></table><br>
<a name="459118"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdrianT</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't see what the problem is really, since you can dynamicly trigger the nearest #of lights in your scene if you like. Did that in Aerial antics. At the time we didn't know how to control the falloff so visually it was a bit weird as we had wll over 8 lights and they would keep switching on and off as you passed through the level. But it shoudl be a piece of cake now. since if it's not visible you shoudln't need to have the light on at all.<br><br>One thing I'd like to have is the ability to have the lights only effect meshes that you want them too. So that only animated objects that move through a level are lit. <br><br></td></tr></table><br>
<a name="459121"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hujiklo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> hmmm..Evak I was only just today thinking the same thing about how to limit lights to certain objects only!!...Would one of those crazy 'render this then render that next' routines do the job?<br><br>Uh - also has anybody tried a minus falloff value?...as the falloff is not strictly working logically this may work.<br><br>However to get around my problems of overlapping fallofs that switch on and off I rigged the lights to adjust their brightness depending on player distance - it was a less noticable problem then. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
