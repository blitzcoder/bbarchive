<!DOCTYPE html><html lang="en" ><head ><title >New ODE 0.5 wrapper for Blitz3D</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >New ODE 0.5 wrapper for Blitz3D</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >New ODE 0.5 wrapper for Blitz3D</a><br><br>
<a name="426953"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Proger</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> First beta version BlitzODE 0.5 wrapper.<br><a href="http://blitz.pp.ru/file/BlitzODE_0_5_b.rar" target="_blank">http://blitz.pp.ru/file/BlitzODE_0_5_b.rar</a><br><br>80% from ALL ODE functions. <br><br></td></tr></table><br>
<a name="426956"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice. Is ode easy to use compared to say tokamak? If you know. <br><br></td></tr></table><br>
<a name="426961"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Proger</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> ODE simple and  comfortable to use. In new 0.5 version addition TriMesh collisions. In future I will add it to wrapper. <br><br></td></tr></table><br>
<a name="427061"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >.rIKmAN.</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there any documentation at all?<br><br>I have seen the list of commands in the .decls file but have no idea what they do etc...<br><br>Thanks! <br><br></td></tr></table><br>
<a name="427064"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://ode.org/" target="_blank">http://ode.org/</a> <br><br></td></tr></table><br>
<a name="427091"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tom</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great work arkon!!!!<br><br>Thanks<br>Tom <br><br></td></tr></table><br>
<a name="427093"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CopperCircle</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow, this is great. <br><br></td></tr></table><br>
<a name="427115"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sweet. A very generous contribution. <br><br></td></tr></table><br>
<a name="427189"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PsychicParrot</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've been hoping someone would build a new ODE wrapper for a while now .. excellent work! I am a big fan of ODE, but I don't have the knowledge to do something like this. Thankyou so much for sharing it with us! <br><br></td></tr></table><br>
<a name="427229"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >.rIKmAN.</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah I didn`t realise that I could use the ODE docs, I thought the wrapper would have its own B3D docs, like Tokamak does.<br><br>Do they commands translate directly then? <br><br></td></tr></table><br>
<a name="427290"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Proger</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Coming soon... <br><br></td></tr></table><br>
<a name="427303"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Proger</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Added new tutorial.<br><a href="http://blitz.pp.ru/file/SimpleCarTest.rar" target="_blank">http://blitz.pp.ru/file/SimpleCarTest.rar</a> <br><br></td></tr></table><br>
<a name="427329"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdrianT</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> hey very nice, might be just in time for our game :), the simple car physics is a bit spongy but shows potential. Seems better than the tocomak stuff I saw before. <br><br></td></tr></table><br>
<a name="427341"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TheMan</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks very good, but can I use if I want to sell my game? <br><br></td></tr></table><br>
<a name="427344"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wheee - have to take a look at this stuff... thanks! <br><br></td></tr></table><br>
<a name="427347"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Proger</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I added TriMesh collision.<br><br><a href="http://blitz.pp.ru/file/BlitzODE_0_52_b.rar" target="_blank">http://blitz.pp.ru/file/BlitzODE_0_52_b.rar</a><br><br>Enjoy! <br><br></td></tr></table><br>
<a name="427352"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Spacemonkey</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> I like it !!! <br><br></td></tr></table><br>
<a name="427363"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, brilliant work!<br><br>Regarding the car, why are you using spheres for wheels? <br><br></td></tr></table><br>
<a name="427366"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Proger</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> because in original ODE samples wheels are done using spheres...:) <br><br></td></tr></table><br>
<a name="427393"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is great, but ODE has always suffered from problems with carsims trying to keep the rear wheels in line - if you read the ODE mailing lists this problem has never really been solved, and it means you always get rear wheel steering at higher speeds.<br><br>When I used my original ODE wrapper I had this problem, and I could never find a way around it, which in the end rendered the system useless for car sims, at least those involving higher speeds (someone else here used it really well for a slower Halo-style buggy - Island Storm was it??).<br><br>I really hope someone can solve the problem as the carwheel joint is great and gives instant and very customisable suspension, and can give much better results than Tokamak. <br><br></td></tr></table><br>
<a name="427399"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is easily portable to mac and linux (the source is all there) so at a guess I would say ODE is the future of Blitz physics.<br><br>You can even sell your stuff with ODE. So it's probably worth ironing out problems this early and getting a good community following. Tokamak and ODE both rock, and are the only proper engines we can use. <br><br></td></tr></table><br>
<a name="427420"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you want an ODE section adding to the playerfactory forums just e-mail me.<br><a href="http://playerfactory.proboards25.com/" target="_blank">http://playerfactory.proboards25.com/</a> <br><br></td></tr></table><br>
<a name="427426"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> woohoo! ive been working with ode in a project for ages and weve had to be careful by using careful level designs.. Is this release stable? :D <br><br></td></tr></table><br>
<a name="427433"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Proger</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> stable :))) <br><br></td></tr></table><br>
<a name="427434"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> So.. I guess I have to use the "TriMesh collision" if I want to drive around using my own mesh?<br><br>[edit] Ah, damn, it's already in the new updated car demo - cool! :) <br><br></td></tr></table><br>
<a name="427435"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> umm, you could do that before in the old wrapper, what is trimesh collision? :S <br><br></td></tr></table><br>
<a name="427436"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> "ODE has always suffered from problems with carsims trying to keep the rear wheels in line - if you read the ODE mailing lists this problem has never really been solved, and it means you always get rear wheel steering at higher speeds."<br><br><br>I just played with it and i dont realy get it now.. i dont know what i did to fix that though :S <br><br></td></tr></table><br>
<a name="427447"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am moving my project over from tokamak to ODE.<br><br>Please keep up the excellent work Arkon :) <br><br></td></tr></table><br>
<a name="427452"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Caff</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> nice, thanks for this arkon! <br><br></td></tr></table><br>
<a name="427453"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> ive had something good goin for a coupla monthsnow.. but nowODE is stable, i have a problem- i gota be fast before you loada skilled guys beat me to it ^.^ <br><br></td></tr></table><br>
<a name="427457"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> Checked out the demos and it looks sweet...<br><br>I'mt thinking of integrating this into Vivid.I take it as this is a wrapper to an public domain lib, this is public domain too? <br><br></td></tr></table><br>
<a name="427461"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>I take it as this is a wrapper to an public domain lib, this is public domain too? <br> <br></div><br><br><a href="http://ode.org/ode-license.html" target="_blank">http://ode.org/ode-license.html</a> <br><br></td></tr></table><br>
<a name="427463"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Proger</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> ... <br><br></td></tr></table><br>
<a name="427465"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Picklesworth</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hm. Very nice physics. And while I was driving the car demo around I thought of a great idea which I will speak of no more for now. Judging by the samples that come with it though, I'm not at all impressed by the car, and I hope that it was a problem with it's mass or something. It feels way too heavy, and definietly wouldn't go over well with game use. The rest seems very nice and stable though, and since it's open source I can always expect it to grow (just so long as the lib does too).<br>Nice job arkon! <br><br></td></tr></table><br>
<a name="427470"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eric</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> Arkon,<br><br>I have a program, Fairly long now, that is Tokamak Based. IT seems like all the supported commands In ODE That I need are here. Thanks, It seems as though Tokamak is Dead, so I think I will take the time to Transform to ODE. <br><br>One Question: The TriMesh Commands. Can you give me a small sample of there use?<br><br>Regards,<br>Eric<br><br>Is ODE Better than Tokamak? Just for Info. <br><br></td></tr></table><br>
<a name="427472"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> can it do ragdoll effects? <br><br></td></tr></table><br>
<a name="427477"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes, it can do ragdoll effects, with a small amount of effort...<br><br>it is joint based too.<br><br>and it is 10x better at car sims than toka ^.^<br><br>Mr picklesworth, we both have some good ideas, i hope yours isnt the same as mine ^.^ <br><br></td></tr></table><br>
<a name="427484"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Proger</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sample TriMesh - ODE_Tutorial_3_1.bb <br><br></td></tr></table><br>
<a name="427486"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eric</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> And Where is that Tutorial?<br><br>Edit..Found them <br><br></td></tr></table><br>
<a name="427491"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Picklesworth</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hehe, shouldn't be eric. Mine was completely random. See my worklog to find it.<br><br>I'm very glad that my game is set in the future so I can get away with having absolutely no regular car sims. It can all just be sensors and apply impulses :)<br><br>Are there convex hulls in ODE? <br><br></td></tr></table><br>
<a name="427494"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Proger</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, but the triangle mesh class is not final, so in the future API changes might be expected. <br><br></td></tr></table><br>
<a name="427504"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eric</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> How about Collision Detection? <br><br></td></tr></table><br>
<a name="427508"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Proger</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> working on it <br><br></td></tr></table><br>
<a name="427510"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eric</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> Arkon,<br><br>Have you played with Tokamak? I really would like to know if ODE is better.<br><br>As soon as you are able to get collision detection in there, I will transform my game to ODE. And Do a comparison.<br><br>Thanks for Wrapping this.<br><br>Regards,<br>Eric <br><br></td></tr></table><br>
<a name="427537"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> Blitz ODE forum here:<br><a href="http://playerfactory.proboards25.com" target="_blank">http://playerfactory.proboards25.com</a> <br><br></td></tr></table><br>
<a name="427540"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CopperCircle</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> Arkon, the wrapper is progressing well, but I think there is a bug with ODE Cylinders and TriMesh's, the cylinders act crazy when they collide with the TriMesh. <br><br></td></tr></table><br>
<a name="427551"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> i cant get trimesh working &gt;.&lt; hellp <br><br></td></tr></table><br>
<a name="427565"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> Arkon, there is an invisible "floor" to the world which I would like you to remove if possible. I assume you create it for debugging purposes?<br><br>MODERATORS: how about sticky? this is rapidly becoming incredibly powerful. ODE is more powerful and capable than tokamak, and is also cross platform. <br><br></td></tr></table><br>
<a name="427568"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> @bloodlocust: From what i remember, ODE has an invisible floor at Y=0<br><br>Ive always got around it by loading everything 1000 or so units above it (depending on level size) :) <br><br></td></tr></table><br>
<a name="427581"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Cyg :)<br><br>Also, It appears I too am having trouble getting my own b3d meshes working. I am using LoadMesh and nothing fancy... strange. There should be no hierarchy with loadmesh. <br><br></td></tr></table><br>
<a name="427585"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#51">[#51]</a></td></tr></table></td></tr><tr ><td class="posttext"> This new version seems to add the mesh to a bank and sends it to ODE<br>you must scalemesh it down rather than use normal mesh commands<br>thats kinda limiting to be honest.<br><br>How about doing it how the old one did? storing the blitz collision stuff and sending THAT to ode instead? <br><br></td></tr></table><br>
<a name="427614"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#52">[#52]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, the trimesh totally f**ks up when the mesh is textured. what on earth? hehe... cant be too dificult to fix.. il take a look :S <br><br></td></tr></table><br>
<a name="427631"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#53">[#53]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can you post the package as a zip? <br><br></td></tr></table><br>
<a name="427633"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#54">[#54]</a></td></tr></table></td></tr><tr ><td class="posttext"> rightey, The problem lies that when it loads the textures the meshes can get split up, and its not functioning properly with multi surface, il post it fixed if he arkon doesnt! <br><br></td></tr></table><br>
<a name="427635"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Filax</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#55">[#55]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great work !!!! thanks ! <br><br></td></tr></table><br>
<a name="427640"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#56">[#56]</a></td></tr></table></td></tr><tr ><td class="posttext"> *bot_builder migrates<br><br>If only tokamak had better friction :( ohwell, the problems with ODE crashing etc are fixed now? <br><br></td></tr></table><br>
<a name="427649"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#57">[#57]</a></td></tr></table></td></tr><tr ><td class="posttext"> @bot builder; if anyone who used it before recompiled it with a larger stack as the website says to, itd work before :P<br><br>IM in the middle of repairing his trimesh collision, but my way round it is in his trimesh create routine:<br><br>1) regenerate the mesh without textures, as a single surface<br>2) add the info for THAT mesh to the trimesh collision<br>3) delete the created mesh from memory <br><br></td></tr></table><br>
<a name="427654"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#58">[#58]</a></td></tr></table></td></tr><tr ><td class="posttext"> actually, its a simple maths problem with it (with multi surfaces its sending all the triangles connected with vertices of the first surface).... <br><br></td></tr></table><br>
<a name="427655"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#59">[#59]</a></td></tr></table></td></tr><tr ><td class="posttext"> Righto, so it has to be a single surface mesh. Easily fixed.<br><br>What would be nice is finding the point of collision and how hard they collided. Posssible? And also of course having different physical properties per triangle.<br><br>For example, grass and tarmac... <br><br></td></tr></table><br>
<a name="427661"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#60">[#60]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just fixed it ^.^<br>Replace the old ODE_dTriMeshCreate% function with this (blitzode.bb)<br><br><pre class=code>
Function ODE_dTriMeshCreate%(mesh%)
	tris_count% = 0
	vert_count% = 0
	For i = 1 To CountSurfaces(mesh)
		tris_count = tris_count + CountTriangles(GetSurface(mesh, i))
		vert_count = vert_count + CountVertices(GetSurface(mesh, i))
	Next
	DebugLog "Tris count: " + tris_count
	DebugLog "Vertices count: " + vert_count
		DebugLog "surface count: "+CountSurfaces(mesh)
	vertices_bank% = CreateBank(vert_count * 4 * 4)
	indices_bank% = CreateBank(tris_count * 3 * 4)

	offset% = 0
	offset_tris% = 0
	baseverts=0
	For i = 1 To CountSurfaces(mesh)
		sf = GetSurface(mesh, i)
		For v = 0 To CountVertices(sf) - 1
			PokeFloat vertices_bank, offset, VertexX(sf, v)
			offset = offset + 4
			PokeFloat vertices_bank, offset, VertexY(sf, v)
			offset = offset + 4
			PokeFloat vertices_bank, offset, VertexZ(sf, v)
			offset = offset + 8
		Next
		For t = 0 To CountTriangles(sf) - 1
			For j = 0 To 2
				v = TriangleVertex(sf, t, j)+baseverts
				PokeInt indices_bank, offset_tris, v
				offset_tris = offset_tris + 4
			Next
		Next
		baseverts=baseverts+CountVertices(sf)
	Next
	
	t_data = ODE_dGeomTriMeshDataCreate()
	ODE_dGeomTriMeshDataBuildSimple(t_data, vertices_bank, vert_count, indices_bank, tris_count * 3)
 
	Return ODE_dCreateTriMesh(space, t_data)
End Function
</pre> <br><br></td></tr></table><br>
<a name="427665"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#61">[#61]</a></td></tr></table></td></tr><tr ><td class="posttext"> Simple enough fix:<br><br>&lt;snip&gt;doh cross post&lt;/snip&gt;<br><br>Is it possible to call this multiple times?  In tokamak I had to do some stuff to get a bunch of meshs into one mesh bank.<br><br><pre class=code>Const VertexCount = 5
Const IndexCount = 12

Global size#[3]
Dim Vertices#(5, 3)
Global Indices%[12]
Global vr%[5]</pre><br><br>This is no longer required on the top of the 03_01 tutorial. <br><br></td></tr></table><br>
<a name="427688"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#62">[#62]</a></td></tr></table></td></tr><tr ><td class="posttext"> great minds, eh bot builder?<br><br>I beleive youd just use a mesh joiner from the code archives then send that mesh across <br><br></td></tr></table><br>
<a name="427704"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#63">[#63]</a></td></tr></table></td></tr><tr ><td class="posttext"> sweet! fix works perfectly.<br><br>Hey - do cylinders work okay? Someone seems to be having problems with those. <br><br></td></tr></table><br>
<a name="427744"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#64">[#64]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can anyone here recompile it with double the stack space? I cant even run this with ten cars :( <br><br></td></tr></table><br>
<a name="427752"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Filax</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#65">[#65]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi :) i'm testing ODE i have made a little include for setup easily<br>box and sphere :)<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">; ----------------------------
; Global ODE space
; ----------------------------
Global ODE_Space

; --------------------------
; ODE Object Type
; --------------------------
Type ODE_Object
	Field ObjectBody
	Field ObjectMesh
	Field ObjectGeom

	Field ObjectFake

	Field ObjectMass#

	Field ObjectRotX#
	Field ObjectRotY#
	Field ObjectRotZ#
	
	Field ObjectPx#
	Field ObjectPy#
	Field ObjectPz#

	Field ObjectScaleX#
	Field ObjectScaleY#
	Field ObjectScaleZ#
End Type

; ---------------------------
; Setup easily world
; ---------------------------
Function ODE_InitWorld(Gravity#=-1.5,Bounce#=0.05)
	ODE_Space = ODE_dWorldCreate()
	ODE_dWorldSetGravity(0, Gravity#, 0)

	ODE_dSetContactMode(dContactBounce + dContactSoftERP + dContactSoftCFM)
	
	ODE_dSetBOUNCE(Bounce#)
	ODE_dSetSOFT_ERP(0.4)
	ODE_dSetSOFT_CFM(0.8)
End Function

; --------------------------
; Setup easily cube
; --------------------------
Function ODE_CreateCube(Px#,Py#,Pz#,RotX#,RotY#,RotZ#,ScaleX#,ScaleY#,ScaleZ#,Mass#=10,Red=255,Green=255,Blue=255)
	G.ODE_Object = New ODE_Object

	G\ObjectMass#=Mass#
	
	G\ObjectScaleX#=ScaleX#
	G\ObjectScaleY#=ScaleY#
	G\ObjectScaleZ#=ScaleZ#

	G\ObjectBody = ODE_dBodyCreate()
	G\ObjectGeom = ODE_dCreateBox(ODE_Space, G\ObjectScaleX#*2,G\ObjectScaleY#*2,G\ObjectScaleZ#*2, G\ObjectMass#)
	ODE_dGeomSetBody G\ObjectGeom, G\ObjectBody

	G\ObjectRotX#=RotX#
	G\ObjectRotY#=RotY#
	G\ObjectRotZ#=RotZ#
	
	G\ObjectPx#=Px#
	G\ObjectPy#=Py#
	G\ObjectPz#=Pz#

	ODE_dBodySetPosition(G\ObjectBody, G\ObjectPx#,G\ObjectPy#,G\ObjectPz#)
	ODE_dBodySetRotation(G\ObjectBody, G\ObjectRotX#,G\ObjectRotY#,G\ObjectRotZ#)

	G\ObjectMesh = CreateCube()

	PositionEntity G\ObjectMesh,G\ObjectPx#,G\ObjectPy#,G\ObjectPz#
	ScaleEntity G\ObjectMesh,G\ObjectScaleX#,G\ObjectScaleY#,G\ObjectScaleZ#
	EntityColor G\ObjectMesh, Red,Green,Blue
End Function

; -----------------------------
; Setup easily sphere
; -----------------------------
Function ODE_CreateSphere(Px#,Py#,Pz#,Scale#,Mass#=10,Red=255,Green=255,Blue=255)
	G.ODE_Object = New ODE_Object

	G\ObjectMass#=Mass#

	G\ObjectScaleX#=Scale#
	G\ObjectScaleY#=Scale#
	G\ObjectScaleZ#=Scale#

	G\ObjectBody = ODE_dBodyCreate()
	G\ObjectGeom = ODE_dCreateSphere(ODE_Space,G\ObjectScaleX#, G\ObjectMass#)
	ODE_dGeomSetBody G\ObjectGeom, G\ObjectBody
	
	G\ObjectPx#=Px#
	G\ObjectPy#=Py#
	G\ObjectPz#=Pz#
	
	ODE_dBodySetPosition(G\ObjectBody, G\ObjectPx#,G\ObjectPy#,G\ObjectPz#)

	G\ObjectMesh = CreateSphere()

	PositionEntity G\ObjectMesh,G\ObjectPx#,G\ObjectPy#,G\ObjectPz#
	ScaleEntity G\ObjectMesh,G\ObjectScaleX#,G\ObjectScaleY#,G\ObjectScaleZ#
	EntityColor G\ObjectMesh, Red,Green,Blue
End Function

; -------------------------------
; Setup easily cylinder
; -------------------------------
Function ODE_CreateCylinder(Px#,Py#,Pz#,RotX#,RotY#,RotZ#,Radius#,Height#,Mass#=10,Red=255,Green=255,Blue=255)
	G.ODE_Object = New ODE_Object

	G\ObjectMass#=Mass#

	G\ObjectScaleX#=Radius#
	G\ObjectScaleY#=Height#
	G\ObjectScaleZ#=Radius#

	G\ObjectBody = ODE_dBodyCreate()
	G\ObjectGeom = ODE_dCreateCCylinder(ODE_Space,G\ObjectScaleX#, G\ObjectScaleY#*2,G\ObjectMass#)
	ODE_dGeomSetBody G\ObjectGeom, G\ObjectBody
	
	G\ObjectPx#=Px#
	G\ObjectPy#=Py#
	G\ObjectPz#=Pz#

	G\ObjectRotX#=RotX#
	G\ObjectRotY#=RotY#
	G\ObjectRotZ#=RotZ#

	ODE_dBodySetPosition(G\ObjectBody, G\ObjectPx#,G\ObjectPy#,G\ObjectPz#)
	ODE_dBodySetRotation(G\ObjectBody, G\ObjectRotX#,G\ObjectRotY#,G\ObjectRotZ#)
	
	G\ObjectMesh = CreatePivot()
	G\ObjectFake=CreateCylinder(8,1,G\ObjectMesh)
	
	RotateEntity G\ObjectFake, 90, 0, 0
	PositionEntity G\ObjectMesh,G\ObjectPx#,G\ObjectPy#,G\ObjectPz#
	ScaleEntity G\ObjectFake,G\ObjectScaleX#,G\ObjectScaleY#,G\ObjectScaleZ#
	EntityColor G\ObjectFake, Red,Green,Blue

	RotateEntity G\ObjectMesh,G\ObjectRotX#,G\ObjectRotY#,G\ObjectRotZ#
End Function

; ---------------------
; Update physic
; ---------------------
Function ODE_UpdatePhysic(Time#=0.1)
	For G.ODE_Object = Each ODE_Object
		PositionEntity G\ObjectMesh, ODE_dGeomGetPositionX(G\ObjectGeom), ODE_dGeomGetPositionY(G\ObjectGeom), ODE_dGeomGetPositionZ(G\ObjectGeom)
		RotateEntity G\ObjectMesh, ODE_dGeomGetPitch(G\ObjectGeom), ODE_dGeomGetYaw(G\ObjectGeom), ODE_dGeomGetRoll(G\ObjectGeom), 1
	Next
End Function



This is a test code
---------------------------



; ------------------------
; Freelook cam var
; ------------------------
Global Mouse_X_Speed#
Global Mouse_Y_Speed#
Global Camera_VelX#
Global Camera_VelZ#
Global Camera_Pitch
Global Camera_Yaw

Include "BlitzODE.bb"
Include "Inc_ODEStuff.bb"

;------ Initialize Graphics --------
Graphics3D 800, 600,16,2
SetBuffer BackBuffer()

cam = CreateCamera()
PositionEntity cam, 0, 10, -25

lh = CreateLight(2)
PositionEntity lh,50,50,50
LightRange lh,100
LightColor lh,255,200,150


plane = CreatePlane()
mirror = CreateMirror(plane)
EntityColor plane, 0, 0, 150
EntityAlpha plane, .8
PositionEntity plane,0,-0.3,0

SeedRnd MilliSecs()
;--------- Initialize ODE ----------
ODE_InitWorld()


;------- Create siple cube ---------
For i=5 To 40 Step 2
Mass#=Rnd(5,10)
ODE_CreateCube(Rnd(-5,5),i,Rnd(-5,5),0,0,0,1,1,1,Mass#,Rnd(255),Rnd(255),Rnd(255))
ODE_CreateSphere(Rnd(-5,5),i,Rnd(-5,5),1,Mass#,Rnd(255),Rnd(255),Rnd(255))

ODE_CreateCylinder(Rnd(-5,5),i,Rnd(-5,5),45,50,65,1,3,Mass#,Rnd(255),Rnd(255),Rnd(255))
 
Next

;mesh=LoadMesh("002.b3d")
;ODE_dTriMeshCreate%(mesh)

;-----------------------------------

ODE_UpdatePhysic()

;-----------------------------------

gameFPS = 50.0
framePeriod = 1000 / gameFPS
frameTime = MilliSecs () - framePeriod

MoveMouse GraphicsWidth()/2,GraphicsHeight()/2

While Not KeyHit(1)
	Repeat
		frameElapsed = MilliSecs () - frameTime
	Until frameElapsed
	
	frameTicks = frameElapsed / framePeriod
	frameTween# = Float(frameElapsed Mod framePeriod) / Float(framePeriod)
	For frameLimit = 1 To frameTicks
		If frameLimit = frameTicks Then CaptureWorld
		frameTime = frameTime + framePeriod

            ;------------ Update physics world ----------		

		
	ODE_dWorldQuickStep 0.1
            ;--------------------------------------------

	Next

		If KeyHit(57)
			For G.ODE_Object = Each ODE_Object
				ODE_dBodyEnable G\ObjectBody
				ODE_dBodyAddForce G\ObjectBody, 0, Rnd(20, 50), 0
				ODE_dBodyAddTorque G\ObjectBody, Rnd(-30, 10), Rnd(-10, 10), Rnd(-10, 10)
			Next
		EndIf
		
	;---- Set geometry position and rotation ----

	ODE_UpdatePhysic()

Proc_Freelook(Cam,1.05,0.01) 
	;--------------------------------------------

	RenderWorld frameTween#
	
	Flip 0
Wend

ODE_dCloseODE()
End

Function Proc_Freelook(CamEntity,Velocity#,Speed#)
 Mouse_X_Speed#=MouseXSpeed()*0.5
 Mouse_Y_Speed#=MouseYSpeed()*0.5

 MoveMouse GraphicsWidth()/2,GraphicsHeight()/2
 Camera_Pitch=Camera_Pitch+Mouse_Y_Speed#
 Camera_Yaw=Camera_Yaw+Mouse_X_Speed#


 RotateEntity CamEntity,Camera_Pitch,-Camera_Yaw,0

 If KeyDown(203) Then
   Camera_VelX=Camera_VelX-Speed#
 ElseIf  KeyDown(205)
   Camera_VelX=Camera_VelX+Speed#
 EndIf
 If KeyDown(208) Then
   Camera_VelZ=Camera_VelZ-Speed#
 ElseIf  KeyDown(200)
   Camera_VelZ=Camera_VelZ+Speed#
 EndIf
 
 Camera_VelX=Camera_VelX/velocity#
 Camera_VelZ=Camera_VelZ/velocity#
 MoveEntity CamEntity,Camera_VelX,0,Camera_VelZ

 If KeyDown(200) Then
   MoveEntity CamEntity,0,0,Speed#
 EndIf

 If KeyDown(208) Then
   MoveEntity CamEntity,0,0,-Speed#
 EndIf

 If KeyDown(205) Then
   MoveEntity CamEntity,Speed#,0,0
 EndIf

 If KeyDown(203) Then
   MoveEntity CamEntity,-Speed#,0,0
 EndIf
End Function</textarea> <br><br></td></tr></table><br>
<a name="427766"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CopperCircle</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#66">[#66]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have been playing with the car demo, it's not great but more stable.  Have a look...<br><br>I have also added some useful functions to the BlitzODE.bb<br><br><a href="http://www.apaj15.dsl.pipex.com/BlitzODE_Test.zip" target="_blank">http://www.apaj15.dsl.pipex.com/BlitzODE_Test.zip</a> (342k) <br><br></td></tr></table><br>
<a name="427767"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eric</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#67">[#67]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm Looking around for some sort of Linear and Angular Dampining Commands like in Tokamak, has anyone come across them? <br><br></td></tr></table><br>
<a name="427770"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#68">[#68]</a></td></tr></table></td></tr><tr ><td class="posttext"> you can do it by Getting the values, doing a *.99 or something, then setting them. i think thats what you want! <br><br></td></tr></table><br>
<a name="427771"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#69">[#69]</a></td></tr></table></td></tr><tr ><td class="posttext"> By the way, im also adding commands that make this ODE version compatible with code people has done before, so itl take alot less to convert over :) <br><br></td></tr></table><br>
<a name="427774"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#70">[#70]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  I'm Looking around for some sort of Linear and Angular Dampining Commands like in Tokamak, has anyone come across them? <br></div><br>These are easy and are in the actual sourcecode examples.<br><br>in the 03_01 car sample, there is<br><pre class=code>
ax# = ODE_dBodyGetAngularVelX(cbody[0]) * .7
ay# = ODE_dBodyGetAngularVelY(cbody[0]) * .8
az# = ODE_dBodyGetAngularVelZ(cbody[0]) * .7
ODE_dBodySetAngularVel(cbody[0], ax#, ay#, az#)
</pre><br><br>Make something like... (untested):<br><br>Function ODE_AngularDamp(geombody,dampx#,dampy#,dampz#)<br>ax# = ODE_dBodyGetAngularVelX(geombody) * dampx<br>ay# = ODE_dBodyGetAngularVelY(geombody) * dampy<br>az# = ODE_dBodyGetAngularVelZ(geombody) * dampz<br>ODE_dBodySetAngularVel(geombody,ax#,ay#,az#)<br>End Function<br><br>Call each frame instead of once like tokamak and ti will angular damp. Linear damp will damp your momentum so look for the relevant commands to do that... At least I think this is the procedure to use. <br><br></td></tr></table><br>
<a name="427776"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#71">[#71]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh yes one more thing: I think the *dumb* floor at Y=0 should be optional and the cylinder physics are *broken* :)<br><br>So thats an official bug. I've got loads of helper functions but I wanna wait and see what goes on with convex hulls. It would be sweet if it supports QHULL, like tokamak and coldet. <br><br></td></tr></table><br>
<a name="427792"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eric</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#72">[#72]</a></td></tr></table></td></tr><tr ><td class="posttext"> Blood,<br><br>Worked Like a Champ, I just thought that maybe there was a built in command.. thanks for the Code and Reply.<br><br>Regards,<br>Eric <br><br></td></tr></table><br>
<a name="427812"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Filax</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#73">[#73]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there a way to scan object scale for automate the ODE box<br>around object ??? i have try <br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">; --------------------------
; Setup easily cube
; --------------------------
Function ODE_CreateCubeMesh(Mesh$,Px#,Py#,Pz#,RotX#,RotY#,RotZ#,Mass#=10,Red=255,Green=255,Blue=255)
	G.ODE_Object = New ODE_Object

	G\ObjectMass#=Mass#
	G\ObjectMesh = LoadMesh(Mesh$)
	
	G\ObjectRotX#=RotX#
	G\ObjectRotY#=RotY#
	G\ObjectRotZ#=RotZ#
	
	G\ObjectPx#=Px#
	G\ObjectPy#=Py#
	G\ObjectPz#=Pz#

	RotateEntity G\ObjectMesh,G\ObjectRotX#,G\ObjectRotY#,G\ObjectRotZ#
	PositionEntity G\ObjectMesh,G\ObjectPx#,G\ObjectPy#,G\ObjectPz#
	EntityColor G\ObjectMesh, Red,Green,Blue

	G\ObjectScaleX#=ODE_EntityScale#(G\ObjectMesh,0) 
	G\ObjectScaleY#=ODE_EntityScale#(G\ObjectMesh,1) 
	G\ObjectScaleZ#=ODE_EntityScale#(G\ObjectMesh,2) 
	
	G\ObjectBody = ODE_dBodyCreate()
	G\ObjectGeom = ODE_dCreateBox(ODE_Space, G\ObjectScaleX#,G\ObjectScaleY#,G\ObjectScaleZ#, G\ObjectMass#)
	
	ODE_dGeomSetBody G\ObjectGeom, G\ObjectBody
	ODE_dBodySetPosition(G\ObjectBody, G\ObjectPx#,G\ObjectPy#,G\ObjectPz#)
	ODE_dBodySetRotation(G\ObjectBody, G\ObjectRotX#,G\ObjectRotY#,G\ObjectRotZ#)
End Function

Function ODE_EntityScale#(entity,axis) 
    x#=GetMatElement(entity,axis,0) 
    y#=GetMatElement(entity,axis,1) 
    z#=GetMatElement(entity,axis,2) 
    Return Sqr(x*x+y*y+z*z) 
End Function </textarea><br><br>But seem don't work well ?? i don't know why <br><br></td></tr></table><br>
<a name="427818"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CopperCircle</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#74">[#74]</a></td></tr></table></td></tr><tr ><td class="posttext"> Filax, look at my ODE_CreateBox function in the test I posted above, that scales the mesh to the ODE box size, just make sure your mesh is centerd on it's axis. <br><br></td></tr></table><br>
<a name="427822"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#75">[#75]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's mine. Elegent (I thought):<br><pre class=code>
;links entities to rigid bodies
Function ODELink(ent,geo)
	o.odelink=New odelink
	o\ent=ent
	o\geo=geo
End Function

;updates entity transforms to match rigid bodies
Function ODEUpdateLinks()
	For o.odelink=Each odelink
		PositionEntity o\ent, ODE_dGeomGetPositionX(o\geo), ODE_dGeomGetPositionY(o\geo), ODE_dGeomGetPositionZ(o\geo)
		RotateEntity o\ent, ODE_dGeomGetPitch(o\geo), ODE_dGeomGetYaw(o\geo), ODE_dGeomGetRoll(o\geo),1
	Next
End Function

;creates a rigid body cube from a source entity's dimensions and link them together
Function ODECube(ent)
	;get transform
	x#=EntityX(ent,1)
	y#=EntityY(ent,1)
	z#=EntityZ(ent,1)
	sx#=MeshWidth(ent)
	sy#=MeshHeight(ent)
	sz#=MeshDepth(ent)

	;create ode rigid body
	o.odebody = New odebody
	o\body = ODE_dBodyCreate()

	;create the rigid body geometry for ode
	o\geo = ODE_dCreateBox(ODE,sx,sy,sz,10)
	ODE_dGeomSetBody o\geo, o\body

	;set position and rotation
	ODE_dBodySetPosition(o\body,x,y,z)
	ODE_dBodySetRotation(o\body,0,0,0)

	;link
	ODELink(ent,o\geo)
	
	Return o\body
End Function
</pre><br><br>An Example of use:<br><pre class=code>
For i=1 To 100
	temp=CreateCube()
	PositionEntity temp,Rand(-100,100),100,Rand(-100,100)

	;turn it into an ode object
	obj = ODECube(temp)
Next
</pre><br><br>my mainloop:<br><pre class=code>
;mainloop
While Not KeyHit(1)
	UpdateInput()
	
	Repeat
		elapsed=MilliSecs()-time
	Until elapsed
	ticks=elapsed/period
	tween#=Float(elapsed Mod period)/Float(period)
	For k=1 To ticks
		time=time+period
		If k=ticks Then CaptureWorld

		UpdateGame()
		
		ODEUpdate(0.1) ;required before updateworld
		UpdateWorld
	Next

	ODEUpdateLinks() ;required before renderworld
	RenderWorld tween
	
	Flip
Wend
ODEEnd()
End
</pre><br><br><br>I think my set of code sets out an easy working practise that is well organised and suitable for importing objects. The concept is simple, you provide the meshes and then you convert them into ode objects. You'll find in most cases, this is what you want to do anyway... <br><br></td></tr></table><br>
<a name="427880"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Proger</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#76">[#76]</a></td></tr></table></td></tr><tr ><td class="posttext"> I finished adding collision handle...<br><br>Only userlib with new update: <a href="http://blitz.pp.ru/file/userlibs.rar" target="_blank">http://blitz.pp.ru/file/userlibs.rar</a><br><br>Added new functions:<br>ODE_dBodyGetCollisionsCount%(body%)<br>ODE_dBodyGetCollisionDepth#(body%, num%)<br>ODE_dBodyGetCollisionBody%(body%, num%)<br>ODE_dBodyGetCollisionGeom%(body%, num%)<br>ODE_dBodyGetCollisionX#(body%, num%)<br>ODE_dBodyGetCollisionY#(body%, num%)<br>ODE_dBodyGetCollisionZ#(body%, num%)<br>ODE_dBodyGetCollisionNX#(body%, num%)<br>ODE_dBodyGetCollisionNY#(body%, num%)<br>ODE_dBodyGetCollisionNZ#(body%, num%)<br>ODE_dBodyGetCollisionFX#(body%, num%)<br>ODE_dBodyGetCollisionFY#(body%, num%)<br>ODE_dBodyGetCollisionFZ#(body%, num%)<br><br>Enjoy! <br><br></td></tr></table><br>
<a name="427907"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RepeatUntil</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#77">[#77]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you very much for this wrapper!<br>My game uses Tokamak, and I encounter a lot of bugs with it. But, I won't switch so easily to ODE: is there *really* less bug that in Tokamak? Is it really better? <br><br></td></tr></table><br>
<a name="427910"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#78">[#78]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>The concept is simple, you provide the meshes and then you convert them into ode objects. You'll find in most cases, this is what you want to do anyway... <br> <br></div><br><br>Yup! And although multi-surface meshes (for ODE) were already fixed, I think that it might be good to do separate single surface meshes for physics, like for terrains... you can use higher resolution mesh for rendering and lower resolution for physics.<br><br>How do I use the collisions that were just added? For example how can I know if the car has collided to something and then get the info what was the exact object it collided with?<br><br>And how would I do 1st person cameras with this... there would be no need to use any built-in Blitz collisions at all if I can do my player collisions with this too.<br><br>And what about humanish ragdolls - any examples / tutorials anyone? <br><br></td></tr></table><br>
<a name="427913"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Proger</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#79">[#79]</a></td></tr></table></td></tr><tr ><td class="posttext"> Demo for collision response - <a href="http://blitz.pp.ru/file/ODE_Tutorial_04_00.zip" target="_blank">http://blitz.pp.ru/file/ODE_Tutorial_04_00.zip</a> <br><br></td></tr></table><br>
<a name="427934"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sweenie</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#80">[#80]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm actually thinking about moving my carsimulation over to ODE aswell.<br>I'm starting to get fed up with all the workarounds I have to do with Tokamak all the time.<br><br>But I'm gonna use the same method for handling wheels.<br>That is, using cylinders to handle the collisions but using my own code to handle the friction of the wheels. <br><br></td></tr></table><br>
<a name="427939"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wayne</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#81">[#81]</a></td></tr></table></td></tr><tr ><td class="posttext"> I must check this out. <br><br></td></tr></table><br>
<a name="427945"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Filax</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#82">[#82]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for help :) i'll try it :)<br><br>Very good wrapper ! thanks <br><br></td></tr></table><br>
<a name="427954"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#83">[#83]</a></td></tr></table></td></tr><tr ><td class="posttext"> fun fun fun<br><br>I now have 25 cars racing around a track with me ^.^<br><br>Dudes, someone here must be able to recompile this DLL for me? i need to push it past its current limits... im stuck with using the quick update function at the moment :(<br><br><br>Cheers <br><br></td></tr></table><br>
<a name="427955"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#84">[#84]</a></td></tr></table></td></tr><tr ><td class="posttext"> Arkon, nice work! There is a BUG with cylinders though.<br><br><div class="quote"> How do I use the collisions that were just added? For example how can I know if the car has collided to something and then get the info what was the exact object it collided with?<br><br>And how would I do 1st person cameras with this... there would be no need to use any built-in Blitz collisions at all if I can do my player collisions with this too. <br></div><br>Mustang, just like blitz Collisions!<br><pre class=code>
count = ODE_dBodyGetCollisionsCount(box) ;CountCollisions(ent)

;loop through all collisions...
For i = 0 To count-1
	depth# = ODE_dBodyGetCollisionDepth(box, i) ;force of collision... (depth)... use FX for a true force.
	collidedwith = ODE_dBodyGetCollisionBody(box,i) ;the body it collided with...
Next
</pre><br>And so on! the rest are detailed in the decls file.<br><br><div class="quote"> ODE_dBodyGetCollisionsCount%(body%)<br>ODE_dBodyGetCollisionDepth#(body%, num%)<br>ODE_dBodyGetCollisionBody%(body%, num%)<br>ODE_dBodyGetCollisionGeom%(body%, num%)<br>ODE_dBodyGetCollisionX#(body%, num%)<br>ODE_dBodyGetCollisionY#(body%, num%)<br>ODE_dBodyGetCollisionZ#(body%, num%)<br>ODE_dBodyGetCollisionNX#(body%, num%)<br>ODE_dBodyGetCollisionNY#(body%, num%)<br>ODE_dBodyGetCollisionNZ#(body%, num%)<br>ODE_dBodyGetCollisionFX#(body%, num%)<br>ODE_dBodyGetCollisionFY#(body%, num%)<br>ODE_dBodyGetCollisionFZ#(body%, num%)<br> <br></div><br><br>Using the loop through methodology with 'num', it's easy to get all the data we need, when we need it! This is SO much more easier to use and more powerful than Tokamak.<br><br>Full credit to sweenie and vorderman for getting our projects off the ground. But now I think it's pretty certain that ODE is king.<br><br>Regarding my code above... if you pass a child of an imported mesh to it, for example the car body, it will find the dimensions and fit an ODE cube around it (non uniform of course!) then glue them together. You won't see the cube of course - you will only see the mesh... but it's useful for all sorts. I have easily extended the cube to sphere, cylinder (with axis param) and so on... it makes parsing your b3d file for named objects and converting them into ode objects a complete breeze. I think I'm in love.<br><br>Arkon... cylinder bug? :) <br><br></td></tr></table><br>
<a name="427956"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#85">[#85]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cylinders jitter with madness when colliding with a mesh. <br><br></td></tr></table><br>
<a name="427972"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CopperCircle</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#86">[#86]</a></td></tr></table></td></tr><tr ><td class="posttext"> Arkon, collisions update is great, but I have also mentioned the cylinder bug, I know you must be busy but it would be useful to use cylinders :) <br><br></td></tr></table><br>
<a name="427973"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#87">[#87]</a></td></tr></table></td></tr><tr ><td class="posttext"> VERY useful. but, since we have the "source code", why not have a crack yourself? (me and bloodlocust fixed the multi surface mesh problem- though i posted fix first :P) <br><br></td></tr></table><br>
<a name="427976"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Filax</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#88">[#88]</a></td></tr></table></td></tr><tr ><td class="posttext"> A new version of my include :)<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">; ----------------------------
; Global ODE space
; ----------------------------
Global ODE_Space

; --------------------------
; ODE Object Type
; --------------------------
Type ODE_Object
	Field ObjectBody
	Field ObjectMesh
	Field ObjectGeom

	Field ObjectFake ; Pour les cylindres
	
	Field ObjectSound
	Field ObjectChannel

	Field ObjectMass#

	Field ObjectRotX#
	Field ObjectRotY#
	Field ObjectRotZ#
	
	Field ObjectPx#
	Field ObjectPy#
	Field ObjectPz#

	Field ObjectScaleX#
	Field ObjectScaleY#
	Field ObjectScaleZ#
End Type

; ------------------------------------
; On setup le monde ODE
; ------------------------------------
Function ODE_InitWorld(Gravity#=-1.5,Bounce#=0.5)
	ODE_Space = ODE_dWorldCreate()
	ODE_dWorldSetGravity(0, Gravity#, 0)

	ODE_dSetContactMode(dContactBounce+ dContactSoftERP )  ; dContactBounce+ dContactSoftERP + dContactSoftCFM
	
	ODE_dSetBOUNCE(Bounce#)
	ODE_dSetSOFT_ERP(0.4)
	ODE_dSetSOFT_CFM(0.8)
End Function

; -----------------------------------
; Setup easily cube mesh
; -----------------------------------
Function ODE_CreateCubeMesh(Mesh$,Px#,Py#,Pz#,RotX#,RotY#,RotZ#,Mass#=1,Sound$="")
	G.ODE_Object = New ODE_Object

	G\ObjectMass#=Mass#
	G\ObjectMesh = LoadMesh(Mesh$)
	ScaleEntity G\ObjectMesh,1,1,1
	
	G\ObjectRotX#=RotX#
	G\ObjectRotY#=RotY#
	G\ObjectRotZ#=RotZ#
	
	G\ObjectPx#=Px#
	G\ObjectPy#=Py#
	G\ObjectPz#=Pz#

	RotateEntity G\ObjectMesh,G\ObjectRotX#,G\ObjectRotY#,G\ObjectRotZ#
	PositionEntity G\ObjectMesh,G\ObjectPx#,G\ObjectPy#,G\ObjectPz#

	G\ObjectScaleX#=MeshWidth(G\ObjectMesh) 
	G\ObjectScaleY#=MeshHeight(G\ObjectMesh) 
	G\ObjectScaleZ#=MeshDepth(G\ObjectMesh) 
	
	G\ObjectBody = ODE_dBodyCreate()
	G\ObjectGeom = ODE_dCreateBox(ODE_Space, G\ObjectScaleX#,G\ObjectScaleY#,G\ObjectScaleZ#, G\ObjectMass#)
	
	ODE_dGeomSetBody G\ObjectGeom, G\ObjectBody
	ODE_dBodySetPosition(G\ObjectBody, G\ObjectPx#,G\ObjectPy#,G\ObjectPz#)
	ODE_dBodySetRotation(G\ObjectBody, G\ObjectRotX#,G\ObjectRotY#,G\ObjectRotZ#)

	If Sound$&lt;&gt;"" Then 
		G\ObjectSound=LoadSound(Sound$)
	Else
		G\ObjectSound=0
	EndIf 
End Function

; -----------------------------------
; Setup easily cube mesh
; -----------------------------------
Function ODE_CreateSphereMesh(Mesh$,Px#,Py#,Pz#,RotX#,RotY#,RotZ#,Mass#=1,Sound$="")
	G.ODE_Object = New ODE_Object

	G\ObjectMass#=Mass#
	G\ObjectMesh = LoadMesh(Mesh$)

	G\ObjectRotX#=RotX#
	G\ObjectRotY#=RotY#
	G\ObjectRotZ#=RotZ#
	
	G\ObjectPx#=Px#
	G\ObjectPy#=Py#
	G\ObjectPz#=Pz#

	RotateEntity G\ObjectMesh,G\ObjectRotX#,G\ObjectRotY#,G\ObjectRotZ#
	PositionEntity G\ObjectMesh,G\ObjectPx#,G\ObjectPy#,G\ObjectPz#

	G\ObjectScaleX#=MeshHeight(G\ObjectMesh) 
	G\ObjectScaleY#=MeshHeight(G\ObjectMesh) 
	G\ObjectScaleZ#=MeshHeight(G\ObjectMesh) 
	
	G\ObjectBody = ODE_dBodyCreate()
	G\ObjectGeom = ODE_dCreateSphere(ODE_Space, G\ObjectScaleX#,G\ObjectMass#)
	
	ODE_dGeomSetBody G\ObjectGeom, G\ObjectBody
	ODE_dBodySetPosition(G\ObjectBody, G\ObjectPx#,G\ObjectPy#,G\ObjectPz#)
	ODE_dBodySetRotation(G\ObjectBody, G\ObjectRotX#,G\ObjectRotY#,G\ObjectRotZ#)

	If Sound$&lt;&gt;"" Then 
		G\ObjectSound=LoadSound(Sound$)
	Else
		G\ObjectSound=0
	EndIf 
End Function

; --------------------------
; Setup easily cube
; --------------------------
Function ODE_CreateCube(Px#,Py#,Pz#,RotX#,RotY#,RotZ#,ScaleX#,ScaleY#,ScaleZ#,Mass#=1,Sound$="",Red=255,Green=255,Blue=255,View%=1)
	G.ODE_Object = New ODE_Object

	G\ObjectMass#=Mass#
	
	G\ObjectScaleX#=ScaleX#
	G\ObjectScaleY#=ScaleY#
	G\ObjectScaleZ#=ScaleZ#

	G\ObjectBody = ODE_dBodyCreate()
	G\ObjectGeom = ODE_dCreateBox(ODE_Space, G\ObjectScaleX#*2,G\ObjectScaleY#*2,G\ObjectScaleZ#*2, G\ObjectMass#)
	ODE_dGeomSetBody G\ObjectGeom, G\ObjectBody

	G\ObjectRotX#=RotX#
	G\ObjectRotY#=RotY#
	G\ObjectRotZ#=RotZ#
	
	G\ObjectPx#=Px#
	G\ObjectPy#=Py#
	G\ObjectPz#=Pz#

	ODE_dBodySetPosition(G\ObjectBody, G\ObjectPx#,G\ObjectPy#,G\ObjectPz#)
	ODE_dBodySetRotation(G\ObjectBody, G\ObjectRotX#,G\ObjectRotY#,G\ObjectRotZ#)

	G\ObjectMesh = CreateCube()
	RotateEntity G\ObjectMesh,G\ObjectRotX#,G\ObjectRotY#,G\ObjectRotZ#
	PositionEntity G\ObjectMesh,G\ObjectPx#,G\ObjectPy#,G\ObjectPz#
	ScaleEntity G\ObjectMesh,G\ObjectScaleX#,G\ObjectScaleY#,G\ObjectScaleZ#
	EntityColor G\ObjectMesh, Red,Green,Blue

	If View%=0 Then
		HideEntity G\ObjectMesh
	EndIf
	
	If Sound$&lt;&gt;"" Then 
		G\ObjectSound=LoadSound(Sound$)
	Else
		G\ObjectSound=0
	EndIf

	Return G\ObjectBody
End Function

; -----------------------------
; Setup easily sphere
; -----------------------------
Function ODE_CreateSphere(Px#,Py#,Pz#,Scale#,Mass#=1,Sound$="",Red=255,Green=255,Blue=255,View%=1)
	G.ODE_Object = New ODE_Object

	G\ObjectMass#=Mass#

	G\ObjectScaleX#=Scale#
	G\ObjectScaleY#=Scale#
	G\ObjectScaleZ#=Scale#

	G\ObjectBody = ODE_dBodyCreate()
	G\ObjectGeom = ODE_dCreateSphere(ODE_Space,G\ObjectScaleX#, G\ObjectMass#)
	ODE_dGeomSetBody G\ObjectGeom, G\ObjectBody
	
	G\ObjectPx#=Px#
	G\ObjectPy#=Py#
	G\ObjectPz#=Pz#
	
	ODE_dBodySetPosition(G\ObjectBody, G\ObjectPx#,G\ObjectPy#,G\ObjectPz#)

	G\ObjectMesh = CreateSphere()

	PositionEntity G\ObjectMesh,G\ObjectPx#,G\ObjectPy#,G\ObjectPz#
	ScaleEntity G\ObjectMesh,G\ObjectScaleX#,G\ObjectScaleY#,G\ObjectScaleZ#
	EntityColor G\ObjectMesh, Red,Green,Blue

	If View%=0 Then
		HideEntity G\ObjectMesh
	EndIf
	
	If Sound$&lt;&gt;"" Then 
		G\ObjectSound=LoadSound(Sound$)
	Else
		G\ObjectSound=0
	EndIf

	Return G\ObjectBody
End Function

; -------------------------------
; Setup easily cylinder
; -------------------------------
Function ODE_CreateCylinder(Px#,Py#,Pz#,RotX#,RotY#,RotZ#,Radius#,Height#,Mass#=1,Sound$="",Red=255,Green=255,Blue=255,View%=1)
	G.ODE_Object = New ODE_Object

	G\ObjectMass#=Mass#

	G\ObjectScaleX#=Radius#
	G\ObjectScaleY#=Height#
	G\ObjectScaleZ#=Radius#

	G\ObjectBody = ODE_dBodyCreate()
	G\ObjectGeom = ODE_dCreateCCylinder(ODE_Space,G\ObjectScaleX#, G\ObjectScaleY#*2,G\ObjectMass#)
	ODE_dGeomSetBody G\ObjectGeom, G\ObjectBody
	
	G\ObjectPx#=Px#
	G\ObjectPy#=Py#
	G\ObjectPz#=Pz#

	G\ObjectRotX#=RotX#
	G\ObjectRotY#=RotY#
	G\ObjectRotZ#=RotZ#

	ODE_dBodySetPosition(G\ObjectBody, G\ObjectPx#,G\ObjectPy#,G\ObjectPz#)
	ODE_dBodySetRotation(G\ObjectBody, G\ObjectRotX#,G\ObjectRotY#,G\ObjectRotZ#)
	
	G\ObjectMesh = CreatePivot()
	G\ObjectFake=CreateCylinder(8,1,G\ObjectMesh)
	RotateEntity G\ObjectFake, 90, 0, 0
	
	PositionEntity G\ObjectMesh,G\ObjectPx#,G\ObjectPy#,G\ObjectPz#
	ScaleEntity G\ObjectFake,G\ObjectScaleX#,G\ObjectScaleY#,G\ObjectScaleZ#
	RotateEntity G\ObjectMesh,G\ObjectRotX#,G\ObjectRotY#,G\ObjectRotZ#
	EntityColor G\ObjectFake, Red,Green,Blue

	If View%=0 Then
		HideEntity G\ObjectMesh
	EndIf
	
	If Sound$&lt;&gt;"" Then 
		G\ObjectSound=LoadSound(Sound$)
	Else
		G\ObjectSound=0
	EndIf

	Return G\ObjectBody
End Function

; ------------------------------------------------
; On update la physique des objets
; ------------------------------------------------
Function ODE_UpdatePhysic(Time#=0.1)
	For G.ODE_Object = Each ODE_Object
		; --------------------------------------------------------------
		; On update la position et rotation des objets
		; --------------------------------------------------------------
		PositionEntity G\ObjectMesh, ODE_dGeomGetPositionX(G\ObjectGeom), ODE_dGeomGetPositionY(G\ObjectGeom), ODE_dGeomGetPositionZ(G\ObjectGeom)
		RotateEntity G\ObjectMesh, ODE_dGeomGetPitch(G\ObjectGeom), ODE_dGeomGetYaw(G\ObjectGeom), ODE_dGeomGetRoll(G\ObjectGeom), 1

		; ------------------------------------------------------------
		; Gestion du son en fonction des collisions
		; ------------------------------------------------------------
		If G\ObjectSound&lt;&gt;0
			ODE_CollisionCount% = ODE_dBodyGetCollisionsCount%(G\ObjectBody)

			For i = 0 To ODE_CollisionCount% - 1
				ODE_CollisionDepth# =ODE_dBodyGetCollisionDepth(G\ObjectBody, i)
				DebugLog ODE_CollisionDepth#
					
				If ODE_CollisionDepth# &gt;=0.05 And ODE_CollisionDepth# &lt;=0.3
					If ChannelPlaying(G\ObjectChannel)=0
						G\ObjectChannel = PlaySound(G\ObjectSound)
						ChannelVolume G\ObjectChannel, ODE_CollisionDepth * 3
					EndIf
				EndIf
			Next
		EndIf
	Next
End Function





And an exemple


; ------------------------
; Freelook cam var
; ------------------------
Global Mouse_X_Speed#
Global Mouse_Y_Speed#
Global Camera_VelX#
Global Camera_VelZ#
Global Camera_Pitch
Global Camera_Yaw

Include "BlitzODE.bb"
Include "Inc_ODEStuff.bb"

;------ Initialize Graphics --------
Graphics3D 800, 600,16,2
SetBuffer BackBuffer()	

lh = CreateLight(2)
PositionEntity lh,50,50,50
LightRange lh,100
LightColor lh,255,200,150

plane = CreatePlane()
;mirror = CreateMirror(plane)
EntityColor plane, 0, 0, 150
;EntityAlpha plane, .8
PositionEntity plane,0,-0.3,0

SeedRnd MilliSecs()
;--------- Initialize ODE ----------
ODE_InitWorld()


;------- Create siple cube ---------
For i=0 To 100
Mass#=30
Area=30
;ODE_CreateCube(Rnd(-5,5),i,Rnd(-5,5),0,0,0,1,1,1,Mass#,"Bounce.wav",Rnd(255),Rnd(255),Rnd(255))
;ODE_CreateSphere(Rnd(-5,5),i,Rnd(-5,5),1,Mass#,"Bounce.wav",Rnd(255),Rnd(255),Rnd(255))

ODE_CreateCylinder(Rnd(-Area,Area),5,Rnd(-Area,Area),90,0,0,1,3,Mass#,"chimes.wav",Rnd(255),Rnd(255),Rnd(255))
;ODE_CreateCubeMesh("chamber.b3d",Rnd(-20,20),i,Rnd(-20,20),0,0,0,Mass#,"Bounce.wav")
;ODE_CreateSphereMesh("chamber.b3d",Rnd(-20,20),i,Rnd(-20,20),0,0,0,Mass#,"Bounce.wav")
Next

;mesh=LoadMesh("002.b3d")
;ODE_dTriMeshCreate%(mesh)



;-----------------------------------

ODE_UpdatePhysic()

cam = CreateCamera()
PositionEntity cam, 0, 10, -25
cambody = ODE_CreateSphere(0, 10, -25,5,0,"",0,0,0,0)

;-----------------------------------

gameFPS = 50.0
framePeriod = 1000 / gameFPS
frameTime = MilliSecs () - framePeriod

MoveMouse GraphicsWidth()/2,GraphicsHeight()/2

While Not KeyHit(1)
	Repeat
		frameElapsed = MilliSecs () - frameTime
	Until frameElapsed
	
	frameTicks = frameElapsed / framePeriod
	frameTween# = Float(frameElapsed Mod framePeriod) / Float(framePeriod)
	For frameLimit = 1 To frameTicks
		If frameLimit = frameTicks Then CaptureWorld
		frameTime = frameTime + framePeriod

            ;------------ Update physics world ----------		

		
	ODE_dWorldQuickStep 0.1
            ;--------------------------------------------

	
	Next

		If KeyHit(57)
			For G.ODE_Object = Each ODE_Object
				ODE_dBodyEnable G\ObjectBody
				ODE_dBodyAddForce G\ObjectBody, 0, Rnd(20, 50), 0
				ODE_dBodyAddTorque G\ObjectBody, Rnd(-30, 10), Rnd(-10, 10), Rnd(-10, 10)
			Next
		EndIf

		
		
	;---- Set geometry position and rotation ----

	ODE_UpdatePhysic()

Proc_Freelook(Cam,1.05,0.01)
ODE_dBodySetPosition(cambody,EntityX(Cam),EntityY(Cam), EntityZ(Cam))

	;--------------------------------------------

	RenderWorld frameTween#
	
	Flip 0
Wend

ODE_dCloseODE()
End

Function Proc_Freelook(CamEntity,Velocity#,Speed#)
 Mouse_X_Speed#=MouseXSpeed()*0.5
 Mouse_Y_Speed#=MouseYSpeed()*0.5

 MoveMouse GraphicsWidth()/2,GraphicsHeight()/2
 Camera_Pitch=Camera_Pitch+Mouse_Y_Speed#
 Camera_Yaw=Camera_Yaw+Mouse_X_Speed#


 RotateEntity CamEntity,Camera_Pitch,-Camera_Yaw,0

 If KeyDown(203) Then
   Camera_VelX=Camera_VelX-Speed#
 ElseIf  KeyDown(205)
   Camera_VelX=Camera_VelX+Speed#
 EndIf
 If KeyDown(208) Then
   Camera_VelZ=Camera_VelZ-Speed#
 ElseIf  KeyDown(200)
   Camera_VelZ=Camera_VelZ+Speed#
 EndIf
 
 Camera_VelX=Camera_VelX/velocity#
 Camera_VelZ=Camera_VelZ/velocity#
 MoveEntity CamEntity,Camera_VelX,0,Camera_VelZ

 If KeyDown(200) Then
   MoveEntity CamEntity,0,0,Speed#
 EndIf

 If KeyDown(208) Then
   MoveEntity CamEntity,0,0,-Speed#
 EndIf

 If KeyDown(205) Then
   MoveEntity CamEntity,Speed#,0,0
 EndIf

 If KeyDown(203) Then
   MoveEntity CamEntity,-Speed#,0,0
 EndIf
End Function</textarea> <br><br></td></tr></table><br>
<a name="427977"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Proger</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#89">[#89]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cylinder bug...<br>I working on it <br><br></td></tr></table><br>
<a name="427979"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#90">[#90]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you :)<br><br>Filax... please use [codebox] tag...  my poor little mousewheel cannot take your passionate text. <br><br></td></tr></table><br>
<a name="427988"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Filax</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#91">[#91]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok :) <br><br></td></tr></table><br>
<a name="427992"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#92">[#92]</a></td></tr></table></td></tr><tr ><td class="posttext"> Arkon:<br>ODE_dSpaceQuery is missing from the lib. <br><br></td></tr></table><br>
<a name="427995"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#93">[#93]</a></td></tr></table></td></tr><tr ><td class="posttext"> Bug: either objects are not exactly same size as blitz units or the mesh scale is somehow wrong.<br><br>If you examine closely, there is a space between ODE objects and trimesh. The Space does not exist with object to object. <br><br></td></tr></table><br>
<a name="427996"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#94">[#94]</a></td></tr></table></td></tr><tr ><td class="posttext"> Don't forget to read the docs from ODE site everyone. <br><br></td></tr></table><br>
<a name="427997"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eric</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#95">[#95]</a></td></tr></table></td></tr><tr ><td class="posttext"> I need to know if The Invisible Floor and Y=0 is something perminate. Because I want my origin to be 0,0,0. I don't want to have to use offsets.<br><br>Regards,<br>Eric <br><br></td></tr></table><br>
<a name="427998"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#96">[#96]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes the invisible floor is a huge problem, for example, space sims... <br><br></td></tr></table><br>
<a name="428015"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#97">[#97]</a></td></tr></table></td></tr><tr ><td class="posttext"> my invisible floor just broke... and so did all my collisions :S argh!!!!!!! <br><br></td></tr></table><br>
<a name="428018"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#98">[#98]</a></td></tr></table></td></tr><tr ><td class="posttext"> Check your rigid body has a "space" parameter filled in when you create it. Space of 0 will make it a body that doesn't belong to any space.<br><br>Spaces are ODE's concept of collision groups. <br><br></td></tr></table><br>
<a name="428021"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#99">[#99]</a></td></tr></table></td></tr><tr ><td class="posttext"> well, i just copied some proved working functions across from one of my working demos... it doesnt work now :S<br><br>however, the fact that some of the stuff is working: and i dont have a plane at y=0... could be a good thing! <br><br></td></tr></table><br>
<a name="428022"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#100">[#100]</a></td></tr></table></td></tr><tr ><td class="posttext"> REGARDING CAR PROBLEMS:<br><br><div class="quote"> if you read the ODE mailing lists this problem has never really been solved, and it means you always get rear wheel steering at higher speeds. <br></div>IF you read the faq of the latest docs, it shows that there are two new commands that fix this problem of rear wheel steering. Apparently the problem occurs as a result of floating point inaccuracy at high speeds during rotation. The two commands ensure any problems are taken care of. <br><br></td></tr></table><br>
<a name="428027"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eric</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#101">[#101]</a></td></tr></table></td></tr><tr ><td class="posttext"> I guess what I need to know is if the Y=0 Floor is a function of ODE  or one that is in there for Blitz.<br><br>Regards,<br>Eric <br><br></td></tr></table><br>
<a name="428029"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#102">[#102]</a></td></tr></table></td></tr><tr ><td class="posttext"> ODE. <br><br></td></tr></table><br>
<a name="428035"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#103">[#103]</a></td></tr></table></td></tr><tr ><td class="posttext"> it is ODE.<br><br>i sorted my prob out and i am now seeing what bloodlocust saw: a gap underneith the objects :S <br><br></td></tr></table><br>
<a name="428090"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tom</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#104">[#104]</a></td></tr></table></td></tr><tr ><td class="posttext"> Anyone up to doing some ODE vs Tokamak benchmark tests?<br><br>Despite what a few people have said, Tokamak is very stable IMO, It's never crashed or crapped out on me!<br><br>Having said that, ODE looks to be the ideal engine for vehicles.<br><br>It's just really nice that we now have 2 choices!<br><br>Tom <br><br></td></tr></table><br>
<a name="428091"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#105">[#105]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>This is really great! I would like it very much if you could add the Geometry Transform Class to the library (described in chapter 10.7.7 in the ODE manual), as this would make construction of Composite objects (chapter 10.9) much more useful.<br><br>Keep up the great work! <br><br></td></tr></table><br>
<a name="428136"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CopperCircle</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#106">[#106]</a></td></tr></table></td></tr><tr ><td class="posttext"> Arkon, thanks I hope you solve the cylinder bug.<br><br>Cygnus, we don't have the source for the dll so I can't look at the problem, the problem you fixed was to do with the Blitz code.<br><br>I also notice the gap between bodys and a trimesh, I put some shadows on the car wheels and you can see it floating. <br><br></td></tr></table><br>
<a name="428151"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Filax</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#107">[#107]</a></td></tr></table></td></tr><tr ><td class="posttext"> It is possible to scan all child in a loadanimmesh for automatic<br>add box around object ? i ha ve try this code but seem don't work well <br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
; ----------------------------
; Global ODE space
; ----------------------------
Global ODE_Space

; --------------------------
; ODE Object Type
; --------------------------
Type ODE_Object
	Field ObjectBody
	Field ObjectMesh
	Field ObjectGeom

	Field ObjectFake ; Pour les cylindres
	
	Field ObjectSound
	Field ObjectChannel

	Field ObjectMass#

	Field ObjectRotX#
	Field ObjectRotY#
	Field ObjectRotZ#
	
	Field ObjectPx#
	Field ObjectPy#
	Field ObjectPz#

	Field ObjectScaleX#
	Field ObjectScaleY#
	Field ObjectScaleZ#
End Type

; ------------------------------------
; On setup le monde ODE
; ------------------------------------
Function ODE_InitWorld(Gravity#=-1.5,Bounce#=0.1)
	ODE_Space = ODE_dWorldCreate()
;	ODE_dWorldSetGravity(0, Gravity#, 0)

;	ODE_dSetContactMode(dContactBounce+ dContactSoftERP )  ; dContactBounce+ dContactSoftERP + dContactSoftCFM
	
;	ODE_dSetBOUNCE(Bounce#)
;	ODE_dSetSOFT_ERP(0.4)
;	ODE_dSetSOFT_CFM(0.8)
	
	ODE_dSetContactMode(dContactBounce + dContactSoftERP + dContactSoftCFM + dSlip1 + dSlip2)
ODE_dSetBOUNCE(0.5)
ODE_dSetSOFT_ERP(0.3)
ODE_dSetSOFT_CFM(0.00000001);0.3)

End Function

; -------------------------------------------------------------------------
; Permet de crer un cube ODE a partie d'une mesh
; -------------------------------------------------------------------------
Function ODE_CreateCubeMesh(Mesh$,Px#,Py#,Pz#,RotX#,RotY#,RotZ#,Mass#=1,Sound$="")
	G.ODE_Object = New ODE_Object

	G\ObjectMass#=Mass#
	G\ObjectMesh = LoadMesh(Mesh$)
	ScaleEntity G\ObjectMesh,1,1,1
	
	G\ObjectRotX#=RotX#
	G\ObjectRotY#=RotY#
	G\ObjectRotZ#=RotZ#
	
	G\ObjectPx#=Px#
	G\ObjectPy#=Py#
	G\ObjectPz#=Pz#

	RotateEntity G\ObjectMesh,G\ObjectRotX#,G\ObjectRotY#,G\ObjectRotZ#
	PositionEntity G\ObjectMesh,G\ObjectPx#,G\ObjectPy#,G\ObjectPz#

	G\ObjectScaleX#=MeshWidth(G\ObjectMesh) 
	G\ObjectScaleY#=MeshHeight(G\ObjectMesh) 
	G\ObjectScaleZ#=MeshDepth(G\ObjectMesh) 
	
	G\ObjectBody = ODE_dBodyCreate()
	G\ObjectGeom = ODE_dCreateBox(ODE_Space, G\ObjectScaleX#,G\ObjectScaleY#,G\ObjectScaleZ#, G\ObjectMass#)
	
	ODE_dGeomSetBody G\ObjectGeom, G\ObjectBody
	ODE_dBodySetPosition(G\ObjectBody, G\ObjectPx#,G\ObjectPy#,G\ObjectPz#)
	ODE_dBodySetRotation(G\ObjectBody, G\ObjectRotX#,G\ObjectRotY#,G\ObjectRotZ#)

	If Sound$&lt;&gt;"" Then 
		G\ObjectSound=LoadSound(Sound$)
	Else
		G\ObjectSound=0
	EndIf 
End Function

; ------------------------------------------------------------------------------
; Permet de crer une sphere ODE a partie d'une mesh
; ------------------------------------------------------------------------------
Function ODE_CreateSphereMesh(Mesh$,Px#,Py#,Pz#,RotX#,RotY#,RotZ#,Mass#=1,Sound$="")
	G.ODE_Object = New ODE_Object

	G\ObjectMass#=Mass#
	G\ObjectMesh = LoadMesh(Mesh$)

	G\ObjectRotX#=RotX#
	G\ObjectRotY#=RotY#
	G\ObjectRotZ#=RotZ#
	
	G\ObjectPx#=Px#
	G\ObjectPy#=Py#
	G\ObjectPz#=Pz#

	RotateEntity G\ObjectMesh,G\ObjectRotX#,G\ObjectRotY#,G\ObjectRotZ#
	PositionEntity G\ObjectMesh,G\ObjectPx#,G\ObjectPy#,G\ObjectPz#

	G\ObjectScaleX#=MeshHeight(G\ObjectMesh) 
	G\ObjectScaleY#=MeshHeight(G\ObjectMesh) 
	G\ObjectScaleZ#=MeshHeight(G\ObjectMesh) 
	
	G\ObjectBody = ODE_dBodyCreate()
	G\ObjectGeom = ODE_dCreateSphere(ODE_Space, G\ObjectScaleX#,G\ObjectMass#)
	
	ODE_dGeomSetBody G\ObjectGeom, G\ObjectBody
	ODE_dBodySetPosition(G\ObjectBody, G\ObjectPx#,G\ObjectPy#,G\ObjectPz#)
	ODE_dBodySetRotation(G\ObjectBody, G\ObjectRotX#,G\ObjectRotY#,G\ObjectRotZ#)

	If Sound$&lt;&gt;"" Then 
		G\ObjectSound=LoadSound(Sound$)
	Else
		G\ObjectSound=0
	EndIf 
End Function

; ------------------------------------
; Permet de crer un cube
; ------------------------------------
Function ODE_CreateCube(Px#,Py#,Pz#,RotX#,RotY#,RotZ#,ScaleX#,ScaleY#,ScaleZ#,Mass#=1,Sound$="",Red=255,Green=255,Blue=255,View%=1)
	G.ODE_Object = New ODE_Object

	G\ObjectMass#=Mass#
	
	G\ObjectScaleX#=ScaleX#
	G\ObjectScaleY#=ScaleY#
	G\ObjectScaleZ#=ScaleZ#

	G\ObjectBody = ODE_dBodyCreate()
	G\ObjectGeom = ODE_dCreateBox(ODE_Space, G\ObjectScaleX#*2,G\ObjectScaleY#*2,G\ObjectScaleZ#*2, G\ObjectMass#)
	ODE_dGeomSetBody G\ObjectGeom, G\ObjectBody

	G\ObjectRotX#=RotX#
	G\ObjectRotY#=RotY#
	G\ObjectRotZ#=RotZ#
	
	G\ObjectPx#=Px#
	G\ObjectPy#=Py#
	G\ObjectPz#=Pz#

	ODE_dBodySetPosition(G\ObjectBody, G\ObjectPx#,G\ObjectPy#,G\ObjectPz#)
	ODE_dBodySetRotation(G\ObjectBody, G\ObjectRotX#,G\ObjectRotY#,G\ObjectRotZ#)

	G\ObjectMesh = CreateCube()
	RotateEntity G\ObjectMesh,G\ObjectRotX#,G\ObjectRotY#,G\ObjectRotZ#
	PositionEntity G\ObjectMesh,G\ObjectPx#,G\ObjectPy#,G\ObjectPz#
	ScaleEntity G\ObjectMesh,G\ObjectScaleX#,G\ObjectScaleY#,G\ObjectScaleZ#
	EntityColor G\ObjectMesh, Red,Green,Blue

	If View%=0 Then
		HideEntity G\ObjectMesh
	EndIf
	
	If Sound$&lt;&gt;"" Then 
		G\ObjectSound=LoadSound(Sound$)
	Else
		G\ObjectSound=0
	EndIf

	Return G\ObjectBody
End Function

; ----------------------------------------
; Permet de crer une sphere
; ----------------------------------------
Function ODE_CreateSphere(Px#,Py#,Pz#,Scale#,Mass#=1,Sound$="",Red=255,Green=255,Blue=255,View%=1)
	G.ODE_Object = New ODE_Object

	G\ObjectMass#=Mass#

	G\ObjectScaleX#=Scale#
	G\ObjectScaleY#=Scale#
	G\ObjectScaleZ#=Scale#

	G\ObjectBody = ODE_dBodyCreate()
	G\ObjectGeom = ODE_dCreateSphere(ODE_Space,G\ObjectScaleX#, G\ObjectMass#)
	ODE_dGeomSetBody G\ObjectGeom, G\ObjectBody
	
	G\ObjectPx#=Px#
	G\ObjectPy#=Py#
	G\ObjectPz#=Pz#
	
	ODE_dBodySetPosition(G\ObjectBody, G\ObjectPx#,G\ObjectPy#,G\ObjectPz#)

	G\ObjectMesh = CreateSphere()

	PositionEntity G\ObjectMesh,G\ObjectPx#,G\ObjectPy#,G\ObjectPz#
	ScaleEntity G\ObjectMesh,G\ObjectScaleX#,G\ObjectScaleY#,G\ObjectScaleZ#
	EntityColor G\ObjectMesh, Red,Green,Blue

	If View%=0 Then
		HideEntity G\ObjectMesh
	EndIf
	
	If Sound$&lt;&gt;"" Then 
		G\ObjectSound=LoadSound(Sound$)
	Else
		G\ObjectSound=0
	EndIf

	Return G\ObjectBody
End Function

; ----------------------------------------
; Permet de crer un cylindre
; ---------------------------------------
Function ODE_CreateCylinder(Px#,Py#,Pz#,RotX#,RotY#,RotZ#,Radius#,Height#,Mass#=1,Sound$="",Red=255,Green=255,Blue=255,View%=1)
	G.ODE_Object = New ODE_Object

	G\ObjectMass#=Mass#

	G\ObjectScaleX#=Radius#
	G\ObjectScaleY#=Height#
	G\ObjectScaleZ#=Radius#

	G\ObjectBody = ODE_dBodyCreate()
	G\ObjectGeom = ODE_dCreateCCylinder(ODE_Space,G\ObjectScaleX#, G\ObjectScaleY#*2,G\ObjectMass#)
	ODE_dGeomSetBody G\ObjectGeom, G\ObjectBody
	
	G\ObjectPx#=Px#
	G\ObjectPy#=Py#
	G\ObjectPz#=Pz#

	G\ObjectRotX#=RotX#
	G\ObjectRotY#=RotY#
	G\ObjectRotZ#=RotZ#

	ODE_dBodySetPosition(G\ObjectBody, G\ObjectPx#,G\ObjectPy#,G\ObjectPz#)
	ODE_dBodySetRotation(G\ObjectBody, G\ObjectRotX#,G\ObjectRotY#,G\ObjectRotZ#)
	
	G\ObjectMesh = CreatePivot()
	G\ObjectFake=CreateCylinder(8,1,G\ObjectMesh)
	RotateEntity G\ObjectFake, 90, 0, 0
	
	PositionEntity G\ObjectMesh,G\ObjectPx#,G\ObjectPy#,G\ObjectPz#
	ScaleEntity G\ObjectFake,G\ObjectScaleX#,G\ObjectScaleY#,G\ObjectScaleZ#
	RotateEntity G\ObjectMesh,G\ObjectRotX#,G\ObjectRotY#,G\ObjectRotZ#
	EntityColor G\ObjectFake, Red,Green,Blue

	If View%=0 Then
		HideEntity G\ObjectMesh
	EndIf
	
	If Sound$&lt;&gt;"" Then 
		G\ObjectSound=LoadSound(Sound$)
	Else
		G\ObjectSound=0
	EndIf

	Return G\ObjectBody
End Function

; ------------------------------------------------
; On update la physique des objets
; ------------------------------------------------
Function ODE_UpdatePhysic(Time#=0.1)
	For G.ODE_Object = Each ODE_Object
		; --------------------------------------------------------------
		; On update la position et rotation des objets
		; --------------------------------------------------------------
		PositionEntity G\ObjectMesh, ODE_dGeomGetPositionX(G\ObjectGeom), ODE_dGeomGetPositionY(G\ObjectGeom), ODE_dGeomGetPositionZ(G\ObjectGeom)
		RotateEntity G\ObjectMesh, ODE_dGeomGetPitch(G\ObjectGeom), ODE_dGeomGetYaw(G\ObjectGeom), ODE_dGeomGetRoll(G\ObjectGeom), 1

		; ------------------------------------------------------------
		; Gestion du son en fonction des collisions
		; ------------------------------------------------------------
		If G\ObjectSound&lt;&gt;0
			ODE_CollisionCount% = ODE_dBodyGetCollisionsCount%(G\ObjectBody)

			For i = 0 To ODE_CollisionCount% - 1
				ODE_CollisionDepth# =ODE_dBodyGetCollisionDepth(G\ObjectBody, i)
				DebugLog ODE_CollisionDepth#
					
				If ODE_CollisionDepth# &gt;=0.05 And ODE_CollisionDepth# &lt;=0.3
					If ChannelPlaying(G\ObjectChannel)=0
						G\ObjectChannel = PlaySound(G\ObjectSound)
						ChannelVolume G\ObjectChannel, ODE_CollisionDepth * 3
					EndIf
				EndIf
			Next
		EndIf
	Next
End Function









Global TOKP_taillex
Global TOKP_tailley
Global TOKP_taillez

Global TOKP_centrex#
Global TOKP_centrey#
Global TOKP_centrez#


Function ODE_AnimMeshPhysic(Parent%)
 	Children%=CountChildren(Parent%)

	;je scanne que les premiers enfants pour pas crer une box au pivot	

	For Loop = 1 To Children%
		Child%=GetChild (Parent%,Loop)
		ODE_CreateCubeChild(Child%,10,"")
		;ODE_AnimMeshPhysic(Child%)
	Next
End Function


; -------------------------------------------------------------------------
; Permet de crer un cube ODE a partie d'une mesh
; -------------------------------------------------------------------------
Function ODE_CreateCubeChild(Mesh,Mass#=1,Sound$="")
	G.ODE_Object = New ODE_Object
	
	G\ObjectMass#=Mass#
	G\ObjectMesh = Mesh
	
	;If mesh&lt;&gt;0 Then EntityParent Mesh,0;PivotDeMeurde
	G\ObjectRotX#=EntityPitch(Mesh,True)
	G\ObjectRotY#=EntityYaw(Mesh,True)
	G\ObjectRotZ#=EntityRoll(Mesh,True)



	;RotateEntity G\ObjectMesh,G\ObjectRotX#,G\ObjectRotY#,G\ObjectRotZ#
	;PositionEntity G\ObjectMesh,G\ObjectPx#,G\ObjectPy#,G\ObjectPz#

	;tu gres pas le scale de 3dsmax l, ca va te faire des irrgularits
	TOKP_CalculeTailleCentreEntity(G\ObjectMesh)

	G\ObjectPx#=EntityX(mesh)
	G\ObjectPy#=EntityY(mesh)
	G\ObjectPz#=EntityZ(mesh)

	
	G\ObjectScaleX#=TOKP_taillex*0.5
	G\ObjectScaleY#=TOKP_tailley*0.5
	G\ObjectScaleZ#=TOKP_taillez*0.5
	
	G\ObjectBody = ODE_dBodyCreate()
	G\ObjectGeom = ODE_dCreateBox(ODE_Space, G\ObjectScaleX#,G\ObjectScaleY#,G\ObjectScaleZ#, G\ObjectMass#)
	
	ODE_dGeomSetBody G\ObjectGeom, G\ObjectBody
	ODE_dBodySetPosition(G\ObjectBody, G\ObjectPx#,G\ObjectPy#,G\ObjectPz#)
	ODE_dBodySetRotation(G\ObjectBody, G\ObjectRotX#,G\ObjectRotY#,G\ObjectRotZ#)

	If Sound$&lt;&gt;"" Then 
		G\ObjectSound=LoadSound(Sound$)
	Else
		G\ObjectSound=0
	EndIf 
End Function

Function TOKP_CalculeTailleCentreEntity(e);
	xmin#=99999999999
	xmax#=-99999999999
	ymin#=99999999999
	ymax#=-99999999999
	zmin#=99999999999
	zmax#=-99999999999
	
	For k=1 To CountSurfaces(e)
		For l=0 To CountVertices(GetSurface(e,k))-1
			If VertexX(GetSurface(e,k),l)&lt;=xmin# Then xmin#=VertexX(GetSurface(e,k),l)
			If VertexX(GetSurface(e,k),l)&gt;=xmax# Then xmax#=VertexX(GetSurface(e,k),l)
			If VertexY(GetSurface(e,k),l)&lt;=ymin# Then ymin#=VertexY(GetSurface(e,k),l)
			If VertexY(GetSurface(e,k),l)&gt;=ymax# Then ymax#=VertexY(GetSurface(e,k),l)
			If VertexZ(GetSurface(e,k),l)&lt;=zmin# Then zmin#=VertexZ(GetSurface(e,k),l)
			If VertexZ(GetSurface(e,k),l)&gt;=zmax# Then zmax#=VertexZ(GetSurface(e,k),l)
		Next
	Next

	TOKP_centrex#=xmin*0.5+xmax*0.5
	TOKP_centrey#=ymin*0.5+ymax*0.5
	TOKP_centrez#=zmin*0.5+zmax*0.5

	;Calcule les valeurs de scale
	x#=EntityPitch(e,True)
	y#=EntityYaw(e,True)
	z#=EntityRoll(e,True)
	
	RotateEntity e,0,0,0,True
	scalex#=GetMatElement(e,0,0)
	scaley#=GetMatElement(e,1,1)
	scalez#=GetMatElement(e,2,2)
	
	RotateEntity e,x,y,z,True

	TOKP_centrex=scalex*TOKP_centrex
	TOKP_centrey=scaley*TOKP_centrey
	TOKP_centrez=scalez*TOKP_centrez

	TOKP_taillex=(xmax-xmin)*scalex
	TOKP_tailley=(ymax-ymin)*scaley
	TOKP_taillez=(zmax-zmin)*scalez
End Function



Example code



; ------------------------
; Freelook cam var
; ------------------------
Global Mouse_X_Speed#
Global Mouse_Y_Speed#
Global Camera_VelX#
Global Camera_VelZ#
Global Camera_Pitch
Global Camera_Yaw

Include "BlitzODE.bb"
Include "Inc_ODEStuff.bb"

;------ Initialize Graphics --------
Graphics3D 800, 600,16,2
SetBuffer BackBuffer()	

lh = CreateLight(2)
PositionEntity lh,50,50,50
LightRange lh,100
LightColor lh,255,200,150

plane = CreatePlane()
;mirror = CreateMirror(plane)
EntityColor plane, 0, 0, 150
;EntityAlpha plane, .8
PositionEntity plane,0,-0.3,0

SeedRnd MilliSecs()
;--------- Initialize ODE ----------
ODE_InitWorld()


;------- Create siple cube ---------
;For i=0 To 5
;Mass#=30
;Area=30
;ODE_CreateCube(Rnd(-5,5),i,Rnd(-5,5),0,0,0,1,1,1,Mass#,"Bounce.wav",Rnd(255),Rnd(255),Rnd(255))
;ODE_CreateSphere(Rnd(-5,5),i,Rnd(-5,5),1,Mass#,"Bounce.wav",Rnd(255),Rnd(255),Rnd(255))
;ODE_CreateCylinder(Rnd(-Area,Area),5,Rnd(-Area,Area),90,0,0,1,3,Mass#,"chimes.wav",Rnd(255),Rnd(255),Rnd(255))
;
;ODE_CreateCubeMesh("teapot.b3d",Rnd(-20,20),i,Rnd(-20,20),0,0,0,Mass#,"Bounce.wav")
;ODE_CreateSphereMesh("chamber.b3d",Rnd(-20,20),i,Rnd(-20,20),0,0,0,Mass#,"Bounce.wav")
;Next

mesh=LoadAnimMesh("002.b3d")
PositionEntity mesh,0,10,0
ODE_AnimMeshPhysic(mesh)


;-----------------------------------

ODE_UpdatePhysic()

cam = CreateCamera()
PositionEntity cam, 0, 10, -25
cambody = ODE_CreateSphere(0, 10, -25,6,0,"",0,0,0,0)

;-----------------------------------

gameFPS = 50.0
framePeriod = 1000 / gameFPS
frameTime = MilliSecs () - framePeriod

MoveMouse GraphicsWidth()/2,GraphicsHeight()/2

While Not KeyHit(1)
	Repeat
		frameElapsed = MilliSecs () - frameTime
	Until frameElapsed
	
	frameTicks = frameElapsed / framePeriod
	frameTween# = Float(frameElapsed Mod framePeriod) / Float(framePeriod)
	For frameLimit = 1 To frameTicks
		If frameLimit = frameTicks Then CaptureWorld
		frameTime = frameTime + framePeriod

            ;------------ Update physics world ----------		

		
	ODE_dWorldQuickStep 0.1
            ;--------------------------------------------


	Next

		If KeyHit(57)
			For G.ODE_Object = Each ODE_Object
				ODE_dBodyEnable G\ObjectBody
				ODE_dBodyAddForce G\ObjectBody, 0, Rnd(20, 50), 0
				ODE_dBodyAddTorque G\ObjectBody, Rnd(-30, 10), Rnd(-10, 10), Rnd(-10, 10)
			Next
		EndIf

		
		
	;---- Set geometry position and rotation ----

	ODE_UpdatePhysic()

Proc_Freelook(Cam,1.05,0.05)
ODE_dBodySetPosition(cambody,EntityX(Cam),EntityY(Cam), EntityZ(Cam))

	;--------------------------------------------

	RenderWorld frameTween#
	
	Flip 0
Wend

ODE_dCloseODE()
End

Function Proc_Freelook(CamEntity,Velocity#,Speed#)
 Mouse_X_Speed#=MouseXSpeed()*0.5
 Mouse_Y_Speed#=MouseYSpeed()*0.5

 MoveMouse GraphicsWidth()/2,GraphicsHeight()/2
 Camera_Pitch=Camera_Pitch+Mouse_Y_Speed#
 Camera_Yaw=Camera_Yaw+Mouse_X_Speed#


 RotateEntity CamEntity,Camera_Pitch,-Camera_Yaw,0

 If KeyDown(203) Then
   Camera_VelX=Camera_VelX-Speed#
 ElseIf  KeyDown(205)
   Camera_VelX=Camera_VelX+Speed#
 EndIf
 If KeyDown(208) Then
   Camera_VelZ=Camera_VelZ-Speed#
 ElseIf  KeyDown(200)
   Camera_VelZ=Camera_VelZ+Speed#
 EndIf
 
 Camera_VelX=Camera_VelX/velocity#
 Camera_VelZ=Camera_VelZ/velocity#
 MoveEntity CamEntity,Camera_VelX,0,Camera_VelZ

 If KeyDown(200) Then
   MoveEntity CamEntity,0,0,Speed#
 EndIf

 If KeyDown(208) Then
   MoveEntity CamEntity,0,0,-Speed#
 EndIf

 If KeyDown(205) Then
   MoveEntity CamEntity,Speed#,0,0
 EndIf

 If KeyDown(203) Then
   MoveEntity CamEntity,-Speed#,0,0
 EndIf
End Function
</textarea><br><br>But my object become "crazy" !!! i think that my code for calculate<br>mesh child scale is bugged, but i don't find where.<br><br>Anybody have an example code for test child mesh scale ? <br><br></td></tr></table><br>
<a name="428156"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#108">[#108]</a></td></tr></table></td></tr><tr ><td class="posttext"> See my code above filax. It does this. <br><br></td></tr></table><br>
<a name="428158"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#109">[#109]</a></td></tr></table></td></tr><tr ><td class="posttext"> I post again :)<br><pre class=code>
;creates a rigid body cube from a source entity's dimensions and link them together
Function ODECube(ent)
	;get transform
	x#=EntityX(ent,1)
	y#=EntityY(ent,1)
	z#=EntityZ(ent,1)
	sx#=MeshWidth(ent)
	sy#=MeshHeight(ent)
	sz#=MeshDepth(ent)

	;create ode rigid body
	o.odebody = New odebody
	o\body = ODE_dBodyCreate()

	;create the rigid body geometry for ode
	o\geo = ODE_dCreateBox(ODE,sx,sy,sz,10)
	ODE_dGeomSetBody o\geo, o\body

	;set position and rotation
	ODE_dBodySetPosition(o\body,x,y,z)
	ODE_dBodySetRotation(o\body,0,0,0)

	;link
	ODELink(ent,o\geo)
	
	Return o\body
End Function
</pre> <br><br></td></tr></table><br>
<a name="428163"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Filax</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#110">[#110]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi ;) thanks for reply, i have test your code but the <br><br>	sx#=MeshWidth(ent)<br>	sy#=MeshHeight(ent)<br>	sz#=MeshDepth(ent)<br><br>don't fit exactly the child mesh ? the 3DS scale seem to be different <br>than blitz scale.<br><br>If you have and exemple of search and applying box under an<br>animmesh :) please :) <br><br></td></tr></table><br>
<a name="428165"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#111">[#111]</a></td></tr></table></td></tr><tr ><td class="posttext"> I understand. To fix this, you need to apply resetXform in 3dsmax.<br><br>This is because in 3dsmax, you can move the vertices (meshwidth/height/depth is changed) but you can also scale it (multiplies the meshwidth etc results). Scaling in max will scale the imported Entity. Which will change the results of MeshWidth, MeshHeight and MeshDepth.<br><br>ResetXform makes EntityScale (not meshscale) =1 <br><br>To find the EntityScale, look in code archives for functions by sswift.<br><br>But easiest method? ResetXForm in max :) <br><br></td></tr></table><br>
<a name="428196"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Filax</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#112">[#112]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have try it but no result :( i'm disapointed ... i'm sure that there is<br>a possibility to setup physic under 3D software like 3DS MAX. <br><br></td></tr></table><br>
<a name="428203"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#113">[#113]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am doing this already. Export your models as B3D using pipeline and examine your code. <br><br></td></tr></table><br>
<a name="428210"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#114">[#114]</a></td></tr></table></td></tr><tr ><td class="posttext"> Coppercircle... you can get the source to the DLL ;) i realy doubt arkon would be able to fix DLL issues, unless he is knowledgable in C++ and then he may be.<br>But looking at this ODE wrapper, yes, he has done an excelent job, but anyone who knows how to read the ode manual and do decls could, with time, have done this.. i was considering it...<br><br>He has done a bloody great job though, hasnt he :D <br><br></td></tr></table><br>
<a name="428259"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#115">[#115]</a></td></tr></table></td></tr><tr ><td class="posttext"> don't you think you should just shut up someimes cygnus? :) <br><br></td></tr></table><br>
<a name="428305"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Filax</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#116">[#116]</a></td></tr></table></td></tr><tr ><td class="posttext"> BloodLocust : I have some result but it's not perfect<br><br><a href="http://www.blitz3dfr.com/tempo/TestODE.zip" target="_blank">http://www.blitz3dfr.com/tempo/TestODE.zip</a><br><br>My object seem to be good (axis, xform etc) but the physic <br>make them trembled ?? <br><br>But you have reason on a point, i must do Xform reset, under max <br><br></td></tr></table><br>
<a name="428309"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#117">[#117]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was bored ;) and my computer wasnt working, and this was the only window open :/ Sorry if that seemed a bit like i was picking, but i was pretty anoyed at this computer and its inability to stay functional for more than 30 seconds... Luckily, with the new wrapper, it wasnt ODE breaking it this time ^.^ <br><br></td></tr></table><br>
<a name="428311"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#118">[#118]</a></td></tr></table></td></tr><tr ><td class="posttext"> SILENCE! or feel my rigid body :P <br><br></td></tr></table><br>
<a name="428334"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paolo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#119">[#119]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow,<br>Many thanks Arkon, this is sweet ! :)<br><br>As a first look, it seems pretty stable to me, and faster to set up than tokamak.<br><br>But one, question,<br>is it any way to set independent friction or "air resistance" for each element?, it is just that when you move an element it remains moving for a lot more time than it should be. If I remember well, you could set this in tokamak with the "linear dumping" and "angular dumping" stuff,... maybe there's something similar here?<br><br>Thanks!<br>Paolo. <br><br></td></tr></table><br>
<a name="428338"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#120">[#120]</a></td></tr></table></td></tr><tr ><td class="posttext"> at least, im helping bump the topic a little higher :P<br><br><br>Anyone come across any vehicle problems?<br><br>When i steer, my body nearly flips over and i cant seem to get the back wheels to slide<br><br>Ive tried to just write wrapper commands to the old ode, (which has worked and now my old engine is running).. but the wheels are now super sticky and i realy dont know what to do ^.^ <br><br></td></tr></table><br>
<a name="428339"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eric</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#121">[#121]</a></td></tr></table></td></tr><tr ><td class="posttext"> For some reason, I am have the opposite, I am having a hard time setting up ODE. <br><br>Can someone help me visualize, Seperate Geoms to make up one object. Are the X,Y,Z and Roll, Yaw, Pitch the same as Blitz. I want to create Alpha .5 cubes where the Geoms are located to help me assemble a complex RB. <br><br></td></tr></table><br>
<a name="428345"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skitchy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#122">[#122]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can somebody put together some sort of type based MakeVehicle() function for us to mess around with?<br>Its a lazy mans request, but then, I'm a lazy man ;) <br><br></td></tr></table><br>
<a name="428410"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tom</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#123">[#123]</a></td></tr></table></td></tr><tr ><td class="posttext"> arkon, does ODEs coordinate system match Blitzs?<br><br>I seem to recall the original ODE DLL stuck with ODEs system, which I think was X+ = BBs Z+, that made it confusing to setup thing in Blitz<br><br>Cheers<br>Tom <br><br></td></tr></table><br>
<a name="428436"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Proger</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#124">[#124]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have considered this while making the wrapper...:) <br><br></td></tr></table><br>
<a name="428448"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Proger</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#125">[#125]</a></td></tr></table></td></tr><tr ><td class="posttext"> I fixed bugs...<br>Colliding Cylinder + TriMesh<br><br>added parameter for ODE_dWorldCreate function<br>ODE_dWorldCreate(1) - with floor plane<br>ODE_dWorldCreate(0) - without floor plane<br><br><a href="http://blitz.pp.ru/file/BlitzODE_0_5_b.rar" target="_blank">http://blitz.pp.ru/file/BlitzODE_0_5_b.rar</a> <br><br></td></tr></table><br>
<a name="428466"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sweenie</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#126">[#126]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm.<br>I'm having some problems with my trimesh(terrainmesh).<br>I can drive on it with my car without any problems but at one end(the same end all the time) of the terrain my car either falls through the terrain or sometimes it looks like it hits an invisible wall or something.<br>The mesh should be fine since I used the same mesh in the Tokamakversion of my cardemo. <br><br></td></tr></table><br>
<a name="428469"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#127">[#127]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> When i steer, my body nearly flips over and i cant seem to get the back wheels to slide  <br></div><br><br>I think that it happens because the car wheels are spheres... never understud why they can't be cylinders? That would be more logical to me.<br><br>We had same kind of problems when I did the 3DMark2001 (playable) car demo - in the end we "solved" it by cheating: we added invisible weight that was below ground level and attached to the body, sort of rigid pendulum (if they can be such thing). It moved the center of mass lower and the car became more stable in hugh speed fast turns. :)<br><br>Oh and Arkon, great job (and fixes &amp; additions)! "Easy composite objects" would be a must like Fredborg said... please? <br><br></td></tr></table><br>
<a name="428472"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Filax</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#128">[#128]</a></td></tr></table></td></tr><tr ><td class="posttext"> I find strange that the objects are always moving (tremor) ?? <br>Maybe i make an error?<br><br>Is there a way to define the physic precision like tokamak ?<br>TOKSIM_Advance Speed,Precision<br><br>I you don't understand what i say try this example :<br><br><a href="http://www.blitz3dfr.com/tempo/TestODE.zip" target="_blank">http://www.blitz3dfr.com/tempo/TestODE.zip</a><br><br>But thanks for fix cylinder :) <br><br></td></tr></table><br>
<a name="428473"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#129">[#129]</a></td></tr></table></td></tr><tr ><td class="posttext"> I did exactly this with an ODE car test with my original DLL - added a sphere attached to a rigid joint way below the car - by varying the mass and distance you can get different results, although it does tend to start making the car rock from side to side after coming to a standstill, which looks a bit odd, but nothing you can't fix with some tweaking I'm sure. <br><br></td></tr></table><br>
<a name="428478"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#130">[#130]</a></td></tr></table></td></tr><tr ><td class="posttext"> the engine has always worked with spheres and got around the "wheel hits wall" problem by using the High and Low lock to force the wheels to a certain angle. worked great before<br>but now when i steer, it makes the whole car jig, and the back wheels slide a small amount...<br><br>I have had my car datas for a while now and they worked before, tweaked for when the wheels could slide... it was pretty damn realistic... but now, looks like its crapped up... <br><br></td></tr></table><br>
<a name="428496"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#131">[#131]</a></td></tr></table></td></tr><tr ><td class="posttext"> For the weight trick, how do you do it? which joint is a "rigid" joint?<br><br>edit: I think I found out how. But now, how do we make the weight object non-collidable with everything? <br><br></td></tr></table><br>
<a name="428508"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#132">[#132]</a></td></tr></table></td></tr><tr ><td class="posttext"> BUG: invisible objects present at 0,0,0 (I think). It's a weird object and should not be there. This only happens when you load a trimesh for collision. The object wasn't there on an older version of the wrapper.<br><br>Invisible object bug.<br><br>Bug in latest version, not old version. With Trimesh. <br><br></td></tr></table><br>
<a name="428511"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#133">[#133]</a></td></tr></table></td></tr><tr ><td class="posttext"> MORE INFO: the bug occurs without trimesh. The invisible object is always at 0,0,0 I think. <br><br></td></tr></table><br>
<a name="428515"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#134">[#134]</a></td></tr></table></td></tr><tr ><td class="posttext"> Another bug: ODE_dGeomSetRotation does not seem to have any effect. ODE_dGeomGetRotation is missing as well.<br><br>ODE_dGeomSetRotation is essential because you cannot make custom collision shapes effectively without it.<br><br>Keep up the good work Arkon, when all the bugs are squashed then the world will have a perfect physics engine :) <br><br></td></tr></table><br>
<a name="428518"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#135">[#135]</a></td></tr></table></td></tr><tr ><td class="posttext"> I can't remember how you make the weight non-collidable - with Tokamak you just don't create the GEOMETRY object along with the rigid body - does ODE do a similar thing? It's been so long since I used it I can't recall how it works... <br><br></td></tr></table><br>
<a name="428526"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#136">[#136]</a></td></tr></table></td></tr><tr ><td class="posttext"> in tokamak I did actually create the geometry object. I just set it not to collide with a command. <br><br></td></tr></table><br>
<a name="428611"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#137">[#137]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have a couple of questions:<br><br>* How do we know if we collide with the ground only as it's a bit confusing.<br><br>* How do you set the friction and bounce individually for each body? How do you set the friction and bounce for the trimesh?<br><br>Thanks :) <br><br></td></tr></table><br>
<a name="428736"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#138">[#138]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>jhocking: Can you post the package as a zip? <br> <br></div><br>Just to echo jhocking, can you post a zip version of the wrapper too please arkon? I can't get the rar package to decompress successfully here. <br><br></td></tr></table><br>
<a name="428752"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#139">[#139]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have provided a zipped mirror for people having problems with rar files.<br><br>www.redflame.net/hosted/BlitzODE_0_5_b.zip <br><br></td></tr></table><br>
<a name="428759"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#140">[#140]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Rob, much appreciated :) <br><br></td></tr></table><br>
<a name="428769"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#141">[#141]</a></td></tr></table></td></tr><tr ><td class="posttext"> Bear in mind there is an invisible object at 0,0,0 in this release :) plus bugs with rotating geometry (shouldn't affect you) but bothersome for me :) <br><br></td></tr></table><br>
<a name="428783"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul "Taiphoz"</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#142">[#142]</a></td></tr></table></td></tr><tr ><td class="posttext"> has all these updates been added to the main Zip yet ?<br><br>Im gona hold back a few days till all this stuff and the ideas above have been aded so I dont end up with missing files. <br><br></td></tr></table><br>
<a name="428805"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#143">[#143]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes it's all there. www.redflame.net/hosted/BlitzODE_0_5_b.zip<br>You may wish to hold back a few days, yes. <br><br></td></tr></table><br>
<a name="428842"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#144">[#144]</a></td></tr></table></td></tr><tr ><td class="posttext"> im going to have to revert to a better compiled version of the old ode- this one works great but it just functions too different from my old engine... <br><br></td></tr></table><br>
<a name="428858"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#145">[#145]</a></td></tr></table></td></tr><tr ><td class="posttext"> OMG this is amazing, works much faster than tokamak for me.<br><br>Can't wait to get my head round this and implement it into my racing game.<br><br>Thanks arkon! :)<br><br>Rob, I will bear that stuff in mind and thanks again for the zip ;)<br><br>Mods can we have an BlitzODE sticky please? <br><br></td></tr></table><br>
<a name="428874"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#146">[#146]</a></td></tr></table></td></tr><tr ><td class="posttext"> Few problems:<br><br>- invisible object at origin bug<br>- small space between trimesh and rigid bodies bug<br>- cannot rotate geometry bug<br>- cannot check collisions with trimesh<br>- missing command to check if geometry is in a space<br>- few other missing commands<br><br>But very nice for 0.52b! Give the author time, I have every faith he will fix the problems if we support him :) <br><br></td></tr></table><br>
<a name="428889"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#147">[#147]</a></td></tr></table></td></tr><tr ><td class="posttext"> Come on Arkon! coma on Arkon!  ^.^<br><br>Bloodlocust: workaround for the space between meshs: increase the size of your visible mesh ;) sorry, had to say it.<br><br>needs fixing tho :) <br><br></td></tr></table><br>
<a name="428899"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#148">[#148]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Bloodlocust: workaround for the space between meshs: increase the size of your visible mesh ;) sorry, had to say it. <br></div> haha... except they then overlap each other. :) <br><br></td></tr></table><br>
<a name="428911"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#149">[#149]</a></td></tr></table></td></tr><tr ><td class="posttext"> arrr, then i suppose its only a part fix :P <br><br></td></tr></table><br>
<a name="428933"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paolo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#150">[#150]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yahoooooooo!! :)<br><br>Oh man, this is the first time that I actually get to make something that moves similar to a car :)<br>Don't know why but I find this library much more simple to understand than tokamak,<br><br>have a look at this,<br>front wheels traction only:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Graphics3D 800,600,16,2

Include "BlitzODE.bb"

cam=CreateCamera()
	PositionEntity cam,0,2,-8
	
l=CreateLight(2)
	PositionEntity l,-5,10,-5
	LightRange l,10

pl=CreatePlane(16)
	EntityAlpha pl,.5
	texpl=CreateTexture(128,128,1+8)
Color 255,255,255
Rect 0,0,64,64,1
Rect 64,64,64,64,1
CopyRect 0,0,128,128,0,0,BackBuffer(),TextureBuffer(texpl)
	ScaleTexture texpl,6,6
	EntityTexture pl,texpl,0,0
m=CreateMirror()

;---- Setting contact parameters ---
;ODE_dSetContactMode(dContactBounce + dContactSoftERP + dContactSoftCFM + dSlip1 + dSlip2)

ODE_dSetMU(.5); Friction
ODE_dSetBOUNCE(.5)
ODE_dSetSOFT_ERP(.5)
ODE_dSetSOFT_CFM(.01)
;-------------------------------

;Crear un Espacio para ODE:
Global space = ODE_dWorldCreate(1)
;-------------------------------

;Chasis
ode_body1=ODE_dBodyCreate()
	geom=ODE_dCreateBox(space,.3,.5,4,10)
	ODE_dGeomSetBody geom,ode_body1
	
	ODE_dBodySetPosition ode_body1,0,4,-2
	ODE_dBodySetRotation ode_body1,0,0,0
	ODE_dBodySetMass ode_body1,200
vis1=CreateCube()
	ScaleEntity vis1,.15,.25,2
	EntityColor vis1,255,100,0
	
;rueda der
ode_body2=ODE_dBodyCreate()
	;geom=ODE_dCreateBox(space,.25,1,1,10)
	geom=ODE_dCreateSphere(space,1,10)
	ODE_dGeomSetBody geom,ode_body2
	
	ODE_dBodySetPosition ode_body2,2,3,0
	ODE_dBodySetRotation ode_body2,0,0,0
	ODE_dBodySetMass ode_body2,30
vis2=CreateCube()
	ScaleEntity vis2,.125,.5,.5
	EntityColor vis2,100,255,0
;rueda izq
ode_body3=ODE_dBodyCreate()
	;geom=ODE_dCreateBox(space,.25,1,1,10)
	geom=ODE_dCreateSphere(space,1,10)
	ODE_dGeomSetBody geom,ode_body3
	
	ODE_dBodySetPosition ode_body3,-2,3,0
	ODE_dBodySetRotation ode_body3,0,0,0
	ODE_dBodySetMass ode_body3,30
vis3=CreateCube()
	ScaleEntity vis3,.125,.5,.5
	EntityColor vis3,100,255,0

;Traseras
;rueda der
ode_body4=ODE_dBodyCreate()
	;geom=ODE_dCreateBox(space,.25,1,1,10)
	geom=ODE_dCreateSphere(space,1,10)
	ODE_dGeomSetBody geom,ode_body4
	
	ODE_dBodySetPosition ode_body4,2,3,-4
	ODE_dBodySetRotation ode_body4,0,0,0
	ODE_dBodySetMass ode_body4,30
vis4=CreateCube()
	ScaleEntity vis4,.125,.5,.5
	EntityColor vis4,0,0,255

;rueda izq
ode_body5=ODE_dBodyCreate()
	;geom=ODE_dCreateBox(space,.25,1,1,10)
	geom=ODE_dCreateSphere(space,1,10)
	ODE_dGeomSetBody geom,ode_body5
	
	ODE_dBodySetPosition ode_body5,-2,3,-4
	ODE_dBodySetRotation ode_body5,0,0,0
	ODE_dBodySetMass ode_body5,30
vis5=CreateCube()
	ScaleEntity vis5,.125,.5,.5
	EntityColor vis5,0,0,255

;Joints
joint1=ODE_dJointCreateBall()
	ODE_dJointAttach joint1,0,ode_body1
	
	ODE_dJointSetBallAnchor joint1,0,5,0
	
	;ODE_dJointSetUniversalAxis1 joint1,0,0,.1
	;ODE_dJointSetUniversalAxis2 joint1,1,0,0

suspension_hard#=4
suspension_soft#=.08

;rueda der
joint2=ODE_dJointCreateHinge2()
	ODE_dJointAttach joint2,ode_body1,ode_body2

	ODE_dJointSetHinge2Anchor joint2,1.875,3,0
	ODE_dJointSetHinge2Axis1 joint2,0,1,0
	ODE_dJointSetHinge2Axis2 joint2,1,0,0

	ODE_dJointSetHinge2Param joint2,dParamLoStop,0;-Pi/4
	ODE_dJointSetHinge2Param joint2,dParamHiStop,0;Pi/4
	ODE_dJointSetHinge2Param joint2,dParamSuspensionERP,suspension_hard
	ODE_dJointSetHinge2Param joint2,dParamSuspensionCFM,suspension_soft

;rueda izq
joint3=ODE_dJointCreateHinge2()
	ODE_dJointAttach joint3,ode_body1,ode_body3

	ODE_dJointSetHinge2Anchor joint3,-1.875,3,0
	ODE_dJointSetHinge2Axis1 joint3,0,1,0
	ODE_dJointSetHinge2Axis2 joint3,1,0,0

	ODE_dJointSetHinge2Param joint3,dParamLoStop,0;-Pi/4
	ODE_dJointSetHinge2Param joint3,dParamHiStop,0;Pi/4
	ODE_dJointSetHinge2Param joint3,dParamSuspensionERP,suspension_hard
	ODE_dJointSetHinge2Param joint3,dParamSuspensionCFM,suspension_soft

;Joints Traseros:
;rueda der
joint4=ODE_dJointCreateHinge2()
	ODE_dJointAttach joint4,ode_body1,ode_body4

	ODE_dJointSetHinge2Anchor joint4,1.875,3,-4
	ODE_dJointSetHinge2Axis1 joint4,0,1,0
	ODE_dJointSetHinge2Axis2 joint4,1,0,0

	ODE_dJointSetHinge2Param joint4,dParamLoStop,0;-Pi/4
	ODE_dJointSetHinge2Param joint4,dParamHiStop,0;Pi/4
	ODE_dJointSetHinge2Param joint4,dParamSuspensionERP,suspension_hard
	ODE_dJointSetHinge2Param joint4,dParamSuspensionCFM,suspension_soft
	
;rueda izq
joint5=ODE_dJointCreateHinge2()
	ODE_dJointAttach joint5,ode_body1,ode_body5

	ODE_dJointSetHinge2Anchor joint5,-1.875,3,-4
	ODE_dJointSetHinge2Axis1 joint5,0,1,0
	ODE_dJointSetHinge2Axis2 joint5,1,0,0

	ODE_dJointSetHinge2Param joint5,dParamLoStop,0;-Pi/4
	ODE_dJointSetHinge2Param joint5,dParamHiStop,0;Pi/4
	ODE_dJointSetHinge2Param joint5,dParamSuspensionERP,suspension_hard
	ODE_dJointSetHinge2Param joint5,dParamSuspensionCFM,suspension_soft
	

millis#=MilliSecs()
millis2#=MilliSecs()
elapsed#=0

While Not KeyDown(1)

	millis=MilliSecs()-millis
	elapsed=millis
	millis=MilliSecs()

	ODE_dBodyEnable ode_body1
	ODE_dBodyEnable ode_body2
	ODE_dBodyEnable ode_body3

	If KeyDown(200)
	ODE_dBodyAddRelTorque ode_body2,40,0,0
	ODE_dBodyAddRelTorque ode_body3,40,0,0
	EndIf
	If KeyDown(208)
	ODE_dBodyAddRelTorque ode_body2,-40,0,0
	ODE_dBodyAddRelTorque ode_body3,-40,0,0
	EndIf
	
	angle#=Pi/4
	If KeyDown(203)
	ODE_dJointSetHinge2Param joint2,dParamLoStop,angle
	ODE_dJointSetHinge2Param joint2,dParamHiStop,angle

	ODE_dJointSetHinge2Param joint3,dParamLoStop,angle
	ODE_dJointSetHinge2Param joint3,dParamHiStop,angle
	
	ElseIf KeyDown(205)
	
		ODE_dJointSetHinge2Param joint2,dParamLoStop,-angle
		ODE_dJointSetHinge2Param joint2,dParamHiStop,-angle
	
		ODE_dJointSetHinge2Param joint3,dParamLoStop,-angle
		ODE_dJointSetHinge2Param joint3,dParamHiStop,-angle
	
	Else
	ODE_dJointSetHinge2Param joint2,dParamLoStop,0;-Pi/4
	ODE_dJointSetHinge2Param joint2,dParamHiStop,0;Pi/4

	ODE_dJointSetHinge2Param joint3,dParamLoStop,0;-Pi/4
	ODE_dJointSetHinge2Param joint3,dParamHiStop,0;Pi/4
	EndIf

	
	If KeyHit(30)
	ODE_dJointAttach joint1,0,0
	EndIf
	If KeyHit(31)
	ODE_dJointAttach joint1,0,ode_body1
	EndIf

	;-------------
	PositionEntity vis1,ODE_dBodyGetPositionX(ode_body1),ODE_dBodyGetPositionY(ode_body1),ODE_dBodyGetPositionZ(ode_body1)
	RotateEntity vis1,ODE_dBodyGetPitch(ode_body1),ODE_dBodyGetYaw(ode_body1),ODE_dBodyGetRoll(ode_body1)

	PositionEntity vis2,ODE_dBodyGetPositionX(ode_body2),ODE_dBodyGetPositionY(ode_body2),ODE_dBodyGetPositionZ(ode_body2)
	RotateEntity vis2,ODE_dBodyGetPitch(ode_body2),ODE_dBodyGetYaw(ode_body2),ODE_dBodyGetRoll(ode_body2)

	PositionEntity vis3,ODE_dBodyGetPositionX(ode_body3),ODE_dBodyGetPositionY(ode_body3),ODE_dBodyGetPositionZ(ode_body3)
	RotateEntity vis3,ODE_dBodyGetPitch(ode_body3),ODE_dBodyGetYaw(ode_body3),ODE_dBodyGetRoll(ode_body3)

	PositionEntity vis4,ODE_dBodyGetPositionX(ode_body4),ODE_dBodyGetPositionY(ode_body4),ODE_dBodyGetPositionZ(ode_body4)
	RotateEntity vis4,ODE_dBodyGetPitch(ode_body4),ODE_dBodyGetYaw(ode_body4),ODE_dBodyGetRoll(ode_body4)

	PositionEntity vis5,ODE_dBodyGetPositionX(ode_body5),ODE_dBodyGetPositionY(ode_body5),ODE_dBodyGetPositionZ(ode_body5)
	RotateEntity vis5,ODE_dBodyGetPitch(ode_body5),ODE_dBodyGetYaw(ode_body5),ODE_dBodyGetRoll(ode_body5)
	;-------------

	ODE_dWorldQuickStep .15

	UpdateWorld
	RenderWorld
	
;	Text 10,10,elapsed
;	Text 10,20,ODE_dBodyGetAngularVelX(ode_body2)
	Text 10,30,"press A to release the car attach"
	Text 10,40,"press S to force a re-attach of the car"
	Text 10,50,"use ARROWS to move"
	
	Flip
Wend

ODE_dCloseODE()

MoveMouse 400,300:End
</textarea><br><br>Thanks again Arkon!<br>Paolo. <br><br></td></tr></table><br>
<a name="428981"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Proger</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#151">[#151]</a></td></tr></table></td></tr><tr ><td class="posttext"> fixed bugs...<br>rotation geometry and body<br>invisible objects<br><br>userlib only<br><a href="http://blitz.pp.ru/file/userlibs.rar" target="_blank">http://blitz.pp.ru/file/userlibs.rar</a> <br><br></td></tr></table><br>
<a name="429020"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wayne</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#152">[#152]</a></td></tr></table></td></tr><tr ><td class="posttext"> Eurythmia <br>Wirh the new Akon bug fixes your example fails on:<br>Global space = ODE_dWorldCreate()<br><br>I tried Global space = ODE_dWorldCreate(1)<br>and it works.<br><br>8) <br><br></td></tr></table><br>
<a name="429022"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Proger</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#153">[#153]</a></td></tr></table></td></tr><tr ><td class="posttext"> Global space = ODE_dWorldCreate(1) <br><br></td></tr></table><br>
<a name="429027"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BODYPRINT</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#154">[#154]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm still getting the invisible object at 0,0,0.<br><br>But you are doing an awesome job arkon.<br>Thanks for devoting your time and knowledge on this for us all. <br><br></td></tr></table><br>
<a name="429051"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RepeatUntil</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#155">[#155]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does someone have an example to add a TriMesh into ODE?<br>I used the function from BlitzODE ODE_dTriMeshCreate%(myMesh), but no collision at all occur on myMesh?? All objects fall through it? <br>  Is there something special to do here?? <br><br></td></tr></table><br>
<a name="429052"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TheMan</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#156">[#156]</a></td></tr></table></td></tr><tr ><td class="posttext"> arkon, thanks for your efforts<br>Eurythmia, thanks for sharing your car code I really liked it ... <br><br></td></tr></table><br>
<a name="429062"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#157">[#157]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Does someone have an example to add a TriMesh into ODE? <br> <br></div><br><br>Check the ODE_Tutorial_03_01 in the samples dir. Eurythmia, please edit and use "codebox" tag... <br><br></td></tr></table><br>
<a name="429077"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Proger</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#158">[#158]</a></td></tr></table></td></tr><tr ><td class="posttext"> Car demo...<br><a href="http://blitz.pp.ru/file/car_demo.zip" target="_blank">http://blitz.pp.ru/file/car_demo.zip</a> <br><br></td></tr></table><br>
<a name="429079"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#159">[#159]</a></td></tr></table></td></tr><tr ><td class="posttext"> Fantastic, I think I love you arkon lol :)<br><br>One more question, how to decide if we have collided with the trimesh? a command perhaps? of course it is necessary for effects and such...<br><br>...thinking ahead, how do we make different parts of trimesh report different information? <br><br></td></tr></table><br>
<a name="429080"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#160">[#160]</a></td></tr></table></td></tr><tr ><td class="posttext"> Arkon:<br><br>*bug* Invisible object still exists at origin.<br><br>I discovered that you have included the old DLL so the bugs are the same... perhaps this was a mistake? <br><br></td></tr></table><br>
<a name="429087"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Proger</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#161">[#161]</a></td></tr></table></td></tr><tr ><td class="posttext"> I will be testing that bugs. <br><br></td></tr></table><br>
<a name="429092"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#162">[#162]</a></td></tr></table></td></tr><tr ><td class="posttext"> Please check ODE_dGeomSetRotation is working correctly with cylinder geometry, thanks :) <br><br></td></tr></table><br>
<a name="429113"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul "Taiphoz"</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#163">[#163]</a></td></tr></table></td></tr><tr ><td class="posttext"> that last car demo is a lot better, I think it rolls to easy though, a bit more rear wheel slide on it before it rolls and your onto a winner.<br><br>Im now gona use this as well for some of the projects im working on, so nice job. <br><br></td></tr></table><br>
<a name="429116"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#164">[#164]</a></td></tr></table></td></tr><tr ><td class="posttext"> You use an invisible weight under the car and/or translatemass to change the centre of gravity here. Too much rear slide will just prevent it moving properly. <br><br></td></tr></table><br>
<a name="429136"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#165">[#165]</a></td></tr></table></td></tr><tr ><td class="posttext"> putting weight under a car is not realistic, therefore for better realism, find a better way, like reducing friction on the wheels.. even a slight reduction can be enough...<br><br>MAN i wish this wrapper would behave in my old ODE project &gt;.&lt; <br><br></td></tr></table><br>
<a name="429144"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#166">[#166]</a></td></tr></table></td></tr><tr ><td class="posttext"> your old ODE project is incorrect. This wrapper acts far closer to the real ODE, to the extent you can actually use the C documentation for it.<br><br>The invisible weight trick is actually a lot closer to the real dynamics of a car. A car will have several "invisible" weights - such as the engine at the front, a lighter body and a heavier chassis.<br><br>The golden rule for a car game must be that it behaves like the real thing. You CANNOT realistically make a cube and apply parameters as the weight distribution in a real car is all over the place. They also have different shocks/suspension/tyre pressure at the front and back. It's virtually impossible to get right, so the key is just to make it look right and feel right IMHO :) <br><br></td></tr></table><br>
<a name="429145"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#167">[#167]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can someone confirm ODE_dGeomSetRotation is working on cylinders? <br><br></td></tr></table><br>
<a name="429162"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#168">[#168]</a></td></tr></table></td></tr><tr ><td class="posttext"> @bloodlocust , yes, i know and understand it. il have to email you my old project at some point (or at least throw you a link)... i have PsycicParrots two cars and a selection of others driving round the track each with different suspention and weights.. etc etc etc... the handling on them was unbeleivable...<br><br>So, i suppose the question to help me convvert it over is:<br><br>How do i stop the wheels from being so grippy on the back? and also, when i steer.. it throws the body around. when i steer left, it steers, but the back end of the car gets nudged<br><br>Also, its still like i have superstick tyres.. i can turn around in a very small circle (tho i usually end up doing 2 wheel drive with my current sphere wheels). <br><br>Im more concerned about the latter. i just dont know what command to use to lessen the wheel stick. :)<br><br><br><br>Also, my old project alowed you to change the centre of gravity. And kay i nwas wrong, changing the location of the "invisible" weight does indeed help (hell, its why the subaru handles so brilliantly)... but it is still very possible to cock up with them.. ignote what i said because you could cock anything up anyway :)<br><br>You seem to know alot,  hope you can help me with the sticky wheels problem :)<br><br>sorry, cant check cylinders- im not at any place to play with blitz atm :) <br><br></td></tr></table><br>
<a name="429166"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#169">[#169]</a></td></tr></table></td></tr><tr ><td class="posttext"> TranslateMass changes the centre of gravity.... Friction cannot be changed on a per-geometrty/body basis at the moment but you can change world friction. I am not familiar enough with it yet...<br><br>Going to check that stuff soon after arkon fixes the geometry rotation with cylinders (not body rotation) and the invisible object :) <br><br></td></tr></table><br>
<a name="429174"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sweenie</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#170">[#170]</a></td></tr></table></td></tr><tr ><td class="posttext"> From the ODE-manual...<br><div class="quote"> <br>dReal slip1,slip2 : The coefficients of force-dependent-slip (FDS) for friction directions 1 and 2. These are only set if the corresponding flags are set in mode.<br>FDS is an effect that causes the contacting surfaces to side past each other with a velocity that is proportional to the force that is being applied tangentially to that surface.<br><br>Consider a contact point where the coefficient of friction mu is infinite. Normally, if a force f is applied to the two contacting surfaces, to try and get them to slide past each other, they will not move. However, if the FDS coefficient is set to a positive value k then the surfaces will slide past each other, building up to a steady velocity of k*f relative to each other.<br><br>Note that this is quite different from normal frictional effects: the force does not cause a constant acceleration of the surfaces relative to each other - it causes a brief acceleration to achieve the steady velocity.<br><br>This is useful for modeling some situations, in particular tires. For example consider a car at rest on a road. Pushing the car in its direction of travel will cause it to start moving (i.e. the tires will start rolling). Pushing the car in the perpendicular direction will have no effect, as the tires do not roll in that direction. However - if the car is moving at a velocity v, applying a force f in the perpendicular direction will cause the tires to slip on the road with a velocity proportional to f*v (Yes, this really happens).<br><br>To model this in ODE set the tire-road contact parameters as follows: set friction direction 1 in the direction that the tire is rolling in, and set the FDS slip coefficient in friction direction 2 to k*v, where v is the tire rolling velocity and k is a tire parameter that you can chose based on experimentation.<br><br>Note that FDS is quite separate from the sticking/slipping effects of Coulomb friction - both modes can be used together at a single contact point. <br> <br></div> <br><br></td></tr></table><br>
<a name="429187"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#171">[#171]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Sweenie.... ive tried Slip1+slip2 in the initialisation..... Il look more into it later.. this is realy the only problem.<br><br><br>Converting from the old ode to the new one has been a right pain! but ive dnoe it correctly- created commands very similar to Vorderman's (was it vorderman? sorry i cant remember ^.^) wrapper... it runs.<br><br>my god im having fun with this :D <br><br></td></tr></table><br>
<a name="429214"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul "Taiphoz"</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#172">[#172]</a></td></tr></table></td></tr><tr ><td class="posttext"> THIS NEEDS A STICKY ADMINS&gt;.... cmon. !! <br><br></td></tr></table><br>
<a name="429250"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#173">[#173]</a></td></tr></table></td></tr><tr ><td class="posttext"> how do you disable gravity?<br><br>Also I noticed that when I disable the 'invisible floor' objects still hit something even though there is nothing there <br>But then it does go through the area where the floor would be. <br><br></td></tr></table><br>
<a name="429259"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#174">[#174]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK, new thread... keep going Arkon!<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=38644" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=38644</a> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
