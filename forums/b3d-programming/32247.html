<!DOCTYPE html><html lang="en" ><head ><title >Lightwave exporter issues</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Lightwave exporter issues</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Lightwave exporter issues</a><br><br>
<a name="345338"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Avrigus</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've downloaded both Lightwave convertors from the utils page. Firstly what's the deal with Tom Speed's convertor? I've downloaded the .zip on 3 separate computers and each time it's just 73k zip file with a corrupted .bmp<br><br>I have a couple of questions regarding your covertor Lee.<br><br>1. Is blended weighting supported in the current version? I have done some simple export tests and blended weights don't seem to work.<br><br>2. Is there any specific reason why skelegons in the first object layer cannot be used? This means I can't use rig plugins like ACS4 to animate my characters.<br><br>3. Is there a chance you will add a function to automatically convert planar and cubic maps to UV's on export? AFAIK there is no way in Lightwave to automatically convert planar or cubic maps so at the moment I have to export my Lightwave levels to .x<br><br>Cheers. <br><br></td></tr></table><br>
<a name="345442"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TeraBit</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> 1. Blended weighting is supported. It has been verified as working by a few individuals using it since the weights are copied en-masse from the VMAP weights chunk. Check your version of Blitz is up to date and that you actually have adjusted your weightmaps. Remember the bone falloff in Layout will not be implemented, only the weightmaps. Make sure you check 'Weightmaps only' in the bone properties.<br><br>2. The Beta Version of the convertor Mk II handles skelegons in the first layer better.<br><br>You can download it <a href="http://www.terabit.nildram.co.uk/betadeform.zip" target="_blank"> Here </a><br><br>New features are:<br>* Greater range of geometry understood<br>* Polygons from 1 - 1024 points imported<br>* Enhanced smoothing which copes with disco UV Mapping without UV Seams.<br><br>It was like that originally because skelegons are written as two point polygons and so confuse matters with regard to vmaps, weights texture assignments etc.<br><br>3. No Plans to do so. If you select the points and create a new Tex VMAP, Planar is one of the types available. As for cubic, again, trying to match the exact way that LW does it will likely cause more problems than it solves. <br><br></td></tr></table><br>
<a name="345517"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Avrigus</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Lee for the quick reply and info, much appreciated   :-) <br><br></td></tr></table><br>
<a name="345952"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Avrigus</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK I seem to have hit a wall with bone scaling. I've loaded the Bert_R.lws into Lightwave and tweaked the bone scale on the right foot so that it grows on the Z and Y axis over time. This effect is visible in layout but fails to be seen on export to .B3D<br><br>So now my question is doesw the .B3D format support bone scaling or is it a problem with the lightwave convertor?<br><br>P.S. I've tried exporting the same character as a .x file but the bones don't seem to work at all, any ideas? <br><br></td></tr></table><br>
<a name="345976"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TeraBit</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Blitz does not understand bones from .X files as these were added after DX7 (Which Blitz is based on).<br><br>The convertor doesn't handle bone scaling. I suppose, I just never imagined that bones would change size. I'll have to get around to putting it in. <br><br></td></tr></table><br>
<a name="346145"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Avrigus</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Lee,<br><br>It would be great if you could include bone scaling into the LW convertor. I need bone scaling primarily for muscle bones for facial animation, this technique is about to become a lot more popular with Half Life 2 and Doom 3 using them as the preferred choice for facial expressions and lip syncing.<br><br>Here's a link to an example muscle rig in Lightwave:<br><a href="http://www.lwhub.com/musclebones/multi.html" target="_blank">http://www.lwhub.com/musclebones/multi.html</a> <br><br></td></tr></table><br>
<a name="346232"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TeraBit</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Interesting.. Makes up a little for the lack of EndoMorphs in Blitz. <br><br></td></tr></table><br>
<a name="348252"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Afrohorse</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm having a problem with the exporter and IK animated bones.<br><br>Here's what we are doing - <br><br>o Creating an animation where some of the bones use IK<br>o Then we're using the standard lightwave motion baker to convert the IK into standard KeyFrames.<br><br>So in theory the animation should be completely keyframed and export correctly , as the keyframes are in the scene file, even if Lw isn't using them to animate the bones. We tried converting the animation using LWDeform tool, but only the bits which weren't IK'd animated correctly. The feet, at the end of the IK chain worked okay as did anything else in the skeleton, it was just the thigh and calf bones which were originally animated with IK, then keyframed which didn't work. <br><br><br>However, just in case LW's motion baker wasn't outputing the correct keyframes, we removed all IK references from the bones and set everything to use key frames. It still played fine in Lw, but not in the LWdeform tool. <br><br></td></tr></table><br>
<a name="348274"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TeraBit</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you pre-rotating the pivots of the bones? Anything what will alter the initial orientation of the bones will likely screw up the animation. <br><br>Also, if the bones are getting scaled then it won't show up as yet (something I just recently found out!)<br><br>As it happens I've been messing around with the convertors just recently (See other posts). <br><br>If you can send me a couple of example .LWO / .LWS pairs I'll have a go at sorting out the issue at the same time as I bung in the bone scaling keys. <br><br></td></tr></table><br>
<a name="348286"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Afrohorse</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> We are not doing any of the above, no pre-rotations, no bone scaling. <br><br>I have sent you some examples, hopefully that will help. <br><br></td></tr></table><br>
<a name="348293"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Craig H. Nisbet</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've had problems with uv and smoothing with the converter.  It doesn't seem to smooth across the uv edges. <br><br></td></tr></table><br>
<a name="348305"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TeraBit</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Craig<br><br>The new one (deform convertor) should. Have you tested this with the new one or the beta one?<br><br>See <a href="http://www.blitzbasic.co.nz/Community/posts.php?topic=32319" target="_blank"> This </a> post for more details.<br><br>Get the new versions from <a href="http://www.terabit.nildram.co.uk/lwconvert.zip" target="_blank"> Here </a><br><br>@Afrohorse<br><br>I'll have a look :) <br><br></td></tr></table><br>
<a name="348385"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Craig H. Nisbet</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep, looks like this version fixed it! <br><br></td></tr></table><br>
<a name="348441"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TeraBit</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Craig - Glad it's working. Smoothing those UV seams proved to be a tricky devil to get working!<br><br>@ Afrohorse<br><br>It appears that it needs consistancy from key frames. That means that every place that there is a keyframe, a key should be available for H, P and B and X, Y and Z. If one or more is missing, it gets confused. <br><br>In the end all I needed to do was go to Layout and Using the arrow keys walk though the animation, setting a key for ALL values at each keyframe (Enter Key). After saving the scene out again the convertor did its magic on it and the animation showed up just fine. <br><br>Lightwave has a rather complicated spline based interpolation system for keyframes and so can calculate the keys for all missing values on the fly. Blitz appears to be a linear system and expects a full set of regular keys. For best results a keyframe for HPB XYZ etc. for every 10 frames or so seems to work quite well. <br><br>It appears that the Keyframe baker will only bake keyframes for those values that are specifically changed. <br><br></td></tr></table><br>
<a name="348532"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Avrigus</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Lee,<br><br>Does this new version support bone scaling? <br><br></td></tr></table><br>
<a name="348538"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TeraBit</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not yet. I wanted to check it's working in other areas before I add that. It's mostly in there now, but not activated in this build. Once this version is tested by a few people I'll add it in. <br><br></td></tr></table><br>
<a name="349262"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Avrigus</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Lee, I was gonna post this in Tom's thread but I didn't want to hijak it   ;-)<br><br>I don't seem to be able to get bone deformation working anymore! I've made 2 simple scenes of a 4 bone chain deforming a simple "snake" shaped cylinder. In the first scene the bones were created in layout and in the second scene the bones were drawn as skelegons in layer 2. When I try to export neither scene shows any bone animation. Here's the scenes in a small zip:<br><a href="http://www.zanestudios.com/pics/blitz/bert-test.zip" target="_blank">http://www.zanestudios.com/pics/blitz/bert-test.zip</a><br><br>As you may have guessed from the filename, i've also included your bert scene with some bone scaling in the head and foot. The scaling is not exported but the rest of the bones export fine. The bones in all scenes have their motion channels frozen in every frame.<br><br>Let me know if you have luck with any of the scenes! <br><br></td></tr></table><br>
<a name="350318"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TeraBit</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well I got the snake scenes going. It's the old Keyframes chesnut again.<br><br>If you load the snake scenes into layout, you'll see on the frames bar, that there are no ticks. That means that although the movement channels have been locked in some way, there are no 'Physical' keyframes. Going through and setting them manually with the enter key sets a physical keyframe (make sure you set it to all items).<br><br>The bert scene runs right off the bat (it has physical keyframes already), but as you noticed, the scale keys are not working for some reason. I'm looking into that at the moment. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
