<!DOCTYPE html><html lang="en" ><head ><title >Probable Single Surface Improvement</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Probable Single Surface Improvement</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Probable Single Surface Improvement</a><br><br>
<a name="423838"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Defoc8</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> CLUSTERED SINGLE SURFACE PARTICLES<br><br> - When creating single surface particle systems, its common to create a single<br> - mesh, updating all the verts with one simple update() call.<br> - There is big problem with this approach, assuming the quantity of verts exceeds<br> - a given system dependent amount - "bottlekneck". The time it takes to both transfer and<br> - update the vertex data on the card...AGP speed &amp; other factors determine how much data<br> - you can send before a significant framerate drop occurs.....<br> - One solution..is to break the single surface system into clusters - groups of single surface<br> - meshes. You then update the verts in these clusters throughout the gamecycle, so perhaps<br> - updating a cluster after I/O processing, and another cluster after some other operation..  <br> - <br> - The idea is quite simple, you send bursts of small/medium sized data sets to the<br> - graphics card, do some game processing &amp; the send more data. This prevents the<br> - cpu from wasting cycles waiting..the more data that must be sent the longer the<br> - cpu idles waiting for the data to complete transfer + the card to update itself...<br><br>[perhaps 100 quads per surface/cluster is reasonable?]<br><br>The speed gains my not be great..i havent tested the concept....but its worth<br>a shot - i might try moding bloodlocusts single surface system to work like this..<br>but i have heaps of more important code to get finished in my own project...<br><br>anyway - perhaps someone could try this out + post results? <br><br></td></tr></table><br>
<a name="423860"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why don't you just only update the particles right before a render? <br><br></td></tr></table><br>
<a name="423975"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Defoc8</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Right..well the truth is i dont know exactly how the AGP,<br>CPU, memory communicate...But for the sake of argument, lets<br>say its similar to buffered operations...<br>Once the buffer is full..you cannot add to the buffer, +<br>must wait til its empty, or atleast some free space exist..<br>If this is the case..it doesnt matter when you edit the<br>verts..but its best to be able to send a block without <br>waits than the whole thing with waits...<br><br>Imagine this...<br>   you have 100 units and a buffer takes 10 units at a time<br>   +you have to wait 5 minutes til it empties before filling<br>   it again.....you also have some other function that takes<br>   approx 5 mins to process...<br>   It also takes 5 mins to copy 10 units to the buffer..<br><br> 1]pass 10 units - 5 mins to send<br><br> 2]call function - this takes 5 mins...<br><br> 3]pass next 10 units...5 mins<br><br>Those steps waste no cpu cycles...15 mins tot time...<br><br><br> 1] pass 20 units into buffer = 5 mins to send 10 = 10 mins<br>                              = 5 mins to between sends<br>                              = 15 minutes<br><br> 2] call function             = 5 mins....<br><br>          Total=20 mins...wasting 5 mins waiting<br><br><br>Ok thats a silly exageration..but you get the picture?<br> - Of course im unsure how successful the idea is..it<br>may be utter crap...but i wont know til ive tried it<br>out.....<br><br>anyway..like i said..if anyone can be bothered..why<br>not give it a shot...well if your really bored :p <br><br></td></tr></table><br>
<a name="423980"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rottbott</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> One mesh entity per emitter is the most efficient way to do it in Blitz. <br><br></td></tr></table><br>
<a name="424092"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drey</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> One mesh entity per emitter is the most efficient way to do it in Blitz. <br><br>what do u mean? <br><br></td></tr></table><br>
<a name="424098"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Blitz handles how stuff is sent to the video card, so if you're talking about trying to avoid buffer waits on the AGP by updating meshes during your game loop at speciifed intervals to improve speed, I doubt it will work.<br><br>Drey:<br>An emitter is an object that emits a specified number of a specific type of particle, at a specified rate, from a specific location, in a specific direction, for a specific period of time.<br><br>Ie, an explosion occurs.  You create an emitter that emits 100 smoke particles over the course of 3 seconds.  Those smoke particles all belong to a single mesh which is specific to that emitter.  When the emitter's lifespan expires, and all the particles it was to emit have expired, the emitter mesh is deleted. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
