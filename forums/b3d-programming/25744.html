<!DOCTYPE html><html lang="en" ><head ><title >Thousands of objects</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Thousands of objects</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Thousands of objects</a><br><br>
<a name="267699"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Farflame</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> If I want to create thousands of objects, but they're all the same type (e.g 1000 spaceships of identical design), do I need to create each one individually, i.e load in the mesh for each, or do I just load the model in once and use that for each individual ship? How would I do that?<br><br>If they all need to be loaded in individually, isn't that very resource hungry? How many objects can Blitz handle? <br><br></td></tr></table><br>
<a name="267711"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Look into CopyEntity/CopyMesh (I think those are the commands anyway). <br><br></td></tr></table><br>
<a name="267717"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> And, check out Types for manipulating and describing each object as a separate entity <br><br></td></tr></table><br>
<a name="267719"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Codemonger</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Pls. correct me if I'm wrong ... <br><br>An entity is a seperate object from the mesh that does not hold vertex information (100's of points that make up the object), it is just an object with other important information that makes an entity an entity.  It points to a mesh as opposed to storing all the mesh information.  So you can make 1000 entities and it should not suck up memory resources because they actually do not hold vertex information it just points to the mesh.  So the process would be as follow:  <br><br>You are making a star wars game --- you want 1000 storm troopers, so you create a single storm trooper mesh, you only need one mesh because they all look alike. Then you create 1000 entities that point to the one storm trooper mesh that they use. This way they only use one mesh in memory, and they can all have very different properties and materials which are part of an entity.  saves on memory big time. <br><br>(I hope george lucas doesn't sue me for using this example)<br><br>anyway what you should worry about though is that if the entities are not hidden they will become part of the lookup tables blitz uses internaly for things such as picking an entity or just to see if the entity is clipped from view (it would have to do 1000 iterations to see if any are in view).. so remember to use some sort of occlusion. <br><br></td></tr></table><br>
<a name="267729"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Farflame</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes codemonger, that's pretty much what I was thinking. The reason I asked is because I've got a spaceship with a fairly complex mesh and when I tried to create an array of 100 ships, it took quite a while for the program to start running, as though it was eating up resources.<br><br>I think what I'm doing wrong is that I'm loading in the mesh for each entity. I guess I should be loading it in once, and then using copyentity to create each individual object?<br><br>Out of interest, how much memory does an entity require, without counting the mesh itself? If I had, say, 1 million entities, but all apart from 5 were hidden, would Blitz still struggle? <br><br></td></tr></table><br>
<a name="267738"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, when you use copy mesh, i think it would just point to the one mesh. I also think copyentity makes the objects share the same surface?<br><br>If you had a million entity's, blitz would have to store vertex positions for each triangle, rotation values, alpha values, etc x 1 million. So it would slow your system to a halt. I've tried it with pivots :) <br><br></td></tr></table><br>
<a name="267742"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Farflame</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep, copyentity works much better. There's no delay at all when I use that, so you're right.<br><br>Ok, so with the million entities example, I suppose the answer would be to store their position in memory, and just load them into an entity if they come within a certain range (i.e within visible range). Mind you, working out the distance of 1 million objects in 3d would also be quite time consuming, or is there a fast way of doing it?<br><br>By the way, I have no intention of using a million, but I do want alot (possibly several thousand). <br><br></td></tr></table><br>
<a name="267845"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> mmmm... it's gonna be problematic. Remember each entity requires it own pos, rot &amp; alpha value stored in main memory. What is the thing that your doing that will require several thousand objects? I might be able to help if i know the circumstances that they are being used in :o) <br><br></td></tr></table><br>
<a name="267857"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LAB[au]</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can have several thousand objects as long as it is in a single surface or at least a limited number of surfaces. So duplicating "objects" on the vertex level (adding/positioning vertices) should do the trick. Would require far less memory I think. But to animate/move objects you would ahve to move vertices. But all of this is in the case you would want to see all these objects. <br><br>If you need only 5 to be displayed at a the time, use a function for creating objects on the fly or better re-use the same objects. <br><br></td></tr></table><br>
<a name="268023"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zephar123</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> my game has aroudn 1500!!! tress and its np i can do far more. :_) thanx to compyentity <br><br></td></tr></table><br>
<a name="268111"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Farflame</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, I'm just working on theory right now for a space game. The idea is to have an unlimited numbers of ships/space stations, but not necessarily close to each other. So for example, there might be 10 at one planet and then 30 at the next, but on rare occasions lots of them might be at the same planet and I'm just wondering how it would work out.<br><br>I think the answer is definately to create/delete objects manually as they come in and out of view. The only problem I can see with that is that it might be time consuming to constantly check which objects are within a certain range.<br><br>Zephar, if your game has 1500+ trees, how does Blitz cope with that? Is there some way to tell Blitz to treat them as 'inactive' objects so it doesn't keep checking them for various unnecessary things? I assume they're not all on screen at the same time? :) <br><br></td></tr></table><br>
<a name="268138"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Codemonger</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> use hideentity to make sure blitz treats them as 'inactive'.  So only when you need the 10 to 30 ships you should unhide those entities that are required.  \<br><br> Remember if you know a certain part of space has 20 ships always in that area, then attach those ships to a parent entity so you can hide that parent entity (it will hide all children) .. Much quicker than looping through a large amount of entities. <br><br></td></tr></table><br>
<a name="268193"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rottbott</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Alternatively just load the current planet and all it's spacestations at stuff, and then delete it all and load the next set when you go to a different planet. Then it'll take a lot less RAM and load tons faster.<br><br>The downside is that there'll be a pause each time you go to another system as it loads stuff, but it shouldn't be a very long one at all. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
