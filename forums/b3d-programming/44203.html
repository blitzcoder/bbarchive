<!DOCTYPE html><html lang="en" ><head ><title >Car physics</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Car physics</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Car physics</a><br><br>
<a name="492504"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chimeara</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, i'm making a racing game....(like many others)i've been slowly improving it and releasing new versions, I have your average gravity code but i would like to implement some code that allows the car to tilt as it goes over jumps, so that it is parralell with the surface it is driving on when going up and down hills. but unforturnetly i have stuck for ideas of how to code this. <br><br></td></tr></table><br>
<a name="492532"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well i think that in these days you should look for a physics library to make that kind of things.<br><br>Look for ODE, Tokamak, Newton, in the Userlibs forum. <br><br>A physics library let you use rigid bodies dynamic system to control cars, boxes, ragdolls, etc... <br><br></td></tr></table><br>
<a name="492588"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try using 4 linepicks to align to the ground (see the Blitz DRIVER demo program for this).<br><br>I've got a system where the car is aligned to the floor using linepicks, until the difference between the previous vertical position and the current vertical position becomes too great (for example as the car crests a hill) - at this point, the car is given an upwards vertical velocity that matches the incline of the hill (worked out from the difference value mentioned before). The car then has a GRAVITY value added to the vertical velocity each frame so it starts to drop back to earth. Once it hits the ground you can either have it bounce a bit (reverse the vertical velocity and multiply it by 0.95 or 0.8 or something) or you can just revert to the linepicks to orient it to the ground it's landed on. It's not ODE-perfect but it does work. <br><br></td></tr></table><br>
<a name="492592"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob Farley</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> The problem with only using vertical velocity is that if the car ends up 90 degrees either on it's side or end it all goes pear shaped. <br><br></td></tr></table><br>
<a name="492631"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why's that?<br><br>I have the bodyshell parented to a central pivot, so it can be moved and rotated seperately.<br><br>I've put a limit on the bodyshell rotation, so it can't go past about 30 degrees nose up or down.<br><br>It's not a full physics system - you can't roll the car - but it does look pretty good as the car leaps over crests. It's more of an arcade system rather than a simulation - if you want full-on rolling and pitching etc.. then ODE is your best bet. <br><br></td></tr></table><br>
<a name="492671"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeremy Alessi</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can also put nodes on the roof so that if it goes more than 90 degrees it bounces back on it's wheels.  Although, I think using ODE at this point looks good.  Tokamak was ok but a bit lose ... the friction wasn't good and you couldn't use cylinders for tires ... so the car could slide sideways etc...<br><br>I developed the beginnings of a decent vehicle physics engine without the help of a library because all the physics libs seemed unstable but since ODE works with Blitz again, the Cygnus demo which uses ODE looks like the best thing for vehicle physics. <br><br></td></tr></table><br>
<a name="492774"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rook Zimbabwe</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  Vorderman (Posted 2005-02-24 09:06:53) <br> <br>Try using 4 linepicks to align to the ground (see the Blitz DRIVER demo program for this). <br> <br></div>I have been playing with a demolition derby ieda for a few months... I didn't even think of that!!! Linepick for the wheels... D'OH!!!<br>-RZ <br><br></td></tr></table><br>
<a name="492785"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >poopla</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> A combo of what vorderman mentioned and a decent verlet system could be successful. <br><br></td></tr></table><br>
<a name="492820"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tried the jacobsons verlet but it's not very good for track inclines ... the cage kind of jerks around.  I'll need to post some code over the weekend in my other thread and see if anyone can suss where I'm going wrong.  I really don't want to loose the subtle rolling etc..     <br><br>I would recommend taking a look at Vorderman's stunt car remake ... the physics code looks like a straight conversion from Maco Munsters c code but I think it handles pretty well and is solid.<br><br>Stevie <br><br></td></tr></table><br>
<a name="492833"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >cyberseth</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> A very simple way to do this is to have 4 pivots, one for each of the wheels, and give each one xyz velocity variables that move independently, all affected by gravity etc. Then, you use code like that in the "driver" demo (samples\mak folder) to align the car to the pivot positions, and then snap the pivots to the wheel position. <br><br></td></tr></table><br>
<a name="492851"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> ODE is realy easy to use once you get used to it. I havent managed to use the newer wrappers yet; Arkons one jiggled around alot without reason, Apprently he has fixed this, but im at work and havent been able to find it.<br><br>JV ODE looks great, I should get a few mins to play with it at some point.<br><br>it would be nice to wrap a new ode wrapper to the older commands so that the older projects can be upgraded and continues :) <br><br></td></tr></table><br>
<a name="492893"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >my_name_is_alex_hello__</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Using linepick and setting specific things to happen when the car reaches an incline or whatever is more of a hack job than car physics. You have to frickin use some equations or somthing, use where the wheels want to go based on collisions with the ground to move the body of the car or whatever<br><br>i might have a go at it now, i know its not simple because ive tried it before.<br><br>ALSO, i think that using a physics libary is a cop out. Make ure own. <br><br></td></tr></table><br>
<a name="492912"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Using linepick and setting specific things to happen when the car reaches an incline or whatever is more of a hack job than car physics.<br> <br></div><br><br>perhaps, but there is still a physics system behind it that controls the movement of the car when on the ground - my current system allows for controllable power-oversteer and full-on drifting, but also allows for variations in the car such as front and rear-wheel drive, mass, inertia etc.. I've now got it checking the ground polys also so that mud/gravel is more slippery than tarmac. <br><br></td></tr></table><br>
<a name="492996"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> @ Alex yeah you're right I agree that using a 3rd party physics lib is a cop out but hacks such as what Vorderman is using are unavoidable in my opinion.  Good gameplay is paramound so a bit of fudging is always required.  If you're planning on writing a GT4 equiv then I suggest you forget about Blitz.  However, I'm sure the whole community would be interested in your results .. if you get that far.<br><br>Look forward to seeing this finished Vorderman ... I remember downloading the old version not long after I bought Blitz3d ...... get your finger out!!! ;) <br><br></td></tr></table><br>
<a name="493016"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just posted a Blitz Rally demo here -<br><a href="http://www.blitzbasic.com/Community/posts.php?topic=44265" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=44265</a><br>for you to have a look at. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
