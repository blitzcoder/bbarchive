<!DOCTYPE html><html lang="en" ><head ><title >String compression advice</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >String compression advice</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >String compression advice</a><br><br>
<a name="939005"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MadJack</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> If I had a very long string containing numbers + alphabetic characters <br>e.g.<br> +1200121050023/0200134000233430+1200121450012<br><br>what would be a good method to compress the string into a smaller string? <br><br></td></tr></table><br>
<a name="939044"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can we assume this string is a packet of network data? So the speed of compression would be critical?<br><br>If so, and if memory serves, I'm pretty sure I remember Antony Wells tested zip compression for realtime networking and found that to be pretty performant. I can't offer any personal experience, as I've never gone beyond four players over a network (KSPool) so compression was never necessary for me. <br><br></td></tr></table><br>
<a name="939045"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MadJack</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  Can we assume this string is a packet of network data? So the speed of compression would be critical? <br></div><br><br>Actually no - I'm toying with the idea of storing custom map data in a string short enough to be copied/pasted in emails - so the speed of de/compression is not an issue. <br><br></td></tr></table><br>
<a name="939061"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warner</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wasn't there a ZIP userlib for Blitz ? (edit, ow Gabriel allready mentioned it sorry) But the link can be found here:<br><a href="http://www.blitzbasic.com/Community/posts.php?topic=63176" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=63176</a><br>If you can convert your string into a bank, you could use CompressBank, then, after emailing, use UnCompressBank, and turn the bank into a string again. <br><br></td></tr></table><br>
<a name="939095"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Compression, if it's just numbers like that, and a couple of symbols, should be fairly easy man. You have 0,1,2,3,4,5,6,7,8,9,+,-,/,* (14 (based on the code you posted) different combination of character there. So, each character should take 4 bits each maximum (that would hold 0 to 14, 15 is the termination character (that gives you 16 different states). 4 divides nicely into 16 (bits for a character string) and gives you 4.<br><br>So, you should be able to shorten the above by about 4 times.<br><br>You will need in your code, an array to hold each bits values, so:<br><br><pre class=code>

dim com_array(15)
for loop = 0 to 9
   com_array(loop) = loop
next

com_array(10) = "+"
com_array(11) = "-"
com_array(12) = "*"
com_array(13) = "/"

</pre><br><br>Then you can divide the string into character chunks of 4:<br><br>+1200121050023/0200134000233430+1200121450012<br><br>would be:<br><br>"+120"<br><br>take each character in turn and convert it into bits, using your array...<br><br>1010 + 0001 + 0002 + 0000<br><br>gives you a 16 bit character code, that you can add together with the rest of them. However, on hindsight here, i don't know if you can copy and paste 16 bit character code (UTF-16) or whether blitz3d support it... So you might have to opt for the 8 bit ascii code, which means you'll only be able to halve your string size, which is still pretty good i reckon. <br><br></td></tr></table><br>
<a name="939197"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MadJack</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> RossC<br><br>Heh - I guess I could have thought this through for myself, but this is why I post questions to the forum. Thanks for the pointer, I'll develop it further. <br><br></td></tr></table><br>
<a name="939250"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Andy</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>If I had a very long string containing numbers + alphabetic characters<br>e.g.<br>+1200121050023/0200134000233430+1200121450012<br><br>what would be a good method to compress the string into a smaller string? <br> <br></div><br><br>I see numbers and '/' and '+', but what other alphabetic characters are there?<br><br>Generally you model the compression technique on the data. <br><br></td></tr></table><br>
<a name="939490"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Andy</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt;MadJack&lt;<br><br>This might be useful for you.<br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=2405" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=2405</a> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
