<!DOCTYPE html><html lang="en" ><head ><title >Explosion marks on Terrain</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Explosion marks on Terrain</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Explosion marks on Terrain</a><br><br>
<a name="415954"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Josh R</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello friends,<br><br>I just bought blitz3d this week so please forgive me if I have overlooked the obvious.  How can I leave explosion marks on a terrain?<br><br>What I want to achieve is an explosion on a terrain which modifies the ground(as an explosion would) and leaves the ground black in that spot.  I have seen in the castle.bb sample program how to use ModifyTerrain to adjust the terrain, but how can I leave the ground black in that spot?<br><br>Thanks in advance for any advice<br>Josh <br><br></td></tr></table><br>
<a name="416199"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Since it's likely that you are using a tiling texture for the terrain, you cannot simply draw the black color to the terrain texture. There are two alternative methods:<br><br>1<br>Use a towel mesh that will be aligned to the terrain surface. This towel mesh will contain the explosion traces, using alpha transparency (use TGA with alpha channel for invisible parts of the texture).<br>2<br>Use a second texture layer on the terrain that stretches exactly one time across the entire terrain. Then simply draw the black color to the coordinate where the explosion took place. You have to calculate this coordinate using a formula that goes something like<br>x=(terrain_width# / (explo_x# - terrain_x_start#))* texture_2_width()<br><br>where terrainwidth is the worldrelative width (segments * scale ?), x_start is the true world coordiante, where the terrain starts, explo_x is of course the world coordinate of the explosion, and texture_2_width is the width in pixels of the second texture layer.<br><br>But there's a problem with alpha textures and drawing to them: Alpha information gets lost, so you probably have to update the alphachannel manualy. Try to use flag 256 on the texture, maybe this helps too.<br><br>If you won't use a true Terrain, but instead a Mesh based terrain, then you could use VertexColor to make some parts black, using linepick, pickedsurface and pickedtriangle etc.<br><br>Try the free landscape editor some of are currently working on, in the blitz creations zone of this forum. <br><br></td></tr></table><br>
<a name="416743"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Josh R</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for replying to my post jfk.  I am going to play with these two methods and see what I can get working.  As I mentioned in my original post I am new to blitz and 3d programming.  If anyone has any sample code on implementing a towel mesh, it would be greatly appreciated.<br><br>thanks again<br>Josh <br><br></td></tr></table><br>
<a name="416961"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's a shadow source that is using a dynamic towel:<br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=434" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=434</a><br><br>But to be hones, I think this towel idea wasn0t that good since the more explosions you got, the more towels you need and the slower the game gets.<br><br>I would definitively try the method with the 2nd layer texture. It sounds complicated, but it's simple. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
