<!DOCTYPE html><html lang="en" ><head ><title >Rotate an object based on the object it collides</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Rotate an object based on the object it collides</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Rotate an object based on the object it collides</a><br><br>
<a name="1241001"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomFeatherhill</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm making a 3D game and I realised one thing - If I go up ramps &amp; irregular surfaces with my little character, it stays up, not rotating based on the object underneath it.<br><br>If that didn't make sense, here's a picture to explain. Pictures do explain a lot. xD<br><br><img src="http://moo.uhostall.com/Physics.png"><br><br>I'm hoping to finish a Sonic game for a friend of mine (and SAGE) as a first effort in making ANY 3D game! Physics and everything is a pain in the neck. Always the thing that gets in my way. -.-<br><br>Anyways, thank you for reading! I'd be so happy if anybody got an answer for this Q! :3 <br><br></td></tr></table><br>
<a name="1241002"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >NotAGamer</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> try using "Aligntovector" command<br><br>here:<br><a href="http://www.blitzbasic.com/b3ddocs/command.php?name=aligntovector&amp;ref=goto" target="_blank">http://www.blitzbasic.com/b3ddocs/command.php?name=aligntovector&amp;ref=goto</a><br><br>there are some samples too... try tweaking them <br><br></td></tr></table><br>
<a name="1241003"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >NotAGamer</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> ;linepick example by RossC<br><br>Graphics3D 800,600<br>SetBuffer BackBuffer()<br><br><br>Global camera = CreateCamera()<br>Global light = CreateLight()<br><br>Global player = CreateCone()<br>EntityType player,1<br>EntityRadius player,1<br>EntityColor player,50,70,255<br>PositionEntity player,0,0.5,0<br><br>Global cam_piv = CreatePivot(player)<br>PositionEntity cam_piv,0,2,-8<br><br>Global tex=CreateTexture(64,64,1+8)<br>SetBuffer TextureBuffer(tex)<br>For loop=0 To 3000<br>	Color Rnd(190,255),Rnd(190,255),Rnd(190,255)<br>	Rect Int(Rnd(0,63)),Int(Rnd(0,63)),1,1<br>Next<br>Color 255,255,255<br><br>SetBuffer BackBuffer()<br><br>Global plane=CreatePlane()<br>EntityType plane,2<br>EntityColor plane,200,100,120<br>EntityTexture plane,tex<br>EntityPickMode plane,2<br><br><br>Global sphere=CreateSphere(10)<br>ScaleEntity sphere,10,3,10<br>EntityPickMode sphere,2<br>EntityType sphere,2<br>PositionEntity sphere,-2,0,19<br><br>Collisions 1,2,2,2; set up collisions between the ground and the player<br><br>Global jump_force#<br>Global jump_flag=0; set jump flag to 'no jump'<br>Global gravity#=0.9; set gravity value<br><br>While Not KeyHit(1)<br><br>	; this part is the linepick. The tform part, is to make sure the linepick is done from the players<br>	; actual rotation, straigh down.<br>	TFormVector 0,-10,0,player,0<br>	; the values from the tform then get used in the linepick command. if you just substitute your<br>	; variable for the player into here, everything will be cool!<br>	LinePick(EntityX(player,True),EntityY(player,True),EntityZ(player,True),TFormedX(),TFormedY(),TFormedZ()); do a linepick straight down form the players location<br>	; aligns the player to the scenery, whatever has has a pickmode set.<br>	AlignToVector player,PickedNX(),PickedNY(),PickedNZ(),2,0.1<br>	<br>	If KeyDown(200) Then MoveEntity player,0,0,0.1<br>	If KeyDown(208) Then MoveEntity player,0,0,-0.1<br>	If KeyDown(203) Then TurnEntity player,0,1,0<br>	If KeyDown(205) Then TurnEntity player,0,-1,0	<br>	<br>	update_camera()<br>	<br>	UpdateWorld<br>	RenderWorld<br>	Text 0,0," Press Space to jump. Arrow keys to move!"<br>	;DebugLog(" pickedy="+PickedY())<br>	Flip<br>Wend<br>End<br><br>Function update_camera()<br>	PointEntity camera,cam_piv<br>	MoveEntity camera,0,0,EntityDistance#(camera,cam_piv)/40.0<br>	PointEntity camera,player<br>End Function<br><br><br><br><br>;;======= It's from the forum... from ROSSC .. study it.. and credit ;;him(if you like) <br><br></td></tr></table><br>
<a name="1241035"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomFeatherhill</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you! It works perfectly! My character could go up loops now.<br><br>It's something that used to bother me a lot. <br><br></td></tr></table><br>
<a name="1241092"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >NotAGamer</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> you're welcome TomFeatherhill ! i think the forum is created for this purpose .. :) <br><br></td></tr></table><br>
<a name="1241093"></a>

<a name="1241214"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >NotAGamer</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> well, i hope i wont run into guys that you talk about, Guy Fawkes.. <br><br></td></tr></table><br>
<a name="1241217"></a>

<a name="1241230"></a>

<a name="1241231"></a>

<a name="1241233"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> You ...literally... just derailed someone's thread, with absolutely no intention of helping them, specifically for the purpose of picking a fight with other forum users, and you think other users here are the ones holding a grudge? <br><br></td></tr></table><br>
<a name="1241273"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Right, ignoring that last comment above, You're going to want to use AlignToVector. Also, make sure that when you use collisions, you use a sliding collision so that the character slides back down the hill at a certain angle. <br><br></td></tr></table><br>
<a name="1241275"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RGR</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Right, ignoring that last comment above, <br></div><br>You're such a stupid kid - why can't you ignore something without telling the world you are ignoring it? <br>There must be 100 posts over here telling us that you are ignoring something or someone ...<br>Do you even know what <a href="http://www.thefreedictionary.com/ignore" target="_blank">ignoring</a> means? <br><br></td></tr></table><br>
<a name="1241276"></a>

<a name="1241277"></a>

<a name="1241278"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would attach child pivots to the corners and reorient the parent based on position of these.<br><br>BTW, I'm pretty disappointed with the above, this is a programming forum GF please respect that. <br><br></td></tr></table><br>
<a name="1241375"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomFeatherhill</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> ...you use a sliding collision so that the character slides back down the hill at a certain angle.  <br></div><br><br>Note taken. I think that's the reason why the loops in my game glitch a bit.<br><br><div class="quote"> I would attach child pivots to the corners and reorient the parent based on position of these. <br></div><br><br>I would use this when my Character goes on stormy seas and everything. I guess I'd do the same for a car that goes down the stairs.<br><br>Thanks once again!<br><br><strike>Hmm... What is ignoring? I'm not quite sure myself.</strike> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
