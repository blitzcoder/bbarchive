<!DOCTYPE html><html lang="en" ><head ><title >OpenTCPStream in main loop ?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >OpenTCPStream in main loop ?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >OpenTCPStream in main loop ?</a><br><br>
<a name="1235626"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Prym</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello to all the members of the blitzbasic forum <br>Is there someone who can help me to correct my LAN game Galaxang (space 3D) ? <br>I have put the multiplayer chunk of the main loop . <br>I have modified? it and expose it in this post .<br>Status :<br>I have connected two Windows 7 home PCs with a blue LAN cable in their net plugs . My net is declared as "Reseau indefini" (FR : windows 7 "net and connections" page ) . <br>Is it normal ? <br>Can it be the reason why my program loop does not work ? <br>Is there a configuration in windows that I have to do to use a LAN net ? <br><br>The loop chunk works with this line : <br>;				strStream48cli = OpenTCPStream ( adresserveur$ , 8080 ) ; ( DottedIP$ ( HOSTplayerID ) , 8080 ) <br>But it slows too much the loop, and I know I don't have to do like that . <br><br>Thank you for your answers and suggestions . <br>The Gauge example does not work anymore for me . <br><br><br><br><br><br><br>		If MULTI = True Then <br><br>			If parentplayer0 = pivotterrainchateau Then <br>				Xplayer0MULTI ( numplayer0 ) = EntityX ( player0 , 0 ) ; Xplayer0 <br>				Yplayer0MULTI ( numplayer0 ) = EntityY ( player0 , 0 )<br>				Zplayer0MULTI ( numplayer0 ) = EntityZ ( player0 , 0 )<br>;				pitchplayer0MULTI ( numplayer0 ) = EntityPitch ( player0 , 0 )<br>;				yawplayer0MULTI ( numplayer0 )   = EntityYaw ( player0 , 0 )<br>;				rollplayer0MULTI ( numplayer0 )  = EntityRoll ( player0 , 0 ) <br>			Else ; If parentplayer0 = 0 , pivotTEMP , ou autres Then <br>				Xplayer0MULTI ( numplayer0 ) = EntityX ( player0 , 1 )<br>				Yplayer0MULTI ( numplayer0 ) = EntityY ( player0 , 1 )<br>				Zplayer0MULTI ( numplayer0 ) = EntityZ ( player0 , 1 )<br>;				pitchplayer0MULTI ( numplayer0 ) = EntityPitch ( player0 , 1 )<br>;				yawplayer0MULTI ( numplayer0 )   = EntityYaw ( player0 , 1 )<br>;				rollplayer0MULTI ( numplayer0 )  = EntityRoll ( player0 , 1 ) <br>			EndIf <br>			pitchplayer0MULTI ( numplayer0 ) = EntityPitch ( player0 ) ; , 1 )<br>			yawplayer0MULTI ( numplayer0 )   = EntityYaw ( player0 ) ; , 1 )<br>			rollplayer0MULTI ( numplayer0 )  = EntityRoll ( player0 ) ; , 1 ) <br>			<br>			If KeyHit ( 57 ) Stop ; 57 = Espace ; DebugLog verifs<br><br>			If partie = 2 Then <br><br>				strStream48ser = AcceptTCPStream ( TCP48 ) <br>				DebugLog "TCP48  = " + TCP48 <br>				DebugLog "strStream48ser = " + strStream48ser <br>;				DebugLog "ReadAvail ( strStream48ser ) = " + ReadAvail ( strStream48ser ) <br>;				DebugLog "strStream48cli = " + strStream48cli <br>;				DebugLog "ReadAvail ( strStream48cli ) = " + ReadAvail ( strStream48cli ) <br>				If strStream48ser &lt;&gt; 0 Then <br>					If ReadString$ ( strStream48ser ) = "coordscli" Then <br>						Nmodele = ReadInt ( strStream48ser ) <br>						playerID  ( Nmodele ) = ReadInt ( strStream48ser ) <br>						numplayer0pris ( Nmodele ) = ReadInt ( strStream48ser ) <br>						Xplayer0MULTI ( Nmodele ) = ReadInt ( strStream48ser ) <br>						Yplayer0MULTI ( Nmodele ) = ReadInt ( strStream48ser ) <br>						Zplayer0MULTI ( Nmodele ) = ReadInt ( strStream48ser ) <br>						pitchplayer0MULTI ( Nmodele ) = ReadInt ( strStream48ser ) <br>						yawplayer0MULTI ( Nmodele )   = ReadInt ( strStream48ser ) <br>						rollplayer0MULTI ( Nmodele )  = ReadInt ( strStream48ser ) <br>					EndIf <br>;				EndIf <br>					WriteString strStream48ser , "coordsser" <br>					For Nmodele = 0 To 3 <br>						WriteInt strStream48ser , Nmodele <br>						WriteInt strStream48ser , playerID ( Nmodele ) <br>						WriteInt strStream48ser , numplayer0pris ( Nmodele ) <br>						WriteInt strStream48ser , Xplayer0MULTI ( Nmodele ) <br>						WriteInt strStream48ser , Yplayer0MULTI ( Nmodele ) <br>						WriteInt strStream48ser , Zplayer0MULTI ( Nmodele ) <br>						WriteInt strStream48ser , pitchplayer0MULTI ( Nmodele ) <br>						WriteInt strStream48ser , yawplayer0MULTI ( Nmodele ) <br>						WriteInt strStream48ser , rollplayer0MULTI ( Nmodele ) <br>					Next <br>					DebugLog "TCP48  = " + TCP48 <br>					DebugLog "strStream48ser = " + strStream48ser <br>;					DebugLog "ReadAvail ( strStream48ser ) = " + ReadAvail ( strStream48ser ) <br>;					DebugLog "strStream48cli = " + strStream48cli <br>;					DebugLog "ReadAvail ( strStream48cli ) = " + ReadAvail ( strStream48cli ) <br>;				CloseTCPStream strStream48ser <br>				EndIf <br>		<br>			ElseIf partie = 1 Then <br>			<br>;				strStream48cli = OpenTCPStream ( adresserveur$ , 8080 ) ; ( DottedIP$ ( HOSTplayerID ) , 8080 ) <br>;				DebugLog "TCP48  = " + TCP48 <br>;				DebugLog "strStream48ser = " + strStream48ser <br>;				DebugLog "ReadAvail ( strStream48ser ) = " + ReadAvail ( strStream48ser ) <br>				DebugLog "strStream48cli = " + strStream48cli <br>				DebugLog "ReadAvail ( strStream48cli ) = " + ReadAvail ( strStream48cli ) <br>				If strStream48cli &lt;&gt; 0 ; And ReadAvail ( strStream48cli ) = 0 Then <br>					WriteString strStream48cli , "coordscli" <br>					WriteInt strStream48cli , numplayer0 <br>					WriteInt strStream48cli , playerID ( numplayer0 ) <br>					WriteInt strStream48cli , numplayer0pris ( numplayer0 ) ; 1 ; <br>					WriteInt strStream48cli , Xplayer0MULTI ( numplayer0 ) ; EntityX ( player0 , 1 ) ; <br>					WriteInt strStream48cli , Yplayer0MULTI ( numplayer0 ) ; EntityY ( player0 , 1 ) ; <br>					WriteInt strStream48cli , Zplayer0MULTI ( numplayer0 ) ; EntityZ ( player0 , 1 ) ; <br>					WriteInt strStream48cli , pitchplayer0MULTI ( numplayer0 ) ; EntityPitch ( player0 , 1 ) ; <br>					WriteInt strStream48cli , yawplayer0MULTI ( numplayer0 ) ; EntityYaw ( player0 , 1 ) ; <br>					WriteInt strStream48cli , rollplayer0MULTI ( numplayer0 ) ; EntityRoll ( player0 , 1 ) ; <br>					If ReadString$ ( strStream48cli ) = "coordsser" Then <br>						For Xmodele = 0 To 3 <br>							Nmodele = ReadInt ( strStream48cli ) ; Nmodele = cubemodele = : sa dépane <br>							playerID ( Nmodele ) = ReadInt ( strStream48cli ) <br>							numplayer0pris ( Nmodele ) = ReadInt ( strStream48cli ) <br>							Xplayer0MULTI ( Nmodele ) = ReadInt ( strStream48cli ) <br>							Yplayer0MULTI ( Nmodele ) = ReadInt ( strStream48cli ) <br>							Zplayer0MULTI ( Nmodele ) = ReadInt ( strStream48cli ) <br>							pitchplayer0MULTI ( Nmodele ) = ReadInt ( strStream48cli ) <br>							yawplayer0MULTI ( Nmodele )   = ReadInt ( strStream48cli ) <br>							rollplayer0MULTI ( Nmodele )  = ReadInt ( strStream48cli ) <br>						Next <br>					EndIf <br>;					DebugLog "TCP48  = " + TCP48 <br>;					DebugLog "strStream48ser = " + strStream48ser <br>;					DebugLog "ReadAvail ( strStream48ser ) = " + ReadAvail ( strStream48ser ) <br>					DebugLog "strStream48cli = " + strStream48cli <br>					DebugLog "ReadAvail ( strStream48cli ) = " + ReadAvail ( strStream48cli ) <br>				EndIf <br>		<br>			EndIf <br>			<br>		EndIf <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
