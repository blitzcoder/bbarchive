<!DOCTYPE html><html lang="en" ><head ><title >creating trainers and software enhancement programs in blitz</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >creating trainers and software enhancement programs in blitz</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >creating trainers and software enhancement programs in blitz</a><br><br>
<a name="321280"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mike Yurgalavage</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> this topic may have been covered before but i did a few seaches and came up with nothing. basically i would like to be able to make "trainers" or "game enhancers" for my favorite games. stuff like adding lives and tweaking weapons, changing items, etc. this usually can be done by peeks and pokes into the game's .exe. the problem is this: <br><br>when i run a blitz program, how to i "grab" the memory addresses of the game program (let's call it game.exe) while it is running? i don't want to edit it as a file on the harddrive, but edit it while it is a program that is running (a separate process running). not sure how to do this- <br><br>anyways, it will be impossible to do peeks and pokes to any addresses of the running program (process) game.exe without knowing where it is stored in the computer's ram while it is running. i need to be able to "open" the game.exe process from within my blitz program to get to it's addresses. <br><br>blitz would be an easy tool to make this kind of program since the programming language of it would be very easy. i have had blitz for over a year but haven't tried anything like this. the coding would be simple, the thing i don't know how to do is "grabbing" the process of another program (i.e. the game.exe process) and getting the address of where it is running in ram. <br><br>thanks for your help in advance- <br>best, <br>mike <br><br></td></tr></table><br>
<a name="321300"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> No idea how feasible it is, but you could try the Win32 API commands ReadProcessMemory and WriteProcessMemory. You'd have to do this via Blitz's userlibs and use other Win32 commands such as CreateToolhelp32Snapshot/Process32First/Process32Next to look through the list of processes and get a handle to the correct process. Not really a trivial job, though! <br><br></td></tr></table><br>
<a name="321307"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mike Yurgalavage</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks james.  unfortunately the api calls to createtoolhelp look like they require some declarations that haven't been done by anyone yet for blitz (like the createtoolhelp32snapshot, etc.) it would be cool to make really nice custom trainers or game enhancement or modifying programs with blitz because of it's power and ease of use.  however, getting into the windows api stuff really makes it hard.  i have the c code below but would have no idea how to convert this into something that i could use in blitz.... if i did i would put it in the code archives and others could use it.  anyone want to make a stab at it?<br><br>thanks<br>mike<br><br><br><a href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/perfmon/base/taking_a_snapshot_and_viewing_processes.asp" target="_blank">http://msdn.microsoft.com/library/default.asp?url=/library/en-us/perfmon/base/taking_a_snapshot_and_viewing_processes.asp</a><br><br>--c++ code below-<br><br>#include &lt;windows.h&gt;<br>#include &lt;tlhelp32.h&gt;<br>#include &lt;stdio.h&gt;<br><br>//  Forward declarations:<br>BOOL GetProcessList( );<br>BOOL ListProcessModules( DWORD dwPID );<br>BOOL ListProcessThreads( DWORD dwOwnerPID );<br>void printError( TCHAR* msg );<br><br><br>void main( )<br>{<br>  GetProcessList( );<br>}<br><br><br>BOOL GetProcessList( )<br>{<br>  HANDLE hProcessSnap;<br>  HANDLE hProcess;<br>  PROCESSENTRY32 pe32;<br>  DWORD dwPriorityClass;<br><br>  // Take a snapshot of all processes in the system.<br>  hProcessSnap = CreateToolhelp32Snapshot( TH32CS_SNAPPROCESS, 0 );<br>  if( hProcessSnap == INVALID_HANDLE_VALUE )<br>  {<br>    printError( "CreateToolhelp32Snapshot (of processes)" );<br>    return( FALSE );<br>  }<br><br>  // Set the size of the structure before using it.<br>  pe32.dwSize = sizeof( PROCESSENTRY32 );<br><br>  // Retrieve information about the first process,<br>  // and exit if unsuccessful<br>  if( !Process32First( hProcessSnap, &amp;pe32 ) )<br>  {<br>    printError( "Process32First" );  // Show cause of failure<br>    CloseHandle( hProcessSnap );     // Must clean up the snapshot object!<br>    return( FALSE );<br>  }<br><br>  // Now walk the snapshot of processes, and<br>  // display information about each process in turn<br>  do<br>  {<br>    printf( "\n\n=====================================================" );<br>    printf( "\nPROCESS NAME:  %s", pe32.szExeFile );<br>    printf( "\n-----------------------------------------------------" );<br><br>    // Retrieve the priority class.<br>    dwPriorityClass = 0;<br>    hProcess = OpenProcess( PROCESS_ALL_ACCESS, FALSE, pe32.th32ProcessID );<br>    if( hProcess == NULL )<br>      printError( "OpenProcess" );<br>    else<br>    {<br>      dwPriorityClass = GetPriorityClass( hProcess );<br>      if( !dwPriorityClass )<br>        printError( "GetPriorityClass" );<br>      CloseHandle( hProcess );<br>    }<br><br>    printf( "\n  process ID        = 0x%08X", pe32.th32ProcessID );<br>    printf( "\n  thread count      = %d",   pe32.cntThreads );<br>    printf( "\n  parent process ID = 0x%08X", pe32.th32ParentProcessID );<br>    printf( "\n  Priority Base     = %d", pe32.pcPriClassBase );<br>    if( dwPriorityClass )<br>      printf( "\n  Priority Class    = %d", dwPriorityClass );<br><br>    // List the modules and threads associated with this process<br>    ListProcessModules( pe32.th32ProcessID );<br>    ListProcessThreads( pe32.th32ProcessID );<br><br>  } while( Process32Next( hProcessSnap, &amp;pe32 ) );<br><br>  // Don't forget to clean up the snapshot object!<br>  CloseHandle( hProcessSnap );<br>  return( TRUE );<br>}<br><br><br>BOOL ListProcessModules( DWORD dwPID )<br>{<br>  HANDLE hModuleSnap = INVALID_HANDLE_VALUE;<br>  MODULEENTRY32 me32;<br><br>  // Take a snapshot of all modules in the specified process.<br>  hModuleSnap = CreateToolhelp32Snapshot( TH32CS_SNAPMODULE, dwPID );<br>  if( hModuleSnap == INVALID_HANDLE_VALUE )<br>  {<br>    printError( "CreateToolhelp32Snapshot (of modules)" );<br>    return( FALSE );<br>  }<br><br>  // Set the size of the structure before using it.<br>  me32.dwSize = sizeof( MODULEENTRY32 );<br><br>  // Retrieve information about the first module,<br>  // and exit if unsuccessful<br>  if( !Module32First( hModuleSnap, &amp;me32 ) )<br>  {<br>    printError( "Module32First" );  // Show cause of failure<br>    CloseHandle( hModuleSnap );     // Must clean up the snapshot object!<br>    return( FALSE );<br>  }<br><br>  // Now walk the module list of the process,<br>  // and display information about each module<br>  do<br>  {<br>    printf( "\n\n     MODULE NAME:     %s",             me32.szModule );<br>    printf( "\n     executable     = %s",             me32.szExePath );<br>    printf( "\n     process ID     = 0x%08X",         me32.th32ProcessID );<br>    printf( "\n     ref count (g)  =     0x%04X",     me32.GlblcntUsage );<br>    printf( "\n     ref count (p)  =     0x%04X",     me32.ProccntUsage );<br>    printf( "\n     base address   = 0x%08X", (DWORD) me32.modBaseAddr );<br>    printf( "\n     base size      = %d",             me32.modBaseSize );<br><br>  } while( Module32Next( hModuleSnap, &amp;me32 ) );<br><br>  // Don't forget to clean up the snapshot object.<br>  CloseHandle( hModuleSnap );<br>  return( TRUE );<br>}<br><br>BOOL ListProcessThreads( DWORD dwOwnerPID ) <br>{ <br>  HANDLE hThreadSnap = INVALID_HANDLE_VALUE; <br>  THREADENTRY32 te32; <br> <br>  // Take a snapshot of all running threads  <br>  hThreadSnap = CreateToolhelp32Snapshot( TH32CS_SNAPTHREAD, 0 ); <br>  if( hThreadSnap == INVALID_HANDLE_VALUE ) <br>    return( FALSE ); <br> <br>  // Fill in the size of the structure before using it. <br>  te32.dwSize = sizeof(THREADENTRY32 ); <br> <br>  // Retrieve information about the first thread,<br>  // and exit if unsuccessful<br>  if( !Thread32First( hThreadSnap, &amp;te32 ) ) <br>  {<br>    printError( "Thread32First" );  // Show cause of failure<br>    CloseHandle( hThreadSnap );     // Must clean up the snapshot object!<br>    return( FALSE );<br>  }<br><br>  // Now walk the thread list of the system,<br>  // and display information about each thread<br>  // associated with the specified process<br>  do <br>  { <br>    if( te32.th32OwnerProcessID == dwOwnerPID )<br>    {<br>      printf( "\n\n     THREAD ID      = 0x%08X", te32.th32ThreadID ); <br>      printf( "\n     base priority  = %d", te32.tpBasePri ); <br>      printf( "\n     delta priority = %d", te32.tpDeltaPri ); <br>    }<br>  } while( Thread32Next(hThreadSnap, &amp;te32 ) ); <br><br>  // Don't forget to clean up the snapshot object.<br>  CloseHandle( hThreadSnap );<br>  return( TRUE );<br>}<br><br>void printError( TCHAR* msg )<br>{<br>  DWORD eNum;<br>  TCHAR sysMsg[256];<br>  TCHAR* p;<br><br>  eNum = GetLastError( );<br>  FormatMessage( FORMAT_MESSAGE_FROM_SYSTEM | FORMAT_MESSAGE_IGNORE_INSERTS,<br>         NULL, eNum,<br>         MAKELANGID(LANG_NEUTRAL, SUBLANG_DEFAULT), // Default language<br>         sysMsg, 256, NULL );<br><br>  // Trim the end of the line and terminate it with a null<br>  p = sysMsg;<br>  while( ( *p &gt; 31 ) || ( *p == 9 ) )<br>    ++p;<br>  do { *p-- = 0; } while( ( p &gt;= sysMsg ) &amp;&amp;<br>                          ( ( *p == '.' ) || ( *p &lt; 33 ) ) );<br><br>  // Display the message<br>  printf( "\n  WARNING: %s failed with error %d (%s)", msg, eNum, sysMsg );<br>} <br><br></td></tr></table><br>
<a name="321381"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mike Yurgalavage</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> bump for new people to see and possibly respond/help-<br><br>best,<br>mike <br><br></td></tr></table><br>
<a name="321852"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mike Yurgalavage</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> bump for new people to see and possibly respond/help- <br><br>best, <br>mike <br><br></td></tr></table><br>
<a name="321887"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tracer</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
#PROCESS_ALL_ACCESS = #STANDARD_RIGHTS_REQUIRED | #SYNCHRONIZE | $FFF


; Get Process info
hWnd = FindWindow_(Null,"Secret Weapons Over Normandy")

GetWindowThreadProcessId_(hWnd, @pid.l)

app = OpenProcess_(#PROCESS_ALL_ACCESS,Null,pid)

; Buffer For storing stuff, in bytes
pip = AllocateMemory(1,3)

; To read from process
zap = ReadProcessMemory_(app,4987153,pip,3,Null)
tip = PeekL(pip)

; To write to process
zing = PokeL(pip,9474192)
zip = WriteProcessMemory_(app,4987153,pip,3,Null)
</pre><br><br>Basically a quick 'rip' out of my PureBasic trainer code.. make userlibs for the Win32 API commands used, and it should work much the same way in Blitz+.<br><br>If i have time later today, i'll see if can make a bit of B+ code for ya.<br><br>(As you can see James, it's pretty damned trivial of a job ;) )<br><br>Tracer <br><br></td></tr></table><br>
<a name="321939"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, here's some code to get the list of running process IDs, but there's a slight 'issue' in that I seem to be missing something with the process name (it says 'illegal type conversion'). I think the Process32First/Next functions are overwriting something and it's too late to fiddle too much with it! I briefly tried banks but they end up causing a 'not a valid bank handle' error).<br><br>You should find the process in this list IDs match those in Task Manager, at least!<br><br><pre class=code>
; -----------------------------------------------------------------------------
; Create or open existing kernel32.decls file in userlibs folder and place
; these lines in it (uncommented!)...
; -----------------------------------------------------------------------------
;
; .lib "kernel32.dll"
;
; CreateToolhelp32Snapshot% (flags, th32processid)
; Process32First% (snapshot, entry*)
; Process32Next% (snapshot, entry*)
; CloseHandle% (object)
;
; -----------------------------------------------------------------------------

Const MAX_PATH = 264
Const TH32CS_SNAPHEAPLIST = $1
Const TH32CS_SNAPPROCESS = $2
Const TH32CS_SNAPTHREAD = $4
Const TH32CS_SNAPMODULE = $8
Const TH32CS_SNAPALL = TH32CS_SNAPHEAPLIST Or TH32CS_SNAPPROCESS Or TH32CS_SNAPTHREAD Or TH32CS_SNAPMODULE
Const TH32CS_INHERIT = $80000000
Const INVALID_HANDLE_VALUE = -1
Const SizeOf_PE32 = 296

Type PROCESSENTRY32
    Field dwSize
    Field cntUsage
    Field th32ProcessID
    Field th32DefaultHeapID
    Field th32ModuleID
    Field cntThreads
    Field th32ParentProcessID
    Field pcPriClassBase
    Field dwFlags
    Field szExeFile$ [MAX_PATH]
End Type

snap = CreateToolhelp32Snapshot (TH32CS_SNAPPROCESS, 0)

If snap

	Proc32.PROCESSENTRY32 = New PROCESSENTRY32
    Proc32\dwSize = SizeOf_PE32

    If Process32First (snap, Proc32)

	Print "Process ID: " + Proc32\th32ProcessID

   		While Process32Next (snap, Proc32)
			Print "Process ID: " + Proc32\th32ProcessID
			Print "----&gt; Parent process ID: " + Proc32\th32ParentProcessID
			;Print Proc32\szExeFile ; Illegal type conversion?
	    Wend
            
    EndIf

    CloseHandle (snap)
    
EndIf

Print "Hit ENTER..."
Input ()
End
</pre><br><br><div class="quote"> <br>(As you can see James, it's pretty damned trivial of a job ;) )<br> <br></div><br>Yeah, I really meant the time it takes to look up the functions from MSDN, etc, and create the .decls, etc, and I just didn't have the time! <br><br></td></tr></table><br>
<a name="321942"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK, the illegal type error was just me being stupid and not using [x] at the end of the field name, but it still crashes anyway and I'm failing to see why (lame excuse: it's late)... c'mon, Tracer, go to it! <br><br></td></tr></table><br>
<a name="322180"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mike Yurgalavage</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> you guys (james, tracer) are so very kind to take this on!  i appreciate the help.  i hope the discussion between the two of you continues until there is a working method of doing this.  i'll help in any way i can but like i said, i am a newb with the api calls.  i hope one or both of you will keep at it!  thanks a million.  i think once this works, we should add this to the code archive as a way to access the pointers to program processes.<br><br>best,<br>mike <br><br></td></tr></table><br>
<a name="322185"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mike Yurgalavage</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> by the way, i noticed something.  the list of names of the processes in taskmanager isn't always the same as the window name.  sometimes, the window name may change during game play (!) and then a trainer based simply on the window name it is running in would not be helpful.  however the name of the process in windows task manager stays constant.  so the window name and the process name are two different things.  i think the task manager approach would be necessary in those instances where the window name might possibly change during game play or be different each time you load the game.  however, for 90% of games (a guess), the window for the .exe is probably static (i.e. the name of it doesn't change) so then tracer's simpler version would apply. i was curious how many api calls are in tracer's code (i am being to lazy to check each statement) and could you quickly generate a .decls file for it (userlib)?  i can probably make the trainer using tracer's method for the specific game i have in mind, but being able to select the process using the task manager method would be nice to know since the name of the window could potentially be different when the trainer is engaged.  i hope you guys will continue to work on this.  thanks a bunch, i know it took a little time to do this for me- these are great forums.<br><br>best,<br>mike <br><br></td></tr></table><br>
<a name="322273"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tracer</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tend to track the process by it's exe name, not the window name, i just used FindWindow to post it as a small bit of source, instead of an entire trainer, which is a lot more code  :)<br><br>I should have some time to write a B+ version this weekend.<br><br>Tracer <br><br></td></tr></table><br>
<a name="322951"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mike Yurgalavage</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks tracer and james.  tracer, i hope that you are able to create the code for this over the weekend.  also, it would be nice to have the declarations for the example above (user libs) and the declarations for any code examples you did this weekend.  i don't really need a full trainer code, just the code that enables me to get to a particular process (the game .exe) and then to get to it's addresses so that the addresses can be manipulated (peeked and poked).  also, i don't have BlitzPlus, just blitz3d so not sure if that is a problem.  another problem i might run into would be hotkey detection (even though you are playing the game, the blitz program that is the trainer and is running as a separate process would still respond to certain key presses while you are within the game).  sorry for all the trouble but i am learning through this and likely will be better able to use the win32 api myself by learning through all of the examples of others.  i'd appreciate further help!  thanks-<br><br>best,<br>mike <br><br></td></tr></table><br>
<a name="323103"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mike Yurgalavage</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> bump for more replies and ideas-<br>i hope tracer and james are looking at these posts regularly (thanks again guys).<br><br>best,<br>mike <br><br></td></tr></table><br>
<a name="323333"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mike Yurgalavage</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> bump for more ideas and hope that tracer or james see this.<br><br>best,<br>mike <br><br></td></tr></table><br>
<a name="323355"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wayne</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Trainers are not the kind of software I'd like to see the blitz3d people authoring.<br><br>If it's for educational purposes I can understand, but all too often is misused.<br><br>Try to use good judgement, be professional, and think of others who have to code against this chit.<br><br>peace <br><br></td></tr></table><br>
<a name="323370"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kanati</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Mike....  The code Tracer posted is complete all by itself.  You are going to need to do the legwork yourself to find out what offsets and such you are going to need to poke for whatever game you are trying to "train".<br><br>Wayne: As long as it's not hacking an online game (like battlefield 1942 where it's hard to find a game any more that doesn't have cheaters all over the place), then what someone does to their own installs is their business.   :)<br><br>Kanati <br><br></td></tr></table><br>
<a name="323404"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mike Yurgalavage</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> kanati,<br>the code that tracer placed has it's limitations, namely that it classifies the process based on the window name that the game is running in.  however, sometimes that window name can change and then your trainer would not be able to access that program.  it would be more accurate to select the game.exe by using it's running process name (like in the taskbar).  however, james was not able to complete the work on that.<br><br>also, i don't have the declarations for tracer's code.  i can at least start with that if someone can help me get the declarations right.  tracer's code is incomplete and won't compile without the decls file.<br><br>i agree that online games are unfair when people are cheating.  i am hoping to make trainer(s) for some of the role playing games so that i can select certain items, etc.  and blitz would let me display them in 3d, or at least blit them as 2d pics instead of all text.<br><br>thanks for the input from each of you and i am still hoping for more input from tracer/james, also.<br><br>best,<br>mike <br><br></td></tr></table><br>
<a name="324248"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mike Yurgalavage</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> With help from Soja I worked out the final code to get the list of running .exe's (like in a taskbar).  I posted it in the code forum also (archives).<br><br>; -----------------------------------------------------------------------------<br>; Create or open existing kernel32.decls file in userlibs folder and place<br>; these lines in it (uncommented!)...<br>; -----------------------------------------------------------------------------<br>;<br>; .lib "kernel32.dll"<br>;<br>; CreateToolhelp32Snapshot% (flags, th32processid)<br>; Process32First% (snapshot, entry*)<br>; Process32Next% (snapshot, entry*)<br>; CloseHandle% (object)<br>;<br>; -----------------------------------------------------------------------------<br><br>Const MAX_PATH = 264<br>Const TH32CS_SNAPHEAPLIST = $1<br>Const TH32CS_SNAPPROCESS = $2<br>Const TH32CS_SNAPTHREAD = $4<br>Const TH32CS_SNAPMODULE = $8<br>Const TH32CS_SNAPALL = TH32CS_SNAPHEAPLIST Or TH32CS_SNAPPROCESS Or TH32CS_SNAPTHREAD Or TH32CS_SNAPMODULE<br>Const TH32CS_INHERIT = $80000000<br>Const INVALID_HANDLE_VALUE = -1<br>Const SizeOf_PE32 = 296<br><br>Type PROCESSENTRY32<br>    Field dwSize<br>    Field cntUsage<br>    Field th32ProcessID<br>    Field th32DefaultHeapID<br>    Field th32ModuleID<br>    Field cntThreads<br>    Field th32ParentProcessID<br>    Field pcPriClassBase<br>    Field dwFlags<br>    Field szExeFile$ [MAX_PATH]<br>End Type<br><br><br>snap = CreateToolhelp32Snapshot (TH32CS_SNAPPROCESS, 0)<br><br>If snap<br>	;Print snap<br>	Proc32=CreateBank(SizeOf_PE32)<br>        PokeInt(Proc32, 0, BankSize(Proc32)) ; dwSize <br><br><br>	If Process32First (snap, Proc32)<br>	;cntUsage = PeekInt(Proc32, 4) ; Offset at 4th byte -- read 4 bytes (sizeof Int) <br>	;th32ProcessID = PeekInt(Proc32, 8) <br>	;th32DefaultHeapID = PeekInt(Proc32, 12) <br>	<br>	Print "Process ID: " + th32ProcessID<br>		Print<br><br>   		While Process32Next (snap, Proc32)<br>			dwSize=PeekInt(Proc32,0)<br>			cntUsage=PeekInt(Proc32,4)<br>			th32ProcessID=PeekInt(Proc32,8)<br>			th32DefaultHeapID=PeekInt(Proc32,12)<br>			th32ModuleID=PeekInt(Proc32,16)<br>			cntThreads=PeekInt(Proc32,20)<br>			th32ParentProcessID=PeekInt(Proc32,24)<br>			pcPriClassBase=PeekInt(Proc32,28)<br>			dwFlags=PeekInt(Proc32,32)<br>			offset = 36 <br>			Repeat <br>			char = PeekByte(Proc32, offset) <br>			offset = offset + 1 <br>			szExeFile$ = szExeFile$ + Chr$(char) <br>			Until char = 0  <br>			szExeFile$=Left$(szExeFile$,Len(szExeFile$)-1)<br>			Print szExeFile$<br>			Print "Process ID: " + th32ProcessID<br>			Print "----&gt; Parent process ID: " + th32ParentProcessID<br>			szExeFile$=""<br>			<br>			Input()<br>	    Wend<br>		Input()<br>            <br>    EndIf<br><br>    CloseHandle (snap)<br>    <br>EndIf<br><br>Print "Hit ENTER..."<br>Input ()<br>End <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
