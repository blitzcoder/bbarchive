<!DOCTYPE html><html lang="en" ><head ><title >Alpha vertex terrain stuff</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Alpha vertex terrain stuff</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Alpha vertex terrain stuff</a><br><br>
<a name="662816"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob Farley</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok... Loads of people have done this and I'm unsure of the general technique behind this...<br><br>You know like of ALE and FLE.<br><br>If someone could let me know the general principles of how to do this I'd appreciate it. <br><br></td></tr></table><br>
<a name="662850"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think essentially you lay out a mesh terrain for each texture (all with the same positions etc) and then only add tiles for each mesh where you can see that texture (or a blend of 2 or more of the textures).  Wherever you want a terrain 'tile' to blend between 2 (or 3 or 4) textures you double up the mesh at that point and use vertex alpha on one (or both) of them.<br><br>Not too complicated. <br><br></td></tr></table><br>
<a name="662855"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've found that I get horrible z-sorting issues if I layer more than 2 meshes using vertex alpha.  The textures on the layers flicker in and out of view, alternating between the two or more textures.  However I am probably doing something wrong because it looks like plenty of other people have done it successfully. <br><br></td></tr></table><br>
<a name="662869"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OJay</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> create base meshterrain without transistions, but with textures applied to each vertex. then create additional surfaces foreach transition and blend these ones with vertexalpha. that way you dont get any z-order issues, because no alpha-triangles are above each other. <br><br></td></tr></table><br>
<a name="663070"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RGR</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> @OJay<br>What does that mean? create base meshterrain without transistions (how?)<br><br>And how do I apply Textures to a vertex?<br><br>Then you write create surfaces for each transition ... How, if you first mentioned to create without transition ?<br><br>Your explanation is quite confusing.<br><br>BTW: I had it working with full meshes - changed to "optimized" meshes which had only the painted triangles and then had the same trouble as Matty and never managed to get an optimized working version.<br>Am very much interested to see examples to figure out what went wrong after my optimizations which obviously should work, as in ALE is to be seen. <br><br></td></tr></table><br>
<a name="663132"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OJay</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok, i will try explain it with a high-detail professional concept art: <br><br><img src="http://eqil.de/hfe/meshterrain_concept.GIF"><br><br>there we want to have a terrain with grass and a small isle of sand in the middle. between these two textures we want some real smooth vertexalpha-transitions, bro.<br><br>see the two mentioned steps?<br><br>1. create a mesh with 2 surfaces. one for the gras, one for the sand. the grey lines indicating the quads (each consisting of 2 triangles). the red line indicates the surface border.<br><br>2. create a new mesh with one surface and apply the sand-texture to it. you can move this mesh up by, say, 0.0001 unit to avoid some flickering on larger distances on some graphicscards (especially ati ones ;)). create the vertices along the orange quads and create triangles between the red and blue line. then comes the magic: apply vertexalpha of 0.0 to all vertices on the red line, 1.0 to all on the blue line.<br><br>that way, you should get something like that: <a href="http://eqil.de/hfe/screens/editor/frk_plates.JPG" target="_blank">http://eqil.de/hfe/screens/editor/frk_plates.JPG</a> <br><br></td></tr></table><br>
<a name="663169"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ahh thanks, that makes perfect sense. <br><br></td></tr></table><br>
<a name="663496"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RGR</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I had 1 Mesh with 8 textured surfaces that partly overlapped and vertexalpha was anything between 0.0 and 1.0 depending how intensive the mixture of textures should be.<br>Thank you OJay - I will give your method a try. <br><br></td></tr></table><br>
<a name="863450"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mr Snidesmin</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry to bring this old post up, but I need help on the same topic...<br><br>Suppose you have more than 2 types of tile and they are all next to each other for example:<br><br><img src="http://kieryn.com/Images/tileblend.JPG"><br>green = grass<br>yellow = sand<br>red = rock<br><br>How would you decide which tiles should blend and which verts should have what alpha and which textures need to be used for blending?<br><br>I know that one work around I can use is to have a base tile type (eg grass) and then keep all other tile types at least 1 tile apart (with grass in between) but it would be cool if there was a way to universally blend any combination... <br><br></td></tr></table><br>
<a name="863486"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> there is no "universal always right logic"<br>you must decide on how to do it, give each of the possible constellations a code and select the code to decide on how to blend it together ...<br><br>that or do it manually on a blend map this means a texture on which each of the 4 color channels defines the alpha value of the given vertex. <br><br></td></tr></table><br>
<a name="863502"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just make sure FX 32 is not on the base texture and just shunt it with a vertex blend.<br><br>I also do my terrains in pure code - pure code.<br><br><img src="http://img358.imageshack.us/img358/4663/terrzi1.jpg"><br><br><img src="http://img230.imageshack.us/img230/1103/road2ru7.jpg"><br><br>My real-time, code-based, terrain engine is considered to be one of the best in the world. <br><br></td></tr></table><br>
<a name="863513"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks pretty good puki :o) <br><br></td></tr></table><br>
<a name="863517"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> pretty good <br></div><br><br>?<br><br>'Best in the world' is what you meant to say.<br><br>That's not some "Andy Pandy" application-generated terrain, it's real-time and produced purely from code. <br><br></td></tr></table><br>
<a name="863518"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep, pretty good stuff ;o) <br><br></td></tr></table><br>
<a name="863527"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh, the other thing with regard to this is I don't load textures with the Alpha flag.  I think doing so made it all bent.  I just do the Alpha via EntityFX - but not the base layer - I find stacking layers is fine if the base layer is okey-dokey. <br><br></td></tr></table><br>
<a name="864880"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wings</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I failed with the EntityFX cause it disrupted the Z buffer.<br><br>I am living hapy with BrushFX 32 instead. (Undocument flag)<br><br>have you sen somthing simular Puki ?<br><br><br>Here is anyway a working example.. using brush fx32. and one mesh with several surfaces.  ehh the world is still built of 10x10x64size meshes with 8 surfaces.<br><img src="http://www.tiberion.com/images/tiberion2008.jpg"> <br><br></td></tr></table><br>
<a name="864891"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wings</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ammf.<br><br>i got the zorder problem again.. but this time it is the sorting alphas from other meshes. <br><br></td></tr></table><br>
<a name="864925"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikhailV</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Exists one more good variant, without alpha-sorting (zorder) problem!<br>Download FastExtension library from <a href="http://fastlibs.com/download.php?id=fastextension_1_11_trial.zip" target="_blank">http://fastlibs.com/download.php?id=fastextension_1_11_trial.zip</a> and see example - FastExt_Example_TextureBlends.bb.<br>You can flexible mix several (2 or more) textures with separate alpha-channel without any problems! <br><br></td></tr></table><br>
<a name="864985"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Blending is a method, not an eventuality - this equates to alpha is irrelvent.<br><br>You can reapply what you already applied.<br><br>2, 3, 4, 5, 6, 7, 8 can become 1 -  1 is a single - a single is an eighth of what is a maximum. <br><br></td></tr></table><br>
<a name="865087"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wings</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> checking this out :D <br><br></td></tr></table><br>
<a name="865144"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wings</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here is a link and source of a alpha terrain demo<br><a href="http://www.tiberion.com/furysalphademo.zip" target="_blank">http://www.tiberion.com/furysalphademo.zip</a><br><br>thoe it has problem with zbuffer alpha.<br><img src="http://www.tiberion.com/zalphaerror.jpg"><br><br>Can anyone fix this ? <br><br></td></tr></table><br>
<a name="865153"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wings</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here<br><br>i fixed the whater with a workaround.. simple dont use alpha at sea flor.. it probably works also on land.<br><br><br><br><img src="http://www.tiberion.com/waterfixed.jpg"><br><br><br>I have updated the old FuryVertexAlpha world demo also.<br><a href="http://www.tiberion.com/furysalphademo.zip" target="_blank">http://www.tiberion.com/furysalphademo.zip</a> <br><br></td></tr></table><br>
<a name="865162"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wings</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> finial build.. <br><br>Added a lake into middle of the island.. No it is not sea. this lake is higher up than the sea plane is. so we may have as many lake as we wish. just dont forgett to puc none alpha layer at bottom of lake.. aka mudd in this case.<br><br><img src="http://www.tiberion.com/lakepic.jpg"><br><br>source + files.<br><a href="http://www.tiberion.com/furysalphademo.zip" target="_blank">http://www.tiberion.com/furysalphademo.zip</a><br><br>edit: I added an optimized build also. it will not create verices that is not needed. so optimized build is intended for the gameplay. the unoptimized is for a editor.<br><br>edit2: updated pic now show optimized verions.. here is some statistics.<br><br>Unoptimized version.<br>Total 793800<br>Triangle Rendered: 285784<br>FPS: 42<br><br><br><br>Optimized<br>Total 136479<br>Triangle Rendered 132391<br>FPS: 59 <br><br></td></tr></table><br>
<a name="865185"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_33</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks alot for the source, will investigate <br><br></td></tr></table><br>
<a name="865297"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> My source is better. <br><br></td></tr></table><br>
<a name="865306"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wings</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Puki where is your source ? <br><br></td></tr></table><br>
<a name="865361"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Considering my engine is probably the best in the world, the source code is somewhat valuable.<br><br>See previous quote:<br><div class="quote"> My real-time, code-based, terrain engine is considered to be one of the best in the world. <br></div> <br><br></td></tr></table><br>
<a name="865395"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wings</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ahh :D<br><br>verry well then puki.<br><br>iam continuing with b3d lol gfx<br><br><img src="http://www.tiberion.com/lakepic2.jpg"> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
