<!DOCTYPE html><html lang="en" ><head ><title >the stupidest way to get pixel shadows but...</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >the stupidest way to get pixel shadows but...</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >the stupidest way to get pixel shadows but...</a><br><br>
<a name="404111"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paolo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok,<br>I just put this demo to show a theory,<br>but I believe we all will be happy<br>if someone find a way to speed this up :) (if possible)<br><br><a href="http://geocities.com/eurypic/pixels_shadows.zip" target="_blank">Download_Demo(source)</a> <br>(30kb)<br><br><img src="http://geocities.com/eurypic/ps_img.txt"><br><br>Paolo. <br><br></td></tr></table><br>
<a name="404129"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> What you do is Raytracing. To be hones, your version ist real slow :) You shouldn't use linepicks for that. <br><br></td></tr></table><br>
<a name="404131"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> you could send invisible entities from the light instead of linepicks, the shadows would be slower to react but the program wouldnt <br><br></td></tr></table><br>
<a name="404210"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ChrML</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you can speed this up to less than 10 seconds, you could use this to create a lightmap during load, however, why?, 3dsmax works fine for that ;) (with render to texture).<br><br>Dynamic shadowing is a real hard task to get fast and nicelooking, if that's what you want it to be, so you should read some algorithms from Google, and perhaps try to port it to Blitz3D. Remember that there are many nice games without dynamic shadowing too, like GTA Vice City, so it's absolutly not a must. Good luck! <br><br></td></tr></table><br>
<a name="404300"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> 10 seconds loading is a long time if you can prerender t and include the image in the distribution.<br><br>I love this kind of raytracing since it makes everything soooo very easy. don't care about normals etc. simply darken a pixel. Unfortunately this is dead slow. It may be used to create nonlinear renders, but for games design it's just too slow. I even made a test and replaced the linepick with a renderworld using a 2nd camera with a viewport of 1*1 pixels and believe it or not, it was almost as fast as the linepick (about 90%). You also may use some soft linepick replacements, I guess there is something in the archives, it may or may not be faster.<br>There are some possibilities to optimize your code (eg. no pivot required, just use a linepick from the picked coords to the lightsource), but even then it's still way too slow.<br><br>There are some other possibilities we have figured out over time, and believe me, a lot of people used to hack for hours to find something fast.<br><br>The thing that seems to be the fastest is to position a camera at the lights position, color all shadowcasters grey, hide the shadow receiver, take a render and use this render as a lightmap.<br><br>In this example:<br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=332" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=332</a><br>I get about 200 FPS with my crappy machine. It may not be useful for multiple light sources and/or large scenes, but I guess it would look very nice with some kind of wrestling or tekken style game. <br><br></td></tr></table><br>
<a name="404467"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CodeOrc</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow, that is fast!<br><br>I get a max of 500 fps out of it. Of course if I make Flip=true, I get 71 fps. <br><br>Cool code. <br><br></td></tr></table><br>
<a name="404486"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paolo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for that jfk,<br><br>yeah, I like this technique because of the code is pretty much easy and clean :)<br>I wish there could be a way to speed this up, do you think Mark himself could do something about it?<br><br>Anyway,<br>Nice code you got there, it is actually really fast.<br><br>Paolo. <br><br></td></tr></table><br>
<a name="404491"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ChrML</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Indeed, it's very fast.<br><br>Myself I would've optimalized the code a bit, as the guy who wrote it seem to use floats in about all cases, also when it's not neccessary at ALL. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
