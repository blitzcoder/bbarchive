<!DOCTYPE html><html lang="en" ><head ><title >Far away objects</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Far away objects</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Far away objects</a><br><br>
<a name="403561"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PowerPC603</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Suppose I wanted to make a space-sim (which I'm trying to) and I place some space-stations very far away (about 1.000.000 units, as I want to create big space-sectors, like Freelancer) and the camera-range is only 50.000 units, does Blitz render the objects behind that range?<br><br>Also, when the camera-range is 50.000 units and the camera-fog-range is only 10.000 units, will Blitz render objects which are 25.000 units away (but they cannot be seen because of the fog)?<br><br>Or should I hide/show the objects manually in code?<br><br>How big can the 3D-space be actually? <br><br></td></tr></table><br>
<a name="403567"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> The whole point of CameraRange is that nothing beyond the far range is rendered.  Fogged objects are still rendered, just displayed in the fog color.<br><br>As for the "how big" question, I would recommend against placing objects 1,000,000 units from the origin.  Your camera range of 50,000 is already way big.  By that far away from the origin things start getting flaky because of inaccuracies in numerical values.  To implement a huge space sim you shouldn't be literally placing objects relative to each other as per real life, you should be using tricks to make the scene appear larger than it really is.  Tricks like LOD and using texture imposters for distant objects.  This is the idea with a skybox after all; instead of literally placing some mountains in the distance, you put pictures of mountains all around the player.  Think of a Hollywood set. <br><br></td></tr></table><br>
<a name="403568"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Genexi2</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> [EDIT] Dangit jhocking beat me to it.<br><br><div class="quote"> does Blitz render the objects behind that range? <br></div><br><br>As far as I know, no.<br><br><div class="quote"> will Blitz render objects which are 25.000 units away (but they cannot be seen because of the fog)? <br></div><br><br>From the looks of my code here it seems to render them only when they're out of the camera's range\view :<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Graphics3D 640,460,0,2


cam = CreateCamera()
CameraRange cam, 1,100
CameraFogMode cam, 1
CameraFogRange cam, 10,50 


cube = CreateCube()

MoveEntity cube, 0,0,25
 


While Not KeyHit(1)
Cls

If KeyDown(200)
	MoveEntity cube,0,0,0.5 
ElseIf KeyDown(208)
	MoveEntity cube,0,0,-0.5 
EndIf



RenderWorld
UpdateWorld

thingy = EntityInView(cube,cam)

Text 0,0,"EntityInView =" +thingy 
Text 0,10,"CameraRange : Near = 1, Far = 100"
Text 0,20,"FogRange    : Near = 10, Far = 50"
Text 0,30,"Cube position : X"+EntityX(cube)+" Y"+EntityY(cube)+" Z"+EntityZ(cube)
Text 300,0,"Hit Up\Down to move cube"

Flip
Wend
End
</textarea><br><br><div class="quote"> How big can the 3D-space be actually? <br></div><br><br>If you can keep the scale of the blitz units small, you can make the space larger without issues....though I have heard Blitz gets weird on very large numbers in a 3d space.... <br><br></td></tr></table><br>
<a name="403570"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> If an object is beyond the far clipping pane of your camera, it is not rendered.<br><br><br>"lso, when the camera-range is 50.000 units and the camera-fog-range is only 10.000 units,"<br><br>I'm pretty sure the answer is yes. <br><br></td></tr></table><br>
<a name="403574"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PowerPC603</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I haven't though about LOD yet.<br><br>But I would be using: 1 unit = 1 meter (but this could change if neccessary).<br>If I should implement some giant Carrier-ships (few kilometers long), then the camera-range should be big enough (I think) to get it on my screen from a distance.<br><br>P.S.: I was just using some numbers, I don't know yet how big a sector will be eventually.<br><br>I'm still creating the editor (without it the game cannot run).<br>I'm using the editor to create datafiles, which state the position of all objects (and name, shield-strength, ...).<br>Without those datafiles, the game cannot build a sector (it uses this data to place all stuff). <br><br></td></tr></table><br>
<a name="403588"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> That scale is one issue right away.  Don't do 1 unit=1 meter for a huge space sim.  Doing a 3,000 unit size spaceship makes sense for, say, a level of a first-person shooter set inside the spaceship, but for a large-scale space sim you want *ahem* a larger scale.  Depending on what exactly you are doing you might consider 1 unit=1 decameter (10 meters) or even 1 hectameter (100 meters.)  Thus a 3 kilometer long spaceship is only 30 units.<br><br>That said, you should probably be flexible about that scale over the course of your game.  In shots representing a universe all at once you would want a bigger scale, while in shots on a planet's surface you would want a smaller scale.  Scale/resize all the objects around the camera and simply change your mental notion of what units mean as appropriate.<br><br>You better start thinking about LOD, because managing assets over enormous expanses is the main difficulty in writing a space sim.  I would recommend doing stuff like only representing the couple thousand units immediately surrounding the camera with real geometry and using texture stand-ins for everything further away, never moving the camera too far from the origin (move the world around the camera instead,) and the aforementioned changing of scale (resize objects around the camera and change what you think units represent.) <br><br></td></tr></table><br>
<a name="403595"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rottbott</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> A space game is hard because if it was in scale, and a huge spaceship was, say, 1 unit long, then Earth would probably be a few million units across. <br><br></td></tr></table><br>
<a name="403597"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, you need to have a system that scales your world as you go through it. Like say a planet was 100,000 units away, you would make it 10,000 units away, but it would move closer at the speed fo the craft, but much slower. The speed it moves at would increase the closer you get, till it's within range and it moves to normal speed. <br><br></td></tr></table><br>
<a name="403600"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PowerPC603</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I thought about moving the sector instead of moving the player.<br><br>Then the player-ship would stay at position 0,0,0.<br>But if there are many objects to move, would this be a big slowdown?<br><br>I can imagine Blitz would reposition all vertexes of these objects, which can be a lot more CPU-intensive then just moving the player-ship.<br><br>If I should take this approach, should I rotate the sector too (or just rotate the player-ship)?<br><br>And of course the scale could be 1 unit = 1000 meters (don't have any idea yet).<br>The player would not be allowed to fly his ship through the atmosphere anyways (like Elite).<br>I don't even think that players can land on planets (but that could change of course).<br><br>And I'm not going to try to recreate our entire solar system (or something that big).<br><br>It should be something like Freelancer / X-2 (not Elite).<br><br>In X-2, the sector-size is only 100km (from eastside to westside, also northside to southside).<br><br>If I would do something similar (and take 1 unit = 1 meter), then the maximum offset from the center would be 50.000 units (as the size goes from -50km to +50km).<br><br>Better would be: 1 unit = 100 meters (then the entire sector  is only 1000 units big and reach from -500 to +500 units).<br><br>Then it would be good, I think.<br>Then I could move and rotate the player-ship (and leave the sector alone).<br><br>If I used a far-camera-range of 50, I suppose that's ok.<br>Then I could create battleships which are 2000 meters long (= 20 units) easily. <br><br></td></tr></table><br>
<a name="404010"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Galctic Allegiance uses  a 1 unit=1m scale for movement, spaceships, asteroids and space-stations etc. however planets, moons and distances do not fit this scale, but are still quite proportionately large. True space-scale just doesn't work with Blitz because the numbers are phenomenal.<br><br><br>From my experience with G.A.,<br>I would recommend using a camera range with a scale of 1/1000 and movement adjusted to fit this (movement within that range can be 1/100 to scale without z-buffer issues) <br><br>If you need to display objects further away than this, substitute sprites at a relative position right at the edge of camera, until the objects are within a suitable range. <br><br></td></tr></table><br>
<a name="404199"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >-Rick-</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I had these exact problems a few days ago. The sollution is a mixture of moving the camera until i passes a specific distance then "normalizing" your environment so that everything shifts and you are back at 0,0,0 with you camera. This way you arent doing update math every code pass.<br><br>Here is the relevant link : <a href="http://www.blitzbasic.com/Community/posts.php?topic=36648" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=36648</a><br><br>There is yet another link in there that leads you to a discussion on BlitzCoder that will provide the code and explanation to use it. My ranges were from 10,000,000,000 down to .000001 and my gfx became a huge mess as my camera moved around and I tried working on those scales. I've now managed to get everthing working great and no longer have "far from center" graphics anomolies.<br><br>Good luck! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
