<!DOCTYPE html><html lang="en" ><head ><title >Painting Decals onto Textured Meshes, how to?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Painting Decals onto Textured Meshes, how to?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Painting Decals onto Textured Meshes, how to?</a><br><br>
<a name="897350"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello all,<br>   I've been struggling for a while on how to make texture decals in Blitz3D. I must point out I don't want that common "sprite positioning and normal-aligning" that is used throughout a lot of projects (and that unfortunately fails to be realistic when you shoot at an Edge where you can see the sprite flying a bit in the air). The best example of what I want to achieve is like in Counter-Strike's engine: the blood splatters, wall-shots and grenade explosion burnt marks are all texture decals that are applied\painted to the main level texture, not sprites. They turn between corners and are by no means a 3D object.<br><br>Look here for some samples of what I mean:<br><br><a href="http://img372.imageshack.us/my.php?image=csut1.jpg" target="_blank"><img src="http://img372.imageshack.us/img372/6176/csut1.th.jpg"></a><br><a href="http://img214.imageshack.us/my.php?image=screenshotop3.jpg" target="_blank"><img src="http://img214.imageshack.us/img214/668/screenshotop3.th.jpg"></a><br><br>I'm in no way experienced with complex UV texturing through code techniques. I consider myself more artist than coder - hence why I chose Blitz3D. But still can't make it happen.<br>Another practical example can be seen in your Blitz3D -&gt; Samples -&gt; Birdie -&gt; TexPaint folder. It's something like that, what I want. But with custom decals.<br>If you have any information, code snippets, or general assistance, please do provide. Something good and free for all of us might come from this.<br><br>Thank you for your time,<br>                                Rafael. <br><br></td></tr></table><br>
<a name="897402"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mortiis</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Marks Markio example has it. <br><br></td></tr></table><br>
<a name="897415"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think your best bet would be, to lightmap your levelmap your level, as this will give each mesh it's own unique texture space. Then it would be a case of  using the picked UV command in the code achive to get which parts of the texture the explosion is occuring and paint directly to the light map texture.<br><br>Reason you can't paint straight to the texture map where the details are, is this is usually a repeating texture, spread acrooss multiple meshes, to save on VRAM.<br><br>Bare in mind, the resolution of the texture(s) will limit you to low detail decals, whereas sprites give you a much higher quality decal. That is unless, you use a massive size lightmap texture, or lots and lots of low res maps. Your looking at alot of VRAM usuage though depending on the size of your level.<br><br>I'd suggest using .DDS textures for this purpose, as they are compressed in VRAM. <br><br></td></tr></table><br>
<a name="897417"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mortiis</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> If it's for a flat surface like bullet holes on the walls, you can get the coord with linepick and create a quad with the hole texture and align it to the walls rotation. <br><br></td></tr></table><br>
<a name="897440"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> That is what i'd do, but he wants to paint straight onto a texture. You could try and build, on the fly, a mesh that wraps itself round the terrain. Rather complex though and time consuming if your firing alot.<br><br>I DO notice though, that even games you pay top dollar for, have decals that stick out of the scenery, so if it's good enough for them ;o) <br><br></td></tr></table><br>
<a name="897541"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Mortiis, the problem is that with sprite decals the following problem happens:<br><img src="http://img396.imageshack.us/img396/7399/decalbugig5.png"><br><br>Or else I wouldn't have a problem using it, like I stated in my first post.<br><br>@Ross C: Thanks for the Code Archive suggestion! I looked up and found that code from Fredborg, it really sounds promising! perhaps I can use a different texture layer with multiply mode and insert the decals as I please. But it is still very complicated kekekek <br><br></td></tr></table><br>
<a name="897605"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BIG BUG</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Depends on the size of your level. If you want to paint directly on texture every inch of your level needs to own a part of the texture exclusivly, which will result in pretty low res "decals". <br>Painting on the texure is a good solution if you want for example wounds on a charakter, or maybe low res blood on walls but it won't work for high detail like these poster in the upper screenshot.<br>For this one you have to create an own mesh which wraps the level geometry... <br><br></td></tr></table><br>
<a name="897641"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >chwaga</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, the only solution I can think of would be sprites that conform to the shape of the behind geometry <br><br></td></tr></table><br>
<a name="897648"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sledge</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> There are a few towel mesh routines referenced <a href="/posts.php?topic=49133" target="_blank">here</a>. Might be handy (FLEX looks applicable). <br><br></td></tr></table><br>
<a name="897948"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was thinking of using a box intersection-boolean-like object to construct a plane from the intersection between the box (placed at the CollisionXYZ) and make it a decal, with proper vertex UV mapping.<br><br>Mesh Intersection, anyone? <br><br></td></tr></table><br>
<a name="897987"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't know a lot about this subject, but you could copy the mesh and assign a blank texture to the coppied mesh, and put your decals on the blank texture that you assigned to the coppied object.  You may also have to mess around with the entity order to get it to work.  Kind of confusing and only tested once, but I lost the code. :( <br><br></td></tr></table><br>
<a name="898129"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Also you could use the file that you mentioned earlier (Blitz3D -&gt; Samples -&gt; Birdie -&gt; TexPaint) and replace the oval command in the function drawblood with the drawimage command. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
