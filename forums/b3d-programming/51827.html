<!DOCTYPE html><html lang="en" ><head ><title >Multiple processors - multiple instances of an app</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Multiple processors - multiple instances of an app</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Multiple processors - multiple instances of an app</a><br><br>
<a name="578489"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>in a program of mine I perform a pre calculation that can take approximately 5-10 minutes to perform on my machine.  I am pretty sure that if I ran it on a machine with dual processors (of similar speed individually) it would not be any faster because blitz doesn't do multiple threads, or so I've heard.  <br><br>However - if I created 2 versions of the app which performed the same process but on different data (ie app 1 might deal with all points on a grid in one region while app 2 might deal with the remaining points on the grid) would simply running the two apps simultaneously on a dual processor machine allow me to make use of the additional processing power, after which I could recombine the data into a single data file? <br><br></td></tr></table><br>
<a name="578496"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VP</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could produce 2 different Blitz programs that each dealt with half (or a quarter) of the job.<br><br>If you detect dual processors (or a P4 with HT) then you could launch the 2 external programs from your main app.  All your main app would have to do is wait for some sort of signal that the 2 external apps have finished. The signal could be your 2 external apps writing out their data to a file (which your main app can then combine).<br><br>You might want to go with 4 external rather than 2, there are going to be people out there with dual CPU's with dual cores, and P4 dual cores with HT (4 virtual CPU's).<br><br>Of course, the biggest speedup may be a change in your algorithm or optimisation of your code. Can I ask what it is you're precalculating? If it's something relatively simple yet repetative, could it be done in C? <br><br></td></tr></table><br>
<a name="578663"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John J.</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have a P4 3.0Ghz with HT and no programs ever really use more than 50%, which is great for multithreading. Your idea would work fine with dual processors or a HT processor (which as far as I know is almost the same thing), as long as you can get multiple instances of your app to "cooperate" with each other properly, or however you combine their results. <br><br></td></tr></table><br>
<a name="578731"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the response.<br><br>Vinylpusher - I am precalculating pathfinding for a static 2d map so that creatures in my game can get from any point to any other point on the map taking the shortest route simply by knowing the start location on the grid and the end location on the grid and using a lookup table to determine 'what grid square should I go to next to get there'. <br><br></td></tr></table><br>
<a name="578937"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VP</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Right-o. Tricky one, that :) <br><br></td></tr></table><br>
<a name="579019"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Baystep Productions</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've herd of dual processors just taking half the job, so one would calculate the maths and the other with the file handling and all. But i dunno really. <br><br></td></tr></table><br>
<a name="579020"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Baystep Productions</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've herd of dual processors just taking half the job, so one would calculate the maths and the other with the file handling and all. But i dunno really. <br><br></td></tr></table><br>
<a name="579099"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Thanks for the response.<br><br>Vinylpusher - I am precalculating pathfinding for a static 2d map so that creatures in my game can get from any point to any other point on the map taking the shortest route simply by knowing the start location on the grid and the end location on the grid and using a lookup table to determine 'what grid square should I go to next to get there'. <br> <br></div><br><br>Bloomin eck! I was doing the exact same thing myself yesterday!!!! :) took my system half an hour to map out a small 16x16x16 (3d) grid.<br><br>May i suggest A*? I need to learn it myself too! <br><br></td></tr></table><br>
<a name="579121"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cygnus - I am quite happy with the pathfinding technique I use - it is in use in the Gauntlet style game I am working on it just takes exponentionally longer (^4) if I increase the size of the grid. <br><br></td></tr></table><br>
<a name="579124"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I know exactly.<br><br>Does your code work then?<br><br>Because I cant get mine to, and I need to get it to.<br><br>I would be very interested in knowing how you got it to work :)<br><br>16x16x16 grid= (16x16x16)x(16x16x16) calculations. <br><br>Lol, Sorry for HiJacking. :) <br><br></td></tr></table><br>
<a name="579251"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> The code works fine (I am using a 2d grid) and the pathfinding around a static environment is perfect - basically all each creature has to do is check what grid square they are in, what grid square the target is in, read the value of an array at those coordinates which says what direction to go in to get to the next grid square along the route.  I will post it when I get the chance. <br><br></td></tr></table><br>
<a name="579381"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Indeed. My question is how you found the path from A to B in the first place- since im in 3D, but on y=0 always, im linepicking from the enemy towards the player. if its not there, i check in 8 directions around the enemy, and with each of these, i check from their collision point towards the player. Until the player is hit, or too much time is taken. (stop it from freezing with map bugs). the things keep driving the wrong way :)<br><br>I would be interested in how that part of your code works. :) <br><br></td></tr></table><br>
<a name="579409"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Cygnus - I've uploaded my pathfinding routine to the code archives. It can be found here:<br><br><a href="http://www.blitzbasic.com/codearcs/codearcs_bb/1488.bb" target="_blank">http://www.blitzbasic.com/codearcs/codearcs_bb/1488.bb</a><br><br>It has a very tiny example but you should be able to see how it works from here.  <br><br>I have been working on another pre calculated method that uses regions rather than grid squares.  While I haven't written it yet it works like this:  Divide the world into regions that (once again a 2d map) from any point in that region to any other point in that region are able to get to each other by moving in a straight line without crossing a boundary or obstacle.  Then if a unit wishes to move within that region then it is free to do so, if it wishes to move to another region then do so by moving to the boundaries between regions.  Similar to waypoints but with 'zones' (much like the borders of a country on a map) where regions join. <br><br></td></tr></table><br>
<a name="579423"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Matty-<br><br>I think our minds are thinking the same.<br><br>I was going to ask Evak to define some "regions" just last night to speed everythnig up. In 3D, i set out a grid, but any of the points could be put anywhere else, so i thought of optimising it using areas.<br><br>You've just given me a 3rd idea. I will try to program it later- and I too will show the code if it works. Its a bit hazy at the mo.<br><br>Thanks man. It's very generous of you to share :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
