<!DOCTYPE html><html lang="en" ><head ><title >LoadAnimTexture Q</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >LoadAnimTexture Q</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >LoadAnimTexture Q</a><br><br>
<a name="426398"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> If I load an animated Texture twice, with the same parameters, will blitz optimize the memory usage and use the first one for both instances, as it's doing it with non-animated textures?<br><br>Yes, I could write a test app, but maybe some of you can tell me this  :) <br><br></td></tr></table><br>
<a name="426563"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> i would assume it loads it as it does a normal texture, so id assume yes <br><br></td></tr></table><br>
<a name="426566"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, it seems it is optimizing pretty nicely, although you should keep in mind that the frames are uploaded to vidmem not earlier than when they actually are used. This includes camera fustrum culling. So if you do a caching render at startup, make sure to renderworld in all 6 directions. <br><br></td></tr></table><br>
<a name="426570"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> hmmm, some good advice there<br><br><br>id need a huge camera range too i suppose ^.^ <br><br></td></tr></table><br>
<a name="426572"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Cygnus, tested it while you answered :)<br>Now what I really wonder is: Does this optimation also take place in the normal RAM, or only in the videoram?<br><br>EDIT just checked this as well with the system monitor, YES! it loads it only once. Everything perfect :D <br><br></td></tr></table><br>
<a name="426579"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> very useful to know, ive been worying about this myself cuz in supernova, my script engine could be made to reload an image several times... <br><br>Tho tbh its probably best i just do a loop check to prevent it<br><br><br><br>It also explains why im loading 20mb of graphics into a 16mb card and it still runs :) <br><br></td></tr></table><br>
<a name="426603"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> indeed, it's amazing how much you can do with a little card. BTW, yes, use a huge camera range while caching. Halo used to post a caching function somwhere, but it didn't handle frustum culling or animated textures.<br><br>The problem with uploading while playing is, the gameplay starts stuttering, and even the music stutters, including other sounds, and that sounds realy noisy, bad and out of rythm.<br><br>So I'd suggest to store all animated textures in an array or as a type and use a function that will (byside other pre-caching) make use of each frame of every animated texture before you even start the game loop. <br><br></td></tr></table><br>
<a name="426637"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> im glad someone else sees that about the music! &gt;.&lt; hehe<br><br>another good idea about animated textures there...<br><br>IM currently on a sis card (16mb shared. Ouch).. i have a feeling its the shared bit thats killing everything (obviously my game cant update while something else is doing memory stuff)<br><br>ALl my texture systems are stored in arrays anyway so it makes all this very easy. cheers for some thought there :D <br><br></td></tr></table><br>
<a name="427293"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have now made a precaching function that theoreticly renders each and everything. All animated textures, all stuff that would be hidden and gives me a short pause when I show it (eg. activation of new weapons) or the gunflash when it's shown the very first time.<br><br>Unfortunately it is still stuttering. I have noiced that there is a direct relation with the harddrive activities: as long as the HD is still busy (whatever it does since the game already started, suggesting everything was loaded), the gameplay and sound etc. is noisy, stuttering.<br><br>Now my theory: when the machine has only few system Ram, eg.128 megs, the OS needs to use harddrive cache to temporarily outsource other applications that where occupiing memory (eg. msie, that sits there all the time anyway, autoloaded).  Well, if that is the problem, then I simply say :"minimum 128 MB, 256 reccomended" :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
