<!DOCTYPE html><html lang="en" ><head ><title >How Blitz knows what Milkshape groups to texture?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >How Blitz knows what Milkshape groups to texture?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >How Blitz knows what Milkshape groups to texture?</a><br><br>
<a name="809592"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gameproducer</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have a tiny problem with texturing. In Milkshape it's possible to have ONE mesh and then several GROUPS. You can assign different textures to each group, and when Blitz loads (and uwmap etc. stuff is set) somehow it magically knows what texture goes where when you simply load the model. Like if you have group for "feet_texture" and "head_texture" it automagically loads the corrent "feet.jpg" and "head.jpg"... but the moment you try to EntityTexture(model, "feet.jpg") it will apply the feet texture to the WHOLE model.<br><br>If I want to change the texture - it won't happen. Since there's only one mesh, I cannot use FindChild to find the meshes, and FindChild does not find texture groups. <br><br>So - is it possible to change the texture? There must be some way how Blitz3D knows where to put textures.<br><br>Any help? <br><br></td></tr></table><br>
<a name="809627"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ricky Smith</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Blitz3d tranlates 'smoothing groups' to 'surfaces' - each surface can have a different texture. EntityTexture() does not take surfaces into account and will draw the texture over the whole mesh. You need to use PaintSurface() to texture individual surfaces. <br><br></td></tr></table><br>
<a name="809629"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DQ</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> maybe examine the ms3d ascii file to figure out how its applying the textures? <br><br></td></tr></table><br>
<a name="809632"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gameproducer</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> PaintSurface... hmm... I saw only one surface there? <br><br></td></tr></table><br>
<a name="809643"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gameproducer</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> ---<br>"Blitz3d tranlates 'smoothing groups' to 'surfaces' - each surface can have a different texture. EntityTexture() does not take surfaces into account and will draw the texture over the whole mesh. You need to use PaintSurface() to texture individual surfaces."<br>--- <br>I used countsurfaces, but there's only one surface (the whole character mesh, that includes groups)<br><br>ascii code reveals stuff like this (it seems there are 5 meshes... but I use .b3d export from Milkshape, so I presume those meshes are lost in the export?)<br><br><br>Meshes: 5<br>"feet_texture" 0 0<br>110<br>0 0.089024 0.406908 -0.041649 0.790132 0.100953 26<br>0 0.100677 0.418524 -0.018342 0.790076 0.054462 26<br>0 0.174636 0.418524 -0.066427 0.648314 0.054462 26<br>0 0.080439 0.418524 0.095656 0.897981 0.057784 26<br><br>Materials: 5<br>"feet_texture"<br>0.200000 0.200000 0.200000 1.000000<br>0.800000 0.800000 0.800000 1.000000<br>0.000000 0.000000 0.000000 1.000000<br>0.000000 0.000000 0.000000 1.000000<br>0.000000<br>1.000000<br>".\base.feet.human.jpg" <br><br></td></tr></table><br>
<a name="809648"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gameproducer</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I exported to .3ds format and there it has 5 children (too bad the bone animations are lost, so I cannot use that info either). I suppose in .b3d export process, the meshes just vanish somewhere... and then it's some sort of in-build system that loads the textures correctly - but doesn't allow them to be changed (not with paintSurface or entityTexture)<br><br>It looks like the current Milkshape .b3d exporter simply doesn't simply know how to keep groups as separate surfaces (yet it is a mystery how blitz knows how to texture them properly when one simply loads .b3d file without using entitytexture) <br><br></td></tr></table><br>
<a name="809655"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gameproducer</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> WOOHOO - Accidently found a solution! :)<br><br>I realised that I need to first load the .b3d file so that it's located in the same directory where the default textures are also located. After that I can see 5 surfaces, and use PaintSurface to change parts of the model.<br><br>Thanks for the help Ricky &amp; DQ <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
