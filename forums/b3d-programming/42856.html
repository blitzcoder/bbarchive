<!DOCTYPE html><html lang="en" ><head ><title >Loading in lightmap textures</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Loading in lightmap textures</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Loading in lightmap textures</a><br><br>
<a name="479523"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EvilMeowChi</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> how would i load a uv lightmap i made into blitz and apply it to a model so that it is used as a lightmap? <br><br></td></tr></table><br>
<a name="480153"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EvilMeowChi</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> doesnt anyone know this? <br><br></td></tr></table><br>
<a name="480154"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Erroneouss</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> You made a model and it has a lightmap and you want it<br>to load it?  For me, Blitz has automatically just loaded it<br>with my *.b3d file.  Try exporting your model to a .b3d   <br>and then put the lightmap in the same folder.  Works for<br>me! <br><br></td></tr></table><br>
<a name="480192"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EvilMeowChi</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> i cant export to b3d because lightwave doesnt have a decent program for that yet, i have .x models that i need to load a lightmap for, how do i do that? <br><br></td></tr></table><br>
<a name="480204"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>i cant export to b3d because lightwave doesnt have a decent program for that yet<br> <br></div><br><br>? If you have LW then all you need is Lee's free convertor. Problem solved, lightmapped models converted to .b3d with one click. <br><br></td></tr></table><br>
<a name="480228"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Plus there's a converter in the <a href="/codearcs.php?code=342" target="_blank">Code Archives</a> to convert .x to .b3d <br><br></td></tr></table><br>
<a name="480229"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> ...<br><br>(accidental double-post) <br><br></td></tr></table><br>
<a name="480380"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EvilMeowChi</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok so lets say i have a b3d file then, how do i load a lightmap to it? <br><br></td></tr></table><br>
<a name="480752"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EvilMeowChi</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> ? anyone? <br><br></td></tr></table><br>
<a name="480888"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Barliesque</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> The B3D file will contain both sets of UVs (texture and lighting) as well as references to your texture and lightmap image files.  So just load the B3D and you're done.  ...or are you hoping to load and swap multiple lightmap images? <br><br></td></tr></table><br>
<a name="481332"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EvilMeowChi</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> how do i add a lightmap image to a b3d file???? i have a uv texture i want to use as a lightmap, and a model. <br><br></td></tr></table><br>
<a name="481852"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EvilMeowChi</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> bleh <br><br></td></tr></table><br>
<a name="482020"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think perhaps people are misunderstanding your question.<br><br>You need a special piece of software that generates the lightmap as an external image (not part of the mesh/model).<br><br>Try SlimShady in the Tools section.<br><br>The resulting file is (usually) a bitmap.<br>For example, if your model is 'house.b3d' then the lightmap should be called 'house_lm.bmp'.<br><br>If the '_lm.bmp' letters are added to the basic name of the model then Blitz will know what it is, and automatically load and implement it as it loads your model. <br><br></td></tr></table><br>
<a name="482975"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EvilMeowChi</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks a lot john, finally an answer i could use. Does this work for .x models too or just b3ds? <br><br></td></tr></table><br>
<a name="483013"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, for any model that Blitz can load.<br><br>Actually I couldn't believe that it was that easy when I first realised, but Mark Sibly does think ahead, and he implemented a very easy method for users.<br><br>You should also check out Maplet (which is free elsewhere within the Blitz sight). It's a nice simple program by Mark Sibly which (a) gets you going if (like me) you'd never modelled before, and (b) can produce a lightmap from your model. <br><br></td></tr></table><br>
<a name="483019"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Even if you wanna use 3DS or X file format. You have to export 2 meshes. One with textures you normally apply on it, and second with only lightmap texture applied on it. Here is the code..<br><br>Graphics3D 800,600,32,2<br><br><br>camera=CreateCamera()<br><br>map=LoadAnimMesh("MESH.3ds")<br>litemap=LoadAnimMesh("Mesh1.3ds")<br>t=LoadTexture("lmap.tga")<br><br><br>MapVertices(map,litemap,t)<br>FreeEntity litemap<br>FreeTexture t<br><br>MoveEntity camera,0,200,-500<br>PointEntity camera,map<br><br>While Not KeyHit(1)<br>TurnEntity map,0,0.1,0<br>UpdateWorld<br>RenderWorld<br>Flip<br>Wend<br>End<br><br>;=====================<br>Function MapVertices(model,copy,texture)<br><br>WriteLine Log,"Limb "+EntityName(model)+" contains "+CountChildren(model)+" children, "+CountSurfaces(model)+" surfaces.<br>For n=1 To CountSurfaces(model)<br>surf=GetSurface(model,n)<br>WriteLine Log,"Limb "+EntityName(model)+", surface "+n+" contains "+CountVertices(surf)+" vertices."<br>Next<br><br>For n=1 To CountSurfaces(model)<br>	<br>	surf=GetSurface(model,n)<br>	lsurf=GetSurface(copy,n)<br>	For v=0 To CountVertices(surf)-1<br>		<br>		tu#=VertexU#(lsurf,v)<br>		tv#=VertexV#(lsurf,v)<br>		tw#=VertexW#(lsurf,v)<br>		VertexTexCoords surf,v,tu,tv,tw,1<br>	Next<br>Next<br><br><br><br>TextureCoords texture,1<br>EntityTexture model,texture,0,1<br><br>For e=1 To CountChildren(Model)<br>limb=GetChild(model,e)<br>limb2=GetChild(copy,e)<br>MapVertices(limb,limb2,texture)<br>Next<br><br>End Function <br><br></td></tr></table><br>
<a name="483033"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Even if you wanna use 3DS or X file format. You have to export 2 meshes. One with textures you normally apply on it, and second with only lightmap texture applied on it. Here is the code.. <br> <br></div><br><br>That's not true if you use the b3d format, which is why you should never be using .x and .3ds formats. <br><br></td></tr></table><br>
<a name="483148"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdrianT</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> also might want to play around with brush blendmodes to get the desired lightmapping effect you want. 2xmultiply/fullbright etc. <br><br></td></tr></table><br>
<a name="483367"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well...as I know , procedure i explain working well with .3ds and X files.. <br><br></td></tr></table><br>
<a name="483463"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chuck</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> This brings up a question...<br><br>Is it possible to swap lightmaps ?<br><br>Say in your game, you would like to load lightmap A for daytime, lightmap B at sunset, and lightmap C for nighttime, etc...<br><br>Or... what about load no lightmap at night... <br><br></td></tr></table><br>
<a name="483470"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Well...as I know , procedure i explain working well with .3ds and X files..  <br></div><br><br>That still doesn't address the issue of why you would use .3ds or .x files in the first place. They have absolutely no advantages over b3d that I can see, and they have a whole set of disadvantages, quite apart from the fact that you need to code around their lack of support for 2 UV channels. <br><br></td></tr></table><br>
<a name="483646"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> I agree Sybixsus, what I was try to explain is way how to load separately lightmap with different types of meshes since EvilMeowChi using Lightwave and no have B3D exporter..I was just explain possible solutions for him with formats he can use without b3d exporter, according to his question..I wasnt try to compare B3D with rest of the formats..soo.. <br><br></td></tr></table><br>
<a name="483860"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Check out Decorator in the Tools section...<br>I generally export from any modeller I use in .X format, then load into Decorator and export as .B3D - a cheap option. <br><br></td></tr></table><br>
<a name="483926"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sledge</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> For manually loading a lightmap after the fact of a b3d model:<br><br><pre class=code>
map=LoadMesh("testmap.b3d")
lmap=LoadTexture("testmap_lm.bmp",16+32)
TextureCoords lmap,1
TextureBlend lmap,2
EntityTexture map,lmap,0,1
EntityFX map,1
</pre><br><br>You can load and apply alternate day/night lightmaps this way. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
