<!DOCTYPE html><html lang="en" ><head ><title >Wind Waker shading style</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Wind Waker shading style</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Wind Waker shading style</a><br><br>
<a name="1313141"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughtical</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've been wondering for a while how to make objects in Blitz3D shaded like in The Legend of Zelda: Wind Waker<br><br>It kinda looks like this:<br><br><img src="http://www.gamereactor.eu/media/22/zelda_682291.jpg"><br><br>I don't know if it's possible or not, but I would love to make a game with this style of shading.<br><br>Thanks! <br><br></td></tr></table><br>
<a name="1313142"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wmaass</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'd say you could come close. Mostly what I see there is really great art. I don't see anything capability wise Blitz could't handle. <br><br></td></tr></table><br>
<a name="1313143"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> The Bloom effect is available in FastLibs or AShadow, eveything else is great art as wmaass stated. <br><br></td></tr></table><br>
<a name="1313144"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> There's an art overview here, done by independent people:<br><a href="https://simonschreibt.de/gat/zelda-wind-waker-hyrule-travel-guide/" target="_blank">https://simonschreibt.de/gat/zelda-wind-waker-hyrule-travel-guide/</a> <br><br></td></tr></table><br>
<a name="1313184"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughtical</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks guys! But what I'm really looking for is a way to shade it like that. I'm not too interested in the bloom effect but thanks for telling me! That could be useful!<br><br>What I'm after is the flat shading but I don't want every triangle in a model to be distinguishable.<br><br>Basically, some triangles have are bright and some are dark, and that's pretty much all that it is. <br><br></td></tr></table><br>
<a name="1313187"></a>

<a name="1313188"></a>

<a name="1313189"></a>

<a name="1313190"></a>

<a name="1313191"></a>

<a name="1313193"></a>

<a name="1313194"></a>

<a name="1313359"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can have a similar effect using a cubemap set to diffuse mode for the lighting.<br><br>Save the code below as a file in your Blitz3D folder, it uses a model from the Media folder.<br>File "lightingCubemap.png" is this: <a href="https://s31.postimg.org/lyha721u3/lighting_Cubemap.png" target="_blank">lightingCubemap.png</a><br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Graphics3D( 800, 600, 0, 2 )

Local rotationPivot = CreatePivot()

Local camera = CreateCamera()
MoveEntity( camera, 12, 1, 0 )
RotateEntity( camera, 0, 90, 0 )

Const FLAG_COLOR = 1, FLAG_MIPMAP = 8, FLAG_CUBEMAP = 128
Local lightingCubemap = LoadTexture( "lightingCubemap.png", FLAG_COLOR + FLAG_MIPMAP + FLAG_CUBEMAP )
Const MULTIPLY_BLEND = 2
TextureBlend( lightingCubemap, MULTIPLY_BLEND ) ;Multiply mode, it's already the default but it's good to explicitly set it.
SetCubeMode( lightingCubemap, 2 ) ;Diffuse mode, so the cubemap is sampled by normals instead of eye-reflections.

Local myMesh = LoadMesh( "Media\geometricks_models\british-tadpole\btadpole.3ds" )
;EntityTexture( myMesh, diffuseTexture, 0, 0 ) ;Diffuse as the first layer. The model already comes with it.
EntityTexture( myMesh, lightingCubemap, 0, 1 ) ;Lighting cubemap on top, as the second layer so it darkens what's below.
ScaleMesh( myMesh, 0.008, 0.008, 0.008 )
PositionMesh( myMesh, 0, -0.7, 0 )
Const FX_FULLBRIGHT = 1
EntityFX( myMesh, FX_FULLBRIGHT )

Local fpsTimer = CreateTimer( 30 )

While Not KeyHit( 1 )
	WaitTimer( fpsTimer )
	
	TurnEntity( myMesh, 1.0, 1.0, 1.0 )
	
	UpdateWorld()
	RenderWorld()
	
	Flip( True )
	
Wend</textarea><br><br>EDIT: But with a shader it'd be much simpler, no need for a cubemap. It's a simple use of the <a href="http://buildnewgames.com/lighting/" target="_blank">lambert term</a> to see if the pixel of the 3D object is shadowed or bright. <br><br></td></tr></table><br>
<a name="1313277"></a>

<a name="1313278"></a>

<a name="1313279"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rick Nasher</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> For some reason doesn't work on my laptop. "Texture does not exist" in:<br><pre class=code>
TextureBlend( lightingCubemap, MULTIPLY_BLEND ) ;Multiply mode, it's already the default but it's good to explicitly set it.
</pre><br>Eventhough it's clearly there and even if path specified. Perhaps my GPU doesn't support it or texture size is too large(1280x213) ??<br>[EDIT: not texture size, for tried another 256x256. Turns out doesn't work if I add the FLAG_CUBEMAP, while I successfully used cube mapping before] <br><br></td></tr></table><br>
<a name="1313353"></a>

<a name="1313355"></a>

<a name="1313356"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe it's the FLAG_USEVRAM that causes the cubemap to fail.<br><br>This flag might not be necessary actually since the cubemap is not being modified at all after it is loaded.<br>COLOR + MIPMAP + CUBEMAP should be enough. <br><br></td></tr></table><br>
<a name="1313360"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Good models, textures will do it as a starting point. A bit of lightmapping, perhaps some basic drop shadows or similar will help.  <br><br>A lot of it comes down to the quality of the art available.<br><br>Tech helps but first and foremost - get good art assets and it will go a long way. <br><br></td></tr></table><br>
<a name="1313732"></a>

<a name="1313733"></a>

<a name="1313734"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughtical</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey, Kryzon, would you be ok if I put that code you wrote on GitHub for me to do more research? It would be very helpful and I would give credit.<br><br>EDIT: If you don't want me to, that's fine. I'll write my own code that uses the same technique and go from there.<br><br>EDIT 2: Also, I may have found a way to do this.<br><br>First, render all the lighting to an image.<br><br>Next, render the scene with only flat lighting.<br><br>Lastly, wherever the light would need to be, add brightness wherever there is a pixel brighter than 0,0,0 (in RGB)<br><br>This may actually be a very resource intensive thing to do, but I'll test it out and report back! <br><br></td></tr></table><br>
<a name="1313736"></a>

<a name="1313737"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi. You can use that in any way you want, it's public domain.<br>Diffuse-mode cubemaps have been used before, check the game "Wolf Among Us" by Telltale Games, it uses that.<br><br>I repeat that with a shader it would be much simpler, it's using the lambert term (n dot L) to see if the pixel should be lit or shaded, see here: <a href="http://goo.gl/T2cP0o" target="_blank">http://goo.gl/T2cP0o</a> <br><br></td></tr></table><br>
<a name="1313742"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Since it is at the exterior, and there is only the sunlight (one directlight), you can probably achieve the same result with fastext... <br><br></td></tr></table><br>
<a name="1313754"></a>

<a name="1313756"></a>

<a name="1313800"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rick Nasher</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Kryzon<br><br>Somehow this doesn't work:<br><pre class=code>
;Local lightingCubemap = LoadTexture( "C:\Program Files (x86)\Blitz3D\samples\Kryzon\lighting_Cubemap.png", FLAG_CUBEMAP )
</pre><br>But this is ok:<br><pre class=code>
Local lightingCubemap = LoadTexture( "C:\Program Files (x86)\Blitz3D\samples\Kryzon\lighting_Cubemap.png", FLAG_COLOR + FLAG_MIPMAP + FLAG_USEVRAM ) 
</pre><br>But obviously it's not using cubemaping then. I've tried a lot of combinations but nogo.<br>So I suspect a it's in flags, blend mode, texture size, GPU limitations or odd combination. I vaguegly remember comming accross this issue before (but of course forgot how I solved it ;-).<br><br>Anyway I dunno what the effect is supposed to look like as there is no screenshot in this thread(perhaps someone can post one?).<br><br>However I do have a working example demonstrating a lot of texturing &amp; fx called TextureExtreme. <br><img src="http://i64.tinypic.com/mcyixd.jpg"><br><i>Code by Jan Kuhnert from www.blitzforum.de, Beast model by: Psionic, http://www.psionic3d.co.uk</i><br><br>I think it's pretty impressive. For the interested that do not already have it, download here(including source+media): <a href="http://www.mediafire.com/download/0r6c5oxjn6vt88l/TE-release.zip" target="_blank"><b>TE-release.zip</b></a> <br><br></td></tr></table><br>
<a name="1313799"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hoyoyo80</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Last two years i also had the same temptation to create something like this but i have very limited ability and time so i quit and make simpler game:P<br><br>Just use a gradient white to dark grey texture as cubemap but look not quite right like this:<br><br><a href="https://app.box.com/s/4ea1j0e8got5jtudwvzh0pd3sg49i35h" target="_blank">https://app.box.com/s/4ea1j0e8got5jtudwvzh0pd3sg49i35h</a> <br><br></td></tr></table><br>
<a name="1313802"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey RickNasher,<br><br>I see the demo uses spot or pointlight for the scene. Does the normal mapping also works on directional light? <br><br></td></tr></table><br>
<a name="1313805"></a>

<a name="1313806"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rick Nasher</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Now there's question. I honestly don't know. I haven't delved into the subject that far (yet).<br> <br>But I very quickly checked(no time) and if you change this:<br>AmbientLight 100,100,100<br>and:<br>light = Dot3_CreateLight(1,piv,1.0,1)<br><br>Then you can check if works I believe..<br>Now I wonder what it looks like with fog? :-) <br><br></td></tr></table><br>
<a name="1313885"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughtical</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Rick Nasher<br><br><div class="quote"> Anyway I dunno what the effect is supposed to look like as there is no screenshot in this thread(perhaps someone can post one?). <br></div><br><br>Sure!<br><br><img src="https://i.ytimg.com/vi/2rydA_mTvAM/maxresdefault.jpg"><br><br>As you can tell, some parts of the model are bright and some are dark. I'm pretty sure this is called 'cel shading'. <br><br></td></tr></table><br>
<a name="1313892"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rick Nasher</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah, ok thanks very much. Interesting.. <br><br></td></tr></table><br>
<a name="1313991"></a>

<a name="1313992"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughtical</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> So I found something interesting about the mode '128' for loading textures. Apparently, cubemaps could have been an experimental feature that was never really finished in Blitz3D.<br><br>Even the TextureFilter example doesn't even show it as a way to import textures, in fact it just skips 128 in general:<br><br><pre class=code>; ClearTextureFilters and TextureFilter Example.
; ----------------------------------------------

Const tex_color 	= 1		; Color texture
Const tex_alpha 	= 2		; Alpha texture (Include alpha channel data)
Const tex_mask 		= 4		; Masked texture (black is transparent)
Const tex_mipmap 	= 8		; Create texture mipmaps
Const tex_clampu 	= 16	; Restrict U texture coords from "bleeding over"
Const tex_clampv	= 32	; Restrict V texture coords from "bleeding over"
Const tex_envshpere	= 64	; Load texture as a spherical environment map
Const tex_vram 		= 256	; Force texture graphics to vram
Const tex_highcolor	= 512	; Forces texture graphics to be 32-bits per pixel

Graphics3D 640,480 

; Removes any texture filters that might apply.

ClearTextureFilters

; Add an alpha texture to the list of 
; texture filters to apply to files
; that have "_alpha" in their filenames.

TextureFilter "_alpha",tex_color + tex_alpha + tex_mipmap

; Set appropriate texture flags for loading
; suitable skybox textures from files named
; something with "_skybox".

TextureFilter "_skybox", tex_color + tex_mipmap + tex_clampu + tex_clampv

; Set the flags for loading a spherical refletction
; map to apply to all "_refmap" files.

TextureFilter "_refmap", tex_color + tex_mipmap + tex_envshpere

; Setup a texture filter to allow faster
; (and easier) pixel manipulation on all
; loaded "_fastblit" files.

TextureFilter "_fastblit", tex_color + tex_vram + tex_highcolor

; This is where you would normally load your special
; textures.

; The next bit resets the texture filters to their
; standard settings.

ClearTextureFilters
TextureFilter "", tex_color + tex_mipmap

End</pre><br><br>Maybe spherical environment maps will work? <br><br></td></tr></table><br>
<a name="1314036"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rick Nasher</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well I know cubemapping works for I've used it in the past and also these (<a href="http://www.mediafire.com/download/ilj985283fv640p/CubeMappedWaterExamples.rar" target="_blank"><b>&lt;download&gt;</b></a>)<br>classic Blitz3d cube mapping examples work ok on my machine:<br><br><img src="http://i64.tinypic.com/30skbnk.jpg"> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
