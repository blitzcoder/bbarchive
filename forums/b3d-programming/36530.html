<!DOCTYPE html><html lang="en" ><head ><title >terraed and culling</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >terraed and culling</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >terraed and culling</a><br><br>
<a name="399882"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ryan scott</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> i'm using terraed, and it's difficult to get ahold of objects handles unless you turn culling off... well in the code it seems like the culling routines are not using ShowEntity and HideEntity but instead, when it culls it uses FreeEntity, then when it has to show it, it recreates it using CopyMesh and a bunch of other stuff to put it back.  This method of course is destroying entities, so you can't rely on them being there.  makes coding much harder.<br><br>So my question is really about culling in general - <br><br>why would you do it the way terraed does instead of just using HideEntity and ShowEntity? <br><br></td></tr></table><br>
<a name="399941"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Filax</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Blitz have FPS problem with entity number, many entity in scene cause<br>fps lag ! and Hide Entity/Show Entity don't resolve this problem. <br><br></td></tr></table><br>
<a name="399987"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Filax, sorry but you're wrong.<br>HideEntity/ShowEntity methods show a massive increase in fps. <br><br></td></tr></table><br>
<a name="399991"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >aCiD2</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, you are wrong, my fps system culls terrain segments, along with entities on them, and looking at the sky gives on emega fps increase :P <br><br></td></tr></table><br>
<a name="399998"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Filax</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes ShowEntity and Hide entity resolve a little bit the FPS but<br>freeentity is better, because blitz don't work with many entity.<br><br>I have made some many test. Believe me :) <br><br></td></tr></table><br>
<a name="400038"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >aCiD2</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Filax: would you mind showing us a test where this comes into effect? I've just tryed, and recreating an entity when in view is slower on my system - which is old. <br><br></td></tr></table><br>
<a name="400055"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ryan scott</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> it seems to me that running through all objects and doing copymesh all the time is going to be slower, but i don't know...  <br><br>but more importantly the code the programmer has to use to get around the fact that the entities don't exist unless they are in full view is a huge pain in the butt. <br><br></td></tr></table><br>
<a name="400101"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Filax</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Coding with this method is not very difficult :) look on the <br>3dgametool.com forum, you will find tips and help for use it :) <br><br></td></tr></table><br>
<a name="400148"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SabataRH</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Filax is reffering to the mysterious blitz3d object pool.<br>A game with many many entites, regardless if they are shown or hidden, will run slow.<br><br>Removing the entities from the entity pool will increase preformace drastically. <br><br>I've only really noticed this method as being useful if the entity count is well into the 10k's, but i'm certain it's PC specific as some comps cap at a much larger number ... <br><br></td></tr></table><br>
<a name="400187"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eole</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> This methode is very usefull, it's me who write this algo, for trium III, you can add some good optimisation by calculate the 2D angle between the entity and the camera ... that you can choose in witch angle an entity is visible (never forget to test an circle arround the player, or when you go back the collission not work)<br><br>But there is one big probleme, when you test if an entity is visible to know is must replace it by the original, sometime the test with the sprite return false but if he was the real 3d model the camera can see it.<br><br>In my Terrain Demo with 2000 Tree of 450 Poly, I use this algo + child system, When you hide an entity all his child are hide (you find find the source code of tis system in this forum)<br><br>The demo of the complete occuling system<br><a href="http://www.blitzbasic.com/Community/posts.php?topic=33472" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=33472</a><br><br>Source code of the terrain system<br><a href="http://www.blitzbasic.com/Community/posts.php?topic=34155" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=34155</a> <br><br></td></tr></table><br>
<a name="400191"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eole</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> An other example of this culling system with my terrain system <br><br><a href="http://www.blitzcoder.com/cgi-bin/showcase/showcase_showentry.pl?id=seyhajin07122004191942&amp;comments=no" target="_blank">http://www.blitzcoder.com/cgi-bin/showcase/showcase_showentry.pl?id=seyhajin07122004191942&amp;comments=no</a><br><br>This example is write by seyhajin <br><br></td></tr></table><br>
<a name="400293"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Filax</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Mais oui tinkiet pas on le sait :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
