<!DOCTYPE html><html lang="en" ><head ><title >Collision detection without response</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Collision detection without response</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Collision detection without response</a><br><br>
<a name="399046"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm trying to detect collision between a sphere and a surface.  I don't want Blitz3D to respond to the collision, just report that one has happened.  I don't want the entity to stop or slide or move up, I just want to know when it has actually collided with the surface.  Anyway to do this without having to write my own collision detection routines? <br><br></td></tr></table><br>
<a name="399055"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think the usual method is to parent a pivot to your sphere (or whatever) and setup a collision between the pivot and the surface. Then, when the pivot hits the surface it will stop but the sphere will not be affected. <br><br></td></tr></table><br>
<a name="399108"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rook Zimbabwe</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> . &lt;compacted accidental post&gt; <br><br></td></tr></table><br>
<a name="399109"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rook Zimbabwe</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> In your language reference look at:<br>EntityCollided(entity)<br>CollisionEntity(entity,index)<br>CountCollisions(entity)<br><br>like:<br><pre class=code>boing=CountCollisions(floor)
if boing = 1 then
     playsound boing
     score = score + 1
endif
</pre>I mean I don't know what you really want to do. Is this some sort of trigger to change from inside to outside mesh?<br>-RZ <br><br></td></tr></table><br>
<a name="399336"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >aCiD2</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ive done it in Coldet... you can do poly to poly without losing any fps :P its blindingly fast... <br><br></td></tr></table><br>
<a name="399367"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> After posting the above question, I tried out a few different things.  I asked about a sphere in the topic, but I actually meant pivot.  Same problem though.  I tried repositioning the pivot every frame which had basically the same effect that I was looking for but it created other problems.<br><br>What I'm attempting to do is create a 3D platform game.  When the character walks off the edge of a platform, I want it to fall realistically (i.e. affected by gravity), but the character also will be walking up and down slopes, climbing ladders, bouncing off trampolies, jumping on top of baddies, etc...<br>I thought about putting a pivot slightly below the character to determine if a collision happened from below or from some other side.  My first attempt had Blitz shoving the pivot into my character causing no more collisions on the pivot.  I then tried repositioning the pivot every frame, but that caused other problems.<br>I'm begining to think that my only solution would be to redo the level with the floors and walls as seperate meshes then check for collisions on each of them. <br><br></td></tr></table><br>
<a name="399382"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's actually not a bad approach.  If you need the collision to differ for the floors/walls as opposed to other things, make them separate and give them a different collision ID. <br><br></td></tr></table><br>
<a name="399393"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >scribbla</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> my god....TomToad u sound like me...im having the exact same probs...im want to trigger of animations like when falling of platforms...i have one sphere at the moment in front of him so when this is has not collided with ground i know its falling of platform...<br>try repositioning the collision sphere after UpdateWorld and before render world this will always draw it in the right position for the next loop...also ive tried the separate floor and walls...i dont think its the way to go...but im still trying all sorts of things..so im in the same boat as you...<br>i think the best thing to do is create some sort of collision rig around the character using pivs and collision spheres..sort of one sphere in front,1 at the back, 1 at his head...some at the hands for climbing...i havnt tried this yet but as soon as i pluck up the courage im guna have another go <br><br></td></tr></table><br>
<a name="399513"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zethrax</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Perhaps you could try checking the 'CollisionX/Y/Z()' results to see where the collision is occurring in relation to the centerpoint, orientation, and movement direction of the character. This should supply you with information on the steepness of the floor/incline/wall that the character is colliding with, and its orientation and direction of movement in relation to an incline.<br><br>For additional info for more targetted  animations, you could try sticking info about the animations required, and other data, into the namestring of the collidable entities (or a reference to the data instead of the data itself). <br><br></td></tr></table><br>
<a name="399537"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Axeman:  I think you might've just given me the solution I need.  A little late right now and a long day of work tomorrow, so it'll be a couple of days before I can try it out. <br><br></td></tr></table><br>
<a name="399544"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gpete</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> In the program I'm working on, the camera has a downward pull (gravity) of -.2 in the Y direction each loop. When moving forward it has an acceleration of +.6 in Z direction ....<br>Using standard collision checking,  <br>( Collisions col_camera,type_terrain,2,2 ) with platforms, buildings, trees, as type_terrain, you "fall" whenever you step off objects of type_terrain.  When climbing sloped surfaces the downward pull of -.2 slows you down, simulating the greater "effort" of climbing. <br><br></td></tr></table><br>
<a name="399629"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> @gpete: I've tried that method.  Problem is that when the character reaches the edge of a platform, instead of falling, it just hangs there dangling instead of falling until it's off enough to actually fall.<br><br><img src="http://bountyhunter.smugmug.com/photos/6482114-L.gif"><br><br>Also, when the character hits a wall on the way down, it'll flag as having landed.  It still falls, but now at the rate of -.2 instead of accelerating from the effects of gravity (not to mention that any animation and sounds that I'll be adding in later will not run as though the character is falling)<br><br><img src="http://bountyhunter.smugmug.com/photos/6482113-L.gif"><br><br>When I get the chance, I'll use Axeman's advice and see how it works. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
