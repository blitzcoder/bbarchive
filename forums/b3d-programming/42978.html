<!DOCTYPE html><html lang="en" ><head ><title >Entityvisible don´t  work!!!!!!!!!!!!!</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Entityvisible don´t  work!!!!!!!!!!!!!</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Entityvisible don´t  work!!!!!!!!!!!!!</a><br><br>
<a name="480782"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Agoeiro</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> see the code below<br>between the cube and the sphere <br>have a obstacle (another "small" cube)<br>the cube can´t "see" the sphere throung the another small cube,<br>but don´T desappear!!<br>Why?????<br><br>;Entityvisible Example <br>; -------------------- <br><br>Graphics3D 640,480 <br>SetBuffer BackBuffer() <br><br>camera=CreateCamera() <br>pessoa=CreateSphere()<br>PositionEntity camera,0,2,-10 <br>PositionEntity pessoa,0,2,-5<br><br>light=CreateLight() <br>RotateEntity light,90,0,0 <br><br>plane=CreatePlane() <br><br>cube=CreateCube() <br>cube2=CreateCube()<br>PositionEntity cube,0,1,0<br>PositionEntity cube2,0,1,5<br>ScaleEntity cube2, 5,5,5 <br><br>While Not KeyDown( 1 ) <br><br>If KeyDown( 205 )=True Then TurnEntity camera,0,-1,0 <br>If KeyDown( 205 )=True Then TurnEntity pessoa,0,-1,0 <br><br>If KeyDown( 203 )=True Then TurnEntity camera,0,1,0 <br>If KeyDown( 203 )=True Then TurnEntity pessoa,0,1,0 <br><br>If KeyDown( 208 )=True Then MoveEntity camera,0,0,-0.05 <br>If KeyDown( 208 )=True Then MoveEntity pessoa,0,0,-0.05 <br><br>If KeyDown( 200 )=True Then MoveEntity camera,0,0,0.05 <br>If KeyDown( 200 )=True Then MoveEntity pessoa,0,0,0.05 <br><br><br>RenderWorld <br><br>If EntityVisible(cube,pessoa)=False <br>HideEntity cube <br>Else ShowEntity cube<br>EndIf <br><br><br>Flip <br><br></td></tr></table><br>
<a name="480783"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> EntityPickMode entity,pick_geometry[,obscurer]<br>Parameters<br>entity - entity handle<br><br>pick_geometry - type of geometry used for picking:<br>0: Unpickable (default)<br>1: Sphere (EntityRadius is used)<br>2: Polygon<br>3: Box (EntityBox is used)<br><br>obscurer (optional) - True to determine that the entity 'obscures' other entities during an EntityVisible call. Defaults to True.<br>Description<br>Sets the pick mode for an entity.<br><br>The optional obscurer parameter is used with EntityVisible to determine just what can get in the way of the line-of-sight between 2 entities. This allows some entities to be pickable using the other pick commands, but to be ignored (i.e. 'transparent') when using EntityVisible. So, its very much EntityVisible specific.<br><br>Please note that only Sphere and Box picking will work with Blitz3D sprites. For polygon picking, you will need a valid mesh.<br><br>See also: EntityPick, LinePick, CameraPick, EntityPickMode. <br></div> <br><br></td></tr></table><br>
<a name="480802"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> As GfK pointed out:  You need to set an entity pick mode for your entities, as well as whether they obscure other entities. <br><br></td></tr></table><br>
<a name="480805"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Agoeiro</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> But!<br>someone have EntityPickMode, EntityPick and LinePick examples???<br>please!!! <br><br></td></tr></table><br>
<a name="480897"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> You don't need to use linepick, entitypick. Just give the entity's you want to be in the way, entity pickmode, using polygon detection. <br><br></td></tr></table><br>
<a name="480942"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Agoeiro</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> You have some example? someone have some example???<br>I´m beginner<br>Best Resgards!!! <br><br></td></tr></table><br>
<a name="480946"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> ...o.O (its my day for this...) F1 is your friend....<br><br>EntityPickMode [F1][F1]<br><br>(Edited.. I cocked it up) <br><br></td></tr></table><br>
<a name="480951"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> RTFM (!!!!!!!!!!!!!!) :P (Read The Fantastic Manual, especialy the command reference) Or type Entitypickmode in the editor, then position the cursor on the command and Press the F1 key twice...<br><br>Example:<br><br>cube=createcube()<br>EntityPickMode Cube,2<br>...<br>while game<br>...<br><br>You may be a beginner, but you need to learn how to read / use the manual / command reference. <br><br></td></tr></table><br>
<a name="481053"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Agoeiro, I'm not being funny but I've posted the bit of the bloody manual you need to look at!  All you've got to do is read it. <br><br></td></tr></table><br>
<a name="481355"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Agoeiro</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I need a simple and functional Culling system!!!<br>please! <br><br></td></tr></table><br>
<a name="481360"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Would you also like us to code the rest of it?<br>Programming isnt easy from the word go and no, everyone else wont do the coding for you. For us to help you you must help yourself too. <br><br></td></tr></table><br>
<a name="481377"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DJWoodgate</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have modified your example. It demonstrates the limitations of entityvisible for culling purposes.  Proper culling is not easy.<br><br>Entityvisible basicly casts a ray from the origin of the source entity to the origin of the destination entity. If the ray is interupted by an obscurer then it is deemed that the source entity can not see the destination entity.<br><br><pre class=code>
;Entityvisible Example 
; -------------------- 

Graphics3D 640,480 
SetBuffer BackBuffer() 

camera=CreateCamera() 
pessoa=CreateSphere()
EntityColor pessoa,0,200,0 
PositionEntity camera,0,2,-20 
PositionEntity pessoa,0,2,-5 

light=CreateLight()
LightColor light,100,100,100
RotateEntity light,45,45,0 

plane=CreatePlane()
EntityColor plane,0,100,0 

cube=CreateCube()
EntityColor cube,0,0,200
  
cube2=CreateCube()
EntityColor cube2,200,200,0
EntityPickMode cube2,2,True
PositionEntity cube2,0,1,5 
ScaleEntity cube2, 5,1,1 

PositionEntity cube,0,1,0
EntityColor cube,200,100,0



While Not KeyDown( 1 ) 

If KeyDown( 205 )=True Then TurnEntity camera,0,-1,0 
If KeyDown( 205 )=True Then TurnEntity pessoa,0,-1,0 

If KeyDown( 203 )=True Then TurnEntity camera,0,1,0 
If KeyDown( 203 )=True Then TurnEntity pessoa,0,1,0 

If KeyDown( 208 )=True Then MoveEntity camera,0,0,-0.1 
If KeyDown( 208 )=True Then MoveEntity pessoa,0,0,-0.1 

If KeyDown( 200 )=True Then MoveEntity camera,0,0,0.1 
If KeyDown( 200 )=True Then MoveEntity pessoa,0,0,0.1 

If EntityVisible(cube,pessoa)=False 
HideEntity cube 
Else ShowEntity cube 
EndIf 

RenderWorld 

Flip 
Wend
</pre> <br><br></td></tr></table><br>
<a name="481381"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe he best uses BSP, this will cull automaticly. THen again it's only for static stuff, of course. <br><br></td></tr></table><br>
<a name="481396"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DJWoodgate</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, or there is this sort of method which may be useful in certain situations, for visibility testing anyway. Can't say I have used it though.<br><a href="http://www.blitzbasic.co.nz/codearcs/codearcs.php?code=923" target="_blank">http://www.blitzbasic.co.nz/codearcs/codearcs.php?code=923</a> <br><br></td></tr></table><br>
<a name="481408"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Agoeiro</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> I,m thinking about the BSP system <br>but have a limitation,for use BSP need to pay license fees to ID Software <br><br></td></tr></table><br>
<a name="481593"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> No you don't - only if you use ID Software tools to create them. <br><br></td></tr></table><br>
<a name="482560"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've been told that there ain't no other tools than the one of ID, is that right? Well, I guess it was Bob3D who told me this and I guess he knows what he's talking about.<br><br>Agoeiro - you only need to pay for the license if you sell your product commercially, as far as I know. <br><br>You should know that it is a very difficult thing to make something like a good VIS Occlusion. You need to learn Blitz first, and maybe then you can write a nice system. But be warned, it's not easy.<br><br>An other solution would be to create your levels in a way that allows to reduce the camerarange to a low range. But then your level still has to be made of a lot of seperate meshes because if you use one huge mesh with a low camerarange, it won't make it faster since DirectX needs seperate mesh objects to skip them from rendering when they are out of the camera range. <br><br></td></tr></table><br>
<a name="553547"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Agoeiro</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> I want to create a commercial game using BSP levels<br>I need pay license fee to ID Software????<br>what the soluction? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
