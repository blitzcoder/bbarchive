<!DOCTYPE html><html lang="en" ><head ><title >DEP on Amd64 stops Blitz programs running!</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >DEP on Amd64 stops Blitz programs running!</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >DEP on Amd64 stops Blitz programs running!</a><br><br>
<a name="431528"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derek</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just posted a bug report about turning on DEP on Amd64 for all programs stopping blitz programs from running. Just tried running a blitz+ program and that didn't work either. I know I can turn off DEP but it seems like blitz is doing something that it shouldn't. At least according to Windows anyway! <br><br></td></tr></table><br>
<a name="431566"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> DEP=TCPA *BARELY* IN DISGUISE :'(<br><br><br>what? its true! <br><br></td></tr></table><br>
<a name="431570"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wasn't there a bug mentioned in the implementation of this system within XP SP2? <br><br></td></tr></table><br>
<a name="431612"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Um, you can semi-disable it- dont have it on full dep- just have it for major windows files<br><br>i dun that<br>i havet had a bug since :D <br><br></td></tr></table><br>
<a name="431663"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is this just when run from the IDE (in which case does it occur both with and without debug on) or does it occur on executables too?<br><br>The debugger will have to poke about in a program's memory, which would presumably trigger that sort of thing off. No idea how that would be worked around myself! <br><br></td></tr></table><br>
<a name="431719"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derek</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I first found this after I downloaded the CSP demo from the blitz homepage which probably means it isn't the debugger. Actually, when I think about it, I didn't have the debugger on when I tried to run a little program earlier. I've done like Cygnus said and turned it back to semi-enabled and it is fine. By the way, the only error I was getting was a memory access violation, no mention of DEP or NX or anything to give a clue as to what was wrong! <br><br></td></tr></table><br>
<a name="431810"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Craig Watson</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> DEP=TCPA *BARELY* IN DISGUISE :'( <br></div><br>Explain how.  How does something which only prevents execution of code in specified memory areas have anything to do with TCPA?  Where's Fritz?  Where's the machine hash?  Where's the change certification?  Setting media to NX would have no benefit for DRM either, because media files are inherently non-exectuable anyway.<br><br>Could it be to do with the way the runtime is attached to the EXE and then called?  There are problems like this with .NET stuff too, so it's not exactly a problem limited to Blitz programs.  Would be nice not to have to worry about it though. <br><br></td></tr></table><br>
<a name="431885"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Byside the fact that TCPA will not only control Executables, but all files, especially Media (eg. prevent an Anti-Government Movie from running - I am not kiddin here, they really try to censor the internet, OS-independently), I want to mention that the latest CSP Demo was packed with Molebox and since Molebox does some patching stuff, it may have something to do with molebox.<br><br>instead of askin yourself what the problem is, please compile a little blitz app and try to run it, i really wonder if it works with this - ehm - DEP thingy (did you know the meaning of the german word DEPP is IDIOT ;) ) <br><br></td></tr></table><br>
<a name="431898"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Craig Watson</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's a pretty good one too.  I guess programs that have been compressed with Molebox or something like UPX might have problems also.<br><br>DEP is just the Windows way of doing NX (No Execute), which essentially allows programs to restrict which areas of memory that they use are allowed to have executable code in them.  It's mainly to prevent buffer overruns and would probably prevent the current JPEG vulnerability from happening.  AFAIK only AMD's 64-bit processors (and maybe the derivative Sempron as well) support it currently.  TCPA is horrible, but it's not NX.<br><br>There seems to be a few AMD64 owners with Windows XP here, so it shouldn't be too hard to organise a proper test. <br><br></td></tr></table><br>
<a name="431942"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> i bet microsoft turn DEP into something more TCPA like :P <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
