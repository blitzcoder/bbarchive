<!DOCTYPE html><html lang="en" ><head ><title >Lights those doesn't affect to the ground</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Lights those doesn't affect to the ground</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Lights those doesn't affect to the ground</a><br><br>
<a name="609809"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pinete</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi all,<br><br>I need help with the next issue..<br><br>I have a .B3D model of a ground with some buildings.<br>The ground has two texture, the first one is a colour texture and the second is the lightmap.<br><br>The buildings hasn't textures at all.<br>When I shoot with the pistol I create a light (type 2),<br>and the light affects to all the objects without<br>texture but doesn't affects to the ground.<br><br>It's strange because I have also some animated .B3D soldiers<br>with texture and they are affected with the light of the<br>shoot...<br><br>I have calculated the lightmap of the scenery model with<br>Gile[s] and exported to .B3D... maybe is some flag or<br>attribute that gile uses to give to the exported models or somehing like that...<br><br>Some idea? What could I do in order to make all the ground<br>could be affected by lights and not only the objects without texture?<br><br>Thanks in advance! <br><br></td></tr></table><br>
<a name="609836"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paolo</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Working with dynamic and static lighting is always hard work.<br><br>Lightmaps works by decreasing the bright of a model where<br>there are shadows, so your model must have a full bright fx<br>(EntityFX 1) applied so that the lightmap can work that way.<br>By applying an &lt;EntityFX model,0&gt; to your model you can reset<br>its bright FX to normal although your scene<br>will look different ... actually, the problem is combining<br>dynamic lighting with multitextured elements, your buildings<br>and soldiers are ok because both have less than 2 textures<br>applied (0 and 1).<br><br>My suggestion is, if your scene is mostly dark then do it<br>all with dynamic lighting (no lightmaps or multitexure),<br>if it is mostly bright then apply some textures to the<br>buildings and let the light to only affect the soldiers ...<br><br>Paolo. <br><br></td></tr></table><br>
<a name="609845"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pinete</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you very much,<br><br>Really very thanks for your deep explanation.<br>Some minutes ago, before enter the forum again looking for any post, I have found the problem, and really occurs<br>that you like.<br><br>However I've discovered (it's the first time I experience that), it seems that you cannot override the material settings of Gile[s] from Blitz, I am refering to change the flag "full bright", for example.<br><br>If I change this from Gile (I'm refering turn Full bright Off), all goes well with dynamic lights,<br>as you say, to obtain a good effect is hard, but the terrain<br>even with the lightmap is affected by lights, but<br>if I don't change "full bright" from gile[s], I cannot change after export from Blitz, it seems to ignore the<br>entityfx...<br><br>What a strange thing!<br><br>..thank you very much for your help!! <br><br></td></tr></table><br>
<a name="609987"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paolo</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> it seems that you cannot override the material settings of Gile[s] from Blitz <br></div><br>Yes, that also bother me ... internally the models keep<br>the information from the exporter ... don't know why, may be<br>some advanced users could tell us :) <br><br></td></tr></table><br>
<a name="623616"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Alienforce</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> -Bump-<br><br>Any one have solution this ?<br><br>Please! <br><br></td></tr></table><br>
<a name="623673"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pinete</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Basically it hasn't solution in terms of the posibilities<br>that Blitz brings to you.<br><br>If you have a model (a terrain or something similar) and<br>it is textured AND lightmapped, it will ignore all dinamic<br>lights in the scene because it is supposed that entity<br>has maximum bright (entitycolor 255,255,255) in order<br>to show a coherent illumination with the lightmap.<br><br>After a lot of research I obtained the conclusion of discard<br>the dinamic ilumination for the landscape.<br><br>Regarding the issue with Gile[s] flags if seems to be something normal. You cannot override some flags of the<br>loaded .B3D... maybe a more advanced user than me can help you in someway or can recommed you some piece of code to research...<br><br>regards! <br><br></td></tr></table><br>
<a name="623743"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shambler</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Regarding the Gile[s] flag, I had this same problem a long time ago with Quill3D and found a solution, I hope it works for you! ;)<br><br>Here is the code to remove EntityFX from a mesh...<br><br><pre class=code>
For s=1 To CountSurfaces(mymesh)
br=GetSurfaceBrush(GetSurface(mymesh,s))
BrushFX br,0
PaintSurface GetSurface(mymesh,s),br
FreeBrush br
Next
</pre><br>from this thread...<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=26120&amp;hl=fullbright" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=26120&amp;hl=fullbright</a> <br><br></td></tr></table><br>
<a name="623768"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pinete</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> wow!<br>:)<br>thanks! Sure we will try it! <br><br></td></tr></table><br>
<a name="623777"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Alienforce</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> YEAH! It XXXXXXX works!!!!!!!!!<br><br>Thanks Shambler!! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
