<!DOCTYPE html><html lang="en" ><head ><title >How 2D in 3D (Anthony Flack's Cletus)?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >How 2D in 3D (Anthony Flack's Cletus)?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >How 2D in 3D (Anthony Flack's Cletus)?</a><br><br>
<a name="217251"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >coffeedotbean</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> After buying Blitz3D about 2 months ago and not realy touching it :( still stuck in 2D mode, Ive decided to meet it half way and convert my Alphabreed game from BB2D to BB3D ( but keeping it in a 2D view) and take advantage of the Alpha stuff and vertex shading etc.<br><br>Anthonty Flacks game cletus showed me how effective it is and I wanna do that.<br><br>Any simple expamles about the place I could rip apart, especialy something about an animated sprite or what ever I would use to display my charaters. <br><br></td></tr></table><br>
<a name="217257"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) ENAY</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's all done with quads. But I think you'll find it rather difficult to convert your existing 2D game to 3D. Since the approach of quads to sprites is quite different. Still, you could always give it a try, but personally since your game seems to look finished, I'd stick with how it is in Blitz2D. <br><br></td></tr></table><br>
<a name="217268"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> The Cletus method of 2D using 3D is actually quite advanced. I wouldn't recommend trying that as your first project in B3D.<br><br>If you just want the speed-up that 2D using 3D gives, then run your project in BlitzPlus using the OpenGL driver, this should give it quite a boost.<br><br>And if you're lucky, maybe Mark will add alpha-blending and real-time rotation to BlitzPlus. <br><br></td></tr></table><br>
<a name="217298"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> There are a few examples of syntax-alike libraries for this stuff in the code archive.  JPickfords comes to mind. <br><br></td></tr></table><br>
<a name="217408"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) ENAY</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; The Cletus method of 2D using 3D is actually <br>&gt; quite advanced. <br><br>I'd have to agree there too. Once you start messing about with quads, texturing and moving the camera about, simple things start getting complicated. <br>It's certainly a lot more complicated than using DrawImage.<br>And then you've got to manage your layer priorities, collision detections and stuff manually. So no ImagesCollide or drawing your objects in a set order.<br>If you do decide to use Blitz3D for this then you're better off making an entirely new game instead of converting your old game, as it isn't quick or easy. I'm just getting my head round it. <br><br></td></tr></table><br>
<a name="217522"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dr Derek Doctors</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> John Pickford's released a lovely 2D in 3D library. Have a look on the general forums for a post called SNES like graphics or 2D in 3D or summat. Makes tilemaps and stuff like that easy to use. <br><br></td></tr></table><br>
<a name="217604"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anthony Flack</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, however you do it you're likely to be in for a monster task converting your game - if it were me I'd finish it as is, and start your next game in 3d (actually, that IS what I did...) Definitely check out JP's library, it's good, it's fast, it's free and it takes all the pain out of 2d-in-3d <br><br></td></tr></table><br>
<a name="217606"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Pickford</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> My code allows you to program just like in 2D.  Drawing objects in a set order works just fine.<br><br>Collision detection has to be done yourself, but that's the best way to do it anyhow.<br><br>coffedot,   Email me (john@...) if you want the latest code. <br><br></td></tr></table><br>
<a name="218249"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >coffeedotbean</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the replys peeps, i knew it wasnt gonna be an easy process. Ill try out your code John, Alphabreed probaly will stay in 2D its about 80% done, Players of the demo from my sig want recognize the current version... but im keeping it secret for a while.... ohhh the tension. :) <br><br></td></tr></table><br>
<a name="218950"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeppe Nielsen</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could always add alpha stuff on top of your current 2d game. But thats just a suggestion :) <br><br></td></tr></table><br>
<a name="239351"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RiK</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> The Cletus method of 2D using 3D is actually quite advanced. I wouldn't recommend trying that as your first project in B3D.  <br></div><br>Any chance you could give us a quick overview of what that method is Anthony?  A few people here seem to know how you've done it, sorry if its already been discussed elsewhere. <br><br></td></tr></table><br>
<a name="239368"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anthony Flack</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I outlined some of the key points a while back on Blitzcoder. Here it is again:<br><br><div class="quote"> <br>First of all, I have to say it took me a little while to get everything set up and working satisfactorily, before I could really get down to making a game at all. So be prepared for a bit of not very exciting coding at the very start of the project... I'm not going to go into much technical detail here, just give a brief overview about the kinds of issues I faced and what I did about them; hopefully some of this is helpful.<br><br>First of all, I don't recommend mixing direct-draw style 2d with 3d-as-2d. It messes up when you change res, it messes up on certain cards and drivers, and it's just messy (and slower) in general. Once you have a working set of routines for 2d-in-3d, just use that for everything; much nicer.<br><br>Also I didn't use any sprites. Originally, it was because I couldn't apply lighting effects to them, and later it was mostly because of the need to combine things on a single surface - handmade quad meshes are definitely the way to go for maximum flexibility. Faster too. <br><br>I had to ditch the ortho camera as well, unfortunately... it was messing with the z-buffer a little on my card. I substituted a camera that was 100000 units away, and zoomed right in and restricted to a very narrow z-band (999900-100000) - a bit of a nuisance, but it fixed the problem, and gives virtually the same result.<br><br>Next, I knew I was going to need a thousand sprites or more on screen at once, and there was no way I was going to get away with having a separate surface for each of them, so it meant I had to go with a single surface system. More about that in a minute.<br><br>Now, the power-of-two textures was causing me trouble too. First off, I had to deal with a main character whose arms and legs were all over the place - some frames needed to be tall and thin, some short and wide. Others just plain big. To accomodate all of this in a power of 2 square at any kind of acceptable res, would have required a 128x128 square, with lots of wasted space on most frames. With over 150 animation frames needed for the little guy, this would have chewed through the video memory in no time. So what I did was, I took a 256x256 square (this being the maximum size that is guaranteed to be supported by virtually all 3d cards), and I squeezed as many graphics onto this as I could. All the graphics in the game are arranged on tiles of 256x256, and arranged according to themes. The main character takes up 8 tiles. The baddies take up 7. Collectable items are all crammed onto 1. Now, of course a single surface system requires that all the graphics be on a single texture, so I created a big 1024x2048 texture at runtime, and all the 256x256 tiles are loaded in one by one and copied onto this big texture, like a big bank of 4x8 tiles. Doing it like this means I can load and free up different 256x256 tiles according to what graphics set I need for any given level. Of course this raises another issue... only some cards can support a 1024x2048 texture... more on THIS later...<br><br>Oh, by the way - never EVER load in textures that aren't powers of 2 to start off with. Yes, blitz will scale them up, but not only is this wasteful, but far more seriously, it looks UGLY. Blitz does NOT do a good job of scaling them up, all it does is double some of the rows of pixels... end result is you get some rows of pixels that are twice as fat as others, and it looks really bad. Avoid like the plague.<br><br>Okay, next thing I did was make a little editor that would load up a single 256x256 tile and display it full screen. You could then stretch bounding boxes all over it to define where all the different sprites are. The program would translate the corners of the boxes on screen into UV coordinates on the texture. It then saved a data file that went along with that tile, like, this tile has 34 sprites on it, and these are their UV coordinates. Since the bounding boxes can be of any sizes within that 256x256 tile, this solves the power of 2 problem, and means I get to use my odd rectangular sprites of arbitrary pixel dimensions, and minimise wasted video RAM... providing I can pack them all nice and tightly onto the tiles, which I have more or less managed to do.<br><br>I could now start writing the single surface system for the game.<br><br>When the program starts, the big texture is created, the tiles are loaded onto it, along with the uv data that goes along with the tiles (Of course the program also has to remember where each tile is on the big texture... and offset its UV coordinates accordingly). A blank surface is created using this texture.<br><br>Then I made my draw3dsprite function. This function takes as input which tile you want to draw from, which image in the tile, the x and y co-ordinates, size, rotation, colour, opacity, and other game-specific stuff like whether it should be affected by lights or shadows. What it basically does is it creates 4 new vertexes and 2 new triangles on the big surface, centered around the x and y coordinates you give it. It textures the trianges according to the uv coordinates in the data file, referenced by the tile and frame number. It scales it according to the size, but also taking into account the uv coordinates, so that long skinny frames still come out long and skinny, etc. The colour of the sprite is set using vertex colours, and the opacity is set using vertex alpha (brilliant; I was waiting for this function!). Rotation is a bit trickier, I had to get a bit more maths-y than I usually like in order to rotate it properly, but I think there's stuff in the code archives for this...<br><br>I don't keep track of any of the vertices created. Every frame, I do a clearsurface and scrap all of it, and rebuild them all again from scratch. Some speed tests I did showed this was only a tiny, tiny bit slower than moving preexisting vertices around, and it is a lot easier. Plus it has some other advantages, as you'll see... Basically, clearsurface becomes my CLS, and the draw3dsprite function becomes my drawimage.<br><br>Right, other issues... <br><br>All the sprites in my game use an alpha channel for transparency (which was a big part of why I wanted to use 3d in the first place). This causes problems since, due to the nature of transparent textures, they can't use the z-buffer properly. In other words, don't expect to be able to sort the priority of sprites by changing the z-value, if you're using alpha channels (note that my draw3dsprite command doesn't ask for a z-value!). Instead, you must be aware that all triangles in the surface will be rendered in the order you added them to the surface. The last thing you draw will go on the top. Just like using drawimage, really. Also, this method is only good for triangles that are part of that big, merged surface. If a triangle isn't in that big surface, you CAN'T make it appear, say, behind one object that is in the big surface, and in front of another that is in the big surface. It's either behind them all or in front of them all. Um, did that make sense?<br><br>Anyway, that's why I needed to get all the sprites onto the one 1024x2048 surface. Actually, what I do is, the background, like the sky and the mountains, is made up of several surfaces, the font is made up pf another surface, but all the main action stuff, the things that have to go in front and behind each other freely, MUST be part of that same surface.<br><br>There are some other issues with using a single surface though - since so many effects are applied on a per-entity basis - you can't apply different blend modes for different sprites... my laser beams can't use an additive blend, sadly, unless they were given their own single surface - and if I did that, then they wouldn't be able to go in front and behind objects in the main surface (they'd either have to be in front of all of them, like the font, or behind all of them, like the background). This is a bit of a bummer, but I just have to work with it. You can't make things full bright either though. This WAS a problem, as I wanted certain things (like laser beams, explosions, etc) to be full-bright even if it was a night-time scene. So I ditched the DX lights altogether, and wrote a custom lighting function that simulated DX lights by manipulating the vertex colours, and was just as flexible as I cared to make it. So I get my full bright objects. And thank you so much, Mark, for adding vertex alpha - before that there was no way to control the opacity of different sprites, except by making them semi-transparent in the source file. As soon as vertex alpha was added, I added another parameter to my draw3dsprite command. <br><br>Now, everything's working sweet, it's fast, it's functional, it's more or less just like using a supercharged drawimage command... but there's one problem... remember the cards that don't support 1024x2048 textures? Oops, they're screwed...<br><br>Some people would probably say at this point, "Ah, too bad, let them get a new card, I don't want those luddites holding me back, blah blah blah...) - but I didn't want to do that. I wanted to make it work for as many machines as possible... so, one of the first things the game does is create a 1024x2048 texture, and then checks its dimensions... if they come back as anything other than 1024x2048, you know the card won't do it, so it kicks into plan B:<br><br>Remember that all the graphics are stored as 256x256 tiles. This is a pretty safe size, even a voodoo 1 can handle it. So plan B involves loading up all these tiles, but instead of merging them into one big texture, it keeps them seperate and creates a surface for each of them. Texture size problem solved - but it raises another problem...<br><br>Remember I said that you could only z-order the triangles WITHIN a surface, not between surfaces? But in this case, all of these tile surfaces have to be able to intermingle for the game to look right. Can't be done, so I have to ditch the alpha transparency (ouch!) - the game reverts to using masked transparency. Using masks means that you can use the z-buffer for z-ordering again. So in this way, I can get the sprites to intermingle, at the expense of losing the cool alpha effects  - ah well, it's better than having it not working at all. In this case, I have a variable, z_order, which gets set to 0 at the start of each game loop. Then, when the first draw3dimage function is called, it creates the first quad at the z-position of the z_order variable, and then it increments z_order by .01 - meaning the next quad will be drawn slightly in front of it. In this way, the plan B drawing method works just like the plan A one - the last sprite drawn goes on the top.<br><br>Whew! Okay, that's the basics of what I did. <br><br>Oh, one more thing - since all uv coords are stored as a value between 0 and 1, regardless of the size of the texture, it wasn't too difficult to add an option to load all the graphics in at half resolution - every second pixel, onto a texture half the size - the UV data stays the same. The big advantage here, of course, is saving memory - it doesn't look pretty, but it reduces memory requirements from 16 megs to 4. The game will do this as a last-ditch effort to provide a playable framerate on cards with very little memory.<br><br>Sheesh, now that is one long post! Just as well I didn't go into technical details! I hope this is somehow informative or helpful, since even though I was trying to be brief, it sure took a long time to explain...<br> <br></div> <br><br></td></tr></table><br>
<a name="239378"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RiK</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Anthony, interesting reading! <br><br></td></tr></table><br>
<a name="239394"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anthony Flack</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> A bit of a novel, though, isn't it?<br><br>It's funny how long it can take to explain things. Even relatively simple things. <br><br></td></tr></table><br>
<a name="239404"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RiK</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well thanks anyway, it was a useful read.  I've been experimenting with some 2d in 3d mode stuff myself, and contemplating a single-surface system. <br><br>Having done some initial speed tests versus blitz sprites it is fairly apparent this is the way to go, and I guess a fundamental reason why Mark hasn't implemented a more extensive hardware-accelerated sprite system in 2d yet. Either that or perhaps he doent think it would be that popular...<br><br>Habing downloaded the Cletus demo I was very impressed by just how smooth you've got it running, damed fine job so far! Any rough estimates as to when you'll be hoping to release it? <br><br></td></tr></table><br>
<a name="239419"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anthony Flack</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah, now that is the question! Um, 3 months? But only if it's good and ready though, not before... <br><br>but why not go to the <a href="http://www.squashysoftware.com" target="_blank">website</a> and sign up for the mailing list? I'll email ya the minute it comes out.<br><br>There is a new demo coming out on the blitz demo CD, by the way, which is far more advanced than the old demo. But which is now also quite a lot behind the version on my harddrive... <br><br></td></tr></table><br>
<a name="239427"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I guess a fundamental reason why Mark hasn't implemented a more extensive hardware-accelerated sprite system in 2d yet. <br></div>You'd be guessing right. The reason as it turns out is that hardware accellerated 2D is a figment or your imagination. A long time ago there was this company called 3Dfx who developed some chips that could do accelerated 3D, to a much higher degree than what was previously possible. In the rush that ensued and in an effort to grab a peice of the enormous sales that these new 3Dfx cards had, executive decisions to abandon 2D hardware was made. You're GeForceFX, for all it's 3D glory has the exact same 2D capabilities as the Riva 128. The only two companies that didn't abandon 2D hardware where Neo-Geo and Sega. And look what happened to them. They have kick-ass 2D hardware, but nobody hardly cares because the same effects can now be acheived in 3D (except it doesn't look as pretty). <br><br></td></tr></table><br>
<a name="239439"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anthony Flack</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sigh. Don't I know it. <br><br></td></tr></table><br>
<a name="239506"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) ENAY</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Anthony, I'm in the middle of doing what you're doing with your multiple quads in a single surface and mesh. But for some reason I can't seem to texture any more than the first quad I create within the mesh, the first 4 vertices contain the texture I add to it, but the rest remain empty.<br><br>I've been looking closely at JohnP Pickfords SNES style engine but I can't seem to figure out what I'm doing wrong or how he's achieved it.<br><br>Any pointers you could give me on perhaps what I'm doing wrong? ;)<br><br>Cheers. <br><br></td></tr></table><br>
<a name="239533"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RiK</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Anthony - I signed up already... ;)<br><br>Not that I'm impatient or anything.... oh no, not me...<br><br>I am geniunely gobsmacked by your engine though, it just looks *so* sweet. I loved Platypus and I'm still amazed by how much you got moving without dropping the framerate. You must let us in on the secret some day.. come on admit it, Mark told you some secret stuff that nobody else knows right... You signed your soul over to get some extra clock cycles? <br><br></td></tr></table><br>
<a name="239578"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anthony Flack</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> ENAY - hmm, you know that all the quads in the surface must be textured with the same texture, right? All you can change is the UV co-ordinates.<br><br>RiK - if there's a secret I'm not aware of it... maybe it's just because I tend to avoid fancy maths (because my brain doesn't like it), my code tends to run fast. Dunno. Anyway, I'm just glad it's running fast! <br><br></td></tr></table><br>
<a name="239628"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Anthony<br><br>Thanks for the big write up earlier in the thread.  I started hacking around with my own version of it tonight and it came together a lot faster having read your post. <br><br></td></tr></table><br>
<a name="239694"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) ENAY</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Arrrrrrggggghhhhhhh. :)<br><br>I finally figured it out. I had the equivalent of a 'for loop=0 to 0. So it's no wonder I've had so many annoying problems with only quad working. I only ever HAD one quad. I almost tried everything in the loop until I had a quick look at start of it. I mean FFS how stupid can you get?<br><br>Feel free to give me a damn good slapping.<br><br><br>I'm well impressed with the speed increase for using quads in a single surface.<br>I thought sprites were quick, then I discovered quads and now quads in a single surface.<br><br>I could only get 200 sprites on screen before without getting slowdown.<br>Then about 500 quads with individual surfaces.<br>But now I can get 1500 quads on screen with no sign of slowdown. <br>You could probably get even better performance by just using triangles instead of quads and offsetting the uv coords to the centre of the triangle instead of the square. Which would be ideal for small low detailed particles.<br><br>Although it's probably not too surprising getting more performance since the complexity of the code is also increasing.<br><br>But the best thing for me is that I can now also flip the uv coords in real time. No more needing two seperate frames for facing left and right. And not to mention being able to do some cool distortion techniques now, of which you couldn't do with blitz's sprites. :) <br><br></td></tr></table><br>
<a name="239736"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anthony Flack</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh, don't I know it...<br><br>Mirroring, all go.<br>Scaling and distortion, no problem.<br>Rotation, looks great.<br>Alpha transpareny, lovely.<br>Vertex colours, not as good as palettes but surprisingly versatile nonetheless, and a heck of a lot better than nothing.<br><br>And don't forget you have the not-to-be-underrated subpixel accuracy. Like for eg, the moons in platypus moved really slowly, so it was really noticeable when they "clicked" over onto the next pixel. Not so with 3d; it interpolates the whole thing beautifully, and you get super-smooth, imperceptibly slow motion.<br><br>Plus the whole thing, while being not quite so backwards compatible, is at least more future-proofed... and safe from things like the nvidia driver fiasco.<br><br>I wouldn't recommend using triangles though - you'll waste 50% of your vidram, and the increased fill area is likely to kill off any benifits you might see. Though I think the major bottleneck is usually in reconstructing the mesh every frame, rather than polygon count or (unless you're going really crazy), fill rate. 3000 polys vs 1500 polys isn't that big a deal to a 3d card. Hacking around with mesh geometry, they don't seem to like quite so much. <br><br></td></tr></table><br>
<a name="239787"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) ENAY</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; I think the major bottleneck is usually <br>&gt; in reconstructing the mesh every frame<br><br>Woah. Is that wise. What I've done is make the max amount of quads I'll ever need and then just move the quads I'm not using way off screen and no UV. That way I've got a fairly static framerate.<br><br>Are you reconstructing them every frame in Cletus?<br>Although it does depend on how many quads you're making I suppose. <br><br></td></tr></table><br>
<a name="240002"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anthony Flack</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> I did tests, and I found that moving already constructed vertices was just *slightly* (like, 0.001% or something) faster than reconstructing the mesh every frame. I think that whether you reconstruct the whole mesh, or move even just one vertice, incurs the same hit to the video card... because it has to go fetch the mesh, send it to system memory, do the changes, then send it back, and reconstruct it. Or so my limited understanding of such things would have it.<br><br>Anyway, the upshot is, it's not any slower to destroy the mesh (with clearsurface), and reconstruct it every frame. In your case, I actually think it would be faster, specifically because you only have create the quads you need, and not have a bunch of spare quads hiding away in the corner (which, if I understand it correctly, would still give a speed hit even if you weren't moving them, because they are still part of the entity you are modifying).<br><br>But the difference isn't likely to be large. The real decider for me was, that clearsurface() and reconstruct is much, much easier to work with. You can read a bit about how I set up that system in the whopping great quote box above. <br><br></td></tr></table><br>
<a name="240062"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) ENAY</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've just read that actually. Interesting stuff, kind of almost what I've been doing.<br><br>I've been reading through some of JohnPs comments in his source code and he does the same as me, keeps the meshes, it's true that you process them even when they're not in use but that's kind of what is good about it. You get a constant CPU hit which should mean no sudden jerks or speed ups in frame rate.<br>So the game will run more like a console. <br><br></td></tr></table><br>
<a name="240283"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anthony Flack</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, that was JPs stated goal. With me, the number of polygons changes quite a lot; but there's no limit to the maximum number of polygons on screen. It's possible to have things go absolutely crazy - hundreds of particles, explosions, all sorts of stuff all happening at once. Perhaps the framerate at these times would go down on slow hardware, but the frameskipping should make it not too noticeable. And the good part is, as soon as things have calmed down, everyting runs smooth again. <br><br></td></tr></table><br>
<a name="240383"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) ENAY</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> I agree about that one pixel movement thingy. It seems that moving from between one pixel is untra smooth in 3D the way it interpolates across, slow moving objects do look well sexy now. :)<br>Anthony, have you mastered pivot point rotation on your quads? I can get mine to rotate in the centre but I haven't<br>yet managed to be able to spin them a point.<br>Doh. I wish I could find my maths books. <br><br></td></tr></table><br>
<a name="240438"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) ENAY</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cracked it, I've now got my quads to rotate in a pivot point and also at the same time within the centre of the quad. Sorted :) <br><br></td></tr></table><br>
<a name="240498"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anthony Flack</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sweet - mine just rotate in the centre... for speed, but mostly so I don't have to think too hard. <br><br></td></tr></table><br>
<a name="240579"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RiK</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> So any chance of another demo soon then Anthony? <br><br></td></tr></table><br>
<a name="240757"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anthony Flack</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> There'll be one on the blitz demo CD. So ask Mark or Simon when that's coming out. <br><br></td></tr></table><br>
<a name="240758"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RiK</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> Err, <br><br>"Mark or Simon, when's the Blitz demo CD coming out...?"<br><br>:) <br><br></td></tr></table><br>
<a name="240817"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) ENAY</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's useful for if you want to rotate a sprite that is using multiple quads. Say if in Cletus you had a tree quad and then multiple leaf quads. Group them together and then pivot it around the centre and have a nice rotating tree. :) <br><br></td></tr></table><br>
<a name="240864"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anthony Flack</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> yeah, I do have quite a number of objects made from multiple quads. I seem to be favouring multiple quad objects more and more at the moment... ufo objects are made from as many as 15 quads...<br><br>I probably should have put in pivot points... I didn't know I was going to make such heavy use of multi-quad objects when I put the system together. The way I'm doing it now, I just rotate the centre of each quad around the object's centre, and then rotate the quad - same effect, not quite so simple. <br><br>I think I'll put in pivots when the game is finished, and I hack the routines out for future use. <br><br></td></tr></table><br>
<a name="240909"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) ENAY</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> How are you arranging your multi-quads btw?<br>If you're offsetting in the X and Y direction from the objects main central X and Y then you won't be able to rotate them by a pivot point later.<br><br>When you need to do is offset your quads from the centre in a pivotal point. So instead of X and Y offset you have an angle(0-360) and a distance param. So therefore an angle of 0 and distance of 10 would be the same as an offset of Y=10, and an angle of 45 and distance of 10 would be X=10,Y=10 etc. <br><br>All depending on where your 0 degrees is pointing and in which direction your Y is, i doubt it'll be up, but you can always have a general offset of 90/180 degrees depending on where it is.<br><br>It's a bit more complex at first setting up your multiquads. But because you have them arranged already in radians. All you have to do is offset all your combined quads Sin and Cos values by a central parameter angle of rotation and they all move around automatically. Simple, well once you get the hang of it that is. :)<br><br>What you could also do is add a tilt paramater on top of all that. That goes between 3- and 3 degrees which adjusts as Cletus moves around. So cletus will fractionally lean forwards or backwards as he runs, giving it that 'seemingly more frames of animation' effect.<br><br>Also, you could have a wind parameter that is connected to the top two vertices of your flower and tree quads.<br>This way they could be gently rotated and bent as if they were blowing in the wind. ;) <br><br></td></tr></table><br>
<a name="241053"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anthony Flack</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> I do use an angle and a distance to place everything :o)<br>It's all working sweet; it's just slightly more long-winded than if I had've built the pivot point into the main routine. <br><br></td></tr></table><br>
<a name="241563"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) ENAY</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok Anthony I have another question ;)<br>I noticed in your Cletus game you had a nice background. I'm trying to stretch an image the size of the screen but I get that annoying slowdown you get when the fill rate is full. Or something like that.<br>I've tried splitting it up into 4 smaller quads but I still get the same slowdown.<br>How did you manage to get around this, am I on the right lines, should I segment more? <br><br></td></tr></table><br>
<a name="241616"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anthony Flack</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> Really? Fill rate problems? Bummer. <br>I don't do anything clever, you know. The background is made up of 4x4 tiles, each 256x256 and on its own surface. Probably 2x2 tiles is a screen full, so it's the same as you.<br><br>Sometimes an odd tile doesn't have anything on it, in which case it won't be created, but this is rare. Other tiles, in the middle, don't require a transparency and so don't use it. Apart from that, it's just slapping 'em down. Plus there's the sky and the hills in the background, and I plan to add some more parallax in the middle sometime. Once again, just slapping 'em down - fill rate be damned, if I can do this much in 2d it can bloody well work in 3d too. I guess running at low res helps. <br><br>Dunno why it's not working for you. Perhaps you need to firmly say to your card, "if you can do this much in 2d, you can bloody well do it in 3d too." <br><br></td></tr></table><br>
<a name="241661"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) ENAY</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well it's odd. I can have a 1000 thousand quads floating about that is paired together are about 30 times bigger than the screen. But as soon as one is stretched to the size of the display I can wave bye bye to processor power.<br>I'll keep tinkering and see what I find.<br><br>I'll try preaching to it later, or I'll threaten it by installing WInXP. <br><br></td></tr></table><br>
<a name="241795"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoeGr</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> The following will probably seem like an odd/stupid suggestion and I've never heard of anyone else doing this, but in case it happens to be of use to somebody...<br><br>If you just rotate the camera 180 degrees around the x-axis (so that its upside down) and place all your quads at a distance in a single x/y plane (use z-order to draw overlapping quads), you can position them all using x- and y- 3d coordinates almost exactly as if you were using sceen coordinates in 2d! Just takes a small amount of fiddling initially to get the distances right so that the 2d/3d coordinates correspond. Any x/y movement you apply is then roughly in pixels too. <br><br>Its much simpler than I just made it sound btw. Doesn't solve any of the real problems you get trying to do 2d in 3d (see above), but if you're used to 2d it might help. Or not. :) <br><br></td></tr></table><br>
<a name="241846"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anthony Flack</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey, now that's actually pretty smart! After years of 2d, it took me a while to get used to the "negative" y axis in 3d. <br><br></td></tr></table><br>
<a name="241978"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) ENAY</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> There's something seriously wrong going on now. If I just have one quad the size of the screen with a texture size of 1x1. I still have herrondous slowdown. What the hell is going on?<br>It seems impossible to fill the screen up with any type of gfx.<br>And it's only the equivalent of CLSColor.<br><br>&gt; After years of 2d, it took me a while to get <br>&gt; used to the "negative" y axis in 3d. <br><br>You could just cheat and plot your stuff as if it was in Blitz2D and then just translate the Y axis later. <br><br></td></tr></table><br>
<a name="242036"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anthony Flack</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>What the hell is going on? <br> <br></div><br><br>Buggered if I know. But my game works okay? Weird. And annoying I'm sure! <br><br></td></tr></table><br>
<a name="242230"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoeGr</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> Enay, if you figure out why that slowdown happens, be sure to let us know. Its been a problem for me too. <br><br>Could it be something to do with the distance between the quads and the camera? <br><br></td></tr></table><br>
<a name="242451"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) ENAY</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have no idea yet what's causing it. <br><br></td></tr></table><br>
<a name="242512"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Pickford</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> I wonder if its a bug when a triangle is clipped on both\all sides of the screen at once?  I can imagine that causing bugs. <br><br></td></tr></table><br>
<a name="242527"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think it just happens on older/slower cards because they have to 'manually' fill in/texture a huge area that can be changing its size &amp; shape every frame, so it takes longer when bigged-up; totally different to just slapping a fixed-size image on the screen. That's my theory, anyway. <br><br></td></tr></table><br>
<a name="242537"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) ENAY</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well I've tried segmenting the image into smaller pieces and also into seperate quads, at 2x2 it still slows down in the same way. Perhaps at 4x4 and 8x8 it might make a difference. I'll have to try that.<br><br>But it still baffles me that you can have thousands of the same quad everywhere and it still be faster than one or two big quads. And it's not just that it's a problem in Blitz3D in general. You can gave a FPS style room with clearly 3 walls taking up the entire screen with no slowdown.<br>Although it's not just quads, it's the same with sprites too. So it must be something to do with the texturing or size of it rather than the object type. <br><br></td></tr></table><br>
<a name="242558"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#51">[#51]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>But it still baffles me that you can have thousands of the same quad everywhere and it still be faster than one or two big quads. <br> <br></div><br>I guess when they're far away you're only rendering a few tens/hundreds of pixels for each one, whereas for full-screen quads you're doing, eg. 1024 x 768 = 786432.<br><br>I can't explain how come a card can fill a full-screen's worth of polys (eg. the 3 walls you mentioned) yet slow down for one poly filling the same total area... must be some sort of exponential slowdown the larger a polygon is...? Then I guess you've got mip-mapping, etc, to take into account (ie. lower-res textures further away)... <br><br></td></tr></table><br>
<a name="242889"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) ENAY</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#52">[#52]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well. I've still not figured it out. Segementing the quads makes it much worse. <br><br></td></tr></table><br>
<a name="242915"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#53">[#53]</a></td></tr></table></td></tr><tr ><td class="posttext"> Weird. How does this run?<br><br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=177" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=177</a> <br><br></td></tr></table><br>
<a name="242943"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) ENAY</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#54">[#54]</a></td></tr></table></td></tr><tr ><td class="posttext"> Didn't see that. I'll give it a twirl.<br><br>Heh illegal memory address. No wonder, I've got to add my own pic ;) <br><br></td></tr></table><br>
<a name="242957"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#55">[#55]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's pretty dumb, as it just uses sprites, but just wondering if it'll be affected speed-wise the same as the system you've been trying... <br><br></td></tr></table><br>
<a name="242985"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anthony Flack</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#56">[#56]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is it scaling a small texture up by a huge amount that's doing it, perhaps? <br><br></td></tr></table><br>
<a name="243034"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Pickford</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#57">[#57]</a></td></tr></table></td></tr><tr ><td class="posttext"> Texturing is done by sampling one or more texels for every pixel plotted.  The size of the texture relative to the size of the triange shouldn't be important.  Large textures can theoretically cause bandwidth issues, but I can't see how small textures can be problematic. <br><br></td></tr></table><br>
<a name="243043"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) ENAY</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#58">[#58]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, incredibly James, using your code it doesn't slow down at all when stretching to full screen. Even at high resolutions.<br>I'm going to test it some more, I wonder why your code is so amazingly quick. It must be down to how you're initialising the gfx or something. <br>I'll have to merge it in with my current code and see if the performance increase still remains.<br>I've changed it a little bit already, added a fullscreen flag to the function so the texture is resized to the screen resolution, so that changing the size doesn't affect the backdrop to screen size ratio.<br>Finally some light at the end of the tunnel, hopefully :) <br><br></td></tr></table><br>
<a name="243216"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anthony Flack</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#59">[#59]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's all very odd. I wonder what the cause is? <br><br></td></tr></table><br>
<a name="243328"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) ENAY</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#60">[#60]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually it doesn't seem to be as effective as I first thought. But it still seems to be slighter better than the way I was doing it. It's still a perplexing phenominen. <br><br></td></tr></table><br>
<a name="243383"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anthony Flack</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#61">[#61]</a></td></tr></table></td></tr><tr ><td class="posttext"> But my game works okay? <br><br></td></tr></table><br>
<a name="243411"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) ENAY</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#62">[#62]</a></td></tr></table></td></tr><tr ><td class="posttext"> What speed processor do you have Anthony? <br><br></td></tr></table><br>
<a name="243420"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anthony Flack</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#63">[#63]</a></td></tr></table></td></tr><tr ><td class="posttext"> P4 1.4 <br><br>pretty speedy.<br><br>So does my game work okay for you, or not? <br><br></td></tr></table><br>
<a name="243542"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) ENAY</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#64">[#64]</a></td></tr></table></td></tr><tr ><td class="posttext"> Jessooos. Well I doubt you'd ever notice that slowdown with that machine. I'll have to try cletus again in some higher resolutions, if I still have it on my hd. <br><br></td></tr></table><br>
<a name="243655"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anthony Flack</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#65">[#65]</a></td></tr></table></td></tr><tr ><td class="posttext"> Really? You think it is a processor issue? I would think it was more of a gfx card issue. And I "only" have a geforce2.<br><br>Of course, the recommended res for Cletus is 640x480; I guess fill rate isn't such an issue. What res you running at? <br><br></td></tr></table><br>
<a name="243704"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) ENAY</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#66">[#66]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well I've no idea which one it is, it's got to be one of the two. But if you have a faster processor you won't notice it.<br><br>I swear that drawing the image in 2D mode and then sticking the 3D graphics on top would be faster. I'll have to try that. Or at least give the option of both drawing methods. I'm sure it may be faster on some machines either way. <br><br></td></tr></table><br>
<a name="243773"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#67">[#67]</a></td></tr></table></td></tr><tr ><td class="posttext"> That thing of mine probably isn't much use as it scales an image on a 1:1 pixel basis, ie. a 640 x 480 image will still appear 640 x 480 on a 1024 x 768 screen (rather than scaling)... <br><br></td></tr></table><br>
<a name="243809"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoeGr</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#68">[#68]</a></td></tr></table></td></tr><tr ><td class="posttext"> Neil, are you using the latest version of Blitz? <br><br></td></tr></table><br>
<a name="243846"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#69">[#69]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>ENAY: I've changed it a little bit already, added a fullscreen flag to the function so the texture is resized to the screen resolution, so that changing the size doesn't affect the backdrop to screen size ratio<br><br>...<br><br>ME: That thing of mine probably isn't much use as it scales an image on a 1:1 pixel basis, ie. a 640 x 480 image will still appear 640 x 480 on a 1024 x 768 screen (rather than scaling)... <br> <br></div><br>Shows how much attention I was paying... :) <br><br></td></tr></table><br>
<a name="244380"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) ENAY</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#70">[#70]</a></td></tr></table></td></tr><tr ><td class="posttext"> My version of blitz isn't the latest one though. It's the one before the compiler and debugger split. I can't get on with it like that. But I doubt that would make a difference tbh. <br><br></td></tr></table><br>
<a name="244395"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anthony Flack</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#71">[#71]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>It's the one before the compiler and debugger split. I can't get on with it like that.<br> <br></div><br><br>If you install it, you'll see it behaves exactly the same by default. <br><br></td></tr></table><br>
<a name="244413"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wedoe</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#72">[#72]</a></td></tr></table></td></tr><tr ><td class="posttext"> Program your whole game in 2d. When it all works fine and dandy<br>you still use the 2d GFX for collisions and stuff but you change<br>the stuff the player actually sees with 3d objects.<br><br>It's actually very easy. I used this tecnique on my <a href="http://www.idigicon.com/pdetails.asp?id=43" target="_blank">"Rocket Mission"</a> game.<br><br>-norc- did a great 2D in 3D environment snippet som time ago, it's on the code archives area and are better than my amateur routine. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
