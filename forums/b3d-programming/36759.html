<!DOCTYPE html><html lang="en" ><head ><title >SSwift terrain system - improvements</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >SSwift terrain system - improvements</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >SSwift terrain system - improvements</a><br><br>
<a name="402760"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> What would you like to see in SSwift's terrain system no.2?<br><br>He was saying before that no-one buys it so maybe we could give him some ideas to improve it.<br><br>Id like to see support for tilable terrains for big worlds.(if it hasnt got that already!) <br><br></td></tr></table><br>
<a name="402778"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am working with indoor scenes most times these days, so it's no surprise that I don't buy a terrain system. But at least I have just ordered his Shadow system.<br><br>For Terrains I'd like to see something more. What I would really like to see was an automatic landscape generator that takes clima-data as parameters and creates a complete vegetation. Then, the landscape is saved as a Mesh. The designer can then remove some trees and place buildings etc. in the landscape. This whole thing should also support some kind of LOD optimation, so huge worlds would be possible. <br><br></td></tr></table><br>
<a name="402840"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Magitta</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> And the voxel terrains would be awesome. Then we'd be able to create cliffs and wicked exotic scenery. <br><br></td></tr></table><br>
<a name="402955"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ckob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> well if he had a website up with more screenshots and a betetr demo showing the engine as well as an editor I think more people would buy it. <br><br></td></tr></table><br>
<a name="403899"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Canali</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I bought the system so I guess I'am able to express a wish list :)<br><br>As system is great and very functional.<br>IMHO it has only two problems:<br><br>- the gaps between the meshes (it happens between meshes that have different detail);<br><br>- the fact that the terrain you obtain is not affected by any light (ambient, spot, omni, etc...)<br><br>I would also add that the author is very very kind and helped me to use it giving me even external tools to calculate lightmaps.<br><br>All in all I can only reccomend it. <br><br></td></tr></table><br>
<a name="403949"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you for the kind comments!  <br><br>The terrain system has now been updated so that normals are correctly calculated for all tiles, enabling the use of dynamic lights with the terrain.  <br><br>Anyone who hae purchased the system and would like the new version should email me.  (Please do not post request here.) <br><br></td></tr></table><br>
<a name="403964"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Canali</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can confirm the the new systems works *perfectly* with lights.<br><br>C'mon guys, you should really give it a try.<br>;) <br><br></td></tr></table><br>
<a name="404009"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Canali how about you let us have a look at a screenshot of what you are doing?<br> or Swifty release a terrain example with the Blitz mario demo so we can walk about the landscapes <br><br></td></tr></table><br>
<a name="404030"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Canali</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'll surely do that Slenkar.<br>But since it's just two weeks I'm coding on B3D, would be of little use.<br><br>In few days (2) I'll leave for vacation, but you can bet that, as I'll work on my project a little more when I'll return, I'll show something.<br><br>All I can say is that the terrain system of SSwift wors very well, and is really highly customizable.<br><br>Load how many brushes as you want, use a lightmap (or easily texture the terrain using all the available texture-levels), organize easily the polycount so you can keep a good framerate even with LARGE maps, and all the code is very well commented, so is easy to put the hand and make our own fixes.<br><br>It has now only a little flaw, but is described in the author page, so you know what you get.<br><br>And the price is really affordable.<br><br>I think that the fact is that people often don't know what to do and wait inspiration from demos.<br>And this, imho, is a mistake.<br><br>Is eaqsy to understand what this terrain system offers, now it's to you to understand what you need for your project.<br><br>Cheers.<br><br>PS: And sorry for my porr english, but I'm Italian ;) <br><br></td></tr></table><br>
<a name="404040"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Slenkar:<br><br>You can walk around the terrain in the demo I already released, what does it matter if you're walking around it as mario or not? <br><br></td></tr></table><br>
<a name="404293"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> its been a while since I used the demo,forgot about that,<br><br>cant seem to work out how to download it again, <br><br></td></tr></table><br>
<a name="404325"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Left click this link, then left click link that appears on resulting page.<br><br><a href="http://lightning.prohosting.com/~sswift/swift-terrain-system.zip" target="_blank">http://lightning.prohosting.com/~sswift/swift-terrain-system.zip</a> <br><br></td></tr></table><br>
<a name="498447"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mike V</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm "on the market", so to speak, for a good terrain system and I like the seamless nature of the Swift system as the game I'm envisioning would make excellent use of a seamless world setup (no, it's not a MMORPG :-p). I'm curious about a few things though...<br><br>1. Control over the terrain:<br>Basically, how much control do you have over the terrain in this system? Is there support for holes in the ground so you can build "into" it for things like caves and the like?<br><br>2. How is texturing handled:<br>Is it a deal of a single, large color map with a detail texture tiled across it? Or, is it like the Torque engine system where you have layers of textures that can be painted, erased, blended by height, slope, etc? Or is it just arbitrary tiling of textures across the surface?<br><br>3. #2 sorta ties into this.. what kind of support is there for blending from one texture set into another? For example.. Running through an open field would have greens and some browns for dirt/grass.. then you enter a forest area where you'd have leaves and some green, mossy texturing going on perhaps.. then the terrain leads into a boggy area, so now you have dark, muddy and murky textures, before heading into a mountainous area... and so forth.. How is this handled? Again, I know this ties into #2 as it's dependent on how the texturing is handled, but it's an additional detail I'm curious about.<br><br>4. Placement of objects:<br>I don't mean random scattering of trees, boulders, etc.. I mean deliberate placement of structures, buildings and the like? How is this handled? How much "hands-on" access do you get to such objects to make sure they're positioned, scaled, rotated and such as you want them?<br><br>Overall, I like the looks/sound of the terrain engine in and of itself.. but it's the integration with all the other elements that come into a play within a complete game environment that I'm concerned about.. Thanks! <br><br></td></tr></table><br>
<a name="498463"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://www.blitzbasic.com/logs/userlog.php?user=963&amp;log=270" target="_blank">http://www.blitzbasic.com/logs/userlog.php?user=963&amp;log=270</a><br><br><div class="quote"> <br>Is there support for holes in the ground so you can build "into" it for things like caves and the like?<br> <br></div><br><br>There is no native support for holes.  <br><br>You could manually create meshes for those tiles which you want to have holes though.<br><br><pre class=code>
Type TerrainTile

	Field Current_Detail_Level

	Field TileHeightmap.Heightmap		; The heightmap which this terrain tile uses.
										; More than one tile may use the same heightmap.

	Field Mesh[TERRAIN_DETAIL_LEVELS]	; This is a list of pointers to the entities which represent each detail level of this
										; terrain tile.  The detail levels are 64, 32, 16, 8, 4, and 2.
End Type 
</pre><br><br>Here is the type where all terrain tiles are stored.  As you can see, it's very simple.  The system is desgiend to allow you to either load a heightmap and have all the tiles created automatically, or allow you to manually create the tiles and all their detail levels yourself.<br><br>Then the system automatically picks the right detail levels and displays the tiles that are near enough the camera.<br><br>So you could load a heightmap and the replace some of the tiles with your own custom tiles that have caves.  You could create those in a 3D package and import them.  You would have to create several levels of detail though.  You probably would want to just delete all the polygons inside the entrance at the lower detail levels since the player would be too far away to see in anyway.<br><br><div class="quote"> <br>Is it a deal of a single, large color map with a detail texture tiled across it? Or, is it like the Torque engine system where you have layers of textures that can be painted, erased, blended by height, slope, etc? Or is it just arbitrary tiling of textures across the surface?<br> <br></div><br><br>The terrain is made of "tiles".  Each tile can use any texture you have loaded.  This texture will be stretched across the whole tile.  The size you choose for the tiles determines how much the texture is stretched.  I set the default to be a good balance between having the texture at a decent resolution, and not having too many tiles visible at once.<br><br>These textures also can be flipped on each axis seperately, so you can reuse textures that transition between one surface and another.<br><br>The tiles can also have a lightmap applied.  The system will allow you to automatically stretch this lightmap over all your tiles.<br><br>It would be trivial for you to make it also apply a detail texture to each tile, though I'm not sure how good this would look, as each tile would have to have the same detail texture all the way across it, and then if you changed detail textures at the next tile it would be obvious unless you changed the detail texture slowly across multiple tiles.<br><br><br><div class="quote"> <br>Running through an open field would have greens and some browns for dirt/grass.. <br> <br></div><br><br>You can load multiple textures, so you can apply different textures to different tiles to achieve this in much the same way as you would in a 2D game.<br><br><br><div class="quote"> <br>4. Placement of objects:<br> <br></div><br><br>The way my system works is quite simple.  You call a function to load a heightmap, and call a function to turn that into a terrain.  Then you call another function to apply the texture you want to each tile of the terrain.  Then you call a function to apply the lightmap.<br><br>Once you've done all this you won't see anything on the screen.  You call a function in your main loop, and pass it the location of the camera.  The function then chooses which tiles to make visible, and selects the appropriate detail level.<br><br>Where you go from there is up to you.  You can load objects and place them by using a function that tells you the height at any point on the terrain.  By using getting three heights, you can calculate the angle of the terrain in a particular area using a cross product, and use that to angle your objects if you wish.<br><br>It works pretty much the same way as the terrains in Blitz.  The system will not interfere with the rest of your program in any way.  It just makes the terrain appear on the screen.<br><br>To make the player walk over the terrain, just get the height at his current position, and move him up to it if he is below it.<br><br><br>It's far from perfect, and if I coded another system I might do things differently, but each method has its own limitations.  The method I chose here works pretty well, and is pretty easy to use.  Other methods would be a lot harder to use but might get you better looking results.<br><br><br>If you have not checked out the demo, you should.  And you can try out the tile texture stuff if you run in windowed mode so you can see the mouse and click on the terrain.  I don't remember the hotkeys for changing tile textures... pgup/dn I think... ... I think I either mention them in the demo, or on that page I linked to. <br><br></td></tr></table><br>
<a name="498781"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is it a lot faster than a blitz terrain? <br><br></td></tr></table><br>
<a name="498785"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Canali</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, and can handle much larger thanks to a LOD system. <br><br></td></tr></table><br>
<a name="498816"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> It can do a terrain of the same size as a Blitz terrain but with greater detail, or less detail at a higher speed, or the same detail with a greater view distance.  And in all cases it allows much greater texture detail. <br><br></td></tr></table><br>
<a name="499071"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Canali</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi SSwift, did u fix the gaps "problem" in it?<br>I tought it could be easy to you since it occurs just when meshes with different detail join.<br><br>I guess U cuold also improve it to support an "infinite" scrollable terrain to obtain something like Morrowind terrain.<br>No one did it and it could meke ur system much much more interesting for coders/buyers.<br><br>Cheers! <br><br></td></tr></table><br>
<a name="499088"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Canali:<br><br>No, I didn't.  There has never been enough interest in the system to justify making major changes.  I sell only one shareware license every two months.  Even if improving it doubled interest, that would still only be one sale per month.  Just not anywhere near enough to justify the massive amount of time and effort, given almost nobody is willing to pay more than $20 for my systems. :-)<br><br>Also, removing seams would be difficult, add a lot of complexity to the system, and change the way the system works drastically enough that certain people might find the way they want to use the terrain system no longer works.<br><br>My original plan was to adjust the vertices at the seams in realtime, but that turned out to be much too slow.  The only other possible way to fix them, would be to maybe make X copies of each tile, to handle each case of resolution difference in adjoining tiles.<br><br>In other words, one mesh for if the tile to the north is lower in resolution, one mesh for if it is higher in resolution, one mesh for equal in resolution.  Going all the way around the four sides, we find we need 16 different combinations, times 3... 48 different tiles, just to get rid of one set of seams around one tile! <br><br>So that method is unworkable.  There's already the apparent problem of too many meshes in video ram to contend with, so we don't want to compound that. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
