<!DOCTYPE html><html lang="en" ><head ><title >3D in red/blue filter glasses</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >3D in red/blue filter glasses</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >3D in red/blue filter glasses</a><br><br>
<a name="789324"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neochrome</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've seen this before, but i habven't actually had the time to work out my own version of this!<br>how would i go around this? <br><br></td></tr></table><br>
<a name="789358"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> use two cameras, one at every eyes position . Then render both (one by one). copy both renders to textures that are applied to quads that are aligned pixelperfect in front of the camera. One is fully opaque, the second is half transparent. Use entitycolor to get a greenish and a reddish quad. Then do a final render that contians only the two quads ( eg far off the scene). that's about it. Note some glasses use red/green, some red/blue and some red/green+blue. With entitycolor you can adust this easily.<br>It may also be nice to add a feature that allows to adjust the distance between the eyes.<br><br>EDIT: since speed is always an issue, I'd suggest to optimize the concept this way:<br>copy the first render to a texture, as described before. Then do the second render with a greenish empty quad in front of the camera, that will color the scene green. Included in this second render is also the first renders semitransparent, reddish quad.<br><br>This way you'll save the time it takes to copy one render to a texturebuffer. <br><br></td></tr></table><br>
<a name="789361"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> if you have a high enough sync (ie 120 for example or maybe less), you could just use one camera per frame. And just swap them everyframe, then do the filter thing <br><br></td></tr></table><br>
<a name="789371"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_33</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Question regarding your answer H&amp;K:  Isn't Blitz3D's refresh 60hz only?  Or could it be that my graphics driver selects 60hz in 3D mode by itself?  I haven't been able to have a Blitz3D app run in anything other than 60hz.<br><br>Testing refresh rate: <a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=2042" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=2042</a> <br><br></td></tr></table><br>
<a name="789375"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neochrome</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> hmm, gonna have to look into re-writing my game engine redering! lol... side project i guess<br><br>i've seen a demo of this before, but cant remember where or how it owuldbe found<br>(sorry for slow response... late here in ole england) <br><br></td></tr></table><br>
<a name="789383"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> @_33<br><br>Humm, Honestly, I dont know ;) <br><br>I use Bmax and a variaty of different engines, and was just anwsering on a theoretical level. If you say its 60 Limeted, Ill belive you.<br>(Ps, Im reading the B3D posts cos Im getting to grips with the sdk) <br><br></td></tr></table><br>
<a name="789405"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hertz depends on the cards settings (rate: 60Hz/normal/optimal) etc., as well as if you're using Flip 1 or Vwait:Flip 0.<br><br>What I wonder is: do the 2 cameras have to point to the same location, somewhere 10 yards in front of the player, or will they look straight forward in parallel lines? Or doesn't it matter at all? <br><br></td></tr></table><br>
<a name="789406"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> And Neochrome, BTW, no offence, those who can read are superior :P check this out:<br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=2008" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=2008</a><br>probaby there are more samples. <br><br></td></tr></table><br>
<a name="789494"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neochrome</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Lol.. this is kinda what i was looking for... cheers :) <br><br></td></tr></table><br>
<a name="789500"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would guess Parallel to each other. <br><br></td></tr></table><br>
<a name="789522"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >b32</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Some videodrivers support anaglypic glasses, for instance for nvidia, you can download stereoscopic drivers that should be able to do this. <br><br></td></tr></table><br>
<a name="789995"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bankie</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Unfortunately the nVidia 8 series is not yet supported by the stereoscopic drivers, but older cards should be fine. I recently bought 3D glasses from eDimensional, which work by alternating the image on the screen for left and right eyes, while simultaneously blacking out the relevant side of the glasses. They are interesting, but a pain to set up and a bit of a strain on the eyes. Oh, and they stopped working after a day. Other than that, they're great, though. <br><br></td></tr></table><br>
<a name="791540"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >El Neil</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> neochrome, let me know how you get on - i came onto the forum today to find out about the exact same thing as you did!<br><br>i have recently built a full-stereoscopic engine, as i am lucky enough to be at a uni with a VR lab and all the associated gubbins which uses polarised light for an extremely deep 3d effect without the need for any expensive glasses. its crazy! however, this cannot be achieved on a "normal" pc without the eye-straining glasses so i am looking into the red/green method instead.<br><br>neil <br><br></td></tr></table><br>
<a name="791546"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoeGr</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Having played around with various stereo methods in the past (including both anaglyph and LCD shutter glasses) I would suggest that polarized light is definitely the way to go. 'All you need' is an extra monitor and a sheet of half-silvered glass and you can build yourself something like this:<br><br><a href="http://www.aldous.net/photo/project08.htm" target="_blank">http://www.aldous.net/photo/project08.htm</a><br><br>And here's a slightly more elegant commercial version:<br><br><a href="http://www.planar.com/products/flatpanel_monitors/stereoscopic/index.html" target="_blank">http://www.planar.com/products/flatpanel_monitors/stereoscopic/index.html</a><br><br>EDIT: I just remembered where I originally found the links above. Here:<br><br><a href="http://forums.nvidia.com/index.php?s=d2f721a5312adf0fba8fc49b73c919a1&amp;showtopic=32547&amp;st=0" target="_blank">http://forums.nvidia.com/index.php?s=d2f721a5312adf0fba8fc49b73c919a1&amp;showtopic=32547&amp;st=0</a> <br><br></td></tr></table><br>
<a name="791556"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >b32</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Those links are very helpfull to me, too. Thanks a lot. <br><br></td></tr></table><br>
<a name="792300"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Madcap13</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I actually did this ages ago. Except I was way cheap.<br>Instead of going through the trouble of blending the<br>red and green/blue/whatever together, I did this.<br><br>I made an image the same size as the current screensize and it was dithered black and that bright pink<br>color,&lt;255,0,255&gt;.<br>Firstly I made the black transparent and I pasted it over<br>one of the colored cameras. Red, I think.<br>Then I grabimaged that screen and made the &lt;255,0,255&gt; transparent.<br>Then I pasted it over the green/blue camera shot.<br><br>Then voila! Cheap ass 3d goggle imagery. I remember it being pretty darn fast too. <br><br></td></tr></table><br>
<a name="793011"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jonathan Nguyen</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> This probably won't help but might be something fun.<br><br>I wrote this for Mechanized Warfare, it's a simple function that takes a 3D (red-cyan) screenshot using brute force. Just call the function in your loop after RenderWorld with the key scancode you want for your equivalent PrintScreen and plug in the appropriate values (depends on your world scale).<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
; // Screen Shot 3D
Function ScreenShot3D(Key,eyeDist#,focusRange#,grayscale=False,saveEyes=False)
	If KeyHit(Key)=True
		t=0
		Repeat
			t=t+1
			If t&lt;10 Then scr_t$="00"+Str$(t)
			If t&gt;=10 And t&lt;100 Then scr_t$="0"+Str$(t)
			If t&gt;=100 And t&lt;1000 Then scr_t$=Str$(t)
			file=ReadFile("screen3d"+scr_t$+".bmp")
			If Not file=0 Then CloseFile file Else Exit
		Until t=&gt;1000
		; Create Buffers
		tLeft=CreateImage(GraphicsWidth(),GraphicsHeight())
		tRight=CreateImage(GraphicsWidth(),GraphicsHeight())
		tFinal=CreateImage(GraphicsWidth(),GraphicsHeight())
		; Render Left Eye
		tCamPoint=CreatePivot()
			PositionEntity tCamPoint,EntityX#(camera)-(Sin(EntityYaw#(camera))*Sin(EntityPitch#(camera)+90)*focusRange#),EntityY#(camera)+(Cos(EntityPitch#(camera)+90)*focusRange#),EntityZ#(camera)+(Cos(EntityYaw#(camera))*Sin(EntityPitch#(camera)+90)*focusRange#)
		tCamX#=EntityX#(camera)
		tCamZ#=EntityZ#(camera)
		tCamAY#=EntityYaw#(camera)+90
		PositionEntity camera,tCamX#-(Sin(tCamAY#)*eyeDist#),EntityY#(camera),tCamZ#+(Cos(tCamAY#)*eyeDist#)
		PointEntity camera,tCamPoint
		RenderWorld
		CopyRect 0,0,GraphicsWidth(),GraphicsHeight(),0,0,BackBuffer(),ImageBuffer(tLeft)
		If saveEyes=True Then SaveBuffer ImageBuffer(tLeft),"screen3d_lefteye"+scr_t$+".bmp"
		; Render Right Eye
		PositionEntity camera,tCamX#-(Sin(tCamAY#)*-eyeDist#),EntityY#(camera),tCamZ#+(Cos(tCamAY#)*-eyeDist#)
		PointEntity camera,tCamPoint
		RenderWorld
		CopyRect 0,0,GraphicsWidth(),GraphicsHeight(),0,0,BackBuffer(),ImageBuffer(tRight)
		If saveEyes=True Then SaveBuffer ImageBuffer(tRight),"screen3d_righteye"+scr_t$+".bmp"
		; Draw 3D Image
		LockBuffer ImageBuffer(tLeft)
		LockBuffer ImageBuffer(tRight)
		LockBuffer ImageBuffer(tFinal)
		If grayscale=True
			For x=0 To GraphicsWidth()-1
				For y=0 To GraphicsHeight()-1
					BitToComponent(ReadPixelFast(x,y,ImageBuffer(tLeft)))
					tR=(B2Cr+B2Cg+B2Cb)/3.0
					BitToComponent(ReadPixelFast(x,y,ImageBuffer(tRight)))
					tG=(B2Cr+B2Cg+B2Cb)/3.0
					tB=(B2Cr+B2Cg+B2Cb)/3.0
					WritePixelFast x,y,ComponentToBit(tR,tG,tB),ImageBuffer(tFinal)
				Next
			Next
			Else
			For x=0 To GraphicsWidth()-1
				For y=0 To GraphicsHeight()-1
					BitToComponent(ReadPixelFast(x,y,ImageBuffer(tLeft)))
					tR=B2Cr
					BitToComponent(ReadPixelFast(x,y,ImageBuffer(tRight)))
					tG=B2Cg
					tB=B2Cb
					WritePixelFast x,y,ComponentToBit(tR,tG,tB),ImageBuffer(tFinal)
				Next
			Next
		EndIf
		UnlockBuffer ImageBuffer(tLeft)
		UnlockBuffer ImageBuffer(tRight)
		UnlockBuffer ImageBuffer(tFinal)
		SaveBuffer ImageBuffer(tFinal),"screen3d"+scr_t$+".bmp"
		; Free Buffers
		FreeEntity tCamPoint
		FreeImage tLeft
		FreeImage tRight
		FreeImage tFinal
	EndIf
End Function
</textarea> <br><br></td></tr></table><br>
<a name="793048"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >El Neil</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Madcap, I toyed with the idea of masking occasional pixels for each eye when i was doing the polarised light engine, but how did you set up your cameras for the the red/green version? did you have them rendering side by side, or overlaid? did you have to put red/green filters on the camera "lenses"? if so, how?<br><br><br>thanks,<br><br>Neil <br><br></td></tr></table><br>
<a name="793274"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Madcap13</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> well, I... &lt;thinks back&gt;<br>I had two cameras. I think they were children of a pivot,<br>which I would rotate, etc.<br>For the red/greeness, I had a box which fit around<br>both cameras. It was full-bright, etc.<br>If I wanted a red camera shot, I'd turn the box red<br>then render.<br>If I wanted a green camera shot, I'd turn the box green<br>then render.<br>I changed the boxes entityorder, so that it would always<br>be rendered in front of everything else.<br>I changed the entityblend for it so it would blend subtractively.<br><br>pretty simple really. :) <br><br></td></tr></table><br>
<a name="793330"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >El Neil</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> brilliant, thank you<br><br>i tried it with 2 sprites, red and green, turning them on/off to get the different colors. however, the dithered image was appearing through the sprites, cos i didnt use entityorder.<br><br>will try this now. thanks again<br><br>neil <br><br></td></tr></table><br>
<a name="816035"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey Johnathan you forgot to include the BitToComponent and ComponentToBit functions.  :( <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
