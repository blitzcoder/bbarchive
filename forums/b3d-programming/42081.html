<!DOCTYPE html><html lang="en" ><head ><title >Console Question</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Console Question</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Console Question</a><br><br>
<a name="471712"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Conan</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey, i'm doing this game, and i figured it'd be a lot easier to modify it form inside the game, so i thought i'd build a console into it... and i made a complete fiasco. Does someon know how to make a console work out in a 3d game (preferably with a hide/show console thing) <br><br></td></tr></table><br>
<a name="471731"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> probably you should collect all Keystrokes by using inkeys$ at the end of the loop, filter them and add all legal characters to a virtual input-string until the user hits enter. Then you'd interpret this string. Meanwhile all you have to do is to write the string to the screen corner.<br><br>This method allows to navigate/play and use the console at the same time and won't pause the game when you want to enter something. <br><br></td></tr></table><br>
<a name="471734"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Conan</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> geez, sounds so easy... thanks, man... <br><br></td></tr></table><br>
<a name="471867"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlackD</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok.. want an example? :)<br><br><a href="http://blitz.geek.nz/test.zip" target="_blank">http://blitz.geek.nz/test.zip</a><br><br>This is a WORKING example from a program I'm writing at the moment, source included. The main two features which are what you will need to incorporate:<br>- The drop-down console.. its very customised for exactly what I want, but reading console.bb will give you a clear hint of how it all works.<br>- A CVAR system. You'll need to write your program using a CVAR system if you want to be able to change values via a console. (Unless you want to write a function for every possible console command).<br><br>For the CVAR system, read CVAR.BB to see how the cvar's are created, and the CVAR routine at the bottom of FUNCTIONS.BB.<br><br>With CVARs (Custom VARiables), you'll need to write changes to the code to reflect it.. so rather than having:<br><b>LightColor Light,Red,Green,Blue</b><br>you'd have<br><b>LightColor Light,Cvar("red"),Cvar("green"),Cvar("blue")</b><br>and you'd be able to change the values RED GREEN and BLUE via console simply by typing them and a number. Note: the cvars have to be defined in CVAR.BB with a default value. Or, you could re-write the CVAR() function to create a new cvar every time one that doesn't exist is called. :)<br><br>Ok, next - not all the console commands are there yet, or not yet perfected. HELP isn't there, for instance. :)<br><br>here are some examples:<br>"CVARLIST" lists all cvars.<br>"CVARLIST A" lists all cvars starting with A<br>"CVARLIST LI" lists all cvars starting with LI (get the drift ;))<br>"FOG_RED" lists the current and default values for FOG_RED<br>"FOG_RED 2" sets the value of FOG_RED (for instance) to 2<br>"FOG_RED DEF" sets the value back to default.<br>"FOG_RED DEFAULT" as above.<br><br>changing things like map_width will result in a crash. ;) Don't touch that yet. :) This is just do show you how it works. Hope this helps. :) Lots of code to wade through there..<br><br>+BlackD <br><br></td></tr></table><br>
<a name="471872"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wizzlefish</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was thinking about this earlier today. <br><br></td></tr></table><br>
<a name="472051"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Conan</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey, BlackD, i liked you console thing, but it came a bit late... I'd worked it out with some crappy code...<br>Anyway, i forgot to mention that i don't want the console for that game, just that the problem came up while i was doing the game<br>I actually want it to make a sort of Dynamic Blitz, like, instead of having to run the program, then exit the program, change the code, run the program... you can just code from inside the program. It also generates a source code which should work (but not yet gotten there) and can also be used to do scripting.<br><br>Well, that's basically it.<br><br>-Conan<br><br>P.S. Thanx to all of you! <br><br></td></tr></table><br>
<a name="472076"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> what aboot that virtual blitz machine  proggy? ive never used it but hey it sounds pretty amazing <br><br></td></tr></table><br>
<a name="674078"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Progi1984</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> @BlackD, you file test.zip is not downloadable. Can you put online again ? <br><br></td></tr></table><br>
<a name="674322"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's a simple example:<br><br><pre class=code>
legal$="qwertzuiopasdfghjklyxcvbnm,.-;:_1234567890?+*£$%&amp;/()= "+chr$(34)
user$=""

; game mainloop:
while keydown(1)=0
 ;...
 k=Getkey()
 if k&lt;&gt;0
  if instr(legal$,lower$(chr$(k)))&gt;0
   user$=user$+lower$(chr$(k))
  endif
  if k=13
   if user$="god" then godmode=1
   if user$="fly" then ghostmode=1
   if user$="end" then end
   user=""
  endif
 endif
 ; ...
 renderworld()
 text 0,graphicsheight()-stringheight("X"),user$
 flip
wend
</pre> <br><br></td></tr></table><br>
<a name="676352"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ked</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have a question on how you did that example... <br>what does the <br><br>If k = 13 <br><br>     mean? I know I should know what this means<br>but hence the question at the beginning. Thanks <br><br></td></tr></table><br>
<a name="676368"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> k=Getkey() will store the Ascii Number of the previously pressed key (Or zero if no key was hit)in k. The value 13 is used by the key "Return", the carriage return. So you can "send" a line with return. Of course, this simple example doesn't contain any backspace, del, insert etc. capabilities.<br><br>For info on ascii codes search for "ascii list" at google. Ascii is not the same as Scancode (used by KeyHit()). Where Keyhit and Keydown may sometimes return false results due to country specific keyboard layouts, GetKey() will always return the true ascii key. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
