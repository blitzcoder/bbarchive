<!DOCTYPE html><html lang="en" ><head ><title >Pause an animation?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Pause an animation?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Pause an animation?</a><br><br>
<a name="467987"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fall_x</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>In my game I'm making, sometimes I need to open a menu. In this menu, it is necessary to still call updateworld because things can change, however all animations should be stopped because the game is paused when the menu is open.<br><br>I think I can stop the animation with SetAnimTime entity,AnimTime(entity), but how do I restart it at the correct speed (because my entities animate at different speeds)? And can I loop trough all entities somehow? Or do I need to loop trough all my types that have entities?<br><br>Maybe a "wrapper-type" would do the trick, PauseableEntity, that contains the entity and the speed it was moving at, but reprogramming my entire game to use this would take too long.<br><br>Any ideas?<br><br>Thanks. <br><br></td></tr></table><br>
<a name="468310"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> why should this take too long? simply wrap the Animate Command and use a custom function to store the Speed parameter. So you can use the Editors Replace tool and replace Animate by My_Animate or something, then create a function My_Animate:<br><br>function My_Animate(mesh,speed,mode)<br>; store the speed etc.<br>; then start the animation as usual<br>end function <br><br></td></tr></table><br>
<a name="469033"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fall_x</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the reply.<br><br>I wrote this quick-and-dirty solution, maybe anyone is interested...<br><br>When you call AnimStart or AnimStop, an instance of type Anim is searched for the entity, if it is not found it is created... The instance stores the speed and the mode.<br><br>Use PauseAnims to pause all animations that were started with AnimStart, and use ResumeAnims to resume them.<br><br>Ta da :<br><br><br>Type Anim<br>	Field entity<br>	Field speed#<br>	Field mode%<br>End Type<br><br>Function AnimStart(entity,mode%,speed#)<br>	an.Anim=Null<br>	For a.Anim=Each Anim<br>		If a\entity=entity Then<br>			an=a<br>			Exit<br>		End If<br>	Next<br>	If an=Null Then<br>		an.Anim=New Anim<br>		an\entity=entity<br>	End If<br>	an\speed=speed<br>	an\mode=mode<br>	Animate entity,mode,speed<br>End Function<br><br>Function AnimStop(entity)<br>	an.Anim=Null<br>	For a.Anim=Each Anim<br>		If a\entity=entity Then<br>			an=a<br>			Exit<br>		End If<br>	Next<br>	If an=Null Then<br>		an.Anim=New Anim<br>		an\entity=entity<br>	End If<br>	an\mode=0<br>	an\speed=0<br>	Animate entity,0<br>End Function<br><br>Function PauseAnims()<br>	For a.Anim=Each Anim<br>		SetAnimTime a\entity,AnimTime(a\entity)<br>	Next<br>End Function<br><br>Function ResumeAnims()<br>	For a.Anim=Each Anim<br>		If a\mode=0 Then<br>			Animate a\entity,0<br>		Else<br>			Animate a\entity,a\mode,a\speed<br>		End If<br>	Next<br>End Function <br><br></td></tr></table><br>
<a name="470565"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fall_x</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok, actually, this doesn't work, because when I restart the paused animation with animate, it is restarted... so I can easily pause an animation with setanimtime, I have no idea how to resume it.<br>any suggestions? <br><br></td></tr></table><br>
<a name="470567"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Use 'UpdateWorld(0)' if you don't want to update animation. <br><br></td></tr></table><br>
<a name="470568"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fall_x</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
