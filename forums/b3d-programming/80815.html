<!DOCTYPE html><html lang="en" ><head ><title >Vector Help</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Vector Help</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Vector Help</a><br><br>
<a name="909637"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Knight #51</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> What is a vector? Please, if you can, explain it in low-level-detail. <br><br></td></tr></table><br>
<a name="909638"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's a geometric entity with both length and a direction. It's usually visualized as a straight line with an arrow on the end.<br><br><a href="http://en.wikipedia.org/wiki/Euclidean_vector" target="_blank">http://en.wikipedia.org/wiki/Euclidean_vector</a> <br><br></td></tr></table><br>
<a name="909640"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Knight #51</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, thanks. So what's the deal with align to vector then? Could you give me an example? <br><br></td></tr></table><br>
<a name="909642"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Knight #51</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Better yet.....could you just explain this part of the 'driver' demo.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
	;align car to wheels
	zx#=(EntityX( wheels[2],True )+EntityX( wheels[4],True ))/2
	zx=zx-(EntityX( wheels[1],True )+EntityX( wheels[3],True ))/2
	zy#=(EntityY( wheels[2],True )+EntityY( wheels[4],True ))/2
	zy=zy-(EntityY( wheels[1],True )+EntityY( wheels[3],True ))/2
	zz#=(EntityZ( wheels[2],True )+EntityZ( wheels[4],True ))/2
	zz=zz-(EntityZ( wheels[1],True )+EntityZ( wheels[3],True ))/2
	AlignToVector car,zx,zy,zz,1,.2
	
	zx#=(EntityX( wheels[1],True )+EntityX( wheels[2],True ))/2
	zx=zx-(EntityX( wheels[3],True )+EntityX( wheels[4],True ))/2
	zy#=(EntityY( wheels[1],True )+EntityY( wheels[2],True ))/2
	zy=zy-(EntityY( wheels[3],True )+EntityY( wheels[4],True ))/2
	zz#=(EntityZ( wheels[1],True )+EntityZ( wheels[2],True ))/2
	zz=zz-(EntityZ( wheels[3],True )+EntityZ( wheels[4],True ))/2
	AlignToVector car,zx,zy,zz,3,.2
</textarea> <br><br></td></tr></table><br>
<a name="909643"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Essentially, that is using the position of each of the wheels to calculate a vector which runs from one wheel to another. It then aligns the body of the car so that it matches that vector. Or in even simpler terms, it finds out where the wheels are and lines the body up so that it "fits" on top of them. <br><br></td></tr></table><br>
<a name="909713"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Vectors can be used for, a basic example, asteroids, or more complicated, a collision.<br><br>In the game asteroids, the ship has a speed, and a direction it's going in.<br><br>A vector can be normalised because 0 and 1. You can obtain something like a vector, be plugging an angle value (the direction your space craft is travelling), into SIN and COS<br><br>eg,<br><br>speed = 2<br>angle = 25<br><br>x_move = cos(angle) * speed<br>y_move = sin(angle) * speed<br><br>x_pos = x_pos + x_move<br>y_pos = y_pos + y_move<br><br>oval x_pos, y_pos, 2, 2<br><br>will draw an oval, travelling at an angle of 25, and moving at a speed of 2. It will basically move 2 pixels per frame. That would be a basic example of a vector. <br><br></td></tr></table><br>
<a name="909758"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Knight #51</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool Ross C. So gabriel, when you said <div class="quote"> that is using the position of each of the wheels to calculate a vector which runs from one wheel to another. <br></div> What does zx,zy,and zz mean? (what is their abbreviation), and possibly could you explain the parameters of AlignToVector in detail? <br><br></td></tr></table><br>
<a name="909999"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Please answer that one, because i'm still unsure about what that does too. <br><br></td></tr></table><br>
<a name="910058"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Aligntovector has the x y and z of the first point and the x y and z of the second point so remember a little arrow between those two points.  Then imagin the shape and its x axis  if you make the last parmenter 1 (i think) it will align the x axis and the shape to the line I told you to remember.<br><br>hope this helped :) <br><br></td></tr></table><br>
<a name="910169"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Knight #51</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think it helped :| So with the<br> <pre class=code>zx#=(EntityX( wheels[2],True )+EntityX( wheels[4],True ))/2
zx=zx-(EntityX( wheels[1],True )+EntityX( wheels[3],True ))/2
</pre><br><br>AlignToVector stores that calculation/proceedure and uses it to make a vector? <br><br></td></tr></table><br>
<a name="910173"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> zx,zy,zz is a vector. <br><br></td></tr></table><br>
<a name="910175"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Knight #51</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh. Thanks big10p. <br><br></td></tr></table><br>
<a name="910177"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> In each step, Mark totals the X, Y and Z positions of two wheels and divides by two. In other words, he finds the average position of two wheels. He does this because there are two sets of wheels on a car. <br><br>For example, let's do the tilting from left to right. You have the front axis, which has the left-front and right-front wheels on it. But you also have the back axis. You can't really align the car to only one - the back wheels would be off the ground if you align it to the front wheels - so in order to find the best alignment, you calculate the average between the two.<br><br>Each component is calculated separately. I have no idea why he prefixes everything with z, but zx, zy and zz are the x, y and z components of the vector.<br><br>Now you also asked to explain precisely what the AlignToVector command does? It takes the axis you specify in the fourth parameter ( x, y or z ) and orients the entity so that the axis you specify is pointing along the line of the vector you pass as the first three parameters.<br><br>Again, an example. Let's suppose you have a missile, and it's modelled such that it points down the Z axis. If you now say<br><br>AlignToVector(1,0,0,3)<br><br>Your vector is (1,0,0) so it points to the right. Your axis is the z axis. It now aligns your missile so that the z axis points along that vector, which is also equivalent to the xaxis.  So now your missile, which was pointing down the z axis ( into the screen ) is now pointing along the x axis ( to the right. )<br><br>That's as well as I can explain it without pictures. <br><br></td></tr></table><br>
<a name="910212"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice one :o) <br><br></td></tr></table><br>
<a name="910286"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Knight #51</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks :) <br><br></td></tr></table><br>
<a name="910305"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pongo</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> here is another simple example of aligning car wheels. hopefully it does not add confusion.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Graphics3D 640,480,0,2
SetBuffer BackBuffer()
SeedRnd MilliSecs()
HidePointer 

Global rfheight#,rrheight#,lfheight#,lrheight#

;create body object
Global body = CreateCube()
ScaleEntity body,5,1,8

;create "wheel" objects
Global lr = CreateWheel(255,0,0) 
Global lf = CreateWheel(0,255,0) 
Global rr = CreateWheel(0,0,255) 
Global rf = CreateWheel(0,255,255) 

randomwheelheights()

;create camera And a pivot To rotate around
piv=CreatePivot()
cam = CreateCamera(piv)
PositionEntity cam,0,50,-200
PointEntity cam,piv
CameraZoom cam,15

sptlight=CreateLight()
RotateEntity sptlight,40,0,0

;#################################################################################
While Not KeyHit(1) ; start main loop
	TurnEntity piv,0,MouseXSpeed(),0 ; turn masterpivot based on mouse x movement
	MoveMouse 320,240 ; center cursor

	If KeyHit(57) Or MouseHit(1) Then randomwheelheights()
	
	alignbody()

	UpdateWorld()
	RenderWorld()
	
	Text 10,10,"hit space or mouseclick to randomize wheel heights. mouseX rotates camera"

	Flip
	Cls
Wend ; end main loop
;#################################################################################
End ; end program

Function CreateWheel(red,green,blue)
temp = CreateCylinder()
EntityColor temp,red,green,blue
RotateEntity temp,90,90,0
ScaleEntity temp,2,1,2
Return temp
End Function 

Function randomwheelheights()
	PositionEntity lr,-4,Rnd(0.0,4),-5
	PositionEntity lf,-4,Rnd(0.0,4),5
	PositionEntity rr,4,Rnd(0.0,4),-5
	PositionEntity rf,4,Rnd(0.0,4),5
End Function

Function alignbody()
	;align car to wheels
	;first get vectors and align for right to left (x axis)
	zx#=(EntityX( rf,True )+EntityX( rr,True ))/2 - (EntityX( lf,True )+EntityX( lr,True ))/2
	zy#=(EntityY( rf,True )+EntityY( rr,True ))/2 - (EntityY( lf,True )+EntityY( lr,True ))/2
	zz#=(EntityZ( rf,True )+EntityZ( rr,True ))/2 - (EntityZ( lf,True )+EntityZ( lr,True ))/2
	AlignToVector body,zx,zy,zz,1,1
	
	;now get vectors and align for front to back (z axis)
	zx#=(EntityX( lf,True )+EntityX( rf,True ))/2 - (EntityX( lr,True )+EntityX( rr,True ))/2
	zy#=(EntityY( lf,True )+EntityY( rf,True ))/2 - (EntityY( lr,True )+EntityY( rr,True ))/2
	zz#=(EntityZ( lf,True )+EntityZ( rf,True ))/2 - (EntityZ( lr,True )+EntityZ( rr,True ))/2
	AlignToVector body,zx,zy,zz,3,1
	
	bodypos=((EntityY(rf)+EntityY(lf)+EntityY(lf)+EntityY(lr)) / 4)+3 ; average height of wheels + offset height
	PositionEntity body,0,bodypos,0
End Function
</textarea> <br><br></td></tr></table><br>
<a name="910401"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Knight #51</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, it's starting to help ALOT =) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
