<!DOCTYPE html><html lang="en" ><head ><title >A idea on howto dx9 in blitz</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >A idea on howto dx9 in blitz</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >A idea on howto dx9 in blitz</a><br><br>
<a name="427425"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
Graphics3D 640,480,16,2

Cube=CreateCube()
camera=CreateCamera()
MoveEntity camera,0,0,-20

RenderWorld
Flip

Repeat
Until KeyDown(1)


Function RenderWorld()
Print "hehehe! this is done instead of the rendering!"
Print "now, if you write a CallDll command to interface with dx9 rendering here..... ;)"
End Function
</pre><br><br>Now, itd be a lot of work, but isnt it possible to re-wrap the current blitz commands to DX9 like this?<br><br>Renderworld could be wrapped to call the dx9 version using a dll call etc etc etc<br><br><br>I dont have knowledge to actually do this so i may be totally wrong, but would anyone out there be able to do it? youd be the blitz saveour! <br><br></td></tr></table><br>
<a name="427429"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, you're totally wrong. Blitz is tied to DirectX, so you can't just rewrite your chosen commands, you have to write a complete engine and it's far more complex than simply "wrapping" dx commands anyway, since Blitz doesn't use DX commands, DX does not load b3d's, and Blitz's lack of pointers, callbacks and certain data types means there's a lot of intermediate work to be done.<br><br>Just be patient and wait for Drago's DX9 engine. <br><br></td></tr></table><br>
<a name="427430"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> oooh, ^.^ see, i thought all the extra stuff would be done via a DLL, but yup. i was totally wrong and thanks for enlightening me..<br><br>Dragos dx9 engine.... *drooool* woohoo ^.^ <br><br></td></tr></table><br>
<a name="427533"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sweenie</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you feel like giving it a go yourself, check the recent wrappertutorial I made under the tutorials section.<br>It renders a teapot to the blitzwindow using dx9. <br><br></td></tr></table><br>
<a name="427553"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> well, its something to play with, isnt it ^.^<br><br>i still think it might be possible to wrap the blitz commands to something written in c++ as an upgrade. duno if thatd be slow.. IM just thinking out loud realy :D <br><br></td></tr></table><br>
<a name="427569"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ckob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> ive been playing with wrapping directx 9 and its a biaaatch really is hard :P <br><br></td></tr></table><br>
<a name="427573"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> well, i cant wait for one to be finished :) <br><br></td></tr></table><br>
<a name="427596"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ckob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> well I wanted to try and start a community project to do this but I dont think it would have enough intrest and Im no god in c++ so I wouldnt be able to do much. <br><br></td></tr></table><br>
<a name="427607"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> wouldnt have enough INTEREST? youre kidding, right?<br>it would convert blitz to dx9.<br>it would SAVE blitz from its aging era....<br><br><br>Right now, im looking at my current project and its feeling old.. it realy is...<br>this would be a fun idea to do! <br><br></td></tr></table><br>
<a name="427664"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SSS</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> i started a dx9 engine for blitz... got it to the point where you could make meshes manually... and then the all the bmax stuff came so i stopped it tho im getting interested in starting to work on it again casually if there is interest. so far you can write the code like this <br><pre class=code>
SetEnvironment 1

DirectGraphics3D 800,600,32,False
hMesh = DirectCreateMesh()
hSurface = DirectCreateSurface(hMesh)
DirectAddVertex hSurface,-1.0,-1.0,0.0,0.0,1.0
DirectAddVertex hSurface,1.0,-1.0,0.0,1.0,1.0
DirectAddVertex hSurface,1.0,1.0,0.0,1.0,0.0
DirectAddVertex hSurface,-1.0,-1.0,0.0,0.0,1.0
DirectAddVertex hSurface,1.0,1.0,0.0,1.0,0.0
DirectAddVertex hSurface,-1.0,1.0,0.0,0.0,0.0
DirectVertexColor hSurface,1,255,0,0
DirectVertexColor hSurface,2,0,255,0
DirectVertexColor hSurface,3,0,255,255
DirectVertexColor hSurface,4,255,0,0
DirectVertexColor hSurface,5,0,255,255
DirectVertexColor hSurface,6,255,255,0
DirectMeshStatic hMesh,False 

hTexture = DirectLoadTexture("Chorme-2.bmp")
DirectTextureSurface hSurface, hTexture


DirectClsColor 0,0,255
While Not KeyDown(1)
	DirectCls
	DirectBegin3D 
	DirectRenderWorld 
	DirectEnd3D
	DirectFlip
Wend

DebugLog RenderTime
DirectCleanUp
WaitKey
</pre><br>if anyone wants the C++ just e-mail me at schoenhs_at_yahoo_dot_com and i'll send it to you since i most likely wont finish <br><br></td></tr></table><br>
<a name="427680"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ckob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> by not enogh intrest I meant in the project, its alot of work and I know alot of people can't or wont dedicate their time to something of this size. <br><br></td></tr></table><br>
<a name="427690"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> that looks very, very nice...<br><br>and @ckob i know, but i realy want dx9 ^.^ <br><br></td></tr></table><br>
<a name="427938"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sweenie</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> My teapot is now rendered by Hemispherelighting using a vertex&amp;pixelshader.<br>What I have a problem with now is the damn matrices.<br>I thought I would let blitz handle the movement of the meshes and therefor only pass their matrices to the dx renderer using GetMatelement.<br>But no matter how I try I can't get it to work properly.<br>For instance.<br>If I create a camera(or pivot) in blitz and move it to position 0,0,-5 the camera is looking towards the center.<br>Now if I pass the GetMatElement values to the dxrenderer it seems it looks the other way.<br>Because if I position the camera(pivot) at 0,0,5 , then I can see the center(I have the teapot positioned at the world center).<br>I saw in another thread that blitz use 3x4 matrices so I figured that I only had to fill in the fourth column myself.<br>Like this:<br>0.0<br>0.0<br>0.0<br>1.0<br><br>And if I keep the camera in a fixed position(hardcoded in the renderer) and try to move the teapot instead it get's stretched diagonally(Not the place in the Harry Potter books ;p ).<br><br>Any matrixwizards out there who can shed some light on this? <br><br></td></tr></table><br>
<a name="428074"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Michael Reitzenstein</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Yes, you're totally wrong. <br></div><br>No, he's not. You can override native functions in Blitz, and if you Include "DirectX9.bb", you can do a wrapper just like this. <br><br></td></tr></table><br>
<a name="428462"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sweenie</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ignore my matrixproblem in the post above.<br>I solved it. <br><br></td></tr></table><br>
<a name="428479"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Good work sweenie<br><br>@Michael: So i am right? if it wraps everything down to even adding more commands... and rewriting the loading routines i suppose (bummer)... <br><br></td></tr></table><br>
<a name="428482"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Michael Reitzenstein</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can do it like this, but you have to write an *entire* renderer. It's a lot of work. <br><br></td></tr></table><br>
<a name="428890"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes, i know youd have to write the renderer, (as in, the wrapping of the blitz renderer)<br><br><br>As cool as this would be, it would be a little (only) easier than rewriting blitz. lol<br><br>Itd be nice if this was done, but lets see what comes of the dx9 extras coming soon :) <br><br></td></tr></table><br>
<a name="428956"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ckob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> yeah its less work writing a wrapper for dx9 :) the stuff ive managed to wrap was thanks to sweenies example.  There is an open source GL wrapper floating around as well. <br><br></td></tr></table><br>
<a name="429650"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> personally, i dont know if ive said this before, but i think we need a dx9 for b3d before blitzmax comes out- to prevent b3d from dying. I cant afford to get blitzmax as soon as id want (yes im very skint. i rarely have more than £30 to my name).<br><br>DAMN i want bmax.. and DAMN i also wand dx9 in b3d.... <br><br></td></tr></table><br>
<a name="429701"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ckob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> well its to my understanding blitzmax wont even have directx but opengl so anything directx specific u want wont even be there <br><br></td></tr></table><br>
<a name="429798"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes, of course, should have thought of that.....<br>but say, you would write a dx renderer, wouldnt you? :D<br><br>of course, the GL aspect is rock cool.<br><br>Lets avoid the bmax subject here :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
