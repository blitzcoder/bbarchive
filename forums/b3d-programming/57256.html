<!DOCTYPE html><html lang="en" ><head ><title >trying to get decal lighting working.... need help</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >trying to get decal lighting working.... need help</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >trying to get decal lighting working.... need help</a><br><br>
<a name="636480"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kalisme</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> okay, my last post wasn't really meant to be about decal lighting... but I guess I sort of made it sound like it was... oh well... this one's just about decal lighting<br><br>I was playing around with texture and mesh blending... I had 2 meshes...(both were just flat square plains) the first one was meant to represent the wall of a level (so I textured it like your average wall) the second was the lighting... it had two textures...<br>the first texture was of a face lightmap (I just used the spotlight effect on a blank image in photoshop) and the other was a scaled down moveable texture (using "positiontexture") which was just a black texture with another spotlight effect on it to lighten the middle.<br><br>anywho, I actually got the second texture to subtract from the fisrt... then that mesh was ontop of the other one making it look like basic quake decal lighting...<br><br>I had to set up the meshes and textures like:<br>EntityBlend tile1,1    &lt;-first mesh<br>EntityBlend tile2,2    &lt;-second mesh<br><br>TextureBlend tex1,1    &lt;-wall texture<br>TextureBlend tex2,2    &lt;-lightmap texture<br>TextureBlend tex3,3    &lt;-flashlight texture<br><br>EntityTexture tile1,tex1<br>EntityTexture tile2,tex2,0,1<br>EntityTexture tile2,tex3,0,2<br><br>now... here's my problem.... I want this effect for decal lighting.... but to even start to do this... I'd need to have a mesh with 2 vertex texture location setups but acting as a single surface... (if that makes sense...)<br><br>is that even possible?<br>can anyone help?<br>does any of this make sense? (I'm bad at explaing this sort of thing)<br><br>thanks for reading <br><br></td></tr></table><br>
<a name="636541"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> vertex texture ocation setup? Probably you mean a UV Set?<br><br>A surface may have up to 2 UV sets. If your mesh has multiple textures on layer 1 (tex1) then it will also have multiple surfaces, where the lightmap texture may be used by all those brushes as the 2nd UV Set/Layers texture.<br><br>However, if you can manage it to use only one texture (eg. by using 4*4 tiles on a 1024*1024 texture instead of 16 individual textures), you'll have one single surface. <br><br>Tho I'm not sure if this is really what you want. I think you'd rather need a third UV set for your decal light. Probably it would be better to use a number of sprites to create a mini-patch similar to sswifts shadow system, to be textured by the decal texture in addional blendmode.<br><br>One way would be to store the vertex and triangle information of the mesh in an array at startup, then in the mainloop you'll check what vertices are inside the light volume, then assemble a clone of that part of the mesh and texture it the way you want. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
