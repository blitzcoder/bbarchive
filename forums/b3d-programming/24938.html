<!DOCTYPE html><html lang="en" ><head ><title >terrain lighting problem</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >terrain lighting problem</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >terrain lighting problem</a><br><br>
<a name="258676"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >abacadabad</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi everyone,<br>I have a terrain with 3 layers of textures (A main map spread over the whole terrain, a detail map and a lightmap for the detail textures (so they only are shown on particular patrs of the map)). It looks good, but when I change the ambient lighting the area that has detail is the only place that is affected, with the main texture not covered by detail remaining full brighness...I checked through and through, and cant seem to find the problem. Any help wuold be greatly appreciated, <br>Thanks :-)<br><br><br>tex2 = LoadTexture( "detail.bmp")<br>ScaleTexture tex2,6,6<br>grass=LoadTexture( "base2.bmp")<br>ScaleTexture grass, 1024,-1024<br>tex66=LoadTexture( "rock.bmp")<br>ScaleTexture tex66, 512,512<br>TextureBlend grass,3<br><br>terrain2=LoadTerrain ("heightmapa.bmp") <br> ScaleEntity terrain2, 0.5,8,0.5 <br><br> PositionEntity terrain2,0,7,0<br>TerrainShading terrain2, True<br>EntityTexture terrain2,tex2,0,0<br>EntityTexture terrain2,grass,0,1<br>EntityTexture terrain2,tex66,0,2 <br><br></td></tr></table><br>
<a name="259448"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sunteam Software</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> What happens if you remove the texture blend on the grass? Just thinking that your using mul blending for detail, add blending for grass and then mul blending again for rock, in that order on the mesh. It might be this combination is causing areas of the resulting output to have reached a threshold level which might be visually ineffective under ambient light changes. <br><br></td></tr></table><br>
<a name="259641"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >abacadabad</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I removed the grass blend, it the whole map was covered with the detail texture (grass) with the lightmapped areas still affected. I then tried EntityColor terrain2, 10,10,10 and again the only area affected was the area used by the lightmap, as if it seems to only address these areas. The "insaner" multitexturing demo is the same way, you cant change the ambient lighting at all so im guessing its the same problem. <br><br></td></tr></table><br>
<a name="260486"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sunteam Software</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> What gfx card do you have? Drivers? <br><br></td></tr></table><br>
<a name="261190"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >abacadabad</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> A Pentium 4 2Ghz, with NVIDA RIVA TNT graphics card. If it possible to change the ambient lighting on the Insaner demo on other computers, then it could just be my PC set up... <br><br></td></tr></table><br>
<a name="266995"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >abacadabad</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> &lt;bump&gt; if anyone here can change the ambient lighting on the insaner demo please let me know :-) <br><br></td></tr></table><br>
<a name="267000"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>EntityFX terrain,1</pre><br>This is Full Bright, which means lighting is ignored.<br><br>The other problem, as Sunteam said, is most likely the blending.<br>Multiply mode is multiplying numbers between 0 and 1.<br>These get small very quickly. The Additive blend is thus<br>the dominant dominant factor.<br><br>With EntityFX set to 0 the ambient light will have an effect.<br>But after all the blending that effect is very small. <br><br></td></tr></table><br>
<a name="270846"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >abacadabad</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> How do you think I could avoid that and have normal lighting? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
