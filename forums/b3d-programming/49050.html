<!DOCTYPE html><html lang="en" ><head ><title >Textures - BMP vs JPG</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Textures - BMP vs JPG</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Textures - BMP vs JPG</a><br><br>
<a name="545626"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello friends. I am creating a map with more than 300 textures (one for every building). I am using 256x256 bmps for most of them. The only problem i am having now is the loading time. <br><br>My question is that if i change to jpg format perhaps i will increase the computing time for the decompression time but i will decrease the hard disk access.<br><br>Will then this be faster? (i know jpg's are losing quality in the compression, no problem).<br><br>Thanks, KuRi. <br><br></td></tr></table><br>
<a name="545651"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rhyolite</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi KuRiX,<br><br>I have no idea about this specific situation, but in my career so far hard disc access has ALWAYS been way slower than anything done in CPU. You are talking a factor of 1000's here, probably more - so I would say use JPG if quality is ok.<br><br>Although, one thing to consider is the cluster size of the hard disk (which varies from drive to drive). But if your bmp textures are smaller than the cluster size anyway, then a smaller file size will make no difference!! Hmmm, well I think thats right - not had to remember that kinda stuff for  a long time ;)<br><br>Rhy :) <br><br></td></tr></table><br>
<a name="545654"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Rhy. The problem is that to test this (very interesting test...) i have to change that 300 bmp textures to jpg's, and then change the references one by one (perhaps i will edit the binary b3d file).<br><br>About the bmp size, the files are greater than the cluster size (about 192KB for every bmp).<br><br>I will try to test it. Any more ideas? <br><br></td></tr></table><br>
<a name="545655"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Smaller files will definitly help.  Alot of games use pak files so that it can load everything faster (at least thats my theory for it, it could also be a mod distro system, and a way to hide files from the average user).  I would compress all the bmps using png.  This will likely be alot bigger than jpg, and I'm not sure how they compare in decompression speeds, but png is lossless.  I would try all three and see how they compare.  In any event, I doubt your users will appreciate you distributing with bmps.<br><br>For converting I would search for a batch image convertor - I can't really recommend a good one.  For the references, assuming its some sort of model file or map file, open it up in a text editor and do a find/replace with .bmp to .jpg/.png <br><br></td></tr></table><br>
<a name="545661"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John J.</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> As far as I know, there would be no slow-down during real-time rendering when using JPG images, because Blitz3D first decompresses the JPG image to a bitmap. The only slow-down you would get is at loading time, when the LoadTexture() command loads and decompresses the image (which may take a little longer to load than a standard bmp or png file).<br><br>If you plan on loading huge images (4096 x 4096, for example), it's probably best to use JPG images. This not only saves space, but would save the time of loading a 45MB file from the hard drive.<br><br>If the images are relatively medium sized or small (less than 512 x 512), the hard disc access time might not be a problem, and BMP or PNG files may load faster. Using a PNG or BMP file in this case would probably be best, unless you plan to distribute your app/game online as shareware/freeware, where it is essential to keep file sizes to a minimum.<br><br>It might help to do a small experiment to find which file format loads faster, using MilliSecs() to calculate loading times. <br><br></td></tr></table><br>
<a name="545663"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Of course i need to optimize the loading time. Any ideas are welcome.<br><br>The question is if 300xjpg's would load faster than 300xbmp's. <br><br>The simpler question should be: What is it faster?:<br>1- Load a Bmp (192KB readed from disk)<br>2- Load a Jpg (35KB readed fom disk + decompression time).<br><br>Thanks All! <br><br></td></tr></table><br>
<a name="545664"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ashmantle</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> BMP / PNG isn't really a choice.. always go for PNG as it does everything BMP does better and much more, like compression (lossless) and alpha channel. <br><br></td></tr></table><br>
<a name="545667"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> First Tests give the win to the BMPS:<br><br>time1 = MilliSecs()<br>For i=1 To 1000<br>tex = LoadTexture("C:\foto1.bmp")<br>Next<br>time2 = MilliSecs() - time1<br>RuntimeError(time2)<br><br>With BMPS: 78 ms<br>With JPGS: 90 ms<br><br>:(<br><br>EDITED: PNG's ARE EVEN SLOWER <br><br></td></tr></table><br>
<a name="545803"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hotcakes</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I do believe Blitz keeps a cache/log of files already loaded, so it could be that the test you posted is showing 'loading time only once + cpu time to decrypt bmp 1000 times' vs 'loading time only once + cpu time to decrypt jpg 1000 times'...  if you get what I mean.<br><br>I would do this : time your actual game loader routines, similar to above, then convert your 300 pictures to jpg or png but KEEP the .bmp extension - Blitz is smart enough to recognise the filetype regardless of it's extension and this saves you from having to change 300 lines of code ;] The actual conversion process should be an easy batch render in your favourite paint program... <br><br></td></tr></table><br>
<a name="545811"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nicstt</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> copy and paste the relavent code to word for example, do a find and replace, if it changes what u want, copy it back to blitz <br><br></td></tr></table><br>
<a name="545873"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rhyolite</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think Hotcakes is onto a good point their with caching. Also, the 'fragmented' state of your hard drive is gonna effect your times - so you may want to consider defragging it.<br><br>Rhy :) <br><br></td></tr></table><br>
<a name="545912"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well the fragmented state is something i don't care, because i am going to distribute the game, and i can't say: "Mininum requeriments: Defrag your HD" xDD<br><br>The cache state is something i should take care. But anyway i have tested the code above with loadimage instead of loadtexture, and jpg's and png's are slower (much) that bmp,s.<br><br>Any ideas to optimize the loading time? (of course having less textures is an idea... hehe) <br><br></td></tr></table><br>
<a name="545934"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Something that a couple of people did, was to use 8 bit BMPs.  This reduced loading time &amp; decompression time, and also reduced the zipped size dramatically, at the cost of image fidelity.  A lot of textures don't suffer that much because they don't have that wide a range of colors.<br><br>Worth a look? <br><br></td></tr></table><br>
<a name="546077"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Pickford</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> That benchmark is useless as the file will be cached after the first load.   At best it will give you a hint of the CPU overhead (decompression).<br><br>In reality the decompression is more than made up for by the shorter loading times.  JPG's will load a lot quicker in practice.  PNG's are absolutely the best solution as they use a non-lossy compression meaning no loss of quality. <br><br></td></tr></table><br>
<a name="546180"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, i have made the same test with 100 different bmp's and 100 different jpg's (for the test i have made a list of files of the same size).<br><br>Bmp's are faster in this test too...<br><br>Perhap's JPG's get faster for much larger files.<br><br>I Keep Testing anyway! Thanks All!<br><br>P.D: The change of 24 bits to 16 bits speed up things a lot... <br><br></td></tr></table><br>
<a name="546214"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> this is surprising. tho 100 ms for thousand pics - No problem IMHO. Just remember about every game loads some dozens of seconds, and some suckers even several minutes. And I remember nolf 1 told me to defrag my harddrive before it let me install the game. ^^ <br><br></td></tr></table><br>
<a name="546371"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> The 100ms were due to the caching. With different images the loading time is 30 secs for 200 bmp's. I have a loading time<br><br>Cheers, KuRi. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
