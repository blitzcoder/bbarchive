<!DOCTYPE html><html lang="en" ><head ><title >size of arrays?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >size of arrays?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >size of arrays?</a><br><br>
<a name="617449"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) sinu</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> how big can arrays be before problems occur?<br>I have an array for my path finding system,<br>const MaxNodes = 10000<br>tPath.tPath(MaxNodes-1,MaxNodes-1) and the type is like this<br>type tPath<br>field VisData<br>field PathSize<br>field bank;holds the bank in a bank when it is created<br>end type<br><br>If i use the path from 'a to b' for 'b to a' then it could be cut down to just 10000 elements but then paths for hills etc would be same up or down.<br>i have had no issues so far and memory consumption is low, anyone offer any advice?<br><br>ps im using the djekstra algo for the pathfinding with loads of shortcuts, tricks and optimisations thrown in and am trying to use it for a large scale map with intelligent pathfinding for ai. <br><br></td></tr></table><br>
<a name="617461"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Arrays can be as big as the memory allows them to be :o) As for speed, it's hard to tell, and depends on how fast your memory and CPU are. <br><br></td></tr></table><br>
<a name="617603"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >octothorpe</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>Dim tPath.tPath(MaxNodes-1,MaxNodes-1)</pre><br><br>Wow.  100,000,000 elements?  It takes 20 seconds just to initialize the array on my machine!<br><br>What kind of crazy algorithm needs that much RAM? <br><br></td></tr></table><br>
<a name="617813"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Poita</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've never heard of the 'djekstra' algorithm but that size of array seems pretty unnecessary. If possible, I think the A* algorithm would be much more efficient for pathfinding. <br><br></td></tr></table><br>
<a name="618155"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Dijkstra is very similar to the A*, it just uses a different approach (going from start point always processing the connection that leads to the smallest total distance).<br><br>But the size of the array for sure is too large. dijkstra will never be able to finish its path calculation on that array if you do not make totally unpassable areas.<br>If you really have a that large map you should consider using waypoints for general movement and when they reach an acceptable waypoint switch to a "zone" like thing in which dijkstra is going to operate.<br><br><br>As you see, the array has 100 Mio entries ... if you use types the whole thing means 100MB * sizeof(Type) ... It is just to large to fit in regular RAM amounts ...<br>I have no idea how you come to think that you have a low ram usage ... <br><br></td></tr></table><br>
<a name="618180"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can store paths for commonly followed routes (i.e. connecting 2 cities) but storing every path is a bit too much. A* can be used for seperate grid sizes. Superb article ...<br><a href="http://www.gamedev.net/reference/articles/article2003.asp" target="_blank"> A* </a> relating to Blitz plus <a href="http://www.policyalmanac.org/games/twoTiered.htm" target="_blank"> two-tiered </a><br>The waypoint method is commonly used in 3D FPS type games...<br><a href="http://www.gamasutra.com/features/20010912/sterren_01.htm" target="_blank"> terrain reasoning </a> <br><br></td></tr></table><br>
<a name="618606"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) sinu</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks guys, i was doing it that way for testing purposes, just to see how many nodes i can place and how long calculations would take. Before, i was storing each path for each node in the array(10000,10000) so the path for nodeA to NodeB would be  seperate from NodeB to NodeA now they use the same path.<br><br>Im using a visibility function so if a node is visible to another node then that is the path instead of working the path through the links.<br><br>It takes about 2millisecs to work out a path on a 100*100 grid from node0 to node9999 with obstructions etc which is pretty fast when each node has upto 8 links, when i add in a visibility test it cuts it down to 0m depending on the map and obstructions.<br><br>ps. Its the first time i've done any pathfinding stuff so its all new to me. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
