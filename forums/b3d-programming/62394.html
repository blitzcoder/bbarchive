<!DOCTYPE html><html lang="en" ><head ><title >DDS question</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >DDS question</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >DDS question</a><br><br>
<a name="697294"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> ..okay..I simply create 2 textures, Tex01 is 1024x1024 dds, and second one (Tex02) is same texture but exported as a 512x512 dds..now, when I apply Tex01 on to cube, I got same result from AvailVidMem as when I apply Tex02 later, and run program..there is nothing else loaded except cube and this textures separately (never both textures at once)..so, how come AvailVidMem returning me same value for 2 textures where one of them is 4 times smaller?? <br><br></td></tr></table><br>
<a name="697346"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Got a little code example of this? Remember that AvailVidMem is updated only after a renderworld ( it appears to be during a RenderWorld call that textures are transferred from system ram into vidram ) so you need to call renderworld at least once after a texture change before testing the available video memory.<br><br>Also are the textures both the same type? There are all kinds of DDS settings, so one could in fact be four times the size of the other at the same resolution, or the same size at a quarter of the res. <br><br></td></tr></table><br>
<a name="697422"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> When you use EndGraphics between the two tests, it may give you correct numbers. <br><br></td></tr></table><br>
<a name="697431"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> i think that availvidmem is not reliable to do measurements with.<br><br>take for example this oddity i came across the last couple of days. <br><br>i had a small project with a sky and a cubemapped mesh. i deleted the sky and some cubes, edited out the updatecubemap() and ran it. <br><br>uuh, what is this i asked myself?! the cubemap still showed the sky and cubes i had deleted from my project code!<br><br>this shows how it works, there is stuff in vid mem just sitting there, right now. so how could availvidmem be reliable? <br><br>it can only show "how much vid mem has been used" not "what size is this texture of mine in vidmem". <br><br></td></tr></table><br>
<a name="697452"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> ..this is the code..nothing 'hot'..just testing this DDS thingy how is it working..<br><br>Graphics3D 1024,768,32,1 <br>SetBuffer BackBuffer() <br><br>camera=CreateCamera() <br>PositionEntity camera,0,80,0<br>light=CreateLight() <br>RotateEntity light,90,0,0 <br><br>; Load mesh <br><br>drum=CreateCube() <br>TX=LoadTexture("LM.dds");1024x1024 texture<br>;TX=loadtexture("LM1.dds"); 512x512 texture<br>TextureCoords TX,1<br>EntityTexture drum,TX,0,0<br>PositionEntity drum,0,0,MeshDepth(drum)*1 <br>PointEntity camera,drum<br>While Not KeyDown( 1 )<br>TurnEntity drum,0,.2,0 <br>RenderWorld<br>Text 10,10,AvailVidMem() <br>VWait:Flip  False<br>Wend <br><br>End<br><br><br>@Gabe..yes, they are same texture exported from Photoshop, just scaled down at 512x512 with same settings DXTC1, no alpha.. <br><br></td></tr></table><br>
<a name="697517"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Finjogi</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> In my machine I get 393216 bytes difference with your code..<br>I didn't mipmap my textures so if you did it might have only loaded small mipmap.. (Sorry, I don't know how DX7 does this, does it load all mipmaps, or just one you need..)<br><br>Edit: what GFX card you have? <br><br></td></tr></table><br>
<a name="697522"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> its nVidia 5600FX with 256 MB VRAM...I really dont know is it AvailVidmem for sure showing me exact values..there is no Mipmaps checked for export trough Photoshop nVidia DXTC exporter.. <br><br></td></tr></table><br>
<a name="697541"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> ..I got it..'problem' was on graphics card settings itself..it was fixed at 4x antialiasing, so after I turned it off and check for application controlled, things become normal and AvailVidMem returned me different values for different textures as i expected.. <br><br></td></tr></table><br>
<a name="697593"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> AvailVidMem reports the correct amount of video memory remaining. I believe things aren't taken out of VRAM, unless they are forced out. <br><br></td></tr></table><br>
<a name="697604"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> how come same code after I disable 4x antialiasing from within gfx card set up, showing difference between two textures, different size.. while 4x antialiasing is turned on, there is no changes at all at AvailVidMem report...I dont know whats the real reason, but thats whats happening.. <br><br></td></tr></table><br>
<a name="697610"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >t3K|Mac</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> don't use drugs! ;-) <br><br></td></tr></table><br>
<a name="697793"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> ..hehe..well, actually, it was sake.. :)) <br><br></td></tr></table><br>
<a name="697925"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Finjogi</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Naughty: That's weird, I have Nvidia card too (6600GT) and I tested 4xAA and results are same as I had earlier.. So you are alone with this bug :) <br><br></td></tr></table><br>
<a name="697950"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> hmm..thats weird..I guess, somethings wrong with card/drivers then..in fact few months ago, my card become to be a problem after lightening outside...so, basically even now, after that I am unable to see picture in color from Svideo output (TV)..only black/white...so maybe card is damaged somehow, i am not sure..obviously its time for upgrade.. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
