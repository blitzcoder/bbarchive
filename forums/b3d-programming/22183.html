<!DOCTYPE html><html lang="en" ><head ><title >spheremapped celshading</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >spheremapped celshading</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >spheremapped celshading</a><br><br>
<a name="227485"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Lilprog</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> How is it done and does anybody have any tutorials / sample code?<br><br>Rob <br><br></td></tr></table><br>
<a name="227501"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DrakeX</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> make an image in paint.  color it grey (128,128,128).  then draw a white circle in the top left.  it'll like this<br><br><pre class=code>
.............###
.............###
............####
............####
...........#####
...........#####
........########
.....###########
################
################
</pre><br><br>where . is white and # is grey.<br><br>then save it, and in B3D, loat it like this<br><br>celshade=loadtexture("celshade.bmp".1+64)<br><br>and texture your objects like this<br><br>entitytexture &lt;entity&gt;,celshade,1<br><br>and make sure you<br><br>entityfx entity,1<br><br>and now it'll look celshaded. <br><br></td></tr></table><br>
<a name="227506"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't know about the white circle; never tried that.  What I do is similar but the texture image is simply white for the top two-thirds and grey for the bottom third.  Furthermore this is layered on top of a normal main texture and set to multiply blend.  In other words create a model and texture it normally, create a white-top grey-bottom image for the shading, load the model and set it to fullbright, load the shading image as a spherical environment map, set the shading image to multiply blend, and apply the shading to the model as another layer of texture. <br><br></td></tr></table><br>
<a name="227517"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Lilprog</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Im sorry, having trouble with this he comes out all white, ive got the image the way you said, here is my code::<br><br>	; Load md2 texture<br>	orion_tex=LoadTexture( "Models\orionskin.jpg" )<br>	celshade=LoadTexture("Models\celshade.jpg",1+64)<br>	<br>	; Apply md2 texture to md2<br>	EntityTexture orion,orion_tex,1,0<br>	EntityTexture orion,celshade,1,1<br>	EntityFX orion,1<br>	<br>	<br>Thoughts? <br><br></td></tr></table><br>
<a name="227542"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DrakeX</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> " don't know about the white circle; never tried that. What I do is similar but the texture image is simply white for the top two-thirds and grey for the bottom third."<br><br>i've tried that but all i get is a little bit of shading on the bottom of the object and it doesn't look all that great.<br><br>lilprog -- change the third param of your entitytexture commands to 0.  sorry about that.  the third param is the frame of the texture if it's an animated texture, and since they aren't, it comes out all white. <br><br></td></tr></table><br>
<a name="227543"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've decided to release my cel shading system for free.  <br><br>It's not the sort of thing which is large or compelx enough for me to actually sell, so lucky you. :-)<br><br><a href="http://home.earthlink.net/~sswift/dtsmashtest.zip" target="_blank">DT Smash Test</a><br><br>The system takes 1d textures as imput, basically 1 pixel wide vertical gradients, and turns them into proper spherical maps with correct distortion.<br><br>Note that when you use this system, the direction of the light will be in realtion to the orientation of the camera.  <br><br>In other words, if your light is not directly overhead, and you turn the camera left or right, the apparent direction of the light source will change.<br><br>This is a limitation of doing cel shading with spherical maps.<br><br>If your light is directly overhead then you can rotate the camera left and right and the ligh's direction will remain consistent.  However, this is only true as long as you do not pan the camera up and down.  <br><br>If you want a camera that points down at an angle, then you will need to transform the light's position by the camera's pitch so that the top of the shading map points more towards the front of the sphere map.<br><br>It is hard to explain how to do this, so if you don't understand, don't worry about it.  Just tweak the location of the light source until it looks right.<br><br>In case you're wondering, the demo above shows a character from something I'm working on with the fellow who does this online comic: <a href="http://www.dragon-tails.com/" target="_blank">http://www.dragon-tails.com/</a><br><br>There's only one model at the moment and he's not animated, but you can see the nice cel shading maps I created.  At first I tried to use cel shading maps that just modulated the colors of the underlying model.  That would have been the simpler solution.  But the result of that was HIDEOUS looking.<br><br>My goal was to match the look of the following image:<br><a href="http://www.timdawson.com/display.php?c=dragontails&amp;p=dragongroup.jpg" target="_blank">Dragon Group</a><br><br>As you can see, I succeeded in getting the models to look almost exactly like this hand drawn image, right down to the way the metallic dragons have a special sort of sheen to them.<br><br>Of course to see that effect I suppose you'll need to know how to control the demo...<br><br>The controls are:<br>Arrows rotate model<br>A+Z zoom in and out<br>1-8 select different textures.<br><br>So anyhow, this demo will show you exactly what you need to do to use this cel shading system of mine.  It's still a bit of a work in progress, but at this point it's more than adequate for a game. <br><br></td></tr></table><br>
<a name="227559"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skitchy</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> That is DAMN good sswift. And mightily good of you to release it for free as well. :) <br><br></td></tr></table><br>
<a name="227577"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DrakeX</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> wow that's awesome shawn :)  i love your work except for thhe fact that you have to pay for most of it, which really isn't possible if you're not old enough to have a credit card and you have to get permission from your parents to use it online and you only make $7 a week in allowance.  no offense but while i would agree that most of your stuff is worth paying for, you have to remember who your audience is.. <br><br></td></tr></table><br>
<a name="227583"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anthony Flack</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not young 'uns with no income, for the most part, I guess. <br><br></td></tr></table><br>
<a name="227584"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DrakeX</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> .. <br><br></td></tr></table><br>
<a name="227591"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> As I've said before, I love to give stuff away.  I just am in a bad spot right now and I need the money. :-) <br><br></td></tr></table><br>
<a name="227603"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DrakeX</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> oh well then i can understand :)  i wouldn't mind making stuff for some extra money (so i can pick up more than $7 a week hehe), but i don't have l33t skillz like you. <br><br></td></tr></table><br>
<a name="228620"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DarkEagle</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> much like rome wasnt built in a day, sswift didnt have "l33t skillz" when he first started. <br><br></td></tr></table><br>
<a name="228643"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Miracle</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Dig dig dig dig dig ... ah, here it is:<br><br><a href="http://members.cox.net/mirage106/toonshadow.zip" target="_blank">http://members.cox.net/mirage106/toonshadow.zip</a><br><br>From an ancient discussion. One camera renders an image of a two- or three-tone sphere to a texture, which is applied spheremap-style to another object. If you want to move the lightsource, you just have to rotate the sphere. <br><br></td></tr></table><br>
<a name="228681"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> "much like rome wasnt built in a day, sswift didnt have "l33t skillz" when he first started"<br><br><br>I did too!  <br><br>Yep my first game was a Quake clone on the Ti99/4a. <br><br></td></tr></table><br>
<a name="228690"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Michael Reitzenstein</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> sswift was born chanting the general quadratic formula. <br><br></td></tr></table><br>
<a name="228759"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> sswift doesn't even KNOW the general quadratic formula. <br><br></td></tr></table><br>
<a name="228879"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ashmantle</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> even more impressive ;) <br><br></td></tr></table><br>
<a name="228887"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> sswift doesn't even KNOW the general quadratic formula. <br></div><br><br>Sure you do. It's just built into your dna, like a genetic memory. So you know it, you just don't know you know it. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
