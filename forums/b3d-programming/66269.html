<!DOCTYPE html><html lang="en" ><head ><title >Texture splatting + vertex alpha problem</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Texture splatting + vertex alpha problem</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Texture splatting + vertex alpha problem</a><br><br>
<a name="740431"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pinete</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi all,<br><br>I'm working with the code of RifRaf, F.L.E, the free landscape editor that can be found in the code archives, at terrain editors.<br><br>It seems to be very clear to me except the part in which the<br>resultant model is saved to a B3D.<br><br>Basically it follows the standard way to do texture splatting, but when it save the models, save two models.<br>The first one is a model with the basic texture (no vertex alpha), and the second one is a model with the other textures and vertex alpha information (2+32).<br><br>My question is how could I save just one model that could contains all the information...<br><br>At the header of the source, rifraf says this could be possible using addmesh, but I've been working on it making a lot of attempts of "addition" with this command but the exported terrain always is crap (I cannot see all the textures, sometimes I cannot see nothing, another ones I just can see the first texture...)<br><br>I would like  to know the way in which I could merge <br>two models and save a unique B3D with all the vertex alpha information to be displayed as I can see it from the editor of RifRaf.<br><br>Please someone could says me how could I save just one model??!!!<br><br><br>Thanks in advance! <br><br></td></tr></table><br>
<a name="740904"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >D4NM4N</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> do you mean 2 child meshes or 2 separate files, when  using vetex alpha you need the extra geometry either as an extra surface or as a separate mesh. The underlying layer cannot be alpha blended and must use just the 2 flag.<br><br>addmesh should add a separate surface but when painting it (or if trying to read write from b3d) you need to set the surfaces brushFX to:<br><br>layer0:1+2<br>layer1:1+2+32<br>layer2:1+2+32<br>layer3:1+2+32<br><br><br>my ted prog uses internally multisurface meshes but xports both methods, and i seem to remeber when writing to a b3d you need to reverse their order in the file. <br><br></td></tr></table><br>
<a name="740973"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pinete</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks a lot for the explanation...<br>I will go for it<br>:)<br><br>regards! <br><br></td></tr></table><br>
<a name="750856"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mattizzle</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> So did it work? <br><br></td></tr></table><br>
<a name="750974"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Basicly, this Save Routine wasn't by RifRaf, but by me. The idea is: If you save it as two meshes, you will have to check for collision only on the bottom mesh (grass by default). Additionally, this will prevent z-order issues of the upper layers due to the use of alpha.<br><br>The save routine will also optimize Saving of the 2nd mesh, a triangle will only be saved if at least one of its 3 vertices is not fully transparent (VertexAlpha=0).<br><br>I prefere this method, but as I said in the source, you may use AddMesh to make only one mesh out of them, something like:<br><br>mesh=createmesh()<br>addmesh mesh, layer0mesh<br>addmesh mesh, layer1mesh<br><br>then save mesh using the save method for layer 1 to 7 (the optimized one).<br><br>You may however have to use PositionMesh to offset one of the two slightly on the Y axis, to prevent Z (or Y)-fighting due to rounding errors. <br><br></td></tr></table><br>
<a name="751118"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pinete</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi!,<br><br>Mattizzle: I was trying to make this by myself but at the end, I quited. I was working on my own terrain editor from the FLE code, available at the forums and in the code archives...<br>First problem was the alpha order problems with the different layers... really I had not patience enough and I started buying all the tools I saw related with terrain generation.<br>I bought Freeworld3D, T.ED and Panorama.<br>Freeworld3D need some extra work in order to see your maps in Blitz, in fact, I didn't obtain any success with it.<br>T.ED is the most complete and works really fine, a lot of options and features but the interface is a nightmare and working with it is horrible, a real headhache. Really a shame because the tool is great.<br>At the end, Panorama is absolutely fast and lovely to work with, but it has an important lack of features.<br>In order to lightmap the scene with a external lightmapper (I use gile[s]), T.ED worked at the first time, but I needed<br>help of Fredborg with Panorama, because it's necessary to configure some options of gile[s] in order to run properly a lightmapped scenario of panorama in Blitz.<br><br>Now my pipeline is: Panorama to make a terrain (fast), gile[s] to lightmap, drop objects and finally export to B3D.<br><br>jfk: ey man, you're a megablitzer!! ;)<br><br>Regards! <br><br></td></tr></table><br>
<a name="751230"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just wanted to make clear FLE was an open source project, the alpha splatting part was done by RifRaf, the exporter by me. <br><br></td></tr></table><br>
<a name="752179"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RifRaf</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Depending on what version of fle is floatig around these days,JFK could be mistaken. <br><br> JFK started an exporter.  The optimizelayer routines as well as nesting nodes so that you do not get the phase shifting alpha bleeding were modifications and additions by myself.  <br><br> The model exporting I use today for terrains of different styles is a new thing entirely, and ive come to know the B3D format back to front, You can always shoot me an email if you like to <br><br>GameMaker04@... <br><br></td></tr></table><br>
<a name="752256"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I didn't mean to steal your creadits. tho not sure of the optimize layer thing. At least I'd do it exactly the same way. He was however using the version with my exporter. later open source versions kind of disappeared due to your deal with idigicon if I'm right, that's absolutely ok to me. <br><br></td></tr></table><br>
<a name="753263"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >D4NM4N</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi pinete,<br><br>Im in the process of developing ted6, can you email me telling me what you would like improving, and i will try and accomodate.<br>Alternatively chuck it on the forum www.d-grafix.com/?page=forum<br><br>Thanks :) <br><br></td></tr></table><br>
<a name="753351"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pinete</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Dan!<br>thank you very much!<br>I will do it!! :)<br><br>best regards! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
