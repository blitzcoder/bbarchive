<!DOCTYPE html><html lang="en" ><head ><title >Texture alpha</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Texture alpha</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Texture alpha</a><br><br>
<a name="325875"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AbbaRue</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am trying to create a texture with all black pixels Alpha. But can't seem to get it to work. <br>Here is my code. <br><br>ts=512<br>tex55=CreateTexture (ts,ts,15)<br>SetBuffer TextureBuffer (tex55,0) <br>For cdy= 0 To ts-1<br>For cdx= 0 To ts-1<br>rcg=Rnd(0,100)<br>If rcg&lt;70 Then rcg=0<br>rcr=Int(rcg/2)<br>rcb=Int(rcg/4)<br>Color rcr,rcg,rcb<br>Plot cdx,cdy <br>Next <br>Next <br><br>ClearTextureFilters <br>TextureFilter "",15<br><br>From what I read this should have worked. But the black always comes out black, not transparant. <br>I added the TextureFilter part after to see if that would help. <br>But by theory it should have been set by CreateTexture (ts,ts,15). <br>CreateTexture doesn't seem to work right. <br>Also tried:<br>TextureBlend tex55,1<br>No success. <br><br></td></tr></table><br>
<a name="325883"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Plot is a 2d (DirectDraw) command. It always writes an alpha value of 255, which means fully opaque.<br><br>You need to use WritePixel on the Texture to control alpha in addition to r,g,b. <br><br></td></tr></table><br>
<a name="325886"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> ploting does not set the alpha value, this works only for loaded alpha maps. You better use WritePixel and use the most significant byte as alpha value:<br><br>; 0 to 255<br>red=100<br>green=150<br>blue=255<br>alpha=200<br>rgb=(red shl 16) or (green shl 8) or (blue)<br>WritePixel x,y rgb or (alpha shl 24)<br><br>Of course, you could also say<br>rgb=$FF33FF ; Hex Color, just like in HTML<br><br>and then use Readpixelfast with Lockbuffer to make it faster.<br><br>BTW if you use a Texture Filter Flag of 15, this will include Flag 2 as well as Flag 4 - I am not sure if you can use both at the same time, I think you can't. So better use 11. <br><br></td></tr></table><br>
<a name="325889"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AbbaRue</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> So how would I rewrite the preveous example to work with WritePixel.  <br>I'm not sure how to set the buffer of "WritePixel" . <br>And yes 15 does work right I use it for loaded textures. <br>All my loaded textures are set to either 15 or 9. Depending if I want alpha or solid textures. <br>At least with my graphics card, it does. <br>And thanks for telling me about Plot. <br><br></td></tr></table><br>
<a name="325899"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AbbaRue</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Finally I have an Alpha Tile.<br>For anyone that needs Random tile for tree leaves, here is the code. <br><br><br>ts=512<br>tex55=CreateTexture (ts,ts,15)<br>SetBuffer TextureBuffer (tex55,0) <br>For cdy= 0 To ts-1<br>For cdx= 0 To ts-1<br>rca=255 ;alpha<br>rcg=Rnd(0,150) ;green<br>rcr=Int(rcg/2) ;red<br>rcb=Int (rcg/4) ;blue<br>argb=0 ;clear color<br>argb=(rca Shl 24) Or (rcr Shl 16) Or (rcg Shl 8) Or (rcb) <br>If rcg&lt;74 Then argb=0 ;just to be sure lots of black<br>WritePixel cdx,cdy,argb <br><br>Next <br>Next <br><br>SetBuffer BackBuffer() ;back to screen<br><br>Thanks for the help. Hope someone else can use this too. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
