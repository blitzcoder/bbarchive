<!DOCTYPE html><html lang="en" ><head ><title >Can you store a float in a 2D array?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Can you store a float in a 2D array?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Can you store a float in a 2D array?</a><br><br>
<a name="1045120"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am suspecting that only integers can be stored directly into an array.<br><br>However I need to have a variable(an array...) that can be iterated through with numbers of the type of -0.1234567.<br><br>Can anyone be of assistance? <br><br></td></tr></table><br>
<a name="1045124"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warner</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't believe that is possible, unless you mean like using Dim a#(100).<br>You could choose for a TMap: <a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=2574" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=2574</a><br>or maybe convert the numbers from floats to integers:<br><pre class=code>
Dim Array$(2000)

SetArray(0.001, "hello")
SetArray(-0.123, "hi")

Print GetArray(0.001)
Print GetArray(-0.123)


Function SetArray(index#, value$)

	ind = Int(index * 1000 + 1000)	
	If ind &lt; 0 Then RuntimeError "Out of range"
	If ind &gt; 2000 Then RuntimeError "Out of range"
	Array(ind) = value

End Function


Function GetArray$(index#)

	ind = Int(index * 1000 + 1000)
	If ind &lt; 0 Then RuntimeError "Out of range"
	If ind &gt; 2000 Then RuntimeError "Out of range"
	Return Array(ind)

End Function
</pre><br>However, that last method implies a loss of precision.<br><br>It would also depend on how you want to use the array.<br>If you wanted to say<br><pre class=code>
x(1) = 10
x(2) = 20

print x(1.5) ---&gt;result:15
</pre><br>Then you could make a function that interpolates between the two closest integer array entries. <br><br></td></tr></table><br>
<a name="1045135"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just store them as strings. <br><br></td></tr></table><br>
<a name="1045145"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks for both the suggestions, they are appreciated (;-) <br><br></td></tr></table><br>
<a name="1045147"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> But this works:-<br><br><pre class=code>

Dim locationarray#(5000,1) ; note ,0=lat, 1=long

</pre><br><br>thanks to Ross C. What a great forum this is! And as you said warner Dim a#(100) <br><br></td></tr></table><br>
<a name="1045149"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warpy</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I assume what you've actually got is something like time/distance pairs, so you want to be able to get the distance travelled at a particular time.<br>If that's what you want, you can store it in an array with as many columns as you have data points, and two rows. Think of it like two rows of an Excel spreadsheet. Getting the distance corresponding to a particular time just means reading down the row until you get to the right time, and reading off the distance from that column.<br><br><pre class=code>
'initialise array to have 30 columns and two rows
Const numpoints = 30

Local data#[numpoints,2]

'generate some pretend data
Local time#,distance#
For c=0 To numpoints-1
	time :+ Rnd(1.0,2.0)
	distance :+ Rnd(0.3,0.4)
	data[c,0] = time
	data[c,1] = distance
Next


'this function fetches the distance travelled at a particular time
'it doesn't interpolate, so it'll round up to the closest data point
Function getDistance(time#,data#[,])
	Local c=0
	'go down the time row until you get to the requested time
	While c&lt;numpoints And data[c,0]&lt;time
		c:+1
	Wend
	
	'return the associated distance
	Return data[c,1]
End Function
</pre><br><br>As you're dealing with floats, it would be very easy to extend this to interpolate between data points. <br><br></td></tr></table><br>
<a name="1045152"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'd take the string route. <br><br></td></tr></table><br>
<a name="1045163"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's a workable, but unfinished (Actually displaying or using the information is only partial) system for 2D-Arrays of mixed data types (Float, Int or String):<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
;These functions describe manipulation of 2DA (2-Dimensional Array) files.
;These files contain tables of data which represent customiseable libraries
;in which every aspect of the core gameplay rules can be defined and edited here.

; Memory Structure
;	ARRAY:	Tables
;	STRUCT:	Table
;	ARRAY:	COLUMNS
;	STRUCT: ROW DATA
;	STRUCT:	DATA TYPES

;                       _____________________________________________
;       ________________|              ______________________________|
;		|               |             |                              |   
;	DATA TYPES	&lt;	ROW DATA	&lt;	COLUMN	&lt;	COLUMN ARRAY	&lt;	TABLE	&lt;	TABLES ARRAY
;						|_____________|               |              |________________|
;									  |_______________|              |
;                                                     |______________|
;
; File Structure
;	ColumnCount,RowCount
;	Column1Title,Column1DataType
;	Column1Row1Data,Column1Row2Data,Column1Row3Data...
;	Column2Row1Data,Column2Row2Data,Column2Row3Data...
;	...

Type t_DATATABLE
	Field s_Datatable_TableName$
	Field n_Datatable_ColumnCount%
	Field n_Datatable_RowCount%
	Field ahto_TableColumn_Columns%[32]			;Hard limit imposed, Array Size must be constant and bitwise manipulated.
End Type

Type t_TABLECOLUMN
	Field n_TableColumn_ReferenceNumber%
	Field hto_TableColumn_DatatableHandle%
	Field s_TableColumn_Title$
	Field n_TableColumn_DataTypeValue%
End Type

Type t_TABLEROWDATA
	Field n_TableRowData_ReferenceNumber%
	Field hto_TableRowData_DataColumnHandle%
	Field hto_TableRowData_DataHandle%
End Type	

Type t_FLOATDATA
	Field f_FloatValue#
End Type

Type t_INTDATA
	Field n_IntValue%
End Type

Type t_STRINGDATA
	Field s_StringValue$
End Type


;INITIALISING

Function v_ClearAllTableData()
	Delete Each t_DATATABLE
	Delete Each t_TABLECOLUMN
	Delete Each t_TABLEROWDATA
	DebugLog "Cleared All table data"
End Function

Function v_AddDatatableNameToConfigurations(s_DatatableName$)
	If ((s_DatatableName$)&lt;&gt;"")
		Local hst_FileHandle%=OpenFile(cfn_ConfigFile$)
		If (Not(hst_FileHandle%)) Then RuntimeError "No Configurations"
		SeekFile(hst_FileHandle%,Eof(hst_FileHandle%))
		WriteLine(hst_FileHandle%,s_DatatableName$)
		CloseFile(hst_FileHandle)
		v_RefreshTableDatafileReferences
	End If
End Function

Function v_RefreshTableDatafileReferences()
	If (Not(FileType(cfn_ConfigFile$)=1))
		DebugLog "No Configuration File Exists. Maybe First Run"
		v_WriteConfigs
	End If	
	Local nIterReferences%
	For nIterReferences%=1 To cn_2DA_MAX_DATATABLES%
		gaffp_DataFiles[nIterReferences%-1]=""
	Next
	Local hst_FileHandle%=ReadFile(cfn_ConfigFile$)
	Local s_Line$=ReadLine(hst_FileHandle%)
	d_Data$=d_FixDirPath$(s_Line$)
	Local n_Count%
	s_Line$=ReadLine(hst_FileHandle%)
	While ((Not(Eof(hst_FileHandle%))) And (s_Line$&lt;&gt;""))
		n_Count%=n_Count%+1
		gaffp_DataFiles[n_Count%-1]=ffp_GetDataFilePathFromTableName$(s_Line$)
		s_Line$=ReadLine(hst_FileHandle%)
	Wend
	CloseFile hst_FileHandle%
	DebugLog "Datafile references refreshed"
End Function

Function v_ValidateDatatableNameWithDatafileReference(s_TableName$,n_DatafileReference%)
	If (Upper(ffp_GetDataFilePathFromDatafileReference(n_DatafileReference%))&lt;&gt;s_TableName$)
		DebugLog "Datafile Reference mismatch at line: "+Str(n_DatafileReference%)
		DebugLog "Refreshing Datafile references"
		Local n_IterReference%
		Local ffp_ReferenceFilePath$
		v_RefreshTableDatafileReferences
		For n_IterReference%=1 To 256
			If(Upper(ffp_GetDataFilePathFromDatafileReference$(n_IterReference%))=s_TableName$)
				DebugLog "Found Correct entry at Reference: "+n_IterReference%
				Return True
			End If
		Next
		DebugLog "DataFile Reference not found with name "+Chr$(34)+s_TableName$+Chr$(34)
		Return False
	End If
	DebugLog "TableName Reference verified okay"
	Return True
End Function	

;LINKING

Function hto_GetColumnHandleOfReferenceFromDatatable%(hto_Datatable%,n_ColumnDatafileReference%)
	Local t_TableType.t_DATATABLE = Object.t_DATATABLE(hto_Datatable%)
	If (t_TableType.t_DATATABLE=Null) Then Return -1
	Local n_Count%=t_TableType\n_Datatable_ColumnCount%
	If ((n_Count%&lt;1) Or (n_Count%&gt;cn_2DA_MAX_TABLECOLUMNS%))
		DebugLog "Table Column reference out of range "+n_Count%
		Return -1
	End If
	Return t_TableType\ahto_TableColumn_Columns[n_ColumnDatafileReference%-1]
End Function

Function hto_GetDatatableHandleFromTableName%(s_TableName$)
	Local t_TableType.t_DATATABLE
	For t_TableType.t_DATATABLE=Each t_DATATABLE
		If ((t_TableType.t_DATATABLE&lt;&gt;Null) And ( ((Upper(t_TableType\s_Datatable_TableName$)=Upper(s_TableName$))) ) )Then Return Handle(t_TableType.t_DATATABLE)
	Next
	DebugLog "No Datatable exists. Invalid name "+Chr(34)+s_TableName$+Chr(34)
	Return False
End Function

Function s_GetColumnNameFromReference$(hto_Datatable%,n_ColumnDatafileReference%)
	Local t_ColumnType.t_TABLECOLUMN=Object.t_TABLECOLUMN(hto_GetColumnHandleOfReferenceFromDatatable%(hto_Datatable%,n_ColumnDatafileReference%))
	Return t_ColumnType\s_TableColumn_Title$
End Function

Function n_GetColumnReferenceFromColumn%(hto_ColumnHandle%)
	If (Not(hto_ColumnHandle)) Then Return 0
	Local t_ColumnType.t_TABLECOLUMN=Object.t_TABLECOLUMN(hto_ColumnHandle%)
	Return t_ColumnType\n_TableColumn_ReferenceNumber%
End Function

Function hto_GetParentColumnHandleFromRow%(hto_RowDataHandle%)
	Local t_RowType.t_TABLEROWDATA=Object.t_TABLEROWDATA(hto_RowDataHandle%)
	Local t_ColumnType.t_TABLECOLUMN=Object.t_TABLECOLUMN(t_RowType\hto_TableRowData_DataColumnHandle%)
	Return Handle(t_ColumnType.t_TABLECOLUMN)
End Function

Function hto_GetParentDatatableHandleFromRow%(hto_RowDataHandle%)
	Local t_TableType.t_DATATABLE=Object.t_DATATABLE(hto_GetParentColumnHandleFromRow%(hto_RowDataHandle%))
	Return Handle(t_TableType.t_DATATABLE)
End Function

Function hto_GetNthRowDataHandleOfColumn%(hto_ColumnHandle%,n_Count%)
	If (n_Count%&lt;1) Then Return 0
	Local t_ColumnType.t_TABLECOLUMN=Object.t_TABLECOLUMN(hto_ColumnHandle%)
	Local t_TableType.t_DATATABLE = Object.t_DATATABLE(t_ColumnType\hto_TableColumn_DatatableHandle%)
	Local n_MaxRows%=t_TableType\n_Datatable_RowCount%
	If (n_Count%&gt;n_MaxRows%) Then Return 0
	Local t_RowType.t_TABLEROWDATA
	For t_RowType.t_TABLEROWDATA = Each t_TABLEROWDATA
		If ((t_RowType\n_TableRowData_ReferenceNumber%=n_Count%) And (t_RowType\hto_TableRowData_DataColumnHandle%=hto_ColumnHandle%))Then Return Handle(t_RowType.t_TABLEROWDATA)
	Next
	Return 0
End Function

Function hto_GetRowDataHandleFromRowColumnOfDatatable%(hto_DatatableHandle%,nRowNumber%,n_ColumnDatafileReference%)
	Local t_TableType.t_DATATABLE=Object.t_DATATABLE(hto_DatatableHandle%)
	Local hto_ColumnHandle% = t_TableType\ahto_TableColumn_Columns[n_ColumnDatafileReference%-1]
	Return hto_GetNthRowDataHandleOfColumn%(hto_ColumnHandle%,nRowNumber%)
End Function

;QUERYING

Function s_GetDatatableNameFromDatafileReference$(n_DatafileReference%)	
	Local ffp_DataFile$=gaffp_DataFiles[n_DatafileReference%-1]
	If (Not(FileType(ffp_DataFile$)=1))
		DebugLog "File not found "+Chr$(34)+ffp_DataFile$+Chr(34)
	Else
		Local hFileHandle%=ReadFile(ffp_DataFile$)
		If (Not(hFileHandle%))
			If (Not(FileType(ffp_DataFile$)=1))
				DebugLog "Out of data "+Chr$(34)+ffp_DataFile$+Chr(34)
			Else
				Return s_GetDatatableNameFromDataFilePath$(ffp_DataFile$)
			End If
		End If
	End If
	Return ""
End Function

Function n_GetDatatableReferenceFromTableName%(s_TableName$)
	s_TableName$=Upper(s_TableName$)
	Local n_IterDataFiles%
	Local ffp_DataFile$
	For n_IterDataFiles%=1 To 256
		ffp_DataFile$=Upper$(s_GetDatatableNameFromDatafileReference$(n_IterDataFiles%))
		If(ffp_DataFile$)=(s_TableName$)
			If (FileType(gaffp_DataFiles[n_IterDataFiles%-1])=1) Then Return n_IterDataFiles%
			DebugLog "DataFile Not found "+Chr(34)+gaffp_DataFiles[n_IterDataFiles%-1]+Chr(34)
			Return False
		End If	
	Next
	DebugLog "DataFile not found with name "+Chr(34)+s_TableName$+Chr(34)
	Return False
End Function

Function n_CountRowsInColumn%(hto_ColumnHandle%)
	Local n_RowNumber%
	Local t_RowType.t_TABLEROWDATA
	For t_RowType.t_TABLEROWDATA=Each t_TABLEROWDATA
		If (t_RowType\hto_TableRowData_DataColumnHandle%=hto_ColumnHandle%) Then n_RowNumber%=n_RowNumber%+1
	Next
	Return n_RowNumber%
End Function

Function n_QuickCountRowsFromDatatable%(hto_DatatableHandle%)
	Local hto_ColumnHandle%=hto_GetColumnHandleOfReferenceFromDatatable%(hto_DatatableHandle%,1)
	If (hto_ColumnHandle%) Then Return n_CountRowsInColumn%(hto_ColumnHandle%)
	Return 0
End Function

Function n_UpdateRowCountOfDatatable%(hto_DatatableHandle%)
	Local n_Return%
	Local t_TableType.t_DATATABLE=Object.t_DATATABLE(hto_DatatableHandle%)
	If (t_TableType.t_DATATABLE &lt;&gt; Null)
		Local n_Count%=n_QuickCountRowsFromDatatable%(hto_DatatableHandle%)
		Local n_CurrentCount%=t_TableType\n_Datatable_RowCount%
		If (n_CurrentCount%&lt;&gt;n_Count%)
			DebugLog "Row Count Mismatch: Previous count="+Str(n_CurrentCount%)+" Latest Count="+Str(n_Count%)
			t_TableType\n_Datatable_RowCount%=n_Count%
			n_Return=n_Count%
		End If
	End If
	Return n_Return%
End Function

Function s_GetColumnTitleFromColumn$(hto_ColumnHandle%)
	Local t_ColumnType.t_TABLECOLUMN=Object.t_TABLECOLUMN(hto_ColumnHandle%)
	If (t_ColumnType.t_TABLECOLUMN&lt;&gt;Null) Then Return t_ColumnType\s_TableColumn_Title$
	Return ""
End Function

Function n_GetRowNumberFromRow%(hto_RowHandle%)
	Local t_RowType.t_TABLEROWDATA =Object.t_TABLEROWDATA(hto_RowHandle%)
	If (t_RowType&lt;&gt;Null) Then Return t_RowType\n_TableRowData_ReferenceNumber%
	Return 0
End Function

Function n_GetDataTypeValueFromColumn%(hto_ColumnHandle%)
	Local t_ColumnType.t_TABLECOLUMN=Object.t_TABLECOLUMN(hto_ColumnHandle%)
	If (t_ColumnType&lt;&gt;Null) Then Return t_ColumnType\n_TableColumn_DataTypeValue%
	Return cn_DATA_TYPE_INVALID%
End Function

Function f_GetDataFloatFromRowData#(hto_RowDataHandle%)
	If (hto_RowDataHandle%)
		Local t_RowType.t_TABLEROWDATA=Object.t_TABLEROWDATA(hto_RowDataHandle%)
		If (t_RowType.t_TABLEROWDATA&lt;&gt;Null)
			Local t_FloatType.t_FLOATDATA=Object.t_FLOATDATA(t_RowType\hto_TableRowData_DataHandle%)
			If (t_FloatType&lt;&gt;Null) Then Return t_FloatType\f_FloatValue#
		End If
	End If
	Return 0.0
End Function

Function s_GetDataStringFromRowData$(hto_RowDataHandle%)
	If (hto_RowDataHandle%)
		Local t_RowType.t_TABLEROWDATA=Object.t_TABLEROWDATA(hto_RowDataHandle%)
		If (t_RowType.t_TABLEROWDATA&lt;&gt;Null)
			Local t_StringType.t_STRINGDATA=Object.t_STRINGDATA(t_RowType\hto_TableRowData_DataHandle%)
			If (t_StringType&lt;&gt;Null) Then Return t_StringType\s_StringValue$
		End If
	End If
	Return ""
End Function

Function n_GetDataIntFromRowData%(hto_RowDataHandle%)
	If (hto_RowDataHandle%)
		Local t_RowType.t_TABLEROWDATA=Object.t_TABLEROWDATA(hto_RowDataHandle%)
		If (t_RowType.t_TABLEROWDATA&lt;&gt;Null)
			Local t_intType.t_INTDATA=Object.t_INTDATA(t_RowType\hto_TableRowData_DataHandle%)
			If (t_intType&lt;&gt;Null) Then Return t_intType\n_IntValue%
		End If
	End If
	Return False
End Function

Function s_GetRowDataAsString$(hto_RowDataHandle%)
	Local t_ColumnType.t_TABLECOLUMN=Object.t_TABLECOLUMN(hto_GetParentColumnHandleFromRow%(hto_RowDataHandle%))
	Select (t_ColumnType\n_TableColumn_DataTypeValue%)
		Case cn_DATA_TYPE_FLOAT%:Return Str(f_GetDataFloatFromRowData#(hto_RowDataHandle%))
		Case cn_DATA_TYPE_STRING%:Return s_GetDataStringFromRowData$(hto_RowDataHandle%)
		Case cn_DATA_TYPE_INTEGER%:Return Str(n_GetDataIntFromRowData%(hto_RowDataHandle%))
		Default:Return ""
	End Select
End Function

;MODIFYING

Function v_EditTableByName$(s_TableName$)
	Local hto_DatatableHandle%=hto_GetDatatableHandleFromTableName%(s_TableName$)
	If (Not(hto_DatatableHandle%)) Then hto_DatatableHandle%=hto_CreateNewDatatableFromName%(s_TableName$)
End Function

Function hto_CreateNewDatatableFromName%(s_TableName$)
	Local t_TableType.t_DATATABLE=Object.t_DATATABLE(hto_CreateNewDataTable%())
	t_TableType\s_Datatable_TableName$=s_TableName$
	Return Handle(t_TableType.t_DATATABLE)
End Function

Function hto_AddNewColumnToDatatable%(hto_DatatableHandle%)
	Local hto_ColumnHandle%=hto_CreateNewColumn%()
	Local t_ColumnType.t_TABLECOLUMN=Object.t_TABLECOLUMN(hto_ColumnHandle%)
	t_ColumnType\hto_TableColumn_DatatableHandle%=hto_DatatableHandle%
	Local t_TableType.t_DATATABLE=Object.t_DATATABLE(hto_DatatableHandle%)
	t_TableType\n_Datatable_ColumnCount=t_TableType\n_Datatable_ColumnCount+1
	t_TableType\ahto_TableColumn_Columns[t_TableType\n_Datatable_ColumnCount%-1]=hto_ColumnHandle%
	Return hto_ColumnHandle%	
End Function

Function v_ChangeColumnName(hto_DatatableHandle,n_ColumnReference%,sColumnName$)
	If (hto_DatatableHandle*n_ColumnReference*(sColumnName$&lt;&gt;""))
		Local t_TableType.t_DATATABLE=Object.t_DATATABLE(hto_DatatableHandle%)
		If ((t_TableType\n_Datatable_ColumnCount&lt;n_ColumnReference%)And(n_ColumnReference%&lt;33))
			Local hto_ColumnHandle%=hto_GetColumnHandleOfReferenceFromDatatable%(hto_DatatableHandle%,n_ColumnReference%)
			If (Not(hto_ColumnHandle%)) Then hto_ColumnHandle%=hto_AddNewColumnToDatatable%(hto_DatatableHandle%)
			Local t_ColumnType.t_TABLECOLUMN=Object.t_TABLECOLUMN(hto_ColumnHandle%)
			t_ColumnType\s_TableColumn_Title$=sColumnName$
		End If
	End If
End Function

Function n_AddNewRowToTable%(hto_DatatableHandle%)
	Local t_TableType.t_DATATABLE=Object.t_DATATABLE(hto_DatatableHandle%)
	Local t_RowType.t_TABLEROWDATA
	Local hto_ColumnHandle%
	Local n_DataTypeValue%
	Local n_Count%
	For n_Count%=1 To t_TableType\n_Datatable_ColumnCount%
		hto_ColumnHandle%=hto_GetColumnHandleOfReferenceFromDatatable%(hto_DatatableHandle%,n_Count%)
		n_DataTypeValue%=n_GetDataTypeValueFromColumn%(hto_ColumnHandle%)
		t_RowType=New t_TABLEROWDATA
		t_RowType\n_TableRowData_ReferenceNumber%=t_TableType\n_Datatable_RowCount+1
		t_TableType\n_Datatable_RowCount%=t_RowType\n_TableRowData_ReferenceNumber%
		Select(n_DataTypeValue%)
			Case cn_DATA_TYPE_FLOAT%:	v_AddNewRowDataFloatToColumn%(hto_ColumnHandle%)
			Case cn_DATA_TYPE_INTEGER%:	v_AddNewRowDataIntToColumn%(hto_ColumnHandle%)
			Case cn_DATA_TYPE_STRING%:	v_AddNewRowDataStringToColumn%(hto_ColumnHandle%)
		End Select	
	Next
	t_RowType\hto_TableRowData_DataHandle%=hto_GetNthRowDataHandleOfColumn%(hto_ColumnHandle%,t_RowType\n_TableRowData_ReferenceNumber%)
	Return t_RowType\n_TableRowData_ReferenceNumber%
End Function

Function v_AddNewRowDataIntToColumn(hto_ColumnHandle%,n_IntValue%=0)
	Local t_ColumnType.t_TABLECOLUMN=Object.t_TABLECOLUMN(hto_ColumnHandle%)
	If (Not(t_ColumnType\n_TableColumn_DataTypeValue%&lt;&gt;cn_DATA_TYPE_INTEGER%)) Then Return
	Local t_RowType.t_TABLEROWDATA=New t_TABLEROWDATA
	t_RowType\n_TableRowData_ReferenceNumber%=(n_CountRowsInColumn%(hto_ColumnHandle%)+1)
	t_RowType\hto_TableRowData_DataColumnHandle%=hto_ColumnHandle%
	t_RowType\hto_TableRowData_DataHandle%=hto_SetStringDataValueOfRowData%(Handle(t_RowType.t_TABLEROWDATA),n_IntValue%)
End Function

Function v_AddNewRowDataFloatToColumn(hto_ColumnHandle%,f_FloatValue#=0.0)
	Local t_ColumnType.t_TABLECOLUMN=Object.t_TABLECOLUMN(hto_ColumnHandle%)
	If (Not(t_ColumnType\n_TableColumn_DataTypeValue%&lt;&gt;cn_DATA_TYPE_FLOAT%)) Then Return
	Local t_RowType.t_TABLEROWDATA=New t_TABLEROWDATA
	t_RowType\n_TableRowData_ReferenceNumber%=(n_CountRowsInColumn%(hto_ColumnHandle%)+1)
	t_RowType\hto_TableRowData_DataColumnHandle%=hto_ColumnHandle%
	t_RowType\hto_TableRowData_DataHandle%=hto_SetFloatDataValueOfRowData%(Handle(t_RowType.t_TABLEROWDATA),f_FloatValue#)
End Function

Function v_AddNewRowDataStringToColumn(hto_ColumnHandle%,s_StringValue$="")
	Local t_ColumnType.t_TABLECOLUMN=Object.t_TABLECOLUMN(hto_ColumnHandle%)
	If (Not(t_ColumnType\n_TableColumn_DataTypeValue%&lt;&gt;cn_DATA_TYPE_STRING%)) Then Return
	Local t_RowType.t_TABLEROWDATA=New t_TABLEROWDATA
	t_RowType\n_TableRowData_ReferenceNumber%=(n_CountRowsInColumn%(hto_ColumnHandle%)+1)
	t_RowType\hto_TableRowData_DataColumnHandle%=hto_ColumnHandle%
	t_RowType\hto_TableRowData_DataHandle%=hto_SetFloatDataValueOfRowData%(Handle(t_RowType.t_TABLEROWDATA),s_StringValue$)
End Function

Function v_CopyRowNumberToRowNumberOfDataTable(hto_DatatableHandle%,n_RowFrom%,n_RowTo%=0)
	Local n_RowCount%=n_QuickCountRowsFromDatatable%(hto_DatatableHandle%)
	If (Not(n_RowCount)) Then Return
	If (n_RowFrom%&lt;1) Or (n_RowFrom%&gt;n_RowCount%) Then Return
	If (n_RowTo%&lt;1) Or (n_RowTo%&gt;n_RowCount%)
		n_RowCount%=n_AddNewRowToTable%(hto_DatatableHandle%)
	End If
	Local hto_ColumnHandle%
	Local n_Count%
	Local n_DataTypeValue%
	Local hto_FromHandle%, hto_ToHandle%
	Local t_RowType.t_TABLEROWDATA
	For n_Count%=1 To cn_2DA_MAX_TABLECOLUMNS%
		hto_ColumnHandle%=hto_GetColumnHandleOfReferenceFromDatatable%(hto_DatatableHandle%,n_Count%)
		n_DataTypeValue%=n_GetDataTypeValueFromColumn%(hto_ColumnHandle%)
		hto_FromHandle%=hto_GetNthRowDataHandleOfColumn%(hto_ColumnHandle%,n_RowFrom%)
		hto_ToHandle%=hto_GetNthRowDataHandleOfColumn%(hto_ColumnHandle%,n_RowTo%)
		t_RowType.t_TABLEROWDATA = Object.t_TABLEROWDATA(hto_GetNthRowDataHandleOfColumn%(hto_ColumnHandle%,n_RowTo%))
		Select(n_DataTypeValue%)
			Case cn_DATA_TYPE_FLOAT%:	hto_SetFloatDataValueOfRowData(hto_ToHandle%,f_GetDataFloatFromRowData#(hto_FromHandle%))
			Case cn_DATA_TYPE_INTEGER%:	hto_SetIntDataValueOfRowData(hto_ToHandle%,n_GetDataIntFromRowData%(hto_FromHandle%))
			Case cn_DATA_TYPE_STRING%:	hto_SetStringDataValueOfRowData%(hto_ToHandle%,s_GetDataStringFromRowData$(hto_FromHandle%))
		End Select		
		t_RowType\hto_TableRowData_DataHandle%=hto_ToHandle%
	Next
End Function

Function hto_UpdateValueForRowDataFromString%(hto_RowDatahandle%,s_String$="")
	Select(n_GetDataTypeValueFromColumn%(hto_GetParentColumnHandleFromRow%(hto_RowDatahandle%)))
		Case cn_DATA_TYPE_FLOAT%:
			Return hto_SetFloatDataValueOfRowData%(hto_RowDatahandle%,Float#(s_String$))
		Case cn_DATA_TYPE_INTEGER%:
			Return hto_SetIntDataValueOfRowData%(hto_RowDatahandle%,Int%(s_String$))
		Case cn_DATA_TYPE_STRING%:
			Return hto_SetStringDataValueOfRowData%(hto_RowDatahandle%,s_String$)
		Default :
			Return 0
	End Select
End Function

;VISUAL

Function v_Output2DADataToScreen(s_TableName$,n_Row%,n_Column%)
	Text n_GetColumnScreenPositionXFromColumnNumber%(n_Column%),n_GetRowScreenPositionYFromRowNumber%(n_Row%),s_GetRowDataAsString$(hto_GetRowDataHandleFromRowColumnOfDatatable%(hto_GetDatatableHandleFromTableName%(s_TableName$),n_Row%,n_Column%))
End Function

Function n_GetColumnScreenPositionXFromColumnNumber%(n_Column%)
	Local n_X%=(n_Column%-1) * cn_2DA_COLUMN_WIDTH%
	If (n_X%&gt;(GraphicsWidth()-cn_2DA_COLUMN_WIDTH%)) Then n_X%=-1
	Return n_X%	
End Function

Function n_GetRowScreenPositionYFromRowNumber%(n_Row%)
	Local n_Y%=n_Row% Shl 4
	If (n_Y%&gt;GraphicsHeight()) Then n_Y%=-1
	Return n_Y%
End Function

;FILEHANDLING

Function v_WriteRowDataToFile(hst_FileHandle%,hto_RowDataHandle%)
	Local t_ColumnType.t_TABLECOLUMN=Object.t_TABLECOLUMN(hto_GetParentColumnHandleFromRow%(hto_RowDataHandle%))
	Select (t_ColumnType\n_TableColumn_DataTypeValue%)
		Case cn_DATA_TYPE_FLOAT%: WriteFloat hst_FileHandle%,f_GetDataFloatFromRowData#(hto_RowDataHandle%)
		Case cn_DATA_TYPE_STRING%: WriteString hst_FileHandle%,s_GetDataStringFromRowData$(hto_RowDataHandle%)
		Case cn_DATA_TYPE_INTEGER%: WriteInt hst_FileHandle%,n_GetDataIntFromRowData%(hto_RowDataHandle%)
	End Select
End Function

Function v_WriteCompleteDataFileFromDatatable(hto_DatatableHandle%)
	Local t_TableType.t_DATATABLE=Object.t_DATATABLE(hto_DatatableHandle%)
	If (t_TableType=Null)
		DebugLog "No data to write"
		Return
	End If
	Local ffp_FileName$=ffp_GetDataFilePathFromTableName$(t_TableType\s_Datatable_TableName$)
	Local hst_FileHandle%=WriteFile(ffp_FileName$)
	If (Not(hst_FileHandle%))
		DebugLog "Invalid name. No data written"
		Return
	End If
	Local nRowCount%=n_QuickCountRowsFromDatatable%(hto_DatatableHandle%)
	WriteInt(hst_FileHandle%,t_TableType\n_Datatable_ColumnCount%)
	WriteInt(hst_FileHandle%,t_TableType\n_Datatable_RowCount%)
	Local nIterColumns%, hto_ColumnHandle%
	Local t_RowType.t_TABLEROWDATA,hto_RowHandle%, nRowNumber%
	Local n_DataTypeValue%
	For nIterColumns%=1 To t_TableType\n_Datatable_ColumnCount%
		nRowNumber%=1
		hto_ColumnHandle%=t_TableType\ahto_TableColumn_Columns[nIterColumns-1]
		n_DataTypeValue%=n_GetDataTypeValueFromColumn%(hto_ColumnHandle%)
		WriteString(hst_FileHandle%,s_GetColumnTitleFromColumn$(hto_ColumnHandle%))
		WriteInt(hst_FileHandle%,n_DataTypeValue%)
		While (nRowNumber&lt;t_TableType\n_Datatable_RowCount%+1)
			v_WriteRowDataToFile(hst_FileHandle%,hto_RowHandle%)
			hto_RowHandle=hto_GetNthRowDataHandleOfColumn%(hto_RowHandle%,hto_ColumnHandle%)
			nRowNumber%=nRowNumber%+1
		Wend
	Next
	CloseFile hst_FileHandle%
End Function

Function ffp_GetDataFilePathFromDatafileReference$(n_DatafileReference%)
	Local ffp_DataFile$=gaffp_DataFiles[n_DatafileReference%-1]
	If ((ffp_DataFile$="") Or (Not(FileType(ffp_DataFile$)=1)))
		DebugLog "File not found "+Chr(34)+ffp_DataFile$+Chr(34)
		Return ""
	Else
		Return ffp_DataFile$
	End If
End Function

Function s_GetDatatableNameFromDataFilePath$(ffp_DataFile$)
	If ((ffp_DataFile$="") Or (Not(FileType(ffp_DataFile$)=1)))
		DebugLog "File not found "+Chr(34)+ffp_DataFile$+Chr(34)
		Return""
	End If
	Local s_TableName$=Right$(ffp_DataFile$,Len(ffp_DataFile$)-Len(d_Data$))
	s_TableName$=Left$(s_TableName$,Len(ffp_DataFile$)-4)
	Return s_TableName$
End Function

Function ffp_GetDataFilePathFromTableName$(s_TableName$)
	Local ffpDataFile$=s_TableName$=s_TableName$+".3da"
	ffpDataFile$=d_Data+s_TableName$
	If ((ffpDataFile$="") Or (Not(FileType(ffpDataFile$)=1)))
		DebugLog "File not found "+Chr(34)+ffpDataFile$+Chr(34)
		ffpDataFile$=""
	End If
	Return ffpDataFile$
End Function

;PRIVATE

; These functions apply to or generate non-specific instances, therefore should only be used by other functions where
; the expected return value can be identified in context.

Function hto_CreateNewDataTable%()
	Local t_TableType.t_DATATABLE = New t_DATATABLE
	Local n_Count%
	t_TableType\n_Datatable_ColumnCount=0
	For n_Count%=1 To 32
		t_TableType\ahto_TableColumn_Columns[n_Count%-1]=0
	Next
	Return Handle(t_TableType.t_DATATABLE)
End Function

Function hto_CreateNewColumn%()
	Local t_ColumnType.t_TABLECOLUMN=New t_TABLECOLUMN
	Return Handle(t_ColumnType.t_TABLECOLUMN)
End Function

Function hto_SetFloatDataValueOfRowData%(hto_RowDataHandle%,f_FloatValue#=0.0)
	Local hto_DataHandle%=hto_GetDataValueHandleFromRowData%(hto_RowDataHandle%)
	If (Not(hto_DataHandle%))
		Local t_DataType.t_FLOATDATA = New t_FLOATDATA
		hto_DataHandle%=Handle(t_DataType.t_FLOATDATA)
	End If
	hto_SetFloatValue%(hto_DataHandle%,f_FloatValue#)
	Return hto_SetFloatValue%(hto_GetDataValueHandleFromRowData%(hto_RowDataHandle%),f_FloatValue#)
End Function

Function hto_SetIntDataValueOfRowData%(hto_RowDataHandle%,n_IntValue=0)
	Local hto_DataHandle%=hto_GetDataValueHandleFromRowData%(hto_RowDataHandle%)
	If (Not(hto_DataHandle%))
		Local t_DataType.t_INTDATA = New t_INTDATA
		hto_DataHandle%=Handle(t_DataType.t_INTDATA)
	End If
	Return hto_SetIntValue%(hto_DataHandle%,n_IntValue%)
End Function

Function hto_SetStringDataValueOfRowData%(hto_RowDataHandle%,s_StringValue$="")
	Local hto_DataHandle%=hto_GetDataValueHandleFromRowData%(hto_RowDataHandle%)
	If (Not(hto_DataHandle%))
		Local t_DataType.t_STRINGDATA = New t_STRINGDATA
		hto_DataHandle%=Handle(t_DataType.t_STRINGDATA)
	End If
	Return hto_SetStringValue%(hto_GetDataValueHandleFromRowData%(hto_RowDataHandle%),s_StringValue$)
End Function

Function hto_SetFloatValue%(hto_DataValueHandle%,f_FloatValue#=0.0)
	Local t_DataType.t_FLOATDATA = Object.t_FLOATDATA(hto_DataValueHandle%)
	If (t_DataType.t_FLOATDATA&lt;&gt;Null)
		t_DataType\f_FloatValue#=f_FloatValue#
		Return hto_DataValueHandle%
	End If
	Return False
End Function

Function hto_SetIntValue%(hto_DataValueHandle%,n_IntValue=0)
	Local t_DataType.t_INTDATA = Object.t_INTDATA(hto_DataValueHandle%)
	If (t_DataType.t_INTDATA&lt;&gt;Null)
		t_DataType\n_IntValue%=n_IntValue%
		Return hto_DataValueHandle%
	End If
	Return False
End Function

Function hto_SetStringValue%(hto_DataValueHandle%,s_StringValue$="")
	Local t_DataType.t_STRINGDATA = Object.t_STRINGDATA(hto_DataValueHandle%)
	If (t_DataType.t_STRINGDATA&lt;&gt;Null)
		t_DataType\s_StringValue$=s_StringValue$
		Return Handle(t_DataType.t_STRINGDATA)
	End If
	Return False
End Function

Function hto_GetDataValueHandleFromRowData%(hto_RowDataHandle%)
	Local t_RowType.t_TABLEROWDATA = Object.t_TABLEROWDATA(hto_RowDataHandle%)
	If (t_RowType.t_TABLEROWDATA&lt;&gt;Null) Then Return t_RowType\hto_TableRowData_DataHandle%
	Return False
End Function

;SYNC

;Function v_VerifyDataValueOfParentRow%(hto_RowDataHandle%,hto_DataValueHandle%)
;	If (hto_GetDataValueHandleFromRowData%(hto_RowDataHandle%)&lt;&gt;hto_DataValueHandle%)
;		Local t_RowType.t_TABLEROWDATA = Object.t_TABLEROWDATA(hto_RowDataHandle%)
;		t_RowType\hto_TableRowData_DataHandle%=hto_DataValueHandle%
;	End If
;End Function

;Function v_VerifyRowDataOfParentColumn%(hto_RowDataHandle%,hto_ColumnHandle%,)
;	If (hto_GetParentColumnHandleFromRow%(hto_RowDataHandle%)&lt;&gt;hto_ColumnHandle%)
;		Local t_RowType.t_TABLEROWDATA = Object.t_TABLEROWDATA(hto_RowDataHandle%)
;		t_RowType\hto_TableRowData_DataColumnHandle%=hto_RowDataHandle%
;	End If
;End Function

;Function v_VerifyColumnnDataOfParentTable%(hto_ColumnHandle%,hto_DatatableHandle)
	;If (hto_GetParentDatatableHandleFromRow%(hto_RowDataHandle%)&lt;&gt;hto_ColumnHandle%)
	;	Local t_RowType.t_TABLEROWDATA = Object.t_TABLEROWDATA(hto_RowDataHandle%)
	;	t_RowType\hto_TableRowData_DataColumnHandle%=hto_RowDataHandle%
	;End If
;End Function

;Function VerifyParentageOfRowDataValue(hto_RowDataHandle%,hto_DataValueHandle%)

;Function v_VerifyDataValueOfParentRow%(hto_RowDataHandle%,hto_DataValueHandle%)

;Function v_VerifyGrandParentDatatableOfRow(hto_RowDataHandle%,hto_DatatableHandle%)
;	If (hto_GetParentDatatableHandleFromRow%(hto_RowDataHandle%)&lt;&gt;hto_DatatableHandle%)
;		Local n_DataType%=n_GetDataTypeValueFromColumn%(hto_GetParentColumnHandleFromRow(hto_RowDataHandle%))
;		Local hto_CurrentHandle%=
;		Select (n_DataType%)
;			Case cn_DATA_TYPE_FLOAT:



</textarea> <br><br></td></tr></table><br>
<a name="1045175"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zethrax</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can store any data type in an array as long as you declare the array as being of that data type. You can only store the data type that the array was declared for, though.<br><br>eg. Dim MyArray#( 100, 100 ) <br><br></td></tr></table><br>
<a name="1045197"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> All, thankyou for the feedback. @Warpy, your idea about incorporating 'all' the associated data into one array is a good one. I will put this slightly further down my project plan.... At the moment I am still stripping out data from an XML file. It is relatively easy now that I've stripped out the first few components (distance travelled, lat, long).<br><br>@Malice, my lawrd, thats one comprehensive little slice of code you've posted there, very much appreciated.<br><br>However it is easier (whilst prototyping, erm some may say 'hacking' with all the plans in my noggin) to digest one .dat file containing one particular type of data for the time being.<br><br>Once I sew it all together the sweet resolution would be to have everything in one array saved to the one mammoth .dat file. In fact, it would be easier to do it on the fly from the XML file however there is a little time required to process all the data from the XML file. Therefore, I'll stick with the import option. <br><br></td></tr></table><br>
<a name="1045224"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Another option, provided tyou are not using strings, may be to store the 4-bytes 'word' which can be interpreted as an Int or Float as required. <br><br></td></tr></table><br>
<a name="1045244"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leon Drake</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> @puki you can use string handles for arrays like php in blitz?? i didn;t know that <br><br></td></tr></table><br>
<a name="1045255"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> It is going great, this is what my .dat file contains:-<br><br><pre class=code>
lat53.0482long0.0
lat0.0long-0.38498
lat53.0482long0.0
lat0.0long-0.384979
lat53.0483long0.0
lat0.0long-0.384978
lat53.0484long0.0
lat0.0long-0.384923
lat53.0485long0.0
lat0.0long-0.384867
lat53.0486long0.0
lat0.0long-0.384869
lat53.0489long0.0
lat0.0long-0.384856
</pre><br><br>However, it seems as though the default float in Blitz3D is 7 digits within it (including the decimal point). My XML file has lat &amp; longs has typically got 10 places :-<br><br><pre class=code>
              &lt;LatitudeDegrees&gt;53.0482863&lt;/LatitudeDegrees&gt;
              &lt;LongitudeDegrees&gt;-0.3849778&lt;/LongitudeDegrees&gt;
</pre><br><br>Is there a way to expand the size of the default float Blitz3D uses?<br><br>Thanks in advance, if not I may resort to Puki's option of saving the string. <br><br></td></tr></table><br>
<a name="1045260"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warner</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I believe you can do that with this DLL, however, I never tried it:<br><a href="http://www.blitzbasic.co.nz/codearcs/codearcs.php?code=1905" target="_blank">http://www.blitzbasic.co.nz/codearcs/codearcs.php?code=1905</a> <br><br></td></tr></table><br>
<a name="1045273"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> The question is how much accuracy do you really need. Are all those digits in the XML file meaningful? That seems very unlikely.<br><br>For example, the latitude 53.0482863 has a final digit of 3. Is it really significant? If it were changed to a 2 or a 4 the corresponding change in position ( I'm assuming this is the Earth ) would be less that four millimeters. I doubt anything was really measured with that much precision.<br><br>Single precision floats are probably good enough. If not then you are using the wrong language. As mentioned you can use a DLL to get higher precision. But it is awkward and you will get tired of it very quickly. <br><br></td></tr></table><br>
<a name="1045286"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the additional feedback, I found the following:-<br><br><div class="quote"> <br>Avoid excessive precision (0.0001° is &lt;11 m, 1 inch is &lt;31 m).<br> <br></div><br><br>Hmm, I'm thinking I may have sufficent precision with four decimal places, which is more than sufficient for my goal with Blitz3D. Thanks for the extra feedback/stimulus!<br><br>And yep, your right Floyd it is the earth, I like a challenge but I'm not sure I'm gonna crack having a run on Mars in my lifetime - but you never know - Heh he(;-)<br><br>KML looks interesting:-<br><br><a href="http://en.wikipedia.org/wiki/Keyhole_Markup_Language" target="_blank">http://en.wikipedia.org/wiki/Keyhole_Markup_Language</a> <br><br></td></tr></table><br>
<a name="1046083"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Floyd is making sense.  I think the amount of precision loss would be negligible.  But it all depends on how much of a perfectionist you are.  :) <br><br></td></tr></table><br>
<a name="1047316"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Axel Wheeler</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> You couldn't use either the lat or long as a lookup anyway unless there are no repeats, which there appear to be in your sample above.  Still it looks like you weren't really looking for a lookup, but rather just storing floats in the array.<br><br>Did you say the file was XML?  Consider using John J.'s excellent BlitzXML:<br><br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=1393" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=1393</a><br><br>Also consider using a type to store the data:<br><br><pre class=code>
Type Location
   Field Latitude#
   Field Longitude#
End Type

Function LoadStuff()
   ;Assuming a massaged .txt file, not xml
   fileIn=ReadFile("file.txt")
   While Not Eof(fileIn)
      l.location = new location
      l\latitude=ReadShort(fileIn)
      l\longitude=ReadShort(fileIn)
   Wend
   CloseFile(fileIn)
End Function
</pre><br><br>If the file contains other stuff as in your sample, you might have to <pre class=code>
tmp$=ReadLine(fileIn) 
</pre><br>(imports as a string) instead and parse it with Left$(), Mid$(), and Right$() to get rid of the extra junk.  Then...<br><br><pre class=code>
l\latitude=tmp
</pre><br><br>will cast it back to a float.<br><br>As far as precision is concerned, I don't know how blitz will respond to attempting to load double-precision floats.  Will it just drop the extra digits (which seems to be what you want) or will it do something ... bad?  Like take a totally wrong value, or format your hard drive.  Something like that.  :-)  If so, just use the tmp.txt method and <br><br><pre class=code>
l\latitude=Left$(tmp.txt,6)
</pre><br><br>should convert only the first six characters (including the period) into the float.  Or however many you want.  I haven't tried doing that in one line like that, but it should work...<br><br>Good luck.<br><br>-Pete <br><br></td></tr></table><br>
<a name="1048069"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks pete, will try later this week. My heart rate data is buggy.... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
