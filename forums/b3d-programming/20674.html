<!DOCTYPE html><html lang="en" ><head ><title >B3D2XML (code inside)</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >B3D2XML (code inside)</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >B3D2XML (code inside)</a><br><br>
<a name="211333"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have rewritten the B3D2XML program I made some time ago, using Marks dumpb3d.bb as the framework.<br><br>I'd like if it you would test and comment, then I will get to work on the XML2B3D part, and put it all in the code archive.<br><br>If somebody has some B3D files with custom tags, I'd really like to confirm that output is ok from those. The xml is supposed to look smothing like this for an unknown tag:<br><br>&lt;MYTAG size="3456"&gt;<br>&lt;![CDATA[3456byteshere]]&gt;<br>&lt;/MYTAG&gt;<br><br>[EDIT] code moved to: <br><br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=665" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=665</a> <br><br></td></tr></table><br>
<a name="211939"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Obs: important update:<br><br>There is a small error in b3dfile.bb<br><br>Change: Function b3dReadFloat() to Function b3dReadFloat#()<br>( missing "#" )<br><br><br>Work on the xml&gt;b3d is comming along nicely, more later. <br><br></td></tr></table><br>
<a name="211941"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Peter,<br><br>I will test it tonight, haven't had time the last few days...<br><br>I'm thinking we should make some sort of framework for open source 3d importers,<br>so that there is a base set of functions that people can build on. IE. how the file<br>is loaded into banks, types or whatever. And then a few functions to build brushes,<br>textures, meshes, and animations from these banks/types/whatever.<br><br>What do you think?<br><br>Fredborg <br><br></td></tr></table><br>
<a name="212101"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Conversions both ways is done.<br><br>Check out: <br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=665" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=665</a> <br><br></td></tr></table><br>
<a name="212161"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wonderful!  Now maybe someone can finally write a Maya exporter.  Writing to your text format would be so easy that I'm tempted to try it myself but I am rather busy right now with other tasks. <br><br></td></tr></table><br>
<a name="214988"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks. I have not gotten much feedback on this. Does it mean that it's ok as it is, or that it's not really of interest to too many people?<br><br>@Fredborg: I suggested this some months ago, but responce was so poor, that I gave up on making a common project and made my own functions/typelib. Btw.: there is now a new thread, on exactly this here: <a href="http://www.blitzbasic.com/bbs/posts.php?topic=20938" target="_blank">http://www.blitzbasic.com/bbs/posts.php?topic=20938</a><br><br>My first version of b3d2xml was based on this lib, but this time I desided to make a clean rewrite, that does only b3d&gt;xml&gt;b3d. <br><br></td></tr></table><br>
<a name="215099"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tranz</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Really nice, Peter!<br><br>I had a go at this and it's beautiful.<br><br>It opens up some options for me that I didn't have before, thanks...thanks alot! <br><br></td></tr></table><br>
<a name="215123"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do you have specifications on your XML file format?  That would help a lot writing an exporter for specific 3D art tools.  As far as I can see (ie. I may have just missed it) it is just the Blitz code, no specs/description of the file format. <br><br></td></tr></table><br>
<a name="215132"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skitchy</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does it support animation? I'm downloading now... <br><br></td></tr></table><br>
<a name="215138"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tranz</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> read below<br> |<br> |<br> V <br><br></td></tr></table><br>
<a name="215167"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> The XML markup is close to a 1:1 translation of the B3D format.<br><br>Converting a couple of B3D files with the program should explain it pretty well.<br><br>As for the structure of the tags, refer to the B3D structure on the "specs and utils" page on this site.<br><br><br>Maybe there should/could be a DTD (Document Type Definition see http://www.ucc.ie:8080/cocoon/xmlfaq) but I'm not sure it's worth the trouble.<br><br>As for the specific markup, here is a little intro:<br><br>First tag is a  &lt;?xml version="1.0" ?&gt;<br>All XML files must have such a tag.<br><br>Next is the b3d chunk, and following sub chunks.<br><br><br>examples:<br><br>The BB3D chunk is marked up like this:<br>&lt;BB3D version="1" exporter="dumpb3dasxml version 0.1"&gt;<br>or simply:<br>&lt;BB3D version="1"&gt;<br><br>All B3D chunks are directly translated into a tag with the same name as the chunk.<br><br>Ex: The TEXS chunk is wrapped in: &lt;TEXS&gt; &lt;/TEXS&gt; tags<br><br>Then for each texture in the TEXS chunk a self closing tag is written like this:<br><br>&lt;TEXTURE name="mypicure.jpg" flags="1" blend="2" xpos="0.0" ypos="0.0" xscale="1.0" yscale="1.0" rot="0.0"/&gt; <br><br>The BRUS chunk is written like this: <br><br>&lt;BRUS count="1"&gt;<br>  &lt;BRUSH name="Material0" red="0.8" green="0.8" blue="0.8" alpha="1.0" shininess="0.0" blend="1" fx="0" texture0="0" /&gt; <br>&lt;/BRUS&gt;<br><br>had there been more than one texture in that brush, it would have had additional:<br>texture1="4"<br>texture2="2"<br>etc.<br><br>attributes.<br><br>For those chunks that have information assigned to them, this is written as attributes in the starting tag.<br><br>ex: &lt;NODE name="ROOT" xpos="0.0" ypos="0.0" zpos="0.0" xscale="1.0" yscale="1.0" zscale="1.0" wrot="1.0" xrot="0.0" yrot="0.0" zrot="0.0"&gt;<br><br><br>A vertex is described as: <br><br>&lt;VERTEX x="-0.002561" y="2.19739" z="-0.046953" u0="0.87949" v0="0.036783" u1="0.87949" v1="0.036783" /&gt; <br><br>u0, v0,w0 are for texture coord set 1<br>u1, v1,w1 are for texture coord set 2<br>etc.<br><br>A vertex normal would be : nx="-1" ny="0" nz="0"<br><br>etc. etc.<br><br><br>Please ask questions on anything that is not clear. <br><br></td></tr></table><br>
<a name="215217"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Tranz, I know what XML is but that is just a generic description and does not cover the specifics of Peter's use of XML to describe a 3D model.  His reply is pretty much what I was asking for, specifics of how the data is represented in the XML file.  It sounds like your XML file format is pretty much the same as the B3D file format only with XML style tags bracketing data chunks. <br><br></td></tr></table><br>
<a name="215985"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ricky Smith</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Peter   - Many Thankz for very good and useful routines ! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
