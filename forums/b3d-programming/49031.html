<!DOCTYPE html><html lang="en" ><head ><title >Alpha texture</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Alpha texture</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Alpha texture</a><br><br>
<a name="545452"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bob13</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi !<br><br>I created a .PNG texture with an alpha map.  I loaded my object and applied the texture. <br><br>... <br>Tex = loadtexture("test.png",1+2)<br>EntityTexture Test,Tex<br>...<br><br>Now, where the alpha map is black the object is transparent but also a little bit where the alpha map is white.<br><br>Is anybody knows Why ?<br><br>I tried with .TGA... .BMP... the same problem !<br><br>Thanks for your help.<br><br>Bob <br><br></td></tr></table><br>
<a name="545479"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> If it's only the contours of the white parts (eg. when you use single pixel width lines) then it may have something to do with filtering / mipmapping.<br><br>You could try this:<br>Cleartexturefilters<br>texturefilter "",1+2<br>tex=loadtexture("x.png")<br>cleartexturefilters<br>texturefilter "",1+8 ; default<br><br>But textures without mipmapping may be very slow on some cards. Also make sure your white is really 255,255,255 <br><br></td></tr></table><br>
<a name="545489"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Banshee</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> You havn't got entityBlend on have you?  Make sure you set the entity to use alpha blending and not leave it set to default colourkey masking. <br><br></td></tr></table><br>
<a name="545917"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bob13</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> No entityBlend<br>Just EntityFX Test,1+16 for double side.<br><br>I think the .PNG texture is a 24bit and I dont know how to make a 32bit .PNG file... <br><br></td></tr></table><br>
<a name="545937"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Free version of Ultimate Paint can save the alpha channel (32 bit png) in a png file. <br><br></td></tr></table><br>
<a name="546068"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Banshee</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I may be wrong because I havn't experimented with png transparency but you might want to try adding +32 to your entityFX for alpha blending on. <br><br></td></tr></table><br>
<a name="831840"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gillissie</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have this problem with certain textures too. I can't figure out why some textures work correctly and some cause approximately 50% transparency across the entire texture when loaded with the 2 flag, even in places where the alpha channel is pure white. This is very frustrating! <br><br></td></tr></table><br>
<a name="831846"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gillissie</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have figured out that this only happens when you're loading a texture that doesn't have alpha info (such as a 24-bit png), but you have the 2 flag on. For some reason the alpha pixels seem to default to some middle value instead of pure white, and since the image doesn't provide any alpha info to override it, you get a partially transparent image.<br><br>This seems like a bug to me, where the default alpha channel value should be pure white instead of whatever it is now. <br><br></td></tr></table><br>
<a name="831852"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay several points:<br><br>1 - It's generally bad form to resurrect a 2 year old thread.  That's not a big deal in this case because you had a substantive question to add, but it's still a little confusing.<br><br>2 - In your first post you specifically stated "even in places where the alpha channel is pure white" but then in your second post said it only happens when there is no alpha info.  If anyone had tried to help you it would have been an incredibly frustrating runaround because of that misinformation.  Try to be careful not to tell us facts which aren't true.<br><br>3 - Actually as I recall what happens is that Blitz uses the image itself as the alpha channel.  Imagine if you desaturated the image to make it greyscale and used that as the alpha channel.  I don't recall exactly though so that may be incorrect.<br><br>4 - Rather than consider it a bug, you could simply not turn alpha transparency on when there is no alpha channel.  Put another way, why are you turning on alpha transparency if you want the image to be fully solid? <br><br></td></tr></table><br>
<a name="831872"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Your correct on point 3. When masking, it takes a cut off of alpha value at 128. Above that is masked, below that is not masked. <br><br></td></tr></table><br>
<a name="832055"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leon Drake</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> works fine if i set entityalpha 0.99<br><br>usually i use those as an opacity map, do white and then in either gimp or photoshop to the alpha fade that way.  then i use it with entityblend with another texture and set the alpha to 0.99 and it looks fine. <br><br></td></tr></table><br>
<a name="832141"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gillissie</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> @jhocking:<br>1 - I didn't see a resolution, so I considered it still open, regardless of age. Now it has a resolution and I promise not to bring it back in a couple years. :)<br><br>2 - This was part of the reason for my quick follow-up post. At first I thought I was using a 32-bit image with full alpha because I specified to save the transparency from Photoshop. Apparently Photoshop ignores that request when it doesn't detect any transparency, and saves it as 24 bit for you (gotta love automatic crap like that). When I realized that my image was actually saved as 24-bit, I posted the followup.<br><br>3 - It doesn't really matter at this point, since I figured out the workaround.<br><br>4- Well, it is a bug even if there is a workaround. But the reason I was loading with the 2 flag unconditionally is because the LoadTexture function was inside a function that may or may not load an image with alpha transparency. I just used the 2 flag to cover all bases. Now that I know that is causing the issue, I added an argument to the function to specify whether or not to use the 2 flag. <br><br></td></tr></table><br>
<a name="832220"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> What does it matter if you bring an old thread back?<br>It's still as relevant as ever, and I still read every word to fill in the gaps in my own knowledge.<br>Thanks, Todd. <br><br></td></tr></table><br>
<a name="832327"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's not a bug because that behavior is done on purpose (ie. mark meant for it to use the image as the alpha when there is no alpha channel.)  And it's not a workaround to create an alpha channel for using with alpha transparency, that's just how alpha transparency works.  As in, it's not a workaround to do what you are supposed to do.  A workaround is when you figure out a way to accomplish something even though the correct method is broken.<br><br>Not important, just semantics that were needling me. <br><br></td></tr></table><br>
<a name="832645"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gillissie</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Regardless,  I don't remember seeing that "feature" documented, so the clarification here was worth it. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
