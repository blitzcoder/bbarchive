<!DOCTYPE html><html lang="en" ><head ><title >Single surface systems</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Single surface systems</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Single surface systems</a><br><br>
<a name="395878"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Lilprog</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry for being the newbie that asks alot of questions, alot of people suggested i use a single surface system for my crowds in my baseball game, and I hvent found much documentation on it, can anyone give a basic explanation of how it works? <br><br></td></tr></table><br>
<a name="395886"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Make a mesh.<br><br>Make a surface in the mesh.<br><br>Add polygons to that surface.  For example, quads with a masked image on them that represents a member of the crowd.<br><br>At runtime, if desired, move selected vertices around to make the quads move about within the mesh, which makes the quads appear to move about within the world as if they are individual entities.<br><br>Optionally, clear and re-add triangles in mesh each frame after sorting them by distance.  Only neccessary if using alpha mapping rather than masking, and not neccessary for a crowd that doesn't move at all if the camera stays in the field with the crowd surroudning it and you have ordered the polygons right in the first place.  (Farthest from center of field first.) <br><br></td></tr></table><br>
<a name="395890"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Lilprog</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Then you are duplicating the entity? or the mesh?  Im just curious how you are multiplying this in order to get fast speeds.  Im presuming that a textured quad renders faster than a sprite even though in theory they are the same thing? <br><br></td></tr></table><br>
<a name="395922"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> You only have 1 entity and 1 mesh in a single surface system.  Say you wanted 100 people in the crowd with each person represented by a quad.  You would do the following:<br><br>Create a mesh.<br>Create a surface for the mesh with the appropriate brush which contains your picture of the person/people in the crowd.<br><br>For each person you want to make:<br>Add 4 vertices positioned so they form a rectangular shape, create triangles joining those 4 vertices so that they form a quad. <br><br>Keep adding vertices and making triangles until you have as many quads as you want.<br><br>They will all share the same surface and be part of the same mesh/entity.<br><br>This means though that you cannot use the normal positionentity/moventity commands as if you try and either move the entity or mesh you will move ALL the quads.  You need some system of moving individual vertices around the world you create.  Also, if you want to change the picture that is on the quad then you will need to alter the uv coordinates of the vertices that make up that quad so that a different region of your brush is displayed on that quad. <br><br></td></tr></table><br>
<a name="395992"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rhyolite</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I found looking at some of the single surface code in the archives very useful as an aid to understanding. Some of the 'particle systems' and '2D text in 3D' use single surface, but there are others too.<br><br>In case you are unaware, the more surfaces you have in your application, the slower it will run. So, without going to extremes, its always best to minimise your surfaces. Coding single surface is more difficult (at least initialy) and goes against what feels to be the 'natural' way of doing things!<br><br>Rhy Out <br><br></td></tr></table><br>
<a name="396084"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Also keep in mind that if you move any vertex that all vertices have to be updated on the video card.  This limits the number of quads you can get away with using.  I think I've seen some folks do somehting like 10K particles at once, each a quad, but that's more than you should use, I think the FPS was like 20 at that point.  <br><br>And of course you can use additional surfaces or entities if you need different single suprface groups to use different apprance properties that you cannot achieve through vertex manipulation. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
