<!DOCTYPE html><html lang="en" ><head ><title >2D RPG help</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >2D RPG help</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >2D RPG help</a><br><br>
<a name="1220845"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello all. As you know, I've been working on my project for a while now. I however have decided to try creating my game in 2D, USING 3D so it's much easier to make.<br><br>Now my problem is, I need to know if there are any tutorials around that are still online which are RPG demos. (Like map scrolling, tile editors, etc...)<br><br>Can someone please point me in the right direction?<br><br>Thank You all so kindly!<br><br>Have a great afternoon!<br><br>~GW <br><br></td></tr></table><br>
<a name="1220904"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> There's a "playable" (it's like 10 seconds long but anyway) example of a SNES-style topdown RPG* in the code archives here: <a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=1996" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=1996</a><br><br>The image link seems to be dead but it's this one:<br><img src="https://dl.dropboxusercontent.com/u/46635275/RPGScriptDemo.png"><br><br>*<font class="tiny">no stats, no fights, no shops, no anything... but you can move around and there's a cutscene</font> <br><br></td></tr></table><br>
<a name="1220909"></a>

<a name="1257155"></a>

<a name="1257173"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks alot, Yasha. Is there a tile scroller RPG with a small 4 movement animated player? I've tried to create one, but I've run into a problem with the animation. I will post it below.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">; Common keys:
Const VK_LEFTMOUSE 				= $01	; Left physical mouse button 
Const VK_RIGHTMOUSE 			= $02	; Right physical mouse button
Const VK_MIDDLEMOUSE			= $04	; Middle physical mouse button 
Const VK_BACKSPACE				= $08	; BACKSPACE key
Const VK_TAB 					= $09	; TAB key
Const VK_ENTER 					= $0D	; ENTER key (Main keyboard or keypad)
Const VK_SHIFT 					= $10	; SHIFT key (Left or right)
Const VK_CONTROL 				= $11	; CTRL key (Left or right)
Const VK_ALT 					= $12	; ALT key (Left or right)
Const VK_PAUSE 					= $13	; PAUSE key
Const VK_CAPITAL 				= $14	; CAPS LOCK key
Const VK_ESCAPE 				= $1B	; ESC key
Const VK_SPACE 					= $20	; SPACEBAR
Const VK_PGUP 					= $21	; PAGE UP key
Const VK_PGDN 					= $22	; PAGE DOWN key
Const VK_END 					= $23	; END key
Const VK_HOME 					= $24	; HOME key
Const VK_LEFT 					= $25	; LEFT ARROW key
Const VK_UP 					= $26	; UP ARROW key
Const VK_RIGHT 					= $27	; RIGHT ARROW key
Const VK_DOWN 					= $28	; DOWN ARROW key
Const VK_PRINTSCRN 				= $2C	; PRINT SCREEN key
Const VK_INSERT 				= $2D	; INSERT key
Const VK_DELETE 				= $2E	; DELETE key
Const VK_0 						= $30
Const VK_1 						= $31
Const VK_2 						= $32
Const VK_3 						= $33
Const VK_4 						= $34
Const VK_5 						= $35
Const VK_6 						= $36
Const VK_7 						= $37
Const VK_8 						= $38
Const VK_9 						= $39
Const VK_A 						= $41
Const VK_B 						= $42
Const VK_C 						= $43
Const VK_D 						= $44
Const VK_E 						= $45
Const VK_F 						= $46
Const VK_G 						= $47
Const VK_H 						= $48
Const VK_I 						= $49
Const VK_J 						= $4A
Const VK_K 						= $4B
Const VK_L 						= $4C
Const VK_M 						= $4D
Const VK_N 						= $4E
Const VK_O 						= $4F
Const VK_P 						= $50
Const VK_Q 						= $51
Const VK_R 						= $52
Const VK_S 						= $53
Const VK_T 						= $54
Const VK_U	 					= $55
Const VK_V 						= $56
Const VK_W 						= $57
Const VK_X 						= $58
Const VK_Y		 				= $59
Const VK_Z 						= $5A
Const VK_LEFTWIN				= $5B	; Left Windows key 
Const VK_RIGHTWIN				= $5C	; Right Windows key
Const VK_NUMPAD0 				= $60
Const VK_NUMPAD1 				= $61
Const VK_NUMPAD2 				= $62
Const VK_NUMPAD3 				= $63
Const VK_NUMPAD4 				= $64
Const VK_NUMPAD5 				= $65
Const VK_NUMPAD6 				= $66
Const VK_NUMPAD7 				= $67
Const VK_NUMPAD8 				= $68
Const VK_NUMPAD9 				= $69
Const VK_MULTIPLY 				= $6A	; Keypad *
Const VK_ADD 					= $6B	; Keypad +
Const VK_SEPARATOR 				= $6C	; Keypad /
Const VK_SUBTRACT 				= $6D	; Keypad -
Const VK_DECIMAL 				= $6E	; Keypad .
Const VK_DIVIDE 				= $6F	; Keypad \
Const VK_F1 					= $70
Const VK_F2 					= $71
Const VK_F3 					= $72
Const VK_F4 					= $73
Const VK_F5 					= $74
Const VK_F6 					= $75
Const VK_F7 					= $76
Const VK_F8 					= $77
Const VK_F9 					= $78
Const VK_F10 					= $79
Const VK_F11 					= $7A
Const VK_F12 					= $7B
Const VK_NUMLOCK 				= $90	
Const VK_SCROLLLOCK 			= $91	
Const VK_LEFTSHIFT				= $A0	; Windows 95 does not support the left and right distinguishing constants.	
Const VK_RIGHTSHIFT				= $A1	
Const VK_LEFTCTRL				= $A2	
Const VK_RIGHTCTRL				= $A3	
Const VK_LEFTALT				= $A4	
Const VK_RIGHTALT				= $A5

; Less common keys:
; Some of the keys here would seem to be common keys, but the documentation does not say they work in 95/98, 
; so I did not include them with the other keys above just to be safe.
Const VK_CANCEL 				= $03	; Control-break processing
Const VK_X1MOUSE				= $05	; Windows 2000/XP: X1 mouse button
Const VK_X2MOUSE				= $06	; Windows 2000/XP: X2 mouse button
Const VK_CLEAR 					= $0C	; CLEAR key
Const VK_SELECT 				= $29	; SELECT key
Const VK_EXECUTE 				= $2B	; EXECUTE key
Const VK_PRINT 					= $2A	; PRINT key
Const VK_HELP 					= $2F	; HELP key
Const VK_KANA					= $15	; Input Method Editor (IME) Kana mode
Const VK_HANGUL					= $15	; IME Hangul mode
Const VK_JUNJA					= $17	; IME Junja mode
Const VK_FINAL 					= $18	; IME final mode
Const VK_KANJI 					= $19	; IME Hanja/Kanji mode	
Const VK_CONVERT 				= $1C	; IME convert
Const VK_NONCONVERT				= $1D	; IME nonconvert
Const VK_ACCEPT					= $1E	; IME accept
Const CK_MODECHANGE				= $1F	; IME mode change request
Const VK_APPS 					= $5D	; Applications key 
Const VK_SLEEP					= $5F	; Computer Sleep key
Const VK_F13 					= $7C
Const VK_F14 					= $7D
Const VK_F15 					= $7E
Const VK_F16 					= $7F
Const VK_F17 					= $80
Const VK_F18 					= $81
Const VK_F19 					= $82
Const VK_F20 					= $83
Const VK_F21 					= $84
Const VK_F22 					= $85
Const VK_F23 					= $86
Const VK_F24 					= $87
Const VK_BROWSER_BACK			= $A6	; Windows 2000/XP: Browser Back key
Const VK_BROWSER_FORWARD		= $A7	; Windows 2000/XP: Browser Forward key
Const VK_BROWSER_REFRESH 		= $A8	; Windows 2000/XP: Browser Refresh key
Const VK_BROWSER_STOP 			= $A9	; Windows 2000/XP: Browser Stop key
Const VK_BROWSER_SEARCH 		= $AA	; Windows 2000/XP: Browser Search key 
Const VK_BROWSER_FAVORITES		= $AB	; Windows 2000/XP: Browser Favorites key
Const VK_BROWSER_HOME 			= $AC	; Windows 2000/XP: Browser Start And Home key
Const VK_VOLUME_MUTE 			= $AD	; Windows 2000/XP: Volume Mute key
Const VK_VOLUME_DOWN 			= $AE	; Windows 2000/XP: Volume Down key
Const VK_VOLUME_UP 				= $AF	; Windows 2000/XP: Volume Up key
Const VK_MEDIA_NEXT_TRACK		= $B0	; Windows 2000/XP: Next Track key
Const VK_MEDIA_PREV_TRACK 		= $B1	; Windows 2000/XP: Previous Track key
Const VK_MEDIA_STOP 			= $B2	; Windows 2000/XP: Stop Media key
Const VK_MEDIA_PLAY_PAUSE 		= $B3	; Windows 2000/XP: Play/Pause Media key
Const VK_LAUNCH_MAIL 			= $B4	; Windows 2000/XP: Start Mail key
Const VK_LAUNCH_MEDIA_SELECT	= $B5	; Windows 2000/XP: Select Media key
Const VK_LAUNCH_APP1 			= $B6	; Windows 2000/XP: Start Application 1 key
Const VK_LAUNCH_APP2 			= $B7	; Windows 2000/XP: Start Application 2 key	
Const VK_OEM_1 					= $BA	; Windows 2000/XP: For the US standard keyboard, the ';:' key
Const VK_OEM_PLUS 				= $BB	; Windows 2000/XP: For any country/region, the '+' key
Const VK_OEM_COMMA 				= $BC	; Windows 2000/XP: For any country/region, the ', ' key
Const VK_OEM_MINUS 				= $BD	; Windows 2000/XP: For any country/region, the '-' key
Const VK_OEM_PERIOD 			= $BE	; Windows 2000/XP: For any country/region, the '.' key
Const VK_OEM_2 					= $BF	; Windows 2000/XP: For the US standard keyboard, the '/?' key
Const VK_OEM_3 					= $C0	; Windows 2000/XP: For the US standard keyboard, the '`~' key
Const VK_OEM_4 					= $DB	; Windows 2000/XP: For the US standard keyboard, the '[{' key
Const VK_OEM_5 					= $DC	; Windows 2000/XP: For the US standard keyboard, the '\|' key
Const VK_OEM_6 					= $DD	; Windows 2000/XP: For the US standard keyboard, the ']}' key
Const VK_OEM_7					= $DE	; Windows 2000/XP: For the US standard keyboard, the 'single-quote/double-quote' key
Const VK_OEM_8					= $DF	; Used for miscellaneous characters; it can vary by keyboard.
Const VK_ICO_F17				= $E0	
Const VK_ICO_F18				= $E1	
Const VK_OEM102					= $E2	; Windows 2000/XP: Either the angle bracket key or the backslash key on the RT 102-key keyboard
Const VK_ICO_HELP				= $E3
Const VK_ICO_00					= $E4	
Const VK_PROCESSKEY				= $E5	; Windows 95/98/Me, Windows NT 4.0, Windows 2000/XP: IME PROCESS key
Const VK_ICO_CLEAR				= $E6
Const VK_PACKET					= $E7	; Windows 2000/XP: Used to pass Unicode characters as if they were keystrokes.
Const VK_OEM_RESET				= $E9
Const VK_OEM_JUMP				= $EA
Const VK_OEM_PA1				= $EB
Const VK_OEM_PA2				= $EC
Const VK_OEM_PA3				= $ED
Const VK_OEM_WSCTRL				= $EE
Const VK_OEM_CUSEL				= $EF
Const VK_OEM_ATTN				= $F0
Const VK_OEM_FINNISH			= $F1
Const VK_OEM_COPY				= $F2
Const VK_OEM_AUTO				= $F3
Const VK_OEM_ENLW				= $F4
Const VK_OEM_BACKTAB			= $F5
Const VK_ATTN					= $F6	; Attn key
Const VK_CRSEL					= $F7	; CrSel key
Const VK_EXSEL					= $F8	; ExSel key
Const VK_EREOF 					= $F9	; Erase EOF key
Const VK_PLAY 					= $FA	; Play key
Const VK_ZOOM 					= $FB	; Zoom key
Const VK_NONAME 				= $FC	; Reserved
Const VK_PA1 					= $FD	; PA1 key
Const VK_OEM_CLEAR				= $FE	; Clear key

Graphics3D 800, 600, 0, 2

SetBuffer BackBuffer()

SeedRnd MilliSecs()

AmbientLight 255, 255, 255

Global player, player_tex, tmrplayer

Global facing = 2

Global moving
Global walking
Global idle

;Global campivot = CreatePivot() 

Global cam = CreateCamera()
MoveEntity cam, 0, 1.001, -5
CameraRange cam, 0.1, 10000.0

Dim music_array$(max_music)
music_array$(0) = "King Edward's Castle (arranged).ogg"

Global maintheme = LoadSound(music_array$(0))

Global max_frames = 15

Global player_frame_width = 88
Global player_frame_height = 96

;0: nothing (Default)
;1: full-bright
;2: use vertex colors instead of brush Color
;4: flatshaded
;8: disable fog
;16: disable backface culling
;32: force alpha-blending

player_frame_width = 88
player_frame_height = 96

Const tex_color = 1 ; Color texture 
Const tex_alpha = 2 ; Alpha texture (Include alpha channel data) 
Const tex_mask = 4 ; Masked texture (black is transparent) 
Const tex_mipmap = 8 ; Create texture mipmaps 
Const tex_clampu = 16 ; Restrict U texture coords from "bleeding over" 
Const tex_clampv = 32 ; Restrict V texture coords from "bleeding over" 
Const tex_envshpere = 64 ; Load texture as a spherical environment map 
Const tex_vram = 256 ; Force texture graphics to vram 
Const tex_highcolor = 512 ; Forces texture graphics to be 32-bits per pixel 

;load non mip-mapped textures here
ClearTextureFilters()
TextureFilter "", 1

Global framespeed# = 0.1

Global start_frame

Global walkup_start_frame = 12
Global walkup_end_frame = 15

Global walkdown_start_frame = 0
Global walkdown_end_frame = 3

Global currentframe# = walkdown_start_frame

player = CreateQuad(3.0, 3.0, -1)

player_tex = LoadAnimTexture("freedan1qu.png", (tex_color+tex_alpha+tex_mask+tex_mipmap+tex_clampu+tex_clampv+tex_vram+tex_highcolor), player_frame_width, player_frame_height, start_frame, max_frames)

prepare_texture(player_tex, walkdown_start_frame)

texture_mask_colour(player_tex, 34, 177, 76, 30)

Global ground = CreatePlane()
EntityColor ground, 0, 64, 0

Global start_x = (GraphicsWidth()/2-TextureWidth(player_tex)/2)
Global start_y = (GraphicsHeight()/2-TextureHeight(player_tex)/2)

Global x#
Global y#
Global player_z#

Global playerspeed#

Global face = 0

;SoundVolume maintheme, 0.25

;LoopSound maintheme

;PlaySound maintheme

;ClearTextureFilters()
;TextureFilter "", 1+8
;load mip-mapped textures here

	While Not GDI_VKeyDown(VK_ESCAPE)

		moving = 0

		texture_mask_colour(player_tex, 34, 177, 76, 30)
		
		UpdateWorld

		;Render our scene
		RenderWorld

			;Get Controls
			Get_Controls()
	
			;Draw Player
			Draw_player(player, player_tex, walkdown_start_frame)

			If Not ((GDI_VKeyDown(VK_UP, 1)) And (GDI_VKeyDown(VK_DOWN, 1))) Or ((GDI_VKeyDown(VK_DOWN, 1)) And (GDI_VKeyDown(VK_UP, 1)))

				If Not ((GDI_VKeyDown(VK_W, 1)) And (GDI_VKeyDown(VK_DOWN, 1))) Or ((GDI_VKeyDown(VK_DOWN, 1)) And (GDI_VKeyDown(VK_W, 1)))
	
					;Animate Player
					Animate_player(face, player, player_tex, framespeed#, playerspeed#)

				EndIf
	
			EndIf

			Text 0, 0, "x#: "+x#
			Text 0, 20, "y#: "+y#
			Text 0, 40, "player_z#: "+player_z#
			Text 0, 60, "face: "+facing
			Text 0, 80, "moving: "+moving
			Text 0, 100, "walkdown_start_frame: "+walkdown_start_frame
			Text 0, 120, "walkdown_end_frame: "+walkdown_end_frame
			Text 0, 140, "currentframe#: "+Float(currentframe#)

		Flip
	
	Wend

End

;Controls
Function Get_Controls()

	FlushKeys()

		If Not ((GDI_VKeyDown(VK_UP, 1)) And (GDI_VKeyDown(VK_DOWN, 1)))

			If (GDI_VKeyDown(VK_SHIFT, 1) Or GDI_VKeyDown(VK_SHIFT, 1))  = 0 Then playerspeed# = 0.1
			If (GDI_VKeyDown(VK_SHIFT, 1) Or GDI_VKeyDown(VK_SHIFT, 1)) &lt;&gt; 0 Then playerspeed# = 0.3

			If (GDI_VKeyDown(VK_W, 1) Or GDI_VKeyDown(VK_UP, 1)) Then player_z# = player_z# + playerspeed#: face = 8 : moving = 1 : walking = 1 ; up
			If (GDI_VKeyDown(VK_S, 1) Or GDI_VKeyDown(VK_DOWN, 1)) Then player_z# = player_z# - playerspeed#: face = 2 : moving = 1 : walking = 1 ; down

			;If (GDI_VKeyDown(VK_A, 1) Or GDI_VKeyDown(VK_LEFT, 1)) Then x# = x# - playerspeed#: face = 4 : moving = 1 : walking = 1 ; left
			;If (GDI_VKeyDown(VK_D, 1) Or GDI_VKeyDown(VK_RIGHT, 1)) Then x# = x# + playerspeed#: face = 6 : moving = 1 : walking = 1 ; right

			;If (GDI_VKeyDown(VK_W, 1) Or GDI_VKeyDown(VK_UP, 1)) And (GDI_VKeyDown(VK_A, 1) Or GDI_VKeyDown(VK_LEFT, 1)) Then face = 7: moving = 1 : walking = 1 ; up-left
			;If (GDI_VKeyDown(VK_S, 1) Or GDI_VKeyDown(VK_DOWN, 1)) And (GDI_VKeyDown(VK_A, 1) Or GDI_VKeyDown(VK_LEFT, 1)) Then face = 1 : moving = 1 : walking = 1 ; down-left
			;If (GDI_VKeyDown(VK_W, 1) Or GDI_VKeyDown(VK_UP, 1)) And (GDI_VKeyDown(VK_D, 1) Or GDI_VKeyDown(VK_RIGHT, 1)) Then face = 9 : moving = 1 : walking = 1 ; up-right
			;If (GDI_VKeyDown(VK_S, 1) Or GDI_VKeyDown(VK_DOWN, 1)) And (GDI_VKeyDown(VK_D, 1) Or GDI_VKeyDown(VK_RIGHT, 1)) Then face = 3 : moving = 1 : walking = 1 ; down-right
			
			PositionEntity(player, x#, 1.001, player_z#)

		Else
		
			face = 0
			playerspeed# = 0
			
		EndIf

	FlushKeys()

End Function

;Draw player
Function Draw_player(player, playertex, curr_frame)

	EntityTexture player, playertex, curr_frame

End Function

;Animations
Function Animate_player(facing, player, player_tex, framespeed#, playerspeed#)

	If moving

		If walking
		
			If facing = 8

				currentframe# = currentframe# + framespeed#
	
				start_frame = walkup_start_frame
	
				end_frame = walkup_end_frame
				
			EndIf

			If facing = 2

				currentframe# = currentframe# + framespeed#

				start_frame = walkdown_start_frame

				end_frame = walkdown_end_frame
				
			EndIf
			
		EndIf

		If ( Floor( currentframe# ) &gt; end_frame - 1 )
	
			currentframe# = start_frame
	
		EndIf

	EndIf

	EntityTexture player, player_tex, currentframe#

End Function

Function GDI_VKeyDown(VirtualKey, IgnoreFocus=False)
	
	If (IgnoreFocus = True) And (api_GetActiveWindow() = 0) Then Return
	Return (api_GetAsyncKeyState%(VirtualKey) And %1000000000000000) &gt; 0
	
End Function

;--------------------------------------------------------------------
;  This function will clear a texture of all it's alpha information |
;--------------------------------------------------------------------
;parameters  =  texture : the texture you wish to clear alpha information from
Function prepare_texture(texture, totalframes=1)
	
	Local X
	Local Y
	Local RGB1
	Local r
	Local g
	Local b
	Local a
	Local RGB2
	
	Local Buffer
	
	Local frame
	
	For frame=1 To totalframes
		Buffer=TextureBuffer(texture, frame)
		
		LockBuffer Buffer
		
		For Y=0 To FrameHeight-1
			For X=0 To FrameWidth
				RGB1=ReadPixelFast(X, Y, Buffer)
				r=(RGB1 And $FF0000)Shr 16;separate out the red
				g=(RGB1 And $FF00) Shr 8;green
				b=RGB1 And $FF;and blue parts of the color
				a=(RGB1 And $FF000000)Shr 24
				
				a=255; remove any alpha information currently in the texture.
				
				RGB2= (a Shl 24) Or (r Shl 16) Or (g Shl 8) Or b; combine the ARGB back into a number
				
				WritePixelFast(X, Y, RGB2, Buffer); write the info back to the texture
			Next
		Next
		
		UnlockBuffer Buffer
	Next
	
End Function


;---------------------------------------------------------------------
;  This function will mask the passed across RGB of the texture also |
;  passed across. Do NOT pass across a value for flag if you only    |
;  want to mask an exact colour.                                     |
;---------------------------------------------------------------------
;parameters = texture   : the texture you wish to clear alpha information from
;           = r1        : the red value to mask
;           = g1        : the green value to mask
;           = b1        : the blue value to mask
;           = tolerance : the tolerance value. If set to 0, then the function will only mask the
;                         EXACT colours passed across. Higher value will mask values close to the colour.

Function texture_mask_colour(texture, r1, g1, b1, TotalFrames=1, tolerance=0)
	
	Local X
	Local Y
	Local RGB1
	Local RGB2
	Local Buffer
	Local r
	Local g
	Local b
	Local a
	Local Frame
	
	For Frame=1 To TotalFrames
		Buffer=TextureBuffer(texture, Frame)
		LockBuffer Buffer
			For Y=0 To FrameHeight-1
			For X=0 To FrameWidth-1
				RGB1=ReadPixelFast(X, Y, Buffer) ; read the RGB value from the texture
				r=(RGB1 And $FF0000)Shr 16;separate out the red
				g=(RGB1 And $FF00) Shr 8;green
				b=RGB1 And $FF;and blue parts of the color
				a=(RGB1 And $FF000000)Shr 24 ; extract the alpha
				
				If r&gt;=r1-tolerance And r=&lt;r1+tolerance And g=&gt;g1-tolerance And g=&lt;g1+tolerance And b=&gt;b1-tolerance And b=&lt;b1+tolerance Then; check RGB lies with the tolerance
					;temp=((Abs(r-r1)+Abs(g-g1)+Abs(b-b1))/3.0)*4.0 ; alpha the values based on the tolerance value
					a=0;temp
					
				End If
				
				RGB2= (a Shl 24) Or (r Shl 16) Or (g Shl 8) Or b ; combine the ARGB back into one value
				
				WritePixelFast(X, Y, RGB2, Buffer); write back to the texture
			Next
		Next
		UnlockBuffer Buffer
	Next
	
End Function


Function CreateQuad(width#, height#, order%=-1, parent%=False)

	Local v0, v1, v2, v3
	Local Point, Surface
	
	If Not parent = False
		Point = CreateMesh(parent)
			Else
				Point = CreateMesh()
	EndIf
	
	If order &lt;&gt; 0
		EntityOrder Point, order
	EndIf
	
	EntityFX Point, 1
			
	Surface = CreateSurface(Point)
	
	v0=AddVertex(Surface, -(width*.5), (height*.5), 0, 0, 0)
	v1=AddVertex(Surface, (width*.5), (height*.5), 0, 1, 0)
	v2=AddVertex(Surface, -(width*.5), -(height*.5), 0, 0, 1)
	v3=AddVertex(Surface, (width*.5), -(height*.5), 0, 1, 1)
	
	AddTriangle(Surface, v0, v1, v2)
	AddTriangle(Surface, v1, v3, v2)
	
	Return Point

End Function
</textarea><br><br>And here's the sprite sheet: <br><br>freedan1qu.png: <br><br><img src="http://i.imgur.com/ppGdMtV.png"><br><br>Be sure to rename the above image to <b><i>freedan1qu.png</i></b>, or the source code won't work.<br><br>In short, what I want to do is make the player animate add a simple 256x150 tilemap and make the map scroll with the player all the way up to the border where the player will hit a wall and stop. Once I am able to do that I should be fine again.<br><br>Thanks again for your wonderful assistance, Yasha! =)<br><br>~GW <br><br></td></tr></table><br>
<a name="1220922"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FBEpyon</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Take a look at this..<br><br><a href="http://www.petesqbsite.com/sections/tutorials/zines/qbtimes/3-maps.html" target="_blank">http://www.petesqbsite.com/sections/tutorials/zines/qbtimes/3-maps.html</a><br><br>This will help you understand how to do camera and scrolling..<br><br>~FBEpyon <br><br></td></tr></table><br>
<a name="1220923"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks bud, but this isn't easy for me to follow. Is there a way I can just use 3D to allow for camera scrolling using a sprite instead of an image? <br><br></td></tr></table><br>
<a name="1220939"></a>

<a name="1220940"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Is there a way I can just use 3D to allow for camera scrolling using a sprite instead of an image?<br> <br></div><br>Yes, you could use a sprite or a quad mesh with either an "animated texture" on it or a custom routine to change the texture for each new pose. Then move the camera according to the movement of the main character.<br><br>Take a look at this tutorial :<br><a href="http://jnoodle.com/Blitz3D/" target="_blank">http://jnoodle.com/Blitz3D/</a><br><br>Some "flat characters" who walk on a 3d mesh.<br><br>Then it is only a matter of positioning the camera at the side (look toward the other side) and only allow movements on the x axis and y axis, or positioning the camera at the top (look toward down) and only allow movements on the x axis and z axis. <br><br></td></tr></table><br>
<a name="1220943"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> About the use of textures instead of images :<br>The thing with textures is that you have to use a specific size (8, 16, 32, 64, 128, 256, 512, 1024, 2048, 4096) so that it is displayed correctly on the mesh (according to the UV of each vertex).<br><br>For a human character, when the arms and legs are stretched, i have measured this ratio :<br>0.8 width for 1.0 height<br>or<br>1.25 height for 1.0 width<br><br>Therefore it is better to use a texture that is bigger than the max width and the max height of your character so that you can draw all the animations in the same space.<br>Also you want to consider that weapons and armors will take more space.<br><br>If you don't want to think about it too much, simply draw you character at the center of a big enough texture so that there is enough space around him. <br><br></td></tr></table><br>
<a name="1221317"></a>

<a name="1221318"></a>

<a name="1221319"></a>

<a name="1221320"></a>

<a name="1221321"></a>

<a name="1221322"></a>

<a name="1221323"></a>

<a name="1221324"></a>

<a name="1221325"></a>

<a name="1221326"></a>

<a name="1221327"></a>

<a name="1221328"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fox95871</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I recently converted to 2d too, so I support it. It's great to know whatever you do in Photoshop is exactly how it'll look in the game. Also, antialiasing is much easier in 2d, you just use Leadwerks texture tool. I have an antialiased text module you can use too if you want, just let me know. <br><br></td></tr></table><br>
<a name="1221352"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sounds good, @Fox! Thanks alot! =) <br><br></td></tr></table><br>
<a name="1232094"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hope you have permission to distribute and re-publish that image. <br><br></td></tr></table><br>
<a name="1232108"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's being used as a free example. I do not own any of the copyrights. The copyrights explicitly belong to Nintendo. I hope the sprite ripper also has permission because I downloaded it off a sprite site. ;) <br><br></td></tr></table><br>
<a name="1256993"></a>

<a name="1256994"></a>

<a name="1256995"></a>

<a name="1256996"></a>

<a name="1256997"></a>

<a name="1257160"></a>

<a name="1257172"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> So I'm attempting to reconstruct this script in Three.js javascript, but I first need to fix it in order to do so. I have gotten alot better since I started this last year, but I still can use some help on getting the correct player frames to map to the correct player keyboard buttons.<br><br>"Down" OR "S" are the only 2 keys that seem to have the correct animation frames for "Walking" while "facing Down".<br><br>Here's what I have so far: <br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">; Common keys:
Const VK_LEFTMOUSE 				= $01	; Left physical mouse button 
Const VK_RIGHTMOUSE 			= $02	; Right physical mouse button
Const VK_MIDDLEMOUSE			= $04	; Middle physical mouse button 
Const VK_BACKSPACE				= $08	; BACKSPACE key
Const VK_TAB 					= $09	; TAB key
Const VK_ENTER 					= $0D	; ENTER key (Main keyboard or keypad)
Const VK_SHIFT 					= $10	; SHIFT key (Left or right)
Const VK_CONTROL 				= $11	; CTRL key (Left or right)
Const VK_ALT 					= $12	; ALT key (Left or right)
Const VK_PAUSE 					= $13	; PAUSE key
Const VK_CAPITAL 				= $14	; CAPS LOCK key
Const VK_ESCAPE 				= $1B	; ESC key
Const VK_SPACE 					= $20	; SPACEBAR
Const VK_PGUP 					= $21	; PAGE UP key
Const VK_PGDN 					= $22	; PAGE DOWN key
Const VK_END 					= $23	; END key
Const VK_HOME 					= $24	; HOME key
Const VK_LEFT 					= $25	; LEFT ARROW key
Const VK_UP 					= $26	; UP ARROW key
Const VK_RIGHT 					= $27	; RIGHT ARROW key
Const VK_DOWN 					= $28	; DOWN ARROW key
Const VK_PRINTSCRN 				= $2C	; PRINT SCREEN key
Const VK_INSERT 				= $2D	; INSERT key
Const VK_DELETE 				= $2E	; DELETE key
Const VK_0 						= $30
Const VK_1 						= $31
Const VK_2 						= $32
Const VK_3 						= $33
Const VK_4 						= $34
Const VK_5 						= $35
Const VK_6 						= $36
Const VK_7 						= $37
Const VK_8 						= $38
Const VK_9 						= $39
Const VK_A 						= $41
Const VK_B 						= $42
Const VK_C 						= $43
Const VK_D 						= $44
Const VK_E 						= $45
Const VK_F 						= $46
Const VK_G 						= $47
Const VK_H 						= $48
Const VK_I 						= $49
Const VK_J 						= $4A
Const VK_K 						= $4B
Const VK_L 						= $4C
Const VK_M 						= $4D
Const VK_N 						= $4E
Const VK_O 						= $4F
Const VK_P 						= $50
Const VK_Q 						= $51
Const VK_R 						= $52
Const VK_S 						= $53
Const VK_T 						= $54
Const VK_U	 					= $55
Const VK_V 						= $56
Const VK_W 						= $57
Const VK_X 						= $58
Const VK_Y		 				= $59
Const VK_Z 						= $5A
Const VK_LEFTWIN				= $5B	; Left Windows key 
Const VK_RIGHTWIN				= $5C	; Right Windows key
Const VK_NUMPAD0 				= $60
Const VK_NUMPAD1 				= $61
Const VK_NUMPAD2 				= $62
Const VK_NUMPAD3 				= $63
Const VK_NUMPAD4 				= $64
Const VK_NUMPAD5 				= $65
Const VK_NUMPAD6 				= $66
Const VK_NUMPAD7 				= $67
Const VK_NUMPAD8 				= $68
Const VK_NUMPAD9 				= $69
Const VK_MULTIPLY 				= $6A	; Keypad *
Const VK_ADD 					= $6B	; Keypad +
Const VK_SEPARATOR 				= $6C	; Keypad /
Const VK_SUBTRACT 				= $6D	; Keypad -
Const VK_DECIMAL 				= $6E	; Keypad .
Const VK_DIVIDE 				= $6F	; Keypad \
Const VK_F1 					= $70
Const VK_F2 					= $71
Const VK_F3 					= $72
Const VK_F4 					= $73
Const VK_F5 					= $74
Const VK_F6 					= $75
Const VK_F7 					= $76
Const VK_F8 					= $77
Const VK_F9 					= $78
Const VK_F10 					= $79
Const VK_F11 					= $7A
Const VK_F12 					= $7B
Const VK_NUMLOCK 				= $90	
Const VK_SCROLLLOCK 			= $91	
Const VK_LEFTSHIFT				= $A0	; Windows 95 does not support the left and right distinguishing constants.	
Const VK_RIGHTSHIFT				= $A1	
Const VK_LEFTCTRL				= $A2	
Const VK_RIGHTCTRL				= $A3	
Const VK_LEFTALT				= $A4	
Const VK_RIGHTALT				= $A5

; Less common keys:
; Some of the keys here would seem to be common keys, but the documentation does not say they work in 95/98, 
; so I did not include them with the other keys above just to be safe.
Const VK_CANCEL 				= $03	; Control-break processing
Const VK_X1MOUSE				= $05	; Windows 2000/XP: X1 mouse button
Const VK_X2MOUSE				= $06	; Windows 2000/XP: X2 mouse button
Const VK_CLEAR 					= $0C	; CLEAR key
Const VK_SELECT 				= $29	; SELECT key
Const VK_EXECUTE 				= $2B	; EXECUTE key
Const VK_PRINT 					= $2A	; PRINT key
Const VK_HELP 					= $2F	; HELP key
Const VK_KANA					= $15	; Input Method Editor (IME) Kana mode
Const VK_HANGUL					= $15	; IME Hangul mode
Const VK_JUNJA					= $17	; IME Junja mode
Const VK_FINAL 					= $18	; IME final mode
Const VK_KANJI 					= $19	; IME Hanja/Kanji mode	
Const VK_CONVERT 				= $1C	; IME convert
Const VK_NONCONVERT				= $1D	; IME nonconvert
Const VK_ACCEPT					= $1E	; IME accept
Const CK_MODECHANGE				= $1F	; IME mode change request
Const VK_APPS 					= $5D	; Applications key 
Const VK_SLEEP					= $5F	; Computer Sleep key
Const VK_F13 					= $7C
Const VK_F14 					= $7D
Const VK_F15 					= $7E
Const VK_F16 					= $7F
Const VK_F17 					= $80
Const VK_F18 					= $81
Const VK_F19 					= $82
Const VK_F20 					= $83
Const VK_F21 					= $84
Const VK_F22 					= $85
Const VK_F23 					= $86
Const VK_F24 					= $87
Const VK_BROWSER_BACK			= $A6	; Windows 2000/XP: Browser Back key
Const VK_BROWSER_FORWARD		= $A7	; Windows 2000/XP: Browser Forward key
Const VK_BROWSER_REFRESH 		= $A8	; Windows 2000/XP: Browser Refresh key
Const VK_BROWSER_STOP 			= $A9	; Windows 2000/XP: Browser Stop key
Const VK_BROWSER_SEARCH 		= $AA	; Windows 2000/XP: Browser Search key 
Const VK_BROWSER_FAVORITES		= $AB	; Windows 2000/XP: Browser Favorites key
Const VK_BROWSER_HOME 			= $AC	; Windows 2000/XP: Browser Start And Home key
Const VK_VOLUME_MUTE 			= $AD	; Windows 2000/XP: Volume Mute key
Const VK_VOLUME_DOWN 			= $AE	; Windows 2000/XP: Volume Down key
Const VK_VOLUME_UP 				= $AF	; Windows 2000/XP: Volume Up key
Const VK_MEDIA_NEXT_TRACK		= $B0	; Windows 2000/XP: Next Track key
Const VK_MEDIA_PREV_TRACK 		= $B1	; Windows 2000/XP: Previous Track key
Const VK_MEDIA_STOP 			= $B2	; Windows 2000/XP: Stop Media key
Const VK_MEDIA_PLAY_PAUSE 		= $B3	; Windows 2000/XP: Play/Pause Media key
Const VK_LAUNCH_MAIL 			= $B4	; Windows 2000/XP: Start Mail key
Const VK_LAUNCH_MEDIA_SELECT	= $B5	; Windows 2000/XP: Select Media key
Const VK_LAUNCH_APP1 			= $B6	; Windows 2000/XP: Start Application 1 key
Const VK_LAUNCH_APP2 			= $B7	; Windows 2000/XP: Start Application 2 key	
Const VK_OEM_1 					= $BA	; Windows 2000/XP: For the US standard keyboard, the ';:' key
Const VK_OEM_PLUS 				= $BB	; Windows 2000/XP: For any country/region, the '+' key
Const VK_OEM_COMMA 				= $BC	; Windows 2000/XP: For any country/region, the ', ' key
Const VK_OEM_MINUS 				= $BD	; Windows 2000/XP: For any country/region, the '-' key
Const VK_OEM_PERIOD 			= $BE	; Windows 2000/XP: For any country/region, the '.' key
Const VK_OEM_2 					= $BF	; Windows 2000/XP: For the US standard keyboard, the '/?' key
Const VK_OEM_3 					= $C0	; Windows 2000/XP: For the US standard keyboard, the '`~' key
Const VK_OEM_4 					= $DB	; Windows 2000/XP: For the US standard keyboard, the '[{' key
Const VK_OEM_5 					= $DC	; Windows 2000/XP: For the US standard keyboard, the '\|' key
Const VK_OEM_6 					= $DD	; Windows 2000/XP: For the US standard keyboard, the ']}' key
Const VK_OEM_7					= $DE	; Windows 2000/XP: For the US standard keyboard, the 'single-quote/double-quote' key
Const VK_OEM_8					= $DF	; Used for miscellaneous characters; it can vary by keyboard.
Const VK_ICO_F17				= $E0	
Const VK_ICO_F18				= $E1	
Const VK_OEM102					= $E2	; Windows 2000/XP: Either the angle bracket key or the backslash key on the RT 102-key keyboard
Const VK_ICO_HELP				= $E3
Const VK_ICO_00					= $E4	
Const VK_PROCESSKEY				= $E5	; Windows 95/98/Me, Windows NT 4.0, Windows 2000/XP: IME PROCESS key
Const VK_ICO_CLEAR				= $E6
Const VK_PACKET					= $E7	; Windows 2000/XP: Used to pass Unicode characters as if they were keystrokes.
Const VK_OEM_RESET				= $E9
Const VK_OEM_JUMP				= $EA
Const VK_OEM_PA1				= $EB
Const VK_OEM_PA2				= $EC
Const VK_OEM_PA3				= $ED
Const VK_OEM_WSCTRL				= $EE
Const VK_OEM_CUSEL				= $EF
Const VK_OEM_ATTN				= $F0
Const VK_OEM_FINNISH			= $F1
Const VK_OEM_COPY				= $F2
Const VK_OEM_AUTO				= $F3
Const VK_OEM_ENLW				= $F4
Const VK_OEM_BACKTAB			= $F5
Const VK_ATTN					= $F6	; Attn key
Const VK_CRSEL					= $F7	; CrSel key
Const VK_EXSEL					= $F8	; ExSel key
Const VK_EREOF 					= $F9	; Erase EOF key
Const VK_PLAY 					= $FA	; Play key
Const VK_ZOOM 					= $FB	; Zoom key
Const VK_NONAME 				= $FC	; Reserved
Const VK_PA1 					= $FD	; PA1 key
Const VK_OEM_CLEAR				= $FE	; Clear key

Graphics3D 800, 600, 0, 2

SetBuffer BackBuffer()

SeedRnd MilliSecs()

AmbientLight 255, 255, 255

Global player, player_tex, tmrplayer

Global facing = 2

Global moving
Global walking
Global idle

;Global campivot = CreatePivot() 

Global cam = CreateCamera()
MoveEntity cam, 0, 1.001, -5
CameraRange cam, 0.1, 10000.0

Dim music_array$(max_music)
music_array$(0) = "King Edward's Castle (arranged).ogg"

Global maintheme = LoadSound(music_array$(0))

Global max_frames = 15

Global player_frame_width = 88
Global player_frame_height = 96

;0: nothing (Default)
;1: full-bright
;2: use vertex colors instead of brush Color
;4: flatshaded
;8: disable fog
;16: disable backface culling
;32: force alpha-blending

player_frame_width = 88
player_frame_height = 96

Const tex_color = 1 ; Color texture 
Const tex_alpha = 2 ; Alpha texture (Include alpha channel data) 
Const tex_mask = 4 ; Masked texture (black is transparent) 
Const tex_mipmap = 8 ; Create texture mipmaps 
Const tex_clampu = 16 ; Restrict U texture coords from "bleeding over" 
Const tex_clampv = 32 ; Restrict V texture coords from "bleeding over" 
Const tex_envshpere = 64 ; Load texture as a spherical environment map 
Const tex_vram = 256 ; Force texture graphics to vram 
Const tex_highcolor = 512 ; Forces texture graphics to be 32-bits per pixel 

;load non mip-mapped textures here
ClearTextureFilters()
TextureFilter "", 1

Global framespeed# = 0.1

Global start_frame

Global walkup_start_frame = 12
Global walkup_end_frame = 15

Global walkdown_start_frame = 0
Global walkdown_end_frame = 3

Global currentframe# = walkdown_start_frame

player = CreateQuad(3.0, 3.0, -1)

player_tex = LoadAnimTexture("freedan1qu.png", (tex_color+tex_alpha+tex_mask+tex_mipmap+tex_clampu+tex_clampv+tex_vram+tex_highcolor), player_frame_width, player_frame_height, start_frame, max_frames)

prepare_texture(player_tex, walkdown_start_frame)

texture_mask_colour(player_tex, 34, 177, 76, 30)

Global ground = CreatePlane()
EntityColor ground, 0, 64, 0

Global start_x = (GraphicsWidth()/2-TextureWidth(player_tex)/2)
Global start_y = (GraphicsHeight()/2-TextureHeight(player_tex)/2)

Global x#
Global y#
Global player_z#

Global playerspeed#

Global face = 0

;SoundVolume maintheme, 0.25

;LoopSound maintheme

;PlaySound maintheme

;ClearTextureFilters()
;TextureFilter "", 1+8
;load mip-mapped textures here

	While Not GDI_VKeyDown(VK_ESCAPE)

		moving = 0

		texture_mask_colour(player_tex, 34, 177, 76, 30)
		
		UpdateWorld

		;Render our scene
		RenderWorld

			;Get Controls
			Get_Controls()
	
			;Draw Player
			Draw_player(player, player_tex, walkdown_start_frame)

			If Not ((GDI_VKeyDown(VK_UP, 1)) And (GDI_VKeyDown(VK_DOWN, 1))) Or ((GDI_VKeyDown(VK_DOWN, 1)) And (GDI_VKeyDown(VK_UP, 1)))

				If Not ((GDI_VKeyDown(VK_W, 1)) And (GDI_VKeyDown(VK_DOWN, 1))) Or ((GDI_VKeyDown(VK_DOWN, 1)) And (GDI_VKeyDown(VK_W, 1)))
	
					;Animate Player
					Animate_player(face, player, player_tex, framespeed#, playerspeed#)

				EndIf
	
			EndIf

			Text 0, 0, "x#: "+x#
			Text 0, 20, "y#: "+y#
			Text 0, 40, "player_z#: "+player_z#
			Text 0, 60, "face: "+facing
			Text 0, 80, "moving: "+moving
			Text 0, 100, "walkdown_start_frame: "+walkdown_start_frame
			Text 0, 120, "walkdown_end_frame: "+walkdown_end_frame
			Text 0, 140, "currentframe#: "+Float(currentframe#)

		Flip
	
	Wend

End

;Controls
Function Get_Controls()

	FlushKeys()

		If Not ((GDI_VKeyDown(VK_UP, 1)) And (GDI_VKeyDown(VK_DOWN, 1)))

			If (GDI_VKeyDown(VK_SHIFT, 1) Or GDI_VKeyDown(VK_SHIFT, 1))  = 0 Then playerspeed# = 0.1
			If (GDI_VKeyDown(VK_SHIFT, 1) Or GDI_VKeyDown(VK_SHIFT, 1)) &lt;&gt; 0 Then playerspeed# = 0.3

			If (GDI_VKeyDown(VK_W, 1) Or GDI_VKeyDown(VK_UP, 1)) Then player_z# = player_z# + playerspeed#: face = 8 : moving = 1 : walking = 1 ; up
			If (GDI_VKeyDown(VK_S, 1) Or GDI_VKeyDown(VK_DOWN, 1)) Then player_z# = player_z# - playerspeed#: face = 2 : moving = 1 : walking = 1 ; down

			;If (GDI_VKeyDown(VK_A, 1) Or GDI_VKeyDown(VK_LEFT, 1)) Then x# = x# - playerspeed#: face = 4 : moving = 1 : walking = 1 ; left
			;If (GDI_VKeyDown(VK_D, 1) Or GDI_VKeyDown(VK_RIGHT, 1)) Then x# = x# + playerspeed#: face = 6 : moving = 1 : walking = 1 ; right

			;If (GDI_VKeyDown(VK_W, 1) Or GDI_VKeyDown(VK_UP, 1)) And (GDI_VKeyDown(VK_A, 1) Or GDI_VKeyDown(VK_LEFT, 1)) Then face = 7: moving = 1 : walking = 1 ; up-left
			;If (GDI_VKeyDown(VK_S, 1) Or GDI_VKeyDown(VK_DOWN, 1)) And (GDI_VKeyDown(VK_A, 1) Or GDI_VKeyDown(VK_LEFT, 1)) Then face = 1 : moving = 1 : walking = 1 ; down-left
			;If (GDI_VKeyDown(VK_W, 1) Or GDI_VKeyDown(VK_UP, 1)) And (GDI_VKeyDown(VK_D, 1) Or GDI_VKeyDown(VK_RIGHT, 1)) Then face = 9 : moving = 1 : walking = 1 ; up-right
			;If (GDI_VKeyDown(VK_S, 1) Or GDI_VKeyDown(VK_DOWN, 1)) And (GDI_VKeyDown(VK_D, 1) Or GDI_VKeyDown(VK_RIGHT, 1)) Then face = 3 : moving = 1 : walking = 1 ; down-right
			
			PositionEntity(player, x#, 1.001, player_z#)

		Else
		
			face = 0
			playerspeed# = 0
			
		EndIf

	FlushKeys()

End Function

;Draw player
Function Draw_player(player, playertex, curr_frame)

	EntityTexture player, playertex, curr_frame

End Function

;Animations
Function Animate_player(facing, player, player_tex, framespeed#, playerspeed#)

	If moving

		If walking
		
			If facing = 8

				currentframe# = currentframe# + framespeed#
	
				start_frame = walkup_start_frame
	
				end_frame = walkup_end_frame
				
			EndIf

			If facing = 2

				currentframe# = currentframe# + framespeed#

				start_frame = walkdown_start_frame

				end_frame = walkdown_end_frame
				
			EndIf
			
		EndIf

		If ( Floor( currentframe# ) &gt; end_frame - 1 )
	
			currentframe# = start_frame
	
		EndIf

	EndIf

	EntityTexture player, player_tex, currentframe#

End Function

Function GDI_VKeyDown(VirtualKey, IgnoreFocus=False)
	
	If (IgnoreFocus = True) And (api_GetActiveWindow() = 0) Then Return
	Return (api_GetAsyncKeyState%(VirtualKey) And %1000000000000000) &gt; 0
	
End Function

;--------------------------------------------------------------------
;  This function will clear a texture of all it's alpha information |
;--------------------------------------------------------------------
;parameters  =  texture : the texture you wish to clear alpha information from
Function prepare_texture(texture, totalframes=1)
	
	Local X
	Local Y
	Local RGB1
	Local r
	Local g
	Local b
	Local a
	Local RGB2
	
	Local Buffer
	
	Local frame
	
	For frame=1 To totalframes
		Buffer=TextureBuffer(texture, frame)
		
		LockBuffer Buffer
		
		For Y=0 To FrameHeight-1
			For X=0 To FrameWidth
				RGB1=ReadPixelFast(X, Y, Buffer)
				r=(RGB1 And $FF0000)Shr 16;separate out the red
				g=(RGB1 And $FF00) Shr 8;green
				b=RGB1 And $FF;and blue parts of the color
				a=(RGB1 And $FF000000)Shr 24
				
				a=255; remove any alpha information currently in the texture.
				
				RGB2= (a Shl 24) Or (r Shl 16) Or (g Shl 8) Or b; combine the ARGB back into a number
				
				WritePixelFast(X, Y, RGB2, Buffer); write the info back to the texture
			Next
		Next
		
		UnlockBuffer Buffer
	Next
	
End Function


;---------------------------------------------------------------------
;  This function will mask the passed across RGB of the texture also |
;  passed across. Do NOT pass across a value for flag if you only    |
;  want to mask an exact colour.                                     |
;---------------------------------------------------------------------
;parameters = texture   : the texture you wish to clear alpha information from
;           = r1        : the red value to mask
;           = g1        : the green value to mask
;           = b1        : the blue value to mask
;           = tolerance : the tolerance value. If set to 0, then the function will only mask the
;                         EXACT colours passed across. Higher value will mask values close to the colour.

Function texture_mask_colour(texture, r1, g1, b1, TotalFrames=1, tolerance=0)
	
	Local X
	Local Y
	Local RGB1
	Local RGB2
	Local Buffer
	Local r
	Local g
	Local b
	Local a
	Local Frame
	
	For Frame=1 To TotalFrames
		Buffer=TextureBuffer(texture, Frame)
		LockBuffer Buffer
			For Y=0 To FrameHeight-1
			For X=0 To FrameWidth-1
				RGB1=ReadPixelFast(X, Y, Buffer) ; read the RGB value from the texture
				r=(RGB1 And $FF0000)Shr 16;separate out the red
				g=(RGB1 And $FF00) Shr 8;green
				b=RGB1 And $FF;and blue parts of the color
				a=(RGB1 And $FF000000)Shr 24 ; extract the alpha
				
				If r&gt;=r1-tolerance And r=&lt;r1+tolerance And g=&gt;g1-tolerance And g=&lt;g1+tolerance And b=&gt;b1-tolerance And b=&lt;b1+tolerance Then; check RGB lies with the tolerance
					;temp=((Abs(r-r1)+Abs(g-g1)+Abs(b-b1))/3.0)*4.0 ; alpha the values based on the tolerance value
					a=0;temp
					
				End If
				
				RGB2= (a Shl 24) Or (r Shl 16) Or (g Shl 8) Or b ; combine the ARGB back into one value
				
				WritePixelFast(X, Y, RGB2, Buffer); write back to the texture
			Next
		Next
		UnlockBuffer Buffer
	Next
	
End Function


Function CreateQuad(width#, height#, order%=-1, parent%=False)

	Local v0, v1, v2, v3
	Local Point, Surface
	
	If Not parent = False
		Point = CreateMesh(parent)
			Else
				Point = CreateMesh()
	EndIf
	
	If order &lt;&gt; 0
		EntityOrder Point, order
	EndIf
	
	EntityFX Point, 1
			
	Surface = CreateSurface(Point)
	
	v0=AddVertex(Surface, -(width*.5), (height*.5), 0, 0, 0)
	v1=AddVertex(Surface, (width*.5), (height*.5), 0, 1, 0)
	v2=AddVertex(Surface, -(width*.5), -(height*.5), 0, 0, 1)
	v3=AddVertex(Surface, (width*.5), -(height*.5), 0, 1, 1)
	
	AddTriangle(Surface, v0, v1, v2)
	AddTriangle(Surface, v1, v3, v2)
	
	Return Point

End Function
</textarea><br><br>Thank you to all that help!<br><br>Sincerely, <br><br>~GF <br><br></td></tr></table><br>
<a name="1257040"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> By curiosity, why do you use your function "GDI_VKeyDown()" instead of keydown() ? Is there any advantage to do that ? <br><br></td></tr></table><br>
<a name="1257053"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes. It makes multiple key shortcuts such as "Ctrl+Shift+Space+C" work for me. <br><br></td></tr></table><br>
<a name="1257054"></a>

<a name="1257055"></a>

<a name="1257057"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok. <br>And why do you need complicated key combinations like that ?<br><br>I regularly use key shortcuts like ctrl+c, ctrl+x, ctrl+v, ctrl+z, alt+tab, shift+delete, alt+f4, ctrl+alt+delete, win+d, when i use Windows and also in some tools, but i rarely need more than a combination of 2 keys... <br><br></td></tr></table><br>
<a name="1257056"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't need to answer that... Are you going to actually help with the frames, or are you just gonna sit here and criticize me all day? -.- <br><br></td></tr></table><br>
<a name="1257058"></a>

<a name="1257059"></a>

<a name="1257060"></a>

<a name="1257061"></a>

<a name="1257062"></a>

<a name="1257067"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't criticize you, i am curious why you need this.<br><br>About your question, there are probably already several examples on the forum and in the code archives, do a search : https://www.google.fr/?gws_rd=ssl#q=animation+frames+with+images+site:blitzbasic.com<br><br>The idea i suppose is to have several images for each animation, one image for each pose<br>Then define a ms time for each pose (posems) (in milliseconds), and consequently you have a ms time for each animation (animationms).<br>Then each loop, check which keys are down, and depending on the input and on the player state, calculate the animation to play.<br>Then if the animation to play is not playing, retrieve the now ms and store it (startms), draw the first image (first pose).<br>But if the animation to play is already playing, calculate nowms - startms, and depending on the result draw the appropriate image (appropriate pose).<br>And when the animation reaches the end (nowms - startms &gt; animationms) you have to reset the startms (startms = nowms)<br><br>I would do it like this...<br><br>Also it will be easier to manage if you limit the number of FPS. <br><br></td></tr></table><br>
<a name="1257064"></a>

<a name="1257116"></a>

<a name="1257117"></a>

<a name="1257154"></a>

<a name="1257161"></a>

<a name="1257171"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, thanks @Rems! :) I decided to change it to 3D with a 2D animated texture &amp; invisible quad which is working MUCH better. Only problem is, I can't seem to get this texture_mask_colour() function to work for ALL frames. Just on the START frame...<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">; Common keys:
Const VK_LEFTMOUSE 				= $01	; Left physical mouse button 
Const VK_RIGHTMOUSE 			= $02	; Right physical mouse button
Const VK_MIDDLEMOUSE			= $04	; Middle physical mouse button 
Const VK_BACKSPACE				= $08	; BACKSPACE key
Const VK_TAB 					= $09	; TAB key
Const VK_ENTER 					= $0D	; ENTER key (Main keyboard or keypad)
Const VK_SHIFT 					= $10	; SHIFT key (Left or right)
Const VK_CONTROL 				= $11	; CTRL key (Left or right)
Const VK_ALT 					= $12	; ALT key (Left or right)
Const VK_PAUSE 					= $13	; PAUSE key
Const VK_CAPITAL 				= $14	; CAPS LOCK key
Const VK_ESCAPE 				= $1B	; ESC key
Const VK_SPACE 					= $20	; SPACEBAR
Const VK_PGUP 					= $21	; PAGE UP key
Const VK_PGDN 					= $22	; PAGE DOWN key
Const VK_END 					= $23	; END key
Const VK_HOME 					= $24	; HOME key
Const VK_LEFT 					= $25	; LEFT ARROW key
Const VK_UP 					= $26	; UP ARROW key
Const VK_RIGHT 					= $27	; RIGHT ARROW key
Const VK_DOWN 					= $28	; DOWN ARROW key
Const VK_PRINTSCRN 				= $2C	; PRINT SCREEN key
Const VK_INSERT 				= $2D	; INSERT key
Const VK_DELETE 				= $2E	; DELETE key
Const VK_0 						= $30
Const VK_1 						= $31
Const VK_2 						= $32
Const VK_3 						= $33
Const VK_4 						= $34
Const VK_5 						= $35
Const VK_6 						= $36
Const VK_7 						= $37
Const VK_8 						= $38
Const VK_9 						= $39
Const VK_A 						= $41
Const VK_B 						= $42
Const VK_C 						= $43
Const VK_D 						= $44
Const VK_E 						= $45
Const VK_F 						= $46
Const VK_G 						= $47
Const VK_H 						= $48
Const VK_I 						= $49
Const VK_J 						= $4A
Const VK_K 						= $4B
Const VK_L 						= $4C
Const VK_M 						= $4D
Const VK_N 						= $4E
Const VK_O 						= $4F
Const VK_P 						= $50
Const VK_Q 						= $51
Const VK_R 						= $52
Const VK_S 						= $53
Const VK_T 						= $54
Const VK_U	 					= $55
Const VK_V 						= $56
Const VK_W 						= $57
Const VK_X 						= $58
Const VK_Y		 				= $59
Const VK_Z 						= $5A
Const VK_LEFTWIN				= $5B	; Left Windows key 
Const VK_RIGHTWIN				= $5C	; Right Windows key
Const VK_NUMPAD0 				= $60
Const VK_NUMPAD1 				= $61
Const VK_NUMPAD2 				= $62
Const VK_NUMPAD3 				= $63
Const VK_NUMPAD4 				= $64
Const VK_NUMPAD5 				= $65
Const VK_NUMPAD6 				= $66
Const VK_NUMPAD7 				= $67
Const VK_NUMPAD8 				= $68
Const VK_NUMPAD9 				= $69
Const VK_MULTIPLY 				= $6A	; Keypad *
Const VK_ADD 					= $6B	; Keypad +
Const VK_SEPARATOR 				= $6C	; Keypad /
Const VK_SUBTRACT 				= $6D	; Keypad -
Const VK_DECIMAL 				= $6E	; Keypad .
Const VK_DIVIDE 				= $6F	; Keypad \
Const VK_F1 					= $70
Const VK_F2 					= $71
Const VK_F3 					= $72
Const VK_F4 					= $73
Const VK_F5 					= $74
Const VK_F6 					= $75
Const VK_F7 					= $76
Const VK_F8 					= $77
Const VK_F9 					= $78
Const VK_F10 					= $79
Const VK_F11 					= $7A
Const VK_F12 					= $7B
Const VK_NUMLOCK 				= $90	
Const VK_SCROLLLOCK 			= $91	
Const VK_LEFTSHIFT				= $A0	; Windows 95 does not support the left and right distinguishing constants.	
Const VK_RIGHTSHIFT				= $A1	
Const VK_LEFTCTRL				= $A2	
Const VK_RIGHTCTRL				= $A3	
Const VK_LEFTALT				= $A4	
Const VK_RIGHTALT				= $A5

; Less common keys:
; Some of the keys here would seem to be common keys, but the documentation does not say they work in 95/98, 
; so I did not include them with the other keys above just to be safe.
Const VK_CANCEL 				= $03	; Control-break processing
Const VK_X1MOUSE				= $05	; Windows 2000/XP: X1 mouse button
Const VK_X2MOUSE				= $06	; Windows 2000/XP: X2 mouse button
Const VK_CLEAR 					= $0C	; CLEAR key
Const VK_SELECT 				= $29	; SELECT key
Const VK_EXECUTE 				= $2B	; EXECUTE key
Const VK_PRINT 					= $2A	; PRINT key
Const VK_HELP 					= $2F	; HELP key
Const VK_KANA					= $15	; Input Method Editor (IME) Kana mode
Const VK_HANGUL					= $15	; IME Hangul mode
Const VK_JUNJA					= $17	; IME Junja mode
Const VK_FINAL 					= $18	; IME final mode
Const VK_KANJI 					= $19	; IME Hanja/Kanji mode	
Const VK_CONVERT 				= $1C	; IME convert
Const VK_NONCONVERT				= $1D	; IME nonconvert
Const VK_ACCEPT					= $1E	; IME accept
Const CK_MODECHANGE				= $1F	; IME mode change request
Const VK_APPS 					= $5D	; Applications key 
Const VK_SLEEP					= $5F	; Computer Sleep key
Const VK_F13 					= $7C
Const VK_F14 					= $7D
Const VK_F15 					= $7E
Const VK_F16 					= $7F
Const VK_F17 					= $80
Const VK_F18 					= $81
Const VK_F19 					= $82
Const VK_F20 					= $83
Const VK_F21 					= $84
Const VK_F22 					= $85
Const VK_F23 					= $86
Const VK_F24 					= $87
Const VK_BROWSER_BACK			= $A6	; Windows 2000/XP: Browser Back key
Const VK_BROWSER_FORWARD		= $A7	; Windows 2000/XP: Browser Forward key
Const VK_BROWSER_REFRESH 		= $A8	; Windows 2000/XP: Browser Refresh key
Const VK_BROWSER_STOP 			= $A9	; Windows 2000/XP: Browser Stop key
Const VK_BROWSER_SEARCH 		= $AA	; Windows 2000/XP: Browser Search key 
Const VK_BROWSER_FAVORITES		= $AB	; Windows 2000/XP: Browser Favorites key
Const VK_BROWSER_HOME 			= $AC	; Windows 2000/XP: Browser Start And Home key
Const VK_VOLUME_MUTE 			= $AD	; Windows 2000/XP: Volume Mute key
Const VK_VOLUME_DOWN 			= $AE	; Windows 2000/XP: Volume Down key
Const VK_VOLUME_UP 				= $AF	; Windows 2000/XP: Volume Up key
Const VK_MEDIA_NEXT_TRACK		= $B0	; Windows 2000/XP: Next Track key
Const VK_MEDIA_PREV_TRACK 		= $B1	; Windows 2000/XP: Previous Track key
Const VK_MEDIA_STOP 			= $B2	; Windows 2000/XP: Stop Media key
Const VK_MEDIA_PLAY_PAUSE 		= $B3	; Windows 2000/XP: Play/Pause Media key
Const VK_LAUNCH_MAIL 			= $B4	; Windows 2000/XP: Start Mail key
Const VK_LAUNCH_MEDIA_SELECT	= $B5	; Windows 2000/XP: Select Media key
Const VK_LAUNCH_APP1 			= $B6	; Windows 2000/XP: Start Application 1 key
Const VK_LAUNCH_APP2 			= $B7	; Windows 2000/XP: Start Application 2 key	
Const VK_OEM_1 					= $BA	; Windows 2000/XP: For the US standard keyboard, the ';:' key
Const VK_OEM_PLUS 				= $BB	; Windows 2000/XP: For any country/region, the '+' key
Const VK_OEM_COMMA 				= $BC	; Windows 2000/XP: For any country/region, the ', ' key
Const VK_OEM_MINUS 				= $BD	; Windows 2000/XP: For any country/region, the '-' key
Const VK_OEM_PERIOD 			= $BE	; Windows 2000/XP: For any country/region, the '.' key
Const VK_OEM_2 					= $BF	; Windows 2000/XP: For the US standard keyboard, the '/?' key
Const VK_OEM_3 					= $C0	; Windows 2000/XP: For the US standard keyboard, the '`~' key
Const VK_OEM_4 					= $DB	; Windows 2000/XP: For the US standard keyboard, the '[{' key
Const VK_OEM_5 					= $DC	; Windows 2000/XP: For the US standard keyboard, the '\|' key
Const VK_OEM_6 					= $DD	; Windows 2000/XP: For the US standard keyboard, the ']}' key
Const VK_OEM_7					= $DE	; Windows 2000/XP: For the US standard keyboard, the 'single-quote/double-quote' key
Const VK_OEM_8					= $DF	; Used for miscellaneous characters; it can vary by keyboard.
Const VK_ICO_F17				= $E0	
Const VK_ICO_F18				= $E1	
Const VK_OEM102					= $E2	; Windows 2000/XP: Either the angle bracket key or the backslash key on the RT 102-key keyboard
Const VK_ICO_HELP				= $E3
Const VK_ICO_00					= $E4	
Const VK_PROCESSKEY				= $E5	; Windows 95/98/Me, Windows NT 4.0, Windows 2000/XP: IME PROCESS key
Const VK_ICO_CLEAR				= $E6
Const VK_PACKET					= $E7	; Windows 2000/XP: Used to pass Unicode characters as if they were keystrokes.
Const VK_OEM_RESET				= $E9
Const VK_OEM_JUMP				= $EA
Const VK_OEM_PA1				= $EB
Const VK_OEM_PA2				= $EC
Const VK_OEM_PA3				= $ED
Const VK_OEM_WSCTRL				= $EE
Const VK_OEM_CUSEL				= $EF
Const VK_OEM_ATTN				= $F0
Const VK_OEM_FINNISH			= $F1
Const VK_OEM_COPY				= $F2
Const VK_OEM_AUTO				= $F3
Const VK_OEM_ENLW				= $F4
Const VK_OEM_BACKTAB			= $F5
Const VK_ATTN					= $F6	; Attn key
Const VK_CRSEL					= $F7	; CrSel key
Const VK_EXSEL					= $F8	; ExSel key
Const VK_EREOF 					= $F9	; Erase EOF key
Const VK_PLAY 					= $FA	; Play key
Const VK_ZOOM 					= $FB	; Zoom key
Const VK_NONAME 				= $FC	; Reserved
Const VK_PA1 					= $FD	; PA1 key
Const VK_OEM_CLEAR				= $FE	; Clear key

Graphics3D 800, 600, 0, 2

SetBuffer BackBuffer()

SeedRnd MilliSecs()

AmbientLight 255, 255, 255

Global player, player_tex, tmrplayer

Global facing = 2

Global moving
Global walking
Global idle

;Global campivot = CreatePivot() 

Global cam = CreateCamera()
MoveEntity cam, 0, 1.001, -5
CameraRange cam, 0.1, 10000.0

Dim music_array$(max_music)
music_array$(0) = "King Edward's Castle (arranged).ogg"

Global maintheme = LoadSound(music_array$(0))

Global max_frames = 15

Global player_frame_width = 88
Global player_frame_height = 96

;0: nothing (Default)
;1: full-bright
;2: use vertex colors instead of brush Color
;4: flatshaded
;8: disable fog
;16: disable backface culling
;32: force alpha-blending

player_frame_width = 88
player_frame_height = 96

Const tex_color = 1 ; Color texture 
Const tex_alpha = 2 ; Alpha texture (Include alpha channel data) 
Const tex_mask = 4 ; Masked texture (black is transparent) 
Const tex_mipmap = 8 ; Create texture mipmaps 
Const tex_clampu = 16 ; Restrict U texture coords from "bleeding over" 
Const tex_clampv = 32 ; Restrict V texture coords from "bleeding over" 
Const tex_envshpere = 64 ; Load texture as a spherical environment map 
Const tex_vram = 256 ; Force texture graphics to vram 
Const tex_highcolor = 512 ; Forces texture graphics to be 32-bits per pixel 

;load non mip-mapped textures here
ClearTextureFilters()
TextureFilter "", 1

Global framespeed# = 0.1

Global start_frame

Global walkup_start_frame = 12
Global walkup_end_frame = 15

Global walkdown_start_frame = 0
Global walkdown_end_frame = 3

Global currentframe# = walkdown_start_frame

player = CreateQuad(3.0, 3.0, -1)

player_tex = LoadAnimTexture("freedan1qu.png", (tex_color+tex_alpha+tex_mask+tex_mipmap+tex_clampu+tex_clampv+tex_vram+tex_highcolor), player_frame_width, player_frame_height, start_frame, max_frames)

prepare_texture(player_tex, walkdown_start_frame)

texture_mask_colour(player_tex, 34, 177, 76, 30)

Global ground = CreatePlane()
EntityColor ground, 0, 64, 0

Global start_x = (GraphicsWidth()/2-TextureWidth(player_tex)/2)
Global start_y = (GraphicsHeight()/2-TextureHeight(player_tex)/2)

Global x#
Global y#
Global player_z#

Global playerspeed#

Global face = 0

;SoundVolume maintheme, 0.25

;LoopSound maintheme

;PlaySound maintheme

;ClearTextureFilters()
;TextureFilter "", 1+8
;load mip-mapped textures here

	While Not GDI_VKeyDown(VK_ESCAPE)

		moving = 0

		texture_mask_colour(player_tex, 34, 177, 76, 30)
		
		UpdateWorld

		;Render our scene
		RenderWorld

			;Get Controls
			Get_Controls()
	
			;Draw Player
			Draw_player(player, player_tex, walkdown_start_frame)

			If Not ((GDI_VKeyDown(VK_UP, 1)) And (GDI_VKeyDown(VK_DOWN, 1))) Or ((GDI_VKeyDown(VK_DOWN, 1)) And (GDI_VKeyDown(VK_UP, 1)))

				If Not ((GDI_VKeyDown(VK_W, 1)) And (GDI_VKeyDown(VK_DOWN, 1))) Or ((GDI_VKeyDown(VK_DOWN, 1)) And (GDI_VKeyDown(VK_W, 1)))
	
					;Animate Player
					Animate_player(face, player, player_tex, framespeed#, playerspeed#)

				EndIf
	
			EndIf

			Text 0, 0, "x#: "+x#
			Text 0, 20, "y#: "+y#
			Text 0, 40, "player_z#: "+player_z#
			Text 0, 60, "face: "+facing
			Text 0, 80, "moving: "+moving
			Text 0, 100, "walkdown_start_frame: "+walkdown_start_frame
			Text 0, 120, "walkdown_end_frame: "+walkdown_end_frame
			Text 0, 140, "currentframe#: "+Float(currentframe#)

		Flip
	
	Wend

End

;Controls
Function Get_Controls()

	FlushKeys()

		If Not ((GDI_VKeyDown(VK_UP, 1)) And (GDI_VKeyDown(VK_DOWN, 1)))

			If (GDI_VKeyDown(VK_SHIFT, 1) Or GDI_VKeyDown(VK_SHIFT, 1))  = 0 Then playerspeed# = 0.1
			If (GDI_VKeyDown(VK_SHIFT, 1) Or GDI_VKeyDown(VK_SHIFT, 1)) &lt;&gt; 0 Then playerspeed# = 0.3

			If (GDI_VKeyDown(VK_W, 1) Or GDI_VKeyDown(VK_UP, 1)) Then player_z# = player_z# + playerspeed#: face = 8 : moving = 1 : walking = 1 ; up
			If (GDI_VKeyDown(VK_S, 1) Or GDI_VKeyDown(VK_DOWN, 1)) Then player_z# = player_z# - playerspeed#: face = 2 : moving = 1 : walking = 1 ; down

			;If (GDI_VKeyDown(VK_A, 1) Or GDI_VKeyDown(VK_LEFT, 1)) Then x# = x# - playerspeed#: face = 4 : moving = 1 : walking = 1 ; left
			;If (GDI_VKeyDown(VK_D, 1) Or GDI_VKeyDown(VK_RIGHT, 1)) Then x# = x# + playerspeed#: face = 6 : moving = 1 : walking = 1 ; right

			;If (GDI_VKeyDown(VK_W, 1) Or GDI_VKeyDown(VK_UP, 1)) And (GDI_VKeyDown(VK_A, 1) Or GDI_VKeyDown(VK_LEFT, 1)) Then face = 7: moving = 1 : walking = 1 ; up-left
			;If (GDI_VKeyDown(VK_S, 1) Or GDI_VKeyDown(VK_DOWN, 1)) And (GDI_VKeyDown(VK_A, 1) Or GDI_VKeyDown(VK_LEFT, 1)) Then face = 1 : moving = 1 : walking = 1 ; down-left
			;If (GDI_VKeyDown(VK_W, 1) Or GDI_VKeyDown(VK_UP, 1)) And (GDI_VKeyDown(VK_D, 1) Or GDI_VKeyDown(VK_RIGHT, 1)) Then face = 9 : moving = 1 : walking = 1 ; up-right
			;If (GDI_VKeyDown(VK_S, 1) Or GDI_VKeyDown(VK_DOWN, 1)) And (GDI_VKeyDown(VK_D, 1) Or GDI_VKeyDown(VK_RIGHT, 1)) Then face = 3 : moving = 1 : walking = 1 ; down-right
			
			PositionEntity(player, x#, 1.001, player_z#)

		Else
		
			face = 0
			playerspeed# = 0
			
		EndIf

	FlushKeys()

End Function

;Draw player
Function Draw_player(player, playertex, curr_frame)

	EntityTexture player, playertex, curr_frame

End Function

;Animations
Function Animate_player(facing, player, player_tex, framespeed#, playerspeed#)

	If moving

		If walking
		
			If facing = 8

				currentframe# = currentframe# + framespeed#
	
				start_frame = walkup_start_frame
	
				end_frame = walkup_end_frame
				
			EndIf

			If facing = 2

				currentframe# = currentframe# + framespeed#

				start_frame = walkdown_start_frame

				end_frame = walkdown_end_frame
				
			EndIf
			
		EndIf

		If ( Floor( currentframe# ) &gt; end_frame - 1 )
	
			currentframe# = start_frame
	
		EndIf

	EndIf

	EntityTexture player, player_tex, currentframe#

End Function

Function GDI_VKeyDown(VirtualKey, IgnoreFocus=False)
	
	If (IgnoreFocus = True) And (api_GetActiveWindow() = 0) Then Return
	Return (api_GetAsyncKeyState%(VirtualKey) And %1000000000000000) &gt; 0
	
End Function

;--------------------------------------------------------------------
;  This function will clear a texture of all it's alpha information |
;--------------------------------------------------------------------
;parameters  =  texture : the texture you wish to clear alpha information from
Function prepare_texture(texture, totalframes=1)
	
	Local X
	Local Y
	Local RGB1
	Local r
	Local g
	Local b
	Local a
	Local RGB2
	
	Local Buffer
	
	Local frame
	
	For frame=1 To totalframes
		Buffer=TextureBuffer(texture, frame)
		
		LockBuffer Buffer
		
		For Y=0 To FrameHeight-1
			For X=0 To FrameWidth
				RGB1=ReadPixelFast(X, Y, Buffer)
				r=(RGB1 And $FF0000)Shr 16;separate out the red
				g=(RGB1 And $FF00) Shr 8;green
				b=RGB1 And $FF;and blue parts of the color
				a=(RGB1 And $FF000000)Shr 24
				
				a=255; remove any alpha information currently in the texture.
				
				RGB2= (a Shl 24) Or (r Shl 16) Or (g Shl 8) Or b; combine the ARGB back into a number
				
				WritePixelFast(X, Y, RGB2, Buffer); write the info back to the texture
			Next
		Next
		
		UnlockBuffer Buffer
	Next
	
End Function


;---------------------------------------------------------------------
;  This function will mask the passed across RGB of the texture also |
;  passed across. Do NOT pass across a value for flag if you only    |
;  want to mask an exact colour.                                     |
;---------------------------------------------------------------------
;parameters = texture   : the texture you wish to clear alpha information from
;           = r1        : the red value to mask
;           = g1        : the green value to mask
;           = b1        : the blue value to mask
;           = tolerance : the tolerance value. If set to 0, then the function will only mask the
;                         EXACT colours passed across. Higher value will mask values close to the colour.

Function texture_mask_colour(texture, r1, g1, b1, TotalFrames=1, tolerance=0)
	
	Local X
	Local Y
	Local RGB1
	Local RGB2
	Local Buffer
	Local r
	Local g
	Local b
	Local a
	Local Frame
	
	For Frame=1 To TotalFrames
		Buffer=TextureBuffer(texture, Frame)
		LockBuffer Buffer
			For Y=0 To FrameHeight-1
			For X=0 To FrameWidth-1
				RGB1=ReadPixelFast(X, Y, Buffer) ; read the RGB value from the texture
				r=(RGB1 And $FF0000)Shr 16;separate out the red
				g=(RGB1 And $FF00) Shr 8;green
				b=RGB1 And $FF;and blue parts of the color
				a=(RGB1 And $FF000000)Shr 24 ; extract the alpha
				
				If r&gt;=r1-tolerance And r=&lt;r1+tolerance And g=&gt;g1-tolerance And g=&lt;g1+tolerance And b=&gt;b1-tolerance And b=&lt;b1+tolerance Then; check RGB lies with the tolerance
					;temp=((Abs(r-r1)+Abs(g-g1)+Abs(b-b1))/3.0)*4.0 ; alpha the values based on the tolerance value
					a=0;temp
					
				End If
				
				RGB2= (a Shl 24) Or (r Shl 16) Or (g Shl 8) Or b ; combine the ARGB back into one value
				
				WritePixelFast(X, Y, RGB2, Buffer); write back to the texture
			Next
		Next
		UnlockBuffer Buffer
	Next
	
End Function


Function CreateQuad(width#, height#, order%=-1, parent%=False)

	Local v0, v1, v2, v3
	Local Point, Surface
	
	If Not parent = False
		Point = CreateMesh(parent)
			Else
				Point = CreateMesh()
	EndIf
	
	If order &lt;&gt; 0
		EntityOrder Point, order
	EndIf
	
	EntityFX Point, 1
			
	Surface = CreateSurface(Point)
	
	v0=AddVertex(Surface, -(width*.5), (height*.5), 0, 0, 0)
	v1=AddVertex(Surface, (width*.5), (height*.5), 0, 1, 0)
	v2=AddVertex(Surface, -(width*.5), -(height*.5), 0, 0, 1)
	v3=AddVertex(Surface, (width*.5), -(height*.5), 0, 1, 1)
	
	AddTriangle(Surface, v0, v1, v2)
	AddTriangle(Surface, v1, v3, v2)
	
	Return Point

End Function
</textarea><br><br>Thanks Rems! :)<br><br>~GF <br><br></td></tr></table><br>
<a name="1257118"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Updated above. <br><br></td></tr></table><br>
<a name="1257156"></a>

<a name="1257157"></a>

<a name="1257170"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have updated my 3rd post &amp; my 18th post to reflect on a HUGE update I made! I had a breakthrough FINALLY! I got the animation working correctly! The only problem is I can't get the texture mask function to mask ALL the frames in the sprite sheet...<br><br>EDIT: Having problems with MULTIPLE animations now.. How do I go about fixing this?<br><br>[Edited above code]<br><br>Thanks to all that help! <br><br></td></tr></table><br>
<a name="1257186"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> after a quick look at your code, some observations :<br>why not load each pose image and then recreate a texture for each pose by replacing the pixel to mask with black (0,0,0) or alpha 0, then use these pose textures to texture your quad ? In this way you will not need to waste ms trying to color pixels in the mainloop...<br>even better : use an image editing tool to color the pixels which must be transparent in black (0,0,0) and then save the image, and then load the texture with flag 4... <br><br></td></tr></table><br>
<a name="1257188"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Because there are some pixels on the outside of the sprite that are totally black, and are needed for the sprite's outline.<br><br>Otherwise, I would.<br><br>Is there a better way? <br><br></td></tr></table><br>
<a name="1257217"></a>

<a name="1257218"></a>

<a name="1257219"></a>

<a name="1257221"></a>

<a name="1257226"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you create a graphics window with 32bits colors, "real black" is 0,0,0 (can be masked with flag 4) but you can create a black outline with 1,1,1.<br>See :<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Graphics3D(640,480,32,2)

SeedRnd(MilliSecs())

TImage = CreateImage(100,100)
SetBuffer(ImageBuffer(TImage))
ClsColor(0,0,0) ;the mask color
Cls()
PWidth% = 50
PHeight% = PWidth
PX% = ImageWidth(TImage)/2-PWidth/2
PY% = ImageHeight(TImage)/2-PHeight/2
OPWidth% = 1+PWidth+1
OPHeight% = 1+PHeight+1
OPX% = PX - 1
OPY% = PY - 1
Color(1,1,1) ;the outline color
Oval(OPX,OPY,OPWidth,OPHeight,1)
Color(Rand(025,255),Rand(025,255),Rand(025,255)) ;the drawing color
Oval(PX,PY,PWidth,PHeight,1)

SetBuffer(BackBuffer())
ClsColor(125,125,125) 
Cls()
DrawImage(TImage,GraphicsWidth()/2-ImageWidth(TImage)/2,GraphicsHeight()/2-ImageHeight(TImage)/2)

Flip()

WaitKey()

End()
</textarea> <br><br></td></tr></table><br>
<a name="1257242"></a>

<a name="1257243"></a>

<a name="1257244"></a>

<a name="1257245"></a>

<a name="1257246"></a>

<a name="1257256"></a>

<a name="1257257"></a>

<a name="1257258"></a>

<a name="1257260"></a>

<a name="1257264"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RGR</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> <textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">GWidth=1024
GHeight=576
Graphics3D GWidth, GHeight, 32, 2
SetBuffer BackBuffer()

SeedRnd(MilliSecs())
AmbientLight 255, 255, 255

cam = CreateCamera()
PositionEntity(cam, 0, 50.0, -250)
CameraRange(cam, 0.1, 10000.0)
Zoom#=1.0
CameraZoom(cam, Zoom#)

Skytex=LoadTexture("Sky.png")
SkyMesh=Create2DMesh(Skytex, 5000, 2000)
PositionEntity(Skymesh,0, 50, 300)
p_texwidth=352/4
p_texheight=388/4
p_tex=LoadAnimTexture("freedan1a.png", 2+8+16+32+256+512, p_texwidth, p_texheight, 0, 16)
p_mesh=Create2DMesh(p_tex, p_texwidth, p_texheight)

Dir8=8
Max8=4
Dir2=0
Max2=4
Dir4=4
Max4=4
Dir6=12
Max6=4

Groundtex=LoadTexture("ground.jpg")
ground = Create2DMeshFlat(Groundtex, 5000, 2000)
PositionEntity(ground, 0, 0, 0)
DetailTex=LoadTexture("Detail2.jpg")
ScaleTexture(DetailTex, 0.025, 0.025)
EntityTexture(ground, DetailTex, 0, 1)

;EntityColor ground, 0, 64, 0

PlayerX# = 0
PlayerY# = p_texheight/2-2
PlayerZ# = 0

playerspeed#=0.01
MoveFaktor#=50.0

CTex=LoadTexture("2.jpg")
Dim c(100)
For i=1 To 100
	c(i)=CreateCube()
	ScaleEntity(c(i), Rnd(2, 20), Rnd(2, 20),Rnd(2, 20))
	PositionEntity(c(i), Rnd(-2000, 2000), 0, Rnd(-100, 200))
	EntityTexture(c(i), CTex)
	EntityColor(c(i), Rnd(80,180),Rnd(80,180),Rnd(80,180))
Next

ClsColor(0,0,200)
While Not KeyDown(1)
	Cls
	If KeyDown(200)
		PlayerZ#=PlayerZ#+playerspeed#*MoveFaktor#
		FramePos#=FramePos#+playerspeed#
		If FramePos# &gt;= 1.0
			Framepos#=FramePos#-1.0
		EndIf
		ActFrame=Floor(FramePos#*Max8+Dir8)
		EntityTexture(p_mesh, p_tex, ActFrame)
	ElseIf KeyDown(208)
		PlayerZ#=PlayerZ#-playerspeed#*MoveFaktor#
		If PlayerZ#&lt;-10
			PlayerZ#=-10
		Else
			FramePos#=FramePos#+playerspeed#
			If FramePos# &gt;= 1.0
				Framepos#=FramePos#-1.0
			EndIf
		EndIf
		ActFrame=Floor(FramePos#*Max2+Dir2)
		EntityTexture(p_mesh, p_tex, ActFrame)
	ElseIf KeyDown(203)
		PlayerX#=PlayerX#-playerspeed#*MoveFaktor#
		FramePos#=FramePos#+playerspeed#
		If FramePos# &gt;= 1.0
			Framepos#=FramePos#-1.0
		EndIf
		ActFrame=Floor(FramePos#*Max4+Dir4)
		EntityTexture(p_mesh, p_tex, ActFrame)
	ElseIf KeyDown(205)
		PlayerX#=PlayerX#+playerspeed#*MoveFaktor#
		FramePos#=FramePos#+playerspeed#
		If FramePos# &gt;= 1.0
			Framepos#=FramePos#-1.0
		EndIf
		ActFrame=Floor(FramePos#*Max6+Dir6)
		EntityTexture(p_mesh, p_tex, ActFrame)
	EndIf	
	If KeyDown(74)
		Zoom#=Zoom#-0.001
		CameraZoom(cam, Zoom#)
		If Zoom#&lt;0.6
			Zoom=0.6
		EndIf
	ElseIf KeyDown(78)
		Zoom#=Zoom#+0.001
		CameraZoom(cam, Zoom#)
		If Zoom#&gt;1.2
			Zoom#=1.2
		EndIf
	EndIf
	
	PositionEntity(p_mesh, PlayerX#, PlayerY#, PlayerZ#)
	PositionEntity(cam, EntityX(cam)+(PlayerX-EntityX(cam))*0.01, EntityY(cam), EntityZ(cam))
	PointEntity(cam, p_mesh)

	PositionEntity(SkyMesh, PlayerX#*0.25, 50, 300)

	UpdateWorld()
	RenderWorld()

	Text 0, 0, "playerx#: "+playerx#
	Text 0, 20, "playery#: "+playery#
	Text 0, 40, "playerz#: "+playerz#
	Text 0, 60, "FramePos: "+FramePos#
	Text 0, 80, "ActFrame: "+ActFrame
	Text 0, 100, "Zoom: "+Zoom

	Flip(True)

Wend

End

Function Create2DMesh(tex, width, height, startframe=0, parent%=0)
	mesh=CreateMesh(parent)
	S = CreateSurface(mesh)
	
	v0=AddVertex(S, -(width/2), (height/2), 0, 0, 0)
	v1=AddVertex(S, (width/2), (height/2), 0, 1, 0)
	v2=AddVertex(S, -(width/2), -(height/2), 0, 0, 1)
	v3=AddVertex(S, (width/2), -(height/2), 0, 1, 1)
	
	AddTriangle(S, v0, v1, v2)
	AddTriangle(S, v1, v3, v2)
	EntityTexture(mesh, tex, startframe)
	
	EntityFX(mesh, 1)
	Return mesh
End Function

Function Create2DMeshFlat(tex, width, depth, startframe=0, parent%=0)
	mesh=CreateMesh(parent)
	S = CreateSurface(mesh)
	
	v0=AddVertex(S, -(width/2), 0,(depth/2), 0, 0)
	v1=AddVertex(S, (width/2), 0, (depth/2), 1, 0)
	v2=AddVertex(S, -(width/2), 0, -(depth/2), 0, 1)
	v3=AddVertex(S, (width/2), 0, -(depth/2), 1, 1)
	
	AddTriangle(S, v0, v1, v2)
	AddTriangle(S, v1, v3, v2)
	EntityTexture(mesh, tex, startframe)
	
	EntityFX(mesh, 1)
	Return mesh
End Function
</textarea><br><br>Load textures with rightclick.<br><a href="http://www.rrsoftware.net/uploads/Forums/Blitz3D/freedan1a.png" target="_blank"><img src="http://www.rrsoftware.net/uploads/Forums/Blitz3D/freedan1a.png"></a> <a href="http://www.rrsoftware.net/uploads/Forums/Blitz3D/Sky.png" target="_blank"><img src="http://www.rrsoftware.net/uploads/Forums/Blitz3D/Sky.png"></a> <a href="http://www.rrsoftware.net/uploads/Forums/Blitz3D/2.jpg" target="_blank"><img src="http://www.rrsoftware.net/uploads/Forums/Blitz3D/2.jpg"></a><br><br><a href="http://www.rrsoftware.net/uploads/Forums/Blitz3D/Detail2.jpg" target="_blank"><img src="http://www.rrsoftware.net/uploads/Forums/Blitz3D/Detail2.jpg"></a> <a href="http://www.rrsoftware.net/uploads/Forums/Blitz3D/ground.jpg" target="_blank"><img src="http://www.rrsoftware.net/uploads/Forums/Blitz3D/ground.jpg"></a><br><br><img src="http://www.rrsoftware.net/uploads/Forums/Blitz3D/Img20150201-183511.png"><br><br>UPDATED!<br>. <br><br></td></tr></table><br>
<a name="1257250"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> THANK YOU BOTH! THAT'S FREAKIN' UNGODLY, RGR! O_O AMAZING! SIMPLY AMAZING! <br><br></td></tr></table><br>
<a name="1257252"></a>

<a name="1257253"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice example RGR.<br><br>I think it probably takes more time to draw all poses of the character by hand than to capture the poses of a 2d or 3d animated character. And you can probably have more intermediate poses this way, so the animation will look better. <br><br></td></tr></table><br>
<a name="1257254"></a>

<a name="1257259"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RGR</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> I.e. Fragmotion can make 2DAnimations automatic from 3DMeshes ...<br><br>Actually I have updated the File above -because the Player was hopping when it went to the right side ... corrected<br><br>Btw. I have updated the little demo above ;-) <br><br></td></tr></table><br>
<a name="1257261"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> UNFREAKIN'-BELIEVABLE!<br><br>RGR, THIS IS THE MOST SICK 2D IN 3D EXAMPLE I'VE EVER SEEN ON THE BLITZ3D FORUMS! O_O <br><br></td></tr></table><br>
<a name="1258084"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> @RGR: what program did you use to correctly position the sprites?<br><br>Is there some kind of easier tool that does this automatically? <br><br></td></tr></table><br>
<a name="1258159"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RGR</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> Photoshop ... putting an exact 4 by 4 grid over the image which was changed to a size dividable by 4 (added some Pixels at the bottom)<br>Its then easy to see which of the frames are not at the right place. Cut them out pasted them and moved them to fit inside the grid ...<br><br>If I would have more of such pictures to fix I would write a program in PureBasic - has the advantage that I can see while moving the frames how the Animation looks like and save as Png. Estimated 15 - 20 Minutes Job with PB (OpenFileRequester, LoadImage, Divide it, Select and Move Frames using Keyboard, Save new Image) <br><br></td></tr></table><br>
<a name="1258163"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> That would be awesome if there were such a program. Photoshop is just too hard without video tutorials. <br><br></td></tr></table><br>
<a name="1258165"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LineOf7s</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://www.getpaint.net/" target="_blank">Paint.NET</a> then, or any other paint program that can put a 4 by 4 grid over the top of an image. <br><br></td></tr></table><br>
<a name="1258268"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> maybe try photofiltre 7, it is easier to use than photoshop <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
