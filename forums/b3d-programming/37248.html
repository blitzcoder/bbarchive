<!DOCTYPE html><html lang="en" ><head ><title >Event messaging system for B3D?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Event messaging system for B3D?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Event messaging system for B3D?</a><br><br>
<a name="409174"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BulletMagnet</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Anyone know of an event messaging system for Blitz3D?<br><br>I am looking for a system that can generate events and have game objects 'register' to listen only for certain event types. If no game object is currently registered for a given event type it is not sent out so no spamming of messages occurs.<br><br>For example a weapon listens for EVENT_fire or EVENT_altFire, but could care less about EVENT_mouseOver or EVENT_jumpLikeAMonkey.<br><br>If such a system is not already out there, got any slick ideas on how to proceed building one? Massive Select/Case statements are all that pop into my head right now but I haven't had my coffee yet...<br><br>Also, I have BVM and keep thinking this is the way to go to build such a system, but haven't really dug into it yet. So if you have an idea along those lines let me know.<br><br>Thanks, <br><br></td></tr></table><br>
<a name="409260"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Personally I use an event system as a sideeffect. My app is not built around an event system, rather the event system is one part added to the engine. There are things that don't require event generators or handlers, things like toggle switches etc. It may or may not be useful to use a generic event system. <br><br></td></tr></table><br>
<a name="409335"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BulletMagnet</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> So...then...no ideas there JFK? (Just kidding.)<br><br>I am not sure I understand what you mean by 'side effect'.<br><br>I realize that not every object or action needs to have an event associated with it, that is why I mentioned that game objects should be able to register to receive events, only the ones they need. The event system should skip even creating an event message if there is no one to registered 'hear' it.<br><br>I have started tooling about and maybe I can come up with something useful. <br><br></td></tr></table><br>
<a name="409354"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >martonic</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Could be useful. You might use:<br>a) a type for events (field event$, for example)<br>b) a type for active events (also, field event$)<br>c) a type for event registrations (field event$, field callback ??? - see below)<br>d) a function to fire off an event (would create a new object of the active_event type)<br>e) a function allowing an object to register as a listener for an event (create a new object of the event_registration type)<br>f) an event manager, called in the main loop, that detects all events (loops "for each" on the active_event type), calls all event handlers registered for each active event and then deletes that event from the active_events queue.<br><br>The trouble seems to be the callbacks - does Blitz allow passing the name or address of a function as a parameter, storing it in a field of an "event_registration" type, and calling that function to pass the notification of an event to a registered object?<br><br>There's my two bits on theory. I don't know if Blitz allows passing a function as a parameter, or supports callbacks. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
