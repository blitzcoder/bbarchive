<!DOCTYPE html><html lang="en" ><head ><title >Drawing a grid for an editor...</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Drawing a grid for an editor...</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Drawing a grid for an editor...</a><br><br>
<a name="280642"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >poopla</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well this ones got me a bit stumped.  At the moment, Im drawing my grid by using a mesh with WAY too many poly's to be efficient.  I was thinking of drawing it in 2d, but that would overwrite anything that is in the scene....  Any ideas? <br><br></td></tr></table><br>
<a name="280646"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kuron</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://members.home.nl/wdw/bbtips.html" target="_blank">http://members.home.nl/wdw/bbtips.html</a><br><br>Try GRIB 1.0 very useful... <br><br></td></tr></table><br>
<a name="280647"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >poopla</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Awe, you're a life saver! <br><br></td></tr></table><br>
<a name="280648"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kuron</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank Mr. Wiebo ;c) <br><br></td></tr></table><br>
<a name="280861"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MattG</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> shame its only for blitzplus <br><br>Matt <br><br></td></tr></table><br>
<a name="281284"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sweenie</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could set the ClsMode of the camera to false,true.<br>That is, only clear the zbuffer.<br><br>1) Clear the screen with CLS or RECT<br>2) Draw the 2D grid<br>3) Render Entities <br><br></td></tr></table><br>
<a name="281304"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> ^ ...wot Sweenie said =] That is the correct way to do it.<br>You could also render the grid to a texture, put it on a quad, and make sure the lines match up to the blitz3d unit system... <br><br></td></tr></table><br>
<a name="281311"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >poopla</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wireframe....<br><br>Looks like I'll be manually drawing the grid.  I had hoped there was a better alternative, but I knew there really wasn't one ;). <br><br></td></tr></table><br>
<a name="281373"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sweenie</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have a look at this example...(Warning, Messy code!)<br><pre class=code>
Graphics3D 640,480,0,2
SetBuffer BackBuffer()

AmbientLight 255,255,255 

WireFrame True

CamScale#=0.1

Global Camera = CreateCamera()
PositionEntity Camera,0,0,-50
CameraProjMode Camera,2 
CameraZoom Camera,CamScale# 
CameraClsMode Camera,False,True 

ClsColor 150,150,150

Global GRIDSTEP#=1.0	; Size of each GridBlock
Global GRIDCOLR=90
Global GRIDCOLG=90
Global GRIDCOLB=90

SeedRnd MilliSecs()

mesh1 = CreateCylinder()
PositionEntity mesh1,Int(Rnd(-5,5)),Int(Rnd(-5,5)),0  
EntityColor mesh1,255,0,0 

mesh2 = CreateSphere()
PositionEntity mesh2,Int(Rnd(-5,5)),Int(Rnd(-5,5)),0  
EntityColor mesh2,0,0,255

While Not KeyDown(1)


Select MouseZSpeed ()
 Case -1
  CamScale#=CamScale#*0.9
  If CamScale#&lt;0.001 Then camScale#=0.001
  CameraZoom Camera,CamScale#
 Case 1
  CamScale#=CamScale#*1.1
  If CamScale#&lt;0.001 Then camScale#=0.001
  CameraZoom Camera,CamScale#
End Select

; MousePanning
XDiff=-MouseXSpeed()
YDiff=MouseYSpeed()
If MouseDown(1) Then
MoveEntity Camera,XDiff/(400.0*CamScale#),YDiff/(300.0*CamScale#),0
EndIf


DrawGrid()
Color 0,0,0

RenderWorld

Flip False

Wend
End

Function DrawGrid()

Cls 
CenterX#=EntityX#(Camera)
CenterY#=EntityY#(Camera)
StartDrawX#=Int(CenterX#/GRIDSTEP#)*GRIDSTEP#
StartDrawY#=Int(CenterY#/GRIDSTEP#)*GRIDSTEP#

; Vertical lines
;Draw lines center to left
CurrPosX#=StartDrawX#
Repeat
 CameraProject(Camera,CurrPosX#,CenterY#,0)
 Xpos=ProjectedX()

 If CurrPosX#=0 Then
  Color 0,0,0
 Else
  Color GRIDCOLR,GRIDCOLG,GRIDCOLB 
 EndIf
 Line Xpos,0,Xpos,480 

 CurrPosX#=CurrPosX#-GRIDSTEP#
Until Xpos&lt;0

;Draw lines center to right
CurrPosX#=StartDrawX#+GRIDSTEP#
Repeat
 CameraProject(Camera,CurrPosX#,CenterY#,0)
 Xpos=ProjectedX()
 If CurrPosX#=0 Then
  Color 0,0,0
 Else
  Color GRIDCOLR,GRIDCOLG,GRIDCOLB 
 EndIf
 Line Xpos,0,Xpos,480 
 CurrPosX#=CurrPosX#+GRIDSTEP#
Until Xpos&gt;640

; Horizontal lines
;Draw lines center to up
CurrPosY#=StartDrawY#
Repeat
 CameraProject(Camera,CenterX#,CurrPosY#,0)
 Ypos=ProjectedY()
 If CurrPosY#=0 Then
  Color 0,0,0
 Else
  Color GRIDCOLR,GRIDCOLG,GRIDCOLB 
 EndIf
 Line 0,Ypos,640,Ypos 
 CurrPosY#=CurrPosY#+GRIDSTEP#
Until Ypos&lt;0

;Draw lines center to down
CurrPosY#=StartDrawY#-GRIDSTEP#
Repeat
 CameraProject(Camera,CenterX#,CurrPosY#,0)
 Ypos=ProjectedY()
 If CurrPosY#=0 Then
  Color 0,0,0
 Else
  Color GRIDCOLR,GRIDCOLG,GRIDCOLB 
 EndIf
 Line 0,Ypos,640,Ypos 
 CurrPosY#=CurrPosY#-GRIDSTEP#
Until Ypos&gt;480

End Function
</pre> <br><br></td></tr></table><br>
<a name="281457"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >churchaxe</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> great stuff! <br><br></td></tr></table><br>
<a name="281647"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MattG</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> yea , really great ! <br><br></td></tr></table><br>
<a name="281849"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Kinda hi-jacking the thread, but it's a similar question.<br><br>how might you do an editor grid like maplet/droplet? <br><br></td></tr></table><br>
<a name="318374"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zethrax</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've also been experimenting with an editing grid for a program I'm working on. The code below is what I'm currently using to do the grid.<br><br>It requires a 256 x 256 texture with 10 pixel wide opaque lines across the top and down the left side, and with the remainder of the image transparent.<br><br>; -- Setup code.<br><br>; -- Grid positioning variables.<br>Global grid_height#<br>Global grid_height_spacer# = 0.003<br>Global grid_scale# = 1.0<br>;^^^^^^<br><br>Global grid = CreatePlane ()<br>Global grid_tex = LoadTexture ( "C:\Documents and Settings\Owner\Desktop\B3D VIEWER\media\images\Copy3 of Copy of grid.png", 11 )<br>EntityTexture grid, grid_tex<br>EntityFX grid, 13<br>MoveEntity grid, -0.0195312, grid_height_spacer#, -0.0195312<br>the_grid2 = CopyEntity ( grid, grid )<br>MoveEntity the_grid2, 0.0, -grid_height_spacer#, 0.0<br>ScaleEntity the_grid2, 1.0, -1.0, 1.0, True<br><br>; -- Update function.<br><br>Function move_and_size_grid()<br><br>If KeyHit ( 18 ) ; The 'E' key.<br>	grid_height# = grid_height# + grid_scale#<br>	PositionEntity grid, -0.0195312, grid_height# + grid_height_spacer#, -0.0195312, True<br>	do_update = True<br>EndIf<br><br>If KeyHit ( 16 ) ; The 'Q' key.<br>	grid_height# = grid_height# - grid_scale#<br>	PositionEntity grid, -0.0195312, grid_height# + grid_height_spacer#, -0.0195312, True<br>	do_update = True<br>EndIf<br><br>If KeyHit ( 13 ) ; The '+/=' key.<br>	grid_scale# = grid_scale# * 2.0<br>	ScaleTexture grid_tex, grid_scale#, grid_scale#<br>	do_update = True<br>EndIf<br><br>If KeyHit ( 12 ) ; The '-/_' key.<br>	grid_scale# = grid_scale# / 2.0<br>	ScaleTexture grid_tex, grid_scale#, grid_scale#<br>	do_update = True<br>EndIf<br><br>End Function <br><br></td></tr></table><br>
<a name="318542"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mrtricks</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sweenie, that's great! I'ev been working on an editor for something and doing it all 2D but this works much better. I'd never seen that CameraClsMode command before. Do you mind if I poach a bit of that code and rework it for mine? <br><br></td></tr></table><br>
<a name="318546"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sweenie</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Do you mind if I poach a bit of that code and rework it for mine? <br> <br></div><br><br>Trying to steal our preciousssssssshhh..., filthy little hobbitssssss.<br><br>Hehehe, just kidding.<br>Go ahead, hope you find it useful. :) <br><br></td></tr></table><br>
<a name="318577"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mrtricks</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> TA! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
