<!DOCTYPE html><html lang="en" ><head ><title >Encrypt/Protect Images and External Files</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Encrypt/Protect Images and External Files</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Encrypt/Protect Images and External Files</a><br><br>
<a name="938214"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BLaBZ</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there a way to make the external files such as images write proof? Once the game is ready to be published, I don't want people to change textures and images.<br><br>Thanks! <br><br></td></tr></table><br>
<a name="938216"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> There's some stuff around the code-archives or I think maybe in the tools that deal with packaging the images along with the Executable, this seems like the best bet to me.<br><br>Otherwise, you could perhaps make a note of the size of the files and check that on loading to ensure they match up?<br><br>I'm sure there's methods of proper encryption and stuff, but it's beyond me and I'll leave that for someone else :D <br><br></td></tr></table><br>
<a name="938217"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ginger Tea</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> you can get packers that stick everything in the exe (i think incbin is a bmax only method) or you can convert bitmaps into data statements as an incude in the code althouh you might be stuck with 24bit map bmp size files compared to jpg and png compression (unless you do extra coding i guess)<br><br>so yes you can if you feel you need to<br><br>edit: i must be slow at typing today when i started there was only one post ;) <br><br></td></tr></table><br>
<a name="938245"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Santiworld</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi, i join in this topic. :)<br><br>i have the same question, but, if i have like 50mb of jpg files in my game... if i pack them in the .exe file. can the users experiment problems when they try to load an .exe that big?<br><br>regards, Santiago <br><br></td></tr></table><br>
<a name="938295"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wings</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I had issue with this specialy polylar is height map mod. making cheat for the MMO game :)<br><br><br>anyway.<br><br>herese mine way.<br><br><br>1) You must encrypt filename in the srouce file.. or else user may change em in your exe file.<br><br>2) Make sure you have a nice algorythm to check the loading files. before they load for real.<br><br>3) Use one of the packing tools free available.<br><br><br>if you do above not to many will be able to get the game broke.<br><br><br>i dint tell it was the fast or easy way :) <br><br></td></tr></table><br>
<a name="938308"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I make my own file types for many things if I want the content to be protected... I even made my own file packer that packs all the game files in one ginormous media.lok file! since there are so many files packed in one file, it is almost impossible to figure out even without some random encryption that is also implemented (i should probably put it in the showcase but im too lazy to put it in there for now)<br><br>anyway i sometimes use blitz media linker for random small things. however i like using my file packer :) it is messy but it works<br><br>I recommend (if you have time) making your own stuff like file packers, high score keepers etc... <br><br></td></tr></table><br>
<a name="938328"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BLaBZ</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there an example of how to make a file packer? <br><br></td></tr></table><br>
<a name="938331"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> well there's not an example really.. i just figured it out.. plus my 'file packer' compresses the files into a seperate file not the exe itself.  I just used simple readint writeint commands to make it. hmmm ill put something similar in the codearchives some day :) if i ever get the time<br><br>if you need to know how it works (like an outline of it) i can give you that <br><br></td></tr></table><br>
<a name="938341"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BLaBZ</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah! an outline would be a great a start! and much appreciated! <br><br></td></tr></table><br>
<a name="938344"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok sorry this is so vague but here it goes... i dont have the actual code with me right now sorry.<br><br><br>I use a type to store all the files in as follows<br><br>type names<br> field path$<br>end type<br><br>1.  This is the part of the program where you get the file path's and the destination file info from the user.  I use winb3d because it is simple and efficient<br><br>2.  after the user finishes entering everything, the program cycles through every type and copies each file into a single file with some extra formatting done (this is the vague part sorry)<br><br>The code for this part would look similar to the following it is long but very heavily commented. to decode the file, simply undo what u did to write it ingame and rewrite each file in its original folder path then load the media via loadimage loadfont etc. immediately after you unpack it... people will be able to steal your media this way but they cannot modify them before the program loads them<br><br>This is the code that encodes and compresses the files<br><pre class=code>Type names
	Field path$		;The path to the file used
End Type


Local destfile = WriteFile(destfilepath$ + ".lok") ;This line uses destfilepath, the file path the user entered earlier where the compacted file will be
;destfile is the handle for the destination file

WriteInt(destfile,10506)		;This just writes a random number to the beginning of the file as a 'watermark'

Local count = 0		;This variable will be used to count the number of files being compressed

For n.names = Each names	;Cycles through each name to count the number of files stored
	count = count + 1
Next

WriteInt(destfile,count)		;This puts how many files are being compressed in the file

For n.names = Each names

	tempfile = ReadFile(n\path$)	;This reads the files as they come through
	
	WriteString(destfile,n\path$)	;This writes the name of each file at the beginning of each file
	
	While Not Eof(tempfile)			;This transfers the data from the file selected to the compressed file
		WriteInt(destfile,ReadInt(tempfile))
	Wend
	
	WriteInt(destfile,1234)		;This is the sequence that will serve as the markers between files
	WriteInt(destfile,9876)		;The probability that a file will contain these numbers in this order is extrememly low... if a file you are using does then
	WriteInt(destfile,101)		;Just change them :)
	WriteInt(destfile,10)
	WriteInt(destfile,55608)
	
	CloseFile(tempfile)

Next

CloseFile destfile</pre><br><br>the program above is not complete but is a code snippet i wrote out really quickly... dont run it! just read it and how it works<br><br><br>the file format will now be as follows (in order)<br><br><br>10506<br><br>the number of files being compressed<br><br>a name of a file<br>all the data in that file<br><br>1234 the marker of a new file<br>9876<br>101<br>10<br>55608<br><br>a name of a file<br>all the data in that file<br><br>1234 the marker of a new file<br>9876<br>101<br>10<br>55608<br><br>etc you get the point <br><br></td></tr></table><br>
<a name="938347"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BLaBZ</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is soo perfect, thanks a lot I definitely appreciate it! <br><br></td></tr></table><br>
<a name="938351"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> no problem.. tell me if there are any confusions?  (i have too much free time) <br><br></td></tr></table><br>
<a name="938441"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mahan</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have bought Molebox Pro from <a href="http://www.molebox.com/" target="_blank">http://www.molebox.com/</a> for this.<br><br>The advantage with molebox (pro) is that is packs and encrypts all your files and then modifies the actual .exe-file so that is replaces several system-calls to fopen(), fread() etc. This way you can actually have a real packed file and no temporary files written at all to the disk, but your .exe is modified to read the encrypted and packed data by itself instead of the usual files.<br><br>It's a bit pricey (starts @ 59EUR and pro version is 99EUR) but does a good job as far as I've seen. <br><br></td></tr></table><br>
<a name="938445"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Molebox is great. Another recommendation is you need better file protection. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
