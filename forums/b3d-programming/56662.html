<!DOCTYPE html><html lang="en" ><head ><title >need help with normalmapping (again)</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >need help with normalmapping (again)</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >need help with normalmapping (again)</a><br><br>
<a name="629925"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kalisme</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry people, but I need help with normal mapping again...<br>I was working on my code to get animated models to work with normalmaps.... and I finally got it working... then I lost the code... (yeah... I know it sounds like I'm lying... but oh well)<br>it was really simple, the whole thing was based around:<br>some normalmapping functions (dot3 lights)<br>fast realtime cubemap reflection code (from archives)<br>and a sphere.<br><br>Instead of applying the normal maps to the animated mesh, the sphere was normal mapped from the places where the lights were meant to come from... then the cubemaps were taken from inside the sphere (it was rendered with double sided polygons)... my computer isn't very fancy so I used low-res textures for my cubemap... then the cubemap was placed onto the animated 3d model...<br>it seemed to run pretty well on my not-so-great computer...<br><br>I had most of the code backed up... but I can't find the normalmapping code that I used....<br>can anyone help?<br>I need something that can have multiple lights (well... I'd like) and (here's the tricky part... I guess) uses each vertex (individually) on the sphere and creates the correct colors... for some wierd reason when I used alot of the differant verson of this code (done by differant people) if the light was in front, it worked perfectly... but if it was behind... it didn't work... and if I raised the light to high it screwed around with the lighting... and I know the models aren't normal mapped wrong... I'm using other peoples I found for testing =P<br><br>Can someone please help?<br>Thanx for reading <br><br></td></tr></table><br>
<a name="629928"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Alienforce</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Kalisme: Check out this. <br>www.rosscrooks.pwp.blueyonder.co.uk/normalmapping1.zip <br><br></td></tr></table><br>
<a name="630886"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kalisme</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Alienforce: thank you for pointing this out to me, but this is actually where I got the idea from.<br><br>I'm hoping to make it possible to use normalmapped objects in games that are animated and can have moving lights effect them (eg: level lights and gun shots)<br>I had it working pretty well, but now I can't find the per-vertex dot3 lighting functions I found around here once.<br>And not every per-vertex dot3 lighting function works with it <br><br></td></tr></table><br>
<a name="630991"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you use that code from above, i don't think you can use the vertex colouring. You would need to drop the cubemaps i'm afraid. Also, the code posted above, will only work for tangent space normal maps. <br><br></td></tr></table><br>
<a name="631356"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kalisme</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> tangent space eh?<br>well that explains alot...<br>maybe I looked that up last time...<br>I'm not sure...<br>I know this can work because I did it before...<br>I just hafta redo it<br>thanx Ross C, I guess I can narrow down the search for code a bit now :) <br><br></td></tr></table><br>
<a name="631428"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kalisme</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok ok... I think I finally know what I need...<br>I need code that can get a model... go through the vertexes and find if the normals are pointing towards the light...<br>if they are perfectly, they should appear blue... if the light doesn't touch... it should be grey.. if it hits on the sides... well... people who understand dot3 lighting will know all about it... I don't.<br>but dot3 coloring the vertexes depending on the direction of the vertexes normal... <br><br>can someone direct me to the kind of code I'm blabbering about? I thought fredborgs code would work... but for some reason when the light went beind the model the colors weren't right... it was odd... or maybe I had one of the versions someone played with... I'm a tad confused<br><br>sorry for being anoying <br><br></td></tr></table><br>
<a name="631470"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kalisme</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> YAY! I found it...<br>and it works fine n_n<br>I used the Raitsun dot3 lighting code... (same one as I used b4)...<br>unfortunatly he said he couldn't get more than one light working.... so I'm guessing I'll hafta re-write the code...<br>I'll probably put up a few shots in graphics showcase just to show that it works <br><br></td></tr></table><br>
<a name="631512"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Alienforce</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can you share a link to the code ? please :) <br><br></td></tr></table><br>
<a name="632728"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skyfire1</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> i second alien's request! <br><br></td></tr></table><br>
<a name="632746"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kalisme</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> oh, lol... sorry about that...<br>here you go:<br><a href="http://www.filefactory.com/get/f.php?f=6ba1be98a1180a79abba60d2" target="_blank">http://www.filefactory.com/get/f.php?f=6ba1be98a1180a79abba60d2</a><br><br>hope it's helpful :)<br>tell me if anything goes wrong with the download <br><br></td></tr></table><br>
<a name="632780"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skyfire1</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> very nice. it looks like the 3d model has lots of polygons. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
