<!DOCTYPE html><html lang="en" ><head ><title >Help Me VertexTextCoords!!!!</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Help Me VertexTextCoords!!!!</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Help Me VertexTextCoords!!!!</a><br><br>
<a name="1074079"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, I have someone clarifies the possible use of VertexTextcoords ...<br><br>An easy example to understand their potential uses. <br><br>A greeting. <br><br></td></tr></table><br>
<a name="1074106"></a>

<a name="1074107"></a>

<a name="1074108"></a>

<a name="1074209"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >D4NM4N</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> It has been a while since i went into this, but it is something like:<br><br>if you have a square (2 triangles)<br><br>x--x<br>| / |  <br>x--x<br><br><br>The vertices (x) that make up the 2 tris need uv coordinates.<br><br>For a straight mapping:<br>0,0 -- 0,1<br><br>1,0 -- 1,1 <br><br><br>For a left rotated mapping:<br>0,1 -- 1,1<br><br>0,0 -- 1,0 <br><br>etc..<br><br>the numbers are obviously (U,V)<br><br>using fractional values like .5,.5 or double values will scale the texture. (but in reverse to what you expect. For example 2.0 will REPEAT twice, so texture will render half the size not be twice the size. - well, depending on which way you look at it :D)<br><br>Play with it and see, it is not that difficult to work out. :)<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1074110"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> =), well now the question is the last parameter refers to the texture I can climb right? 0 to 3 <br><br></td></tr></table><br>
<a name="1074141"></a>

<a name="1074142"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >D4NM4N</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> The coordinate set parameter decides which texture coordinate channel to use. This is often used when using; for example lightmaps where the textures have different UVs to the main channel.<br>I dunno about 0-3 though, i only thought there were 2 coord sets (0 &amp; 1).<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1074159"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Charrua</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi<br><br>this post isn't related with your question here, but there is a code in wich you can play with u,v and see what d4nman expalins.<br><br><a href="http://blitzbasic.com/Community/posts.php?topic=93660" target="_blank">http://blitzbasic.com/Community/posts.php?topic=93660</a><br><br>Juan <br><br></td></tr></table><br>
<a name="1074172"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can have 4 textures on a brush, but only 2 UV Sets for them. Usually used this way:<br>Set 0: diffuse mapping, the actual texture<br>Set 1: lightmap<br><br>I never use mre than 2 textures. You could add a Detail Grain Texture on layer 3, so a blur texture will remain "sharp" when watched closely. Note that additional textures may slow rendering down a little bit. <br><br></td></tr></table><br>
<a name="1074232"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> =( Although I do not hear how this works, I'm doing tests, all I see is that when using vertextextcoords the texture is much smaller.<br><br><pre class=code>
Graphics3D 800,600,32,False 
SetBuffer BackBuffer()



Local Camara = CreateCamera()
Local Cubo   = CreateCube()
Local Sol    = CreateLight()
Local Textu  = LoadTexture("bump.jpg")


EntityTexture Cubo,Textu


PositionEntity Cubo,0,0,4


Local SP = CountSurfaces(Cubo)
Local V  = 0


Local S
Local Super
For S = 1 To SP
	Super = GetSurface(Cubo,S)
	
Next 

For V = 0 To CountVertices(Super)
	VertexTexCoords Super,V,.5,.5
	
Next 
	




Repeat
	TurnEntity Cubo,0,1,0
	RenderWorld 
	
	Text 0,0, SP + " "  + CountVertices(Super)
	Flip 
Until KeyHit(1)
End 

</pre> <br><br></td></tr></table><br>
<a name="1074254"></a>

<a name="1074255"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Charrua</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi<br><br>you are defining u,v 0.5 for all the vertex, i think that you aren't seeing a texture at all.<br><br>see the cube information: vertex coords, uv coords and triangles, execute the following code:<br><br><pre class=code>

Graphics3D 800,600


cube = CreateCube()

For i=1 To CountSurfaces(cube)
	surf=GetSurface(cube,i)
	DebugLog "surface: "+i+" : "+surf
	DebugLog "has the following vertex position and uv's"
	For vert=0 To CountVertices(surf)-1
		DebugLog "vertice: "+vert
		DebugLog "3d Position:    "+VertexX(surf,vert)+", "+VertexY(surf,vert) + ", " + VertexZ(surf,vert)
		DebugLog "UV coords       "+VertexU(surf,vert)+", "+VertexV(surf,vert)
		DebugLog ""
	Next
	DebugLog "Triangles made by the following set's of vertices:"
	For tris=0 To CountTriangles(surf)-1
		DebugLog "triangle: "+tris+"  "+TriangleVertex(surf, tris, 0)+"  "+TriangleVertex(surf, tris, 1)+"  "+TriangleVertex(surf, tris, 2)
	Next
Next

WaitKey()
</pre><br><br>visualize the first triangle (made by vertex 0,1,2 )<br><br>is facing us:<br><br><br>..V0    V1<br>..------<br>..\.....|<br>...\....|<br>... \...|<br>.... \..|<br>......\.|<br>.......\|<br>..V3    V2<br><br><br> Imagine you have a piece of paper (the texture) and you skin the triangle with it. There are many ways you can do it. Supose you don't rotate the paper. So you start with 0,0 (width, height) and casually, the x,y of the triangle is equal to the x,y of your piece of paper. In this situation, your paper extends form start to end matching perfectly your trinangle (obviously you have a square piece of paper and a half of the square has no triangle to cover)<br><br>vertex 0, has 0,0 uv coordinates so you are saying: place the x start of the texture and the y start of the texture here at 0,0. <br><br>in the image texture it extends from 0 unitl it ends on 255, 511 or whatever depending on the size of the bitmap. In the u,v space 0 means start point and 1 means end point.<br>The default textrue coords (for a cube) dictates that the texture will skin the cube matching exactly one face of it. You can change every 1 in the u,v for 2 or 0.5 to scale texture up/down<br><br>a slight modification of your code sould be:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Graphics3D 800,600,32,False 
SetBuffer BackBuffer()



Local Camara = CreateCamera()
Local Cubo   = CreateCube()
Local Sol    = CreateLight()
Local Textu  = CreateTexture1()	;	LoadTexture("bump.jpg")

Local UCoord#, VCoord#, ScaleFactor#=1

EntityTexture Cubo,Textu


PositionEntity Cubo,0,0,4


Local SP = CountSurfaces(Cubo)
Local V  = 0


Local S
Local Super
For S = 1 To SP
	Super = GetSurface(Cubo,S)
	
Next 


Repeat
	TurnEntity Cubo,0,1,0
	RenderWorld 
	
	Recalculate=False
	
	If KeyHit(200) Then 
		ScaleFactor = 2
		Recalculate = True
	End If
	
	If KeyHit(208) Then 
		ScaleFactor = 0.5
		Recalculate = True
	End If
	
	If Recalculate Then
		For V = 0 To CountVertices(Super)-1
			UCoord=VertexU(Super,V)*ScaleFactor
			VCoord=VertexV(Super,V)*ScaleFactor
			VertexTexCoords Super,V,UCoord, VCoord
		Next 		
	End If
	
	Text 0,0, SP + " "  + CountVertices(Super)
	
	Flip 
Until KeyHit(1)
End 


Function CreateTexture1()

	For i = 0 To 256/32+1
	For j = 0 To 256/32+1
		c = (i + j) Mod 2 * 255
		Color c, c, c
		Rect i * 32, j * 32, 32, 32
	Next
	Next
	
	tex = CreateTexture(256, 256, 1+8)
	CopyRect 0, 0, 256, 256, 0, 0, BackBuffer(), TextureBuffer(tex)

	Color 255,255,255
	
    Return tex
	
End Function

</textarea><br><br>the modification is that this code only modifies the "not 0" u or v for the double or half value.<br><br>Juan<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
