<!DOCTYPE html><html lang="en" ><head ><title >HideEntity with Animations is SLOW. Another way???</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >HideEntity with Animations is SLOW. Another way???</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >HideEntity with Animations is SLOW. Another way???</a><br><br>
<a name="503650"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey peeps.<br><br>Does anyone know of a way of showing/hiding an animated entity speedily? EntityAlpha is not a viable method here.... Texturing them with an alpha texture is also a fail..<br><br>Any ideas at all? I need to use tweening else what i'm trying to is limited to Delta Timing. And that makes it much less useful.<br><br>Here is what i need it to work for.<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=45269" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=45269</a><br><br>Now i just hope another method is possible!!!!!!! <br><br></td></tr></table><br>
<a name="503694"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LAB[au]</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Moving it far away? Hide it with a plane? Scale it very small? Scale it bigger with backface culling so that you are inside and you don't see it :) ... I don't use tweening, so I suppose none of these works, since it will be tweened as well ... Perhaps flipping it? Or use mesh manipulation or is it tweened as well?<br><br>You could use multiple "spaces" in your world, then using multiple pass (renderworld) and recompose the image with buffer manipulation. <br><br></td></tr></table><br>
<a name="503698"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Mesh manipulation, i dont think is tweened, but its slow anyway<br>Multiple spaces? Moving items from one area to the next will be tweened<br>pretty much everything, even repositioning a texture.... is tweened :(<br><br>Mark, ive run out of ideas. For the capabilities this enables, we could really do with a "disabletween" or "resettweenentity" or similar command on an entity so that it isnt tweened. DisableAlphaTween would be really useful for speedups when hiding animated entities.<br><br>:( Any more ideas? i can't see any more, ive tried everything.... <br><br></td></tr></table><br>
<a name="503711"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Pickford</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Any idea why hide is slow?   I'm using a lot of renderpasses myself. <br><br></td></tr></table><br>
<a name="503743"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neochrome</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> to hide entity, use alpha,0 the renderer wont draw it<br><br>animations tho i dont know <br><br></td></tr></table><br>
<a name="503783"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> @John; I dont know why hide is slow, but it certainly kills framerate, even if i just have the (animated) dragons and a mesh and hide/show them.<br><br>@Neo...Dude, EntityAlpha gets tweened. Thats the whole thing....<br><br>I have it working, but i cant use twening as that will break it..... <br><br></td></tr></table><br>
<a name="504170"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LAB[au]</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> It seems to me that hiding "non parented" entities is faster, even if you have to hide a lot of them... I use it a lot as well for my multiple renderpasses but I am satisified with a constant 25 fps ...<br><br>EDIT &gt; Sorry I wasn't aware that you are using animated meshes (with child/parents...). So what about moving the mesh outside of your skybox and then putting it back to original position? Using Positionmesh mymesh,x,0,0 and Positionmesh mymesh,-x,0,0 ? <br><br></td></tr></table><br>
<a name="504256"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just make sure you do something like I do with my player/camera whenever you move an entity, otherwise you get what I think of as the 'dragging' effect, accentuated by tweening:<br><br>;Before moving:<br>Function GhostOn()<br> EntityType Player\piv,0<br> EntityType Camera\hent,0<br>End Function<br><br>;After moving:<br>Function GhostOff()<br> EntityType Player\piv,TYPE_PLAYER<br> EntityType Camera\hent,TYPE_PLAYER<br>End Function <br><br></td></tr></table><br>
<a name="504268"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neochrome</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> i got around my tweening problem.. i was getting some jagged movement on the renderworld<br><br>i had the frameTick do this<br><br>frameTicks = (frameElapsed / framePeriod)<br>if frameTicks&lt;1 then frameTicks=1<br><br>for some reason, the frames smoothed out<br><br>as LAB[au] would say, move the item OFF the map if you can <br><br></td></tr></table><br>
<a name="504313"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> fraid that wont sort my problem. its not frameticks that causes issues, its the value of tween... Cheers for the input though, I'm currently forcing tween=1 to sort it (obviously thats pointless...)<br><br>@John, What do those functions do eh? :D<br><br><br>Cheers.. <br><br></td></tr></table><br>
<a name="504439"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, @John, that may come in handy with something else, but it doesnt help my issue here at all :( Cheers anyway.<br><br>Would anyone use a water reflection "system" here if it was incompatible with tweening? :( <br><br></td></tr></table><br>
<a name="504984"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Cygnus, do what you must.....<br><br>But I _always_ use commands like those when moving _any_ entity which has collisions set.<br><br>And not just cos it seemed like a good idea. <br><br></td></tr></table><br>
<a name="505166"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeremy Alessi</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's strange ... Hide/Show Entity is supposed to be instantaneous. <br><br></td></tr></table><br>
<a name="505171"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have never experienced any slowdown with HideEntity myself. Probably is thas something to do with the collision state of the entity (and it's children), because HideEntity will erase collision data of the entity. Did you try to ResetEntity before hinding it?<br><br>BTW I never use tweening. My game runs with a variable Sync rate (if possible the monitors physical rate) and all Motion and Animation is set to match with the framerate.<br><br>Renderworld() won't tween your Animation, but Updateworld() will. Note: Updateworld takes a paramter (that is optional, and if it's omitted, default value 1.0 is used, AFAIK). The Parameter of Updateworld defines, how fast the Animation will be played (as a multiplyer of the Animate Speed parameter). So if you use Updateworld(zero) for every additional Updateworld, there shouldn't be any tweening issues. <br><br></td></tr></table><br>
<a name="505241"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> @John, Indeed those commands are useful. I already clear collision data like that :0<br><br>Yes, hideentity is supposed to be instantaneous. I dont know why it makes the difference, but, im not using collisions with the characters and the ground, only bullet to player(doesnt happen often). Using Entityalpha n,0 works if i disable tweening.<br><br>Jfk, yeah i know, updateworld works with the animations,renderworld does just the rendering. Sorry for not being clear, im not having a problem with the animation, (but it does seem slow as in the computer gets bought to a crawl :P), only the fact that renderworld DOES tween the alpha states of each entity.<br><br>Ah well, Looks like i'll be using delta timing instead...<br><br><br>Cheers guys though! <br><br></td></tr></table><br>
<a name="505269"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wizzlefish</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can't you cancel the tween, hide it, and then resume the tween? <br><br></td></tr></table><br>
<a name="505347"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> The upshot is that if you move entities, then where _we_ thought they would be instantly moved, if you're using tweening this isn't the case, and the movement is spread across frames. (Mark? Can you fix that?)<br><br>Thus you must kill collisions for the duration of the movement or else your entity will collide with something, even if only the hill over there.<br><br>As far as I remember HideEntity is described in the manual as being instituting a 'collision-less' state, but in effect this is not true if you use tweening, until your entity eventually gets to the target point.<br><br>And, yes, this did give me days of hair-tearing until I realised that it wasn't my code that was at fault.<br><br>So:<br>EntityType ent,0<br>PositionEntity ent,x,y,z<br>EntityType ent,TYPE_HUMAN (or whatever)<br>- job done.<br><br>While we're on this, another thing I noticed recemtly is that if use:<br>PositionEntity ent,x,y,z (or Move or TranslateEntity)<br>newx = EntityX#(ent)<br>- you _don't_ get the correct position returned unless you put UpdateWorld() between PositionEntity ent,x,y,z and the EntityX() command. There's a logic in there, I guess.<br><br>That one only cost me half a day of searching through what I thought was bugged code to finally realise it. <br><br></td></tr></table><br>
<a name="505374"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> @John, Useful information, it took me a while to sort that lot out (my Quad2 project was my "learning" project and that had all sorts of problems, incorrect locations and such. It returns the location you positioned it at, but updateworld updates them should they need it due to collisions?)<br><br>I'm not asking for positionentity to have no tweening, (i use that and consider it a feature) but perhaps an optional flag to say "Realtime position, tweening disabled for this movement".. would be just dandy.<br><br><div class="quote"> <br> Can't you cancel the tween, hide it, and then resume the tween?<br> <br></div><br>UMm, commands to do that would be excelent :P they dont exist, else this problem wouldnt.... <br><br></td></tr></table><br>
<a name="505887"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, Cygnus has hit it on the head.<br><br>We need "Realtime position, tweening disabled for this movement".<br>Or alternately a PositionEntity command that executes exactly as described, and not the 'sorry, I'm tweening at the moment, I'll do it bit by bit' effect.<br><br>Judging by the other comments above, I guess that anyone who doesn't use tweening has not noticed this effect, and is baffled by the thread. <br><br></td></tr></table><br>
<a name="505889"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> (Yeah I'm full of it tonight!)<br><br>Just in case anyone is wondering why we're so keen on tweening, it's just that when I started my engine I tried some alternatives but found the tweening method gave the smoothest, most predictable animation of walking people that I'd seen, especially on a slower machine that can easily drop below 30fps. <br>The frames might drop, but the character will still be where he should be in 2 secs time, and e.g. landing on his right foot as he should be. <br>And of course the same goes (even more crucially) for jaw movement/lipsync. <br><br></td></tr></table><br>
<a name="506017"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> True, tweening is excelent for that. My main use was always that i need it to run on low spec machines, With tweening i can update things every say, 100ms, (10fps?) and use tweening to get an actual framerate of whatever my card can handle... I do this with physics to get an impressive framerate. <br>If positionentity was always forced, twening wouldnt work with most physics engines out at the moment.<br><br>We should make a feature request, as this one *might* be simple, and opens up quite a few possibilities..... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
