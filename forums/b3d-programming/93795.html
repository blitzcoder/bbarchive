<!DOCTYPE html><html lang="en" ><head ><title >How do you keep control of a program?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >How do you keep control of a program?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >How do you keep control of a program?</a><br><br>
<a name="1073953"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Crinkle</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Basically i made a few small changes to my code and now the program doesnt work any more, i cannot understand why as i think i have undone the changes i made but it just goes into a file-reading loop where it says it's finished reading the file a few thousand lines early, but also says the EOF has not been reached.<br><br>It seems that the program is now too complicated to understand, at least by me, how do you keep control of programs more than a couple of thousand lines long with so many moving parts? <br><br></td></tr></table><br>
<a name="1073954"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Crinkle</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok even weirder. I just ctrl+z (undid) all the way back to some edits i tested and they DID work, and it still wont run anymore, how has the program corrupted like this? :/ <br><br></td></tr></table><br>
<a name="1073956"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> When I got the license Blitz3D + Fastlibs, they told me something: Do not think that in 15 days interest a great game, the important thing is perseverance.<br><br>There were many times I've had to start over, simply because they do not know what the hell is what happens, but as time passes I realize that the biggest mistakes I applied them and not blitz3d.<br><br>Bear in mind that in some way, the only way to learn programming is programming. <br><br></td></tr></table><br>
<a name="1073957"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Crinkle</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well IDEAL was a big fail of an idea, i just undid all the changes i'd made even further back in time and then accidentally pressed f5 to run so it overwrote the file and unlike the normal blitz editor it doesnt save backup files. So thats about two days worth of progress gone in a puff of smoke :/<br><br>I'll go back to normal blitz editor i think, at least it backs up! <br><br></td></tr></table><br>
<a name="1073958"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Crinkle</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh and of course, when it ran it didnt work then either :/ <br><br></td></tr></table><br>
<a name="1073962"></a>

<a name="1073964"></a>

<a name="1073967"></a>

<a name="1073968"></a>

<a name="1073969"></a>

<a name="1073972"></a>

<a name="1073974"></a>

<a name="1073975"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> IDEal automatic backup settings are controlled from Settings-&gt;Preferences-&gt;Backup. Unlike the normal Blitz editor (which seriously, is useless), it <i>does</i> save backup files.<br><br>Do yourself a big favour and stick with IDEal. It <i>will</i> help you in the long run; especially now you've revealed you're writing projects that are far too large to realistically control with the default editor.<br><br>To organise a project easily you need to 1) plan carefully and 2) keep to some strict conventions.<br><br>2) first, because it's simpler:<br> - declare <i>all</i> of your variables (in IDEal, turn on Strict mode and weld the button down)<br> - avoid the temptation to make things Global<br> - use long descriptive names (this is why you need an IDE with Autocomplete)<br> - give every code module a unique Module Prefix and attach it to all top-level names<br> - learn to use Types, if you haven't already, because you can't work without them<br> - use as many code files as you have code modules, because disk space is cheaper than your time<br> - give each module a defined set of "interface" functions, and don't let other "outer" modules access it in any other way, to control what happens<br> - don't let "outer" modules access "child" modules by bypassing their "parent"<br> - break up any module bigger than a thousand lines into components and treat the old one as a composed interface<br> - break up any function longer than 50 lines (and stick to this <i>hard</i>)<br><br>1) is a habit you have to learn to like. Your best friend as a programmer is pen and paper, and it's where you need to get used to doing 90% of your work. (Alternatively, some kind of planner app, but I don't bother with those myself.) Coding itself is a formality; the work of designing an application is a separate step that comes first. Although it'll take some time (initially you'll make many mistakes without constantly testing the code) it'll speed you up enormously in the long run as you learn to separate the logical structure from the words of the program source.<br><br>Once you start drawing out the program logic, you'll be able to see how the various procedures interact; this "high-level" view of the design makes it easier to see how you can refactor code so that it doesn't depend on other areas, or only accesses them through a predefined interface. This keeps organisation strong. The eventual goal is that you shouldn't have many moving parts interacting with each other; just a tree of code blocks spreading outwards from the main program, interacting through the clearly-defined, impenetrable interfaces that guarantee safe access.<br><br>The best I can do is recommend that you read books on the subject. <a href="http://mitpress.mit.edu/sicp/" target="_blank">The Structure and Interpretation of Computer Programs</a> is widely regarded as the finest textbook on computer science in the world, and focuses heavily on how to compose complex procedures and data structures out of simpler units; I'd also recommend <a href="http://www.planetpdf.com/codecuts/pdfs/ooc.pdf" target="_blank">Object-Oriented Programming with ANSI C</a> as it gives a good example of how to structure code according to higher-level principles in a non-OO language (Blitz3D being one such). <a href="http://www.hpquest.com/techlord/apps/AOBPwB3D/AOBPwB3D.pdf" target="_blank">Applied Object-Based Programming with Blitz3D</a> is less in-depth, but does focus on Blitz3D itself, which is an advantage. All of these (and many others) are free to read online in their entirety.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1073976"></a>

<a name="1073980"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> . (double post)<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1073966"></a>

<a name="1073970"></a>

<a name="1073973"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Abomination</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> In preferences of Ideal you can set automatic backup on/off.<br>It's a good habit of saving your work with different version-numbers, after a few changes. (prog1.1 prog2.4 etc.)<br>Also try to program your code as modular as possible. So if you want to change something, you don't have to make changes all over the place. (also reduces errors by typos)<br>[/edit]<br>Do as Yasha said ;)...dang; he is fast.. <br>[/end edit]<br><br><font class="tiny">Last edited 2011</font><br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1073978"></a>

<a name="1073982"></a>

<a name="1073983"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warner</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> First of all: use functions, and place those functions in .bb files and use Include to include them into the main program.<br>Next, ensure that each function fits onto a single page in your editor. If it gets bigger than that, split the function up in two pieces.<br>It seems like an arbitrary rule, but it works fine. It helps keeping a clear overview of each function.<br><br>Edit: Oh yes, and create a project folder, containing all these include files. Each time you want to implement something new, or change something, first of all create a copy of this folder. It is a rather blunt and primitive way of versioning, but it does the job.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1073992"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>IDEal automatic backup settings are controlled from Settings-&gt;Preferences-&gt;Backup. Unlike the normal Blitz editor (which seriously, is useless), it does save backup files.<br><br>Do yourself a big favour and stick with IDEal. It will help you in the long run; especially now you've revealed you're writing projects that are far too large to realistically control with the default editor.<br><br>To organise a project easily you need to 1) plan carefully and 2) keep to some strict conventions.<br><br>2) first, because it's simpler:<br>- declare all of your variables (in IDEal, turn on Strict mode and weld the button down)<br>- avoid the temptation to make things Global<br>- use long descriptive names (this is why you need an IDE with Autocomplete)<br>- give every code module a unique Module Prefix and attach it to all top-level names<br>- learn to use Types, if you haven't already, because you can't work without them<br>- use as many code files as you have code modules, because disk space is cheaper than your time<br>- give each module a defined set of "interface" functions, and don't let other "outer" modules access it in any other way, to control what happens<br>- don't let "outer" modules access "child" modules by bypassing their "parent"<br>- break up any module bigger than a thousand lines into components and treat the old one as a composed interface<br>- break up any function longer than 50 lines (and stick to this hard)<br><br>1) is a habit you have to learn to like. Your best friend as a programmer is pen and paper, and it's where you need to get used to doing 90% of your work. (Alternatively, some kind of planner app, but I don't bother with those myself.) Coding itself is a formality; the work of designing an application is a separate step that comes first. Although it'll take some time (initially you'll make many mistakes without constantly testing the code) it'll speed you up enormously in the long run as you learn to separate the logical structure from the words of the program source.<br><br>Once you start drawing out the program logic, you'll be able to see how the various procedures interact; this "high-level" view of the design makes it easier to see how you can refactor code so that it doesn't depend on other areas, or only accesses them through a predefined interface. This keeps organisation strong. The eventual goal is that you shouldn't have many moving parts interacting with each other; just a tree of code blocks spreading outwards from the main program, interacting through the clearly-defined, impenetrable interfaces that guarantee safe access.<br><br>The best I can do is recommend that you read books on the subject. The Structure and Interpretation of Computer Programs is widely regarded as the finest textbook on computer science in the world, and focuses heavily on how to compose complex procedures and data structures out of simpler units; I'd also recommend Object-Oriented Programming with ANSI C as it gives a good example of how to structure code according to higher-level principles in a non-OO language (Blitz3D being one such). Applied Object-Based Programming with Blitz3D is less in-depth, but does focus on Blitz3D itself, which is an advantage. All of these (and many others) are free to read online in their entirety.<br> <br></div><br><br>Word wise.<br><br>I'll never be a skilled programmer, always a fan. <br><br></td></tr></table><br>
<a name="1073993"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> How do I download the book in pdf and put it to a USB? <br><br></td></tr></table><br>
<a name="1073996"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, some of you might not agree with me here, but I prefer not to use include files.<br><br>The reason why is: I easily lose control over the lot of include files, eg. when I backup the source, or port it to an other machine ("Include File not found is very C++-ish"). I like the one "Program one Sourcecode" style. <br><br>But this is really a personal matter and it depends on the editor that is in use. Function folding is very useful and allows a huge program to be handled easily.<br><br>What is more important to me is good Naming and good Remarks and incode- documentation. For example parameter descriptions in every functions header.<br><br>There should be one main loop, calling functions of an average size. You don't need a function for every 3 lines of code, but functions should also not be too big, so you're not lost in a function because it seems to be endless. Each section of the mainloop should be remarked well. There should be sections for things like: input handler, item update, collsion, rendering etc.<br><br>In the source you may place some big markers, so you see it when you scroll, eg:<br><br><br><br><br><br><br>; ************************************************************<br>; ************************************************************<br>; ************************************************************<br>; ************************************************************<br>; ************************************************************<br>; ************************************************************<br>; ************************************************************<br>; don't miss this<br><br><br><br><br>Although I think in many 3. party editors there are much better functions to run your program inside your head, in a simple editor like the original one such markers are really useful. Just like huge gaps of empty space between the functions.<br><br>But I think you also have problems with debugging and your backup system isn't solid. Learn to isolate Problems. Where does the error occur? You have to be able to locate, isolate and identify any problem, at any time. It is possible and was discussed here already.<br><br>As a simple and save backup system I'd suggest to select your sourcecode (again, if it's only one file :) then this is much easier) in the explorer window, then hit Ctrl-C, then Ctrl-V, there it is, your backup file. Do this whenever you just passed a certain milestone with your sourcecode, eg. when you've fixed a problem and everything works well after some tests.<br><br>This way you can handle rather long sourcecodes. I am sometimes am working with 12'000 lines even in the original editor. <br><br></td></tr></table><br>
<a name="1073999"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Well, some of you might not agree with me here, but I prefer not to use include files. <br></div>I don't agree.  Magicville had more than 30,000 lines of code across about ~140 includes.  Trying to manage that amount of code in a single file would be a complete nightmare.  Plus, it allows me to keep everything modular - write a bit of code, tweak it so its perfect, close the file, never look at it again.  Job done. <br><br></td></tr></table><br>
<a name="1074016"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Trying to manage that amount of code in a single file would be a complete nightmare <br></div><br>well, to you maybe. But to me it would be a nightmare to handle 140 include files.<br><br>When an editor allows function folding, as well as to open multiple simultanous windows (of the same file) then I don't see a problem. Of course, the editor should be fast enough, for scrolling etc.<br><br>I know they say "do modules, do structured programming" etc. but back in time when programmers were godlike gurus, there was a dispute about the true benefit of "structured programming", or what some people like Nick Wirth meant with the term. Some say it  usually means "we want to be able to kick the programmer as soon as he did the work and then maintain the code with some kind of cheap mechanic". This might have been the time when programming was taken out of the hands of artists and given to an institutionalized lobby that attempted to in- and exclude people from academic carreers, depending on their political attitude - wait a minute, it's getting off topic :). Well nevertheless it's about structured programming. <br><br>I do suggest to use a certain structure, and if you want to apply for a job as a programmer you certainly should follow the official guidelines. But for Bedroom Coder Incs I'd also suggest to use the structure that fits best your needs. <br><br></td></tr></table><br>
<a name="1074022"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> All you need blitz3d offers, it really means is that agility is achieved blitz3d. You can have a single file with 50,000 lines of code this for me would be a nightmare, but if the basis is the ideal editor, the includes are a great option for large projects.<br><br>I think the key here is how we face against blitz3d, and each develops a unique way of doing things. <br><br></td></tr></table><br>
<a name="1074149"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SoggyP</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello.<br><br>I think, in the first instance, black box programming is probably the most important method you can follow.  It allows you to structure your programs at a high level, ideally write once and then forget about and, most importantly, allows you to test and ensure you get the correct values out for given input.<br><br>While that might sound simplistic, it works.<br><br>As for editor preferences I think it's a case of use whatever works for you.  In work I use VS 2008 (moving onto 2010 soon, whoop!) but at home tend to use the standard blitz IDEs - they work for me.  Then again, I cut my teeth on a c64 and later wordstar and emacs - so think yourself lucky you've got a choice :)<br><br>Goodbue. <br><br></td></tr></table><br>
<a name="1074330"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> this every time is more difficult, perhaps one day when a real programmer blitz3d want to switch to another language, I began to try to make a cube with C + + and directX and I prefer for the moment the command createcube of blitz3d, I see no need to recreate the wheel when this is already done.<br><br>That's when, not because others want you to go to C + +, I'm just a fan of this. <br><br></td></tr></table><br>
<a name="1074492"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Well IDEAL was a big fail of an idea, i just undid all the changes i'd made even further back in time and then accidentally pressed f5 to run so it overwrote the file and unlike the normal blitz editor it doesnt save backup files. So thats about two days worth of progress gone in a puff of smoke :/ <br></div>Do you use Windows 7? If so, you can right-click on a file/folder and select 'Restore Previous Version'. You'll get a list of all previous versions that are automatically saved courtesy of the restore points.<br><br>Vista may also have this functionality, I don't know. <br><br></td></tr></table><br>
<a name="1074493"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> A good worker does not depend on the tools you use, if you have the agility to handle.<br><br>Eventually we have to control the hammer to hit us no time to try to put a wood nail.<br><br>I think the success of this depends largely on how much you are willing to give to understand that if basic programming becomes more complicated in other tools is a nightmare when he lacks expertise. <br><br></td></tr></table><br>
<a name="1074496"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> I really like the original Blitz3d IDE , it's comfortable like a pair of well-worn slippers. I've tried a few other ones but didn't like them much. <br><br>The only thing I don't like about the B3D IDE is that the undo function is rubbish. <br><br></td></tr></table><br>
<a name="1074513"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> One of the many things I like the ideal editor is that you can group all the files in a single project. Something like development environment. net.<br><br>Therefore the program into modules is equivalent to putting up a wall like you do with bricks, which over the long term benefits far in the maintenance and development of the program. <br><br></td></tr></table><br>
<a name="1074636"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Adam Novagen</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> A good worker does not depend on the tools you use, if you have the agility to handle.<br><br>Eventually we have to control the hammer to hit us no time to try to put a wood nail. <br></div><br>*sincere applause* :D <br><br></td></tr></table><br>
<a name="1074686"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Crinkle</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the tips, but now, I'm practically ready to give up on blitz all together as a simple bit of code will not working, in fact its breaking the files it's supposed to handle. Quite simply it comes down to this (where filein is a valid file which has been written to before):<br><br>extra$="&lt;Explosion&gt;Vehicle&lt;/Explosion&gt;"<br>WriteLine(filein,extra$)<br><br>This will NOT write the string to the file, this will make the program IGNORE the addition of extra$, write the next line and then skip a line and a half before starting to write again.<br><br>This MUST be some sort of bug because:<br><br>* EXTRA$ is a string which is made from other parts, but IS as above when the error occurs.<br>* When the WRITELINE command is censored the rest of the program works flawlessly.<br>* The EXTRA$ variable is not referenced at any other point, its not a global its a specially created variable just to handle this one thing.<br>* Take this code out of the file and it works perfectly, when in, it screws up.<br><br>I've tested this for a few hours and can think of no other thing to test. Its the writeline command which is ruining all of it and that doesnt make any sense at all as the line it writes is basically a one-off addition to the file. <br><br></td></tr></table><br>
<a name="1074699"></a>

<a name="1074700"></a>

<a name="1074701"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is just a hunch (since it's based on the variable name), but you're writing to a file you've named "filein" - did you open it for reading, for writing, or both?<br><br>If you opened the file as read-only, write commands will fail.<br><br>Failing that... have you checked that the file is still open?<br><br><b>EDIT:</b> Which was a stupid suggestion if you're successfully writing to the file on both sides of the command... sorry. Still, is it the same file handle, or did you copy/paste that line from a different section of code where you were using a read-only file?<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1074707"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warner</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would recommend starting a new thread for this problem. It kinda drifts towards something completely else now.<br>It aren't these lines which are causing the problem. They work fine:<pre class=code>ff = OpenFile("test.txt")

WriteLine ff, "line1"
extra$="&lt;Explosion&gt;Vehicle&lt;/Explosion&gt;"
WriteLine(ff,extra$)
WriteLine ff, "line2"

CloseFile ff</pre>Are you using OpenFile and SeekFile to access the file? In that case, you need to ensure that WriteLine doesn't overwrite EOL characters chr$(0). I would start a new thread and post some more code (ie. from ReadFile to CloseFile). <br><br></td></tr></table><br>
<a name="1074708"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Crinkle</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's the same file, it's opened for writing to. but yes its possibly a slightly confusing name for it. It's the same file handle and command which has worked on every other line of the file. <br><br>In essence what I am trying to do with the code is make a Backup of a file, then copy every line across and insert this line at a particular point. It's really a great great deal more complicated than that, with the other lines perhaps getting changed as well, but as i say, the WRITE command works elsewhere, and the EXTRA$ string has been invented for this one function and this one purpose. <br><br></td></tr></table><br>
<a name="1074712"></a>

<a name="1074713"></a>

<a name="1074714"></a>

<a name="1074715"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> <strike>What leads you to the conclusion that this line is the one causing the problem? The state of the file, or the position of the Debug cursor?<br><br>The reason I ask is that large projects can sometimes have a problem that causes the debug information to "slip" away from the actual line of the error:<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=91532" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=91532</a><br><br>It's caused by problems with copy and paste, and is easily corrected as per the linked thread.<br><br>Anyway, you said your project was some thousands of lines long - if the "slipping" effect has happened to your files, and you're using the debug console to find out where the error is, you may actually be getting pointed towards a completely innocuous line, two or three lines above the real error.</strike><br><br><b>EDIT:</b> Once again... a stupid suggestion, since you already said you tried commenting out the line. Not on the ball today, am I?<br><br>I think we'll need to see some more code to have any more helpful suggestions, sadly. That command works fine in isolation, as you can see.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1074755"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Crinkle</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok here is the link to a download:<br><br><a href="https://docs.google.com/leaf?id=0B5-Yd6LiksJ4NzhjNDE2MDQtYTEwOC00ZDAxLThlMGYtNmQ4NjMwNWEyMGRi&amp;hl=en&amp;authkey=CMqQ1aIM" target="_blank">https://docs.google.com/leaf?id=0B5-Yd6LiksJ4NzhjNDE2MDQtYTEwOC00ZDAxLThlMGYtNmQ4NjMwNWEyMGRi&amp;hl=en&amp;authkey=CMqQ1aIM</a><br><br>you'll want to install this in c:\games\your_faction\*.* or re-run the processes in SETUP from the main program. ALSO you wont want to "compile and run" as that might cause a few difficulties, just hit SAVE ALL CHANGES from the main menu.<br><br>Basically, RFG_Tools is the main file. The others are just includes, and bear in mind this is a stripped down version. The problem happens during the COMPILE function which compiles all changed variables back up and adds the changes in as the lines of code from the xtbl files are read from a backup file to the new file.<br><br><br>I got the program to take the &lt;explosion&gt; tag out of the "charge_placer" section of the xtbl file, but it all goes wrong when trying to make it re-add an explosion line to that section if there isnt one there.<br><br>During testing of this you will most likely corrupt the weapons.xtbl file so just run the BAT file in the misc-active directory and it will re-create it.<br><br>So basically it's supposed to insert the &lt;explosion&gt; tag from the charge placer section when you select an option for the charge_placer explosion in the program, so when it hits the end of the charge placer section and finds:<br><br>&lt;/weapon&gt;<br><br>it should be adding &lt;Explosion&gt;[whatever explosion selected]&lt;/Explosion&gt;<br><br>BEFORE inserting that on the next line.<br><br>But this is where it starts corrupting for no reason i can see. I made the program report the line before writing it to the file (see value "shufty$" or "Holy Smokes") it reports the correct thing, but then the writeline just below that just... does its own thing. <br><br></td></tr></table><br>
<a name="1074762"></a>

<a name="1074763"></a>

<a name="1074767"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> Dude!<br><br><pre class=code>fileout=WriteFile(RFGT_Dir$+"_misc_active\"+file$)
filein=ReadFile(RFGT_Dir$+"_misc_active\temp.xtbl")</pre><br><br>"filein" <i>is</i> a read-only file! You can't write to it...<br><br>I don't have a very good handle on the rest of the code, not least because I can't actually run it as Red Faction isn't installed (it just hangs by the way - you might want to give it an error or some clean way to abort if it can't find Red Faction), but yeah, you can't WriteLine to a file opened for reading only. To both read and write, you need to use OpenFile. I haven't checked to see what you're doing precisely, but using WriteFile and ReadFile on the same file doesn't make it read-and-write, it makes two <i>separate</i> handles, with separate permissions (and almost certainly doesn't work at all, because files aren't meant to be used that way).<br><br>Also, are you aware that filein is a global, even though you're using it like a local? That may cause you some grief in the long run if you aren't careful. Irrelevant here though.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1074783"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Crinkle</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ahh i changed it to fileout for the writing and it now INSERTS the line of coding...<br><br>however after the &lt;/weapon&gt; section it still misses out 1.5 lines which it should just be copying so something there is really messing it up somehow.<br><br>I'll try and use totally new variables in that function where possible and hope that stops it. <br><br></td></tr></table><br>
<a name="1074815"></a>

<a name="1074819"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Crinkle</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> EDIT: Never mind, found the backup file!<br><br>It's extremely funny in an ironic way that ideal wont open the backups its saved!!<br><br>I have a version which now seems to work, i have no idea why but im not gonna push my luck by attempting to find out.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1074822"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warner</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think you should find it out. <br><br></td></tr></table><br>
<a name="1074823"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Crinkle</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tried that once and nearly lost the file with the mystery working code, besides notepad++ hasnt brought up anything major between a working and a not working version, besides the fact that after inserting the additional line of code into the FILEOUT stream, i asked it to show me what it was outputting by printing the next ten lines to the screen i cant see anything that would effect it. <br><br></td></tr></table><br>
<a name="1074836"></a>

<a name="1074837"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> i asked it to show me what it was outputting by printing the next ten lines to the screen <br></div><br><br>Straight from the stream? Thus rendering them unavailable to the rest of the program? (As a guess)<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
