<!DOCTYPE html><html lang="en" ><head ><title >[Solved] Debug EntityPick Size Like Polygon Mode</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >[Solved] Debug EntityPick Size Like Polygon Mode</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >[Solved] Debug EntityPick Size Like Polygon Mode</a><br><br>
<a name="1320409"></a>

<a name="1320410"></a>

<a name="1320539"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I find it weird that the entitypickmode is not precise and I can just pick a mesh around its border and it is still being picked.<br><br>Any tricks on how I can visually see the entitypick shape? In this case I'm using polygon mode. <br><br></td></tr></table><br>
<a name="1320420"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Any tricks on how I can visually see the entitypick shape? In this case I'm using polygon mode.<br> <br></div><br>just increase the alpha of the shape (when debugging) and set its alpha to 0 (when it works well) <br><br></td></tr></table><br>
<a name="1320424"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks RemiD. Actually the entitypick shape is the mesh or animated mesh itself. <br><br></td></tr></table><br>
<a name="1320445"></a>

<a name="1320446"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> You seem to not like searching the forums for similar issues which have been asked and already answered...<br>So i will provide the link ! see : <a href="http://www.blitzbasic.com/Community/posts.php?topic=105302" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=105302</a><br> (#3, #14)<br><br>now with the addons by Bobysait you can get the skinned vertices positions and consequently rebuild a pickable mesh with the same shape than your rigged/skinned/animated entity, but i don't recommend to do that, i suggest to use method 1 or method 2 (mentioned in post#14), it depends on what you are trying to achieve... <br><br></td></tr></table><br>
<a name="1320450"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks RemiD. It's not that I like but I was looking for visual debugging and since we're in the topic of picking animated mesh, I thought this will be accurate and never thought there's some inaccuracy using default entitypick.<br><br>Though I would agree with the per limb or joint part method. It looks like a better solution in case for specific body part detection like head shots. I assume this will again hide and check before render. The only problem I'm seeing here is how to identify the mesh if I'm going to use copyentity.<br><br><pre class=code>If Entitypick camera,distance = rightleg_col
  mesh = GetParent(rightleg_col)
</pre> <br><br></td></tr></table><br>
<a name="1320451"></a>

<a name="1320452"></a>

<a name="1320453"></a>

<a name="1320454"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> if you try to set a rigged skinned animated mesh as a pickable and try to pick it with many linepicks, you will notice that only the tpose is considered, whatever the current animation pose.<br>There was a post somewhere about that but i can't find it...<br><br><br><div class="quote"> <br>I assume this will again hide and check before render<br> <br></div><br>no i recommend to never hide the pickable but to have its alpha set to 0 (so that it will not be rendered)<br><br>you could also create low details bodyparts which have a similar shape than your mesh and then set them as childs (with entityparent) of the appropriate joints ("bones"), then set their alpha to 0 and use these as the pickables for this animated entity. <br><br></td></tr></table><br>
<a name="1320455"></a>

<a name="1320456"></a>

<a name="1320457"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>The only problem I'm seeing here is how to identify the mesh if I'm going to use copyentity.<br> <br></div><br>one way is to use the name of the entity to describe it properly.<br><br>Personally i put these infos in the name of an entity (if it will be involved in collisions/linepicks) :<br>listname-id (id is the index (for a dim arrays list) or the handle (for a custom type list))<br>2 examples here :<br>with dim arras : <a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=3094" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=3094</a><br>with customtype : <a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=3095" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=3095</a><br><br>search for "nameentity" and "entityname" <br><br></td></tr></table><br>
<a name="1320475"></a>

<a name="1320476"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> you will notice that only the tpose is considered, whatever the current animation pose. <br></div><br><br>Is this really the case? wow that explains why there's some weird picking around the shoulder area. Do you think it would be better to use capsule type as pick meshes instead?<br><br>I did not know you can entitypick meshes with alpha = 0. <br><br></td></tr></table><br>
<a name="1320496"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Is this really the case?<br> <br></div><br>from what i remember, yes, but try it, debug it, you will see by yourself <br><br></td></tr></table><br>
<a name="1320513"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks. So I got to see that my problem is entitypick which I found out is to loose to use. It will set to true if I pick the mesh along it's Y axis which I can pick a few units (or infinity) above or below and it will still pick it.<br><br>I do think I need linepick on this one. So how do I convert it with linepick? I'm using my main  camera as the starting point (entity(x),entity(y),entity(z)) and drawing a straight line at the center (entity(x),entity(y)entity(z)+100)? radius say 5-10<br><br>I can't get it to work on my first try. <br><br></td></tr></table><br>
<a name="1320514"></a>

<a name="1320515"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I settled with CameraPick with Distance Check, seems simple to do and finally I can debug it with a simple mesh.<br><br>thanks again for the help RemiD. <br><br></td></tr></table><br>
<a name="1320528"></a>

<a name="1320529"></a>

<a name="1320530"></a>

<a name="1320534"></a>

<a name="1320556"></a>

<a name="1320558"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
TFormVector(0,0,10.0,Camera,0)
LinePick(EntityX(Camera,True),EntityY(Camera,True),EntityZ(Camera,True),TFormedX(),TFormedY(),TFormedZ())
</pre><br>TFormVector allows you to calculate the properties of a vector related to an entity position/orientation (in this case, the properties of the vector going from camerax,cameray,cameraz to +10.0 units on the +z axis, of the entity) <br>Then you can throw a linepick from entityx,entityy,entityz with the calculated vector direction/length (so in this case it will pick forward the camera from its 0z to its 10.0z) <br><br></td></tr></table><br>
<a name="1320540"></a>

<a name="1320541"></a>

<a name="1320542"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the explanation RemiD, problem solved with also LinePick. Sometimes, the provided example in the online manual is not complete, confusing or does not provide any.<br><br>What happens when I don't set it true? ..and which is faster?<br><br>I see you also have one for TFormPoint in the archives. What is the difference and can I use it the same as linepick? I tried it replacing btw but I get no results.<br><br>Anyway, thanks Linepick also works now! :-) <br><br></td></tr></table><br>
<a name="1320555"></a>

<a name="1320559"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> TFormPoint(0,0,10,Camera,0)<br>poisitionentity(3dpoint,tformedx(),tformedy(),tformedz(),true)<br>allows you to calculate the coordinates of a 3dpoint related to an entity position/orientation (in this case, a 3dpoint at 10.0 units on the +z axis, of the camera), it can be used if you want to determine a position related to an entity position/orientation. <br><br></td></tr></table><br>
<a name="1320557"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>What happens when I don't set it true? ..and which is faster?<br> <br></div><br>try it ! debug it ! you will see... <br><br></td></tr></table><br>
<a name="1320560"></a>

<a name="1320561"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Technically I already did with my first try which got me those issues.<br><br>Sometimes confusing when to use world = true <br><br></td></tr></table><br>
<a name="1320563"></a>

<a name="1320564"></a>

<a name="1320565"></a>

<a name="1320566"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> the true flag is mostly to get/set the global position/orientation (in the scene world) instead of the local position/orientation (related to the parent)<br><br>in some cases it is better to use the false flag to get/set the local position/orientation of the entity (related to the parent) (in the parent world) <br><br></td></tr></table><br>
<a name="1320567"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks again! For me that example explains a lot about what the command does or make it useful. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
