<!DOCTYPE html><html lang="en" ><head ><title >WinBlitz3D full GUI intergration to blitz3d</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >WinBlitz3D full GUI intergration to blitz3d</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >WinBlitz3D full GUI intergration to blitz3d</a><br><br>
<a name="609738"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kev</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello All<br><br>WinBlitz3D has undergone a total rewrite and now offers full GUI intergration to blitz3d, standard winapi gui support to that of a level close to blitzplus as been added.<br><br>for a demo of mixed gui and standard gui intergration can be downloaded from the link below.<br><a href="http://myweb.tiscali.co.uk/blitzbasic/WinBlitz3DDemo.zip" target="_blank"><b>Download WinBlitz3D Demo</b></a><br><br>your feedback is welcome.<br><br>thanks<br>kev <br><br></td></tr></table><br>
<a name="609745"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeroen</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> well I only can say it looks awesome! great work!<br><br>My mouse cursor (slower system) is now stuttering, that is something I noticed. <br><br></td></tr></table><br>
<a name="609760"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chevron</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> looking good, how long till this is released? <br><br></td></tr></table><br>
<a name="609783"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kev</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Jeroen, thanks for the comments. what system spec's are you testing on? <br><br>@Chevron, soon. ive still to finish the docs. if the public demo reports no problems then the final version will be ready once there done.<br><br>thanks<br>kev <br><br></td></tr></table><br>
<a name="609801"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeroen</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> its nice that you have also added column lists, which Blitzmax even doesnt have ;-)<br><br>I am testing this on a different computer than my own, which is a Celeron 1.7 ghz, 768 mb memory, Windows XP and a Geforce 2 MX. (Yuck!) <br><br></td></tr></table><br>
<a name="609860"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DH</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Get an unhandled exception when I exit the demo (mixed).  One of those send, dont send errors. <br><br></td></tr></table><br>
<a name="609945"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kev</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Jeroen, events are queued so it would be possable to disable the mouse move events. these are generated when the mouse is moved over any gadget. this will not affect blitz3d own mouse movement. or maybe a flushevents() would keep the queue from building up.<br><br>@Dark Half, does that happen each time you quit? <br><br>some more information<br><br>when gadgtes are created you pass a null for there default style. but if req you can pass standard api const's and build the gadget any way you require. also its possable to create all windows and gadgets hidden before showing them.<br><br><br>kev <br><br></td></tr></table><br>
<a name="610214"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TheMan</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> And thats what I'm really waiting for ... nice demos .. <br><br></td></tr></table><br>
<a name="610242"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kev</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks HyderMan.<br><br>having doing some debugging ive looked over the crash Dark Half reported. and ive now fixed this. it was a problem when a popup window was opend ie. 'splash window' not beein destroyed when the demo's ended.<br><br>ive uploaded a fixed version.<br><br>kev <br><br></td></tr></table><br>
<a name="610262"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Boiled Sweets</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is pretty cool.  How much will it cost? <br><br></td></tr></table><br>
<a name="610269"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kev</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks Boiled Sweets, ive no price just yet.<br><br>heres the start of a form editor being wrote by one of winblitz3d's beta testers 'Danny van der Ark'<br><br><a href="http://myweb.tiscali.co.uk/blitzbasic/SCHNOK.zip" target="_blank"><b>Download SCHNOK!</b></a><br><br>press F1 for help<br><br>thanks<br>kev <br><br></td></tr></table><br>
<a name="610304"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EPS</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's pretty cool. It's working fine and i wait for release. The other site: i can kill my own gui project :(<br><br>...but hey...now i have more time for other projects. <br><br></td></tr></table><br>
<a name="610619"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kev</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks for the feedback East-Power-Soft, nice gui you have there.<br><br>kev <br><br></td></tr></table><br>
<a name="610655"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> It seems keyboard input isn't working here, apart from that it looks great! <br><br></td></tr></table><br>
<a name="610715"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdrianT</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very nice, a real Load and Save dialogue window :) That could be very handy in one of my projects. <br><br></td></tr></table><br>
<a name="610774"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, We've been waiting for this for a long while.<br><br>I'm going to assume it doesnt work fullscreen though, am i right? I hope it does work, thatd be great :D <br><br></td></tr></table><br>
<a name="610906"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kev</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> @fredborg, blitz3d's own keyboard/mouse commands working fine. gadget mouse working, there keyboard events allmost done.<br><br>@Cygnus, sorry no full screen.<br><br>thanks<br>kev <br><br></td></tr></table><br>
<a name="611029"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ryan scott</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> looks nice<br><br>by the way, the Enter key doesn't seem to do anything in any boxes.  I mean, it should trigger the OK button's shouldn't it?  Can that be defined in the code?  <br><br>Also question - can you change the colors it uses?  If you don't want it to look just like the Windows desktop, I mean. <br><br></td></tr></table><br>
<a name="611042"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ryan scott</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> also, haven't tried it but just noticing from other guis... file selectors rarely remember the previously selected folder.  they tend to open at the root, or the current folder.  root is useless and annoying.  current folder, less than useful too.  even in major applications they sometimes open in their root, which is not where i would store files.  i move to another folder, open my file, then go to save it, it sticks me back in the root.  it's a waste of user time.  even max 8 does annoying crap like that.  you'd think they'd have figured it out by now.<br><br>when will we be able to use this?  (some docs, gui editor being usable, able to incorporate it into our proggies)<br><br>it looks like a winner so far. <br><br></td></tr></table><br>
<a name="611043"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kev</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi ryan<br><br><div class="quote"> <br>by the way, the Enter key doesn't seem to do anything in any boxes. I mean, it should trigger the OK button's shouldn't it? Can that be defined in the code?<br> <br></div><br><br>the keyboard hook is still being coded in, WaitEvent() returns $101 for the keypress. EventData() still needs more work for the keycode that was pressed.<br><br><div class="quote"> <br>Also question - can you change the colors it uses? If you don't want it to look just like the Windows desktop, I mean.<br> <br></div><br><br>yes its possable to change some but not all gadgets colors.<br><br>more info.<br><br>ive just finished adding system tray icon support, with context menu support. with a little extra coding this now enables gadgets to have there own context menus also. drag and drop coming also.<br><br>ummm i must stop coding and start finishing the docs. for the final version. docs are one of my most hated part of coding this gui lib.<br><br>thanks<br>kev <br><br></td></tr></table><br>
<a name="611472"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rook Zimbabwe</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> On my Athlon 64 3000+ system it is smooth as a glass baby's rear end... on my wifes DURON (duran duran) system it does stutter some but she only has 256mb mem and an ATI RAD 7000 <br><br></td></tr></table><br>
<a name="611599"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TeraBit</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Demos look good. This would be great stuff to add to Decorator! <br><br></td></tr></table><br>
<a name="611633"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kev</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi all<br><br>just a update the above examples now have been updated. newly added is system tray icon support. any gadget context menus and multi-file drag and drop.(added to the runtimewindow) although any window or gadget can use drag and drop.<br><br>ive also added a flushevents() to the mousemove events, for the people what has stutter movments. can you retest and see if its now not stuttering.<br><br>thanks<br>kev <br><br></td></tr></table><br>
<a name="611639"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TeraBit</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Going good. <br><br>(on the WinBlitz3DGUIDemo.exe)<br>The listbox doesn't seem to select items and the Radio buttons will not select.<br><br>Intersted to see how it pans out. :) <br><br></td></tr></table><br>
<a name="611879"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kev</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks lee<br><br><div class="quote"> <br>The listbox doesn't seem to select items <br> <br></div><br>they should on a double click? does even double click not generate a messagebox.<br><br><div class="quote"> <br>the Radio buttons will not select.<br> <br></div><br>theres some problems with auto radio updating, they can be used but you have to update there status yourself using SetButtonState()<br><br>thanks<br>kev <br><br></td></tr></table><br>
<a name="611884"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TeraBit</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Kev,<br><br><div class="quote"> they should on a double click? does even double click not generate a messagebox. <br></div><br><br>Double clicking does select one, the first time. <br><br>Single clicking makes it act like a text box with a cursor line. After that, the list will not scroll or accept any other input. Either way, no messagebox is shown.<br><br><div class="quote"> theres some problems with auto radio updating, they can be used but you have to update there status yourself using SetButtonState() <br></div><br><br>Fair enough :) <br><br></td></tr></table><br>
<a name="611888"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kev</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks lee<br><br>is there any order in the way to generate this problem, ie clicking gadgets in any order? and it does not happen when testing Winblitz3DMixedGUIDemo.exe?<br><br>as it does not happen here. other than that i might have to revert back to no icons in the listbox gadgets.<br><br>kev <br><br></td></tr></table><br>
<a name="611894"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TeraBit</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just launch the demo (WinBlitz3DGUIDemo.exe)<br><br>Go to the left hand window (the black one)<br><br>Then (single) click an item in the list box in the left hand window (The cursor line appears).<br><br>Use the up/down arrow keys on the keyboard to try to move down the list. <br><br>This appears to trigger the list be become unresponsive. <br><br>[edit]<br><br>It looks like any keyboard input to any of the listboxes disables them. <br><br></td></tr></table><br>
<a name="611899"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kev</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> thank lee<br><br>i still cant recreate it? anyone else able to? the only diffance im using winxp sp1. i will update to sp2 and see if the problem happens.<br><br><br>thanks<br>kev <br><br></td></tr></table><br>
<a name="611923"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TeraBit</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not sure if it helps, but once this happens, the repaint events are disabled as well, so when another window occludes the list box, it will go white and no longer repaint or respond to events.<br><br>Sounds like the event queue for the gadget is getting clogged somehow. <br><br></td></tr></table><br>
<a name="611933"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kev</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi lee<br><br>ok im not sure but did you try the last version? before the update. if so did it function correct?  its possable that flushing the mousemove events might have messed the listbox events.<br><br>ive put a example below without flushing the mouse events, can you try this please. just copy to the same folder as the download you was testing.<br><br><a href="http://myweb.tiscali.co.uk/blitzbasic/TestME.zip" target="_blank"><b>Download Test</b></a><br><br>thanks<br>kev <br><br></td></tr></table><br>
<a name="611940"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TeraBit</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Kev,<br><br>Same problem. No difference between the versions. The one I was testing was the most recent one with the tray. <br><br></td></tr></table><br>
<a name="611950"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kev</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok thanks lee, check your email.<br><br>kev <br><br></td></tr></table><br>
<a name="651435"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KimoTech</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've found the bug in the old WinBlitz3D where it doesnt response when i close the window. It works now!!!<br>It seems that the bug was in WaitEvent(), because i played a little around with it and now it works. Code here, and i've added a useful command PeekEvent():<br><br><pre class=code>
Function WaitEvent(events=1)
	

	apiSetWindowLong runtimewindow,GWL_WNDPROC,GRAB_BankAddr(WinProcBank)	
	ret_event=0
	.again
	PokeInt WinProcReturn,$04,0
	apiGetMessage(WinProcReturn,0,0,0)
	apiTranslateMessage(WinProcReturn) 
	apiDispatchMessage(WinProcReturn) 
			
	eventsource_RAW = 0
	eventdata_RAW = 0
	eventX_RAW = 0
	eventY_RAW = 0

	this_event = PeekInt(WinProcReturn,$04)
	
	
	Select this_event

		Case WM_RBUTTONUP
			ret_event = $202
			;
			If apiIsWindow(PeekInt(WinProcReturn,0)) &lt;&gt; 0 Then
			
				Gadget_BankDATA = apiGetWindowLong(PeekInt(WinProcReturn,0),GWL_USERDATA)
				If Gadget_BankDATA &gt; 0 Then 
					If PeekInt(Gadget_BankDATA,$00) = PeekInt(WinProcReturn,0)
						;PopUpGadgetMenu(PeekInt(Gadget_BankDATA,$00))
					EndIf
				EndIf
				
			EndIf
			
		Case WM_KILLFOCUS

			apiGetMessage(WinProcReturn,0,0,0)
			apiTranslateMessage(WinProcReturn) 
			apiDispatchMessage(WinProcReturn) 
		
			ret_event = $401
			eventsource_RAW = apiGetFocus()
						
		Case WM_HSCROLL
			ret_event = $401
			eventsource_RAW = PeekInt(WinProcReturn,$0C)
			eventdata_RAW = LOWORD(PeekInt(WinProcReturn,$08))
			
			;WM_HSCROLL_pos = 1 + apiGetScrollPos(eventsource_RAW,SB_CTL) 
			;eventdata_RAW = apiSetScrollPos(eventsource_RAW,SB_CTL,WM_HSCROLL_pos,True)
			
							
		Case WM_VSCROLL
			ret_event = $401
			eventsource_RAW = PeekInt(WinProcReturn,$0C)
			eventdata_RAW = LOWORD(PeekInt(WinProcReturn,$08))

			;WM_VSCROLL_pos = 1 + apiGetScrollPos(eventsource_RAW,SB_CTL) 
			;eventdata_RAW = apiSetScrollPos(eventsource_RAW,SB_CTL,WM_VSCROLL_pos,True)
	
			
		Case WM_ACTIVATE
		
			If LOWORD(PeekInt(WinProcReturn,$08)) = WA_CLICKACTIVE Then
				ret_event = $804
				eventsource_RAW = PeekInt(WinProcReturn,$00)
			EndIf
			
		Case WM_ACTIVATEAPP
			eventName$ = "WM_ACTIVATEAPP"
						
		Case WM_NOTIFY
			
			
			
			If a = 1 Then
			;	PokeByte b,0,$CC
			EndIf
			a = a + 1	
			
			nmhdr_addr = PeekInt(WinProcReturn,$0C)
			apiCallWindowProcF b,0,0,GRAB_BankAddr(NMHDR),nmhdr_addr
			;Notify PeekInt(NMHDR,$04)		
				
			Select PeekInt(NMHDR,$08)
			
				Case NM_CLICK,TCN_SELCHANGE ; tabber
					ret_event = $401
					eventsource_RAW = PeekInt(NMHDR,$00)
					eventdata_RAW = apiSendMessage(eventsource_RAW,TCM_GETCURSEL,0,0)
																					
			Default
			;	ret_event = $401
			;	eventsource_RAW = PeekInt(NMHDR,$00)
			End Select
											
			;Notify "here "+PeekInt(NMHDR,$00)+" "+toolbar
			
																
		Case WM_COMMAND
								
			; check menu selected or gadget event
			eventsource_RAW = PeekInt(WinProcReturn,$0C)
			If eventsource_RAW = 0 Then
				If HIWORD(PeekInt(WinProcReturn,$08)) = 0 Then
					eventdata_RAW = LOWORD(PeekInt(WinProcReturn,$08))
					If eventdata_RAW &gt; 0 Then
						ret_event = $1001
					EndIf	
				EndIf
			Else
				ret_event = $401
			EndIf	
			
			;Notify HIWORD(PeekInt(WinProcReturn,$08))
			
		Case WM_SIZE
			ret_event = $802
			eventsource_RAW = PeekInt(WinProcReturn,$00)
			EventX_RAW = LOWORD(PeekInt(WinProcReturn,$0C))
			EventY_RAW = HIWORD(PeekInt(WinProcReturn,$0C))
						
			; reposition status bars.
			If apiIsWindow(eventsource_RAW) &lt;&gt; 0 Then
				GAD_ID = apiGetWindowLong(eventsource_RAW,GWL_USERDATA)
				If GAD_ID &gt; 0 Then
					statusbar = PeekInt(GAD_ID,4)
					If statusbar &gt; 0 Then
						;SetGadgetShape statusbar,0,0,GadgetWidth(eventsource_RAW),GadgetHeight(statusbar)
						;apiInvalidateRect statusbar,0,True
						;apiSendMessage statusbar,WM_SIZE,0,0
					EndIf
				EndIf
			EndIf
						
		Case WM_MOVE
			
			ret_event = $801
			eventsource_RAW = PeekInt(WinProcReturn,$00)
			EventX_RAW = LOWORD(PeekInt(WinProcReturn,$0C))
			EventY_RAW = HIWORD(PeekInt(WinProcReturn,$0C))
		
		Case WM_CLOSE
		DebugLog "WM_CLOSE"
				
		Case WM_DESTROY
		DebugLog "WM_DESTROY"
			ret_event = $803
			eventsource_RAW = PeekInt(WinProcReturn,$00)
											
	End Select

	; cleanup events
	PokeInt(WinProcReturn,$00,0)
	PokeInt(WinProcReturn,$04,0)
	PokeInt(WinProcReturn,$08,0)
	PokeInt(WinProcReturn,$0C,0)
	If ret_event=0 Then Goto again
	
	apiSetWindowLong runtimewindow,GWL_WNDPROC,WinProcBlitz3D
	
	Return ret_event
	
End Function

Function PeekEvent(events=1)
	

	apiSetWindowLong runtimewindow,GWL_WNDPROC,GRAB_BankAddr(WinProcBank)	
	
	ret_event=0
		
	apiPeekMessage(WinProcReturn,0,0,0,0)
	apiTranslateMessage(WinProcReturn) 
	apiDispatchMessage(WinProcReturn) 
			
	eventsource_RAW = 0
	eventdata_RAW = 0
	eventX_RAW = 0
	eventY_RAW = 0

	this_event = PeekInt(WinProcReturn,$04)
	
	
	Select this_event

		Case WM_RBUTTONUP
			ret_event = $202
			;
			If apiIsWindow(PeekInt(WinProcReturn,0)) &lt;&gt; 0 Then
			
				Gadget_BankDATA = apiGetWindowLong(PeekInt(WinProcReturn,0),GWL_USERDATA)
				If Gadget_BankDATA &gt; 0 Then 
					If PeekInt(Gadget_BankDATA,$00) = PeekInt(WinProcReturn,0)
						;PopUpGadgetMenu(PeekInt(Gadget_BankDATA,$00))
					EndIf
				EndIf
				
			EndIf
			
		Case WM_KILLFOCUS

			apiGetMessage(WinProcReturn,0,0,0)
			apiTranslateMessage(WinProcReturn) 
			apiDispatchMessage(WinProcReturn) 
		
			ret_event = $401
			eventsource_RAW = apiGetFocus()
						
		Case WM_HSCROLL
			ret_event = $401
			eventsource_RAW = PeekInt(WinProcReturn,$0C)
			eventdata_RAW = LOWORD(PeekInt(WinProcReturn,$08))
			
			;WM_HSCROLL_pos = 1 + apiGetScrollPos(eventsource_RAW,SB_CTL) 
			;eventdata_RAW = apiSetScrollPos(eventsource_RAW,SB_CTL,WM_HSCROLL_pos,True)
			
							
		Case WM_VSCROLL
			ret_event = $401
			eventsource_RAW = PeekInt(WinProcReturn,$0C)
			eventdata_RAW = LOWORD(PeekInt(WinProcReturn,$08))

			;WM_VSCROLL_pos = 1 + apiGetScrollPos(eventsource_RAW,SB_CTL) 
			;eventdata_RAW = apiSetScrollPos(eventsource_RAW,SB_CTL,WM_VSCROLL_pos,True)
	
			
		Case WM_ACTIVATE
		
			If LOWORD(PeekInt(WinProcReturn,$08)) = WA_CLICKACTIVE Then
				ret_event = $804
				eventsource_RAW = PeekInt(WinProcReturn,$00)
			EndIf
			
		Case WM_ACTIVATEAPP
			eventName$ = "WM_ACTIVATEAPP"
						
		Case WM_NOTIFY
			
			
			
			If a = 1 Then
			;	PokeByte b,0,$CC
			EndIf
			a = a + 1	
			
			nmhdr_addr = PeekInt(WinProcReturn,$0C)
			apiCallWindowProcF b,0,0,GRAB_BankAddr(NMHDR),nmhdr_addr
			;Notify PeekInt(NMHDR,$04)		
				
			Select PeekInt(NMHDR,$08)
			
				Case NM_CLICK,TCN_SELCHANGE ; tabber
					ret_event = $401
					eventsource_RAW = PeekInt(NMHDR,$00)
					eventdata_RAW = apiSendMessage(eventsource_RAW,TCM_GETCURSEL,0,0)
																					
			Default
			;	ret_event = $401
			;	eventsource_RAW = PeekInt(NMHDR,$00)
			End Select
											
			;Notify "here "+PeekInt(NMHDR,$00)+" "+toolbar
			
																
		Case WM_COMMAND
								
			; check menu selected or gadget event
			eventsource_RAW = PeekInt(WinProcReturn,$0C)
			If eventsource_RAW = 0 Then
				If HIWORD(PeekInt(WinProcReturn,$08)) = 0 Then
					eventdata_RAW = LOWORD(PeekInt(WinProcReturn,$08))
					If eventdata_RAW &gt; 0 Then
						ret_event = $1001
					EndIf	
				EndIf
			Else
				ret_event = $401
			EndIf	
			
			;Notify HIWORD(PeekInt(WinProcReturn,$08))
			
		Case WM_SIZE
			ret_event = $802
			eventsource_RAW = PeekInt(WinProcReturn,$00)
			EventX_RAW = LOWORD(PeekInt(WinProcReturn,$0C))
			EventY_RAW = HIWORD(PeekInt(WinProcReturn,$0C))
						
			; reposition status bars.
			If apiIsWindow(eventsource_RAW) &lt;&gt; 0 Then
				GAD_ID = apiGetWindowLong(eventsource_RAW,GWL_USERDATA)
				If GAD_ID &gt; 0 Then
					statusbar = PeekInt(GAD_ID,4)
					If statusbar &gt; 0 Then
						;SetGadgetShape statusbar,0,0,GadgetWidth(eventsource_RAW),GadgetHeight(statusbar)
						;apiInvalidateRect statusbar,0,True
						;apiSendMessage statusbar,WM_SIZE,0,0
					EndIf
				EndIf
			EndIf
						
		Case WM_MOVE
			
			ret_event = $801
			eventsource_RAW = PeekInt(WinProcReturn,$00)
			EventX_RAW = LOWORD(PeekInt(WinProcReturn,$0C))
			EventY_RAW = HIWORD(PeekInt(WinProcReturn,$0C))
		
		Case WM_CLOSE
		DebugLog "WM_CLOSE"
				
		Case WM_DESTROY
		DebugLog "WM_DESTROY"
			ret_event = $803
			eventsource_RAW = PeekInt(WinProcReturn,$00)
											
	End Select

	; cleanup events
	PokeInt(WinProcReturn,$00,0)
	PokeInt(WinProcReturn,$04,0)
	PokeInt(WinProcReturn,$08,0)
	PokeInt(WinProcReturn,$0C,0)
	;If ret_event=0 Then Goto again  -- THIS IS PEEKEVENT SO JUST CONTINUE WITHOUT ANY EVENT!
	
	apiSetWindowLong runtimewindow,GWL_WNDPROC,WinProcBlitz3D
	
	Return ret_event
	
End Function

</pre> <br><br></td></tr></table><br>
<a name="651453"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KimoTech</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> But are there anyone who knows how i can make the windows dont disapear when i press their close buttons, so i can ex. make a "Save before quit?" box? <br><br></td></tr></table><br>
<a name="651458"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RGR</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not always, but sometimes the Blitz-Helpfiles help:<br>2D Category --&gt; System --&gt; AppTitle<br><br>Or for a more advanced way look under "User Input" for "Blitz Close" in the Code Archives<br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=832" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=832</a> <br><br></td></tr></table><br>
<a name="651646"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Boiled Sweets</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> price? <br><br></td></tr></table><br>
<a name="651691"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KimoTech</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> i mean the windows i create with WinBlitz3D. Not the runtime window. The windows i create myself. Like in B+. Then when you press close, they dont disappear. I want the WinBlitz3D-windows to do the same. <br><br></td></tr></table><br>
<a name="651724"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kev</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Qimmer, <br><br>see <a href="http://www.winblitz3d.co.uk/forum/" target="_blank">http://www.winblitz3d.co.uk/forum/</a> might be an idea to post your working version. when WM_CLOSE is processed in the windows api winproc it auto calls defwindowproc(). to enable winblitz3d's include version to disable this would need to re-write the custom asm bytecode.<br><br>the .dll version that will be available soon does this along with losts more, to much to be listed here.<br><br><br>@Boiled Sweets<br>15 UK Pounds this includes full access to bug-fixes, updates. winblitz3d's .dll is currently very stable :) the user has full access to winapi gadgets on the runtimewindow or there own window. full control over all windows\gadgets winapi styles using standard constants.   <br><br>when will it be available to buy? well im still waiting on the docs to be returned from one of winblitz3d's beta testers 'Mr P' and ive still to finish more example. although they are coming along.<br><br>kev <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
