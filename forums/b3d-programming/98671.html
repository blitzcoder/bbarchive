<!DOCTYPE html><html lang="en" ><head ><title >how to do very large numbers?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >how to do very large numbers?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >how to do very large numbers?</a><br><br>
<a name="1154593"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >stanrol</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> how to do very large numbers? <br><br></td></tr></table><br>
<a name="1154597"></a>

<a name="1154598"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PowerPC603</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I gues you mean numbers over 2.000.000.000? Too large to fit in an integer variable?<br><br>I was wondering about that as well.<br><br>One way:<br>Use 2 integer variables to create a fake 64-bit variable.<br>Use the first to store anything below 1.000.000.000.<br>Use the second to hold the multiplier for 1.000.000.000.<br><br>Example: second var = 15, first var = 950.478.562<br>If you combine these, you should get 15.950.478.562 (Print Var2 + "" + Var1). The "" is to split both values instead of adding them together before printing.<br><br>You also need extra functions for adding and substracting values from your self-made 64-bit variable.<br><br>Limitations: you cannot add more than 2.000.000.000 at once, since you can only pass integer variables (B3D doesn't have 64-bit vars).<br><br><br><br>Second way: use a string to hold your value.<br>Each digit needs it's own spot (character-index) in the string.<br><br>For this, you also need your own functions for adding, substracting, ... values stored in this string.<br>Using this approach, you're not limited to values of 2.000.000.000, as a string can be as large as you need it.<br>Your functions could use strings as parameters instead of integers (which would put the same limit on your values).<br><br>There may be more and better ways to do this.<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1154658"></a>

<a name="1154659"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> There's an example of string maths in action here: <a href="/codearcs/codearcs.php?code=2030" >megacalculs</a><br><br>Unfortunately it's not packaged as a function library, so it might be hard to integrate with other code. It's also ridiculously slow, which is probably not the fault of the algorithms, so much as that manipulating strings in B3D is ridiculously slow anyway.<br><br>I'm sure I saw another one that used functions, but I can't find it now.<br><br>Warpy wrote a bignum library for BlitzMax: <a href="/codearcs/codearcs.php?code=2342" >Arbitrary precision integers</a><br><br>If you're feeling adventurous you could try to convert it... it must be good if it's by Warpy.<br><br>If you're feeling <i>very</i> adventurous you could try wrapping <a href="http://en.wikipedia.org/wiki/GNU_Multiple_Precision_Arithmetic_Library" target="_blank">GMP</a>, which is probably the fastest general-purpose bignum library, but requires you to use rather awkward code.<br><br><br>The simplest solution is to find a scripting language that provides infinite-precision numbers and just have your math run through that as eval-strings. Most Lisps and Schemes are good for this (sadly <i>not</i> the TinyScheme linked in my signature)... a few other languages should too. The big advantage of doing this is that the scripting engine can accept your computation as a string and return a string, avoiding annoying data types, and can usually rely on its own internal GC to clean up the temporary values so your code can stay very simple. This solution will be somewhere between string-maths and GMP in terms of performance, but should be good enough.<br><br>Finally... how badly do you really need big numbers? What are you trying to achieve? Be aware that no matter what method you find to do the computation, there is <i>no way</i> to have B3D actually use the result as anything other than a string, and there is <i>no way</i> (even with GMP) to make the maths as fast as hardware operations.<br><br>Also, if you can live with only ~6 significant digits of precision, B3D floats actually have a range of some 3x10^38.<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
