<!DOCTYPE html><html lang="en" ><head ><title >Rotating Turrets</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Rotating Turrets</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Rotating Turrets</a><br><br>
<a name="373443"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JKP</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, I am having trouble getting turrets on space ships to rotate properly in Blitz. Ships can have several turrets, and each turret has the ship as its parent. Each turret consists of a base that can rotate left and right, and a barrel that can rotate up and down. The barrel entity is a child of the base, so it moves and rotates with it. I need to make it so that the turrets point at an enemy ship. I've tried using the deltapitch and deltayaw commands to turn each part individually, but I can't get it to work. The turrets either point in the wrong direction or just spin around. I don't understand whether the deltapitch and deltayaw commands will work when the source entity is parented to another entity. I may not have placed the joints correctly in Milkshape, which doesn't help.<br><br>Does anyone have any ideas? <br><br></td></tr></table><br>
<a name="373496"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Make sure you're turning the guns globally ..<br><br>turnentity myenity, 0,5,0, true <br><br></td></tr></table><br>
<a name="373608"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JKP</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I not sure, but I think that they need to be turned in their local axes, because otherwise if the ship is on its side or something, they would rotate in the wrong direction relative to the ship. <br><br></td></tr></table><br>
<a name="373628"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nek</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> i did a same thing with tank turrents the way i did this<br>create a pivot of the gun<br>point the pivot at the target(pointentity(??,??)<br>then you get your roll,pitch,yaw etc data.with the right commands<br>you then get roll,pitch,yaw data from your gun you then <br>increase or decrease you gun roll,pitch,yaw to match the roll,pitch,yaw of you pivot which is point right at the target.<br><br>its a while since i did it but its something like that.<br>hope it helps <br><br></td></tr></table><br>
<a name="373629"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nek</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> here how i did it this will only turn the gun but you could have it doing the pitch aswell the same way.<br><br>Function turngun(obj,tobj,n)<br>;this rountine turn turrent on top of the tank for target<br> <br> ;YOU WOULD NEED TO CREATE A PIVOT OBJECT ON EACH GUN.<br> ;I DID THIS WHEN CREATING THE OBJECTS.<br><br> PointEntity(gunpivot[n],tobj)<br> tangle[n]=EntityYaw#(obj,True)<br> tang[n]=EntityYaw#(gunpivot[n],True)<br> <br> If tangle[n]&gt;tang[n] Then<br>  tangle[n]=tangle[n]-.01<br>  TurnEntity(obj,0,-1,0)<br> EndIf<br> <br> If tangle[n]&lt;tang[n] Then<br>  tangle[n]=tangle[n]+.01<br>  TurnEntity(obj,0,1,0)<br> EndIf<br> <br><br>End Function <br><br></td></tr></table><br>
<a name="373655"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JKP</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK I think I've got it working using pivots. Thanks for the help. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
