<!DOCTYPE html><html lang="en" ><head ><title >2 texture blends, 2 UV sets.. whats the penalty?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >2 texture blends, 2 UV sets.. whats the penalty?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >2 texture blends, 2 UV sets.. whats the penalty?</a><br><br>
<a name="411295"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ashmantle</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey everyone!<br><br>I am thinking of creating every object in my world with 2 UV sets and 2 different textures.. I want to do this because then I can add,, say moss to a tree, while not needing to mess up the wood texture.. I can add seamlessness to a tile-looking texture by adding random spots of overlay..<br><br>Example.. if I have a room made up of a tiled brick texture..<br>boooring ^^ but then I add a Masked image of several tileable cement splats which I put here and there.. voila, not so boring ^^<br><br>The thing is... will this severly affect performance? Im talking EVERY object here.. <br><br>This is the method Im gonna use:<br><pre class=code>
cube=LoadMesh("test.b3d") 
PositionEntity cube,0,0,15 

; Load texture 
tex1=LoadTexture( "brucks.png" )
TextureCoords tex1,0
tex2=LoadTexture( "rainbow.png",4)
TextureCoords tex2,1

TextureBlend tex2,1

; Texture cube with texture 
EntityTexture cube,tex1,0,0
EntityTexture cube,tex2,0,1
</pre><br><br>No alpha... just mask.. <br><br></td></tr></table><br>
<a name="411305"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bouncer</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> no significant effect with never gfx-cards.... <br><br></td></tr></table><br>
<a name="411310"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ashmantle</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> hmmm.. I have discovered a problem though..<br><br>the mask texture doesn't seem affected by vertex lights as the first layer is.. it looks fullbright all the way..<br><br>Anyone else had this problem?<br><br>In the manual it says that the higher index texture is blended with the one below it, and the result is blended with the mesh.. this is obvious not the case here.. :/<br><br>thanks for the reply Bouncer ^^<br><br>two images showing the problem:<br><img src="http://www.poly.no/fullbright.jpg"><br><img src="http://www.poly.no/shaded.jpg"> <br><br></td></tr></table><br>
<a name="411416"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Unfortunately, due to the way texture blending modes work, you can't have a masked texture affected by a light.<br><br>What you are doing is this:<br><br>1. Apply light to white pixel.<br>2. Multiply first texture color with lit pixel color.<br>3. Replace pixel with mask texture pixel where mask is opaque.<br><br>As you can seem the lighting information is lost where the mask replaces the color of the pixel below it.<br><br>You would need to be able to apply the pixel lighting as the last step rather than the first for this to work.  However, I don't know if it would be possible to do that at all, and Blitz certainly does not support it.  In addition, doing that would make other effects, such as making parts of a mesh glow despite not being lit, impossible.<br><br>To achieve the effect you want, what you will have to do instead is use a second surface with the masked texture on it.  Then it will have it's own untarnished plain lit pixel to multiply with, resulting in the appearance of being lit like the rest of the mesh.<br><br>Unfortunately, each surface comes at a great cost, and you will be limited to around 200-400 surfaces visible at once on the screen in your game if you want to maintain an acceptable framerate.<br><br>Personally I reccomend that you just make two textures, one with moss, one without.  It's much simpler, and you're not very likely to run out of texture ram unless you are making a huge project. <br><br></td></tr></table><br>
<a name="411477"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> or maybe just use a quad that was placed on the original mesh, containing the moss. That's the way the engine of hitman 2 handles it, for example. <br><br></td></tr></table><br>
<a name="411561"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ashmantle</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> hmm... thanks for the information..<br><br>depressing news ^^ but I will try that quad thing anyways.. thanks! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
