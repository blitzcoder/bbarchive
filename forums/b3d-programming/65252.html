<!DOCTYPE html><html lang="en" ><head ><title >Partly Transparent Sprites</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Partly Transparent Sprites</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Partly Transparent Sprites</a><br><br>
<a name="728189"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PoliteProgrammer</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi All!<br><br>Okay, I've got 3 things - a sprite, a texture and an image. I've made the texture the same size as the image. The image has the background colour masked.<br><br>I open the texturebuffer for that texture and draw the image to it, however the background of the image when applied to the texture is not transparent.<br><br><br>Does anyone have a better way of allowing me to draw a certain image to a texture, while making the background of it transparent? <br><br></td></tr></table><br>
<a name="728291"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >b32</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think the image you are drawing onto the texture is transparent, but the texture itself isn't.<br>If you are using CreateTexture, the masked/alpha flags don't work. There is a workaround for it, but I forgot which one, look a bit at previous topics. A very lousy workaround is saving the image, then loading the file as a texture with the right transparency flags. With textures, the transparent color is allways black. <br><br></td></tr></table><br>
<a name="728934"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Subirenihil</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>DrawImage</b> does not use the transparent color when drawing to a texture.<br><br>A workaround that works in realtime (if your not doing this for lots of textures) is to draw the image to another image that is the same size as the texture.  Then <b>CopyRect</b> that image to the texture.<br><br>If you want the image to draw transparency to the texture, then you have 2 options:<br>     1)  if the texture is to be either solid color or totally invisible - no half see-through - you can use texture flag 4 (masked) and have the <b>ImageMask &lt;image&gt;,0,0,0</b><br>     2)  if you want parts of the texture to be partially transparent then you're going to need <b>LockBuffer</b>, <b>ReadPixelFast</b>, <b>WritePixelFast</b>, and <b>UnlockBuffer</b> <br><br></td></tr></table><br>
<a name="730613"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> BTW recently it turned out that there are a few machines that will MAV when you try to do drawing operations directly on a texturebuffer (as seen with the Oval command). THerefor I'd suggest to draw to the backbuffer and then copyrect to the texturebuffer, and never ever draw to the texturebuffer directly.<br><br>BTW to set the transparency of a texture you will have to set the alpha channel manually, even if you used to copy black pixels to a masked texture. The transparency of black texels is only set autmaticly if you load a texture with the flag 4, contrary to a created texture.<br><br>This may be useful for you:<br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=1806" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=1806</a> <br><br></td></tr></table><br>
<a name="730802"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AJirenius</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Subirenihil helped me out with this very similar issue in this thread: <a href="http://www.blitzbasic.com/Community/posts.php?topic=64678" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=64678</a><br><br>It has code and everything, also a screen of the result. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
