<!DOCTYPE html><html lang="en" ><head ><title >A real antialias routine</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >A real antialias routine</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >A real antialias routine</a><br><br>
<a name="439806"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> All the antialias routines I have seen written in Blitz just kind of blur the image.  Here's one that works.  These images have not been retouched in any way.<br><br>Before:<br><img src="http://www.leadwerks.com/post/antialias1.png"><br><br>After:<br><img src="http://www.leadwerks.com/post/antialias2.png"><br><br>Give me credit if you use it, and a free copy of the application, whatever it is:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Function AntiAliasBuffer(buffer,passes=1,threshhold=20)
gfxbuffer=GraphicsBuffer()
SetBuffer buffer
LockBuffer buffer
w=BufferWidth(buffer)
h=BufferHeight(buffer)
For p=1 To passes
	For x=0 To w-1
		For y=0 To h-1
			hue=ReadPixelFast(x,y)
			r=Red(hue)
			g=Green(hue)
			b=Blue(hue)
			count=BottomLeftPixelsAntialiased(buffer,x,y,threshhold)
			For n=1 To count
				perc#=Float(n)/Float(count)
				hue=ReadPixelFast(x-n,y)
				lr=Red(hue)*perc+r*(1.0-perc)
				lg=Green(hue)*perc+g*(1.0-perc)
				lb=Blue(hue)*perc+b*(1.0-perc)
				WritePixelFast x-n,y,RGB(lr,lg,lb)
				Next
			count=BottomRightPixelsAntialiased(buffer,x,y,threshhold)
			For n=1 To count
				perc#=Float(n)/Float(count)
				hue=ReadPixelFast(x+n,y)
				lr=Red(hue)*perc+r*(1.0-perc)
				lg=Green(hue)*perc+g*(1.0-perc)
				lb=Blue(hue)*perc+b*(1.0-perc)
				WritePixelFast x+n,y,RGB(lr,lg,lb)
				Next
			count=VerticalBottomLeftPixelsAntialiased(buffer,x,y,threshhold)
			For n=1 To count
				perc#=Float(n)/Float(count)
				hue=ReadPixelFast(x,y-n)
				lr=Red(hue)*perc+r*(1.0-perc)
				lg=Green(hue)*perc+g*(1.0-perc)
				lb=Blue(hue)*perc+b*(1.0-perc)
				WritePixelFast x,y-n,RGB(lr,lg,lb)
				Next
			count=VerticalBottomRightPixelsAntialiased(buffer,x,y,threshhold)
			For n=1 To count
				perc#=Float(n)/Float(count)
				hue=ReadPixelFast(x,y+n)
				lr=Red(hue)*perc+r*(1.0-perc)
				lg=Green(hue)*perc+g*(1.0-perc)
				lb=Blue(hue)*perc+b*(1.0-perc)
				WritePixelFast x,y+n,RGB(lr,lg,lb)
				Next
			Next
		Next
	Next
UnlockBuffer buffer
SetBuffer gfxbuffer
End Function

Function BottomLeftPixelsAntialiased(buffer,x,y,threshhold)
If x=0 Return
hue=ReadPixelFast(x,y)
r=Red(hue)
g=Green(hue)
b=Blue(hue)
w=BufferWidth(buffer)
h=BufferHeight(buffer)
Repeat
	found=False
	hue=ReadPixelFast(x-1,y)
	lr=Red(hue)
	lg=Green(hue)
	lb=Blue(hue)
	If Abs(lr-r)&gt;threshhold Or Abs(lg-g)&gt;threshhold Or Abs(lb-b)&gt;threshhold
		If y&lt;h
			hue=ReadPixelFast(x-1,y+1)
			blr=Red(hue)
			blg=Green(hue)
			blb=Blue(hue)
			If Abs(blr-r)&lt;threshhold And Abs(blg-g)&lt;threshhold And Abs(blb-b)&lt;threshhold
				found=True
				EndIf				
			EndIf
		EndIf
	If found
		count=count+1
		Else
		Exit
		EndIf
	If x=0 Exit
	x=x-1
	Forever
Return count
End Function

Function BottomRightPixelsAntialiased(buffer,x,y,threshhold)
hue=ReadPixelFast(x,y)
r=Red(hue)
g=Green(hue)
b=Blue(hue)
w=BufferWidth(buffer)
h=BufferHeight(buffer)
If x=w Return
Repeat
	found=False
	hue=ReadPixelFast(x+1,y)
	lr=Red(hue)
	lg=Green(hue)
	lb=Blue(hue)	
	If Abs(lr-r)&gt;threshhold Or Abs(lg-g)&gt;threshhold Or Abs(lb-b)&gt;threshhold
		If y&lt;h
			hue=ReadPixelFast(x+1,y+1)
			blr=Red(hue)
			blg=Green(hue)
			blb=Blue(hue)
			If Abs(blr-r)&lt;threshhold And Abs(blg-g)&lt;threshhold And Abs(blb-b)&lt;threshhold
				found=True
				EndIf				
			EndIf
		EndIf
	If found
		count=count+1
		Else
		Exit
		EndIf
	If x=w-1 Exit
	x=x+1
	Forever
Return count
End Function

Function VerticalBottomLeftPixelsAntialiased(buffer,x,y,threshhold)
If y=0 Return
hue=ReadPixelFast(x,y)
r=Red(hue)
g=Green(hue)
b=Blue(hue)
w=BufferWidth(buffer)
h=BufferHeight(buffer)
Repeat
	found=False
	hue=ReadPixelFast(x,y-1)
	lr=Red(hue)
	lg=Green(hue)
	lb=Blue(hue)
	If Abs(lr-r)&gt;threshhold Or Abs(lg-g)&gt;threshhold Or Abs(lb-b)&gt;threshhold
		If x&gt;0
			hue=ReadPixelFast(x-1,y-1)
			blr=Red(hue)
			blg=Green(hue)
			blb=Blue(hue)
			If Abs(blr-r)&lt;threshhold And Abs(blg-g)&lt;threshhold And Abs(blb-b)&lt;threshhold
				found=True
				EndIf				
			EndIf
		EndIf
	If found
		count=count+1
		Else
		Exit
		EndIf
	If y=0 Exit
	y=y-1
	Forever
Return count
End Function

Function VerticalBottomRightPixelsAntialiased(buffer,x,y,threshhold)
If y=h Return
hue=ReadPixelFast(x,y)
r=Red(hue)
g=Green(hue)
b=Blue(hue)
w=BufferWidth(buffer)
h=BufferHeight(buffer)
Repeat
	found=False
	hue=ReadPixelFast(x,y+1)
	lr=Red(hue)
	lg=Green(hue)
	lb=Blue(hue)
	If Abs(lr-r)&gt;threshhold Or Abs(lg-g)&gt;threshhold Or Abs(lb-b)&gt;threshhold
		If x&gt;0
			hue=ReadPixelFast(x-1,y+1)
			blr=Red(hue)
			blg=Green(hue)
			blb=Blue(hue)
			If Abs(blr-r)&lt;threshhold And Abs(blg-g)&lt;threshhold And Abs(blb-b)&lt;threshhold
				found=True
				EndIf				
			EndIf
		EndIf
	If found
		count=count+1
		Else
		Exit
		EndIf
	If y=h Exit
	y=y+1
	Forever
Return count
End Function
</textarea> <br><br></td></tr></table><br>
<a name="439812"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xmlspy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow! <br><br></td></tr></table><br>
<a name="439813"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xmlspy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> BufferWidth, BufferHeight functions missing. <br><br></td></tr></table><br>
<a name="439814"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Guess someone's not banned any more. :-)<br><br><br>Question:<br><br>Why would you want to create a function to antialias an image when every modern 3D card likely to be capable of running your game can do antialiasing in hardware, just by going:<br><br>Antialias True<br><br>???<br><br>Any card which doesn't have built in antialiasing is unlikely to render images fast enough to do it with any other technique.  And antialiasing in software like that will kill your framerate.<br><br>What is the purpose of this? <br><br></td></tr></table><br>
<a name="439821"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Antialias True<br><br>???<br><br>Any card which doesn't have built in antialiasing is unlikely to render images fast enough to do it with any other technique. And antialiasing in software like that will kill your framerate.<br><br>What is the purpose of this? <br></div><br><br>Actually, that doesn't work on a lot of people's systems.  Setting AntiAlias True certainly doesn't work for me, and I have 2x, Quincunx 2x, and 4x available (and I've seen it in action in other games, so I know it works).  Blitz has issues with antialiasing support, as far as I'm concerned. <br><br></td></tr></table><br>
<a name="439823"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> "Setting AntiAlias True certainly doesn't work for me"<br><br>1. Are you running Blitz in a video mode which your card supports antialising in?  My current card can only do antialiasing in 800x600 or below.  It doesn't have enough video ram to do it in higer res modes.  Your stats indicate you have a better card, but that might not help if you're trying to antialias 1600x1200. <br><br>2. Do you have your Direct 3D set up to use "application preference" for antialiasing in your display properties?  If not, then Direct3D will override your settings in Blitz. <br><br></td></tr></table><br>
<a name="439824"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> 1. Yes.<br>2. Yes. <br><br></td></tr></table><br>
<a name="439828"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Still too slow to antialias in software. :-) <br><br></td></tr></table><br>
<a name="439832"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice stuff, Halo! But.. I do consider AA essential feature in today's games, but I too doubt if the software AA would be fast enough... for simple games it might be, like platform games done in 3D? Also what happens if the user HAS AA enabled and you do software AA on top of that?<br><br>Blitz3D should REALLY have multiple choice AA settings (that really work)... would it be possible someone to write a .dll that asks if 2x 4 x etc are available and then sets them? <br><br></td></tr></table><br>
<a name="439840"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is just for making renderings.  I wanted a reliable Antialias renderer for CShop.  Even if you can tweak your graphics card settings to make it work, you should be able to have total control over it.<br><br>Plus, since it takes a few seconds, it makes it seem like I have a really amazing advanced renderer. <br><br></td></tr></table><br>
<a name="439845"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, what you're doing isn't really antialiasing. :-) <br><br>It's pretty much just finding changes between pixels which are too drastic, and smoothing those areas out.  In the image above, you can see that this method is imperfect... The pipes are still jaggy, and indented corners become rounded.<br><br>To really antialias an image, you need to render it at 4x resolution and then average each block of four pixels down to 1.  This would probably be faster than all these compares you're doing.<br><br>But of course you might not be able to render at 4x res cause the video card might not support that high a resolution.  There must be some way to shift the camera though where you could render four images and average them to produce the same effect. <br><br></td></tr></table><br>
<a name="439856"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> To really antialias an image, you need to render it at 4x resolution  <br></div><br><br>I don't think that's necessary.<br><br>You can achieve antialiasing with another image of the same size, in other words, only twice the memory. <br><br></td></tr></table><br>
<a name="439886"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, it's better than you have done, and it's free, so quit complaining.  :-)<br><br>:-)  :-)  :-)<br><br><br>:-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-)<br><br>:-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-)<br><br>:-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-)<br><br>:-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-)<br><br>:-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-)<br><br>:-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-)<br><br>:-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-)<br><br>:-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-)<br><br>:-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-)<br><br>:-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-)<br><br>:-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-):-)  :-)  :-) <br><br></td></tr></table><br>
<a name="439891"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was going to snitch on halo and get him banned for the tone of that last comment, but the final :-) changed my mind.<br><br>;-) ;-) ;-) <br><br></td></tr></table><br>
<a name="439893"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> I hope that was sarcastic enough to convey my disgust. <br><br></td></tr></table><br>
<a name="439917"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ladies and pre op men, please....calm down and procede to the nearest mud pit to sort this out like proper women.<br><br>;) &lt;geniune smiley that time!<br>-<br><br>Halo, although it's slow to do in software, check out shaders(Assuming you're still using your custom engine)<br>What you can do is, draw the color buffer to a texture(Modern hardware can even use non power of 2 textures)..Then, draw a quad across the entire screen(2d mode) textured with the screen with your blur shader. You don't need to asscoiate a vert shader to use just a pix shader.<br><br>You get the built in filtering(or none) of gl, plus you can blur the scene in the shader. I use similar methods for a few things, and it's very fast.(real-time fast.) <br><br></td></tr></table><br>
<a name="439926"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CyBeRGoth</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cheers halo<br><br>This type of AA would be good for taking in-game screenshots and make them look better :) <br><br></td></tr></table><br>
<a name="439933"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Braincell</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> To really antialias an image, you need to render it at 4x resolution and then average each block of four pixels down to 1. <br></div><br><br>Yep, thats true. I know 3d max does that, and it is definately the only real way of doing AA. <br><br></td></tr></table><br>
<a name="439978"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I don't think that's necessary. <br><br>You can achieve antialiasing with another image of the same size, in other words, only twice the memory. <br></div><br><br>Similar effect perhaps, but SSwift is correct when he says that true antialiasing is done by rendering an image twice as wide and twice as high and sampling from that.<br><br><br>Halo's effect is useful for anyone writing any kind of app though, because being able to take a nice snapshot with less jaggies is always useful. It's more of an edge blur routine than an antialias, but it's still useful.<br><br>And BTW I have the same answers as Noel to antialias true, yes my card supports AA at the resolutions I'm running, yes I have my drivers set to application preference, and no Antialias True doesn't do a single thing. It's pretty broken. <br><br></td></tr></table><br>
<a name="440102"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> It is antialiasing.  The first shot is aliased.  The second shot is not.<br><br>This isn't a blur effect, it looks for lines, and interpolates edges pixels along the slope of the line.<br><br>If you have something like this:<br><br>00000000000000000005555<br>00000000000000055550000<br>00000000000555500000000<br>00000005555000000000000<br>00055550000000000000000<br>55500000000000000000000<br><br>It creates this:<br>00000000000000012345555<br>00000000000123455554321<br>00000001234555543210000<br>00012345555432100000000<br>23455554321000000000000<br>55543210000000000000000 <br><br></td></tr></table><br>
<a name="440104"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Regular K</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice stuff :) <br><br></td></tr></table><br>
<a name="440159"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> There's also no way to render a 4000-pixel-wide image with Blitz. <br><br></td></tr></table><br>
<a name="440166"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tom</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks nice!<br><br>Good to have you back Halo! :)<br>Tom <br><br></td></tr></table><br>
<a name="440201"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob Farley</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt;&gt;  There's also no way to render a 4000-pixel-wide image with Blitz. <br><br>There probably is if you're clever enough with camerazoom and camera positioning and pointing it at the right place and doing x renders to get the big image. It's way beyond my little brain but I'm sure someone like you or Sswift could work it out (if you want to!)<br><br>Anyway, looks really good Halo, Certainly something to put in the code archives for future use. <br><br></td></tr></table><br>
<a name="440202"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Good god - stop knocking the man! He does brilliant work and is always pushing back the boundaries. Keep going Halo!<br>'You can always tell the trailblazers, by the knives sticking out of their backs.' <br><br></td></tr></table><br>
<a name="440237"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gotelin</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can you tell me how I use the  antialias routines?<br><br>Thanks <br><br></td></tr></table><br>
<a name="440240"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> pushing back?<br>it uses fastpixel operations ... so anything lower than GeForce3 is out the race at least for more than a nice screenshot function <br><br></td></tr></table><br>
<a name="440242"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Picklesworth</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks like you just call AntialiasBuffer on whatever buffer you want it on. <br><br></td></tr></table><br>
<a name="440245"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gotelin</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> Excuse me, But I don´t undestand you,<br>Can you post a example code, please?<br><br>Thanks <br><br></td></tr></table><br>
<a name="440277"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eric Draven</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> <i>"And BTW I have the same answers as Noel to antialias true, yes my card supports AA at the resolutions I'm running, yes I have my drivers set to application preference, and no Antialias True doesn't do a single thing. It's pretty broken."</i><br><br>Same here. GeForceFX 5600 128MB. <br><br></td></tr></table><br>
<a name="440289"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drey</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hardware AA is done differently.  IT takes either 2, 4, 6 samples of colors from within ONE Pixel and averages them together.  ATI uses a rotated method kinda like this<br>________<br>|    *  |<br>| *     |<br>|       |<br>|     * |<br>___*____<br>(4 samples)<br>Nvidia does this<br><br>________<br>|   *   |<br>|       |<br>|*    * |<br>|       |<br>____*____<br>(4 samples)<br>which isn't as good as ATI's.<br><br>Anyways, if u want your games to look better for a screen shot or some other reason.  That's fine, but anything that's run time.  NO way, i think u know that tho. <br><br></td></tr></table><br>
<a name="440290"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >poopla</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Credit is fair...but possibly a full commercial application? <br><br>Good to have you back Halo! :)<br> <br></div><br><br>He didn't ask anything that wasn't fair(as in he has that right, and if you use it, live with it).   So live with it ;). <br><br></td></tr></table><br>
<a name="440294"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RGR</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> ;- <br><br></td></tr></table><br>
<a name="440305"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> &lt;halo boast deleted due to obvious flame bait content&gt; <br><br></td></tr></table><br>
<a name="440309"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tom</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> You're a better coder than me, I follow your threads because most the time you get into juicier stuff (more technical), and I sometimes learn something. I appreciate you for that!<br><br>But then along comes your ego...<br><br>I've not taken offence at the 'stupid' remark, because I know I'm not. I'm just not as motivated &amp; dedicated as you :)<br><br>My first post was intended as a light hearted welcome back, but I'll remove it to keep the peace.<br><br>Take it easy!<br>Tom<br>p.s there's a giant kiwi thumb hovering over my house!!! HELP! <br><br></td></tr></table><br>
<a name="440387"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gotelin</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> Good afternoon <br><br>Can you send me a example with real antialias code, please?<br><br>I don,t know use the routine<br>Can you help me, please?<br><br>Thanks <br><br></td></tr></table><br>
<a name="440396"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Hardware AA is done differently. IT takes either 2, 4, 6 samples of colors from within ONE Pixel and averages them together. <br></div><br><br>If it took 6 samples of color from ONE pixel, wouldn't all six samples be the same color?  :) <br><br></td></tr></table><br>
<a name="440398"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Good afternoon <br><br>Can you send me a example with real antialias code, please? <br><br>I don,t know use the routine <br>Can you help me, please? <br><br> <br></div><br><br>Seriously man, it's one function call. If you need a code sample, I find it hard to believe you're going to be able to make any use of it. But what the hey..<br><br><pre class=code>
AntiAliasBuffer(FrontBuffer(),2)
</pre><br><br><pre class=code>
AntiAliasBuffer(BackBuffer())
</pre><br><br><pre class=code>
AntiAliasBuffer(ImageBuffer(AnyImageHandle),2,15)
</pre><br><br>There's three. <br><br></td></tr></table><br>
<a name="440432"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> You do realise he's going to use all three at once right? :)<br><br>(Just kidding gotelin ;)) <br><br></td></tr></table><br>
<a name="440449"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdrianT</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> antialiasing in hardware with blitz causes weird flickering on my system, like one black frame every 2-5 frames <br><br></td></tr></table><br>
<a name="440463"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> You do realise he's going to use all three at once right? :) <br> <br></div><br><br>hahaha, don't say that. I'll weep if he does. Literally. <br><br></td></tr></table><br>
<a name="440500"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gburgess</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> There's no correct way to do antialiasing. Some people seem to think that it was invented for 3d graphics cards, and the method they used is the 'right' method.<br><br>My Archimedes did font antialiasing in 1988, using a different method to both Halo's and the 3d graphics card. It's all good, baby. <br><br></td></tr></table><br>
<a name="440595"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> "If it took 6 samples of color from ONE pixel, wouldn't all six samples be the same color? :)"<br><br>I assume you're being facetious, but for others and in case you're not...<br><br>Antialiasing does take multiple samples from within the same pixel, but one sample might be at the center of the pixel, and another at the edge.<br><br>Normally, each pixel on the screen is the color of whatever happens to be at the very center of that square.  Everything else in the square is ignored.  That is why a pixel will go from being black to instantly being white as a square moves over it.  In reality, if you took all the colors in that square defined by the pixel, you'd get shades of grey as a white square passes over a pixel with a black background.<br><br>Basically subpixel sampling is like making lots of smaller pixels within a pixel. <br><br></td></tr></table><br>
<a name="440781"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drey</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> Look, i read it somewhere.  It takes samples around the center.  No, it's not that same color, because thre's different polygons that are inside the pixel.  The box didn't come out right for whatever reason.  but it it takes those samples, averages them together.  Just check out sites like anandtech.com and ati.com and read up on it. <br><br></td></tr></table><br>
<a name="440789"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would be more concerned that there are still nasty jaggies on the top of horizontal edges and the left side of vertical edges due to the imperfections of the implementation posted.<br><br>5 points to the coder who points out where Halo is going wrong. <br><br></td></tr></table><br>
<a name="440795"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'll take 'He needs to run each pixel through a edge detection matrix and blur each 8x8 sample by the average 'edge bias' of that sample istead, for fifty.<br><br>how wrong was I? <br><br></td></tr></table><br>
<a name="440797"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> Then again I don't see how either method would work with textures applied(How can you tell apart a texture detail and a edge?) <br><br></td></tr></table><br>
<a name="440801"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I assume you're being facetious, but for others and in case you're not... <br></div><br><br>I was. I'm glad someone spotted it. <br><br></td></tr></table><br>
<a name="1106135"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> Someone kind enough to give me a practical example of this function, leave me a ton of errors. <br><br></td></tr></table><br>
<a name="1106143"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Adam Novagen</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> Since this was for the Blitz that was issued over six years ago, it's no surprise you got errors. There could be any number of changes in modern Blitz that would render this code useless. <br><br></td></tr></table><br>
<a name="1106147"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#51">[#51]</a></td></tr></table></td></tr><tr ><td class="posttext"> There's a faster solution here: <a href="http://www.blitzbasic.com/Community/posts.php?topic=86928" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=86928</a><br><br>...but it only really works for low resolutions (1024 and below). <br><br></td></tr></table><br>
<a name="1106221"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Subirenihil</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#52">[#52]</a></td></tr></table></td></tr><tr ><td class="posttext"> Blitz discontinued AntiAlias True a while back, AntiAlias does nothing now - if you want your game to be antialiased you'll need to changes setting on your graphics card.  Most cards have default setting for applications - mine is set to antialias a program unless it has overrides built in.  A Blitz program can be antialiased fairly easily, the unfortunate part is that it can't be done within the program itself - it has to be set on the graphics card controls. <br><br></td></tr></table><br>
<a name="1237636"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rio29</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#53">[#53]</a></td></tr></table></td></tr><tr ><td class="posttext"> can't complain:) that's a lot of work sir, for a noob like me on Blitz3D <br>i will learn something at least, thanks much for the code and if i happened<br>to write the ultimate game ever:D with Blitz3D than sure why not credit<br>will always be yours <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
