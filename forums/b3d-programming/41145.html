<!DOCTYPE html><html lang="en" ><head ><title >Adding Main Menu and Start Screen stuff Help.</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Adding Main Menu and Start Screen stuff Help.</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Adding Main Menu and Start Screen stuff Help.</a><br><br>
<a name="463579"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stickman</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Dose anyone know a good way to add Start screens and Main Menu selections into the game engine? <br><br>Would it be VIA from an editor or hard code one as an Include and compile it when compiling the game engine code.<br><br>How do Pro engines like Quake and Doom allow you to do this in there engines ?<br><br>My trouble is there is so many ways Main menus and start screens can be made that trying to code a program to run in my editor that is flexible enough to create any type of start screen and menus seems way way to intensive almost like a Menu and Start screen Editor within it self.<br><br>Any Ideas.<br><br>My last idea was to just leave this part Blank in the engine with a default type start screen and Menu selection, then to change it just add an Include into the main code that will take over if present.<br>What I don't like is that this way you would need to recompile the whole engine to make it work.<br><br>I can't seem to see any other way to make it as flexible as possible.<br><br>I know Im a little vague, If you are having trouble understanding what Im referring to let me know and Ill do my best to help clear things up.<br><br><br>Thanks for any help at all<br>Stickman...... <br><br></td></tr></table><br>
<a name="463598"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bradford6</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> code it yourself. one way is to use an image and just create hotspots (like on a web page) by detecting where the mouse button was hit.<br><br>or...<br><br>try a 3rd party gui like alpha gui. <br><br></td></tr></table><br>
<a name="463645"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rhyolite</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> There was another post about this recently with helpful suggestions in it. Maybe try doing a search. <br><br></td></tr></table><br>
<a name="463648"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hard coding it is by far the easiest.<br><br>What it sounds like you want to do would in most cases I think not justify the amount of effort put into it. <br><br></td></tr></table><br>
<a name="463665"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stickman</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just the Difference between 2D and 3D screens is a lot then to go further and mix them together. <br><br></td></tr></table><br>
<a name="463668"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Techlord</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I agree with Bradford. Creating a simple 'imagemap' system is the easiest. In fact, I'm writing a entire single surface 3D gui system based on html client side 'imagemap' files. <br><br>They're many Free ImageMap Editors that output html map files defining the hotspots. So you just load your image, draw your hotspots, and save. I've written a simple html map parser. It will only recognize RECTangle shaped hotspots, but its a simple start.<br><br>Copy the image and code and give it a try!<br><br>test.jpg<br><a href="/posts.php?topic=39819" target="_blank"><img src="http://techlord.blackeve.com/images/test.jpg"></a><br><br>ImageMap.bb<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">;ImageMap by Frankie 'TechLord' Taylor 12/06/2004

Const IMAGEMAP_AREA_MAX%=256

Global imagemapCurrent.imagemap

Type imagemap
	;Purpose: Store Image and HotSpots
	Field id%
	Field name$
	Field x#
	Field y#
	Field imgsrc$
	Field image%
	Field hotspots%
	Field hotspot.hotspot[IMAGEMAP_AREA_MAX%]
	Field state%
End Type

Type hotspot
	;Purpose: Stores Coords, target, and command information
	Field id%
	Field typeid%
	Field coord[3]
	Field target$
	Field command$
	Field state%
End Type

Function imagemapLoad.imagemap(imagemapname$,imagemapfilename$,imagemapsrcname$="")
	;Purpose: Parses html client side imagemap file.
	;Parameters:
	;	imagemapname$ - name of imagemap. Can be used for reference purposes.
	;	imagemapfilename$ - html map file name, *.htm extension not required.
	;	imagemapsrcname$ - image file name. Valid map format extension required.	
	;Return:
	imagemapfile%=OpenFile(imagemapfilename+".htm") ;*.map
	If Not imagemapfile% Return Null
	While Not Eof(imagemapfile%)
		imagemapfileline$=Lower(ReadLine(imagemapfile%))
		imagemapfilelinelength%=Len(imagemapfileline$)
		
		For loop% = 1 To imagemapfilelinelength%
			imagemapchar$=Mid$(imagemapfileline$,loop%,1)
		
			Select imagemapchar$
				Case " ","&lt;","&gt;","=",Chr(34),Chr(39)
					;ignor whitespace and tags	
					imagemapword$=nil$			
				Default
					imagemapword$=imagemapword$+imagemapchar$
			End Select
	
			Select imagemapword$
			
				Case "name"
					this.imagemap=New imagemap
					this\imgsrc$=imagemapsrcname$					
					this\image%=LoadImage(this\imgsrc$)
					this\name$=imagemapname$
					this\state%=1

				Case "area" 
					this\hotspots%=this\hotspots%+1
					this\hotspot[this\hotspots%] = New hotspot
					hotspot.hotspot=this\hotspot[this\hotspots%]  ;testing
					
				Case "coords" ;coords define shape, rect by by limitation
					For loop% = loop%+1 To imagemapfilelinelength%
						imagemapchar$=Mid$(imagemapfileline$,loop%,1)
						Select imagemapchar$
							Case "="," "
								hotspotcoord%=0
								imagemapword$=nil$		
							Case ","
								this\hotspot[this\hotspots%]\coord[hotspotcoord%]=imagemapword$
								hotspotcoord%=hotspotcoord%+1
								imagemapword$=nil$
							Case Chr(34),Chr(39);quotes
								If hotspotcoord%&gt;0 Or imagemapword$&lt;&gt;nil$
									this\hotspot[this\hotspots%]\coord[hotspotcoord%]=imagemapword$								
									Exit
								EndIf	
							Default
								imagemapword$=imagemapword$+imagemapchar$	
						End Select
					Next
					
				Case "href" ;command$
					For loop% = loop%+1 To imagemapfilelinelength%
						imagemapchar$=Mid$(imagemapfileline$,loop%,1)
						Select imagemapchar$
							Case "="," "
								imagemapword$=nil$
							Case Chr(34),Chr(39);quotes
								If imagemapword$&lt;&gt;nil$
									this\hotspot[this\hotspots%]\command$=imagemapword$
									Exit
								EndIf	
							Default 
								imagemapword$=imagemapword$+imagemapchar$	
						End Select
					Next
					
				Case "target" 
					For loop% = loop%+1 To imagemapfilelinelength%
						imagemapchar$=Mid$(imagemapfileline$,loop%,1)
						Select imagemapchar$
							Case "="," "
								imagemapword$=nil$
							Case Chr(34),Chr(39);quotes
								If imagemapword$&lt;&gt;nil$
									this\hotspot[this\hotspots%]\target$=imagemapword$
									Exit
								EndIf	
							Default 
								imagemapword$=imagemapword$+imagemapchar$	
						End Select
					Next
						
			End Select
		Next	
	Wend
	Return this
End Function

Function imagemapDestroy(this.imagemap)
	;Purpose: Removes imagemap, hotspots, and image from memory
	;Parameters: imagemap object
	;Return: none
	If this&lt;&gt;Null
		For loop = 1 To hotspots%
			If this\hotspot[loop%]&lt;&gt;Null
				Delete this\hotspot[loop%] 
			EndIf
		Next
		If this\image% FreeImage(this\image)
		Delete this
	EndIf
End Function

Function imagemapUpdate()
	;Purpose: Checks for mouse and hotspot events. called in main loop
	;Parameters: none
	;Return: none
	this.imagemap=imagemapCurrent
	If imagemapCurrent\state%
		
		If this\image DrawBlock(this\image%,this\x,this\y)
		
		;check mouse and hotspot events
		For loop% = 1 To this\hotspots%
			
			If MouseX()&gt;=this\hotspot[loop%]\coord%[0] And MouseX()&lt;this\hotspot[loop%]\coord%[2] 
				If MouseY()&gt;=this\hotspot[loop%]\coord%[1] And MouseY()&lt;this\hotspot[loop%]\coord%[3] 
					
					Color 0,255,0
					
					If MouseDown(1)
						
						Color 255,0,0 ; do something
						 								
					EndIf
					
					Rect this\hotspot[loop%]\coord%[0],this\hotspot[loop%]\coord%[1],this\hotspot[loop%]\coord%[2]-this\hotspot[loop%]\coord%[0],this\hotspot[loop%]\coord%[3]-this\hotspot[loop%]\coord%[1],0
					
				EndIf
			EndIf	
		Next
	EndIf
End Function


;DEMO ==========================================================================================
.MAIN
Graphics 512,256,16,2
SetBuffer(BackBuffer())

;load a imagemap
imagemapCurrent=imagemapLoad("test","test","test.jpg")

While Not KeyDown(1)
	imagemapUpdate()
	Flip()
Wend

imagemapDestroy(imagemapCurrent)

End</textarea><br><br>test.htm<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">&lt;BODY&gt;
&lt;MAP NAME=""&gt;
&lt;!-- #$-:Image Map file created by Map THIS! --&gt;
&lt;!-- #$-:Map THIS! free image map editor by Todd C. Wilson --&gt;
&lt;!-- #$-:Please do not edit lines starting with "#$" --&gt;
&lt;!-- #$VERSION:1.30 --&gt;
&lt;!-- #$DATE:Mon Dec 06 04:34:48 2004 --&gt;
&lt;!-- #$PATH:C:\Program Files\Blitz3D\myprojects\ppf2k4.5\game\fps\client\ui\ --&gt;
&lt;!-- #$GIF:test.jpg --&gt;
&lt;AREA SHAPE=RECT COORDS="281,86,484,109" HREF="#" TARGET="none"&gt;
&lt;AREA SHAPE=RECT COORDS="318,122,486,145" HREF="#" TARGET="none"&gt;
&lt;AREA SHAPE=RECT COORDS="335,156,486,179" HREF="#" TARGET="none"&gt;
&lt;AREA SHAPE=RECT COORDS="362,190,487,213" HREF="#" TARGET="none"&gt;
&lt;/MAP&gt;&lt;/BODY&gt;</textarea><br><br>Html Map file generated with <a href="http://www.abdn.ac.uk/tools/ibmpc/mapthis/mpths131.exe" target="_blank">Map This! 1.3</a> <br><br></td></tr></table><br>
<a name="463777"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >aab</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was going to say(something like) that! <br><br></td></tr></table><br>
<a name="463783"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Check out Chroma's system... I use it, although it's now heavily modified. You can find the link to Chroma's original stuff (I'm hosting it) from this thread:<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=24972" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=24972</a> <br><br></td></tr></table><br>
<a name="463831"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Techlord</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> You will most likely want more than just hotspots. You may desire to flip images on mouseevents, play sound, use scroll bars, fades, etc.  HTML Image Maps can meet the need. I started with Image Map Code above, and I'm developing a more advanced GUI System based on it and JimB's <a href="http://homepage.ntlworld.com/config/imagepacker/index.htm" target="_blank">ImagePacker &amp; SpriteMasterPro</a>.<br><br>GUI Editing was the factor for me. If you dont want to use the traditional Windows-style controls and available GUI Libs (which usually feature an Editor), you will find yourself drawing the menus and organizing buttons manually. There are plenty of FREE Editors to draw images and organize ImageMap hotspots. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
