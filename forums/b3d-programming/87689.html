<!DOCTYPE html><html lang="en" ><head ><title >B3DEXT Animation system Bugged...</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >B3DEXT Animation system Bugged...</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >B3DEXT Animation system Bugged...</a><br><br>
<a name="994365"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlagDKT</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does anyone here animate long/big B3d models files using B3Dext ?<br>I often use B3D files &gt;1000 frames long in my game(cutscene like), enough to notice the bug.<br>it seems that playing files and updateing with EXT_UpdateEntity()  causes constant CPU load increasing..<br>btw standard b3d animate command is ok.<br>EDIT: standard Animate command has the same issue.<br><br>try it by yourself<br><a href="http://www.mediafire.com/?ye0jwexyezy" target="_blank">Download Example</a><br><br>Please could someone help me to fix it?I'm pretty sure B3DEXT author would not answer by email...and this is a major issue..<br><br>thx <br><br></td></tr></table><br>
<a name="994602"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlagDKT</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Inside SubAnims.bb<br><pre class=code>
;------------------------------------------------------------------------------------------------
Function EXT_UpdateSubAnims(ext.EXT_Entity)
;
; this function transfers the animtime from the root entity to all sub anims
;------------------------------------------------------------------------------------------------
	
	Local anim.EXT_SubAnim = ext\subAnim
	Local time# = AnimTime(ext\root)
	Local seq = AnimSeq(ext\root)

	While(anim&lt;&gt;Null)
		SetAnimTime(anim\entity,time,seq)		
		anim = anim\nextSubAnim
	Wend
	
End Function
</pre><br><br>the While/Wend loop is the problem...something wrong with the linked list??<br>uhm I don't think so, because if I rem setanimtime it works correctly...in some way the setanimtime in that case overload the cpu...<br>how could it be?<br>EDIT: it is the Blitz3d animate command that is bugged...CPU load grows with animation frames..<br>bad thing<br><br>anyone? <br><br></td></tr></table><br>
<a name="995613"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Seems like SetAnimTime has to "search" the wanted AnimTime, from start to end, kind of, and the longer the animation is, the longer it may take. This may have something to do with the fact, that any certain animation frame must be calculated, based at least on the last KEYFRAME.<br><br>So how many keyframes are in your animation? More Keyframes probably would help. <br><br></td></tr></table><br>
<a name="995639"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlagDKT</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have much keyframes in the animation...<br>btw<br>I discovered that the whole B3d ANIMATION system is bugged...(all animate commands)<br>if you play an animation with many frames with some skinned meshes in it, CPU usage grows with frames, and it's a serious bug imho..<br>30-60 secs of animation would kill the cpu...<br><br>I just want to know..WHY?and why support doesn't answer?..uhm..<br>This is not a free software... <br><br></td></tr></table><br>
<a name="995712"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlagDKT</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK finally the problem is being investigated in b3dbugs section. <br><br></td></tr></table><br>
<a name="996079"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlagDKT</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> ..and fixed !<br>thx Mark :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
