<!DOCTYPE html><html lang="en" ><head ><title >How to tell Byte size of MP3?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >How to tell Byte size of MP3?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >How to tell Byte size of MP3?</a><br><br>
<a name="1034295"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does anybody have a clue how to resolve whether an mp3 is encoded at 16,24 or maybe even 8 or 32-bit?<br><br>There don't appear to be details in the Audioframe headers for this specifically, except for the frame bitrate and the samplerate.<br>If there's a link between these values, that might help.<br><br>The only other thing I can think of, is that it's somehow part of the CODEC information field ??? <br><br></td></tr></table><br>
<a name="1034504"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob the Great</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You're pretty brave to do this with an .mp3 file. I have a hard enough time trying to figure out the header on a .wav file, and that's uncompressed.<br><br>I did a quick search, and I found the link below, which may be helpful. Not sure if you've seen the same thing or not, but other than this, there's not much I can do to help.<br><br><a href="http://www.mp3-tech.org/programmer/frame_header.html" target="_blank">http://www.mp3-tech.org/programmer/frame_header.html</a> <br><br></td></tr></table><br>
<a name="1034577"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ginger Tea</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> im not clicking on the link to find out, but it looks like the one i posted for darkshadowwing way back when (i dont call him rez as i might type ruz and cause confusion)<br>it gave me a headache and i went cross eyed at it alot<br>especially as each second or so had its own frame info instead of a global header like a wav file <br><br></td></tr></table><br>
<a name="1034711"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >stanrol</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> filesize ? <br><br></td></tr></table><br>
<a name="1035822"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> No, stanrol, thanks, but I'm really after the "Word Size" I suppose is more appropriate. As in, how many bits (and therefore bytes) are required for each piece of information.<br><br>i.e. 8-bit, 16-bit, 24 or 32 etc.<br><br>This is especially important for decoding stereo, since the channels are encoded in a manner like so:<br><br>Channel 1 Word 1<br>Channel 2 Word 1<br>Channel 1 Word 2<br>Channel 2 Word 2<br><br>Thanks for the link, Rob and Noel, yes it is the same (at least, contains the same description).<br>The actual format isn't so bad once you get into it, in fact, I find it more meaningful than OGG, though of course, not as straightforward as WAV but that's to be expected. As the audioframes are all labelled and defined so one can find them through iterating bytes within the file (or bank), but as you could see on that webpage, there doesn't appear to be any reference at all to the word-length.<br><br>I've been able to extract the audioframe data with all its relevant details no problem, but to actually identify the waveform bytes themselves is a stumbling block due to not knowing how many bytes to read in sequence each time.<br><br>The need for so many individual frames each with their own header not only ensures a greater security against corruption, but also allows for more VBR control, a key feature of increased compression with less quality loss. It can seem complex and awkward, but once you separate the frames, it's no different than working with with a numebr of different files, such as, in an archive for example really.<br><br>The webpage itself only refers to the frame headers, it's the actual audio data following each frameheader that I need. The mention to the end of the description:<br><div class="quote"> <br>Frames may also feature an optional CRC checksum. It is 16 bits long and, if it exists, immediately follows the frame header. After the CRC comes the audio data. By re-calculating the CRC and comparing its value to the sored one, you can check if the frame has been altered during transmission of the bitstream. <br></div><br>Does, however introduce a new complexity, that whether the CRC is included or not, will determine whether the audio data starts then or after the next 16 bits.<br><br>Again, I'm left assuming that the WordLength must be keyed into the actual codec reference itself - OR - there are no distinguished words as such, but only a sequence of bits (i.e. Bytes may be represented as nibbles, bytes or doublebytes etc. as and when required) but even so, there must be something to "tell" the decoder what length to use when, surely? <br><br></td></tr></table><br>
<a name="1037503"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Adam Novagen</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try this:<br><br>[a href="http://www.mp3-converter.com/mp3codec/mp3_anatomy.htm"]Anatomy of an MP3 File[/a]<br><br>I basically just typed "mp3 file structure" into Google. Google is your friend, c'mon people... It's not hard... XD <br><br></td></tr></table><br>
<a name="1054521"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, Adam, I looked on that site, and aside from the standard header details, nothing seemed to indicate what I was after.<br>Just the usual fileheader and frameheader info which for some reason doesn;t seem to include the size of the bytes.<br><br>I'm glad you found it so simple,. and commenting that "it's not hard" when I certainly find it so, begs the obvious response, please could you write something for me then, since I'vve pored over many such documents but still find the actial information I'm looking for eludes me.<br><br>The only possible conclusion is that the bytes are always 32-bits, only those with the private or reserved bits in use restrict the data for audio to 16 or 24 bytes or such??? <br><br></td></tr></table><br>
<a name="1054536"></a>

<a name="1054537"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> What is really confusing me is the fact, that for example a MP3 file may be encoded it 128 kbps, with say 44100 Hz. Now, when you divide 128000 trough 44100, you should get the bit-resolution for a single amplitude - no? But this is only about 3 Bits. When you assume 128000 is meant for the (psychoaccousticly and otherwise) packed data and it might be ten times bigger, once extracted and ready to be played at 44.1 kHz, then it really could be 32 Bit.<br><br><font class="tiny">Last edited 2010</font> <br><br></td></tr></table><br>
<a name="1054542"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, jfk, the value given as the bitrate is an average. Each audioframe has a separate bitrate (perhaps some audioframes are less 'noisy' than others etc.) - bloody longwinded way of doing things, but it gives greater precision when compressing, at the expense of taking a bit longer to process.<br><br>Also, this bitrate is shared so each channel will only have half of that.<br><br>The frequency does not necessarily correspond to bitrate, since the audio freq. can be thought of as the sound 'resolution', as an example,. I'l use a graphics analogy.<br><br>Say you have a widescreen, fancy monitor with a resolution of 64000x19200 or so.<br>That's pretty high res, and should give a real fine picture...<br>But if you're looking at an image of a snowfield, a huge chunk might just be white. 255,255,255 pixels which don't matter if there are 100 of them in a row or just 10, the result is the same, just a white blob.<br>This white blob, when encoded, can be streamed at a pretty fast (high) bitrate) since it is unchanging for x pixels.<br>This way, the resolution has little obvious effect on the bitrate and vice versa, and happens throughout the  process, but is dependant on the OVERALL average bitrate due to the compression level chosen.<br><br>Also, remember that 128 Kbits per second is only 192 Bytes per second, not to be confused with 6 kilobytes. <br><br></td></tr></table><br>
<a name="1057742"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hu? 128 kBits only 192 Bytes? Are you serious? I thought its 16 Kilobytes, no? Where 44.1 kHz at 32 Bit takes 192 KB/s - are you mixing these 2? <br><br></td></tr></table><br>
<a name="1057745"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Does anybody have a clue how to resolve whether an mp3 is encoded at 16,24 or maybe even 8 or 32-bit? <br></div><br><br>From my understanding most of the  magic of mp3 compression is based in the frequency domain.<br><br>Put simply, mp3 is not an encoding of amplitude over time and hence the data in an mp3 file has no native bit depth or sample rate to speak of. <br><br></td></tr></table><br>
<a name="1057889"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Also, remember that 128 Kbits per second is only 192 Bytes per second, not to be confused with 6 kilobytes. <br> <br></div><br><div class="quote"> <br>Hu? 128 kBits only 192 Bytes? Are you serious? I thought its 16 Kilobytes, no? Where 44.1 kHz at 32 Bit takes 192 KB/s - are you mixing these 2? <br> <br></div><br>I think you're right. I'm really not sure what I weas on about there... I think I mixed up kilobits and kilobytes somewhere along with the relationship of a Kilobyte being 1024 Bytes or something...<br><br>Anyway, yeah, the frequency (resolution) is a constant, that's why the compression can allow for bitrate to change, if a bunch of the 44100 different values in a second of sound can be represented by fewer bits.<br><br>This measn that the 8, 16 or 32 bit notation for the bytes MUST be linked to the length of sound (a number of milliseconds)  that each byte can address? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
