<!DOCTYPE html><html lang="en" ><head ><title >Best way to walk on a mesh?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Best way to walk on a mesh?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Best way to walk on a mesh?</a><br><br>
<a name="941014"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Swifty</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I`m currently coding the players avatar to walk on an uneven mesh that I am using for terrain, but I`m having problems getting it to "stick" to the ground. It is floating a little above the ground ,and sometimes drops through when going uphill.<br>I am using linepick to detect the mesh below the avatar. Would using entitycollided be better for this?<br><br>What would be the best way to code walking on a mesh? <br><br></td></tr></table><br>
<a name="941018"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Adam Novagen</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hm... Have you examined the "driver.bb" car demo? It's in the "mak" folder in the B3D Samples. It uses four spheres to simulate wheels &amp; utilizes terrain-based ground-oriented physics... You might be able to extract something from it. <br><br></td></tr></table><br>
<a name="941024"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you're using linepick and dropping through the floor, try starting the linepick higher up and project it downwards a bit further - for example start it at the character's waist level and linepick down by just slightly more than the distance from the waist to the feet. <br><br></td></tr></table><br>
<a name="941165"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'd suggest to use Sphere vs polygon collision for the character vs the ground/enviroment. Using both parameters allow ellipsoid collision. Now when you combine this with the linepick (and only apply gravity when no ground was picked) then you can define the ground angle the Chars starts sliding, but prevent sliding on almost flat surfaces, actually quiet natural. Something that is kind of tricky to achieve with Collision only, but very useful for the gameplay.<br><br>At least today I'd do it this way. <br><br></td></tr></table><br>
<a name="946370"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RifRaf</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> what did you come up with swifty?<br><br> im tinkering with a similar issue with a networked game.  I cant seem to get it just right.  The player(toy tank in this case)  aligns to the slopes (most are 45 degree ramps) and when it reaches the top, and crosses to a new flat platform theres a shutter, as well as a shutter when going down slopes.      At the moment, im doing collision checks for the alignment to vector, and linepicking to check if the tank is in the air, applying gravity if it is.  Im not happy with my results so far. <br><br></td></tr></table><br>
<a name="946387"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> @ Rifraf,  add 4 collision pivots at each of the lower corners of the tank and align to vector on both the x and z axis' for smoother alignment.  For an example see the "3d Samples / Mac / driver" demo.<br><br>Stevie <br><br></td></tr></table><br>
<a name="946391"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RifRaf</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I had considered that but the toy tanks arent really that big.  By the<br>time the main pivot crosses the threshhold .. corner pivots would be just <br>about over it as well :)   <br><br>I think its an entityradius versus linepick length issue though, its not really a smooth alignment thing..   Ill post code later if i cant get it to work right. <br><br>Thanks<br><br>edit: Got it sorted.  I was using a linepick to check the ground, I just spread it out on the Z axi and made two linepicks. One just in front of center and just in back of.  Works great now.<br><br><img src="http://www.empowergames.com/tiny_tank.jpg"> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
