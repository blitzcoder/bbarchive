<!DOCTYPE html><html lang="en" ><head ><title >Untouched Image, or not?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Untouched Image, or not?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Untouched Image, or not?</a><br><br>
<a name="743006"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mr.Waterlily</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I need a way to check if an Image has been drawn to, or not, since it압 creation(with CreateImage).<br>The obvious would be to try using a variable that sets as soon as something is drawn to the image. And I have tried that, but it would mean that I need to change so much of my code that I would prefer another way.<br>I thought of simply just checking each pixel and compare it to the original color, but maybe there압 an even better way? <br><br></td></tr></table><br>
<a name="743009"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LAB[au]</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could do that but it will not be a fast check (checking each pixel). You could check only the topleft pixel and have your "drawing" functions always writing to it. <br><br></td></tr></table><br>
<a name="743019"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mr.Waterlily</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Interesting idea, I will certainly consider it!<br>It probably won앖 work though for this projekt I think, since the image is completely visible.<br>Any other ideas? <br><br></td></tr></table><br>
<a name="743038"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LAB[au]</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> How about creating the image slightly bigger than the "visible area" (or what is drawn at the screen), then have your drawing functions writting in this non visible area. <br><br></td></tr></table><br>
<a name="743045"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >b32</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe you could test if the buffer is used? You could then wrap the ImageBuffer() function somewhat like this:<br><pre class=code>
Function wrapped_ImageBuffer(image)
   image_used = true
   return ImageBuffer(image)
End function
</pre> <br><br></td></tr></table><br>
<a name="743103"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mr.Waterlily</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think it압 "to late" for me to convert the whole program to have the viewports slightly larger, since I have so many routines that behave due to the size if the image.<br><br>Test if the buffer is used? Hmmmm.....<br>Can you explain a bit more on how you think?<br>I don앖 think I quite follow... <br><br></td></tr></table><br>
<a name="743117"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >b32</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually, it depends on what you are doing to change the image. Are you using WritePixel, GrabImage, CopyRect or SetBuffer ?<br>The main idea is to wrap the function that you are using to write to the images with another function, that stores the images that are passed to it, to determine what images were modified. <br><br></td></tr></table><br>
<a name="743130"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mr.Waterlily</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I앏l see if I can wrap my actual drawing functions to set the flag when used.<br>The problem for me is that I use several images/buffers to draw to and it압 only one I need to check this for.<br>And the drawing functions can also draw "outside" the image since it can be limited with viewports. And when they draw outside, nothing changes to the image, so to do this I need to check for several coordinates which can be a bit tricky with some commands like Oval, or some custom functions that draw thicker circles. <br><br></td></tr></table><br>
<a name="743635"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >cyberyoyo</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> The solution is to use a variable, any other option would be actually more problems.<br>The time you spent on this thread  you could have probably finished it by now. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
