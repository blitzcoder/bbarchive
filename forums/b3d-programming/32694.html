<!DOCTYPE html><html lang="en" ><head ><title >Tokamak and FPS player</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Tokamak and FPS player</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Tokamak and FPS player</a><br><br>
<a name="350719"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Has anyone set up Tokamak with an FPS player for collision and movement?  Is this an appropriate use, or should I just use conventional FPS player controls, and just have the player exert inertia on Tokamak objects around him? <br><br></td></tr></table><br>
<a name="350723"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I believe the best way would be to use a Tokamak Animated Body. Then, with your own movement code have it move about etc.  I haven't tried it myself, but it should work. the main problem with this is getting the player movement right.  Maybe blitz collisions and tokamak collisions on the player? use blitz collisions to move the player, and use tokamak collisions to affect tokamak rigid bodies. <br><br></td></tr></table><br>
<a name="350728"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'd prefer to use one or the other, if possible.  I'll let you know what I find. <br><br></td></tr></table><br>
<a name="350731"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I loaded up a CShop map, and placed a bunch of boxes, but they go through the floor most of the time.<br><br>Tokamak doesn't actually perform mesh collisions for complex meshes, like maps, does it?  I suddenly get the feeling it is only for boxed-in simulations. <br><br></td></tr></table><br>
<a name="350741"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RetroBooster</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Halo, look a little deeper and you'll see that tokamak supports a lot more then you think, it just takes some thinking and it won't do it all for you, for example how do you expect tokamak to handle complex geometry when you haven't told it what the complex geometry is? Tok will handle it just fine, you just have to pass it to it. <br><br></td></tr></table><br>
<a name="350749"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IPete2</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Halo,<br><br>Find the example of a static mesh and use that (its one of the Sweenie examples <br><br>- look for the example with these lines of code: <br><br>Terrain = loadmesh("filename.b3d")<br>MakeTokCollider(Terrain)<br><br>Its in the Sweenie Tokamak car demo.<br><br>it is very straight forward to set up complex models and as long as you don't tweak the fps parameters too much the collision seem to work okay for me.<br><br>IPete2. <br><br></td></tr></table><br>
<a name="350750"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> The key is to get off your fat arse and learn it.<br>I've done some awesome UT2004 style vehicle physics and plan on getting tokamak to do the player as well. You can just apply velocities if you want and get any kinda feel you like.<br><br>It's a robust capable physics engine better than anything else I've used. <br><br></td></tr></table><br>
<a name="350771"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've got it running a racetrack from Racer or Netkar or something - it's a large mesh and it works just fine.<br><br>I've modified the car demo example quite a lot, aiming for a more realistic simulation. The suspension is now more complex, allowing the wheels to bounce around quite nicely.<br><br>If only I could get the car to oversteer as I wanted it would be great. Currently I can get either oversteer and poor straight line stability or understeer with straight line stabilty, but no happy compromise between the two.<br><br>I'll let you know if I get it any better. <br><br></td></tr></table><br>
<a name="350844"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Pete.  No thanks to all these other useless/ignorant/stupid-ass answers.  Actually, I guess Rob is the only stupid-ass. <br><br></td></tr></table><br>
<a name="350848"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >aCiD2</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> terrain is just tokamaks inaccurate naming conventions. A terrain is simply a complex mesh as you want, iirc? i may be wrong however - im good at that ;) <br><br></td></tr></table><br>
<a name="350854"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, here's another ignorant and useless (though apparently not stupid-ass) piece of info...<br><br>I've got the oversteer under control now, and you can slide the car around quite well. I'm using a sort of variable inertia damping, dep. upon speed and steering input, seeing as there's no tyre model and I don't fancy learning how to use the pacejka system.<br><br>Hopefully at some point I'll get around to posting some of this stuff up where people can take a look at it. Perhaps... <br><br></td></tr></table><br>
<a name="350855"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, well spheres collide with the map, but if I use anything for gravity beyond a really floaty, low number, they slowly sink through the floor.<br><br>Boxes get stopped momentarily by the floor, but then just jiggle around and sink through. <br><br></td></tr></table><br>
<a name="350867"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sweenie</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Hopefully at some point I'll get around to posting some of this stuff up where people can take a look at it. Perhaps... <br> <br></div><br>Please do, please do!... :)<br><br>halo:<br>What values are you using in your simulation?<br>Such as Gravity, mass of body, inertiatensor(doublecheck this one as a faulty one can cause these behaviours), dimensions...<br>And what are your timestep values? <br><br></td></tr></table><br>
<a name="350879"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Gravity is 10.<br><br>I have used everything for timstep.<br><br>My masses are all 2.<br><br>My boxes are 100x100x100 and my sphere is 128 wide.<br><br>It probably is the interia tensor.  What values would you recommend for boxes and shere of this size? <br><br></td></tr></table><br>
<a name="350931"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sweenie</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> For the boxes, TOKRB_SetBoxInertiaTensor BoxRB,100,100,100,2<br>For the sphere, TOKRB_SetSphereInertiaTensor SphereRB,128,2<br>Bare in mind that when using a gravity of 9.8 the box would actually be 1 million cubicmeters in size and with a mass of 2, have a weight of a cardboard box or something.<br><br>Hmm, It just occured to me that I haven't wrapped the function to set the InertiaTensor "manually", that is, by providing a Vector or a Matrix.<br>(though I have no clue how to calculate them) ;) <br><br></td></tr></table><br>
<a name="351001"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try setting the second parameter of TOKSIM_Advance to 2 or 3. Your balls/boxes shouldn't go through the ground. <br><br></td></tr></table><br>
<a name="351039"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey halo, if you got your head out of the sand you'd get a lot of info from www.playerfactory.co.uk forum. But then you're an ass. <br><br></td></tr></table><br>
<a name="351077"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> You go, girl. <br><br></td></tr></table><br>
<a name="351080"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sha-nay-nay <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
