<!DOCTYPE html><html lang="en" ><head ><title >Chain physics!</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Chain physics!</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Chain physics!</a><br><br>
<a name="221925"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow.  I never thought this would work.  Just follow the instructions on the screen and move and dangle the chain.  Making a body out of these would be no big deal.  The last step would be angle constraints.<br><br>No source yet, until I figure out what I'm going to do with this:<br><br><a href="http://www.leadwerks.com/storage/physics.zip" target="_blank">http://www.leadwerks.com/storage/physics.zip</a> <br><br></td></tr></table><br>
<a name="221927"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Peer</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looking greate! <br><br></td></tr></table><br>
<a name="221943"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SSS</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> very cool :D <br><br></td></tr></table><br>
<a name="222086"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EOF</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sweet. I like the way you can wrap the chained object around the pipe.<br><div class="quote"> Making a body out of these would be no big deal <br></div>Halo, by this do you mean a kind of skeleton framework which matches the objects shape?<br>Have you ever seen the Actor demo?<br>Would be great to have a similar physics demo in Blitz.<br><br>www.vividimage.co.uk [Actor] <br><br></td></tr></table><br>
<a name="223025"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sunteam Software</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very nice, I'm going to need to do the same sort of algo for our rpg we are doing. If you'd like to share your code I'd be very happy to credit you (mike@...). <br><br></td></tr></table><br>
<a name="223221"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zenith</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Haha that's pimped out! <br><br></td></tr></table><br>
<a name="223231"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I resolved some problems with bouncing/sliding, and the physics appear to be perfect.  Going to add two features, and maybe release it as commercial physics code for Blitz.<br><br>First, I need to add arbitrary shapes made up of spheres.  I made these out of chains, but I think a new routine should be written for handling these separately.  Also note that chains can be connected in any kind of branching fashion.<br><br>I personally can't wait to see it when you can bump into a length of tubing suspended from the ceiling at both ends, and watch it sway back and forth.<br><br>Second, joint constraints need to be added, so you can do those cool ragdoll physics.  This would be an incredible challenge before I wrote this, but now that I have it, only a small bit of code needs to be changed to handle this. <br><br></td></tr></table><br>
<a name="223233"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Not Available</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Halo,<br><br>I've posted this, however looking at what you're doing you might be able to help me...<br><br>In the old 8bit Thrust you'll remember that Orb that you pick up and how it exerted it's force on your ship. It's essentially 1 point mass connected to another by an inelastic rod. I imagine it's pretty much the same thing that you're using to do your chain...<br><br>I'm wondering how one would go about simulating this given the following variables: <br><br>General: <br>g# gravity constant <br><br>Your ship: <br>X# x position <br>Y# y position <br>XV# x velocity <br>YV# y velocity <br>M# mass <br><br>The orb: <br>oX# x position <br>oY# y position <br>oXV# x velocity <br>oYV# y velocity <br>oM# mass <br><br>Rope/Bar/Connecting thing that connects ship to orb: <br>d# length <br>rM# rope mass (if you want to get pedantic, though probably not really relevant) <br><br>It's like a pendulum attached to an asteroids ship, swinging around you when you thrust around the place.<br><br>Halo - if you could help me with this you'd be my hero (or not-- whatever you prefer) :)<br><br>-R <br><br></td></tr></table><br>
<a name="223254"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anthony Flack</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> It rocks. <br><br></td></tr></table><br>
<a name="223264"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I never played that game.  I really have no idea what you're asking me. <br><br></td></tr></table><br>
<a name="223267"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Not Available</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Halo,<br><br>Imagine the triangle ship in Asteroids where you can rotate and thrust, now picture pendulum attached to the ship. A line from the centre of the little triangle ship connecting it to a circle. The circle has mass a little heavier than the ship and the pendulum connected to the middle of the ship can rotate 360 degrees with freedom. (this is all 2D)<br><br>So when you thrust, the pendulum exerts it's force on the ship and swings around. <br><br>-SIMPLE DIAGRAM-<br><br>1 At rest in space.<br><br>    ^  Ship<br>    |  Connecting Rod<br>    *  Heavy Ball, orb or whatever.<br><br>2 Turn right and thrust, ball swings to left (and pulls ship down diagonally as it swings)<br><br>     &gt;    <br>    /<br>   *<br><br>3 Keep thrusting right, ball is pulled up behind you.<br><br>    *-&gt;<br>  <br><br>Does that make it clearer for you?<br><br>If not I can upload a diagram.<br><br>-R <br><br></td></tr></table><br>
<a name="223297"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dock</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> This would be ideal for plaited hair physics, for 3D characters. ^_^ Nice work Halo! <br><br></td></tr></table><br>
<a name="223325"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks great! <br><br></td></tr></table><br>
<a name="223500"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you can, more power to you. <br><br></td></tr></table><br>
<a name="223672"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Not Available</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Halo,<br><br>Thanks for your replies, however it looks like I'm getting the answer from elsewhere - not to waste your time.<br><br>Thanks again,<br>-R <br><br></td></tr></table><br>
<a name="223687"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nazca</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> really cool. Nice job! <br><br></td></tr></table><br>
<a name="225467"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DarkEagle</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> where did you learn this? url or isbn please? <br><br></td></tr></table><br>
<a name="225722"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zenith</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> He might have well written it himself, but you're best bet on learning it easily would be at: <a href="http://freespace.virgin.net/hugo.elias/models/m_main.htm" target="_blank">http://freespace.virgin.net/hugo.elias/models/m_main.htm</a><br><br>Under Strings, :) (BASIC code is used, too) Ofcoarse, these are 2d strings, but you would just have to apply more to it. <br><br></td></tr></table><br>
<a name="225837"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DarkEagle</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
Graphics 800,600,0,2
SetBuffer BackBuffer()

Dim String1#(31,1)
Dim String2#(31,1)
Dim Velocity#(31,1)

Const X = 0
Const Y = 1

Const normal_length# = 11
Const damping# = 0.97

For i = 0 To 31
	String1(i,X) = 400+i*3
	String1(i,Y) = i*11
Next

While Not KeyHit(1)
Cls

	For i = 0 To 30
		dx1# = GetDiff(i-1,i,X)
		dy1# = GetDiff(i-1,i,Y)
		mag1# = Length(dx1,dy1)
		ext1# = mag1# - normal_length#
	
		dx2# = GetDiff(i,i+1,X)
		dy2# = GetDiff(i,i+1,Y)
		mag2# = Length(dx2,dy2)
		ext2# = mag2# - normal_length#
	
		xvel# = (dx1 / (mag1 * ext1)) + (dx2 / (mag2 * ext2))
		yvel# = (dy1 / (mag1 * ext1)) + (dy2 / (mag2 * ext2)) + 10	;gravity
		
		Velocity#(i,X) = Velocity#(i,X) * damping# + (xvel# * 0.001)
		Velocity#(i,Y) = Velocity#(i,Y) * damping# + (yvel# * 0.001)
		
		String2(i,X) = String1(i,X) + Velocity(i,X)
		String2(i,Y) = String1(i,Y) + Velocity(i,Y)
	Next
	
	String2(0,X) = 400
	String2(0,Y) = 0
	
	For i = 1 To 31		
		String1(i,X) = String2(i,X)
		String1(i,Y) = String2(i,Y)
		Oval String1(i,X)-5,String1(i,Y)-5,10,10
		Line String1(i,X),String1(i,Y),String1(i-1,X),String1(i-1,Y)
	Next

	If KeyHit(57)
		For i = 0 To 31
			DebugLog i
			DebugLog "X: " + Velocity(i,X)
			DebugLog "Y: " + Velocity(i,Y)
			DebugLog ""
		Next
	End If

Flip
Wend


Function GetDiff#(i1,i2,o)

If (i1&lt;0) Or (i2&lt;0) Or (i1&gt;30) Or (i2&gt;30)
	Return 0
Else
	Return Float(String1(i1,o) - String1(i2,o))
End If

End Function


Function Length#(dx#,dy#)

l# = Sqr(dx^2 + dy^2)

Return l#

End Function
</pre><br><br>i tried... and failed.<br><br>help, anybody? the problem is with the dx2 etc part, ie the next point down... <br><br></td></tr></table><br>
<a name="225881"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great link Zenith.  About to lose my mind over this.  I hope it was just the order of how I was summing everything up. <br><br></td></tr></table><br>
<a name="227520"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zenith</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's my 2d implemention of it that i wrote ages ago with types - <a href="http://zgaming.hypermart.net/bb_src/rope.bb" target="_blank">http://zgaming.hypermart.net/bb_src/rope.bb</a><br><br>No comments on the implemention it was just a test-bed, sorry otherwise. <br><br></td></tr></table><br>
<a name="229788"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Lane</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very very cool.. :&gt;) <br><br></td></tr></table><br>
<a name="230059"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> You know I posted the source in the Advanved3D forum, right? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
