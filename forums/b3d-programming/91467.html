<!DOCTYPE html><html lang="en" ><head ><title >bank to texture !</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >bank to texture !</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >bank to texture !</a><br><br>
<a name="1040703"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rickavzstx</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> hello,<br><br>I'm looking for a way to load an image into a bank by piece, example: for a 100 KB,  in 10 times, 10 kb each VBL. and then when finished  transfer that into a texture and use it. which would it?<br><br>thank you, for your help. <br><br></td></tr></table><br>
<a name="1040705"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Standard blitz commands for loading images &amp; textures will load the image or texture in its entirety.<br><br>If you were to read the file directly with readfile() or openfile() it would still provide access to the entire file upon opening.<br><br>Without knowing what the effect is you're trying to achieve it's difficult to know what the best piece of advice is..a file that is 100kb will load into a texture or image very quickly. <br><br></td></tr></table><br>
<a name="1040724"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Serpent</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> If it is necessary to store the file in memory (a bank, etc.), possibly from transferring data over the network or something, then later there are two methods that come to mind that you can use to 'convert' the bank into a texture.<br>1 - Save the data to a file, then load it with the standard commands.  This is very fast (even though it involves writing and loading a file), and will work for whatever type of image you have in your bank.<br>2 - If the data in the bank is just ARGB values for the pixels (i.e. a straight bitmap) then use RTLMoveMemory commands or etc to copy the data into a texture.  This would be annoying due to issues like the rounding up of image widths, etc.<br><br>Option 1 is probably best, and most certainly the easiest. <br><br></td></tr></table><br>
<a name="1042540"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> You may also use the copyrect command to copy from an Imagebuffer to a texturebuffer. But you should know: whenever you are altering a texture, the system will have to re-upload the entire texture. Therefor the process is rather slow, even if you alter only a single pixel.<br><br>We have made some speed tests, some time ago, maybe you'll find it in the archives. If you are using the Texture flag 256 then certain operations (eg. maybe copyrect from backbuffer to texturebuffer) is a lot faster.<br><br>Editing a Texture, then save it and load it using Loadtexture usually doesn't work because DirectX "thinks" it has already loaded the Texture and will then use the cached texture. <br><br>TO use a Bank doesn't make much sense because as soon as you want to copy the bank to the texture, there will be this texture-upload bottleneck. Also if you can manage to vector-bend the address of a texture to a bank, so you can directly POKE to the texture, there will still be this bottleneck.<br><br>Best method without any extensions is in my opinion: Use Texture Flag 256, then use Copyrect from Backbuffer to Texturebuffer. (Always keep an actual copy of the texture as an image, use DrawBlock to draw it to the backbuffer and do the editing on the backbuffer, using writepixelfast or so.) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
