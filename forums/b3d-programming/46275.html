<!DOCTYPE html><html lang="en" ><head ><title >Speed of CreatePivot and FreeEntity</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Speed of CreatePivot and FreeEntity</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Speed of CreatePivot and FreeEntity</a><br><br>
<a name="514677"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello again Friends.<br><br>I am using Pivots a lot of times in my game. In every function i need i create a pivote, i use it, and then i free it. I can say i create and destroy over 50 pivots every frame (50 frames per second in my game).<br><br>Can this become a slowdown problem or can i continue using it without worry?<br><br>thanks a lot. Cheers. <br><br></td></tr></table><br>
<a name="514717"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RGR</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello KuRiX.<br>Put this into your code and count each time you call the Function<br>If its relevant you could add PositionEntity... and things you are doing in your code to make it a bit more specific and then translate your website...<br><pre class=code>time=time+CreateAndKill(200)

Type piv
	Field pivot
End Type

Function CreateAndKill(Num=200)
	m=MilliSecs()
	For i=1 To Num
		p.piv=New piv
		p\pivot=CreatePivot()
	Next
	
	For p.piv=Each piv
		FreeEntity p\pivot
	Next
	Delete Each piv
	Return MilliSecs()-m
End Function</pre><br>Result here: 14 Million Pivots cost 10 seconds and my framerate dropped from 283 down to 280 FPS<br>CreateAndKill 1000 Pivots each Frame lets the Rate drop down to 168.<br>Means: 50 to 100 Pivots each frame is not measurable with Millisecs() because its always 0 <br><br></td></tr></table><br>
<a name="514817"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well thanks!. Of course in each function i rotate the pivot, position it in different places, etc...<br><br>My question was if it is worthy to make a Global Pivot, then use it where i need, instead of creating and deleting in every function.<br><br>For what you say creating and kill 1000 pivots could be a problem. I will count how much pivots i create every time. Thanks Again! <br><br></td></tr></table><br>
<a name="514873"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ricky Smith</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> A global pivot is a much better idea ! <br><br></td></tr></table><br>
<a name="515141"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RGR</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Can this become a slowdown problem or can i continue using it without worry? <br></div><br>This was your question and not that one:<br><br><div class="quote"> My question was if it is worthy to make a Global Pivot <br></div><br>Some of you people are really funny...<br>Your posting gives the impression to me you MUST use at least 50 pivots or am I the only one who cannot read? :-P<br>Btw: As Smiff stated <div class="quote"> A global pivot is a much better idea ! <br></div><br>No further comment needed ... ;-) <br><br></td></tr></table><br>
<a name="515209"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danny</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> he might only need one or two at a time... <br><br></td></tr></table><br>
<a name="515246"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, i have changed all my code to ONE global pivot. I have needed to change lot of things, cause i used pivots in lof of functions.<br><br>But i must say i have gained 50ms of execution per second.<br><br>So, we all know now the answer!<br><br>P.D: RagR, i don't understand your last post. <br><br></td></tr></table><br>
<a name="515290"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RGR</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> But i must say i have gained 50ms of execution per second. <br></div>That's better than 50ms per Frame as long as you don't gain Framerates lower than 1.0... ;-)<br><div class="quote"> So, we all know now the answer! <br></div>NOW? We all knew the obvious answer before... nobody else had the idea to Create and Free 1000s of Pivots each second...<br><div class="quote"> P.D: RagR, i don't understand your last post. <br></div>One day you will die and still not understand this very important last post... because this is not the place for a German to explain a Spaniard his exegesis of the english language... LOL <br><br></td></tr></table><br>
<a name="515414"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> How funny is for you insulting me instead of helping me?<br><br>It is not so obvious. <br><br>For example, with Global Pivot:<br><br>positionentity globalpivot,x,y,z<br>moventity globalpivot,0,1,0<br>Functionthatusesthepivot()<br>positionentity globalpivot,x,y,z<br>moventity globalpivot,0,1,0<br>Functionthatusesthepivotsecondversion()<br><br>Without global pivot:<br><br>localpivot = createpivot()<br>positionentity localpivot ,x,y,z<br>moventity localpivot ,0,1,0<br>Functionthatusesthepivot()<br>Functionthatusesthepivotsecondversion()<br>freeentity localpivot <br><br>In the second case you don't need to care about the uses of the functionthatusespivots makes with the pivot, because it will use its own pivot.<br><br>Cheers! <br><br></td></tr></table><br>
<a name="515457"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RGR</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'd say since you can only use one of the functions at a time you do not need a local pivot in a second function at all.<br>Because each time you call one of those functions the pivot (jumps) gets positioned at his new place anyway and as long as your Function does not refer to the global Pivot used in other Functions and the global Pivot gets not parented to anything there's only one needed.<br>But I exclude that because you were speaking of 50 Pivots and Functions. In that case I wonder how you would be able to track that all and keep the proper grasp if they were additionally referring each other ...<br><br>And KuRiX... I never had in mind to insult you at all (that's what the emoticons should express ;-)<br>Actually I only bite when I feel I got bitten...<br>And I only write when I am sure its a help or if the posting is too dumb and my bad mood makes me to react (as several others here with loveliness react on my writings :-D<br>But you're right - I found it funny indeed that you thought you had made completely clear in your first posting what you meant while I still think the opposite is true ... LOL<br><br>Its all a matter of interpretation:<div class="quote"> and then translate your website... <br></div>of my first answer above could be read as rude...<br>but also ...<br>"there was someone interested in my website but unfortunately didn't understand the language"<br>I let it open to you what you read in it... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
