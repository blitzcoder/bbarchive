<!DOCTYPE html><html lang="en" ><head ><title >Feature Request: B3D Text Index Control [Images!!]</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Feature Request: B3D Text Index Control [Images!!]</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Feature Request: B3D Text Index Control [Images!!]</a><br><br>
<a name="451605"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sledge</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I know this isn't the best time for a feature request but I think it could be pretty useful so I'll mention it. It basically follows on from my recent appeal (http://www.blitzbasic.com/Community/posts.php?topic=40154) in which I mentioned that I was having to set up a particular effect manually. The effect in question was a fairly neat vertex light that obliterates the lightmap upon the surface it affects. Here is an illustration of it in use...<br><br>Here is the scene with the vertex light swithed off, meaning it is completely dark in the lightmapped corridor:<br><img src="http://www.gamefreax.fsnet.co.uk/Downloads/01_LmapUnderneathOFF.png"><br><br>Switch the light on and...<br><img src="http://www.gamefreax.fsnet.co.uk/Downloads/02_LmapUnderneathON.png"><br>...the lightmap is negated. This is done by loading the lightmap into index zero and setting its blend mode to Add, then loading the regular model texture into index one (default blend mode). The drawback is that Blitz (apparently) only lets you retexture the model with a single texture - which might be fine for a simple test (in the screenshots the walls, ceiling, floor and reflection are all separate models, which is why there's more than one texture) but is not representative of normal use at all.<br><br>What I'd like, therefore, is the ablity to switch the indexes that a b3d's textures use somehow. As far as I can see (and please correct me if I've missed something) it's the only way we're going to get the best out of that ADD blend mode.<br><br>I have, of couse, tried a few different ways of getting a similar result. If one just loads the model and leaves the textures as-is (default indexes, default blend modes), we get the following...<br>Vertex light off:<br><img src="http://www.gamefreax.fsnet.co.uk/Downloads/03_LmapOnTopOFF.png"><br><br>And switched on...<br><img src="http://www.gamefreax.fsnet.co.uk/Downloads/04_LmapOnTopON.png"><br>What we get in this case is the <b>result</b> of the lightmapping illuminated, which basically means that if a texture has already been darkened then the vertex light will not be able to restore it. In other words, it shows you a now-clearly-visible shadow! (The reflection is not lightmapped, by the way, hence it shows up fine.)<br><br>The obvious thing to try was to at least set the lightmap's blend mode to ADD, that way we can apply it to a model with multiple textures. Unfortunately, simply reloading the lightmap and setting it to ADD without putting it below the regular textures leads to this...<br><br><img src="http://www.gamefreax.fsnet.co.uk/Downloads/05_LmapOnTopOFFAdd.png"><br>Now we lose the regular textures completely unless we switch on the vertex light, resulting in...<br><br><img src="http://www.gamefreax.fsnet.co.uk/Downloads/06_LmapOnTopONAdd.png"><br>As you can see, the textures begin to fade where the light range runs out. "Ack!" all round on that one, then.<br><br>Anyway, I've spent a few days running through texture blend modes and whatnot and, unless I'm missing something, it seems like the ability to manipulate the texture indexes of a loaded object would be pretty handy. I'm sure those more familiar with the B3D file format could probably hack the changes, but I'm thinking that a BASIC way to do this (ie via a Blitz command) would be worthwhile. Am I crazy? <br><br></td></tr></table><br>
<a name="451611"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> What is the exact problem?<br>That textures fade out where the model disappears is normal and the way it has to be ( a higher level of ambient light might help here ).<br>The only other thing is to make the whole mesh not responding to light with setting it to fullbright.<br><br>For lightmap: Try Blendmode 5<br><br>Multiply ( mode 2 ) can only darken<br>Add ( mode 3 ) can only brighten up<br>MultiplyX2 ( mode 5 ) can both, with 128,128,128 as neutral <br><br></td></tr></table><br>
<a name="451613"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sledge</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br> What is the exact problem? <br> <br></div><br><br>The vertex light does not illuminate light/shadow-mapped textures unless you make sure the lightmap occupies index zero with the regular textures above. You can't stick yer lightmap on index zero without ruining a model that uses more than one regular texture. That's the problem - at default, lights don't negate shadow maps, which looks horribly wrong.<br><br><div class="quote"> <br>For lightmap: Try Blendmode 5<br> <br></div><br>Did that, but with the same lightmap -- couldn't find the docs describing Mode 5 (cheers!) so it's possible that might help if I tweak it a bit. I fear it won't provide a fix though, as it's not what's being done but <i>the order</i> it's being done in that is problematic. <br><br></td></tr></table><br>
<a name="451619"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Never tested if this might help ... but did you try the VertexColor EntityFX? ( might be that this idea is totally useless ... I never really used VertexLightning because HardwareLights were"too slow" ) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
