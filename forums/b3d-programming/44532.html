<!DOCTYPE html><html lang="en" ><head ><title >file formats</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >file formats</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >file formats</a><br><br>
<a name="495828"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mikeyj21</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi guys.. <br>Just a quick question about gfx file formats, if I may?<br><br>Whilst considering which format to use for my textures,<br>I did some experimentation to find out which file format to use.<br>With a 1024*1024 plain white texture (16 bit), the four formats I tried gave the following results:<br>.bmp 2,049kb<br>.tga 2,049kb<br>.jpg    78kb<br>.png    22kb<br><br>With the same size and bitdepth, but with a very colorful picture, I got:<br>.bmp 2,049kb<br>.tga 2,049kb<br>.jpg   986kb<br>.png 1,800kb<br><br>Now, obviously the .jpg and .png are both compressed file formats..<br>I realise that the gfx card stores textures in it's texture memory, but are these stored in compressed or uncompressed form? If they are stored in compressed form, is there a performance penalty from using compressed textures?<br><br>For example:<br>In the case of my game, one of my textures is 495kb as a .jpg, rather than the 2,049kb as a .bmp. <br>If the gfx card is storing these uncompressed, then the only advantage from using compressed file formats is disk space. However, if they are stored on the gfx card in compressed form, then there must surely be a speed hit for decompression in exchange for the 'extra' texture space?<br><br>Many thanks! <br><br></td></tr></table><br>
<a name="495846"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> you'll find that (for example) a 512x512 texture will take up approximately 1mb of video memory, regardless of the file format/compression used.<br><br>The only advantage of using PNG over BMP, is the amount of disk space it takes up. <br><br></td></tr></table><br>
<a name="495849"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mikeyj21</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah, thanks!<br>So, textures ARE stored uncompressed on the card.<br>At least it makes choosing the filetype only a case of which size and bitdepth to use! (Am I right in assuming that an 8-bit texture takes up about 1/2 the video memory that a 16-bit texture does... it certainly takes up half the disk-space) <br><br></td></tr></table><br>
<a name="495864"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ErikT</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you're running in 32-bit then all textures will be stored in memory as 32-bit textures. In other words there's nothing to gain from converting your textures to 8-bit or 16-bit. <br><br></td></tr></table><br>
<a name="495868"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mikeyj21</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Really? The guy who did the gfx for Medal Of Honor says (I quote from his book):<br>'We made the majority of our textures 4 bit (16 colors). This actually helped give the game it's unique look, and at the same time, nearly tripled the amount of textures we could have in the game...'<br><br>Have I misunderstood either you or him...? <br>Knowing me, probably! <br><br></td></tr></table><br>
<a name="495876"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ErikT</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> No, that's true for Medal of Honor I bet. But blitz3D stores the textures in memory according to screen bitdepth. I think it's a DirectX thing, not sure. Maybe someone who's got a better clue can answer that one. <br><br></td></tr></table><br>
<a name="495879"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shambler</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> They were probably talking about .dds textures which Blitz doesn't support.<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=43695" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=43695</a> <br><br></td></tr></table><br>
<a name="495886"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mikeyj21</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep.. you guys are right!<br>After your posts, I did a bit of research and found that there are two blitz commands I'd missed... TotalVidMem and AvailVidMem.<br>So, armed with these, I did a couple of quick tests (I tried the textures saved in 8,16,24 and 32 bit formats...) and yes, I can indeed verify that textures are stored in the screen bitdepth.<br>Seems like a huge waste of video memory to me! (But, I don't fully understand all the issues, obviously...)<br><br>Unfortunately, I get very wierd artifacting with a 16-bit bitdepth (ever since I went to a Geforce4) :(<br>So, I am stuck with 32 bits... which means the amount of textures I can cram in is very limited (I hate using small textures on big models... the blurriness looks foul!).<br><br>Do you guys have any idea what sort of performance penalty you pay if you exceed the available video memory... I assume textures have to be copied across from sytems memory across the AGP bus? And that would be bad?<br><br>Thanks for your help! <br><br></td></tr></table><br>
<a name="495888"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mikeyj21</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just thinking more about this... If I want to use 1024*1024 textures, then (given about 6meg for the front and back buffers with 1024*768*32 resolution)... that leaves room for about 15 textures with a 64meg gfx card!<br><br>Surely I must have misunderstood something along the way... this can't be right?<br><br>Or do games quite happily exceed thier video mem without penalty?<br><br>I'm now more confused than ever!<br><br>Cheers! <br><br></td></tr></table><br>
<a name="495892"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> thing is most games dont use 1024x1024 textures.  Even halving that to a reasonably high res 512x512 actually fourths the mem. Also, figuring modern cards are 128mb or 256mb, games dont usually exceed their limits. <br><br></td></tr></table><br>
<a name="495902"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not so long ago everybody used 256*256 or 128*128 textures. Using 1024*1024 textures is still kind of a waste of VRam IMHO, unless you use it for things like Lightmaps, or SingleSurface mapping of larger objects. <br><br></td></tr></table><br>
<a name="495998"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Caff</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I believe there is texture compression built in to DirectX in the form of DXTC, which if implemented in Blitz3d would allow far more textures in a scene. I think the compression rate averages something like 1/4 of the original bitmap size.<br><br>If this, and a third set of UV co-ordinates, were added to the Blitz3d file format, it would allow for some very high quality scenes, as you could use very large lightmaps and have another layer for detail (e.g. dirt maps). <br><br>So - base texture on UV 0, lightmap on UV 1, dirt/decals on UV 2.<br><br>Of course I might be totally wrong. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
