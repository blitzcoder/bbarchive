<!DOCTYPE html><html lang="en" ><head ><title >analog pads</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >analog pads</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >analog pads</a><br><br>
<a name="825546"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi ive never had to do anything with analog pads before and im having a little trouble with set things up.<br><br>Ok ive noticed between different pads you get different values from the analog sticks some joypads give you much higher numbers and some give you the normal -1 to 1 range. its there a way to make all joypads behave the same? plus whats the best was of flipping the left and right, at the moment im just take the minus value and times it by its self to make it a plus. <br><br>Also the dead zone on my pad seams to be quite good but ive heard that on some pads you still get joypads not centring quite right and give small values in random directions. is it worth puting in limits like, if steerright = &lt; 0 then steerright = 0? <br><br></td></tr></table><br>
<a name="825552"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> The best way would be to have a config screen where you ask people to circle their analog stick to all extents. Store the min and max values and then you can divide the current value to get the relative position. Then when they've circled it, ask them to leave it centered for a second or two and you can see if it varies at all. It's probably best to have a fairly generous "dead zone".<br><br>Much the same thing that the drivers which come with analog pads do. It's a pain, but on a PC, I don't think you can rely on anything but manual configuration. <br><br></td></tr></table><br>
<a name="825557"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Something like this is what you're after ... <br><br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=1592" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=1592</a><br><br>I may be mistaken but I think you can also set the deadspot which is essential.  I've adapted the theory  for my own game and it works very well for all analogue joypads.<br><br>Stevie <br><br></td></tr></table><br>
<a name="825564"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks guys! <br><br></td></tr></table><br>
<a name="825568"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> whats the maths for converting the value given from the joyx or joyy eg a -1 to a percentage of say a 40 degree angle. <br><br>or to explain it another way, if i have a car that the wheels turn 40 degrees at full steer and I want the left joystick to give me max steer when moved to extreme left or right, do i just devide the joy output by 40 because if been get some odd results? <br><br></td></tr></table><br>
<a name="825579"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> If JoyX gives you a value between -1 and 1 then it's as simple as ...<br><br>MaxSteer = 40.0<br>SteerAngle# = Joyx() * MaxSteer#<br><br>You'd be far better interpolating steerangle between a high and low angle based on the vehicle speed.  This means that it's not a nightmare to control at high speeds.  This is the kinda thing I use ...<br><br><pre class=code>
Turn# = joyx()
MinSteer# = 10.0
MaxSteer# = 40.0
SpeedFactor# = 1.0 - ( Speed / MaxSpeed )
SteerAngle# = Turn * ( MinSteer + ( MaxSteer - MinSteer ) * SpeedFactor )
</pre><br><br>This means that at full speed you can only turn a max of 10 degrees.<br><br>Stevie <br><br></td></tr></table><br>
<a name="825630"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks stevie that is just what i need to tone down the steering its far to easy to over steer at the moment <br><br></td></tr></table><br>
<a name="825686"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pongo</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I like that way of adjusting steering rates based on speed.<br><br>Also, I've been trying to re-do the joystick code a bit, and some of the new features include deadzone setup, and also non-linear curves for the sticks.<br><br>The non-linear stuff works great when you want small delicate movements of the sticks, but still are able to get the full range when you push to the extremes. <br><br></td></tr></table><br>
<a name="825716"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> The MaxSpeed could be quite tough to calculate - well it is for me using verlet, based on acceleration, friction &amp; drag etc...   I had to set up some form of wind tunnel to check what speeds a vehicle can achieve and even then it's best to set this MaxSpeed to be a good bit lower.  So even if the vehicle can achieve 9 units per second you should set the max to say 6 and limit the speed in the speedfactor calculation ..<br><br>SpeedFactor# = 1.0 - ( LIMIT( Speed , 0, MaxSpeed ) / MaxSpeed )<br><br>I was just thinking that I have to set deadzones at around .2 to stop my loose analogues moving on their own but that means the minimum turn is .2 x [whatever].  Really, I need to do something like ...<br><br><pre class=code>
DeadZone# = .2
Turn# = joyx()
if abs( Turn ) &lt;= DeadZone 
   Turn = 0.0
else
   Turn = ( Turn - sgn(Turn) * DeadZone ) / ( 1.0 - DeadZone )
Endif
</pre><br><br>So that my possible turn will be converted from .2 --- &gt; 1.0  to 0.0 ----&gt; 1.0.<br><br>I'll need to try and see if it makes much of a difference.<br><br>@ Pongo - We need to talk ;) <br><br></td></tr></table><br>
<a name="825892"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pongo</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Stevie - I'll try to send you an email tonight.<br><br>Also, I think the non-linear steering would help quite a bit with the deadzone issue. It may work well enough that the deadzone will no longer be needed, or can at least be quite small. (From memory, I think I usually use .15 for my deadzones, but I think that can change now) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
