<!DOCTYPE html><html lang="en" ><head ><title >Why my FPS is rating is SO low???</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Why my FPS is rating is SO low???</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Why my FPS is rating is SO low???</a><br><br>
<a name="250678"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gameproducer</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> <img src="http://www.loota.com/morphecy/lowfps.jpg"><br><br>#1 = 50 bots (1000 polys .b3d models each - not seen on screen)<br>#2 = current polycount (and hey... only 10MB out of 64MB videomem used, doesn't show on screen)<br>#3 = main character <br><br></td></tr></table><br>
<a name="250694"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> How are you computing the FPS? <br><br></td></tr></table><br>
<a name="250727"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gameproducer</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> that isn't an issue, I quarantee - I notice that on screen when the framerate lowered from 150 to just about 5 ;)<br><br>there's also more info at:<br><a href="http://www.blitzcoder.com/cgi-bin/ubb-cgi/postdisplay.cgi?forum=Forum14&amp;topic=001011" target="_blank">http://www.blitzcoder.com/cgi-bin/ubb-cgi/postdisplay.cgi?forum=Forum14&amp;topic=001011</a> <br><br></td></tr></table><br>
<a name="250733"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just seems sort of pointless.  "My game is slow.  Why?"<br><br>Without information or code, you really can't expect any kind of useful answer. <br><br></td></tr></table><br>
<a name="250758"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ethan3850</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Unfortunately if u want specific help you'll have to reveal your code.  Short of that, switch off the Blitz debugger, your debugging code, check your not mixing 3d and 2d code, resolutions, terrain detail settings, calling AI functions too frequently, etc... <br><br></td></tr></table><br>
<a name="250898"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Caff</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, this is a bit of a long shot, but it might possibly be your graphics card drivers? There is a known slowdown occuring due to directdraw and nvidia drivers.<br><br>There were some problems with recent Nvidia drivers, and was recently fixed (I think a stable working version was 43.45? Check Nvidia website for latest MS certified drivers). <br><br></td></tr></table><br>
<a name="250899"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gameproducer</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> @EpicBoy &amp; Sainfohi: sorry, you are very right. I didn't provide much information so I try to do it now:<br><br>it seems that when adding more .b3d files there seems to be huge slowdown in-game. I tried to remove all my game logic but still the fps were near 10. I also put the game logic back and tried to remove updateworld - no effect. then I put that back and removed renderworl - no effect. I tried to hide all entities (even when they aren't seen) and got a little better rating, not much, but few fps. <br><br>Next I will try to make sure those guys aren't animated and I won't draw those 2D images and see what that does.<br><br>@Caff: nice try - but I don't think this is the issue... at least I have seen 150 fps (when there was no bots) so don't think it's a driver thing.<br><br>thanks for you all - does somebody have better information about how .b3d format works? it seems to be quite buggy thing... <br><br>and I would most appreciate if somebody - with a project where there is at least 50 bots - could tell me if they have had similar problems? <br><br></td></tr></table><br>
<a name="250950"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ethan3850</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> it seems that when adding more .b3d files there seems to be huge slowdown in-game <br></div>If you mean what I think you mean then you should avoid doing it - that is, you should load files that you are going to use before actual game play begins... <br><br>Think of 3d commerical games.  Before you start a new level you usally get a "Loading Game" / "Saving Game" screen when the game loads in 1 of every type of graphics/model it is going to use... so you should structure your game something like this:<br><br>[CODE];-------------------DECLARATIONS<br>Type .new_type_data<br>   Field mesh<br>   Field x,y,z<br>;--- etc.<br>End Type<br><br>Dim originals(0)<br>;-------------------LOAD LEVEL CODE<br>originals(0)=LoadMesh("filename")<br>HideEntity(0)<br>;------ etc.<br><br>;-------------------PREPARE LEVEL CODE<br><br>; Load/create robot data etc.<br><br>robots.new_type_data=New new_type_data<br>robots\x=0:robots\y=0,robots\z=0<br><br>;---- etc.<br>For robots.new_type_data=Each new_type_data<br>  robots\mesh=CopyEntity(originals(0))<br>  PositionEntity robots\mesh,robots\x,robots\y,robots\z<br>  ;------ etc.<br>Next<br>;----- etc.<br>;-------------------LEVEL GAME LOOPS<br>;-- Player code, and stuff<br>For robots.new_type_data=Each new_type_data<br>  ;-- Do code for robots, delete dead ones, create new<br>Next<br>[/CODE]Don't forget to use Functions to remove code from your main loop that isn't executed everytime.  Hope that helps. <br><br></td></tr></table><br>
<a name="251092"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gameproducer</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Sainfohi: thanks for your help, but - nope it isn't that. I have a structure which loads first all stuff and then uses copyEntity (trust me, I'm not a newbie programmer). <br><br>and hey - I have got this working with .3ds models (or similar test anyhow) but now as I use .b3d models then it doesn't work... has anyone tried anything similar? (with 30 .b3d bots or like?) <br><br></td></tr></table><br>
<a name="251118"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeremy Alessi</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you using Linepicks (linepick,camerapick, entityvisible) in your A.I. code?  If you're using 50 linepicks for all your characters to determine where they're going, that would kill the framerate even with only 1200 polys.  Complete guessing on this of course.<br><br>Just re-read your above post.  If you got it working correctly with .3DS then I'm not sure why .B3D would give you trouble.  The test must be doing something different (you said similar test) what's the difference?<br><br>Also, it must be said that drawing 2D over 3D gives me about a 10 FPS hit. <br><br></td></tr></table><br>
<a name="251127"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RetroBooster</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> remove all text and 2D drawing, then check your fps again!<br>I'm guessing thats the only probable cause for your problem. <br><br></td></tr></table><br>
<a name="251159"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Check Nvidia website for latest MS certified drivers).  <br></div>Except the last Microsoft WHQL certified drivers are 30.82! So if you've got a GeForceFX you're screwed.<br><div class="quote">  remove all text and 2D drawing, then check your fps again!<br>I'm guessing thats the only probable cause for your problem. <br></div>I agree. I have a scene with 22 "bots" *on* *screen* at the same time, and 4 large meshes for a total of more than 27000 polygons. I get around 200 fps when not doing anything. <br><br></td></tr></table><br>
<a name="251175"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gameproducer</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Retrobooster &amp; FlameDuck: well, as you can see... there's only few 2D images on screen, so hardly three 2D images can cause this kind of slowdown (especially when I have tested the whole scene WITHOUT renderWorld command...). Anyhow - mind if I ask, Flameduck, do you use B3D format there? or are your models .3ds or other? (I have a STRONG hunch about the fact that B3D FORMAT causes problems)<br><br>I too had no problems when running my benchmark with trees, land, dragon etc. on screen when I used .3ds format (but that was quite a long time ago - now I'd like to hear if anyone has used .b3d format, and I mean HEAVILY used it! :)<br><br>I appreciate all the help, so thanks already - keep'it'posting ;) <br><br></td></tr></table><br>
<a name="251293"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ethan3850</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I have a STRONG hunch about the fact that B3D FORMAT causes problems <br></div>I don't see how since meshes are all stored the sameway by Blitz.  However, B3d does store slightly different settings to 3ds so perhaps when you converted them something got added, taken away or screwed up.  It might be an idea to re-convert them, checking all the settings and the integretary of your models. <br><br></td></tr></table><br>
<a name="251296"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gameproducer</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Sainfohi: I'm not that sure .b3d model format is optimized (compared to how long time .3ds format has been there...) but I will check this: I shall replace those .b3d models with similar .3ds models and check what happens. thanks for your help.<br><br>oh, and I'm still waiting to hear if somebody has a game which uses at least 30 .b3d bots and that game runs nicely. <br><br></td></tr></table><br>
<a name="251309"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeremy Alessi</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't know how you think you're going to blame the 3D model format!  That doesn't make sense.  <br><br>In Aerial Antics we've got hundreds of seperate .B3D entities in our levels and it runs fine.  That's the only 3D format we're using.  I'd say it's either drivers or you're being careless with collisions, linepicking, or shadows. <br><br></td></tr></table><br>
<a name="251483"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gameproducer</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> @BAN300: well, based on the facts that .3ds models were running fine, pure logic plus other comments on the blitzcoder forums (where there was other guy who said .b3d models bring troubles - each model added got heavy slowdown). and I must say another thing: do you use ANIMATED .b3d models - it can be the animation (have to test that right away...) format which causes problems. <br><br>(but... I can always be wrong :)<br><br>Also: if you are using animated .b3d models - how many childs do they have (we have quite many bones in our human character)? And I must confirm: you said you have hundreds of simultaneous .b3d models in-game? (so that it doesn't copy stuff to memory (or something) when you proceed - on one same even you have hundreds of models flying around?) <br><br></td></tr></table><br>
<a name="251484"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gameproducer</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> hmm... one possible chance is that my player TYPE is too complex - can it be?<br><pre class=code>
Type player
	;---------------------------- game specific
	;identification
	Field id

	Field side				;which side player takes (1=humans, 2=elves)
	Field run 				;TRUE/FALSE - whether character is running or not
	Field charavailableflag	;whether player mouse clicks affect ground

	Field actionCurrent
	Field actionOld
	Field actionAvailableFlag		;TRUE/FALSE whether character is in combat or otherwise not controllable
	
	Field gravity#

	Field animationDeathDoneFlag 	;indicates whether player has done death animation or not

	Field labelImage[2]		;player label in-game

	;entities - everything which must be deleted after session (check out function playersDelete)
	Field pivot				;pivot
	Field ghostPivot		;ghost pivot - to determine other players' REAL positions
	Field mesh				;model
	Field walksoundloop
	Field shadowSprite		;player shadow

	;linker (slot 0 is for warrior sprites)
	Field playerLink[256]
	Field playerLinkOld[256]
	Field linkerSprite[256]
	Field linkerFlag[256]
	Field linkerSpriteAlpha#[256]	;sets the alpha value of the linker sprite

	;player race
	Field race				;0=none, 1=dwarf, 2=elf, 3=human, 4=dark elf
	Field race_new			;the race which character chooses as a new race

	;player gui
	Field labelmodifier		;how many pixels left will the player name make the player label to appear (remember to change when changing player name in game)
	Field barModifier		;similar to label modifier...

	;game stats
	Field ctr_side_change
	
	Field waypoint
	Field waypointReachedFlag
	
	;equipment	::	1=right hand, 2=left hand, !!!3=back
	Field equipmentMesh[PLAYEREQUIPMENTSLOTAMOUNT]	
	Field equipmentChildPointer[PLAYEREQUIPMENTSLOTAMOUNT]	;lefthand2, righthand2, !!!needs also "back" child bone
	Field equipmentTypeId[PLAYEREQUIPMENTSLOTAMOUNT]		;current equipment type IDs so that game knows what equipment to create in respawn place
	Field equipmentTypeIdOld[PLAYEREQUIPMENTSLOTAMOUNT]		;defines the ids before changing weapons on hands

	Field armorRating

	Field pick$
	Field ticks				;each tick = 100 ms, this is used for testing flag capture for example
	
	;battle
	Field target			;target player pivot
	Field target_id			;target player id
	Field target_side		;target side
	
	;flags
	Field flag_moving		;check whether character is currently moving
	Field flag_capturing	;check whether character is currently capturing flagpoint
	Field flag_attacking	;check if attacking
	Field flagpointRespawnId	;the flagpoint player has chosen to be his respawn place
	
	;network
	Field netmessagessent	;amount of packets sent
	
	;game stats
	Field statDeaths			;how many times player was killed - MOST something...
	Field statSpentRPs			;how much resourcepoints spent - this can be used to count "player price" - how valuable for the team
	Field statIndividualkills	;how many individual (not part of group) kills - LONE WOLF MARK
	Field statAssistedkills		;how many kills done by some other group member - this can be used to count MOST VALUABLE LEADER
	Field statLoyaltykills		;how many kills under group leader - MOST LOYAL WARRIOR
	Field statTraitormarks		;how many times changed side - TRAITOR
	

	Field controlledTroopsCount	;how many member belong to your group
	
	;some elements	
	Field speedOriginal#
	Field speedCurrent#

	Field manaCurrent
	Field manaMax

	;combat skills
	Field rank	;RANK_WARRIOR = 1, RANK_GROUPLEADER = 2

	Field attributeStrengthCurrent
	Field attributeStrengthMax
	Field attributeConstitutionCurrent
	Field attributeConstitutionMax
	Field attributeMindCurrent
	Field attributeMindMax
	Field attributeDexterityCurrent
	Field attributeDexterityMax
	Field attributePerceptionCurrent
	Field attributePerceptionMax
	
	Field skillMeleeAttackOriginal
	Field skillMeleeDefenseOriginal
	Field skillMeleeDamageOriginal
	Field skillBowAttackOriginal
	Field skillBowDamageOriginal

	Field skillMeleeAttackCurrent
	Field skillMeleeDefenseCurrent
	Field skillMeleeDamageCurrent
	Field skillBowAttackCurrent
	Field skillBowDamageCurrent

	Field hitpointsCurrent
	Field hitpointsMax
	Field hitpointsLost

	Field moraleCurrent
	Field bonusLeadership

	Field combatAvailableFlag
	Field combatTicks
		
	;-----------------rpg elements

	;role thingies
	Field name$

	;attributes
	Field foodpoints
	Field foodpointsmax
	Field carrypoints
	Field endurance_points
	Field endurance_delay

	;knowledge
	Field booklore
	Field itemlore
	Field animallore
	Field weaponlore

End Type
</pre> <br><br></td></tr></table><br>
<a name="251489"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeremy Alessi</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Surely, our game doesn't use as many (complex) animated meshes as yours of course (we have no need for many humanoid bots of any sort) but we are running quite a few models with bones and animation.  <br><br>If fact currently we're using all animated boned objects in order for my artist to build levels in 3D Studio Max and for us to retrieve local coordinates from an Ultimate Unwrap export.  We have some levels that contain 20 - 40 animated objects (platforms with rotating propellers mainly, in addition to other animated background objects, and the main character all on top of many other boned objects that don't animate).<br><br>If the only difference between your two tests are .b3d models vs. .3ds I guess there is some bottle neck, but it doesn't seem to make much sense.  A 3D model format is a way of storing information, when you load it up it's just polys and textures.  The only thing I can think of is that the .b3d is using more surfaces upon export or something.  Even then I can't see you getting such low framerates.<br><br>Also, you said the framerate stays low even if you remove renderworld.  Wouldn't that remove the bottleneck of surface count issues which slows rendering down?<br><br>One thing I will say is that we're using dynamic animation with the exception of only a few objects that have many frames of pre-recorded animation.  With regard to that I cannot say if using traditional animation commands on a .b3d make it slower.<br><br>Basically, I haven't heard of another instance where someone had a problem with animated .b3d's and you haven't given enough information for anyone to really figure the problem out.  Generally, the 3D model format doesn't matter.  When .b3d came out, many people were saying it should be/or is faster than any other format for Blitz3D.  Mark was quick to explain that the format wouldn't change the speed, so my first inclination is to trust his advice in that aspect of a game engine.<br><br>Perhaps those bad drivers only have a problem with the .b3d model format and you should update them.  The first time my artist tried True-Vol he only got about 8 FPS.  That game relies on the .b3d format and when he got new drivers the game ran correctly.  That makes at least a little sense.  I don't think that the model format is inherently bad. <br><br></td></tr></table><br>
<a name="251490"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gameproducer</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> @BAN300: thanks for your answer. and I must say that when I used those .3ds models the game logic (player types etc.) weren't that complex - so it can't be just that (this was my first thought because I thought it was the dramatic change there...) <br><br>I'll try to give some more accurate readings soon. And I will test just to create several meshes there (without use of type) and let see what that does. <br><br></td></tr></table><br>
<a name="251491"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeremy Alessi</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey I posted ... I guess at nearly the same time as you.  That is a complicated type, but I don't think that only the size of it can be slowing your game down but with something that complex and then 50 of them all battling or whatever it probably is logic, expecially if you removed renderworld.  Also, it's a networked game which adds even more complexity.  <br><br>You may have to cut back on the complexity of each character or the number of characters running, probably a little of both.  <br><br>You're dealing with a complex simulation and so it looks to me like you need some really good data management tricks not graphics tricks to make it run faster. <br><br></td></tr></table><br>
<a name="251496"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> So if you are sure it's b3d you have proven it to yourself by using similar 3ds or not?<br><br>What setting is the camera? <br><br>If it's orthographic, can you try normal camera with lots of zoom, marks says b3d bone / vert stuff is done by cpu but if they are clipped by viewing frustrum should be zero cpu load - hence me wondering if isometric still has a culling issue.<br><br>Is your polycount based on trisrendered? That could be wrong with two cameras, can you disable the inset cam? <br><br></td></tr></table><br>
<a name="251497"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gameproducer</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tried the game with 50 spheres instead of .b3d models and that didn't helped so that make me think it (possibly) couldn't be just the model format. And guess what:<br><br>I FOUND DA BUG :D <br><br>big thanks to all of you who had taken time to help me out with this. Listen to this.<br><br>I realized that I had a code that created sprite lines in my createNewPlayer function:<br><pre class=code>
 !!!add here identification for PLAYER ID = CURRENT ID (so that sprites are made for own player only)
		For i=0 To 256
			f\linkerSprite[i] = CreateSprite() : EntityColor f\linkerSprite[i], 20, 250, 20 : SpriteViewMode f\linkerSprite[i], 2 : EntityAlpha f\linkerSprite[i],0 : EntityOrder f\linkerSprite[i], -1
			f\linkerFlag[i] = 0
		Next
</pre><br>and because I hadn't listened to myself - heh - I hadn't added that one IF line<br><pre class=code>
If (f\id = g_player_id)
</pre><br>Now when I added this line (so that only YOUR player creates the sprite lines) the FPS rate got back to normal. <br><br>Well, you can imagine: you have 1 player with about 250 sprite lines -&gt; 50 player makes 5000 sprite lines (surfaces...) which is quite a lot to handle. And because I only need the sprites added to PLAYER character the surface count affect was dramatic when I removed those extra sprites (even when the sprites were not rendered - but they were taken into UpdateWorld or something what is happening in blitz engine.)<br><br>So - big thanks for you all with this brainstorming, you have been great help. <br><br></td></tr></table><br>
<a name="251500"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hurrah! <br><br></td></tr></table><br>
<a name="251501"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gameproducer</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> :) <br><br>Here are some results I got:<br><pre class=code>
GAME LOGIC (LOOPS ETC.) TAKEN OFF
2ms before updateworld (game logic)
8ms after updateworld
32ms after renderworld 

GAME LOGIC (LOOPS ETC.) ON
2ms before updateworld (game logic)
8ms after updateworld
32ms after renderworld 
</pre><br>(so the millisecs are similar, same time passes to get things done - game logic doesn't affect much - even with network etc. ON :) <br><br></td></tr></table><br>
<a name="251508"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeremy Alessi</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Whew! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
