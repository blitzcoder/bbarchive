<!DOCTYPE html><html lang="en" ><head ><title >A note about linepick with a radius</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >A note about linepick with a radius</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >A note about linepick with a radius</a><br><br>
<a name="1264019"></a>

<a name="1264020"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you use linepick with a radius, the total length of the line seems to be vectorlength + radius.<br><br>I fixed a bug by taking this into account.<br><br>Maybe this will help somebody... <br><br></td></tr></table><br>
<a name="1264029"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rick Nasher</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> interesting piece of knowledge indeed, thanks. <br><br></td></tr></table><br>
<a name="1264043"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> In that case the line should look like an elongated capsule, with round extremities.<br><br><img src="http://s22.postimg.org/vn7f7swkh/capsule.png"> <br><br></td></tr></table><br>
<a name="1264061"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I definitely learn best with images that translating from google. <br><br></td></tr></table><br>
<a name="1264066"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> If you use linepick with a radius, the total length of the line seems to be vectorlength + radius. <br></div><br>Coming from a mathematical background that is exactly what I assumed. There is a vector of the given length and a sphere centered at the head of the vector. <br><br></td></tr></table><br>
<a name="1264106"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> There was some witchcraft here, i can't see my first post... ?! <br><br></td></tr></table><br>
<a name="1264115"></a>

<a name="1264125"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's probably my fault. I am able delete or hide posts. The hide link is on the right edge of the screen and is easy to hit by accident on a tablet.<br><br>It's back now. <br><br></td></tr></table><br>
<a name="1264172"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think it looks like this :<br><img src="http://rd-stuff.fr/VLRLP.png"> <br><br></td></tr></table><br>
<a name="1264209"></a>

<a name="1264210"></a>

<a name="1264212"></a>

<a name="1264213"></a>

<a name="1264214"></a>

<a name="1264216"></a>

<a name="1264217"></a>

<a name="1264290"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RGR</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here is a small example where you can test how LinePick (with and without Radius) and how EntityPick works. <br><br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">;   Written in a patched PureBasicIDE with PBCode
;   Made with Roeske's Skydat-Precompile
;   31  03 2015 / 13:40:17

;Include "LinepickTestConst.bb"
Graphics3D(0, 0, 32, 1)

pivot=CreatePivot()

light=CreateLight()
PositionEntity(light, 0, 100, 0, 1)

cam=CreateCamera()
PositionEntity(cam, 10, 20, 0, 1)

sphere=CreateSphere(32)

cube=CreateCube(sphere)
EntityColor(cube, 0,255,0)
ScaleEntity(cube, 0.04, 0.04, 10.0, 1)

sphere3=CreateSphere(32,sphere)
PositionEntity(sphere3, 0, 0, 10, 1)
EntityAlpha(sphere3, 0.5)
EntityColor(sphere3, 255,255,0)

PositionEntity(sphere, -3.0, 0, 0, 1)

Radius#=0.2
sphere2=CreateSphere(32)
PositionEntity(sphere2, 10, 0, 0, 1)
EntityPickMode(sphere2, 1)
EntityColor(sphere2, 255, 0 ,0)
EntityAlpha(sphere2, 0.5)

PointEntity(sphere, sphere2)
TurnEntity(cam, 90,0,0)

While Not KeyHit(1)
	If KeyDown(31)
		Radius# = Radius# + 0.01
	EndIf
	If KeyDown(30)
		Radius# = Radius# - 0.01
		If Radius&lt;0.0
			Radius=0.0
		EndIf
	EndIf
	If Radius&gt;0
		ShowEntity(sphere3)
		ScaleEntity(sphere3, radius, radius, radius, True)
	Else
		HideEntity(sphere3)
	EndIf
	EntityPick(sphere, 10.0)
	PEnt=PickedEntity()
	xD#=EntityX(sphere3, True)-EntityX(sphere, True)
	yD#=EntityY(sphere3, True)-EntityY(sphere, True)
	zD#=EntityZ(sphere3, True)-EntityZ(sphere, True)
	LinePick(EntityX(sphere, 1),EntityY(sphere, 1),EntityZ(sphere, 1),xD, yD, zD, Radius)
	PEnt2=PickedEntity()
	If KeyDown(203)
		TranslateEntity(sphere, -0.01, 0, 0, True)
	ElseIf KeyDown(205)
		TranslateEntity(sphere, 0.01, 0, 0, True)
	EndIf
	
	If KeyDown(200)
		TurnEntity(sphere, 0, 0.2, 0, True)
	EndIf
	If KeyDown(208)
		TurnEntity(sphere, 0, -0.2, 0, True)
	EndIf
	
	UpdateWorld()
	RenderWorld()
	
	
	x=10
	y=15
	Text(x, y, "Green Line is 10 units long each side. Shows where/when LinePick / EntityPick on Sphere2 gets detected.")
	y=y+15
	Text(x, y, "[A] [S] Change Radius   [Left] [Right] Move Sphere   [Up] [Down] Rotate Sphere")
	y=y+15
	Color(255,255,0)
	Text(x, y, "Radius: "+Str(Radius))
	y=y+15
	Color(0,255,0)
	Text(x, y, "EntityPick: "+Str(PEnt))
	y=y+15
	Text(x, y, "LinePick: "+Str(PEnt2))
	y=y+15
	Color(255,255,255)
	Text(x, y, "Sphere: "+Str(sphere))
	y=y+15
	color(255,0,0)
	Text(x, y, "Sphere2: "+Str(sphere2))
	y=y+15
	Color(255,255,255)
	Text(x, y, "Distance: "+Str(EntityDistance(sphere, sphere2)))
	y=y+15
	Text(x, y, "xD: "+Str(xD))
	y=y+15
	Text(x, y, "yD: "+Str(yD))
	y=y+15
	Text(x, y, "zD: "+Str(zD))
	
	flip(1)
Wend
End



; IDE Options = Blitz3DEd
; CursorPosition = 75
; FirstLine = 36
; Folding = --
; DisableDebugger
;Include "LinepickTestFunc.bb"
</textarea><br><br><img src="http://www.rrsoftware.net/uploads/Forums/Blitz3D/LinePickEnitityPick1.png"> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
