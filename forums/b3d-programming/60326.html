<!DOCTYPE html><html lang="en" ><head ><title >Crash when leaving screensaver</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Crash when leaving screensaver</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Crash when leaving screensaver</a><br><br>
<a name="672535"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KimoTech</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> When i leave the screensaver, or i press ctrl+alt+delete and then selects Task Manager, then blitz crashes in renderworld(). Plzz help me here..! <br><br></td></tr></table><br>
<a name="672553"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Boiled Sweets</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> What screen saver? <br><br></td></tr></table><br>
<a name="672650"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WendellM</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> And is this a problem in Vista beta as your sig seems to indicate? <br><br></td></tr></table><br>
<a name="672718"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is not a bug in blitz, It's more likely a driver issue.<br><br>if blitz had such a big bug it would have been spotted years ago :) Best bet is to ask in B3D programming or General Discussion. <br><br></td></tr></table><br>
<a name="672720"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> if blitz had such a big bug it would have been spotted years ago <br></div>Blitzplus used to do it years ago.  I think it was something to do with there being a blitz-based screensaver running and another application automatically getting focus (such as AVG auto-update).  Caused Blitz to crash with a nasty looking error.<br><br>Not sure if that's the problem here though... surely when you press any one of CTRL, ALT or DEL, your screensaver should be terminating anyway? <br><br></td></tr></table><br>
<a name="676586"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KimoTech</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> but now i run Windows Server 2003 (sorry for my signature), and it does the same. Also when i press CTRL+ALT+DEL, then i select Task Manager, and then when it returns to the desktop with all my apps, it crashes, and it semms to, that the DirectDraw box has gone, because there is no redrawing in the blitz window. <br><br></td></tr></table><br>
<a name="685508"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KimoTech</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> it looks like it destroys the Direct3DDevice, because when i leave the screensaver, and have a program with WinBlitz3D, the rect where the scene should be rendered, is not being redrawn.. <br><br></td></tr></table><br>
<a name="687335"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kev</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Qimmer, this does seem to be winblitz3d causing the problem i will take a look into this and see if it fixable. <br>i tested this under win2k and encounter the same problem.<br><br>kev <br><br></td></tr></table><br>
<a name="687441"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think you should not terminate a d3d using app "from outside". You should rather end the app from within itself, by using END. You may check keypresses and/or mouse action and quit before the taskmanager can touch it.<br>Although I think DirectX should handle the job, I wouldn't be surprised if it doesn't.<br><br>DirectX has notorious problems with screensavers. <br><br></td></tr></table><br>
<a name="688137"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BIG BUG</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thats an old bug in Blitzbasic. Screensavers in general aren't that problem, but changing the desktop resolution while a BB-program is running... <br><br></td></tr></table><br>
<a name="694886"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KimoTech</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> But also when i just run a simple 3d-app from Blitz3D, and then i press ctrl+alt+delete, and returns, the viewport aint redrawn, and nothing is rendered .. And then it says 'Memory Access Violation'. <br><br></td></tr></table><br>
<a name="694894"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >D4NM4N</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> some of my ted customers have reported this on nvidia cards when running openGL screensavers <br><br></td></tr></table><br>
<a name="710954"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Graythe</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> It does it under XP &amp; Win2K if the screensaver is passworded. <br><br></td></tr></table><br>
<a name="711373"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Graythe</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I asked for help with the same or a similar issue here a little while ago and got joy. <br><br>One thing to do possibly is turn off the bliddy screensaver or adjust the activation interval to nil. I did find though that multiple logins from different PC's to the same account made this unreliable (or it may be my code, something else, possibly it just doesn't always work).<br><br>I think I remember seeing some code in the forums that seemed more replete since that time but here's where I got to.<br><br>in user32.decls<br>.lib "user32.dll"<br>SystemParametersInfo(uAction%, uParam%, lpvParam*, fuWinIni%) : "SystemParametersInfoA"<br><br><pre class=code>
Const SPI_GETSCREENSAVETIMEOUT = 14
Const SPI_SETSCREENSAVETIMEOUT = 15

Function SystemGet_SaverTimeout()

RetBank=CreateBank(4)

SystemParametersInfo(SPI_GETSCREENSAVETIMEOUT,0,RetBank,0)

RetValue=PeekInt(RetBank,0)
FreeBank RetBank
Return RetValue

End Function



Function SystemSet_SaverTimeout(Value%)

Nul1=CreateBank(4)
PokeShort Nul1,0,0
RetBank=CreateBank(4)

SystemParametersInfo(SPI_SETSCREENSAVETIMEOUT,Value,Nul1,0)
FreeBank RetBank

End Function

</pre> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
