<!DOCTYPE html><html lang="en" ><head ><title >Context Menu - Pop-Up</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Context Menu - Pop-Up</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Context Menu - Pop-Up</a><br><br>
<a name="366411"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SSzretter</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is it possible to create a context / pop-up menu in blitz 3D -- for example, when you click on an object it will pop-up some sort of menu of possible choices?<br><br>Any thoughts, tips, samples, links, etc. appreciated!<br><br>Thanks. <br><br></td></tr></table><br>
<a name="366453"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eole</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can try our system BCF 3.0, it's GUI for Blitz3D<br><br><a href="http://www.3dgametool.com/project_bcf3.htm" target="_blank">http://www.3dgametool.com/project_bcf3.htm</a> <br><br></td></tr></table><br>
<a name="366460"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >aCiD2</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> XlntGui can do that aswell - thats what i use :P<br>www.xlnt.co.uk <br><br></td></tr></table><br>
<a name="366518"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SSzretter</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm... but with these GUI libs, can you do a pop-up menu or other without opening a window?<br><br>I want it so the user right clicks on a 3D object, and a pop-up menu appears right at their mouse cursor, already popped-up, and they just move the mouse to their choice, and let go... <br><br></td></tr></table><br>
<a name="366522"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SSzretter</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, after reading some, I see in xlnt that you can use quick menus which pops-up if you right click, but is it possible to pop-up for other types of clicks like left click, etc.? <br><br></td></tr></table><br>
<a name="366581"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eole</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> If yes possible to create a coneptual menu whith windows, go and download the demo :-) <br><br></td></tr></table><br>
<a name="366692"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >electronin</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey SSzretter,<br>I think I almost have a solution to this, I'll try and get it to work :) <br><br></td></tr></table><br>
<a name="366732"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >electronin</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK, here it is:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
SetBuffer BackBuffer()
Local items$[50]
items[0]="Exit"
items[1]="Return"
items[2]="Start"
items[3]="Wombatify"
items[4]="Forty-two"
items[5]="Shrubbery"

While action&lt;&gt;1
Cls

If MouseHit(2)
action=PopupMenu(MouseX(),MouseY(),items,6)
EndIf
Delay 10
Flip
Wend


;*******************************
;**	Function PopupMenu()	****

;**Parameters:
;x: the x coordinate of the upper left corner of the menu
;y: the y coordinate of the upper left corner of the menu
;item$[50]: the text of the menuitems. Must be a 50-member blitzarray
;num: the number of menuitems. can be up to 50

;return value: the index of the menuitem selected, starting from 1
;if no item is selected, it returns 0

Function PopupMenu%(x,y,item$[50],num)
Local width=0,temp
Local gw=GraphicsWidth(),gh=GraphicsHeight()
If num&gt;50 Return 0

For i=0 To num-1
temp=StringWidth(item[i])
If temp&gt;width width=temp
Next



temp=CreateImage(gw,gh)
CopyRect 0,0,gw,gh,0,0,GraphicsBuffer(),ImageBuffer(temp)

Repeat
Cls

DrawImage temp,0,0

my=(MouseY()-y)/FontHeight()
If my&lt;num And (MouseX()&gt;x And MouseX()&lt;x+width)
pos=my
Else
pos=-1
EndIf


For i=0 To num-1
Color 255,255,255
Rect x-1,y+(i*FontHeight())-1,width+5,FontHeight()+2,1
Color 0,0,0
Rect x-1,y+(i*FontHeight())-1,width+5,FontHeight()+2,0
Text x,y+(i*FontHeight()),item[i]
Next

Flip
Delay 10

Until MouseHit(1)

Cls
DrawImage temp,0,0
FreeImage temp
Return pos+1
End Function
</textarea><br><br>Far from optimized, let me know of any bugs or features you want :) <br><br></td></tr></table><br>
<a name="366744"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SSzretter</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very nice electronin, thank you. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
