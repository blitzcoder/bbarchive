<!DOCTYPE html><html lang="en" ><head ><title >Collisions In Functions</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Collisions In Functions</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Collisions In Functions</a><br><br>
<a name="214458"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ash_UK</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can anyone please tell if you are able to allow collisions within a function, i don't know how.<br>I have the game levels as seperate functions in order to make the code more readable and easier to navigate through, but my collision routines just don't seem to be working. :-(<br><br>Thanks for any help <br><br><br>IcE <br><br></td></tr></table><br>
<a name="214468"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ash_UK</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Anyone?<br><br>IcE <br><br></td></tr></table><br>
<a name="214469"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >poopla</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Collisions routines?  Collisions in functions?  Once collisions are set up blitz handles everything internaly.  What are yopu trying to do/what are you doing now?  A code example would be very helpful, thanks. <br><br></td></tr></table><br>
<a name="214471"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ash_UK</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Heres the code. It's not quite in functions at the moment  but for some reason, the collision routines not working even though it isn't in a function. Can you tell me where i'm going wrong please?<br><br>The code:<br><br>;-------------------<br>;Graphics setup<br>;-------------------<br>	SetBuffer BackBuffer()<br>	Graphics3D 800,600<br>;---------<br>;Variables<br>;---------<br>	Global player_speed#=10<br>	Global stage=0<br>	Global thickness=0.9<br>	location$="blues room" <br>	Global cam=CreateCamera()<br>	CameraRange cam,1,10000<br>	;---------<br>	;Collision<br>	;---------<br>		pl=1<br>		ro=2<br>;-----------------<br>;Initialise player<br>;----------------- <br>	player_texture=LoadTexture("gfx/textures/blue_tex.bmp")<br>	lightmap=LoadTexture("gfx/textures/lightmap.bmp",64)<br>	Global player=LoadAnimMesh("gfx/models/blue.3ds")<br>	Global player_cell=LoadAnimMesh("gfx/models/blue.3ds",player)<br>		head=FindChild(player,"head")<br>		EntityTexture head,player_texture<br>		body=FindChild(player,"body")<br>		EntityTexture body,player_texture<br>		left_arm=FindChild(player,"larm")<br>		EntityTexture left_arm,player_texture<br>		right_arm=FindChild(player,"rarm")<br>		EntityTexture right_arm,player_texture<br>		left_foot=FindChild(player,"lfoot")<br>		EntityTexture left_foot,player_texture<br>		right_foot=FindChild(player,"rfoot")<br>		EntityTexture right_foot,player_texture<br>	cellshade(player_cell)<br>	EntityTexture player,lightmap<br>	EntityType player,pl,True<br>	ScaleEntity player,.3,.3,.3<br>	EntityRadius player,23<br><br><br>;blues_room()<br>;---------<br>;Variables<br>;---------<br>	exists=1<br>;--------------<br>;Loading screen<br>;--------------<br>	load_screen=LoadImage("gfx/loading.bmp")			<br>	DrawImage load_screen,0,0<br>	Flip<br>;------------------<br>;Initialise objects<br>;------------------<br>	blue_room=LoadAnimMesh("gfx/models/blue_room.3ds")<br>	blue_room_cell=LoadAnimMesh("gfx/models/blue_room.3ds",blue_room)<br>	cellshade(blue_room_cell)<br>	EntityType blue_room,ro,True<br>		cam_position=FindChild(blue_room,"campos")<br>		point=FindChild(blue_room,"bluestart")<br><br>	AmbientLight 255,255,255<br>;----------------<br>;Position objects<br>;----------------<br>	PositionEntity blue_room,0,0,0<br>	EntityParent cam,cam_position,False<br>;----------<br>;Collisions<br>;----------<br>	Collisions pl,ro,2,3<br>;----<br>;Loop<br>;----<br>	While exists=1<br><br>		PointEntity cam,player<br>		player_control()<br>		If KeyDown(1) Then exists=0<br>		RenderWorld <br>	<br>		Flip<br>	<br>	Wend<br><br>	FreeImage load_screen<br>	FreeEntity blue_room<br>End<br><br><br><br><br>Thanks for your kind help :-)<br><br><br>IcE <br><br></td></tr></table><br>
<a name="214487"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ash_UK</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Any help would be really appriciated. Please if anyone can tell me where i'm going wrong, i can't really progress any further until I have got it sorted out.<br><br><br>Thankyou<br>:-)<br><br><br>IcE <br><br></td></tr></table><br>
<a name="214524"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Uh-hum!, you see, you checked for collisions before your loop even began.  The correct method is to check for collisions each loop.  Soooo...<br><br>Change this:<br><br><pre class=code>
;---------- 
;Collisions 
;---------- 
Collisions pl,ro,2,3 
;---- 
;Loop 
;---- 
While exists=1 

PointEntity cam,player 
player_control() 
If KeyDown(1) Then exists=0 
RenderWorld 

Flip 

Wend 

FreeImage load_screen 
FreeEntity blue_room 
End 
</pre><br><br>to something along this line:<br><br><pre class=code>
;---- 
;Loop 
;---- 
While exists=1 

PointEntity cam,player 
player_control() 
If KeyDown(1) Then exists=0 
;---------- 
;Collisions 
;---------- 
Collisions pl,ro,2,3 

UpdateWorld
RenderWorld
Flip 

;CountCollisions
;ClearCollisions

Wend 

FreeImage load_screen 
FreeEntity blue_room 
End 
</pre><br><br><br>(I believe you have to call collisions before updateworld (I'm at work right now and my memory stinks) and then countcollisions or clearcollisions if necessary) <br><br></td></tr></table><br>
<a name="214531"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ash_UK</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks WolRon, i'll give it a try and see how it goes.<br>I really appriciate your help.<br><br>:-) <br><br></td></tr></table><br>
<a name="214532"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ash_UK</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmmm, no joy :-(. Ah well, thanks for the help all the same :-)<br>If there are any more solutions to this please keep me updated.<br>Many thanks<br><br>:-) <br><br></td></tr></table><br>
<a name="214533"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ash_UK</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wait!!! i got it. Thankyou ever so much!!!!<br>It was only the "Updateworld" command i was missing ;-).<br>Thankyou for reminding about it,lol.<br><br>Thanks again<br><br>:-) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
