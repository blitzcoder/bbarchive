<!DOCTYPE html><html lang="en" ><head ><title >Sprites And EntityAlpha Problem</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Sprites And EntityAlpha Problem</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Sprites And EntityAlpha Problem</a><br><br>
<a name="245922"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Red Ocktober</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've got a lil problem, one which I'm sure someone has run up upon before...<br><br>I am having a problem with a Spite (particle) that is in front of a mesh entity that is translucent (EntityAplha .88)<br><br>It seems that sometimess the Sprite gets painted over by the translucent entity, and a small percentage of the time it does not.<br><br>These screenshots should show exactly what I am trying to say..<br><br>[img <img src="http://home.att.net/~subbase1/OOPBlitz10.jpg"> ]<br>vapor (smoke) gets partially overpainted by water (the translucent mesh that is deformed)<br><br>[img <img src="http://home.att.net/~subbase1/OOPBlitz10B.jpg"> ]<br>when the water alpha is changed to 1 (no transparency) everything looks fine...<br><br>Thanks in advance for any help, or ideas with this...<br><br>--Mike <br><br></td></tr></table><br>
<a name="245944"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ken Lynch</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> This has been talked about a lot. I posted it as a bug once and it got a bit heated with someone else saying 'No it's not a bug' but without explaining it. After quite a few months there was finally an explanation, so here goes...<br><br>Alpha blended objects are all rendered after solid objects and don't set the Z buffer (for speed) and because 3D graphics cards don't bother sorting polygons (this does't matter for solid objects) you sometimes get objects draw in the 'wrong' order, this is especially noticable when you have large transparent objects like your sea.<br><br>So it's basically a limitation in the technology we currently have on 3D graphics cards and the only way round it is to be careful with transparent objects. <br><br></td></tr></table><br>
<a name="246170"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Red Ocktober</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Ken for the info...<br><br>... this is really frustrating.<br><br>My only solution so far is to make the water none translucent...<br><br>--Mike <br><br></td></tr></table><br>
<a name="246171"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> That is a completely correct explanation of why it is happening but your vague "be careful with transparent objects" advice isn't too helpful.  To finish his explanation, the draw order of alpha blended polygons is determined by entity position.  Unfortunately, since an entity's position is a single point the polygons are inevitably offset from the position (and for large objects like your sea the polygons are offset a LOT.)  Because of this offset the polygons aren't always drawn in the correct order.  The polygons of your sea are further away than those of the smoke, but since the entity position of the sea is closer the sea is drawn over the smoke.<br><br>To get around this you will have to find a way to break up your water into multiple objects.  Thus the entity position of the distant water will be a truer approximation of the polygon positions.<br><br>Or make the water opaque.  This is less than ideal but then in your screenshot the water doesn't look very transparent anyway.  Plus there is some realistic basis for this; water actually looks pretty opaque at an oblique angle (such as the viewpoint in those screenshots) due to reflection.  Water only really looks transparent when you are looking at it straight down. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
