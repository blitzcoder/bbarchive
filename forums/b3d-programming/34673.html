<!DOCTYPE html><html lang="en" ><head ><title >Texturing question.</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Texturing question.</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Texturing question.</a><br><br>
<a name="375273"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does Blitz load every copy of the same texture specified by meshes?<br>For example. if I have 3 meshes in 3 folders, and they all use the same texture for part of their surface, say 'brick1.jpg' a copy of which also resides in each folder, does that mean that Blitz loads the texture 3 times, as each model is loaded<br>Or as I suspect says 'No, I've already got that texture, I won't load it again.'<br>Basically hoping that this is the case - I'd like 'brick1.jpg' to be in each folder for modelling convenience (drive space is not a problem) knowing that Blitz will actually only load the first, then use that thereafter. <br><br></td></tr></table><br>
<a name="375291"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> To my knowledge it doesn't. A couple of tests i did, where i loaded the same model into blitz about 10 times, show that VRAM usage is the same with one, as it is with 10. And VRAM only goes up when the last remaining model is free'd. <br><br></td></tr></table><br>
<a name="375319"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I concur. <br><br></td></tr></table><br>
<a name="375509"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's loading the same model multiple times, though. I think he wants to know what happens when you load different models that happen to use the same texture on one or more of their surfaces. I'm afraid I don't know the answer, however. :P <br><br></td></tr></table><br>
<a name="375592"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, big10p, that _is_ the question.<br>If 3 models in 3 folders use 3 textures (all with the same name) does Blitz load the first, then say 'I've already got that. No need to load again.' ? <br><br></td></tr></table><br>
<a name="375606"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> They can be loaded multiple times if the 'flags' are incompatible.<br><br>For example, if you load a texture with alpha and again without alpha then it really is loaded twice. <br><br></td></tr></table><br>
<a name="375617"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GNS</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's a quick test of the 'same texture from multiple directories' question: <a href="http://gnsfiles.250free.com/textureTest.zip" target="_blank">http://gnsfiles.250free.com/textureTest.zip</a><br><br>From the above test it -does- seem as if Blitz loads a new copy of the same texture if it's in a different directory. Varying texture flags will also load new copies of a texture. <br><br></td></tr></table><br>
<a name="378333"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Right. Thanks GNS. As your example shows, when models/textures are in separate folders each one uses extra ram - no surprises there.<br><br>I've done some tests (a bit difficult to zip up and show) but my conclusion is this:<br>- If two or more models (wherever they are stored) refer to the same common texture internally (e.g. .\brick1.jpg)<br>- then that texture will only be loaded once by Blitz and as long as the path (or flags) of the texture do not change then the  common texture can be used without extra memory usage, by many models.<br><br>The proof of this was:<br>- Load model with internally referenced texture.<br>- Alt-tab out, and change the texture.<br>- Press (e.g. an F key) to re-EntityTexure the model.<br>- The changed texture does NOT appear.<br><br>In other words, either Blitz or the graphics card is saying 'I've already got that texture (by name), so I won't reload'.<br><br>You actually have to DeleteEntity and reload, to use the new changed texture.<br><br>Why is this so important?<br>The bottom line here is that if I'm sometimes down to 0.8 of 256 mb of AvailMem.<br>I have each of my models in separate folders, which all contain brick1.jpg, then brick1.jpg will be loaded multiple times.<br><br>So to save vidmem all textures must now be in a common accessible folder.<br>And all internal model references become .\brick1.jpg. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
