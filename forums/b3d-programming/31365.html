<!DOCTYPE html><html lang="en" ><head ><title >moving tokamak entities</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >moving tokamak entities</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >moving tokamak entities</a><br><br>
<a name="334534"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> In every loop the blitz entities are positioned where the tokamak rigid bodies are but how is player-movement integrated into this?<br><br>e.g. when you press forward, what do you do in blitz to make sure the rigid body moves with the blitz entity?<br><br>Also, is there a <b>quick</b> way to find the blitz entity in a type that collided when the rigid bodies are colliding?<br><br>finding 100 blitz entity types could be slow. <br><br></td></tr></table><br>
<a name="334538"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >poopla</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> TOKRB_SetPosition<br>TokRB_GetX<br>TOKRB_GetY<br>TokRB_GetZ<br><br>You can easily reposition the tokomak entity yourself, or you can just as easily control the tokomak entity rather then the blitz entity.  I would do the later. <br><br></td></tr></table><br>
<a name="334539"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, depends on what you are doing. in the case that your player is an actual person, you only move the rigid bodies as soon as physics is initiated (say, when the player dies). If the player is somthing like a ball or a car etc. You would want to apply an impulse.<br><br>To position and rotate a rigid body(these ignore collisions) do this:<br><pre class=code>TOKRB_SetPosition(RigidBody%,X#,Y#,Z#)
TOKRB_SetRotation(RigidBody%,Pitch#,Yaw#,Roll#)</pre><br><br>To apply an impulse:<br><pre class=code>TOKRB_ApplyImpulse(RigidBody%,X#,Y#,Z#)</pre><br><br>Note, however, that apply impulse is global, so you have to do somthing different for local coords:<br><pre class=code>TFormVector X#,Y#,Z#,obj,0				;Where obj is the rigid body's physical representation
TOKRB_ApplyImpulse RB,TFormedX(),TFormedY(),TFormedZ()	;Where rb is the rigid body</pre><br><br>So, using the code above, assuming your player is either an animated mesh with no physics applied to the limbs, or a non-animated object, when the player presses up, set Y to some positive value.<br><br>As for getting the entity handle quick, this may be available in future versions of the wrapper, because tokamak does support this. It's called "UserData". <br><br></td></tr></table><br>
<a name="334546"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >poopla</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice description.  I'm too busy atm to go into such detail :). <br><br></td></tr></table><br>
<a name="334788"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> If im applying an impulse to the rigid body it doesnt interfere or replace the physics? <br><br></td></tr></table><br>
<a name="335136"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Almo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> if tokamak properly implements impulse, that's a physics thing and it doesn't disrupt anything. It's an average force multiplied by the time over which that average was taken.<br><br>So if you apply an impulse of say, 5 Newton-Seconds (Newtons are a measurement of force), that's equivalent pushing for 5 seconds with a force of 1 Newton.<br><br>The upshot is that if you apply an Impulse every frame, it should be the force to be applied times the timestep for the frame.<br><br>It's the weird units (force multiplied by time) that make Impulses odd to work with. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
