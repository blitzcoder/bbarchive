<!DOCTYPE html><html lang="en" ><head ><title >Game is slow at the beginning</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Game is slow at the beginning</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Game is slow at the beginning</a><br><br>
<a name="349511"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> When I start my game (and some commercial 3D games) THe frame rate is normal but as soon as you move the camera it accesses the hard drive and slows down to a crawl for about 3 seconds.<br><br>Why is this? In my game I pre-load all the media so why does it access the hard drive and slow down after the game starts?<br><br>I am not using much videomemory but I do only have 64MB of RAM .<br>It says I have a lot of videomemory left over -about 26MB- and I am using an onboard graphics card.<br><br>The slow down effect happens even if I have very few entities at the beggining, but I always load all the media. <br><br></td></tr></table><br>
<a name="349520"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wedoe</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have experienced a temporary slowdown when I access the collition routines<br>for the first time using large images. I guess they are not loaded before needed.<br>I solve this by acessing the collition routine once between the startupscreen and the game itself. <br><br></td></tr></table><br>
<a name="349529"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> oh I forgot to say my game is also 3D, I dont think the collision is as CPU intensive in 3D <br><br></td></tr></table><br>
<a name="349532"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eBusiness</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Inserting a delay after loading will often help. I think the videocard sorta "pretend" it have finished loading. And B3D collisions are, as far as I know, very cpu demanding. <br><br></td></tr></table><br>
<a name="349538"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not 100% sure of this (hopefully someone else will confirm or refute) but I think the loaded media is initially only in RAM, and only moves into videomemory when it is first rendered.  This doesn't matter for anything I've developed so far, but I recall someone mentioning that an easy fix is to quickly spin your camera around and render everything after loading, without using Flip so the player never sees those frames. <br><br></td></tr></table><br>
<a name="349549"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> interesting, that sounds better than letting it happen in-game <br><br></td></tr></table><br>
<a name="349550"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Andy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt;When I start my game (and some commercial 3D games) THe <br>&gt;frame rate is normal but as soon as you move the camera it <br>&gt;accesses the hard drive and slows down to a crawl for <br>&gt;about 3 seconds. <br><br>64MB main memory - 32MB graphics memory(Onboard usually uses main memory) = 32MB for Windows to reside in, which is impossible without paging to hard drive. <br><br>Andy <br><br></td></tr></table><br>
<a name="349610"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> It is a result of windows dynamic Ram management. In the Beginning DirectX is still busy with moving things from A to B etc. after several seconds Windows has removed all unneccessary stuff from Ram (such as other apps you used before you started the game) and loaded all textures to the right memory, as described before. First I have thought this is a weakness of blitz, but then I realized it's a DirectX thing. You have to use some tricks to prevent this. EG: render the first scene to the backbuffer several times while rotating the camera around its axis, but don't Flip the Scene to the visible buffer. Or, when you're in Windowed Mode, you might need to use an other trick. Then, when DirectX has everything ready on the right place, you can start the game as usual.<br><br>I have also seen this effect with the Lithtech Engine: When you run NOLF and press Esc nervously to skip all those Intro Movies, the game jumps exactly in the same way like some hungry blitz apps in the first 5 or ten seconds. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
