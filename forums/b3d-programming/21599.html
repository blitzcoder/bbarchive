<!DOCTYPE html><html lang="en" ><head ><title >What Techniques Are You Guys Using...</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >What Techniques Are You Guys Using...</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >What Techniques Are You Guys Using...</a><br><br>
<a name="221291"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Red Ocktober</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> ... for keeping an object (vehicle, player,etc) on the ground and following the ground (terrain) variations?<br><br>Thanks In Advance<br>--Mike <br><br></td></tr></table><br>
<a name="221308"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MarkT</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> all i do is apply constant gravity, so even when a vechicle jumps or somthing it is still forced to the ground. <br><br></td></tr></table><br>
<a name="221318"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >darklordz</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Me 2 <br><br></td></tr></table><br>
<a name="221359"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I do a linepick straight down every frame to determine how high up my player is and then react accordingly.<br><br>I don't just apply a constant force straight down because I don't want gravity acting while the player is on the ground.  If gravity were acting all the time then the player would be constantly sliding downhill unless the ground beneath him is perfectly level (routine indoors but not common at all outdoors/using terrain.) <br><br></td></tr></table><br>
<a name="221361"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zmatrix</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> the simplest solution, <br>moveentity,character,0,gra,0 ; ever what your gravity constant is<br>or you can also use the "translateentity" command<br><br>just do check to see if the player has collied with the ground, that way you wont slide down hill's ect.<br>.......<br><br><br>Havent talked to you in quite a while Mike, we need to get together for another chat like before.<br><br>Zmatrix <br><br></td></tr></table><br>
<a name="221403"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rottbott</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Store a Y-Velocity# variable for each object you want to have gravity for. Increase this by a constant amount, and move your object downards by it (each second).<br><br>If you detect a collision with the ground, set Y-Velocity# back to 0.  In an indoor level, check the collision normal to see if it is indeed the floor, not a wall or ceiling.<br><br>I'm not sure if you need to know how to make the object follow the slope of the ground, but if you do, here's how:<br><br>Firstly get the global X/Z co-ordinates of the front and back of your object (probably with TFormPoint and MeshDepth() to check the object length).  Then do some trig to find the angle between them and set your object's pitch to that angle.  You can also do the same with all four corner points to get pitch and roll but that's a little more complex. <br><br></td></tr></table><br>
<a name="221404"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Red Ocktober</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Guys for the tips...<br><br>Does the current Blitz collisions slow down the engine any?<br><br>I mean, checking sphere to poly collision every tic, does that have a negative effect on the performance of a Blitz app?<br><br>I was wary that this might be the case, and was doing something similar to the linepick solution that JH suggested.<br><br>Hey There Z... <br><br>... yeah, long time no see. What have you been working on lately?<br><br>I did want to relate to you some problems I've been having using CShop to make objects, and lining them up em with the ground and volumes in RAD.<br><br>Also, the Maptool thingee works fine in Blitz .b3ds, but nothing shows up when I try to see .X format meshes...<br><br>Someone over there is tying to convince me that he can get a RAD net app to connect to 64 people at a time, so I guess we'll all get together over that... keep an eye on the board.<br><br>--Mike <br><br></td></tr></table><br>
<a name="221448"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> inmy (rather limited) experience, collision detection rns extremely fast,and slowdown is negligible compared to general rendering etc. I think it's because its all worked ot internally, with just the few quick checks made to see which entities and/or vertices collide. But then again, Others I am sure will give you better, more accrate answers :) <br><br></td></tr></table><br>
<a name="221464"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rottbott</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Blitz collision seems to be considerably faster than using LinePicks. Use it, it's very good :) <br><br></td></tr></table><br>
<a name="221470"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Andy</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I use meshes and based on where the character is on the tile, the programme calculates the height based on the vertices of the triangle the character is on. <br><br></td></tr></table><br>
<a name="221479"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> It mostly depends what exactly you need to do.  If all you need is to keep the vehicle stuck to the ground Linepicks are overkill.  But for other things the additional information you get is necessary.  In many cases you will need to know stuff which gets returned using the various PickedSomething commands. <br><br></td></tr></table><br>
<a name="221480"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Red Ocktober</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK... thanks again guys... <br><br>--Mike <br><br></td></tr></table><br>
<a name="221506"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zmatrix</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey again Mike,<br><br>I had a few problems with maptools .X export also, <br>i dunno what i did...illegal geometry maybe...but i converted it with Deepex and it became visible.<br>also i have trouble with the B3d export. i get it to export,<br>but then have no control over the object. it wont scale or accept collision data.<br>(I think Josh posted a way to fix this on the cshop forum...but i havent gotten around to going there to find it yet)<br>play with the pick commands...they can be quite handy, im working on a level editor..or constructor maybe i should say,It loads objects.<br>its not a modeler.<br>good for laying down grass,trees,rocks ect.<br><br><br><br>As for 64 players in 3dRad,,,yeah its "Posible" by that i mean they would probably connect.lol<br>but Peer/peer starts to slow significantly after about 6 players. you might get 16 on a lan.(ive never tried so i dunno)<br>but it will be interesting to see the outcome,,ill try to join in if he gets it ready.<br><br>Zmatrix <br><br></td></tr></table><br>
<a name="221857"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Red Ocktober</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Z... it loaded into Deep Exploration???<br><br>Hmmmmm... crashes mine (an older version). Lemme try it one more time :)<br><br>Thanks<br><br>--Mike <br><br></td></tr></table><br>
<a name="221901"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zmatrix</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> yeah it will load into mine,<br>all the textures in the Wad file you are using are the same in the maptools folder? <br>first time i made mine i used jpgs in the wad creation and bmp in the folder...so ofcourse they didnt show up.<br><br>you can always try sending the .x to me and ill see if it visble on my system.<br><br>Zmatrix <br><br></td></tr></table><br>
<a name="222878"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I use Linepicks aswell. I tested the speed and I can do about 5000 of them every game loop without any noticable slowdown. No-one should ever need to use that many tho'. <br><br></td></tr></table><br>
<a name="223088"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >*</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> I use gravity, collision and Entitypick. The EntityPick is to make sure a character DOESNT fall through the floor. <br><br></td></tr></table><br>
<a name="223636"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MadJack</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Flameduck/edzup/...<br><br>I could do with some advice in this area as well<br><br>I've a lot of vehicles moving over a fairly complex mesh terrain and I've been doing line picks at each vehicle's four corners to set height and also calculate pitch/roll for each vehicle.<br><br>However I'm doing this way too often and its killing the framerate. I can reduce the frequency, but would a better method be to say, use four pivots with a collision radius at a vehicle's corners and apply a downward force to them at each update (which I haven't tried yet)?. Has somebody tried this/any ideas along this line? <br><br></td></tr></table><br>
<a name="223668"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >podperson</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could actually avoid collision detection altogether and simply calculate the height of the terrain mesh DIRECTLY from the underlying data. Since the underlying mesh is on a regular grid, it's pretty easy to determine the actual ground level at any point above the grid.<br><br>A    B<br><br>   P<br>C    D<br><br>To determine the height at P simply interpolate the heights at A, B, C, D.<br><br>The easiest way to do this is to interpolate along opposite edges and then on the line between them:<br><br>A e  B<br><br>   P<br>C f  D<br><br>All the necessary divisions (in essence 1/g, where g is the size of the grid) can be done once and cached, so this operation only requires adds and multiplies and should be VERY fast. <br><br></td></tr></table><br>
<a name="224022"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MadJack</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Pod<br><br>Thanks for the idea - as my terrain verts are fairly loosely modelled in Lightwave there's not a one to one regularity with the underlying pathfinding grid and it does allow for much more irregular levels. <br><br>So instead I've instituted collision pivots at a vehicle's four corners, keeping them in place and moving them downwards each cycle and it works very well. <br><br>The bad thing is that having eliminated 90% of the linepicks, it's really pointed up the 'flabbiness' of my code in terms of logic being pretty much updated each frame, the particle engine taking a chunk o' cpu even without any particles set up(!), number of surfaces, loadmesh vs copyentity, interface draw time (a biggy),camera range, man, the list goes on...<br><br>So alhtough I thought I was close to a demo, I've got a rewrite to do instead ;-9 <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
