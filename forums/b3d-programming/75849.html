<!DOCTYPE html><html lang="en" ><head ><title >is EntityVisible what's REALLY slow?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >is EntityVisible what's REALLY slow?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >is EntityVisible what's REALLY slow?</a><br><br>
<a name="847801"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >syntax</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have some code that can return if an object can "see" another object but for it to work it has to be set and updated every loop. Then I found the wonderful world of EntityVisible or so I thought because now every time I drop it in the program it gets deathly slow. Is EntityVisable my problem or should I search for some other odd phenomenon that is slowing down the program?<br><br>Thanks <br><br></td></tr></table><br>
<a name="847805"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Entityvisible does the equivalent of a linepick between the source and destination entity. So, yes it could cause a major slowdown depending on your geom and number of times it's called during your main loop.<br><br>Stevie <br><br></td></tr></table><br>
<a name="847820"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >t3K|Mac</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> you can speed up things if you set the pickmode of the entities which never can obscure other entities to false. its not the superduper speedup, but it helps. especially when you want to entityvisible() lights for coronas. in this case lots of meshes never can obscure them and the speedup of entityvisible() is more dramatic. depends on your scene though... <br><br></td></tr></table><br>
<a name="847841"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Another thing, i have been experimenting with. What you do is, you need to set up a system of texture swapping though, so you need to keep track of all your entities and what textures they have.<br><br>You color the entity you want to check against red. You color the scenary and everything else black, point the camera at the entity. This has the effect of the exact middle of the camera being the middle of the entity, which entityvisible does. You set the camerarange to no more than the distance of the entity. Now, you render. You readpixel at the centre of the screen. If it's red, then you can see your entity. You read more pixels if you need more of it to be showing.<br><br>Reset everything for your second render. I know, i know. Sounds complicated and speed gain is highly debately. It's an expirement though :o)<br><br>You could try the old shoot a pivot at the entity, from the centre of the camera. Point the camera at the entity, fire the pivot. Check for a collision. <br><br></td></tr></table><br>
<a name="847843"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> if you fire a pivot you can as well just use linepick with radius. but entityvisible does a little more than that, which it works even when the center line is obscured as one would assume from the command.<br><br>but you really only should use it when you need it and when it is intelligent to use it.<br>for larger scale usage, an own PVS system will be needed and isn't an optional thing anymore ... cause entityvisible wasn't meant for "check anything" tests and even thought todays computer are worlds faster than the old ones, PVS are still a must go for such operations so you can early drop all entities you definitely can not see. <br><br></td></tr></table><br>
<a name="847886"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> A pivot is far faster in my experience. When you start using a bigger than default raduis on a linepick, is takes longer to do. <br><br></td></tr></table><br>
<a name="847922"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IPete2</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Syntax,<br><br>I rememeber a converation with tu sinu a while back, and if I'm right he says that in the Newton Physics wrapper (see userlibs) you can do the equivalent of the linepick command except it is faster than B3ds command.<br><br>It may be worth you downloading the wrapper and trying it before you buy it.<br><br>IPete2. <br><br></td></tr></table><br>
<a name="849074"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> You should use EntityVisible only when the distance is low. So a<br><pre class=code>
If EntityDIstance(a,b)&lt;max_sight# then
 seeme=entityVisible(a,b)
 if seeme bla
endif
</pre><br>may be useful. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
