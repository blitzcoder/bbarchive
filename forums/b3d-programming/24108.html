<!DOCTYPE html><html lang="en" ><head ><title >2d Platformer to 3D</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >2d Platformer to 3D</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >2d Platformer to 3D</a><br><br>
<a name="249772"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FatboY</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey guys,<br><br>I recently decided to rewrite an old platform game of mine, made in Blitz on the Amiga, in B3D.<br><br>I had previously started writing it in C/OpenGL a while ago, but gave up because model loading in C looked like a nightmare. Anyway, that's beside the point.<br><br>The first task in both the B3D and OpenGL versions was to load a level from a map and draw it on the screen, in the same way as a 2D platformer, but to give each tile depth, as shown in this screenshot from the OpenGL version:<br><br><img src="http://www.fatweb.org/files/gf3d.jpg"><br><br>In OpenGL this was relatively easy - simply draw a cube for each square on the map, leaving out faces that were hidden by an adjoining block. In the OpenGL version, I drew the map with every frame, but drew only the 10x10 or so blocks around the player that were actually visible.<br><br>In B3D I tried the same method, but creating a mesh with every frame proved very slow. So I tried creating the whole map as a mesh, which I would just move as needed. The more faces I added, the more the level started to jerk when it was moved around.<br><br>So I'm now stuck wondering how best to create and display the level. My current attempt is available at <a href="http://www.fatweb.org/files/gf3d.zip" target="_blank">http://www.fatweb.org/files/gf3d.zip</a> (load and run gf3d.bb) if anyone would be kind enough to take a look and offer some friendly pointers?<br><br>TIA <br><br></td></tr></table><br>
<a name="249780"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> One thing to keep in mind is that frustrum culling will only help you (by not rendering stuff off camera) if things are separate objects.  If the entire level is a single mesh the entire level will be rendered every frame, resulting in a lot of wasted rendering time as stuff out of view is drawn.  Make sure that the level is split up into separate objects (every continuous chunk of blocks, like the J at the left of your screenshot, would be a good start) so that things off camera won't be drawn.<br><br>The idea is so that Blitz will automatically do what you were doing manually, only drawing the few visible blocks immediately surrounding the character.<br><br>I've not downloaded your demo so I don't know if you are already doing this, but I assume you aren't because you are getting slowdowns rendering the simple scene depicted in your screenshot. <br><br></td></tr></table><br>
<a name="249792"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FatboY</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Joe!<br><br>Your idea was a kickstart in the right direction, Instead of making the level one whole mesh, I made each individual block a mesh, and it now runs zoomspeedy :D<br><br>I think i'm just having trouble converting from OpenGL thinking to DX thinking - in OpenGL you could simply draw polys onto the screen, then clear 'em off. With DX, it's all a case of thinking meshes and surfaces etc, and it's proving to be quite different :| <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
