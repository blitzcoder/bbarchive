<!DOCTYPE html><html lang="en" ><head ><title >Light and camera with B3D pipeline</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Light and camera with B3D pipeline</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Light and camera with B3D pipeline</a><br><br>
<a name="423584"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gotelin</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I use B3D pipeline for b3d export from 3DStudioMax, but i can't see lights and cameras of 3D StudioMax.<br><br>Can you help me, please?<br>Where is a example with Lights only?<br>Where is a example with cameras only?<br><br>Tnaks for all <br><br></td></tr></table><br>
<a name="423588"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> The b3d format doesn't support lights and cameras as far as I know. I believe you have to use the Pipeline extensions in order to load cameras and lights. Are you using those? <br><br></td></tr></table><br>
<a name="423590"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeremy Alessi</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> You need something like this:<br><br><pre class=code>
extModel.EXT_Entity = New EXT_Entity
			
extModel.EXT_Entity = EXT_LoadEntity("Media/ModelsTextures/Background+Nodes.b3d",0)
					
camera = extModel.Ext_Entity\camera.EXT_Camera\camera
EXT_SetRenderCam(camera)
extCamX = EntityX(camera,True)
extCamY = EntityY(camera,True)
extCamZ = EntityZ(camera,True)
CameraRange(camera,500,1000)
CameraProjMode(camera,1)
campicked = 0
			
bg_pointer = Handle(extModel.EXT_Entity)
EXT_ActivateEnvironment(extModel.EXT_Entity)
EXT_UpdateEnvironment()
EXT_InitEntity.EXT_Entity(extModel\root)
EXT_UpdateEntity(extModel.EXT_Entity)
Animate(extModel\root,1)
</pre><br><br>Then you also need to call EXT_UpdateEntity(extModel.EXT_Entity) for all entities using animated lights etc... <br><br></td></tr></table><br>
<a name="874177"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >3do</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi everyone,<br><br>I know this is a very old post, but i'm getting mad now to export  my camera animation from max to b3d using b3d pipeline, seems i can't make the code works.<br><br>could anyone please post some very basic code to load an exported camera from max and make it works in b3d?<br><br>thanks <br><br></td></tr></table><br>
<a name="874227"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IPete2</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> 3Do,<br><br>Have you scoured www.onigirl.com for information re: Pipeline extensions?<br><br>It would seem that is one way to go, otherwise you could look into using Gile[s] as a parser of sorts, I think Gile[s] has the ability to see lights etc using a particular exporter from 3DSMax.<br><br>Check out www.Frecle.net - it may be an easier way to go, although I haven't actyually done this myself.<br><br>IPete2. <br><br></td></tr></table><br>
<a name="874275"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >3do</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks IPete2,<br><br><br>yes i checked the pipeline forum and help, but still the code doesn't work.<br><br>i thought it was very easy to do something like that, but my code skill is very limited.<br><br>I tried even to export an animated object from max, and load it in blitz, and everything works fine, i can see my beautiful teapot walk around<br>the scene<br><br>then i wanted just to make my camera follow the teapot, as parented, and hide the teapot, but the camera is freezed, i tried everything<br><br>i beg for some help, thanks <br><br></td></tr></table><br>
<a name="874285"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> if you hide the parent of the camera, the camera is hidden as well -&gt; hide = disable object<br><br>you need to use alpha 0 to hide it visually but still have it active. <br><br></td></tr></table><br>
<a name="874307"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IPete2</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> 3Do,<br><br>No worries mate, pop into the code archives and oh bother that - here:<br><br>Function SuperCam(cam,ent,cspeed#,dist#,hite#,xrot#,tilt#)<br>	TFormPoint 0,hite#,-dist#,ent,0<br>	cx#=(TFormedX()-EntityX(cam))*cspeed#<br>	cy#=(TFormedY()-EntityY(cam))*cspeed#<br>	cz#=(TFormedZ()-EntityZ(cam))*cspeed#<br>	TranslateEntity cam,cx,cy ,cz<br>	PointEntity cam,ent<br>	RotateEntity cam,xrot#,EntityYaw(cam),tilt#<br>End Function<br><br><br>Function takes the following...<br><br>Camera handle<br>Entity you want to follow handle<br>Speed at which camera will follow the entity<br>The distance it will try to stay at (based on the entity named)<br>The height it will try to stay at (based on the entity named)<br>Xrotation of camera<br>Tilt of camera<br><br>Try these settings<br><br>SuperCam(Camera_Handle, Teapot_Handle, 0.01,0,0,0,0)<br><br><br>and alpha out the teapot first.<br><br>IPete2. <br><br></td></tr></table><br>
<a name="874466"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >3do</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> hey IPete2,<br><br>i'm trying the supercamera, it's a very good code, but still not working on my project. I mean that the camera doesn't follow the animated teapot (it's animated with keyframe in 3dmax and exported with b3dpipeline in .b3d)<br><br>i don't know that exactly, but i assume that when you load in the scene an animated object, its handle is static even if the object move around the scene, and that's why the camera cant follow my animated teapot and just point the static entity position<br><br>thanks anyway :-( <br><br></td></tr></table><br>
<a name="874468"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> don't know that exactly, but i assume that when you load in the scene an animated object, its handle is static even if the object move around the scene, and that's why the camera cant follow my animated teapot and just point the static entity position <br></div><br>That's correct, I think probably because everything is parented to a dummy object with animated objects. That's how most exporters seem to work. Try FindChild() to get the handle of the object itself, and see if that gives you a changing position. <br><br></td></tr></table><br>
<a name="874561"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >3do</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes it works!!!!<br><br>thanks a lot guys, I used getchild() to get the teapot handle, then i parented the camera and everything works now! <br><br></td></tr></table><br>
<a name="874562"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IPete2</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool stuff - well worked out chaps!<br><br>IPete2. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
