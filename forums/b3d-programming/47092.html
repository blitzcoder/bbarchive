<!DOCTYPE html><html lang="en" ><head ><title >Help with my program</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Help with my program</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Help with my program</a><br><br>
<a name="523592"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CarlosEures</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Im starting a 3d tetris, i use the comand entitycollide but when mi program put five pieces in line do extrange things this my code <br><div class="quote"> <br>; CreateCube Example <br>; ------------------ <br><br>        Graphics3D 640, 480<br>        CamPivot = CreatePivot()<br>        camera = CreateCamera(CamPivot)<br>		luz% = CreateLight(1)      ;Luz especular y ambiental <br>        LightColor(luz%, 128, 128, 128)<br>        mio = CreateCone(12)<br>        PositionEntity mio, 1, 1, 20<br>        PositionEntity camera, 0, 0, -24<br>        HideEntity mio <br>        SetBuffer BackBuffer()<br>        SeedRnd MilliSecs()<br><br>        Type pieza2<br>        	Field cubo<br>    	    Field cubo1<br>	        Field cubo2<br>        	Field cubo3<br>		End Type<br>        Global r, g, b<br>        Global posicionx = 9<br>        Global posiciony<br>        Global tmpcolor<br>        Global Dz<br>        Const PESC = 2<br>        Global COL_CUBE = 1<br>        Global GHT = 2<br><br>        Global posicionz<br>        Global tipopieza<br>        Global Colores<br>        Global contax<br>        Global rotado90<br>        Global rotado180<br>        Global rotado270<br>        Global gameover<br>        Global contaz<br>        Global Tiempo<br>        Global temp<br>        Global KeyLeft<br>        Global KeyRight<br>        Global KeyDwn<br>        Global banchoque<br>        Global KeyUp<br>        Global KeyRt<br>        Global piezat1.pieza2<br>        Global aux.pieza2<br>        Global piezaactual<br>        Global RepeatSpeed<br>        Global RepeatSpeed2<br>        Global VelCaida<br>        Global Tiempo2<br>        Global primera<br>        Global incremento<br>        Dim Tex(5)<br>        Global  piezasiguiente<br>        Tex(1) = LoadTexture("tex1.bmp")<br>        Tex(2) = LoadTexture("tex2.bmp")<br>        Tex(3) = LoadTexture("tex3.bmp")<br>        Tex(4) = LoadTexture("tex4.bmp")<br>        Tex(5) = LoadTexture("tex5.bmp")<br>        posicionx = 0<br>        banchoque = 1<br>        posiciony = 25<br>        posicionz = 0<br>        signo = 0<br>        contax = 1<br>        contaz = 1<br>        primera = 1<br>        Tiempo2 = 0<br>        Tiempo = 0<br>        rotado90 = 0<br>        rotado180 = 0<br>        rotado270 = 0<br><br><br>        RepeatSpeed = 0<br>        RepeatSpeed2 = 0<br>; Create cube <br>        dibujarpieza()<br><br>        Repeat<br>        Entrada()<br>        bajar()<br>        Tiempo = MilliSecs()<br>        Tiempo2 = MilliSecs()<br>        If KeyDown(45) = True Then<br>            Dz = Dz - (0.0001 * signo)<br>    If Dz&lt;-.03 signo=-1<br>    If Dz&gt;.03 signo=1<br>    MoveEntity camera,0,0,Dz   ; Desplazamos la cámara<br>                    TurnEntity(CamPivot, 0, 3, 0)<br><br>                End If<br><br>                If KeyDown(46) = True Then<br>                    Dz = Dz - (0.0001 * signo)<br>    If Dz&lt;-.03 signo=-1<br>    If Dz&gt;.03 signo=1<br>    MoveEntity camera,0,0,Dz   ; Desplazamos la cámara<br>                            TurnEntity(CamPivot, 0, -3, 0)<br>                        End If<br>                        If KeyDown(31) = True Then<br>                            destruye()<br>                        End If<br>                        UpdateWorld()<br>                        RenderWorld()<br>                        checacoli()<br>                        Flip()<br>Until KeyHit(1);Esc key<br><br>                        End<br><br><br>Function dibujarpieza()<br>        piezaactual = 7<br>        textemp = 0<br>        Select  True<br><br>            Case piezaactual = 1<br>                piezat1.pieza2 = New pieza2<br>   				piezat1\cubo= CreateCube() <br>  				piezat1\cubo1= 0<br>   				piezat1\cubo2= 0<br>  				piezat1\cubo3= 0<br>                textemp = Rand(1, 5)<br>                EntityTexture piezat1 \ cubo, Tex(textemp)<br>                EntityType piezat1 \ cubo, GHT<br><br><br>                PositionEntity piezat1 \ cubo, posicionx, posiciony, posicionz<br><br>            Case piezaactual = 2<br>                piezat1.pieza2 = New pieza2<br>   				piezat1\cubo= CreateCube() <br>  				piezat1\cubo1= CreateCube()<br>   				piezat1\cubo2= CreateCube()<br>   				piezat1\cubo3= 0<br>                textemp = Rand(1, 5)<br>                EntityTexture piezat1 \ cubo, Tex(textemp)<br>                EntityType piezat1 \ cubo, GHT<br>                textemp = Rand(1, 5)<br>                EntityTexture piezat1 \ cubo1, Tex(textemp)<br>                EntityType piezat1 \ cubo1, GHT<br>                textemp = Rand(1, 5)<br>                EntityTexture piezat1 \ cubo2, Tex(textemp)<br>                EntityType piezat1 \ cubo2, GHT<br>                PositionEntity piezat1 \ cubo, posicionx, posiciony, posicionz<br>                PositionEntity piezat1 \ cubo1, posicionx + 2, posiciony, posicionz<br>                PositionEntity piezat1 \ cubo2, posicionx + 4, posiciony, posicionz<br><br>            Case piezaactual = 3<br>                piezat1.pieza2 = New pieza2<br>   				piezat1\cubo= CreateCube() <br>   				piezat1\cubo1= CreateCube()<br>   				piezat1\cubo2= CreateCube()<br>   				piezat1\cubo3= 0<br>                textemp = Rand(1, 5)<br>                EntityTexture piezat1 \ cubo, Tex(textemp)<br>                EntityType piezat1 \ cubo, GHT<br>                textemp = Rand(1, 5)<br>                EntityTexture piezat1 \ cubo1, Tex(textemp)<br>                EntityType piezat1 \ cubo1, GHT<br>                textemp = Rand(1, 5)<br>                EntityTexture piezat1 \ cubo2, Tex(textemp)<br>                EntityType piezat1 \ cubo2, GHT<br><br>                PositionEntity piezat1 \ cubo, posicionx, posiciony, posicionz<br>                PositionEntity piezat1 \ cubo1, posicionx, posiciony + 2, posicionz<br>                PositionEntity piezat1 \ cubo2, posicionx + 2, posiciony, posicionz<br><br>            Case piezaactual = 4<br>                piezat1.pieza2 = New pieza2<br>   				piezat1\cubo= CreateCube() <br>   				piezat1\cubo1= CreateCube()<br>   				piezat1\cubo2= CreateCube()<br>   				piezat1\cubo3= CreateCube()<br>                textemp = Rand(1, 5)<br>                EntityTexture piezat1 \ cubo, Tex(textemp)<br>                EntityType piezat1 \ cubo, GHT<br>                textemp = Rand(1, 5)<br>                EntityTexture piezat1 \ cubo1, Tex(textemp)<br>                EntityType piezat1 \ cubo1, GHT<br>                textemp = Rand(1, 5)<br>                EntityTexture piezat1 \ cubo2, Tex(textemp)<br>                EntityType piezat1 \ cubo2, GHT<br>                textemp = Rand(1, 5)<br>                EntityTexture piezat1 \ cubo3, Tex(textemp)<br>                EntityType piezat1 \ cubo3, GHT<br><br><br>                PositionEntity piezat1 \ cubo, posicionx, posiciony, posicionz<br>                PositionEntity piezat1 \ cubo1, posicionx + 2, posiciony, posicionz<br>                PositionEntity piezat1 \ cubo2, posicionx + 2, posiciony + 2, posicionz<br>                PositionEntity piezat1 \ cubo3, posicionx, posiciony - 2, posicionz<br><br>            Case piezaactual = 5<br>                piezat1.pieza2 = New pieza2<br>   				piezat1\cubo= CreateCube() <br>   				piezat1\cubo1= CreateCube()<br>   				piezat1\cubo2= CreateCube()<br>   				piezat1\cubo3= CreateCube()<br>                textemp = Rand(1, 5)<br>                EntityTexture piezat1 \ cubo, Tex(textemp)<br>                EntityType piezat1 \ cubo, GHT<br>                textemp = Rand(1, 5)<br>                EntityTexture piezat1 \ cubo1, Tex(textemp)<br>                EntityType piezat1 \ cubo1, GHT<br>                textemp = Rand(1, 5)<br>                EntityTexture piezat1 \ cubo2, Tex(textemp)<br>                EntityType piezat1 \ cubo2, GHT<br>                textemp = Rand(1, 5)<br>                EntityTexture piezat1 \ cubo3, Tex(textemp)<br>                EntityType piezat1 \ cubo3, GHT<br><br><br>                PositionEntity piezat1 \ cubo, posicionx, posiciony, posicionz<br>                PositionEntity piezat1 \ cubo1, posicionx + 2, posiciony, posicionz<br>                PositionEntity piezat1 \ cubo2, posicionx + 4, posiciony, posicionz<br>                PositionEntity piezat1 \ cubo3, posicionx + 2, posiciony + 2, posicionz<br><br>            Case piezaactual = 6<br>                piezat1.pieza2 = New pieza2<br>   				piezat1\cubo= CreateCube() <br>   				piezat1\cubo1= CreateCube()<br>   				piezat1\cubo2= CreateCube()<br>   				piezat1\cubo3= CreateCube()<br>                textemp = Rand(1, 5)<br>                EntityTexture piezat1 \ cubo, Tex(textemp)<br>                EntityType piezat1 \ cubo, GHT<br>                textemp = Rand(1, 5)<br>                EntityTexture piezat1 \ cubo1, Tex(textemp)<br>                EntityType piezat1 \ cubo1, GHT<br>                textemp = Rand(1, 5)<br>                EntityTexture piezat1 \ cubo2, Tex(textemp)<br>                EntityType piezat1 \ cubo2, GHT<br>                textemp = Rand(1, 5)<br>                EntityTexture piezat1 \ cubo3, Tex(textemp)<br>                EntityType piezat1 \ cubo3, GHT<br><br><br><br>                PositionEntity piezat1 \ cubo, posicionx, posiciony, posicionz<br>                PositionEntity piezat1 \ cubo1, posicionx + 2, posiciony, posicionz<br>                PositionEntity piezat1 \ cubo2, posicionx, posiciony + 2, posicionz<br>                PositionEntity piezat1 \ cubo3, posicionx + 2, posiciony + 2, posicionz<br><br>            Case piezaactual = 7<br>                piezat1.pieza2 = New pieza2<br>  				piezat1\cubo= CreateCube() <br>				piezat1\cubo1= CreateCube()<br>			    piezat1\cubo2= CreateCube()<br>			    piezat1\cubo3= CreateCube()<br>			    EntityColor piezat1\cubo,Rand(1,255),Rand(1,255),Rand(1,255)<br>                 <br></div><br>                <pre class=code>EntityType piezat1 \ cubo, GHT ;remove this line after the firts execution and the program works fine but the collision it's not validate put the line back and the problem appears again
               </pre><br>			   <div class="quote">  EntityColor piezat1\cubo,Rand(1,255),Rand(1,255),Rand(1,255)<br> <br></div><br>                <pre class=code>EntityType piezat1 \ cubo1, GHT ;remove this line after the firts execution and the program works fine but the collision it's not validate put the line back and the problem appears again
</pre><br>              <div class="quote"> <br>			    EntityColor piezat1\cubo,Rand(1,255),Rand(1,255),Rand(1,255)<br> <br></div><br>             <pre class=code>   EntityType piezat1 \ cubo2, GHT ;remove this line after the firts execution and the program works fine but the collision it's not validate put the line back and the problem appears again
</pre><br>                <div class="quote"> <br>			    EntityColor piezat1\cubo,Rand(1,255),Rand(1,255),Rand(1,255)<br>                 <br></div><br>                <pre class=code>EntityType piezat1 \ cubo3, GHT ;remove this line after the firts execution and the program works fine but the collision it's not validate put the line back and the problem appears again
</pre><br><div class="quote"> <br><br><br><br>                PositionEntity piezat1 \ cubo, posicionx, posiciony, posicionz<br>                PositionEntity piezat1 \ cubo1, EntityX(piezat1 \ cubo) + 2, EntityY(piezat1 \ cubo), EntityZ(piezat1 \ cubo)<br>                PositionEntity piezat1 \ cubo2, EntityX(piezat1 \ cubo) + 2, EntityY(piezat1 \ cubo) + 2, EntityZ(piezat1 \ cubo)<br>                PositionEntity piezat1 \ cubo3, EntityX(piezat1 \ cubo) + 2, EntityY(piezat1 \ cubo) + 4, EntityZ(piezat1 \ cubo)<br><br>   			Default<br><br>       End Select<br><br>    End Function<br><br>    Function rotar()<br><br>        Select  True<br><br>            Case piezaactual = 1<br><br><br><br>            Case piezaactual = 2<br>                If (rotado90 = 0) Then<br>                    PositionEntity piezat1 \ cubo1, EntityX(piezat1 \ cubo), EntityY(piezat1 \ cubo) + 2, EntityZ(piezat1 \ cubo)<br>                    PositionEntity piezat1 \ cubo2, EntityX(piezat1 \ cubo), EntityY(piezat1 \ cubo) + 4, EntityZ(piezat1 \ cubo)<br>                    rotado90 = 1<br>                    contax = 1<br>                Else<br><br>                    PositionEntity piezat1 \ cubo, 0, EntityY(piezat1 \ cubo), EntityZ(piezat1 \ cubo)<br>                    PositionEntity piezat1 \ cubo1, EntityX(piezat1 \ cubo) + 2, EntityY(piezat1 \ cubo), EntityZ(piezat1 \ cubo)<br>                    PositionEntity piezat1 \ cubo2, EntityX(piezat1 \ cubo) + 4, EntityY(piezat1 \ cubo), EntityZ(piezat1 \ cubo)<br>                    rotado90 = 0<br>                End If<br>            Case piezaactual = 3<br><br>                If (rotado90 = 0) Then<br>                    If (EntityX(piezat1 \ cubo) = 0) Then<br>                        PositionEntity piezat1 \ cubo, 2, EntityY(piezat1 \ cubo), EntityZ(piezat1 \ cubo)<br>                        PositionEntity piezat1 \ cubo1, EntityX(piezat1 \ cubo) - 2, EntityY(piezat1 \ cubo), EntityZ(piezat1 \ cubo)<br>                        PositionEntity piezat1 \ cubo2, EntityX(piezat1 \ cubo), EntityY(piezat1 \ cubo) + 2, EntityZ(piezat1 \ cubo)<br>                        rotado90 = 1<br>                    Else<br>                        PositionEntity piezat1 \ cubo1, EntityX(piezat1 \ cubo) - 2, EntityY(piezat1 \ cubo), EntityZ(piezat1 \ cubo)<br>                        PositionEntity piezat1 \ cubo2, EntityX(piezat1 \ cubo), EntityY(piezat1 \ cubo) + 2, EntityZ(piezat1 \ cubo)<br>                        rotado90 = 1<br>                    End If<br>                Else<br>                    If (rotado180 = 0) Then<br>                        PositionEntity piezat1 \ cubo1, EntityX(piezat1 \ cubo), EntityY(piezat1 \ cubo) - 2, EntityZ(piezat1 \ cubo)<br>                        PositionEntity piezat1 \ cubo2, EntityX(piezat1 \ cubo) - 2, EntityY(piezat1 \ cubo), EntityZ(piezat1 \ cubo)<br>                        rotado180 = 1<br>                    Else<br>                        If (rotado270 = 0) Then<br>                            If (EntityX(piezat1 \ cubo) = 4) Then<br>                                PositionEntity piezat1 \ cubo, 2, EntityY(piezat1 \ cubo), EntityZ(piezat1 \ cubo)<br>                                PositionEntity piezat1 \ cubo1, EntityX(piezat1 \ cubo) + 2, EntityY(piezat1 \ cubo), EntityZ(piezat1 \ cubo)<br>                                PositionEntity piezat1 \ cubo2, EntityX(piezat1 \ cubo), EntityY(piezat1 \ cubo) - 2, EntityZ(piezat1 \ cubo)<br>                                rotado270 = 1<br>                            Else<br>                                PositionEntity piezat1 \ cubo1, EntityX(piezat1 \ cubo) + 2, EntityY(piezat1 \ cubo), EntityZ(piezat1 \ cubo)<br>                                PositionEntity piezat1 \ cubo2, EntityX(piezat1 \ cubo), EntityY(piezat1 \ cubo) - 2, EntityZ(piezat1 \ cubo)<br>                                rotado270 = 1<br>                            End If<br>                        Else<br>                            PositionEntity piezat1 \ cubo1, EntityX(piezat1 \ cubo), EntityY(piezat1 \ cubo) + 2, EntityZ(piezat1 \ cubo)<br>                            PositionEntity piezat1 \ cubo2, EntityX(piezat1 \ cubo) + 2, EntityY(piezat1 \ cubo), EntityZ(piezat1 \ cubo)<br>                            rotado90 = 0<br>                            rotado180 = 0<br>                            rotado270 = 0<br>                        End If<br><br>                    End If<br>                End If<br><br>            Case piezaactual = 4<br><br>                If (rotado90 = 0) Then<br>                    PositionEntity piezat1 \ cubo, 2, EntityY(piezat1 \ cubo), EntityZ(piezat1 \ cubo)<br>                    PositionEntity piezat1 \ cubo1, EntityX(piezat1 \ cubo), EntityY(piezat1 \ cubo) + 2, EntityZ(piezat1 \ cubo)<br>                    PositionEntity piezat1 \ cubo2, EntityX(piezat1 \ cubo) - 2, EntityY(piezat1 \ cubo) + 2, EntityZ(piezat1 \ cubo)<br>                    PositionEntity piezat1 \ cubo3, EntityX(piezat1 \ cubo) + 2, EntityY(piezat1 \ cubo), EntityZ(piezat1 \ cubo)<br>                    rotado90 = 1<br>                Else<br>                    PositionEntity piezat1 \ cubo, 0, EntityY(piezat1 \ cubo), EntityZ(piezat1 \ cubo)<br>                    PositionEntity piezat1 \ cubo1, EntityX(piezat1 \ cubo) + 2, EntityY(piezat1 \ cubo), EntityZ(piezat1 \ cubo)<br>                    PositionEntity piezat1 \ cubo2, EntityX(piezat1 \ cubo) + 2, EntityY(piezat1 \ cubo) + 2, EntityZ(piezat1 \ cubo)<br>                    PositionEntity piezat1 \ cubo3, EntityX(piezat1 \ cubo), EntityY(piezat1 \ cubo) - 2, EntityZ(piezat1 \ cubo)<br>                    rotado90 = 0<br><br>                End If<br><br>            Case piezaactual = 5<br><br>                If (rotado90 = 0) Then<br>                    PositionEntity piezat1 \ cubo, 2, EntityY(piezat1 \ cubo) + 2, EntityZ(piezat1 \ cubo)<br>                    PositionEntity piezat1 \ cubo1, EntityX(piezat1 \ cubo), EntityY(piezat1 \ cubo) + 2, EntityZ(piezat1 \ cubo)<br>                    PositionEntity piezat1 \ cubo2, EntityX(piezat1 \ cubo), EntityY(piezat1 \ cubo) + 4, EntityZ(piezat1 \ cubo)<br>                    PositionEntity piezat1 \ cubo3, EntityX(piezat1 \ cubo) - 2, EntityY(piezat1 \ cubo) + 2, EntityZ(piezat1 \ cubo)<br>                    rotado90 = 1<br>                    contax = 1<br><br>                Else<br>                    If (rotado180 = 0) Then<br>                        PositionEntity piezat1 \ cubo, 0, EntityY(piezat1 \ cubo), EntityZ(piezat1 \ cubo)<br>                        PositionEntity piezat1 \ cubo1, EntityX(piezat1 \ cubo) + 2, EntityY(piezat1 \ cubo), EntityZ(piezat1 \ cubo)<br>                        PositionEntity piezat1 \ cubo2, EntityX(piezat1 \ cubo) + 4, EntityY(piezat1 \ cubo), EntityZ(piezat1 \ cubo)<br>                        PositionEntity piezat1 \ cubo3, EntityX(piezat1 \ cubo) + 2, EntityY(piezat1 \ cubo) - 2, EntityZ(piezat1 \ cubo)<br>                        rotado180 = 1<br>                    Else<br>                        If (rotado270 = 0) Then<br>                            PositionEntity piezat1 \ cubo, 2, EntityY(piezat1 \ cubo), EntityZ(piezat1 \ cubo)<br>                            PositionEntity piezat1 \ cubo1, EntityX(piezat1 \ cubo), EntityY(piezat1 \ cubo) + 2, EntityZ(piezat1 \ cubo)<br>                            PositionEntity piezat1 \ cubo2, EntityX(piezat1 \ cubo), EntityY(piezat1 \ cubo) + 4, EntityZ(piezat1 \ cubo)<br>                            PositionEntity piezat1 \ cubo3, EntityX(piezat1 \ cubo) + 2, EntityY(piezat1 \ cubo) + 2, EntityZ(piezat1 \ cubo)<br>                            contax = 2<br>                            rotado270 = 1<br>                        Else<br>                            PositionEntity piezat1 \ cubo, 0, EntityY(piezat1 \ cubo), EntityZ(piezat1 \ cubo)<br>                            PositionEntity piezat1 \ cubo1, EntityX(piezat1 \ cubo) + 2, EntityY(piezat1 \ cubo), EntityZ(piezat1 \ cubo)<br>                            PositionEntity piezat1 \ cubo2, EntityX(piezat1 \ cubo) + 4, EntityY(piezat1 \ cubo), EntityZ(piezat1 \ cubo)<br>                            PositionEntity piezat1 \ cubo3, EntityX(piezat1 \ cubo) + 2, EntityY(piezat1 \ cubo) + 2, EntityZ(piezat1 \ cubo)<br>                            rotado90 = 0<br>                            rotado180 = 0<br>                            rotado270 = 0<br>                        End If<br>                    End If<br>                End If<br><br>            Case piezaactual = 6<br><br><br><br><br>            Case piezaactual = 7<br>                If (rotado90 = 0) Then<br>                    PositionEntity piezat1 \ cubo, 4, EntityY(piezat1 \ cubo), EntityZ(piezat1 \ cubo)<br>                    PositionEntity piezat1 \ cubo1, EntityX(piezat1 \ cubo), EntityY(piezat1 \ cubo) + 2, EntityZ(piezat1 \ cubo)<br>                    PositionEntity piezat1 \ cubo2, EntityX(piezat1 \ cubo) - 2, EntityY(piezat1 \ cubo) + 2, EntityZ(piezat1 \ cubo)<br>                    PositionEntity piezat1 \ cubo3, EntityX(piezat1 \ cubo) - 4, EntityY(piezat1 \ cubo) + 2, EntityZ(piezat1 \ cubo)<br>                    rotado90 = 1<br>                Else<br>                    If (rotado180 = 0) Then<br>                        PositionEntity piezat1 \ cubo, 2, EntityY(piezat1 \ cubo), EntityZ(piezat1 \ cubo)<br>                        PositionEntity piezat1 \ cubo1, EntityX(piezat1 \ cubo) - 2, EntityY(piezat1 \ cubo), EntityZ(piezat1 \ cubo)<br>                        PositionEntity piezat1 \ cubo2, EntityX(piezat1 \ cubo) - 2, EntityY(piezat1 \ cubo) - 2, EntityZ(piezat1 \ cubo)<br>                        PositionEntity piezat1 \ cubo3, EntityX(piezat1 \ cubo) - 2, EntityY(piezat1 \ cubo) - 4, EntityZ(piezat1 \ cubo)<br>                        rotado180 = 1<br>                    Else<br>                        If (rotado270 = 0) Then<br>                            PositionEntity piezat1 \ cubo, 0, EntityY(piezat1 \ cubo), EntityZ(piezat1 \ cubo)<br>                            PositionEntity piezat1 \ cubo1, EntityX(piezat1 \ cubo), EntityY(piezat1 \ cubo) - 2, EntityZ(piezat1 \ cubo)<br>                            PositionEntity piezat1 \ cubo2, EntityX(piezat1 \ cubo) + 2, EntityY(piezat1 \ cubo) - 2, EntityZ(piezat1 \ cubo)<br>                            PositionEntity piezat1 \ cubo3, EntityX(piezat1 \ cubo) + 4, EntityY(piezat1 \ cubo) - 2, EntityZ(piezat1 \ cubo)<br>                            rotado270 = 1<br><br>                        Else<br>                            PositionEntity piezat1 \ cubo, 0, EntityY(piezat1 \ cubo), EntityZ(piezat1 \ cubo)<br>                            PositionEntity piezat1 \ cubo1, EntityX(piezat1 \ cubo) + 2, EntityY(piezat1 \ cubo), EntityZ(piezat1 \ cubo)<br>                            PositionEntity piezat1 \ cubo2, EntityX(piezat1 \ cubo) + 2, EntityY(piezat1 \ cubo) + 2, EntityZ(piezat1 \ cubo)<br>                            PositionEntity piezat1 \ cubo3, EntityX(piezat1 \ cubo) + 2, EntityY(piezat1 \ cubo) + 4, EntityZ(piezat1 \ cubo)<br>                            rotado90 = 0<br>                            rotado180 = 0<br>                            rotado270 = 0<br>                        End If<br>                    End If<br>                End If<br><br><br>   Default<br><br>        End Select<br><br>    End Function<br><br><br>    Function moverup()<br><br><br>        If (contaz &gt;= 2) Then<br>            contaz = contaz - 1<br>            If (piezat1 \ cubo &lt;&gt; 0) Then PositionEntity piezat1 \ cubo, EntityX(piezat1 \ cubo), EntityY(piezat1 \ cubo), EntityZ(piezat1 \ cubo) + 2.01<br>            If (piezat1 \ cubo1 &lt;&gt; 0) Then PositionEntity piezat1 \ cubo1, EntityX(piezat1 \ cubo1), EntityY(piezat1 \ cubo1), EntityZ(piezat1 \ cubo1) + 2.01<br>            If (piezat1 \ cubo2 &lt;&gt; 0) Then PositionEntity piezat1 \ cubo2, EntityX(piezat1 \ cubo2), EntityY(piezat1 \ cubo2), EntityZ(piezat1 \ cubo2) + 2.01<br>            If (piezat1 \ cubo3 &lt;&gt; 0) Then PositionEntity piezat1 \ cubo3, EntityX(piezat1 \ cubo3), EntityY(piezat1 \ cubo3), EntityZ(piezat1 \ cubo3) + 2.01<br><br>        End If<br><br>    End Function<br><br>    Function moverdown()<br><br>        If (contaz &lt;= 2) Then<br>            If (piezat1 \ cubo &lt;&gt; 0) Then PositionEntity piezat1 \ cubo, EntityX(piezat1 \ cubo), EntityY(piezat1 \ cubo), EntityZ(piezat1 \ cubo) - 2.01<br>            If (piezat1 \ cubo1 &lt;&gt; 0) Then PositionEntity piezat1 \ cubo1, EntityX(piezat1 \ cubo1), EntityY(piezat1 \ cubo1), EntityZ(piezat1 \ cubo1) - 2.01<br>            If (piezat1 \ cubo2 &lt;&gt; 0) Then PositionEntity piezat1 \ cubo2, EntityX(piezat1 \ cubo2), EntityY(piezat1 \ cubo2), EntityZ(piezat1 \ cubo2) - 2.01<br>            If (piezat1 \ cubo3 &lt;&gt; 0) Then PositionEntity piezat1 \ cubo3, EntityX(piezat1 \ cubo3), EntityY(piezat1 \ cubo3), EntityZ(piezat1 \ cubo3) - 2.01<br><br>            contaz = contaz + 1<br>        End If<br><br>    End Function<br><br>    Function moverlt()<br>        If (piezaactual = 1) Then<br>            If (contax &gt;= 2) Then<br>                contax = contax - 1<br>                PositionEntity piezat1 \ cubo, EntityX(piezat1 \ cubo) - 2.05, EntityY(piezat1 \ cubo), EntityZ(piezat1 \ cubo)<br>            End If<br>        Else<br>            If (piezaactual = 2 Or piezaactual = 3) Then<br><br>                If (piezaactual = 2 And rotado90 = 1) Then<br><br>                    If (contax &gt;= 2) Then<br>                        contax = contax - 1<br>                        PositionEntity piezat1 \ cubo, EntityX(piezat1 \ cubo) - 2, EntityY(piezat1 \ cubo), EntityZ(piezat1 \ cubo)<br>                        PositionEntity piezat1 \ cubo1, EntityX(piezat1 \ cubo1) - 2, EntityY(piezat1 \ cubo1), EntityZ(piezat1 \ cubo1)<br>                        PositionEntity piezat1 \ cubo2, EntityX(piezat1 \ cubo2) - 2, EntityY(piezat1 \ cubo2), EntityZ(piezat1 \ cubo2)<br>                    End If<br>                Else<br>                    If (piezaactual = 2 And rotado90 = 0) Then<br>                    Else<br>                        If (contax &gt;= 2) Then<br>                            contax = contax - 1<br>                            PositionEntity piezat1 \ cubo, EntityX(piezat1 \ cubo) - 2, EntityY(piezat1 \ cubo), EntityZ(piezat1 \ cubo)<br>                            PositionEntity piezat1 \ cubo1, EntityX(piezat1 \ cubo1) - 2, EntityY(piezat1 \ cubo1), EntityZ(piezat1 \ cubo1)<br>                            PositionEntity piezat1 \ cubo2, EntityX(piezat1 \ cubo2) - 2, EntityY(piezat1 \ cubo2), EntityZ(piezat1 \ cubo2)<br>                        End If<br><br>                    End If<br>                End If<br>            Else<br>                If (contax &gt;= 2) Then<br>                    contax = contax - 1<br>                    PositionEntity piezat1 \ cubo, EntityX(piezat1 \ cubo) - 2, EntityY(piezat1 \ cubo), EntityZ(piezat1 \ cubo)<br>                    PositionEntity piezat1 \ cubo1, EntityX(piezat1 \ cubo1) - 2, EntityY(piezat1 \ cubo1), EntityZ(piezat1 \ cubo1)<br>                    PositionEntity piezat1 \ cubo2, EntityX(piezat1 \ cubo2) - 2, EntityY(piezat1 \ cubo2), EntityZ(piezat1 \ cubo2)<br>                    PositionEntity piezat1 \ cubo3, EntityX(piezat1 \ cubo3) - 2, EntityY(piezat1 \ cubo3), EntityZ(piezat1 \ cubo3)<br>                End If<br>            End If<br>        End If<br><br>    End Function<br><br>    Function moverrt()<br><br><br>        If (piezaactual = 1) Then<br>            If (contax &lt;= 2) Then<br>                PositionEntity piezat1 \ cubo, EntityX(piezat1 \ cubo) + 2.05, EntityY(piezat1 \ cubo), EntityZ(piezat1 \ cubo)<br>                contax = contax + 1<br>            End If<br>        Else<br>            If (piezaactual = 2 Or piezaactual = 3) Then<br><br>                If (piezaactual = 2 And rotado90 = 1) Then<br>                    If (contax &lt;= 2) Then<br>                        PositionEntity piezat1 \ cubo, EntityX(piezat1 \ cubo) + 2, EntityY(piezat1 \ cubo), EntityZ(piezat1 \ cubo)<br>                        PositionEntity piezat1 \ cubo1, EntityX(piezat1 \ cubo1) + 2, EntityY(piezat1 \ cubo1), EntityZ(piezat1 \ cubo1)<br>                        PositionEntity piezat1 \ cubo2, EntityX(piezat1 \ cubo2) + 2, EntityY(piezat1 \ cubo2), EntityZ(piezat1 \ cubo2)<br>                        contax = contax + 1<br>                    End If<br><br><br>                Else<br>                    If (piezaactual = 2 And rotado90 = 0) Then<br>                    Else<br>                        If (contax &lt; 2) Then<br>                            PositionEntity piezat1 \ cubo, EntityX(piezat1 \ cubo) + 2, EntityY(piezat1 \ cubo), EntityZ(piezat1 \ cubo)<br>                            PositionEntity piezat1 \ cubo1, EntityX(piezat1 \ cubo1) + 2, EntityY(piezat1 \ cubo1), EntityZ(piezat1 \ cubo1)<br>                            PositionEntity piezat1 \ cubo2, EntityX(piezat1 \ cubo2) + 2, EntityY(piezat1 \ cubo2), EntityZ(piezat1 \ cubo2)<br>                            contax = contax + 1<br>                        End If<br>                    End If<br>                End If<br>            Else<br>                If (contax &lt; 2) Then<br>                    PositionEntity piezat1 \ cubo, EntityX(piezat1 \ cubo) + 2, EntityY(piezat1 \ cubo), EntityZ(piezat1 \ cubo)<br>                    PositionEntity piezat1 \ cubo1, EntityX(piezat1 \ cubo1) + 2, EntityY(piezat1 \ cubo1), EntityZ(piezat1 \ cubo1)<br>                    PositionEntity piezat1 \ cubo2, EntityX(piezat1 \ cubo2) + 2, EntityY(piezat1 \ cubo2), EntityZ(piezat1 \ cubo2)<br>                    PositionEntity piezat1 \ cubo3, EntityX(piezat1 \ cubo3) + 2, EntityY(piezat1 \ cubo3), EntityZ(piezat1 \ cubo3)<br>                    contax = contax + 1<br>                End If<br>            End If<br>        End If<br><br><br>    End Function<br><br>    Function destruye()<br>        FreeEntity(piezat1 \ cubo3)<br>        FreeEntity(piezat1 \ cubo2)<br>piezat1\cubo3=0<br>piezat1\cubo2=0<br>    End Function<br><br><br>    Function Entrada()<br><br><br>  KeyLeft = KeyDown(203)        ;left key<br>  KeyRight = KeyDown(205)        ;right key<br>  KeyDwn = KeyDown(208)        ;down key<br>        KeyUp = KeyDown(200)<br>        KeyRt = KeyDown(30)<br><br>        If RepeatSpeed &lt; Tiempo Then<br>            RepeatSpeed = Tiempo + 50<br>            If keyLeft Then moverlt()<br>            If keyRight Then moverrt()<br>            If keyDwn Then moverdown()<br>            If KeyUp Then moverup()<br><br>        End If<br>        If RepeatSpeed2 &lt; Tiempo Then<br>            RepeatSpeed2 = Tiempo + 100<br><br>            If keyRt Then rotar()<br>        End If<br><br><br>    End Function<br> Function bajar()<br>        If Velcaida &lt; Tiempo2 Then<br>            VelCaida = Tiempo2 + 600<br>            If (piezaactual = 1) Then<br><br><br><br>                If banchoque = 1 Then<br>                    If (EntityY(piezat1 \ cubo) &gt; -5) Then<br>                        PositionEntity piezat1 \ cubo, EntityX(piezat1 \ cubo), EntityY(piezat1 \ cubo) - 1, EntityZ(piezat1 \ cubo)<br>                    Else<br>                        contax = 1<br>                        contaz = 1<br>                        rotado90 = 0<br>                        rotado180 = 0<br>                        rotado270 = 0<br>                        banchoque = 1<br>                        primera = 0<br>                        dibujarpieza()<br><br>                    End If<br>                Else<br>                    contax = 1<br>                    contaz = 1<br>                    rotado90 = 0<br>                    rotado180 = 0<br>                    rotado270 = 0<br>                    banchoque = 1<br>                    dibujarpieza()<br><br><br>                End If<br>            Else<br>                If (piezaactual = 2 Or piezaactual = 3) Then<br>                    If ((piezaactual = 2 And EntityY(piezat1 \ cubo) &gt; -5 And rotado90 = 0) Or (piezaactual = 2 And EntityY(piezat1 \ cubo) &gt; -5 And rotado90 = 1 And rotado180 = 0 And rotado270 = 0) Or (piezaactual = 3 And EntityY(piezat1 \ cubo) &gt; -5 And rotado90 = 0) Or (piezaactual = 3 And EntityY(piezat1 \ cubo) &gt; -5 And rotado90 = 1 And rotado180 = 0 And rotado270 = 0) Or (piezaactual = 3 And EntityY(piezat1 \ cubo1) &gt; -5 And rotado180 = 1 And rotado270 = 0) Or (piezaactual = 3 And EntityY(piezat1 \ cubo2) &gt; -5 And rotado270 = 1) )Then<br><br>                        PositionEntity piezat1 \ cubo, EntityX(piezat1 \ cubo), EntityY(piezat1 \ cubo) - 1, EntityZ(piezat1 \ cubo)<br>                        PositionEntity piezat1 \ cubo1, EntityX(piezat1 \ cubo1), EntityY(piezat1 \ cubo1) - 1, EntityZ(piezat1 \ cubo1)<br>                        PositionEntity piezat1 \ cubo2, EntityX(piezat1 \ cubo2), EntityY(piezat1 \ cubo2) - 1, EntityZ(piezat1 \ cubo2)<br>                    Else<br>                        contax = 1<br>                        contaz = 1<br>                        rotado90 = 0<br>                        rotado180 = 0<br>                        rotado270 = 0<br>                        dibujarpieza()<br><br>                    End If<br><br>                Else<br><br>                    If (piezaactual &gt;= 4 And pieazaactual &lt;= 7) Then<br>                        If (EntityY(piezat1 \ cubo) &gt; -5) Then<br><br>                            PositionEntity piezat1 \ cubo, EntityX(piezat1 \ cubo), EntityY(piezat1 \ cubo) - 1, EntityZ(piezat1 \ cubo)<br>                            PositionEntity piezat1 \ cubo1, EntityX(piezat1 \ cubo1), EntityY(piezat1 \ cubo1) - 1, EntityZ(piezat1 \ cubo1) <br>                            PositionEntity piezat1 \ cubo2, EntityX(piezat1 \ cubo2), EntityY(piezat1 \ cubo2) - 1, EntityZ(piezat1 \ cubo2) <br>                            PositionEntity piezat1 \ cubo3, EntityX(piezat1 \ cubo3), EntityY(piezat1 \ cubo3) - 1, EntityZ(piezat1 \ cubo3) <br>                        Else<br>                            contax = 1<br>                            contaz = 1<br>                            rotado90 = 0<br>                            rotado180 = 0<br>                            rotado270 = 0<br>                            dibujarpieza()<br><br>                        End If<br><br>                    End If<br>                End If<br>            End If<br><br>        End If<br>    End Function<br> <br></div><br> <pre class=code>Function checacoli()
        Collisions(GHT, GHT, 3, 1)
        If EntityCollided(piezat1 \ cubo, GHT) Or EntityCollided(piezat1 \ cubo1, GHT) Or EntityCollided(piezat1 \ cubo2, GHT) Or EntityCollided(piezat1 \ cubo3, GHT )Then
            banchoque = 0
        End If

 End Function
</pre> <br><br></td></tr></table><br>
<a name="523613"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe you should describe your problem closer. People usually don't like to read long listings to find a problem.<br><br>And use the forum bb-codes for sourcecode:<br>(code)<br>print "hello world"<br>(/code)<br>, only [] for ()<br>This makes reading the code easier too.<br><br>So where exactly is your problem? What do you mean by "extrange"? BTW you can edit your post. <br><br></td></tr></table><br>
<a name="523638"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="/faq/faq_entry.php?id=2" >What are the forum codes?</a><br><br>Perhaps you'd like to take a look at my basic tetris clone code at my programming tutorial.  I think it would be easier to convert it to a 3D game, then it would to try to get your code to work... <br><br></td></tr></table><br>
<a name="523848"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rook Zimbabwe</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> aLL OF THE ABOVE... <br><br></td></tr></table><br>
<a name="523853"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CarlosEures</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok look that when i check the collision of the cubes it's when the program comes to do extrange things , i don't now what's up with the collisions but generate bugs, how i resolve that execute the code(i edited for best comprenssion of my code check the top of the post ), and remove the lines that indicate in the program and the program runs good but if you put the lines to validate the collisions(EntityType..) the program do the extrange things,please  help because i need to finish that program.<br>the extrange things that the program do it's appear more cubes in the wrong possition and form check it. <br><br></td></tr></table><br>
<a name="523854"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CarlosEures</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
Please Help me
</pre> <br><br></td></tr></table><br>
<a name="524120"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> The main problem here is no-one can really run your source code, because there is no media. Another problem is that the code is poorly structured, so checking through it looks like a nightmare. May i suggest a different approach to your tetris game?<br><br>Store all the block positions in an array. When a block is coming down and you want to check for collisions, check the array to see if it has a block flagged in that location.<br><br><pre class=code>
Array layout

Dim Grid(6,11)

;array contents for an example

.......
.......
.......
.......
.......
..2....
..2....
.22....
.......
1..1..1
1111111
1111111
</pre><br><br>The 1's represent a block that has fallen and landed. a "." represents an empty space and a 2 represents the space occupied by a falling block. Simply check the array positions to see if they contain zero's before moving your block down. <br><br></td></tr></table><br>
<a name="524123"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Like I said, I already have a (free) tetris game that you can use...<br><br>My code does what Ross is talking about. <br><br></td></tr></table><br>
<a name="524615"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> You should not use the QUOTE forum-code to format sourcecode. And yes, why don't you save yourself the time and use Wolrons working Tetris example, simply follow his signature link. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
