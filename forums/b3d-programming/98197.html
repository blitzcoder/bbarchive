<!DOCTYPE html><html lang="en" ><head ><title >Magic tip to improve the fps of a game</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Magic tip to improve the fps of a game</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Magic tip to improve the fps of a game</a><br><br>
<a name="1145732"></a>

<a name="1145733"></a>

<a name="1145734"></a>

<a name="1145776"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, :)<br><br>I just want to share with you an important way to improve the fps of a game and decrease the ressources it needs.<br><br>Basically it is about having quality importers/exporters of meshes, joints, animations...<br><br>I was not aware of this problem because i assumed that a person who sells/distributes a modeling software has taken care of this but apparently not ! And it seems to be a problem with several softwares depending on how the importers/exporters are coded. <br><br>I was trying ot optimize my meshes so that they have the less surfaces, vertices, triangles possible in order to avoid too many calculations for the rendering of shadows with DSS.<br><br>After several tests and tweaks i realised that the .b3d exporter of Fragmotion produces many errors (it adds one joint, it adds one animation, it adds 3 vertices for each triangle)<br><br>So instead of having a low tris low vertices mesh that requires a few calculations, i had a low tris high vertices mesh that requires 3 times more calculations.<br><br>I don't say this is a problem with all modeling softwares, but i say that if clean meshes are important for your game, you should check if the exporter/importer you use produces clean meshes.<br><br>Oh by the way, this .obj importer produces 3 times the number of vertices...<br><a href="http://blitzbasic.com/codearcs/codearcs.php?code=1323" target="_blank">http://blitzbasic.com/codearcs/codearcs.php?code=1323</a><br><br>So my next step is to write a clean .obj importer for Blitz3d.<br><br>This was my tip of the day.<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1145735"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Some more tips for increasing speed in blitz:<br><br>Reduce the amount of bones in your meshes.<br>Use md2 animations where you can get away with it.<br>Don't use the TEXT command.<br>Try and use less surfaces.<br>Single surface particle system.<br>Forcing a texture to VRAM can sometimes cause slowdowns. <br><br></td></tr></table><br>
<a name="1145736"></a>

<a name="1145737"></a>

<a name="1145738"></a>

<a name="1145740"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rroff</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Another tip - don't rebuild the whole UI every frame (does take some special case handling of keyboard/mouse input). Mine renders the UI to a buffer and draws that buffer every frame (I'm actually using a system now with a front and backbuffer and rebuilding the UI a little at a time as much as possible before forcing it to finish everything once it hits 30ms since the last UI update then flipping the UI drawing buffer as rebuilding it all in one go once every 30ms means you get a spike of one much longer frame).<br><br>Tempted to try threading UI building with fastpointer to tho theres a few potential issues with that.<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1145743"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Tempted to try threading UI building with fastpointer <br></div><br><br>Do note that there is <i>no</i> thread-safe, fast way to share data in FastPointer, as it doesn't include locks (for... some reason?). The lock-free algorithms you might find on Wikipedia or in 90s CS textbooks will <i>not</i> work on a modern CPU, as they rely on it not performing instruction reordering or other hardware optimisations.<br><br>You can obviously share data using something that the OS will lock for you, like a stream, but that might eat up all of your performance gains. And anything going through the renderer has to be coordinated around it anyway (i.e. all threads handling graphics have to be paused and their data committed before you can call RenderWorld, or <i>chaos will ensue</i>). <br><br></td></tr></table><br>
<a name="1145744"></a>

<a name="1145747"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rroff</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah aware of that - probably will be done via spawning threads on the fly and waiting til they've finished to flip from building graphic buffer to renderering graphic buffer (not sure if spawning and killing threads fairly frequently has any performance implications) and obviously going to have to manually "lock" the data set its drawing from while the thread is active (possibly have to have 2 sets to work from).<br><br>I'm currently using fastpointer as part of my system for attaching the win32 console to the b3d application (without threading it doesn't work properly with b3d) - this means I can have debug output and enter CLI commands to the program without having to have a functioning UI in the program.<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1145749"></a>

<a name="1145750"></a>

<a name="1145752"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> not sure if spawning and killing threads fairly frequently has any performance implications <br></div><br><br>It does, unfortunately. This is why thread-pools and things like Grand Central Dispatch exist - to avoid this scenario. If you create a thread, make sure to get a good deal of work out of it.<br><br>While there's no "technically" thread-safe solution for FastPointer, you might be able to get away with certain assumptions if you enforce, e.g. single-ownership of resources, in documentation. A timer-based lock system (each thread object is assigned a "slot" on the system time during which it is allowed to read from the coordinating main thread, with buffer slots in between) would <i>work</i> in most cases, allowing for 1) the above documentation layer, 2) the assumption that the "slots" are wide enough being enforced by the app's processor requirements, and 3) a radically different application design from a lock-based or STM threading model that assumes threads can go for human-scale timespans (or at least, spans that can be described by the timer's granularity, which with B3D's MilliSecs is pretty long - could mean skipping frames) without communicating. And it'd still be pretty fragile.<br><br><br><div class="quote"> my system for attaching the win32 console to the b3d application (without threading it doesn't work properly with b3d) - this means I can have debug output and enter CLI commands to the program without having to have a functioning UI in the program <br></div><br><br>Sounds <i>very</i> cool.<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1145753"></a>

<a name="1145754"></a>

<a name="1145755"></a>

<a name="1145756"></a>

<a name="1145757"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rroff</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Quick screenshot (no pretty picture as its just an engine framework at the moment):<br><br><a href="http://aten-hosted.com/images/b3dcli.jpg" target="_blank">http://aten-hosted.com/images/b3dcli.jpg</a><br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1146567"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Use Quad meshes rather than Blitz Sprites<br>Minimise  where possible the Blitz collision checking system<br>Smart use of 'portalling' and/or LOD changes to distant mesh polycounts <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
