<!DOCTYPE html><html lang="en" ><head ><title >Playing Video Major Slowdown</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Playing Video Major Slowdown</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Playing Video Major Slowdown</a><br><br>
<a name="815345"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mortiis</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Simply, I want to play video files realtime, while playing the<br>game a transmission window will appear and the video will play<br>there as you play the game.<br><br>It causes a major slowdown until video disappears. Is there<br>any way to overcome that slowdown?<br><br>AnimTexture is my last option btw.<br><br>Thanks. <br><br></td></tr></table><br>
<a name="815354"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >andy_mc</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You'll need to use a smaller video resolution, or one with less compression. Blitz uses directshow to show videos, so if it's a highres DVD quality video, then it's using a lot of CPU time to decode the video before texturing it onto a surface. So try to keep the resolution of the video small and if possible, don't compress it too much.<br><br>Remember the adult video clip playing on the cinema screen in duke dukem? That was really low res for the same reason, high res pron would've killed the frame rate. <br><br></td></tr></table><br>
<a name="815363"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mortiis</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, it's a 200x200 non-compressed avi. As far as I know, duke nukem uses animated textures to emulate video. It's not normal, it drops from 400 fps to something like 15...wierd. <br><br></td></tr></table><br>
<a name="815411"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >andy_mc</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> hmm, maybe it's running at the same framerate as the video? <br><br></td></tr></table><br>
<a name="815478"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mortiis</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nope, I tried a 60 fps video but the actual fps of the game shows 15 while there is no video it's 400. <br><br></td></tr></table><br>
<a name="815516"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Opening a movie will always pause the machine for a while. Playback should be ok, tho it forces the movies framerate with every Drawmovie command, so you should call it when all work is done, right before the Flip. You may also use a polled call, eg: if time elapsed &gt; frametime then drawmovie.<br><br>Other than that I have no idea why a 200*200 uncompressed Avi should be so slow. Then again, are you ure you tried a movie with 60 frames/s? They usually have 30 or less. Even a DVD has 60 or 50 interlaced(!), this is not really 60, but actually 30. Probably the movie has 15 fps and your graphicscard is set to 60 Hz, so you confused them? <br><br>As a worst case solution without sound you may also use the Avi Framegrabber  (codearchives&gt;userlibs) and play the movie frame by frame by your code. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
