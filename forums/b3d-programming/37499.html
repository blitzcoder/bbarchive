<!DOCTYPE html><html lang="en" ><head ><title >Multipass rendering, instancing, surface order</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Multipass rendering, instancing, surface order</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Multipass rendering, instancing, surface order</a><br><br>
<a name="412730"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> There are two ways Blitz might be rendering things internally:<br><br>In this model, slowdown is caused by the "start surface" routines:<pre class=code>Start surface
Render surface
Stop surface</pre>Here is another possibility:<pre class=code>Start surface
Render surface
If this surface is different, start surface
Render surface</pre>If the second model is accurate, multiple surfaces with like brushes could be rendered in a batch, with individual RenderWorld() commands, with none of the slowdown associated with multiple surfaces.<br><br>Which is accurate?  This requires comment from the man.<br><br>Multiple surfaces can be quickly rendered when using instanced meshes, i.e. use CopyEntity, and just position, scale, and rotate each instance of the mesh, like the Unreal engine does.  Less vertex data gets passed to VRAM, and it's much easier to control separate mesh matrices, as opposed to a single merged mesh.  If you use referenced meshes, discard the whole surfaces method, and use children, with one surface each.  This way you can apply separate materials and fx to each subobject.  If you tried painting the surfaces, you would just repaint every instance in the scene the same, since they all reference the same surface.  However, entity brushes can be stored per instance.  It should be noted that unique vertex colors are not possible with instanced meshes.  However, since you are rendering each in a separate pass, you can set up a unique lighting environment for each mesh.<br><br>Finally, if you do multipass rendering in windowed mode, turn antialiasing off, or you will suffer severe slowdown, probably because it performs the antialiasing operation with each render when in windowed mode. <br><br></td></tr></table><br>
<a name="412883"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> BTW I heared the higher the number of alpha meshes that are visible behind one another, the more an alpha bottleneck starts slowing down the framerate. Maybe this could be prevented when the hud elements are rendered seperately. <br><br></td></tr></table><br>
<a name="412936"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> One reason I wanted AA to be improved is because your render to texture stuff is also *NEEDLESSLY* Antialiased! this seriously limits AA being useful. <br><br></td></tr></table><br>
<a name="413110"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Jesus, the z-ordering must be the reason it is faster to render each object in a separate pass.  I do this, and then render all my transparent objects in one final pass. <br><br></td></tr></table><br>
<a name="413190"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ashmantle</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> You mean like hide/show your objects and do Renderworld after each one? Kinda like sorting your own objects..? <br><br></td></tr></table><br>
<a name="413193"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes.  That's how I do staticmeshes. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
