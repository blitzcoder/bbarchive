<!DOCTYPE html><html lang="en" ><head ><title >Overwriting Blitz functions</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Overwriting Blitz functions</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Overwriting Blitz functions</a><br><br>
<a name="1159326"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bytecode77</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi there,<br><br>is it somehow possible to overwrite a Blitz function, but still being able to call the original one like this:<br><br><pre class=code> Function Graphics3D(width, height, mode, depth)
    CallOriginalFunction("Graphics3D", width, height, mode, depth)
    DoAdditionalStuff()
End Function</pre><br><br>I could think of a way using CallDLL or WinAPI, but haven't found a way to do this yet. Any ideas? <br><br></td></tr></table><br>
<a name="1159333"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> No, because the Blitz functions aren't actually exposed in any portable way. They're linked, mangled and hidden at compile-time. You can't even take function pointers to them safely.<br><br>But why would you want to do this? Specifically, why would you obscure the original if you still want to call it? Just... don't obscure the original. Since no B3D program ever exports names anyway, I can't really see why this would be a problem. <br><br></td></tr></table><br>
<a name="1159334"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bytecode77</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, actually I'm thinking of a re-invention of the old Devil-Engines into a more embedded way. Yet, all meshes have to be registered to the engine in some way and initialization / destruction has to be made. By overwriting functions like LoadMesh, CreateCube etc. I could simly gather a 'list' of all entities without the need of a 'registration function'. This offers a whole new level.<br><br>I wrote these engines several years ago, meanwhile I earned a lot of programming experience mainly in other languages like C# and PHP. But somehow I still like the engine of Blitz. Therefore I would like to make a valuable addition to the language.<br><br>Greetings. <br><br></td></tr></table><br>
<a name="1159341"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bytecode77</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> From what I see, calling the function at least once, creates a string in the executable with this name:<br><br><pre class=code>_fgraphics3d</pre><br><br>So it must be possible to call it. But what DLL name would I have to specify within CallDLL? <br><br></td></tr></table><br>
<a name="1159398"></a>

<a name="1159399"></a>

<a name="1159401"></a>

<a name="1159402"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >D4NM4N</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> The only way to do it is to create a second function with another identifier and call the first, or you can call the same function with a big case by parameteriszed ID to redirect it to the right "override"..<br>-neither of which  is overriding at all, but that is what you get with non oop languages ;P<br><br><br> You can do it in max though<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
