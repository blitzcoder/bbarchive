<!DOCTYPE html><html lang="en" ><head ><title >Window</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Window</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Window</a><br><br>
<a name="516092"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >splinux</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> in which way could i create an always on top window[you cannot minimize it...] <br><br></td></tr></table><br>
<a name="516202"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Picklesworth</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have this one :D<br>Uses win32. You may need these lines added to user32.decls<br>api_GetWindowLong% (hwnd%, nIndex%) : "GetWindowLongA"<br>api_SetWindowLong% (hwnd%, nIndex%, dwNewLong%) : "SetWindowLongA"<br><pre class=code>
Const GWL_STYLE=(-16),WS_DISABLED=$08000000,WS_POPUP=$80000000 ;Win32 constants
hWnd=SystemProperty("AppHWND") ;Get the window handle
style=GetWindowLong(hWnd ,GWL_STYLE) ;Find out the current window style so we can add to it
style = style + WS_POPUP ;Make the window a popup window
SetWindowLong hwnd,GWL_STYLE,style ;Set the style
</pre> <br><br></td></tr></table><br>
<a name="516242"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >splinux</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> It doesn't do anythings... <br><br></td></tr></table><br>
<a name="516270"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Did you add the neccessary stuff to user32.decls in the userlibs folder? <br><br></td></tr></table><br>
<a name="516285"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >splinux</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, but it doesn't work... <br><br></td></tr></table><br>
<a name="516312"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >splinux</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> In the first post i had an error:<br>i would make the window of the program in execution always on top, not create another. <br><br></td></tr></table><br>
<a name="516314"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Personally I am using SetWindowPos to make a window remain always ontop, have a look at the Api docs on www.msdn.com . <br><br></td></tr></table><br>
<a name="516318"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Picklesworth</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> My code currently has an odd habit of suddenly deciding to not work... <br><br></td></tr></table><br>
<a name="516324"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey, that's AI. hats off. <br><br></td></tr></table><br>
<a name="516326"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >splinux</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Which parameters Setwindowpos have?<br>Doeas this command make the window on top also if you click the desktop icon in the quick lunch toolbar? <br><br></td></tr></table><br>
<a name="516327"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sarge</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
Const HWND_TOPMOST = -1
Const HWND_NOTOPMOST = -2
Const SWP_NOSIZE = 1
Const SWP_NOMOVE = 2
Const SWP_SHOWWINDOW = 40

Function WinSettings( x, y, width, height, topmost )
hwnd=Api_GetActiveWindow()

Select topmost
Case true
topmost=HWND_TOPMOST
Case false
topmost=HWND_NOTOPMOST
End Select

Api_SetWindowPos( hwnd, topmost, x, y, width, height, SWP_SHOWWINDOW | SWP_NOMOVE | SWP_NOSIZE )
End Function
</pre><br><br>I dont use blitz3d so i dont know the lib commands, but once you get them this should work. <br><br></td></tr></table><br>
<a name="516332"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >splinux</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> It works, but if i press the desktop icon in the quick lunch toolbar(near start) in win2k the window minimize itself... <br><br></td></tr></table><br>
<a name="516379"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sarge</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can do a check in your Repeat / Until command<br>like this:<br><pre class=code>
Function CheckMin()
hwnd=Api_GetActiveWindow()
If IsIconic(hwnd) then
WinSettings( 5,5, 300, 300, true )
End If
End Function
</pre><br><br>Hope this helps <br><br></td></tr></table><br>
<a name="516543"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >splinux</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> it doesn't work...<br>i still can minimize the window pressing 'desktop icon' near 'start' button... <br><br></td></tr></table><br>
<a name="516634"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rook Zimbabwe</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Mr. Picklesworth (Posted 2005-05-01 11:45:59) <br> <br>My code currently has an odd habit of suddenly deciding to not work... <br> <br></div>It's a feature... ;) <br><br></td></tr></table><br>
<a name="516643"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Set a full screen graphics mode, then switch back to windowed mode.  This will force 'always on top'. <br><br></td></tr></table><br>
<a name="516644"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Picklesworth</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> It's a feature... ;)  <br></div><br>Ah yes, 3 bug fixes in one day is a feature!<br>Yay :D<br><br>SpLinux, what is this window for? Perhaps there's another way to do this. <br><br></td></tr></table><br>
<a name="516785"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >splinux</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, if i could keep my program always working also if it is minimized.<br>There is a chance to transform the program to put it on the "clock toolbar"?<br><br>Sarge: what is wrong in your program? <br><br></td></tr></table><br>
<a name="516798"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sarge</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> As i said i dont use blitz3d i cant even test this myself but give this a try<br><br><pre class=code>
Local x=50
Local y=50
Local width=800
Local height=600
Local ontop=True

AppTitle "test" 

Graphics width,height

Const HWND_TOPMOST = -1 
Const HWND_NOTOPMOST = -2 
Const SWP_NOSIZE = 1 
Const SWP_NOMOVE = 2 
Const SWP_SHOWWINDOW = 40 
Const SW_RESTORE=9

WinSettings( x, y, width, height, ontop )

While Not KeyHit(1)

CheckMin()

Flip
Wend
End

Function WinSettings( x, y, width, height, topmost ) 
hwnd=api_FindWindow("Blitz Runtime Class","test" ) 
Select topmost
Case True 
topmost=HWND_TOPMOST
Case False 
topmost=HWND_NOTOPMOST
End Select 
Api_SetWindowPos( hwnd, topmost, x, y, width, height, SWP_SHOWWINDOW Or SWP_NOMOVE Or SWP_NOSIZE ) 
End Function

Function CheckMin()
hwnd=api_FindWindow("Blitz Runtime Class", "test") 
If api_IsIconic(hwnd)=True Then
api_ShowWindow(hwnd,SW_RESTORE)
End If
End Function</pre><br>userlib commands can be found here - <a href="http://www.blitzbasic.co.nz/Community/posts.php?topic=27586" target="_blank">http://www.blitzbasic.co.nz/Community/posts.php?topic=27586</a><br><br>[edit]code updated<br><br>Hope it works. <br><br></td></tr></table><br>
<a name="516809"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >splinux</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks!!!<br>It works!!!<br><br>Now, if i click the icon the window minimize itself, but after this it maximize itself too! <br><br></td></tr></table><br>
<a name="516811"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Picklesworth</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yay! <br><br></td></tr></table><br>
<a name="516815"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sarge</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> The other way is just to use GetWindowLong / SetWindowLong and disable the minimize button. If you want me to create that just tell me.<br><br>Im happy it worked. <br><br></td></tr></table><br>
<a name="516818"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >splinux</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, but it doesn't need the minimize button disabled, it was the icon in the quicklunch bar the problem. <br><br></td></tr></table><br>
<a name="516864"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >splinux</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Scuse me, but i need another thing not in this argument:<br>there is a way to set privileges to the current application?<br>I need the window will cannot be closed(for example task menager will not close it). <br><br></td></tr></table><br>
<a name="517035"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sarge</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry i would like to tell you this but i cant because i dont know what type of program you are making. <br><br></td></tr></table><br>
<a name="517115"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >splinux</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> scuse me, but i cannot tell you it...<br>i need a way to make a not possible to close window... <br><br></td></tr></table><br>
<a name="517779"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, Sarge. I've been trying to do this for ages.<br>Hats off! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
