<!DOCTYPE html><html lang="en" ><head ><title >Hide/Show optimization</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Hide/Show optimization</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Hide/Show optimization</a><br><br>
<a name="280759"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Craig H. Nisbet</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi all.<br><br>I'm wondering.  would there be a speed increase in a Blitz 3D game that is programmed to tell the meshs that are not in view to hide when not in view, and vice versa.  Or does the hardware, or Blitz, take care of this "culling" for you? <br><br></td></tr></table><br>
<a name="280764"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> From what I heared there is a small speed increase, but this might be due to the Collison that is skipped. But note: when you walk backward and Things in your back are hidden then Collisions don't work... <br><br></td></tr></table><br>
<a name="281383"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Techlord</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Craig,<br><br>No hardware occlusion. I highly recommend implementing some form of occlusion to hide meshes not in view. I would also recommend implementing some form Level Of Detail to display mesh with reduce poly counts further from the camera. Combined these optimizations will allow you display more details maintaining high performance. <br><br>Collision can get tricky when playing with these techniques. Collision management will be important when implementing these techniques. <br><br></td></tr></table><br>
<a name="281385"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I recommend a large collision proxy mesh. Not only does this allow you to collide easier with stairs (they are ramps!) it can also be lower poly. There's many benefits.<br><br>Don't be too afraid of the polygon counts of sphere-&gt; poly since it is fairly optimised in blitz to local tris I think... which is why it's bog slow when you are near too many triangles at once with a large radius. <br><br></td></tr></table><br>
<a name="281433"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neo Genesis10</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just a thought, but wouldnt the actual routine to check whether or not something is visible take up more cycles than Blitz's native routines drawing it in? You would have to use your own method, presumably as EntityInView is far too slow. <br><br></td></tr></table><br>
<a name="281441"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Boiled Sweets</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> [quote] Just a thought, but wouldnt the actual routine to check whether or not something is visible take up more cycles than Blitz's native routines drawing it in? You would have to use your own method, presumably as EntityInView is far too slow. [\unquote]<br><br>I agree, I setup a function to read thru my entities and work whether they are near the camera using entitydistance(), if they are a certain distance away then I hide them else I show them.  I call this rountine every 50th times round my game loop.  Also I setup comaera fog so that they disappear into the fog.  Using this my FPS has gone from 10 to 50 and it works and looks great. <br><br></td></tr></table><br>
<a name="281447"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Craig H. Nisbet</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, I'd been working on an Octree space partitioning system to do figure this out.  I was sure if I was wasting my time do to a feature that was already in Blitz. <br><br></td></tr></table><br>
<a name="281454"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >poopla</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Rob's on the right track.  Plasma will be using proxy mesh's for collisions, I believe this is how unreal 2's engine works.  It's the higher polygon detail meshes contained withing the proxy collision mesh's that I will hide.  The lower polygon count on world geometry should also help increase speed significantly as it keeps the number of possible collision planes that have to be checked down.  At least that's the idea in theory :]. <br><br></td></tr></table><br>
<a name="281514"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Craig H. Nisbet</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> How do you define a lower poly collision mesh to an entity? <br><br></td></tr></table><br>
<a name="281827"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Turn off Collision of the original Mesh and use a Lowpoly Meshs Collision with EntityAlpha 0.0 <br><br></td></tr></table><br>
<a name="281843"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ice9</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes I hide all meshes outside the viewing area and turn collision off on all meshes that are not in the immediate area of the player controlled mesh. both of those give me a very noticable optimization <br><br></td></tr></table><br>
<a name="281918"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> You know Blitz already does View Frustrum culling. It does this on an Entity level, that is only entities within the view frustrum are draw. This means that entities that are behind a camera, or "out-of-range" of the camera aren't rendered. Sub-dividing your level mesh intelligently is in my experience alot more effective than custom occlusion routines. <br><br></td></tr></table><br>
<a name="281971"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ice9</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think even though entities can't be seen there is still some processing going on for those entitities. Hiding the entities out of range seems to take it completely out of that pipeline and if you are dealing with hundreds of entitities that's where you will see the difference. I do know that entities that are not hidden are still considered in collision. <br><br></td></tr></table><br>
<a name="281978"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> You only need to look at the simple portal example that comes with Quill3D to see the potential speed gain from Hiding stuff. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
