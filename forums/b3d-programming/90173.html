<!DOCTYPE html><html lang="en" ><head ><title >Camera Frustum Culling?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Camera Frustum Culling?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Camera Frustum Culling?</a><br><br>
<a name="1024908"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Craig H. Nisbet</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey guys,<br><br>Disclaimer:  I'm not a super hardcore math guy.<br><br>I'm trying to find a way to cull a map to the camara view for my rts engine test.  I've found this article that seems to make sense for Direct X, <a href="http://www.chadvernon.com/blog/tutorials/managed-directx-2/frustum-culling/" target="_blank">http://www.chadvernon.com/blog/tutorials/managed-directx-2/frustum-culling/</a>  I'm just not sure how to convert it to Blitz 3d.<br><br>The idea in the article is that you make vecters that represent the normals of planes on the right, left, top and bottom of the camera.  make all the normals face inword and test if object are on the positive side of all those normals and your object is in view.  Seams real simple, I'm just not sure how to get the data for the comera projection.  I think this is something imbedded in DirectX.<br><br>I know blitz already does this for geometry drawing, but I'm looking to do this for the logical part of engine.<br><br>Anyone have any ideas? <br><br></td></tr></table><br>
<a name="1024966"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GIB3D</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> CameraProject Camera,x,y,z<br>ProjectedX()<br>ProjectedY()<br>ProjectedZ()<br><br>What you could do is<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
CameraPick Camera,0,0
CameraProject Camera,PickedX(),PickedY(),PickedZ()
Plot ProjectedX(),ProjectedY()

CameraPick Camera,GraphicsWidth(),0
CameraProject Camera,PickedX(),PickedY(),PickedZ()
Plot ProjectedX(),ProjectedY()

CameraPick Camera,0,GraphicsHeight()
CameraProject Camera,PickedX(),PickedY(),PickedZ()
Plot ProjectedX(),ProjectedY()

CameraPick Camera,GraphicsWidth(),GraphicsHeight()
CameraProject Camera,PickedX(),PickedY(),PickedZ()
Plot ProjectedX(),ProjectedY()
</textarea> <br><br></td></tr></table><br>
<a name="1024974"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zethrax</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> The EntityInView() function does what you're looking to do, as far as I know. <br><br></td></tr></table><br>
<a name="1026630"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't know about CameraPicks, but EntityInView gives a positive result if the 'usually culled from rendering by default' 'back'-faces are in the camera's field of view, but the front is too close (less than the low camera range parameter) and threrefore clipped. So Essentially, you gett a positive result while the target is actually not visible.<br>Naturally Alpha = 0 entities are counted as "in-View", but somewhat unexpectedly, so are HIDDEN entities.<br>However, EntityInView is at least limited by the camera range -high value. So any entities beyond this distance (accounting for Camera-Zoom parallax effects) will not be considered 'In View' <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
