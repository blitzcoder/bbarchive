<!DOCTYPE html><html lang="en" ><head ><title >Rendering to the Windows Desktop?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Rendering to the Windows Desktop?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Rendering to the Windows Desktop?</a><br><br>
<a name="970450"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Adam Novagen</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey all,<br><br>I had an interesting idea recently, one that might change my way of using my desktop. Picture this: all the desktop shortcuts arranged on the faces of a 3D cube, which can be "spun" by rolling the mouse over it. Shortcuts to programs can be added using drag-and-drop, and so on; you get the picture.<br><br>So, to do this, I need to copy 3D renderings onto the desktop, preferably using CopyRect(). Obviouosly there's no way to do this with straight B3D, so WinAPI calls are necessary. Unfortunately, I don't really know a thing about them. What should I use to draw to the desktop?<br><br>Also, is it possible to draw ONLY on the actual Windows <i>Desktop</i>, as opposed to the "desktop" screen buffer? <br><br></td></tr></table><br>
<a name="970458"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warner</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe this can help to get you started? <a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=2046" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=2046</a> <br><br></td></tr></table><br>
<a name="970460"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> You're probably going to need a Direct3D 7 DLL to enable render-to-texture (or in this case, setting the render target to be the Desktop screen or whatever), as CopyRect() might not be ideally fast enough. <br><br></td></tr></table><br>
<a name="970469"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Adam Novagen</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Warner, that looks good, but the one problem is that it only loads images from disk, not from memory, which makes for slooow going. Can I edit the loaded images using <b>ImageBuffer()</b>?<br><br>@Kryzon, I'll be fine using <b>CopyRect()</b>, because the render size will be adjustable, and shouldn't need to get too big. Let's say 1024x1024 max, for people who are nuts about uber-sized screens. ;P <br><br></td></tr></table><br>
<a name="970474"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> no. make it 1280x1024 :P for ppl who are crazy<br><br>ur the creator. YOU control the gfxsize :P <br><br></td></tr></table><br>
<a name="970523"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> 1280 will cause an upscale to 2048, which should be avoided. <br><br></td></tr></table><br>
<a name="970532"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warner</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think you can't directly pass blitz images/imagebuffers to a dc. A quick google search also gave me these results. Maybe they provide some additional info:<br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=628" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=628</a><br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=1752" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=1752</a> <br><br></td></tr></table><br>
<a name="970564"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Adam Novagen</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> 1280 will cause an upscale to 2048, which should be avoided.  <br></div><br>You've got me there, Ross... An upscale?? So... a 1280 3D render is actually rendered at 2048?? HUH???<br><br>Warner, thanks for those links, they might help a lot.<br><br>Um... Hey, slightly different tactic. I know that B+ lets you create a window that has no border, buttons or title bar, which is useful for splash screens and the like. Is it possible to do this with Api or WinB3D? I've tried WinB3D already, but I seem to be doing something wrong, because unless I create a window with the default style (0) it never shows up. <br><br></td></tr></table><br>
<a name="970565"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GIB3D</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> It must be to the power of 2. 1024x1024, 2048x2048, 1x1, 2x2... <br><br></td></tr></table><br>
<a name="970577"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah. If you go over the last power of 2, it upscales to the next, which would be 2048. You can double check by calling texture width/height.<br><br>You can have different power of 2 textures though - 128 x 512 etc etc <br><br></td></tr></table><br>
<a name="970598"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GIB3D</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Woah really? I didn't know that one. One thing I noticed though is that you can LoadTexture and size image but in the program it's actually 2 the power of 2. <br><br></td></tr></table><br>
<a name="970610"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Adam Novagen</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> No, nonononono. XD That's not what I meant. I wasn't talking about <i>texture</i> size, I was talking about <i>screen area</i>. No, the cube would probably be 512 on all sides. The AREA of screen that cube was RENDERED INTO though, as determined by <b>CameraViewPort()</b>, would be allowed to go up to 1024. Rendered in windowed mode, of course.<br><br>So, basically, the cube gets rendered in the blitz window, then <b>CopyRect()</b> would be called to get the pixel data from the backbuffer and paste it on the screen. Or on a borderless window.<br><br>Hey, anyone know what Api function to use to get the mouse speed/position when it's outside the Blitz window? <br><br></td></tr></table><br>
<a name="970615"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warner</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> api_GetCursorPos. <br><br></td></tr></table><br>
<a name="970642"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Adam Novagen</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> :D thanks Warner. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
