<!DOCTYPE html><html lang="en" ><head ><title >Less Frames per Secs when compiled</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Less Frames per Secs when compiled</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Less Frames per Secs when compiled</a><br><br>
<a name="520919"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oliver Dorloechter</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, all. This is a problem I encountered this weekend. Don´t know if anybody else had this mentioned before.<br><br>The following Code results in 495 FPS when running on my PC (ATHLON XP 1900+, GeForce4 TI4400, NForce v6.6.93, B3D v1.90) within the IDE. After compiling to an EXE (DEBUG ON or OFF doesn´t matter) it will give me only 325 FPS. I don´t understand. Any ideas?<br><br><br>AppTitle "FPS Speed Test"<br><br>Graphics3D 1024, 768, 32,2<br>SetBuffer BackBuffer()<br>HidePointer<br><br>Global Camera = CreateCamera()<br><br>Light = CreateLight()<br><br>Cube = CreateCube()<br>PositionEntity Cube, 0, 0, 5<br><br>tex = CreateTexture(128, 128)<br>SetBuffer TextureBuffer(tex)<br>ClsColor 255,255,255<br>Cls<br>SeedRnd(MilliSecs())<br>For k = 1 To 50<br>  Color Rand(256), Rand(256), Rand(256)<br>  Rect Rand(128), Rand(128), Rand(128), Rand(128)<br>Next<br>EntityTexture Cube, tex<br>SetBuffer BackBuffer()<br>Color 255, 255, 255<br><br>FPS = 0<br>Ticks = 0<br>Timer = MilliSecs() + 1000<br><br>While Not KeyDown(1)<br>  TurnEntity Cube, 0.05, 0.05, 0.05<br><br>  UpdateWorld<br>  RenderWorld<br><br>  Ticks = Ticks + 1<br>  If MilliSecs() &gt;= Timer Then<br>    FPS = Ticks<br>    Ticks = 0<br>    Timer = MilliSecs() + 1000<br>  End If<br><br>  Text 2, 2, "FPS: " + Str$(FPS)<br><br>  Flip False<br>  Delay 2<br>Wend<br><br>ShowPointer<br>EndGraphics<br>End <br><br></td></tr></table><br>
<a name="520921"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rroff</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Gives me the exact same speeds when compiled or running out the IDE. 342fps.<br><br>Do you have the latest versions of the IDE, linker, etc.? <br><br></td></tr></table><br>
<a name="520924"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rroff</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just an aside, I'm not a fan of using that delay 2 for controlling the speed of execution myself. <br><br></td></tr></table><br>
<a name="520940"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Likewise. <br><br>I get:<br><br>495FPS in debug mode from the IDE, <br>495FPS in release mode from the IDE<br>495FPS in release mode from the EXE<br><br><br>All I can think of is that Flip False is unreliable in windowed mode, because Windows decides when you're going to flip. When not running the IDE, it's possible that the CPU has more free cycles and Windows uses those to flip the buffers more often. Do you get the same results in fullscreen? <br><br></td></tr></table><br>
<a name="520964"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oliver Dorloechter</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think Sybixsus is right. Has something todo with windowed mode. I ran the above code in fullscreen mode. These are my results:<br><br>IDE (debug on)   492 FPS<br>IDE (debug off)  492 FPS<br>EXE (debug on)   492 FPS<br>EXE (debug off)  492 FPS<br><br>I only use the delay 2 when testing in windowed mode and don´t want to use the whole CPU power. In a final programm I would off cause allways remark this line for better performance. So I agree with you Rroff.  Without the delay 2 the FPS is like this:<br><br>IDE (debug on)   1275 FPS<br>IDE (debug off)  1275 FPS<br>EXE (debug on)   1275 FPS<br>EXE (debug off)  1275 FPS<br><br>Thank you all very much for making this "windowed problem" clear to me. <br><br></td></tr></table><br>
<a name="520991"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rroff</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> "I only use the delay 2 when testing in windowed mode and don´t want to use the whole CPU power." - fair enough then heh. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
