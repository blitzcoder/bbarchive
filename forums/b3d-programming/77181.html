<!DOCTYPE html><html lang="en" ><head ><title >Compiler related question</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Compiler related question</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Compiler related question</a><br><br>
<a name="863411"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_33</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was wondering, in Blitz3D (probably applies to the BlitzPlus compiler also), when we assign CONST labels, does the compiler replace all the labels with the values that are to be found in them?  The reason I ask is because the labels are all to be found in the generated EXE.<br><br>Also, does it have any influence on performance when using CONST instead of placing the values directly?<br><br>example: <pre class=code>Const max% = 255
If meter &gt; max Then</pre> .........VS......<pre class=code>If meter &gt; 255 Then</pre> <br><br></td></tr></table><br>
<a name="863419"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> This has been discussed in the past - I'm fairly certain that the compiler definately replaces all instances of constants with their respective values.  I guess this answers both questions. <br><br></td></tr></table><br>
<a name="863540"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zethrax</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> As Stevie G said, constants are just placeholders for the values assigned to them. At compile time the constant identifiers are replaced by their assigned values, and the values are what gets compiled.<br><br>If you're finding the constant identifiers appearing in the compiled executable file, it could be for two reasons. Firstly, you may be compiling in debug mode, in which case a lot of extra information is probably being added to allow the debug routines to do meaningful error reporting. Secondly, the portable executable file format is used for both exe and dll (dynamic link library) files, and it contains extra info intended for use by dll files which is generally redundant in exe files. Some or all of this redundant info could probably be removed by  stripping off the relocation section in the exe. You'll find a link to a free tool which can strip off the relocation section below.<br><br><a href="http://www.jrsoftware.org/striprlc.php" target="_blank">http://www.jrsoftware.org/striprlc.php</a> <br><br></td></tr></table><br>
<a name="863546"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_33</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh goodie!  Thanks Bill :)  very nice explanation, will serve others I am sure.<br><br>Edit:  When I try StripReloc on some blitz3d compiled test programs that I have, it strips 64K off the EXE.  That is what I noticed.  The blitz compiled program still works fine.<br><br>Edit2:  Actually just noticed, with a hex editor, the labels that I found relative to my code are mostly function names.  All variables and constants are nowhere to be found, before or after StripReloc.  I must have dreamed this. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
