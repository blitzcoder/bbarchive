<!DOCTYPE html><html lang="en" ><head ><title >Global child positions</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Global child positions</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Global child positions</a><br><br>
<a name="856329"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm having a problem with loading in an animatedb3d purely so i can use find childto get the various pieces of the model. I have a turret cannon as on of the children, BUT, it's global position is the same the centre of the combined mesh, because the mesh has been offset.<br><br>So, finding entityx() etc etc, gives me 0,0,0<br>Using entityx()+TRUE flag, gives me the 0,0,0 of the combined mesh. Basically 0,0,0 if i just load it in.<br><br>Problem is my turrent as i said, it offset from the 0,0,0, so any attempts to rotate it, cause the centre of rotation to be at 0,0,0 of the comined mesh locally, instead of rotating using the centre of the geometry.<br><br>The only way round this i can see is:<br><br>Run through all the vertices, and get the centre point in local co-ords from that.<br>FitMesh around the 0,0,0 locally.<br>The PositionEntity at the centre co-ords i found.<br><br>Is there an easier way? <br><br></td></tr></table><br>
<a name="856330"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, yes: Deparent the turrent, use movemesh to offset it from its 0,0,0 again, reparent it to the tank or whatever it is.<br>That if it is pure mesh<br><br>Simpler: use bones, attache the turrent to a bone and findchild the bone (can be freefloating) and rotate that one :) <br><br></td></tr></table><br>
<a name="856351"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Moraldi</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Due to my poor English I am not sure if got your problem but here is my advice:<br>Try to construct the model during loading time:<br>1. Load the base mesh<br>2. Create a pivot (in the position you like)<br>3. Load the turret cannon parented to the pivot<br>etc.<br>In this way you can rotate the turret by rotating the pivot... <br><br></td></tr></table><br>
<a name="856366"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'd like to avoid using pivots if possible :o)<br><br>Sounds like a better idea dreamora :o) Get the centre point in local space. Movemesh by that amount, moveentity by the negative of that amount.<br><br>Thanks guys :o) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
