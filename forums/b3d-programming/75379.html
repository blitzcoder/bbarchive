<!DOCTYPE html><html lang="en" ><head ><title >Alpha problems</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Alpha problems</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Alpha problems</a><br><br>
<a name="842226"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey there, i have a river, with a texture. The river mesh is alpha blended. Now, i have a fire with alpha particles coming out it. Now, when i stand looking at the fire, with the river behind it, the particles are appearing BEHIND the river.<br><br>Can this be sorted? They don't share the same surface or mesh.<br><br><img src="http://www.rosscrooks.pwp.blueyonder.co.uk/alphaprob.PNG"> <br><br></td></tr></table><br>
<a name="842233"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> To avoid this I always use additive blending on water. <br><br></td></tr></table><br>
<a name="842237"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tried using that, but it doesn't seem to help. Produces the same result.<br><br>EDIT - wait your right actually. Got that much stuff here... Thanks :o) I'll try that on my other alpha stuff. <br><br></td></tr></table><br>
<a name="843221"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wings</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> You ned to sort the alpha triangles in the z buffer.<br><br>here is how you do it.<br><br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=850" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=850</a><br><br>Good luck.<br><br>If any one have any better idea please let uss know :D <br><br></td></tr></table><br>
<a name="843238"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >D4NM4N</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try using &lt;= than 0.48 alpha on the water. This seems to help filter it out. <br><br>To achieve the same level of translucency eg .6, use 3 water surfaces one slightly below the other (or blended) so they dont zfight but both at 1/3rd the alpha (.20). It seems anything =&gt;0.50 will dominate if the flames are between the bit of water thats shown above and its (the water mesh's) axis. (alpha objects appear to be sorted by axis to some extent) <br><br>This is a little way of cheating it i noticed when i was doing a similar project.<br><br>Wings way looks better tho. <br><br></td></tr></table><br>
<a name="843277"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't want a speed hit by sorting all my triangles :o) I'd rather just use the add blend mode. I did also try using 0.3 alpha transparency, but it still didn't look write. Thanks for the suggestions guys. <br><br></td></tr></table><br>
<a name="843287"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> if you want to have that much alpha, choose by "sorting" or "getting funny errors"<br><br>Although, you seem to have serious amount of them.<br><br>Whats you camera setup?<br>I assume you are on 32Bit and your max range is no more than 3000 times as large as your min range (lower than that naturally is better)<br><br>Otherwise you are causing those whole mass of problems by degrading the zbuffer to joke buffer.<br><br>And make sure your drivers are current because they should handle such stuff up to a given level as well. <br><br></td></tr></table><br>
<a name="843310"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nah it's a sorting issue. Using the add blend mode has sorted the problem :o) Thanks!<br><br>I'm not using alot of alpha. I just have an alphaed mesh, and some particles. <br><br></td></tr></table><br>
<a name="843451"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >D4NM4N</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> " I did also try using 0.3 alpha transparency, but it still didn't look write. "<br><br>Ah, but did you try using a second offset layer for the water at .3? .3+.3=0.6 :) <br><br></td></tr></table><br>
<a name="843488"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ross this has been reported many times. In my case it was a river 'punching through' foliage.<br><br>Also alphed tree segments aften punch through: back through front. <br><br></td></tr></table><br>
<a name="843533"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> What was your solution to that particular problem John?<br><br>I didn't try that no D4NM4N, i'm happy with the results of my river. Though, i'll bare that in mind if i come across more alpha problems that aren't sorted so easy :o) <br><br></td></tr></table><br>
<a name="843548"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> One question: Do you use alpha meshes or alpha textures? Thats a difference and a not that small actually. <br><br></td></tr></table><br>
<a name="843588"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nope, it's the same. I get the exact same result whether i use alpha meshes, or textures i'm afraid. <br><br></td></tr></table><br>
<a name="843691"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ross - No solution, sorry.<br>Just one alphaed object now - the river. <br><br></td></tr></table><br>
<a name="843760"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try using the entityblend mode add for it. It seems to work well for me. <br><br></td></tr></table><br>
<a name="843891"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ross, can you give me an example of the entityblend that's working for you? <br><br></td></tr></table><br>
<a name="843897"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> ..have you try to load particles with mask flag and then do transparency? <br><br></td></tr></table><br>
<a name="843920"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> IU'm using entityblend entity,3 on my water, as stevie suggested above. It works alot better :o) You don't get the exact same results looks wise, but it does for my needs. My waterfall looks ok too. <br><br></td></tr></table><br>
<a name="843975"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> For a river/foliage situation, you might try masking the foliage instead of alpha blending. I know that masking is not as nice as smooth alpha blended edges, but if you eliminate the blending, it should eliminate most of the draw-order problems without sorting. Manually offsetting the position of the entity which contains all the foliage surfaces ( and counter-offsetting the foliage within that entity so that they're in the same world position, obviously ) might help too. <br><br></td></tr></table><br>
<a name="844824"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IPete2</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> As reported above alpha sorting is the only real way to get this to work.<br><br>I guess you could try masking the fire particles instead of alphaing them.  You will need to create a particle with a solid background black and no antialiasing for it to work properly, of course it won't have the translucency of alpha particles, sigh but that is the price I fear!<br><br>During my last epic development I had this issue and although it was reported fixed in the SDK I'm not so sure it was.  Mark isn't able to fix it in B3d because I asked him, and it is not possible, so we have to work around it.<br><br>I wonder if there is a way to only render the particles on a second render pass? but I think they would then always be in front of every object.<br><br>IPete2. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
