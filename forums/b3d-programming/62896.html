<!DOCTYPE html><html lang="en" ><head ><title >Problems in isolating a bug</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Problems in isolating a bug</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Problems in isolating a bug</a><br><br>
<a name="702553"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I got this strange MAV, sometimes when I shot an enemy. I tried to find the cause, I have no idea. With debugger on it doesn't happen, it MAVs only in release mode.<br><br>I take it it's maybe an array access out of bounds, or an illegal bank offset. What else could it be?<br><br>BTW I also got a strange kind of framerate stuttering whenever animated characters come into the camera FOV. Is that normal? (animated 3ds with about 800 tris)<br><br>Cannot post the source since it's 335kB multidirectionally woven spaghetti code. <br><br></td></tr></table><br>
<a name="702559"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >b32</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Bugs .. :( are you sure it is because of shooting the enemies ? Might be some unfreed memory too. Have you looked at the memory/cpu usage ? Do you get the error on renderworld or on some other part ? Maybe you could try to disable freeing the enemy object after shooting it (for testing). Be sure to make a copy before you try anything. <br><br></td></tr></table><br>
<a name="702572"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks. I think I already tested most common causes. It isn't a missing entity. The strange part is, is doesn't happen every time I shoot an enemy. The enemy is not removed in that moment. I takes place when an enemy gets the final lethal bullet.<br><br>When compiled in debugging mode it won't crash. That's why I'd like to know what the causes for this condition could be. AFAIK there are only a few conditions that will crash in release mode and won't crash in debug mode, this is:<br><br>-access to an array index that is out of bound,eg:<br>dim a(10)<br>print a(15)<br><br>-access to an illegal bank offset, eg:<br>bank=createbank(100)<br>print peekbyte(bank,500)<br><br>EDIT wait a minute, these are working exactly the other way round, they crash in debug, and "work" in release mode.<br><br><br>So, what I'm really looking for is something that gives a MAV in release mode and works in debug mode. Any ideas? <br><br></td></tr></table><br>
<a name="702602"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >b32</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe a .dll then, for physics maybe, since the bullet hits the enemy ? And have you ran the program on another pc yet ? I've had a strange error on renderworld caused by my nvidia driver. <br><br></td></tr></table><br>
<a name="702608"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think I have fixed it. It seems I was accessing a pivot that didn't exist anymore. I still don't know why there was no error in debug mode. Accessing a pivot that was removed using FreeEnity may work in release mode (as long as the released ram isn't overwritten by something else), but should result in an "entity does not exist" error in debug mode. In fact I have set the handle to Null, so EntityDistance is using Zero as the first parameter. A little strange that this gives no error in debug mode, as I said. Skipping parts in certain situations seems to fix it, so who cares :) <br><br></td></tr></table><br>
<a name="702611"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks bram32. Basicly you were right, it had something to do with access to an entity that was removed due to the lethal bullet. It wasn't the enemy mesh itself, but some helper pivot. The thing that made me stuck was the unexpected behaviour of the debugger and its (missing) message, as mentioned before.<br>I don't think it has something to do with the hardware. Your Problem sounds more like a mesh with too many Triangles or Vertices per surface. The max number differs from card to card, 32000 is proof. <br><br></td></tr></table><br>
<a name="702781"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Graythe</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> What is MAV? please <br><br></td></tr></table><br>
<a name="702878"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Memory Access Violation ... <br><br></td></tr></table><br>
<a name="704468"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Graythe</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Aah... thanks KuRiX <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
