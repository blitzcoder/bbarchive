<!DOCTYPE html><html lang="en" ><head ><title >model viewer, command line use,  request to expert</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >model viewer, command line use,  request to expert</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >model viewer, command line use,  request to expert</a><br><br>
<a name="793010"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >muddle</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> This may be useful information to  some people.   Apologies if it is already well known, I am still fairly new to blitz<br><br>I have been frustrated by programs that aim to display 3d models.<br>They are often slow to use or rely on awkward file selection, or have parameters fixed that I do not like. <br><br>I thought it might be better to use the familiar windows explorer to move through directories and just click on any 3d file for a quick view. <br>A windows  programmer suggested the command line would be the way to go,  and it turned out that Blitz 'commandline'  string holds the full file heirachy and it can ( or should)  load the model selected. <br>EXCEPT THAT  ...  2 hours of testing and complete frustration later it finally dawned that ( despite  expectation and appearances during tests!)  the quotation marks in the command line string were being retained and  doubling the quote marks  the final 'load mesh'  string .    Grrr.  <br><br>The  modification of the initial string,  as in the simple program included at the end of this post,   solved the problem. <br><br>The program may also be  useful for the way it uses an  inertia effect with object rotations.  <br><br>Feel free to use and add any extra modifiers as desired. <br><br>If you wanted to avoid associating  x and 3ds files with this sort of program you could perhaps call windows explorer from within a new version and get the command line that way.     Perhaps it is best to stay simple, as the point of this was to quickly skip through files.<br><br>					--------------------------------------------<br><br>One problem emerged in viewing models and I would  appreciate it if an expert could tell me if there is  a way to make 'transparency' in standard 3ds model texture work properly in blitz.<br>As far as i can tell,  a one sided transparent texture appears transparent from that side only.  From the other side it appears opaque.  <br>eg. a cockpit canopy is 'see thru' on one side, but what you also see is whatever base colour was used  on the other side of the canopy. <br>You can use  a double sided transparent  texture, but that simply means you 'see thru' to the base colour even on near faces .. NO transparency.<br>Transparency in  .X  file  textures  work perfectly well with blitz, so it is something of  a puzzle.   <br><br>Any suggestions for a cure?  <br><br>Cheers  David L.<br>================== basic program follows below =====================<br><br><br>;  'Quickview' ..   by David Lawrence june 2007.  <br>;   you need to make it into an executable and  'associate'  the exe.  with X or 3ds files in windows explorer for it to work. <br><br>Graphics3D 800, 600, 0, 2<br><br>SetBuffer BackBuffer()<br>cam=CreateCamera ()<br>light=CreateLight()<br><br>TurnEntity light,60,70,0<br><br>CameraClsColor cam,100, 105,90 ; background colour<br>AmbientLight  150,150,150 ;  degree of shadow dark <br><br>PositionEntity cam, 0,0,0<br>CameraRange cam, .1,70000<br>CameraZoom cam,  1.8<br>	<br>init$=CommandLine$() <br><br>; to remove quotes <br>length=Len(init$)<br>If length =0 Then length =5  ; (to avoid errors when testing non executable)<br>less = length -1<br>more=length-2<br>temp$= Right$(init$,less)<br>final$=Left$(temp$,more)<br><br><br>model= LoadMesh (final$)<br>;model= LoadMesh ("modelofyourown.x"); (this line used for non exe testing)<br><br>widf#= MeshWidth(model)<br>hite#= MeshHeight(model)<br><br>If (hite*.75) &gt; widf<br>dist#= hite# *1.7 *-1<br>Else<br>dist#= widf*1.7 *-1<br>EndIf<br><br>hold#=dist#<br><br>change#=dist#/150<br>abit#=0<br>xr#=0:yr#=0:zr#=0: <br><br><br>frameTimer=CreateTimer(40)<br>.beginloop<br>;--------------------START  LOOP =========================<br><br> <br>While Not  KeyHit(1)<br>		<br>		dist#=dist#+abit#<br>		abit#=abit#*.76<br>            	PositionEntity cam, 0,(hite#/2),dist#<br><br>		zr#=zr#+roll#<br>		roll#=roll#*.8<br><br>		yr#=yr#+spin#<br>		spin#=spin# *.8<br>             RotateEntity model,xr#,yr#,zr#<br>		<br>		RenderWorld<br><br>	      Color 255,255,255<br>		Text 20,5,"Turn model  left/right arrow  keys"<br>		Text 20,20,"Roll model   &lt;   &gt;  keys" <br>		Text 500, 5, "Zoom  IN ...  up arrow key " <br>		Text 500, 20, "Zoom  OUT   .. down arrow key "<br>		<br>		Text 20, 580, "RESET TO INITIAL STATE  .. R "<br>		Text 500, 580, "toggle wireframe .. space "<br>		Color 255,100,100<br>	      Text 20,110,"Triangles.."+TrisRendered() <br>	      Text 20, 130, "height ..." + hite#<br>	      Text 20,150, "width ..  " + widf#<br>		<br>			If KeyHit(1) End<br>			If KeyHit(28) End<br>			If KeyDown(200) abit#=abit#-change# ; zoom out  on Arrows<br>			If KeyDown(208) abit#=abit#+change# ;  zoom in<br>			If KeyDown(203) spin#=spin#+.5 ;   turning  on arrow L, R<br>			If KeyDown(205) spin#=spin#-.5<br>			 If KeyDown(51) roll#=roll#-.5;  &lt;    roll<br>			If KeyDown(52) roll#=roll#+ .5;   &gt;<br>			<br>		     	If KeyDown(19) xr#=0:yr#=0:zr#=0:dist#=hold#:abit#=0:roll#=0<br><br>	<br>	If KeyHit( 57 )=True Then enable=1-enable <br> 	WireFrame enable <br>	<br>	WaitTimer(frameTimer) <br>	Flip<br><br>Wend<br>; ----------------------------------------- loop end ------------------------------ <br><br></td></tr></table><br>
<a name="793083"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Filax</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Removed... Sorry for the post. <br><br></td></tr></table><br>
<a name="793167"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice one, Filax. <br><br></td></tr></table><br>
<a name="793304"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >muddle</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the link to your model viewer Filax..  <br> Impressive, and professional looking I must say.<br><br>By the way, it warns that it only loads 3ds, X and blitz  models. but evidently doesn't recognise the  X files, at least not on my computer, refusing to load them.. <br>I am not worried as I will probably stick with my cheap and nasty - but very quick to use - viewer.  Perhaps add a few features or mouse control as the urge strikes.<br><br>It did occur  to me that  it would  be convenient  if your viewer used the size of  an object to  set view distance ( or scale ) upon loading . <br>Just a convenience.          Oh ..  and perhaps have  the axes representation  toggle  with the grid?    Small models were a bit overwhelmed.  <br><br>I'm glad to see that someone else likes a neutral gray  for a background !     Perhaps a viewer for wider use could have  a preference setting for a few things like that?    Perhaps for lighting as well.   Some prefer side light, others front or directly above.  Perhaps fog as well.   etc.  <br><br>A more ambitious project has occured to me,  to make a  browser that loads all models in a directory and  presents a sort of scaled thumbnail gallery from which you select one to focus on.    Slower to initially load, but very quick in skipping from one to another.<br><br><br>Oh well.  Thank you again.     I  am going to assume that no one has an explanation or cure  for  the lack of standard  texture  transparency with 3DS files in blitz ???   <br>   <br>regards  David L. <br><br></td></tr></table><br>
<a name="793383"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Muddle, you may use the forum tags "code" for sourcecode. There is a little problem with your viewer, it initializes 3D, then loads the model, doesn´t check if it exists and/or is valid at all. You should do it the other way:<br><br>check if the file exists<br>init 3D scene<br>load model<br>check if it is loaded (handle &lt;&gt;0)<br>...<br><br>There is a dll that can be used with userlib decls in Blitz3D, it´s called "bless" and allows to use Dragndrop for the Blitz window:<br><a href="http://www.blitzbasic.com/Community/posts.php?topic=34205" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=34205</a><br><br>Draging a file to the icon of a blitz app will give you the file path in the command$, yes, BUT it will be the old-dos name of the file. This may become a problem if you want to save an edited file.<br><br>As for the Transparency problem, I never experienced such a problem. Not sure what you are talking about. "Transparency Textures"? There are Alpha Textures and Masked textures.<br><br>I wasn´t aware of a 3ds feature that allows to set the alpha flag for a texture. With the B3D format you can set all the flags: Brush alpha, Vertex Alpha, and of course, the texture alpha loading flag. Using Texture alpha I never had any problem with one-side-opaque geometry, as you described. Of course you need to set the brush FX flag 16 so it´s gonna be rendered from both sides. <br><br></td></tr></table><br>
<a name="793620"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >muddle</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm, yes,   jfk EO-11110 ,   it is standard to check for the file etc.  and I could have changed to that after the initial experiments .. ( It was necessary to have  a screen at first  so as to find out what on earth was going on with the strings. )    <br>However, there is no problem with the way it is. <br> It is opened by  a click on a file, and closed imediately after .. then you click another file.     It does not have to deal with or survive an error.     If the file is faulty, you  simply get the usual blitz  error .. which is all the info  you are going to get anyway without a large amount of file  analysing.    <br><br>I just found it really satisfying  that such simple code  allowed  very  quick viewing from  windows explorer .      The thing could be built up, if someone wanted, into a comprehensive file modifier/viewer to their own taste,  but then it would have to have  error handling and much more.  <br><br>About the 'transparency  question' .     Yes, one can use blitz commands in a program to show specified individual meshes and textures as one requires, it all seems to work correctly.         The odd results only occur with models made with 3d modellers which include the settings in the file..  Well,   supposedly include.   <br><br>The modellers which I have been testing for compatibility with Blitz and Dark basic, most commonly use the term  ' transparency' .  It can  be called opacity or translucence. One uses 'alpha'  settings rather than  transparency.    But they all  set this 'transparency' in the standard 0 - 1 range as does Blitz for alpha,  and the effect is the same.    One concludes it is a matter of convention in the naming.       <br> <br>And further testing has shown that it is not just blitz that handles  3ds  transparency oddly.    Some of the modellers themsleves do not  display it upon reload .. AFTER  saving the model.<br>Seems a fairly  odd situation.  Not easily solvable.<br><br> So I give up.   For my own program efforts I can use X files,  though they are  quite large Ascii files on these modellers .    Or else use  3ds models broken into groups , with specified settings for alpha (or whatever) applied by program.   Then  use  and blitz   parent/child   to get the desired final appearance.   <br>    <br>Thanks for responses in any case.   cheers.    David L. <br><br></td></tr></table><br>
<a name="793821"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Filax</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> jfk EO-11110 : It's not to bug users posts with my 'bigger <br>car' :/ Sorry for the link. I thought give a service for the <br>blitz user's.<br><br>I'm a little bit tired by the forum kids mentality, all that<br>i make become a fault... sigh... For this reason, i less <br>often come. <br><br></td></tr></table><br>
<a name="793822"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Eh, I think you took that a little hard Filax. your link was clearly useful. :) <br><br></td></tr></table><br>
<a name="793835"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TheSin</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> i also agree with cygnus, i found your link useful.<br>I also agree with what you just posted too, filax. <br><br></td></tr></table><br>
<a name="794192"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Filax don't be a Sissy :)  It wasn't a big deal. Of course your tool is useful as all your contributions to the community. And we know about the high quality of your work.<br><br>But imagine I'd post a screenshot of my game in your game release thread. <br><br></td></tr></table><br>
<a name="794318"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Barnabius</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> C'mon Filax, don't take it that hard. It's not all of us that think the same. So someone doesn't like your link. So what. The rest of us are quite happy and that particular app you created was very useful for me. I now use it for most of my model viewing needs. It's quick and it does the job very well. Most people on these forums like and appreciate your work.<br><br>At least I know I do.<br><br>Barney <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
