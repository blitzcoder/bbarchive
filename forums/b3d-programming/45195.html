<!DOCTYPE html><html lang="en" ><head ><title >Net Code for thousans of monsters</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Net Code for thousans of monsters</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Net Code for thousans of monsters</a><br><br>
<a name="502720"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neochrome</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I want to make a project that is a little like Doom2, but written by me :)<br><br>i want to make it so i can multiple players engage in a massive killing spree like in doom2... the problem i face is. there are alot of monsters in a room and the data needed to transmit is HUGE.<br><br>is there anyway i can these monsters efficiently tell the other gamers where they are with out having a massive data packet? <br><br></td></tr></table><br>
<a name="502732"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> The Best way is to compress the data the maximum. Try to fit the positions x,y,z in a 2 byte integer or so.<br><br>For example:<br><br>If the monster can be in the x positions between 0 and 1.000 you can fit this in only 2 bytes.<br><br>xtotransmit = (Entityx(Monster)*1000.0) + 32767<br>Then you compress this with some IntToStr(value,2) function.<br><br>In the other side you make:<br>xreceived = (xrecv-32767)/1000.0<br><br>This is only a compression method. There are others, like having 2 integers in only one long integer.<br><br>P.D.: UDP has a maximum packet size, so do not send more than 1300 bytes in the same msg. But always try to send the maximum.<br><br>Good Luck! <br><br></td></tr></table><br>
<a name="502735"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neochrome</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> man this is a bigger problem than i thought! hehe, how did doom2 do it! <br><br></td></tr></table><br>
<a name="502883"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Regular K</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> "But always try to send the maximum."<br><br>Why do you say that? <br><br></td></tr></table><br>
<a name="502959"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> This only means that you should try to fill an udp packet rather than sending lot of mini udp packets.<br><br>If you need to send the information for 20 monsters, send it in the same message, not 20 messages.<br><br>Other solution is what Starcraft does. In Starcraft every message contains a synchronization number and the input. So the messages are very small and the game is the same on every machine if in the same frame the input is the same!. This is an incredible good idea but only works for some kind of games.<br><br>Perhaps Doom2 only sends the information of active monsters, not all. And if 30 active monsters you can send information for that in one message. <br><br></td></tr></table><br>
<a name="503741"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neochrome</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> yupp thats my thinking too!<br><br>one big packet of monster data and only the monsters that are active. hmm you may be on to something there!<br>COOL i'll try that what the time comes :) <br><br></td></tr></table><br>
<a name="503744"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> try this -<br><a href="http://doom.wikicities.com/wiki/Doom_networking_engine" target="_blank">http://doom.wikicities.com/wiki/Doom_networking_engine</a> <br><br></td></tr></table><br>
<a name="503759"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Storm8191</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm, that sounds like an interesting problem.  What you might consider doing (this sounds a bit like that starcraft example idea), is making all the monsters run on the same AI code.  If they all have the same surroundings as far as action variables go, all the monsters should behave exactly the same, across all PCs.  You could possibly send only enough AI data for a monster to allow it to run without any further network input for a second or two (or much longer, perhaps).  If this works correctly, the monsters should all behave the same on all systems.  But I imagine, in reality, a few discreptancies will develop over time, and you'll have to re-update the monster AI data.  Maybe you could handle this one monster at a time, and thus updating all monsters won't be a 1000-byte package to send.<br><br>Good luck.  I'll be interested in seeing how things go, and what methods work. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
