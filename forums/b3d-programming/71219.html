<!DOCTYPE html><html lang="en" ><head ><title >Help wanted: wobbly head/"bobblehead" effect code?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Help wanted: wobbly head/"bobblehead" effect code?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Help wanted: wobbly head/"bobblehead" effect code?</a><br><br>
<a name="796004"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JustLuke</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> You know those statues with the oversized heads that bob and wobble about when you move them? The ones that look like this:<br><br><img src="http://cache.valleywag.com/assets/resources/bobblehead.jpg"><br><br>Well, I'd like to reproduce this wobbly effect in real time, but I don't have a clue as to how to go about it.<br><br>The head and the torso are seperate models. The head should be attached to the body and "wobble about" in real time when the user turns/moves/steers the model - and the movement of the head should relate to and be influenced by the movement of the body rather than just constantly nodding up and down; it needs to dynamically react the movement of the body. Hope this makes sense.<br><br>Has anyone got a code snippet that does this or can help me figure this out, please? <br><br></td></tr></table><br>
<a name="796005"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_33</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> real easy answer, use a pivot on the head.  Then try some SIN / COS work on the pitch angle. <br><br></td></tr></table><br>
<a name="796007"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JustLuke</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm. It needs to be more dynamic than that. The movement of the head should be the result of and in response to the <i>specific movement</i> (or lack of) of the body, rather than an unreactive automated movement. <br><br></td></tr></table><br>
<a name="796008"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would rig it as one model and use the head bone to make the head wobble. Apply force to the head bone in the opposite direction of the forces applied to the model. For example, when the body is at rest and accelerates by x,z ( ignore y, obviously) apply -x,-z to the head, because the head is above the center of gravity and will move in the opposite direction. When the model decelerates ( accelerates by -x,-z ) then apply x,z to the head bone.<br><br>It's important to only use forces ( acceleration )and not speed though. You don't want a constant force applied when it's moving. You want forces applied when it accelerates or decelerates. At least IMO.<br><br>Some kind of simple verlet engine with joints should be able to handle the actual movement, given the forces I mention above, or you could code it yourself pretty easily, but I wouldn't like to give advice on that as it's been a long time since I rolled my own physics and I might make a mistake or two. <br><br></td></tr></table><br>
<a name="796015"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JustLuke</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> The head needs to be a seperate object, because the model is intended to be customisable (you can switch out heads, arms and bodies). Your advice is useful and it points me in the right direction (thanks!), but - argh - as both a complete physics novice and a mathematics dunce this all sounds hellishly complicated.<br><br>I should also add that the head should return to its default upright, normal position when the model comes to a stop, and there needs to be some constraints on the maximum range of wobble.<br><br>I don't derive any personal satisfaction from coding, nor do I want to reinvent the wheel, so if there is a simple (and - importantly - free) physics system that can handle this then I'll happily use it. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
