<!DOCTYPE html><html lang="en" ><head ><title >"Graphics3D" and how do I...</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >"Graphics3D" and how do I...</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >"Graphics3D" and how do I...</a><br><br>
<a name="226335"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK, I'm stuck. I have a case where I want to set 3D capable windowed screen, using width/height values I choose, like this for example:<br><br>Graphics3D 800,600,0,2<br><br>But. What if the user has set his desktop to 640*480? *How* can I check the true windows desktop width/height BEFORE setting the "Graphics3D"?<br><br>Idea here would be to check the true windows desktop width/height and limit/crop my 3D window to the max windows desktop width/height if my pre-set values are higher than the actual windows desktop width/height.<br><br>Any ideas? All the commands available for checking this kind of information do not seem to work in this case (or as usual I'm blind and I'm missing somethig...)<br><br>I tried also if Blitz3D would be intelligent enough to limit it all by itself but it really doesnt work properly... try using for example Graphics3D 1600,1200,0,2 on desktop set to 1152*864*32 (my settings but it will be screwy probably with other settings too). <br><br></td></tr></table><br>
<a name="226351"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mouss38</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> i think the best is to give the res choice to user and save it in a file... <br><br></td></tr></table><br>
<a name="226352"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> No I can't do that... that would be easy. Since this would be the FIRST screen the user sees he really can't choose any resolutions because the program has not yet even started! I just want to know if there is an answer to the exact problem I have. <br><br></td></tr></table><br>
<a name="226380"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob Farley</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Create a user32.decls file, or add this line to an existing one:<pre class=code>User32_GetSystemmetrics%( flags% ):"GetSystemMetrics"</pre> <br>Then in BB<br><pre class=code>nTemp% = User32_GetSystemmetrics(0) ; Width
nTemp% = User32_GetSystemmetrics(1) ; Height</pre><br><br>That should do the trick.<br><br>Note: This will return the desktop size so you might want to do something like:<pre class=code>screenx = User32_GetSystemmetrics(0)-6 ; Width
screeny = User32_GetSystemmetrics(1)-45 ; Height</pre>to make space for borders and the task bar. <br><br></td></tr></table><br>
<a name="226404"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> This used to work, but I have a feeling it doesn't now (can't check at the moment) -- call GraphicsWidth/Height () *before* you set a graphics mode... <br><br></td></tr></table><br>
<a name="226419"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK, what Dr Av suggested seems what I need... just one question: what is "user32.decls file" and how I create those??? :)<br><br>James, I'm *pretty* sure that I tried the GraphicsWidth/Height () and it didn't work... but I tried so many things that I might have missed that. Have to check it too again just to make sure. <br><br></td></tr></table><br>
<a name="226427"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Allrighty... code below gives me w=400 and h=300... on a 1280*1024*32 (LCD) desktop, so...<br><br><br><pre class=code>Global Gw = GraphicsWidth() 
Global Gh = GraphicsHeight() 

; Set a graphics mode and buffer 
Graphics 640,480,16 
SetBuffer FrontBuffer() 

; Print the details 
Print "Screen width is: " + Gw
Print "Screen height is: " + Gh

; Wait for ESC before exiting 
While Not KeyHit(1) 
Wend </pre> <br><br></td></tr></table><br>
<a name="226431"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah, found it! (And it seems that I'm not the first one to ask this GetSize thing, duh):<br><br><a href="http://www.blitzbasic.co.nz/bbs/posts.php?topic=21501" target="_blank">http://www.blitzbasic.co.nz/bbs/posts.php?topic=21501</a> <br><br></td></tr></table><br>
<a name="226440"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> And more questions... is the "User32_GetSystemmetrics%( flags% )" same as the stuff in here:<br><br><a href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/sysinfo/base/getsystemmetrics.asp" target="_blank">http://msdn.microsoft.com/library/default.asp?url=/library/en-us/sysinfo/base/getsystemmetrics.asp</a><br><br>...And how can I get access to those? <br><br></td></tr></table><br>
<a name="226605"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hotcakes</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I thought Blitz3D had DesktopWidth()/DesktopHeight()/DesktopDespth() commands?  Was I dreaming or something =] <br><br></td></tr></table><br>
<a name="226676"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Was I dreaming or something =] <br></div><br><br>Dreaming? :)<br><br><a href="http://www.blitzbasic.co.nz/b3ddocs/command_list_3d_a-z.php?show=D" target="_blank">http://www.blitzbasic.co.nz/b3ddocs/command_list_3d_a-z.php?show=D</a><br><br>Anyways, the decls thing described above by Dr Av works 101% OK, so "problem solved"! <br><br></td></tr></table><br>
<a name="226922"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rimmsy</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> that's blitzPlus, hotcakes.<br><br>matt <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
