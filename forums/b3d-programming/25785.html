<!DOCTYPE html><html lang="en" ><head ><title >Water distortion</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Water distortion</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Water distortion</a><br><br>
<a name="268078"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neo Genesis10</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> A *very* advanced topic this one. What I'd like is for a distorted effect for objects below a water mesh but I would also include parts of objects in that (example, a player's feet are below water level). I'm looking for effects similar to Phatasy Star Online's (anyone who's seen the Seabed Control Center knows what I mean).<br><br>I'm guessing either raytracing or read/writepixelfast. Neither of which would appear terribly fast. <br><br></td></tr></table><br>
<a name="268089"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> cubemapping is what you need. You can use it for deflection too. apply it to some water of yours and play with the directions... <br><br></td></tr></table><br>
<a name="268100"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neo Genesis10</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ooo... new feature. Didnt have the latest version (still using 1.83). I'm gonna have a play. <br><br></td></tr></table><br>
<a name="268633"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neo Genesis10</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay. I think I get the general gist of what CAN be done using CubeMaps... but I'm still hazy on HOW they work and more importantly how you're supposed to get a reflection or distortion with that.<br><br>Example: What textures are you supposed to use? Im leaping to conclusions here, but I'm guessing the CubeMap isnt a copy of the environment otherwise dynamic reflections would be impossible (and therefore distortions of moving entities would also be). What are the textures applied to (if any at all). If not, when do you use SetCubeFace etcetera. I could go on for ages, but it would be nice if someone but this seemingly complicated subject into kindergarten lingo for me. <br><br></td></tr></table><br>
<a name="268660"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <a href="/bbs/posts.php?topic=25786" target="_blank"> it would be nice if someone but this seemingly complicated subject into kindergarten lingo for me</a>  <br></div> <br><br></td></tr></table><br>
<a name="269094"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neo Genesis10</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great stuff. Thanks Malice. Now here's another problem for ya. Lets assume I have a nice terrain (for arguments sake, we'll say its a mesh rather than a LOD). Add a nice plane over the top of this object (again, a mesh). Now place a camera underneath the water plane.<br><br>The results were somewhat unexpected. I tried rectifying this by moving the water-rendering camera directly beneath the world camera - no difference.<br><br>Also I would like to have water distortion. Not just a bending effect, but a ripple effect (the bending as a result of cubemapping adds a nice bonus though) for objects behind it.<br><br>Tall order, but then you're all so bright ^_^<br><br>Oh yeah... and how does Blitz know which camera the cubemapped texture is being viewed from? <br><br></td></tr></table><br>
<a name="269114"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Neo Genesis10 (Posted 38 minutes ago) <br> <br> <br></div><br><br>I haven't had a chance to play with cubemapping much yet, and I am not sure what the effect you describe is, or how it differs from what you want. There was something in the code archives I'm certain for creating an underwater effect as a result of CameraZoom I think.<br><div class="quote"> <br>Also I would like to have water distortion. Not just a bending effect, but a ripple effect (the bending as a result of cubemapping adds a nice bonus though) for objects behind it.<br> <br></div><br><br>I haven't had a chance to play with cubemapping much yet, and I am not sure what the effect you describe is, or how it differs from what you want. There was something in the code archives I'm certain for creating an underwater effect as a result of CameraZoom I think.<br><br><div class="quote"> <br>Oh yeah... and how does Blitz know which camera the cubemapped texture is being viewed from? <br> <br></div><br><br>...? I dunno, how does Blitz know which camera the cubemapped texture is being viewed from? <br><br> ;) <br><br></td></tr></table><br>
<a name="269218"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ckob</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> i believe u can set that option <br><br></td></tr></table><br>
<a name="269236"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DarkEagle</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> the same way it knows which camera all other entities are being viewed from - if it didnt, entityies would appear with the wrong perspective and orientation! <br><br></td></tr></table><br>
<a name="269462"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neo Genesis10</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I haven't had a chance to play with cubemapping much yet, and I am not sure what the effect you describe is, or how it differs from what you want. <br></div>Not exactly what I was looking for. Imagine its raining heavily. Think about what visual effect the ripples of a puddle would have on the ground below it. The ground would seem to move. It is this kind of distortion I would like, but heavily broken rather than bent ala cubemapping.<br><br>(by the way, I've got the hand of this cubemap malarky now and although pretty its not always easy to get the desired effect). <br><br></td></tr></table><br>
<a name="269625"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >podperson</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> The classic water distortion effect is a result of pixel shading (you can see demos of it using early pixel shaders in 3DMark 2001 SE -- very nice demo showing fish swimming around a boat and pier -- and more advanced implementations in 3DMark 3003).<br><br>I'm very hazy on how cube mapping will help with distorting what you see THROUGH water -- as far as I can tell it only helps you provide a nice reflection on the surface of the water. Maybe there's a neat trick I'm unaware of.<br><br>AFAIK, to produce really stunning water you really want (a) pixel shading to do specular effects and distortion, and (b) cube mapping to do reflections. (Again, see the demos in 3D Mark 2001/2003.) <br><br></td></tr></table><br>
<a name="269811"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neo Genesis10</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I'm very hazy on how cube mapping will help with distorting what you see THROUGH water  <br></div>Err... that was my point. Cubemapping is great for reflections - pixel perfect in fact. But I was after distortions. Is there any way to use pixel shaders in Blitz3D (via DLL imports or whatever)? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
