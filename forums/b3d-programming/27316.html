<!DOCTYPE html><html lang="en" ><head ><title >Cartography Shop Collisions</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Cartography Shop Collisions</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Cartography Shop Collisions</a><br><br>
<a name="286063"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TAGGART UK</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi<br><br>Just wondering if anybody has any code for collision???<br><br><br>Graphics3D 640,480,16,1<br><br>SetBuffer BackBuffer()<br>AmbientLight 255,255,255<br><br><br>Player=CreateCamera(player)<br>CameraClsColor Player,225,225,225<br>PositionEntity Player,-15.0,12.0,-16<br><br><br><br><br>Level1=LoadAnimMesh("Map/level1.b3d")<br>ScaleEntity level1,.1,.1,.1<br>PositionEntity level1,0,0,0<br><br><br><br><br><br>While Not KeyHit(1)<br>If KeyHit (17) Then<br>	WireMode = Not WireMode<br>	WireFrame WireMode<br>End If<br><br>   <br>	If KeyDown(200)	Then<br>		<br>		MoveEntity Player,0.0,0.0,0.5						;move forward<br>		<br>	EndIf<br><br>	If KeyDown(208)	Then<br>	<br>		MoveEntity Player,0.0,0.0,-0.5						;move backward<br>	<br>	EndIf<br><br>		<br>	If KeyDown(203) Then <br>	<br>		TurnEntity Player,0.0,2.0,0.0<br>															;move left 	<br>	<br>	EndIf<br>	<br>	<br>	If KeyDown(205) Then <br>	<br>		TurnEntity Player,0.0,-2.0,0.0						;move right 	<br>	<br>	EndIf<br><br>	<br>	<br>	If KeyDown(201)	Then<br>	<br>		MoveEntity Player,0.0,0.1,0.0						;up<br>	<br>	EndIf<br><br>	If KeyDown(209)	Then<br>	<br>		MoveEntity Player,0.0,-0.1,-0.0					;down	<br>	<br>	EndIf<br><br>	<br>		<br>		<br>	UpdateWorld<br>	RenderWorld<br>	<br>	<br>	<br>; FPS *********************************************************************************************<br>	frames=frames+1<br>	If MilliSecs()-render_time=&gt;1000 Then fps=frames : frames=0 : render_time=MilliSecs()	<br>	Text 10,700,"FPS "+fps	<br>	<br>	<br>	Text 100,700,"Surfaces:"+CountSurfaces(level1)<br>	For i=1 To CountSurfaces(level1)<br>	Text 200,i*760,"Triangles in Surface "+i+":"+CountTriangles(GetSurface(level1,i))<br>Next<br><br>	<br>Flip<br>Wend<br><br>End <br><br></td></tr></table><br>
<a name="286148"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think you can use a standard collision. Use Sphere-to-Polygon Collison checks for Player-to-level Situations.<br>Something like:<br><pre class=code>
t_player=1
t_level=2
entitytype level1,t_level
entitytype player,t_player
entityradius player,1.5,.75

collisions t_player,t_level,2,2 ; define Collisions checks

;main game loop:----------------------------
while whatever
;... keys aso.

translateentity player,0,-.01,0 ; simplified Gravity
uptateworld()
renderworld()
flip
wend
</pre> <br><br></td></tr></table><br>
<a name="286191"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> oops - sorry, there was a little bug (confused type of level and player), now it should be correct. <br><br></td></tr></table><br>
<a name="286516"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TAGGART UK</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Still no collisions?????<br><br><br><br>Graphics3D 640,480,16,1<br><br>SetBuffer BackBuffer()<br>AmbientLight 255,255,255<br><br><br>player=CreateCamera()<br>CameraClsColor player,225,225,225<br>PositionEntity player,-15.0,12.0,-16<br><br><br>Level1=LoadAnimMesh("Map/level1.b3d")<br>ScaleEntity level1,.1,.1,.1<br>PositionEntity level1,0,0,0<br><br><br>t_player=1<br>t_level=2<br>EntityType level1,t_level<br>EntityType player,t_player<br>EntityRadius player,1.5,.75<br><br>Collisions t_player,t_level,2,2 ; define Collisions checks<br><br><br><br>While Not KeyHit(1)<br>If KeyHit (17) Then<br>	WireMode = Not WireMode<br>	WireFrame WireMode<br>End If<br><br><br><br>    TranslateEntity player,0,-.01,0 ; simplified Gravity<br>  <br><br><br>	If KeyDown(200)	Then<br>		<br>		MoveEntity Player,0.0,0.0,0.5						;move forward<br>		<br>	EndIf<br><br>	If KeyDown(208)	Then<br>	<br>		MoveEntity Player,0.0,0.0,-0.5						;move backward<br>	<br>	EndIf<br><br>		<br>	If KeyDown(203) Then <br>	<br>		TurnEntity Player,0.0,2.0,0.0<br>															;move left 	<br>	<br>	EndIf<br>	<br>	<br>	If KeyDown(205) Then <br>	<br>		TurnEntity Player,0.0,-2.0,0.0						;move right 	<br>	<br>	EndIf<br><br>	<br>	<br>	If KeyDown(201)	Then<br>	<br>		MoveEntity Player,0.0,0.1,0.0						;up<br>	<br>	EndIf<br><br>	If KeyDown(209)	Then<br>	<br>		MoveEntity Player,0.0,-0.1,-0.0					;down	<br>	<br>	EndIf<br><br>	<br>		<br>		<br>	UpdateWorld<br>	RenderWorld<br>	<br>	<br>	<br>; FPS *********************************************************************************************<br>	frames=frames+1<br>	If MilliSecs()-render_time=&gt;1000 Then fps=frames : frames=0 : render_time=MilliSecs()	<br>	Text 10,700,"FPS "+fps	<br>	<br>	<br>	Text 100,700,"Surfaces:"+CountSurfaces(level1)<br>	For i=1 To CountSurfaces(level1)<br>	Text 200,i*760,"Triangles in Surface "+i+":"+CountTriangles(GetSurface(level1,i))<br>Next<br><br>	<br>Flip<br>Wend<br><br>End <br><br></td></tr></table><br>
<a name="286871"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is the level animated? If not so then use LoadMesh() instead of LoadAnimMesh(). An other reason why it dind't work could be the initial position of the player - if it's below or byside the level from beginning on. Try this:<br><br>player=CreateCamera() <br>CameraClsColor player,225,225,225 <br>PositionEntity player,-15.0,15.0,-16 ; maybe use 0,15,0 ? <br><br><br>Level1=LoadMesh("Map/level1.b3d") <br>ScaleEntity level1,.1,.1,.1 <br>;or maybe better use: ScaleMesh level1,.1,.1,.1<br>PositionEntity level1,0,0,0 <br><br></td></tr></table><br>
<a name="286889"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> xbox<br><br>Dude, put some effort in.  Read up on the collision functions.  Tell us what you've tried, tell us what the results were, give us information ... don't just keep spamming code and crying for people to fix it for you. <br><br></td></tr></table><br>
<a name="286903"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> cmon - I was surprised the code he posted didn't work. <br><br></td></tr></table><br>
<a name="286954"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TAGGART UK</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Epic boy i have read the book <br>thats why i asked for help because it would not work???<br><br><br>jfk <br>Thanks For Helping Me. <br>You were correct about the LoadAnimMesh()<br>Changed to LoadMesh() Works Great<br><br>Many Thanks <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
