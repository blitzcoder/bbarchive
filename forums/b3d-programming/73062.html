<!DOCTYPE html><html lang="en" ><head ><title >Let down by my enemies</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Let down by my enemies</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Let down by my enemies</a><br><br>
<a name="816571"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >cash</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I know there are hundreds of posts relating to enemies and AI etc but I am still frustrated by my enemies..<br><br>Does anyone have any simple code which allows simple enemy handling, I seem to end up with tons of switches to change the animation state etc and I am sure there must be a simpler way.<br>The enemies in my game are more of a nuisance for the player than game necessity, hence I dont need really complex AI.<br><br>I have some .b3d enemies with several animation sequences assigned.  This is all good but things like idle, following the player, attacking and running away become a jumble. (For me anyway).<br>Any help appreciated. <br><br></td></tr></table><br>
<a name="816577"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vertigo</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would suggest having a state machine.  And flag your enemy types with an AI_STATE% field.  This can contain IDLE SEARCHING ATTACKING FLEEING whatever you want.  Run checks against the ai's current position relative to the player, if its within its sight range, then change the state to searching or chasing and this would change the animation type to walk/run whatever.  Next if the ai_state is searching and the player is within weapon range change the state to attacking.  If the state is attacking and the player falls out of range, go back to chasing... if the player is out of search range while chasing go back to idle.  Its really dumb ai, but it should work for what you are wanting. <br><br></td></tr></table><br>
<a name="816639"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hujiklo</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> For my simple A.I enemies I eventually realised it was best to set the priority for each of the states. The ultimate and un-overridable state was the death sequence, then the recoil or falling of a ledge, then attacking, then the sort of neutral stuff could mix and match as it wished. I hope you understand this...basically I think switches/states is fine...just get them in order and check if they have permission to execute their particlar sections of behaviour code -  A hierarchy of sorts. <br><br></td></tr></table><br>
<a name="816765"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gillissie</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> To add to Hujiklo's priority-based idea, you can have a list of actions that an enemy wants to do. The list should be sorted in priority. This way, after the highest priority item is done, it automatically reverts back to what it was doing before it was interrupted. Of course, if it dies or something along the way, then the list of priorities should be deleted along with the character, so it will automatically cancel all other priorities instead of trying to revert back to patrolling after dying (for example). <br><br></td></tr></table><br>
<a name="816843"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >cash</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the tips.  I will go and test them out.  Probably best to draw it out first. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
