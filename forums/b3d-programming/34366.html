<!DOCTYPE html><html lang="en" ><head ><title >EntityHidden(), BufferWidth()...lotsa new commands</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >EntityHidden(), BufferWidth()...lotsa new commands</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >EntityHidden(), BufferWidth()...lotsa new commands</a><br><br>
<a name="371085"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> This will increase the functionality of Blitz3D:<br><a href="http://www.leadwerks.com/files/blitz3dlib.zip" target="_blank">http://www.leadwerks.com/files/blitz3dlib.zip</a><br><br>New commands:<br><br>;Entity<br>EntityHidden%(entity)<br>NextEntity%(entity)<br>LastEntity%(entity)<br>EntityX_#(entity)<br>EntityY_#(entity)<br>EntityZ_#(entity)<br>EntityOriginX#(entity)<br>EntityOriginY#(entity)<br>EntityOriginZ#(entity)<br>PositionEntity_(entity,x#,y#,z#)<br>TranslateEntity_(entity,x#,y#,z#)<br>AlignEntity(entity1,entity2)<br>EntityScaleX#(entity)<br>EntityScaleY#(entity)<br>EntityScaleZ#(entity)<br>GetEntityFX%(entity)<br>GetEntityOrder%(entity)<br>GetEntityRadius#(entity) : "GetEntityRadiusX"<br>GetEntityRadiusY#(entity)<br>GetEntityBoxX#(entity)<br>GetEntityBoxY#(entity)<br>GetEntityBoxZ#(entity)<br>GetEntityBoxWidth#(entity)<br>GetEntityBoxHeight#(entity)<br>GetEntityBoxDepth#(entity)<br>EntityMoved%(entity)<br><br>;Camera<br>GetCameraZoom#(entity)<br>GetCameraViewportX%(entity)<br>GetCameraViewportY%(entity)<br>GetCameraViewportWidth%(entity)<br>GetCameraViewportHeight%(entity)<br>CameraRangeFar#(camera)<br><br>;Texture<br>GetTextureFlags%(texture)<br>GetTextureBlend%(texture)<br>GetTextureCoords%(texture)<br>GetTextureScaleU#(texture)<br>GetTextureScaleV#(texture)<br>GetTexturePositionU#(texture)<br>GetTexturePositionV#(texture)<br>GetTextureAngle#(texture)<br><br>;Brush<br>GetBrushFX%(brush)<br>GetBrushShininess#(brush)<br>GetBrushAlpha#(brush)<br><br>;Graphics<br>BufferWidth%(buffer)<br>BufferHeight%(buffer)<br>BufferDepth%(buffer) <br><br></td></tr></table><br>
<a name="371144"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great job halo, very handy indeed.<br><br>BTW I think you would be allowed to release these in a compiled DLL.<br><br>Quote from <a href="http://www.purebasic.com/faq.php3" target="_blank">http://www.purebasic.com/faq.php3</a><br><div class="quote"> <br>Is it allowed to use DLLs made with PureBasic in other projects ?<br><br>Generally yes. You can make DLLs including PureBasic commands for your own projects without any restrictions. But it's not allowed to release simple "wrapper" Dlls to include PureBasic commands in other programming languages. <br> <br></div><br><br>You are not wrapping "Purebasic commands" here, you are creating your own :)<br><br>AFAIK This is what your not allowed to do... "simple wrapper"<br><pre class=code>
ProcedureDLL.l _PeekL(address.l)
   ProcedureReturn PeekL(address.l)
EndProcedure
</pre><br>as it just wraps Purebasics own commands. <br><br></td></tr></table><br>
<a name="371149"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Damn that was quick ;) <br><br></td></tr></table><br>
<a name="371177"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CyberHeater</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> awesome... <br><br></td></tr></table><br>
<a name="371247"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pinete</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> It seems a fantastic addition!<br>Please, Could someone explain me how to introduce these<br>commands in Blitz3D and the way to call them?<br>Is like the rest of the functions?<br><br>Thanks in advance! <br><br></td></tr></table><br>
<a name="371322"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>EntityHidden%(entity) <br>NextEntity%(entity) <br>LastEntity%(entity) <br> <br></div><br><br>Wooo!!! That's enough for me! Im totally grateful already :) <br><br></td></tr></table><br>
<a name="371335"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Genexi2</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I wonder why Mark couldnt have did half of those for us natively in Blitz....either way, nice job there Halo. :)<br><br>Startin to really like those texture commands there......<br><br>Pin, you gotta unpack the decls file and the dll to the b3d\userlibs folder, and make sure that blitz3d.dll has that folder its in in the packed file, or else you'll have to edit the directory of the dll in the decls file. <br><br></td></tr></table><br>
<a name="371421"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's pretty cool that you can sort through the entities...they are linked lists.<br><br>EntityExists() is also possible. <br><br></td></tr></table><br>
<a name="371455"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eole</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great Job !<br><br>Thank a lot <br><br></td></tr></table><br>
<a name="371489"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey Halo, What is the point of:<br><br>EntityX_#(entity) <br>EntityY_#(entity) <br>EntityZ_#(entity)<br><br>Aren't they just the EntityX() y and z blitz commands?<br><br>Very nice lib though, i'm gonna use it. Thanks :) <br><br></td></tr></table><br>
<a name="371492"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's more for writing commands in a DLL, like a physics system or something that directly accesses the matrices. <br><br></td></tr></table><br>
<a name="371558"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here is a cool one:<br><pre class=code>Function FirstEntity()
p=CreatePivot()
Repeat
	p=LastEntity(p)
	Until Not LastEntity(p)
Return p
End Function</pre><br><br>Use it like this:<br><pre class=code>entity=FirstEntity()
While entity
	Select EntityName(entity)
		Case "Monster" UpdateMonster entity
		End Select

	entity=NextEntity(entity)
	Wend</pre> <br><br></td></tr></table><br>
<a name="371563"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's another.  Associate a bank with an entity to store special parameters:<br><br><pre class=code>Function EntityBank(entity)
bank=PeekL(entity+240)
If bank=1065353216
	bank=CreateBank()
	PokeL entity+240,bank
	EndIf
Return bank
End Function</pre> <br><br></td></tr></table><br>
<a name="371609"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow, these're suprisingly useful.  Thank you very much, halo.<br><br>I could see the Next/LastEntity procedures being used to write a basic garbage collector. <br><br></td></tr></table><br>
<a name="371663"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> I downloaded textureCoords one before Halo, when you originally psoted it. Is this the same code? If so, it doesn't work.<br><br>It either returns 0 or some very high number. Would be a nice function to have, is why I'm pointing it out.<br><br>Nice work with the other stuff though. <br><br></td></tr></table><br>
<a name="371666"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jager</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Now for the dumbies .. can we have a description for each command to see how useful they are? Maybe how they differ from similar BB3d Commands?<br><br>One thing that really annoys me about BB3D is lists of types nested within other types are all globals! eg<br><br>Type soldier<br>  ....<br>End type<br><br>Type BattleUnit<br>  field unitsoldier.soldier<br>end type<br><br>If one was to loop through all the unitsoldiers in a unit, you'd hope to only see soldiers for that unit but no, we get the lot. A if condition has to added.<br><br>Any chance of adding a command to get rid of this annoying feature? :) (joking, just having a whinge)<br><br>Apart from the above feature, I'm finding BB3D an excellent language to develop my wargame, thanks! <br><br></td></tr></table><br>
<a name="372072"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ziltch</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt;EntityExists() is also possible. <br><br>After all the reasons posted , thread after thread explaining why we could never have this command!<br><br>A lesson to all the people that said it could not be done!<br><br>Thanks for helping to keep Blitz3d growing. <br><br></td></tr></table><br>
<a name="372079"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's one:<br><br><pre class=code>
Graphics3D 800,600,32,2

Function GetEntity(Name$)
	Local P,Entity
	P = CreatePivot()
	Entity = P
	While LastEntity(Entity) &lt;&gt; 0
		Entity = LastEntity(Entity)
	Wend
	
	While NextEntity(Entity) &lt;&gt; 0
		Entity = NextEntity(Entity)
		If EntityName(Entity) = Name$ Then
			FreeEntity P
			Return Entity
		EndIf
	Wend
	
	FreeEntity P
	Return 0
End Function

For N = 0 To 31
	C = CreateCube()
	If N = 13 Then
		NameEntity C,"Google"
		D = C
	EndIf
Next

Print EntityName(D) + "  " + D
Print EntityName(GetEntity("Google")) + "  " + GetEntity("Google")

WaitKey
</pre><br><br>And a variant on that, which is a basic EntityExists():<br><br><pre class=code>
Function EntityExists(Exists)
	Local P,Entity
	P = CreatePivot()
	Entity = P
	While LastEntity(Entity) &lt;&gt; 0
		Entity = LastEntity(Entity)
	Wend
	
	While NextEntity(Entity) &lt;&gt; 0
		Entity = NextEntity(Entity)
		If Entity = Exists Then
			FreeEntity P
			Return True
		EndIf
	Wend
	
	FreeEntity P
	Return False
End Function
</pre><br><br>Just trying to put these to use. <br><br></td></tr></table><br>
<a name="372122"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AbbaRue</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> These new commands look awsome, but how does one use them. <br>I get userlib not found error. <br>Can someone give me a blitz3D program example that works with some of these new commands? <br><br></td></tr></table><br>
<a name="372477"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's another:<br><br>#BLITZ_CAMERAFLAGS=608<br><br>ProcedureDLL.l GetCameraClsMode(*entity,mode)<br>flags=PeekL(*entity+#BLITZ_CAMERAFLAGS)<br>Select mode<br>  Case 0<br>    If (1 &amp; flags)<br>      ProcedureReturn 1<br>      EndIf<br>  Case 1<br>    If (256 &amp; flags)<br>      ProcedureReturn 1<br>      EndIf<br>  EndSelect<br>EndProcedure<br><br><br>Why isn't this thread sticky? <br><br></td></tr></table><br>
<a name="372491"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DJWoodgate</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Why isn't this thread sticky? <br> <br></div><br><br>Probably because its very easily broken by a future update. (Unless the structures are going to be set in stone which seems a bit unlikely). All this stuff should really be available in Blitz.  But that's probably whistling down the wind, so keep up the good work!<br><br>Abarue, you probably get userlib not found because Halo sticks his DLLs in a subdir.  So you did not extract with paths to Blitz3d\userlibs.  Alternatively just alter the decls header. <br><br></td></tr></table><br>
<a name="372536"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JaviCervera</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is awesome <br><br></td></tr></table><br>
<a name="372609"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> If the Blitz structures change, all you have to do is update the constants. <br><br></td></tr></table><br>
<a name="372620"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AbbaRue</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks DJWoodgate That is what was wrong, the decls header used a subdirectory.<br>I keep all my DLLs in the main userlibs folder. <br><br></td></tr></table><br>
<a name="372805"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DJWoodgate</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>If the Blitz structures change, all you have to do is update the constants.<br> <br></div><br><br>I suppose so.  In any event I guess these structures are not likely to change anytime soon.<br><br>Getting into the spirit of things then the Camera Cls colors are floats at 596,600,604.  Multiply by 255 to get the Integer equivalent.<br><br>Ditto camera fog colors at 616,620,624<br>Camera fog range floats at 628,632<br>Camera fog mode at 636<br><br>Camera Near is a float at 640.  Do not write to this or Camerazoom, it will not have the desired effect.There are a whole raft of matrix calculations done when blitz changes these values itself, which are not fired if you modify them directly.  The matrix values produced seem to occur between about 648 and 844.<br><br>NextEntity, LastEntity should perhaps be called  NextSibling, PrevSibling.<br><br>Parent is at +12<br>Firstchild is at +16<br>LastChild is at +20<br><br>Entityname (if one is defined) is addressed at entity+32<br>Stored as a packed array of bytes, low to high order, zero terminated, with length at entity+36<br><br>There are three transform matrices stored as floats in the entity structure, the first extends from +88-132 in col,row order.  This seems to be the the local transform matrix and modifcations to this require setting the entityrefesh flag as Halo calls it at +44.  Perhaps better called the transform flags. Writes are possible but not always actioned. Still looking into this.<br>The second is stored from +176-220 and is based on the first but modified by the parents transforms in some way.  You can write this, but there is not much point because it will be overwritten by the parents values.<br>The third is stored at 516-560 and in my tests so far seems to be a copy of the second matrix.  I suspect these are the values returned by the GetMatElement function, and these can not be written to so blitz must be modifying them continously. <br><br></td></tr></table><br>
<a name="372824"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DJWoodgate</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> BTW. I doubt EntityExists is as straightforward as some are proposing.  As far as I can see there is no guarantee that a particular memory address will remain unique.  All you can say is that there is an entity at a given adress, it may or may not be the original one, though I suspect it will be of the same class. So some additional management is required, as was always the case. <br><br></td></tr></table><br>
<a name="372897"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Entity exists tells you whether the specified address indicates a valid entity.  Whether or not the entity is the one you happen to be thinking of at the time is, of course, out of the scope of the function.<br><br>'Sibling' implies a hierarchel organization, when there is none here. <br><br></td></tr></table><br>
<a name="372995"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JaviCervera</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> GetTextureFlags() does not work correctly for me, using Blitz3D 1.87 <br><br></td></tr></table><br>
<a name="373098"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's what you get, when you get it for free.  There's no reason not to poke around in it yourself. <br><br></td></tr></table><br>
<a name="373221"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DJWoodgate</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>'Sibling' implies a hierarchel organization, when there is none here.<br> <br></div><br><br>Yes there is.   That's why I implied it.  Your NextEntity and LastEntity functions follow links to the next and previous entities at the same level in the hierarchy.<br><br>To continue...<br><br>Light values are encoded in another structure addressed at light+576:<br>Lighttype Int at +0  (1=Point, 2=Spot, 3=directional) (yes, you can write this location).<br>Lightcolors are floats at  +4,8,12,16 (RGBA)  (These are the diffuse values in DirectX speak)<br>Light Global x,y,z position is stored at +52,56,60 <br>Lightrange is a float at +88 stored as 1.0/lightrange.<br>lightconeangles are floats at +96,100 stored as radians. (multiply by 57.2957795 to get degrees)<br><br>This structure merits further investigation...<br><br>Light rotation effects floats at +64,68,72.  I suspect these values are in fact the lights normalized global direction vector in x,y,z.<br><br>The float at +76 seems to control the maximum range of the light (for point and spot lights).  This is not at all like LightRange (or the other attenuation parameters mentioned below) which define how the light falls off, this defines where the light stops altogether.  Quite a useful one.<br><br>Additional attenuation parameters seem to be stored as floats at +84 and +92 though they are always zero by default. I suspect they correspond to the Constant and Quadratic attenuation terms in the lighting equation, so LightRange itself just alters the Linear term. (Try values between 0 and 1 for the Constant term and between 0.001 and 0.02 for the quadratic term).<br><br>There is another float at +80 which seems to alter the attenuation for spotlights in some way.  I suspect it changes the the way light falls off between the inner and outer angles. (see article referenced below)<br><br>The values at +20,24,28,32 are floats that store the specular color of the light (RGBA). (lets you change the color/intensity of those nice shiny highlights enabled by EntityShininess)<br><br>The values at +36,40,44,48 are floats that define the ambient light level.  (it seems you can specify an ambient light level for each light, as well as an overall ambient level in DX7)<br><br>Diffuse, ambient and specular colors all have an alpha component.  I just need to figure out how to use them. They probably have limited applicability.<br><br>You can achieve some interesting results by tweaking some or all of these additional parameters.  Shame they are not available natively because they all seem fully functional.<br><br>This article explains what is available DirectX wise.  Yeah its DX8 but most of it seems to be applicable to DX7. <br><a href="http://www.andypike.com/tutorials/directx8/007.asp" target="_blank">http://www.andypike.com/tutorials/directx8/007.asp</a><br>Then of course there is MSDN... <a href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/dndir3d/html/dx7light.asp" target="_blank">http://msdn.microsoft.com/library/default.asp?url=/library/en-us/dndir3d/html/dx7light.asp</a><br><br>Might have a "poke" around on the materials side of things next. <br><br></td></tr></table><br>
<a name="373355"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> No they don't.  They go through all the entities that exist, in the order they were created, regardless of hierarchy. <br><br></td></tr></table><br>
<a name="373364"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> "GetTextureFlags() does not work correctly for me, using Blitz3D 1.87"<br><br>As nice as some of these commands may be you should know what there's a chance they will break with each new version of Blitz released. <br><br></td></tr></table><br>
<a name="373391"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> sswift - try and read the thread before posting! :) <br><br></td></tr></table><br>
<a name="373404"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DJWoodgate</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>No they don't. They go through all the entities that exist, in the order they were created, regardless of hierarchy. <br> <br></div><br><br>Well they clearly link only to siblings here.  Could you post some code showing how you achieve sequential access. I need some basis for comparison.  Hmmm.  Unless you have updated the DLL to change their behaviour?  Because Entity+4 and Entity+8 are the sibling links.  Parent and child links are also available as mentioned above.  If you are only using +4,8 then maybe things have changed. <br><br><br>[edit]<br>It's now pretty obvious your code is based on an old version.  My info is based on 1.87.  For some obscure reason I choose to use the latest version. But I guess I would be reluctant to upgrade if I had a lot of code in production based on these sort of hacks, because it is no five minute job uncovering changes in structures/methods. (Another warning to the unwary).  Anyways, ignoring the potential inconveniences...<br><br>EntityAutofade values floats at +604,608 (for meshes)<br>Autofade flag int at +600 (1 if autofade enabled).<br>Number of surfaces int at +648  <br><br>Entitycolor, Shininess, FX etc<br>Brush Stuctures are addressed at entity+580 and 584.<br>In my tests so far they both address the same structure, unless entityautofade is enabled.<br>The address changes between 2 or more locations, probably to support tweening and autofade.  In that respect the address at +584 may yield more accurate results in respect of current alpha.<br>setting the byte at entity+588 refreshes the entity with the contents of this structure.<br>The brush structure is described below. Note the structure is linked directly, there is no offset+0 address.<br>........................<br><br>A brush structure is addressed at brush+0<br>BrushBlend is an int at +4<br>Highest Texture layer used is an int at +8 <br>Brushcolor are floats at +16,20,24.  These relate to the diffuse colors. <br>BrushShininess is a float at +28<br>Brushalpha is a float at +32<br>BrushFX is an int at +40<br>I have not found a way to manipulate Ambient or specular colors yet or even know where they are stored.  I expect  blitz just hardwires them as it does the emmisive colors when you use fx 1.<br><br><br>For each texture layer 2 texture structs are addressed<br>The first at +44,60,76,92,108,124,140,156<br>The second at +172,176,180,184,188,192,196,200<br>In the first structure addressed at +44 etc (which is the texturebuffer structure)...<br>TextureFlags are stored in an int at +0 (see note below).<br>buffer width and height and depth are ints at +92,96,100<br>The second struct address is also the struct addressed at Texture+0 (See below)<br><br>............<br><br>A Texture structure is addressed at texture+0<br>TextureBlend at +24<br>TextureCoords at +28.<br>TextureScale at +36,40<br>TexturePosition at +44,48<br>textureRotation at +52<br>Transform matrix floats stored at +60,64,68,72,76,80,84,88 <br>Xscale at 60, Xskew at 64, Yskew at 72, Yscale at 76, Xoffset at 84, Yoffset at 88.<br>Setting the bytes at +56,57 to 1 "activates" these values.<br>Another struct addressed at +4<br>In this struct the texture name string is addressed at +8 and the length of this string is at +12<br><br>Have not found textureflags reliably yet though, this structure is a bit exotic. [edit] OK, Found them...<br><br>Note:  Texture Flags are stored in the Int at texturebuffer+0.  Bit 13 (4096) is always set (for whatever reason).  If bit 3 (masking) is set then bits 1 and 2 will also be set.  Texturebuffer+104 is set to 4 if the texture is masked otherwise it is set to 2.  I suspect some of the Ints that follow this relate to pixel format and masks, but I have not figured those out yet, that is a whole other ball game. <br><br></td></tr></table><br>
<a name="373416"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> "sswift - try and read the thread before posting! :)"<br><br>Read an entire thread full of Halo?  No thanks! <br><br></td></tr></table><br>
<a name="373438"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> This guy is so creepy. <br><br></td></tr></table><br>
<a name="373922"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> Seems like my texture offsets are all wrong.  I don't know if they were ever right, because I never really used them.<br><br>I am trying to write a texture shader userlib, where you just call CreateShader(texture), set some properties, then call UpdateShaders() before each render.  Anyone know where the texture position, scale, and rotation are stored?  This would be a really cool way to have all the q3a shaders, and it would be largely automated.  Mark? <br><br></td></tr></table><br>
<a name="373931"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DJWoodgate</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>If the Blitz structures change, all you have to do is update the constants.<br>....<br>Seems like my texture offsets are all wrong. I don't know if they were ever right, because I never really used them.  <br> <br></div><br><br>See above. <br><br></td></tr></table><br>
<a name="373933"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ha...I found them, sucka.<br><br>Proceduredll.f TextureU(texture)<br>texture=PeekL(texture)<br>ProcedureReturn -PeekF(texture+44)<br>EndProcedure<br><br>ProcedureDLL.f TextureV(texture)<br>texture=PeekL(texture)<br>ProcedureReturn -PeekF(texture+48)<br>EndProcedure<br><br>ProcedureDLL.f TextureScaleU(texture)<br>texture=PeekL(texture)<br>ProcedureReturn (1.0/PeekF(texture+36))<br>EndProcedure<br><br>ProcedureDLL.f TextureScaleV(texture)<br>texture=PeekL(texture)<br>ProcedureReturn (1.0/PeekF(texture+40))<br>EndProcedure<br><br>ProcedureDLL.f TextureAngle(texture)<br>texture=PeekL(texture)<br>ProcedureReturn (-360.0*PeekF(texture+52))/2.0/3.14159265<br>EndProcedure <br><br></td></tr></table><br>
<a name="373943"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DJWoodgate</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well done ;) <br><br></td></tr></table><br>
<a name="374597"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey anyone know where the vertex bones are in the surface structure?  The vertices are just a buffer at an offset at surf+28, and I can find all the other vert values, but... <br><br></td></tr></table><br>
<a name="374616"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> SURFACE_VERTEXARRAY=28<br>-stores vertex data<br>-vertices are 64-byte structures<br><br>x=0<br>y=4<br>z=8<br>nx=12<br>ny=16<br>nz=20<br>RGBA=24<br>u0=28<br>v0=32<br>u1=36<br>v1=40<br><br>And then 44-60 are mystery values.  What could they be?  44, 52, and 60 appear to be pointers.  48 and 56 are equal to 0.  Bones must be in there somewhere, but what are these other values?<br><br><br>SURFACE_TRIANGLEARRAY=44<br>-triangles are stored as shorts in this array <br><br></td></tr></table><br>
<a name="375520"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DJWoodgate</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have updated my post above with additional information I have found for the Light structure for those who might be interested.  Once again though I would not recommend using these in anger because these locations may well change.  Nice to see all this functionality is lurking beneath the surface though, doncha think? <br><br></td></tr></table><br>
<a name="375577"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ice9</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> You may be able to do this without the pb .dll<br>by using the kernel32.dll<br><br>Here's the old thread.<br><a href="http://www.blitzbasic.com/Community/posts.php?topic=27669" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=27669</a> <br><br></td></tr></table><br>
<a name="375611"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DJWoodgate</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> In fact I have been using the Blitzmem dll posted by ZJP as part of his excellent realtime image processing submission.<br><br><a href="http://www.blitzbasic.co.nz/Community/posts.php?topic=34301" target="_blank">http://www.blitzbasic.co.nz/Community/posts.php?topic=34301</a> <br><br></td></tr></table><br>
<a name="375695"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Panno</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> thats so cool <br>dont try this at home ! <br><br></td></tr></table><br>
<a name="412585"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ziltch</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am trying to get an EntityFX value but am having no luck.<br>The offset of 724 mentioned above I guess is for an older version of blitz.<br><br>Has anyone figured out how to retrieve it? <br><br></td></tr></table><br>
<a name="412626"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DJWoodgate</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think it can be accessed via a brush structure addressed at 580 or 584.  See my earlier post above. <br><br></td></tr></table><br>
<a name="412672"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ziltch</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks David , once again!<br>I got the EntityFx info from brush at 584 offset 40. <br><br></td></tr></table><br>
<a name="412758"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ryan scott</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> just found this - it sure looks good.<br><br>no docs so a few questions:<br><br>a little confusion with PositionEntity_ what is the reason for this?  same as EntityX_  (the answer to which seems to be, if you aren't writing dlls, you don't need to know)<br><br>Is there any easy way to SET the origin?  (other than messing with FitMesh or PositionMesh?  PositionOrigin makes more sense)  <br><br>Does entitymoved tell you if it was moved since the last time you checked entitymoved, or the last updateworld, or what?<br><br><br>alignentity, does it simply put them right on top of each other, and same rotation?<br><br>I'm not asking for the world for free, but would be nice to not have to guess quite so much! <br><br></td></tr></table><br>
<a name="412834"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DrakeX</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#51">[#51]</a></td></tr></table></td></tr><tr ><td class="posttext"> ooooooooooomgomgomgomgomg i love you halo.  these commands round out the missing holes in B3D that have annoyed me for a year, the missing "get" counterpart commands.  thank you so much :)<br><br>i tried to decipher what all that junk at entity pointers meant, but i just didn't get it.  you rock! <br><br></td></tr></table><br>
<a name="412875"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeremy Alessi</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#52">[#52]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sweet! <br><br></td></tr></table><br>
<a name="619701"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Maxus</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#53">[#53]</a></td></tr></table></td></tr><tr ><td class="posttext"> What format MD2 models in the memory Blitz3D? <br><br></td></tr></table><br>
<a name="670375"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CakeMonitor</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#54">[#54]</a></td></tr></table></td></tr><tr ><td class="posttext"> I need BufferWidth() and BufferHeight() functions, but this download link is broken.<br><br>Anyone know where I can get the lib (or and alternative one which provides the BufferWidth() and BufferHeight() functions)?<br><br><br>Thanks <br><br></td></tr></table><br>
<a name="670377"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >@rtur</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#55">[#55]</a></td></tr></table></td></tr><tr ><td class="posttext"> ProcedureDLL BufferWidth(buffer)<br>ProcedureReturn PeekL(buffer+92)<br>EndProcedure<br><br>ProcedureDLL BufferHeight(buffer)<br>ProcedureReturn PeekL(buffer+96)<br>EndProcedure<br><br>ProcedureDLL BufferDepth(buffer)<br>ProcedureReturn PeekL(buffer+100)<br>EndProcedure <br><br></td></tr></table><br>
<a name="670631"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CakeMonitor</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#56">[#56]</a></td></tr></table></td></tr><tr ><td class="posttext"> ProcedureDLL ?<br>PeekL() ?<br><br>Are we both talking Blitz3D here?<br>I haven't downloaded any DLL as the link is broken. Do I need to have bought PureBasic for this stuff to work?<br><br><br>I assume in Blitz3D I would use PeekInt() instead of PeekL() to read 4 bytes from a memory bank, but how do I get it to treat a graphics buffer as a bank?<br><br>PeekInt(GraphicsBuffer(),92) does not work.<br><br>Thanks again <br><br></td></tr></table><br>
<a name="670635"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CakeMonitor</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#57">[#57]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok, nevermind.<br><br>I found me10afull.zip on the Leadwerks website and it has all the DLLs and decals I need. <br><br></td></tr></table><br>
<a name="670640"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kalisme</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#58">[#58]</a></td></tr></table></td></tr><tr ><td class="posttext"> Where can I find it? <br><br></td></tr></table><br>
<a name="670730"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bytecode77</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#59">[#59]</a></td></tr></table></td></tr><tr ><td class="posttext"> the link is broken :(...<br>can you giv it to me or can you may activate the link up there?<br>please! <br><br></td></tr></table><br>
<a name="670731"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pinete</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#60">[#60]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi,<br>give me your mail address and I will send to you<br>:)<br><br>regards, <br><br></td></tr></table><br>
<a name="670737"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Steven Noyce</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#61">[#61]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can you e-mail it to me also?  Blitznerd@... <br><br></td></tr></table><br>
<a name="670758"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pinete</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#62">[#62]</a></td></tr></table></td></tr><tr ><td class="posttext"> sent.. sorry for the delay!<br>:) <br><br></td></tr></table><br>
<a name="670826"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Red Ocktober</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#63">[#63]</a></td></tr></table></td></tr><tr ><td class="posttext"> very generous josh... <br><br>kudos to you for a nice job as well...<br><br>--Mike <br><br></td></tr></table><br>
<a name="670875"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#64">[#64]</a></td></tr></table></td></tr><tr ><td class="posttext"> hey Pinete, can you email me too  xyboots@... <br><br></td></tr></table><br>
<a name="670876"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bytecode77</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#65">[#65]</a></td></tr></table></td></tr><tr ><td class="posttext"> my email is in my signature..just click onto my name! <br><br></td></tr></table><br>
<a name="671025"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bytecode77</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#66">[#66]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok, thx...<br>i have put the libs into the userlibs folder and started my program...but he didn't find the functions :(... <br><br></td></tr></table><br>
<a name="671149"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#67">[#67]</a></td></tr></table></td></tr><tr ><td class="posttext"> This surely can be done with onboard libraries only, like the kernel32.dll.<br><br>It was explained here:<br><a href="http://www.blitzbasic.com/Community/posts.php?topic=57663" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=57663</a><br>GetBrushAlpha() was used as an example<br><br>EDIT 2: Man I am such a fool, this thread is 2 years old! x_x <br><br></td></tr></table><br>
<a name="671557"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bytecode77</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#68">[#68]</a></td></tr></table></td></tr><tr ><td class="posttext"> thx:)<br><br>ps: this thread isnt 2 years old! one year before a few posts have been written here and a few days before :) so u can say that you are not a fool, indeed :D <br><br></td></tr></table><br>
<a name="671587"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kalisme</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#69">[#69]</a></td></tr></table></td></tr><tr ><td class="posttext"> if anyone can send it to me... YAY! :D<br>my Email is: kalisme@... <br><br></td></tr></table><br>
<a name="733140"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Panno</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#70">[#70]</a></td></tr></table></td></tr><tr ><td class="posttext"> here to please  : POWERASM1@... <br><br></td></tr></table><br>
<a name="733192"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#71">[#71]</a></td></tr></table></td></tr><tr ><td class="posttext"> ..I have this lib somewhere on archive disc..if you buy me a beer I'll do it for ya :)) <br><br></td></tr></table><br>
<a name="735330"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Billp</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#72">[#72]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wrote a couple of function using the camera viewport commands and thought someone might find useful, it records frames from the camera passed to it and saves them as an AnimImage.<br><br>Theses functions require Leadwerks blitz3d.dll and decls<br>The example is the bouncing ball demo from blitz<br><br>the Animation in this example is  saved in the current directory as "temp.bmp"<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
;Create 3d animation example 

;Set up a simple nice looking level 
Graphics3D 640,480 
camera=CreateCamera() 
CameraViewport camera,0,0,128,128
PositionEntity camera,0,12,-12 
RotateEntity camera,35,0,0 
light=CreateLight(2) 
PositionEntity light,1000,1000,-1000 
ground=CreatePlane(2) 
EntityAlpha ground,0.5 
EntityColor ground,0,0,255 
mirror=CreateMirror() 

;Lets make a bouncing ball that squashes on impact with the floor. 
ball=CreateSphere(16) 
EntityShininess ball,1 
EntityColor ball,255,0,0 

; Lets animate him and "record" the 3D animation for later playback 
bloat#=0 : flatten#=0 : ypos#=10 

For frame=1 To 10 
;Drop the ball from height 10 to 2 
ypos = ypos - spd# 
spd#=spd#+.2 
PositionEntity ball,0,ypos,0 
ScaleEntity ball,1+bloat,1+flatten,1+bloat 

;If the ball is low enough make it look increasingly squashed 
If frame&gt;8 
bloat=bloat+1.5 
flatten=flatten-.25 
Else 
flatten=flatten+.05 
EndIf 

;Record the frame! 
SetAnimKey ball,frame 
Next 

;Now we need to add the frames we've just made to the sequence of "film"! 
seq = AddAnimSeq(ball,frame-1) ; total number of frames 

;Play it back ping-pong!
Animate ball,2,0.15 

; PLACE RECORD_START HERE
Record_Start( "temp.bmp", 20, 3 )

While Not KeyHit(1) 
UpdateWorld 
RenderWorld 
Flip
; PLACE RECORD_FRAME HERE
Record_Frame(camera)
Wend 
End  


;-------------------------------------------------------------------------------------------------
;
; Requires blitz3d.dll in userlibs
;
;	Functions :
;
; 	Record_Start( Filename$, TotalFrames, skip )
;
;				skip = 0 records every pass, skip=7 records every 8 passes etc.
;				place Before main loop
;
;		Record_Frame(camera)
;
;				records 1 frame from camera until Frames = Total Frames then
;				saves all frames as an anim strip
;				place after renderworld &amp; Flip
;
;-------------------------------------------------------------------------------------------------

Type Frame
	Field Image
End Type

Type AnimStrip
	Field FrameNumber
	Field TotalFrames
	Field StripFile$
	Field FrameSkip
	Field FrameSkipNum
End Type



Function Record_Start( F$, numberFrames, skip )
	Delete Each AnimStrip
	AnimStrip.AnimStrip = New AnimStrip
	AnimStrip\FrameNumber = 0
	AnimStrip\TotalFrames = numberFrames
	AnimStrip\StripFile$ = F$
	AnimStrip\FrameSkipNum = skip
	AnimStrip\FrameSkip = skip
End function

Function Record_Frame(camera)
	AnimStrip.AnimStrip = First AnimStrip
	If AnimStrip\FrameSkip &lt;= 0
		AnimStrip\FrameSkip = AnimStrip\FrameSkipNum
		If AnimStrip\FrameNumber &lt; AnimStrip\TotalFrames
			x = GetCameraViewportX( camera )
			y = GetCameraViewportY%(camera)
			w = GetCameraViewportWidth%(camera)
			h = GetCameraViewportHeight%(camera)
			Frame.Frame = New Frame
			Frame\Image = CreateImage(w,h)
			GrabImage Frame\Image,x,y
			AnimStrip\FrameNumber = AnimStrip\FrameNumber+1
			If AnimStrip\FrameNumber = AnimStrip\TotalFrames
				Record_Save(w,h)
			End If
		End If
	Else
		AnimStrip\FrameSkip = AnimStrip\FrameSkip-1
	End If	
End Function

Function Record_Save(w,h)
	AnimStrip.AnimStrip = First AnimStrip
	If AnimStrip\FrameNumber
		strip = CreateImage(AnimStrip\TotalFrames*w,h)
		x=0
		For Frame.Frame = Each Frame
			CopyRect 0, 0, w, h, x, 0, imagebuffer(Frame\Image),imagebuffer(strip)
			x=x+w
		Next
		SaveImage (strip,AnimStrip\StripFile$ )
	End if
End Function
</textarea> <br><br></td></tr></table><br>
<a name="735590"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mikele</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#73">[#73]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://strony.aster.pl/mikele/blitz/blitz3ddll.zip" target="_blank">blitz3dlib</a> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
