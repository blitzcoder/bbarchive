<!DOCTYPE html><html lang="en" ><head ><title >transparency bitmap problem</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >transparency bitmap problem</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >transparency bitmap problem</a><br><br>
<a name="721076"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Osoko</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi there<br><br>I'm using TGA bitmap with alpha channel for displaying trees. I've problems with them, they have transparency OK, but the engine display the trees abnormaly, trees in the front appears behind trees in the back ! <br>What could i Do ?<br><br>Thank's <br><br></td></tr></table><br>
<a name="721086"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is a feature of using alpha.  The Z-ordering gets disabled so the sprites will be drawn in order based on their distance form camera which sometimes causes issues.<br><br>There is an alpha sort routine in the archives which may be of use to you.<br><br>Stevie <br><br></td></tr></table><br>
<a name="721097"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would rather suggest not to use Alpha for trees. IMHO you should use DXT3 textures in masked mode. There are plugins to export DDS/DXT for Photoshop and Gimp, even some free standalone converters.<br><br>Using the alpha sorting code Stevie mentioned means also speed loss, and you have to include every alphaed mesh in the sorting update function. <br><br></td></tr></table><br>
<a name="721329"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Osoko</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> does blitz load dds ?<br>Is the problem resolve with these type of texture ? <br><br></td></tr></table><br>
<a name="721352"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes Blitz 1.97+ loads DDS.<br><br>As you only use masking, yes it resolves the issue.<br><br>Are you perhaps using "chunking" or some mesh combination algorithm to save surfaces on your trees? (because depth sorting is done against 0,0,0 point of the mesh, not the actual triangle, which causes this kind of error normally - another problem is too high cam ranges as well. min range &lt;= max range / 10000 on 32bit, on 16bit its far smaller!) <br><br></td></tr></table><br>
<a name="721395"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Osoko</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well !<br>I've found a workaround, as I was using big cylindricals planes for aplying "trees group" texture with alpha, i've separate them into smaler pieces. It's works now correctly. I presume as you said that blitz use the center of object to determine the order of display.<br><br>But i will look seriously about DDS, does DDS textures uses less Vram ?<br><br>Thank's <br><br></td></tr></table><br>
<a name="721461"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> when you use alpha, the parts of one mesh are not sorted correctly, but randomly. This is a well known and hated "feature". If you split things up into more meshes, it may help.<br><br>Masked DDS (DXT3, saved with alpha channel) won't have semitransparent parts, as alpha textures do. But other than masked BMP, PNG etc. DXT3 will draw the outlines using a smooth, round interpolation. It also allows to use a neutral background color on the RGB channel, so texture filtering won't produce black outlines as seen with masked BMP etc.<br><br>Yes, DDS/DXT is used compressed in the VRam. AFAIK it uses only as much VRam as the filesize takes. It's perfect for plants, fences, fine structures. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
