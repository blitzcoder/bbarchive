<!DOCTYPE html><html lang="en" ><head ><title >ClearSurface</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >ClearSurface</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >ClearSurface</a><br><br>
<a name="290908"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Boiled Sweets</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>ClearSurface removes the tris and vertices from a surface but how do you go about removing the surface altogher?<br><br>I'm trying to optimise my world and have cubes made up of 3 surfaces, one for the sides, one for the roof and another for the floor.<br><br>I can safely remove the roof and ceiling surfaces on cubes that join each other.  I can call ClearSurface on them but it doesn't remove the surface itself so my optimisation isn't as good as it could be, any thoughts? <br><br></td></tr></table><br>
<a name="290910"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shambler</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> The best optimisation would be to instead of removing faces of a cube don't put them there in the first place.<br><br>For each cube look at its neighbours and then decide whether the cube will need a face there because it doesn't have a neighbour and vica versa.<br><br>Work with square faces rather than whole cubes. <br><br></td></tr></table><br>
<a name="290926"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try updatenormals? <br><br></td></tr></table><br>
<a name="290938"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'd like to know this as well.  When I'm deleting a portion of a mesh, how can I remove the surfaces allocated to it?<br><br>Answers like "don't do that" aren't really helping.  :P <br><br></td></tr></table><br>
<a name="290940"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does,<br><br>FreeEntity surf<br><br>work? Where surf is the surface name?<br><br>[EDIT]<br><br>Also, are you using the ClearSurface surf, true, true<br><br>?? <br><br></td></tr></table><br>
<a name="290943"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Boiled Sweets</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have tried ClearSurface surf, true, true.<br><br>It clears 5600 surfaces from my world.  However it does NOT improve performance.  I guess this is because...<br><br>i)  The number of entities has not changed.<br><br>and / or<br><br>ii) The surfaces are clear (ie no tris and vertices) but they stil exist.<br><br>I can see that creating only the surfaces I need is a good way to go however.  I also currently hide all cubes surrounded by cubes.  This help a lot as it removes entities...<br><br>BUT I would still like to know how else I can increase performance.<br><br>I ought to add that I use camera fogging and a EntityDistance (from the camera) to do some basic culling.  This also works very well... <br><br></td></tr></table><br>
<a name="290947"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Does, <br><br>FreeEntity surf <br><br>work? Where surf is the surface name?  <br></div><br>No. As far as I remember, it crashes Blitz because the surface isn't an entity. <br><br></td></tr></table><br>
<a name="291083"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Rigz</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> One way of doing it - For all of the surfaces that you want to get rid of, you can apply the same brush to all of them and then use the addmesh command to add the mesh into another empty mesh. This will consolidate all of the surfaces that share the same brush into one surface in the new mesh, u can then free the old one.<br><br>It sounds like you want to be using addmesh anyway dweezil if the cubes are all separate entities. This will merge their surfaces together and help performance, unless you need to move them about separately? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
