<!DOCTYPE html><html lang="en" ><head ><title >Functions and returns</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Functions and returns</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Functions and returns</a><br><br>
<a name="361275"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MadsNy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've been puzzeling with functions and what kind of data you can return, the help topic in Blitz 3D aren't really helping me out here...<br><br>I want to return an Array, which i have not declared before hand.. to minimize declared and shared variables...<br><br>something like this...<br>------------------------------------<br>DoSomeTransform(x,y,z)<br><br>function DoSomeTransform(x1,y1,z1)<br>   dim tempArray(3)<br>   tempArray(1) = x1+2<br>   tempArray(2) = y1+4<br>   tempArray(3) = z1+5<br>   return tempArray<br>end <br>-------------------------------------<br>Im new to Blitz but have tried a lot of good ideas nothing works out.. :)....'<br><br>what can you return other than float, string, integer values (and mesh, tex ect..) <br><br></td></tr></table><br>
<a name="361276"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try this:<br><br><pre class=code>
DoSomeTransform(x,y,z) 

function DoSomeTransform(x1,y1,z1) 
dim tempArray(3) 
tempArray(1) = x1+2 
tempArray(2) = y1+4 
tempArray(3) = z1+5 
return tempArray()
end 
</pre><br><br>not sure, because I cannot test this at the moment, but that might be helpful <br><br></td></tr></table><br>
<a name="361281"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SoggyP</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Folks,<br><br>You have to define the type of value you're returning.<br><br><pre class=code>End Function</pre> might help ;0)<br><br>Also, don't you have to use dim temparray[3] as opposed to (3)?<br><br>I'm also in work so I can't help much on this any further.<br><br>Later,<br><br>Jes <br><br></td></tr></table><br>
<a name="361283"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Arrays have to be dimensioned outside of all function calls initially but may be redimensioned within a function.  I don't think you can return an array from within a function although you can return a type. <br><br></td></tr></table><br>
<a name="361286"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob Farley</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> You don't need to return an array, they're global. <br><br></td></tr></table><br>
<a name="361291"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MadsNy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes i found that it's impossible to return an array, but a shame it is. cause now i have to do..<br><br>----------------<br>dim doSomethingArray(3)<br><br>doSomething(4,4,4)            ; a function<br>x = doSomethingArray(1)       ; the calc values<br>----------------<br><br>I normaly code i director, where we have a Vector variable. means we can do this...<br><br>var = vector(43,3,3)<br>print var.x<br><br>------------------------------------<br>------------------------------------<br><br>by the way why can't i place and array with the same size into another array..<br>array1 = array2.. ??? gave an error..? <br><br></td></tr></table><br>
<a name="361292"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob Farley</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> No methods or objects in Blitz. <br><br></td></tr></table><br>
<a name="361293"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>by the way why can't i place and array with the same size into another array.. <br>array1 = array2.. ??? gave an error..? <br> <br></div><br><br>Ehh?<br><br>Got a better example? <br><br></td></tr></table><br>
<a name="361295"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MadsNy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ahh sorry, have to explane a bit better what i want... <br><br>this:<br>--------------<br>dim Array1(3)<br><br>array1 = doSomeTransform(x,y,z)<br>--------------<br><br>so we in one simple step calc our function and return the values (a vector in this case) into a new array.... <br><br></td></tr></table><br>
<a name="361296"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> surely what your doing can be resolved by using a type?  (or an array of types).  Or am I just misunderstanding? <br><br></td></tr></table><br>
<a name="361301"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> again, <br><br>dim Array1(3) <br><br>Array1(x) = doSomeTransform(x,y,z)<br><br><br>  - I tend not to use Arrays, or Functions - more a Types/Gosub man meself haha.<br><br>Perturbatio's right Im sure. Have you looked into using custom types? <br><br></td></tr></table><br>
<a name="361303"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MadsNy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> okay no methods or objects in Blitz. <br>shame thou, but since the blitz forum is so good and fast we can live that :)... thanks guy's...<br><br>I still can figure out how to copy an array into another array like....<br><br>Dim normVec#(3)<br>Dim temp#(3)<br><br>temp# = normVec#<br>or<br>temp = normVec<br>or<br>temp() = normVec()<br><br>non worked..... i feel i bit stubied, can even copy and array. but the help file aren't giving me much help :)....<br>guess it's new way's of thinking eihh...<br><br>is the only right way to use types instead of an array ??.<br>and can you then copy/replace one type into another type.. ?<br><br>thanks. <br><br></td></tr></table><br>
<a name="361304"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MadsNy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> ahh got an idea,, no objects right... but we do have some sort of object.... MESH..... would it be insane to use an Mesh's vertex point to have an VECTOR point variable... i mean an vertex have 3 variables x,y,z. just like an vector..<br>perhaps a pivot point would do....<br><br>do anyone follow what i mean. :) <br><br></td></tr></table><br>
<a name="361307"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eric Draven</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi! Try this:<br><br><pre class=code>
Dim array(3)

DoSomeTransform(8,6,5)

Function DoSomeTransform(x1, y1, z1)
	array(1) = x1 + 2
	array(2) = y1 + 4
	array(3) = z1 + 5
End Function
</pre><br><br>Now 'array' have the modified values. As Rob said, arrays are globals. <br><br></td></tr></table><br>
<a name="361308"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
Type Vector
	Field x
	Field y
	Field z
End Type
</pre><br><br>You can't copy a type directly since it simply reassigns the address of the types, and doesn't copy the data.<br><br>but you could create a function to copy your type<br><br>i.e.<br><pre class=code>
Function CopyVector.Vector(Source.Vector)
Local temp.Vector = New Vector

temp\x = Source\x
temp\y = Source\y
temp\z = Source\z

Return temp

End Function
</pre> <br><br></td></tr></table><br>
<a name="361309"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
Type Vector
	Field x
	Field y
	Field z
End Type

a.Vector = New Vector
	a\x = 5
	a\y = -4
	a\z = 10
	
b.Vector = CopyVector(a)

Print a\x
Print b\x

b\x = 6

Print b\x
Print a\x

WaitKey
End



Function CopyVector.Vector(Source.Vector)
Local temp.Vector = New Vector

temp\x = Source\x
temp\y = Source\y
temp\z = Source\z

Return temp

End Function
</pre> <br><br></td></tr></table><br>
<a name="361321"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MadsNy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes i get it.. :) im so happy, desided to make a Type inside another type that holds the vector, in this way we have a good sense and order of our data. :) just like an object.....<br><br>1. how do i post something in "code".. the green trick you guy's are doing, and how to do the comment part,,, "white blended part"...<br><br>2. since it's my first attempt to code in blitz, could some one be so kind to tell me if i got it all right with optimized speed and structur und so.......<br><br><br><br>--------------------------------------------------------<br>Type vector<br>    Field x#<br>    Field y#<br>    Field z#<br>End Type<br><br><br>Type objData<br>Type objData<br>    Field obj<br>    Field id<br>    <br>    Field velocity.vector            ; = New vector<br>    Field pos.vector                 ; = New vector<br>    <br>    Field speed<br>End Type<br><br><br><br>vector.vector = New vector<br><br><br>;***************************************<br>;********* Varialbe declaring **********<br>;***************************************<br>Const AmountOfBoids = 20<br>Dim boid.objData(AmountOfBoids)<br>Dim normVec#(3)<br><br><br>For...<br>For i = 1 To AmountOfBoids<br>    boid(i) = New objData<br>    boid(i)\obj = CreateCube()<br>    boid(i)\id = i<br>    <br>    ; creating Vectors, we first have to create some TYPEs<br>    boid(i)\velocity = norm(1,Rnd#(-1,0),Rnd#(-1,0))<br>    boid(i)\pos = New vector<br>    <br>    boid(i)\pos\x = Rnd(-10,10)<br>    boid(i)\pos\y = Rnd(-10.10)<br>    boid(i)\pos\z = Rnd(-10,10)<br>    <br>    PositionEntity boid(i)\obj, boid(i)\pos\x, boid(i)\pos\y, boid(i)\pos\z<br>    <br>Next<br><br><br>;***************************************<br>;*************** STAGE *****************<br>;***************************************<br>;;;; camera<br>Graphics3D 800,600,0,2<br>SetBuffer BackBuffer()<br><br>cam = CreateCamera()<br>PositionEntity cam, 0,0,-50<br>CameraClsColor cam, 255,255,255<br><br><br><br><br>Repeat... KeyHit(1)<br>Repeat<br>    CameraClsMode cam, True, True<br><br>    <br>    <br>    <br>    RenderWorld<br>    <br><br>    Print boid(2)\velocity\x<br>    Print boid(2)\velocity\y<br>    Print boid(2)\velocity\z<br>    <br>    boid(2)\pos = norm(Rnd(50),Rnd(50),Rnd(50))<br>    <br>    Print boid(2)\pos\x<br>    Print boid(2)\pos\y<br>    Print boid(2)\pos\z<br>    <br>    ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;END PROCESS<br>    Flip()<br>    Until KeyHit(1)<br>End<br><br><br><br>;****************************************<br>;*********  FUNCTIONS &amp; TOOLS  **********<br>;****************************************<br><br><br>Function norm.vector(x1#,y1#,z1#)<br>Function norm.vector(x1#,y1#,z1#)<br><br>    Local temp.vector = New vector<br><br>    n=Sqr((x1^2)+(y1^2)+(z1^2))    <br>    <br>    If x1&lt;&gt; 0.0 Then <br>        sx# = x1/n<br>    Else<br>        sx# = 0.0<br>    End If<br>      <br>    If y1&lt;&gt; 0.0 Then <br>        sy# = y1/n<br>    Else<br>        sy# = 0.0<br>    End If<br>      <br>    If z1&lt;&gt; 0.0 Then <br>        sz# = z1/n<br>    Else<br>        sz# = 0.0<br>    End If    <br><br>    temp\x = sx<br>    temp\y = sy<br>    temp\z = sz<br><br>    Return temp<br>End Function<br><br>------------------------------------EOF <br><br></td></tr></table><br>
<a name="361330"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> to do code highlighting enclose your code in &lt;code&gt; &lt;/code&gt; tags (but replaced the &lt;&gt; with  [ ]) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
