<!DOCTYPE html><html lang="en" ><head ><title >D.I.Y. 2D LinePick</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >D.I.Y. 2D LinePick</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >D.I.Y. 2D LinePick</a><br><br>
<a name="819036"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi<br><br>I wondered in another post how B3D does it's LinePick but I'd like to formalize that question here, now.<br><br>It seems to 'walk along' the pick line until it hits a pickable entity. I say this because the time taken to do the pick is shorter the nearer to the pick line origin an entity is encountered. Then there's the ability to give the pick line a radius. I'm struggling to visualize how LinePick's functionality is realized efficiently, TBH.<br><br>The reason I'm pondering this is because I want to do a LinePick function for my 2D vector entity lib.<br><br>Hopefully, because I'm only dealing with entities defined entirely of 2D vectors, things shouldn't be as complex as B3D's LinePick (*nervous giggle*). Basically, it's going to boil down to using a line intersection test between the pick line and all the vectors comprising an entity, I guess?!<br><br>However, it's not quite as simple as that for a couple of reason that spring immediately to mind:<br>- If an intersection is found between the pick line and an entity's vector, I still need to continue checking the rest of the entity's vectors in case an intersection is found that's closer to the pick line's origin (I need PickedX,PickedY functionality, too).<br>- I'll need to check every pickable entity to find the entity whose vector intersected with the pick line, nearest to the pick line's origin.<br><br>I think this basic approach will work but it occurs to me that there's going to potentially be a lot of distance checks (although, I may be able to avoid use of Sqr and just work using the squared distances involved), and secondly, this cant be the way B3D does things as my way takes the same amount of time to execute, regardless of the pick line length and how close to it's origin an entity is picked. Also, how to implement a pick line radius - or, line width, in my case - goodness knows!<br><br>Am I missing a better way to achieve this? Any help and/or insights into how B3D does LinePick, much appreciated.<br><br>Thanks.<br><br>(In the meantime, I think I'm going to try and implement the method I mentioned, and see how things work out...) <br><br></td></tr></table><br>
<a name="819370"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm, OK.<br><br>Well, the method I outlined above actually works quite well i.e. it's faster than I thought it'd be.<br><br>I still can't think how to give the pick line a width, though. No big deal, really - don't think I've ever used pick radius in B3D, anyway. Wouldn't mind having the ability for completeness, though.<br><br>I'd also like to make my algo more intelligent instead of just testing against every single line of every pickable entity. I'll have to have a think...<br><br>I'd still like to know how B3D does it's picking, too! <br><br></td></tr></table><br>
<a name="819499"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> big10p - if you don't want it to test against every single line then perhaps you can first test against the 'bounding box' of each object first and then only check against each line for those whose bounding box was intersected. <br><br></td></tr></table><br>
<a name="819567"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Even quicker would be to use bounding spheres.  You should be able to build a simple function to auto create these based on the poly info. <br><br></td></tr></table><br>
<a name="819621"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah - the bounding box/sphere idea didn't cross my mind but I was unsure of any benefits as most vector entities are comprised relatively few lines - unlike in 3D where entities can have 1000's of polies.<br><br>I'm not totally convinced the benefits will outweigh the overhead of implementing bounding box/sphere. I'll have to experiment as I could be wrong. :)<br><br>Cheers! <br><br></td></tr></table><br>
<a name="819679"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Stevie: I'm having trouble calculation a bounding circle (this is pure 2D) without a silly amount of work. I can easily calculate the mesh width/height based on the mesh's vertices but this basically just leaves me with a bounding box.<br><br>Any ideas? <br><br></td></tr></table><br>
<a name="819683"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would just find the average of the vertice positions to get your origin.  You'll obviously need to store this.  The distance of the vertex which is furthest from this origin will then be the bounding radius.  <br><br>Not perfect but good enough to be used during quick broadphase checks.<br><br>Stevie <br><br></td></tr></table><br>
<a name="819833"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Turns out bounding boxes are far easier to implement and probably quicker. :) <br><br></td></tr></table><br>
<a name="819856"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's about time you demo'd this thing!!  In the words of "PUKI", I'll wait here .... <br><br></td></tr></table><br>
<a name="819860"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Heh - I'm just adding bits to it when  i feel like it. It's no major project, or anything. :)<br><br>It'll be done when it's done. Don't expect anything flashy tho - it's only vector GFX entirely drawn using Line. :/<br><br>I'd like to add a collision system similar to B3D's, where you can move an entity and collisions are detected between the old entity position and it's new one. No idea how to do this though, really. Any ideas? :P<br><br>[edit] And, I guess I'm gonna have to write a demo game (and mesh editor :/) when it's done, just to 'showcase' the thing. Asteroids again, anyone? :D <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
