<!DOCTYPE html><html lang="en" ><head ><title >Collision: what's your advice?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Collision: what's your advice?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Collision: what's your advice?</a><br><br>
<a name="323269"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gburgess</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, so I'm currently using MeshesIntersect just as a stand by in my game. I wa basically going to leave it in until it became a problem because of it's slowness, and then look at the other collision options in Blitz3d.<br><br>I didn't realise just how slow that command was. It seems to really hit frame rate if used just once or twice per frame, and now that I'm starting to make things "solid" I'm interested in installing the "proper" collision routines. On closer examination, however, I realise my options are a bit more limited than I thought. Here's what I've got so far:<br><br>MeshesIntersect: far too slow. My code probably needs tightening up, but it's, as stated in the help docs, not a fast routine.<br><br>Ellipsoid to &lt;whatever&gt;: I was all set to use this until I found that I could only set the ellipsoid intwo dimensions. I thought maybe I'd be able to state the Z axis too. Even stating the Z axis instead of the Y axis would be handy. When a lot of my ships are longer than they are tall, and wider again than they are long, I could really do with a command to make this a little more figure hugging.<br><br>Guuuhh, I dunno: Been considering all kinds of vague methods. Is there any standard way for this kind of situation? Does anyone else have a secret, cunning, third way?<br><br>Thanks for reading! <br><br></td></tr></table><br>
<a name="323273"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> The standard way is with multiple collision entities.  That is, instead of a single collision sphere/ellipse around the ship, use several pivots parented to the ship. <br><br></td></tr></table><br>
<a name="323276"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gburgess</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks!<br><br>Good thinking, I may well go with that! Why didn't I think of that one?<br><br>Cool, any others? <br><br></td></tr></table><br>
<a name="323280"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've not delved into the collision commands much. I've had to roll my own collisions a couple of times now, and it looks as though I'm gonna have to do it for both my new projects too. Sigh.<br><br>However, as I understood it, the collision ellipsoid doesn't rotate with your mesh, so even if there was a z radius, it wouldn't help you with a spaceship.<br><br>It's difficult give good advice without good information. I don't know anything about your project ( maybe I just don't keep an eye on these things. )<br><br>Nuclear Glory's collision DLL offers quite a few advantages over Blitz collisions. Tokamak has improved collions, but that may be more than you need. Multiple collision entities, as Joe suggests, is a good one too.<br><br>BTW You do realise that MeshesIntersect() would be a lot faster if you used invisible proxy collision meshes with much lower polycounts, right? I don't know how much faster, but I know I managed to use it quite extensively in an asteroids game I wrote when first learning Blitz. <br><br></td></tr></table><br>
<a name="323306"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RifRaf</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> IN SOME CASES WHERE YOU ARE CHECKING FOR SHIP TO SHIP COLLISIONS YOU CAN SIMPLY USE an ENTITYDiSTANCE CHECK.. and then do your own reaction code if they are withing colliding distance. <br><br></td></tr></table><br>
<a name="323321"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Using EntityDistance is pretty much identical to using a collision sphere.  Thus, that won't help him.<br><br>BTW, what's with the all-caps? <br><br></td></tr></table><br>
<a name="323446"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RifRaf</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> entitydistance doesnt require you to set up an entitytype, and you can cut out soMe cpu time with your own custom checks.  In my cuRrent project i have a train that runs on its tracks.. I have pivots set at the beginning,middle and end of each train car.  I go through a loop and check the distance from each pivot to the other entities that can colllide with it.   What i think helps save cpu time is that I only check one pivot per car, per game cycle.  each cars checks the front, then middle then rear pivot for collisions.. so every pivot is checked within 3 cycles   <br><br>This might not work for everyone but i know that therre is no entity in my game that will move more in 2 frames that the radius of the collision checks.<br><br>nothing up with those caps above, i was just to lazy to go back and retype it after realizing what i did. <br><br></td></tr></table><br>
<a name="323451"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> who knows how fast exactly the blitz collision system is - but it's probably faster than a recursive entitydistance check. For one thing, blitz probably splits everything up into sectors etc. even if the sectors aren't the most intelligently placed. it probably also handles speed better than using entitydistance. Plus most likely it's written in optimized c or ASM. Their might be ellipsoid-elipsoid dlls available, and with a little effort I could right a not-so-great one. <br><br></td></tr></table><br>
<a name="323530"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gburgess</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sybixsus: Yeah, I was wondering about using very low poly hidden meshes with MeshesIntersect, but I wasn't convinced it would provide that much of a speed boost. Then I took a look at my models and realised just how many polys are in them. Fighters now use boxes (from 250 ploys to 12: not bad, huh?) and I managed to shave quite a few off the buildings. It's running, dare I say it, silkily, for now. But then, I'm not done making the world solid, yet!<br><br>Thanks for the suggestions, folks, you've all been most helpful. I expect I'll be using them all at some point. <br><br></td></tr></table><br>
<a name="323536"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >napole0n</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm having the same problem, and I'm also looking towards the proxy-mesh solution, like wrapping a very simplified model just inside the actual model. I find it helps to make your collission zones a bit smaller than the actual object (whether you use ellipsiods or meshes), because it's a bit more forgiving towards the player and doesn't trigger the inevitable 'BUT I DIDN'T HIT IT!!!'-response when the collision is one pixel off.<br><br>Glenny: how would you rate the difference between your original collision methods and the new one? I haven't implemented it yet myself. <br><br></td></tr></table><br>
<a name="323548"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gburgess</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm using boxes in places, because there's no way the player can see with pixel perfect precision in the circumstances of my game. With that in mind, the improvement has been, thus far, dramatic. The buildings are pretty faithful to their original shapes, and as such the checks are usually a 12 poly box against a 50-70 poly building, but it seems to be perfectly fine. As long as one of the items is very low detailed, like a box, the majority of the speed issues seem to be solved. <br><br></td></tr></table><br>
<a name="323556"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Genexi2</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> As far as collisions go, I'm currently makin the move over Tokamak....also, wouldnt Tokamak's Cylindric collision work good with spaceships? <br><br></td></tr></table><br>
<a name="323563"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >napole0n</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Tokamak is looking very interesting, and I will definitely look into that. But for now I'm just creating an R-Type'ish 2.5D shooter, and using a complete physics engine would be a bit like using a canon to shoot a mosquito (as we say in Holland) <br><br></td></tr></table><br>
<a name="323812"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gburgess</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I looked at Tokamak, and it looked pretty impressive. Seemed most suited to FPS's. I didn't notice commands for cylindric collision, though. Maybe I'll take another look. <br><br></td></tr></table><br>
<a name="323835"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> hmm. yeah. tokamak could handle your physics pretty well as well - depending on how realistic you want it. in real life their is alot more sliding around in space. For different ship designs you could also mix collisions ie a sphere in the back,   and a cylinder in front etc. This is cool because you can also simulate blasts from rockets, lasers, etc. with the tokrb_applyimpulse2 command which applies a force at a location, at a direction. <br><br></td></tr></table><br>
<a name="324002"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gburgess</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Tokamak does sound pretty cool. I've got pretty basic physics in my game right now, but I'm happy with them and the way things handle. The game is actually set in an atmosphere, so there's a little momentum shift when you change direction, and it feels fairly natural. I may set some missions in space, at a later time. For the next project, I'll most likely look into Tokamak. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
