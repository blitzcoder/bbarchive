<!DOCTYPE html><html lang="en" ><head ><title >Delete an entity</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Delete an entity</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >Delete an entity</a><br><br>
<a name="246650"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mathieu A</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi!<br>I've got a problem when I want to delete an entity.<br><br>Function DELETE_ENTITY()<br>	If  KeyHit(57) Then <br>		For mesh.meshinfo=Each meshinfo<br>			If picked=mesh\mesh<br>				FreeEntity mesh\mesh<br>				<br>			EndIf<br>		Next<br>	EndIf<br>End Function<br><br>The DELETE_ENTITY function works but after I call an other function to pick an entity and aplly an alpha on it.<br><br>Function PICK_ENTITY()<br>		<br>If  MouseDown(1) And mouseInView() Then<br>	<br>    picked = CameraPick (camera, mxp, myp)<br>	<br>   If picked<br>   	<br>		CameraProject camera, EntityX (picked, 1), EntityY (picked, 1), EntityZ (picked, 1)<br>		PositionEntity Gizmo, EntityX(picked), EntityY(picked), EntityZ(picked)<br>		EntityParent picked, 0<br>		<br>	EndIf<br>EndIf<br><br>		For mesh.meshinfo = Each meshinfo<br>			If mesh\mesh=picked<br>				EntityAlpha mesh\mesh, 0.8<br>			Else<br>				EntityAlpha mesh\mesh,1<br>			EndIf<br>		Next<br>End Function<br><br>I've got an error message!!!<br><br>In fact, it's in the next lines that there is a problem.<br><br>For mesh.meshinfo = Each meshinfo<br>		If mesh\mesh=picked<br>			EntityAlpha mesh\mesh, 0.8<br>		Else<br>			EntityAlpha mesh\mesh,1<br>		EndIf<br>Next<br><br>I think that the program want to apply an alpha on an entity deleted and I don't know how to do <br><br></td></tr></table><br>
<a name="246672"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kev</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Function DELETE_ENTITY() <br>If KeyHit(57) Then <br>For mesh.meshinfo=Each meshinfo <br>If picked=mesh\mesh <br>FreeEntity mesh\mesh <br>delete mesh <br>EndIf <br>Next <br>EndIf <br>End Function <br><br>your not deleting the type's instance 'delete mesh', or if you required to keep all types then you will need to set the mesh's pointer to zero then once you have freed it. do a check mesh mesh\mesh&gt;0 to check you have a vaid pointer to your meshs. <br><br></td></tr></table><br>
<a name="246712"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mathieu A</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh thank you very much Kev, It woks fine! I never notice that function (delete) before!!! <br><br></td></tr></table><br>
<a name="246780"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dirkduck</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep, FreeEntity just clears the actual entity's internal information.  After you free it, you still have the type object, and your trying to apply EntityAlpha to an entity that was deleted.  By using 'delete' the type object won't come up when you scroll through them all (for...each), so it won't try to set the EntityAlpha to an entity that no longer exists. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
