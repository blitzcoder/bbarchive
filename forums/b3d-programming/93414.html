<!DOCTYPE html><html lang="en" ><head ><title >How fast is Linepick on modern computers?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >How fast is Linepick on modern computers?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=82" >Blitz3D Programming</a>/<a href="#bottom" >How fast is Linepick on modern computers?</a><br><br>
<a name="1068376"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gun Ecstasy</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Blitz3D has the problem of full sliding collisions not working well for floors (characters slide down when standing still). Slide2 is not any better because characters will travel up slopes at unrealistically slow speeds.<br><br>That leaves the only option for gravity is to use the MeshY equivalent of TerrainY. And that involves a Linepick and PickedY.<br><br>I'll never understand why platformers are so non-existent, especially as indie games. They're by far my favorite genre! So I'm completely dedicated to finishing one (though it is a bit tricky in B3D sometimes).<br><br>My question is... how often can I get away with a Linepick? It's known as being slow, but that was years ago... since then, computer speed has tripled... twice.<br><br>Linepick is calculated on the CPU right? And I'm guessing that if I only call it ever other frame, then for 5-10 characters at a time, I would need to call it 150-300 times a second. That should be nothing, right?<br><br>If that's too much, is there a way to do proper gravity through CollisionY perhaps? <br><br></td></tr></table><br>
<a name="1068409"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sliding collsions on the ground with natural behaviour on slopes needs a little more than the built in collision handler. Most people use one linepick toward the ground to determine the slope steepness and then they apply gravity accordingly.<br><br>Personally I even use 4 linepicks, skipping PickedNX completely, by calculating the height diffrences of the 4 pickedYs. No matter what, if you're doing linepicks then you have to make sure they will never have to pick large distances, that's what's makeing them slow. Picking the ground under the feet can be done with acceptable speed.<br><br>To prevent picking nothing (slow!), eg. when the player jumps from platform A to B, you may parent a dummy mesh under the player, eg. 1 "meter" under his feet, so you'll never do a wide range pick, but nonetheless you will detect when there is no ground.<br><br>Depending on the ground distance, as well as the slope angle, you will then have to set gravity dynamicly. You may however stop the player from sliding down (on-ice artefact) non-steep slopes by repositioning the player at the old XZ after update world, If he didn't walk, but XZ was altered by updateworld due to sliding collision. It takes a couple of steps to make this thing work decently, but it's worth the troubles.<br><br>One thing: stairs may produce new problems with the 4 linepicks method. But it should be possible to work around it with the right offset in proportion to the collsion radius (assuming player vs map is sphere vs polygon collision).<br><br>For the optional Linepick Parameters you maybe should make some isolated speed tests by your own. <br><br></td></tr></table><br>
<a name="1068428"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I had 20 or 30 test vehicles on a complex mesh doing 4 linepicks per vehicle at 60fps with no issues, so it's not that slow.<br><br>One thing I found was that specifying a radius for the linepick seemed to slow it down, even if the radius was tiny. Leaving the radius empty seemed to make it faster.<br><br>Also, as jfk says keep the pick distance small for best results. You only need to test very close to the character's feet - if no mesh is found then gameplay-wise it doesn't matter if they're a foot from the ground or a mile, so there's no point raycasting for that mile. <br><br></td></tr></table><br>
<a name="1068479"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gun Ecstasy</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah thank you. That's exactly what I wanted to hear. =D <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
