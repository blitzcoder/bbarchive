<!DOCTYPE html><html lang="en" ><head ><title >Some tips about Blitz3D</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Some tips about Blitz3D</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=88" >Blitz3D Tutorials</a>/<a href="#bottom" >Some tips about Blitz3D</a><br><br>
<a name="436867"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Feel free to add to these. Just feel like some folks are getting caught up on a couple of points.<br><br>Never store entity handles using a floating point variable. Always use Integers :o)<br><pre class=code>
entity# = LoadMesh("car.b3d")
</pre>Will cause entity doesn't exist errors on some/many computers, as floating point numbers aren't accurate enough to hold large numbers.<br><br><br>When placing entity in Blitz3d, make sure you hide them or position them first then give them a collisions type. Trying to move entities after you given them a collision type, might cause them to get stuck (collide) with scenary, or other meshes.<br><br>Hiding an entity disables collisions with it, thus enabling you to position it without getting "stuck"<br><br><br>If you are going to use functions in your code, make sure you make the variables that you will be using in your main code, GLOBAL. If not, you could lose the information they hold when visiting a function.<br><br><br>If you compile your code or save it, and realise you've overwritten something important, Blitz will create 2 backup files, from the past two saves. So, just open them with blitz to get the last two source code saves.<br><br><br>If i think of anymore, i'll add them. Feel free to contribute :o) <br><br></td></tr></table><br>
<a name="436945"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> It is always worth checking the result of any load (LoadImage(), LoadMesh() etc) command.  Do it like this:<br><pre class=code>alienimagename$ = "myImage.bmp"
alien = LoadImage(alienimagename$)
If alien = 0 then RuntimeError "Couldn't load image: "+alienimagename</pre>It will help you in the long run and will make users less annoyed. :) <br><br></td></tr></table><br>
<a name="438106"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) sinu</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> use a global type to hold all global variables so you won't get caught with silly typo errors especially when your code grows huge eg<br><br>Type GlobalType<br> field Fps<br> field MaxFps<br> field etc etc<br>end type<br><br>instead of <br>Global Fps , MaxFps<br><br>if you do mistype a GlobalType value blitz will let you know.<br><br>Declare all arrays before the first include right at the start of your program is wise too!! <br><br></td></tr></table><br>
<a name="496872"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Dont ever scale meshes in blitz, it messes up linepicks and animation. <br><br></td></tr></table><br>
<a name="497038"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nothing wrong with scaling meshes if they are not animated, quite a useful feature at times.<br><br>Some tips I find useful for slower PCs:<br><br>- Try and use linepicks/entitypicks/camerapicks as little as possible for performance reasons.<br><br>- Nested for loops are sometimes needed but try and avoid this if the number of iterations in each for loop is quite high.  For example:<br><br>An army of 1000 'units' is trying to find targets in the opposing army of 1000 'units' -<br><br>the simple method is:<br><br>for each unit in army 1<br>  for each unit in army 2<br>   ..code for deciding if to target this unit goes here<br><br>   ..<br>  next<br>next<br><br>a slightly better approach is:<br><br>for each unit in army 1<br>   for a few units in army 2 this frame (then a few more in the next frame etc)<br>  <br>..code for deciding whether to target this unit goes here<br>  <br><br>   next<br>next<br><br>and a better method again (some of the time) is to divide up your playfield into sections and only loop through those enemy units within a section visible and in range of the target.<br><br><br>Another blitz3d tip for low end systems:<br>If you have a lot of 3d animated entities moving around a 3d interior environment but not all of those 3d animated entities are always visible to the player then I often use this kind of logic:<br><br>Use a pivot for each 3d character model with a collision type as appropriate (ellipsoid to polygon).<br>If a 3d animated entity has been 'not seen' for more than a few seconds then rather than hide it (which blitz does automatically when not in camera view), free it (ie freeentity) but keep the pivot.  Then when the entity comes into view again copyentity the character model from a 'master' mesh that is simply used as a reference to copy entities from.  <br><br>I have found that while Blitz culls entities not in view they still have a decent performance hit on older PCs even when hidden, particularly if animated and so it is better to just remove the entity entirely and keep a pivot behind to 'act' while the entity is not in view.<br><br>Collisions with levels:<br>Make a detailed level model as normal and split it up into sections.  Don't give this mesh a collision type but rather create a mesh that has basically the same layout with as few polygons as possible, with as little detail as required, set its alpha to zero and use it for detecting collisions between characters and the level.<br><br>TFormVector, TFormNormal and TFormPoint are your friends - they can be used in many situations and are simply mathematical transforms which incur no real performance hit.  I often use them rather than line picks when detecting if bullets have hit a target, for example:<br><br>Slow method of detecting if bullet has hit a target:<br>Linepick between old bullet position and new bullet position each frame and determining if it hit an enemy.<br><br>Faster method:<br>Use TFormvector/Tformpoint and entitydistance to determine if the bullet has hit a target. <br><br></td></tr></table><br>
<a name="497376"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> ScaleMesh should be ok, but Scaleentity could admitady cause problem. <br><br></td></tr></table><br>
<a name="501596"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> oh yeah thats what I meant - SOZ! <br><br></td></tr></table><br>
<a name="502920"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EOF</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> More <a href="http://homepage.ntlworld.com/config/supertips/supertips.htm" target="_blank">Blitz Supertips</a> <br><br></td></tr></table><br>
<a name="509299"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's one more, happens oftenly to me :)<br><br>Image cannot be found, although it's there... I used the image handle for X and X for the image handle:<br>DrawImage x,y,img<br>instead of <br>DrawImage img,x,y<br>(must be a relict of my GFA times)<br><br>An other thing that used to freeze my machine several times:<br>Using a parent handle as the number of facettes with CreateSphere...<br>sp=createsphere(parent_pivot); now that's a big lot of Tris<br>instead of<br>sp=createsphere(12,parent_pivot) <br><br></td></tr></table><br>
<a name="564811"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> 1 Blitz unit is deemed to be equivalant to 1 metre:<br><br><a href="http://blitzbasic.com/Community/posts.php?topic=31118" target="_blank">http://blitzbasic.com/Community/posts.php?topic=31118</a><br><br><br>and this thread shows that this is also relevent with Milkshape:<br>http://64.233.183.104/search?q=cache:-Aby1KlEEtgJ:www.blitzbasic.com/archive/posts.php%3Ftopic%3D15919+blitz+unit+blitzbasic+metre&amp;hl=en<br><br>So, it is also considered that 1 MilkShape unit = 1 Blitz Unit = 1 metre<br><br>EDIT:<br>When you create a cube in Blitz3D - the cube is actually 2 metres high:<br><a href="http://www.blitzbasic.com/Community/posts.php?topic=55797" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=55797</a> <br><br></td></tr></table><br>
<a name="684310"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Assign constants to values that you know will not change in your game (screen width/ height - scoring values - etc).<br><br>Doing so reduces the load of the 'variable memory', since Blitz knows they will never change size unlike other variables which can grow and shrink in size based on what value they hold. <br><br></td></tr></table><br>
<a name="684356"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Panno</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> for  really Big Strings  its better to work with a File as with the Memory. <br><br></td></tr></table><br>
<a name="866473"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> About time this thread had an update.<br><br><br>Bones are inside meshes.  So, if you make a boned mesh an obscurer then you may not be able to 'visually' detect its bones.<br><br>You can be led into trying to resolve this by creating additional pivots and markers etc for bones when, in fact, you just need to unobscure the bones.<br><br><br>Rember that a bone is a Child of a mesh, so to track the bone's position, make sure you use the 'Global' flag.<br><br>Bone_Xpos=EntityX(bone_name,True)<br><br>instead of<br><br>Bone_Xpos=EntityX(bone_name) <br><br></td></tr></table><br>
<a name="867051"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Continuing from that, boned animated meshes can only be collided with, in their default first pose/frame. Blitz cannot give you the location of any of the vertices of the mesh whilst it's animating. It will always return the default vertex locations.<br><br>Object and Handle are the two most useful commands in blitz.<br><br><pre class=code>
Type weapon
Field name$
End Type

w.weapon = New weapon
w\name$ = "1st weapon - gun"

w.weapon = New weapon
w\name$ = "2nd weapon - gun"

w.weapon = New weapon
w\name$ = "3rd weapon - gun"

w.weapon = New weapon
w\name$ = "4th weapon - gun"
w_handle = Handle w.weapon

w.weapon = New weapon
w\name$ = "5th weapon - gun"

w.weapon = New weapon
w\name$ = "6th weapon - gun"

w.weapon = Object weapon(w_handle)
Print w\name$
</pre><br><br>This code creates 6 weapon objects in a type collection. It saves the handle to the 4th type object. Then at the end, jumps back to the 4th object by setting w.weapon to the w_handle (handle of the 4th weapon)<br><br>What this means is you can store these in an array. For instance, store all the handles to your weapons. When you want a particular weapon, 5 for instance, get the 5th handle in the array and plug it into<br><br><pre class=code>
w.weapon = Object weapon(handle_array(5))
</pre><br><br>weapon - being the type collection<br>Object - being the Blitz command for this process<br>handle_array(5) - being the 5th handle in the array you created.<br><br>Other uses of this are, storing the handle inside the EntityName() of an entity.<br><br><pre class=code>
e.entity = new entity
e\mesh = loadmesh("mymesh.b3d")
NameEntity e\mesh, Handle e.entity
</pre><br><br>This way, when ever say you shoot an entity, and you use linepick, for example.<br><br>You get the picked entity, the one you just shot. You grab that entities EntityName(). This contains the handle to the type object it's stored in. You can now modify that enemies health and such.<br><br><pre class=code>
e.entity = Object entity(EntityName(PickedEntity))
</pre> <br><br></td></tr></table><br>
<a name="884131"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tab</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Never use B3D sprites in your project, the sprites are TOO SLOW.<br><br>Look in the "Code Archive" if you need a particle system. <br><br></td></tr></table><br>
<a name="884182"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >t3K|Mac</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> nah, use sprites wisely!!! with single surface particle systems you'll get nasty z-order problems. you have to decide... <br><br></td></tr></table><br>
<a name="884184"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >boomboom</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> And sprites have other uses other than particles. <br><br></td></tr></table><br>
<a name="884210"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >t3K|Mac</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> yupp. <br><br></td></tr></table><br>
<a name="913902"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> be sure to set the sprite view mode to what you want it to be...<br>The computer doesn't know what you are thinking. :)<br><br>also use rotatesprite not turnentity.  It saves me some trouble. <br><br></td></tr></table><br>
<a name="927830"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >grindalf</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> I found some of these tips really usefull.<br><br>End is a usefull tool to debug your code. when something isn't working the way it should just keep cutting and pasting it into diffrent sections of your code(for next, if end if, gosub, function) so you know where your code is getting to(or not getting to) <br><br></td></tr></table><br>
<a name="1214091"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Imperium</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> As I have learned from others meshes have a vertex limit with Blitz3d. So if you have something really complex or a large level you will need to break it up into smaller sections.<br><br>Blitz3d has no built in culling but you can make one yourself. Always check your models for duplicate faces or extra geometry that is unneeded.<br><br>If you have problems with your game stuttering it is possibly your computer bottle necking and not blitz3d itself. Every game should make use of render tweening or in other words separate the logic from the video cards frame rate. Some may argue this is not necessary if you have fast hardware but this will help your game scale better across a wide variety of machines. Micro stutter is the most annoying thing a gamer can experience and not every developer looks to solve this issue.<br><br>As mentioned above you really need to write some code to check your game assets are valid. This is best done before the main game is launched. It will make identifying MAV errors so much easier.<br><br>Use IDEAL instead of the built in IDE. I wouldn't try coding anything Blitz without it. <br><br></td></tr></table><br>
<a name="1222253"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> +1 vote for Ideal, the workspace (iws) files are a great help. <br><br></td></tr></table><br>
<a name="1333164"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Imperium</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry to resurrect an old post, but Sprites cause major issues with modern Video Cards and Operating systems. It would be better to code a single plane(2 triangle mesh) than use the built in sprite functions of Blitz3d. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
