<!DOCTYPE html><html lang="en" ><head ><title >Adding structure to your working storage</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Adding structure to your working storage</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=88" >Blitz3D Tutorials</a>/<a href="#bottom" >Adding structure to your working storage</a><br><br>
<a name="805082"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_33</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> More than often when dealing with big projects, the code gets bloated, hard to read, alienating at moment, and disenchanting towards the programmer that has to put it's head at.  So I'll present my approach at putting structure to your working storage!<br><br>A working storage, commonly known on the IBM mainframe and Cobol developper environment, is an area where you will hold data and working variable content, for the need of the task at hand.  Cobol has an extremely nice approach into structuring your program data, as the creators of the language decided, at the time, to make levels, assisting the programmer into building a hierarchical working storage to facilitate it's understanding and manipulation.<br><br>Here's a Cobol Working Storage example:<br><pre class=code>WORKING-STORAGE SECTION. 
   03  MY-LONG-ARRAY10           OCCURS 10.                                   
      05  MY-LONGARRAY-ELEMENT  PIC S9(9) BINARY. 
        
   03  WS-SUB                    PIC S9(09) BINARY VALUE 0. </pre><br><br>In Blitz3D, I've taken a similar approach, but I had to think a little bit about how clean I wanted the whole thing to be and I wanted a worry free system (approach) that is accompanied by the proper init/update/kill functions.  I suppose, my approach is a little bit like object oriented.  Let's begin!<br><br>First, you define a general type for your application.  If you are making a game, then make a game type as follows:<br><pre class=code>Type game_info
End Type</pre><br>Now, initialize it from program start as follows:<br><pre class=code>Global game.game_info = New game_info</pre><br>In essence, you have just created a receptacle for all your global variables to be stored.  You shouldn't have ANY other Globals to define except game as a game_info type!  So, let's try some things out and add some meat to your working storage.  By the way, if you really feel like a Cobol purist, you could call it ws_game, to identify it as a working storage.<br><br>So heres's a little something:<pre class=code>Type game_info
   Field status% ; 1 = playing, 2 = game over, 3 = paused ...
   Field timer%
   Field lives%
   Field score%
   Field mouseX%
   Field mouseY%
   Field playerX#
   Field playerY#
   Field playerZ#
End Type</pre><br><br>Now that we defined our game data type, we can define the main functions that handle this type.  Usually I create an init, update and kill function for every general type that I create, or info data type.  Here's how it looks:<br><pre class=code>
Function init_game(lives% = 3)
   game/lives = lives
   game/score = 0
end function</pre><br><br>Of course I've set up a really simple example.  But, hopefully you get the idea.  from this way of working and on, you won't ever have to worry about your globals, as they should all be located in very specific types and allocated from the top of your program execution (not in a function) as a Global.<br><br>You can then apply this scheme with your camera, and entities as you should create an entity list with various status and let it get handled with specific general purpose functions.  That way, you should have flexible functions at your disposal which can give you status on some entities and init/kill/update them as you would do for your game.<br><br>I can only wish you good luck on your endeavor.<br><br>Cheers. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
