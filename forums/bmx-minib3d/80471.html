<!DOCTYPE html><html lang="en" ><head ><title >Shadows bug in the old extended version.</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Shadows bug in the old extended version.</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=119" >MiniB3D Module</a>/<a href="#bottom" >Shadows bug in the old extended version.</a><br><br>
<a name="904876"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zcbeaton</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm using klepto's old extended version of MiniB3D simply for the shadows and for the shaders, but I'm encountering an issue with the shadows. I have a cube on grass. The cube has a shadow cast on the grass, but when I move into this shadow, suddenly there's a shadow cast everywhere else except this area.<br><br>How can I fix this?<br><br><b>EDIT:</b> Here's a screenshot.<br><img src="http://img91.imageshack.us/img91/8279/shadowsnr4.png"> <br><br></td></tr></table><br>
<a name="904880"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't use MiniB3D, but I'm guessing shadows are stencil shadows?<br><br>When you say "I move into this shadow" it's not very explicit. Do you mean an animated character model?<br><br>My guess would be that your animated character model has unwelded vertices or holes in the mesh or something of this order which generally breaks stencil shadows. This is the main disadvantage of stencil shadows, and it's generally better to fix the model than fix the shadows. The stencil code *can* be written to adjust for *some* of these problems automatically, but stencil shadows are already dog slow, and this sort of checking just makes them even slower. <br><br></td></tr></table><br>
<a name="904890"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zcbeaton</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually I was referring to the camera. I'm sorry for not providing a screenshot from the beginning, so here we go.<br><br><img src="http://img91.imageshack.us/img91/8279/shadowsnr4.png"> <br><br></td></tr></table><br>
<a name="904894"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try to add this in your code:<br><br>SetShadowMode(2)<br><br>In the upcoming new version this is definetly fixed. The issue is because of the use of two different techniques: ZPass and ZFail.<br>ZPass is slightly faster but has problems if the camera is in a shadowvolume (inversed shadows).<br>ZFail is much more fillrate intensive but solves the described the above problem.<br><br>The new version will not have this problem anymore. <br><br></td></tr></table><br>
<a name="904895"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zcbeaton</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm, that code didn't seem to fix it. In fact, now all I can see is a solid brown colour across the screen. If I'm in wireframe, I can see where I am, but otherwise I can only see a single shade of brown.<br><br>I sincerely look forward to your new version! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
