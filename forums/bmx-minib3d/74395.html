<!DOCTYPE html><html lang="en" ><head ><title >V0.45 Beta</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >V0.45 Beta</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=119" >MiniB3D Module</a>/<a href="#bottom" >V0.45 Beta</a><br><br>
<a name="831041"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looking for a few people to test this - if you fancy it please send me an email to simonh@... <br><br></td></tr></table><br>
<a name="831141"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >*</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Trying to compile the Bird demo on a clean Max install with all the latest updates and syncmods generates:<br><pre class=code>
Building BirdDemo
Compiling:bbtype.bmx
flat assembler  version 1.66
3 passes, 4637 bytes.
Compiling:bbvkey.bmx
flat assembler  version 1.66
3 passes, 5233 bytes.
Compiling:cfuncs.cpp
Build Error: failed to compile C:/Program Files/BlitzMax/samples/minib3d-v045-beta/inc/cfuncs.cpp
Process complete
</pre><br><br>Firepaint3d generates<br><pre class=code>
Building firepaint3d
Compiling:cfuncs.cpp
Build Error: failed to compile C:/Program Files/BlitzMax/samples/minib3d-v045-beta/inc/cfuncs.cpp
Process complete
</pre><br><br>Will check all the other things I dont know if im missing anything from the install I have the latest MingW runtime installed as well. <br><br></td></tr></table><br>
<a name="831165"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just to check do you have the following:<br><br>* BlitzMax 1.28<br>* MinGW 5.1.3 installed in the C root dir<br>* C:\MinGW\bin set to your system PATH environment variable<br>* Quick Build off<br><br>If so it should work - at least it does here! <br><br></td></tr></table><br>
<a name="831171"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mongia2</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> i compiled with a mingw 5.1.3<br><br>Linking:camerapick.exe<br>C:/Programmi/BlitzMax/lib/libgcc.a(unwind-sjlj.o):(.text+0x28): undefined reference to `__mingwthr_key_dtor'<br>C:/Programmi/BlitzMax/lib/libgcc.a(gthr-win32.o):(.text+0xc3): undefined reference to `__mingwthr_key_dtor' <br><br></td></tr></table><br>
<a name="831174"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Did you have Quick Build off? <br><br></td></tr></table><br>
<a name="831175"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mongia2</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes i have a Quick Build off <br><br></td></tr></table><br>
<a name="831178"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> You might want to try it without any C++ references. To do so, make the following changes to minib3d.bmx:<br><br>Comment out these lines:<br><br><pre class=code>' c++
Import "inc/cfuncs.cpp"			' contains C_UpdateNormals and C_IntersectTriangle
Import "inc/ccol.cpp"			' contains C_checkTriangle</pre><br>Comment out these lines:<br><br><pre class=code>Extern
	Function C_UpdateNormals(no_tris:Int,no_verts:Int,tris:Short Ptr,vert_coords:Float Ptr,vert_norms:Float Ptr) ' used by TMesh.bmx
	Function C_IntersectSegmentTriangle:Int(	px:Float, py:Float, pz:Float,..
												qx:Float, qy:Float, qz:Float,..
												ax:Float, ay:Float, az:Float,..
												bx:Float, by:Float, bz:Float,..
												cx:Float, cy:Float, cz:Float,..
                             					u:Float Var, v:Float Var, w:Float Var, t:Float Var) ' used by TPick.bmx
	Function C_checkTriangle:Int(col_pack:Float Ptr,a:Float Ptr,b:Float Ptr,c:Float Ptr) ' use by TCollision.bmx
End Extern</pre><br>Add these lines somewhere:<br><br><pre class=code>Function C_UpdateNormals(no_tris:Int,no_verts:Int,tris:Short Ptr,vert_coords:Float Ptr,vert_norms:Float Ptr)
End Function
Function C_IntersectSegmentTriangle:Int(px:Float, py:Float,pz:Float,qx:Float,qy:Float,qz:Float,ax:Float, ay:Float,az:Float,bx:Float,by:Float,bz:Float,cx:Float, cy:Float,cz:Float,u:Float Var,v:Float Var,w:Float Var,t:Float Var)
End Function
Function C_checkTriangle:Int(col_pack:Float Ptr,a:Float Ptr,b:Float Ptr,c:Float Ptr)
End Function
</pre><br>Finally set:<br><br><pre class=code>Const USE_C=True</pre>To False. <br><br></td></tr></table><br>
<a name="831181"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi simon, works like a charm. no problems till now. All samples and demos runs really fast. And the animations just one word ... WOW .<br><br>Thx. I start to add my extensions :) <br><br></td></tr></table><br>
<a name="831189"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> In the spheremap example, the text is inverted...<br><br>Otherwise, it rocks :-) <br><br></td></tr></table><br>
<a name="831204"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> A small fix for the flipped text when using Spheremaps, well it only aplies to loaded textures but better than nothing:<br><br>At first in TMesh.bmx comment out line 1899 this line should look something like this:<br><br><pre class=code>
If tex_flags&amp;64&lt;&gt;0
						glScalef(1.0,-1.0,-1.0) &lt;--- this needs to be commented out
					EndIf
</pre><br><br>And least you have to change TTexture.bmx:<br><br>Replace the Function LoadanimTexture at line 117 with :<br><pre class=code>
Function LoadAnimTexture:TTexture(file$,flags,frame_width,frame_height,first_frame,frame_count,tex:TTexture=Null)

		If flags&amp;128 Then Return LoadCubeMapTexture(file$,flags,tex)
	
		If tex=Null Then tex:TTexture=New TTexture

		If FileFind(file$)=False Then Return Null
		
		tex.file$=file$
		tex.file_abs$=FileAbs$(file$)
		
		' set tex.flags before TexInList
		tex.flags=flags
		tex.FilterFlags()
		
		' check to see if texture with same properties exists already, if so return existing texture
		Local old_tex:TTexture
		old_tex=tex.TexInList()
		If old_tex&lt;&gt;Null And old_tex&lt;&gt;tex
			Return old_tex
		Else
			If old_tex&lt;&gt;tex
				ListAddLast(tex_list,tex)
			EndIf
		EndIf

		' load pixmap
		tex.pixmap=LoadPixmap(file$)

		' convert pixmap to appropriate format
		If tex.pixmap.format&lt;&gt;PF_RGBA8888
			tex.pixmap=tex.pixmap.Convert(PF_RGBA8888)
		EndIf
		
		' ---
		
		' if tex not anim tex, get frame width and height
		If frame_width=0 And frame_height=0
			frame_width=tex.pixmap.width
			frame_height=tex.pixmap.height
		EndIf

		' ---
		
		tex.no_frames=frame_count
		tex.gltex=tex.gltex[..tex.no_frames]

		' ---
		
		' pixmap -&gt; tex

		Local xframes=tex.pixmap.width/frame_width
		Local yframes=tex.pixmap.height/frame_height
			
		Local startx=first_frame Mod xframes
		Local starty=(first_frame/yframes) Mod yframes
			
		Local x=startx
		Local y=starty
	
		Local pixmap:TPixmap
	
		For Local i=0 To tex.no_frames-1
	
			' get static pixmap window. when resize pixmap is called new pixmap will be returned.
			pixmap=tex.pixmap.Window(x*frame_width,y*frame_height,frame_width,frame_height)
			x=x+1
			If x&gt;=xframes
				x=0
				y=y+1
			EndIf
			
			If tex.flags&amp;64 Then 
				pixmap = YFlipPixmap(pixmap)
			EndIf
		
		
			' ---
		
			pixmap=AdjustPixmap(pixmap)
			tex.width=pixmap.width
			tex.height=pixmap.height
			Local width=pixmap.width
			Local height=pixmap.height

			Local name
			glGenTextures 1,Varptr name
			glBindtexture GL_TEXTURE_2D,name

			Local mipmap
			If tex.flags&amp;8 Then mipmap=True
			Local mip_level=0
			Repeat
				glPixelStorei GL_UNPACK_ROW_LENGTH,pixmap.pitch/BytesPerPixel[pixmap.format]
				glTexImage2D GL_TEXTURE_2D,mip_level,GL_RGBA8,width,height,0,GL_RGBA,GL_UNSIGNED_BYTE,pixmap.pixels
				If Not mipmap Then Exit
				If width=1 And height=1 Exit
				If width&gt;1 width:/2
				If height&gt;1 height:/2

				pixmap=ResizePixmap(pixmap,width,height)
				mip_level:+1
			Forever
			tex.no_mipmaps=mip_level

			tex.gltex[i]=name
	
		Next
				
		Return tex
		
	End Function
</pre><br><br>I hope simon will find another fix for this as it is just a dirty fix by me. <br><br></td></tr></table><br>
<a name="831230"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >z4g0</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi!, I've just upgrade the minb3D version in my project, and I'm getting a 'generic' Memory Access Violation on start @ <br><pre class=code>	//TSurfaces.bmx
  Method FreeVBO()
	
		glDeleteBuffers(6,vbo_id)
	
  End Method
</pre><br>(in the old minib3D version all works)<br><br><br>other question:<br>in current project I'm using the really usefull and versatile "tGlobal.BeginMax2D()  / tGlobal.EndMax2D()" system, but in the new version (copy&amp;paste both function form old tGlobal to new tGlobal) don't seem to work properly <br><br></td></tr></table><br>
<a name="831232"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Which old version did you use?<br>Extended or normal?<br><br>Normally you have to copy some global variables also. <br><br></td></tr></table><br>
<a name="831260"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >siread</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, using Vista. Everything build like a charm after upgrading MinGW. Animations are much, much faster, topping 999fps in release mode. Happy days! Looking forward to getting my 22 players running around. I'll let you know how that goes.<br><br>I have an issue with my mesh though. When animated he gets all distorted. It works fine with the B3DSdk (cool idea implementing that btw!)<br><br><img src="http://www.newstarsoccer.com/download/misc/minib3d_unanim.jpg"><br>MiniB3D - Not animated<br><br><img src="http://www.newstarsoccer.com/download/misc/minib3d_anim.jpg"><br>MiniB3D - Animated<br><br><img src="http://www.newstarsoccer.com/download/misc/b3d_anim.jpg"><br>B3DSDK - Animated<br><br>I'll try MacOS now... <br><br></td></tr></table><br>
<a name="831263"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> If your OpenGL version is 1.3 or less, the VBO functions will cause problems - they need to be replaced with ARB ones. Will be fixed in the final version, but in the meantime you may want to try updating your graphics driver to see if that fixes it.<br><br>As for the animated mesh - ouch! Can you send me the file Si? <br><br></td></tr></table><br>
<a name="831264"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >z4g0</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> dunno why... but deleting the piece of VBOsupport check&amp;init<br><pre class=code>
		' get hardware info and set vbo_enabled accordingly
		THardwareInfo.GetInfo()
		THardwareInfo.DisplayInfo()
		If USE_VBO=True
			vbo_enabled=THardwareInfo.VBOSupport
		EndIf
</pre><br>of tGlobal, now all works fine... &amp; really really faster (than old, 0.42 standard version)!!<br><br>so.. seems to be very fast also without vbo support and at the moment i'll not use this feature.<br><br>I've noticed a z-sort problem (that old versions doesn't have) :<br><br>HERE: <img src="http://img505.imageshack.us/img505/6074/42lf4.png"><br>a screen from 042 minib3D version<br><br>HERE:<br><img src="http://img249.imageshack.us/img249/9649/45ta9.png"><br>a screen from 045 beta : the .b3D seems also better (as in Blitz3D!!), but have zsort problems<br><br><br>HERE:<br><img src="http://img218.imageshack.us/img218/3296/vbogu6.png"><br>enabling the VBO support (but disabling glDeleteBuffers(6, vbo_id) that cause MAV ) <br><br><br>My VC: Ati mobility radeon X1400<br><br><br><br><br><br><br>[EDIT]<br><div class="quote"> <br>If your OpenGL version is 1.3 or less, the VBO functions will cause problems - they need to be replaced with ARB ones. Will be fixed in the final version, but in the meantime you may want to try updating your graphics driver to see if that fixes it.<br> <br></div><br>mmm could be... i'll check Ogl version and test it tomorrow<br><br>thanks 4 all ;) <br><br></td></tr></table><br>
<a name="831268"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mongia2</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Building anim<br>Compiling:anim.bmx<br>flat assembler  version 1.66<br>3 passes, 6608 bytes.<br>Linking:anim.debug.exe<br>C:/Programmi/BlitzMax/lib/libgcc.a(unwind-sjlj.o):(.text+0x28): undefined reference to `__mingwthr_key_dtor'<br>C:/Programmi/BlitzMax/lib/libgcc.a(gthr-win32.o):(.text+0xc3): undefined reference to `__mingwthr_key_dtor'<br>Build Error: Failed to link C:/Documents and Settings/carlo/Documenti/Coccopulta/minib3d-v045-beta/minib3d-v045-beta/examples/anim.debug.exe<br>Process complete<br><br><br>i change a Add these lines somewhere:<br><br><br>Function C_UpdateNormals(no_tris:Int,no_verts:Int,tris:Short Ptr,vert_coords:Float Ptr,vert_norms:Float Ptr)<br>End Function<br>Function C_IntersectSegmentTriangle:Int(px:Float, py:Float,pz:Float,qx:Float,qy:Float,qz:Float,ax:Float, ay:Float,az:Float,bx:Float,by:Float,bz:Float,cx:Float, cy:Float,cz:Float,u:Float Var,v:Float Var,w:Float Var,t:Float Var)<br>End Function<br>Function C_checkTriangle:Int(col_pack:Float Ptr,a:Float Ptr,b:Float Ptr,c:Float Ptr)<br>End Function<br><br>Finally set:<br><br><br>Const USE_C=TrueTo False. <br><br><br>and a use a mod from simonread but i have same error <br><br></td></tr></table><br>
<a name="831269"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Did you do the first bit as well? You need to delete these lines:<br><br><pre class=code>' c++
Import "inc/cfuncs.cpp"			' contains C_UpdateNormals and C_IntersectTriangle
Import "inc/ccol.cpp"			' contains C_checkTriangle
Comment out these lines:


Extern
	Function C_UpdateNormals(no_tris:Int,no_verts:Int,tris:Short Ptr,vert_coords:Float Ptr,vert_norms:Float Ptr) ' used by TMesh.bmx
	Function C_IntersectSegmentTriangle:Int(	px:Float, py:Float, pz:Float,..
												qx:Float, qy:Float, qz:Float,..
												ax:Float, ay:Float, az:Float,..
												bx:Float, by:Float, bz:Float,..
												cx:Float, cy:Float, cz:Float,..
                             					u:Float Var, v:Float Var, w:Float Var, t:Float Var) ' used by TPick.bmx
	Function C_checkTriangle:Int(col_pack:Float Ptr,a:Float Ptr,b:Float Ptr,c:Float Ptr) ' use by TCollision.bmx
End Extern</pre><br>What mod from Simon Read? You've lost me. <br><br></td></tr></table><br>
<a name="831279"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >siread</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> I spoke to Mongia on MSN and sent him my built minib3d.mod which works fine for me. <br><br></td></tr></table><br>
<a name="831289"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >siread</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Another issue I've noticed is that if you ScaleEntity (0.5) your mesh, then Animate mesh, it shrinks even further to about 0.1 of the original scale. <br><br></td></tr></table><br>
<a name="831300"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >siread</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Also having problems with Collision.<br><br>I converted the B3D collision example:<br><a href="http://www.blitzbasic.com/b3ddocs/command.php?name=Collisions&amp;ref=3d_a-z" target="_blank">http://www.blitzbasic.com/b3ddocs/command.php?name=Collisions&amp;ref=3d_a-z</a><br><br>But the ball only collides with the floor. Have I misunderstood something?<br><br><pre class=code>

' Collisions Example
' ------------------
Import sidesign.minib3d

Graphics3D 640,480
'SetBuffer BackBuffer()

' Set collision Type values
type_ground=1
type_character=2
type_scenery=3

camera=CreateCamera()
RotateEntity camera,45,0,0
PositionEntity camera,0,15,-10

light=CreateLight()
RotateEntity light,45,0,0

' Create cube 'ground'
cube=CreateCube()
ScaleEntity cube,10,10,10
EntityColor cube,0,127,0
EntityType cube,type_ground
PositionEntity cube,0,-5,0

' Create sphere 'character'
sphere=CreateSphere( 32 )
EntityColor sphere,127,0,0
EntityRadius sphere,1
EntityType sphere,type_character
PositionEntity sphere,0,7,0

' Enable Collisions between type_character And type_ground
Collisions type_character,type_ground,2,2

' Create cylinder 'scenery'
cylinder=CreateCylinder( 32 )
ScaleEntity cylinder,2,2,2
EntityColor cylinder,0,0,255
EntityRadius cylinder,2
EntityBox cylinder,-2,-2,-2,4,4,4
EntityType cylinder,type_scenery
PositionEntity cylinder,-4,7,-4

' Create cone 'scenery'
cone=CreateCone( 32 )
ScaleEntity cone,2,2,2
EntityColor cone,0,0,255
EntityRadius cone,2
EntityBox cone,-2,-2,-2,4,4,4
EntityType cone,type_scenery
PositionEntity cone,4,7,-4

' Create prism 'scenery'
prism=CreateCylinder( 3 )
ScaleEntity prism,2,2,2
EntityColor prism,0,0,255
EntityRadius prism,2
EntityBox prism,-2,-2,-2,4,4,4
EntityType prism,type_scenery
PositionEntity prism,-4,7,4
RotateEntity prism,0,180,0

' Create pyramid 'scenery'
pyramid=CreateCone( 4 )
ScaleEntity pyramid,2,2,2
EntityColor pyramid,0,0,255
EntityRadius pyramid,2
EntityBox pyramid,-2,-2,-2,4,4,4
EntityType pyramid,type_scenery
RotateEntity pyramid,0,45,0
PositionEntity pyramid,4,7,4

' Set collision meth And response values
Meth=2
response=2

meth_info$="ellipsoid-to-polygon"
response_info$="slide1"

While Not KeyDown( KEY_ESCAPE )

x#=0
y#=0
z#=0

If KeyDown( KEY_LEFT )=True Then x#=-0.1
If KeyDown( KEY_RIGHT )=True Then x#=0.1
If KeyDown( KEY_DOWN )=True Then z#=-0.1
If KeyDown( KEY_UP )=True Then z#=0.1

MoveEntity sphere,x#,y#,z#
MoveEntity sphere,0,-0.02,0 ' gravity

' Change collision meth
If KeyHit( KEY_M )=True
meth=meth+1
If meth=4 Then meth=1
If meth=1 Then meth_info$="ellipsoid-to-sphere"
If meth=2 Then meth_info$="ellipsoid-to-polygon"
If meth=3 Then meth_info$="ellipsoid-to-box"
EndIf

' Change collision response
If KeyHit( KEY_R )=True
response=response+1
If response=4 Then response=1
If response=1 Then response_info$="stop"
If response=2 Then response_info$="slide1"
If response=3 Then response_info$="slide2"
EndIf

' Enable Collisions between type_character And type_scenery
Collisions type_character,type_scenery,meth,response

' Perform collision checking
UpdateWorld

RenderWorld

Text 0,0,"Use cursor keys to move sphere"
Text 0,20,"Press M to change collision meth (currently: "+meth_info$+")"
Text 0,40,"Press R to change collision Response (currently: "+response_info$+")"
Text 0,60,"Collisions type_character,type_scenery,"+meth+","+response

Flip 

Wend

End 
</pre> <br><br></td></tr></table><br>
<a name="831301"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >siread</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> I noticed that if you comment out: <br>Collisions type_character,type_ground,2,2<br><br>It will then respond to collisions with the scenery, before the ball falls through the floor. <br><br></td></tr></table><br>
<a name="831329"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >*</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah MingW wasnt installed correctly, seems it failed to completely install. All works ok now and really fast =)<br><br>Now all I need to create is turnentity and then I can release a build of Elite Multiplayer :) <br><br></td></tr></table><br>
<a name="831351"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mongia2</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> evvaii<br><br>it work<br><br>it disinstalled and reinstalled a bmax<br><br>and it work <br>thanks to all <br><br></td></tr></table><br>
<a name="831399"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> A quick fix for your anim problem Si is to comment out line 590 in TModel.bmx:<br><pre class=code>TrimVerts(surf)</pre> <br><br></td></tr></table><br>
<a name="831465"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >siread</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks. Works fine now. :)<br><br>I'm guessing that if we want to use the B3DSDK that we need to change TMesh, TCamera to Ints, right? <br><br></td></tr></table><br>
<a name="831598"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, although using ints may cause noticeable slowdown - at least it does on my PPC Mac. I'm currently wrestling with this conundrum for my own game - I may end up having to write some sort of code processor that deletes all the TTypes for the SDK version. <br><br></td></tr></table><br>
<a name="831643"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >smilertoo</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> How does the processing speed of animated skinned meshes compare to those in native b3d? <br><br></td></tr></table><br>
<a name="831689"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> About the same, maybe a little faster. <br><br></td></tr></table><br>
<a name="831707"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> Something I've just noticed is that Blitz3D slows down quite a lot when you're displaying lots of meshes loaded with LoadAnimMesh, compared to when loaded with LoadMesh - regardless of whether the model contains anim info or is being animated.<br><br>MiniB3D on the other hand is about the same for LoadMesh/LoadAnimMesh - and compared to Blitz3D, it's slower when LoadMesh is used, but faster when LoadAnimMesh is used. <br><br></td></tr></table><br>
<a name="831951"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> does opengl perform animations using the cpu or gpu because i think blitz3d/dx7 use the cpu to calculate animation? <br><br></td></tr></table><br>
<a name="831952"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> MiniB3D uses the CPU. <br><br></td></tr></table><br>
<a name="831963"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> Im hoping that i can bring back my Syndicate project with minib3d, because i was getting alot of slow down with my animated meshes in blitz3d so <br><div class="quote"> faster when LoadAnimMesh is used <br></div> <br>this is good news. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
