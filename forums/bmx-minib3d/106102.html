<!DOCTYPE html><html lang="en" ><head ><title >CountCollisions and CollisionEntity Returns Null</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >CountCollisions and CollisionEntity Returns Null</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=119" >MiniB3D Module</a>/<a href="#bottom" >CountCollisions and CollisionEntity Returns Null</a><br><br>
<a name="1302891"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Although I find this given example to work on OpenB3D:<br><br><a href="http://www.blitzbasic.com/b3ddocs/command.php?name=collisions&amp;ref=goto" target="_blank">http://www.blitzbasic.com/b3ddocs/command.php?name=collisions&amp;ref=goto</a><br><br><br>CountCollisions and CollisionEntity returns null when I add this to the code <br><br></td></tr></table><br>
<a name="1302917"></a>

<a name="1302918"></a>

<a name="1302919"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Seems to work fine on ubuntu, although ellipsoid-to-sphere causes the ball to sink. Are you checking after UpdateWorld?<br><br><a href="https://github.com/markcwm/openb3d.mod/blob/master/examples/blitz3d/Collisions.bmx" target="_blank">https://github.com/markcwm/openb3d.mod/blob/master/examples/blitz3d/Collisions.bmx</a> <br><br></td></tr></table><br>
<a name="1302920"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks munch, I have to check this in detail but seems to work ok now :D wow I think this is the simple and best example by far that used most of the collisions commands, this is just great! <br><br></td></tr></table><br>
<a name="1302935"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey munch, I got a question..<br><br>Is it really required that the <pre class=code>Collisions</pre> command need to be inside the main loop? Just curious because this was not the case with my original b3d project or other implementation (which I didn't even noticed until know) but yeah with the example in the docs that I gave above it seems it does in some case.<br><br>btw, I got the CountCollision worked either before or after UpdateWorld <br><br></td></tr></table><br>
<a name="1302938"></a>

<a name="1302941"></a>

<a name="1302942"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm still having problems with collisions on my custom code, I got this in order<br><br><pre class=code>
EntityType ..

Collisions ..

While
  
  UpdateWorld
  KeyControls
  UpdateMeshes()
  RenderWorld
  
Wend

</pre><br><br>My CountCollisions command is inside UpdateMeshes() and it works with Blitz3D version. I don't know what's the difference since it was derived from it.<br><br>My mesh declarations are inside a legacy Type variables conversion using Import Tool in MaxIDE. <br><br></td></tr></table><br>
<a name="1302958"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, I think with Openb3d you need to call UpdateWorld after move/anim commands, this is one case where it's different to in Blitz3d. <br><br></td></tr></table><br>
<a name="1303031"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey munch, after some trials and testing I have managed to get it fixed with this setup:<br><br><br><pre class=code>While
    DeltaTimeFix()

    PlayerControls()
    AI/GameLogicStuff()
   
    <b>UpdateEntityMovement()</b>
    UpdateWorld
    <b>UpdateEntityMovement()</b>
    RenderWorld

    2D Stuff()
Wend

</pre><br>I'm using a timed delta to make it the same speed regardless of pc spec. Does it affect the setup above? I have to call UpdateEntityMovement (translate,rotate,move) twice, before and after updateworld just so the collision would finally work. <br><br></td></tr></table><br>
<a name="1321516"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> this is not normal, you only have to turn move your entities once per loop, before detecting collisions, then you can reoriente reposition some entities depending on the collisions which have happened... But these are 2 different functions/procedures. <br><br></td></tr></table><br>
<a name="1321548"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, I know that somehow but that applies to blitz3d only and do remember that openb3d just tries to simulate b3d features and not an exact copy (xyz on some commands are somehow different since it is opengl). Otherwise you'll be using that instead. ;-)<br><br>Try working on OpenB3D and see it for yourself RemiD! :-) <br><br></td></tr></table><br>
<a name="1321561"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> if you have to do that to make it works, it means that either your code has error(s) somewhere (maybe you have not put the functions to detect collisions/reposition at the correct place) or openb3d has error(s) somewhere... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
