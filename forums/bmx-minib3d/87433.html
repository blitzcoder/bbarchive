<!DOCTYPE html><html lang="en" ><head ><title >EntityOrder issue</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >EntityOrder issue</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=119" >MiniB3D Module</a>/<a href="#bottom" >EntityOrder issue</a><br><br>
<a name="990900"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdsAdamJ</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Forgive me if this issue is ancient, I can't find anything about it through search. Anyway, I've tried this with both MiniB3D and Blitz3D and both have the same issue, I'm posting it here though I wanted to get acquainted with the rather nice miniB3D.<br><br>Take a look at Mr Planet here:<br><br><img src="http://i32.photobucket.com/albums/d42/the_real_adamj/portfolio/Flash%20Games%20and%20Other%20Screenshots/entityorderwtf.png"><br><br>The rings are supposed to go <i>around</i> the planet, not in front. When the entity order isn't manually set, it displays correctly. Only when I set it to a positive value (to ensure it's drawn first), does it give me issues.<br><br>I could avoid using EntityOrder and put the planet a long long distance away and scale it up appropriately, but that's going to introduce it's own problems I think...<br><br>Am I doing anything wrong here? Is that a limitation of using EntityOrder? The code isn't worth posting, it's easily recreated with a few lines of code to load the objects in and set the orders.<br><br><br>EDIT: FYI, this is converted from a Lightwave model I made. I made several versions, one with the ring surface being two-sided, one with single-sided rings, duplicated and placed upside down below the original (faking double-sided) and also with the rings in the same and different layers with no luck.<br>EDIT 2: Setting EntityFX to 32 (Force Alpha Blending) seems to fix it in Blitz3D but not miniB3D. Hmm. <br><br></td></tr></table><br>
<a name="990931"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I assume both the planet and ring are set to the same entityorder value... <a href="/posts.php?topic=86899" target="_blank">I've had some problems with entity order recently</a> specifically with transparent sprites. with solid sprites I never have problems. I think the transparency is at the root of the problem.<br><br>Personally in your instance I would try to make the ring and planet properly scaled  to each other rather than trying to fake it with entity order. If your numbers are getting too big you could always scale everything down to a tenth it's former size and you only lose 1 decimal's worth of precision, which if you've got big numbers is probably not going to be an issue... but that may not be practical for you. <br><br></td></tr></table><br>
<a name="991016"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zethrax</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> In Blitz3D, changing a mesh's EntityOrder disables z-buffering for it. Not sure if the same is true of MiniB3D, but it may be the reason the render is screwed up. <br><br></td></tr></table><br>
<a name="991035"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't see how EntityOrder could possibly solve this.<br><br>If viewed from a "shallow" angle part of the ring is behind the planet and part is in front. <br><br></td></tr></table><br>
<a name="991070"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdsAdamJ</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah, I think I've found a solution to the problem that avoids using EntityOrder completely.<br><br>Instead, I've created a pivot to attach my background objects to and a pivot for the active game objects.<br><br>By changing the CameraClsMode so it doesn't clear the screen before a renderworld, I can render each group of objects separately by hiding and showing the pivots and doing multiple renders. Seems to work in a test I did, now for the game itself...<br><br>EDIT: Win! The pivot/hide/show method works:<br><img src="http://i32.photobucket.com/albums/d42/the_real_adamj/portfolio/Flash%20Games%20and%20Other%20Screenshots/entityorderwin.png"> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
