<!DOCTYPE html><html lang="en" ><head ><title >[iminib3d] crash under OS 3.1.3</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >[iminib3d] crash under OS 3.1.3</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=119" >MiniB3D Module</a>/<a href="#bottom" >[iminib3d] crash under OS 3.1.3</a><br><br>
<a name="1040143"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have a project that works fine on OS 4, and 3.2 on ipad, and the simulators. When I try to run it on my first get iphone with 3.1.3 it crashes at startup with EXEC_BAD_INSTRUCTION saying: <br><br>Current language:  auto; currently objective-c++<br>Warning: the current language does not match this frame.<br>Program received signal:  “EXC_BAD_INSTRUCTION”.<br><br>the debugger points to the ending curly brace in CompareEntityOrder in global.mm which doesn't make any sense... and the thread is<br>0 _statuc_initialization_and_destruction_0<br>1 global contructors keyed to _ZN6Global5widthE<br>2 ??<br><br>which also doesn't make any sense...<br><br>and to top it off the demos seem to run fine... but my project is based off of a direct copy of the the project and source files used for the demos, so my settings are virtually identical... and as I mention it works fine on OS 4 and 3.2...<br><br>Quite confused, can't find any info through official or un-offical apple channels... <br><br></td></tr></table><br>
<a name="1040174"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I purposely haven't upgraded my phone to iOS4 and my game works fine. It's not a first gen phone though, it's a 3Gs. That means your issue is less to do with the OS version and more to do with the hardware. Do first gen phones even support 3.1.3? Are you sure you built iminib3d against that version? I sometimes forget to rebuild iminib3d along with the actual game.<br><br>One subtle change I had to make on one project was checking "Build Active Architecture Only" at the top of the target's build settings. Until I adjusted that builds on my phone were working but not builds sent to another person. The error was in LoadB3d not CompareEntityOrder however so I don't know if this has anything to do with what you're encountering. <br><br></td></tr></table><br>
<a name="1040257"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yea, first gen just can't get 4.0, it's 3.1.3 until it dies.<br><br>As I mentioned the example programs build and run on it fine so it's not the hardware, or OS version as such...<br><br>However my project doesn't. My project is using properly re-compuled iminib3d etc, it runs fine on my ipad, and my iphone 4, and actually now that I think of it my GF's 3GS (also OS 4...). I suspect It's a build setting causing things not to link properly on my specific project, but I have no idea what it could be specifically as I've gone through them comparing to the demos which run and can't find anything to explain it...<br><br>And the compare entity point I suspect is a result of the linking somehow being off, as it crashes before the app even fully loads, which is well before iminib3d gets inited, let alone actually starts to run... and it's not minib3d exacly, or my code since they both run fine on simulator and other devices...<br><br>It happens if I build with a target of 4.0 or 3.2 (can't drop target lower any more which is anoying...) and a base of 3.0 through 3.1.3 (tried every one recompiling the lib and it's targets as well as my project)... really confused. I don't really NEED support &lt; 3.2/4.0 but I'm just bothered that I can't get it working and therefore miss out on a lot of potential users despite not (yet) using any 3.2/4.0 specific code/frameworks/etc.<br><br>Mainly I just want to benchmark performance on my first gen since the slower it runs the easier it is to find out where to focus to optimize... <br><br></td></tr></table><br>
<a name="1041899"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> It might be an EntityParent bug that I recently squashed. It seems to only cause a crash on a 3G. <br><br></td></tr></table><br>
<a name="1042003"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try building a hello world example with a sphere, then add another sphere and use entityparent to confirm the bug... <br><br></td></tr></table><br>
<a name="1042018"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> It crashes before the program even begins to run. By crashes at startup I mean it happens before any code begins to run, even the application delegate start. Maybe there's some init in the minib3d lib before that but it's before I do any parenting etc. as it's before I even init the minib3d graphics... I suspect some sort of a linker problem with the project since, as I said, the examples work, but I have no idea where to look as I've gone through all the project and target settings and can't find anything out of sorts.... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
