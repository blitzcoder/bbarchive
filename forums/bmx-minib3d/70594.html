<!DOCTYPE html><html lang="en" ><head ><title >Flip and Flip 1 are different</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Flip and Flip 1 are different</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=119" >MiniB3D Module</a>/<a href="#bottom" >Flip and Flip 1 are different</a><br><br>
<a name="789263"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> On my system, it appears that `Flip` by itself will run at approximately a smooth 60Hz but there will be vertical tearing, whilst `Flip 1` fixes the tearing. Is this normal? From the definition in the docs, Flip by itself defaults to -1 which means it syncs to the refresh rate but not necessarily synchronized with the vertical blank? <br><br>Anyway, the demo's that come with MiniB3D all have Flip and not Flip 1, which means they all have vertical tearing, for me anyway. I change them all to Flip 1.<br><br>From the docs:<br><br>Function Flip( sync=-1 )<br>Description	Flip current graphics object.<br>Information	Flip swap the front and back buffers of the current graphics objects.<br><br>If sync is 0, then the flip occurs as soon as possible. If sync is 1, then the flip occurs on the next vertical blank.<br><br>If sync is -1 and the current graphics object was created with the Graphics command, then flips will occur at the graphics object's refresh rate regardless of whether or not the graphics hardware supports such a refresh rate.<br><br>If sync is -1 and the current graphics object was NOT created with the Graphics command, then the flip will occur on the next vertical blank. <br><br></td></tr></table><br>
<a name="789441"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LT</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I believe it's Flip (VWait) like BlitzBasic, but perhaps VWait defaults to FALSE instead of TRUE...? <br><br></td></tr></table><br>
<a name="789527"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> No its -1 0 or 1 and it defaults to -1 <br><br></td></tr></table><br>
<a name="792059"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LAB[au]</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't know if it's normal ... but I do the same (Flip 1) as I have tearing on both my Linux and my Win32 boxes. It seems to disappear with fullscreen modes as well, there I don't need flip 1. <br><br></td></tr></table><br>
<a name="792246"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I get the tearing in fullscreen and windowed. <br><br></td></tr></table><br>
<a name="792298"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's my understanding:<br><br>Flip -1 flips at a fixed rate independent of the monitor's refresh rate<br><br>Flip 0 flips immediately.<br><br>Flip 1 flips at a fixed rate synchronized to the monitor's vertical blank.<br><br>Since Flip -1 does not take into account the vertical blank, it will most likely produce tearing.  However it allows you to flip at fixed rates regardless of whether the monitor/graphics card supports that rate or not.<br><br>Since Flip 0 does not take into account the vertical blank, it will most likely tear.  However, it allows your program to execute frames as fast as possible, giving you smoother movement and more accurate physics.  Also good for testing just how efficient your program is running<br><br>Since Flip 1 takes into account the vertical blank, you should not get any tearing.  However, you can only set rates supported by the graphics card/monitor. <br><br>Try this out, replacing the refresh rate and the flip parameter.  Notice that Flip -1 will run at 26 fps even though there are no cards that support it, but you get tearing.  However, use flip 1 and since no cards support that rate, you get 60 fps instead of 26, but there is no tearing.<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Graphics 800,600,32,26
Local frame:Int = 0
Local fps:Int = 0
Local x:Int = 0
Local Time = MilliSecs() + 1000
While Not KeyHit(KEY_ESCAPE)
	Cls
	DrawText fps,10,10
	DrawRect x,300,100,100
	x :+ 4
	If x &gt;= 800 Then x = 0
	Flip -1
	frame = frame+1
	If MilliSecs() &gt;= Time
		fps = frame
		frame = 0
		Time :+ 1000
	End If
Wend</textarea><br><br>Edit:  This is different from Blitz3D which only has Flip False (Flip 0) and Flip True (Flip 1), but nothing like Flip -1 in BlitzMAX. <br><br></td></tr></table><br>
<a name="792322"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hotcakes</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually B3D's version of Flip accepted a value that determined the number of VWaits to wait.  Flip True or Flip 1 waited for the next vertical refresh, while Flip 2 would give you half the framerate, Flip 3 a third and so on. <br><br></td></tr></table><br>
<a name="792366"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hotcakes: I don't think that's right.  There is nothing in the docs about that and testing does not show it.  I get the same frame rate regardless if I use Flip1, Flip2, etc... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
