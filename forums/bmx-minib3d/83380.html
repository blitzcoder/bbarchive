<!DOCTYPE html><html lang="en" ><head ><title >parent bug</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >parent bug</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=119" >MiniB3D Module</a>/<a href="#bottom" >parent bug</a><br><br>
<a name="940936"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> if i load a ship model and parent it to a cube,<br>then if i create a sprite (as a bullet) and try to parent it to the model or position it relative to the model it gets messed up<br><br>as in all bullet sprites movement behave strangely, they all facce the same direction no martter what direction the ship[ is facing.<br><br>this doesnt happen when the ship is not parented to a cube <br><br></td></tr></table><br>
<a name="940968"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Code sample please. <br><br></td></tr></table><br>
<a name="941292"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok here you go..<br><br><a href="http://www.mediafire.com/?ndyv1nmzjmw" target="_blank">http://www.mediafire.com/?ndyv1nmzjmw</a><br>I made a download just to make sure it reproduces the bug <br><br></td></tr></table><br>
<a name="942137"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> did you take a look yet? <br><br></td></tr></table><br>
<a name="942279"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not yet, will take a look this weekend. Thanks for the sample. <br><br></td></tr></table><br>
<a name="942283"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I can't see any problem with that - it seems to work as I would expect it to. Commenting out the EntityParent line doesn't seem to change anything.<br><br>I need a better sample and/or description of what's going wrong exactly. <br><br></td></tr></table><br>
<a name="942471"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> if you play with it for a little while (turning the ship and firing bullets) youll notice that some bullets get stuck to the back of the ship, but this never happens if the line is commented out that parents the ship to the cube.<br><br>EDIT- hmm the behaviour happens even when the line is commented out, do you know why? <br><br></td></tr></table><br>
<a name="944477"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I see, your complaint is that perhaps the sprite view mode is out of whack when parented ? that there may be a bug where the parent is overriding sprite view behaviour? or what? <br><br></td></tr></table><br>
<a name="944491"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> when you shoot bullets before moving the ship they act normally,<br><br>but when you turn the ship to face backwards the bullets face toward the ship and keep moving into the ship.<br><br>(when you fire a bullet, the bullet should always be facing away from the ship obviously)<br><br>You just have to play with it for a little while to see the bullets face toward the ship.<br><br>You cant actually see what direction sprites are facing but I know they are moving into the ship because they seem to get stuck to the ship. <br><br></td></tr></table><br>
<a name="944717"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Really can't see the problem with this. I turn the camera, shoot the bullets, and they always move away from the ship as expected, no matter how long I fire for. Are you using the latest versions of BlitzMax (1.30) and MiniB3D (0.52)? <br><br></td></tr></table><br>
<a name="944781"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> yeah, I will look at the demo again to make sure,<br><br>Yep I double clicked the EXE and got some bullets to stick to the ship after 10 seconds.<br><br>Also when I move the mouse to the side the ship rolls, but according to the source code the ship is supposed to turn left and right <br><br></td></tr></table><br>
<a name="944892"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's a video of me testing it:<br><br><a href="/files/jeremy_bug.wmv" target="_blank">Video</a><br><br>As far as I can tell, no bullets get stuck or move in the wrong direction.<br><br>Maybe you could post a video yourself? <br><br></td></tr></table><br>
<a name="944940"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks for taking the time to make the video<br><br>heres mine:<br><br><a href="http://www.youtube.com/watch?v=-S1jLNAzsPU" target="_blank">http://www.youtube.com/watch?v=-S1jLNAzsPU</a><br><br>I checked the version of minib3d and it was 0.52<br>i am using the SVN version of blitzmax but I dont think that makes any difference.<br>Im not using threads or anything non-standard<br>I compiled the code from the download unaltered, are you sure you didnt alter the code?<br><br>One bullet gets stuck at the start and then several get stuck at the end <br><br></td></tr></table><br>
<a name="944948"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> "Also when I move the mouse to the side the ship rolls, but according to the source code the ship is supposed to turn left and right"<br><br>Sounds like you're not sure of your own coding ability. Do you fully understand the code yourself or are you building off existing code from somewhere else? <br><br></td></tr></table><br>
<a name="944963"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well there's definitely a difference between our versions! Yes the code is unaltered - I even downloaded your zip again just to be sure.<br><br>I suspect your minib3d version may be old or modified somehow - try redownloading minib3d V0.52 again, and make sure it fully replaces the old one in your BlitzMax mod dir. <br><br></td></tr></table><br>
<a name="944976"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tried it on a different computer and got the same bug again,<br>after reinstalling the module.<br><br>Rob:<br>I just put turnentity 0,1,0 so that means it shouldnt roll<br><br>I think a global rotation is being added to the ship instead of local rotation <br><br></td></tr></table><br>
<a name="945055"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="/files/bughunt.zip" target="_blank">Compiled Exe</a><br><br>Can you give this a go to make sure that this is not a system issue. It should work OK.<br><br><div class="quote"> I just put turnentity 0,1,0 so that means it shouldnt roll <br></div><br>I can't see that line in your sample. Are you testing the same thing as me?<br><br>TurnEntity works differently in minib3d to B3D - gimbal lock can occur. <br><br></td></tr></table><br>
<a name="945093"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> oh yeah I meant to say turnentity mx,my,0<br><br>roll is zero<br><br>hmm, your exe doesnt seem to do the bug <br><br></td></tr></table><br>
<a name="945123"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Use RotateEntity instead and it should work as expected (you'll have to increment the mx,my values yourself). <br><br>Well if you have the same MiniB3D version as me, the only thing that is different is the BlitzMax version. Could you try a standard 1.30 install? You can install it alongside your current version. <br><br></td></tr></table><br>
<a name="946127"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you tried this Jeremy? Would like to get to the bottom of this. <br><br></td></tr></table><br>
<a name="946462"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok I tried a fresh install in a different folder, fresh install of minib3d v 0.52 and it did the same error again (!) its a mystery <br><br></td></tr></table><br>
<a name="948773"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> does anyone else have the same issue ? <br><br></td></tr></table><br>
<a name="959663"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> THe problem could be caused by Tformpoint applying rotation to a matrix without using quaternions? <br><br></td></tr></table><br>
<a name="959677"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> There is still no problem as far as I can tell. I've tested this to death now so there's no point continuing this until you can provide a solid example of a bug. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
