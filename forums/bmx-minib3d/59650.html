<!DOCTYPE html><html lang="en" ><head ><title >MiniB3D</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >MiniB3D</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=119" >MiniB3D Module</a>/<a href="#bottom" >MiniB3D</a><br><br>
<a name="664924"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> MiniB3D V0.2 is now available to download from www.si-design.co.uk<br><br>Please give it a go and if you find any issues then let me know. It's been tested on Windows and Mac. <br><br></td></tr></table><br>
<a name="664938"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdrianT</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice one Simon. Just got your email too. Look forward to playing with MiniB3D ;P <br><br></td></tr></table><br>
<a name="664952"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Alienforce</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> WOw!!! Amazing! <br>Keep up the good work!! <br><br></td></tr></table><br>
<a name="665038"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >The Caffeine Kid</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> :O<br><br>That's awesome. :)<br><br>Would love to see the command set completed.<br><br>The full Blitz3D command set in Max would be FAB. <br><br></td></tr></table><br>
<a name="665045"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ckob</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> wow this is really awesome.  PLEASE finish this :) <br><br></td></tr></table><br>
<a name="665071"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> pretty cool stuff.  keep up the great work :)  since you mentioned that it hadnt been tested in linux yet i thought id give it a whirl for you.  i received a crash that had already been documented for linux here:<br><br><a href="http://www.blitzmax.com/Community/posts.php?topic=57783" target="_blank">http://www.blitzmax.com/Community/posts.php?topic=57783</a><br><br>i dont think this has anything to do with your functions but then again im not sure. <br><br></td></tr></table><br>
<a name="665090"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Panno</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> engage !! <br><br></td></tr></table><br>
<a name="665092"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CodeGit</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Excellent. :)<br><br>Are you going to implement the collision instructions? <br><br></td></tr></table><br>
<a name="665095"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very good! <br><br></td></tr></table><br>
<a name="665127"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Collision commands - probably not, as I intend to use ODE for the collisions in my own game.<br><br>Once I've implemented sprites, some more animation commands and texture flags that will probably be it from me, bar bug fixes and optimisations (oh and a DX driver).<br><br>If someone else wants to add terrains, bsps and the other stuff then feel free, but my intention with MiniB3D was always to create only a lightweight version of B3D. <br><br></td></tr></table><br>
<a name="665128"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nennig</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Mindblowing! <br><br></td></tr></table><br>
<a name="665152"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LarsG</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> great work, Simonh.<br><br>I see that you've made and object oriented base for this, which is great...<br>A question though: Would you mind renaming the methods of the types, so it doesn't contain the type name itself?<br><br>what I mean is that I see you've got a type called TEntity, and it has methods like PositionEntity(), MoveEntity() etc.<br>Could you change those to just Position() and Move() etc.?<br><br>it would make it just a tad simpler for me to do:<br><div class="quote"> mycube:TMesh = TMesh.CreateCube()<br>mycube.Move(1,0,0) <br></div><br>You could still keep the PositionEntity() etc. for the Procedural approach, to keep it similar to B3D.<br><br>I wouldn't mind changing the method names myself, but if you  later updated this engine, my efforts would be lost.. :( <br><br></td></tr></table><br>
<a name="665169"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Probably not Lars, I think there's too much potential for confusion - for example PositionEntity + PositionMesh, NameEntity + EntityName, plus I'd rather keep things consistent with B3D. <br><br></td></tr></table><br>
<a name="665179"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Boiled Sweets</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>what is the purpose of this?  Being able to take bb code and compile it in max? <br><br></td></tr></table><br>
<a name="665180"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Boiled Sweets</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>what is the purpose of this?  Being able to take bb code and compile it in max? <br><br></td></tr></table><br>
<a name="665203"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> So you can convert your 3D programs to Max, and run them on a Mac. <br><br></td></tr></table><br>
<a name="665227"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Boiled Sweets</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> WOW!<br><br>Keep up the good work.  Will this be free? <br><br></td></tr></table><br>
<a name="665252"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >kfprimm</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is awesome!!! I'm currently working on my own 3D module with a command set that is exactly the same as Blitz3D.<br><br>@simonh,<br>You won't mind if i used your CreateSphere, CreateCylinder, and CreateCone functions, will you? <br><br></td></tr></table><br>
<a name="665253"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >splinux</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have some problems both on win and Linux but it gives me errors on "Renderworld".<br>win: unhandled memory exception error<br>Linux: appstub error 11(if i remember right)<br><br>Where could the error be? <br><br></td></tr></table><br>
<a name="665266"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Will this be free? <br></div><br>Yes it's free.<br><br><div class="quote"> @simonh,<br>You won't mind if i used your CreateSphere, CreateCylinder, and CreateCone functions, will you?  <br></div><br>Those functions were actually written by Todd Riggins, but you're free to use any of the code.<br><br><div class="quote"> I have some problems both on win and Linux but it gives me errors on "Renderworld". <br></div><br>What program gives you the error? Does running it in debug mode give a more detailed error message? Feel free to email me the program and I'll look into it. <br><br></td></tr></table><br>
<a name="665276"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Simonh,<br>Whats the policy on community input into MiniB3D. <br><br></td></tr></table><br>
<a name="665318"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gellyware</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very good stuff!<br><br><br>I hope that you get to finish this as I can't use B3D after using MAX !!!! <br><br></td></tr></table><br>
<a name="665457"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RepeatUntil</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK, I don't understand......<br><br>Simonh, you are belonging the BRL team, aren't you?? And everyone knows that Mark is writting a 3D module. And you are also writting a mini-3D module. And your idea of using the same command as B3D is great, and should please Mark Sibly. So does that mean that you mini-3D-engine will be part of the engine of Mark???? If not, I don't see a reason why, and that would be crazy. Mark could saved a lot of time with your implementation....<br>Let us know.... <br><br></td></tr></table><br>
<a name="665480"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very very very good work! I've been modifying the B3D loader to load B3D files the way B3D does- ignoring missing textures. Time is short at the mo, but this is a better way than chucking up on a missing texture :)<br><br>I suppose you could just make it create a 1x1 or so small empty texture :-)<br><br>Really, excelent work :D <br><br></td></tr></table><br>
<a name="665490"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >splinux</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Anyone other is experiencing my same problem? <br><br></td></tr></table><br>
<a name="665550"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mongia2</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> very good work!!<br><br>thanks<br><br>mongia <br><br></td></tr></table><br>
<a name="665657"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chris C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> looks solid, not tested in linux yet!<br><br>interestingly it does the same distortion as b3d with the default fov...!<br><br>are you going to take it further than b3d ie shadow volumes, shaders etc? <br><br></td></tr></table><br>
<a name="665692"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> So does that mean that you mini-3D-engine will be part of the engine of Mark???? <br></div><br>No! This is just a personal project, nothing to do with BRL or Max3D. And er, I don't think Mark needs to borrow any of MiniB3D!<br><br><div class="quote"> Whats the policy on community input into MiniB3D. <br></div><br>Community input is more than welcome, if you post additions/changes here or email them to me I'll add them to the next release. Mongia has already provided a PointEntity function, thanks dude!<br><br><div class="quote"> Very very very good work! I've been modifying the B3D loader to load B3D files the way B3D does- ignoring missing textures. Time is short at the mo, but this is a better way than chucking up on a missing texture :) <br></div><br>Yes, good point. That needs changing.<br><br><div class="quote"> interestingly it does the same distortion as b3d with the default fov...! <br></div><br>Yeah that took some figuring out. The answer is that for field of view, you have to multiply the zoom value (default 1.0), by the viewport ratio - no idea why Mark does it like that.<br><br><div class="quote"> are you going to take it further than b3d ie shadow volumes, shaders etc? <br></div><br>Probably not, Max3D will take care of all that stuff :) <br><br></td></tr></table><br>
<a name="665727"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chris C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> yeah but max3d is at least 7 months away and could end up being like maxgui... which means another 4 months or so before its "production" ready <br><br></td></tr></table><br>
<a name="666028"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> 7 Months?<br><br>Russell <br><br></td></tr></table><br>
<a name="666048"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> 7 Months? <br></div><br><br>Yeah -- Mark said "around christmas" as his expected release date in another thread a couple of days ago. <br><br></td></tr></table><br>
<a name="666080"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Haramanai</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> B3d was allways looked perfect.<br>I had the demo.... I have no idea what I may losted...<br>But can this MODULE be a documented one? <br><br></td></tr></table><br>
<a name="668954"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> V0.2 now available - the full sprite and animation command sets are now supported, plus most of the texture commands (scroll, position etc), and a few other new things. <br><br></td></tr></table><br>
<a name="668960"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> Si, this is a fine piece of work! Thanks. <br><br></td></tr></table><br>
<a name="668965"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> I thought you were dead, James. <br><br></td></tr></table><br>
<a name="669012"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amon</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is looking cool.<br><br>Nice work Si. :) <br><br></td></tr></table><br>
<a name="669087"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SillyPutty</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> Simon you are a legend, this is really good work, keep it up ! <br><br></td></tr></table><br>
<a name="669100"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CodeGit</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> One word. EXCELLENT <br><br></td></tr></table><br>
<a name="669133"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mikele</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you Simon! <br><br></td></tr></table><br>
<a name="669230"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >u2o</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ive just downloaded it and had a quick look.  Well done Simon, this looks fantastic!<br><br>Thank You!!! (and keep up the good work) <br><br></td></tr></table><br>
<a name="669273"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> Awesome work so far, keep it up! :) <br><br></td></tr></table><br>
<a name="669309"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bruZard</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> thank you simon ... and now : german...<br><br>Teile Weisheit mit mir, oh Gottgleicher!<br><br>do'nt try this in babelfish ;) <br><br></td></tr></table><br>
<a name="669435"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>I thought you were dead, James.<br> <br></div><br>No, just out of beer, which is probably very similar. <br><br></td></tr></table><br>
<a name="671781"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pls</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very impressive.<br><br> What is the best way to get b3d functions documentation? Books? Buying b3d just for a/the manual? I am on a Mac, so I am not interested in anything other than the functions documentation.<br><br> PLS <br><br></td></tr></table><br>
<a name="671784"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WendellM</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> Would this do?: <a href="http://blitzbasic.com/b3ddocs/docs.php" target="_blank">http://blitzbasic.com/b3ddocs/docs.php</a> <br><br></td></tr></table><br>
<a name="671885"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Progi1984</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> Simonh, what is your roadmap for next versions ? <br><br></td></tr></table><br>
<a name="672019"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm currently working on optimising everything, i.e. implementing entity fustum culling and a few other things. I hope to release this version within a few days.<br><br>After that I'm not sure, but I'll probably have a look to see if I can get some sort of collision system working. <br><br></td></tr></table><br>
<a name="672453"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DougUK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> only recently purchased bmax+maxgui so just finding my way round :)<br>Is it possible to use maxgui with minib3d? <br><br></td></tr></table><br>
<a name="676124"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vertex</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi!<br><br>Wireframe:<br>glPolygonMode(Face, GL_LINE)<br><br>--------------------------------------<br><br>LoaderMatrix:<br>I think, you must only multiply incomming vertices with this matrix.<br><br>--------------------------------------<br><br>SetCubeFace:<br>SetCubeMode:<br><pre class=code>glEnable(GL_TEXTURE_CUBE_MAP)
glBindTexture(GL_TEXTURE_CUBE_MAP, Self.TextureID)

glEnable(GL_TEXTURE_GEN_S)
glEnable(GL_TEXTURE_GEN_T)
glEnable(GL_TEXTURE_GEN_R)

Reflectivemode:
glTexGeni(GL_S, GL_TEXTURE_GEN_MODE, GL_REFLECTION_MAP_ARB)
glTexGeni(GL_T, GL_TEXTURE_GEN_MODE, GL_REFLECTION_MAP_ARB)
glTexGeni(GL_R, GL_TEXTURE_GEN_MODE, GL_REFLECTION_MAP_ARB)

Projectivemode:
glTexGeni(GL_S, GL_TEXTURE_GEN_MODE, GL_NORMAL_MAP_ARB)
glTexGeni(GL_T, GL_TEXTURE_GEN_MODE, GL_NORMAL_MAP_ARB)
glTexGeni(GL_R, GL_TEXTURE_GEN_MODE, GL_NORMAL_MAP_ARB)</pre><br><br>--------------------------------------<br><br>CameraProjMode:<br><pre class=code>Type TFrustum
	Function SetPerspective(Matrix:Float[], Zoom:Float, Aspect:Float, Near:Float, ..
	                        Far:Float)

		Local FPN:Float, NMF:Float

		Rem
			|  Zoom                              |
			| ------   0        0         0      |
			| aspect                             |
			|                                    |
			|   0     Zoom      0         0      |
			|                                    |
			|               Far+Near  2*Far+Near |
			|   0      0    --------  ---------- |
			|               Near-Far   Near-Far  |
			|                                    |
			|   0      0       -1         0      |
		End Rem

		FPN = Far+Near
		NMF = Near-Far

		Matrix[ 0] = Zoom/Aspect
		Matrix[ 1] = 0.0
		Matrix[ 2] = 0.0
		Matrix[ 3] = 0.0

		Matrix[ 4] = 0.0
		Matrix[ 5] = Zoom
		Matrix[ 6] = 0.0
		Matrix[ 7] = 0.0

		Matrix[ 8] = 0.0
		Matrix[ 9] = 0.0
		Matrix[10] = FPN/NMF
		Matrix[11] = 2*FPN/NMF

		Matrix[12] = 0.0
		Matrix[13] = 0.0
		Matrix[14] = -1.0
		Matrix[15] = 0.0
	End Function
	
	Function SetOrtho(Matrix:Float[], Zoom:Float, Left:Float, Right:Float, ..
	                  Bottom:Float, Top:Float, Near:Float, Far:Float)

		Local RML:Float, TMB:Float, FMN:Float

		Rem
			|    2*Zoom                                 |
			|  ----------         0            0      0 |
			|  Right-Left                               |
			|                                           |
			|                   2*Zoom                  |
			|      0          ----------       0      0 |
			|                 Top-Bottom                |
			|                                           |
			|                               -2*Zoom     |
			|      0              0         --------  0 |
			|                               Far-Near    |
			|                                           |
			|   Right+Left    Top+Bottom    Far+Near    |
			| - ----------  - ----------  - --------  1 |
			|   Right-Left    Top-Bottom    Far-Near    |
		End Rem

		RML = Right-Left
		TMB = Top-Bottom
		FMN = Far-Near

		Matrix[ 0] = 2.0/RML
		Matrix[ 1] = 0.0
		Matrix[ 2] = 0.0
		Matrix[ 3] = 0.0

		Matrix[ 4] = 0.0
		Matrix[ 5] = 2.0/TMB
		Matrix[ 6] = 0.0
		Matrix[ 7] = 0.0

		Matrix[ 8] = 0.0
		Matrix[ 9] = 0.0
		Matrix[10] = -2.0/FMN
		Matrix[11] = 0.0

		Matrix[12] = -((Right+Left)/RML)
		Matrix[13] = -((Top+Bottom)/TMB)
		Matrix[14] = -((Far+Near)/FMN)
		Matrix[15] = 1.0
	End Function
End Type</pre><br><br>--------------------------------------<br><br>CameraProject<br>ProjectedX<br>ProjectedY<br>ProjectedZ<br><br>Multiply the coordinates with the inverse transformation matrix of the camera and then multiply it with the viewmatrix of the camera.<br><br>--------------------------------------<br><br>DeltaYaw / DeltaPitch:<br>Calculate the worldcoords of the two entities and build a direction vector of it:<br>V.X = Entity2.WorldX - Entity1.WorldX<br>V.Y = Entity2.WorldY - Entity1.WorldY<br>V.Z = Entity2.WorldZ - Entity.WorldZ<br>Yaw = -ATan2(V.X, V.Z)<br>Pitch = -ATan2(V.Y, Sqr(V.X*V.X + V.Z*V.Z))<br><br>--------------------------------------<br><br>GetMatElement:<br>Calculate the global transformation matrix and then return the needed element of it.<br><br>I hope, this will help you! Nice work!<br>cu olli <br><br></td></tr></table><br>
<a name="676151"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Vertex! Hopefully I'll be able to add most of that to the next release. <br><br></td></tr></table><br>
<a name="676155"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#51">[#51]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Simon,<br><br>Excelent work! I do love this!<br><br>I do have a question though- what are the chances of getting mouse/camera pick into this? :) <br><br></td></tr></table><br>
<a name="676780"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BORNtobeNAMELESS</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#52">[#52]</a></td></tr></table></td></tr><tr ><td class="posttext"> On my System(Debian GNU/Linux Sid) it works great!<br>Excelent work! <br><br></td></tr></table><br>
<a name="676789"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#53">[#53]</a></td></tr></table></td></tr><tr ><td class="posttext"> Apparently MiniB3D programs bomb out on an Intel Mac - would someone with an Intel Mac confirm this for me please? Not sure why it would do that. <br><br></td></tr></table><br>
<a name="676799"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#54">[#54]</a></td></tr></table></td></tr><tr ><td class="posttext"> if someone doesnt get to it before i do, i can try this out for you tonight. <br><br></td></tr></table><br>
<a name="677016"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#55">[#55]</a></td></tr></table></td></tr><tr ><td class="posttext"> it does crash.  i tried test-anim and test-blend.  both crashed on the same line inside of RenderWorld():<br><pre class=code>
Select ix
	Case 0 glActiveTexture(GL_TEXTURE0);glClientActiveTexture(GL_TEXTURE0)
</pre><br>specifically it was the glActiveTexture() call.  if i remember right, this is the same line it crashed on when i tried MiniB3D in linux so it may be more linux-intel related since MacOSX is linux based.  dont have my laptop right now to try it out to make sure though.  that crash was documented:<br><br><a href="http://www.blitzmax.com/Community/posts.php?topic=57783#665067" target="_blank">http://www.blitzmax.com/Community/posts.php?topic=57783#665067</a><br><br>good luck and feel free to call on me to test it more.  i think this is a very exciting addition to BMAX and want to help it grow as much as possible.  keep up the great work! <br><br></td></tr></table><br>
<a name="677047"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pls</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#56">[#56]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tried all examples and none crashed on my macbook pro. Could the crashes be limited to a certain model?<br><br> PLS <br><br></td></tr></table><br>
<a name="677070"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Roger</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#57">[#57]</a></td></tr></table></td></tr><tr ><td class="posttext"> Or on another tangent<br><br>Could it be that gman has a Mac mini with the onboard Intel chipset and pls has the nvida card and the limitation with glActiveTexture is with the Intel/Mac Software implentation of this command.<br><br>This is somewhat mitigated by the linux statement (FYI Mac OSX is not linux based but BSD Based. BSD is another unix variant). But it will be interesting to note if the crash occurs only on the cruddy onboard GPU's on the mac minis.<br><br><br>Roger. <br><br></td></tr></table><br>
<a name="677083"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#58">[#58]</a></td></tr></table></td></tr><tr ><td class="posttext"> First: MiniB3D is a GREAT project! Thanks simonh.<br><br>Maybe a check to see if glActiveTexture(), glClientActiveTexture() is supported would be in place?<br>Shouldent there also be some kind of fallback if it is not? <br><br></td></tr></table><br>
<a name="677148"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#59">[#59]</a></td></tr></table></td></tr><tr ><td class="posttext"> the MacOSX crash was on a mini.  also, the linux crash was using an ATI card in Xandros and i did confirm it was on the same line. <br><br></td></tr></table><br>
<a name="677274"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#60">[#60]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks gman, that's a great help. I think glClientActiveTexture is probably the offending command as I believe that relies on an extension. Hopefully they'll be a way around it. <br><br></td></tr></table><br>
<a name="677283"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#61">[#61]</a></td></tr></table></td></tr><tr ><td class="posttext"> glad i could help :)  i did break out that command and it was the glActiveTexture() that was crashing.  it never made it to the glClientActiveTexture() call. <br><br></td></tr></table><br>
<a name="678551"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JonasL</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#62">[#62]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great work! However, I can confirm that all test code that I tried on a Mac PPC G4, OSX 10.4.6, GeForce4 MX, crashes. Probably the same problem as others are reporting. Just wanted to report that it is also crashing on PPC Macs.<br><br>I can offer this much. The crash occurs in TMesh.Update() and from what I can see it is glActiveTexture() and/or glClientActiveTexture() that crashes, as was mentioned above.<br><br>Keep up the good work! <br><br></td></tr></table><br>
<a name="678621"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JonasL</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#63">[#63]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just in case this helps. I checked, my card has 2 texture units. I tested the offending commands in a C++ program. They do not crash. It might indicate that there is a problem with the BlitzMax GL wrapper for MacOS X. <br><br></td></tr></table><br>
<a name="678623"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vertex</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#64">[#64]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here a little help with picking(I haven't test it)...<br><br>CameraPick Camera, X, Y:<br>Firstly, you render the entitys with pickmode polygon without lighting, textures and so one - the pure geometry - from the camera.<br>Than you define the z value of the depthbuffer on x y:<br>Y = ViewportHeight - Y<br>Depth = glReadPixel(X, Y, 1, 1, GL_DEPTH_COMPONENT, GL_FLOAT)<br>Now you can use gluUnproject to get the 3d coords.<br><br>gluUnproject(Camera, X, Y, Depth, Modelview, Projection, Viewport, Varptr(PickedX), Varptr(PickedY), Varptr(PickedZ))<br><br>And the picked entity? Hmm... by rendering the entity, you can set the color of this to the handle(address) of it. With glReadPixel but with GL_RGBA you can get the picked color and so the picked address.<br><br>I don't know, how to calculate a ray from X Y of the specfied camera. In the middle of the cameraviewport there is the ray Cameraposition + t*Cameradirection by t=&gt;0. But you need this ray to get an intersection with spheres and cubes. Have anyone an idea to calculate the raystartposition by including X and Y?<br><br>Maybe LinePick I can programm for you.<br><br>cu olli <br><br></td></tr></table><br>
<a name="683094"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#65">[#65]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK, I'm stumped - does anyone know why glActiveTexture is failing on some systems? <br><br></td></tr></table><br>
<a name="683097"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Picklesworth</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#66">[#66]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just a quick question:<br>Can MiniB3d do pixel-perfect lighting?<br>The examples seem to be side by side comparisons with B3d, so I can't tell at first glance if there are any little goodies in here...<br><br>Regarding glActiveTexture failing, I can't help you, but [a http://www.google.ca/search?q=glActiveTexture+fail&amp;start=0&amp;ie=utf-8&amp;oe=utf-8&amp;client=firefox-a&amp;rls=org.mozilla:en-US:official]I made a quick search just to be sure...[/a]<br>My misguided guess tells me that it may be a combination of their OGL version and multitexturing? <br><br></td></tr></table><br>
<a name="683098"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Filax</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#67">[#67]</a></td></tr></table></td></tr><tr ><td class="posttext"> Really good job simonh !! :) <br><br></td></tr></table><br>
<a name="683107"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#68">[#68]</a></td></tr></table></td></tr><tr ><td class="posttext"> No, the lighting is the same as B3D's - vertex lighting.<br><br>I've already Googled glActiveTextures but nothing really comes up. This topic is near the top actually. <br><br></td></tr></table><br>
<a name="683119"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#69">[#69]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi simon.  could you whip up a minimal code example using that function?  it would be nice to get it down to the basics for testing. <br><br></td></tr></table><br>
<a name="683122"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JonasL</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#70">[#70]</a></td></tr></table></td></tr><tr ><td class="posttext"> NOTICE: This workaround is not needed anymore! See below...<br><br>I put this in a file "openglwrapper.c":<br><pre class=code>
#include &lt;OpenGL/gl.h&gt;

int ActiveTexture(GLenum texUnit) {
	glActiveTexture(texUnit);
}

int ClientActiveTexture(GLenum texUnit) {
	glClientActiveTexture(texUnit);
}
</pre><br>I then stuck this at the top of "MiniB3D.bmx"<br><pre class=code>
Import "openglwrapper.c"
Extern
	Function ActiveTexture(texUnit)
	Function ClientActiveTexture(texUnit)
End Extern
</pre><br>Finally I changed all occurences of glActiveTexture() and glClientActiveTexture() to call my wrapper:<br><pre class=code>
Select ix
	Case 0 ActiveTexture(GL_TEXTURE0); ClientActiveTexture(GL_TEXTURE0)
	Case 1 ActiveTexture(GL_TEXTURE1); ClientActiveTexture(GL_TEXTURE1)
	Case 2 ActiveTexture(GL_TEXTURE2); ClientActiveTexture(GL_TEXTURE2)
	Case 3 ActiveTexture(GL_TEXTURE3); ClientActiveTexture(GL_TEXTURE3)
	Case 4 ActiveTexture(GL_TEXTURE4); ClientActiveTexture(GL_TEXTURE4)
	Case 5 ActiveTexture(GL_TEXTURE5); ClientActiveTexture(GL_TEXTURE5)
	Case 6 ActiveTexture(GL_TEXTURE6); ClientActiveTexture(GL_TEXTURE6)
	Case 7 ActiveTexture(GL_TEXTURE7); ClientActiveTexture(GL_TEXTURE7)
End Select
</pre><br>The test code "test-anim.bmx" no longer crashes! This workaround seems to fix the crash, but I have not tested it carefully yet. Perhaps it helps anyway. Love Mini3D and will try to help out. We have experienced opengl programmers on our team, but I'm not one of them. Still learning. ;) <br><br></td></tr></table><br>
<a name="683187"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tom</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#71">[#71]</a></td></tr></table></td></tr><tr ><td class="posttext"> Never had a problem with glActiveTexture() or glClientActiveTexture().<br><br><br>Quick code tip? These 2 lines can replace the whole Select/End Select<br><br>glActiveTexture GL_TEXTURE0+ix<br>glClientActiveTexture GL_TEXTURE0+ix<br><br>Good work on this project, looks like a lot of effort has gone into it. <br><br></td></tr></table><br>
<a name="683261"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jay Kyburz</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#72">[#72]</a></td></tr></table></td></tr><tr ><td class="posttext"> How difficult would it be to add support for shaders. I would love to use this but really need normal maps and spec/spec masks.  Is per pixel lighting something you can just switch on with a few ogl calls? <br><br></td></tr></table><br>
<a name="683352"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jay Kyburz</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#73">[#73]</a></td></tr></table></td></tr><tr ><td class="posttext"> Also, any body know of a Mac 3d app that exports b3d meshes? <br><br></td></tr></table><br>
<a name="683438"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#74">[#74]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can the people who are getting crashes try this out please:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">width=640
height=480
depth=0
rate=60

GLGraphics(width,height,depth,rate,GRAPHICS_BACKBUFFER|GRAPHICS_DEPTHBUFFER)

glewInit

If GL_VERSION_1_1
	If GL_VERSION_1_2
		If GL_VERSION_1_3
			If GL_VERSION_1_4
				If GL_VERSION_1_5
					If GL_VERSION_2_0
						Print "GL 2.0"
					Else
						Print "GL 1.5"
					EndIf
				Else
					Print "GL 1.4"
				EndIf
			Else
				Print "GL 1.3"
			EndIf
		Else
			Print "GL 1.2"
		EndIf
	Else
		Print "GL 1.1"
	EndIf
Else
	Print "GL ?.?"
EndIf

If GL_ARB_multitexture
	Print "ARB_multitexture present!"
EndIf</textarea><br><br>I suspect that those with the crashes won't have the ARB multitexture extension present, and hence the last line won't print.<br><br>glActiveTexture was only added to the core of OpenGL in 1.3, and as Blitz uses OpenGL 1.1 (or 1.2, I forget), you have to use GlewInit in order to use the glActiveTexture extension.<br><br>Possibly some newer machines don't have this extension.<br><br>Thanks for the C test Jonas, at least that provides a workaround if all else fails!<br><br>Jay - support for shaders probably wouldn't be too difficult, it's not something I really intend to implement though. Sorry! <br><br></td></tr></table><br>
<a name="683443"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#75">[#75]</a></td></tr></table></td></tr><tr ><td class="posttext"> i get:<br><div class="quote"> <br>GL 1.2<br>ARB_multitexture present!<br> <br></div><br>this is an intel mac mini. <br><br></td></tr></table><br>
<a name="683446"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#76">[#76]</a></td></tr></table></td></tr><tr ><td class="posttext"> Only 1.2? I would have thought the new Mac Minis would be more up-to-date than that.<br><br>I get 2.0 here on Windows. <br><br></td></tr></table><br>
<a name="683447"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#77">[#77]</a></td></tr></table></td></tr><tr ><td class="posttext"> gman - what about if you change glActiveTexture to glActiveTextureARB - don't suppose that fixes it? <br><br></td></tr></table><br>
<a name="683448"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#78">[#78]</a></td></tr></table></td></tr><tr ><td class="posttext"> unfortunately no :(<br><br>EDIT: hold up.  i put my debug lines back in.  it is making it past those commands but crashing somewhere else.  ill see if i can find it.<br><br>EDIT2: success!  changing _all_ references (duh) of glActiveTexture and glClientActiveTexture to the ARB version fixed the issue.  it does have to be both glActiveTexture and glClientActiveTexture. <br><br></td></tr></table><br>
<a name="683460"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#79">[#79]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yay! Cheers gman :) <br><br></td></tr></table><br>
<a name="683466"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#80">[#80]</a></td></tr></table></td></tr><tr ><td class="posttext"> glad i could help (didnt do much).  i really want to see MiniB3D go all the way...  as im sure many here do.  <br><br>on a side note, UltimateGameProgramming.com has several different mesh loader examples available in its OpenGL section.  could be useful for anyone trying to expand MiniB3D with different mesh types. <br><br></td></tr></table><br>
<a name="683489"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JonasL</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#81">[#81]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is what I'm getting when running the test program:<br><pre class=code>
GL 1.1
ARB_multitexture present!
</pre><br>Replacing all functions with _ARB works on my machine as well.<br><br>Like gman I would really like to see an optimized MiniB3D as soon as possible, so just tell me if there is anything I can do to help out. Perhaps it should be a module with proper docs in the end? <br><br></td></tr></table><br>
<a name="683595"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jay Kyburz</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#82">[#82]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt;Jay - support for shaders probably wouldn't be too difficult, it's not something I really intend to implement though. Sorry! <br><br>Thats OK, If its easy I'm sure someone else will give it a crack one day. I'm going to focus on actually making a game for a while. <br><br>This is great work simonh. Cheers. <br><br></td></tr></table><br>
<a name="683676"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ozak</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#83">[#83]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep. Had the same problem with Java + GL.<br>Our program would fail on some systems due to us using non-ARB 2.0 core functions. So to be absolutely sure it works across all GL platforms, always use the ARB extension! Don't forget! <br><br></td></tr></table><br>
<a name="684142"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#84">[#84]</a></td></tr></table></td></tr><tr ><td class="posttext"> the implementation design is a bit rough but still this is neat...  at least IMO :)  one of my favorite features of Irrlicht are its animators.  animators are a way to encapsulate the control of entities via a type and let them control/handle themselves.  it also allows for good code reuse.  its kinda hard to grasp the full effect of what you can do with them.  without any modifications to MiniB3D, here is a simple animator type.  save this to a file called animator.bmx in the same directory as MiniB3D.bmx<br><pre class=code>
' animator.bmx
Type IEntityAnimator Extends TMesh
	Method Update()
		Local entity:TEntity=GetParent()
		If entity Then AnimateEntity(entity,MilliSecs()) Else DebugLog("IEntityAnimator: No Entity")
	EndMethod

	' called each update to animate an entity	
	Method AnimateEntity(entity:TEntity,timeMS:Int) Abstract
EndType
</pre><br>now for an implementation.  this is based on the MiniB3D test-alpha.bmx program.  save the following code into test-alpha_anim.bmx in the same directory as test-alpha.bmx<br><pre class=code>
Import "../MiniB3D.bmx"
Include "../animator.bmx"

Local width=640,height=480,depth=16,mode=0

Graphics3D width,height,depth,mode

Local cam=CreateCamera()
Local light=CreateLight()

Local ent1=CreateCube()

Local tex=LoadTexture("media/test.png")
EntityTexture ent1,tex

Local ent2=CopyEntity(ent1)
Local ent3=CopyEntity(ent1)
Local ent4=CopyEntity(ent1)
Local ent5=CopyEntity(ent1)
Local ent6=CopyEntity(ent1)

' -----------------------------
' add a controller to the cam.  this could just as easily
' be added to one of the cubes
' -----------------------------
TCameraController.EntityAddAnimator(cam,0)
' -----------------------------

' -----------------------------
' create simple rotation animators and add them to 
' ents 1-4
' -----------------------------
TSimpleRotateAnimator.EntityAddAnimator(ent1,.5)
TSimpleRotateAnimator.EntityAddAnimator(ent2,-.5)
TSimpleRotateAnimator.EntityAddAnimator(ent3,1)
TSimpleRotateAnimator.EntityAddAnimator(ent4,-1)
' -----------------------------

PositionEntity ent1,0,0,10
PositionEntity ent2,0,0,5
PositionEntity ent3,0,0,20
PositionEntity ent4,0,0,15
PositionEntity ent5,0,0,30
PositionEntity ent6,0,0,25

EntityAlpha ent2,0.5
EntityAlpha ent4,0.5

Local cx#=0
Local cy#=0
Local cz#=0

Local pitch#=0
Local yaw#=0
Local roll#=0

' used by fps code
Local old_ms=MilliSecs()
Local renders
Local fps

While Not KeyDown(KEY_ESCAPE)		

	If KeyHit(KEY_ENTER) Then DebugStop

	RenderWorld
	renders=renders+1
	
	' calculate fps
	If MilliSecs()-old_ms&gt;=1000
		old_ms=MilliSecs()
		fps=renders
		renders=0
	EndIf
	
	GLDrawText "FPS: "+String(fps),0,0

	Flip

Wend
End


' -----------------------------
' begin the animator types
' -----------------------------

' conrols a camera (or potentially any entity) via keyboard
' arrows UP/DOWN/LEFT/RIGHT and keys W/A/S/D
Type TCameraController Extends IEntityAnimator

	Field cx#=0
	Field cy#=0
	Field cz#=0

	Field pitch#=0
	Field yaw#=0
	Field roll#=0
		
	Method AnimateEntity(entity:TEntity,timeMS:Int)
		' control camera	
		If KeyDown(KEY_UP) Then cz#=cz#+1.0
		If KeyDown(KEY_LEFT) Then cx#=cx#-1.0
		If KeyDown(KEY_RIGHT) Then cx#=cx#+1.0
		If KeyDown(KEY_DOWN) Then cz#=cz#-1.0
		
		If KeyDown(KEY_W) Then pitch#=pitch#-1.0
		If KeyDown(KEY_A) Then yaw#=yaw#+1.0
		If KeyDown(KEY_S) Then pitch#=pitch#+1.0
		If KeyDown(KEY_D) Then yaw#=yaw#-1.0
	
		entity.MoveEntity(cx#*0.5,cy#*0.5,cz#*0.5)
		entity.RotateEntity(pitch#,yaw#,roll#)

		cx#=0
		cy#=0
		cz#=0
	EndMethod	
	
	Function EntityAddAnimator(entity:TEntity,order:Int=0)		
		Local anim:TCameraController=TCameraController.Create(entity)
		' set the order so the animator update is called before the update to the entity
		EntityOrder(anim,(999999-order)) 
	EndFunction
	
	Function create:TCameraController(parent_ent:TEntity)
		Local piv:TCameraController=New TCameraController
		piv.class$="TCameraController"
		
		piv.AddParent(parent_ent)
		piv.EntityListAdd(entity_list)
		' update matrix
		If piv.parent&lt;&gt;Null
			piv.mat.Overwrite(piv.parent.mat)
			piv.UpdateMat()
		Else
			piv.UpdateMat(True)
		EndIf
		Return piv
	EndFunction	
EndType

Type TSimpleRotateAnimator Extends IEntityAnimator

	Field rate:Float

	Method AnimateEntity(entity:TEntity,timeMS:Int)
		entity.TurnEntity(0,rate,0)
	EndMethod
	
	Function EntityAddAnimator(entity:TEntity,rate:Float,order:Int=0)		
		Local anim:TSimpleRotateAnimator=TSimpleRotateAnimator.Create(entity)
		anim.rate=rate
		' set the order so the animator update is called before the update to the entity
		EntityOrder(anim,(999999-order)) 
	EndFunction
	
	Function create:TSimpleRotateAnimator(parent_ent:TEntity)
		Local piv:TSimpleRotateAnimator=New TSimpleRotateAnimator
		piv.class$="TSimpleRotateAnimator"
		
		piv.AddParent(parent_ent)
		piv.EntityListAdd(entity_list)
		' update matrix
		If piv.parent&lt;&gt;Null
			piv.mat.Overwrite(piv.parent.mat)
			piv.UpdateMat()
		Else
			piv.UpdateMat(True)
		EndIf
		Return piv
	EndFunction
EndType

' -----------------------------
' -----------------------------
</pre><br>i have created two very simple animators.  one is a camera controller.  it shifts the key checking and manipulation based on input to the animator instead of the game loop.  one nice thing about using an animator for this, is instead of attaching the animator to a camera, you could just as easily attach it to a cube, or any entity for that matter and get the same control features.<br><br>the second animator is a simple rotation animator.  it turns an entity based on the passed in rate.  you can see i use instances of the same animator type with different rates for different cubes.<br><br>notice with animators there are no calls in the game loop.  the engine handles that because its already calling the Update() on the animators.<br><br>these are very simple animators but the uses are endless.  following cameras, circling entities, AI, waypointing.  in Irrlicht i have currently implemented a decal entity class.  i use an animator to continually place the decal under an entity to give sort of a selected RTS unit effect.  i just place the animator and forget about it.  cool stuff.<br><br>enjoy :)<br><br>EDIT: forgot to say another big THANK YOU to simonh.  MiniB3D is very cool.  another thing i realized the other day is that there are probably a ton of routines in the code archives that are usable with MiniB3D! <br><br></td></tr></table><br>
<a name="684149"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chris C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#85">[#85]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'd be very intrested to hear other peoples experience at optimising minib3d.<br><br>I've used the BirdDemo to experiment as it seems a simple "real world" example.<br><br>Unfortunatly I've not been able to give it much time, but I have discovered that actually drawing a mesh isnt the main bottle neck!<br><br>I've looked at using hires timers and its actually easier than you'd think (at least on win32), if anyone is activly working on optimising minib3d and would find this useful, pleas do contact me. <br><br></td></tr></table><br>
<a name="684160"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#86">[#86]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Chris - comment out the two calls to SetAnimTime and it cruises.  without looking deeper id say the problem is somewhere in there...  probably the AnimateMesh function.<br><br>EDIT: SetAnimTime is definately the culprit.  B3D it bounces between 0 and 2 millisecs per call, for MiniB3D it ranged between 13 and 21 millisecs.<br><br>EDIT2: a little more info...  it takes 1 or 2 millisecs per bone in the mesh.  there are 10 bones per bird. <br><br></td></tr></table><br>
<a name="684236"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#87">[#87]</a></td></tr></table></td></tr><tr ><td class="posttext"> V0.2 is out-of-date now, the current version V0.3 is quite a bit faster. I'll upload V0.3 shortly.<br><br>Thanks for the suggestions gman (post + email). Quite a lot to digest but I'll see what I can do :) <br><br></td></tr></table><br>
<a name="684273"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#88">[#88]</a></td></tr></table></td></tr><tr ><td class="posttext"> very much looking forward to the new version!  and you are very welcome.  have a few more ill send your way as well :) <br><br></td></tr></table><br>
<a name="684292"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Boiled Sweets</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#89">[#89]</a></td></tr></table></td></tr><tr ><td class="posttext"> I look forward to 0.3 :-) <br><br></td></tr></table><br>
<a name="684316"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IceVAN</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#90">[#90]</a></td></tr></table></td></tr><tr ><td class="posttext"> good job simonh! It's Great!<br>I like to see the next versions ;) <br><br></td></tr></table><br>
<a name="684318"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kev</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#91">[#91]</a></td></tr></table></td></tr><tr ><td class="posttext"> blitz3d command set for max how cool, looking foward to version 0.3 here also. <br><br>one thing though for the complete newbie to opengl what would be the best way to implement the collision commands. i would like to take a go at this any links / tutorials to set me in the right direction?<br><br>thanks again simonh for the hard work you put into this.<br><br>kev <br><br></td></tr></table><br>
<a name="684326"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#92">[#92]</a></td></tr></table></td></tr><tr ><td class="posttext"> Collision commands would not be particularly easy to add - you would need to try and integrate a 3rd party lib like Coldet or Opcode, or add your own intesection routines which you could Google for.<br><br>And that would be just for detecting collisions - acting upon them (i.e. sliding collisions) is another beast altogether.<br><br>Best bet is to just use Viper's ODE mod with this. <br><br></td></tr></table><br>
<a name="684425"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Haramanai</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#93">[#93]</a></td></tr></table></td></tr><tr ><td class="posttext"> For sliding you can make a search for : &lt; General collision detection for games using ellipsoids &gt; this will solve your character movement. I made a test for 2D and it's working great. <a href="http://www.blitzmax.com/Community/posts.php?topic=55799" target="_blank">http://www.blitzmax.com/Community/posts.php?topic=55799</a><br>It will be good to warn you that you will need to learn more things to make it usable. Like how to reduce the planes that you have to check for collision and much more. <br>I agree with simonh a good cross platform wrapper of coldet or Opcode or Bullet will be make your life easier ( but we don't have any ) <br><br></td></tr></table><br>
<a name="684429"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#94">[#94]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> General collision detection for games using ellipsoids <br></div><br>No, that doesn't work in 3D, at least not fully. Mark tried implementing it when B3D was still in beta (after I pointed him towards it), and he found out it had some flaws in it.<br><br>That's why the document is now listed as 'deprecated' on the www.fluidstudios.com site. <br><br></td></tr></table><br>
<a name="684434"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Haramanai</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#95">[#95]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just learned what means 'deprecated'...<br>I hope that someone will make a wrapper of any collision detection lib cause the field it's to hard and not funny at all. <br>By the way a win32 wrapper of coldet it's out there by Noel. <br><br></td></tr></table><br>
<a name="684608"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#96">[#96]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm having problems with MiniB3D on my laptop.  I get a "Unhandled Exception: Unhandled Memory Exception Error"<br><br>I tried the .c patch above, but can't seem to get it to compile on my system.  The test program above prints out <br>GL 1.1<br>ARB_multitexture present!<br><br>Laptop Specs are<br>Gateway MX3225; Intel Celeron M 370; Windows XP Home sp2; 256 MB DDR2; Video S3 Graphics UniCHrome Pro IGP; 64MB shared video ram; DirectX 9.0c <br><br></td></tr></table><br>
<a name="684618"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#97">[#97]</a></td></tr></table></td></tr><tr ><td class="posttext"> @TomToad - try changing all references of glActiveTexture and glClientActiveTexture in MiniB3D.bmx to glActiveTextureARB and glClientActiveTextureARB. <br><br></td></tr></table><br>
<a name="684645"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#98">[#98]</a></td></tr></table></td></tr><tr ><td class="posttext"> That worked.  Thanks gman. :) <br><br></td></tr></table><br>
<a name="686708"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JonasL</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#99">[#99]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm a bit of a BMX newbie so sorry for asking this question, but would the speed of MiniB3D significantly improve if it was written in C++ and wrapped into BMX?<br><br>Loading models at least with v 0.2 is too slow to be workable. The loader might benefit from being ported to C++. The downside is that many BMX users, that do not know C++, wouldn't be able to mod the source. <br><br></td></tr></table><br>
<a name="686720"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#100">[#100]</a></td></tr></table></td></tr><tr ><td class="posttext"> There might be a slight speed increase, but I'd doubt if it would be significantly large.  Most likely the slowdown comes from unoptomised code.  Did you see where he mentioned that he'll be releasing v0.3 soon which is supposed to be much faster?<br><div class="quote"> V0.2 is out-of-date now, the current version V0.3 is quite a bit faster. I'll upload V0.3 shortly.<br><br>Thanks for the suggestions gman (post + email). Quite a lot to digest but I'll see what I can do :) <br><br>Si.<br> <br></div> <br><br></td></tr></table><br>
<a name="686775"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#101">[#101]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not sure they'll be much of a speed increase in loading models in the new version. That's pretty much as fast as it can be.<br><br>With debug off it should be OK, with debug on unfortunately that's where you get the slow down. C++ would probably be faster. <br><br></td></tr></table><br>
<a name="686778"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Tiffany</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#102">[#102]</a></td></tr></table></td></tr><tr ><td class="posttext"> Si - I've not looked at this at all so apologies if you've already done this - you could amend all your functions / methods to use "NoDebug", this would improve matters for debug mode performance. <br><br></td></tr></table><br>
<a name="686797"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JonasL</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#103">[#103]</a></td></tr></table></td></tr><tr ><td class="posttext"> @TomToad: Yes, I noticed Simon's post. Thanks, anyhow, it is easy to miss in such a long thread.<br><br>@simonh: Thanks for the info. Turning debug off makes a lot of difference, but loading a dwarf warrior (medium complex model) still takes about 35 seconds (on my 1 GHz G4), so any optimization is welcome. ;) When v 0.3 is released I can take a look at loading.<br><br>Free dwarf model came from:<br><a href="http://www.psionic3d.co.uk" target="_blank">http://www.psionic3d.co.uk</a><br><br>I'm quite new to BMX, but I'm at least an intermediate level C/C++ programmer. It is my impression that wrapping in C/C++ code often  pays off. BMX has some overhead that can sometimes slow things down. <br><br></td></tr></table><br>
<a name="686810"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ozak</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#104">[#104]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wrapping C/C++ should not make it noticable faster. Loading the file into memory and parsing it there would give a major speedup.<br>Looking forward to v0.3 :) <br><br></td></tr></table><br>
<a name="686812"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chris C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#105">[#105]</a></td></tr></table></td></tr><tr ><td class="posttext"> I had a play with an opengl profiler, it looks like the gpu is only active 50% of the time, with vertial sync on, so I guess the cpu is holding things up with more calculations that actually needed.<br>I'm guessing that replacing non animated surfaces's with a call list, and animated mesh's with an arrays of surface call lists, would probably have the most noticable speed increase.<br>What do people think would be the best way to handle camera frustum culling?<br>Has anyone spotted places where matirx calculations could be cached between frames. <br><br></td></tr></table><br>
<a name="686822"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#106">[#106]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Si - I've not looked at this at all so apologies if you've already done this - you could amend all your functions / methods to use "NoDebug", this would improve matters for debug mode performance.  <br></div><br>I wasn't aware you could do that - thanks for the tip!<br><br><div class="quote"> Thanks for the info. Turning debug off makes a lot of difference, but loading a dwarf warrior (medium complex model) still takes about 35 seconds (on my 1 GHz G4), so any optimization is welcome. ;)  <br></div><br>35 seconds sounds like an insanely long time! Even with debug mode on, it takes 1 second at most here and I only have a 1.7Ghz CPU. Did you mean 3-5 seconds perhaps? (I hope!).<br><br><div class="quote"> Loading the file into memory and parsing it there would give a major speedup <br></div><br>It would? I'll have to try that, thanks.<br><br><div class="quote"> What do people think would be the best way to handle camera frustum culling <br></div><br>A camera culling system exists in 0.3, using bounding spheres. It works fairly well, although I really need to change it to bounding boxes (which is what B3D does). <br><br></td></tr></table><br>
<a name="686852"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JonasL</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#107">[#107]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> 35 seconds sounds like an insanely long time! Even with debug mode on, it takes 1 second at most here and I only have a 1.7Ghz CPU. Did you mean 3-5 seconds perhaps? (I hope!). <br></div><br>Nope, I clocked it using MilliSecs(). Using the "test-anim.bmx" code I loaded the "dwarf2.b3d" model from psionic3d. With debug build on it clocks in at 83 seconds and with debug turned off it clocks in at 36 seconds. That is why I'm whining about it. ;)<br><br>Started to port my game (Darkwynd) as a test, but launching takes such a long time that it is not possible to work with at the moment.<br><br><div class="quote"> Wrapping C/C++ should not make it noticable faster. <br></div><br>Not sure what you mean here! It is clear that just porting the code that reads from the file wouldn't help much. It is the processing of the model data that needs to be ported. Although, if BMX file functions actually doesn't read the whole file into memory, what you suggest might explain why it is so slow and fixing that might of course suffice. <br><br></td></tr></table><br>
<a name="686860"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#108">[#108]</a></td></tr></table></td></tr><tr ><td class="posttext"> There's no way it should be taking that long. Sounds like something is amiss somewhere. <br><br></td></tr></table><br>
<a name="686869"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jay Kyburz</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#109">[#109]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey All, This weekend i put together a simple shooter and ran into a strange problem in MiniB3D. <br><br>Very intermittently ( perhaps 1 in 100 times) when calling FreeEntity, the game would crash while attempting to access a null object. <br><br>I narrowed this down to the line that uses the link to remove the entity from the list of all entities. I fixed the crash by removing the object from the list rather than using the link. <br><br> For example, this works<br>TEntity.entity_list.Remove (Self.Mesh)<br><br>but this creates the intermittent crash <br>Self.Mesh.Link.Remove()<br><br>Does anybody know the difference between the two?<br><br>It is possible that I'm calling this twice on an object, would Link.Remove crash but List.Remove work if the object was already removed from the list? <br><br></td></tr></table><br>
<a name="686913"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Michael Reitzenstein</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#110">[#110]</a></td></tr></table></td></tr><tr ><td class="posttext"> Really looking forward to 0.3, I'm using this as a temporary (or maybe not) engine for my next game.<br><br>Jay - Yes, List.Remove doesn't give an error if the object isn't found on the list, but Link.Remove will probably crash if called twice in a row. <br><br></td></tr></table><br>
<a name="686927"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#111">[#111]</a></td></tr></table></td></tr><tr ><td class="posttext"> This type of error sounds like list.reverse was used somewhere. BMs original implementation of list.reverse does not keep the links alive.<br>This problem was spotted by Sswift long ago and I provided a "link stable" version of reverse that solves the problem.<br><br>And List.remove will always work. But it just won't do anything beside looping through the list till it realizes that the object isn't there.<br>With link.remove it tries to remove one specific instance which must be there to be removed. <br><br></td></tr></table><br>
<a name="686981"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jay Kyburz</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#112">[#112]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the notes guys.<br><br>I was doing some more profiling of my game to work out what was so slow and discovered that even PositionEntity is taking about half a millisecond per call on test cubes. In my shooter with roughly 40 objects moving each frame, the entity update was taking about 20 ms where as the render call was only around 5. <br><br></td></tr></table><br>
<a name="687040"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#113">[#113]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes the main bottleneck is the matrix commands in 0.2, which means all the movement commands are slow.<br><br>list.reverse isn't used anywhere, the link error is down to an error in the MiniB3D code (now fixed). <br><br></td></tr></table><br>
<a name="687053"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JonasL</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#114">[#114]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> There's no way it should be taking that long. Sounds like something is amiss somewhere. <br></div><br>I clocked it on my WinXP machine (1.8 GHz) as well. It takes 10 seconds to load with debug off. There is a lot of animations in this model. Perhaps that is what takes time to parse.<br><br>I get about 60 FPS though, dispite having just a crappy Mobile Intel graphics card. <br><br></td></tr></table><br>
<a name="687521"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#115">[#115]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="/posts.php?topic=61515" target="_blank">Thread 2</a> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
