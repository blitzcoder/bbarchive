<!DOCTYPE html><html lang="en" ><head ><title >[Solved] OpenB3D GLSL shader input and uniforms</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >[Solved] OpenB3D GLSL shader input and uniforms</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=119" >MiniB3D Module</a>/<a href="#bottom" >[Solved] OpenB3D GLSL shader input and uniforms</a><br><br>
<a name="1303405"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, I think I'm going to take a crack at learning some basic shader stuff so what I would like to know if the uniforms are the same as standard GLSL stuff or it is slightly different like the underscores and first letter caps.<br><br>Is this the correct guide for the latest OpenB3D version? <a href="http://mew.cx/glsl_quickref.pdf" target="_blank">http://mew.cx/glsl_quickref.pdf</a><br><br>what I would like to know are common variables like lightdirection, lightcolor, screensize, etc. The normal and depth buffer I sort of got it with the examples given but I need confirmation if that's all in there.<br><br>thanks. <br><br></td></tr></table><br>
<a name="1303438"></a>

<a name="1303439"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> That quickref guide is the right version for the shaders in the wrapper, I made my shaders conform to GLSL 1.10 which is GL 2.0 (which is on a lot of older Macbooks) so it will work in GL 2.1 as well. I don't put a version number in but just now I read this is better practice as it tells the GPU what to do. I haven't tested on GL 3.x but I'm sure the shaders will need updated to work. I'll need to get a new laptop to do that. <br><br>The main differences between 110 and 120 is you can't set global variables to a value you have to do that outside, and arrays aren't supported but I found a workaround for that in bumpmap3.frag with the struct FloatArray.<br><br>Currently attribute variables are not supported by Openb3d, the SetParameter functions are there but commented, I don't know why they're not added. You can use the built in attributes to do most things like gl_Normal so you're not stuck, attributes are per vertex and only set in the vertex shader.<br><br><div class="quote"> if the uniforms are the same as standard GLSL stuff or it is slightly different <br></div><br>I'm not really following you there but uniforms are variables you call them what you want and set them outside the shader, variables can start with an _ but not a number.<br><br>Most common variables are built in like gl_LightSource[n].position gives you position but not direction, color is in the same struct with names ambient/diffuse/specular, screen size is passed as a uniform - you need to calculate most things yourself with shaders.<br><br>I have a list of links which I'll post. The orange book is the GL 2.0 shaders book, the red book is GL 1.1 and blue book is GL 2.0.<br><br>GLSL tutorials and demos<br><a href="https://www.opengl.org/sdk/docs/tutorials/" target="_blank">https://www.opengl.org/sdk/docs/tutorials/</a><br><a href="http://www.lighthouse3d.com/tutorials/" target="_blank">http://www.lighthouse3d.com/tutorials/</a><br><a href="http://www.clockworkcoders.com/oglsl/tutorials.html" target="_blank">http://www.clockworkcoders.com/oglsl/tutorials.html</a><br><a href="http://www.real3dtutorials.com/index.php" target="_blank">http://www.real3dtutorials.com/index.php</a><br><a href="http://www.ozone3d.net/tutorials/glsl_texturing.php" target="_blank">http://www.ozone3d.net/tutorials/glsl_texturing.php</a><br><a href="http://encelo.netsons.org/programming/opengl/" target="_blank">http://encelo.netsons.org/programming/opengl/</a><br><a href="http://www.eng.utah.edu/~cs5600/slides/GLSL-ATI-Intro.pdf" target="_blank">http://www.eng.utah.edu/~cs5600/slides/GLSL-ATI-Intro.pdf</a><br><br>OpenGL docs<br><a href="http://wiki.labomedia.org/images/1/10/Orange_Book_-_OpenGL_Shading_Language_2nd_Edition.pdf" target="_blank">http://wiki.labomedia.org/images/1/10/Orange_Book_-_OpenGL_Shading_Language_2nd_Edition.pdf</a><br><a href="http://www.glprogramming.com/red/" target="_blank">http://www.glprogramming.com/red/</a><br><a href="http://www.glprogramming.com/blue/" target="_blank">http://www.glprogramming.com/blue/</a><br><a href="https://www.opengl.org/sdk/docs/man2/" target="_blank">https://www.opengl.org/sdk/docs/man2/</a><br><a href="http://www.shaderific.com/glsl-functions/" target="_blank">http://www.shaderific.com/glsl-functions/</a> <br><br></td></tr></table><br>
<a name="1303523"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you for the links and details munch! very informative. Let's say I need to get a directional light position from bmx code to shader input, do I use this?<br><br>gl_LightSource[0].position <br><br></td></tr></table><br>
<a name="1303611"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> For light direction there's a good example in bumpmap2.frag, for directional light it is<br><pre class=code>lightDirection = normalize(vec3(gl_LightSource[i].position));</pre><br>and point/spot light is<br><pre class=code>vec3 positionToLightSource = vec3(gl_LightSource[i].position - position);
lightDirection = normalize(positionToLightSource);</pre><br>where position is a varying vec4 (varyings are for sharing data between vert and frag) defined in the vert as (which is vertex world position)<br><pre class=code>position = gl_ModelViewMatrix * gl_Vertex;</pre> <br><br></td></tr></table><br>
<a name="1303622"></a>

<a name="1303623"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks got it now! :D <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
