<!DOCTYPE html><html lang="en" ><head ><title >Any way to get a mirror reflection?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Any way to get a mirror reflection?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=119" >MiniB3D Module</a>/<a href="#bottom" >Any way to get a mirror reflection?</a><br><br>
<a name="1085340"></a>

<a name="1085343"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ICECAP</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey guys, just started using minib3d, looking good so far.  Just wondering if there is any way to create the Mirror that you can create in b3d.<br>I would use cube mapping, but holy hell does it slow down things.<br>So if anyone can offer a solution, I would be very pleased to hear it.<br><br>I thought maybe the extended version might be able to do it with shadars, but I have been unable to get it working.  Plus I wasnt sure it was able to be compiled on mac and linx.<br>Downloaded it from the wiki but every time I try building it, it just complains about not being able to include maxgui (which i have).<br><br>So if anyone can help me with either of these i guess, much bowing to superiority will be done.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1085344"></a>

<a name="1085345"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ICECAP</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Idiot issue - double posted<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1085361"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Extended is quite out of date at this point, and may be officially abandoned as it was undergoing a full re-write at it's last activity... It does however work on mac and linux. As far as your compile issues, you can modify extended to compile without maxgui (I used to use it before I had maxgui quite some time ago) which may get you going. Not sure why it complains about a lack of maxgui if you have it installed... What OS are you building under? Linux has case sensitivity issues with module names... <br><br></td></tr></table><br>
<a name="1085374"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SLotman</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can try to grab the scene render and use it as a texture (with 'BackBufferToTex'), which is slow - or you could do the blitz3d 'mirror': just mirror every entity in the level/area. It will double your geometry, but it will be fast. <br><br></td></tr></table><br>
<a name="1085378"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Doubling the geometry and scaling negatively along the mirror's orientation is the way the N64 used for making mirrors for games (Banjo-Tooie comes to mind, as well as <a href="http://www.youtube.com/watch?v=jWzlAtoRLAQ&amp;feature=watch_response_rev" target="_blank">a glitch associated with this</a>). <br>Although those mirrors were scarce (I think there was only one in the entire game), they did double the geometry instead of using render-targets.<br><br>You won't even have much extra geometry if your mirror is in a closed room with a few objects.<br>But using a render-target is much easier: place camera at the mirror's pivot, render to a texture (this is different than rendering to the backbuffer and copying it; you would have to use an OpenGL FrameBuffer object), and then update the mirror with this texture.<br>Choose the trade-off.<br><br>PS: <a href="http://www.gamedev.net/page/resources/_//feature/fprogramming/opengl-frame-buffer-object-101-r2331" target="_blank">OpenGL FrameBuffer 101</a>; <a href="http://www.gamedev.net/page/resources/_/reference/programming/opengl/opengl-frame-buffer-object-201-r2333" target="_blank">OpenGL FrameBuffer 201</a> <br><br></td></tr></table><br>
<a name="1085393"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Interesting techniques.<br><br>Full-mesh reflection is slow-- better with higher versions of GL and FBO-- but I suppose you could also render smaller viewports and BackBufferToTex with smaller target cubemap sizes as well (64x64).... if you really needed to. <br><br></td></tr></table><br>
<a name="1085394"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Good point; and using a smaller resolution texture would also get you a somewhat blurry image, so it might give a nicer look for free if that's what you're after (an oiled, dirty mirror). <br><br></td></tr></table><br>
<a name="1085429"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ICECAP</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey guys, thanks for the suggestions.<br>I'm going to keep away from using the cube mapping method, because it does slow down the performance alot, and i'm after the more casual gamer who might not have the most up to date and fast pc.<br>I wanted the feature basically to create a very shiny floor tile.  I found shinyness isnt really that at all, its just adding specular of a perticular size.<br>So I guess I'll give the geometry doubling a go (but i'm not too keen on that option either, as it seems a huge overhead for such a small effect).<br><br>@Kryzon, would using OpenGLs FrameBuffer be a much faster or slower than the doubling of the geometry?  I take it, its faster than using the backbuffer? <br><br></td></tr></table><br>
<a name="1085433"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Using a framebuffer with an attached texture would be the official 'render-to-texture' we see a lot around. <br>It is definitely faster than grabbing from the backbuffer (the backbuffer being a kind of framebuffer itself) by using a CopyRect() or BackBufferToTex() in the case of miniB3D.<br><br>Reading a bit more now, that N64 case they had to double the geometry because that's the only way they could do to achieve reflection in that platform. <br>With OpenGL you don't need to double the geometry - you re-render it twice but with different view-points, and using the stencil buffer to crop the reflection to the mirror's area. This is known as Stencil Reflection; it's a multipass technique.<br><br><a href="http://www.opengl.org/resources/code/samples/mjktips/Reflect.html" target="_blank">http://www.opengl.org/resources/code/samples/mjktips/Reflect.html</a><br><a href="http://jerome.jouvie.free.fr/opengl-tutorials/Tutorial23.php" target="_blank">http://jerome.jouvie.free.fr/opengl-tutorials/Tutorial23.php</a><br><a href="http://librairie.immateriel.fr/fr/read_book/9780596804824/ch06s06#" target="_blank">http://librairie.immateriel.fr/fr/read_book/9780596804824/ch06s06#</a><br><a href="http://www.videotutorialsrock.com/opengl_tutorial/reflections/text.php" target="_blank">http://www.videotutorialsrock.com/opengl_tutorial/reflections/text.php</a><br><br>This might be an easier way to go without having to deal with FrameBuffers, and let's face it, it's freaking awesome. <br><br></td></tr></table><br>
<a name="1085459"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ICECAP</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thats awesome Kryzon, I'm gonna have to take a serious look at that method.<br><br>Thanks for all your help! :D <br><br></td></tr></table><br>
<a name="1086481"></a>

<a name="1086482"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SLotman</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> That stencil mirror still doubles the geometry (you have to render them twice, first with scale y*-1, then with normal scale). <br><br>The only difference is that you can define an area to clip the objects. <br><br>Still, if your camera drops below that area, or any object transverses the mirror - the effect is still ruined. (And yeah, I just implemented a test case here and saw it working... not much different from B3D mirror)<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1086513"></a>

<a name="1086514"></a>

<a name="1086516"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SLotman</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ouch! Even worst: apparently some Intel cards (just tested on a GMA 950) have no stencil buffer... so the objects appears below the mirror :(<br><br>Does anyone knows how to test a card for stencil buffer support???<br><br>Edit: nevermind, adding |GRAPHICS_STENCILBUFFER on graphics initialization solved the problem on the intel video.<br><br>Edit2: a small test below<br><img src="http://img.photobucket.com/albums/v431/SLotman/temp/stencil.png"><br><br>Please, whoever can, try it and see if it works on your card: <a href="http://www.icongames.com.br/temp/mirror.zip" target="_blank">http://www.icongames.com.br/temp/mirror.zip</a><br><br>This could be a simple implementation of CreateMirror() for miniB3D. (Only caveat so far, you can only have 1 mirror on screen)<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1086526"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warner</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> On my laptop, it doesn't show the mirror. The underground flickers a bit, but not constantly. I have an onboard SiS Mirage 3. It is a horrifying bad videocard. <br><br></td></tr></table><br>
<a name="1086536"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SLotman</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://www.notebookcheck.net/SIS-Mirage-3-671MX.20162.0.html" target="_blank">Is this your card?</a><br><br>And how it doesn't show 'the mirror'? <br>It doesn't show the objects reflected, or the mirror 'plane' itself?<br><br>(The mirror is just a cube with alpha...if stencil fails, it should just show the objects below the mirror area, no flicker)<br><br>If that is indeed your card, I wouldn't worry too much about it... that review itself says: "Not usable for 3D games", so... :P <br><br></td></tr></table><br>
<a name="1086537"></a>

<a name="1086538"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SLotman</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Anyway, here's the code I wrote:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
SuperStrict

Import sidesign.minib3d
Graphics3D 800,600,0,2
Global camera:TCamera=CreateCamera()
CameraZoom Camera, 1.0 / Tan(45.0/2.0)

THardwareInfo.displayinfo()

AmbientLight 128,128,128

Local light:TLight=CreateLight()
LightColor light, 128,128,128

Local cone:TMesh=CreateCone(32)
MoveEntity cone, 0, 1.05, 0
EntityColor cone, 0,200,200

Local cube:TMesh=CreateCube()
MoveEntity cube, 4, 1.1, 0
EntityColor cube, 200,0,0

Local sphere:TMesh=CreateSphere(32)
MoveEntity sphere, -3.5, 1.1, 0
EntityColor sphere, 200,200,64

Local mirror:TMesh = TMirror.createMirror(False,True)
ScaleEntity mirror, 6,0.01,6
EntityColor mirror, 0,0,255
EntityAlpha mirror, 0.5

MoveEntity cube, 0, 0.02, 0
MoveEntity light, 0, 100, 0

Global p:TPivot=CreatePivot()
Global angle#=0

While Not KeyHit(KEY_ESCAPE)
	UpdateWorld 

	TMirror.renderMirror(camera)
	
	' render everything normal now
	RenderWorld
	
	Flip
	Delay 1
	
	TurnEntity cube, 0, 0.75, 0
	TurnEntity cone, 0, 0.75, 0
	TurnEntity sphere, 0, 0.75, 0

	'PositionEntity cone, 0, Cos(angle)*2, 0
	PositionEntity camera, Cos(angle)*20, 4*Cos(angle*2), Sin(angle)*20
	PointEntity camera, p
	angle:+0.5
		
Wend


Type TMirror
	Global hidden_geometry_list:TList=CreateList()
	Global mirror:TMesh
	Global showMesh%

	Function createMirror:TMesh(infinite%=False, show_Mesh%=False)
	       mirror=CreateCube()
	    showMesh = show_Mesh
		Return mirror
	End Function

	Function hideMeshes()
		ClearList hidden_geometry_list
		For Local fmesh:TMesh=EachIn TEntity.entity_list
			If fmesh&lt;&gt;mirror And fmesh.parent=Null And fmesh.brush.alpha&gt;0 And fmesh.hidden()=False Then 
			   HideEntity fmesh
			   ListAddLast hidden_geometry_list, fmesh
			End If
		Next
		ShowEntity mirror
	End Function
	
	Function showMeshes()
		For Local fmesh:TMesh=EachIn hidden_geometry_list
			ShowEntity fmesh
		Next
	    HideEntity mirror
	End Function
	
	Function flipMeshes(sign%=1)
		' flip every light
		For Local llight:TLight=EachIn TLight.light_list
		     PositionEntity llight,llight.px, -llight.py, llight.pz, True
	  	     ScaleEntity llight, llight.sx, -llight.sy, llight.sz, True
		Next
	
		' flip every mesh
		For Local fmesh:TMesh=EachIn TEntity.entity_list
	      If fmesh.parent=Null Then
		     PositionEntity fmesh, fmesh.px, -fmesh.py+(sign*mirror.py), fmesh.pz
	   	     ScaleEntity fmesh, -fmesh.sx, -fmesh.sy, fmesh.sz
	      End If
		Next
	End Function
	
	Function renderMirror(cam:TCamera)
		CameraClsMode cam,True,True

		If EntityY(camera)&lt;mirror.py Then Return		
	
		' prepare to use the stencil buffer
		glClear(GL_ACCUM_BUFFER_BIT|GL_DEPTH_BUFFER_BIT|GL_COLOR_BUFFER_BIT|GL_STENCIL_BUFFER_BIT)
	    glDisable(GL_DEPTH_TEST)
	    glColorMask(GL_FALSE, GL_FALSE, GL_FALSE, GL_FALSE)
	
	    ' Draw into the stencil buffer.
	    glEnable(GL_STENCIL_TEST)
	    glStencilOp(GL_REPLACE, GL_REPLACE, GL_REPLACE)
	    glStencilFunc(GL_ALWAYS, 1, $ffffffff)
	
		' draw only the mirror (the actual 'mask' where objects will be drawn)
		hideMeshes()
			
	    RenderWorld
	
	    glColorMask(GL_TRUE, GL_TRUE, GL_TRUE, GL_TRUE);
	    glEnable(GL_DEPTH_TEST);
	
	    ' Now, only render where stencil is set To 1
	    glStencilFunc(GL_EQUAL, 1, $ffffffff)	' draw If stencil ==1 
	    glStencilOp(GL_KEEP, GL_KEEP, GL_KEEP)
	
	    ' draw everything but the plane
		showMeshes()
	
		' invert mesh and light position, to appear reflected
		flipMeshes(1)
		
		RenderWorld
			
		' okay! everything done!
	    glDisable(GL_STENCIL_TEST);
			
		' shows plane, and re-render everything normally
		CameraClsMode cam,False, False
		If showMesh Then ShowEntity mirror Else HideEntity mirror
		flipMeshes(-1)
	End Function
End Type

</textarea><br><br>Note that I put a small check: if the camera is below the plane, it won't render the reflection, improving the effect a little bit :)<br><br>If you want to see it ruined, just uncomment the line that moves the cone up and down to see the problem...<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1086543"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warner</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> It does look like my card. But it supports DX9, so it might be a 3+. I never use it for gaming other than a NES emulator and some small games. However, I have no trouble running miniB3D.<br>It does show the plane, just not the reflected objects. So the fallback mode works. <br><br></td></tr></table><br>
<a name="1086579"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was thinking instead of re-positioning lights, meshes and other entities, to act on the camera instead: scale the camera in the negative vector of the orientation of the mirror. Then the scene will be flipped indirectly without having to re-position entities.<br><br>From what I tested, if only one axis is negatively scaled all meshes seemed to get flipped. But that is easy to fix. <br><br></td></tr></table><br>
<a name="1086603"></a>

<a name="1086605"></a>

<a name="1086606"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SLotman</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just found one nasty bug in mini-b3d with this... just set the red cube alpha to 0.5, to see it display (or not) completely wrong while the camera rotates around...<br><br>Edit: fixed! On TGlobal.bmx, in RenderCamera function just change this - see the commented line and what I added:<br><br>Edit2: not fixed... my idea breaks blitzsky :(<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1086609"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> I found a few bugs with alpha sorting, not sure if it would help this situation.<br><a href="http://www.blitzbasic.com/Community/posts.php?topic=88252" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=88252</a> <br><br></td></tr></table><br>
<a name="1086624"></a>

<a name="1086625"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SLotman</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> No it won't... tested it too and it also breaks blitzsky. <br><br><a href="http://www.opengl.org/wiki/Transparency_Sorting" target="_blank">Reading on</a> <a href="http://vrmlengine.sourceforge.net/vrml_engine_doc/output/xsl/html/section.scene_gl.html#section.material_transparency_by_gl_blending" target="_blank"> the subject</a>, there isn't much that can be done besides what is already there :(<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1086631"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Pretty cool. I'm sure this can find a usable home despite it's limitations. Great work, thanks! <br><br></td></tr></table><br>
<a name="1086654"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> The depth sorting problem is present even in the original Blitz3D. <br>Run this (in Blitz3D):<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Graphics3D 800,600,0,2
Global camera=CreateCamera()
CameraZoom Camera, 1.0 / Tan(45.0/2.0)

AmbientLight 128,128,128

Local light=CreateLight()
LightColor light, 128,128,128

Local cone=CreateCone(32)
MoveEntity cone, 0, 1.05, 0
EntityColor cone, 0,200,200

Local cube=CreateCube()
MoveEntity cube, 4, 1.1, 0
EntityColor cube, 200,0,0

Local sphere=CreateSphere(32)
MoveEntity sphere, -3.5, 1.1, 0
EntityColor sphere, 200,200,64
EntityAlpha sphere,0.5

Local mirror = CreateMirror()
Local plane = CreatePlane()
EntityColor plane,0,0,255
EntityAlpha plane,0.4

MoveEntity cube, 0, 0.02, 0
MoveEntity light, 0, 100, 0

Global p=CreatePivot()
Global angle#=0

While Not KeyHit(1)
	UpdateWorld() 

	RenderWorld()
	
	Flip
	Delay 1
	
	TurnEntity cube, 0, 0.75, 0
	TurnEntity cone, 0, 0.75, 0
	TurnEntity sphere, 0, 0.75, 0

	PositionEntity camera, Cos(angle)*20, 5, Sin(angle)*20 ;4*Cos(angle*2)
	PointEntity camera, p
	angle = angle+0.5		
Wend
</textarea> <br><br></td></tr></table><br>
<a name="1086721"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SLotman</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> I know - it's even worst on Blitz3D!<br><br>MiniB3D makes it a little better by sorting geometry by their positions - so for example multiple planes with alpha renders correctly, while on Blitz3D they don't. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
