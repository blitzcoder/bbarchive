<!DOCTYPE html><html lang="en" ><head ><title >Entity exists?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Entity exists?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=119" >MiniB3D Module</a>/<a href="#bottom" >Entity exists?</a><br><br>
<a name="770624"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there any way to tell if an entity exists? When you free an entity it doesn't null it's pointer, according to the documentation. I assume that's because you can have numerous pointers to the same entity, which makes sense, but raises the problem that if you free an entity, and you access it from multiple points, how can you tell that you can no longer access it? as trying to access a freed entity causes the program to crash... <br><br></td></tr></table><br>
<a name="770637"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, generaly you should know if the entity is still being used. There was quite a long theard by either Gab or GFK, about being able to find out how many referances an object still had, and flame gave a "Hack" that allowed you to find out.<br>But I think the basic rule came down to<br>1) Count the refences yourself.<br>2) It shouldnt matter. (But there was quite a split about this, and I for one changed my mind hlafway though it. Either search for the thread, or hopfully someone who remembers it will post a link) <br><br></td></tr></table><br>
<a name="770641"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Will do. I agree that keeping track of it yourself is probably the best idea however it relates to the sound module I've been working on. When someone free's an entity it would be nice if the sound module could find out if the entity is gone and stop the sounds it's playing without the user having to stop the sounds before freeing the entity. Since I use the entity to figure out the positional stuff for the sound, if I try to update a sound attached to a freed entity it crashes the program. Good coding can prevent it, but I, being an idiot, like things to be more idiot proof if possible :0)<br><br>I haven't played around with hooks before but I think I could hook the freeentity command to also stop the sounds... but that adds code to every call to freeentity, and I only need to stop sounds if the entity is playing them... which my current system can handle in it's update routine just fine, if it could find out if the entity exists or not...<br><br>I'll dig around on the forums some more. <br><br></td></tr></table><br>
<a name="770645"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> It was Gabriel, dont know how relevent it is. And the Hack was by Dream<br><br><a href="http://www.blitzmax.com/Community/posts.php?topic=62724#705151" target="_blank">http://www.blitzmax.com/Community/posts.php?topic=62724#705151</a> <br><br></td></tr></table><br>
<a name="770659"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the link.<br><br>I think what I want is actualy simpler than the topic of the thread, unless I'm not understanding it properly.<br><br>For my purposes I don't care how many references to an entity there are. I just need to know if the entity exists or not. By my understanding if I creat a sphere, and then create another handle to that sphere, I have 2 references to the same object. if I call FreeEntity() on either handle it will remove the sphere, but I will have 2 handles pointing to some random spot in memory where the sphere used to be. What I need to be able to do is find out, through either of those handles, if the sphere itself has been freed or not... <br><br>untested example would look something like this.<br><br><pre class=code>
mySphere = CreateSphere(8) ' make a sphere
anotherWayToLookAtMySphere = mySphere ' get an extra handle to the sphere

FreeEntity(mySphere) ' kills the sphere in the 3D world

' if I try to MoveEntity(mySphere) or MoveEntity(anotherWayToLookAtMySphere) the program will crash because the sphere entity no longer exists... 
</pre> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
