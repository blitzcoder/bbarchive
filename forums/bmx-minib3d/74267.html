<!DOCTYPE html><html lang="en" ><head ><title >Problem with mesh</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Problem with mesh</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=119" >MiniB3D Module</a>/<a href="#bottom" >Problem with mesh</a><br><br>
<a name="829454"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >siread</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I friend of mine is creating football stadiums in SketchUp and exporting them as 3ds. I convert them to b3d with Unwrap, but when I put them into the game  this happens...<br><br><img src="http://download.newstargames.com/misc/miniStad.jpg"><br><br>The fence should be behind the stand. However, if I use the Blitz3D SDK with Max it appears fine...<br><br><img src="http://download.newstargames.com/misc/bbStad.jpg"><br><br>How can I fix this? <br><br></td></tr></table><br>
<a name="829466"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >siread</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've also tried the SketchUp to B3D exporter but it's still the same. <br><br>Also, if I remove the textures the models appear fine in miniB3D. <br><br></td></tr></table><br>
<a name="829467"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> hmm, seems to be some z-order problem.<br>Maybe you're able to send me the mesh with some sample code to <br>(BenniRoessig add gmx dot de). I will delete the mesh as soon as I hopefully have fixed the problem and I will not use/publish the mesh in some other way.<br>does the mesh use alpha textures?<br><br>cheers klepto2 <br><br></td></tr></table><br>
<a name="829508"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah my guess is that the textures use alpha is some way. Feel free to throw the model this way - si@... <br><br></td></tr></table><br>
<a name="829536"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >siread</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Aha! Yes, the seats were pngs with alpha. I swapped them out for jpegs and it works fine. Cheers guys. :D <br><br></td></tr></table><br>
<a name="829537"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >siread</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Incidentally, what would you suggest for displaying a crowd. I'm not looking for realism or detailed animation, just something simple but effective if poss. <br><br></td></tr></table><br>
<a name="829554"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe some masked sprites with an animated texture on it.<br>Also maybe you have to glue some together for minimizing the data flow to the graphicscard. Some kind of single-surface system with precalculated z-order could make it. Or manage the <br>sprites with a simple octree or the like. <br><br>At least you have to try to reach a minimum of data flow, eg take the FIFA series, the whole game will run suitable with low detailed or no crowd, but if you change it to high crowd the older computers have trouble with the performance. <br><br>A small idea, create sectors (maybe out of cubes and parent the sprites to them(the cubes alpha should 0.0. Then you could test if the cubes are in the Viewfrustum. If yes then show all sprites, if not hide them. <br><br></td></tr></table><br>
<a name="829611"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wayne</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm thinking animated masked texture as well. Gimp does a great job creating masked textures. <br><br></td></tr></table><br>
<a name="829731"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >siread</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, I have some (very rough) animated textures that disappear when the camera is too far away. The sprites are parented to a flat mesh, as klepto suggests. <br><br><img src="http://www.newstarsoccer.com/download/misc/Crowd3.jpg"><br><br>Couple of questions:<br><br>1. If the parent mesh is not drawn because it is out of view, do the sprites still get drawn off screen? From what you said Klepto, it seems I have to hide them manually, right? <br><br>2. How can I place my fan block on the stadium? There will be different stadiums of various sizes, so I need to somehow find the seating surface and attach my fans to them on the appropriate incline. <br><br>Any pointers muchly appreciated. :) <br><br></td></tr></table><br>
<a name="829734"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >siread</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is my fan code so far.<br><br><a href="http://www.newstarsoccer.com/download/misc/Fans.zip" target="_blank">http://www.newstarsoccer.com/download/misc/Fans.zip</a> <br><br></td></tr></table><br>
<a name="829765"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> That many separate sprites will be way too slow. You need to group lots of vertices together for faster rendering.<br><br>You can try your hand at a singe surface system, or create a long quad for each row, with a scaled, repeating crowd texture applied to it.<br><br>When it comes to culling, the parent-child relationship is not taken into consideration. Each entity is checked individualy.<br><br>What klepto suggested is doing an EntityInvIew check yourself on the box, and if it's not in view, hide it. Then the child sprites will automatically be hidden and not checked for culling.<br><br>As for placing your fan block, there's probably no easy way to automatically make it perfectly fit all your stadiums - you may have to do it manually via trial and error. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
