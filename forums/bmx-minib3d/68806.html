<!DOCTYPE html><html lang="en" ><head ><title >Nice geometry code</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Nice geometry code</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=119" >MiniB3D Module</a>/<a href="#bottom" >Nice geometry code</a><br><br>
<a name="768988"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have been looking at the matrix and transformation code in this.  It's really well done.  I did not realize that Blitz3D created a global matrix every time an entity changed.  That is quite a bit easier to work with than storing the local matrix and rendering entities in hierarchies of pushed and popped matrices.<br><br>I have a little experimental mod running, using MiniB3d's transformation code, and the rest is code ripped from my engine.  The Blitz3D entity system is its greatest strength, but I prefer my own terrain, lighting, and materials setup.  I also use special BSP brush geometry for the world, instead of triangle meshes.<br><br>I think collision and raycasting should be handled exclusively by third-party libraries.  Even with an mesh octree, Newton is much faster than Blitz3D, and it allows things like returning an array of triangles within a bounding box, which is how I render fast dynamic shadows.<br><br>The convenience of the Blitz3D API is what makes it a great system.  It just needs a technology boost, like shaders, instanced meshes, and better lighting.<br><br>We'll see what happens... <br><br></td></tr></table><br>
<a name="769025"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >*</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I do agree with those additions Blitz3d would hold its own against everything coming at it today. Who knows what Max3d will bring but at the moment its looking like a 'Duke Nukem whenever'. <br><br>I would like to see things that are available in all other languages, the problem is this is what happened with Blitz 2.1 on the Amiga there was a rush of interest then nothing happened for ages then the PC version made an appearance. <br><br></td></tr></table><br>
<a name="769035"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Picklesworth</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I agree with sticking to external solutions for stuff beyond general 3D graphics. For one thing, the word Mini implies small / unobtrusive. For another thing, BlitzMax works great with external libraries and modular code :) <br><br></td></tr></table><br>
<a name="769217"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> You don't have to use the built-in functions of course but I'm glad they're there for completeness sake at least. MiniB3D is and always will be a subset of Blitz3D using nothing but Max code, and I think collisions and picking are an essential part of that. <br><br></td></tr></table><br>
<a name="769297"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Fortunately this has been designed so that it is easy to just the entity type as a base.  Thank you for implementing it in such a way. <br><br></td></tr></table><br>
<a name="769394"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Picklesworth</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's why I am happy with how MiniB3D is completely open to be changed (and also with very tidy code). If I feel that something is unnecessary, I can go in and pop it out :) <br><br></td></tr></table><br>
<a name="770547"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I really recommend scaling the camera by 1,1,-1 to change the axis handedness.  As it is written, you have to flip your vertex positions, and that isn't conducive to fast processing of vertex arrays. <br><br></td></tr></table><br>
<a name="770548"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I really recommend scaling the camera by 1,1,-1 to change the axis handedness.  As it is written, you have to flip your vertex positions, and that isn't conducive to fast processing of vertex arrays, like if you are loading or saving a file, or talking to a third-party physics lib.<br><br>Here's my code for converting a quaternion to a matrix:<br><pre class=code>		matrix[0,0]=(1.0-2.0*quaternion.x#*quaternion.x#-2.0*quaternion.z#*quaternion.z#)
		matrix[1,0]=-(2.0*quaternion.z#*quaternion.y#-2.0*quaternion.w#*quaternion.x#)
		matrix[2,0]=-(2.0*quaternion.x#*quaternion.y#+2.0*quaternion.w#*quaternion.z#)
		matrix[0,1]=-(2.0*quaternion.z#*quaternion.y#+2.0*quaternion.w#*quaternion.x#)
		matrix[1,1]=(1.0-2.0*quaternion.y#*quaternion.y#-2.0*quaternion.x#*quaternion.x#)
		matrix[2,1]=-(2.0*quaternion.w#*quaternion.y#-2.0*quaternion.x#*quaternion.z#)
		matrix[0,2]=2.0*quaternion.w#*quaternion.z#-2.0*quaternion.x#*quaternion.y#
		matrix[1,2]=2.0*quaternion.x#*quaternion.z#+2.0*quaternion.w#*quaternion.y#
		matrix[2,2]=1.0-2.0*quaternion.z#*quaternion.z#-2.0*quaternion.y#*quaternion.y#	</pre> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
