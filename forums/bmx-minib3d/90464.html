<!DOCTYPE html><html lang="en" ><head ><title >iminib3d file paths</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >iminib3d file paths</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=119" >MiniB3D Module</a>/<a href="#bottom" >iminib3d file paths</a><br><br>
<a name="1028338"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just had to make a slight adjustment within the iminib3d source for dealing with files in different paths. I wanted to report what I did and why.<br><br>I was trying to setup a directory structure for my levels using folder references as described on this page:<br><a href="http://majicjungle.com/blog/?p=123" target="_blank">http://majicjungle.com/blog/?p=123</a><br><br>However my textures weren't loading initially and I went into the source for iminib3d to figure out why. I eventually tracked down and commented out this line from the LoadTexture function in texture.mm<br><pre class=code>filename=Strip(filename);</pre><br><br>I needed to remove this because I needed to be able to refer to textures in different directories. However, I can understand why this command was added (because XCode groups don't respect file locations) and so I don't know how you should handle this in iminib3d. If the person is using groups then you want iminib3d to strip off the file paths, but if the person is using folder references then the file path is important. <br><br></td></tr></table><br>
<a name="1028346"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually wait that didn't quite work the way I need. I think a little further down I need to adjust [UIImage imageWithContentsOfFile:] to look in the right file path.<br><br>So I guess I'm modifying my message from reporting what I changed that worked to asking how can I get this to work? Not having file paths would make the naming of files really cumbersome since every single file in the game would have to have a unique name.<br><br><br>ADDITION: See my bicep? I just figured it out, thanks largely to this documentation:<br><br>http://17.254.2.129/mac/library/documentation/Cocoa/Reference/Foundation/Classes/NSBundle_Class/Reference/Reference.html#//apple_ref/occ/clm/NSBundle/pathForResource:ofType:inDirectory:<br><br>I didn't want the Strip() function commented out after all. At the top of the LoadTexture function I added<br><pre class=code>
string path = Left(filename, filename.find('/') + 1);
NSString* n_path = [NSString stringWithUTF8String: path.c_str()];
</pre><br><br>Then I changed the UIImage line at the bottom to<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">tex-&gt;texture = [[Texture2D alloc] initWithImage: [UIImage imageWithContentsOfFile: [[NSBundle mainBundle] pathForResource:n_filename_left ofType:n_filename_right inDirectory:n_path]]];
</textarea> <br><br></td></tr></table><br>
<a name="1028390"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Aargh actually I just discovered more headaches because that code I posted only fixes texture loading and I still have to deal with loading the models as well.<br><br>To hell with this, I didn't expect model loading to be so complicated. I guess I'll just bite the bullet and make sure all files have a unique name, ugh. <br><br></td></tr></table><br>
<a name="1028398"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is why i just lump it all in groups. Trying to fight it with folders just wasted my time. <br><br></td></tr></table><br>
<a name="1028419"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sledge</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I guess I'll just bite the bullet and make sure all files have a unique name, ugh. <br></div><br>level01/mesh.b3d<br>level02/mesh.b3d<br><br>vs<br><br>level01_mesh.b3d<br>level02_mesh.b3d<br><br><br>Really, what's the difference? You've got to prefix each mesh.b3d with *something* -- it might as well be a file naming convention as a folder name! :D<br><br>That article made me smile. I can't believe he went to the trouble of concocting a script rather than getting into the habit of cleaning targets! Interesting reading, though -- nice intro to adding scripts to the build process. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
