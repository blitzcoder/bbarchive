<!DOCTYPE html><html lang="en" ><head ><title >Animated Model Problems</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Animated Model Problems</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=119" >MiniB3D Module</a>/<a href="#bottom" >Animated Model Problems</a><br><br>
<a name="935587"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Spacechimp</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am having problems getting animated .b3d models working properly with minib3d extended.<br><br>I created a animated b3d model with 33 bones and 3500 polys.  It works fine in blitz3d.  when I try to load the model in bmaxminib3dext I get the error "Unhandled Exception: Attempt to access field or method of Null object."<br><br>After a little research I found out in order for a animated/boned .b3d to work in  bmaxminib3dext it's vertices can not be weighted to more than 4 bones.  Is this correct?<br><br>So, based on that knowledge, I created a test model that only contains 4 bones.  I successfully loaded it into bmaxminib3dext without crashing.  However, I can not get the darned thing to animate. (loads and animated in blitz3d)<br><br>I was wondering what taboos exist regarding animated models and bmaxminib3dext.  Things such as "No more than 4 weights per vertice" or "Don't use the ExtractAnimSeq command during a full moon"<br><br><br>I have uploaded the test model for people to take a look at if they so desire. <br><br><br><br><a href="http://freefilehosting.net/download/44fkg" target="_blank">http://freefilehosting.net/download/44fkg</a><br><br><br><br>It was made using lightwave. <br> <br>It was converted to B3d using Lee Page's (you rawk) Lightwave Converter Version 1.3<br><br>It has 208 polygons and 4 bones (so it cant break the 4 bone weight rule)<br><br>it loads in bmaxminib3dext.  Does not animate though<br><br>it loads and animates in blitz3d.<br><br>I guess it loads but is severely messed up in Ultimate Unwrap.<br><br>It looks odd.  Sorry.<br><br><br>The first higher poly model that triggers the error is available upon request<br><br><br>If anyone has any tips or hints regarding how I can get things working smoothly with animated/boned .b3d files.. please feel free to let us know.<br><br>Thank you! <br><br></td></tr></table><br>
<a name="935651"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does it work with the latest MiniB3D 'standard' release? <br><br></td></tr></table><br>
<a name="936701"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Spacechimp</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep.  Just re-installed everything properly. (which solved lots of problems) Unfortunately I am still having trouble with animations.<br><br><br><br><strike>Is it possible to get a boned and animated model that we are sure works with minib3d?  That might help me sort out the problem.</strike><br><br>*Edit*<br><br> Got one, Thanks.<br><br><br>Thank you! <br><br></td></tr></table><br>
<a name="936706"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Spacechimp</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> The provided model works.   So, it has something to do with my models,  *edit* or the conversion tool. <br><br></td></tr></table><br>
<a name="936770"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >scribbla</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> i dont have bmax or minib3d so i cant test anything but try...<br><br>1:remove the skelegons from the mesh<br><br>2: i think the lightwave 9x file format has changed, the converter was written a while ago so it may not handle lw 9x files try resaving in lw 8x format and then convert <br><br></td></tr></table><br>
<a name="936786"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Spacechimp</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you so much for the input.<br><br><br>There are no skelegons in the .lwo file.   I did however do lots of tweaking to the weights and whatnot.  It will load properly in ultimate unwrap (trial) now.  <br><br>I have dropped back to LW 8.0.  I am still getting the same results.<br><br>here is the newest version of my test model.  It includes the .b3d I am generating,  the .lwo, and 6.0,8.0 and 9.0 .lws files<br><br><a href="http://freefilehosting.net/download/44lef" target="_blank">http://freefilehosting.net/download/44lef</a><br><br>If anyone wants to take a gander. <br><br></td></tr></table><br>
<a name="936797"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >scribbla</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> all i could find was<br><br>1: no key frame for main mesh at frame 0<br>2: not set to weight map only<br><br>it all converts and plays in blitz3d fine<br><br>ive had issues using b3d models in cobra3d converted from lightwave using lwdeform , but like i say they work very well in blitz3d<br><br>see if the legs mesh ive sent work in MiniB3D they work in Blitz3D<br><br><br>check ya email for some test stuff <br><br></td></tr></table><br>
<a name="936805"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Spacechimp</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you so much.<br><br><br>Still no luck yet.    <br><br>My model works just fine in your model viewer for b3d.  Your model gets the "Unhandled Exception: Attempt to access field or method of Null object." error in minb3d.  (vertices weight to more than 4 bones I think?)<br><br>Thank you for taking time out to provide input.   You were very helpful in helping me narrow things down.<br><br><br>I would like to declare that this is probably not a problem with animated models, (ninja works) but a problem with going from LW to minib3d.<br><br>Thank you all for the help on this, it has really helped me in preserving my sanity.  ^_^ <br><br></td></tr></table><br>
<a name="936823"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >scribbla</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> vertices weight to more than 4 bones I think? <br></div><br><br>cant be that the legs have one weight to one bone<br><br>i think theres some jiggery pokery going on within blitz3d to adjust some things, as my b3d models dont work in cobra3d<br><br>you could take the converter out of the loop<br><br>pipe line (never tried it this way)<br><br>.x plugin for lw <br> .x into unwrap <br> b3d out<br><br><br><br>soz wasnt much help <br><br></td></tr></table><br>
<a name="936904"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Spacechimp</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> My problem is solved.<br><br>I bought ultimate unwrap.  I can now put animated lightwave models into minib3d.  (going through another file format like DavidH suggested above)<br><br>I am usually hesitant to throw money at software.  In this case I feel that it was justified.  It has saved me lots of time and frustration.<br><br>Thank you all for the help! <br><br></td></tr></table><br>
<a name="939659"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nanahuatzin</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>In case you are still there..</b><br><br>I have been using the lw convertor with mixed  results.<br><br>So Finally i decided to spent a couple of days cleaning the process, this is what i got: <br><br><br>1.) If you still have lightwave 7 or 7.5 you must create your skeleton there.. (probalby you can still torrent it)<br><br>You can import to lw9 later... but it seems lw9 can rotate the pivot of the bones... which will be a source of problems<br><br>2.) Lw8 and lw9 can make a keyframe in just one channel... (for example, , a keyframe in heading rotation, and no keyframe in the channel of bank...). this can confuse the converter.  Make shure all the channels have a keyframe in the same frame.<br><br>Also. it seeme sometimes you can get two keyframes in the same frame (lw save the position in seconds, so a frame in the time 1.3333333 will apear in the same frame as 1.3333333333333 yet they can have diferent values... delete the frames and set them again... or will confuse the converter.<br><br>3) Make shure to Frezze your model. check your weight maps after frezzing, ussually you will need to clean them.<br><br>4) make shure all your polygons are 3 sides. Remove points, one and two side polygons, and triple anything else.<br><br>5) you must use only UVmaping for texture. or Texture color.<br><br>6) All UVmap textures must be set to white color or it will be mixed with the color of your texture.<br><br>7) if you animate with IK, before converting you must:<br><br><i> a) You will need to create keyframes on all bones, you can use the option  "to all objects" when creatin leyframes,  use a liberal quantity, blitz uses lineal interpolation, if you use to few, the movement will look lineal.<br><br>b) turn of IK<br><br>c) delete all nulls (used for IK).<br><br>d) test your animation, and fix where necesary<br><br><br>e) export (using another name, to keep the IK version)<br><br>f) convert and enjoy or ... if necesary go to (d) </i><br><br><br>If i encounter more problems i will post then here.<br><br>Javier Delgado<br><br><a href="http://www.paralax.com.mx" target="_blank">http://www.paralax.com.mx</a> <br><br></td></tr></table><br>
<a name="941737"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Spacechimp</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the tips Javier! <br><br></td></tr></table><br>
<a name="945828"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> UU is a quality piece of software. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
