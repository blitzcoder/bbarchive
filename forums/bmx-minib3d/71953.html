<!DOCTYPE html><html lang="en" ><head ><title >LoadSprite Causes Crash</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >LoadSprite Causes Crash</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=119" >MiniB3D Module</a>/<a href="#bottom" >LoadSprite Causes Crash</a><br><br>
<a name="804273"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is really hard to test out but any thoughts would be much appreciated.<br><br>Running v0.42<br><br>Everything works fine on my PC (PC desktop nvidia 2 CRT screens) and mac (laptop, ATI built in, 1 crt and laptop widescreen LCD)<br><br>however on a friends computer who's testing for me my program crashes at the first call to LoadSprite(). He has a PC laptop standard ratio LCD, I believe built in ATI card.<br><br>LoadSprite("Data/Underlay.png")', 1+2, Camera) works fine on all but his system<br><br>I changed it to LoadSprite("Data/Underlay.png") thinking the attach or flags might be the problem. it still crashes. I know the file exists as it is loaded in an earlier 2D part of the program.<br><br>It's really hard to test since at the moment I'm on the east coast and he is in Japan... so I can't run it in debug or anything, just have the program dump things to a log file for me (which is how I found where it was dieing).<br><br>Any thoughts on why LoadSprite might die on a system? the 3D code at that point is basicly set graphics to 3D, create a camera and postion and rotate it, create a pivot I use for an achor, then create the sprite, and it crashes on that.<br><br>Any thoughts? <br><br></td></tr></table><br>
<a name="804275"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Gave my friend a new test app that creates a cube into a Tmesh, creates a cube into a TEntity, creates a sphere into a TMesh and Creates a Sphere into a TMesh attached to the camera. None of that crashes but it crashed right after that at the load sprite. <br><br></td></tr></table><br>
<a name="804277"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Gave my friend another test that loads a texture I use elsewhere and puts it to a cube. it crashes when trying to load the texture so it seems on his system loading graphics for texture (sprites being a texture a single face I believe) cause it to crash.<br><br>So, the question becomes why would a computer crash when loading textures? It runs BlitzMax in 2D with openGL driver fine (I use that for the menu in the game) it doesn't crash on any system but his so it wouldn't seem to be my code. His system runs commercial 3D games just fine so his card isn't total garbage. could his openGL driver be messed up in a way that would allow Blitz to run 2D through openGL but break on graphics with MiniB3D? Or could there be a glitch in the MiniB3D graphics loading routine? <br><br></td></tr></table><br>
<a name="804281"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I couldn't find MiniB3D 0.41 on my HD anywhere so I tried using Klepto's Extended version 0.41. It still crashes, however I did notice that it is faster using klepto's 0.41 than simon's 0.42 on my system. 0.42 gives me around 117-120 fps on initial load up. I get 128-131 with klepto's 0.41. Not a big difference but interesting. Perhaps klepto did some optimization that could be put back into the standard distribution? or maybe that difference is based on some openGL specific tweaks that can't be put back since I believe the goal is to have it possible to run MiniB3D through direct X some day...<br><br>Anywho, should I just chalk this system up as a freak and assume it won't happen again or will be fixed by a driver update some day? or is there some other test tools I can have my friend run to get some more info about his system that could be of use to sorting it out in minib3d? <br><br></td></tr></table><br>
<a name="804518"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can you try this for me - In LoadAnimTexture, comment out this line:<br><br>pixmap=AdjustPixmap(pixmap) <br><br></td></tr></table><br>
<a name="804529"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Commented, rebuilt, runs fine on my PC, got my friend to try it and it works! huza! I haven't done extensive testing but it seems to hurt the frame rate slightly though. maybe it's just my computer though. have to test more.<br><br>Should I leave that line commented? or could that cause some other problems? <br><br></td></tr></table><br>
<a name="804998"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> No it should be OK. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
