<!DOCTYPE html><html lang="en" ><head ><title >Convert MiniB3D to OpenGL 2.0? Thoughts?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Convert MiniB3D to OpenGL 2.0? Thoughts?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=119" >MiniB3D Module</a>/<a href="#bottom" >Convert MiniB3D to OpenGL 2.0? Thoughts?</a><br><br>
<a name="1113536"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm interested in what it might take to convert MiniB3D to run on OpenGL 2.0 instead of 1.x. The reasons are this:<br>- OpenGL 2.0 is the new standard. It's going to get more love from hardware and software vendors in future, to the potential detriment of 1.x since it's not backwards compatible.<br>- It can run in threaded environments much better to my knowledge, this opens lots of fun doors.<br>- Should make shader support easier I would assume...<br>- If ported into iMiniB3D it can leverage some of the higher end hardware in newer devices, add shader support etc.<br>- Ported into aMiniB3D it would make testing MUCH easier since the emulator actually supports OpenGL ES 2.0... also lots of new bells and whistles. Android is thread crazy so it could make life much easier as well.<br>- WebGL is OpenGL ES 2.0 based so it could be ported to WebGL which is rapidly gaining traction (won't be a serious tech for a while still IMO, but it would be great to be ahead of the curve...)<br>- If it works on all the above platforms it could be ported to Monkey for some cross compiling hotness including web... Personally I think that would be about the most awesome thing ever.<br><br>So. Does anyone have any thoughts on where some of the pitfalls might be? I know a few of the OpenGL functions would have to be replaced, likely more stuff along with them. Probably the whole rendering que would have to be re-structured since it wouldn't be the linear render trigger like OpenGL 1... I've learned what little I know about OpenGL by tearing down and re-building MiniB3D so I'm obviously not well versed in just how 2.0 works besides "differently"...<br><br>Any thoughts, comments, suggestions, resources etc.? <br><br></td></tr></table><br>
<a name="1113573"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Naturally, I'll chime in here:<br><br>I have ported openGL to monkey, and have begun to tackle miniB3D-&gt;monkeyGL. A big task, will take a lot of time.<br><br><br>OpenGL 2.0 is mostly shaders, seeing how commands get deprecated. So if there would be ANY compatibility with lesser opengl, you would to create those functions (for future drivers) that don't support anything less than opengl 2.0.<br><br>That said, it's pretty easy, but requires a lot of external shader programs for different things you want to do. And if you want the basic functionality of the fixed-function pipeline, you have to write that shader (or find one lying around).<br><br>That said, I've been progressing on the TShader extension and I like where I'm headed. It is a great beginning to get miniB3D into the 21st century, and  *theoretically* could be used to completely bypass the fixed-function pipeline, but still retain backward compatibility. <br><br></td></tr></table><br>
<a name="1113584"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> That sounds excellent, and if I follow correctly the largest part of the transition would be recreating depreciated functions from 1 to shaders under 2. If that's right it seems like a fairly straightforward process to evaluate what's need to build up the current function set of minib3d. Doing so would probably make sense to build in a shader extending aspect above the current feature set like you're doing in the other thread...<br><br>Hoping I can find some time to dig into this a little in code at some point... <br><br></td></tr></table><br>
<a name="1113600"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> AdamRedwoods wrote: <div class="quote"> .. and have begun to tackle miniB3D-&gt;monkeyGL. A big task, will take a lot of time. <br></div><br><br>It is a big job and much appreciated.<br><br>Maybe you should check out the excellent Warner engine too, because it is: <br><br>-Quaternion-based<br>-Uses Ints instead of Short for triangle indices<br>-Abstracted GL functions, makes it easier to port.<br>-ROAM Terrain<br>-Loads B3D files with up to 8 bones.<br>-You can manually add bones<br>-Manual animation functions (SetAnimKey/AddAnimSeq)<br><br><br><a href="http://blitzmax.com/Community/posts.php?topic=94606" target="_blank">http://blitzmax.com/Community/posts.php?topic=94606</a> <br><br><a href="http://code.google.com/p/warner-engine/downloads/list" target="_blank">http://code.google.com/p/warner-engine/downloads/list</a> <br><br></td></tr></table><br>
<a name="1113613"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> recreating depreciated functions from 1 to shaders under 2 <br></div><br><br>Just make sure you do a thorough check to see if someone's already done this! (Frankly I'd be surprised if they hadn't.)<br><br><div class="quote"> If that's right it seems like a fairly straightforward process to evaluate what's need to build up the current function set of minib3d. <br></div><br><br>Aren't there only about two classes that even use OpenGL? As I recall, most of miniB3D uses its own secondary abstraction for everything. It strikes me as a good thing to have inherited a largely API-agnostic design, and something worth preserving. <br><br></td></tr></table><br>
<a name="1113618"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> There's OpenGL spread around but yes it is largely agnostic. The data is generally stored in generic constructs and then pushed to OpenGL during the rendering pass, but because of this the rendering path is structured around the way OpenGL data gets pushed to be rendered...<br><br>The math of object manipulation is all outside of OpenGL. As a result loading meshes etc. is largely independent on OpenGL, etc. Textures are a bit muddied in that regard since they are loaded into OpenGL, but there is a MiniB3D layer kept to reference them and control other aspects related to the actual texture data...<br><br>This is why I think it should be possible. without *too* much work to make an update/port to OpenGL 2 possible. A lot of the heavy lifting doesn't involve OpenGL so shouldn't have to change, just things related to the rendering process, and as stated above, if it's largely just shaders replacing existing OpenGL 1 methods then it should be (conceptually anyway) a simple process of finding/writing replacements and slotting them in... <br><br></td></tr></table><br>
<a name="1114557"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FBEpyon</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> ima747:<br><br>I'm working on this as well, but I'm going to convert it to OpenGL 3.3 as that was when they started to standardize the Shader versions (#3.3 and #4.0) and I would think it would be better to try and go higher then sticking with the older platforms..<br><br>Also OpenGL got rid of the built-in matrix functions and I'm working on adding that into the system as well (minib3d should have its own math3d), and I was looking at AndrewT Martix Functions in the Code archive, and see if there better than what we have now (if you know of any hit me up)..<br><br>William Mc (FBEpyon) <br><br></td></tr></table><br>
<a name="1114649"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Glad someone else is interested :0)<br><br>The reason specifically I'm interested in targeting 2.0 rather than later versions is that *almost* every device, and new tech (such as WebGL) is based on OpenGL ES 2.0 which is based directly on OpenGL 2.0. So targeting 2.0 means it's easy to port to basically anything, desktop, mobile, embedded systems, web, etc. Newer versions of OpenGL have poor or no support on older systems, and to my knowledge no mobile platform support at all making them really only suitable (from a distribution standpoint) to top tier PC games which are really easier to target with a more specific engine that would include more features out of the box.<br><br>My goal is ultimately to get MiniB3D supported universally so that a project developed on any platform with MiniB3D becomes comparatively easy to port to any other while still running natively and taking more advantage of the available hardware (i.e. building in shader support would be a bonus that would be essentially mandated by 2.0 support).<br><br>I don't see MiniB3D as a competitor system to say Unreal Engine. It's just never going to be optimized enough to compete on a performance level with a top shelf commercial product. But it's strength is in the fact that it's INCREDIBLY easy to get off the ground with, and that you can cross compile with it to multiple platforms. Going an extra step you can then rebuild a project for iOS (and Android to a lesser extent). I don't want to wrestle with unreal. I don't want to have to have 30 people in an art department to make meshes and textures. I want to make compelling games quickly and distribute them with ease. That means sacrificing some performance for massive gains in simplicity and portability. I suspect that switching to a 2.0 base, and modern hardware's support for shaders would probably result in performance gains over the current 1.x core, which would be a nice bonus... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
