<!DOCTYPE html><html lang="en" ><head ><title >question about TFormPoint in iminib3d</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >question about TFormPoint in iminib3d</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=119" >MiniB3D Module</a>/<a href="#bottom" >question about TFormPoint in iminib3d</a><br><br>
<a name="1026797"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> How do you tell this command to use the global coordinate space? In Blitz3D you used the parameter 0 for that, but I can't tell if that's legal for the command in iminib3d. I mean, this line in my code doesn't throw up a compiler error, but it may still be a semantic error:<br><pre class=code>Entity::TFormPoint(0, 0, 2, attacker, 0);</pre><br><br>The reason I ask is that I'm definitely not seeing the correct behavior here, and I want to check if the problem is because I'm passing bad parameters to the function, or if there's a bug in the function itself.<br><br><br>For reference, what I'm trying to do is have the recipient of an attack knocked away from the attacker regardless of which way the recipient is facing. The line immediately after that one is:<br><pre class=code>visual-&gt;PositionEntity(Entity::TFormedX(), Entity::TFormedY(), Entity::TFormedZ());</pre><br><br>Right now there are four possible combinations of attacker/recipient, and three combinations work, but for some reason the fourth doesn't. The fact that goblin to gnome, gnome to goblin, and goblin to dwarf all work fine makes me think I simply coded dwarf to goblin incorrectly, but an output statement immediately before TFormPoint shows the correct facing:<br><pre class=code>NSLog(@"%f", attacker-&gt;EntityYaw());</pre><br><br>What's happening is that the goblin is being knocked in the global positive Z direction no matter which way the dwarf is facing.<br><br><br>ADDITION: I just checked by putting in another entity as the last parameter and it's still not behaving correctly. I haven't tested enough yet to be sure this is a bug in iminib3d, but it sure looks like one.<br><br>I can probably figure out some work-around to achieve the desired end effect, but I sure would have preferred to just use TFormPoint rather than having to position a temporary pivot.<br><br><br>ADDITION2: Come to think of it, I need to do this with the work-around approach anyway because using TFormPoint the way I was using it assumed that the attacker is always facing the direction of the attack, which isn't the case.<br><br>So in this specific situation where I discovered the bug it doesn't matter to me if the bug is fixed, just pointing out something you may want to look at for the next version. <br><br></td></tr></table><br>
<a name="1036889"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can use 0 or NULL for the global space. Would be surprised if this was a bug, but will check it out. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
