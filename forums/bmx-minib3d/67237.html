<!DOCTYPE html><html lang="en" ><head ><title >MiniB3D v0.41</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >MiniB3D v0.41</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=119" >MiniB3D Module</a>/<a href="#bottom" >MiniB3D v0.41</a><br><br>
<a name="750699"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> A small update, just fixes various bugs found in V0.40, and adds a couple of things, including the AntiAlias command. MiniB3D is also now distributed as an import file and a module.<br><br>Download from www.si-design.co.uk <br><br></td></tr></table><br>
<a name="750702"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bradford6</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> you...are...da...man!<br>edit. got a chance to look. everything runs smooth so far. <br><br></td></tr></table><br>
<a name="750814"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Barbapapa</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Funtastic! Although the new AA command is pretty much useless in action (fps drops from 60 to1, independently from the setting 1-16) but for frame capturing it's really great.<br><br>Btw, I checked the blob example again, it doesn't work any better unfortunately. Didn't you want to have a look as why the blobs are added too close to one another? Don't know if this an important bug or no bug at all, but at least it's not the same behavior as in B3D. <br><br></td></tr></table><br>
<a name="750815"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chris C</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> all looks good, had to rename MiniB3D.bmx to minib3d.bmx before the module would build tho... <br><br></td></tr></table><br>
<a name="750833"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> The AA is useless on older Gfx cards due the fact it uses the Accumulation buffer and this buffer is only emulated (as far as I know first ATI card was the Radeon 9800) on older gfx cards. So  you have to live without AA for the moment ;). <br><br></td></tr></table><br>
<a name="750857"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I had no idea the AA required a hardware accelerated accumulation buffer! Probably not in keeping with MiniB3d's 'low-spec' philosophy to be honest, but ah well, it's there if you need it.<br><br>Barbapapa - the ScaleEntity issue has definitely been fixed. Any difference between the .bb and .bmx versions of the blobs demo now is solely due to TurnEntity behaviour.<br><br>ChrisC - thanks for letting me know, I've repackaged it now with lowercase minib3d. <br><br></td></tr></table><br>
<a name="750883"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Barbapapa</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> oh no, it's there it's great, so I can do a AA16 before I do a screenshot, even save every frame out with full AA for a movie. You see, architects here seldom have new hardware;)<br><br>@simonh, two questions, how did you do your game? with MiniB3D? because it seems being some AA on it. At least I have much lesser jaggies I have with MiniB3D.<br>I don't understand what TurnEntity has to do with the placing of the blobs? Even when I cancel the spinning of the parent, the blobs are not placed where they should be. Maybe you could have a small look at it ;) Not that I will be doing blobs allot, but I can't understand what's wrong... <br><br></td></tr></table><br>
<a name="750899"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> My game was written in Blitz3D - I'm in the process of converting it to MiniB3D. There isn't any AA going on - just some nice alpha blended edges.<br><br>Here's a straight BMax conversion of blobs.bb which, as far as I can tell, works fine:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Import "../minib3d.bmx"

Global blob_list:TList=New TList
'
'	Camera Pick and parenting entities
'	dave@...
'	David Bird(Birdie)
'
Graphics3D 1024,768,32,2
'SetBuffer BackBuffer()

cam=CreateCamera()
PositionEntity cam,0,0,-6

light=CreateLight()
TurnEntity light,45,45,0

Type blob

	Global list:TList=New TList

	Method New()
		ListAddLast(list,Self)
	End Method

	Field ent		'entity eg blob
	Field x#,y#,z#	'rotation
End Type

Global sp=CreateSphere(5)
EntityPickMode sp,2
HideEntity sp

'Stage pivot
stage=CreatePivot()

'Add the First Blob the the scene
Add_Blob(stage,0,0,0)

While Not KeyDown(KEY_ESCAPE)
	xm=MouseX()
	ym=MouseY()
	
	' Left Click the add a blob
	If MouseHit(1) Then
		ent=CameraPick(cam,xm,ym)
		If ent&lt;&gt;0 Then
			PickedEntity
			Add_Blob(ent,PickedX(),PickedY(),PickedZ())
		End If
	End If
	
	'Spin the stage around
	If MouseDown(2) Then
		'TurnEntity stage,Float(MouseXSpeed()/10),0,Float(MouseYSpeed()/10)
		MoveMouse 320,200
	End If
 
	If KeyHit(KEY_SPACE) Then f=1-f
		'Update all the blobs If Not frozen
	If f=0 Then Update_Blobs()

	'Update the world and render
	UpdateWorld
	RenderWorld

	'Draw the cursor	
	'Color Rand(100,255),0,0
	'Line xm-3,ym,xm+3,ym
	'Line xm,ym-3,xm,ym+3
	
	'Color 255,255,255
	Text 0,0,"Left Click the add a blob. Right Click n Hold to Spin the stage."
	Text 0,15,"Last entity Picked:"+ent+" PX:"+PickedX()+" PY:"+PickedY()+" PZ:"+PickedZ()
	If f=0 Then a$="Running." Else a$="Frozen"
	Text 0,30,"Press Space the Freeze rotation:"+a$
	Text 0,45,\"dave@..."
	Flip
Wend

EndGraphics
End

Function Update_Blobs()
	For a:blob=EachIn blob.list
		TurnEntity a.ent,a.x,a.y,a.z
	Next
End Function

Function Add_Blob(par,x#,y#,z#)
	a:blob=New blob
	a.ent=CopyEntity(sp,par)
	PositionEntity a.ent,x,y,z,True
	EntityColor a.ent,Rand(100,255),Rand(100,255),Rand(100,255)
	s#=Rnd(.8,1)
	ScaleEntity a.ent,s,s,s
	a.x=Rnd(-1,1)
	a.y=Rnd(-1,1)
	a.z=0
End Function</textarea> <br><br></td></tr></table><br>
<a name="750905"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Barbapapa</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> There isn't any AA going on - just some nice alpha blended edges <br></div><br>?? could you explain this a little further? even all moving objects seem smooth, how can you add edge alpha-blendings on non-static meshes?<br><br>I tried your source, I think what caused the grief was that I either had the parent spinning (and had the MiniB3D entity behavior) or I had it fixed and then was fooled by the camera. When I prevent spinning on your code I had the same issue (blobs seeming to be to near to one another) but when letting the parent spin again they showed up correctly. Although they seem to be getting smaller. If you stop the spin and then click very fast so that you get a  long chain you will see what I mean. Let it spin again and observe the size of the blobs in the long chain. What do you think? I don't have B3D anymore so I can't check anymore (why did I pick this example ;)? ) <br><br></td></tr></table><br>
<a name="750914"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> The sprites have alpha blended edges. The ball has a little motion blur applied, otherwise there are no AA effects. I guess it must just be a trick of the eye, unless your gfx card is forcing AA.<br><br>As for the blobs, the balls are meant to get smaller. There is a line in the code that scales each ball a little less than it's parent. <br><br></td></tr></table><br>
<a name="750967"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Barbapapa</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes, I guess I didn't do the massive click test with the original, sorry for that. But at least you have another example ;)<br><br>Will try the alpha blending trick, never came to my mind. I guess I'm too used of high AA settings for my rendering :) <br><br></td></tr></table><br>
<a name="751101"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KimoTech</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Lol .. When it comes to cubemapping, MiniB3D is faster than the old B3D .. Very impressive. Keep rocking simonh..! <br><br></td></tr></table><br>
<a name="751335"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> AntiAlias on ATI works for all Shader2 cards. That said it is the 9500 (or to keep it with the more used numberings 9600).<br><br>Pre 9500 the 9000 series are nonshader or shader 1.1 / 1.5 compliant cards. Don't ask me why ATI mixed several generations in a single series. (9000 nonshader, most likely been there to take off some of GF4 MXs users *would assume thats a 7000 series GPU*, 9100 is a pushed 8500 so much more powerfull than most other 9000 series cards but shader 1, 9200 is a "true" new chip but no shader 2 support.)<br><br><br>As a side note: I'm not sure if this is actually a problem.<br>Most systems today should do that hardware side without much problem. Current gen DX redistributable does not support shader 1 anymore, so at least on the Windows side, its quite clear, that those will die out. (Win98 / ME isn't supported anymore as well since DX Dec 06)<br>On the apple side, there only have been shader based chips for quite some time (OSX 10.3) as their eye candy desktop depends on it.<br>So I would prefer if the AntiAlias would remain in miniB3D.<br>Its a standard feature which any 3D card sold the last 4-5 years supports and if not, the programmer can still add the option for setting AA to 0 or off. <br><br></td></tr></table><br>
<a name="753332"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LAB[au]</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> All examples crashes on "LoadTexture" call on my laptop (Intel GMA950 crappy graphic card) but everything works fine on Nvidia cards, any idea? <br><br></td></tr></table><br>
<a name="753365"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> @LAB[au]:<br><br>Try putting this in the entityvisible.bmx example, right after the<br>Graphics3D width,height,depth,mode<br>line.It might be GL_ARB_multitexture is misssing.<br>I'm very interested to know if that's the case, because I'll be meeting those low end GFX cards often.<br><pre class=code>

If (GL_VERSION_1_3 | GL_VERSION_1_3 | GL_VERSION_1_4 | GL_VERSION_1_5 | GL_VERSION_2_0)
	Notify "OpenGL 1.3 or better present"
	multitexturePresent = True
ElseIf (GL_ARB_multitexture)
	multitexturePresent = True
	Notify "GL_ARB_multitexture OK"
Else
	Notify "GL_ARB_multitexture MISSING!"		
EndIf</pre> <br><br></td></tr></table><br>
<a name="753422"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LAB[au]</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> It reports "OpenGL 1.3 or better present". Entityvisible.bmx compiles and runs fine since there is no texturing. <br><br>The problem is in AdjustPixmap function in TTexture type (TTexture.bmx) and specifically in this loop:<br><br>' check that width and height size are valid (not too big)<br>Repeat<br>Local t<br>glTexImage2D GL_PROXY_TEXTURE_2D,0,4,width,height,0,GL_RGBA,GL_UNSIGNED_BYTE,Null<br>glGetTexLevelParameteriv GL_PROXY_TEXTURE_2D,0,GL_TEXTURE_WIDTH,Varptr t<br>If t Exit<br>If width=1 And height=1 RuntimeError "Unable to calculate tex size"<br>If width&gt;1 width:/2<br>If height&gt;1 height:/2<br>Forever<br><br>If I comment this loop everything runs fine. <br><br></td></tr></table><br>
<a name="753528"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >deps</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> I had this problem too with my old computer. There is a fix somewhere in here. Check the threads about the different releases. 0.3 if i remember correctly. <br><br></td></tr></table><br>
<a name="753838"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LAB[au]</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> I found only a post about Pow2size but nothing about this check... on this computer this is always true : If width=1 And height=1 RuntimeError "Unable to calculate tex size" <br><br></td></tr></table><br>
<a name="753878"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is that the error message you always get, 'unable to calculate tex size'?<br><br>Do you have any problems with Max2D? <br><br></td></tr></table><br>
<a name="753888"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> The problem is because the AdjustPixmap function is using GL_PROXY_TEXTURE_2D. I don't know why simon has build in this back to 0.41 but try to replace this function with this one:<br><pre class=code>
Function AdjustPixmap:TPixmap(pixmap:TPixmap)
	
		Local width=Pow2Size(pixmap.width)
		Local height=Pow2Size(pixmap.height)

		If width&lt;&gt;pixmap.width Or height&lt;&gt;pixmap.height
			pixmap=ResizePixmap(pixmap,width,height)
		EndIf
		
		Return pixmap
		
	End Function
</pre><br><br>That should hopefully work. <br><br></td></tr></table><br>
<a name="753895"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> GL_PROXY_TEXTURE_2D is used to see if your texture is too big to be loaded.<br><br>Without it if you try loading a massive texture that's too big for your gfx card, the texture won't be loaded - with it, it will be rescaled to a size that does work.<br><br>Not sure why it fails on some computers. <br><br></td></tr></table><br>
<a name="753898"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Shouldn't the above code look more like: <a href="http://lists.apple.com/archives/mac-opengl/2004/Oct/msg00148.html" target="_blank">http://lists.apple.com/archives/mac-opengl/2004/Oct/msg00148.html</a><br><br>where there is a glGetTexLevelParameteriv(GL_PROXY_TEXTURE_2D, 0, GL_TEXTURE_HEIGHT, &amp;testHeight);  call too? <br><br></td></tr></table><br>
<a name="753902"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> isn't the height of a pow2texture the same as the width ;) ? <br><br></td></tr></table><br>
<a name="753903"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> No. Only if it's a square texture.<br>OpenGL alows for rectangular ones like 128 x 512 too. <br><br></td></tr></table><br>
<a name="753972"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes sorry, my fault. Maybe this could be a way around the proxy problem:<br><br><pre class=code>
Function AdjustPixmap:TPixmap(pixmap:TPixmap)
	
		Local width=Pow2Size(pixmap.width)
		Local height = Pow2Size(pixmap.height)
		
		Local maxsize:Int 
		glGetIntegerv(GL_MAX_TEXTURE_SIZE , Varptr(maxsize) )
		If width &gt; maxsize Then width = maxsize
		If height &gt; maxsize Then height = maxsize

		If width&lt;&gt;pixmap.width Or height&lt;&gt;pixmap.height
			pixmap=ResizePixmap(pixmap,width,height)
		EndIf
		
		Return pixmap
		
	End Function
</pre> <br><br></td></tr></table><br>
<a name="754006"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> AFAIK the GL_MAX_TEXTURE_SIZE is not accurate.<br>You have to use the proxy method to get the correct results.<br><br>GL_MAX_TEXTURE_SIZE gives the theoretical max size for the card, proxy method tells you if the texture will actually fit. <br><br></td></tr></table><br>
<a name="754323"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LAB[au]</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> To Simonh : Yes I get always this message, 'unable to calculate tex size' and I never had a problem with Max2D.<br><br>It's not an old computer, I bought it new last year, Intel Gma 950 is pretty common and recent hardware I think (although not the best obviously!). <br><br></td></tr></table><br>
<a name="754326"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chris C</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> AFIK 'unable to calculate tex size' is a max2d (opengl driver) error message and the reason you've had no problem with Max2d is because the winbloze version of max defaults to directx Max2D <br><br></td></tr></table><br>
<a name="755462"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mikele</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> Simon, are you going to add LoadAnimSeq, AddAnimSeq<br> commands soon? <br><br></td></tr></table><br>
<a name="755576"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, I'll hopefully add them soon. <br><br></td></tr></table><br>
<a name="755587"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LAB[au]</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Chris<br><br>"unable to calculate tex size" is minib3d error message ... in TTexture.bmx ... in Function AdjustPixmap -&gt; runtimeerror. On this GMA950 laptop the variable t is always null while the width and height get lower and lower (reaching eventually 1) while the Repeat forever loop is processed.<br><br>This function doesn't return anything to t<br>glGetTexLevelParameteriv GL_PROXY_TEXTURE_2D,0,GL_TEXTURE_WIDTH,Varptr t <br><br></td></tr></table><br>
<a name="755957"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chris C</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> @LAB[au]<br>ask simon.... <br><br></td></tr></table><br>
<a name="758776"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kepu</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> @klepto2<br><br>Thanks anyway,<br>Your replacement for AdjustPixmap function worked.<br>No message  'unable to calculate tex size', any more<br>and at least all mini3d samples are working fine . <br><br></td></tr></table><br>
<a name="763625"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ksalomao</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> Klepto2, you replacement corrected the texture issue on my laptop with gma950. thanks <br><br></td></tr></table><br>
<a name="764044"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ksalomao</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br>I just noticed that when you set SpriteViewMode to 2 (Free) the sprite cannot be scaled. If you scale the sprite before changing the ViewMode, it resets the scaling to 1.<br><pre class=code>
Import sidesign.minib3d'

SuperStrict

Graphics3D 640,480,0,2

Local cam:TCamera=CreateCamera()
cam.PositionEntity 0,0,0
Local light:TLight=CreateLight(1)

Local sprite1:TSprite=LoadSprite("clark1.png",3)
sprite1.PositionEntity 2,0,7
sprite1.ScaleSprite 4,4
sprite1.SpriteViewMode 2

Local sprite2:TSprite
sprite2=LoadSprite("clark1.png")
sprite2.PositionEntity -4,0,7
Local n#=1.0
While Not KeyDown(KEY_ESCAPE)		
	n:+0.01
	sprite1.ScaleSprite n,n
	sprite2.ScaleSprite n,n
	If n&gt;5 Then n=1
	
	RenderWorld
	
	Flip

Wend
End
</pre> <br><br></td></tr></table><br>
<a name="765320"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WildStorm</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> To prevent the "MoveMouse"-Bug on Linux add the following Lines:<br><a href="/posts.php?topic=65618#734262" target="_blank">Look here</a><br><br>inc/misc.bmx:<br>Before Function MouseXSpeed()<br>Add:<br><pre class=code>
Function MouseXSpeed_LinMM(mmx:int)

	'Global oldmx

	Local mxs=MouseX()-mmx

	'oldmx=MouseX()

	Return mxs

End Function
Function MouseYSpeed_LinMM(mmy:int)

	'Global oldmy

	Local mys=MouseY()-mmy

	'oldmy=MouseY()

	Return mys

End Function
</pre><br><br>inc/func.bmx:<br>Before Function MouseXSpeed()<br>Add<br><pre class=code>
Function MouseXSpeed_LinMM(mmx:int)

	Return TBlitz2D.MouseXSpeed_LinMM(mmx)

End Function

Function MouseYSpeed_LinMM(mmy:int)

	Return TBlitz2D.MouseYSpeed_LinMM(mmy)

End Function
</pre><br><br>How that works? Just type<br>mx=MouseXSpeed_LinMM(movemousex)<br>my=MouseYSpeed_LinMM(movemousey)<br>movemouse movemousex,movemousey <br><br></td></tr></table><br>
<a name="765754"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ksalomao</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> I forgot to post the correction for the SpriteViewMode 2 Scale bug:<br>Just add in Function UpdateSprites, in TGlobal, the Scale command for sprite.view_mode=2:<br><pre class=code>
If sprite.view_mode=2
	sprite.mat_sp.Overwrite(sprite.mat)
	scale_x#=sprite.scale_x#
	scale_y#=sprite.scale_y#
	sprite.mat_sp.Scale(scale_x#,scale_y#,1.0)

EndIf
</pre> <br><br></td></tr></table><br>
<a name="766212"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks ksalomao. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
