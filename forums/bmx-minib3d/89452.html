<!DOCTYPE html><html lang="en" ><head ><title >Normal mapping?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Normal mapping?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=119" >MiniB3D Module</a>/<a href="#bottom" >Normal mapping?</a><br><br>
<a name="1015882"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zcbeaton</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey, apologies, because this has probably been asked before, but searching didn't turn up any usable solutions for me. I'm somewhat unfamiliar with OpenGL and I'm trying to implement normal mapping into a game using MiniB3D. I've taken a look at the code for the extended edition and wasn't sure if there was anything there that could be salvaged.<br><br>Is there any simple (read: not involving a lot of independent OpenGL knowledge) method to implement normal mapping into MiniB3D? <br><br></td></tr></table><br>
<a name="1094289"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jtfrench</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Curious that this was never addressed, or responded to. Perhaps there was a different thread this convo moved to? <br><br></td></tr></table><br>
<a name="1094340"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >simonh</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> No, there's no simple way to add normal mapping to MiniB3D. It would involve the use of shaders, which MiniB3D doesn't support. <br><br></td></tr></table><br>
<a name="1094412"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> This brings up my thought re:minib3d, which is to add to the core miniB3D a render callback function (abstract) that allows users to extend.<br><br>If the callback exists, it bypasses the fixed-function pipeline and runs the callback code. This would allow for easy implementation of external shaders and such, so minib3d could be expanded without modding the core. <br><br></td></tr></table><br>
<a name="1094690"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm busy with other projects right now, but if it were me, I'd extend the TBrush class to have a Shader field that points to an instance of a, say, TShader class (this field holding a 'Null' value when you want the surface to be rendered through fixed-function). <br>This way you don't have to modify a lot of stuff or even step away from the Blitz3D way of things - it's just a juiced-up Brush class and a modified Update() function in TMesh.<br><br>It would require an intermediary knowledge of OpenGL (more than I have, anyway), or at least a lot of reference material (such as Klepto2's extended version and code samples distributed around the <a href="/codearcs.php?code=2831" target="_blank">code archives</a> and the <a href="/posts.php?topic=53895" target="_blank">OpenGL forum</a>) <br><br></td></tr></table><br>
<a name="1094787"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Interesting.<br><br>Would TBush be the best approach, what about shaders that want to manipulate the vertex data, for example, bone influence? Could we still use TBrush for that? <br><br></td></tr></table><br>
<a name="1094819"></a>

<a name="1094875"></a>

<a name="1094876"></a>

<a name="1094928"></a>

<a name="1094929"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> EDIT: Scratch what was here. Adam's idea sounds much better than what I've said.<br>Include a field in TMesh that points to the function used to render the mesh.<br><br>When a mesh is created, this field points to the fixed-function render code. If the user requires, he can make it point to a different block of code of his own, perhaps implementing shaders and what not.<br>Makes things much easier not only for shaders but for things such as framebuffers in the case of HDR and blooming, and like he said, no need to change (in large quantity) the current framework. <br>A definite change would be the RenderCamera() function of TGlobal.BMX to render each mesh through this render-function pointer instead of the Update() method.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1095052"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >kfprimm</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I laid out a shader framework for my engine. It works but the functionality is limited as I've been devoting time to more important features.<br><br><a href="https://github.com/kfprimm/maxb3d" target="_blank">https://github.com/kfprimm/maxb3d</a><br><br><a href="https://github.com/kfprimm/maxb3d/blob/master/core.mod/shader.bmx" target="_blank">https://github.com/kfprimm/maxb3d/blob/master/core.mod/shader.bmx</a><br><a href="https://github.com/kfprimm/maxb3d/blob/master/glsl.mod/glsl.bmx" target="_blank">https://github.com/kfprimm/maxb3d/blob/master/glsl.mod/glsl.bmx</a><br><br>Feel free to borrow ideas/code from it. <br><br></td></tr></table><br>
<a name="1095153"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for this! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
