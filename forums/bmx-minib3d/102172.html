<!DOCTYPE html><html lang="en" ><head ><title >Normals? How Can I Fix</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Normals? How Can I Fix</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=119" >MiniB3D Module</a>/<a href="#bottom" >Normals? How Can I Fix</a><br><br>
<a name="1218675"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FBEpyon</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello,<br><br>So I have a problem that I am unable to fix, these normals are not working correctly, and things look so weird. I'm trying to make it look more like old school ISO terrain, and I can't get the shadowing to work correctly..<br><br>[IMG]http://i270.photobucket.com/albums/jj119/fbepyon/screen_zps36c5f249.png[/IMG]<br><br>If anyone has a suggestion that would be great!!<br><br>Thanks, <br><br></td></tr></table><br>
<a name="1218676"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GaryV</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <img src="http://i270.photobucket.com/albums/jj119/fbepyon/screen_zps36c5f249.png"> <br><br></td></tr></table><br>
<a name="1218677"></a>

<a name="1218679"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FBEpyon</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for fixing that for me, I was using the wrong codes for the forums..<br><br>Anyways.. What I'm trying to get is the top bright and the sides shaded if you haven't seen classic Isometric 2d terrain, but if you have you would know what I'm talking about.<br><br>If Minib3d had the shaders built into it, I would go that way as well, but for now I'm working vanilla for this.<br><br>Thanks.. <br><br></td></tr></table><br>
<a name="1218783"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> are you "mesh.UpdateNormals()" on your mesh?<br>how are you creating your terrain? <br><br></td></tr></table><br>
<a name="1218789"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FBEpyon</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I did the mesh.UpdateNormals(), I can send you the terrain mesh code, if you would like to see it.<br><br>Thanks <br><br></td></tr></table><br>
<a name="1218803"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you using the flat-shaded flag (EntityFX 4) ? <br><br></td></tr></table><br>
<a name="1218807"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FBEpyon</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes I am. <br><br></td></tr></table><br>
<a name="1218818"></a>

<a name="1218820"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try turning it off please. It gives those triangular artefacts. <br><br></td></tr></table><br>
<a name="1218824"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FBEpyon</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I does the same thing, I turned it on so you could see it, but I wanted the flat look anyways, so looking for a way to achieve this effect.<br><br>Thanks <br><br></td></tr></table><br>
<a name="1218894"></a>

<a name="1218895"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> What is usually done is to <i>duplicate</i> a vertex when you need more than one normal at that same point.<br><br>Using pure hardware flat-shading does not always work, as you can see.<br>You need to work on a software level, breaking the vertices of your mesh and welding back the ones that belong to coplanar triangles.<br>Then recalculate the vertex normals as the normalized cross-product of the counter-clockwise vertices of a triangle.<br><br>Further reading:<br><a href="http://blitzbasic.com/Community/posts.php?topic=100925" target="_blank">http://blitzbasic.com/Community/posts.php?topic=100925</a> <br><br></td></tr></table><br>
<a name="1218899"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >*</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> If your going for I so why not check to see if the y value is level with the other vertices if so then colour it one way, if its not then its a hill or cliff. One thing to check if the y heights on verts and then light them accordingly so ones facing away from light are darker. Its an old school trick to give lighting before they made things like quake etc <br><br></td></tr></table><br>
<a name="1218900"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FBEpyon</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Kryzon<br><br>So basically I would need to calculate the normals of the quads and then rebuild the mesh with the new calculations.<br><br>@EdzUp<br><br>I will have to try this, I'm using Shaders now, I just added them last night and they seem to be working GREAT!! So I might make a procedural texture that will show the different high lights. <br><br></td></tr></table><br>
<a name="1218920"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FBEpyon</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay everyone; I was able to get it resolved for the most part, I wrote a new set of commands for Quads, and added two triangles for each quad, and matched the Normals to them (wrote my own normals).. Thanks for the help all.. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
