<!DOCTYPE html><html lang="en" ><head ><title >Movement in response to collisions</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Movement in response to collisions</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Movement in response to collisions</a><br><br>
<a name="2127101"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >elite_dtn</td><td align="right"><font class=tiny>(Posted April)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have successfully coded the code which detects when there is a collision between the code, but i am struggling on the code for the player when they react to a collision. For example when they hit a wall / platform they should stop and not be able to go through it but when they land on top player jumping should be disabled and the player should be held at that position. <br><br></td></tr></table><br>
<a name="2127104"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted April)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> The simplest way to do it is to move fractionally in the direction you are going, but if there is a collision with something you can't (at least currently) go through, you move back normal to the object (at right angles to its surface) until you are just touching it.<br><br>I'm sure you know how to make a ball bouncing in a rectangle - everybody's first collision code.  In that code you reverse the velocity perpendicular to the wall when you detect a collision.  But in a platform game, you just ignore or zero that velocity component, and move the character back to the surface - no 'bounce'.  You'll have gravity always trying to create a downward velocity, so this will keep happening when you're walking on a surface. <br><br></td></tr></table><br>
<a name="2127243"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >elite_dtn</td><td align="right"><font class=tiny>(Posted April)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have done this but because my game is a platform game the response to a tile should be different depending on which side of the tile the player collided with however how do i program it so that i can calculate which side of the tile the player has collided with so that i can program different responses to this? <br><br></td></tr></table><br>
<a name="2127244"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted April)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think the usual way is to base it on which way the player is moving (of course you'll need to use relative movement if the tile is moving too).<br><br>This ties in nicely with basic platform concepts.  For example it's easy to see how it works in the common situation in which you can jump up through tiles, but they stop you when you fall down from above.  [The player position is usually relevant here too - i.e. the player doesn't get stopped unless he is completely above the tile when he falls onto it.  If he jumped so that only his head went through the platform, he would fall down again.]<br><br>So player position and player movement direction (both relative to the tile) have to be considered. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
