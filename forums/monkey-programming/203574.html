<!DOCTYPE html><html lang="en" ><head ><title >Gah! Stupid Linux! Help!</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Gah! Stupid Linux! Help!</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Gah! Stupid Linux! Help!</a><br><br>
<a name="2038007"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK, spent about an hour trying to resolve this today! Yesterday, I figured out how to build Ted on Linux (on the Raspberry Pi), but right at the end (after 15-20 minutes building) it complains as below:<br><br><pre class=code>
process.cpp: In member function ‘virtual void ProcWaiter::run()’:
process.cpp:349:29: error: ‘waitpid’ was not declared in this scope
make: *** [process.o] Error 1
pi@raspberrypi ~/Desktop/Dev/monkey/src/ted $ 
</pre><br>I found that 'waitpid' belongs to 'wait.h' (which is in /usr/include) but that just includes '/sys/wait.h'. I'm guessing it's failing because it can't find '/sys/wait.h'.<br><br>My /sys folder contains only sub-folders, no *.h files. I installed the linux-header files but they're in <i>/usr/include/arm-linux-gnueabihf/sys/</i> as far as I can tell.<br><br>I've been trying to create links between the folders, or to create symlinks to the .h files, but to no avail.<br><br>In short, what do I need to do to get the compiler to think my headers are in /sys? (For symlinks, I'd need the actual command, as my attempts with ln are just no happening!)<br><br>Or should I just bite the bullet and copy the entire contents of the arm-linux folder into /sys? In fact, gonna try that now, but I'd rather find out how this 'should' be handled... <br><br></td></tr></table><br>
<a name="2038008"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nope, no joy on copying!<br><br><pre class=code>
cp -r /usr/include/arm-linux-gnueabihf/sys/* /sys
</pre><br><br>... results in:<br><br><pre class=code>
cp: cannot create regular file blahblah.h: No such file or directory

[... repeat a zillion times...]
</pre><br><br>Well, that's the file I'm trying to <i>create</i>, fercrissakes! Tried as root, too. I had similar results when trying to symlink, so I'm stumped... :/ <br><br></td></tr></table><br>
<a name="2038024"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Don't know about building on a Raspberry Pi. But did you enclose the header file in chevrons or quotes and put it in Ted's std.h?. Builds OK (with warnings) on linux. <br><br></td></tr></table><br>
<a name="2038015"></a>

<a name="2038169"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, dawlane, and sorry for the delayed response. I had a look at std.h tonight but only found the qt4 include line.<br><br>In theory, the Pi should be no different to any other Linux distro (it's Debian built for ARM), but there's certainly no /sys/wait.h and Google hasn't really helped with any queries I've thrown at it in regards to the error message.<br><br>I'll continue to fiddle over the next few days and see if I can get anywhere... <br><br></td></tr></table><br>
<a name="2038173"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skid</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think you'll be fine commenting them out. The problem I think is the Pi cannot run two processes at the same time so waitpid is not possible. <br><br></td></tr></table><br>
<a name="2038174"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>/sys/wait.h sounds wrong to me - is there a /usr/include/sys/wait.h?<br><br>Maybe you haven't sent an include path correctly? <br><br></td></tr></table><br>
<a name="2038178"></a>

<a name="2038179"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  I had a look at std.h tonight but only found the qt4 include line. <br></div>Ah but did you add #include &lt;sys/wait.h&gt; to the top Ted's std.h file. This is what I had to do to get Ted to compile.<br>I would have thought the wait.h would have been include it the qt header files myself.<br><br>If your still having problems. You could try and add some gcc path environment variables to your commands shells .profile or the profile in /etc.. Don't forget to restart you command terminal or the machine for it to take effect.<br><br>@skid: Would they still not include some sort of dummy code as work around to get things to compile? <br><br></td></tr></table><br>
<a name="2038176"></a>

<a name="2038177"></a>

<a name="2038225"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>/sys/wait.h sounds wrong to me - is there a /usr/include/sys/wait.h?<br> <br></div><br>No (there's no sys folder in /usr/include here), but I have just found <b>/usr/include/wait.h</b> -- so how do I point the makefile/command line/Linux/whatever so it looks there?!<br><br>Currently having a go at building with dawlane's suggested #include but it'll be some time building...<br><br>@skid: Not sure what you mean about not being able to run two processes -- the Pi is running Debian so runs tons of processes anyway, desktop and all. Do you mean there's some kind of limit in terms of one program launching another?<br><br>Anyway, thanks to all so far! <br><br></td></tr></table><br>
<a name="2038228"></a>

<a name="2038229"></a>

<a name="2038230"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Woohoo! Thanks to dawlane, I've got Ted running on the Pi now -- adding the #include line worked first time! This is just using monkey-ext with upgrade to 'stable'.<br><br>The weird thing is, it runs really well -- quick to launch, scroll, docs work and everything. I expected it to really drag!<br><br>Just got to figure out setting up targets again, as I have nothing at the moment...<br><br>Here it is, built and run via a VNC session:<br><br><img src="https://dl.dropbox.com/u/3592022/tedonpi.png"> <br><br></td></tr></table><br>
<a name="2038235"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Glad you finally got it to work.<br><div class="quote"> Just got to figure out setting up targets again, as I have nothing at the moment... <br></div>I cheated and just made a copy of conf.macos and renamed it conf.linux then just modified the paths a little.<br>The problems you will fined is getting some of the other targets to build the same as windows and mac, glfw,stdcpp will work out of the box (with a linux build of trans). The others will require mserver to be rebuilt, and trans modified to run the other build tools using a posix command line. <br><br></td></tr></table><br>
<a name="2038239"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I did have GLFW running on the Pi (via command line, software-rendered) some time ago, but I've forgotten/blanked-out every detail of the experience. Hopefully what I posted at the time will let me piece it all back together...<br><br>(I still don't get how <i>sys/wait.h</i> connects to <i>/usr/include/wait.h</i>, but hey-ho!)<br><br>This experience has given me a new-found respect for Qt, though. The IDE feels genuinely very useable, even though the Pi experience on the whole is still rather slow (with Debian).<br><br>I kind of thought the monkey-ext stable version came with a build of trans, but I've just realised that even if it does, it'll be x86... d'oh! I'll get on to that tomorrow. (I'm only really interested in STDCPP, HTML5 and GLFW for the Pi at this point.)<br><br>Anyway, thanks for all your help with this. <br><br></td></tr></table><br>
<a name="2038240"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >NoOdle</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm very glad you got it working, I was dreading being the one to figure this out having never used linux before. Ordering myself a Pi pretty soon to have a play. <br><br></td></tr></table><br>
<a name="2038267"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I'm only really interested in STDCPP, HTML5 and GLFW <br></div>STDCPP and GLFW are easy peasy(ish), but getting mserver is going to be a lot more tricky as you have to have root privileges to open a virtual terminal and then the next part is getting the html file to run. <br><br></td></tr></table><br>
<a name="2038270"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jondecker76</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've run linux compiled html5 monkey projects in both chrome and firefox just by using a file:// path and no need for MServer <br><br></td></tr></table><br>
<a name="2038287"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not too worried about HTML5, actually -- that's never going to run well on the Pi since none of the browsers are likely to get accelerated canvases.<br><br>Once they finally get accelerated X drivers, though, GLFW should at least become a decent target. <br><br></td></tr></table><br>
<a name="2038470"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zoqfotpik</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> GLFW will compile and run under GCC? <br><br></td></tr></table><br>
<a name="2038484"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, it will -- I finally got it building here on the Raspberry Pi:<br><br><a href="http://www.monkeycoder.co.nz/Community/post.php?topic=3415" target="_blank">http://www.monkeycoder.co.nz/Community/post.php?topic=3415</a><br><br>... but I can't run the built executables as the Pi distro I'm using doesn't support GLX! Gah! <br><br></td></tr></table><br>
<a name="2038529"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zoqfotpik</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just a hint-- the way I got HTML5 files hosted on localhost was to install Apache 2.  Then, instead of bothering with the configuration Apache wants for symlinks, I did this:<br><br><pre class=code>watch -n 1 "cp -u -r main.build /var/www/&lt;gamedirectory&gt;"</pre><br><br>Every second, this will copy any changed files into a directory named after your game under /var/www.  Then you can just navigate to that from <a href="http://localhost." target="_blank">http://localhost.</a>  After you make a new compile, hit refresh on your browser and you will have the new version of your game in your browser.<br><br>I got the monkey IDE (didn't try with Ted) running under Wine. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
