<!DOCTYPE html><html lang="en" ><head ><title >UTF support in Monkey</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >UTF support in Monkey</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >UTF support in Monkey</a><br><br>
<a name="2019639"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >anawiki</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does current Monkey version (v50+) has any support for UTF? We are doing DE, FR, ES, IT versions of our game and it looks like there are issues with files that use international characers (Monkey simply doesn't load them). We made a program that decodes those chars, but it is a bit of pain to workaround this issue, but may e we are doing something wrong.<br><br>Cheers<br>Rman <br><br></td></tr></table><br>
<a name="2019648"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hima</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, it does. I tried Japanese and it works perfectly fine with BMFont <br><br></td></tr></table><br>
<a name="2019665"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >anawiki</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Really? What target? What do you use to create those UTF files? <br><br></td></tr></table><br>
<a name="2019689"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Aman</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> The way monkey works is that it ASCII code for each character and print it if the bitmap font has that character in the same order it is intended to be. The default mojo font has only upto 127. If you want to support more characters, you will have to create a bitmap font with more characters. Fontmachine editor is the easiest way to do that. Or you can let take advantage of the target. I wrote native code that allows you to show an alert box with a message for xna and android. Using that you will see that android support any language if the bm font is long enough.*<br><br>*Except languages that require reshapers(the shape of the character depends on its position in the word) <br><br></td></tr></table><br>
<a name="2019690"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >anawiki</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I know Monkey can draw those chars without issues using Angel Font or something like that. The problem is that LoadString seems to have issues with loading strings in UTF format (at least on iOS). Instead of real string it returns empty string (at least for me). <br><br></td></tr></table><br>
<a name="2019694"></a>

<a name="2019695"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TMK</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm using Unicode text files (UCS2 Little Endian) and LoadString works fine on those on iOS, returning correct characters for german etc., so perhaps LoadString requires Unicode and not UTF8 or something. <br><br></td></tr></table><br>
<a name="2019699"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >anawiki</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Unicode is fine, I don't need UTF that much. How do I make Unicode files? That question makes me such a lame ;) <br><br></td></tr></table><br>
<a name="2019705"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've had this problem too with loadstring failing when loading certain characters under ios.  Since that's the only way of loading raw data, the whole episode was a complete nightmare.<br><br>Considering alternatives to monkey for now.  Too many gotchas. <br><br></td></tr></table><br>
<a name="2019709"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TheRedFox</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why not base64 them out and unbase4 them in? <br>It would some most issues with Unicode storage in strings. <br><br></td></tr></table><br>
<a name="2019725"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TMK</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> anawiki: I'm using Notepad++ (free!) to make Unicode and other text files. It shows the format of the text file and allows you to convert them between the formats easily etc. :) <br><br></td></tr></table><br>
<a name="2019734"></a>

<a name="2019735"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Aman</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I totally misunderstood you.<br>Regular notepad works fine with Unicode. That is what I am using. When saving the file, choose Encoding to be Unicode instead of ANSI <br><br></td></tr></table><br>
<a name="2019743"></a>

<a name="2019744"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hima</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow, glad to know that the LoadString has problems before I decided to make a game on Monkey. The game I'm planning to do is a visual novel so it requires LoadString for dynamic scripting. I tried rendering Japanese and it works fine so I didn't investigate further. I'll see if it works with other languages as well, both in Unicode and UTF8 <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
