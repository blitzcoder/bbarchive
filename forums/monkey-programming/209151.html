<!DOCTYPE html><html lang="en" ><head ><title >GetClasses</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >GetClasses</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >GetClasses</a><br><br>
<a name="2095783"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sereschkin</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello there,<br><br>I have a question regarding GetClasses and #REFLECTION_FILTER. As far as I understand it is possible to reflect all classes compiled and used by your code. But what about other assemblies? I mean assemblies build by someone else. Is it possible to load them somehow and get classes that resides inside that foreign assembly? Using c# is is possible to load a Type or an assembly and get all the members out of that assembly. What is the monkey way to do this (if possible)? <br><br></td></tr></table><br>
<a name="2095784"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's not possible as some of the targets do not provide valid class interfaces for their compiled modules. I think that's one of the reasons why Monkey modules are not precompiled <br><br></td></tr></table><br>
<a name="2095801"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImmutableOctet(SKNG)</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> From what I understand, you can't use reflection with external classes directly. You'd have to use a wrapper class of some kind. To this same effect (Unless this has changed), generic/template classes within Monkey aren't supported by reflection. I think that was part of the reasoning behind not making <a href="http://www.monkey-x.com/docs/html/Modules_monkey.boxes.html" target="_blank">the standard "box" classes</a> generic.<br><br><b>Wait, hang on just a minute, do you mean external code, or another module?</b> If it's external (Target native; C++, C#, etc) code you're talking about, then what I said above is the situation. If you're talking about another module made in Monkey, then you just need to add that module to the reflection filter using the '+=' operator (Or manually assign it with '='). Or you could use "*" as your filter <i>if you want <b>everything</b> to be reflected</i>. I don't think <b><a href="http://www.monkey-x.com/docs/html/Programming_Language%20reference.html#visibility" target="_blank">private elements</a></b> (Private classes, functions, etc) can be accessed through reflection, though. (It's not like they're supposed to be, anyway)<br><br>Okay, so it sounds like you're not too familiar with Monkey's mindset with regard to source code. Monkey is <b><i>very</i></b> modular. Every single file you make is considered a module. That module is separate from any other source code you have. By importing a module, you get access to that module and its <b>public</b> imports. You can import <b>any module</b> your compiler has been given access to. Your compiler's configuration file has a section in it about module directories. These directories are all places the compiler can look for a module. Standard behavior for Monkey when importing is for it to search the local directory of the current module before searching the global directories you specify. <b>Once Monkey's compiler finds a module, you have access to it, plain and simple.</b> Since global and local modules are seen as the same in Monkey, the reflection functionality doesn't actually care where you put the module. If you add a module to the filter, you're just telling the compiler that module should be reflected (From a Monkey perspective, not the native language it becomes). Where the module is, who wrote it, and how it relates to your modules directly doesn't matter. All that matters is that the module is imported.<br><br>With all of that in mind, you should see how Monkey doesn't really have a sense of local and global, only available modules. But with this mindset comes a problem, Monkey doesn't compile modules individually. Once a module's imported, it's just compiled to the native language for the target, then placed in a source file with every other module (Which is then compiled by each target's SDKs/tools). But, since not all targets support compiled objects (Or similar), you end up with Monkey needing to compile the source each time. So, compiled modules aren't a thing in Monkey. You could technically use external tools to compile the library, but then it's out of the scope Monkey code lives in (Not to mention each platform would need a compiled version). You'd need to set that code up externally, and it's overall not worth it to most. This means the only way for someone to release a module is by releasing its source, or using external means.<br><br><b>See: <a href="http://www.monkey-x.com/docs/html/Programming_Language%20reference.html#programs" target="_blank">The documentation's "Programs and declarations" section</a>.</b><br><br>Your game or other project on the other hand is compiled as per usual. Releasing your games source code is up to you. But, if you at one point are willing to release a specific module you made for your game, this tends to be a lot easier with Monkey's modular design. This is not always the case, but with general purpose code you write (Input mapping for example), it usually is.<br><br><b>TL;DR: Monkey code which is not external code / accessing external code (Target native source; not Monkey code), or generic/template based is always accessible by the reflector. If you want to use an external language's reflection functionality, you'll have to set it up like any other external code.</b><br><br><b>If you haven't read it already, <a href="http://www.monkey-x.com/docs/html/Modules_reflection.html" target="_blank">here's the official page for the 'reflection' module</a>.</b> <br><br></td></tr></table><br>
<a name="2095800"></a>

<a name="2095799"></a>

<a name="2095798"></a>

<a name="2095797"></a>

<a name="2095796"></a>

<a name="2095795"></a>

<a name="2095794"></a>

<a name="2095793"></a>

<a name="2095792"></a>

<a name="2095791"></a>

<a name="2095790"></a>

<a name="2095789"></a>

<a name="2095788"></a>

<a name="2095787"></a>

<a name="2095786"></a>

<a name="2095812"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sereschkin</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow, thank you for these overwhelming and perfect answers. Now I have sth. to think about. Thanks to you guys I found a solution for my problem, but what scares me is the fact that generics cannot be reflected. Are you absolutely sure? Is there a workaround for this? For example: to extend a generic class in a non generic class or sth. like that?<br><br><b>UPDATE: I can confirm that generic classes cannot be reflected :(</b> <br><br></td></tr></table><br>
<a name="2095811"></a>

<a name="2095808"></a>

<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
