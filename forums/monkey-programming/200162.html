<!DOCTYPE html><html lang="en" ><head ><title >Help with Multidimensional Arrays</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Help with Multidimensional Arrays</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Help with Multidimensional Arrays</a><br><br>
<a name="2000816"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cartman</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I see in the documentation that there you can do an array of an array of Ints. But there is no indication of how to manipulate the elements within such an array. Does anyone have any sample code they could share on how to simulate a multidimentional array in monkey? <br><br></td></tr></table><br>
<a name="2000818"></a>

<a name="2000820"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skid</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> For a simple :Int[2][2] array, an array of arrays can be declared like this:<br><pre class=code>

'Import mojo

Global myarray:=[New Int[2],New Int[2]]

Function Main()

myarray[0][0]=20
myarray[0][1]=30

Print myarray[0][1]

End
</pre> <br><br></td></tr></table><br>
<a name="2000930"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GW_</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> .. <br><br></td></tr></table><br>
<a name="2000837"></a>

<a name="2000826"></a>

<a name="2000923"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cartman</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks guys. This helped alot. <br><br></td></tr></table><br>
<a name="2000946"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> SA, cool. <br><br></td></tr></table><br>
<a name="2000950"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sledge</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Could we not have some syntactic sugar to enable us to declare these as if they were multi-dimensional? <br><br></td></tr></table><br>
<a name="2037520"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zurrr</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I try to create multidimentional field array like this but fail. Please help<br><pre class=code>
Field blurpos:Int[5][2]
</pre> <br><br></td></tr></table><br>
<a name="2037519"></a>

<a name="2037536"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >maltic</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've made these, they are incredibly basic, but better than nothing:<br><br><pre class=code>

Class Array2D&lt;T&gt;
	Field arr:T[]
	Field i:Int
	Field length1:Int, length2:int
	
	Method New(a:Int, b:Int)
		arr = New T[a*b]
		length1 = a
		length2 = b
		i = b
	End
	
	Method New(a:Int, b:Int, t:T)
		arr = New T[a*b]
		length1 = a
		length2 = b
		i = b
		For Local k:Int = 0 Until a*b
			arr[k] = t
		next
	End
	
	Method get:T(x:Int, y:Int)
		Return arr[x*i + y]
	End
	
	Method set:void(x:Int, y:Int, t:T)
		arr[x*i + y] = t
	End
End

Class Array3D&lt;T&gt;
	Field arr:T[]
	Field j:Int, i:Int
	Field length1:Int, length2:Int, length3:int
	
	Method New(a:Int, b:Int, c:int)
		arr = New T[a*b*c]
		length1 = a
		length2 = b
		length3 = c
		i = b*c
		j = c
	End
	
	Method New(a:Int, b:Int, c:Int, t:T)
		arr = New T[a*b*c]
		length1 = a
		length2 = b
		length3 = c
		i = b*c
		j = c
		For Local k:Int = 0 Until a*b*c
			arr[k] = t
		next
	End
	
	Method get:T(x:Int, y:Int, z:int)
		Return arr[x*i + y*j + z]
	End
	
	Method set:void(x:Int, y:Int, z:Int, t:T)
		arr[x*i + y*j + z] = t
	end
End


</pre> <br><br></td></tr></table><br>
<a name="2037550"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's what I use (the Generic class has various generic functions, including these):<br><br><pre class=code>

' Usage example:
Local a:Int[][] = Generic&lt; Int &gt;.AllocateArray( 3, 5 )
a[ 2 ][ 4 ] = 4
Print a[ 2 ][ 4 ]



' Class for generic functions
Class Generic&lt; T &gt;
	
	' Allocate a 1D array of objects
	Function AllocateArray:T[]( i:Int )
		Local arr:T[] = New T[ i ]
		Return arr
	End
	
	
	' Allocate a 2D array of objects
	Function AllocateArray:T[][]( i:Int, j:Int )
		Local arr:T[][] = New T[ i ][]
		For Local index:Int = 0 Until i
			arr[ index ] = AllocateArray( j )
		Next
		Return arr
	End
End
</pre><br><br><br>Or you can just do it manually.  Look in bananas/gerryq/picpuzzle for an example of a 3D array of ints allocated the 'normal' way. <br><br></td></tr></table><br>
<a name="2037545"></a>

<a name="2037546"></a>

<a name="2037547"></a>

<a name="2037548"></a>

<a name="2037549"></a>

<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
