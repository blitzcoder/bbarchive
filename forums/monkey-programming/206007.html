<!DOCTYPE html><html lang="en" ><head ><title >OUYA graphics strangeness?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >OUYA graphics strangeness?</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >OUYA graphics strangeness?</a><br><br>
<a name="2068754"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >caffeinekid</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi there I've just got an OUYA from the very kind creators to hopefully port some or all of my games across, and have started with the one I did back in January - Jumping Jack.<br><br>The controller stuff works brilliantly but there seem to be some rather odd things happening with the graphics for some reason.<br><br>The first run it works fine but after game over (or sometimes on restarting the game from the PLAY menu) the graphics seem to swap around and just go crazy. The player sprite was being displayed as the title screen logo, and the fonts were changed for just white blank blocks.<br><br>Has anyone else had this happen to them? I'm very confused.<br><br>Should look like this...<br><img src="http://imgur.com/xhw8n65.jpg"><br><br>Ends up looking like this...<br><img src="http://imgur.com/FEzYUST.jpg"><br>(or even with the font image replacing the logo) <br><br></td></tr></table><br>
<a name="2068753"></a>

<a name="2068752"></a>

<a name="2068755"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >computercoder</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> How are other games playing - not yours, but from the Discover? I am trying to determine if the console you have is bad, or if there is an issue in the code. <br><br>I haven't ran into that issue before. I have one of the KickStarter consoles (From June/July when I recieved mine).<br><br>Do you have a sample that I could test on my console with? <br><br></td></tr></table><br>
<a name="2068758"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> (or sometimes on restarting the game from the PLAY menu)  <br></div><br><br>yikes! looks like the Ouya dumps the graphics context and creates a new one. You'll need to reload your graphics using Monkey's OnResume() function.<br><br>not sure why it would do this after a game over, though... <br><br></td></tr></table><br>
<a name="2068757"></a>

<a name="2068764"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >caffeinekid</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> The other games I've tried so far (not many as I've only had it about 2 days) seem fine. <br><br>I just wondered if there was something specific to the OUYA that was different regarding graphics that I wasn't getting right, or if it was a known issue or if I'm just being dumb even.<br><br>Jumping Jack for Android has about 50 sales on Google Play and no error reports so I'm assuming it's something on the OUYA side that is slightly different.<br><br>Thanks Adam. I will try putting a reload of my media in the OnResume method and see if that makes any difference. <br><br></td></tr></table><br>
<a name="2068765"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >caffeinekid</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> @computercoder - how do I know if this is from the orignal batch or a newer one? I emailed them saying I was a dev and they sent me a "slightly used but still super awesome" console to port my games and dev on. <br><br></td></tr></table><br>
<a name="2068766"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >computercoder</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>not sure why it would do this after a game over, though... <br> <br></div><br>I think that depends on how his code is written. Without trying to step on any toes or make any assumptions, if the code attempts to utilize the same context instead of grabbing a fresh one when the new game starts, wouldn't it perform in this manner too? <br><br></td></tr></table><br>
<a name="2068768"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >caffeinekid</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's a simple state machine so that shouldn't be an issue?<br><br>Goes from:- <br><br>STATE_MENU &gt; STATE_PREGAMEFADE &gt; STATE_GAME &gt; STATE_GAMEOVER &gt; STATE_MENU <br><br></td></tr></table><br>
<a name="2068769"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >computercoder</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>how do I know if this is from the orignal batch or a newer one?<br> <br></div><br>Pfft! I'm not at my OUYA at the moment, but It's under the System menu and there is a menu option that tells you the software version and hardware... I want to say the from the Main Menu, select "Manage" or "Maintenance" and then "System". There will be the hardware version and the software version on the details on screen.<br><br>Sorry if this leaves you confused on how to get to it, but I really need my OUYA in front of me so I could tell you exactly! <br><br></td></tr></table><br>
<a name="2068775"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >caffeinekid</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Could this be that the game is rendering before the graphics have fully loaded? I've added an empty OnLoading method and hopefully it's not doing it now.<br><br>I've just started using a more recent version of Monkey (for the OUYA target) and the one I was previously using doesn't have OnLoading.<br><br>Can Monkey start doing OnRender before it has everything it needs in memory? <br><br></td></tr></table><br>
<a name="2068776"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >computercoder</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> OnLoading() I believe (someone correct me if I am wrong) is used to be able to load all the content and be able to do so. It should safely load your content then allow proper rendering.<br><br>According to the Help in Monkey:<br><div class="quote"> <br>OnLoading : Int ()<br><br>This method is called instead of OnRender when the application should render itself, but there are still resources such as images or sounds in the process of being loaded.<br> <br></div><br><br>I would assume by that definition that you should utilize OnLoading instead to render your game. <br><br></td></tr></table><br>
<a name="2068781"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> use OnLoading to draw a splash screen.<br><br>for android/Ouya, your assets are loaded synchronously, so they should be ok when it's time to OnRender().<br><br>What Monkey version are you using? v70 or above? <br><br></td></tr></table><br>
<a name="2068783"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> It does sound like a 'discarded graphics' issue (ie: Android sometimes dumps all your graphics forcing you to reload them) but this is supposed to be handled internally automatically by Monkey.<br><br>Furthermore, you should generally get an exception when attempting to render a discarded texture, not just dodgy graphics(?) so I suspect it's the Ouya doing something 'differently'.<br><br>Can you put together a reproducable demo so I can take a look at it? Or is there a way I can reproduce with an existing banana? <br><br></td></tr></table><br>
<a name="2068789"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ElectricBoogaloo</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://bit.ly/pSXOJs" target="_blank">This banana</a> appears to have corrupt graphics.<br><br>(*sorry*) <br><br></td></tr></table><br>
<a name="2068787"></a>

<a name="2068818"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >computercoder</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just a quick update: I noticed this SAME strangeness while purusing the menus in the OUYA system. I was looking at the Apps installed on my OUYA to see if there was a way I could transfer them from it to the USB storage device I bought exclusively for it. The words turned to blocks for ALL the descriptions when I highlighted them, but after the highlight/focus was removed, the words re-appeared.<br><br>Based upon this evidence, I think the real issue lies in the OUYA itself. Perhaps its having video driver issues? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
