<!DOCTYPE html><html lang="en" ><head ><title >fixed rate/ deltatime</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >fixed rate/ deltatime</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >fixed rate/ deltatime</a><br><br>
<a name="2004627"></a>

<a name="2004628"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> lets say you have a spaceship travelling across the screen at 8 pixels per frame,<br><br>now the game is quite complicated (and therefore slow) so it doesnt update at 30FPS like its supposed to.<br><br>How do you make it still travel the same distance. delta time?<br><br>How do you calculate it in monkey? <br><br></td></tr></table><br>
<a name="2004640"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hima</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> There's a code that calculate the delta time in the sample that come with monkey. You should take a look into that. <br><br></td></tr></table><br>
<a name="2004641"></a>

<a name="2004642"></a>

<a name="2004643"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skid</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Since monkey version 34 or so OnUpdate will always be called at 30FPS and only OnRender will be called less often if game is complicated / system is slow so as long as you move your ship in OnUpdate you have nothing to worry about. <br><br></td></tr></table><br>
<a name="2004651"></a>

<a name="2004652"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Simon,<br><br><div class="quote"> Since monkey version 34 or so OnUpdate will always be called at 30FPS <br></div><br><br>Is that independent of the update rate (SetUpdateRate())? I get different results if that's true.<br><br><br><br>@Slenkar,<br><br>You can give this code a look. <a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=548" target="_blank">http://www.monkeycoder.co.nz/Community/posts.php?topic=548</a><br><br>L8r, <br><br></td></tr></table><br>
<a name="2004657"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skid</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> The 30 FPS was in context of the original post. It is of course whatever you set it to with SetUpdateRate. <br><br></td></tr></table><br>
<a name="2004658"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK, missed that:)<br><br>L8r, <br><br></td></tr></table><br>
<a name="2004879"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tagoror</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> As I read OnUpdate goes at 30FPS. Means it's not necessary to write code to calculate the fixed rate? <br><br></td></tr></table><br>
<a name="2004880"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skid</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> That is correct. <br><br></td></tr></table><br>
<a name="2004883"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sledge</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Since monkey version 34 or so OnUpdate will always be called at 30FPS and only OnRender will be called less often if game is complicated / system is slow so as long as you move your ship in OnUpdate you have nothing to worry about. <br></div>I'm not a fan of delta-time (which, relax, I won't blither on about here) -- would the corollary to this be that moving stuff during OnRender will ensure that no frames are skipped (ie if it's too busy it slows down)? <br><br></td></tr></table><br>
<a name="2004884"></a>

<a name="2004885"></a>

<a name="2004886"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skid</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Umm, in Monkey Update rate is constant and Render rate is performance dependent so yes if you move stuff in OnRender it will slow down when the going gets busy. <br><br></td></tr></table><br>
<a name="2004888"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sledge</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, cool -- I'm really thinking about genres like shmups where slow-down is often the expected behaviour. I guess the way to cap everything to the update rate yet never frame-skip, rather than updating during OnRender, would be to update during OnUpdate but only if a render had occurred since the previous OnUpdate. <br><br></td></tr></table><br>
<a name="2004900"></a>

<a name="2004901"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm failing to see why you would want your update rate slower than your render rate.  In a perfect world, assuming we have a target render FPS of 60 FPS (for vsync), we would only be calling OnUpdate every other frame.  Surely you would want your update rate to be as fast as possible, then only call OnRender when you need to match your target render FPS. Otherwise you're rendering one "state" twice.<br><br>Of course this is platform dependent, since some devices may have little to no hope of ever running 60 FPS. <br><br></td></tr></table><br>
<a name="2004902"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> some devices may have little to no hope of ever running 60 FPS <br></div><br><br>Damn you Kindle!! :D <br><br></td></tr></table><br>
<a name="2004903"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well I don't want to destroy the party here but what if an update takes longer than the value set with SetUpdateRate? ;) <br><br></td></tr></table><br>
<a name="2004913"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wiebow</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Then your game will slow down. <br><br></td></tr></table><br>
<a name="2004914"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes of course it will. ;) I mean it's a bit dangerous to rely on the fix update rate alone. <br><br></td></tr></table><br>
<a name="2004949"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Then your game will slow down. <br></div><br>And this is why you use delta timing. <br><br></td></tr></table><br>
<a name="2004953"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Loofadawg</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Feel like I am watching/reading a ping pong match. <br><br></td></tr></table><br>
<a name="2004958"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> a ping pong match <br></div><br><br>With and without delta timing?!!? ;) <br><br></td></tr></table><br>
<a name="2004959"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Loofadawg</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> LOL... not sure. ;^)<br><br>I *am* watching this thread carefully though.  May find I need at some point to use delta timing. <br><br></td></tr></table><br>
<a name="2004973"></a>

<a name="2004974"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am in the delta timing camp at the moment. I have had this discussion with others and most seem to not see the benefit this kind of algorithm. With all the various targets and for that matter browsers and OS's it's hard to write code that will run on all of them as designed. <br><br>I do not see the down side to gaining control over timing and thus maintaining the 'look and feel' of an application over multiple targets.  Some of the arguments against delta timing range from it's unnecessary to the algorithm it self will slow an application. Both retorts are untrue IMHO. Once you grasp that the end result of delta timing is a quality application experience, I think it's a 'no brain-er'.<br><br>L8r, <br><br></td></tr></table><br>
<a name="2004978"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> I agree Richard. I always use delta timing combined with fixed update ratios which are sometimes necessary for physics stuff... <br><br></td></tr></table><br>
<a name="2004980"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sledge</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I do not see the down side to gaining control over timing and thus maintaining the 'look and feel' of an application over multiple targets. Some of the arguments against delta timing range from it's unnecessary to the algorithm it self will slow an application. Both retorts are untrue IMHO. Once you grasp that the end result of delta timing is a quality application experience, I think it's a 'no brain-er'. <br></div>Thus baited I shall venture :D For me it's a matter of us making <i>games</i>, an area in which visually representing the internal state of the application is acutely important. A system that restricts the visual information being supplied to the player at the exact time they most likely require it (when things get busy) works directly against what we're trying to deliver.<br><br>As usual this is being discussed as a technical matter for spods when it's really a gameplay matter for the end-user. There's no "quality application experience" in being killed by a bullet you never saw because the game never drew it. <br><br></td></tr></table><br>
<a name="2005005"></a>

<a name="2005007"></a>

<a name="2005008"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> There's no "quality application experience" in being killed by a bullet you never saw because the game never drew it. <br></div><br><br>And this is where I disagree. You see, you discount follow through. Your eye naturally completes sequential animation if it is displayed smoothly. There is nothing more disagreeable then a 'hiccup' in timing where your following through and the application is not. Think of it as a freeze in the display and an abrupt start. Nasty. Instead delta timing puts the screen object in the right spot at the right time. <br><br>I am not targeting huge losses in a set frame rate but acceptable loss. Even though you may not see the exact point of collision your going to see the following animated explosion or what-not and your eye will naturally except the outcome. Considering that were really talking about a loss of a 10%-15% (possibly more) of frames per-second the loss is negligible given the trade off in the steady rate of display.<br><br>L8r, <br><br></td></tr></table><br>
<a name="2005397"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sledge</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> You see, you discount follow through...I am not targeting huge losses in a set frame rate but acceptable loss. Even though you may not see the exact point of collision your going to see the following animated explosion or what-not and your eye will naturally except the outcome. <br></div><br><br>I think that's a thoroughly reasonable line of thought but that the current delta-time model doesn't support it reliably enough, mostly because we can't really predict what a user's system is going to do. We don't get to dictate that only small hiccups occur. For local 2D games (which is what I'm really squawking about -- networked and 3D games make intrinsic cases for delta-time) I guess what I'd like to be able to do, ideally, is declare the absolute minimum acceptable rate, below which the game will slow rather than skip frames. (And this is a play-testing issue -- I should know that at 15fps my game remains playable but at 10fps it's just too tricky.)<br><br>So yeah, using delta-time to offer higher-spec'd systems *more* graphical fidelity than the minimum would be great. But that's not what happens when delta-time gets adopted, what happens is it grants carte blanche to chuck a bazillion things at a platform without caring whether the older models will cope because, superficially, detla-time makes it look like they do. I worry that it makes us sloppy, basically. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
