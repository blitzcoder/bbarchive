<!DOCTYPE html><html lang="en" ><head ><title >animated Images?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >animated Images?</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >animated Images?</a><br><br>
<a name="2000759"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> is there a way to load animated images like BlitzBasic/Max? or an alternative for monkey? <br><br></td></tr></table><br>
<a name="2000773"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >matt</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You want to look into the frames parameter of the LoadImage command<br><br>docs: index.html#/mojo.graphics/LoadImage <br><br></td></tr></table><br>
<a name="2000832"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks a lot. I didn't realize all the information was in the documentation. <br><br></td></tr></table><br>
<a name="2001268"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does Monkey support sprite sheets that spans horizontal and vertical images?<br><br>Ive just loaded an image which contains 16 (32x32 pixels) sprites, 8 on the top row and 8 on the bottom row. And I used the command:<br><br><pre class=code>
enemy1Img = LoadImage("aster32.png", 16, Image.MidHandle)
</pre><br><br>When I displayed the first frame it was messed up - I had to change the image to one long line of sprites.<br><br>BTW The size of the image is 256x64 <br><br></td></tr></table><br>
<a name="2001273"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> From Monkey documentation:<br><div class="quote"> <br>The frames of a multiple frame image must be laid out in a horizontal strip, in which case the width of the loaded image is the width of image file divided by the number of frames, and the height of the image is the height of the image file.<br> <br></div><br><br>I believe Mar is looking into changing the something in LoadImage. From this thread:<br><a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=188" target="_blank">http://www.monkeycoder.co.nz/Community/posts.php?topic=188</a><br><br>I believe he is going to redo the LoadImage format as I don't see any other way he can solve that problem. <br><br></td></tr></table><br>
<a name="2001271"></a>

<a name="2001270"></a>

<a name="2001272"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Jesse... didnt read the doco there!<br><br>Yeah I saw your thread about the white images... <br><br></td></tr></table><br>
<a name="2001274"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>Actually, there may already be a solution!<br><br>Try something like:<br><br>Local atlas:=LoadImage( "blah.png" )<br>Local image:=atlas.GrabImage( 0,0,frame_w,frame_h,frame_count )<br><br>This should correctly 'wrap around' allowing you have multiple rows of frames instead of just a single row. <br><br></td></tr></table><br>
<a name="2001279"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep that works! :)<br><br>Would be nice if there was one command to do it though :P <br><br></td></tr></table><br>
<a name="2001280"></a>

<a name="2001281"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> What's wrong with<br><pre class=code>
LoadImage(URL,width,height,frame_count)
</pre><br>?<br><br>edit:<br>I discovered there's no reference in the guide, and in the source code is marked as *deprecated* - but I dont' know why eliminate it, as it seems to work (and it's used by SetFont command too) <br><br></td></tr></table><br>
<a name="2001285"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thats only good for an image in a horizontal strip format. <br><br></td></tr></table><br>
<a name="2001289"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Therevills<br><br>no, sorry, you are referring to the first variation of LoadImage<br><br>There are 2 different implementation (thanks overloading)<br><br>LoadImage(URL,frame_count)<br>LoadImage(URL,width,height,frame_count)<br><br>The second one is similar to the Blitz3d/BlitzMax one: URL can be a 'rectangular/boxed' image divided in X x Y images (of the same sizes)<br>So you can provide a 128x64 pixel images containg 32x32 pixels frames (frame_count is 4x2 = 8 frame) <br><br></td></tr></table><br>
<a name="2001292"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taumel</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've used LoadImage and DawImageRect (where you have to deal with calculating the rect on your own) and it worked out pretty well: <a href="http://spielwiese.marune.de/_mon/mno/MonkeyGame.html" target="_blank">mno</a> <br><br></td></tr></table><br>
<a name="2001290"></a>

<a name="2001301"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks degac...<br><br>Its funny as the code Mark provided is very similar to the code in graphics.monkey:<br><br><pre class=code>
'deprecated!
Function LoadImage:Image( path$,frameWidth,frameHeight,frameCount,flags=Image.DefaultFlags )
	Local atlas:Image=New Image( path,1,0 )
	If atlas Return atlas.GrabImage( 0,0,frameWidth,frameHeight,frameCount,flags )
End
</pre> <br><br></td></tr></table><br>
<a name="2001518"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>&gt; LoadImage(URL,width,height,frame_count)<br><br>I don't like this version for 2 reasons:<br><br>* It creates an extra image 'behind the back' of the user.<br><br>* It could encourage people to loading atlases multiple times, wasting gfx mem.<br><br>In general, GrabImage should be preferred I think as it encourages 'image sharing'.<br><br>The above LoadImage is therefore currently 'deprecated' and marked for destruction! <br><br></td></tr></table><br>
<a name="2001531"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> So you are saying that we shouldn't be so lazy :P <br><br></td></tr></table><br>
<a name="2001535"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt;So you are saying that we shouldn't be so lazy :P <br><br>Bingo! <br><br></td></tr></table><br>
<a name="2001537"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> :)<br><br>BTW Why "atlas"? <br><br></td></tr></table><br>
<a name="2001544"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>&gt; BTW Why "atlas"? <br><br>It's a term often used in 3D to describe the practice of packing multiple anims/images/textures into one larger anim/image/texture. <br><br></td></tr></table><br>
<a name="2001546"></a>

<a name="2001547"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ta! Learn something new everyday :)<br><br><a href="http://en.wikipedia.org/wiki/Texture_atlas" target="_blank">http://en.wikipedia.org/wiki/Texture_atlas</a> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
