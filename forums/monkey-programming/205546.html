<!DOCTYPE html><html lang="en" ><head ><title >Curve Angle</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Curve Angle</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Curve Angle</a><br><br>
<a name="2062122"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >monotonic</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi All,<br><br>I'm new to Monkey but have been using various different engines for a few years now.<br><br>I'm currently working a car game and have hit a bit of a wall. I need to smoothly rotate from one angle to another, in other engines I would use something like Lerp (3D) or CurveAngle. I cannot seem to find a similar function in Monkey.<br><br>Say my (top down 2D) car is facing 45 degress and my next waypoint is at 90 degress, how would I smoothly rotate the angle?<br><br>Thanks in advance. <br><br></td></tr></table><br>
<a name="2062124"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amon</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sin/Cos/Atan/Atan2<br><br>Search for those commands. <br><br></td></tr></table><br>
<a name="2062126"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> it's called "tweening" for 2d.<br><br>check out monkey/bananas/skn3/tweening<br>or<br>diddy<br><a href="http://monkeycoder.co.nz/Community/posts.php?topic=4589" target="_blank">http://monkeycoder.co.nz/Community/posts.php?topic=4589</a><br>or<br><a href="http://monkeycoder.co.nz/Community/posts.php?topic=4173" target="_blank">http://monkeycoder.co.nz/Community/posts.php?topic=4173</a><br>or box2d<br><a href="https://code.google.com/p/monkeybox2d/" target="_blank">https://code.google.com/p/monkeybox2d/</a> <br><br></td></tr></table><br>
<a name="2062127"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >silentshark</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Monotonic,<br><br>Might have misunderstood.. can't you just have a variable for the angle, increment it in the OnUpdate loop, then use the rotation parameter to DrawImage in your OnRender loop? <br><br></td></tr></table><br>
<a name="2062239"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >monotonic</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Sin/Cos/Atan/Atan2<br><br>Search for those commands.  <br></div><br><br>Calculating the angle is not a problem, I got my head around basic trigonometry many moons ago.<br><br><div class="quote"> it's called "tweening" for 2d.<br><br>check out monkey/bananas/skn3/tweening <br></div><br><br>Tweening! That is what I was looking for, I'm used to working in 3D so was searching for things like 2D Lerp and 2D Interpolation which returned nothing useful. Thank you. <br><br></td></tr></table><br>
<a name="2062267"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's it:<br><pre class=code>Function Lerp:Float(value1:float, value2:float, speed:float)
	Local dif:Float = value2 - value1
	speed = Abs(speed)
	If Abs(dif) &lt; speed Then Return value2
	Return value1 + speed * Sgn(value2 - value1)
End</pre><br><br>You can also use non lienar interpolation for "slowly stopping" interpolation:<br><br><pre class=code>Function Eerp:Float(value1:float, value2:float, speed:float)
	Local dif:Float = value2 - value1
	Const NARROW_FACTOR:Float = 10.0 'Avoid interpolation to be too quick.
	value1 += dif * (speed / NARROW_FACTOR)
	Return value1
End</pre><br><br>If you multiply the speeed factor by any deltatime factor, you should get smooth tweening if this interpolation is used on animations.<br><br>Maybe this could be built-in to the Monkey Math module? <br><br></td></tr></table><br>
<a name="2062264"></a>

<a name="2062265"></a>

<a name="2062266"></a>

<a name="2062278"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >monotonic</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> @ziggy<br><br>Interesting, I will try that function out when I get home after work. Thank you for that :) It really should be built into the Monkey framework as this method is used quite frequently in many different languages, I was surprised when I couldn't find it in the docs.<br><br><b>Edit:</b> I'm using you IDE btw, great work! <br><br><b>Edit 2:</b> Does this forum not send out notification emails when a reply is posted? <br><br></td></tr></table><br>
<a name="2062277"></a>

<a name="2062305"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I'm using you IDE btw, great work!  <br></div>Thanks! That's very appreciated!<br><div class="quote"> Does this forum not send out notification emails when a reply is posted?  <br></div>You have to subscribe to the thread. Notice the small "subscribe" label at the bottom left area of the page.<br>Edit: To use it on a 2D vector, be sure to normalize the vector and multiply speed for X and Y of the normalized vector. The same applies for 3D, etc. <br><br></td></tr></table><br>
<a name="2062285"></a>

<a name="2062332"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >silentshark</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, I'm a complete muppet when it comes to this stuff. Anyone got a nice pointer to what tweening is, and how it can help? <br><br></td></tr></table><br>
<a name="2062333"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >monotonic</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> In the context of what I'm doing its the process of gradually rotating from one angle to another. For instance cars don't go from one direction to another instantly, they gradually turn until they reach the desired angle. The term also applies to moving from one animation to another in a smooth manner rather than jumping instantly. <br><br></td></tr></table><br>
<a name="2062336"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >silentshark</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah, sounds exactly like the kind of stuff I've been wanting to do.. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
