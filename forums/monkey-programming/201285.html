<!DOCTYPE html><html lang="en" ><head ><title >If I want a game to run on all platforms</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >If I want a game to run on all platforms</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >If I want a game to run on all platforms</a><br><br>
<a name="2011579"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hardcoal</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> what are the rules? <br><br></td></tr></table><br>
<a name="2011580"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Your question is too vague. <br><br></td></tr></table><br>
<a name="2011581"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raz</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Rules? There are no rules!!*<br><br><br>*there may be rules <br><br></td></tr></table><br>
<a name="2011582"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hardcoal</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I ment If I make a game for HTML5 for example<br>will the code be suitable for all platforms.<br><br>I understand that my quastion is vague.<br>maybe there is no clear answer for that. <br><br></td></tr></table><br>
<a name="2011583"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raz</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hardcoal, it sounds like you're learning quite a lot quite quickly. If I were you I wouldn't worry about it too much.<br><br>Make your game for HTML5 and then worry about other things later. <br><br></td></tr></table><br>
<a name="2011586"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hardcoal</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> :) sure thing. good point. <br><br></td></tr></table><br>
<a name="2011587"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Short answer, it depends on how you have coded it and your resources. <br><br>It will probably run. But there are differences in the sound department, input and screen resolutions. <br><br></td></tr></table><br>
<a name="2011588"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well the whole point of Monkey I feel is that you should write the code once and it should work on all targets.<br><br>Of course there are a few little hiccups like different sound formats, different graphics resolutions and different methods of inputs etc ;) <br><br></td></tr></table><br>
<a name="2011590"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hardcoal</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I see, so its 90% precents compatible minus few changes that must be handled <br><br></td></tr></table><br>
<a name="2011596"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >muddy_shoes</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> There's a difference between the code running on all platforms and the game working well on all platforms. Anything written in Monkey without messing with native implementation should run on every target but that doesn't mean that the game will be playable. The "rules" for creating something that works well across the platforms would be more about game design than technical points about Monkey code.<br><br>I'd agree with therevills that display properties and input mechanisms are major concerns, but I'd also put performance limitations high on the list.<br><br>Display - how will your game work on devices with various screen sizes and resolutions? Will your UI be usable or even readable? Will your graphics scale well?<br><br>Input - touch-screen, keyboard, mouse, joypad. And not just that, but different types of touch-screen with differing capabilities.<br><br>Performance - the performance characteristics differ wildly across the various targets. In fact, you don't even have to change target to see massive differences. If you want your game to work across a set of platforms then it needs to be designed to work on the slowest, whether that's a 1st gen Android phone or a netbook running Firefox. <br><br></td></tr></table><br>
<a name="2011661"></a>

<a name="2011662"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Aman</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> 1. Consider different resolutions:<br>I have three sizes of each image (except for backgrounds) and a function that decides which size to use based on the size of the screen. Basically it return an int between 1 and 3 and assign it to a global variable called res<br><pre class=code>images.Load(res+"_img1.png") 'for images with different sizes
images.Load("bg.png") 'for images with 1 size</pre><br><br>and for backgrounds I do this to fill the screen:<br><pre class=code>DrawImage bg, 0, 0, 0, dW/bg.Width(), dH/bg.Height()
'dW and dH is the DeviceWidth and DeviceHeight but as float variables</pre><br><br>2. Consider different inputs:<br>If you are only going to use mouse clicks then you have no problems TouchHit and TouchDown works on all platforms except for xbox (never tried it). But if you decided to use different inputs, then you will have to do a little bit more coding.<br>In my case I used three different input systems. Keyboard, accelerometer, and virtual controller. I had to make a new class for the virtual controller and a class called game control and here is one of the functions inside this class:<br><pre class=code>Method GoRight:Bool()
		If type=keyboard
			If KeyDown(KEY_RIGHT) Or KeyDown(KEY_D)
				Return True
			Else
				Return False
			End
		Elseif type=virtual
			If vc.MoveRight() 'vc is the virtual controller
				Return True
			Else
				Return False
			End
		#If TARGET&lt;&gt;"flash" 'Flash crashed with Accel events
		Elseif type=touch

'AccelW return AccelX or AccelY depending on the default orientation of the device
			If AccelW()&gt;y+sensitivity
				Return True
			Else
				Return False
			End
		#End
		End
	End
End</pre><br><br>and you need to put in mind some issues like:<br>HTML5 and Flash does not support accelermeter and multitouch<br>AccelX and AccelY differs based on the device default orientation.<br><br>Your code might run on one target but not all and the performance experience differs too. I advice you to keep testing your code on all of your targets if you don't want to end up facing a bug for a specific target and you don't know what is causing the bug.<br><br>My game runs on html5, flash, android, ios, glfw targets but older android phone like the HTC magic doesn't scale properly and take longer time to load and using acclerometer gives different experience too. HTML5 lags a lot but I am working on an atom powered netbook so that's expected.<br><br>I almost forgot. Not all targets support the same sound formats. In fact, Not all browsers agree on a specific format they all run on for html5, so you will have to do a little more coding in javascript to change the sound format to fit the current running browser if you want to support them all.<br><br>I am using mp3. It supports flash, android, ios, and glfw. <br><br></td></tr></table><br>
<a name="2011660"></a>

<a name="2011868"></a>

<a name="2011869"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have found the simple rule is...<br><br>You most often want different games on different platforms. <br><br>You would likley design differnt games for the iPad than you would if it were a Free Flash game, or a indy PC Game, or an Xbox Live game.<br><br>Even if you are porting the "same" game logic wise, you are likley to want different controls entierly. And in many smaller games, the controls themselves are a big part of the game experience. <br><br></td></tr></table><br>
<a name="2011871"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Foppy</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> In the case of Windows Phone 7, there are rules that a game has to adhere to in order to be accepted on the market for Windows Phone 7 games. For example, if the user presses the "Back" button on the phone, your game has to bring up a menu that lets the user select what to do (continue or exit). This means you have to write a handler that intercepts the normal handling of the Back button being pressed, because its normal behaviour is to quit your game right away. This probably has to be added to your game in the generated C# code. I wasn't able to figure out how to do it. <br><br></td></tr></table><br>
<a name="2011973"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neuro</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does any of the Touch functions work on HTML5? <br><br></td></tr></table><br>
<a name="2011980"></a>

<a name="2011981"></a>

<a name="2011982"></a>

<a name="2011983"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >matt</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> The docs for TouchDown say:<br><br><div class="quote"> On devices with a mouse but no touch screen, TouchDown( 0 ) will instead return MouseDown( MOUSE_LEFT ). <br></div> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
