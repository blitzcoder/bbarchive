<!DOCTYPE html><html lang="en" ><head ><title >Pixel/Bitmap Manipulation</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Pixel/Bitmap Manipulation</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Pixel/Bitmap Manipulation</a><br><br>
<a name="2033156"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Bitmap manipulation can be done with a little mojo hacking. On screen pixel manipulation, not as easy for cross-targets, so I won't focus on that. <br><br>A few ideas I had floating around was to make DataBuffers available for all targets, not just opengl.<br><br>LoadImageData() Or GrabImage() would be key to manipulating data. Overload this function to accept another databuffer and I think this would work cleanly.<br><br>Problems arise from Html5 &amp; Flash where data can be loaded asynchronously. How to handle this?<br>Preloading loops, possible.<br>I wonder if OnLoading() could be utilized to help preload image data: say, only use LoadImageData in OnLoading() so it can do a preloader check for async targets?<br><br>Any other thoughts? <br><br></td></tr></table><br>
<a name="2033225"></a>

<a name="2033226"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why not just make it so your image manipulation functions/api only work when the passed in data buffer is flagged "loaded"?<br><br>Doesn't html5/flash targets go into the on loading loop anyways? <br><br></td></tr></table><br>
<a name="2033234"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >impixi</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Why not just make it so your image manipulation functions/api only work when the passed in data buffer is flagged "loaded"?<br> <br></div><br><br>That's all I do. I have a JavaScript 'MutableImage' class with a 'status' property. It's set to either MI_STATUS_NOTREADY, MI_STATUS_LOADING, MI_STATUS_READY, MI_STATUS_ERROR and I check it before rendering/processing. <br><br></td></tr></table><br>
<a name="2033250"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Why not just make it so your image manipulation functions/api only work when the passed in data buffer is flagged "loaded"? <br></div><br>I'm not sure what you mean? I know monkey's implementation is to use a callback for glBindTexture(), but i'd have to do that for pokefloat/peekfloat, etc. And since most image manipulation is done in a loop, I don't think this would work.<br><br>On the other hand-- if you mean to have the image manip function error out if not loaded, then that means it is up to the programmer to implement their own preload routine, and to realize that Peek/Poke will fail if the image isn't loaded on certain targets.<br><br>My thought was if we need to wait for images &amp; such to load anyways, why not create a preloader? Monkey does not tap into HTML5's async loading, so it'd have to be native, which is why i think there should be a default preloader for all targets. <br><br></td></tr></table><br>
<a name="2033274"></a>

<a name="2033275"></a>

<a name="2033277"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have not been actively using monkey for a while (in blitzmax land ATM) but I thought monkey had a OnLoading method in app?<br><br>Btw I think a monkey preloader would be good :D! <br><br></td></tr></table><br>
<a name="2033293"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Skn3 is that cos your working on your sprite animation thing ? <br><br></td></tr></table><br>
<a name="2033303"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Taiphoz,<br><br>Yeah hard at work on objecty! Massive grind at the moment! code code code codeeeee! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
