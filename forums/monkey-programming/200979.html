<!DOCTYPE html><html lang="en" ><head ><title >Antialiased lines</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Antialiased lines</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Antialiased lines</a><br><br>
<a name="2008398"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JIM</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi!<br><br>Is there any way to enable AntiAliased lines in GLFW/Android/iOS?<br><br>My game wouldn't suffer performance-wise from this and I'd much rather have it on to keep the graphics smooth. The game looks great in HTML5 where the lines are antialiased, but suffers from slightly annoying artifacts on the other targets. <br><br></td></tr></table><br>
<a name="2008419"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chaduke</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tried a few tests with GLFW and iOS.  I was able to get smooth lines with GLFW by opening main.cpp in the build folder, and adding the following lines to the DrawLine function:<br><br><pre class=code>
glEnable(GL_LINE_SMOOTH);
glHint(GL_LINE_SMOOTH_HINT,GL_NICEST);
glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);
glEnable(GL_BLEND);
</pre><br><br>I put them right before the two AddVertex calls.  I'm not an expert with OpenGL so I couldn't tell how it would impact your game, but it worked with a simple example drawing a few default white lines on a black background.<br><br>As far as iOS goes, it seems that hardware AA is not supported, but there are a number of articles on how to get it working with different methods.  I may spend some time researching this because it does seem to make a nice difference on the examples I saw. <br><br></td></tr></table><br>
<a name="2008424"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JIM</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow, I can't believe I haven't tried that. I was too sleepy it seems. I opened the file and when I saw those "AddVertex" I thought GL calls wouldn't work :)<br><br>Thanks!<br><br>Also, having a freshly woken up brain, I think I might be able to hack an antialiased line by drawing a textured quad with alpha instead of a line, and let the filtering do its job. It's most likely to be slower, so if it works, I'll just use it where AA is a pain (like you said iOS might be). <br><br></td></tr></table><br>
<a name="2008443"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chaduke</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's the link in the Apple developer docs, there's a part in there on how to enable multisampling on iOS:<br><br><a href="http://developer.apple.com/library/ios/#documentation/3DDrawing/Conceptual/OpenGLES_ProgrammingGuide/WorkingwithEAGLContexts/WorkingwithEAGLContexts.html" target="_blank">http://developer.apple.com/library/ios/#documentation/3DDrawing/Conceptual/OpenGLES_ProgrammingGuide/WorkingwithEAGLContexts/WorkingwithEAGLContexts.html</a><br><br>Apparently you have to setup a second framebuffer, draw all your pixels to it including a number of samples per pixel, then transfer that to an identical sized buffer that "resolves" the samples.<br><br>I haven't looked closely yet at the rendering code Monkey creates for iOS.  Seems like it could potentially be a bit of work.  There's probably a good reason why it wasn't added as an option. <br><br></td></tr></table><br>
<a name="2008490"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JIM</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, I ran a test with using an image instead of a line. Turns out it works like a charm :)<br><br>It should be slower, but my game still runs smooth with it.<br>Since other means seem to be complicated, I think I'll just use this technique on all targets except HTML5.<br><br>I posted the code if anyone is interested: <a href="http://monkeycoder.co.nz/Community/posts.php?topic=987" target="_blank">http://monkeycoder.co.nz/Community/posts.php?topic=987</a> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
