<!DOCTYPE html><html lang="en" ><head ><title >Live coding</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Live coding</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Live coding</a><br><br>
<a name="2051428"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fictorial</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am new to Monkey and understand that given the source-to-source translation workflow, that live-coding isn't likely doable at this point. But, perhaps I'm happily mistaken?<br><br>The workflow is pretty quick for HTML5 target but for say GLFW it takes about 10s to rebuild and relaunch. That can add up after a while.<br><br>I'd love to be able to tweak a variable's value and have it reflected in the running app almost instantly, without a full rebuild. <br><br></td></tr></table><br>
<a name="2051438"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> i've been thinking about this as well. i think this is possible with html5, but the challenge is to know how to modify the trans to compile incrementally and where to inject the code. i can look into this when i have free time. <br><br></td></tr></table><br>
<a name="2051450"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can change values using reflection on the fly. <br><br>However as of yet there is not a simple console or so that allows this, would be fairly straightforward to create I think. Has been on my mind tough to create one. It certainly would be handy sometimes to get/set values in run-time for debug &amp; develop purposes. <br><br></td></tr></table><br>
<a name="2051544"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fictorial</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> One way would be to embed a server component in running programs via a livecoding module.  Perhaps there could be a checkbox in Ted like "enable live coding" which if checked automatically adds the livecoding module to the final app and somehow auto-starts the server.<br><br>Ted* would need to be updated to:<br>- add a preference to enable/disable live-coding<br>- automatically add the (non-existent) livecoding module to the app if livecoding pref is enabled<br>- determine the variables that are live-codable<br>- after launching the user's Monkey program, connect to the server therein over the network<br>- show a GUI (panel, window, whatever) with a widget per live-codable variable (e.g. slider for Int)<br>- on changes to the widget(s), send messages to the running program using a simple message protocol<br>- disconnect when the target program is no longer running or the live-coding GUI is closed<br><br>The livecoding module would need to:<br>- auto-start a TCP server<br>- accept connections from Ted<br>- decode protocol messages as sent by Ted<br>- use the reflection module to update live-codable values<br>- if a function like "OnLiveCodingChange" is found, call it, passing the variables that were altered <br><br><br>* One could replace Ted with a command-line tool that has a shell.  On launch, this shell would connect to your running program's embedded server.  You would enter commands which caused messages to be sent to your running program.  <br><br><br>TCP client/server code?<br><br>Use mnet.<br><br><br>How to determine which variables are live-codable?<br><br>1) simply expose all globals<br>2) globals marked up with a #livecode pragma<br>3) globals marked up with a 'livecode comment on the same line<br><br><br>Why only globals?<br><br>Due to the reflection module. At first blush, I'd use <pre class=code>GetGlobal("name").SetValue(updatedValueFromRemote)</pre><br><br><br>What about updating code?<br><br>I am not sure how to handle this as I do not see a way to serialize code and have it evaluated on the server/app to replace an existing function. This might be possible for say the HTML5 target however.  It certainly won't work for iOS and Android. It could work on GFLW on hosts that support loadable code in the form of shared objects but that would require core support from Trans to create shared objects per module or something similar... Not likely. <br><br></td></tr></table><br>
<a name="2051543"></a>

<a name="2051540"></a>

<a name="2051534"></a>

<a name="2051522"></a>

<a name="2051520"></a>

<a name="2055957"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >frank</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I did livecoding with ImpactJS (I'll make a tutorial and post sourcecode when I have time); it's not very hard and I think the same method can apply to the HTML5 target in Monkey. I'll do some experiments, but I think for the HTML5 you can get somewhere. It's not entirely *live* though for Monkey because you'll always need to compile. But at least your changes will be immediately visible without refreshing. I know that works and it will work fine for Monkey as well, at least the HTML5 target. <br><br>In the end I think someone needs to write a Monkey interpreter in Monkey though. I said it before; I feel that's the biggest thing missing from Monkey; the ability to script in Monkey. It would allow livecoding and fast testing. When you are happy about what you did, you just save it and compile it for full speed. But making an interpreter for Monkey will be a lot of work obviously. <br><br></td></tr></table><br>
<a name="2055969"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Bah, you young whippersnappers don't know what slow compiles are.  HTML practically *is* live coding for me. <br><br></td></tr></table><br>
<a name="2056005"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >frank</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, that is true. Begin 80's I swapped Z80 machines during compiles which took sometimes hours; and then more often then not your computer would hang because you did something stupid. I still have my development stack which I used then; 4 Philips NMS 8255 machines with a monitor switch and my homebrew keyboard/joystick/mouse switch to make software. Monkey is very fast compared :) But unfortunately you get used to things and REPLs like Clojure/Ruby/Python are things I really miss here. To be able to just test stuff out quickly is really something which you cannot replace with deep thinking upfront. And every few minutes compiles do add up especially when it's to test / try out something trivial... <br><br></td></tr></table><br>
<a name="2056046"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> interesting article on interpreters:<br><a href="http://www.gamedev.net/page/resources/_/technical/general-programming/design-tradeoffs-for-customized-script-interpreters-r3019" target="_blank">http://www.gamedev.net/page/resources/_/technical/general-programming/design-tradeoffs-for-customized-script-interpreters-r3019</a> <br><br></td></tr></table><br>
<a name="2056067"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AndroidAndy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> +1 for the Monkey runtime interpreter, it would open up the door for native debugging in monkeycode, which in addition to live coding would greatly speed up the development process. <br><br></td></tr></table><br>
<a name="2056074"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EdzUp</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I normally code and test on html5 then when it works test on the target, although realtime testing would be cool but I do think it will be lots of work and many headaches <br><br></td></tr></table><br>
<a name="2056083"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Same as EdzUp for me - though I occasionally use GLFW when I need a bit of proper debugging. <br><br></td></tr></table><br>
<a name="2057547"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >frank</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> [deleted] said something which was already said above. Someone please make the interpreter for Monkey. <br><br></td></tr></table><br>
<a name="2057546"></a>

<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
