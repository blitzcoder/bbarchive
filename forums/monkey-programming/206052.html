<!DOCTYPE html><html lang="en" ><head ><title >OS X Maverick - Can't build Android - Missing Ant</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >OS X Maverick - Can't build Android - Missing Ant</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >OS X Maverick - Can't build Android - Missing Ant</a><br><br>
<a name="2069316"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I can't build to Android on OS X 10.9<br><br>TRANS monkey compiler V1.54<br>Parsing...<br>Semanting...<br>Translating...<br>Building...<br>sh: ant: command not found<br>TRANS FAILED: Android build failed.<br>Done.<br><br>As far as I can tell Maverick does not come with Ant Preinstalled, but I've not got it set up right yet.<br><br>Please advice... <br><br>Do I download this: <a href="http://ant.apache.org/bindownload.cgi" target="_blank">http://ant.apache.org/bindownload.cgi</a> and set $PATH and $ANT_HOME, and if yes, where ? <br><br></td></tr></table><br>
<a name="2069317"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >computercoder</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> According to this <a href="http://superuser.com/questions/610157/how-do-i-install-ant-on-os-x-mavericks" target="_blank">post</a>, you can get ant using brew. <br><br>Hope this helps :) <br><br></td></tr></table><br>
<a name="2069318"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> this seems to say I shouln't: brew : <a href="http://nathancahill.github.io/installing-homebrew-on-mac-osx-mavericks/" target="_blank">http://nathancahill.github.io/installing-homebrew-on-mac-osx-mavericks/</a> <br><br></td></tr></table><br>
<a name="2069320"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I downloaded  <a href="http://ant.apache.org/bindownload.cgi" target="_blank">http://ant.apache.org/bindownload.cgi</a><br><br>Did this to get ant/bin in my path: <br><br><a href="http://architectryan.com/2012/10/02/add-to-the-path-on-mac-os-x-mountain-lion/#.Umgx1JS9QmK" target="_blank">http://architectryan.com/2012/10/02/add-to-the-path-on-mac-os-x-mountain-lion/#.Umgx1JS9QmK</a><br><br>Used this <a href="http://diaryproducts.net/EnvPane" target="_blank">http://diaryproducts.net/EnvPane</a> to set $ANT_HOME<br><br><br>I've now got a valid  $ANT_HOME and /opt/ant in my path, and can run <br><br>ant -version and get "Apache Ant(TM) version 1.9.2 compiled on July 8 2013"<br><br>but the error persists... <br><br></td></tr></table><br>
<a name="2069322"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >computercoder</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very interesting. Glad you found that article :)<br><br>Perhaps the config file for ANT_PATH isn't set in Monkey? <br><br></td></tr></table><br>
<a name="2069321"></a>

<a name="2069323"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the heads-up , but I'm afraid ANT_PATH is being ignored on OS X<br><br>I tried setting ANT_PATH=“/opt/ant" in config.macos.txt , but it doesn't help. <br><br></td></tr></table><br>
<a name="2069324"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> but setting FLEX_PATH="/opt/ant" gets me compiling :-) :-)<br><br>This adds Ant location to trans' setenv path statement.<br><br>Some work for Mark here, to get this working for Maverick users. <br><br></td></tr></table><br>
<a name="2069329"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >computercoder</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very cool :) I have to wait a few months before I get my hands on a new Mac to play with Mavericks. Glad you got it working though :)<br><br>Hopefully by then Monkey will have this sorted out in the build! <br><br></td></tr></table><br>
<a name="2069609"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Spinal</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm having no luck at all getting this to work. I installed ant, which is now at "opt/local/share/java/apache-ant/bin/"<br><br>which is set in my $PATH but I'm getting the "sh: ant: command not found" error.<br>I tried Difference solution -<br><br>FLEX_PATH="/opt/local/share/java/apache-ant/bin/"<br><br>didn't fix anything.<br><br>Any ideas? <br><br></td></tr></table><br>
<a name="2069614"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just guessing, but maybe you do need setting the $ANT_HOME  too? <br><br></td></tr></table><br>
<a name="2069619"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Spinal</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not really a mac person, where/what is $ANT_HOME? <br><br></td></tr></table><br>
<a name="2069626"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >programmer</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> ANT_PATH?<br>Actually Monkey doesn't use ANT_PATH on Mac OS X. Only on Windows:<br><pre class=code>(transcc.monkey source code)
Select HostOS
Case "winnt"
	Local path:=GetEnv( "PATH" )
	
	If ANDROID_PATH path+=";"+ANDROID_PATH+"/tools"
	If ANDROID_PATH path+=";"+ANDROID_PATH+"/platform-tools"
	If JDK_PATH path+=";"+JDK_PATH+"/bin"
	If ANT_PATH path+=";"+ANT_PATH+"/bin"
	If FLEX_PATH path+=";"+FLEX_PATH+"/bin"
	If MINGW_PATH path=MINGW_PATH+"/bin;"+path

	SetEnv "PATH",path
	
	If JDK_PATH SetEnv "JAVA_HOME",JDK_PATH

Case "macos"

	Local path:=GetEnv( "PATH" )
	
	If ANDROID_PATH path+=":"+ANDROID_PATH+"/tools"
	If ANDROID_PATH path+=":"+ANDROID_PATH+"/platform-tools"
	If FLEX_PATH path+=":"+FLEX_PATH+"/bin"
	
	SetEnv "PATH",path
	
Case "linux"

	Local path:=GetEnv( "PATH" )
	
	If JDK_PATH path=JDK_PATH+"/bin:"+path
	If ANDROID_PATH path=ANDROID_PATH+"/platform-tools:"+path
	If FLEX_PATH path=FLEX_PATH+"/bin:"+path
	
	SetEnv "PATH",path
	
End
</pre> <br><br></td></tr></table><br>
<a name="2069633"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Spinal</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> After looking again at the above solution, it seems my error was including the "/bin/" in the path. <br>FLEX_PATH="/opt/local/share/java/apache-ant" looks like it did the trick. <br><br></td></tr></table><br>
<a name="2069674"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Spinal : great<br><br>@programmer: <br><br><div class="quote"> ANT_PATH?<br>Actually Monkey doesn't use ANT_PATH on Mac OS X. Only on Windows: <br></div><br>... which is why we're cheating and setting FLEX_PATH because Monkey adds that to it's PATH. <br><br></td></tr></table><br>
<a name="2069761"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Panda</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for this info, everyone. Helped me out!<br><br>I need to stop upgrading my software, because every time I do some part of Ted/Monkey breaks. Since going to Mavericks my GLGW builds no longer work either but that's off topic. <br><br></td></tr></table><br>
<a name="2070801"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tristan</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am having this issue and unable to get it working, I have tried a direct path and tried the steps above, no dice. Any clues on what the issue might be? Is there a cache I need to clear somewhere for the config files? <br><br></td></tr></table><br>
<a name="2070805"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tristan</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> So I was able to build the app from the command line by going into the build directory for android for the monkey app, and run "ant debug install". It ran fine, anyone know how to make monkey see ant correctly?<br><br>(Sorry for taking over the thread, I didn't want to make a totally new thread for the same issue..) <br><br></td></tr></table><br>
<a name="2070973"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >computercoder</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> My wife was REALLY nice to me and gave me my Christmas a wee early :) I got my new MacBook Pro 15" laptop with a vanilla installation of Mac OS X Mavericks pre-installed. <br><br>There are a few things I did to make monkey finally build against ant. Since there is no longer an /opt folder, I had to use /usr instead. No big deal, just schematics :)<br><br>1) Download the binary release from the <a href="http://ant.apache.org/bindownload.cgi" target="_blank">Apache Ant downloads page</a> <br><br>I simply just downloaded the zip file and when the download is finished, the files automatically are extracted.<br><br>The folder left behind will be *as of Nov 16, 2013* is apache-ant-1.9.2. If a newer release is available, it will look similar to this.<br><br>2) Copy the entire folder to /usr/share on your Mac. If you do not know how to get there, simply open Finder, click on the "Go" menu item, then select "Go to Folder..." and enter /usr/share and then click the "Go" button.<br><br>You *may* be asked to authenticate copying and pasting or renaming ANYTHING in this folder. After all, it IS a hidden systems folder for a reason. :)<br><br>3) Copy and paste the extracted folder you did in step 2 into the /usr/share folder.<br><br>4) Rename the folder apache-ant-1.9.2 to ant. Again, you *may* need to authenticate this action.<br><br>5) Open a Terminal window.<br><br>6) At the terminal prompt, enter each of the following lines, make sure to hit enter after each line:<br><pre class=code>
export ANT_HOME="/usr/share/ant"
export PATH=$PATH:$ANT_HOME/bin
</pre><br>Doing this step tells the OS (and command line) where to locate the ant application.<br><br>7) Open monkey and load the "config.macos.txt" file and change the FLEX_PATH value to the following. There may be more than one, just delete all but one line.<br><pre class=code>
FLEX_PATH="/usr/share/ant"
</pre><br>This will tell monkey where ant is located.<br><br>8) Save the file and close monkey.<br><br>9) Relaunch monkey and try executing your app :)<br><br>Don't forget to first grab all the Android SDK files first, otherwise it will error stating it cannot locate those files when it tries to build as well.<br><br>[EDIT]<br>If you want to make these changes stick so that you no longer need to keep exporting the commands each time you launch Terminal, do the following steps. *NOTE* I also went ahead and setup the android tools as well. You can choose to add them if you like or not. Make sure you include at least the ant portion to get monkey to work compiling with it.<br><br>1) Enter the following command at the terminal bash prompt:<br><pre class=code>
vim ~/.bash_profile
</pre><br>2) To start adding entries to the file, press the [A] key. This will allow you to enter text on each line.<br><br>3) Enter in the following lines. Since this is a LINE EDITOR, be sure to press the enter key between lines and <b>DO NOT</b> use the arrow keys to advance to the next line.<br><br>Please note that ANDROID_HOME is set to the path you have installed the Android SDK, on my computer, I chose to place it under my home directory called android-sdk-macosx<br><pre class=code>
export ANDROID_HOME=~/android-sdk-macosx
export PATH=$PATH:$ANDROID_HOME/tools
export PATH=$PATH:$ANDROID_HOME/platform_tools
export ANT_HOME=/usr/share/ant
export PATH=$PATH:$ANT_HOME/bin
</pre><br>4) Save the file by first pressing the [Esc] key twice, then type in :x and press the [Enter] key<br><br>5) Enter the following command at the terminal bash prompt:<br><pre class=code>
source ~/.bash_profile
</pre> <br><br></td></tr></table><br>
<a name="2070964"></a>

<a name="2070963"></a>

<a name="2076739"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >monkeyteets</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> This should really be in the monkey docs, as a new purchaser, left me abit in the dark with a hint of buyers remorse, <br><br>I even put the ant that comes with the android sdk tools eclipse/plugins/org.apache.ant_1.8.3.v201301120609/bin , I downloaded the ant bin from above and added it to my PATH<br><br>In Terminal;<br><div class="quote"> $ ant<br>Buildfile: build.xml does not exist!<br>Build failed<br> <br></div><br><br>After login/logout and running Monkey.app<br><div class="quote"> <br>TRANS monkey compiler V1.56<br>Parsing...<br>Semanting...<br>Translating...<br>Building...<br>sh: ant: command not found<br>TRANS FAILED: Android build failed.<br>Done.<br> <br></div><br><br>So I open up Terminal, run <br>export PATH=/Users/_/android-sdk-macosx/platform-tools:/Users/_/android-sdk-macosx/tools:/Users/_/apache-ant-1.9.3/bin:$PATH<br>(this is also in my ~/.bash_profile<br>then <br>open /Applications/MonkeyPro75d/Monkey.app<br><br>I then at least get <br><br><div class="quote"> <br>"/Applications/MonkeyPro75d/bin/transcc_macos" -target=Android_Game -config=Debug -run "/Applications/MonkeyPro75d/modules_ext/congo/examples/clocktest/myapp.monkey"<br>TRANS monkey compiler V1.56<br>Parsing...<br>Semanting...<br>Translating...<br>Building...<br>Buildfile: /Applications/MonkeyPro75d/modules_ext/congo/examples/clocktest/myapp.build/android/build.xml<br><br>-check-env:<br> [checkenv] Android SDK Tools Revision 22.0.0<br> [checkenv] Installed at /Users/_/android-sdk-macosx<br><br>-setup:<br>     [echo] Project Name: MonkeyGame<br>  [gettype] Project Type: Application<br><br>-pre-clean:<br><br>clean:<br>[getlibpath] Library dependencies:<br>[getlibpath] No Libraries<br>   [subant] No sub-builds to iterate on<br><br>BUILD SUCCESSFUL<br>Total time: 1 second<br>Buildfile: /Applications/MonkeyPro75d/modules_ext/congo/examples/clocktest/myapp.build/android/build.xml<br><br>-set-mode-check:<br><br>-set-debug-files:<br><br>-check-env:<br> [checkenv] Android SDK Tools Revision 22.0.0<br> [checkenv] Installed at /Users/_/android-sdk-macosx<br><br>-setup:<br>     [echo] Project Name: MonkeyGame<br>  [gettype] Project Type: Application<br><br>-set-debug-mode:<br><br>-debug-obfuscation-check:<br><br>-pre-build:<br><br>-build-setup:<br><br>BUILD FAILED<br>/Users/_/android-sdk-macosx/tools/ant/build.xml:479: SDK does not have any Build Tools installed.<br><br>Total time: 2 seconds<br>TRANS FAILED: Android build failed.<br>Done.<br> <br></div><br><br>So ... did it succeed and then fail? what? <br><br></td></tr></table><br>
<a name="2076822"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >monkeyteets</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> It was a problem with updating to version 22 and build-tools folder didn't get created even when updated via sdk manager, fresh download worked great along with installing the android-13 sdk <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
