<!DOCTYPE html><html lang="en" ><head ><title >Delta Timer</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Delta Timer</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Delta Timer</a><br><br>
<a name="2034981"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> The delta timer in diddy that james wrote looks like this:<br>[monkeycode]<br>Class DeltaTimer<br>	Field targetfps:Float = 60<br>	Field currentticks:Float<br>	Field lastticks:Float<br>	Field frametime:Float<br>	Field delta:Float<br>	<br>	Method New (fps:Float)<br>		targetfps = fps<br>		lastticks = Millisecs()<br>	End<br>	<br>	Method UpdateDelta:Void()<br>		currentticks = Millisecs()<br>		frametime = currentticks - lastticks<br>		delta = 'frametime / (1000.0 / targetfps)<br>		lastticks = currentticks<br>	End<br>End<br>[/monkeycode]<br>However despite the name it does not seem to return the delta time, right?<br><br>I noticed this when I attempted to use diddy's delta time and my game acted so wierd. I could not understand what it was until I found the delta time, from the delta class does not return a correct delta value. <br><br>For example:<br>Timer += dt.delta<br><br>This will not increase the timer by 1 every second.<br><br>This is how I expect a delta class to look like:<br>[monkeycode]<br>Class DeltaTimer<br>	Field LastTick:Int<br>	Field LastTickTime:Int<br>	Field Delta:Float<br>	<br>	Method New()<br>		lastticks = Millisecs()<br>	End<br>	<br>	Method UpdateDelta:Void()<br>		LastTickTime = Millisecs() -LastTick<br>		LastTick = Millisecs()<br>		Delta = LastTickTime * 0.001<br>	End<br>End<br>[/monkeycode]<br><br>However Monkey usually runs in a fixed framerate so using a fixed delta-time might be more sensible and accurate.<br><br>Like this:<br>[monkeycode]<br>Class DeltaTimer<br>	Public<br>	Field Delta:Float<br>	<br>	Method New(fps:Float)<br>		Delta = 1.0 / fps<br>	End<br>End<br>[/monkeycode]<br>I was curious to hear how you guys use delta and if I'm simply using the timer wrong then I'd like to ask how am I supposed to use it? <br><br></td></tr></table><br>
<a name="2034979"></a>

<a name="2034978"></a>

<a name="2034998"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >muddy_shoes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Diddy appears to provide a delta in frame increments, not time. So you multiply whatever per frame movement value you have by the delta.<br><br>There is no one way to use delta. In some games you don't want to use it at all. In many circumstances you might want to use delta timing to compensate for variable frame-rate but have an underlying limitation on how much variation from the desired interval you allow. <br><br></td></tr></table><br>
<a name="2035097"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Did not mean to sound like there was only one way, or that the diddy way is wrong, tough I realize it might have sounded like that.<br><br>Diddy delta time use "frame time". I'm unfamiliar with this concept. I wounder how am I supposed to think when using it. Differences? Benefits? <br><br>I know one benefit with the last version of delta is that the game can easily be replayed. If for example a replay-system is useful.<br><br>Using all kinds of delta, even if not according to time has the benefit that one can use the delta to slow or speed up everything in the game.<br><br>I usually only make use of delta time so I can write "200pixels/sec" instead of "speed 2.3 mystical units" - I never considered another type of delta time.<br><br>One added benefit is that in multiplayer it is more likely that each platform plays at a similar speed. <br><br></td></tr></table><br>
<a name="2035096"></a>

<a name="2035095"></a>

<a name="2086095"></a>

<a name="2086096"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >boomboom</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> How can I use the delta timer in Diddy to speed up / slow down or even pause time?<br><br>Or is there a better way? <br><br></td></tr></table><br>
<a name="2086132"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> It depends on the game. You might want a way to increase or reduce the speed of the game, but there might be things you don't want to speed up.<br><br>The simple way is to go into the source - add a variable to deltatime, let us call it gamespeed and multiply it with the deltatime variable. If gamespeed is 1, everything is as normal. If 0 everything will be "stuck". 0.5 = 50% speed, 2 = 200% speed, and so on. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
