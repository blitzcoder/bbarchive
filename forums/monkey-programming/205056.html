<!DOCTYPE html><html lang="en" ><head ><title >Grab Image</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Grab Image</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Grab Image</a><br><br>
<a name="2055624"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >darky000</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello,<br><br>I am getting this error during runtime:<br><pre class=code>
Monkey RunTime Error: TypeError: Cannot Read property "f_x" of undefined
</pre><br>Here's a snippet of the code that causes the error:<br>[codebox]<pre class=code>Field ctr:int = 30
Field whiteghost:int = 0
 
If whiteghost &lt;&gt; 360 Then
	If whiteghost = (4 * 60) + ctr Then
		For Local foe:= EachIn foes
			foe.img = char.GrabImage(2 * 24, 4 * 24, 24, 24, 2, Image.MidHandle)
		Next
		
		ctr += 30
											
	ElseIf whiteghost = (4 * 60) + ctr-15 Then
		For Local foe:= EachIn foes
			foe.img = char.GrabImage(0 * 24, 4 * 24, 24, 24, 2, Image.MidHandle)
		Next
	EndIf
						
	whiteghost += 1
EndIf

</pre>[/codebox]<br>I am trying to recreate pacman and I keep changing the image when they start blinking while they are animating. Any other images I change which doesn't cause a series of changes won't cause this error. What might be a solution to this? I have been stumped in this area for a long time trying to figure it out. Can someone also explain why this is happening? <br><br></td></tr></table><br>
<a name="2055623"></a>

<a name="2055622"></a>

<a name="2055621"></a>

<a name="2055620"></a>

<a name="2055618"></a>

<a name="2055619"></a>

<a name="2055617"></a>

<a name="2055616"></a>

<a name="2055615"></a>

<a name="2055614"></a>

<a name="2055626"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you sure that it is that code part? The line number you get is not the line inside the monkey script, it is in the build code file. f_ is a prefix of a class field. The field x wasn't found. Your script doesn't use x at all so it must be something else I think. <br><br></td></tr></table><br>
<a name="2055627"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >darky000</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Mike. Thanks for replying quickly on my problems all the time.<br><br>If it helps, I'm using your fantomEngine with the latest version and MonkeyPro 63b. I tried disabling all my graphics method to test it and just activated this snippet and the CreateAnimImage on all foes. It sometimes can go about two counts in the loop before reaching the error. <br><br></td></tr></table><br>
<a name="2055628"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> It also helps to activate strict mode via a STRICT statement at the top of your script. Please add this if you haven't already. <br><br></td></tr></table><br>
<a name="2055629"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >darky000</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes I have STRICT activated. <br><br></td></tr></table><br>
<a name="2055630"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I'm using your fantomEngine with the latest version and MonkeyPro 63b <br></div><br>Please update to Monkey V69 at least. <br><br>If you can't figure it out, then you can send me the project to <br><br>mike (a t ) whiteskygames (d ot) com <br><br>if you want and I can have a look tonight.<br><br>This code snipped doesn't use any method from fE so I would be surprised if there is something that breaks it. <br><br></td></tr></table><br>
<a name="2055633"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >darky000</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok sure... I don't mind at all. I'll try to tinker with it more though and thanks. <br><br></td></tr></table><br>
<a name="2055635"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> After you update, make sure you delete the build folder. <br><br></td></tr></table><br>
<a name="2055756"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >darky000</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've sent you the mail <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
