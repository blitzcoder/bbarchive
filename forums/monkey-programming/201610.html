<!DOCTYPE html><html lang="en" ><head ><title >Matrix clarification?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Matrix clarification?</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Matrix clarification?</a><br><br>
<a name="2014985"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >trinode</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Now I thought the centre for rotation would be at 0,0, so to rotate my 128x128 image around it's centre I'd need to transform it so it was centred on 0,0 then rotate, then draw it so I wrote the following:-<br><br>		PushMatrix()<br>		SetMatrix(1,0,0,1,0,0)<br>		Translate(-64,-64)<br>		Rotate(angle)<br>		<br>		DrawImage(img,0,0)<br>		<br>		PopMatrix()<br><br>Can someone explain what I'm doing wrong? it's not rotating around it's centre :/ I would have expected it to be spinning half off the top left corner, but it's spinning of then back on to the screen.<br><br>Thanks,<br><br>- Anthony <br><br></td></tr></table><br>
<a name="2014986"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> you have to set the handle to the center after you load the image<br><br>e.g.<br>local img:Image=LoadImage("img.png")<br>img.SetHandle(64,64)<br><br>and you could have a look at my matrix tutorial (in the tutorials section) <br><br></td></tr></table><br>
<a name="2014988"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >trinode</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the info, fyi the tutorial doesn't use sethandle, there's just a quick mention that you need to set the image handle (which I missed :)) <br><br></td></tr></table><br>
<a name="2014990"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >trinode</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok, I broke it again...<br><br>loaded it like this:-<br>		img=LoadImage("Ship.png")<br>		img.SetHandle(64,64)<br><br>and drawing like this:-<br>	         angle+=1<br>		PushMatrix()<br>		SetMatrix(1,0,0,1,0,0)<br>		Rotate(angle)<br>		DrawImage(img,DeviceWidth/2,DeviceHeight/2)<br>		PopMatrix()<br><br>I'm getting confused again ;) <br><br></td></tr></table><br>
<a name="2014991"></a>

<a name="2014992"></a>

<a name="2014993"></a>

<a name="2014994"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> try translating to DeviceWidth/2,DeviceHeight/2<br>then rotating<br>then doing 'drawimage(img,0,0)' <br><br></td></tr></table><br>
<a name="2014996"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >trinode</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> That did it, it's like if you draw with a translation, the handle doesn't take that into account :/<br><br>so the handle was near the top left, the image in the middle, doing a big circle around the top left of the screen. <br><br></td></tr></table><br>
<a name="2014998"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> you can simplify all that by doing it like this:<br><br>img=LoadImage("Ship.png")<br>img.SetHandle(64,64)<br><br>angle+=1<br>DrawImage(img,100,100,angle,1,1) <br><br></td></tr></table><br>
<a name="2014999"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >trinode</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks jesse, that version of drawimage is not showing in jungleide, do you happen to know if that's normal? (I've been spoiled by visual studio at work ;) ) <br><br></td></tr></table><br>
<a name="2015001"></a>

<a name="2015002"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm on a Mac so unfortunatelly I don't know much about jungleIDE. I figure it's a jungleIDE inconsistency .  you might wan't to post your concer in the JungleIDE forum website. <br><br></td></tr></table><br>
<a name="2015015"></a>

<a name="2015016"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just to add, you don't have to hard-code the middle-point of the image like that: pass <i>Image.MidHandle</i> as a flag in LoadImage, eg.<br><br><pre class=code>LoadImage ("image.png", 1, Image.MidHandle)</pre><br><br>See also the Matrix Rocks sample in <i>MonkeyPro/bananas/hitoro/</i>...<br><br>Regarding the alternative DrawImage (or other functions') forms, open this with your web browser:<br><br><i>MonkeyPro/docs/index.htm</i> <br><br></td></tr></table><br>
<a name="2015014"></a>

<a name="2015012"></a>

<a name="2015013"></a>

<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
