<!DOCTYPE html><html lang="en" ><head ><title >Problems getting started with Android and Flash</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Problems getting started with Android and Flash</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Problems getting started with Android and Flash</a><br><br>
<a name="2015516"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>I finally got a new PC, a 64-bit laptop with Windows 7, and installed Monkey V45C.  Previously I was using Windows XP and I had no problems getting Flash and Android targets operational.  But on this I can only manage HTML5 and GLFW (it says XNA too but I don't have the Game Studio installed).<br><br>I installed all the various bits and bobs for Flash and Android and set the paths.  Monkey recognises them and allows me to compile.  But...<br><br>On Flash I get the error:<br>Building...<br>Error loading: C:\Program Files\Java\jdk1.6.0_26\jre\bin\server\jvm.dll<br>TRANS Failed to execute 'mxmlc -static-link-runtime-shared-libraries=true MonkeyGame.as', return code=6<br><br>(The file jvm.dll is certainly there.)<br><br>The Android emulator starts fine and the emulator runs.  On this I got a different problem:<br><br>Buildfile: C:\Dev\Monkey\Current\frazzle\frazzle.build\android\build.xml<br>    [setup] Android SDK Tools Revision 13<br>BUILD FAILED<br>C:\Dev\Monkey\Current\frazzle\frazzle.build\android\build.xml:65: Unable to resolve target 'android-8'<br><br>I have installed APIs 7 and 13, same as on my old PC.  There is no 8 anywhere.<br><br>Anyone have a clue?  I installed Android and Apache in Progeram Files (86) because they wanted that, and Flex and Java  in Program Files, because they made no recommendations.  Could this be an issue?  I spell out the full paths explicitly in config.winnt.<br><br>Any help would be gratefully received! <br><br></td></tr></table><br>
<a name="2015518"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >benmc</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> For me, particularly your mxmlc error, I had to set the User-level system environment variables on Win7 to point to all the Java, Flex, ANT, and Android SDK folders I needed.  <br><br>It seemed the winnt config file didn't use the paths I had set there.  It's almost like they were ignored and things weren't being found.<br><br>In the Monkey targets folder for Android, can you edit the defalt.properties file and change the SDK from android-8 to something you have installed? <br><br></td></tr></table><br>
<a name="2015523"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, setting the user environment variables didn't work!  Monkey refused to list any targets at all, even after I deleted the new environment variables and rebooted!  I had to re-install Monkey.  (It must be caching the variables or something.)<br><br>Setting the Android target in default.properties worked fine (once I remembered to delete the build folder).  But it stopped later with a new error:<br><br> [aapt.exe] C:\Dev\Monkey\Current\frazzle\frazzle.build\android\AndroidManifest.xml:2: error: No resource identifier found for attribute 'installLocation' in package 'android'<br>BUILD FAILED<br><br>Actually I just noticed this earlier in the android build output:<br>    [setup] WARNING: Attribute minSdkVersion in AndroidManifest.xml (3) is lower than the project target API level (7)<br><br>Anyone know how I fix this?<br><br>By the way, I added the environment variables to my User variables using Setx.  Should I perhaps have added them to System variables instead? <br><br></td></tr></table><br>
<a name="2015519"></a>

<a name="2015548"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >benmc</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not sure what Setx is, but I just used the Windows 7 system tools.  I had them in the System variables first, and then it only worked when I moved them to the Users variables.<br><br>Here are the folders I made sure to put in my User path.  Of course I used their full path, but yours will be different than ours.<br><br>Note that I have everything installed on the root of my C-Drive or in a non Program Files folder.<br><br>\flex_sdk_4.5.1.21328\bin<br>\apache-ant-1.8.2-bin\apache-ant-1.8.2<br>\apache-ant-1.8.2-bin\apache-ant-1.8.2\bin <br><br></td></tr></table><br>
<a name="2015722"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Still no luck... I reinstalled Android and Java SDK, and I moved Flex and Ant as they didn't seem to have any uninstaller, to a non Program Files folder.  I set the paths in config.winnt.  I put the folders in the user path.  With or without the user environment variables, I get the same errors as before.  I even tried running Monkey in WinXP compatibility mode.  Still the same.<br><br>I think I will file a bug report. <br><br></td></tr></table><br>
<a name="2015795"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Problems finally sorted in bug thread, thanks for the help! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
