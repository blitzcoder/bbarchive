<!DOCTYPE html><html lang="en" ><head ><title >SetChannelPan</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >SetChannelPan</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >SetChannelPan</a><br><br>
<a name="2104779"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >cgrossi</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello!<br><br>Does the command SetChannelPan work? I've downloaded the 83a version and I can't make it pan right or left, like BlitzMax. Does anyone know why? <br><br></td></tr></table><br>
<a name="2104778"></a>

<a name="2104780"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Which target platform? Which value do you use for left and right? <br><br></td></tr></table><br>
<a name="2104781"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >cgrossi</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> So far for Desktop, the values are -1 and 1, acording to the documentation... <br><br></td></tr></table><br>
<a name="2104784"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> On GLFW and HTML it works here like I would expect it. Running OSX 10.8.5. <br><br></td></tr></table><br>
<a name="2104785"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >cgrossi</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok, I'm not using OSX. instead, I'm using Windows 7. on blitzmax it works fine.... <br><br></td></tr></table><br>
<a name="2104789"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you sure you are setting the channels correctly? <br><br></td></tr></table><br>
<a name="2104790"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Tested on Win7 too, it works. <br><br></td></tr></table><br>
<a name="2104791"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >cgrossi</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think so... Here is it, it's just a test code, to learn the language.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Import mojo
Import mojo.app

Class Point
    Field x#
    Field y#
End

Global points:=New List&lt;Point&gt;
Global image:Image

Global fullscreen:Bool=False

Class Game Extends App

	Field t:teste
	Field som:Sound

	Function AddPoint(x#,y#)
	    Local p:Point=New Point
	    p.x=x
	    p.y=y
		points.AddFirst p
	End

    Method OnCreate()
    	t=New teste
        SetUpdateRate 30
        image=LoadImage("monkey64.png")
        image.SetHandle image.Width/2,image.Height/2
        som=LoadSound("som.ogg")
        SetChannelVolume 1,1
        SetChannelPan 1,-1
        SetDeviceWindow(800,600, False)
    End

    Method OnUpdate()
        If MouseX()&gt;=100 And MouseX()&lt;=500 And MouseY()&gt;=50 And MouseY()&lt;=450
        	If MouseHit() Then 
        		PlaySound som,1
        	Endif 
	        If MouseHit(MOUSE_LEFT) Then AddPoint MouseX,MouseY
	        If MouseHit(MOUSE_MIDDLE) Then points.RemoveFirst
	        If MouseHit(MOUSE_RIGHT) Then 
	        	For Local p:Point=Eachin points
	        		points.RemoveEach p
	        	Next
	        Endif
		Endif
	    #If TARGET="glfw" Then
		    If KeyHit(KEY_F11) Then
		    	fullscreen=Not fullscreen
				SetDeviceWindow(800,600,fullscreen)
				ShowMouse()
		    Endif
		#Endif
		
	    If KeyHit(KEY_ESCAPE) Then EndApp
		
    End

    Method OnRender()
        Cls
        SetScissor 0,0,DeviceWidth,DeviceHeight
        SetAlpha 1
        SetColor 130,130,130
        DrawRect 0,0,DeviceWidth,DeviceHeight
        SetColor 255,0,0
        DrawText "Teste",10,10
        DrawText t.Calcula,10,100
        
    	SetScissor 100,50,400,400
    	SetColor 50,50,50
    	DrawRect 0,0,DeviceWidth,DeviceHeight
        SetColor 255,255,255
        SetAlpha .5
        For Local point:=Eachin points
            DrawImage image,point.x,point.y
        Next
        
        SetScissor 0,0,DeviceWidth,DeviceHeight
        
    End

End

Function Main()

	Seed=Millisecs()

    New Game()
End

Class teste

	Public Field a,b,c,d
	Method New()
		a=Millisecs()
		b=Int(Rnd(1,10))-1
		c=3
		d=4
	End Method
	
	Method Calcula:String()
		Return b
	End Method
End Class
</textarea> <br><br></td></tr></table><br>
<a name="2104794"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >cgrossi</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's strange... How is your code? <br><br></td></tr></table><br>
<a name="2104797"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just placed this in the autotest example after the SetUpdateRate(15) command:<br><br><pre class=code>		SetChannelPan(0,-1)
		SetChannelPan(1,0)
		SetChannelPan(2,1)
</pre><br><br>And then I press 2 all the time so you hear the effect, <br><br></td></tr></table><br>
<a name="2104837"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is the file you are playing stereo? Stereo files should play equally out of the left and right speakers no matter what you set the panning to. Only mono files would play correctly.<br><br>If I remember OpenAL does not support the pan left/right as it is a 3D Sound API. As in real life a sound close to you on the left will be louder on the left than the right. You would still hear the sound through the right. If the sound was far away, then you would hear the sound equally through the left and right.<br><br>Google Panning in OpenAL you will see there have been a number of questions asked.<br><br>Use the code below and one of the compatible target shoot audio file formats from the examples. And then try your own audio file.<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Strict

Import mojo

Class CGame Extends App
	Field audio:Sound
	Field panning:Float = 0
	Field slide:Float = -.1
	Field lasttick:Int
	Field time:Int = 1000*.4775 ' Change panning every 477 miliseconds which is the closest length to the shoot sound being played
	
	Method OnCreate:Int()
		SetUpdateRate(30)
		audio = LoadSound("shoot.ogg")
		SetChannelPan(1,panning)	' Important: Set the initial start
		SetChannelVolume(1,.5)
		PlaySound(audio,1,1)
		lasttick = Millisecs()
		Return 0
	End Method
	
	Method OnUpdate:Int()
		Local time:Int = Millisecs()
		If time &gt; lasttick+Self.time Then
			Print "Local time "+time
			Print "stepping time "+Self.time
			lasttick = time	
			If panning &lt;= -1.0 Or panning &gt;= 1.0 Then slide = -slide		
			panning += slide
			SetChannelPan(1,panning)
		EndIf
		Return 0
	End Method
	
	Method OnRender:Int()
		Cls
		DrawText("Panning: "+panning,0,0)
		DrawText("Slide: "+slide,0,20)
		Return 0
	End Method
End Class

Function Main:Int()
	New CGame
	Return 0
End Function</textarea> <br><br></td></tr></table><br>
<a name="2104836"></a>

<a name="2104833"></a>

<a name="2104832"></a>

<a name="2104831"></a>

<a name="2104830"></a>

<a name="2104829"></a>

<a name="2104828"></a>

<a name="2104843"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >cgrossi</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello.<br>I turn my audio into mono and it works perfectly. Thank you, dawlane.<br><br>Thanks a lot, guys!!<br><br>Best regards. <br><br></td></tr></table><br>
<a name="2104852"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Tips for audio:<br>Music should be stereo for best results. If there is no difference between left and right channels, then consider using mono to save a bit of memory and disk space. Sound effects should be mono.<br><br>Audio format support for web browsers depends on the browser, so expect to have to use the Dom module to try and work out which browser is being used so you can load the correct supported audio file. Also limit the number of sound channels being use to avoid sound issues. Search the forum in the HTML5 targets and in the BUGS section for more.<br><br>The MP3 format is not seamless. I don't think looping audio was thought about when that format was drafted, so looping creates a gap. There are tools to remove or limit this gap in play back, but your mileage will vary.<br><br>Not all audio formats are supported by the desktop targets. So don't expect to play an wma format on a Linux distribution.<br><br>Two tools to check out if you are short on cash.<br>LMMS is a free cross platform music creation application that is similar to FL Studio.<br>Audacity is a free audio editing suite like SoundWave, etc. To export audio as MP3 you have to have LAME installed. <br><br></td></tr></table><br>
<a name="2104851"></a>

<a name="2104850"></a>

<a name="2104849"></a>

<a name="2104933"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >cgrossi</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, dawlane, for the tips.<br><br>Regards <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
