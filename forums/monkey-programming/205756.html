<!DOCTYPE html><html lang="en" ><head ><title >Playing a video.... test...wip</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Playing a video.... test...wip</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Playing a video.... test...wip</a><br><br>
<a name="2065193"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK, first of all, FLASH can just go jump off a cliff, for some god only knows reason it refuses to even BUILD, I have a post in the flash forum about this if anyone cares to take a peek.<br><br>OK, on topic, Today I set about getting my video intro into my monkey games, my video intro can be seen here<br><iframe width="560" height="345" src="http://www.youtube.com/embed/-rsbckWH288" frameborder="0" allowfullscreen></iframe><br><br>It's nice and short, only 3 seconds long.<br><br>Here it is running in html5, it works on all targets bar flash(and possibly ios i cant test it as I dont have a mac)<br><br><a href="https://dl.dropboxusercontent.com/u/56777267/code/Alpha/StickRun/html5/MonkeyGame.html" target="_blank">https://dl.dropboxusercontent.com/u/56777267/code/Alpha/StickRun/html5/MonkeyGame.html</a><br>and an Android apk<br><a href="https://dl.dropboxusercontent.com/u/56777267/code/Alpha/StickRun/MonkeyGame-debug.apk" target="_blank">https://dl.dropboxusercontent.com/u/56777267/code/Alpha/StickRun/MonkeyGame-debug.apk</a><br><br>What I would love is a little feedback, does it run smooth enough, is it laggy and out of sync, is the animation speed ok.. just general aesthetics of it all.<br><br>thanks. <br><br></td></tr></table><br>
<a name="2065198"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Runs nicely although slightly long load time in html.<br><br>Logo looks clean as well. Have you written a video module for monkey then? <br><br></td></tr></table><br>
<a name="2065199"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImmutableOctet(SKNG)</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, the HTML5 demo runs at full speed (60FPS) for me. I'll need to throw the APK on my tablet later to test the android build. As a side note; I'm not sure if there was supposed to be audio or not. It was silent for me, so I can only assume there's no audio yet (Which is perfectly fine with me).<br><br>So, how did you end up doing this? Is it all platform specific / native, or was it purely written in Monkey? <br><br></td></tr></table><br>
<a name="2065202"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Sonic : there is audio, what browser you using ? <br><br>@Skn3, I'm trying to make the class as modular as possible so I can simply call it and play without any more than two lines of code, so in a sense yeah I guess.<br><br>But it's not calling any native code, I had a look at Androids VideoPlay, and I could probably do android native but I wanted something that's quick hassle free and that I could deploy on anything without having to worry about codec's, so I went the decompression route.<br><br>I might see if I can pack the files and audio into a single file possibly come up with a little monkeyvideo file format, but not sure if that's worth while. <br><br></td></tr></table><br>
<a name="2065203"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks good mate!<br><br>What software did you use to make the animated part, After Effects or similar or is it done by hand? <br><br></td></tr></table><br>
<a name="2065204"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImmutableOctet(SKNG)</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was using an older build of Opera, so that may be why. I tried it in Chrome and it worked with the audio. However, Chrome took about 4x as long to load everything. <br><br></td></tr></table><br>
<a name="2065206"></a>

<a name="2065207"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skape</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks nice and smooth in Firefox on my Mac.<br>60 fps, ~4 sec load time,<br><b>No</b> sound though.<br><br>Plays smoothly in Safari.<br>60 fps, ~5 sec load time,<br>Sound works, but seems badly out-of-sync. <br><br></td></tr></table><br>
<a name="2065208"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raph</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I had sound on Firefox in Win7. The load time was definitely disconcerting though. <br><br></td></tr></table><br>
<a name="2065210"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool, I like it.<br><br>Do you stream it directly from youtube? <br><br></td></tr></table><br>
<a name="2065211"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah it's loading 2 meg, the original youtube video is 3 or 4 meg tho so I'v managed to reduce the total size by a fair amount without any compression, so its not to bad.<br><br>I expected the html5 results to be mixed, as is always the case with html5 at the moment there seems to not be a standard from the browsers, hence why I am so annoyed that Flash simply refuses to build the project. <br><br></td></tr></table><br>
<a name="2065212"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here is a Flash Example if you could take a look guys..<br><br><a href="https://dl.dropboxusercontent.com/u/56777267/code/Alpha/StickRun/flash/MonkeyGame.html" target="_blank">https://dl.dropboxusercontent.com/u/56777267/code/Alpha/StickRun/flash/MonkeyGame.html</a><br><br>Seemes Diddy was having issues with flash , commenting out the offending line seems to have fixed the issue, will need to poke Samah and therevills and see if its something they can fix. <br><br></td></tr></table><br>
<a name="2065216"></a>

<a name="2065217"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> As nice as it looks, 2mb for a 3sec animated logo is a bit much for me, especially if it's streamed from YouTube and I'm on a crap connection / mobile. <br><br></td></tr></table><br>
<a name="2065218"></a>

<a name="2065220"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> those load times will only really be an issue for html5 and flash, and both of those issues can be resolved by at the least presenting the user with a little nice loading bar.<br><br>I do agree tho having native support via real codecs would be best but so far this seems like a really easy and working solution. <br><br></td></tr></table><br>
<a name="2065222"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Goodlookinguy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> How exactly is the system handling the videos. I assume it's just loading a bunch of separate image files and the audio.<br><br>I made something like that a while back and was looking into creating an image-only file compactor, but it didn't turn out very well. PNG and JPEG was a tad hard for me to uncompress and since bitmap was simple, I used that. However, it just ended up taking way longer to load since Monkey dumps the whole file into memory all at once. It's not very viable to say the least.<br><br>Anyways, nice job. Good luck on your endeavors. <br><br></td></tr></table><br>
<a name="2065232"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Each to their own but a loading bar that had me waiting to show a 3sec splash screen that is nothing to do with the game I am trying to play would really do my head in. <br><br></td></tr></table><br>
<a name="2065236"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well first of all as I said before, this very short delay is only imposed for a very few targets, ala Html5, Flash, and there are things that can still be done to reduce the delay further which is nice.<br><br>All the other targets just get it done no questions, no delay which is brilliant :)<br><br>As for the loading bar on those few targets where loading times and internet bandwidth might be an issue, the end user is never going to notice it, they see loading bars all over the net for just about every game they play, its not an alien thing they will gasp in horror at, as far as any end user is concerned the game is loading game play assets.<br><br>At the end of the day no one is forcing you to use it, it's possible and there if you want to use it.<br><br>is that not the important thing here? <br><br></td></tr></table><br>
<a name="2065235"></a>

<a name="2065234"></a>

<a name="2065248"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shinkiro1</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can we use mojo draw commands to draw over the video? That would be cool :)<br><br>PS: Tested html and it ran smoothly, although the sound was delayed.<br>Tested on a MacBook Air + Safari <br><br></td></tr></table><br>
<a name="2065246"></a>

<a name="2065249"></a>

<a name="2065250"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> I wasn't having a pop mate, no need to get defensive :)<br><br>My point was that if I play your game on my phone, and you are streaming a 2mb file just to show me your logo then I am gonna get annoyed at waiting for it to stream from YouTube, when I then still have to wait for the actual game assets to load.<br><br>If the file is local then great, no delay, but I don't see how there could be no delay via YT streaming, that is dependant on connection surely?<br><br>I'm looking purely from an end-user POV btw. <br><br></td></tr></table><br>
<a name="2065251"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah you can draw over the top of the video because its decompressed into frames. <br><br></td></tr></table><br>
<a name="2065260"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skape</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> The Flash version works great. The load was quite fast for me, maybe 1-2 seconds--not at all a worry. Of course, I wasn't loading it over a bad connection, so I could see the wait being concerning I guess. The loading... screen makes it fine IMO though. <br><br></td></tr></table><br>
<a name="2065255"></a>

<a name="2065256"></a>

<a name="2065258"></a>

<a name="2065259"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> The HTML5 version might run faster if you compile in Release mode ;)<br><br>Looks good BTW :)<br><br>So I guess you are loading in a heap of images and running thru the animation like a flip book... not really that memory friendly.<br><br>Could you do the animation using tweening? Diddy has the Storyboard system - although someone (*cough*Samah*cough*) didnt finish the editor so its a lot of hands on XML editing... <br><br></td></tr></table><br>
<a name="2065300"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah thats it , and playing the audio at the appropriate time to sync it, its not ideal but the image array is wiped after its done so the memory is not being wasted it should be free for the game to use.<br><br>not ideal at all, but in the absence of a better solution, it works. <br><br></td></tr></table><br>
<a name="2065301"></a>

<a name="2065302"></a>

<a name="2065303"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just to put the video memory into perspective, your images are 640x360 in size (texture memory calc is width * height * bitdepth (4 bytes for 32bit)):<br><pre class=code>640 * 360 * 4 = 921600 = 900 KB = 0.88 MB</pre><br>And it looks like you have 90 images:<br><pre class=code>0.88MB * 90 = 79.2MB</pre><br>So nearly 80MB of VRAM just for the splash screen... just something to think about ;)<br><br><br><div class="quote"> not ideal at all, but in the absence of a better solution, it works.  <br></div><br>A better solution would to use tweening or something similar so you code the animation. <br><br></td></tr></table><br>
<a name="2065321"></a>

<a name="2065322"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raul</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> @therevils:<br><br>or someone good enough code some function to play a movie from internal memory. <br><br></td></tr></table><br>
<a name="2065332"></a>

<a name="2065333"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Taiphoz<br>I would have to check it's OK with them (can't see why not) but I can sell you my licence to full version Spriter for £10 (£16/$25 on the site) as I have recently moved to Spine and have no real need for it anymore.<br><br>This is tween-based animation, which is what therevills mentioned re: video mem hogging.<br><br>No probs if not, but the offer is there mate! :) <br><br></td></tr></table><br>
<a name="2065338"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Stiff like my intro probably cant be done the same way with tweening, there is actually a load of things happening in there lots of little layers moving around and procudral effects to handle the glowing lines, I doubt I could get even close to the same effect with tweening.<br><br>THAT BEING SAID....<br><br>I have the Spriter demo and I did actually make another intro with it, so yeah it's deff a good idea and some one should deff look at it in terms of handling the animation data for a short intro.<br><br>@rIK, thanks for the offer mate but i wont need it at the moment.<br><br>@therevills my maths got it a little larger than your's but either way, as I said it's not like I will be keeping those images in memory after they are played, so they get freed from memory right after the animation is done, so that memory hit is very short lived, I guess its only limitation would be the device and how much it has available.<br><br>Its deff not a system you would want to use for anything thats longer than a few seconds.<br><br>I would love to spend the time and write a proper module to use the native api's codec's and native video playing functionality but it's beyond me sadly. <br><br></td></tr></table><br>
<a name="2065381"></a>

<a name="2065382"></a>

<a name="2065383"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> To my knowledge there isn't a demo version of Spriter, just the "free" and "pro" version... and to me the free version is enough :)<br><br><div class="quote"> my maths got it a little larger than your's <br></div><br>Did I make a mistake?<br><br><div class="quote"> as I said it's not like I will be keeping those images in memory after they are played, <br></div><br>Yep that's fine as long as you aren't targeting low-end devices (e.g. crappy Android devices) which might not have much VRAM spare to begin with.<br><br>And please don't get me wrong I like what you have done, I just wanted to highlight the limitations :) <br><br></td></tr></table><br>
<a name="2065384"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> I do not have the hardware to test for low end specs from low end mobiles so I wont be really caring about them, unless I get a low end device that might change but in situations like that I will simply tune the video to fit.<br><br>Math, nah mate your math is fine I was just counting a few extra assets which your not aware of.<br><br>Highlighting limitations is always a good thing helps up see where we can make improvements. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
