<!DOCTYPE html><html lang="en" ><head ><title >Monkey FAQ</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Monkey FAQ</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Monkey FAQ</a><br><br>
<a name="2053542"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skid</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have started a Monkey FAQ project here:<br><br><a href="https://github.com/blitz-research/monkey/wiki/Monkey-FAQ" target="_blank">https://github.com/blitz-research/monkey/wiki/Monkey-FAQ</a><br><br>If anyone would like to help, feel free to post any suggested entry titles. <br><br></td></tr></table><br>
<a name="2053543"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> list of the preprocessor directives?<br><br>like use_gles2_enabled <br><br></td></tr></table><br>
<a name="2053544"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amon</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> 1:) When upgrading to a new version of Monkey ensure to delete the build folder within your games directory to avoid compilation errors and warnings.<br><br>2:) Do not load any assets within OnUpdate(). This will cause errors during compilation. OnCreate() is the method where all loading and initialization of variables should be made. <br><br></td></tr></table><br>
<a name="2053546"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Amon - number 2 isn't correct. You can (and sometimes must) load assets during OnUpdate, and there is nothing wrong with initialization of variables during OnUpdate either. <br><br></td></tr></table><br>
<a name="2053633"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Perhaps instead explain that the simplest approach is to load all assets during OnCreate() so they know that when OnUpdate() and OnRender() get called, everything is there.<br><br>You can mention that when they move on to larger projects, they may have to load assets midgame, but then they have to make sure they are available before they are rendered. <br><br></td></tr></table><br>
<a name="2053672"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Amon - number 2 isn't correct. You can (and sometimes must) load assets during OnUpdate, and there is nothing wrong with initialization of variables during OnUpdate either. <br></div>That's illogical, captain.  Wouldn't they get reloaded every update?<br><br>OnCreate() should be where you create stuff.  OnUpdate() should be where you update stuff.  I'm not saying you're wrong, cos I'm 99.9% sure you aren't.  It just doesn't make sense why you would "in some cases" *have* to load stuff during OnUpdate(). <br><br></td></tr></table><br>
<a name="2053677"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you have more than one level (or a menu) you won't be loading all your graphics in OnCreate(), so you will essentially be loading some graphics in OnUpdate() even if you use a Class/Module or function to do so. If that makes sense. <br><br></td></tr></table><br>
<a name="2053683"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EdzUp</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>That's illogical, captain. Wouldn't they get reloaded every update?<br><br>OnCreate() should be where you create stuff. OnUpdate() should be where you update stuff. I'm not saying you're wrong, cos I'm 99.9% sure you aren't. It just doesn't make sense why you would "in some cases" *have* to load stuff during OnUpdate().<br> <br></div><br>I normally find especially when coding Hellwing its not practical to have everything loaded into the game my solution to this is simply:<br><pre class=code>
If MyImage=Null
   MyImage = LoadImage( "Myfile.png" )
else
   DrawImage MyImage, WhereIWantX, WhereIWantY
endif
</pre><br><br>Basically this means its loaded when required but not drawn if its null, when i move out of the area required by the image a simple deletion of the image and resetting it to null is all thats required.<br><br>On devices like iOS devices you cannot guarantee that your app will have loads of ram available so loading of everything in OnCreate isnt practical, as an example when writing iSmashem Galactic I foolishly thought I could load everything in and on startup the game just crashed to the icon screen. To cut a long story short it turns out I had a grand total of 7Mb of ram (yes seven megabytes) to play with for the ENTIRE game on my 2nd gen ipod touch. So I had to load everything in when required and release it when it was not needed this meant the game runs perfectly and keeps playing indefinitely :)<br><br>For what its worth you CANNOT guarantee that you will have the entire system resources at your disposal even on Android devices, some people leave things like email clients open, chat system, facebuck (erm facebook) all of them take some resources and leave less and less for your game to run in by freeing the resources when they arent used will mean that your game/app will use the smallest footprint it can at all times. <br><br></td></tr></table><br>
<a name="2053682"></a>

<a name="2053684"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Also if you want to display a loading bar, then you need to load stuff during OnUpdate, because only then you can render something related to the loading process. Also if your app crashes in iOS because it took to long to initialize, then you know you HAVE to load some stuff during OnUpdate. <br><br></td></tr></table><br>
<a name="2053688"></a>

<a name="2053689"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >benmc</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Re: Loading assets in OnUpdate.<br><br>I always load my assets in OnUpdate.  You have to set a flag or 2 in order to avoid re-loading, but if I put everything in OnCreate, on many platforms, this creates a big loading problem.<br><br>I also do this for Android to avoid slow loading on new screens.<br><br>I will load a few assets, draw them behind other assets, and repeat a few times.  For some reason, on Android, the first time you show an image from a sprite sheet it's slow, so if you do this in-game, it kills the action and I have to get it done in OnUpdate loading process.<br><br>EDIT: Plus everything MikeHart said :) <br><br></td></tr></table><br>
<a name="2053693"></a>

<a name="2053699"></a>

<a name="2053700"></a>

<a name="2053701"></a>

<a name="2053702"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skid</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="https://github.com/blitz-research/monkey/wiki/Mojo-App" target="_blank">https://github.com/blitz-research/monkey/wiki/Mojo-App</a><br><br>suggestions 4 improvement welcome<br><br>Does anyone know if code embedded in github wikis can have syntax highlight?<br><br>Embedding iframes into pages would be nice also.<br><br>[edit] <br><br>sussed codehighlighting<br><br>still no luck embedding images, nice 404 message but<br><br><img src="http://raw.github.com/blitz-research/master/monkey/docs/html/img/monkey64.png"> <br><br></td></tr></table><br>
<a name="2056326"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skid</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have added a snapshot of the latest directives here:<br><br><a href="https://github.com/blitz-research/monkey/wiki/Monkey-Directives" target="_blank">https://github.com/blitz-research/monkey/wiki/Monkey-Directives</a> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
