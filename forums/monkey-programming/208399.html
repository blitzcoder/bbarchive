<!DOCTYPE html><html lang="en" ><head ><title >Monkey Box2d Port - Gearjoints not working?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Monkey Box2d Port - Gearjoints not working?</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Monkey Box2d Port - Gearjoints not working?</a><br><br>
<a name="2085446"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PhillipK</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello everybody, <br>iam sorry if i post my issue on the wrong place here.<br><br>I figured that i should start a new topic on my issue, because the box2d port thread ( <a href="http://monkeycoder.co.nz/Community/posts.php?topic=2721&amp;page=last" target="_blank">http://monkeycoder.co.nz/Community/posts.php?topic=2721&amp;page=last</a> ) had the last post 9 months ago.<br>Also, the last "update" on the module ( <a href="http://code.google.com/p/monkeybox2d" target="_blank">http://code.google.com/p/monkeybox2d</a> ) was posted on Mar 2013.. long time ago :(<br><br>Currently iam wrapping box2d in a more confortable private module. It seems impossible to get the geartjoint to work. After hours of debbuging the world, it seems that no gearjoint ever recieves and update.<br>My prismatic / revolute joints are working as intended - but the gearjoint never get any calls on his functions.<br>I think that the gearjoint wasn't ported well / had never been tested. I dont think that iam the first person, that wants to use the gearjoint, so i ask here for some solutions. Maybe there is another user who is more into the Box2d mod than me, who already solve this issue. <br><br></td></tr></table><br>
<a name="2085445"></a>

<a name="2085500"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >muddy_shoes</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you post in a thread it gets popped to the top of the forum. If you don't post in the thread because you think it looks "too old" it remains looking old.<br><br>The gearjoint is used in the testcrankgearspulley.monkey test file, which is called "Joints" in the demo. This appears to be working fine. I suggest you look at the code and compare with whatever you're doing. <br><br></td></tr></table><br>
<a name="2085499"></a>

<a name="2085525"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PhillipK</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh, so "Thread-ressurection" is allowed here? I come frome the german basic portal (short: BBP), maybe the rules there are a bit more harsh. :x The next time, i will post on the correct thread to keep the informations together :)<br><br>Now, to the problem: Thanks for pointing me to this direction, muddy_shoes! I've never realised before that a gearjoint is allready in the demo. Dont know whats wrong, but the demo works - so my box2d version is not screwed as i thought.<br><br>I will take a look right after cleaning up my box2d again (i've spend the whole day yesterday for addings print's, DebugStop()'s and Error(" ")'s to find whenever a gearjoint is used *sigh*) - if i find the difference of declarations between <a href="http://www.box2d.org/manual.html#_Toc258082974" target="_blank">http://www.box2d.org/manual.html#_Toc258082974</a> and my, i will edit it in here to help other people who uses the box2d manual and cant get them to work :)<br><br><b>Edit: </b><br>Oh wow, THATS screwed. (no, not really. But i just wasted ~ 10 hours of my time for a LITTLE difference. Yesh, i like it ^^)<br><br>In the Demo-Example, the revolute joints are created with the groundbody as body1, the circlebody as body2. And thats all the magic o_O<br>If:<br>Revolute1.Body1 -&gt; Static and Revolute2.Body1 -&gt; Static, The Gearjoint works as expected.<br>If:<br>Revolute1.Body2 -&gt; Static and Revolute2.Body1 -&gt; Static, they both (R1.Body1 and R2.Body2) turn into the same direction when connected by a gearjoint.<br>If both' Body2 are the statics, the gearjoint refuses to work.<br><br>So, as far as i can see, its also very important to watch the setup of the revolute/prismatic joints, and not only the gearjoint setup. You can tell the gearjoint which body's it should use, but keep in mind which bodys are attached in which order to the revolute / prismatic joints...<br><br>Again, Thanks muddy_shoes :) <br><br></td></tr></table><br>
<a name="2085522"></a>

<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
