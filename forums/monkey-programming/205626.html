<!DOCTYPE html><html lang="en" ><head ><title >DrawImageRect and MidHandle</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >DrawImageRect and MidHandle</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >DrawImageRect and MidHandle</a><br><br>
<a name="2063419"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi guys,<br><br>as I'd like to use a texture packer I'll have to use DrawImageRect of course instead of DrawImage, BUT in that case I can't use the image flag MidHandle which is quite handy when you want to rotate images around its center.<br><br>Any ideas? I can't imagine I'm the first one with that "problem"?<br><br>Cheers! <br><br></td></tr></table><br>
<a name="2063421"></a>

<a name="2063422"></a>

<a name="2063423"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> you don't use diddy do you ?<br><br><pre class=code>
PowerUPImage[0]			=	ImageSpriteSheet.GrabImage(918,216,54,54,1,Image.MidHandle)'bomb
</pre> <br><br></td></tr></table><br>
<a name="2063424"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh and obv that would mean you wont be using DrawImageRect you will just DrawImage normally. <br><br></td></tr></table><br>
<a name="2063451"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh well, thanks for pointing me to that one! <br><br></td></tr></table><br>
<a name="2063464"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Did that help ? <br><br></td></tr></table><br>
<a name="2063467"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I haven't tried yet. ;) But I think it will! <br><br></td></tr></table><br>
<a name="2063474"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Supertino</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I use a texture pack and can set a midhandle, though I wrote the texture packer code that extracts the images, I am sure I just grabimage(you can set handle here). <br><br></td></tr></table><br>
<a name="2063473"></a>

<a name="2063479"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, GrabImage is the key! Thanks so much! GrabImage does not create a copy, does it? <br><br></td></tr></table><br>
<a name="2063485"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do you mean a copy of the whole sprite sheet, or a copy of the small section that you grab ?<br><br>I think it grabs a small section and makes a fresh copy of that small part but I have not looked into it, didn't feel the need, it worked and did what I wanted of it .. <br><br></td></tr></table><br>
<a name="2063487"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well if it creates a copy this doesn't make sense at all to pack the textures into one file. <br><br></td></tr></table><br>
<a name="2063490"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah I see your point, then its still taking up extra space in memory, it must reference it then surely ?<br><br>food for thought. <br><br></td></tr></table><br>
<a name="2063491"></a>

<a name="2063493"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Supertino</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> AFAIK grabimage just references the parent image and does not make a copy of the grab portion.  I remember posting a thread a while back about some grab image weird-ness and we can to the conclusion it references. <br><br></td></tr></table><br>
<a name="2063494"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> taking a quick look at the docs...<br><br>"GrabImage creates a new image by 'grabbing' a rectangular region of the current image."<br><br>that would suggest that it does create a little copy of that portion of the over all sprite sheet.<br><br>Mark ? <br><br></td></tr></table><br>
<a name="2063492"></a>

<a name="2063497"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Supertino</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> As far as we could work out it does reference <a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=2301#22522" target="_blank">http://www.monkeycoder.co.nz/Community/posts.php?topic=2301#22522</a> changes made to the referenced image effect the grabbed images. <br><br></td></tr></table><br>
<a name="2063495"></a>

<a name="2063496"></a>

<a name="2063501"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John McCubbin</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Aye it references the image, so it's using the one surface, if you delete or change the image you 'grabbed' from the images you grabbed are changed/deleted. So just grab them, center and away you go :P <br><br></td></tr></table><br>
<a name="2063513"></a>

<a name="2063514"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BigAnd</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I use DrawImageRect and you can set the handle the same as you would a normal DrawImage.<br><br>Even if your sprite sheet is 2048x2048 and you want to draw a 16x16 sprite off your sprite sheet, you just set the handle on your sprite sheet to 8,8 and then draw your sprite with DrawImageRect.<br><br>The texture packer has to give you the width and height of the each sprite so you should just be able to do something like:<br><br><pre class=code>
IMGspritesheet.SetHandle(sprite1_w/2,sprite1_h/2)
DrawImageRect(IMGspritesheet, sprite_x, sprite_y, spritesheet_x, spritesheet_y, sprite1_w, sprite1_h)
</pre> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
