<!DOCTYPE html><html lang="en" ><head ><title >Drag &amp; Drop in Monkey</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Drag &amp; Drop in Monkey</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Drag &amp; Drop in Monkey</a><br><br>
<a name="2050331"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >trainer</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi all,<br><br>I'm a beginner developer in Monkey Coder, and I was looking for some method or built-in function for (drag &amp; drop) but unfortunately I couldn't find one.<br><br>In my game, the player should drag some objects, toys, from the ground and classify them, drop them, into their specific boxes:<br><br><img src="http://i.imgur.com/Otp07DR.png"><br><br><br>Can anybody tell me how to do this in Monkey?<br>Is there any alternative code in Monkey coder that has the same functionality as (drag &amp; drop)?<br><br>Your immediate reply is highly appreciated guys.<br>Thanks! <br><br></td></tr></table><br>
<a name="2050248"></a>

<a name="2050249"></a>

<a name="2050250"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Really simply:<br>Each object has an x and y position<br>Each box has a region<br>When the user clicks/drags an object the object's x/y will be the same as the mouse/touch position<br>Once the drop happens check to see if the object's x/y is within a box's region <br><br></td></tr></table><br>
<a name="2050330"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >trainer</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Really simply:<br>Each object has an x and y position<br>Each box has a region<br>When the user clicks/drags an object the object's x/y will be the same as the mouse/touch position<br>Once the drop happens check to see if the object's x/y is within a box's region <br> <br></div><br><br>Thanks for reply,<br><br>Could you please give me a sample of code?<br>Or any source code has the same idea? <br><br></td></tr></table><br>
<a name="2050332"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Assuming that your using some sort of class for your items...<br><br>[monkeycode]<br><br>const held : int = 1<br>const dropped : int = 2<br><br><br>class toy<br>  field _x:int<br>  field _y:int<br>  field _sprite:Image<br>  field _status:int<br><br>  method Held()<br>    self._x = MouseX() ' or use self._x = ToushX()<br>    self._y = MouseY() ' or touchy<br>  end method<br><br>  method draw....<br><br>  method update()<br>    'if mouse or touch is inside or over this object<br>    'and touchdown then<br>    self._status =  1<br><br>    'else<br>    self._status = 2<br>  end method<br><br>[/monkeycode]<br><br><br>thats very rough code, essentially what you would do with your toy class, is use either radius or rects overlap code to see if the mouse of finger is over the item, if there is then a touch or left click detected set the field for that object so that its status is held, then in the update method for this toy class you would simply draw the toy at mouse/touch x,y<br><br>sorry if this is hard to follow, but hope it helps, not got time to actually code it in full. <br><br></td></tr></table><br>
<a name="2050611"></a>

<a name="2050612"></a>

<a name="2050616"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >trainer</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Assuming that your using some sort of class for your items...<br><br>thats very rough code, essentially what you would do with your toy class, is use either radius or rects overlap code to see if the mouse of finger is over the item, if there is then a touch or left click detected set the field for that object so that its status is held, then in the update method for this toy class you would simply draw the toy at mouse/touch x,y<br><br>sorry if this is hard to follow, but hope it helps, not got time to actually code it in full. <br> <br></div><br><br>Great! I got the idea,<br>but how can I know if the player released his finger, or the mouse, from the screen?<br>Is there any built-in function for touchdown? <br><br></td></tr></table><br>
<a name="2050614"></a>

<a name="2050615"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> TouchDown(1) returns True if the first finger is touching the screen. Also TouchX(1) and TouchY(1) let's you get the X and Y position of the touch.<br>You can also use MouseDown() and MouseX() and MouseY()<br>You can also use touchHit and MouseHit, that return True if the screen has been touched or the mouse has been clicked. <br><br></td></tr></table><br>
<a name="2050617"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >trainer</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>TouchDown(1) returns True if the first finger is touching the screen. Also TouchX(1) and TouchY(1) let's you get the X and Y position of the touch.<br>You can also use MouseDown() and MouseX() and MouseY()<br>You can also use touchHit and MouseHit, that return True if the screen has been touched or the mouse has been clicked. <br> <br></div><br><br>I appreciate your immediate reply, ziggy.<br>I'll try them out and see which one fits me more.<br><br>Thanks! <br><br></td></tr></table><br>
<a name="2050618"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Basically, have a variable that records any object that is being carried.  It could be a reference to the object itself (null if nothing is being carried)- or it can be done in a number of ways.<br><br>While it is being carried, do not draw it in the normal way but draw it at the mouse position.<br><br>When it is dropped, update its position and start drawing it normally, and set your 'carriedObject' variable to null. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
