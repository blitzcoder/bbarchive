<!DOCTYPE html><html lang="en" ><head ><title >String to Bool casting</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >String to Bool casting</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >String to Bool casting</a><br><br>
<a name="2036992"></a>

<a name="2036994"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would have expected Bool("true") to be true, and Bool("false") to be false, but it seems Monkey assumes any non-empty string is true, and an empty string is false.<br><br>Can we get this changed?  I had to alter the Diddy particle system to check for ="true" so that you can correctly set an XML attribute to "false".<br><br>You could make this backward compatible by casting to False if the string is "" or "false", otherwise True.<br>[monkeycode]Local cast:Bool = (val And val.ToLower() &lt;&gt; "false")[/monkeycode] <br><br></td></tr></table><br>
<a name="2037013"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> "I would have expected Bool("true") to be true, and Bool("false") to be false".<br><br>I don't think this would be a standard expectation.  I would much prefer it left as it is.  And what about strings such as "True", "ja", "sure", "probably", "1", etc.?<br><br><br>Also, it would slow string conversions, and probably break existing code for text-wrapping and such. <br><br></td></tr></table><br>
<a name="2037012"></a>

<a name="2037059"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>&gt; Can we get this changed? <br> <br>Nope, I much prefer the behavior of 'non-empty' meaning true and 'empty' meaning false.<br><br>It's simple, applies to both strings and arrays, and removes any confusion over what 'true' or 'True' or 'false' or 'False' or '1' or '0' or '1.0' or '0.0' etc get converted to. <br><br></td></tr></table><br>
<a name="2037077"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >golomp</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry Samah but i also think the actual system is ok and improve speed...<br>But i dont really realize the impact on Diddy and what possibilities it close.<br>Can you give some details on Diddy consequences ? <br><br></td></tr></table><br>
<a name="2037084"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> It doesn't matter, I just changed it to be an ="true" check, as silly as it is.  I'm not fighting it. <br><br></td></tr></table><br>
<a name="2037094"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> IMO I don't think casting a string to a bool should be allowed in the first, it just doesn't make sense to me. <br><br></td></tr></table><br>
<a name="2037287"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Also, I hate it when runtime cast operations rely on culture info. Would it still have any sense on a nonenglish language program... ? I do preffer it too as it is now. <br><br></td></tr></table><br>
<a name="2037321"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Then I agree with therevills. If it doesn't make sense to cast an empty string to a numeric value, I don't see how it makes sense to cast to a bool.  It only exists for a quick and dirty way to check for empty strings. <br><br></td></tr></table><br>
<a name="2037364"></a>

<a name="2037365"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's a C tradition, I guess.  In C an empty string starts with 0 (and no other string does) so the test is very quick and efficient.<br><br>Personally I'm okay with it. I don't necessarily expect strings to have implicit casting to bools, but if they do have it, empty-&gt;false is what I expect.<br><br>And if strings cast to numbers, it should be either to the number in a standard language format, or zero.  Strings should not be castable to any number system that doesn't contain zero ;-) <br><br></td></tr></table><br>
<a name="2037374"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Then I agree with therevills. If it doesn't make sense to cast an empty string to a numeric value, I don't see how it makes sense to cast to a bool. <br></div>I see no problem with this. You can convert ANY object to bool and it'll be true if it is not null. It sort of the same logic, If we go this far, it should not be allowed to do: <pre class=code>If myObject Then Whatever()</pre>Wich is something I really like about monkey, instead of being forced to write:<pre class=code>If myObject &lt;&gt; Null Then Whatever</pre>It gets too verbose without making the code any easier to follow. <br><br></td></tr></table><br>
<a name="2037378"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tiresius</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Dangit ziggy - I have &lt;&gt; Null checks all over my code, now I have to go fix. :)<br><br>I agree with empty string being False as it makes sense to me (with a background in a functional language and the concept of Nil / Non-Nil determining conditions). <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
