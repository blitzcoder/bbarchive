<!DOCTYPE html><html lang="en" ><head ><title >Github questions!</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Github questions!</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Github questions!</a><br><br>
<a name="2054449"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>A few questions for any github pros out there...<br><br>* I accidentally merged a 3rd party tweak with the 'master' branch instead of 'develop'. What's the recommended course of action here? Is it possible to apply just that commit to 'develop' too? Are there other ways?<br><br>* If someone clones blitz-research/monkey and makes some custom tweaks to it along with tweaks to the 'official' code, then tries to merge back, I'll get their custom tweaks too, right? How should people deal with this? Should they make a clone of brl/monkey, then make a 'custom' branch? Or should they clone their clone? Actually, a clone is a lot like a branch I guess...? <br><br></td></tr></table><br>
<a name="2054456"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> 1.  you can revert to a previous branch at any time.  <a href="http://learn.github.com/p/undoing.html" target="_blank">http://learn.github.com/p/undoing.html</a><br><br>2.  Yes.  People will send you a pull request when they're ready for you to evaluate the merge.  AFAIK, at this point, you manually evaluate the changes with a difftool like kdiff3, test for regressions, and merge the changes which you find acceptable or reject the branch.  This is the common way to contribute to projects on github -- if you don't flag someone as a direct contributor, then they manually fork the repository, which creates a serverside copy on their account.  They clone this server-side repo to their local computer, then work on it, and contribute it back to their forked repo.  Then, when they're ready to give the code back to you for merging, they do a pull request.<br><br>This may or may not help:  <a href="http://stackoverflow.com/questions/6286571/git-fork-is-git-clone" target="_blank">http://stackoverflow.com/questions/6286571/git-fork-is-git-clone</a> <br><br></td></tr></table><br>
<a name="2054457"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; 1. you can revert to a previous branch at any time. <a href="http://learn.github.com/p/undoing.html" target="_blank">http://learn.github.com/p/undoing.html</a><br><br>Ok, but I can 'move' the change to another branch?<br><br>On that page, there's an example of undoing a commit to a master branch, and 'moving' it to a new 'test' branch, but I can't see if there's a way to move a commit from master to an existing branch instead - in this case, develop. Not a big deal, just mainly curious...<br><br>Also, I'm a bit confused about the whole 'staging' thing, but that may be because I'm mainly using the GUI client though which no doubt does some 'magical' stuff. It just lists the changed files and I select 'commit' and voila it's done. But I'm unsure where/how stuff is 'staged' - it appears to be part of the whole commit process only.<br><br>I suspect I need to spend a bit more time with git in a 'shell'!<br><br>&gt; AFAIK, at this point, you manually evaluate the changes with a difftool like kdiff3, test for regressions, and merge the changes which you find acceptable or reject the branch.<br><br>I'm using the github web interface here (which has a very nice 'diff' preview), which appears to only let me choose between merging ALL changes, or none - I'll have a play around with this  though.<br><br>But I thought in general, it should be possible for people to only send me merges for brl stuff, so I don't have to sort through custom changes? But maybe not... <br><br></td></tr></table><br>
<a name="2054458"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm..... the "git branch [branchname]" command in the commandline should create a new branch based on the existing one in master.  If you've already reverted the changes, I'm not sure what would have to be done.<br><a href="http://git-scm.com/book/en/Git-Branching-Basic-Branching-and-Merging" target="_blank">http://git-scm.com/book/en/Git-Branching-Basic-Branching-and-Merging</a><br><br>There may be arguments/flags for branch that let you specify a previous commit to branch, but I'm not familiar with the commandline, so I don't know for sure.<br><br>Staging is basically a way to only commit the changes you're ready to commit before making a push.  By only staging certain files, you can commit a push that doesn't include, say, more experimental and/or temporary changes that you haven't made a separate branch for.<br><br><br>I'm afraid I've never had to do a merge or a pull request before, so I don't have much experience in being able to explain how it all works, but I do know that just about anything is possible in git, with minimal amount of hassle/frustration compared to other solutions, once it's all set up properly. <br><br></td></tr></table><br>
<a name="2054459"></a>

<a name="2054460"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >muddy_shoes</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ideally, anyone sending a pull request will have placed their changes in a branch that only includes the changes they want you to take. It certainly shouldn't be a case of you picking through their entire working repo to filter bits you're interested in.<br><br>This is a fairly readable tutorial on the process: <a href="http://gun.io/blog/how-to-github-fork-branch-and-pull-request/" target="_blank">http://gun.io/blog/how-to-github-fork-branch-and-pull-request/</a> <br><br></td></tr></table><br>
<a name="2054461"></a>

<a name="2054462"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; If you've already reverted the changes, I'm not sure what would have to be done.<br><br>I haven't reverted the 'wrong' commit to master (it was supposed to be to develop) - it's still there. Perhaps this would work to move it to develop?<br><br>* Make a tmp branch of master<br><br>* Reset master to before the commit<br><br>* Merge tmp branch with develop<br><br>* Throw away tmp branch<br><br>How does that sound?<br><br>&gt; Staging is basically a way to only commit the changes you're ready to commit before making a push. By only staging certain files, you can commit a push that doesn't include, say, more experimental and/or temporary changes that you haven't made a separate branch for.<br><br>Ok, I think the Github client does this for you automatically - each time I 'reactivate' it after editing some files, it lists all the changed/deleted/created files ready to be committed (which I love). I assume these are all 'staged' files. You can uncheck some of these if you want, which I guess unstages them. Checking the git docs, it seems like you normally have to 'git add' any changed files if you're using the command line. <br><br></td></tr></table><br>
<a name="2054468"></a>

<a name="2054469"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, I think those directions are what I would do if I was facing the situation.  Once the tmp branch has been merged, it <i>should</i> appear to go away, and will be reflected in the branch visualizer in your commit history as having been fully merged back into 'develop'.<br><br>As for staging, yes, I'm pretty sure that staging as an intermediary step is enforced by the commandline -- Git Extensions (the GUI I use) also has a similar "Stage all and push" feature, to stage all the changed files, letting me remove the ones I don't want from the stage before pushing.  It sounds like the Github client is doing the same essential thing, but hiding the internals of staging for convenience.<br><br>On the commandline, I think staging might make more sense, since you might want to stage files you know you're going to change ahead of time, work on it a while before deciding to commit, and then make a push with a simple command.  It's a pain in the butt to do this all manually, but I think most people would always want to commit their most recent changes, unless they really broke their code up something fierce and don't want to branch because it's "temporary" <br><br></td></tr></table><br>
<a name="2054470"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> So, if I want to suggest some changes, I would rather do a branch for each change and make a pull request containing only a change-set at a time?<br>I'm working on some sugested changes to mserver, so it is better that I do this on a specific branch and make pull requests with only this changes so Mark can see what's been changed and accet/reject suggestions easily? Is this ok? <br><br></td></tr></table><br>
<a name="2054556"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Corum</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Your own fork is actually a separated branch respect to the official one.<br>My statement could be clearer if you browse the "network" tab on Monkey's GitHub repository --&gt; <a href="https://github.com/blitz-research/monkey/network" target="_blank">https://github.com/blitz-research/monkey/network</a><br>As you can see, Devolonter made a couple of changes to his fork, that remains separated from the original one.<br>He just made a pull request. Now it's up to Mark, when/if he accepts his pull request, to manage/integrate the added code in the most convenient way.<br><br>This is when you are an external contributor.<br><br>As a direct contributor, your commits will automatically join the main repository with no need for a pull request.<br>In any case, each time a team coder is going to focus on specific areas, the best practice is to create a new branch, so to avoid regression collisions on the main branch, until the ongoing development is clean and well tested with the existing code base.<br><br>When a part of your local sources is ready to join the codebase, you can selectively stage them, choosing what to include in next commit. <br><br></td></tr></table><br>
<a name="2054561"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Corum! I've just done it like this for some changes on MServer and they've been added to the development branch <br><br></td></tr></table><br>
<a name="2054575"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, had my first bit of github weirdness yesterday - some stuff I was working on Friday afternoon completely disappeared somehow!<br><br>Fortunately nothing major, and there's a dropbox backup there for me to double check against, but I don't really have a clue what I did to cause it.<br><br>The only slightly weird thing I did yesterday that I guess may have been involved was solving the above 'committed to wrong branch' issue by simply merging master-&gt;develop, on the theory that the ONLY change made to master since the last develop-&gt;master merge was the one I really wanted made to develop, so...? The history of commits looks right anyway - can anyone confirm this was safe-ish?<br><br>Another weird thing: if I change branches, it changes all my files 'in place' - scary, but kind of useful.<br><br>Only sometimes it wont, eg: if I edit README.TXT or src/rebuildall.bmx (say, insert a line at the top) but don't stage/commit, github will let me change branches and shows the change as 'commitable' on either branch (once it's actually committed, the change gets swapped in/out along with branches).<br><br>But if I try the same thing with, say, bouncyaliens.monkey, it wont let me change branches - I get a 'failed to checkout the branch - the changes to the following files will be overwritten by a checkout'.<br><br>Which I sort of get - but why doesn't the same thing happen with README.TXT or rebuildall.bmx? What's the difference here? <br><br></td></tr></table><br>
<a name="2054574"></a>

<a name="2054573"></a>

<a name="2054578"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >muddy_shoes</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> In theory no operation should lose data unless you force it. Are you saying that you lost work that was in the repo or just work that was local?<br><br>As for the branch switch I'd guess that you've got local changes on top of branch changes in one situation and not in the other. Git can't swap branches without losing your local changes if the branch itself changes the same file. If they're the same in the repo in both branches then your local changes can be left as is.<br><br>I prefer to commit or stash (shelve in hg speak) changes before switching branches unless I specifically want to assess a local change against the other branch. <br><br></td></tr></table><br>
<a name="2054577"></a>

<a name="2054579"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; In theory no operation should lose data unless you force it. Are you saying that you lost work that was in the repo or just work that was local?<br><br>Yes, it was work that was part of the repos. I made some local modifications on Friday afternoon but went home before committing them. And then yesterday, I appear to have done something that caused those changes to 'revert' - ie: the local modifications seem to have disappeared.<br><br>&gt; If they're the same in the repo in both branches then your local changes can be left as is.<br><br>Yes, that's it, thanks! <br><br></td></tr></table><br>
<a name="2054580"></a>

<a name="2054581"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >muddy_shoes</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> By in the repo, I meant committed. You're saying that you lost local changes?<br><br>Destructive updates to your local working copy should be flagged. It's always possible to click through confirmation without noticing or have something set up to force by default though. <br><br></td></tr></table><br>
<a name="2054582"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Mystery solved (I think) - the changes are actually sitting there in my master branch! I must have had the current branch set to master when I was making the changes, switched back to develop at some time and, erm, 'lost' the changes. I also must have committed them at some point...? <br><br></td></tr></table><br>
<a name="2054594"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AndroidAndy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Mark - You might want to take a quick peek at this blog entry about branching models, I found useful bits there to develop a sane branching strategy.  <a href="http://nvie.com/posts/a-successful-git-branching-model/" target="_blank">http://nvie.com/posts/a-successful-git-branching-model/</a> Cheers! <br><br></td></tr></table><br>
<a name="2054614"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Corum</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> In the Github notation, your "local copy" of sources is meant to be your "working copy".<br>When you switch between branches (or tags) you force an update (i.e. total replace) of your working copy.<br>Before making any switch, I always do a commit of the current working copy.<br><br>I recommend again this great piece of software: <a href="http://www.sourcetreeapp.com/" target="_blank">http://www.sourcetreeapp.com/</a><br>It's free, and works under Mac and Windows.<br>I really understood github mechanics only after using this software, because any operation is visually explained, there are a lot of warnings and tips related to any critical operation, and the big picture becomes much clearer. :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
