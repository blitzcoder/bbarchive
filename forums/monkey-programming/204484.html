<!DOCTYPE html><html lang="en" ><head ><title >v67 module compatibility</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >v67 module compatibility</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >v67 module compatibility</a><br><br>
<a name="2047889"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>Just want to get some idea of how well v67 works with 3rd party modules, so if your a module author (esp. if your module is on the community 'module registry' page) could you please post here to let me know how well your module works with the latest v67 version(s) of Monkey. <br><br></td></tr></table><br>
<a name="2047894"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Playniax</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Mark! I have tested the latest version of Ignition with all its projects and samples and it works fine! <br><br></td></tr></table><br>
<a name="2047896"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> So far so good. I needed a little change in the timing area as you changed the way Millisecs behave but anything else goes fine so far in fantomEngine. <br><br></td></tr></table><br>
<a name="2047899"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Mike, Millisecs should be back to normal (ie: starts at 0 when app starts) in v67d. <br><br></td></tr></table><br>
<a name="2047897"></a>

<a name="2047901"></a>

<a name="2047902"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >devolonter</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Flixel port has a small issues with new Millisecs() values and conflicts with ShowMouse and HideMouse functions. But after correcting these errors it works properly. I plan to release an update for V67 this weekend.<br><br><div class="quote"> Mike, Millisecs should be back to normal (ie: starts at 0 when app starts) in v67d. <br></div><br>Thanks for that! <br><br></td></tr></table><br>
<a name="2047900"></a>

<a name="2047907"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> It works well with Fontmachine and JungleGui. not a sigle issue detected <br><br></td></tr></table><br>
<a name="2047912"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> v67d now up with Millisecs fix. <br><br></td></tr></table><br>
<a name="2047916"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amon</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, Mark! <br><br></td></tr></table><br>
<a name="2047918"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Think I have one in AutoFit with V67C:<br><br><a href="https://dl.dropbox.com/u/3592022/megademo.zip" target="_blank">https://dl.dropbox.com/u/3592022/megademo.zip</a><br><br>This runs fine in 67B, regardless of platform (testing XNA, GLFW and HTML5), using either of the two versions (megademo_autofit and megademo_noautofit).<br><br>However, in V67C, megademo_autofit is juddery on GLFW, and fine on all other platforms, yet megademo_noautofit seems fine on all.<br><br>Switching between 67B and 67C, deleting build folder each time, the problem clearly comes and goes. <br><br></td></tr></table><br>
<a name="2048037"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> ... aaaand it's fine in 67D, so likely due to Millisecs! The characters depend on it for their bobbing movement -- Sin (Millisecs ()) if I recall correctly. <br><br></td></tr></table><br>
<a name="2047919"></a>

<a name="2047926"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Diddy needs a few minor changes, but should be okay. <br><br></td></tr></table><br>
<a name="2047928"></a>

<a name="2047929"></a>

<a name="2047931"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rushino</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> There some problem with Ignition and v67d was working back in v65. <br><br>See this screen :<br><br><img src="https://dl.dropbox.com/u/33226466/v67d_prob_ignition.png"> <br><br></td></tr></table><br>
<a name="2047944"></a>

<a name="2047946"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; There some problem with Ignition and v67d was working back in v65. <br><br>Looking at the 2 overloads for GetImage in my version of Ignition here,  there should be no way for Monkey to tell which one to use so the error is correct.<br><br>This probably relates to a recent fix to the Monkey translator - in previous versions, it was likely just calling the first overload even though it really should have been causing the above error.<br><br>Actually, there appears to be no way to call the first overload at all, so this will need to be fixed in Ignition (sorry!).<br><br>One fix would be to remove the default value for the _frameCount param for the second overload - which is exactly what LoadImage does. <br><br></td></tr></table><br>
<a name="2047945"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rushino</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Alright thanks for the update ! <br><br></td></tr></table><br>
<a name="2047948"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Playniax</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>I was aware of this problem but did not mention it in this thread because it is not a compatibility problem but a bug in Ignition. Anyway, I uploaded Ignition v1.5c<br><br>Thanks guys! <br><br></td></tr></table><br>
<a name="2048761"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>@marksibly</b><br><br>Mark, I have code that works fine in v66b but when I try and compile in 67d I get the following error:<br><br><div class="quote"> Monkey Runtime Error: TypeError: Cannot call method 'SetDelegate' of undefined <br></div><br>Any idea what change might have caused this?<br>I'm hoping an existing bug in my code will be fixed by the Millisecs update, but can't try due to these new errors, and I'm not sure where to look as I don't get a line number or any other clues.<br><br><b>@ziggy</b><br>Do you have to update JungleIDE for every new Monkey release?<br><br>I am trying it out at the moment (1 day so far) and have just grabbed 67d but Jungle keeps telling me the Monkey dir is not valid.<br>Just wondering if there is something else I need to do that I am missing? <br><br></td></tr></table><br>
<a name="2048020"></a>

<a name="2048021"></a>

<a name="2048022"></a>

<a name="2048023"></a>

<a name="2048024"></a>

<a name="2048025"></a>

<a name="2048026"></a>

<a name="2048028"></a>

<a name="2048029"></a>

<a name="2048030"></a>

<a name="2048031"></a>

<a name="2048038"></a>

<a name="2048039"></a>

<a name="2048040"></a>

<a name="2048041"></a>

<a name="2048042"></a>

<a name="2048043"></a>

<a name="2048044"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> miniB3D+monkey:<br>works great with just a couple easy mods to minib3d/monkeybuffer.<br><br>In fact, I noticed that Android now starts off in correct aspect orientation and.... IS FASTER! (higher fps) neat-o<br><br>EDIT: XNA breaks a little but I think it's our end.<br>EDIT2: Ok, I see what changed: Extern Classes are now putting the class name before Functions when called. Different than v66.<br><br>per versions.txt:<br><b>"Extern static class member functions must no longer be 'pre-munged'."</b> Easily fixed.<br><br><pre class=code>
Class XNABlendState = "XNABlendState"
	
	Method ColorSourceBlend:Void(value%) Property = "SetColorSourceBlend"
		
	Function Create:XNABlendState() = "XNABlendState.Create"

End
</pre><br><br>Now becomes...<br><pre class=code>
Class XNABlendState = "XNABlendState"
	
	Method ColorSourceBlend:Void(value%) Property = "SetColorSourceBlend"
		
	Function Create:XNABlendState() = "Create"

End
</pre><br><br><br>EDIT 3: my XNA fps seems to be off. Could just be me.<br>update rate 30 = 28fps. update rate 60 = 56 fps..... <br><br></td></tr></table><br>
<a name="2048051"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice update. I like that flash games now start of the html code. and there is an actual html console for it. Awesome! <br><br></td></tr></table><br>
<a name="2048060"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> can we create a sound from a databuffer yet? <br><br></td></tr></table><br>
<a name="2048061"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; Monkey Runtime Error: TypeError: Cannot call method 'SetDelegate' of undefined<br><br>Have you deleted .build dir? Can you post code/email me project?<br><br>&gt; EDIT 3: my XNA fps seems to be off. Could just be me.<br><br>Should be the same - XNA handles all timing, I just give it the rate. I'll double check I haven't stuffed anything. <br><br></td></tr></table><br>
<a name="2048062"></a>

<a name="2048063"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Have you deleted .build dir? <br></div><br>...from the wrong folder...<br><br>*facepalm*<br><br>Working now - apologies. <br><br></td></tr></table><br>
<a name="2048095"></a>

<a name="2048096"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> EDIT<br><br>I had linked my Modules folder to an external one, so the original monkey modules did not run from the original dir...<br><br>omg what a miss :)<br><br>Is it possible to hook more than one /modules/ directory somehow? Would be really nice to not have to manually copy blr, monkey, trans, mojo each new release. <br><br></td></tr></table><br>
<a name="2048093"></a>

<a name="2048081"></a>

<a name="2048082"></a>

<a name="2048080"></a>

<a name="2048126"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> I get this on glfw<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Build FAILED.
Build succeeded.
    0 Warning(s)
    0 Error(s)

Time Elapsed 00:00:05.29
glfwOpenWindow failed
Failed to find any usable GLFWFBConfigs
Unable to find a usable pixel format
Failed to create GLFW window
TRANS FAILED: Error executing 'MonkeyGame', return code=-1
</textarea><br><br>EDIT manage to fix xna &amp; win phone by installing an update to visual studio and re-installing xna + some magic thing happened. <br><br></td></tr></table><br>
<a name="2048083"></a>

<a name="2048094"></a>

<a name="2048160"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>It looks like long #Preprocessor variables connected with "+" are not allowed. if I use a +=, it automatically adds a semi-colon. So I can't do this for the wxMonkey target unless I use a very long line with no breaks:<br><br><pre class=code>
#CC_OPTS = "HEADER_SEARCH_PATHS=~q/Monkey/modules/wxmonkey/wxMac-2.8.12/include~q LIBRARY_SEARCH_PATHS=~q...etc....q "+
 " OTHER_CFLAGS=~q-D__WXRELEASE__ -D__WXMAC__ ~q"+
 " OTHER_LDFLAGS=~q -lwx_base_carbon-2.8  -lwx_mac_core-2.8 -lwxjpeg-2.8 -lwxpng-2.8 -lwxtiff-2.8~q"
</pre><br><br>I guess I can do this though:<br><pre class=code>
#CC_OPTS0 = "HEADER_SEARCH_PATHS= ...etc..."
#CC_OPTS1 = " OTHER_CFLAGS="
#CC_OPTS2 = " OTHER_LDFLAGS="

#CC_OPTS=CC_OPTS0+CC_OPTS1+CC_OPTS2
</pre> <br><br></td></tr></table><br>
<a name="2048115"></a>

<a name="2048117"></a>

<a name="2048118"></a>

<a name="2048119"></a>

<a name="2048237"></a>

<a name="2048238"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rushino</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey Mark,<br><br>Ive been able to advance in my game port to v67d and i get more problems and errors. This is on the XNA platform.<br><br><img src="https://dl.dropbox.com/u/33226466/v67d_bug1.png"><br><br>The problem is probably due to the fact that you've refactored the monkeygame class or something. Cause if i compare with v65 and v67d sources.. here what ive found.<br><br><img src="https://dl.dropbox.com/u/33226466/v67d_bug2.png"><br><br>The gxtkApp do not exist.. but it seem to be replaced with MonkeyGame class.<br><br>EDIT: This seem to be related to Diddy module which have reference to gxtkApp. What gxtkApp has been changed to ?<br><br>This is from diddy... it seem that anything related to gxtkApp is broken now in diddy. Anyway i don't use theses fonctions.. do you think there an easy fix to avoid getting thoses errors in diddy ?<br><br><pre class=code>
public static void flushKeys()
	{
		for( int i=0;i&lt;512;++i ){
            gxtkApp.game.app.input.keyStates[i] &amp;= 0x100;
            
		}
	}
	
	public static int getUpdateRate()
	{
		return gxtkApp.game.app.updateRate;
	}
	public static int getPixel(int x, int y)
	{
		if ((x &gt; 0 &amp;&amp; y &gt; 0 &amp;&amp; x &lt; gxtkApp.game.app.graphics.Width()) &amp;&amp; (y &lt; gxtkApp.game.app.graphics.Height()))
		{
			Texture2D backBufferData = new Texture2D(
				gxtkApp.game.app.graphics.device,
				gxtkApp.game.app.graphics.Width(),
				gxtkApp.game.app.graphics.Height());</pre><br><br>Other than that the game seem to compile and run. <br><br></td></tr></table><br>
<a name="2048230"></a>

<a name="2048231"></a>

<a name="2048235"></a>

<a name="2048236"></a>

<a name="2048280"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> The Diddy creators have stated that it isn't compatible with Monkey V67 so far. <br><br></td></tr></table><br>
<a name="2048281"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rushino</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> I know that but i am just helping out to fix it. <br><br></td></tr></table><br>
<a name="2048316"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >devolonter</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> I almost adapted flixel. Everything seems to be working well. But there are a few questions:<br><br>- OpenUrl doesn’t work in Win8 target. But the documentation says: "OpenUrl is only available on the hltm5, glfw, android, ios and win8 targets" Will this be fixed?<br>- I have some problems with the sound discard in Win8. It seems that discard happens automatically during garbage collection. Is that correct?<br>- Does Win8 support #MOJO_IMAGE_FILTERING_ENABLED?<br>- What can you say about this bug - <a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=4501" target="_blank">http://www.monkeycoder.co.nz/Community/posts.php?topic=4501</a> Is this my issue or a Mojo bug?<br><br>Thanks! <br><br></td></tr></table><br>
<a name="2048307"></a>

<a name="2048306"></a>

<a name="2048330"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neuro</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I almost adapted flixel. Everything seems to be working well.  <br></div><br>Likes this :). I've been holding off upgrading until i'm positive this is working. <br><br></td></tr></table><br>
<a name="2048342"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; I have some problems with the sound discard in Win8. It seems that discard happens automatically during garbage collection. Is that correct?<br><br>All resources on all targets will 'free' themselves automatically when (eventually) GCd.<br><br>Could you describe the problem you're having? <br><br></td></tr></table><br>
<a name="2048415"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >devolonter</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Could you describe the problem you're having? <br></div><br>Mark,<br><br>Unfortunately I can not reproduce this with a simple example. In my case, it occurs as follows: After a manual sounds discard I reload state and at loading the new state copy I get an error. If I don’t discard sounds manually, reload state occurs without errors. This happens only in Win8 target.<br>Here is a call stack, if it helps:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
&gt;	MonkeyGame.exe!gxtkSample::Discard() Line 4013	C++
 	MonkeyGame.exe!gxtkSample::~gxtkSample() Line 3944	C++
 	MonkeyGame.exe!gxtkSample::`scalar deleting destructor'(unsigned int)	C++
 	MonkeyGame.exe!gc_object_alloc(int size) Line 230	C++
 	MonkeyGame.exe!Array&lt;String&gt;::Rep::alloc(int length) Line 517	C++
 	MonkeyGame.exe!Array&lt;String&gt;::Array&lt;String&gt;(int length) Line 427	C++
 	MonkeyGame.exe!String::Split(String sep) Line 756	C++
 	MonkeyGame.exe!c_FrameRecord::p_Load2(String t_data) Line 24651	C++
 	MonkeyGame.exe!c_FlxReplay::p_Load2(String t_fileContents) Line 24494	C++
 	MonkeyGame.exe!c_FlxG::m_LoadReplay(String t_data, c_FlxState * t_state, Array&lt;int&gt; t_cancelKeys, float t_timeout, c_FlxReplayListener * t_callback) Line 17433	C++
 	MonkeyGame.exe!c_MenuState::p_OnFadeComplete() Line 30459	C++
 	MonkeyGame.exe!c_FlxCamera::p_Update() Line 16961	C++
 	MonkeyGame.exe!c_FlxG::m_UpdateCameras() Line 17799	C++
 	MonkeyGame.exe!c_FlxGame::p__Update() Line 22159	C++
 	MonkeyGame.exe!c_FlxGame::p__Step() Line 22236	C++
 	MonkeyGame.exe!c_FlxGame::p_OnRender() Line 22337	C++
 	MonkeyGame.exe!c_GameDelegate::RenderGame() Line 27853	C++
 	MonkeyGame.exe!BBGame::RenderGame() Line 1806	C++
 	MonkeyGame.exe!BBWin8Game::Run() Line 2332	C++
 	MonkeyGame.exe!BBWin8Game::Main(int argc, const char * * argv) Line 1991	C++
</textarea><br><br>I can also send you the project files.<br><br>At the moment, I solved the issue by not doing discard for sounds before reloading state in Win8 target.<br><br><b>Edit</b> More info: error occured on this line <br>[monkeycode]<br>voices[i]-&gt;DestroyVoice();<br>[/monkeycode] <br><br></td></tr></table><br>
<a name="2048414"></a>

<a name="2048413"></a>

<a name="2048412"></a>

<a name="2048411"></a>

<a name="2048385"></a>

<a name="2048384"></a>

<a name="2048383"></a>

<a name="2048417"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >devolonter</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> Discarded flag could be a possible fix for the sound discarding by garbage collector. Something like this:<br>[monkeycode]<br>int gxtkSample::Discard(){<br>	if (discarded) return 0;<br><br>	for( int i=0;i&lt;16 &amp;&amp; voices[i];++i ){<br>		voices[i]-&gt;DestroyVoice();<br>		delete callbacks[i];<br>	}<br><br>	discarded = true;<br>	return 0;<br>}<br>[/monkeycode]<br>I'm not sure if it’s a bug. Eventually I can avoid calling Discard myself, as it is done automatically. But it seems wrong that the garbage collector can’t call Discard, if I did it before myself. When the garbage collector tries to call Discard application crashes with an exception "Access violation reading location". <br><br></td></tr></table><br>
<a name="2048416"></a>

<a name="2048565"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> There's a v67e up with several fixes for win8 audio (and OpenUrl) up now! <br><br></td></tr></table><br>
<a name="2048609"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rushino</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks mark. <br><br></td></tr></table><br>
<a name="2048632"></a>

<a name="2048633"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >devolonter</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you Mark. Now everything works perfectly on all targets! <br><br>Recent comments from me: OpenUrl also doesn’t implemented for GLFW (Mac) and iOS <br><br></td></tr></table><br>
<a name="2049117"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @ziggy<br>Do you have to update JungleIDE for every new Monkey release?<br> <br></div>No, I don't have to for every new Monkey release. The thing is that the new experimental release has modified the compiler executable name from trans_winnt to transcc_winnt and this forces a Jungle update. This version is so diferent to previous versions in many areas that this time, the update was required. It's the first time it happens and hopefully it won't happen again soon. Also notices that Jungle Ide is always backwards compatible so it can be used with older Monkey versions. <br><br></td></tr></table><br>
<a name="2049329"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've just tried to run an example (Storyboard) from Diddy using v67e, and I get the following error:<br><div class="quote"> Error : Duplicate identifier 'game' found in module 'monkeytarget' and module 'framework'. <br></div><br>Diddy uses a global "game" variable for convenience...<br><pre class=code>Global game:DiddyApp</pre><br>If we change this to "diddyGame", it will break a lot of people's code. Do we have any other solutions? <br><br></td></tr></table><br>
<a name="2049328"></a>

<a name="2049326"></a>

<a name="2049327"></a>

<a name="2049325"></a>

<a name="2049363"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >qwerty</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>to therevills</b><br>O, I thought you know about it and you are solving this problem already :)<br>This error happens not only in Storyboard example. My game used Diddy, so I found this problem one week ago too. <br>The only thing that occurred to me is rename your variable "game" to "gameD" in my game while you do the possible update.<br>But only renaming does not help, in <b>diddy\native\diddy.android.java</b> stopped working:<br><b>flushKeys, getPixel, getUpdateRate, showKeyboard, showAlertDialog, launchBrowser, launchEmail, startVibrate, stopVibrate, startGps, seekMusic</b><br>in general, all things that use <b>MonkeyGame.app.</b><br><br>You will get this kind of error:<br><pre class=code>
[javac] 2506: cannot find symbol
[javac] symbol  : variable app
[javac] location: class MonkeyGame
[javac] 			MonkeyGame.app.input.keyStates[i] = 0;
[javac] 			          ^
</pre><br><br>Definitely, in 67 version this variable has changed. But my knowledge of this is not deep, so I just commented out this functions, because they do not want me yet.<br>But you should fix that to :) <br><br></td></tr></table><br>
<a name="2049377"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rushino</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> To therevills: I suggest you rename it in diddy. Yes it could break thing but if poeple dont want to break stuff they can just get an older version of diddy. They unlikely will get the new version since it will be incompatible with old monkey versions. Your diddy release is essentially to make it work with v67+ which i think make sense to change that variable in the first place. Second, its only one variable so the fix isn't a big deal just put a readme of changes and ppl that go to v67 will simply fellow. That my opinion offcourse. <br><br></td></tr></table><br>
<a name="2049380"></a>

<a name="2049381"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Yes it could break thing but if poeple dont want to break stuff they can just get an older version of diddy. <br></div><br>Which will require them to also use an older version of Monkey.<br><br><div class="quote"> Second, its only one variable so the fix isn't a big deal just put a readme of changes and ppl that go to v67 will simply fellow. <br></div><br>The problem is that most people DON'T read readmes.  I can guarantee you that if the variable is renamed in Diddy, we will see bug reports in the User Modules forum. <br><br></td></tr></table><br>
<a name="2049378"></a>

<a name="2049379"></a>

<a name="2049390"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rushino</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah i agree with you on this. Then maybe mark should stick to monkeygame var. <br><br></td></tr></table><br>
<a name="2049769"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> My Flurry module works great with v67f. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
