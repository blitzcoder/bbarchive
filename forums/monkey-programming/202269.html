<!DOCTYPE html><html lang="en" ><head ><title >Cls with alpha ?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Cls with alpha ?</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Cls with alpha ?</a><br><br>
<a name="2022118"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> can it be done ?<br><br>I was messing with a sweet app on the ipad called codea, lua engine for making little games, its cool as hell, something it does is allow cls to work with alpha, which allows for some cool effects like setting cls 0,0,0,150 would alpha the last screen and not fully clear it, giving an automatic trailer effect over all drawn objects.<br><br>any ideas? <br><br></td></tr></table><br>
<a name="2022121"></a>

<a name="2022122"></a>

<a name="2022123"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> can it be done ? <br></div>Maybe if your prepared to modify mojo. But I think it helps if you know OpenGL like the back of your hand. And then it would be a question of whether you could do it across all targets.<br><br>I was wondering if it was possible to use the stencil buffer to do some sort of pixel collision detection, but as I said it would be a question of whether you could do it across all targets and would it be fast enough. <br><br></td></tr></table><br>
<a name="2022120"></a>

<a name="2022124"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> easy... instead of cls<br>setalpha .59<br>drawrect 0,0,DeviceWidth,DeviceHeight <br><br></td></tr></table><br>
<a name="2022125"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >benmc</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just create a solid color PNG at 240x160 and scale it up to my screen resolution and set its alpha, then draw it over the top of everything when I need to do something like this.  <br><br>Of course you can't alter its color on the fly, but you could probably create 3 PNGs of primary colors and alpha blend them with SetAlpha() <br><br></td></tr></table><br>
<a name="2022126"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> which is slower drawrect every frame or scaling up an image every frame. <br><br></td></tr></table><br>
<a name="2022128"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bruZard</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> try it out man.... <br><br></td></tr></table><br>
<a name="2022129"></a>

<a name="2022131"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I will of course, but always good to ask in case some one else has already tried and got an answer.<br><br>dmax that didnt work, cos setalpha sets the drawing alpha for everything, so it just all looked a bit lighter, no motion trail as expected. <br><br></td></tr></table><br>
<a name="2022132"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bruZard</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> of course, you have to reset alpha to 1.0 after drawing the rect. <br><br></td></tr></table><br>
<a name="2022134"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >muddy_shoes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can't rely on consistent results across targets with this method. Some targets are single buffered, some aren't. Some targets clear the render buffer every frame whether you ask for it or not. <br><br></td></tr></table><br>
<a name="2022144"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> which is slower drawrect every frame or scaling up an image every frame. <br></div><br>Depends on your target. OpenGL targets will just draw without binding a texture (faster, I would assume). <br><br></td></tr></table><br>
<a name="2022151"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >matty</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> If I understand your goal, you want to draw the current screen over the previous screen which has been faded with alpha. While monkey doesn't seem to allow the old blitz style method of copying from the backbuffer maybe you could just draw everything twice, in the first pass with alpha set to 'x' then the second pass but you would need to record the position rotation and scale of the previous frames sprite/images. Not too hard really if you have a class that handles drawing operations for each frame. <br><br></td></tr></table><br>
<a name="2022166"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nah thats all to much work for the effect I want as well as creating a lot more overhead which I want to avoid, but the most important thing is that I want the game to look play and feel the same on as many devices as possible.<br><br>So if something will not work well on one device then it's not gona make it into the game.<br><br>Thanks for all the feedback peeps, it really helps. <br><br></td></tr></table><br>
<a name="2022171"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dima</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> as muddy said - not all targets will work with omitted cls, and will clear the screen anyway or have visual artifacts.  I don't remember which ones, but either html or flash has problems with not using cls. <br><br></td></tr></table><br>
<a name="2022172"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >matty</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually I don't think its much overhead at all.. pretty basic really.. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
