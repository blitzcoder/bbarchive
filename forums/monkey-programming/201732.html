<!DOCTYPE html><html lang="en" ><head ><title >OnSuspend / OnResume</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >OnSuspend / OnResume</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >OnSuspend / OnResume</a><br><br>
<a name="2016258"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Dear all,<br><br>I just scratch my head what needs to be done in OnSuspend and OnResume resource wise?<br><br>I've noticed that I get a Monkey exception due to an out of memory error for my bitmap resources on Android AFTER I've pressed Home on the device and enter the app again. In the first run everything is ok.<br><br>So what has to be done here? Originally I thought this would be obviously useful to make something like SaveState and LoadState but this doesn't seem to be enough?!<br><br>What exactly happens when an app is suspended and resumed? Is the OnCreate method called again? I noticed that I have to cache all graphics (on Android) again to remove this draw delay problem. <br><br></td></tr></table><br>
<a name="2016297"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I've noticed that I get a Monkey exception due to an out of memory error for my bitmap resources on Android AFTER I've pressed Home on the device and enter the app again. In the first run everything is ok. <br></div>This is almost certainly a bug. You should post it in the bug forum. <a href="http://developer.android.com/resources/articles/avoiding-memory-leaks.html" target="_blank">Related info</a>.<br><br><div class="quote"> When the screen orientation changes the system will, by default, destroy the current activity and create a new one while preserving its state. In doing so, Android will reload the application's UI from the resources. Now imagine you wrote an application with a large bitmap that you don't want to load on every rotation. <br></div>The same thing happens when you press Home on Android. It can either be a bug in monkey, or it can be a bug in your code (if you have any Global's for instance). Do you have a Java file I can look at? <br><br></td></tr></table><br>
<a name="2019804"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Uncle</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, sorry to raise this from the grave but was this issue been fixed?  My game runs fine on my HTC Desire, but I had a report of similar issue on a Galaxy S. <br><br></td></tr></table><br>
<a name="2019813"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Regarding this out of memory thing I found a solution, yes. Mark has added it with Monkey V50.<br><br><a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=1894" target="_blank">http://www.monkeycoder.co.nz/Community/posts.php?topic=1894</a> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
