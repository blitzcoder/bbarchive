<!DOCTYPE html><html lang="en" ><head ><title >stack question</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >stack question</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >stack question</a><br><br>
<a name="2029245"></a>

<a name="2029246"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >silentshark</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just trying to debug some of my code..<br><br>one line is confusing me. I'm using "Push" to create a new sprite object - here's the code - bullets.Push New Bullet_Sprite<br><br>This works fine most of the time. <br><br>This afternoon, though, I got an "Array index out of range" error on this line? Any thoughts, guys?<br><br>(have seen the error in HTML5 and Flash) <br><br></td></tr></table><br>
<a name="2029251"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >muddy_shoes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> The stack code resizes if a push exceeds the existing size of the backing array so that should be fine. Are you accessing an array in your Bullet_Sprite constructor? <br><br></td></tr></table><br>
<a name="2029313"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >silentshark</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks very much for the pointer - yes, I am accessing an array in the constructor. <br><br>Presumably your thinking is that this is where the out of bounds occurs? I've looked at the code and can't see how this could be the case. Unless..<br><br>This makes me think of a related question. <br><br>This issue is happening in OnUpdate(). Now if I specify that I want 60 updates per second (using SetUpdateRate), Monkey will try to call OnUpdate 60 times per second. Is this guaranteed? What if too much is going on? At that point what happens to the execution path? Can Monkey be half way through your OnUpdate function then think to itself "times up, I'd better call OnUpdate again.." (hope I've explained this ok). If so, I can see how this might be causing me issues. <br><br></td></tr></table><br>
<a name="2029367"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >muddy_shoes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Presumably your thinking is that this is where the out of bounds occurs? <br></div><br>My thinking is only that you have an out of bounds error that must be happening somewhere. If the stack push method is okay then that somewhere is somewhere else. As you haven't posted any code I can't make any specific  judgements about where that is.<br><br><div class="quote"> Monkey will try to call OnUpdate 60 times per second. Is this guaranteed? <br></div><br>No, the update rate is not guaranteed.<br><br><div class="quote"> Can Monkey be half way through your OnUpdate function then think to itself "times up, I'd better call OnUpdate again.." <br></div><br>Your update method won't be interrupted if it exceeds the requested update interval. <br><br></td></tr></table><br>
<a name="2029366"></a>

<a name="2029376"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Can Monkey be half way through your OnUpdate function then think to itself "times up, I'd better call OnUpdate again.." <br></div><br>No, because Monkey is not multithreaded (unless you use my threading module). <br><br></td></tr></table><br>
<a name="2029389"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >silentshark</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> cheers for the response re OnUpdate.<br><br>I think I figured the problem - I had a logic error where I was calling the Remove method too many times. Reminds me of the old "double free" errors in C. My conjecture is that this was screwing things up on the stack big time. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
