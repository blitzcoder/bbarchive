<!DOCTYPE html><html lang="en" ><head ><title >Feature Request: Debugger</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Feature Request: Debugger</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Feature Request: Debugger</a><br><br>
<a name="2029006"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >andrew_r</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, I know this has been hashed out before, and I know that you can debug the target projects (which really isn't ideal). <br><br>However, I've been playing with monkey for the past two or three weeks and it really is a great product... except for the lack of integrated debugging.<br><br>How high is this on the feature list? I'm hoping it's right at the top, because I think it's probably the only thing that's an obvious glaring omission in the product at the moment...<br><br>Well, apart from double buffering. And offscreen surfaces. And... (you get the picture) :)<br><br>Andrew <br><br></td></tr></table><br>
<a name="2029007"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> A debugger for the GLFW target is in discussion as far as I know (please correct me) but it's almost not doable to create one for Monkey itself because you just need a target to debug. <br><br></td></tr></table><br>
<a name="2029008"></a>

<a name="2029009"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> A debugger for the GLFW target is in discussion as far as I know  <br></div><br><br>Your correct Xaron, in Mark's last blog post(October 23, 2011) he does mention an debugger for GLFW:<br><br><div class="quote"> * Stop/Start style debugger for the GLFW target. As Monkey users are well aware, debugging can currently be a bit, erm, challenging. Basically, if your app tries to access a null object or index an array beyond bounds, the app stops and you get a stack trace - and that's it. Unfortunately, a proper stop/start debugger for all targets would be impossible, as many targets cannot be stopped as they're callback driven. Therefore, I think the most practical solution to the debugger problem would be to concentrate on making a decent debugger for the one target that can really support it - GLFW. This isn't ideal, and I'm still considering options for debugging, but given the nature of Monkey, it's kind of a tricky one! <br></div><br><br><a href="http://marksibly.blogspot.com.au/" target="_blank">http://marksibly.blogspot.com.au/</a><br><br>I'm actually finding the MonkeyMax target helpful for debugging, since BlitzMax's debugger is pretty easy to use :) <br><br></td></tr></table><br>
<a name="2029013"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wiebow</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> For now, I am using my unittest module to keep the amount of bugs to a minimum. Maybe it is something for you as well?<br><br><a href="http://code.google.com/p/mutated-monkey/" target="_blank">http://code.google.com/p/mutated-monkey/</a> <br><br></td></tr></table><br>
<a name="2029030"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >andrew_r</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah. I saw mention of the GLFW target debugger - that's actually what I was referring to. I was assuming it would be integrated in such a way as to present the original monkey code. I'm hoping it materialises soon. <br>I'll take a look at the unittest stuff, but again it's not idea. I'll also take a look at the monkey max target, although I imagine it will not be significantly different than debugging any other target.<br><br>Thanks for the replies, although I still think that an integrated debugger is the one key 'must have' feature for Monkey. <br><br></td></tr></table><br>
<a name="2029052"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wiebow</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> The big problem is that the debugger has to kick in while running the code, and monkey code is never compiled, only translated. <br><br></td></tr></table><br>
<a name="2029054"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Why0Why</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Let's just say I have been using lots of print commands ;) <br><br></td></tr></table><br>
<a name="2029080"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >andrew_r</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Presumably Mark was planning on some kind on debug target with custom callbacks based on the GLFW target? It's the same principle as is used by the monotouch debugger for iPhone when debugging on the device. Either way, it's the only thing holding me back from using Monkey for a lot more than I'm currently using it for. <br><br></td></tr></table><br>
<a name="2029100"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ferdi</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would really love this feature too.  GLFW target is fine, any target is fine, which ever is easier to implement and if it is possible.  Just last night I was debugging and I had to put like 5 print statements to finally realize, the problem is that I need to change was in the if statement from "&lt;" to "&lt;=" *SLAP FOREHEAD* =) <br><br></td></tr></table><br>
<a name="2029157"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I also hope Mark is still working on this. This is something that increases productivity way more than one would first think. Even super skilled natural born programmers do mistakes from time to time and I for one is not a born natural programmer. I do not want to know the time I have spent debugging Monkey Code, but I would not be surprised if that time is more than 50% of my development time.<br><br>However with that said, a debugger should add something to the debugging that   using a native target would not. Preferably <b>speed</b>. The html5 target is quick, but the C++ or XNA target take a lot of time to build. So for me it is always a last debug resort to build on those. <br><br></td></tr></table><br>
<a name="2029181"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Why0Why</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would class myself as intermediate level and I have to work at it.  It is a hobby for me.  Like Tibit, I have spent far too much time debugging on occasion. Now, I have gotten to the point where if something doesn't work quite right I take a quick look and if the mistake isn't obvious, then I start putting prints in to narrow down the problem. <br><br></td></tr></table><br>
<a name="2029188"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I always used Prints in BlitzMax,<br> to use the debugger you have to know when to stop the program to look at the variables. <br>By that time you may as well be using Print statements<br><br>I rarely found it useful. <br><br></td></tr></table><br>
<a name="2029182"></a>

<a name="2029218"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jpoag</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://www.morearty.com/blog/2011/04/10/fdb-the-flex-debugger-internals-of-how-stepping-works/" target="_blank">http://www.morearty.com/blog/2011/04/10/fdb-the-flex-debugger-internals-of-how-stepping-works/</a><br><br>You could use the fdb.jar(exe) as a command line tool and attempt to pipe commands to it (I've been moderately successful at this for Continuous Integration).<br><br>My batch file looks something like:<br><br>fdb.exe &lt; fdb_commands.txt<br><br>where fdb_commands.txt is:<br><pre class=code>run bin/TestSuite.swf
continue</pre><br><br>fdb has all the commands for starting/stoping/stepping an application and dumping the stack trace.<br><br>Anyways, the output is directed to stdout, and my test suites emit tagged statements like this:<br><pre class=code>
writeLine("##teamcity[testStarted name='{0}']", formatTestName(description.displayName));</pre><br><br>The build agent is redirecting stdout to its build log and looking for ##teamcity statements.  You could similarly pass information back into monk/jungle.<br><br>I know that monkey embeds a stack trace into the programs, what about a lookup table for variable names?  Whenever the fbd breaks execution, Monk.exe could send a set of commands:<br><br>info locals<br>' foreach(i in locals)<br>print i<br><br>and use the lookup table to populate a 'locals' section where the code execution is broken at <br><br></td></tr></table><br>
<a name="2029293"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AndroidAndy</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was thinking that the recent addition of reflection support in Monkey was the next step in creating a Monkey interpreter.  If we had a Monkey interpreter, it would be the logical platform to integrate with a debugger.  Mark delivers the interpreter with the hooks for debugging and Ziggy integrates a debugger into Jungle IDE. <br><br></td></tr></table><br>
<a name="2029297"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Soap</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Command line style control over apps while they are running so we can have more direct/specific interactive debugging. Maybe have pause / resume and the ability to select objects somehow with maybe Ctrl + clicking while paused or something? Check out this video for kind of what I mean: <a href="http://www.youtube.com/watch?feature=player_embedded&amp;v=rejYKzLglSE" target="_blank">http://www.youtube.com/watch?feature=player_embedded&amp;v=rejYKzLglSE</a><br><br>Jungle IDE / Monkey support for behavior-driven development.<br><br>Specification of the desired behavior is written, build is made, automated system runs the tests and they either pass or fail (I could see this running the same way Jungle IDE continuously compiles code to find normal errors - in addition it could also run RSpec like behavior tests), and then you either fix or refactor. <br><br></td></tr></table><br>
<a name="2029296"></a>

<a name="2029295"></a>

<a name="2029448"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AndroidAndy</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=2329" target="_blank">http://www.monkeycoder.co.nz/Community/posts.php?topic=2329</a> <br><br></td></tr></table><br>
<a name="2029578"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> "Mark delivers the interpreter with the hooks for debugging and Ziggy integrates a debugger into Jungle IDE."<br>Yeah if that where possible it would be the best solution I think. Because it is at the Editor side the REAL magic happen. I mean what we want is for the editor to be more powerful and we only want from Mark to enable the language to make that possible.<br><br>Like unit-testing, if that is integrated in the IDE, and can compile separate from the main project, that would be a gem! I mean who would not use such a cool feature? (probably many, but cool still) <br><br></td></tr></table><br>
<a name="2029582"></a>

<a name="2029583"></a>

<a name="2029584"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jpoag</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was looking into writing a unit testing module this morning.  Jungle listens to stdout, and if you read my post above about teamcity, you would see all the editor needed was a unit test listener that generated statements like:<br><br>##jungleide[testStarted name="testQuit"]<br>##jungleide[testFailed line="" msg=""]<br><br>So, for the editor, it would automatically register its listener, and for running outside the user would register the Print listener (or teamcity listener in my case). <br><br></td></tr></table><br>
<a name="2029590"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not entirely sure how you mean by that unittest functionality.<br><br>I have my own editor PodEdit (frozen project for now) and there I of course talk to the monkey compiler .exe. The information I get back from tans.exe is enough to find and highlight the right class and the right line, but not much more than that unfortunately.<br><br>I would love to get more data back and also be able to send more data in. Of course I can always start another trans.exe instance and run that in parallel, however I would still not be able to insert (change) the monkey code that are in the memory of the compiler. I can only restart the whole monkeytrans.exe and let it re-parse everything on error or change.<br><br>However if I could replace rows of code. If trans.exe could pause/freeze instead of exit. And then perhaps using reflection one could change the monkey code (the editor can change the .monkey file on disk AND the code running in trans.exe) and in turn that would allow break &amp; edit.<br><br>Maybe it is that simple. From an editor standpoint, it would be easy to integrate would trans.exe accept such commands. <br><br></td></tr></table><br>
<a name="2029589"></a>

<a name="2029588"></a>

<a name="2029587"></a>

<a name="2029594"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jpoag</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Lol, I think we have different ideas about unit testing:<br><br><a href="http://en.wikipedia.org/wiki/Unit_testing#Applications" target="_blank">http://en.wikipedia.org/wiki/Unit_testing#Applications</a><br><br>I use unit testing to develop complex pieces of code with known inputs and outputs.  Typically, it's something that's not visual on screen (although I write visual tests for things like widgets).<br><br>Then, I leave the tests in place as a part of regression testing.  If any bugs do crop up, I'll implement a test case that demonstrates the bug and then correct it.  That makes sure the bug doesn't reappear down the line because of a fudged repo commit. <br><br></td></tr></table><br>
<a name="2029593"></a>

<a name="2029606"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wiebow</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> I also leave the tests in place. I write new tests when I need new functionality, and then write code to make those tests pass. This is called Test Driven Development, and it is a great habit to get into when you use unit testing. Keeps you focussed and the result is clean code, which you KNOW works. When implementing the code in other projects, you know for sure that any bugs are caused by the implementation and not the actual code.<br><br>You can see an example of unit testing using my module here on my WIKI which also explains the concept of unit testing:<br><a href="http://code.google.com/p/mutated-monkey/wiki/unittest" target="_blank">http://code.google.com/p/mutated-monkey/wiki/unittest</a> <br><br></td></tr></table><br>
<a name="2029605"></a>

<a name="2029610"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jpoag</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> @wiebow<br><br>You just saved me a lot of work.  unittest looks great.  Thank you, I really appreciate it!<br><br>testsuite.monkey : line 87 should read "if last"<br><br>@on Topic:<br><br>I don't think unit testing has a whole lot to do with a debugger feature request. <br><br></td></tr></table><br>
<a name="2029612"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wiebow</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, I'll look into that error. Note that the repository is more up to date than the download.<br><br>ontopic: No, but it may help while there is no debugger around. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
