<!DOCTYPE html><html lang="en" ><head ><title >Faster javascript string replace</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Faster javascript string replace</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Faster javascript string replace</a><br><br>
<a name="2003872"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello, I've been playing around with the string replace function in an attempt to speed it up, I've found much faster ways (especially on larger datasets like the source of a webpage).<br><br>The following is a test (HTML page) for three methods (Monkey's, regex and a string split/join combo).<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
&lt;!doctype html&gt;  
&lt;html&gt;
&lt;head&gt;
	&lt;script type="text/javascript"&gt;
	/* &lt;![CDATA[ */
	/*
	Monkey string_replace
	*/
	function string_replace_monkey( str,find,rep ){	//no unregex replace all?!?
		var i=0;
		for(;;){
			i=str.indexOf( find,i );
			if( i==-1 ) return str;
			str=str.substring( 0,i )+rep+str.substring( i+find.length );
			i+=rep.length;
		}
	}
	
	/*
	using regex
	*/
	function string_replace_new_regex( str,find,rep ){
		return str.replace( new RegExp(find,"g"), rep );
	}
	
	/*
	split then join
	*/
	function string_replace_all_split_join( str,find,rep ){
		return str.split( find ).join( rep );
	}
	
	var strings = [
		"abbadadaadadbaba",
		"abbadadaadadbaba",
		"abbadaddsaaadadbaba",
		"abbadadaadzxcadbaba",
		"asdabbadadaadadbaba",
		"cxzabbadadaadadbaba",
		"abbadaddsaaadadbaba",
		"abbadadaadzxcadbaba",
		"asdabbadadaadadbaba",
		"cxzabbadadaadadbaba"
		//big one, only uncomment if you want to wait a little while
		//,'&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;&lt;link rel="shortcut icon" href="favicon.ico"&gt;&lt;head profile="http://gmpg.org/xfn/11"&gt;&lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /&gt;&lt;title&gt;Regexp with boost | Flavio Castelli&lt;/title&gt;&lt;meta name="generator" content="WordPress 3.1" /&gt;&lt;meta name="theme"     content="Mandigo 1.41" /&gt;&lt;link rel="stylesheet" href="http://flavio.castelli.name/wp-content/themes/mandigo/style.css" type="text/css" media="screen" /&gt;&lt;style type="text/css"&gt;body {	font-family: Arial, Sans-Serif;	background-color: #44484F;	background-image: url(http://flavio.castelli.name/wp-content/themes/mandigo/images/patterns/wood.png);	background-attachment: scroll;	background-repeat: repeat;	background-position: ;}.narrowcolumn .entry, .widecolumn .entry {	line-height: 1.4em;}.inline-widgets #wp-calendar caption, .blogname, .blogdesc {	font-family: \'Trebuchet MS\', \'Lucida Grande\', Verdana, Arial, Sans-Serif;}.blogname {	font-size: 4em;	margin-top: 15px;}.posttitle, #comments, #respond .title, #respond.pre27, #trackbacks {	font-family: \'Trebuchet MS\', \'Lucida Grande\', Verdana, Arial, Sans-Serif;}.commentlist li, #commentform input, #commentform textarea {	font-family: \'Lucida Grande\', Verdana, Arial, Sans-Serif;}#commentform p {	font-family: \'Lucida Grande\', Verdana, Arial, Sans-Serif;}.sidebars {	font-family: \'Lucida Grande\', Verdana, Arial, Sans-Serif;}em {	font-style: normal;	font-weight: bold;}#page {	width: 987px;}#header {	background: url(http://flavio.castelli.name/wp-content/themes/mandigo/images/header-1024.png);	height: 243px;	width: 987px;}#headerimg {	height: 226px;	width: 961px;	background: url(http://flavio.castelli.name/wp-content/themes/mandigo/schemes/green_flavio/images/head-1024.jpg) bottom center no-repeat;}#main {	background: url(http://flavio.castelli.name/wp-content/themes/mandigo/images/bg-1024.png);	width: 957px;}#footer {	background: url(http://flavio.castelli.name/wp-content/themes/mandigo/images/foot-1024.png);}.post {	text-align: justify;	background: #FAFAFA; 	border: 1px solid #EEEEEE; }#footer {	width: 987px;}.sidebars {	background: #EEEEEE;	border: 1px solid #DDDDDD;}#sidebar1 .sidebars {	width: 210px;}#sidebar2 .sidebars {	width: 210px;}.entry img {	float: none;}.sidebars li {	list-style-image: url(http://flavio.castelli.name/wp-content/themes/mandigo/schemes/green_flavio/images/star.gif);}.commentlist {	margin-left: 2em;}.commentlist li {	list-style: decimal outside;}#wp-calendar {	margin: 0 !important; margin-top: -1.5em;}#wp-calendar caption {	margin-top: -1.4em;}/* dirty fix for the event calendar plugin */div#wp-calendar .nav {	margin: 0;}/* end dirty fix */.datestamp div {	font-family: \'Lucida Grande\', \'Lucida Sans Unicode\', Arial, Sans-Serif;}.cal3 {}.pages {	text-align: right;}.pages ul li.has_sub {	background: url(http://flavio.castelli.name/wp-content/themes/mandigo/images/icons/bullet_arrow_right.png) no-repeat center right;}.head_overlay {	background: url(http://flavio.castelli.name/wp-content/themes/mandigo/images/head_overlay.png);}&lt;/style&gt;&lt;link rel="stylesheet" href="http://flavio.castelli.name/wp-content/themes/mandigo/schemes/green_flavio/scheme.css" type="text/css" media="screen" /&gt;&lt;link rel="alternate" type="application/rss+xml" title="Flavio Castelli RSS Feed" href="http://flavio.castelli.name/feed" /&gt;&lt;link rel="pingback" href="http://flavio.castelli.name/xmlrpc.php" /&gt;&lt;link rel="alternate" type="application/rss+xml" title="Flavio Castelli &amp;raquo; Regexp with boost Comments Feed" href="http://flavio.castelli.name/regexp-with-boost/feed" /&gt;&lt;script type=\'text/javascript\' src=\'http://flavio.castelli.name/wp-includes/js/l10n.js?ver=20101110\'&gt;&lt;\/script&gt;&lt;script type=\'text/javascript\' src=\'http://flavio.castelli.name/wp-includes/js/prototype.js?ver=1.6.1\'&gt;&lt;\/script&gt;&lt;script type=\'text/javascript\' src=\'http://flavio.castelli.name/wp-includes/js/scriptaculous/wp-scriptaculous.js?ver=1.8.3\'&gt;&lt;\/script&gt;&lt;script type=\'text/javascript\' src=\'http://flavio.castelli.name/wp-includes/js/scriptaculous/effects.js?ver=1.8.3\'&gt;&lt;\/script&gt;&lt;script type=\'text/javascript\' src=\'http://flavio.castelli.name/wp-content/plugins/lightbox-2/lightbox-resize.js?ver=1.8\'&gt;&lt;\/script&gt;&lt;script type=\'text/javascript\' src=\'http://flavio.castelli.name/wp-includes/js/comment-reply.js?ver=20090102\'&gt;&lt;\/script&gt;&lt;link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://flavio.castelli.name/xmlrpc.php?rsd" /&gt;&lt;link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://flavio.castelli.name/wp-includes/wlwmanifest.xml" /&gt; &lt;link rel=\'index\' title=\'Flavio Castelli\' href=\'http://flavio.castelli.name\' /&gt;&lt;link rel=\'start\' title=\'Linux and cryptography\' href=\'http://flavio.castelli.name/linux-and-cryptography\' /&gt;&lt;link rel=\'prev\' title=\'Svn cleaner\' href=\'http://flavio.castelli.name/svn-cleaner\' /&gt;&lt;link rel=\'next\' title=\'Svn commit helper\' href=\'http://flavio.castelli.name/svn-commit-helper\' /&gt;&lt;meta name="generator" content="WordPress 3.1" /&gt;&lt;link rel=\'shortlink\' href=\'http://wp.me/p94Ip-J\' /&gt;&lt;!-- All in One SEO Pack 1.6.13.2 by Michael Torbert of Semper Fi Web Design[324,367] --&gt;&lt;meta name="description" content="How can you add regular expressions to C++? Here you\'re three small examples. Pattern matching In this example you\'ll find how you can match a regexp in a" /&gt;&lt;link rel="canonical" href="http://flavio.castelli.name/regexp-with-boost" /&gt;&lt;!-- /all in one seo pack --&gt;	&lt;link href="http://flavio.castelli.name/wp-content/plugins/google-syntax-highlighter/Styles/SyntaxHighlighter.css" type="text/css" rel="stylesheet" /&gt;		&lt;!-- begin lightbox scripts --&gt;	&lt;script type="text/javascript"&gt;    //&lt;![CDATA[    document.write(\'&lt;link rel="stylesheet" href="http://flavio.castelli.name/wp-content/plugins/lightbox-2/Themes/Black/lightbox.css" type="text/css" media="screen" /&gt;\');    //]]&gt;    &lt;\/script&gt;	&lt;!-- end lightbox scripts --&gt;&lt;link rel="stylesheet" type="text/css" media="screen" href="http://flavio.castelli.name/wp-content/plugins/social-bookmarks/social_bookmarks.css" /&gt;&lt;script src="http://flavio.castelli.name/wp-includes/js/scriptaculous/prototype.js" type="text/javascript"&gt;&lt;\/script&gt;&lt;script src="http://flavio.castelli.name/wp-includes/js/scriptaculous/scriptaculous.js" type="text/javascript"&gt;&lt;\/script&gt;&lt;style type="text/css"&gt;.g2_column {width: 738px;margin: 0px 1px 0px 12px;}&lt;/style&gt;&lt;script language="javascript" type="text/javascript" src="http://flavio.castelli.name/wp-content/plugins/wpg2/js/dtree.js"&gt;&lt;\/script&gt;&lt;link rel="stylesheet" type="text/css" href="http://flavio.castelli.name/gallery2/main.php?g2_view=imageframe.CSS&amp;amp;g2_frames=shadow%7CNone"/&gt;&lt;link rel="stylesheet" type="text/css" media="screen" href="http://flavio.castelli.name/wp-content/plugins/wpg2/css/wpg2.css"/&gt;&lt;script type="text/javascript" src="http://flavio.castelli.name/wp-content/themes/mandigo/js/jquery.js"&gt;&lt;\/script&gt;&lt;script type="text/javascript" src="http://flavio.castelli.name/wp-content/themes/mandigo/js/jquery.ifixpng.js"&gt;&lt;\/script&gt;&lt;script type="text/javascript"&gt;jQuery.noConflict();&lt;\/script&gt;&lt;style type="text/css"&gt;  .entry img, .entry embed, .entry object { max-width: 658px; width: expression(this.clientWidth &gt; 658 ? 658 : true); }  .entry img { height: auto; }&lt;/style&gt;&lt;!--&lt;link rel="openid.server" href="http://openid.claimid.com/server" /&gt;--&gt;&lt;!--&lt;link rel="openid.delegate" href="http://openid.claimid.com/flaviocastelli" /&gt;--&gt;&lt;link rel="openid.server" href="http://www.myopenid.com/server" /&gt;&lt;link rel="openid.delegate" href="http://flavio.castelli.myopenid.com/" /&gt;&lt;/head&gt;&lt;body&gt;&lt;div id="page"&gt;&lt;div id="header" class="png"&gt;	&lt;div id="headerimg"&gt;		&lt;h1 class="blogname" id="blogname"&gt;&lt;a href="http://flavio.castelli.name/"&gt;Flavio Castelli&lt;/a&gt;&lt;/h1&gt;		&lt;h6 class="blogdesc" id="blogdesc"&gt;debugging my life&lt;/h6&gt;		&lt;ul class="pages png head_overlay"&gt;			&lt;li class="page_item"&gt;&lt;a href="http://flavio.castelli.name/"&gt;Home&lt;/a&gt;&lt;/li&gt;&lt;li class="page_item page-item-227"&gt;&lt;a href="http://flavio.castelli.name/photos" title="Photos"&gt;Photos&lt;/a&gt;&lt;/li&gt;&lt;li class="page_item page-item-2"&gt;&lt;a href="http://flavio.castelli.name/about" title="About"&gt;About&lt;/a&gt;&lt;/li&gt;&lt;li class="page_item page-item-69"&gt;&lt;a href="http://flavio.castelli.name/cv" title="CV"&gt;CV&lt;/a&gt;&lt;/li&gt;&lt;li class="page_item page-item-51"&gt;&lt;a href="http://flavio.castelli.name/contacts" title="Contacts"&gt;Contacts&lt;/a&gt;&lt;/li&gt;		&lt;/ul&gt;		&lt;/div&gt;	&lt;/div&gt;&lt;div id="main" class="png"&gt;&lt;table&gt;&lt;tr&gt;	&lt;td id="content" class="narrowcolumn"&gt;		&lt;div class="navigation"&gt;			&lt;div class="alignleft"&gt;&amp;laquo;&amp;nbsp;&lt;a href="http://flavio.castelli.name/svn-cleaner" rel="prev"&gt;Svn cleaner&lt;/a&gt;&lt;/div&gt;			&lt;div class="alignright"&gt;&lt;a href="http://flavio.castelli.name/svn-commit-helper" rel="next"&gt;Svn commit helper&lt;/a&gt;&amp;nbsp;&amp;raquo;&lt;/div&gt;		&lt;/div&gt;		&lt;div class="post" id="post-45"&gt;			&lt;div class="postinfo"&gt;										&lt;div class="datestamp"&gt;							&lt;div&gt;								&lt;span class="cal1 cal1x"&gt;Feb&lt;/span&gt;								&lt;span class="cal2"&gt;16&lt;/span&gt;								&lt;span class="cal3"&gt;2006&lt;/span&gt;							&lt;/div&gt;						&lt;/div&gt;						&lt;span class="switch-post"&gt;					&lt;a href="javascript:toggleSidebars();" class="switch-sidebars"&gt;&lt;img src="http://flavio.castelli.name/wp-content/themes/mandigo/images/icons/bullet_sidebars_hide.png" alt="" class="png" /&gt;&lt;/a&gt;&lt;a href="javascript:togglePost(45);" id="switch-post-45"&gt;&lt;img src="http://flavio.castelli.name/wp-content/themes/mandigo/images/icons/bullet_toggle_minus.png" alt="" class="png" /&gt;&lt;/a&gt;				&lt;/span&gt;				&lt;h2 class="posttitle"&gt;&lt;a href="http://flavio.castelli.name/regexp-with-boost" rel="bookmark" title="Permanent Link: Regexp with boost"&gt;Regexp with boost&lt;/a&gt;&lt;/h2&gt;				&lt;small&gt;Posted by &lt;a href="http://flavio.castelli.name/author/admin" title="Posts by Flavio"&gt;Flavio&lt;/a&gt; in &lt;a href="http://flavio.castelli.name/category/programming/c" title="View all posts in C++" rel="category tag"&gt;C++&lt;/a&gt;, &lt;a href="http://flavio.castelli.name/category/howto" title="View all posts in Howto" rel="category tag"&gt;Howto&lt;/a&gt;				&lt;/small&gt;			&lt;/div&gt;			&lt;div class="entry"&gt;&lt;p&gt;&lt;strong&gt;How can you add regular expressions to C++?&lt;/strong&gt;&lt;br /&gt;Here you&amp;#8217;re three small examples.&lt;br /&gt;&lt;span id="more-45"&gt;&lt;/span&gt;&lt;/p&gt;&lt;h3&gt;Pattern matching&lt;/h3&gt;&lt;p&gt;In this example you&amp;#8217;ll find how you can match a regexp in a string.&lt;/p&gt;&lt;pre&gt;&lt;code&gt;// Created by Flavio Castelli &amp;lt;flavio.castelli_AT_gmail.com&amp;gt;// distrubuted under GPL v2 license#include &amp;lt;boost/regex.hpp&amp;gt;#include &amp;lt;string&amp;gt;int main(){	boost::regex pattern ("bg|olug",boost::regex_constants::icase|boost::regex_constants::perl);	std::string stringa ("Searching for BsLug");	if (boost::regex_search (stringa, pattern, boost::regex_constants::format_perl))		printf ("found\n");	else		printf("not found\n");			return 0;}&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Substitutions&lt;/h3&gt;&lt;p&gt;In this example you&amp;#8217;ll find how you can replace a string matching a pattern.&lt;/p&gt;&lt;pre&gt;&lt;code&gt;// Created by Flavio Castelli &amp;lt;flavio.castelli@...;// distrubuted under GPL v2 license#include &amp;lt;boost/regex.hpp&amp;gt;#include &amp;lt;string&amp;gt;int main(){	boost::regex pattern ("b.lug",boost::regex_constants::icase|boost::regex_constants::perl);	std::string stringa ("Searching for bolug");	std::string replace ("BgLug");	std::string newString;	newString = boost::regex_replace (stringa, pattern, replace);	printf("The new string is: |%s|\n",newString.c_str());			return 0;}&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Split&lt;/h3&gt;&lt;p&gt;In this example you&amp;#8217;ll find how you tokenize a string with a pattern.&lt;/p&gt;&lt;pre&gt;&lt;code&gt;// Created by Flavio Castelli &amp;lt;flavio.castelli@...;// distrubuted under GPL v2 license#include &amp;lt;boost/regex.hpp&amp;gt;#include &amp;lt;string&amp;gt;int main(){	boost::regex pattern ("\\D",boost::regex_constants::icase|boost::regex_constants::perl);		std::string stringa ("26/11/2005 17:30");	std::string temp;		boost::sregex_token_iterator i(stringa.begin(), stringa.end(), pattern, -1);	boost::sregex_token_iterator j;	unsigned int counter = 0;		while(i != j)	{		temp = *i;		printf ("token %i = |%s|\n", ++counter, temp.c_str());		i++;	}	return 0;}&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;Requirements&lt;/h3&gt;&lt;p&gt;In order to build this examples you&amp;#8217;ll need: &lt;/p&gt;&lt;ul&gt;&lt;li&gt;a c++ compiler (like g++)&lt;/li&gt;&lt;li&gt;&lt;a onclick="javascript:pageTracker._trackPageview(\'/outgoing/www.boost.org/libs/regex/doc/index.html\');"  href="http://www.boost.org/libs/regex/doc/index.html"&gt;boost regexp library&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;!-- Social Bookmarks BEGIN --&gt;&lt;div class="social_bookmark"&gt;&lt;a title="Click me to see the sites." href="#" onclick="$$(\'div.d45\').each( function(e) { e.visualEffect(\'slide_down\',{duration:2.5}) }); return false;"&gt;&lt;strong&gt;&lt;em&gt;Bookmark It&lt;/em&gt;&lt;/strong&gt;&lt;/a&gt;&lt;br /&gt;&lt;div class="d45" style="overflow:hidden"&gt;&lt;br /&gt;&lt;a onclick="window.open(this.href, \'_blank\', \'scrollbars=yes,menubar=no,height=600,width=750,resizable=yes,toolbar=no,location=no,status=no\'); return false;" href="http://del.icio.us/post?url=http%3A%2F%2Fflavio.castelli.name%2Fregexp-with-boost&amp;amp;title=Regexp+with+boost" rel="nofollow" title="Add to&amp;nbsp;Del.icio.us"&gt;&lt;img class="social_img" src="http://flavio.castelli.name/wp-content/plugins/social-bookmarks/images/delicious.png" title="Add to&amp;nbsp;Del.icio.us" alt="Add to&amp;nbsp;Del.icio.us" /&gt;&lt;/a&gt;&lt;a onclick="window.open(this.href, \'_blank\', \'scrollbars=yes,menubar=no,height=600,width=750,resizable=yes,toolbar=no,location=no,status=no\'); return false;" href="http://digg.com/submit?phase=2&amp;amp;url=http%3A%2F%2Fflavio.castelli.name%2Fregexp-with-boost&amp;amp;title=Regexp+with+boost" rel="nofollow" title="Add to&amp;nbsp;digg"&gt;&lt;img class="social_img" src="http://flavio.castelli.name/wp-content/plugins/social-bookmarks/images/digg.png" title="Add to&amp;nbsp;digg" alt="Add to&amp;nbsp;digg" /&gt;&lt;/a&gt;&lt;a onclick="window.open(this.href, \'_blank\', \'scrollbars=yes,menubar=no,height=600,width=750,resizable=yes,toolbar=no,location=no,status=no\'); return false;" href="http://www.facebook.com/sharer.php?u=http%3A%2F%2Fflavio.castelli.name%2Fregexp-with-boost" rel="nofollow" title="Add to&amp;nbsp;Facebook"&gt;&lt;img class="social_img" src="http://flavio.castelli.name/wp-content/plugins/social-bookmarks/images/facebook.png" title="Add to&amp;nbsp;Facebook" alt="Add to&amp;nbsp;Facebook" /&gt;&lt;/a&gt;&lt;a onclick="window.open(this.href, \'_blank\', \'scrollbars=yes,menubar=no,height=600,width=750,resizable=yes,toolbar=no,location=no,status=no\'); return false;" href="http://www.google.com/bookmarks/mark?op=edit&amp;amp;output=popup&amp;amp;bkmk=http%3A%2F%2Fflavio.castelli.name%2Fregexp-with-boost&amp;amp;title=Regexp+with+boost" rel="nofollow" title="Add to&amp;nbsp;Google Bookmarks"&gt;&lt;img class="social_img" src="http://flavio.castelli.name/wp-content/plugins/social-bookmarks/images/google.png" title="Add to&amp;nbsp;Google Bookmarks" alt="Add to&amp;nbsp;Google Bookmarks" /&gt;&lt;/a&gt;&lt;a onclick="window.open(this.href, \'_blank\', \'scrollbars=yes,menubar=no,height=600,width=750,resizable=yes,toolbar=no,location=no,status=no\'); return false;" href="http://www.kaboodle.com/za/selectpage?p_pop=false&amp;amp;pa=url&amp;amp;u=http%3A%2F%2Fflavio.castelli.name%2Fregexp-with-boost" rel="nofollow" title="Add to&amp;nbsp;Kaboodle"&gt;&lt;img class="social_img" src="http://flavio.castelli.name/wp-content/plugins/social-bookmarks/images/kaboodle.png" title="Add to&amp;nbsp;Kaboodle" alt="Add to&amp;nbsp;Kaboodle" /&gt;&lt;/a&gt;&lt;a onclick="window.open(this.href, \'_blank\', \'scrollbars=yes,menubar=no,height=600,width=750,resizable=yes,toolbar=no,location=no,status=no\'); return false;" href="http://www.maple.nu/cgi-bin/search6/usa/ss_submit.cgi?fct=100&amp;amp;url=http%3A%2F%2Fflavio.castelli.name%2Fregexp-with-boost&amp;amp;title=Regexp+with+boost" rel="nofollow" title="Add to&amp;nbsp;Maple"&gt;&lt;img class="social_img" src="http://flavio.castelli.name/wp-content/plugins/social-bookmarks/images/maple.png" title="Add to&amp;nbsp;Maple" alt="Add to&amp;nbsp;Maple" /&gt;&lt;/a&gt;&lt;a onclick="window.open(this.href, \'_blank\', \'scrollbars=yes,menubar=no,height=600,width=750,resizable=yes,toolbar=no,location=no,status=no\'); return false;" href="http://reddit.com/submit?url=http%3A%2F%2Fflavio.castelli.name%2Fregexp-with-boost&amp;amp;title=Regexp+with+boost" rel="nofollow" title="Add to&amp;nbsp;reddit"&gt;&lt;img class="social_img" src="http://flavio.castelli.name/wp-content/plugins/social-bookmarks/images/reddit.png" title="Add to&amp;nbsp;reddit" alt="Add to&amp;nbsp;reddit" /&gt;&lt;/a&gt;&lt;a onclick="window.open(this.href, \'_blank\', \'scrollbars=yes,menubar=no,height=600,width=750,resizable=yes,toolbar=no,location=no,status=no\'); return false;" href="http://www.stumbleupon.com/submit?url=http%3A%2F%2Fflavio.castelli.name%2Fregexp-with-boost&amp;amp;title=Regexp+with+boost" rel="nofollow" title="Add to&amp;nbsp;Stumble Upon"&gt;&lt;img class="social_img" src="http://flavio.castelli.name/wp-content/plugins/social-bookmarks/images/stumbleupon.png" title="Add to&amp;nbsp;Stumble Upon" alt="Add to&amp;nbsp;Stumble Upon" /&gt;&lt;/a&gt;&lt;a onclick="window.open(this.href, \'_blank\', \'scrollbars=yes,menubar=no,height=600,width=750,resizable=yes,toolbar=no,location=no,status=no\'); return false;" href="http://www.squidoo.com/lensmaster/bookmark?http%3A%2F%2Fflavio.castelli.name%2Fregexp-with-boost" rel="nofollow" title="Add to&amp;nbsp;Squidoo"&gt;&lt;img class="social_img" src="http://flavio.castelli.name/wp-content/plugins/social-bookmarks/images/squidoo.png" title="Add to&amp;nbsp;Squidoo" alt="Add to&amp;nbsp;Squidoo" /&gt;&lt;/a&gt;&lt;a onclick="window.open(this.href, \'_blank\', \'scrollbars=yes,menubar=no,height=600,width=750,resizable=yes,toolbar=no,location=no,status=no\'); return false;" href="http://www.spurl.net/spurl.php?url=http%3A%2F%2Fflavio.castelli.name%2Fregexp-with-boost&amp;amp;title=Regexp+with+boost" rel="nofollow" title="Add to&amp;nbsp;Spurl"&gt;&lt;img class="social_img" src="http://flavio.castelli.name/wp-content/plugins/social-bookmarks/images/spurl.png" title="Add to&amp;nbsp;Spurl" alt="Add to&amp;nbsp;Spurl" /&gt;&lt;/a&gt;&lt;a onclick="window.open(this.href, \'_blank\', \'scrollbars=yes,menubar=no,height=600,width=750,resizable=yes,toolbar=no,location=no,status=no\'); return false;" href="http://www.technorati.com/faves?add=http%3A%2F%2Fflavio.castelli.name%2Fregexp-with-boost" rel="nofollow" title="Add to&amp;nbsp;Technorati"&gt;&lt;img class="social_img" src="http://flavio.castelli.name/wp-content/plugins/social-bookmarks/images/technorati.png" title="Add to&amp;nbsp;Technorati" alt="Add to&amp;nbsp;Technorati" /&gt;&lt;/a&gt;&lt;a onclick="window.open(this.href, \'_blank\', \'scrollbars=yes,menubar=no,height=600,width=750,resizable=yes,toolbar=no,location=no,status=no\'); return false;" href="http://myweb2.search.yahoo.com/myresults/bookmarklet?u=http%3A%2F%2Fflavio.castelli.name%2Fregexp-with-boost&amp;amp;t=Regexp+with+boost" rel="nofollow" title="Add to&amp;nbsp;Yahoo My Web"&gt;&lt;img class="social_img" src="http://flavio.castelli.name/wp-content/plugins/social-bookmarks/images/yahoo.png" title="Add to&amp;nbsp;Yahoo My Web" alt="Add to&amp;nbsp;Yahoo My Web" /&gt;&lt;/a&gt;&lt;br /&gt;&lt;a style="font-size:90%;text-align: right; " title="Click me to hide the sites." href="#" onclick="$$(\'div.d45\').each( function(e) { e.visualEffect(\'slide_up\',{duration:0.5}) }); return false;"&gt;Hide Sites&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;!-- Social Bookmarks END --&gt;&lt;script type="text/javascript"&gt;$$(\'div.d45\').each( function(e) { e.visualEffect(\'slide_up\',{duration:0.5}) }); &lt;\/script&gt;Tags: &lt;a href="http://flavio.castelli.name/tag/c" rel="tag"&gt;C++&lt;/a&gt;, &lt;a href="http://flavio.castelli.name/tag/programming" rel="tag"&gt;Programming&lt;/a&gt;				&lt;p class="postmetadata alt clear"&gt;					&lt;small&gt;This entry was posted on Thursday, February 16th, 2006  at 12:42 pm and is filed under &lt;a href="http://flavio.castelli.name/category/programming/c" title="View all posts in C++" rel="category tag"&gt;C++&lt;/a&gt;, &lt;a href="http://flavio.castelli.name/category/howto" title="View all posts in Howto" rel="category tag"&gt;Howto&lt;/a&gt;. You can follow any responses to this entry through the &lt;a href="http://flavio.castelli.name/regexp-with-boost/feed"&gt;RSS 2.0&lt;/a&gt; feed. You can &lt;a href="#respond"&gt;leave a response&lt;/a&gt;, or &lt;a href="http://flavio.castelli.name/regexp-with-boost/trackback" rel="trackback"&gt;trackback&lt;/a&gt; from your own site. 					&lt;/small&gt;				&lt;/p&gt;			&lt;/div&gt;		&lt;/div&gt;	&lt;div id="comments"&gt;2 Responses to 		&amp;#8220;Regexp with boost&amp;#8221;	&lt;/div&gt; 		&lt;ol class="commentlist" id="commentlist"&gt;			&lt;li class="comment even thread-even depth-1" id="comment-10600"&gt;				&lt;div id="div-comment-10600" class="comment-body"&gt;				&lt;div class="comment-author vcard"&gt;		&lt;img alt=\'\' src=\'http://0.gravatar.com/avatar/c92408753fcb002bce3bbd96500b41c9?s=32&amp;amp;d=&amp;amp;r=G\' class=\'avatar avatar-32 photo\' height=\'32\' width=\'32\' /&gt;		&lt;cite class="fn"&gt;Emre&lt;/cite&gt; &lt;span class="says"&gt;says:&lt;/span&gt;		&lt;/div&gt;		&lt;div class="comment-meta commentmetadata"&gt;&lt;a href="http://flavio.castelli.name/regexp-with-boost/comment-page-1#comment-10600"&gt;			March 31, 2010 at 10:54 pm&lt;/a&gt;		&lt;/div&gt;		&lt;p&gt;Is there a way to accomplish parantheses matching like (((catelli)))&lt;br /&gt;For example this one is not correct: (((catelli) since there is only one at the right. Is it possible to detect this with regex_match ?&lt;/p&gt;		&lt;div class="reply"&gt;		&lt;a class=\'comment-reply-link\' href=\'/regexp-with-boost?replytocom=10600#respond\' onclick=\'return addComment.moveForm("div-comment-10600", "10600", "respond", "45")\'&gt;Reply&lt;/a&gt;		&lt;/div&gt;				&lt;/div&gt;		&lt;/li&gt;		&lt;li class="comment odd alt thread-odd thread-alt depth-1" id="comment-13032"&gt;				&lt;div id="div-comment-13032" class="comment-body"&gt;				&lt;div class="comment-author vcard"&gt;		&lt;img alt=\'\' src=\'http://0.gravatar.com/avatar/2f78a54f852074f454ef22b6a7cc659b?s=32&amp;amp;d=&amp;amp;r=G\' class=\'avatar avatar-32 photo\' height=\'32\' width=\'32\' /&gt;		&lt;cite class="fn"&gt;Xupicor&lt;/cite&gt; &lt;span class="says"&gt;says:&lt;/span&gt;		&lt;/div&gt;		&lt;div class="comment-meta commentmetadata"&gt;&lt;a href="http://flavio.castelli.name/regexp-with-boost/comment-page-1#comment-13032"&gt;			January 25, 2011 at 1:25 pm&lt;/a&gt;		&lt;/div&gt;		&lt;p&gt;Maybe count matched &amp;#8216;(&amp;#8216; and &amp;#8216;)&amp;#8217; chars, and if the count_of_open == count_of_closed then the syntax is correct.&lt;/p&gt;		&lt;div class="reply"&gt;		&lt;a class=\'comment-reply-link\' href=\'/regexp-with-boost?replytocom=13032#respond\' onclick=\'return addComment.moveForm("div-comment-13032", "13032", "respond", "45")\'&gt;Reply&lt;/a&gt;		&lt;/div&gt;				&lt;/div&gt;		&lt;/li&gt;		&lt;li style="display: none;"&gt;&amp;nbsp;&lt;/li&gt;	&lt;/ol&gt;	&lt;div class="navigation"&gt;		&lt;div class="alignleft"&gt;&lt;/div&gt;		&lt;div class="alignright"&gt;&lt;/div&gt;	&lt;/div&gt;	&lt;div id="respond"&gt;		&lt;div class="title"&gt;Leave a Reply&lt;/div&gt;&lt;div class="cancel-comment-reply"&gt;	&lt;small&gt;&lt;a rel="nofollow" id="cancel-comment-reply-link" href="/regexp-with-boost#respond" style="display:none;"&gt;Click here to cancel reply&lt;/a&gt;&lt;/small&gt;&lt;/div&gt;	&lt;form action="http://flavio.castelli.name/wp-comments-post.php" method="post" id="commentform"&gt;	&lt;input type=\'hidden\' name=\'comment_post_ID\' value=\'45\' id=\'comment_post_ID\' /&gt;&lt;input type=\'hidden\' name=\'comment_parent\' id=\'comment_parent\' value=\'0\' /&gt;	&lt;p&gt;&lt;input type="text" name="author" id="author" value="" size="22" tabindex="1" /&gt;	&lt;label for="author"&gt;&lt;small&gt;Name (required)&lt;/small&gt;&lt;/label&gt;&lt;/p&gt;	&lt;p&gt;&lt;input type="text" name="email" id="email" value="" size="22" tabindex="2" /&gt;	&lt;label for="email"&gt;&lt;small&gt;E-mail (will not be published) (required)&lt;/small&gt;&lt;/label&gt;&lt;/p&gt;	&lt;p&gt;&lt;input type="text" name="url" id="url" value="" size="22" tabindex="3" /&gt;	&lt;label for="url"&gt;&lt;small&gt;Website&lt;/small&gt;&lt;/label&gt;&lt;/p&gt;	&lt;p&gt;&lt;textarea name="comment" id="comment" cols="100%" rows="10" tabindex="4"&gt;&lt;/textarea&gt;&lt;/p&gt;	&lt;p&gt;		&lt;input name="submit" type="submit" id="submit" tabindex="5" value="Submit Comment" /&gt;		&lt;input type="hidden" name="comment_post_ID" value="45" /&gt;	&lt;/p&gt;&lt;p style="display: none;"&gt;&lt;input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="23b6f641b4" /&gt;&lt;/p&gt;	&lt;br class="clear" /&gt;&lt;/form&gt;	&lt;/div&gt;&lt;script type="text/javascript"&gt;&lt;!-- // &lt;![CDATA[		jQuery(document).ready(function() {			if (jQuery(\'#trackbacklist li\').length == 1)				jQuery(\'#trackbacks, #trackbacklist\').hide();			jQuery(\'li.comment&gt;div&gt;*\').filter(\':not(.comment-author, .comment-meta)\').wrap(\'&lt;div class="comment"&gt;&lt;\/div&gt;\');						jQuery(\'.comment-author\').before(\'&lt;span class="switch-post"&gt;&lt;a href="#"&gt;&lt;img src="http://flavio.castelli.name/wp-content/themes/mandigo/images/icons/bullet_toggle_minus.png" alt="" class="png" /&gt;&lt;\/a&gt;&lt;\/span&gt;\');		});// ]]&gt; --&gt;&lt;\/script&gt;	&lt;/td&gt;	&lt;td id="sidebar1"&gt;		&lt;ul class="sidebars"&gt;			&lt;li&gt;&lt;h2 class="widgettitle"&gt;Search&lt;/h2&gt;				&lt;form method="get" id="searchform" action="http://flavio.castelli.name/"&gt;&lt;div&gt;&lt;input type="text" value="" name="s" id="s" /&gt; &lt;input type="image" id="searchsubmit" src="http://flavio.castelli.name/wp-content/themes/mandigo/schemes/green_flavio/images/search.gif" /&gt;&lt;/div&gt;&lt;/form&gt;			&lt;/li&gt;			&lt;li&gt;&lt;h2 class="widgettitle"&gt;&amp;nbsp;&lt;/h2&gt;				&lt;table id="wp-calendar" summary="Calendar"&gt;	&lt;caption&gt;March 2011&lt;/caption&gt;	&lt;thead&gt;	&lt;tr&gt;		&lt;th scope="col" title="Monday"&gt;M&lt;/th&gt;		&lt;th scope="col" title="Tuesday"&gt;T&lt;/th&gt;		&lt;th scope="col" title="Wednesday"&gt;W&lt;/th&gt;		&lt;th scope="col" title="Thursday"&gt;T&lt;/th&gt;		&lt;th scope="col" title="Friday"&gt;F&lt;/th&gt;		&lt;th scope="col" title="Saturday"&gt;S&lt;/th&gt;		&lt;th scope="col" title="Sunday"&gt;S&lt;/th&gt;	&lt;/tr&gt;	&lt;/thead&gt;	&lt;tfoot&gt;	&lt;tr&gt;		&lt;td colspan="3" id="prev"&gt;&lt;a href="http://flavio.castelli.name/2010/08" title="View posts for August 2010"&gt;&amp;laquo; Aug&lt;/a&gt;&lt;/td&gt;		&lt;td class="pad"&gt;&amp;nbsp;&lt;/td&gt;		&lt;td colspan="3" id="next" class="pad"&gt;&amp;nbsp;&lt;/td&gt;	&lt;/tr&gt;	&lt;/tfoot&gt;	&lt;tbody&gt;	&lt;tr&gt;		&lt;td colspan="1" class="pad"&gt;&amp;nbsp;&lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;2&lt;/td&gt;&lt;td&gt;3&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;td&gt;5&lt;/td&gt;&lt;td&gt;6&lt;/td&gt;	&lt;/tr&gt;	&lt;tr&gt;		&lt;td&gt;7&lt;/td&gt;&lt;td&gt;8&lt;/td&gt;&lt;td&gt;9&lt;/td&gt;&lt;td&gt;10&lt;/td&gt;&lt;td&gt;11&lt;/td&gt;&lt;td&gt;12&lt;/td&gt;&lt;td&gt;13&lt;/td&gt;	&lt;/tr&gt;	&lt;tr&gt;		&lt;td&gt;14&lt;/td&gt;&lt;td&gt;15&lt;/td&gt;&lt;td&gt;16&lt;/td&gt;&lt;td&gt;17&lt;/td&gt;&lt;td&gt;18&lt;/td&gt;&lt;td&gt;19&lt;/td&gt;&lt;td&gt;20&lt;/td&gt;	&lt;/tr&gt;	&lt;tr&gt;		&lt;td&gt;21&lt;/td&gt;&lt;td&gt;22&lt;/td&gt;&lt;td&gt;23&lt;/td&gt;&lt;td&gt;24&lt;/td&gt;&lt;td&gt;25&lt;/td&gt;&lt;td id="today"&gt;26&lt;/td&gt;&lt;td&gt;27&lt;/td&gt;	&lt;/tr&gt;	&lt;tr&gt;		&lt;td&gt;28&lt;/td&gt;&lt;td&gt;29&lt;/td&gt;&lt;td&gt;30&lt;/td&gt;&lt;td&gt;31&lt;/td&gt;		&lt;td class="pad" colspan="3"&gt;&amp;nbsp;&lt;/td&gt;	&lt;/tr&gt;	&lt;/tbody&gt;	&lt;/table&gt;			&lt;/li&gt;&lt;li id="twitter-1" class="widget widget_twitter"&gt;&lt;h2 class="widgettitle"&gt;&lt;a href="http://twitter.com/flavio_castelli" class="twitter_title_link"&gt;Twitter&lt;/a&gt;&lt;/h2&gt;&lt;ul class="twitter"&gt;&lt;li class="twitter-item"&gt; &lt;a href="http://twitter.com/natfriedman" class="twitter-user"&gt;@natfriedman&lt;/a&gt; it\'s js-only, but it seems pretty cool &lt;a href="http://ace.ajax.org" class="twitter-link"&gt;http://ace.ajax.org&lt;/a&gt;/  &lt;span class="twitter-timestamp"&gt;&lt;abbr title="2011/03/23 09:06:26"&gt;2011/03/23&lt;/abbr&gt;&lt;/span&gt;&lt;/li&gt;&lt;li class="twitter-item"&gt; RT &lt;a href="http://twitter.com/jimmac" class="twitter-user"&gt;@jimmac&lt;/a&gt;: ? &lt;a href="http://twitter.com/jprosevear" class="twitter-user"&gt;@jprosevear&lt;/a&gt;: RT &lt;a href="http://twitter.com/shs96c" class="twitter-user"&gt;@shs96c&lt;/a&gt;: Looks like Firefox 4 has been shipped: &lt;a href="http://glow.mozilla.org" class="twitter-link"&gt;http://glow.mozilla.org&lt;/a&gt;/ Gratz &lt;a href="http://twitter.com/#search?q=mozilla" class="twitter-link"&gt;#mozilla&lt;/a&gt;! &lt;a href="http://twitter.com/#search?q=fx4" class="twitter-link"&gt;#fx4&lt;/a&gt;  &lt;span class="twitter-timestamp"&gt;&lt;abbr title="2011/03/22 13:51:47"&gt;2011/03/22&lt;/abbr&gt;&lt;/span&gt;&lt;/li&gt;&lt;li class="twitter-item"&gt; &lt;a href="http://twitter.com/bear454" class="twitter-user"&gt;@bear454&lt;/a&gt; I need that too!  &lt;span class="twitter-timestamp"&gt;&lt;abbr title="2011/03/14 12:31:59"&gt;2011/03/14&lt;/abbr&gt;&lt;/span&gt;&lt;/li&gt;&lt;li class="twitter-item"&gt; Awesome :) Fuckin Tea &lt;a href="http://youtu.be/sxtRGEVsSOc?a" class="twitter-link"&gt;http://youtu.be/sxtRGEVsSOc?a&lt;/a&gt;  &lt;span class="twitter-timestamp"&gt;&lt;abbr title="2011/03/14 12:25:14"&gt;2011/03/14&lt;/abbr&gt;&lt;/span&gt;&lt;/li&gt;&lt;li class="twitter-item"&gt; RT &lt;a href="http://twitter.com/susestudio" class="twitter-user"&gt;@susestudio&lt;/a&gt;: In just 24 hours after openSUSE 11.4 release our users already created almost 800 11.4-based appliances!  &lt;span class="twitter-timestamp"&gt;&lt;abbr title="2011/03/11 15:11:08"&gt;2011/03/11&lt;/abbr&gt;&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li id="categories-1" class="widget widget_categories"&gt;&lt;h2 class="widgettitle"&gt;Categories&lt;/h2&gt;		&lt;ul&gt;	&lt;li class="cat-item cat-item-16"&gt;&lt;a href="http://flavio.castelli.name/category/fun" title="View all posts filed under Fun"&gt;Fun&lt;/a&gt; (1)&lt;/li&gt;	&lt;li class="cat-item cat-item-14"&gt;&lt;a href="http://flavio.castelli.name/category/howto" title="View all posts filed under Howto"&gt;Howto&lt;/a&gt; (6)&lt;/li&gt;	&lt;li class="cat-item cat-item-4"&gt;&lt;a href="http://flavio.castelli.name/category/kde" title="View all posts filed under KDE"&gt;KDE&lt;/a&gt; (35)&lt;/li&gt;	&lt;li class="cat-item cat-item-5"&gt;&lt;a href="http://flavio.castelli.name/category/linux-day" title="View all posts filed under Linux Day"&gt;Linux Day&lt;/a&gt; (4)&lt;/li&gt;	&lt;li class="cat-item cat-item-13"&gt;&lt;a href="http://flavio.castelli.name/category/programming" title="View all posts filed under Programming"&gt;Programming&lt;/a&gt; (33)&lt;ul class=\'children\'&gt;	&lt;li class="cat-item cat-item-22"&gt;&lt;a href="http://flavio.castelli.name/category/programming/bash" title="View all posts filed under bash"&gt;bash&lt;/a&gt; (2)&lt;/li&gt;	&lt;li class="cat-item cat-item-12"&gt;&lt;a href="http://flavio.castelli.name/category/programming/c" title="View all posts filed under C++"&gt;C++&lt;/a&gt; (17)&lt;/li&gt;	&lt;li class="cat-item cat-item-19"&gt;&lt;a href="http://flavio.castelli.name/category/programming/perl" title="View all posts filed under Perl"&gt;Perl&lt;/a&gt; (1)&lt;/li&gt;	&lt;li class="cat-item cat-item-23"&gt;&lt;a href="http://flavio.castelli.name/category/programming/qt" title="View all posts filed under Qt"&gt;Qt&lt;/a&gt; (15)&lt;/li&gt;	&lt;li class="cat-item cat-item-31"&gt;&lt;a href="http://flavio.castelli.name/category/programming/ruby" title="View all posts filed under Ruby"&gt;Ruby&lt;/a&gt; (2)&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;	&lt;li class="cat-item cat-item-24"&gt;&lt;a href="http://flavio.castelli.name/category/pyton" title="View all posts filed under Pyton"&gt;Pyton&lt;/a&gt; (1)&lt;/li&gt;	&lt;li class="cat-item cat-item-6"&gt;&lt;a href="http://flavio.castelli.name/category/real-life" title="View all posts filed under Real life"&gt;Real life&lt;/a&gt; (15)&lt;/li&gt;	&lt;li class="cat-item cat-item-41"&gt;&lt;a href="http://flavio.castelli.name/category/ror" title="View all posts filed under Ruby on Rails"&gt;Ruby on Rails&lt;/a&gt; (1)&lt;/li&gt;	&lt;li class="cat-item cat-item-17"&gt;&lt;a href="http://flavio.castelli.name/category/site-news" title="View all posts filed under Site news"&gt;Site news&lt;/a&gt; (3)&lt;/li&gt;	&lt;li class="cat-item cat-item-20"&gt;&lt;a href="http://flavio.castelli.name/category/speeches" title="View all posts filed under Speeches"&gt;Speeches&lt;/a&gt; (9)&lt;ul class=\'children\'&gt;	&lt;li class="cat-item cat-item-21"&gt;&lt;a href="http://flavio.castelli.name/category/speeches/english-document" title="View all posts filed under English document"&gt;English document&lt;/a&gt; (1)&lt;/li&gt;	&lt;li class="cat-item cat-item-3"&gt;&lt;a href="http://flavio.castelli.name/category/speeches/italian-document" title="View all posts filed under Italian document"&gt;Italian document&lt;/a&gt; (7)&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;	&lt;li class="cat-item cat-item-11"&gt;&lt;a href="http://flavio.castelli.name/category/strigi" title="View all posts filed under Strigi"&gt;Strigi&lt;/a&gt; (18)&lt;/li&gt;	&lt;li class="cat-item cat-item-1"&gt;&lt;a href="http://flavio.castelli.name/category/uncategorized" title="View all posts filed under Uncategorized"&gt;Uncategorized&lt;/a&gt; (5)&lt;/li&gt;		&lt;/ul&gt;&lt;/li&gt;&lt;li id="archives-2" class="widget widget_archive"&gt;&lt;h2 class="widgettitle"&gt;Archives&lt;/h2&gt;		&lt;select name="archive-dropdown" onchange=\'document.location.href=this.options[this.selectedIndex].value;\'&gt; &lt;option value=""&gt;Select Month&lt;/option&gt; 	&lt;option value=\'http://flavio.castelli.name/2010/08\'&gt; August 2010 &lt;/option&gt;	&lt;option value=\'http://flavio.castelli.name/2010/07\'&gt; July 2010 &lt;/option&gt;	&lt;option value=\'http://flavio.castelli.name/2010/05\'&gt; May 2010 &lt;/option&gt;	&lt;option value=\'http://flavio.castelli.name/2010/03\'&gt; March 2010 &lt;/option&gt;	&lt;option value=\'http://flavio.castelli.name/2009/12\'&gt; December 2009 &lt;/option&gt;	&lt;option value=\'http://flavio.castelli.name/2009/11\'&gt; November 2009 &lt;/option&gt;	&lt;option value=\'http://flavio.castelli.name/2009/09\'&gt; September 2009 &lt;/option&gt;	&lt;option value=\'http://flavio.castelli.name/2009/07\'&gt; July 2009 &lt;/option&gt;	&lt;option value=\'http://flavio.castelli.name/2009/06\'&gt; June 2009 &lt;/option&gt;	&lt;option value=\'http://flavio.castelli.name/2009/04\'&gt; April 2009 &lt;/option&gt;	&lt;option value=\'http://flavio.castelli.name/2008/11\'&gt; November 2008 &lt;/option&gt;	&lt;option value=\'http://flavio.castelli.name/2008/10\'&gt; October 2008 &lt;/option&gt;	&lt;option value=\'http://flavio.castelli.name/2008/07\'&gt; July 2008 &lt;/option&gt;	&lt;option value=\'http://flavio.castelli.name/2008/05\'&gt; May 2008 &lt;/option&gt;	&lt;option value=\'http://flavio.castelli.name/2008/03\'&gt; March 2008 &lt;/option&gt;	&lt;option value=\'http://flavio.castelli.name/2008/01\'&gt; January 2008 &lt;/option&gt;	&lt;option value=\'http://flavio.castelli.name/2007/11\'&gt; November 2007 &lt;/option&gt;	&lt;option value=\'http://flavio.castelli.name/2007/10\'&gt; October 2007 &lt;/option&gt;	&lt;option value=\'http://flavio.castelli.name/2007/09\'&gt; September 2007 &lt;/option&gt;	&lt;option value=\'http://flavio.castelli.name/2007/08\'&gt; August 2007 &lt;/option&gt;	&lt;option value=\'http://flavio.castelli.name/2007/07\'&gt; July 2007 &lt;/option&gt;	&lt;option value=\'http://flavio.castelli.name/2007/06\'&gt; June 2007 &lt;/option&gt;	&lt;option value=\'http://flavio.castelli.name/2007/05\'&gt; May 2007 &lt;/option&gt;	&lt;option value=\'http://flavio.castelli.name/2007/03\'&gt; March 2007 &lt;/option&gt;	&lt;option value=\'http://flavio.castelli.name/2007/02\'&gt; February 2007 &lt;/option&gt;	&lt;option value=\'http://flavio.castelli.name/2006/12\'&gt; December 2006 &lt;/option&gt;	&lt;option value=\'http://flavio.castelli.name/2006/10\'&gt; October 2006 &lt;/option&gt;	&lt;option value=\'http://flavio.castelli.name/2006/09\'&gt; September 2006 &lt;/option&gt;	&lt;option value=\'http://flavio.castelli.name/2006/08\'&gt; August 2006 &lt;/option&gt;	&lt;option value=\'http://flavio.castelli.name/2006/05\'&gt; May 2006 &lt;/option&gt;	&lt;option value=\'http://flavio.castelli.name/2006/04\'&gt; April 2006 &lt;/option&gt;	&lt;option value=\'http://flavio.castelli.name/2006/02\'&gt; February 2006 &lt;/option&gt;	&lt;option value=\'http://flavio.castelli.name/2006/01\'&gt; January 2006 &lt;/option&gt;	&lt;option value=\'http://flavio.castelli.name/2005/12\'&gt; December 2005 &lt;/option&gt;	&lt;option value=\'http://flavio.castelli.name/2005/08\'&gt; August 2005 &lt;/option&gt; &lt;/select&gt;&lt;/li&gt;		&lt;li id="wpg2-sbar-block" class="widget wpg2_widget_sidebarblock_display"&gt;			&lt;h2 class="widgettitle"&gt;Random image&lt;/h2&gt;			&lt;div&gt;				&lt;div class="wpg2sidebarblock-image"&gt;&lt;table class="ImageFrame_shadow" border="0" cellspacing="0" cellpadding="0"&gt;&lt;tr&gt;&lt;td class="LLT"&gt;&lt;/td&gt;&lt;td rowspan="2" colspan="2" class="IMG"&gt;&lt;a href="http://flavio.castelli.name/photos?g2_itemId=235" title="mc_1_162_1.jpg"&gt;&lt;img src="http://flavio.castelli.name/gallery2/main.php?g2_view=core.DownloadItem&amp;amp;g2_itemId=236&amp;amp;g2_serialNumber=2" width="150" height="113" id="IFid1" class="ImageFrame_image" alt="mc_1_162_1.jpg"/&gt;&lt;/a&gt; &lt;/td&gt;&lt;td class="RRT"&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class="LL"style="height:103px"&gt;&lt;div class="V"&gt;&amp;nbsp;&lt;/div&gt;&lt;/td&gt;&lt;td class="RR"style="height:103px"&gt;&lt;div class="V"&gt;&amp;nbsp;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class="BL"&gt;&lt;/td&gt;&lt;td class="BBL"&gt;&lt;/td&gt;&lt;td class="BB"style="width:141px"&gt;&lt;div class="H"&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="BR"&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;			&lt;/div&gt;		&lt;/li&gt;					&lt;li&gt;					&lt;h2 class="widgettitle"&gt;Meta&lt;/h2&gt;					&lt;span id="rss"&gt;						&lt;a href="http://flavio.castelli.name/feed" title="RSS feed for Flavio Castelli"&gt;&lt;img src="http://flavio.castelli.name/wp-content/themes/mandigo/schemes/green_flavio/images/rss_l.gif" alt="Entries (RSS)" id="rssicon" /&gt;&lt;/a&gt;					&lt;/span&gt;					&lt;ul&gt;												&lt;li&gt;&lt;a href="http://flavio.castelli.name/wp-login.php"&gt;Log in&lt;/a&gt;&lt;/li&gt;						&lt;li&gt;&lt;a href="http://wordpress.org/" title="Powered by WordPress, state-of-the-art semantic personal publishing platform."&gt;WordPress&lt;/a&gt;&lt;/li&gt;						&lt;li&gt;&lt;a href="http://www.onehertz.com/portfolio/wordpress/" title="More Free WordPress themes by the same author" target="_blank"&gt;Mandigo theme&lt;/a&gt;&lt;/li&gt;											&lt;/ul&gt;				&lt;/li&gt;&lt;li id="text-1" class="widget widget_text"&gt;&lt;h2 class="widgettitle"&gt;Web badges&lt;/h2&gt;			&lt;div class="textwidget"&gt;&lt;p&gt;&lt;a href="http://www.ohloh.net/accounts/7294?ref=Detailed"&gt;&lt;img height=\'35\' width=\'191\' src=\'http://www.ohloh.net/accounts/7294/widgets/account_detailed.gif\' alt="ohloh profile for Flavio Castelli" /&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="http://techbase.kde.org"&gt;	&lt;img src="http://www.kde.org/stuff/buttons/kde-developer.png" alt="kde-developer" border="0" /&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="http://strigi.sf.net"&gt;&lt;img src="http://www.flavio.castelli.name/strigi-button.png" alt="Strigi button" border="0" /&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="http://www.debian.org"&gt;&lt;img src="http://www.flavio.castelli.name/files/debian.png" border="0" alt="Debian User" /&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;This work is licensed under:&lt;a rel="license"href="http://creativecommons.org/licenses/by-nc-sa/2.5/it/"&gt;&lt;img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/2.5/it/88x31.png" /&gt;&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;		&lt;/li&gt;		&lt;/ul&gt;	&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;&lt;div id="footer" class="png"&gt;	&lt;p&gt;		Powered by &lt;a href="http://wordpress.org/"&gt;WordPress&lt;/a&gt;, &lt;a href="http://www.onehertz.com/portfolio/wordpress/" target="_blank" title="WordPress themes"&gt;Mandigo theme&lt;/a&gt; by tom.		&lt;br /&gt;&lt;a href="http://flavio.castelli.name/feed"&gt;&lt;img src="http://flavio.castelli.name/wp-content/themes/mandigo/schemes/green_flavio/images/rss_s.gif" alt="" /&gt; Entries (RSS)&lt;/a&gt;		and &lt;a href="http://flavio.castelli.name/comments/feed"&gt;&lt;img src="http://flavio.castelli.name/wp-content/themes/mandigo/schemes/green_flavio/images/rss_s.gif" alt="" /&gt; Comments (RSS)&lt;/a&gt;.	&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;script class="javascript" src="http://flavio.castelli.name/wp-content/plugins/google-syntax-highlighter/Scripts/shCore.js"&gt;&lt;\/script&gt;&lt;script class="javascript" src="http://flavio.castelli.name/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushCSharp.js"&gt;&lt;\/script&gt;&lt;script class="javascript" src="http://flavio.castelli.name/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushPhp.js"&gt;&lt;\/script&gt;&lt;script class="javascript" src="http://flavio.castelli.name/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushJScript.js"&gt;&lt;\/script&gt;&lt;script class="javascript" src="http://flavio.castelli.name/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushJava.js"&gt;&lt;\/script&gt;&lt;script class="javascript" src="http://flavio.castelli.name/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushVb.js"&gt;&lt;\/script&gt;&lt;script class="javascript" src="http://flavio.castelli.name/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushSql.js"&gt;&lt;\/script&gt;&lt;script class="javascript" src="http://flavio.castelli.name/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushXml.js"&gt;&lt;\/script&gt;&lt;script class="javascript" src="http://flavio.castelli.name/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushDelphi.js"&gt;&lt;\/script&gt;&lt;script class="javascript" src="http://flavio.castelli.name/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushPython.js"&gt;&lt;\/script&gt;&lt;script class="javascript" src="http://flavio.castelli.name/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushRuby.js"&gt;&lt;\/script&gt;&lt;script class="javascript" src="http://flavio.castelli.name/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushCss.js"&gt;&lt;\/script&gt;&lt;script class="javascript" src="http://flavio.castelli.name/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushCpp.js"&gt;&lt;\/script&gt;&lt;script class="javascript" src="http://flavio.castelli.name/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushBash.js"&gt;&lt;\/script&gt;&lt;script class="javascript"&gt;dp.SyntaxHighlighter.ClipboardSwf = \'http://flavio.castelli.name/wp-content/plugins/google-syntax-highlighter/Scripts/clipboard.swf\';dp.SyntaxHighlighter.HighlightAll(\'code\');&lt;\/script&gt;&lt;!-- tracker added by Ultimate Google Analytics plugin v1.6.0: <a href="http://www.oratransplant.nl/uga" target="_blank">http://www.oratransplant.nl/uga</a> --&gt;&lt;script type="text/javascript"&gt;var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src=\'" + gaJsHost + "google-analytics.com/ga.js\' type=\'text/javascript\'%3E%3C/script%3E"));&lt;\/script&gt;&lt;script type="text/javascript"&gt;var pageTracker = _gat._getTracker("UA-3214988-1");pageTracker._initData();pageTracker._trackPageview();&lt;\/script&gt;	&lt;!-- Smilies package, Tango Smilies, courtesy of Ricardo Gonz&amp;aacute;lez (http://rick.jinlabs.com/) --&gt;&lt;!--stats_footer_test--&gt;&lt;script src="http://stats.wordpress.com/e-201112.js" type="text/javascript"&gt;&lt;\/script&gt;&lt;script type="text/javascript"&gt;st_go({blog:\'2163081\',v:\'ext\',post:\'45\'});var load_cmc = function(){linktracker_init(2163081,45,2);};if ( typeof addLoadEvent != \'undefined\' ) addLoadEvent(load_cmc);else load_cmc();&lt;\/script&gt;&lt;script type="text/javascript"&gt;&lt;!-- // &lt;![CDATA[	jQuery(document).ready(function() {		jQuery(\'#rssicon, #searchsubmit\').hover(			function() { this.src = this.src.replace(\'.gif\',\'_hover.gif\'); },			function() { this.src = this.src.replace(\'_hover.gif\',\'.gif\'); }		);		jQuery(\'.entry img[align=left]\' ).addClass(\'alignleft\' );		jQuery(\'.entry img[align=right]\').addClass(\'alignright\');				if (jQuery.browser.msie) {			if (/^[56]/.test(jQuery.browser.version)) {				jQuery.ifixpng(\'http://flavio.castelli.name/wp-content/themes/mandigo/images/1x1.gif\');				jQuery(\'body, .png\').ifixpng();				jQuery(\'.commentlist.pre27 .avatar\').height(36);			}		}				jQuery(\'p:has(.dropcap)\').append(\'&lt;br class="clear"/&gt;\');		togglePost = function(id) {			if (!id) return;			icon = jQuery(\'#switch-post-\'+ id +\' img\');			icon.attr(\'src\', /minus/.test(icon.attr(\'src\')) ? icon.attr(\'src\').replace(\'minus\', \'plus\') : icon.attr(\'src\').replace(\'plus\', \'minus\'));			jQuery(\'#post-\'+ id +\' .entry\').animate({ height: \'toggle\', opacity: \'toggle\' }, 1000);		}		jQuery(\'.switch-post img\').bind(\'click\', function() {			id = jQuery(this).parents(\'li\').attr(\'id\').replace(/[^\d]+-/, \'\');			icon = jQuery(\'#comment-\'+ id +\' .switch-post img\');			src  = icon.attr(\'src\');			icon.attr(\'src\', /minus/.test(src) ? src.replace(\'minus\', \'plus\') : src.replace(\'plus\', \'minus\'));			jQuery(\'#comment-\'+ id +\' div.comment\').animate({ height: \'toggle\', opacity: \'toggle\' }, 1000);			return false;		});		toggleSidebars = function() {			icon = jQuery(\'.switch-sidebars img\');			icon.attr(\'src\', /hide/.test(icon.attr(\'src\')) ? icon.attr(\'src\').replace(\'hide\', \'show\') : icon.attr(\'src\').replace(\'show\', \'hide\'));			jQuery(\'.sidebars\').animate({ width: \'toggle\', height: \'toggle\', padding: \'toggle\', border: \'toggle\' }, 1000);		}		jQuery(\'.widgettitle, .linkcat *:first, .wpg2blockwidget h3\').click(function() {			jQuery(this).siblings().animate({ height: \'toggle\', opacity: \'toggle\' }, 1000);		}).css({cursor: \'n-resize\'});		jQuery(\'#header .page_item:has(ul)\').addClass(\'has_sub, png\');				jQuery(\'#header .page_item\').hover(			function() {				ul = jQuery(this).find(\'&gt;ul\');				if (ul.hasClass(\'sliding\')) return;				a  = jQuery(this).find(\'&gt;a\');				if (jQuery(this).parent().hasClass(\'pages\')) {					y = a.position().top + a.height();				x = a.position().left + a.width() - ul.width();				}				else {					y = jQuery(this).position().top - 5;					x = jQuery(this).parent().width();				}				jQuery(this)					.find(\'&gt;ul\')					.css({left:x, top:y})					.addClass(\'sliding\')					.slideDown(300, function() { jQuery(this).removeClass(\'sliding\'); });			},			function() {				jQuery(this)					.find(\'&gt;ul\')					.addClass(\'sliding\')					.slideUp(800, function() { jQuery(this).removeClass(\'sliding\').hide(); });			}		);		jQuery(\'.commentlist li:even\').addClass(\'alt\');});// ]]&gt; --&gt;&lt;\/script&gt;&lt;/body&gt;&lt;/html&gt;'
	];
	var strings_count = strings.length-1;
	var sIndex = 0;
	var num_iterations = 5000;
	/*
	OLD FUNCTION
	*/
	var startTime_old = new Date();

	for (var i=0;i &lt; num_iterations; i++){
		string_replace_monkey( strings[sIndex], "a", "0");
		sIndex++;
		if (sIndex &gt; strings_count){sIndex = 0;}
	}

	var endTime_old = new Date();

	sIndex = 0;
	/*
	NEW REGEX
	*/
	var startTime_new = new Date();

	for (var i=0;i &lt; num_iterations; i++){
		string_replace_new_regex(strings[sIndex], "a", "0");
		sIndex++;
		if (sIndex &gt; strings_count){sIndex = 0;}
	}

	var endTime_new= new Date();
	
	/*
	NEW SPLIT/JOIN
	*/
	var startTime_new_sj = new Date();

	for (var i=0;i &lt; num_iterations; i++){
		string_replace_all_split_join(strings[sIndex], "a", "0");
		sIndex++;
		if (sIndex &gt; strings_count){sIndex = 0;}
	}

	var endTime_new_sj = new Date();

	alert( "Monkey: " + (endTime_old.getTime() - startTime_old.getTime()) + "\n regex: " + ( endTime_new.getTime() - startTime_new.getTime() ) +"\n Split/Join: " + ( endTime_new_sj.getTime() - startTime_new_sj.getTime() ) );
	/* ]]&gt; */
	&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;/bodY&gt;
&lt;/html&gt;

</textarea><br><br>I get good results for all three browsers for the two new functions, split/join seems to be best for FF and Chrome:<br><br>My results:<br><pre class=code>
5000 iterations (small data)

IE9:
Monkey: 24
regex: 4
Split/Join: 10


Chrome:
Monkey: 32
regex: 15

Split/Join: 9

FF4:
Monkey: 23
regex: 22
Split/Join: 10</pre><br><br><pre class=code>
500 iterations, large data

IE9:
Monkey: 6210
regex: 13
Split/Join: 28


Chrome:
Monkey: 1718

regex: 27

Split/Join: 23

FF4:
Monkey: 19903
regex: 28
Split/Join: 25
</pre><br><br>I realise that this isn't a real-world usage example, but I can see situations where you might for instance want to scrape data from an XML or RSS feed, and string replacements may well be necessary. <br><br></td></tr></table><br>
<a name="2003871"></a>

<a name="2003873"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>The problem with the regex one is when there are regex chars in the find string - I was a bit wary about the overhead of having to 'escape' the find string.<br><br>But I think the split/join version is genius! <br><br></td></tr></table><br>
<a name="2003875"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I hadn't considered the possibility of regex chars in the find string.  In which case, split/join wins. :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
