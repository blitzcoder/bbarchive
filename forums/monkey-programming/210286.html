<!DOCTYPE html><html lang="en" ><head ><title >Please add TDM-GCC 64 bits and VS 2015 support</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Please add TDM-GCC 64 bits and VS 2015 support</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Please add TDM-GCC 64 bits and VS 2015 support</a><br><br>
<a name="2114273"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JaviCervera</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Right now, Monkey requires a 32 bits version of TDM-GCC to build the executables, although the 64 bits version of the compiler is perfectly capable of building 32 bits apps (just pass the flag -m32 to it). It would be nice if Monkey could detect a 64 bits TDM-GCC installation and simply pass the -m32 flag to it when compiling.<br><br>Also, it is not working for me with Visual Studio 2015 Community. It would also be nice to have support for it, I don't want to install Visual Studio Express 2013 just for Monkey. <br><br></td></tr></table><br>
<a name="2114280"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Soap</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> These things probably won't happen unless you make them happen.<br><br>Why use TDM-GCC/VS over other options that work? What do you need to do in VS that can't be done without? <br><br></td></tr></table><br>
<a name="2114297"></a>

<a name="2114298"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JaviCervera</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, both compilers are currently supported by Monkey, but VS support is one version behind (2013) and only the 32 bits version of GCC is supported (at least in Windows).<br><br>What other options that work are you referring to? <br><br></td></tr></table><br>
<a name="2114303"></a>

<a name="2114304"></a>

<a name="2114305"></a>

<a name="2114306"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Soap</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I need to know what your specific needs are. <br><br><a href="http://www.monkeycoder.co.nz/downloads/tdm-gcc-4.8.1-3.exe" target="_blank">http://www.monkeycoder.co.nz/downloads/tdm-gcc-4.8.1-3.exe</a><br><br>This stand alone msbuild 2013 may work <a href="https://www.microsoft.com/en-us/download/details.aspx?id=40760" target="_blank">https://www.microsoft.com/en-us/download/details.aspx?id=40760</a><br><br>If you feel like it you could make a VS 2015 version of the project and contribute it to the community. Did you try to follow steps to upgrade the project? AFAIK if you want to use the older project in 2015 you can but you must install some extra files. Visual C++ tools in Visual Studio 2010 with SP1, Visual Studio 2012, or Visual Studio 2013.<br><br>Using -m32 flag to build 32bit versions is normal afaik. I use it every time I make Linux builds. Look up ways to detect TDM-GCC 64 bit version. Makefiles can contain conditional statements. If you create a new version of the Makefile that handles it then share it. <br><br></td></tr></table><br>
<a name="2114301"></a>

<a name="2114302"></a>

<a name="2114308"></a>

<a name="2114309"></a>

<a name="2114310"></a>

<a name="2114312"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just checked, and adding the -m32 flag seems to work OK with both 32 and 64 bit mingw.<br><br>I have tried mingw64 in the path, but there have been various 'issues'...it's a little more 'bleeding edge' than mingw32 I think.<br><br>There is also a bug in mingw64-5.1.0 (which I just ran into the other day) which means it cannot link.with msvc style 'lib' files, so you must use mingw64-4.9.2. This has apparently been fixed and will likely be in the next mingw release, but for now I'm reluctant to have monkey 'default' to using mingw64.<br><br>I will add the -m32 stuff though, and perhaps add a MINGW_PATH setting to config.winnt.txt that links to mingw64-4.9.2 only, along with a suitable warning comment.<br><br>As for msvc2015, you can open existing projects with it fine, but the default project produced by monkey is for msvc2012. Probably time to upgrade... <br><br></td></tr></table><br>
<a name="2114311"></a>

<a name="2114313"></a>

<a name="2114314"></a>

<a name="2114315"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skid</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Mark, for VS2015 build automation I use:<br><br>call "%VS140COMNTOOLS%VsMSBuildCmd.bat"<br>MSBuild nitrosdk.sln /maxcpucount /p:Configuration=Release<br><br>and  for VS2012:<br><br>call "%VS120COMNTOOLS%vsvars32.bat"<br>MSBuild nitrosdk.sln /maxcpucount /p:Configuration=Release<br><br>I think you need to support both, unless you want to force people onto Windows 10 which might be the right thing to do for Visual Studio use, dunno. <br><br></td></tr></table><br>
<a name="2114316"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, I've upgraded the glfw, glfw3 and glfw3_angle targets to use vs2015 projects so you'll now need this installed if you are doing msvc builds.<br><br>Possibly a bit of a pain for some people, but it apparently works on Windows7 and up and I think it's a good idea to keep up with the latest version of VS.<br><br>I haven't dared touch the winrt stuff, but winrt projects need to be opened manually anyway and that still works fine. Also, loading these projects into vs2015 didn't cause any 'project upgrade' so I don't think there's anything I need to do here. <br><br></td></tr></table><br>
<a name="2114322"></a>

<a name="2114326"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> It shouldn't take that much to modify trans and TED to pass the -m32 switch an an option to the Makefile, but you have to remember that the intermediate object files created will need to be removed when the switch is changed and the project rebuilt. <br><br></td></tr></table><br>
<a name="2114324"></a>

<a name="2114325"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TheRedFox</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am coming back to Monkey.<br><br>I have been using VS2010 by replacing the 120 with 100 in the vcxproj template for the glfw3 target in MonkeyX 85e.<br><br>Works fine.<br><br>It's hard to move from 66 to 85e :-) <br><br></td></tr></table><br>
<a name="2114330"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JaviCervera</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the -m32 flag, Mark! Hopefully that'll be enough :) VS2015 is not as important to me, but I asked because it is good to have the latest version supported. <br><br></td></tr></table><br>
<a name="2114343"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; It shouldn't take that much to modify trans and TED to pass the -m32 switch an an option to the Makefile<br><br>Argh, forgot people have this inexplicable (to me) desire to create 64 bit apps for windows, so I guess simply forcing -m32 is out.<br><br>Will revisit this a bit later I think... <br><br></td></tr></table><br>
<a name="2114352"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt;Argh, forgot people have this inexplicable (to me) desire to create 64 bit apps for windows, so I guess simply forcing -m32 is out.<br>Not to worry Mark. I think I should have it covered for GCC on Windows and Linux. With luck, I should have something uploaded to dropbox and linked here within the hour. Currently swearing at Windows 10, BlitzMax and that bloody TDM bug. For reasons unknown, I cannot build BlitzMax application in Windows 10. Guess I will have to hack the BMK to use the MinGW cross compiler in Linux. <br><br></td></tr></table><br>
<a name="2114357"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> As promised.<br><a href="https://www.dropbox.com/s/m2yo61lgxr3lotr/monkey-86c-dawlane-mod.zip?dl=0" target="_blank">https://www.dropbox.com/s/m2yo61lgxr3lotr/monkey-86c-dawlane-mod.zip?dl=0</a> <br><br></td></tr></table><br>
<a name="2114371"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry, but that's a bit beyond me - haven't messed with cross compilers so wouldn't even know how to test it.<br><br>I have come up with a solution of sorts for the original windows-only request though, via the addition of some new config vars...<br><br>#GLFW_GCC_CC_OPTS=""			'common gcc opts for all hosts<br>#GLFW_GCC_LD_OPTS=""<br>#GLFW_GCC_CC_OPTS_WINNT="-m32"	'host specific opts, ie: force 32 bit apps on windows, default on others.<br>#GLFW_GCC_LD_OPTS_WINNT="-m32"<br>#GLFW_GCC_CC_OPTS_LINUX=""<br>#GLFW_GCC_LD_OPTS_LINUX=""<br>#GLFW_GCC_CC_OPTS_MACOS=""<br>#GLFW_GCC_LD_OPTS_MACOS=""<br><br>...so to build a 64 bit glfw app on windows with mingw64, you will need to add...<br><br>#GLFW_CC_OPTS_WINNT="-m64"   'or just use ="" as mingw64 generates 64 bit apps by default.<br>#GLFW_LD_OPTS_WINNT="-m64"<br><br>...to your project AND have mingw64 (but not 5.1.0!) in your config.winnt.txt.<br><br>Doesn't work with glfw3 + angle though, as the angle lib is 32 bit.<br><br>Is this 'good enough'? Will it help with your cross compiling gymnastics? <br><br></td></tr></table><br>
<a name="2114404"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Believe it or not Mark, it's easier to build a fair bit of stuff with the MinGW32 cross compiler in Linux than it is to use MinGW32 in Windows. For example wxWidgets, tends to be a bit of a ball ache to build on Windows with MinGW32 without a command terminal such as MSYS, but is a piece of cake under Linux with the cross compiler. I have not included a cross compiling capability from Windows to Linux or OSX for two reasons. The first is that there are no decent pre-built stand alone cross compilers for Windows to Linux/OS X and building one is not a simple task; it's the same problem between Linux and OS X. And secondly, Apples OS X SDK license. The PDF in the archive explains how to install and set up the cross compiler tools chain for a number of Linux distributions and OS X, and how to build OpenAL-soft for use with Windows or WINE.<br><br>I have noticed this morning that I messed up with the config.winnt.txt. I pasted MinGW stuff into it that was actually supposed to go into config.macos.txt. The config.winnt.txt isn't used on Linux or OS X. I will have to correct it and include the OS X toolchain when I get the iMac set up again later on today.<br>The binaries for TED are compiled with Qt5.5.1 (Windows 32bit VS2010), while the Linux version uses Qt5.1.2 (64bit), which should be native in the Ubuntu/Mint repositories.<br><br><div class="quote"> #GLFW_GCC_CC_OPTS=""<br>#GLFW_GCC_LD_OPTS="" <br></div>I think that those should have been there from the beginning. It would have saved a lot of Makefile hacking. But just passing CPU code generating options such as -m32 will still leave you with the problem of the intermediate object files lurking around waiting to trip up the linker. It's why I chose to pass a parameter as a transcc option. Doing it this way allowed me to append either 32/64 to the end of a release/debug directory and slip in a variable in the gcc command line that can be picked up by the makefiles, hence making it much easier to keep the builds separate. As for OS X desktop 32/64 binary output, would you not have to pass parameters to xcode along with the xcode project file? And then the question would be how many Mac's out there are still using an SDK with 32bit support?<br><br>As for the cross compiler gymnastics. It wouldn't make a difference as transcc it's self has to be tricked into believing that it is compiling on a Windows OS.<br><br>Here's a general out line of how it works for MonkeyX<br>Install the cross compiler. Build the extra libraries or copy over actual Windows libraries. Set up WINE for testing or copy over the end results to a machine running Windows OS.<br>If there is a valid MinGW tool chain (MINGW_TOOLCHAIN) or in the case of OS X tool chain and path in the config.linux/macos.txt file, along with the cross compiler switch in the transcc command line. The cross compiler tools usually follow the naming convention of CPU-COMIPLER-TOOL e.g i686-w64-mingw32-g++. Hench MINGW_TOOLCHAIN is use to form part of the resulting command.<br>Transcc forces the ENV_HOST to winnt to trick the parser to not ignoring the winnt target directives as longs as the above checks out ok.<br>It's then a case of building the command line for use with a modified Makefile as in the case of glfw and forcing the destination directory to gcc_winnt. <br>Then once compiled, append .exe to the resulting executable and if the run option is used, then execute the result using WINE.<br>If there is no cross compiler then a normal host build is created. <br><br></td></tr></table><br>
<a name="2114388"></a>

<a name="2114387"></a>

<a name="2114385"></a>

<a name="2114386"></a>

<a name="2114384"></a>

<a name="2114383"></a>

<a name="2114405"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK new upload to dropbox. I have trimmed it down a little by removing a few things that haven't really messed with and added the mac os tool chain. TED OS X was built with Qt5.5.1.<br><a href="https://www.dropbox.com/s/c2ttafocq5b6ahl/monkey-86c-dawlane-mod-crosscomp.zip?dl=0" target="_blank">https://www.dropbox.com/s/c2ttafocq5b6ahl/monkey-86c-dawlane-mod-crosscomp.zip?dl=0</a><br><br>@Mark: If you are adding #GLFW_GCC_CC_OPTS="", #GLFW_GCC_LD_OPTS="". Then I would suggest scanning for those compiler options that deal with binary code generation. You could then append either 32 or 64 bit to the output directories before the build. But I think that passing such an options like -march=32 etc directly as an argument to transcc would allow you to trap those arguments for a bit of command line reprocessing before passing it over to the native compiler tools chain. Think along the line of being able to pass selected arguments along with a VS project to MSBuild. <br><br></td></tr></table><br>
<a name="2114409"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually, I've gone for #MINGW_GCC_MSIZE_WINNT="32", and have appended this to output Debug, Release dir name. I had tried this earlier, but it crapped out on glfw2 as the makefile was still building glfw .o's into the glfw src dir. This turned out to be fixed in the glfw3 makefile though, so I've fixed the glfw2 one based on that.<br><br>I've left #GLFW_GCC_CC_OPTS and #GLFW_GCC_LD_OPTS in there though for advanced users, although I haven't attempted to detect when they change, which means if you play with these you'll have to delete your build dir.<br><br>Anyway, I promised people an xmas monkey2 demo so I better get back to that! <br><br></td></tr></table><br>
<a name="2114410"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JaviCervera</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looking forward to that demo, Mark. I have already ported my Vortex 3D lib to C++, and will start working on integrating it with Monkey2 soon :) <br><br></td></tr></table><br>
<a name="2114443"></a>

<a name="2114444"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt;  I have already ported my Vortex 3D lib to C++, and will start working on integrating it with Monkey2 soon :)<br><br>I'd wait a while before attempting that! Turns out interfacing with C++ will be quite tricky... <br><br></td></tr></table><br>
<a name="2114448"></a>

<a name="2114449"></a>

<a name="2114451"></a>

<a name="2114452"></a>

<a name="2114453"></a>

<a name="2114454"></a>

<a name="2114455"></a>

<a name="2114456"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Could you explain/elaborate on that please, Mark?<br><br>I mean, a Class and its (Private/Virtual/Protected) Method's map to a class and (Private/Virtual/Protected) methods,<br>simple data types (signed/unsigned) map to simple data types (signed/unsigned), and braces map to begin/end keywords.<br><br>Interfacing to other languages (C++/Java/C#/JS) may be the key, so I'm just wondering what could be the problem. <br><br></td></tr></table><br>
<a name="2114458"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> The main problem is with c++'s funky type system.<br><br>For example, there are (at least) 3 way to pass a struct in c++:<br><br>void update( T t );<br>void update( T &amp;t );<br>void update( const T &amp;t );<br><br>2 of these don't map to monkey2's struct and will generate c++ errors when you build.<br><br>There are even more ways to pass pointers:<br><br>void update( T*p );<br>void update( const T*p );<br>void update( auto_ptr&lt;T&gt; p );<br>void update( shared_ptr&lt;T&gt; p );<br>void update( unique_ptr&lt;T&gt; p );<br>void update( weak_ptr&lt;T&gt; p );<br><br>C++ also returns 'structs' in a different way from monkey2, and monkey2 has no notion of c++'s 'const' methods, so it's impossible to override a native const method.<br><br>I think the only sane solution is to use a 'bridge' class (that extends monkey2's bbObject class) to interface with native classes (at least, those with virtual methods).<br><br>I wrote such a bridge class by hand for the litehtml lib, and it wasn't too bad. It's possible to use multiple inheritance in c++ to make it easier, as you can write a c++ class that extends both bbObject and the native object it represents. Simple methods can be directly used via Extern, while more complex methods that take 'weird types' will need to be overridden by a monkey2 compatible method.<br><br>I would definitely like to see this process automated, but I don't think it should be part of monkey. It's bound to involve lots of nasty special case code that will be constantly changing to meet the needs of new APIs with new weird pointer types. Instead, I think an external tool that generates glue classes would be a better approach. <br><br></td></tr></table><br>
<a name="2114459"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the explanation, and Merry Christmas! <br><br></td></tr></table><br>
<a name="2114462"></a>

<a name="2114463"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Personally Mark I think that adding more preprocessor variables such as #MINGW_GCC_MSIZE_WINNT="32", #MINGW_GCC_MSIZE_LINUX="32" is over kill for such a thing and would start to get a little confusing. I think that a lot of people would prefer to just flip a combo box in an TED or any other IDE to select a CPU architecture to build, and avoid having to remember or look up a particular option as well as typing it. I will be looking at adding a combo box to TED for use with the version of transcc I have written.<br><br>As for building 32/64bit with Visual Studio and XCode. All it should need are a few more build configurations with the appropriate naming to the GLFW solution and casedConfig appended correctly in transcc. Hence one simple parameter pass as an option in the transcc command line and the appropriate modifications to the builders source code, then all should be good. I will look at doing this as well at some point over Christmas. <br><br></td></tr></table><br>
<a name="2114476"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JaviCervera</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; I'd wait a while before attempting that! Turns out interfacing with C++ will be quite tricky...<br><br>There is a C-based procedural interface, which is what I am going to bridge to Monkey2. <br><br></td></tr></table><br>
<a name="2114512"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EdzUp MkII</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yup C++ is quite a tricky beast to be honest, MonkeyX2 is looking mighty fine :).<br><br>Compiling 64bit builds of monkeyX games and apps will be a godsend to loads and would future proof monkeyX for years to come :D <br><br></td></tr></table><br>
<a name="2115111"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok. I got to have a play at implementing a few things and I think I have got it working correctly without any problems.<br>What have I done.<br>The Visual Studio 2013 project files for GLFW have been modified to allow 32/64bit compilation (I've thrown in a few 2015 as well). These should work for 64bit compilation if you are running a 64bit version of Windows. I haven't gone into the compiler side for Window 32bit and frankly I think that Visual Studio over complicates things. A phrase containing these words springs to mind when I use VS if you are not familiar with it .... "yourself","rope","enough","hang" and "to".<br><br>I have added four GLFW configure directives and a parameter option to transcc (-msize=) for the same effect as the last one in the list, but use of f GLFW_GCC_CC/LD_OPTS and GLFW_DESKTOP_MSIZE will override it.<br>#GLFW_GCC_CC_OPTS<br>#GLFW_GCC_LD_OPTS<br>#GLFW_GCC_LDLIBS_OPTS<br>#GLFW_DESKTOP_MSIZE<br><br>The first three are Linux and Windows specific to GCC/MinGW. And are for use by advanced users, but there is a simple check for ambiguous use of -m32 and -m64 in CC and LD.<br>The last is specific to Linux and Windows using both MinGW and Visual Studio, using a compiler that can generate 32/64bit code.<br>I have not looked into OSX or into passing options to MSBuild (yet). But I think the names GLFW_XCODE_OPT and GFLW_VSTUDIO_OPT would be appropriate. <br><br>I have still left the ability to use a MinGW cross compiler intact.<br><br><a href="https://www.dropbox.com/s/89d0l51uuu6z734/monkey-86c-dawlane-mod-beta.zip?dl=0" target="_blank">https://www.dropbox.com/s/89d0l51uuu6z734/monkey-86c-dawlane-mod-beta.zip?dl=0</a><br><br>At some point I will have to get the sources onto Github.<br>EDIT: <a href="https://github.com/dawlane/dawlane-monkeyx-custom" target="_blank">https://github.com/dawlane/dawlane-monkeyx-custom</a> <br><br></td></tr></table><br>
<a name="2114747"></a>

<a name="2114938"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Soap</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Mark, could you update the WinRT target to VS 2015 too? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
