<!DOCTYPE html><html lang="en" ><head ><title >Joystick detection</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Joystick detection</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Joystick detection</a><br><br>
<a name="2070961"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sensei</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Any idea how to go about detecting a joystick on a target/platform?<br><br>Because of the way I've implement control in my game, I currently have 4 control methods in place that change/set the same variables for control, ie ouya, android, keyboard, joystick.<br>However, I was hoping there would be a way to detect a joystick, no matter which platform (if possible) to allow that to be used instead of keyboard (for example on XNA/GLFW builds).<br>At the moment I basically use this code logic:<br><br><pre class=code>
  Method getControls:Void()
    #If OUYA="1"
      updateOuyaControls()
    #ElseIf TARGET="android"
      updateAndroidControls()
    #ElseIf TARGET="html5"
      updateKeyboardControls()
    #Else
      updateKeyboardControls()
      updateJoystickControls()
    #End
  End
</pre><br><br>So for everything else it runs keydowns and joydowns which is handy as you can use both/either controls if you have them :) <br><br></td></tr></table><br>
<a name="2070960"></a>

<a name="2070976"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Markus</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> its better you have a dialog where the user can press a button<br>and then you memory the unit id.<br>i can't see a enum command for input devices in monkey. :(<br><br>mixing all input devices (key+mouse+joy) together can result in problems. <br><br></td></tr></table><br>
<a name="2070977"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ElectricBoogaloo</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Indeed, just yesterday I attempted to plug in a decade old "Windows 98 compatible!" joystick into my system, only to have my game freak out a bit, and kinda lock itself up, because the joystick was sending incredibly dodgy signals.<br><br>:\<br><br>With OUYA, you've got a better range of compatibility, and until I plugged that particular joystick in, everything's been running tickity-boo.  I'd say it's more a case of "Don't try using that old joystick you found lying in your drawer" than it is "OOOPS!! I KANT KODE GUDLY!!"<br><br>I honestly wouldn't worry about trying to achieve an "Anything Goes" style of brute-force coding.  It doesn't seem to cause too much of an issue, as long as you then account for everything, and double check that it works properly.  Be sure you leave nothing "Click Only", and have fallback buttons for everything.<br><br>If anything at all fails, the OUYA Review Team seem amazingly good at testing your games for you, too.  Their feedback to me, so far, has been outstanding. <br><br></td></tr></table><br>
<a name="2070980"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sensei</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks guys. I was just hoping to detect first, then in the menu, be able to provide appropriate text, " press space to start" or "push fire to start" based on if a joystick was detected. The ouya, android and html5 are covered as can be seen. The "issue" crops up when you compile for glfw or xna.<br><br>Congrats on your Ouya game @electricboogaloo.<br>I should try it, as I loved it on html5. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
