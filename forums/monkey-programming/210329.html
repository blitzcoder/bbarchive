<!DOCTYPE html><html lang="en" ><head ><title >Web-based IDE for Monkey-X</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Web-based IDE for Monkey-X</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Web-based IDE for Monkey-X</a><br><br>
<a name="2115242"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sensei</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Any idea if there is such a thing?<br><br>I've got myself a ChromeOS laptop and was hoping to use it for dev work when using it :) <br>Obviously HTML5 target only is all I am wanting really. <br><br></td></tr></table><br>
<a name="2115248"></a>

<a name="2115249"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nullterm</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nope, but that would be pretty cool.<br><br>You'd have to figure out some way of running a web based IDE and remote server on a Win/Mac/Linux box that could run the Monkey compiler tools remotely, then show the resulting HTML5 game.  <br><br>Something like this: <a href="https://ideone.com/" target="_blank">https://ideone.com/</a> <br><br></td></tr></table><br>
<a name="2115253"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >k.o.g.</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I started and builded "transcc" with emscripten, with that i was able to build HTML5 Apps over the browser :)<br>But my idea was, to connect Dropbox, but its to slow over HTTP Request, so i freezed the project sorry :/ <br><br></td></tr></table><br>
<a name="2115258"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImmutableOctet(SKNG)</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Did nobody see what I did? Really? I'll admit, I did just sort of let it fall off the face of the earth. <a href="http://www.monkey-x.com/Community/posts.php?topic=10294#114418" target="_blank">I <i>ported</i> TransCC (Monkey's compiler) to JavaScript leveraging its JS translation capabilities</a>. It's Monkey, but in your browser. For local files, that's a bit trickier, but totally doable.<br><br>With that in mind, there's no IDE / good text editor. That's the real issue, but the backend is done already. Excluding network overhead, the compilation process is very quick in Chrome and Firefox. I've looked at Ace so far, but I can't use it without putting in some work. I'd need to fix the regular expression in the TextMate/Sublime language files, made by the community. <br><br></td></tr></table><br>
<a name="2115257"></a>

<a name="2115256"></a>

<a name="2115255"></a>

<a name="2115254"></a>

<a name="2115260"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TheRedFox</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> @SKNG WebCC is cool indeed!<br><br>Would be nice if we could have it codepen.io style, with the various screen layout options. <br><br></td></tr></table><br>
<a name="2115269"></a>

<a name="2115270"></a>

<a name="2115271"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> @ImmutableOctect -- try <a href="https://ace.c9.io/" target="_blank">ACE.js</a>. It's easy to use and worked well for my attempt where I had the compiler running on a remote Linux server:<br><br><a href="http://www.hi-toro.com/monkeypop/" target="_blank">http://www.hi-toro.com/monkeypop/</a><br><br><b>Please note: this won't run any code as the remote server is no longer running!</b> You will get a 'TV static' screen if you attempt to run the code, though -- that's a pre-built Monkey app. Might be slow on a phone as it downloads 1MB+ of images...<br><br>I really wanted it running in JS, though, like you've done! (Also, I saw it -- replied on the Blitz forum!) <br><br></td></tr></table><br>
<a name="2115268"></a>

<a name="2115276"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sensei</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah that's amazing @ImmutableOctect. I love codepen and that type of editor would indeed be amazing, but ACE as an editor would work just fine! It would be great if more people could get involved in a webCC/web editor version of Monkey-X :)<br><br>Monkey Pop! looks amazing @DruggedBunny. Any way you could provide more information on how you made it work with a remote server? <br><br></td></tr></table><br>
<a name="2115278"></a>

<a name="2115279"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImmutableOctet(SKNG)</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> @DruggedBunny: Did you write the "mode" file yourself, or generate it? Or did someone else do this, and I never heard about it? The two reasons I didn't use Ace sooner were licensing (Which isn't really a problem at this point), and broken regular expression in the files it generates from TextMate's format.<br><br>Assuming you don't mind, I'm seriously thinking about using this file (Or a modified version of it) in WebCC. This would help with the need for an in-browser editor.<br><br><b>This reminds me; to everyone here: <a href="http://www.monkey-x.com/Community/posts.php?topic=10294#115277" target="_blank">What modules should I add to my distribution of WebCC?</a></b> <br><br></td></tr></table><br>
<a name="2115283"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> @IO: It was <a href="http://www.monkey-x.com/Community/posts.php?topic=4715&amp;post=85266&amp;view=all#85266" target="_blank">samowitsch</a> who did the ace.js mode file (see link) -- regex is definitely not my thing! Pretty sure he'd be happy for it to be used, but can't obviously say for sure. I see I forgot to credit him (sorry, samowitsch, though I'd covered everyone!), but it was never made public, mainly for fear of server costs in event of hackery/DDOS, on the assumption someone would figure out the remote IP, which is why your js port is completely awesome!<br><br>How do you handle things like images, by the way? I had some pre-selected images on my front-end server (the above link), so the user would be able to LoadImage any of those (and only those) using the local filename (eg. "catgirl.png"), plus copies of same on the remote server so Monkey wouldn't complain during the build process, though I only needed to return main.js to the front-end page after that. Not sure how you would load from local files in the purely js setup, so I'm curious! Do they have to be placed in a special location?<br><br>EDIT: samowitsch's ace.js was on Github, going by that thread, so would be distributable one way or another -- seems to have gone now, though.<br><br>EDIT 2: This appears to be samowitsch's Github copy of ace, renamed by me at some point, mainly just uploaded as it contains the LICENSE file, but I think the slightly-tweaked files on monkeypop will be the latest:<br><br><a href="http://www.hi-toro.com/monkeypop/ace-monkey.7z" target="_blank">http://www.hi-toro.com/monkeypop/ace-monkey.7z</a> <br><br></td></tr></table><br>
<a name="2115282"></a>

<a name="2115281"></a>

<a name="2115287"></a>

<a name="2115288"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImmutableOctet(SKNG)</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> @DruggedBunny:<br><br>Thank you, I'll be sure to set up Ace, and see how that goes. I don't have as much free time, but I'll definitely work on this.<br><br>On to the explanation:<br><br>I essentially built a fully functional file-system. It asks for files only if they're not available locally. So, if it's not there locally, and the server's not coming back with anything, the file doesn't exist. I did some other work on things like folder behavior, but that's the gist of it.<br><br>For custom resources and source files, I simply modified the target and Mojo implementation. Instead of using 'XMLHttpRequest' objects, or using DOM's 'src' properties, it has the browser generate a URI for the file, making it a tangible resource. This URI layer mainly applies to things like images and sounds (Untested; should work from what I remember). For normal loading of data, the target's methods are modified to simply retrieve the file's contents in the correct format. Finally, you have 'LoadString', which will take the file's content, and convert as needed. The current format is string-based, but the '<a href="https://github.com/Regal-Internet-Brothers/virtualos" target="_blank">regal.virtualos</a>' module supports several storage techniques (Strings, Base64, 'ArrayBuffers', etc).<br><br>Things related to configuration across multiple uses are stored with specific symbols, but are effectively just map/dictionary entries, which are properties in JavaScript.<br><br>As for giving files to the file-system, you press an invisible button (CSS trick) behind the <b>+</b> graphic, and that gives you the right to read the file the user picks. I then take the extension of the file, and use that to sort where it goes. So, "monkey" files go to a specific folder where your main file lives, and other resources go to its "data" folder. This is all done by reading the entire file into the file-system, similar to how things are downloaded from a server when there's no local entry. Now, add file-version management and response caching, and you have a functional build environment.<br><br>Overall, it's not perfect, but it works really well. Unfortunately, unless I later pre-fetch the remote file-system, the compiler does stall the tab while it's working. This would normally be fine, but on some servers, HTTP requests are slower (DropBox for example). Sadly, this is a synchronous compiler that requires ordered loads, so you can't download in parallel, either. This is why pre-fetching files (Modules) is probably what I'll end up doing. It wouldn't take much work, and it'd improve the experience. This is likely going to be an option later down the road.<br><br>The other details are mostly in <a href="http://regal-internet-brothers.github.io/wccexplain/" target="_blank">the article I wrote</a>, but I imagine you read that beforehand. <br><br></td></tr></table><br>
<a name="2115286"></a>

<a name="2115445"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oopsie, thanks for the write-up! Pretty immense piece of work...<br><br>I think the local caching of modules would be a good idea -- it's really what my front-end did with the images. (Took me a while to realise I could do this instead of sending the whole project back!)<br><br>I did see your article when first posted, but didn't have time to read it then. Might have a go at getting it running myself, so will give it a proper read! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
