<!DOCTYPE html><html lang="en" ><head ><title >What is the best way to wrap text?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >What is the best way to wrap text?</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >What is the best way to wrap text?</a><br><br>
<a name="2035404"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ondesic</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi monkey community.   I was wondering if there was an easy way to wrap text to a certain width with CreateText? <br><br>Thanks <br><br></td></tr></table><br>
<a name="2035410"></a>

<a name="2035411"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shinkiro1</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Split your text into words, after that you loop all words and increase the x-position that changes with the TextWidth() of the word.<br>[monkeycode]<br>splittedText:String[] = yourText.Split (" ")<br>Local xpos:Float<br>Local line:Int<br>For Local i:Int = 0 Until splittedText.Length<br>  xpos += TextWidth (splittedText[i])<br>  If xpos &gt; YOUR_SPECIFIED_LINE_WIDTH<br>    xpos = 0  'Reset the xpos to 0<br>    line += 1  'Go to next line<br>  End<br>  DrawText (splittedText[i], xpos, line*YOUR_LINE_HEIGHT)<br>Next<br>[/monkeycode]<br><br>That's untested but I hope you get the idea. <br><br></td></tr></table><br>
<a name="2035427"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Or use Fontmachine. <br><br></td></tr></table><br>
<a name="2035487"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ondesic</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I downloaded fontmachine but I don't see any properties or funtions to wrap text. <br><br></td></tr></table><br>
<a name="2035632"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ondesic</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have looked for about a day trying to find an easy way to wrap text with fontmachine.  Do I need to calculate things myself, and insert a new line, or is there an easiesr way? <br><br></td></tr></table><br>
<a name="2035635"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> For word wrapping when using FontMachine, Taiphoz added an overloaded method here to do it:<br><br><a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=3207#33908" target="_blank">http://www.monkeycoder.co.nz/Community/posts.php?topic=3207#33908</a><br><br>Also check out his extended BitMap class here:<br><br><a href="http://code.google.com/p/monkey-touch/source/browse/trunk/main.monkey" target="_blank">http://code.google.com/p/monkey-touch/source/browse/trunk/main.monkey</a><br><br>[monkeycode]#Rem<br>	summary: Extension of Font Machine's BitmapFont<br>	Created so that others dont need to hack their font machine module.<br>	Should be removed soon once Ziggy writes his own more efficiant version.<br>	<br>#END<br>Class BitmapFont2 extends BitmapFont[/monkeycode] <br><br></td></tr></table><br>
<a name="2035633"></a>

<a name="2035634"></a>

<a name="2035642"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ondesic</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, I'll try it out <br><br></td></tr></table><br>
<a name="2046229"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ondesic</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Coming back to this, I realized that if you add a new line, it breaks the code and the text backs up on itself.  Any solutions (besides not using ~n :)? <br><br></td></tr></table><br>
<a name="2046230"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ondesic</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey, I figured out a nice solution to make wrapping work with "~n".<br><br>My change to the code adds two small lines.  Just replace the SplitLines Method with below.  Hope this helps someone:<br><br><pre class=code>
Method SplitLines:String[] (_text:String, _width:Int)
	'new addition
	_text = _text.Replace("~n", "~n ")
		
	Local Tai_textdata:String[] = _text.Split(" ")
		
	'temp vars for building lines.
	Local Tai_tmptext:String=""
	Local Tai_words:Int=Tai_textdata.Length()
	Local Tai_textlines:String[Tai_words] 'its a fudge. but number of lines will possibly match number of words.
		
	Local Tai_line:Int = 0
		
	For Local Tai_word:Int = 0 To Tai_words-1
		
		Tai_tmptext+=Tai_textdata[Tai_word]+" "
			
		If Self.GetTxtWidth(Tai_tmptext) &lt; _width And Tai_tmptext.Contains("~n") = False 'added new condition
			Tai_textlines[Tai_line]=Tai_tmptext
		Else
			Tai_line+=1
			Tai_tmptext=(Tai_textdata[Tai_word]+" ")
		End If
			
	Next
		
	Return Tai_textlines
End Method
</pre> <br><br></td></tr></table><br>
<a name="2046260"></a>

<a name="2046261"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> ondesic, you mentioned "CreateText". Are you talking about fantomEngine here? Mojo does not have a CreateText command. If it is about fE, then look at the MultilineText example. <br><br></td></tr></table><br>
<a name="2046397"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ondesic</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> My original post started that way a while ago, but I am using FontMachine in the example above. <br><br></td></tr></table><br>
<a name="2046404"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry, i should have paid more attention to the timestamp. <br><br></td></tr></table><br>
<a name="2046406"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ondesic</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Darn, what I would really like is to be able to use AngelFont with it's DrawHTML() method BUT alow the text to have "~n" in it.<br><br>Right now even if I use the SimpleTextBox(), if I have a newline anywhere,the text is just drawn on one line over and over again overlapping itself and making the text a muttle.<br><br>Any help would sure be appreciated. <br><br></td></tr></table><br>
<a name="2046409"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe contact Ziggy directly regarding Fontmachine. <br><br></td></tr></table><br>
<a name="2046410"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> ondesic - have you tried the latest version of AngelFont?<br><a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=141" target="_blank">http://www.monkeycoder.co.nz/Community/posts.php?topic=141</a> <br><br></td></tr></table><br>
<a name="2046424"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ondesic</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you.  I saw that the first post was a year ago so I thought it was older.  It seems to work now.  Perfect!!! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
