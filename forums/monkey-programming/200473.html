<!DOCTYPE html><html lang="en" ><head ><title >Stable FPS?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Stable FPS?</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Stable FPS?</a><br><br>
<a name="2003618"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rixarn</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>I've just started to play with monkey, but what puzzles me is that no matter what the refresh rate is, 30 or 60... it doesn't stays stable, at random intervals the FPS drop a little bit for no apparent reason (i'm talking here about no rendering but the text for the FPS count, and no update routines but the FPScount) and then goes it back to an average of 30. Laptop with RADEON HD 3450. <br><br>I knew that flash was slow and that HMTL5 is just starting...but even with that old laptop i can make it run starcraft 2, at the lowest settings and it's playable. <br><br>Haven't checked the other targets... Anyways..The point is... i can live with the fact that a flash game or an HTML5 game i make will be small and modest at a steady 30 FPS rate. But having those "lag-like" spikes kills me!<br><br>Any idea how to mask them, or fix them?<br><br>:) <br><br></td></tr></table><br>
<a name="2003621"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sknightly</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> In the Monk help section, look under Sample Programs, James Boyd, Delta Timing.<br><br>Delta timing will mask variations in framerate - something which is quite common on all sorts of platforms. <br><br></td></tr></table><br>
<a name="2003622"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do you refresh also the OnRender() with the 60Hz?<br><br>If you reach 100% computer performance you will "loose" some Timer-Ticks, This will result in unsteady FPS.<br><br>Already the CLS command needs 40% of the performance. So if you write a code, where the OnRender() runs only if necessary, this might be helpful.<br><br>See my APP here: ARCA-LOW which demonstrates low consumption of performance.<br><br>See the code on:<br> <br><a href="http://www.blitzforum.de/forum/viewtopic.php?t=36794" target="_blank">http://www.blitzforum.de/forum/viewtopic.php?t=36794</a><br><br>(the description is german, but the code is "international") <br><br></td></tr></table><br>
<a name="2003644"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rixarn</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> @sknightly<br><br>I'll check it out then, thanks :) The only thing that worries me about delta timing is that you need to use floating point coordinates... and because of that, there is a noticeable "spike" when coordinates are rounded... (this is just noticeable in any tile based game that uses delta timing...<br><br>@Midimaster<br><br>Well, i set the refresh rate in the onCreate method of the main app class...<br>and why is the CLS command taking 40% of the performance? That's overkill!<br><br>i'll check your code then... thanks! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
