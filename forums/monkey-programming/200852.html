<!DOCTYPE html><html lang="en" ><head ><title >Interface/module issue</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Interface/module issue</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Interface/module issue</a><br><br>
<a name="2006896"></a>

<a name="2006898"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TwistedSage</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi. I'm new to Monkey and I've ran into an issue with interfaces and imports.<br><br>If I create a module with an interface and another with an implementation class and I import both and then try to create an instance of the object it says it can't be found.<br><br>Thanks in advance :)<br><br>OJ<br><br>Sample code below (code to reproduce)<br><br>test.monkey<br><pre class=code>
Strict

Import testinterface
Import testclass

' Main app entry point
Function Main:Int()

	Local tc:TestInterface = New TestClass
	tc.Test

End
</pre><br><br>testinterface.monkey<br><pre class=code>
Interface TestInterface

	Method Test:Void()
	
End
</pre><br><br>testclass.monkey<br><pre class=code>
Class TestClass Implements TestInterface

	Method Test:Void()		
	
	End
End
</pre> <br><br></td></tr></table><br>
<a name="2006897"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rixarn</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not sure, because i don´t have monkey right now... but try adding an import.testinterface in the testclass.monkey file <br><br></td></tr></table><br>
<a name="2006899"></a>

<a name="2006900"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TwistedSage</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Already tried that. No go :(<br><br>Also, I suspect Monkey just expands include files directly in the source, so it should be alright without the import ;) <br><br></td></tr></table><br>
<a name="2006901"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TwistedSage</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Already tried that. No go :(<br><br>Also, I suspect Monkey just expands include files directly in the source, so it should be alright without the import ;) <br><br></td></tr></table><br>
<a name="2006902"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TwistedSage</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Edit causes doublepost? That's odd ;) <br><br></td></tr></table><br>
<a name="2006903"></a>

<a name="2006904"></a>

<a name="2006905"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TwistedSage</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wierd stuff is going on here. Now it works for my example.<br>I shuffled some code around and added an 'Import testinterface' to the testclass.monkey file. And now it works?<br><br>Another related issue I found is that I get the same error if I try to use uppercase in modules (even on windows).<br><br>There is definitely something going on with class/modules/casing here :)<br><br>Could it be that naming your module the same as your class causes trouble?<br><br>Fact: You need to import interfaces in the module file containing your class.<br><br>Problem solved for now. Thank you :) <br><br></td></tr></table><br>
<a name="2006918"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dima</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> testclass.monkey is trying to implement something it has no clue about, so from TestClass's perspective there is no TestInterface, thus you have to import the file from anywhere that wants to know about the content of that file. Each file gets compiled separately, so working as intended. <br><br></td></tr></table><br>
<a name="2006962"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TwistedSage</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes. Actually the problem in my main project is that you use uppercase import names and theres a class of the same name all hell breaks loose :) <br><br></td></tr></table><br>
<a name="2006991"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Also, I suspect Monkey just expands include files directly in the source, so it should be alright without the import ;)<br> <br></div>It does not. Each "module" (file) needs a complete scope of what's "visible" and what not.<br>test.monkey could do with importing only testclass.monkey, but testclass.monkey shoud import testinterface.monkey <br><br></td></tr></table><br>
<a name="2007098"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TwistedSage</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ahh that's neat. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
