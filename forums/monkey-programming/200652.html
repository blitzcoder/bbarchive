<!DOCTYPE html><html lang="en" ><head ><title >hello world nintendo DS</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >hello world nintendo DS</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >hello world nintendo DS</a><br><br>
<a name="2005031"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I managed to compile a hello world program for nintendo DS<br><br>using monkey..<br><br>the only difficulty was that the makefile didnt like spaces in the path to the source code,<br><br>is there a way of getting around this?<br><br>I was running make from the windows command line that is kind of like a dos emulator (is that why?) <br><br></td></tr></table><br>
<a name="2005040"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Put the full path to the file into double quotes. <br><br></td></tr></table><br>
<a name="2005045"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nintendo DS? Which target did you use? GLFW? <br><br></td></tr></table><br>
<a name="2005051"></a>

<a name="2005052"></a>

<a name="2005053"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Put the full path to the file into double quotes. <br></div><br>well im calling the makefile.. all im doing is <div class="quote"> Execute "make" <br></div> <br><br>in the makefile it says:<br><br>TARGET		:=	$(notdir $(CURDIR))<br><br>somehow i have to do something to CURDIR <br>any ideas?<br><br><div class="quote"> Nintendo DS? Which target did you use? GLFW? <br></div><br>I made a new target <br><br>each target is a class that extends the 'target' class<br><br><div class="quote"> Import target<br>Class ndsTarget Extends Target<br><br>	Method Begin()<br>		ENV_TARGET="nds"<br>		ENV_LANG="cpp"<br>		_trans=New CppTranslator<br>	End<br>	<br>	Method MakeTarget()<br><br>		Select ENV_HOST<br>		Case "winnt","macos"<br>		<br>			CreateDir CASED_CONFIG<br>			CreateDataDir CASED_CONFIG+"/data"<br>			<br>			Local main$=LoadString( "source/main.cpp" )<br>			main=ReplaceBlock( main,"${BEGIN_CODE}","${END_CODE}",_trans.PostProcess( app.transCode ) )<br>			SaveString main,"source/main.cpp"<br>			<br>			If OPT_BUILD<br>			<br>				<br>					Execute "make"<br>	<br>			Endif<br>                        If OPT_RUN<br>				Execute "c:/desmume/desmume.exe nds.nds"<br>			Endif<br>		End<br>	End<br>End<br><br> <br></div><br><br>Its pretty simple, because those guys at devkitpro already made the make file.<br><br><br>Thing is.....mojo isnt done, this will take some work,<br>so there is no input, graphics or sound :)<br><br>The guys at devkitpro created a simulation of a console on the DS so I was able to get this:<br><img src="http://i663.photobucket.com/albums/uu353/Slenkar/nds_38_6798.png"><br><br>from this source:<br><pre class=code>Function Main()
Print "hello"
Local stringy:String="helloh"
If stringy.EndsWith("h")
Print "yes"
Endif

End</pre><br><br>if your game is in a folder that has no spaces in its path monkey even opens the NDS emulator and loads in your nds file automatically! <br><br></td></tr></table><br>
<a name="2005047"></a>

<a name="2005048"></a>

<a name="2005049"></a>

<a name="2005050"></a>

<a name="2005062"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> cool <br><br></td></tr></table><br>
<a name="2005066"></a>

<a name="2005067"></a>

<a name="2005068"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> its quite daunting, getting a mojo target going, not sure where to start<br><br>the creation of the plain DS target was much easier,<br><br>I though it was going to be the other way round ! :) <br><br></td></tr></table><br>
<a name="2005169"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> here a sample NDS file with input working:<br><br><a href="http://www.mediafire.com/?4t7ahya746wi5wk" target="_blank">http://www.mediafire.com/?4t7ahya746wi5wk</a> <br><br></td></tr></table><br>
<a name="2005203"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hima</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Awesome. I'd love to be able to build my game for NDS! I guess you have to add new command in order to handle the two displays too, right? <br><br></td></tr></table><br>
<a name="2005225"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes probably <br>:)<br><img src="http://i663.photobucket.com/albums/uu353/Slenkar/nds.png"><br><br>got drawline to work :)<br><br><pre class=code>
Strict
Import mojo



Class gayme Extends App

Method OnUpdate:Int()
Local hitty:Bool
If MouseHit(0)
Print "hit"
Print MouseX()
Print MouseY()
 hitty=True
Endif
'If MouseDown(0)
'Print "down"
'Print MouseX()
'Print MouseY()
'hitty=True
'Endif

Return 0
End Method
Method OnRender:Int()
Cls(255,255,255)
DrawLine(0,0,150,50)
'Print "draw stuff"
Return 0
End Method

Method OnCreate:Int()
Print "created"
Return 0
End Method
End Class





Function Main:Int()
Print "hello"
Local stringy:String="helloh"
If stringy.EndsWith("h")
Print "yes"
Endif
New gayme
Return 0
End</pre> <br><br></td></tr></table><br>
<a name="2005223"></a>

<a name="2005224"></a>

<a name="2005209"></a>

<a name="2005301"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> does anyone know C?<br><br>There is a function in the DS:<br><br>void glLoadMatrix4x4(const m4x4 *m) <br><br><br>m4x4 is a struct<br><br>the struct has an array of ints (which is the matrix)<br><br>so how would I call the function?<br><br>I tried this:<br><pre class=code>
	struct m4x4 ma;
	ma.m[0]=ix;
	ma.m[1]=iy;
	ma.m[4]=jx;
	ma.m[5]=jy;
	ma.m[12]=tx;
	ma.m[13]=ty;
	
	
	if( tformed ){
		glLoadMatrix4x4(&amp;ma);
</pre><br><br><br>but it gives a lot of warnings in the compiler:<br><pre class=code>
c:/nds/stdtest.build/nds/source/main.cpp:1313:14: note: 'ma.m4x4::m[14]' was declared here
c:/devkitPro/libnds/include/nds/arm9/videoGL.h:820:27: warning: 'ma.m4x4::m[15]' may be used uninitialized in this function
c:/nds/stdtest.build/nds/source/main.cpp:1313:14: note: 'ma.m4x4::m[15]' was declared here</pre><br><br>and the screen goes blank when I try to scale it (unlike the HTML5 version of the same code)<br><br>Am I doing anything wrong? <br><br></td></tr></table><br>
<a name="2005447"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> the project seems doomed, whenever i try to set the matrix it always acts the same whatever numbers i put in <br><br></td></tr></table><br>
<a name="2005490"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok i got the matrix to work, but the fling demos crash the DS (hardware and emulation)<br>The first demo however, never crashes, you can even reset it. <br><br></td></tr></table><br>
<a name="2005514"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Loofadawg</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> One step forward, two steps back.  You'll get worked out though. <br><br></td></tr></table><br>
<a name="2005526"></a>

<a name="2005527"></a>

<a name="2005528"></a>

<a name="2005529"></a>

<a name="2005530"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> yup you were right, <br><br>I was still using V35 <br><br>I think it was the GC thrash crash,<br><br>All the demos seem to work<br><br><img src="http://i663.photobucket.com/albums/uu353/Slenkar/nds-2.png"><br><br>It goes about 0.01FPS on this demo but it will be useful for games with less stuff on the screen<br><br>It crashes when i press 'B' though <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
