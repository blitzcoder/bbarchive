<!DOCTYPE html><html lang="en" ><head ><title >Difficulty Dividing</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Difficulty Dividing</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Difficulty Dividing</a><br><br>
<a name="2126086"></a>

<a name="2126087"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ewancordiner</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="https://drive.google.com/drive/folders/0B4SZhjiGhAlAZ1UybWptWFlqcms?usp=sharing" target="_blank">https://drive.google.com/drive/folders/0B4SZhjiGhAlAZ1UybWptWFlqcms?usp=sharing</a><br><br>I am having difficulty within my clicking game as the update rate is set at 60. What I want to do is have auto going up once per second, so for example if auto was 1, the clicktotal would go up by one each second, not sixty. I have tried a number of different ways to implement this however I have reached no compromise. The updater rate needs to be 60 or relatively high as otherwise the clicking element will not work very well. <br><br></td></tr></table><br>
<a name="2126088"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I haven't looked at the code, but basically use something like this:<br><br>clickTotal = ( Millisecs() - startingMillisecs ) * auto / 1000 <br><br>Don't use the number of updates to count, check the elapsed time during each update.  The above will work even if updates are slow or irregular. <br><br></td></tr></table><br>
<a name="2126094"></a>

<a name="2126095"></a>

<a name="2126097"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ewancordiner</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Gerry, that's really helpful :) <br><br></td></tr></table><br>
<a name="2126101"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ewancordiner</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Gerry, the code that you showed me works well for the automatic increasing, however it keeps making the actual user clicks reset to 0 for some reason. Not sure why this is. <br><br></td></tr></table><br>
<a name="2126102"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Phil7</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think you have to add your userClick counter to the autogenerated clicks:<br>clickTotal = ( Millisecs() - startingMillisecs ) * auto / 1000 + userClicks <br><br></td></tr></table><br>
<a name="2126103"></a>

<a name="2126104"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ewancordiner</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> That still doesn't appear to work, the automatic increase works but the clicking itself locks at what the current number is, e.g. it goes up then straight back down again. <br><br></td></tr></table><br>
<a name="2126107"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Phil7</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> could you post your code of OnUpdate() in the gamestate? <br><br></td></tr></table><br>
<a name="2126108"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ewancordiner</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's on the Google drive in 0.7 is it not? <br><br></td></tr></table><br>
<a name="2126111"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Phil7</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> there is just mouseclicks = mouseclicks + clicktotal and I couldn't find any of the millisecs stuff. <br><br></td></tr></table><br>
<a name="2126112"></a>

<a name="2126113"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ewancordiner</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I took it out because it didn't work, I'll put it back in for you later. The line I used was <br>[Code] mouseclicks = (Millisecs () - 1 ) *auto / 1000 [/Code] this was in the bit above select game state so that it would be in effect on all pages. <br><br></td></tr></table><br>
<a name="2126115"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Phil7</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Could you put the whole project into a zip file, so I can download and test it easily in a working environment. <br>In about two hours I could help you out with a solution... <br><br></td></tr></table><br>
<a name="2126117"></a>

<a name="2126118"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> The code I wrote just does auto clicks.  If you have separate user clicks, you need to deal with them separately.<br><br>autoClickTotal = ( MilliSecs() - startingMillisecs ) * auto / 1000<br>userClickTotal += UserClicksThisUpdate()<br>clickTotal = autoClickTotal + userClickTotal<br><br><br><br><br>You could also have an ongoing way of counting autoclicks on some frames and adding them to the total, which would be easier in some respect for the future.<br><br><br>autoClickValue += ( Millisecs() - lastMillisecs ) * auto<br>lastMillisecs = Millisecs()<br><br>While autoClickValue &gt; 1000<br>totalClicks += 1<br>autoClickValue -= 1000<br>Wend <br><br></td></tr></table><br>
<a name="2126120"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Phil7</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> too late ;-) <br>I would also prefer the second option. Especially if you want to increase the auto value during the game. <br><br></td></tr></table><br>
<a name="2126123"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ewancordiner</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="https://drive.google.com/file/d/0B4SZhjiGhAlAR3REV1RVemZoMTA/view?usp=sharing" target="_blank">https://drive.google.com/file/d/0B4SZhjiGhAlAR3REV1RVemZoMTA/view?usp=sharing</a> <br><br></td></tr></table><br>
<a name="2126124"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ewancordiner</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just to ask Gerry, what are the starting millisecs and last millisecs you refer to? Should I make that a number? <br><br></td></tr></table><br>
<a name="2126126"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> startingMillisecs is a field for each auto-clickable object.  When the object is created you set it to the current value of Millisecs()  [You'll have to tweak that if you pause the game, or save and reload - these are things that the second method - which doesn't use startingMillisecs - would make easier.<br><br>lastMillisecs is a field your game stores so it can tell exactly how long it was since the last update.  Knowing that, you can tell when enough milliseconds have passed in total that an auto click should be registered. <br><br></td></tr></table><br>
<a name="2126127"></a>

<a name="2126128"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ewancordiner</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think the easiest thing to do would be to start from scratch with these clicking mechanics and then implement them into the main game, currently I am having issue with getting both of them to work at the same time. However I don't know how to do this. <br><br></td></tr></table><br>
<a name="2126129"></a>

<a name="2126130"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Phil7</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just changed some of your variable names, so I can understand the code easier. Hope this is what you wanted it to do...<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
'Importing mojo
Import mojo
Import math
Import angelfont
'GameStates
Const VERSION_NUMBER:Float = 0.7
Const STATE_MENU:Int = 0
Const STATE_GAME:Int = 1
Const STATE_UPGRADES:Int = 2
Const STATE_SHOP:Int = 3
Class ClickingGame Extends App

'Defining variables
	Field font:AngelFont
	'Product Image in Game Library
	Field shoe:Image
	Field rollerblades:Image
	Field scooter:Image
	Field bike:Image
	Field vespa:Image
	Field motorbike:Image
	Field tricycle:Image
	Field cheapcar:Image
	Field honda:Image
	Field mustang:Image
	
	'Shop Image
	'Loading Shop Images
	Field america:Image
	Field switzerland:Image
	Field australia:Image
	Field cambodia:Image
	Field canada:Image
	Field france:Image
	Field germany:Image
	Field iceland:Image
	Field india:Image
	Field uk:Image
	'Where user is on menus
	
	Field image:Image


	'Product Placement
	Field productX:Float = 325.0
	Field productY:Float = 250.0
	
	'Upgrade Cost Location
	Field upgrcostX:Float = 320.0
	Field upgrcostY:Float = 400.0
	
	'Upgrade Placement
	Field shopX:Float = 320.0
	Field shopY:Float = 250.0
	'Upgrade Item bought
	Field currentupgradelevel:String = ("shoe")	

	
	'Maths Variables (Upgrades and Shops etc).
	
	'Rollerblade Variables
	Field rollerbladesupgradecost:Int = 100
	Field rollerbladesclick:Int
	Field rollerbladesupgrade:Int = 0
	
	'Scooter Variables
	Field scooterupgradecost:Int = 250
	Field scooterclick:Int
	Field scooterupgrade:Int = 0
	
	'Bike Variables
	Field bikeupgradecost:Int = 625
	Field bikeclick:Int
	Field bikeupgrade:Int = 0
	
	'Vespa Variables
	Field vespaupgradecost:Int = 1562
	Field vespaclick:Int
	Field vespaupgrade:Int = 0
	
	'Motorbike Variables
	Field motorbikeupgradecost:Int = 3905
	Field motorbikeclick:Int
	Field motorbikeupgrade:Int = 0
	
	'Tricycle Variables
	Field tricycleupgradecost:Int = 9762
	Field tricycleclick:Int
	Field tricycleupgrade:Int = 0
	
	'Cheap Car Variables
	Field cheapcarupgradecost:Int = 24405
	Field cheapcarclick:Int
	Field cheapcarupgrade:Int = 0
	
	
	'Honda Variables
	Field hondaupgradecost:Int = 61012
	Field hondaclick:Int
	Field hondaupgrade:Int = 0
	
	'Mustang Variables
	Field mustangupgradecost:Int = 152530
	Field mustangclick:Int
	Field mustangupgrade:Int = 0

	'Integer Variables (((((((((Consistent Numbers Throughout Code))))))))))
	Field dollarsTotal:Int = 0
	Field dollarsPerClick:Int = 1
	Field autoClickTime:Int = 0
	Field lastMillisecs:Int = 0
	Field autoClickAmount:Float = 5
	
	'Boolean Variables 
	Field flagGameStarted:Bool = False
	
	
	'Sound variables
	Field ding:Sound
	
	Field gameState:Int = STATE_MENU

	Method OnCreate()
		'Loading Gamestate
		gameState = STATE_MENU
		SetUpdateRate(60)
		
		'Loading Sounds
		ding = LoadSound("ding.wav")
		'Loading Upgrade Images
		shoe = LoadImage("shoe.png", 1, Image.MidHandle)
		rollerblades = LoadImage("rollerblades.png", 1, Image.MidHandle)
		scooter = LoadImage("scooter.png", 1, Image.MidHandle)
		bike = LoadImage("bike.png", 1, Image.MidHandle)
		vespa = LoadImage("vespa.png", 1, Image.MidHandle)
		tricycle = LoadImage("tricycle.png", 1, Image.MidHandle)
		cheapcar = LoadImage("cheapcar.png", 1, Image.MidHandle)
		honda = LoadImage("honda.png", 1, Image.MidHandle)
		motorbike = LoadImage("motorbike.png", 1, Image.MidHandle)
		mustang = LoadImage("mustang.png", 1, Image.MidHandle)
		image = shoe
		
		
		
		'AngelFont
    	font = New AngelFont()
    	font.LoadFontXml("angel_verdana")
    	
    	font.LoadFontXml("pagedfont")	
	End
	
	
		
	Method OnUpdate()
		If flagGameStarted = True
			autoClickTime += (Millisecs() -lastMillisecs) 'Adding all the UpdateTimes together, but not before the game has started ...
		EndIf
			lastMillisecs = Millisecs()

		While autoClickTime &gt; 1000 '... and then changing the UpdateTime to dollars for 1000 each Amount.
			dollarsTotal = dollarsTotal + autoClickAmount
			autoClickTime -= 1000
		Wend
	
	
		Select gameState
			Case STATE_MENU
			'Registering menu hotkeys'
				If KeyHit(KEY_ENTER)
					gameState = STATE_GAME
					flagGameStarted = True
				End			
			
			Case STATE_GAME
				'Implementing base upgrade system	
				If KeyHit(KEY_ESCAPE)
					gameState = STATE_MENU
				Else If KeyHit(KEY_U)
					gameState = STATE_UPGRADES
				Else If KeyHit(KEY_S)
					gameState = STATE_SHOP
				Else If MouseHit(MOUSE_LEFT)
					dollarsTotal = dollarsTotal + dollarsPerClick
					PlaySound(ding,0, 0)
				Endif
				
			
			
			
			
			
			
			Case STATE_UPGRADES				
				'Cycling Right Through the Products
				If KeyHit(KEY_RIGHT) And image = shoe
					image = rollerblades
				Elseif KeyHit(KEY_RIGHT) And image = rollerblades
					image = scooter
				Elseif KeyHit(KEY_RIGHT) And image = scooter
					image = bike				
				Elseif KeyHit(KEY_RIGHT) And image = bike
					image = vespa			
				Elseif KeyHit(KEY_RIGHT) And image = vespa
					image = motorbike					
				Elseif KeyHit(KEY_RIGHT) And image = motorbike
					image = tricycle
				Elseif KeyHit(KEY_RIGHT) And image = tricycle
					image = cheapcar
				Elseif KeyHit(KEY_RIGHT) And image = cheapcar
					image = honda
				Elseif KeyHit(KEY_RIGHT) And image = honda
					image = mustang
				Endif
				
				'Cycling Left Through the Products
				If KeyHit(KEY_LEFT) And image = rollerblades
					image = shoe
				Elseif KeyHit(KEY_LEFT) And image = scooter
					image = rollerblades				
				Elseif KeyHit(KEY_LEFT) And image = bike
					image = scooter			
				Elseif KeyHit(KEY_LEFT) And image = vespa
					image = bike					
				Elseif KeyHit(KEY_LEFT) And image = motorbike
					image = vespa
				Elseif KeyHit(KEY_LEFT) And image = tricycle
					image = motorbike
				Elseif KeyHit(KEY_LEFT) And image = cheapcar
					image = tricycle
				Elseif KeyHit(KEY_LEFT) And image = honda
					image = cheapcar
				Elseif KeyHit(KEY_LEFT) And image = mustang
					image = honda
				Endif
				
				'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
				'Rollerblades Programming Upgrade'
				'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
				If image = rollerblades And dollarsTotal &gt;= rollerbladesupgradecost And KeyHit(KEY_SPACE) And rollerbladesupgrade = 0
					rollerbladesupgrade = 1
					dollarsPerClick = dollarsPerClick * 2
					dollarsTotal = dollarsTotal - rollerbladesupgradecost
					currentupgradelevel = ("rollerblades")
				'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
				'Scooter Programming Upgrade'
				'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''	
				Elseif image = scooter And dollarsTotal &gt;= scooterupgradecost And KeyHit(KEY_SPACE)
					scooterupgrade= 1
					dollarsPerClick = dollarsPerClick*2
					dollarsTotal = dollarsTotal - scooterupgradecost
					currentupgradelevel = ("scooter")
				'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
				'Bike Programming Upgrade'
				'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''	
				Elseif image = bike And dollarsTotal &gt;= bikeupgradecost And KeyHit(KEY_SPACE)
					bikeupgrade= 1
					dollarsPerClick = dollarsPerClick*2
					dollarsTotal = dollarsTotal - bikeupgradecost
					currentupgradelevel = ("bike")
				'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
				'Vespa Programming Upgrade'
				'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''	
				Elseif image = vespa And dollarsTotal &gt;= vespaupgradecost And KeyHit(KEY_SPACE) 
					vespaupgrade = 1
					dollarsPerClick = dollarsPerClick*2
					dollarsTotal = dollarsTotal - vespaupgradecost
					currentupgradelevel = ("vespa")
				'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
				'Motorbike Programming Upgrade'
				'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''		
				Elseif image = motorbike And dollarsTotal &gt;= motorbikeupgradecost And KeyHit(KEY_SPACE) 
					motorbikeupgrade= 1
					dollarsPerClick = dollarsPerClick*2
					dollarsTotal = dollarsTotal - motorbikeupgradecost
					currentupgradelevel = ("motorbike")
				'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
				'Tricycle Programming Upgrade'
				'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''		
				Elseif image = tricycle And dollarsTotal &gt;= tricycleupgradecost And KeyHit(KEY_SPACE) 
					tricycleupgrade = 1
					dollarsPerClick = dollarsPerClick*2
					dollarsTotal = dollarsTotal - tricycleupgradecost	
					currentupgradelevel = ("tricycle")			
				'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
				'Cheap Car Programming Upgrade'
				'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''		
				Elseif	image = cheapcar And dollarsTotal &gt;= cheapcarupgradecost And KeyHit(KEY_SPACE) 
					cheapcarupgrade = 1
					dollarsPerClick = dollarsPerClick*2
					dollarsTotal = dollarsTotal - cheapcarupgradecost
					currentupgradelevel = ("cheapcar")
				'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
				'Honda Programming Upgrade'
				'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''	
				Elseif image = honda And dollarsTotal &gt;= hondaupgradecost And KeyHit(KEY_SPACE) 
					hondaupgrade = 1
					dollarsPerClick = dollarsPerClick*2
					dollarsTotal = dollarsTotal - hondaupgradecost
					currentupgradelevel = ("honda")
				
				'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
				'Mustang Programming Upgrade'
				'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''	
				Elseif image = mustang And dollarsTotal &gt;= mustangupgradecost And KeyHit(KEY_SPACE) 
					mustangupgrade = 1
					dollarsPerClick = dollarsPerClick*2
					dollarsTotal = dollarsTotal - mustangupgradecost	
					currentupgradelevel = ("mustang")
				Endif					
				
				If KeyHit(KEY_ESCAPE)
					gameState = STATE_GAME
				Elseif KeyHit(KEY_S)
					gameState = STATE_SHOP
				Endif
				
			
			
			
			
			
			
			Case STATE_SHOP		
				If KeyHit(KEY_ESCAPE)
				gameState = STATE_GAME
				Elseif KeyHit(KEY_U)
				gameState = STATE_UPGRADES
				Endif
			
		End	
	
	End	
	
	Method OnRender()
		Cls(0, 0, 0)
		
		
		Select gameState
		'Inserting graphics within game states
			
			
			Case STATE_MENU
				font.DrawText("Conquer the Market!", 320, 100, AngelFont.ALIGN_CENTER)
				DrawText(VERSION_NUMBER, 580, 450)
				PushMatrix()	
					Scale 0.75,0.75
					font.DrawText("Press Enter to Play!", 430, 500, AngelFont.ALIGN_CENTER)
				PopMatrix()
				
				
			
			
			
			
			Case STATE_GAME
				Cls(255,255,255)
				PushMatrix()
					SetColor(0,0,0)
					font.DrawText("$" + dollarsTotal, 300, 50, AngelFont.ALIGN_CENTER)
					PushMatrix()
						Scale 0.9,0.9
						SetColor(0,0,0)
						font.DrawText("$ Per Click: $" +dollarsPerClick, 340, 425, AngelFont.ALIGN_CENTER)
					PopMatrix()
				PopMatrix()
				SetColor(255,255,255)
				
				'Drawing Correct Upgrade to Screen
				''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
				If currentupgradelevel = ("shoe")
					DrawImage(shoe, productX, productY, 0.5)
				Elseif currentupgradelevel = ("rollerblades")
					DrawImage(rollerblades, productX, productY)
				Elseif currentupgradelevel = ("scooter")
					DrawImage(scooter, productX, productY)
				Elseif currentupgradelevel = ("bike")
					DrawImage(bike, productX, productY)
				Elseif currentupgradelevel = ("vespa")
					DrawImage(vespa, productX, productY)
				Elseif currentupgradelevel = ("motorbike")
					DrawImage(motorbike, productX, productY)
				Elseif currentupgradelevel = ("tricycle")
					DrawImage(tricycle, productX, productY)
				Elseif currentupgradelevel = ("cheapcar")
					DrawImage(cheapcar, productX, productY)
				Elseif currentupgradelevel = ("honda")
					DrawImage(honda, productX, productY)
				Elseif currentupgradelevel = ("mustang")
					DrawImage(mustang, productX, productY)
				Endif
				'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
			
			
			
			
			
			
			Case STATE_UPGRADES
				Cls(255,255,255)
				SetColor(0,0,0)
				font.DrawHTML("&lt;b&gt;Upgrades&lt;/b&gt;", 300, 25, AngelFont.ALIGN_CENTER)
				font.DrawHTML("$" +dollarsTotal, 300, 75, AngelFont.ALIGN_CENTER)
				SetColor(255,255,255)
				
				
				'Drawing Images to Upgrade Store
				'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
				If image = shoe 
					DrawImage(shoe,shopX,shopY)
					SetColor(0,0,0)
					If currentupgradelevel = ("shoe") Or ("rollerblades") Or ("scooter") Or ("bike") Or ("vespa") Or ("motorbike") Or ("tricycle") Or ("cheapcar") Or ("honda") Or ("mustang")
						PushMatrix()
							SetColor(255,0,0)
							font.DrawText("$-Purchased-$",300,425,AngelFont.ALIGN_CENTER)
						PopMatrix()
					Endif
				
				
				'Rollerblades Code														
				Elseif image = rollerblades
					DrawImage(rollerblades,shopX,shopY)
					SetColor(0,0,0)
			
					If rollerbladesupgrade = 0
						font.DrawText("Upgrade Cost:$"+ rollerbladesupgradecost, upgrcostX, upgrcostY, AngelFont.ALIGN_CENTER)
						If rollerbladesupgrade = 0 And dollarsTotal &gt;= rollerbladesupgradecost
							font.DrawText("Press Space to Purchase", 320, 375, AngelFont.ALIGN_CENTER)
						Endif
					Elseif rollerbladesupgrade = 1
						PushMatrix()
							SetColor(255,0,0)
							font.DrawText("$-Purchased-$",300,425,AngelFont.ALIGN_CENTER)
						PopMatrix()
					Endif
				
				
				'Scooter Code
				Elseif image = scooter
					DrawImage(scooter,shopX,shopY)
					SetColor(0,0,0)
			
					If scooterupgrade = 0
						font.DrawText("Upgrade Cost:$"+ scooterupgradecost, upgrcostX, upgrcostY, AngelFont.ALIGN_CENTER)
						If scooterupgrade = 0 And dollarsTotal &gt;= scooterupgradecost
							font.DrawText("Press Space to Purchase", 320, 375, AngelFont.ALIGN_CENTER)
						Endif
					Elseif scooterupgrade = 1
						PushMatrix()
							SetColor(255,0,0)
							font.DrawText("$-Purchased-$",300,425,AngelFont.ALIGN_CENTER)
						PopMatrix()
					Endif
				'Bike Code
				
				
					
				Elseif image = bike
					DrawImage(bike,shopX,shopY)
					SetColor(0,0,0)
					
			
					If bikeupgrade = 0
						font.DrawText("Upgrade Cost:$"+ bikeupgradecost, upgrcostX, upgrcostY, AngelFont.ALIGN_CENTER)
						If bikeupgrade = 0 And dollarsTotal &gt;= bikeupgradecost
							font.DrawText("Press Space to Purchase", 320, 375, AngelFont.ALIGN_CENTER)
						Endif
					Elseif bikeupgrade = 1
						PushMatrix()
							SetColor(255,0,0)
							font.DrawText("$-Purchased-$",300,425,AngelFont.ALIGN_CENTER)
						PopMatrix()
					Endif
				
				'Vespa Code
				
				
					
				Elseif image = vespa
					DrawImage(vespa,shopX,shopY)
					SetColor(0,0,0)
			
					If vespaupgrade = 0
						font.DrawText("Upgrade Cost:$"+ vespaupgradecost, upgrcostX, upgrcostY, AngelFont.ALIGN_CENTER)
						If vespaupgrade = 0 And dollarsTotal &gt;= vespaupgradecost
							font.DrawText("Press Space to Purchase", 320, 375, AngelFont.ALIGN_CENTER)
						Endif
					Elseif vespaupgrade = 1
						PushMatrix()
							SetColor(255,0,0)
							font.DrawText("$-Purchased-$",300,425,AngelFont.ALIGN_CENTER)
						PopMatrix()
					Endif
					
				
				'Motorbike Code
				
				
				Elseif image = motorbike
					DrawImage(motorbike,shopX,shopY)
					SetColor(0,0,0)
			
					If motorbikeupgrade = 0
						font.DrawText("Upgrade Cost:$"+ motorbikeupgradecost, upgrcostX, upgrcostY, AngelFont.ALIGN_CENTER)
						If motorbikeupgrade = 0 And dollarsTotal &gt;= motorbikeupgradecost
							font.DrawText("Press Space to Purchase", 320, 385, AngelFont.ALIGN_CENTER)
						Endif
					Elseif motorbikeupgrade = 1
						PushMatrix()
							SetColor(255,0,0)
							font.DrawText("$-Purchased-$",300,425,AngelFont.ALIGN_CENTER)
						PopMatrix()
					Endif
				
				
				'Tricycle Code	
				Elseif image = tricycle
					DrawImage(tricycle,shopX,shopY)
					SetColor(0,0,0)
			
					If tricycleupgrade = 0
						font.DrawText("Upgrade Cost:$"+ tricycleupgradecost, upgrcostX, upgrcostY, AngelFont.ALIGN_CENTER)
						If tricycleupgrade = 0 And dollarsTotal &gt;= tricycleupgradecost
							font.DrawText("Press Space to Purchase", 320, 375, AngelFont.ALIGN_CENTER)
						Endif
					Elseif tricycleupgrade = 1
						PushMatrix()
							SetColor(255,0,0)
							font.DrawText("$-Purchased-$",300,425,AngelFont.ALIGN_CENTER)
						PopMatrix()
					Endif
				
				
				'Cheap Car Code	
				Elseif image = cheapcar
					DrawImage(cheapcar,shopX,shopY)
					SetColor(0,0,0)
			
					If cheapcarupgrade = 0
						font.DrawText("Upgrade Cost:$"+ cheapcarupgradecost, upgrcostX, upgrcostY, AngelFont.ALIGN_CENTER)
						If cheapcarupgrade = 0 And dollarsTotal &gt;= cheapcarupgradecost
							font.DrawText("Press Space to Purchase", 320, 375, AngelFont.ALIGN_CENTER)
						Endif
					Elseif cheapcarupgrade = 1
						PushMatrix()
							SetColor(255,0,0)
							font.DrawText("$-Purchased-$",300,425,AngelFont.ALIGN_CENTER)
						PopMatrix()
					Endif
				
				'Honda Code	
				Elseif image = honda
					DrawImage(honda,shopX,shopY)
					SetColor(0,0,0)
			
					If hondaupgrade = 0
						font.DrawText("Upgrade Cost:$"+ hondaupgradecost, upgrcostX, upgrcostY, AngelFont.ALIGN_CENTER)
						If hondaupgrade = 0 And dollarsTotal &gt;= hondaupgradecost
							font.DrawText("Press Space to Purchase", 320, 375, AngelFont.ALIGN_CENTER)
						Endif
					Elseif hondaupgrade = 1
						PushMatrix()
							SetColor(255,0,0)
							font.DrawText("$-Purchased-$",300,425,AngelFont.ALIGN_CENTER)
						PopMatrix()
					Endif
				
				'Mustang Code
				
					
				Elseif image = mustang
					DrawImage(mustang,shopX,shopY)
					SetColor(0,0,0)
			
					If mustangupgrade = 0
						font.DrawText("Upgrade Cost:$"+ mustangupgradecost, upgrcostX, upgrcostY, AngelFont.ALIGN_CENTER)
						If mustangupgrade = 0 And dollarsTotal &gt;= mustangupgradecost
							font.DrawText("Press Space to Purchase", 320, 375, AngelFont.ALIGN_CENTER)
						Endif
					Elseif mustangupgrade = 1
						PushMatrix()
							SetColor(255,0,0)
							font.DrawText("$-Purchased-$",300,425,AngelFont.ALIGN_CENTER)
						PopMatrix()
					Endif
					
					
				Endif
			''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''	
			
			
			
			Case STATE_SHOP
				Cls(255, 255, 255)
				PushMatrix()
					SetColor(0,0,0)
					font.DrawHTML("&lt;b&gt;Shop&lt;/b&gt;", 300, 50, AngelFont.ALIGN_CENTER)
					font.DrawText("$" +dollarsTotal, 300, 100, AngelFont.ALIGN_CENTER)
				PopMatrix()
				
				
		End
	End
End

Function Main:Int()	
		 
	New ClickingGame()
End
</textarea> <br><br></td></tr></table><br>
<a name="2126132"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ewancordiner</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> That works perfectly thankyou, I see what you did. I have never used the millisecs() before and so wasn't fully aware as of how to use it or whether variables needed to be set etc. Thank you :). For future reference, I was wondering what exactly what the [Code] Field flagGameStarted:Bool = False [/Code] meant. Does this make the automatic dollars go up only when enter has initially been pressed? <br><br></td></tr></table><br>
<a name="2126133"></a>

<a name="2126134"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Phil7</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, that's it. Otherwise the automatic dollars would go up when the  menu screen appears. You can test it by altering the line like this:    <br>Field flagGameStarted:Bool = True <br><br></td></tr></table><br>
<a name="2126135"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ewancordiner</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thankyou, it's for a computing project and I thought I had no chance doing that part of it haha! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
