<!DOCTYPE html><html lang="en" ><head ><title >How to directly reference an object?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >How to directly reference an object?</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >How to directly reference an object?</a><br><br>
<a name="2036005"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xAD</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is it possible? I don't recall seeing any pointer stuff in Monkey, did I miss something?<br>I'll need to go through all drawn objects, but in specific orders rather than just generically modifying each. Searching through them to find a specific name in a field, then searching to find the next, etc. will, I think, take too long.<br>So I need a way to get directly to a specific object.<br><br>Please answer at a remedial level :) <br><br></td></tr></table><br>
<a name="2036027"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Get an instance of the object and store it. Monkey uses references instead of pointers:<br>[monkeycode]<br>Local myObject = New MyObject 'An object is created here, and the variable myObject points to it (it is a reference)<br><br>myObject = New MyObject 'The same variable now points to another object (it holds a reference to a new MyObject). As the previous object is not being referenced my any variable, it gets deleted.<br><br>local anotherReference = myObject 'Now, the varaible "anotherReference" also points to the same object as myObject.<br><br>myObject.myField = 100 'This will be modified on the object pointed by "myObject" and by "anotherReference"<br><br>MyObject = Null 'anotherReference still points to the same object instance.<br><br>anotherReference = Null 'No one else is pointing to the object, so it is deleted from memory<br>[/monkeycode] <br><br></td></tr></table><br>
<a name="2036026"></a>

<a name="2036025"></a>

<a name="2036024"></a>

<a name="2036034"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >NoOdle</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> xAD can you post a little more information please? <br><br><div class="quote"> I'll need to go through all drawn objects, but in specific orders rather than just generically modifying each <br></div><br>Is this to draw each object at the correct depth or? A list can be used and then the contents sorted using a field value meaning you could then iterate over the list knowing the order is correct.<br><br><div class="quote"> So I need a way to get directly to a specific object. <br></div><br>You could store the objects in a Map using a key to retrieve them or you could also use an array and have a field in the object that stores the index for quick retrieval. <br><br></td></tr></table><br>
<a name="2036035"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xAD</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, ziggy. I think I actually knew that at some point, but was having an extreme mental block.<br>This variable type that references an object...is there anything odd about it I should know? I assume you can't do maths on it, but is it valid to make an array of them? Or use it as a Field in another object?<br>How would you declare that field? Field objectReferencer:MyObject?<br><br>NoOdle, changing the apparent depth objects are drawn at would be one possibility.<br>You know how a game loop generally goes input-processing-output?<br>I'm separating special effects from game code. So my loop would go input-game_processing-effects_processing-output.<br>I've had too many projects screech to a halt because I've painted myself into a corner with an effect tied into some game process or other, so I've been working out a way to generically isolate the two <br><br></td></tr></table><br>
<a name="2036041"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> This variable type that references an object...is there anything odd about it I should know? <br></div>No, they're like pointers but they give you direct access to the pointed object, no cast operations required and you can't manipulate the mem address they're pointing. This pointer's like approach is called references. It's a a bit more abstracted and highlevel than traditional C pointers, but you can do mostly the same but with easier memory handling and without the risk of trying to access a memory section that has already been released. That prevents invalid memory access and also helps preventing memory leaks on your game logic.<br><br><div class="quote"> I assume you can't do maths on it <br></div>You can't make maths on it, but make maths on its contents, like modifing a field.<br><br><div class="quote"> it valid to make an array of them?  <br></div>Of course! Any array is in fact an array of them.<br><br><div class="quote"> Or use it as a Field in another object? <br></div>Yes! of course. Regular variables, except from Int, Float, Bool and String are of this kind, feel free to use them as you please. That's how you're suposed to make OO coding on Monkey.<br><br><div class="quote"> How would you declare that field? Field objectReferencer:MyObject? <br></div>Yes.<br><br><br>Also, it may help you to know that you can use any typename as a casting operation:<br><br><pre class=code>Local b:MyClass = MyClass(object)</pre><br>In this sample, if the variable called "object" contains a reference to a MyClass object (or any object extending MyClass), it is assigned to the variable "b", otherwise "b" gets a value of Null (that is no reference). That's very useful. <br><br></td></tr></table><br>
<a name="2036040"></a>

<a name="2036039"></a>

<a name="2036068"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tiresius</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was wondering about the same thing and hopefully this clears it up and I can clean up some of my clunky code searching for objects.  Thanks! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
