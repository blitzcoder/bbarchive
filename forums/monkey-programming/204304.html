<!DOCTYPE html><html lang="en" ><head ><title >DrawPoint or DrawRect with a size of 1,1?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >DrawPoint or DrawRect with a size of 1,1?</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >DrawPoint or DrawRect with a size of 1,1?</a><br><br>
<a name="2045935"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Redbeer</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've created a box that is essentially an 50 x 50 diddy arrayList of pixel coordinates.<br>The reason I did this was because I want to be able to check collision with each pixel of this box and destroy each pixel after collision and thus not draw those particular pixels in the box anymore.<br>I realize I could do this with an Image, but I'm trying to work without Images at the moment for other "non coding" reasons.<br><br>My question is; is it better to use DrawPoint() at each coordinate in the arrayList, or use DrawRect() at each coordinate, with a size of one?<br><br>I've currently set it up to use DrawRect(), but I did this mostly because of the Champagne example program that seems to have commented out the 'DrawPoint() and chose to DrawRect() instead.<br><br>I assumed this was because it would render faster, because there was some issue with DrawPoint().  Is that true or is there something I'm missing here? <br><br></td></tr></table><br>
<a name="2045937"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >muddy_shoes</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Performance issues will vary depending on target and your overall rendering strategy. Some targets use the native rectangle drawing to do point drawing anyway. OGL targets switch to GL_POINT rendering, which may or may not be faster in actually drawing but also has implications due to changing the rendering state.<br><br>Short answer, do some timings yourself. <br><br></td></tr></table><br>
<a name="2045967"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Redbeer</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks.<br>I tried both and it seems to have no difference in for HTML5 in Chrome on either Mac or Windows.<br>I'll try some of the other browsers too, but I won't get a chance to test the other platforms because I'm not translating and compiling for those in this product, for the future in sight at least. <br><br></td></tr></table><br>
<a name="2045968"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dima</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I know you mentioned not using images, but I think that's the best way to handle drawing on per pixel basis. Your back buffer (image) is an array of integers and all sorts of techniques exist for manipulating buffers like that even good enough for real time manipulation.  Read/Write Pixels are awesome for what they do. <br><br></td></tr></table><br>
<a name="2045971"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Redbeer</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I completely agree with you Dima, and eventually this will morph into that for a 2.0 version.  However, external requirements preclude the use of ANY images, at this point.  It must be all procedurally generated.  The drop in performance seems to be acceptable at this point, as it still runs at 35 to 40 fps in the browser because the game is relatively simple.  Still, given the simplicity, it should be running at 60, but unfortunately doing this pixel array setup is slowing it down. <br><br></td></tr></table><br>
<a name="2045972"></a>

<a name="2045973"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dima</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> CreateImage(w, h) is technically procedural, then you can simply WritePixels(intArray[w*h]) or something like that and DrawImage().  In this case Image is just an intermediate buffer for getting your integer array of pixels onto the screen under all targets.<br><br>edit: with access to hardware accelerated graphics one could build a 2d mesh (grid) in a vertex buffer, then set vertex colors to the pixel colors and draw whole mesh as one.  Cool thing here is that mesh can be scaled and hardware will take care of blending colors between the vertices, making result filtered and not pixelated. <br><br></td></tr></table><br>
<a name="2045974"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zoqfotpik</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try using some sort of binning or recursive data structure for this, you will find it gigantically faster.  <br><br>If box is undamaged, draw whole box.<br>Else<br>Divide into quadrants<br>Treat each quadrant as a whole box <br><br></td></tr></table><br>
<a name="2045977"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Redbeer</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the input guys, it is certainly helpful short and long term.<br><br>I was thinking of doing that zoqfotpik, it's a good idea.<br>I'm already doing similar with the collision object(s) because the direction from which they approach the 50 x 50 boxes is very predictable, so I'm only looking for collisions on each box, and each part of each box, when it's necessary to do so.  <br>I'll try out some of the other methods too as I optimize it, but at this point I'm just trying to get all the basic features up and running, only with procedurally generated objects, with a limited set of data structures.<br>I'll optimize and clean up the code when I have that part done, and as the project moves forward I'll create different and/or more efficient ways of doing each thing. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
