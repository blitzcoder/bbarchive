<!DOCTYPE html><html lang="en" ><head ><title >LoadString vs State</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >LoadString vs State</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >LoadString vs State</a><br><br>
<a name="2032010"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Quick question which I think I know the answer to but gona ask anyway.<br><br>Currently working on my game, and have a few txt files, one stores the games options coma delimited, another stores level data, another ship flight paths, and another stores scores.<br><br>At the moment I am using loadstring , and parsing the data from each to populate the games levels, options, etc.<br><br>Will I need to convert all of this to load and save state if I want to put this on say a mobile like ipone or ipad, or xna..<br><br>And If I am going to have to dump all of that information into a single state string, any advice ? <br><br></td></tr></table><br>
<a name="2032013"></a>

<a name="2032014"></a>

<a name="2032015"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I guess you are currently using the os module SaveString?<br><br>You will only need to convert in-game save data, such as your scores, to use SaveState... plus the player's current level etc. You can still use LoadString for the levels etc.<br><br>Dave (Gfk) did an excellent "fake" file system module for Load/SaveState which is included in Diddy:<br><br><a href="http://code.google.com/p/diddy/source/browse/trunk/examples/FileSystem/testFileSystem.monkey" target="_blank">http://code.google.com/p/diddy/source/browse/trunk/examples/FileSystem/testFileSystem.monkey</a><br><br>Oh and beware of the limit with SaveState, I "think" its around 1MB but it does change per target, if I rememeber rightly... <br><br></td></tr></table><br>
<a name="2032016"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> So all my levels can remain in their own text files, and I can keep using LoadString to pull them in, even on iPhone for example or XNA ? <br><br></td></tr></table><br>
<a name="2032023"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> So all my levels can remain in their own text files, and I can keep using LoadString to pull them in, even on iPhone for example or XNA ? <br></div><br>Yes. As long as you use the mojo loadstring and not the os loadstring. <br><br></td></tr></table><br>
<a name="2032028"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> how . wait wot ?<br><br>I'm using Diddy, so I think that handles importing mojo how the heck can I tell which one I am using, I didnt realize there was 2. <br><br></td></tr></table><br>
<a name="2032034"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raz</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Use LoadString for...<br><div class="quote"> another stores level data, another ship flight paths <br></div><br><br>Use LoadState for<br><div class="quote"> one stores the games options coma delimited, and another stores scores. <br></div><br><br>LoadState/SaveState is for information that changes after the player starts the game (so save data, option data, scores). There is only one "file" for LoadState/SaveState so you're going to have to merge this information together.<br><br>LoadString is for predetermined information that will not change <br><br></td></tr></table><br>
<a name="2032033"></a>

<a name="2032032"></a>

<a name="2032045"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> raz thanks that made sense to me.<br><br>So I need to bundle two arrays and then two values 1,1 into a single state and then save it, and load it.<br><br>I assume people have done this already, anyone care to share what their chosen methods were ?<br><br>Given that I know exactly how many scores, names, and options there are I might just pack them all in one after the other, just wondering if there is a more elegant solution. <br><br></td></tr></table><br>
<a name="2032105"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raz</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Gfk has made a kind of emulated file system for such things I think : <a href="http://monkeycoder.co.nz/Community/posts.php?topic=1395" target="_blank">http://monkeycoder.co.nz/Community/posts.php?topic=1395</a><br><br>But personally, I just save a comma separated file and have it look for key words to know what type of information to expect next so..<br><br><pre class=code>settings,1,200,0,0,1,scores,23144,1215615,12612616,12612</pre><br>so it would read "settings" and know the next whatever values are settings and once it reads "scores" it knows it's reading scores. <br><br></td></tr></table><br>
<a name="2032058"></a>

<a name="2032080"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, that thing is in diddy, I think I will just do my own savesate as you suggest tho before I go playing with the fake file system, wana have look under its hood first.<br><br>thanks guys this has helped a lot, and my project will be better as a result.. :) <br><br></td></tr></table><br>
<a name="2036324"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sub_Zero</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> @therevills:<br><br>I see in your testFileSystem example that you read strings without any length parameter.... Would this be equivalent to readline? or is readline() included in the file system? <br><br></td></tr></table><br>
<a name="2036385"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> read strings without any length parameter.... Would this be equivalent to readline? <br></div><br><br>Yeah I think so, I didn't write the filesystem and its been awhile since I last played with it. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
