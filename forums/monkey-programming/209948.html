<!DOCTYPE html><html lang="en" ><head ><title >Speeding up compile times on GLFW</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Speeding up compile times on GLFW</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Speeding up compile times on GLFW</a><br><br>
<a name="2107923"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shinkiro1</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>the glfw target for me is really slow to compile.<br><br>Compiling the bouncy aliens example I wait around 7 seconds on the first compile, 5 on every subsequent one.<br><br>My computer is a MacBook Air 2012 model (with an SSD).<br>Even though I can compile an sdl example of similar complexity in &lt; 1 second.<br><br>So is my processor the bottleneck, RAM (4GB) or is the monkey compile process just ineffiecent. If so what can one do about it?<br><br>PS: Yes I know these things will be handled better in MX2, this is strictly about monkey 1 though. <br><br></td></tr></table><br>
<a name="2107925"></a>

<a name="2107926"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> 1.  Use msbuild instead of gcc (Not sure if it's available on OSX yet)<br>2.  #FAST_SYNC_PROJECT_DATA=True     (don't do this if you're using xcode) <br><br></td></tr></table><br>
<a name="2107978"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shinkiro1</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well I am on OSX so msbuild is out.<br>#FAST_SYNC_PROJECT_DATA doesn't really help, I tried that.<br><br>It would be interesting to know which parts in the compilation step take the longest, then optimize them. <br><br></td></tr></table><br>
<a name="2108023"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> First the Monkey compiler is a translating compiler. It converts monkey code into a form that a native compiler can use to compile the final application. It creates one main file for compiling, and if this is big, it can take sometime. This file will get rebuilt every time you run the monkey compiler. The GCC/LLVM tool chain, which will be used for compiling this "main" file have always been a bit on the slow side. MS compilers are somewhat faster. There are GCC/LLVM options to use multi core processors to build multiple files at the same time, but this would become useless after the first build, as only the "main" file will get compiled in subsequent builds.<br><br>So this is the general process when you first build a monkey project.<br>The build directory is created and your program data gets copied.<br>The monkey code gets converted to code that the native compiler can handle. It pulls in template code, library code and files from the target and modules directories, which all end up in the build directory. Your code, the template code and whatever module code end up in the "main" file.<br>Depending on the target; for a desktop application, either a makefile or project file is invoked to start the build process. It will build the GLFW/support object files and the main file and link them. Subsequent builds will only build and link the "main" file, unless you make alterations to any GLFW/support files or "clean" the project. If you want to customize the build, then the makefile or project file is the place to do it.<br><br>If you want it any faster you will either have to make major alterations to the monkey compiler and how it works, or just wait for MX2 which is meant to solve this issue with incremental building. <br><br></td></tr></table><br>
<a name="2108021"></a>

<a name="2108022"></a>

<a name="2108015"></a>

<a name="2108016"></a>

<a name="2108018"></a>

<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
