<!DOCTYPE html><html lang="en" ><head ><title >is there a sizeof function</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >is there a sizeof function</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >is there a sizeof function</a><br><br>
<a name="2101261"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >retroX</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> What is the best way to get the size of objects?<br>I want to know how much a sprite object pool uses for games such as match-3 or snake.<br>These games need hundreds of sprite objects in a pool and I want to know how much memory is used by different engines to maintain reasonable memory usage for mobile devices.<br>Is this even possible to do?<br>How much memory is allowed to be used by games on mobile devices?<br>If mobile phones or tablets allow plenty of memory for these type of games then I won't even worry about it.<br>Any help is appreciated. <br><br></td></tr></table><br>
<a name="2101309"></a>

<a name="2101310"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Graphic memory is more likely to be the bottleneck, I would say.  You could probably have more types loaded into memory than you could easily draw all at once.<br><br>For sprites, it should be possible to manually count the total area, at 32 bits per pixel. <br><br></td></tr></table><br>
<a name="2101560"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >retroX</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I do not know what memory is used for the image of each new sprite object.<br>I assume it is ram which is copied into graphic memory every time it is rendered.<br>I looked at the universal object type used in game engines and at least 80 variables are part of each object.<br>That is not including the extra memory if the object type is a sprite that has an image included.<br>So an objectVariable.SizeOf() method would be useful for approximating how much memory would be needed in a snake game,<br>which could have 500 or more sprites moving on the screen.<br>I do not know the amount of memory allowed per game on the various mobile devices,<br>but maybe there would not be any problem.<br>A function which returns the overall memory usage at the moment would be as useful.<br>For now I am going to make the snake game and see how it runs on a mobile phone when the snake reaches a size of 1000 body parts. <br><br></td></tr></table><br>
<a name="2101561"></a>

<a name="2101562"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> per-app heap size limit depends on phone.  Use DDMS to poll for resource usage.  At the most conservative, try to avoid going over 32mb.  Galaxy S3's heapsize is 64mb.  My Nexus S only has 24mb allowed per app to allocate. <br><br></td></tr></table><br>
<a name="2101569"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nullterm</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> For an 80 variable object, you're looking at approx 320 bytes per (80 x 4 bytes per value, assuming mostly 32-bit int's).<br>320 bytes per object x 500 objects = 160,000 bytes, again approximately.<br>This number is entirely how you design your object, and how many you create.  In Monkey X, you design your own sprite class so it's up to you.<br><br>Image data is probably gonna be heavier.  If you load a new Image per sprite, you'll kill your memory.  <br>But if you just refer back to the same shared/global Image or sprite page (with all sprites on the same or fewer image), then it's cheaper.<br>256 wide x 256 high x 32 bit/pixel = 262,144 bytes<br>This number is how you design your artwork, not the engine you are using.<br><br>There might be someway to add native functionality to do a sizeof in .cpp code on your class, but I have yet to dabble in that so can't speak about how. <br><br></td></tr></table><br>
<a name="2101584"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> but remember that you won't be having accurate information of how many memory your app is using unless you track live objects and garbage collection, which would introduce lots of complexity which I don't think is paired with any tangible gain <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
