<!DOCTYPE html><html lang="en" ><head ><title >threading</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >threading</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >threading</a><br><br>
<a name="2118510"></a>

<a name="2118511"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brog</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, I'm trying to load assets in a background thread so there's not an up-front loading time.<br>I've used the diddy threading library (https://github.com/swoolcock/diddy/tree/develop/src/threading) and when I call LoadSound (from mojo,audio) from a separate thread it crashes with "Memory Access Violation".  I'm not (yet) trying to play the sound or anything, just to load it.  So I'm wondering if LoadSound itself is not thread-safe.<br>Any ideas?  Thanks!<br><br>edit: not sure if it makes any difference but this is on windows/desktop, i'm targeting ios too but i generally test on desktop first <br><br></td></tr></table><br>
<a name="2118513"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >k.o.g.</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you ever tried the built in functions from monkey?<br><a href="http://www.monkey-x.com/docs/html/Modules_mojo.asyncloaders.html#LoadSoundAsync" target="_blank">http://www.monkey-x.com/docs/html/Modules_mojo.asyncloaders.html#LoadSoundAsync</a><br><br>i think, the default functions are not thread safe <br><br></td></tr></table><br>
<a name="2118565"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brog</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh wow, exactly what I need.  Thank you! <br><br></td></tr></table><br>
<a name="2118584"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sicilica</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't want to steal the topic, but are there async loaders for Mojo2, or is there a way to do it using the LoadImageData function in the opengles module?<br><br>I guess the trouble with just calling the loaders on another thread is that what you need to do is perform the file i/o on another thread but send the texture to gpu on whatever else needs to happen on main thread? In any case, with mojo2 I always end up writing code to queue the requests and load resources once per frame or whatever I can manage without heavily hitting the framerate. It would be so much cleaner to do it asynchronously. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
