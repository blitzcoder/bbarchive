<!DOCTYPE html><html lang="en" ><head ><title >Cannot call method 'SetColor' of Null?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Cannot call method 'SetColor' of Null?</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Cannot call method 'SetColor' of Null?</a><br><br>
<a name="2045036"></a>

<a name="2045037"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Trying to recompile some code which was originally written in Monkey v45.<br><br>It compiles (HTML5), and my "loading" screen displays, then I get the above error.<br><br>Taking it literally I would assume it to mean there is no graphics object present..... but why would that be?  Tried HiToro's "basicgame" sample and threw in a SetColor to test, and that worked fine.<br><br>(testing with Monkey v66). <br><br></td></tr></table><br>
<a name="2045039"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amon</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Did you delete the Build folder? Sorry if you've already done that but that usually is what causes 80% of the problems. <br><br></td></tr></table><br>
<a name="2045040"></a>

<a name="2045041"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, already did that.<br><br>About to try GLFW target, see if it's just HTML5 playing silly buggers. <br><br></td></tr></table><br>
<a name="2045042"></a>

<a name="2045043"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> A new error with GLFW after installing VS2012:<br><div class="quote"> C:Program Files (x86)MSBuildMicrosoft.Cppv4.0V110Microsoft.Cpp.Platform.targets(42,5): error MSB8020: The builds tools for Visual Studio 2010 (Platform Toolset = 'v100') cannot be found. To build using the v100 build tools, either click the Project menu or right-click the solution, and then select "Update VC++ Projects...". Install Visual Studio 2010 to build using the Visual Studio 2010 build tools. <br></div><br><br>Great... only I don't have a "project menu".  WTF?<br><br>[edit] For some reason the slashes are being stripped from the file path when I paste it here. <br><br></td></tr></table><br>
<a name="2045044"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Right, so I have to go into my .build folder, open the project in VS2012, THEN go to the project menu, but all that does is let me update the project to work with VS2012.  Apparently there is no backwards-compatibility and I now have to get rid of VS2012, and track down a copy of VS2010.<br><br>FFS... :/ <br><br></td></tr></table><br>
<a name="2045048"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amon</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> in your Monkey bin folder is the config.winnt.txt set up properly?<br><br>Here's what my config.winnt.txt which shows where MSBuild is!<br><br>Oh! Are you on Mac or Windows?<br><br><pre class=code>
'MSBUILD path.
'
'Must be set for XNA and GLFW target support.
'
'Visual C++ 2010 Express is required for GLFW target support and is currently available here:
'	<a href="http://www.microsoft.com/visualstudio/en-us/products/2010-editions/visual-cpp-express" target="_blank">http://www.microsoft.com/visualstudio/en-us/products/2010-editions/visual-cpp-express</a>
'
'Visual C# 2010 Express and XNA 4.0 are requred for XNA target support and are currently available here:
'	<a href="http://www.microsoft.com/visualstudio/en-us/products/2010-editions/visual-csharp-express" target="_blank">http://www.microsoft.com/visualstudio/en-us/products/2010-editions/visual-csharp-express</a>
'	<a href="http://www.microsoft.com/download/en/details.aspx?id=23714" target="_blank">http://www.microsoft.com/download/en/details.aspx?id=23714</a>
'
MSBUILD_PATH="${WINDIR}Microsoft.NETFrameworkv4.0.30319MSBuild.exe"
'--------------------
</pre><br><br>Much like you I ask, why is the forum stripping out the "/"? <br><br></td></tr></table><br>
<a name="2045046"></a>

<a name="2045051"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah the path is correct.<br><br>I clicked that link above, which redirects me to VS2012 (which is why I downloaded it).  I'm now downloading Visual C++ Express 2010 which I had to hunt a bit for, from that page.<br><br>Probably isn't going to solve the original problem, though! <br><br></td></tr></table><br>
<a name="2045057"></a>

<a name="2045058"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, eventually got it to compile and run on my iPad, and I'm still getting errors about SetColor:<br><br>bb_graphics_renderDevice-&gt;SetColor(t_r,t_g,t_b);         &lt;&lt;Thread 1:EXC_BAD_ACCESS (code=1, address=0x0)<br><br>Seems that there is no render device.  But since you don't have to manually create a graphics object (BMax Speak) in Monkey, how is that even possible??<br><br>Ideas? <br><br></td></tr></table><br>
<a name="2045059"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amon</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Forgot to say; you can use MinGW to build glfw. Set at top of your code #GLFW_USE_MINGW=true<br><br>You'll need MinGW installed. The one that works perfect with Monkey is located here: <a href="http://sourceforge.net/projects/tdm-gcc/files/TDM-GCC%20Installer/tdm-gcc-4.7.1-2.exe/download" target="_blank">http://sourceforge.net/projects/tdm-gcc/files/TDM-GCC%20Installer/tdm-gcc-4.7.1-2.exe/download</a><br><br>Also make sure in your config.winnt.txt file you set it up to point to MinGW location.<br><br>Again, soz if you have already done this! <br><br></td></tr></table><br>
<a name="2045062"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Found the problem - had a couple of rogue SetColors in my Update method.  They were there before, but it seems they don't silently fail any more.  The same goes for SetAlpha. <br><br></td></tr></table><br>
<a name="2045095"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John McCubbin</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah right I was about to suggest you check anything called in the OnUpdate() method and double check there were no graphic commands there, as it's quite strict now. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
