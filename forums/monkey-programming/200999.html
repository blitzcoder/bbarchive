<!DOCTYPE html><html lang="en" ><head ><title >1-based arrays</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >1-based arrays</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >1-based arrays</a><br><br>
<a name="2008602"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >c.k.</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Would it be too much to ask for 1-based arrays. I program in other languages that use it and coming back to a 0-based array is rather disconcerting because it seems so idiotic.<br><br>What's the first element? The zeroeth one! WTF?!<br><br>We are humans. Computers bend to our will, not the other way around.<br><br>0-based is not logical, and Spock agrees. <br><br></td></tr></table><br>
<a name="2008608"></a>

<a name="2008609"></a>

<a name="2008610"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dima</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://en.wikipedia.org/wiki/Zero-based_numbering" target="_blank">http://en.wikipedia.org/wiki/Zero-based_numbering</a><br><br>Array indices start at 0 for almost all languages.<br><br>The reason is that historically the index of an array indicates its offset from a certain address in memory.<br><br>Lets say you have an array of 4-byte integers. The array starts at memory address 0x1000. The element w/ index 0 is at 0x1000. That with index 1 is at 0x1004. Index 2 at 0x1008. And the nth is at 0x(1000+4*n).<br><br>You probably wouldn't notice this in C++ or C#, but C-style arrays bring this to the forefront in the way that *A (address of A) indicates the beginning of array A and pointer arithmetic can bring you to later elements.<br><br><a href="http://www.augustcouncil.com/~tgibson/tutorial/arr.html" target="_blank">http://www.augustcouncil.com/~tgibson/tutorial/arr.html</a><br><br> "Why do arrays in C and C++ start at zero instead of one?". We know that the name of the array produces the address of the beginning of the array; and we know that the beginning of the array is also the address of the first element of the array. So, all of these are exactly the same:<br><br>*age<br>*(age+0)<br>age[0]<br><br>The bottom line: Arrays are nothing more than a bunch of variables of the same type using the same name--that name is the address of the beginning of the bunch of variables. <br><br></td></tr></table><br>
<a name="2008612"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >muddy_shoes</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not logical? Dijkstra disagrees: <a href="http://www.cs.utexas.edu/users/EWD/transcriptions/EWD08xx/EWD831.html." target="_blank">http://www.cs.utexas.edu/users/EWD/transcriptions/EWD08xx/EWD831.html.</a> <br><br></td></tr></table><br>
<a name="2008613"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> please don't. it's just fine the way it is. <br><br>I would hate to have to readopt to that mundane way of coding. :) <br><br></td></tr></table><br>
<a name="2008615"></a>

<a name="2008616"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >c.k.</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> LOL... muddy, I saw that page as I was researching the concepts.<br><br>Dijkstra is wrong about every other thing. :P<br><br>I understand WHY we do zero-based arrays, but it's no longer valid.<br><br>a[] represents an array of elements, the first of which is #1, not #0. It's no longer about memory locations for the programmer, it's about the position in a sequence of elements.<br><br>sheesh. <br><br></td></tr></table><br>
<a name="2008618"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dima</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Most programmers will expect first index to be 0 (historically), why force new methodology on the majority when they are comfortable already? <br><br></td></tr></table><br>
<a name="2008621"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >maverick69</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>0-based is not logical, and Spock agrees. <br> <br></div><br><br>Don't think Spock would agree! He's on  Dimas side ;)<br><br>BTW: Which languages support 1-based array indexes? <br><br></td></tr></table><br>
<a name="2008622"></a>

<a name="2008623"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >c.k.</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Because we don't ride horses anymore to go from A to B. We use cars. That is, updates can be good. :)<br><br>It is more logical to call the first element in an array [1], not [0].<br><br>I know it's not going to change for Monkey, but don't try to convince me that it's logical. It's a holdover from early languages. Today's high-level languages don't need it. <br><br></td></tr></table><br>
<a name="2008626"></a>

<a name="2008628"></a>

<a name="2008629"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dima</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's more like electric cars vs traditional, gets you from point A to B but needs alternate way of refueling, which isn't supported by every gas station (yet). <br><br></td></tr></table><br>
<a name="2008644"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> +1 for zero-based arrays <br><br></td></tr></table><br>
<a name="2008669"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >matty</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> No preference either way for myself, but I can also see the logic behind both methods <br><br></td></tr></table><br>
<a name="2008671"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Monkey has zero based arrays - End of Story :P<br><br>Its been out now for a few months, imagine all the code it would break if it went to 1 based arrays. <br><br></td></tr></table><br>
<a name="2008675"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Redbeer</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> It has historically been zero.<br>The number line is referenced to zero.<br>Cartesian coordinates reference to zero.<br>Every time I do any problem, I generally look for things that are zero or can be chosen as zero.<br>I vote for it to stay zero based. :D <br><br></td></tr></table><br>
<a name="2008677"></a>

<a name="2008678"></a>

<a name="2008683"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jalski</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Zero based arrays are fine.<br><br>But why not give programmer a choice?<br><br><br>I myself like the PL/I style arrays:<br><br>For an example:<br><br>To declare a two dimensional 8x8 board integer array starting from index 0:<br><br>dcl board(0:7, 0:7) fixed bin (31);<br><br>Say, you want to store some average temperature information for years 2000 - 2011. Why not just declare array like this:<br><br>temperature(2000:2011, 365) <br><br></td></tr></table><br>
<a name="2008682"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >c.k.</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> VBA has an "Option Base n" statement where you can specify the array base. That would be nice for those of us who prefer logic over tradition. :) <br><br></td></tr></table><br>
<a name="2008690"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> A 0 based array can be made into a 1 based array with a little extra coding.<br><br>i[0] = null or -1<br>i[1] = values start here <br><br></td></tr></table><br>
<a name="2008697"></a>

<a name="2008698"></a>

<a name="2008700"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>I think there are arguments to be made either way - depends on the context.<br><br>In a math/graphics context, 0 based is useful for 'bucket' style arrays - eg: tile maps etc.<br><br>For a text processing or other 'counting' related app, perhaps 1 would be better, eg: line 1,2,3...word 1,2,3...dice-roll 1,2,3 etc..<br><br>However, Monkey is 0 based because all it's target languages are, so it's really just the most convenient/efficient way to do it.<br><br>If a lua translator or something happened that needed 1 based arrays I'd have to add some hacks - but I'd rather be doing that for the minority of languages.<br><br>Adding a 'one based arrays' option would not really be feasible without slowing down ALL arrays, as arrays would then have to carry their 'base' around with them. <br><br></td></tr></table><br>
<a name="2008710"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> If a lua translator or something happened that needed 1 based arrays I'd have to add some hacks - but I'd rather be doing that for the minority of languages. <br></div><br>Lua does not have indexed "arrays" as such.  Tables are key/value pairs, so your index can be whatever you want.  The only real gotchas are that using table.insert() on an empty table defaults to 1, and the ipairs() iterator function indexes from 1.  You can still index it however you want.<br><pre class=code>mytable = {}
mytable[0] = 'a'
mytable[1] = 'b'
for k,v in pairs(mytable) do -- k is the key, which will be whatever indices you used
for i,v in ipairs(mytable) do -- i is the ordered index of the key, which is 1-based
for i = 0,9 do -- just index your table with i
</pre> <br><br></td></tr></table><br>
<a name="2008728"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JaviCervera</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> I also think that zero-based arrays are fine. I am used to them on every language that I use. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
