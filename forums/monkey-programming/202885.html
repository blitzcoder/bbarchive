<!DOCTYPE html><html lang="en" ><head ><title >List of numbers into an array</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >List of numbers into an array</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >List of numbers into an array</a><br><br>
<a name="2029483"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SuperDan</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> How do I read a large list of comma separated values into an array?  (3000 values for example).<br><br>Should I store the CSV's in a separate file to read at runtime (if so, what file type?) or should I incorporate a Data list of some sort into my code (as in Basic from the old days, which is just about my limit, I'm ultra noob).<br><br>If anyone can point me to an example, I would be very grateful.  I posted something similar in an earlier topic but I confused myself as to what I wanted, so probably confused anyone else reading the post.<br><br>Thanks muchly,<br>Dan. <br><br></td></tr></table><br>
<a name="2029505"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> string.Split will take a string, split it at the character your chose and return an array with the values of your line.<br><br>Let's say loaded that file into a string...<br><br><pre class=code>
Local lines := yourTotaldata.Split(String.FromChar(10))
For Local line:= Eachin lines
    If line = "" Then Continue
    Local data$[] = line.Split(",")
    'Now process the elements of the data$ array
Next
</pre><br><br>It is not a complete example but may give you a start. <br><br></td></tr></table><br>
<a name="2029503"></a>

<a name="2029504"></a>

<a name="2029509"></a>

<a name="2029510"></a>

<a name="2029511"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SuperDan</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>Thanks for the reply.  I have tried incorporating your idea into some runnable code but nothing I try seems to work.  I have this at the moment...<br><br><pre class=code>
Local totaldata:String = LoadString("text.txt")
Local lines = totaldata.Split(String.FromChar(10))
For Local line:= Eachin lines
   If line = "" Then Continue
   Local data$[] = line.Split(",")
Next	
Print data[100]	
</pre><br>I get a compile error saying cannot convert string to int on line 2 above.<br><br>Any help or further explanation much appreciated. <br><br></td></tr></table><br>
<a name="2029512"></a>

<a name="2029513"></a>

<a name="2029515"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >muddy_shoes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's because:<br><pre class=code>Local lines = totaldata.Split(String.FromChar(10))</pre><br><br>defines lines as an Int as the default. You want:<br><pre class=code>Local lines:String[] = totaldata.Split(String.FromChar(10))</pre><br><br>Bloggy thing about this here: <a href="http://pointlessdiversions.blogspot.co.nz/2012/04/monkey-tips-default-types-and-implicit.html" target="_blank">http://pointlessdiversions.blogspot.co.nz/2012/04/monkey-tips-default-types-and-implicit.html</a> <br><br></td></tr></table><br>
<a name="2029514"></a>

<a name="2029517"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SuperDan</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks muddy, but now the error has changed to "cannot convert from String[] to string.<br><br>Also, what does the FromChar(10) part do?<br><br>Sorry for being a rubbish noob.<br><br>Thanks,<br>Dan. <br><br></td></tr></table><br>
<a name="2029518"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >muddy_shoes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, I missed the array. Sneakily edited it in.<br><br>Edit:<br><br>Char 10 is the newline character: <a href="http://www.asciitable.com/" target="_blank">http://www.asciitable.com/</a> <br><br></td></tr></table><br>
<a name="2029516"></a>

<a name="2029519"></a>

<a name="2029520"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SuperDan</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Magic, thanks for the info muddy.<br><br>Now I have this<br><br><pre class=code>
Local totaldata:String = LoadString("text.txt")
Local lines:String[] = totaldata.Split(String.FromChar(10))
For Local line:= Eachin lines
   If line = "" Then Continue
   Local data$[] = line.Split(",")
Next	
Print data[100]	
</pre><br><br>...but I get the error "Identifer 'data' not found."  I guess I need to set up 'data' earlier but I'm not sure how.<br><br>Thanks. <br><br></td></tr></table><br>
<a name="2029522"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >muddy_shoes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> The issue is that data is defined inside the For loop and you're trying to access it outside of the loop. If you move the print line inside the loop, after the "Local data$[] = ..." line then it might work if you have that many elements.<br><br>Is that literally all the code that you're trying to compile? If not, can you post the whole thing in a codebox? <br><br></td></tr></table><br>
<a name="2029523"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SuperDan</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> LOL, thanks again muddy.  I am a SuperNoob but I do actually have a full program to compile. <br><br>I set up the data variable outside the For loop and now it works.  Super, smashing.  Here is the code now.<br><br><pre class=code>
Local totaldata:String = LoadString("text.txt")
Local lines:String[] = totaldata.Split(String.FromChar(10))
Local data$[]
For Local line:= Eachin lines
    If line = "" Then Continue
    data = line.Split(",")
Next	
Print data[81]	
</pre><br><br>Great work, thank you so much!<br>Dan. <br><br></td></tr></table><br>
<a name="2029531"></a>

<a name="2029532"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skid</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you want to keep it optimal go with "a data list":<br><br><pre class=code>
Global a[]=[
	1,2,3,4,5,6,7,8,9,10,
	1,2,3,4,5,6,7,8,9,10,
	1,2,3,4,5,6,7,8,9,10,
	1,2,3,4,5,6,7,8,9,10,
	1,2,3,4,5,6,7,8,9,10,
	1,2,3,4,5,6,7,8,9,10,
	1,2,3,4,5,6,7,8,9,10,
	1,2,3,4,5,6,7,8,9,10,
	1,2,3,4,5,6,7,8,9,10,
	1,2,3,4,5,6,7,8,9,10,
	1,2,3,4,5,6,7,8,9,10,
	1,2,3,4,5,6,7,8,9,10,
	1,2,3,4,5,6,7,8,9,10,
	1,2,3,4,5,6,7,8,9,10,
	1,2,3,4,5,6,7,8,9,10,
	1,2,3,4,5,6,7,8,9,10,
	5,6,7]

Function Main()
	Print "hello"+a.Length
End
</pre> <br><br></td></tr></table><br>
<a name="2029548"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> That's because:<br><br>Local lines = totaldata.Split(String.FromChar(10))<br><br>defines lines as an Int as the default.  <br></div><br><br>If you do <br><pre class=code>
Local lines := totaldata.Split(String.FromChar(10))
</pre><br><br>It will automatically take the type from the expression that is assigned to it. Split will return a string array. <br>Because of the ":=" operator, lines will become a string array. <br><br></td></tr></table><br>
<a name="2029547"></a>

<a name="2029546"></a>

<a name="2029617"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SuperDan</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is all great info, thanks guys. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
