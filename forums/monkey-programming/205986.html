<!DOCTYPE html><html lang="en" ><head ><title >Ouya controls</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Ouya controls</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Ouya controls</a><br><br>
<a name="2068429"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sensei</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi guys,<br><br>I've searched and found a few discussions on the Ouya controller support here in the forums, but there's too many variations and old discussions about how it's done.<br><br>Basically, I'm running Monkey v73b and have my game compiling fine on the Ouya. The only problem is I am unable to control it due to lack of controller support. I don't care about multiple controllers at this point, I just want the first one to work!<br><br>So, saying that, what's the easiest solution to get Ouya controller support into my game?<br><br>As an additional related question: If I needed to or wanted to run/test a newer version of Monkey and be able to use the same working Targets, do I just copy the Targets folder over to the newer Monkey version or is it unneccessary? The reason for my question, is because I am aware that Mark included official Ouya support in one of the newer versions of Monkey, so I wonder if I just try running that instead.<br><br>I'm still very new with Monkey, so please excuse the idiotic questions. <br><br></td></tr></table><br>
<a name="2068503"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> looks like the Ouya target has gamepad turned off, which probably shouldn't be:<br><pre class=code>
#ANDROID_GAMEPAD_ENABLED=False
</pre><br>turn that to true, or add it to the top of your file.<br><br>THen use JoyX(0) and JoyY(0) to get the directional float numbers.<br><br><div class="quote">  If I needed to or wanted to run/test a newer version of Monkey and be able to use the same working Targets, do I just copy the Targets folder over to the newer Monkey version or is it unneccessary? <br></div><br>i don't think so. sometimes new versions have fixes in the target files. the file to copy is usually the bin/config.txt files.<br><br>did you make modifications to the target files? if so, it's better to make a copy of the target folder, and name it to something else, then make modifications. the newer versions will automatically pick up the new folder. <br><br></td></tr></table><br>
<a name="2068562"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >computercoder</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Sensei:<br><br>If you want to use the OFFICIAL Ouya Target, get Monkey v75d. It has FULL support for OUYA in it, including IAP and multiple controllers - PLUS it has mappings now to include the left and right stick buttons and proper functioning of the MENU button. It is VERY easy to use.<br><br>Mark's version of OUYA works just like the Android target.<br><br>Here is some code to get you using all four of the OUYA controllers, plus the mappings I made to make it easier to get at the OUYA controls using Mark's commands.<br><br><pre class=code>
#ANDROID_GAMEPAD_ENABLED=True

Import mojo

Class MyApp Extends App

	Method OnCreate()
		SetUpdateRate 15
	End
	
	Method OnUpdate()
	End
	
	Method OnRender()
		Scale DeviceWidth/800.0,DeviceHeight/460.0
		Cls
		For Local port:=0 Until 4
			PushMatrix
			Translate port*200,0
			DrawText "Port             " + port,0,0
			DrawText "LeftStickX       " + OuyaController.LeftStickX( port ),0,20
			DrawText "LeftStickY       " + OuyaController.LeftStickY( port ),0,40
			DrawText "LeftTrigger      " + OuyaController.LeftTrigger( port ),0,60
			DrawText "RightStickX      " + OuyaController.RightStickX( port ),0,80
			DrawText "RightStickY      " + OuyaController.RightStickY( port ),0,100
			DrawText "RightTrigger     " + OuyaController.RightTrigger( port ),0,120
			DrawText "O                " + OuyaController.O( port ),0,140
			DrawText "U                " + OuyaController.U( port ),0,160
			DrawText "Y                " + OuyaController.Y( port ),0,180
			DrawText "A                " + OuyaController.A( port ),0,200
			DrawText "LeftBumper       " + OuyaController.LeftBumper( port ),0,220
			DrawText "RightBumper      " + OuyaController.RightBumper( port),0,240
			DrawText "DPadUp           " + OuyaController.DPadUp( port ),0,260
			DrawText "DPadDown         " + OuyaController.DPadDown( port ),0,280
			DrawText "DPadLeft         " + OuyaController.DPadLeft( port ),0,300
			DrawText "DPadRight        " + OuyaController.DPadRight( port ),0,320
			DrawText "LeftStickButton  " + OuyaController.LeftStickButton( port ),0,340
			DrawText "RightStickButton " + OuyaController.RightStickButton( port ),0,360
			DrawText "MenuButton       " + OuyaController.MenuButton( port ),0,380
			DrawText "TouchpadButton   " + OuyaController.TouchpadButton(),0,400
			DrawText "TouchpadX        " + OuyaController.TouchpadX(),0,420
			DrawText "TouchpadY        " + OuyaController.TouchpadY(),0,440		
			PopMatrix
		Next
	End

End

Function Main()

	New MyApp
	
End


Class OuyaController
	Const OUYA_O:Int = JOY_A
	Const OUYA_U:Int = JOY_X
	Const OUYA_Y:Int = JOY_Y
	Const OUYA_A:Int = JOY_B
	
	Const OUYA_LB:Int = JOY_LB
	Const OUYA_RB:Int = JOY_RB
	Const OUYA_LSB:Int = JOY_LSB
	Const OUYA_RSB:Int = JOY_RSB
	
	Const OUYA_MENU:Int = JOY_MENU
	
	Const OUYA_DPAD_UP:Int = JOY_UP
	Const OUYA_DPAD_DOWN:Int = JOY_DOWN
	Const OUYA_DPAD_LEFT:Int = JOY_LEFT
	Const OUYA_DPAD_RIGHT:Int = JOY_RIGHT

	Function O:Int(port:Int=0)
		Return JoyDown(OUYA_O,port)
	End Function

	Function U:Int(port:Int=0)
		Return JoyDown(OUYA_U,port)
	End Function

	Function Y:Int(port:Int=0)
		Return JoyDown(OUYA_Y,port)
	End Function

	Function A:Int(port:Int=0)
		Return JoyDown(OUYA_A,port)
	End Function

	Function LeftBumper:Int(port:Int=0)
		Return JoyDown(OUYA_LB,port)
	End Function

	Function RightBumper:Int(port:Int=0)
		Return JoyDown(OUYA_RB,port)
	End Function

	Function DPadUp:Int(port:Int=0)
		Return JoyDown(OUYA_DPAD_UP,port)
	End Function

	Function DPadDown:Int(port:Int=0)
		Return JoyDown(OUYA_DPAD_DOWN,port)
	End Function

	Function DPadLeft:Int(port:Int=0)
		Return JoyDown(OUYA_DPAD_LEFT,port)
	End Function

	Function DPadRight:Int(port:Int=0)
		Return JoyDown(OUYA_DPAD_RIGHT,port)
	End Function

	Function LeftTrigger:Float(port:Int=0)
		Return JoyZ(0,port)
	End Function
		 
	Function LeftStickX:Float(port:Int=0)
		Local x:Float = JoyX(0,port)
		If x &gt; 0 And x &lt; 0.09 Then x = 0
		Return x
	End Function
		 
	Function LeftStickY:Float(port:Int=0)
		Local y:Float = JoyY(0,port)
		If y &gt; 0 And y &lt; 0.09 Then y = 0
		Return y
	End Function
		 
	Function LeftStickButton:Int(port:Int=0)
		Return JoyDown(OUYA_LSB,port)
	End Function
	
	Function RightTrigger:Float(port:Int=0)
		Return JoyZ(1,port)
	End Function
		 
	Function RightStickX:Float(port:Int=0)
		Local x:Float = JoyX(1,port)
		If x &gt; 0 And x &lt; 0.09 Then x = 0
		Return x
	End Function
		 
	Function RightStickY:Float(port:Int=0)
		Local y:Float = JoyY(1,port)
		If y &gt; 0 And y &lt; 0.09 Then y = 0
		Return y
	End Function
	
	Function RightStickButton:Int(port:Int=0)
		Return JoyDown(OUYA_RSB,port)
	End Function
	
	Function MenuButton:Int(port:Int=0)
		Return JoyDown(OUYA_MENU,port)
	End Function
	
	Function TouchpadButton:Int()
		Return TouchDown(0)
	End Function
	
	Function TouchpadX:Float()
		Return TouchX(0)
	End Function
	
	Function TouchpadY:Float()
		Return TouchY(0)
	End Function
	
End 
</pre><br><br>[EDIT] Forgot the Scale and Push/PopMatrix commands to format it right :P<br><br>[EDIT #2] Updated the scale and translate to correctly show all of the contents <br><br></td></tr></table><br>
<a name="2068522"></a>

<a name="2068521"></a>

<a name="2068520"></a>

<a name="2068519"></a>

<a name="2068518"></a>

<a name="2068514"></a>

<a name="2068505"></a>

<a name="2068506"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sensei</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow! Thanks a ton guys! This is exactly what I was looking for. Good clear up-to-date info on Ouya controller use :-) <br><br>I'll test this later tonight! <br><br></td></tr></table><br>
<a name="2068535"></a>

<a name="2068536"></a>

<a name="2068537"></a>

<a name="2068538"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sensei</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, I tested this out on Monkey73b.<br>Firstly, the LSB, RSB and Menu buttons throw errors, so had to comment them out.<br><br>Secondly I ran this both in HTML5, where you can see the mouse reacting and displaying a port, button and x/y positions:<br>www.dropbox.com/s/ozhetrs6l63xpjd/IMAG0571.jpg<br><br>On the ouya, I just get this:<br>www.dropbox.com/s/bwcgubbcrrod341/IMAG0572.jpg<br><br>(Sorry, not sure how to directly link images in this forum!)<br>So from what I can tell, it's not finding the controller.<br>I did make sure to have #ANDROID_GAMEPAD_ENABLED=True at the top of the page (above Import mojo)<br><br>The reason I haven't tested this in Monkey75d is simply because the ouya target doesn't appear in the drop-down list in Ted or Mollusk. I'm guessing something needs to be set/configured, so I'll dig around to see why it's not coming up as a compiler option.<br><br>Other than the above, anyone else tried this and got it working?<br><br>PS. If I were to save out the Ouya controller class into a separate file for future usage in other apps, do I just save it as ie. ouya_controller.monkey and at the top of my main code page do:<br><pre class=code>
import mojo
import ouya_controller
</pre><br><br>Edit:<br>Just discovered an examples folder on the Ouya target I built from the Git version.<br>It works with that!<br>Obv the top left and right paddles don't respond, and neither do  A, Y and U, but O does, so it's a start. :) <br><br></td></tr></table><br>
<a name="2068533"></a>

<a name="2068534"></a>

<a name="2068557"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >computercoder</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> The reason it is not showing up in the newer version of Monkey 75d is because the new version isn't setup to see where your android sdk is located at.<br><br>There is a little information in Monkey's HELP for the Android Target for how/what to setup.<br><br>You can just copy and paste the following section from your config.winnt.txt, or config.macos.txt or config.linux.tx files in Monkey v73b to v75d. Don't copy from this post, as these are the defaults Monkey has for each of the config files.<br><br>If you are using Mac OS X:<br><pre class=code>
'--------------------
'Android SDK and tool paths.
'
'Must be set to a valid for for ANDROID target support
'
'Android SDK
ANDROID_PATH="${HOME}/android-sdk-macosx"
'--------------------
</pre><br><br>If you are using Windows:<br><pre class=code>
'--------------------
'Ant build tool path
'
'Must be set to a valid dir for ANDROID target support
'
'Ant is currently available here: 
'	<a href="http://ant.apache.org/bindownload.cgi" target="_blank">http://ant.apache.org/bindownload.cgi</a>
'
ANT_PATH="${SYSTEMDRIVE}\monkey_sdks\apache-ant-1.8.4"
ANT_PATH="${SYSTEMDRIVE}\apache-ant-1.8.4"
ANT_PATH="${SYSTEMDRIVE}\apache-ant-1.8.2"
ANT_PATH="${SYSTEMDRIVE}\ant"
'--------------------
</pre><br><br>If you are using Linux:<br><pre class=code>
'--------------------
'Android SDK and tool paths.
'
'Must be set to a valid for for ANDROID target support.
'
ANDROID_PATH="${HOME}/android-sdk-linux"
'--------------------
</pre><br>Once you have the proper path set, Ted and Mollusk with find both "Android Game" and "Android (Ouya) Game" targets.<br><br>Try using the code I supplied above with 75d and the "Android (Ouya) Game" target. <br><br>Hope this helps! :) <br><br></td></tr></table><br>
<a name="2068558"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sensei</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sweet thanks a lot! I'll try this tonight.<br><br>Sometimes I do wish these type of things were better documented and clearer.  It's things like these that'll stop more people from adopting Monkey, IMHO. <br><br></td></tr></table><br>
<a name="2068559"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >computercoder</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> You're welcome :)<br><br>I agree. The documents seemingly are constantly in need of updating. Guess it helps that these forums can provide the parts that are missing. :)<br><br>Also, you *may* be able to just simply copy and paste the config files from v73b to v75d. They are located in the "bin" folder. I'd suggest backing up v75d's config files first (in case you need to go back) then copy over the ones from v73b and have a go with that. The problem is that I am unsure of what changes have been made to the files, and what else will be disturbed in doing so. Best bet is to just copy the android related parts over individually. <br><br></td></tr></table><br>
<a name="2068564"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >computercoder</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just noticed the links to the pics you provided! Sorry about not noticing them earlier, but I think I need to make a correction to the scale. I'll update my code. I'm not with my OUYA at the moment, so my appologies for not having it right. I whipped up the controller class example on the fly, but used my actual controller class that works. <br><br>o O<br> -<br><br>It may be a few hours before I can make sure it work properly when I return home. I'll try it out here with HTML5 to see if I can get the scale right there as well.<br><br>[EDIT] I updated the post above to reflect the changes. I tested it on HTML5 and now all values show correctly on-screen. Something else worth noting: The "Touchpad" on the OUYA for all controllers control the SAME mouse. So every controller moves the mouse around. I don't see a way to separate which controller does what with each mouse independently in the OUYA ODK either. I'd love to determine which controller did what with the mouse, and allow a primary controller to utilize the on-screen mouse. Perhaps eventually OUYA will make this change? Either that, or I missed something there and it does separate them? <br><br></td></tr></table><br>
<a name="2068560"></a>

<a name="2068561"></a>

<a name="2068563"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sensei</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> You're a bit of a legend, aren't you just?<br>Might have to buy you a beer sometime :-) <br><br></td></tr></table><br>
<a name="2068566"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >computercoder</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>You're a bit of a legend, aren't you just?<br> <br></div><br>I just enjoy what I do. If I can help and I know how to do what you need done, I'll provide what I can :)<br><br><div class="quote"> <br>Might have to buy you a beer sometime :-) <br> <br></div><br>Since I don't drink, I'll catch up with a good Ice Cold Coke :) You can have the beer mate. Cheers! <br><br></td></tr></table><br>
<a name="2068607"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sensei</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well matey, many thanks for your help so far. I updated my windows config.winnt.txt file. The only difference was the Ant path, which I duplicated from my 73b config. Still not seeing Ouya option in 75d. I'll dig around some more to see what I might be missing.<br>I'm guessing there's no recompiling of transcc involved I hope! <br><br></td></tr></table><br>
<a name="2068611"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >computercoder</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmmm. Do you see Android? I'll recheck my settings here (I'm on a Mac, so I will be of limited help on Windows)<br><br>You will not need to recompile the Transcc for the Official OUYA Target.<br><br>It should just work if you have the same settings as 73b has.  <br><br>I'll investigate on my end and post back. :) <br><br></td></tr></table><br>
<a name="2068613"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >computercoder</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, what I see in the config.winnt.txt file is this for v75d:<br><br><pre class=code>

'--------------------
'Java dev kit path
'
'Must be set to a valid dir for ANDROID and FLASH target support
'
'Make sure to install the 32 bit JDK, even on 64 bit Windows!
'
'The Java JDK is currently available here:
'	<a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank">http://www.oracle.com/technetwork/java/javase/downloads/index.html</a>
'
JDK_PATH="${PROGRAMFILES}\Java\jdk1.7.0_17"
JDK_PATH="${PROGRAMFILES}\Java\jdk1.7.0_02"
JDK_PATH="${PROGRAMFILES}\Java\jdk1.6.0_23"
JDK_PATH="${PROGRAMFILES}\Java\jdk1.6.0_21"
JDK_PATH="${PROGRAMFILES}\Java\jdk1.6.0_19"
'--------------------

'--------------------
'Android SDK and tool paths.
'
'Must be set to a valid dir for ANDROID target support
'
ANDROID_PATH="${SYSTEMDRIVE}\monkey_sdks\android-sdk-windows"
ANDROID_PATH="${SYSTEMDRIVE}\android-sdk-windows"
'--------------------

'--------------------
'Android NDK
'
'Must be set to a valid dir for ANDROID NDK target support
'
ANDROID_NDK_PATH="${SYSTEMDRIVE}\android-ndk-r9"
'--------------------
</pre><br><br>All I can think of here is that the path you used for ANDROID_PATH, JDK_PATH, or ANDROID_NDK is off. <br><br>Have you tried simply copying the file from 73b to 75d? Its strange that 73b works, but 75d does not. <br><br></td></tr></table><br>
<a name="2068628"></a>

<a name="2068629"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sensei</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've not copied it across yet but I did check to make sure android, jdk etc are the same, which they are. I don't see android on the drop-down list in 75d either, funnily enough.<br>I'll investigate more this evening. <br><br></td></tr></table><br>
<a name="2068667"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sensei</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi @computercoder<br>So.. turns out all the targets work on Monkey 75d today. It didn't last night. Then it hit me. The paths needed updating which was resolved after effectively rebooting the pc.<br>Since I also took the liberty of installing 32bit MinGW, I can now compile C++ tool target too. \o/<br>And ofcourse, I can now see Android and Android_Ouya targets :)<br>Now I'll put together something small to see what type of key controls trigger on this version of Monkey for Ouya then, out of the box.. <br><br></td></tr></table><br>
<a name="2068673"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >computercoder</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sweet! Amazing what a reboot will do :) <br><br></td></tr></table><br>
<a name="2068677"></a>

<a name="2068678"></a>

<a name="2068679"></a>

<a name="2068682"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sensei</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hehe yeah. Only problem now is, with the "stock" Ouya code for 75d, I'm getting zero control.<br>I have #ANDROID_GAMEPAD_ENABLED=True above Strict and Import mojo.<br>I also have tried the following of which none seem to be working:<br><pre class=code>
 #If TARGET="Android (Ouya) Game"
        DrawText("Android (Ouya) Game!", 10, 10)
        #End
        #If TARGET="android_ouya"
        DrawText("android_ouya!", 10, 30)
        #End
        #If TARGET="ouya"
        DrawText("ouya!", 10, 50)
        #End
        #IF TARGET="ouya"
        DrawText("ouya ++!", 10, 50)
        #END
</pre><br><br>I'm confused as to what exactly I'm targetting. The folder is called android_ouya, the target name in the drop-down in monkey is "Android (Ouya) Game" and the TARGET.Monkey file has:<br><br>#TARGET_NAME="Android (Ouya) Game"<br>#TARGET_SYSTEM="android"<br>#TARGET_BUILDER="android"<br><br>As I said, none of these display on the Ouya screen (it's all under the OnRender method, which displays when I test on html5 build- by which I mean the "standard" Ouya KeyDown names like Key_O triggers, etc.)<br><br>So, until I have 100% certainty on targetting the Ouya, I am unable to get controls working.<br><br>PS. Your example code above, only has the touchX, touchY and touchButton responding.. (I thought I'd try it as a last resort)<br><br>PPS. Off to bed now but going to give your code from here a try tomorrow:<br><a href="http://www.monkeycoder.co.nz/Community/post.php?topic=4760&amp;post=65451" target="_blank">http://www.monkeycoder.co.nz/Community/post.php?topic=4760&amp;post=65451</a> <br><br></td></tr></table><br>
<a name="2068676"></a>

<a name="2068683"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >computercoder</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> You only get #If TARGET=android because its the Android platform that OUYA is based on. There is not another preprocessor directive you can use to distinguish this.<br><br>HOWEVER, AdamRedwoods pointed out that you CAN add #OUYA=True to the CONFIG.MONKEY file for the OUYA target. Also, while you are in there, add the #ANDROID_GAMEPAD_ENABLED=True along with it. You will no longer have to remember to add it for each app you make. Then you simply can do the following:<br><br><pre class=code>
	#If OUYA	        
		DrawText("OUYA is True",0,0) 
	#Else
		DrawText("OUYA is False",0,0)
	#End
</pre><br><br>I'll take a few minutes after dinner (yeah we eat late) and set down on the the OUYA and my Mac to sort this out :) <br><br></td></tr></table><br>
<a name="2068685"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >computercoder</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> I played around with the code I posted with the OUYA and everything works for all four controllers. I did the following:<br><br>1) copied and pasted the code from here into TED<br>2) saved it<br>3) selected the "Android (Ouya) Game" target<br>4) hit the build and run button<br><br>I tried both Release and Debug with both working identically.<br><br>I just updated tonight to Build Number 1.0.561_r1 on the OUYA.<br><br>Re-reading what you posted, make sure you use my controller mappings with the "Android (Ouya) Game" target in v75d. The Community Edition (from GitHub) will not map correctly as that one uses KeyDown(), not JoyDown(). And ALL of those mappings will not map correctly into the JoyDown mappings. <br><br></td></tr></table><br>
<a name="2068699"></a>

<a name="2068700"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sensei</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks once again mate! It's becoming clearer now how this all works, hoho.<br>Pretty sure I'll have it cracked tonight.<br>I like the idea of Adam's #If OUYA code. Will this be useful to distinguish between regular Android and Ouya I wonder?<br>Something like:<br><br><pre class=code>
#If TARGET="android"
   #If OUYA
      ' Do this
   #Else
      ' Do something else
   #End
#End
</pre><br><br>I'm guessing by your mappings, you mean the code in this thread higher up?<br>I tried that and it didn't work. However, I wonder why, as I tried both your mappings and the "standard" mappings as I said, of which neither worked.<br>I'll do a clean simple program test again tonight and once I have it sorted, I'll integrate it into my game. <br><br></td></tr></table><br>
<a name="2068718"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >computercoder</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>I like the idea of Adam's #If OUYA code. Will this be useful to distinguish between regular Android and Ouya I wonder?<br>Something like:<br><br><pre class=code>
#If TARGET="android"
   #If OUYA
      ' Do this
   #Else
      ' Do something else
   #End
#End
</pre><br> <br></div><br><br>Almost. You can't nest the directive tags that way. You would need to do something like this:<br><pre class=code>
' This will actually be in the CONFIG.MONKEY for the android_ouya target
' For demonstration purposes I added it here
#OUYA=True

Import mojo

Class MyApp Extends App

	Method OnCreate()
		SetUpdateRate 15
	End
	
	Method OnUpdate()
	End
	
	Method OnRender()
		Scale DeviceWidth/400.0,DeviceHeight/440.0
		Cls
		#If OUYA
			DrawText "OUYA is True",20,20
		#Elseif TARGET="android"
			DrawText "Android is True",20,20
		#Else
			DrawText "Default is met",20,20
		#End
	End

End

Function Main()

	New MyApp
	
End
</pre><br><br>You need to check for the special directive first, because otherwise the main ones will be met and the OUYA directive will never be checked.<br><br><div class="quote"> <br>I'm guessing by your mappings, you mean the code in this thread higher up?<br> <br></div><br>Yes! Just copy and paste that code into a fresh file. save it and compile it against "Android (Ouya) Game". It should work right out of the box. I'm not sure if having the controllers on first makes any difference. Try turning them on before you launch it. <br><br></td></tr></table><br>
<a name="2068721"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sensei</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool, thanks a mil!<br>I'll give this a bash tonight. This direction is looking very promising :)<br><br>My mate's been harping on about me wasting time with these target issues instead of more coding time on the game, but IMO, if I deal with these problems now, it means I won't need to come back into the game code later and hack it to bits to get the targets and functionality working as they should, so I'm sticking by my guns.. <br><br></td></tr></table><br>
<a name="2068722"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ElectricBoogaloo</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's good to get your targets all sorted before you start..<br>.. trust me on this..<br>Having written 28 games over the past 10 months, I now have to go right back to the beginning again, and "fix" the whole bunch of them to get them working right on OUYA.<br>GAH!<br>Coding is fun, Monkey makes it a whole lot easier, but as soon as you try to add something new into the mix, it all goes to pot! <br><br></td></tr></table><br>
<a name="2068729"></a>

<a name="2068730"></a>

<a name="2068731"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >computercoder</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Agreed. What I think everyone will eventually learn is how to make the changes as minimal as possible through really good coding practices and software design. Even with all that, you'll always need to make tweeks.<br><br>[EDIT] When you make the changes to CONFIG.MONKEY, delete the project's BUILD folder first, and then have a go. This way the CONFIG.MONKEY gets processed and the #OUYA directive will(should) work. <br><br></td></tr></table><br>
<a name="2068798"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sensei</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Superb matey. I tested the example again tonight and the Ouya controls all work, even the menu button.<br>Weird thing is when I try import the Ouya class in a seperate file, it errors out on compile with "Unable to find JOY_LEFT", but works perfectly fine when the class is directly in the main source code!? <br>Maybe I need to instantiate it first, like:<br><pre class=code>
Field ouyaControl := new OuyaController()
</pre><br><br>I added the #Ouya = TRUE in the config.monkey as you suggested, along with enabling the controller.<br>I made a new folder, copied the test.monkey file and did a build and it still reports as Android, not Ouya in:<br><pre class=code>
#If TARGET="android"
   #If OUYA
      ' Do this
   #Else
      ' Do something else
   #End
#End
</pre> <br><br></td></tr></table><br>
<a name="2068802"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >computercoder</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> You don't need to do all that for the OuyaController Class. Just add the following line to the very top of the file:<br><pre class=code>
Import mojo.input

Class OuyaController
.
.
.
End
</pre><br>Once you have that, it'll work just fine.<br><br>As far as the #OUYA directive. I was not able to get it to work like it was suggested to me. I merely tried using it with my OUYA in the CONFIG.MONKEY and it doesn't know anything about it... BUT I am able to get it working on the main game file.<br><br>In fact, here's a nice example using #OUYA.<br><br>I called this "ouyatest.monkey"<br><pre class=code>
#OUYA=True

Import mojo
Import ouyatestrender

Class MyApp Extends App

	Method OnCreate()
		SetUpdateRate 15
	End
	
	Method OnUpdate()
	End
	
	Method OnRender()
		Draw.Render()
	End

End

Function Main()

	New MyApp
	
End
</pre><br><br>I called this one "ouyatestrender.monkey"<br><pre class=code>
Import mojo
Import ouyacontroller

Class Draw

	Function Render()
	
		Scale DeviceWidth/800.0,DeviceHeight/460.0
		Cls
		For Local port:=0 Until 4
			PushMatrix
			Translate port*200,0
			
			DrawText "Port             " + port,0,0
			DrawText "LeftStickX       " + OuyaController.LeftStickX( port ),0,20
			DrawText "LeftStickY       " + OuyaController.LeftStickY( port ),0,40
			DrawText "LeftTrigger      " + OuyaController.LeftTrigger( port ),0,60
			DrawText "RightStickX      " + OuyaController.RightStickX( port ),0,80
			DrawText "RightStickY      " + OuyaController.RightStickY( port ),0,100
			DrawText "RightTrigger     " + OuyaController.RightTrigger( port ),0,120
			DrawText "O                " + OuyaController.O( port ),0,140
			DrawText "U                " + OuyaController.U( port ),0,160
			DrawText "Y                " + OuyaController.Y( port ),0,180
			DrawText "A                " + OuyaController.A( port ),0,200
			DrawText "LeftBumper       " + OuyaController.LeftBumper( port ),0,220
			DrawText "RightBumper      " + OuyaController.RightBumper( port),0,240
			DrawText "DPadUp           " + OuyaController.DPadUp( port ),0,260
			DrawText "DPadDown         " + OuyaController.DPadDown( port ),0,280
			DrawText "DPadLeft         " + OuyaController.DPadLeft( port ),0,300
			DrawText "DPadRight        " + OuyaController.DPadRight( port ),0,320
			DrawText "LeftStickButton  " + OuyaController.LeftStickButton( port ),0,340
			DrawText "RightStickButton " + OuyaController.RightStickButton( port ),0,360
			DrawText "MenuButton       " + OuyaController.MenuButton( port ),0,380
			DrawText "TouchpadButton   " + OuyaController.TouchpadButton(),0,400
			DrawText "TouchpadX        " + OuyaController.TouchpadX(),0,420
			DrawText "TouchpadY        " + OuyaController.TouchpadY(),0,440		

			#If OUYA 
				DrawText ":)", 30,0
			#Else 
				DrawText ":(", 30,0
			#End
			 
			PopMatrix
		Next
	
	End
	
End
</pre><br><br>And finally, I called this one "ouyacontroller.monkey"<br><pre class=code>
Import mojo.input

Class OuyaController
	Const OUYA_O:Int = JOY_A
	Const OUYA_U:Int = JOY_X
	Const OUYA_Y:Int = JOY_Y
	Const OUYA_A:Int = JOY_B
	
	Const OUYA_LB:Int = JOY_LB
	Const OUYA_RB:Int = JOY_RB
	Const OUYA_LSB:Int = JOY_LSB
	Const OUYA_RSB:Int = JOY_RSB
	
	Const OUYA_MENU:Int = JOY_MENU
	
	Const OUYA_DPAD_UP:Int = JOY_UP
	Const OUYA_DPAD_DOWN:Int = JOY_DOWN
	Const OUYA_DPAD_LEFT:Int = JOY_LEFT
	Const OUYA_DPAD_RIGHT:Int = JOY_RIGHT

	Function O:Int(port:Int=0)
		Return JoyDown(OUYA_O,port)
	End Function

	Function U:Int(port:Int=0)
		Return JoyDown(OUYA_U,port)
	End Function

	Function Y:Int(port:Int=0)
		Return JoyDown(OUYA_Y,port)
	End Function

	Function A:Int(port:Int=0)
		Return JoyDown(OUYA_A,port)
	End Function

	Function LeftBumper:Int(port:Int=0)
		Return JoyDown(OUYA_LB,port)
	End Function

	Function RightBumper:Int(port:Int=0)
		Return JoyDown(OUYA_RB,port)
	End Function

	Function DPadUp:Int(port:Int=0)
		Return JoyDown(OUYA_DPAD_UP,port)
	End Function

	Function DPadDown:Int(port:Int=0)
		Return JoyDown(OUYA_DPAD_DOWN,port)
	End Function

	Function DPadLeft:Int(port:Int=0)
		Return JoyDown(OUYA_DPAD_LEFT,port)
	End Function

	Function DPadRight:Int(port:Int=0)
		Return JoyDown(OUYA_DPAD_RIGHT,port)
	End Function

	Function LeftTrigger:Float(port:Int=0)
		Return JoyZ(0,port)
	End Function
		 
	Function LeftStickX:Float(port:Int=0)
		Local x:Float = JoyX(0,port)
		If x &gt; 0 And x &lt; 0.09 Then x = 0
		Return x
	End Function
		 
	Function LeftStickY:Float(port:Int=0)
		Local y:Float = JoyY(0,port)
		If y &gt; 0 And y &lt; 0.09 Then y = 0
		Return y
	End Function
		 
	Function LeftStickButton:Int(port:Int=0)
		Return JoyDown(OUYA_LSB,port)
	End Function
	
	Function RightTrigger:Float(port:Int=0)
		Return JoyZ(1,port)
	End Function
		 
	Function RightStickX:Float(port:Int=0)
		Local x:Float = JoyX(1,port)
		If x &gt; 0 And x &lt; 0.09 Then x = 0
		Return x
	End Function
		 
	Function RightStickY:Float(port:Int=0)
		Local y:Float = JoyY(1,port)
		If y &gt; 0 And y &lt; 0.09 Then y = 0
		Return y
	End Function
	
	Function RightStickButton:Int(port:Int=0)
		Return JoyDown(OUYA_RSB,port)
	End Function
	
	Function MenuButton:Int(port:Int=0)
		Return JoyDown(OUYA_MENU,port)
	End Function
	
	Function TouchpadButton:Int()
		Return TouchDown(0)
	End Function
	
	Function TouchpadX:Float()
		Return TouchX(0)
	End Function
	
	Function TouchpadY:Float()
		Return TouchY(0)
	End Function
	
End 
</pre><br><br>So the idea here was to see if #OUYA=True is visible on Imported code files, plus to show you how to include the OuyaController class :)<br><br>Save each file as I labeled them so they will work properly, or change the Import names to what you want to call them. Compile and run them against the Android (Ouya) Game target on v75d.<br><br>When it executes, you should see :) just to the right of each Port number. <br><br></td></tr></table><br>
<a name="2068801"></a>

<a name="2068806"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sensei</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ahhhh. Now I'm starting to understand how functions are used in classes and I wasn't including Mojo.input at the top of the imported file. Makes so much sense now.<br><br>Thanks once again computercoder. <br><br></td></tr></table><br>
<a name="2068814"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sensei</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> Happy to report my game is working with the Ouya controller!<br>Super happy, thanks computercoder!<br><br>Only thing that I'm still confused with is the #OUYA=True aspect. Since my game will be multi-platform, how will I be able to distinguish between my regular Android specific touch and other related things and the Ouya?<br>When I add #OUYA=True to the config.monkey in the target/template folder, the code doesn't appear to pick it up:<br><pre class=code>
#ADMOB_PUBLISHER_ID="abcdabcdabcdabc"							'from your admod account
#ADMOB_ANDROID_TEST_DEVICE1="TEST_EMULATOR"
#ADMOB_ANDROID_TEST_DEVICE2="ABCDABCDABCDABCDABCDABCDABCDABCD"	'your device's admob ID for test mode
#ADMOB_ANDROID_TEST_DEVICE3=""
#ADMOB_ANDROID_TEST_DEVICE4=""

#MOJO_HICOLOR_TEXTURES=True
#MOJO_IMAGE_FILTERING_ENABLED=True

#ANDROID_APP_LABEL="SpaceWhale"
#ANDROID_APP_PACKAGE="com.monkeycoder.monkeygame"
#ANDROID_SCREEN_ORIENTATION="landscape"					'"user", "portrait", "landscape"
#ANDROID_GAMEPAD_ENABLED=False
#ANDROID_VERSION_CODE="1"
#ANDROID_VERSION_NAME="1.0"

#ANDROID_KEY_STORE="../../release-key.keystore"
#ANDROID_KEY_ALIAS="release-key-alias"
#ANDROID_KEY_STORE_PASSWORD="password"
#ANDROID_KEY_ALIAS_PASSWORD="password"
#ANDROID_SIGN_APP=False

#OPENGL_GLES20_ENABLED=False

#ANDROID_NATIVE_GL_ENABLED=False

#ANDROID_OUYA_DEVELOPER_UUID="xxxxxxxx-yyyy-zzzz-yyyy-xxxxxxxxxxxx"	'from the main developer portal page

#TEXT_FILES="*.txt|*.xml|*.json"
#IMAGE_FILES="*.png|*.jpg|*.gif|*.bmp"
#SOUND_FILES="*.wav|*.ogg|*.mp3|*.m4a"
#MUSIC_FILES="*.wav|*.ogg|*.mp3|*.m4a"
#BINARY_FILES="*.bin|*.dat"

#OUYA=True
#ANDROID_GAMEPAD_ENABLED=True
</pre><br><br>It does pick it up when in the main source file, obviously, but then it leaves me back to my question. <br><br></td></tr></table><br>
<a name="2068815"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ElectricBoogaloo</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> Indeed.  Alarming amount of misinformation, there!  Guys, if you're going to suggest something, TEST IT FIRST!!!!<br><br>And, for absolute testing, there's nothing better than failure.  If you can reproduce a failure, then it means your little bit of code is indeed doing something.  If your code "happily compiles with my new code" then it's no guarantee it's doing anything at all, since Monkey (without Strict mode enabled) will quite happily compile any old garbage!!   Heck, it compiles MY code!!  Failure should be your first test. <br><br></td></tr></table><br>
<a name="2068816"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sensei</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah I get many failures at this point in time. God, it's amazing how little you know at the start and how many points of failure there are. It's great fun though!<br>Looking at the included examples, I'm learning a lot more. Especially how to go about seperating code, classes, functions, how to use them in Monkey, etc. Very cool stuff.<br>For now, I'll leave these Ouya specific niggles (just this one #Ouya thing anyway) as it's not important now.<br><br>Very happy with all the help I've received here so far. @computercoder: I owe you a couple of cokes :) <br><br></td></tr></table><br>
<a name="2068817"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >computercoder</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> I agree misinformation does some terrible things. I wish I tried the #OUYA thing prior to "thinking" it'd work since it DID work when I added it to my main app file, but not the CONFIG.MONKEY file. My bad, and my apologies there. <br><br>As for the rest of any of the code I supplied here, it was tested and was working prior to posting it. Nothing is worse than giving help and providing bad or non-working examples!<br><br>@Sensei: in any of your games that you also wish to make them for OUYA as well, just set the #OUYA=True to #OUYA=False, comment it out, or remove it entirely. I'd suggest just setting it to False.<br><br>As for the CONFIG.MONKEY file, See my comments below: <br><pre class=code>
#ADMOB_PUBLISHER_ID="abcdabcdabcdabc"							'from your admod account
#ADMOB_ANDROID_TEST_DEVICE1="TEST_EMULATOR"
#ADMOB_ANDROID_TEST_DEVICE2="ABCDABCDABCDABCDABCDABCDABCDABCD"	'your device's admob ID for test mode
#ADMOB_ANDROID_TEST_DEVICE3=""
#ADMOB_ANDROID_TEST_DEVICE4=""

#MOJO_HICOLOR_TEXTURES=True
#MOJO_IMAGE_FILTERING_ENABLED=True

#ANDROID_APP_LABEL="SpaceWhale"
#ANDROID_APP_PACKAGE="com.monkeycoder.monkeygame"
#ANDROID_SCREEN_ORIENTATION="landscape"					'"user", "portrait", "landscape"
#ANDROID_GAMEPAD_ENABLED=False             &lt;------------ Here is the Android gamepad, just set it to True
#ANDROID_VERSION_CODE="1"
#ANDROID_VERSION_NAME="1.0"

#ANDROID_KEY_STORE="../../release-key.keystore"
#ANDROID_KEY_ALIAS="release-key-alias"
#ANDROID_KEY_STORE_PASSWORD="password"
#ANDROID_KEY_ALIAS_PASSWORD="password"
#ANDROID_SIGN_APP=False

#OPENGL_GLES20_ENABLED=False

#ANDROID_NATIVE_GL_ENABLED=False

#ANDROID_OUYA_DEVELOPER_UUID="xxxxxxxx-yyyy-zzzz-yyyy-xxxxxxxxxxxx"	'from the main developer portal page

#TEXT_FILES="*.txt|*.xml|*.json"
#IMAGE_FILES="*.png|*.jpg|*.gif|*.bmp"
#SOUND_FILES="*.wav|*.ogg|*.mp3|*.m4a"
#MUSIC_FILES="*.wav|*.ogg|*.mp3|*.m4a"
#BINARY_FILES="*.bin|*.dat"

--- REMOVE THESE BELOW HERE ---
#OUYA=True
#ANDROID_GAMEPAD_ENABLED=True
</pre><br><br>With classes, in Monkey, Functions are static - you can access them without  creating an object for it first. Methods are not static and require you to create an object before accessing them.<br><br>It gets easier with time :)<br><br>I'm glad I could help you. Congrats on getting your game working WITH OUYA! :) <br><br></td></tr></table><br>
<a name="2068819"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sensei</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think I'm probably not being clear and apologise for that.<br>I was hoping I could do Ouya specific logic in the same game so I could have something like:<br><br><pre class=code>
#If TARGET="android"
  doAndroidControls()
    #If OUYA
      doOuyaControls()
    #EndIf
#ElseIf TARGET="html5"
  doKeyboardControls
#Else
  doJoystickControls()
#End
</pre><br><br>At the end of the day, they all change the same variables so it keeps the control logic elsewhere in the game short and consistent. <br><br></td></tr></table><br>
<a name="2068823"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >computercoder</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can:<br><pre class=code>
#If OUYA
  doOuyaControls()
#ElseIf TARGET="android"
  doAndroidControls()
#ElseIf TARGET="html5"
  doKeyboardControls
#Else
  doJoystickControls()
#End
</pre><br><br>The ONLY thing is that on your main game file at the top, you need to include #OUYA=True (for OUYA compiled) or #OUYA=False (For anything else)<br><br>You will easily be able to detect the OUYA being your target this way. Its not as nice as if it were able to be added into CONFIG.MONKEY where you would not need to change the value of it. <br><br></td></tr></table><br>
<a name="2068824"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sensei</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> Aaaah. Now I get it. I'll just need to remember to change between false and true when I compile for testing on the various devices.<br>Good call. I'll not bother you anymore now, hehe. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
