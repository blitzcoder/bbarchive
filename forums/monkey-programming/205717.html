<!DOCTYPE html><html lang="en" ><head ><title >Scaling to different devices</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Scaling to different devices</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Scaling to different devices</a><br><br>
<a name="2064599"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >richb</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> What's the best solution you guys have got to scaling your games to different device screen sizes. My game runs perfectly to the standard HTML5/Flash screen size and also to big Android devices (HTC One/S4/etc) but any smaller screen sizes I struggle with, what solution do most of you use to fix this? <br><br></td></tr></table><br>
<a name="2064608"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have a search for the all mighty Autofit ;) <br><br></td></tr></table><br>
<a name="2064609"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >silentshark</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I guess you've discovered autofit? <br><br></td></tr></table><br>
<a name="2064617"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> autofit will scale fine when the devices have the same aspect ratio, but you will have to supply other images or use large images and draw them offset to fit other ratios without black bars. <br><br></td></tr></table><br>
<a name="2064627"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >richb</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just give autofit a try and i'm confused because all the images show bunched up in the corner of the screen but the transparent touch boxes i've created show up in the correct place.  I really can't understand how this has happened. <br><br></td></tr></table><br>
<a name="2064638"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raul</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> @richb:<br><br>Autofit it is perfect if you make a game for a specific resolution. It will automatically scale all the images to fit the current screen. Of course if you design the app to run on a 4:3 screen, on a wide one will have some black bars.<br><br>regarding your issue, maybe you should show us a code to see what is happening. <br><br></td></tr></table><br>
<a name="2064650"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm using the AutoFit implementation thats built into Diddy which I think is the main autofit, and it's got a bool that you can turn on or off that toggles those black bars, so im sure the main solo autofit module will have the same thing. <br><br></td></tr></table><br>
<a name="2064669"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> What does it put instead of the black bars, does it stretch the image or something? <br><br></td></tr></table><br>
<a name="2064670"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well personally I use some flow layout. I know both extremes which is the aspect ratio of the iPad (3:2) and phones (which can be up to 16:9). So I have a fixed area and a floating one. That way it always fits perfectly. <br><br></td></tr></table><br>
<a name="2064682"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> rIKmAN is stretches out to fit the screen.<br><br>I like the idea of that flow technique, to be honest up until a few days ago when I got my first Android phone I had never needed to worry about resolutions, I simply designed for the one I wanted, and hard coded everything for it.<br><br>But Android has really opened my eye's to making things fit, as a result from now on I will be building my games with an Aspect Ratio in mind, and not an actual fixed resolution, so when I start my next full project I will design it for either 4:3 or 16:9 either of these should then scale and stretch nicely into the others that exist.<br><br>that being said, my little test android project Bit-Invaders was done in 4:3(640*480) and it fits well on an android tablet and my phone so either way i'm happy. <br><br></td></tr></table><br>
<a name="2064681"></a>

<a name="2064698"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >richb</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Woo Finally sorted it!!! just have to go through and hard code all of the Height and Width variables haha. <br><br></td></tr></table><br>
<a name="2064700"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Taiphoz<br>That doesn't sound right to me, if I use a 960x640 background (iPhone Retina) and run it on an iPad (1024x768) then autofit will scale with black bars to keep the aspect ratio (and vice versa)<br><br>If it stretches the image to remove the black bars won't that just stretch and distort the image to an aspect ratio it wasn't made for, and look really ugly<br><br>I'm probably being stupid, but I can't get my head round what you mean. <br><br></td></tr></table><br>
<a name="2064702"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> it does stretch but as long as the distortion between one aspect and the other is not to high then its all good.<br><br>Currently when I test Bit-Invaders on my mobile or tablet it looks nice, without knowing before hand that it's actually designed in 640*480 you would'nt really notice.<br><br>I am sure that the type of graphics being used might help this or hinder it, something that's easily recognizable might be easier to spot when in an aspect ratio its not designed for, but at least for me for the moment thats not an issue.<br><br>The worst case scenario is that I simply toggle the stretch flag back to true and the aspect ratio flips on and I get a few borders, its really not that big a deal.<br><br>I suppose there is also nothing really stopping you from designing your game with two aspect ratios in mind, and then rendering things based on the current ratio being used. <br><br></td></tr></table><br>
<a name="2064704"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> <img src="https://dl.dropboxusercontent.com/u/56777267/Art/scale1.jpg"><br><br>Here is one of my projects with the Aspect on and off. its clear when they are both right next to each other, but when the user does not see the other version with borders they have no clue, the game does not look any worse as a result.<br><br>I apologize for the crappy quality on the pic, had to take the photo with the iPad and its low light in this room at the moment . <br><br></td></tr></table><br>
<a name="2064705"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah I'm developing for 2 aspect ratios at the moment, with different graphics depending if its an iPhone / iPad.<br><br>It's only the full screen backgrounds though as the other graphics look fine (just a bit smaller on iPad apsect ratios which is fine).<br><br>What is the flag to enable/disable the bars?<br>I'm not at home at the mo so can't check the source, but I'll give it a try and see how it looks. <br><br></td></tr></table><br>
<a name="2064711"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well I use Diddy, which has AutoFit built in, so I simply call SetScreenSize(640, 480, true) or False depending on what I want.<br><br>Not sure what normal auto fit has in terms of exposed methods you would have to go look at the module source. <br><br></td></tr></table><br>
<a name="2064716"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you fiddle with the impossible-to-explain zoomborders/keepborders parameters of UpdateVirtualDisplay you can retain the aspect ratio and zoom in a bit to lose the borders.<br><br>Eg. Download AutoFit from <a href="/posts.php?topic=1500" target="_blank">here</a> and modify <i>autofitdemo.monkey</i> so the UpdateVirtualDisplay call reads:<br><br><pre class=code>
UpdateVirtualDisplay True, False
</pre><br><br>If you zoom to x1.2 (or, better, call SetVirtualZoom 1.2 in OnCreate) in the demo, then it fits correctly and maintains the aspect ratio.<br><br>(The 1.2 appears to relate to VirtualDisplay.Display.dratio divided by VirtualDisplay.Display.vratio, which are private fields, but there's nothing to stop you exposing them if this is what you're after -- just comment out the Private!)<br><br>Of course, there are downsides, such as blurry pixels (depending on target/image filtering settings) and the loss of the outer edges or top/bottom edges, depending on the conflicting aspect ratios, but many games wouldn't be affected by this.<br><br>... but there's no one-size-fits-all answer to all this! <br><br>I do keep meaning to update it to allow the drawing of an image/set of images into the borders, but it got really tricky last time I tried...<br><br>(BTW If anyone's using the version that comes with Monkey, PLEASE ditch it for the above!) <br><br></td></tr></table><br>
<a name="2064714"></a>

<a name="2064715"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think <i>keepborders = False</i> meant that the borders effectively got zoomed outwards as you zoomed in (True meant they stayed the same size no matter what), and that parameter only had an effect when zoomborders was True. Like I said, hard to explain! <br><br></td></tr></table><br>
<a name="2064717"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great info thanks James (and Taiphoz), and I agree there is no "one size fits all" quick fix.<br><br>I shall have a play when I'm back at my computer tomorrow. <br><br></td></tr></table><br>
<a name="2064765"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ElectricBoogaloo</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> One of the most interesting things I've done in the past few months has been a Testcard.<br>It's quite a simplistic one, and there's not a lot to it, but it scales and reforms itself to any given resolution.<br>You can see it in action in most of my recent games, but it's most noticable appearance is in <a href="http://jayenkai.socoder.net/GameList.php?ShowJust=297" target="_blank">Hoppy Bobby</a>.   Simply tap the AGameAWeek logo on the menu, to pop it up.<br><br>Lots of maths involved.<br>Split the screen into a grid, work out the most grid elements you can fit into the space, line up scaled graphics, work out gradients...<br>There's quite a lot of stuff in there, considering it's not even half a testcard.<br>But it scales, and resizes, and fits snuggly into any given resolution, and does so quite nicely.<br><br>As far as end-results go, it's quite nice, and a neat little credits-screen.  But for a programming challenge, it was quite a good learning experience.  Dealing with unknown resolutions, and aspect ratios and combining images with polygons and bitmap fonts..<br><br>A good learning challenge.<br><br>Highly recommended.  Go make your own testcard! <br><br></td></tr></table><br>
<a name="2064764"></a>

<a name="2064795"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just checked that out, pretty cool.<br><br>I've also just realised you are Jayenkai from the old BB days :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
