<!DOCTYPE html><html lang="en" ><head ><title >Autofit scaling</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Autofit scaling</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Autofit scaling</a><br><br>
<a name="2081251"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >erebel55</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe this is a stupid question but shouldn't autofit scale images to be a smaller in size for smaller resolutions and larger in size for higher/larger resolutions?<br><br>It seems to be working the opposite of what I would expect.<br><br>I am trying to autofit my game for different resolutions.  I have a tilemap that I want to guarantee will fit onto the entire screen of different devices with different resolutions.  <b>In other words I want the entire map on the screen regardless of the resolution size.</b> (No scrolling in this game)<br><br>Therefore, it would make sense to scale the images down when we are on a small resolution and scale them up when we are on a high resolution?<br><br>I am comparing the results for 320x240 and 960x640.  I have set RESIZEABLE_CANVAS to true and here is what I am currently getting with autofit.<br><br><b>320x240</b><br>[CODE]		' Set virtual display size<br>SetVirtualDisplay 320, 240[/CODE]<br><img src="http://i274.photobucket.com/albums/jj265/Erebel55/320x240_zps24d65ad7.png"><br><br><br><b>960x640</b><br>[CODE]		' Set virtual display size<br>SetVirtualDisplay 960, 640[/CODE]<br><img src="http://i274.photobucket.com/albums/jj265/Erebel55/960x640_zps1659d8de.png"><br><br>These screenshots were both taken when running the game in HTML mode from my desktop. Please ignore the ugliness.<br><br>Thank you! <br><br></td></tr></table><br>
<a name="2081249"></a>

<a name="2081248"></a>

<a name="2081247"></a>

<a name="2081246"></a>

<a name="2081244"></a>

<a name="2081245"></a>

<a name="2081265"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Salmakis</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> - <br><br></td></tr></table><br>
<a name="2081263"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Salmakis</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> - <br><br></td></tr></table><br>
<a name="2081264"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Salmakis</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> i never used autofit, so i cant tell you about that.<br>The best way to solve this for me was to have a fixed size for the gamescreen like 400x400 on wich you work with (wich not contains scores or lives or whatever maybe)<br>Then find out wich one is bigger, deviceheight or devicewidth, and then use the smaller one for a factor.<br>I.e. Devicewidth / gamesize<br>Then just use this factor for a scale() call bevore you draw your gamescreen.<br>And then just draw your game while working with the size of 400x400 (in my example) Your game will be as big as possibe and keep its aspect ratio (like best fit option when printing an image)<br>This is like having a virtual resolution of 400x400 wich is scaled to the screen without the use of any module or magic tricks, just dont forget to push n pop the matrix.<br>Also all users on all devices see the same thing, just scaled.<br>So its fair for all useres and nobody can see more.<br>When you then just provide different images for differend screensizes (by checking the resolution on start and load different images), it is still working well, the images / frames are fitting then well and will not blurried or look washed out.<br>Or if you dont need to keep the aspect ratio then you could use 2 factors for x and y axis, wich will stretch your game maybe<br><br><br>Sorry for doublepost, i wonder why i cant edit entrys with ipad, it just make a repost. <br><br></td></tr></table><br>
<a name="2081262"></a>

<a name="2081261"></a>

<a name="2081260"></a>

<a name="2081259"></a>

<a name="2081258"></a>

<a name="2081257"></a>

<a name="2081255"></a>

<a name="2081254"></a>

<a name="2081281"></a>

<a name="2081282"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >erebel55</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you for the input. I would like to understand how to do this with autofit, as it seems to be the popular approach.  Hopefully someone can help. <br><br></td></tr></table><br>
<a name="2081284"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> keep the virtual screen size static.  If your map sizes are static, then this won't be an issue.  The virtual screen size is the game's "native resolution".  It's always scaled to the screen's native resolution.  That's why when you specify a higher number, the screen appears to shrink.  The virtual screen becomes larger, so it needs to be scaled down smaller to fit within the actual screen dimensions. <br><br></td></tr></table><br>
<a name="2081287"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >erebel55</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, so I shouldn't be changing the virtual screen size.  Is there a recommended virtual screen size to code against?<br><br>So, how do I test against different resolutions?  Currently I only have the free version of Monkey so can only compile against HTML5 and desktop.  However, I would like to test against phone resolutions, such as 640x960 and 640x1136. <br><br></td></tr></table><br>
<a name="2081292"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Only you can decide what the virtual resolution is.<br><br>For example, say you wanted to design your graphics for a 320 x 240 display but want it scaled up to fit onto a modern 1920 x 1080 display, you'd set the virtual resolution to 320, 240.<br><br>The physical display size (this might be your monitor resolution, such as 1920 x 1080, or the size of window you want to open on the screen) is set differently for different targets: in the Desktop target, you need to go into the .build folder and open CONFIG.MONKEY, then change these two entries:<br><br><pre class=code>
From...

#GLFW_WINDOW_WIDTH=640
#GLFW_WINDOW_HEIGHT=480

To...

#GLFW_WINDOW_WIDTH=1920
#GLFW_WINDOW_HEIGHT=1080
</pre><br><br>... and save the file. That sets the 'real' display size, and the virtual resolution of 320 x 240 will then be automatically scaled to fit this as best as possible.<br><br>Do try the other settings, too, for example:<br><br><pre class=code>
#GLFW_WINDOW_FULLSCREEN=False
#MOJO_IMAGE_FILTERING_ENABLED=True
</pre><br><br>That last one would make your pixels blocky on the desktop target, which would probably be better for the style.<br><br>On HTML5, you need to go into the .build folder, open up MonkeyGame.html in a text editor, scroll to the bottom and look for:<br><br><pre class=code>
&lt;div&gt;&lt;canvas id="GameCanvas" width=640 height=480 tabindex=1&gt;&lt;/canvas&gt;&lt;/div&gt;
</pre><br><br>Just edit the width and height to suit, eg. change them to one of your suggested phone resolutions, and save the file. <br><br></td></tr></table><br>
<a name="2081291"></a>

<a name="2081289"></a>

<a name="2081290"></a>

<a name="2081294"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >erebel55</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you DruggedBunny, this connected the dots :)<br><br>Also, thank you for autofit; we appreciate it :D <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
