<!DOCTYPE html><html lang="en" ><head ><title >Case Select expression conditions</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Case Select expression conditions</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Case Select expression conditions</a><br><br>
<a name="2014244"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Coming from a VB.NET background, I'm kinda used to be able to use the "is" token to qualify an expression with an explicit comparison operator, such as the following:<br><br><pre class=code>
Dim a As Int = Rnd*10
Select Case a
Case 0    'This is the normal syntax in Monkey, as well
    Print "Zero.  What are the odds of that?"
Case is = 1 
'Explicit equality comparison.  Same effect as above, different syntax
    Print "One is the loneliest number"
Case is &gt; 9
'Explicit greater-than comparison.
    Print "My, what a large number."
Case Else  'Special case syntax
    Print "An average number."
End Select
</pre><br><br>I'm pretty sure in monkey this isn't possible, which unfortunately takes away a lot of potential usage for a Case Select when it comes to enumerations or variables with a significant number of potential cases to evaluate explicitly for equality.  My question I guess is, is VB's syntax just some syntactic sugar, or are there technical issues to implementing a different comparison operator in a Case Select?<br><br>Of course, everyone could just use a bunch of verbose If statements, but where's the fun in that..... <br><br></td></tr></table><br>
<a name="2014243"></a>

<a name="2014247"></a>

<a name="2014248"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> you can do it something like this:<br><br><pre class=code>
Select true
   Case a = 0

   Case a = 1

   Case a &gt; 9

   Default

End Select
</pre> <br><br></td></tr></table><br>
<a name="2014251"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shinkiro1</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you wonder: Default = Case Else <br><br></td></tr></table><br>
<a name="2014253"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raz</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Jesse: That's genius, I've never considered something like that before :D <br><br></td></tr></table><br>
<a name="2014283"></a>

<a name="2014284"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Jesse:  Thanks !  That's so crazy and yet brilliant, why didn't I think of that  xwx<br><br>(Wonder if this works in Strict, too....) <br><br></td></tr></table><br>
<a name="2014317"></a>

<a name="2014318"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> What's wrong with:<br><pre class=code>If a = 0
  ' stuff
ElseIf a = 1
  ' stuff
ElseIf a &gt; 9
  ' stuff
Else
  ' stuff
End</pre> <br><br></td></tr></table><br>
<a name="2014350"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wiebow</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nothing. It's just different. <br><br></td></tr></table><br>
<a name="2014374"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Samah:  What's wrong with... <br></div><br><br>The syntax is pretty similar to Case Select when using Jesse's example, however, the VB.NET syntax is pretty useful when testing for an expression to be evaluated that's particularly long.  This is especially true if you're the kind of person who TendsToWriteVariables.LikeThis  ;) <br><br></td></tr></table><br>
<a name="2014387"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @wiebo: Nothing. It's just different. <br></div><br>Actually it's more than just different.  In Java, I usually only use a switch for enums because the compiler can catch when you're missing a case.  The only other time is if I want to use a fallthrough (which Monkey doesn't do).  It would be nice if Monkey had official support for enums.<br>I'll admit that I used to use the Select True trick in VB6 to check for selected radio buttons.<br><br><div class="quote"> @Nobuyuki: This is especially true if you're the kind of person who TendsToWriteVariables.LikeThis ;) <br></div><br>Nothing wrong with that... :D <br><br></td></tr></table><br>
<a name="2082242"></a>

<a name="2082243"></a>

<a name="2082244"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sensei</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is it just me or can I not do this in Monkey?<br><br><pre class=code>
select y
case 1
	x = 10
case 2
case 3
case 4
	x = 20
case 10
	x = 30
end
</pre><br><br>In the above example, in Javascript, x will be set to 20 in cases 2, 3 and 4. However, in Monkey, it seems to only trigger in case 4. At least that's the result I seem to be getting, unless I'm doing something wrong?<br><br>Anybody know? I will change the code to if statements instead if I have to, but I find using select statements to be cleaner. <br><br></td></tr></table><br>
<a name="2082245"></a>

<a name="2082247"></a>

<a name="2082248"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try this Jaco:<br><br><pre class=code>Strict

Function Main:Int()
	Local y:Int = 3
	Local x:Int = 0
	
	Select y
		Case 1
			x = 10
		Case 2, 3, 4
			x = 20
		Case 10
			x = 30
		Default
			x = -1
	End
	Print x

	Return True
End</pre> <br><br></td></tr></table><br>
<a name="2082250"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sensei</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Many thanks matey.<br><br>Ugh, I've just now seen it in the documentation. If only I scrolled down a bit more :) <br><br></td></tr></table><br>
<a name="2082253"></a>

<a name="2082254"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> 'Select True' is a very ingenious solution.<br><br>The only worry is that it's probably an accidental Monkey feature resulting from the implementation of Select..Case as a sequence of Ifs.  If that ever changed it might break...<br><br>Of course the code would be easy to fix in such cases by changing to an explicit series of Ifs. <br><br></td></tr></table><br>
<a name="2082275"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I also think the features of SELECT/CASE in monkey are very limited. The workarounds you all offer are not really usable solutions for complex variable names.... <br><br>I would like to see:<br><br><pre class=code>Select LongWordClassName.LongFunctionName(Parameter)
     Case 3
          ....blabla
     Case 4 To 11
          ....blabla
     Case &gt;11
          ....blabla
End


</pre> <br><br></td></tr></table><br>
<a name="2082297"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, there is the idiom:<br><br>Local param:Int = LongWordClassName.LongFunctionName(Parameter)<br>Select param... <br><br></td></tr></table><br>
<a name="2117438"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> old thread I know but I'm sitting looking at a Select / case with 150+ statements, and was wondering if this could be done.<br><br><pre class=code>
Select Thing
    Case #
         Print "the compiler or interpreter or IDE? would replace each Case # with Case 1,2,3 etc incrementally"
    Case #
         Print "this would be the second thing called. 
End Select
</pre><br><br>If I want to slide something into the middle of my really large case block I need to renumber everything from the insert point down to the bottom of the list which is annoying. <br><br></td></tr></table><br>
<a name="2117450"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> It would be cool to see the VB style syntax in mx2, especially considering now that operator overloads are possible. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
