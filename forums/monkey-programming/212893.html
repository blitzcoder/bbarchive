<!DOCTYPE html><html lang="en" ><head ><title >Resetting a level</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Resetting a level</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Resetting a level</a><br><br>
<a name="2127311"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >elite_dtn</td><td align="right"><font class=tiny>(Posted April)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have loads of objects on my level, was just wondering about the easier way to reset them all, for example if the player has failed a level and needs to restart <br><br></td></tr></table><br>
<a name="2127312"></a>

<a name="2127313"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted April)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's not necessarily the most efficient method, but it's one area of programming where garbage collection does make things easy: you can just 'new' the whole level and re-create it along with its components.  No need to worry about deleting stuff that your code has forgotten about.<br><br>(And another reason to load images into globals, or some permanent object) <br><br></td></tr></table><br>
<a name="2127314"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >elite_dtn</td><td align="right"><font class=tiny>(Posted April)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> But how do i do that so that it resets everything like player positions? <br><br></td></tr></table><br>
<a name="2127315"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted April)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> If the player gets its position set to the starting value when it is created, and the game creates the player when it's created, then creating a new game will create a new player too.<br><br>Of course the alternative is just to have a method that initialises everything to starting values, and then it doesn't matter whether you create a new object or re-initialise the old object.<br><br>If you look at the last code I posted in the 'enemy movement' thread, you can see how it is set up to work this way.  The initialise() method sets all fields to their starting values.  If Enemy.New() calls initialise(), then a newly created enemy will have those values.  Ir you could call it on an existing enemy, that enemy will e completely reset.<br><br>This is why it helps to be systematic.  Have a method for setting up a new enemy, have a method for updating an existing enemy, and have a method for drawing an existing enemy, and don't mix up the responsibilities.  Then you can call whichever is appropriate whenever you need to.<br><br>I advise always having an explicit initialisation method, instead of saying "Field xPos:Int = 100" for this reason - setting the field default value only happens when you construct a new item, but a proper initialiser can reset the object any time.  But as I said, creating a bunch of new objects is workable too. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
