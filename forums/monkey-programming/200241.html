<!DOCTYPE html><html lang="en" ><head ><title >Level data?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Level data?</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Level data?</a><br><br>
<a name="2001414"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yahfree</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> What would be the best way to store level data in monkey?<br><br>I have this game with about 100 levels to be made -- each level has obstacles (about 10 different 'types' of obstacles). I need to place these obstacles on the level when it loads. <br><br></td></tr></table><br>
<a name="2001415"></a>

<a name="2001416"></a>

<a name="2001417"></a>

<a name="2001418"></a>

<a name="2001419"></a>

<a name="2001420"></a>

<a name="2001421"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Canardian</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would say a SQLite3 database is the best way to store application data. Firefox, SeaMonkey, and many other browsers use also a SQLite3 database to store bookmarks and other settings. SQLite3 doesn't need any installation, and you can embed the SQL engine in your code. It's also faster than MySQL, and it comes with a nice visual editor to create databases, tables, queries and populate them with data.<br><br>I think I will make a Monkey module for SQLite3, since I need it for my games and apps too. Since it comes with full source code, it would be possible to make it work on all targets also, but of course first comes Android, then Linux, and then the rest (although Windows code would be basically identical with Linux) :)<br><br>Then there are also commercial add-ons for SQLite3 to add encryption, but I can do that also for free, using TwoFish. It's the most secure and fastest encryption I know of, and it's free. <br><br></td></tr></table><br>
<a name="2001423"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >maverick69</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> SQLite is a little bit of overkill for simple level datas. <br><br>What about XML or a simple custom binary format? <br><br></td></tr></table><br>
<a name="2001456"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BigAnd</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have my levels stored in an array at the moment as there is no cross platform file system as of yet. Works ok for the type of game I am doing (2D platformer) but might not be useful for other types of game. <br><br></td></tr></table><br>
<a name="2001460"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >charlie</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I use SQLite databases for all my games. So there!<br><br>Cheers<br>Charlie <br><br></td></tr></table><br>
<a name="2001473"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yahfree</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think I'll go with a 1D array. XML or a database just seems like overkill. It's just a linear series of obstacles(or no obstacle represented by a 0)<br><br>So something like<br><br>[0,0,1,1,0,2,2,0]<br><br>But my question is, is there a data system like in bmax?<br><br>Something like, Data ------- (and then I believe there was a restoredata function)<br><br>Or do I just create a massive list of 100+ 1D array variables? Is there a better way to do this? <br><br></td></tr></table><br>
<a name="2001476"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BigAnd</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can make level data with an array such as:<br><pre class=code>
Global	Levels:=[
	3,0,0,0,0,0,0,0,0,0,0,6,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,
	3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,
	3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,
	3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,
	3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,5,0,0,0,3,
	3,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,4,4,1,4,4,4,4,1,1,1,1,1,1,1,1,3,
	3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,
	3,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,
	3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,0,5,0,0,0,0,0,0,0,0,0,3,
	3,1,1,1,1,0,0,0,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,0,0,0,3,
	3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,3,
	3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,
	3,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,3,3,3,4,4,4,4,4,1,1,1,3,
	3,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,3,
	3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,
	3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3]
</pre><br>And then just read the data with something like:<br><pre class=code>
Local block:Int
		
For Local y=0 To 15
	For Local x=0 To 31
		block=ROOMS[((y*32)+x)]
		DRAWblock(block,x*16,y*16) 
	Next
Next
</pre> <br><br></td></tr></table><br>
<a name="2001522"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yahfree</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> BigAnd -- That's what I ended up doing instead of 100's of different arrays. Thanks! <br><br></td></tr></table><br>
<a name="2001530"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sknightly</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> LoadString() works well too if you don't want to embed your level data.<br>Use myString.Split( "~n" ) to create an array of level data. (see the LoadString modules reference for a short example) <br><br></td></tr></table><br>
<a name="2003229"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Another question.<br><br>I'm making a game (main target HTML5 for now).<br>The idea is to 'update' the levels adding new ones in the time.<br><br>First problem: LoadString 'reads' the .txt file and 'includes' *every* .txt file present in the main.js file.<br>This means you  can 'add' anything new to you game...<br>Considering the on-line nature of HTML5 target is quite limited! (You need to 'update' all the main.js every time).<br>I understand this limit - in part - on a 'mobile' platform as Android or iOS where content must be checked and so on.<br><br>I'm looking for a solution (maybe HTML5 only), via some js magic... WIP<br><br>Cheers <br><br></td></tr></table><br>
<a name="2003245"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JIM</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can perhaps use the AJAX module to fetch data from a database?<br><br><a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=137" target="_blank">http://www.monkeycoder.co.nz/Community/posts.php?topic=137</a> <br><br></td></tr></table><br>
<a name="2003249"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, it seems a solution.<br><br>Do you know how to use it?<br>I get an error about 'Overriding method does not match any overriden mothod'...<br><br>PS: I think I've setted up everything on my system to test the 'getURL' function.<br><br>I have - in local - an Apache server+PHP+Mysql. To test I've made a simple<br>.php file<br><pre class=code>
&lt;?
$code=$_GET["code"];
echo "Code: {".$code."}&lt;br&gt;";
?&gt;
</pre><br>So when I open <b>http://localhost/gra10/html5/Level/getlevel.php?code=222</b> I see a page that reports "Code: {222}" - as expected.<br><br>In the Monkey source code I changed<br><pre class=code>
streams.getUrl("http://localhost/gra10/html5/Level/getlevel.php", "?code=100" )
</pre><br><br>Any hints?<br>I'm doing something wrong? There's some error with V32/1.03? <br><br></td></tr></table><br>
<a name="2003246"></a>

<a name="2003247"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pinete</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've been impressed with SQlite3 lumooja, could you please tell a little more about how Monkey could work with those databases? It seems it will be a must at the moment someone wants to do something serious with monkey :)<br>thanks a lot in advance! <br><br></td></tr></table><br>
<a name="2003250"></a>

<a name="2003251"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> About the error: I think I've resolved.<br>See the thread about Async by Indiepath <a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=137" target="_blank">http://www.monkeycoder.co.nz/Community/posts.php?topic=137</a><br>Thanks <br><br></td></tr></table><br>
<a name="2003252"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Canardian</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> I will make a SQLite3 module for Monkey this weekend. It shouldn't be much work, if I only expose a few essential commands, like submitting a SQL query and getting the results. <br><br></td></tr></table><br>
<a name="2003253"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pinete</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> wow lumooja! impressive! :)<br>so if I would like to have a list of players of my game, this is the way in which I should work? I mean, learning how sqlite3 works and studying your module?<br>Thanks so much lumooja ;) <br><br></td></tr></table><br>
<a name="2003260"></a>

<a name="2003261"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Canardian</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> You should use SQL only for loading and saving the game state, and loading/saving dynamic content of course, like positions of objects. All data loaded from the SQL database should be kept in Maps, Lists and Stacks in the Monkey memory. <br><br></td></tr></table><br>
<a name="2003417"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Indiepath</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Since WEB SQL (SQLite) specification is no longer being worked on by W3C I would recommend using AJAX and server-side databases when using HTML5.<br><br><div class="quote"> <br>“This specification has reached an impasse: all interested implementors have used the same SQL backend (Sqlite), but we need multiple independent implementations to proceed along a standardisation path. Until another implementor is interested in implementing this spec, the description of the SQL dialect has been left as simply a reference to Sqlite, which isn’t acceptable for a standard. Should you be an implementor interested in implementing an independent SQL backend, please contact the editor so that he can write a specification for the dialect, thus allowing this specification to move forward.”<br> <br></div> <br><br></td></tr></table><br>
<a name="2009788"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cartman</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Lumooja - Any progress on a SQLite library? Or is anyone else working on one?I'm trying to figure this out. <br><br></td></tr></table><br>
<a name="2009801"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xzess</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Lumooja - For all Targets? *.* <br><br></td></tr></table><br>
<a name="2009841"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dopeyrulz</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> FYI - WP7 Mango update contains the ability to access SQLCE databases.  Not sure how it works as yet but is supposed to be available. <br><br></td></tr></table><br>
<a name="2009854"></a>

<a name="2009855"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hardcoal</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> I will make a database controller soon<br>allready made one, just need to translate it to monkey. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
