<!DOCTYPE html><html lang="en" ><head ><title >best way to do this ?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >best way to do this ?</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >best way to do this ?</a><br><br>
<a name="2118047"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> <img src="https://dl.dropboxusercontent.com/u/56777267/temp/forumposts/thing.png"><br><br>Nobuyuki suggested stencils via the drawExt2 module but that would then remove support for Html5 which I would like to avoid if possible as its my primary build target when working.<br><br>Another option is to draw black tiles over the screen, and then where a light/object is dont draw them, filling in curved tiles at the edges to give it a rounded effect but that would look blocky.<br><br>I was thinking that taking a solid screen size black image and then blending in or using write pixel to write in alpha values for the circles might be quick enough but unsure, does anyone have any suggestions ? opinions? or thoughts. ? <br><br></td></tr></table><br>
<a name="2118048"></a>

<a name="2118049"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tiresius</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I assume you're using Mojo and not Mojo2.<br><br>Can you "render to image" in Mojo (i.e. DrawImage() that will draw on an image) ?<br>I think that type of thing is needed in order to do image/alpha masking as far as I know.<br>Doing some kind of Tile-based thing wouldn't look very good, I think. :(<br><br>[EDIT]<br>WritePixel could work but I think it is very slow... <br><br></td></tr></table><br>
<a name="2118126"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sicilica</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> You really, really don't want to do that with WritePixel. Unless it's faster since last I checked, it's far too slow to use on a fullscreen per-frame basis.<br><br>The scenario you have there is really the job of a shader. If you're using mojo1, you might be in trouble. If you're in mojo2 (or just writing it in opengl for some reason?), then it should be simple enough, but I don't have time to put up an example (maybe someone else can?). You could actually use the built-in light uniforms that mojo2's renderer uses, then write a simple frag shader that cuts off pixels unless they are within some distance to at least one light.<br><br>Do you really not have access to the stencil buffer on HTML5? Huh, I thought it was supported....<br><br>EDIT: I'm almost 100% certain that you can use the stencil buffer. It's technically supported in WebGL, at least. I don't think mojo allocates one though, so you'd probably have to create one yourself, aaaand then you're either hacking up the graphics module or writing it yourself using the opengl module. <br><br></td></tr></table><br>
<a name="2118124"></a>

<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
