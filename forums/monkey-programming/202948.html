<!DOCTYPE html><html lang="en" ><head ><title >SetUpdateRate(60) But FPS=120?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >SetUpdateRate(60) But FPS=120?</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >SetUpdateRate(60) But FPS=120?</a><br><br>
<a name="2029962"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >c.k.</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Would it be possible to have a SetUpdateRate(60) command in OnCreate, but be getting FPS of up to 120? I ask because that's what seems to be happening for me, but it doesn't make sense.<br><br>I probably just don't understand. Does SetUpdateRate() specify a MINIMUM rate? (Maybe I should just RTFM. Which I will do, but feel free to pipe up here.)<br><br>THANKS! :-) <br><br></td></tr></table><br>
<a name="2029966"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Setupdaterate sets the maximum number of times the update method will be called per second.  Nothing to do with frames per second. <br><br></td></tr></table><br>
<a name="2029970"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >c.k.</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> GfK, the docs say SetUpdateRate() determines FPS.<br><br>From http://blitz-wiki.appspot.com/SetUpdateRate:<br><br>"...SetUpdateRate effectively also sets the target frames per second."<br><br>So, I'm confused somewhat.<br><br>I'm using fantomEngine, so maybe there's a bug (Michael?). <br><br></td></tr></table><br>
<a name="2029973"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >muddy_shoes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Different targets have different behaviours. Gfk is right that SetUpdateRate doesn't set the frame rate, but the docs are also right that a standard mojo app has the intent of a 1-to-1 relationship between update and render.<br><br>Without code there's not a lot that can be said about why you're seeing 120FPS for an update rate of 60. You could be measuring wrong. You could be calling your render code twice per update. <br><br></td></tr></table><br>
<a name="2029974"></a>

<a name="2029975"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> It might depend on how you (or fantomEngine) are measuring the FPS, and whether that's within OnUpdate or OnRender.<br><br>Oh, edit: what he said. ^^^ <br><br></td></tr></table><br>
<a name="2030188"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neuro</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I'm using fantomEngine, so maybe there's a bug (Michael?).  <br></div><br>Are you calling eng.GetFPS() more than once? <br><br></td></tr></table><br>
<a name="2030195"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >c.k.</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Interesting, Neuro.<br><br>I was referencing eng.GetFPS() once in the OnUpdate(), as well as once in the OnRender.<br><br>In the OnUpdate(), I was doing:<br><br>[monkeycode]<br>txtFPS.SetText( "FPS: " + eng.GetFPS() )<br>[/monkeycode]<br><br>In the OnRender(), I was doing<br><br>[monkeycode]<br>FPS = eng.GetFPS()<br>[/monkeycode]<br><br>FPS is a field of the game class. It was not being used anywhere except right there, in that assignment.<br><br>Once I commented out the OnRender() reference to GetFPS(), I get the expected ~60fps displayed onscreen. Woohoo!<br><br>However... WHY does calling it once in OnRender() and once in OnUpdate() DOUBLE the FPS count? That doesn't make sense. It should give me an accurate rendering each time it's called, no matter from where! Right? :-D<br><br>Anyway, thanks for the heads-up! :-) <br><br></td></tr></table><br>
<a name="2030198"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm assuming GetFPS() updates the frame counter as well as calculating the FPS.  Calling it in both OnUpdate() and OnRender() would increment the frame counter by two every frame, essentially giving you 120 per second.<br><br>This is why "getters" shouldn't modify values.  Move the frame counter increment into a separate Update() that's called once every frame. <br><br></td></tr></table><br>
<a name="2030201"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> The guys are right. Just call GetFPS once. Everytime you call this it is recalculated. As oyu are not the first one who has problems with its behaviour, I will think about a different method. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
