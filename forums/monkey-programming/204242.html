<!DOCTYPE html><html lang="en" ><head ><title >Connecting 2 Monkey apps via TcpStream ?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Connecting 2 Monkey apps via TcpStream ?</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Connecting 2 Monkey apps via TcpStream ?</a><br><br>
<a name="2045477"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tOmzone</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello people,<br><br>maybe its a dumb question but: is it possible to connect 2 monkey programs via the TcpStream classes from BRL module? I looked through the forums to find some examples etc. but i only found some code for HTTP requests/getting the source of a website.<br><br>I'd like to establish a client-server architecture. Using tcp sockets in other languages (Blitzmax for example) you have a method like "GetNewConnectingClient" or sth like that which returns any incoming connection.<br>Is that also possible with monkey? Maybe I missed something.<br><br>Greetings <br><br></td></tr></table><br>
<a name="2045476"></a>

<a name="2045513"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rushino</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I know TcpStream can do this. However there isn't much example around. I was looking for an example too but i couldn't figure out how it would work. But to answer your question i believe yes its possible. You could also do like i did instead of using regular sockets.. use websockets.. i made a lib in the module section called MkWebSockets. This way you could use WebSockets technologies to make your architecture. This seem to be good only if you intent to put your game on a web browser through as one of your target you support. If you don't need this then regular sockets can do but you will have to figure out how streams work with monkey.<br><br><a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=3884" target="_blank">http://www.monkeycoder.co.nz/Community/posts.php?topic=3884</a><br><br>There is also other poeple that made sockets libs if you look in the user module section. That might be interesting to you. <br><br></td></tr></table><br>
<a name="2045511"></a>

<a name="2045512"></a>

<a name="2045539"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> As far as I see this is not possible with the current implementation. You need something to create a host which listens on a specific port. <br><br></td></tr></table><br>
<a name="2045550"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> work around:<br><br>In my Cheese Box game ( <a href="http://www.monkeycoder.co.nz/Community/topics.php?forum=1220&amp;app_id=220" target="_blank">http://www.monkeycoder.co.nz/Community/topics.php?forum=1220&amp;app_id=220</a> )I use a HTTP server as a relay station for communication between two monkey apps. The php script only received the messages as a HTTP-Post...<br><br><pre class=code>http://www.mypage.com/Game.php?ID=1&amp;X=13&amp;Y=8</pre><br><br>...and stores them until the receiver asked for them. Then it sends it as a html page:<br><br><pre class=code>&lt;html&gt;
X=13
Y=8
&lt;/html&gt;</pre> <br><br></td></tr></table><br>
<a name="2045554"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rushino</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice work around. If you go the web sockets route.. you also need a server to listen on a specific port. I have done it in C# through using a lib. <br><br></td></tr></table><br>
<a name="2045559"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Midimaster, that's the way I'd use myself as well. But why do you send the "&lt;html&gt;" tags? Wouldn't it be enough to just do an echo command in PHP? <br><br></td></tr></table><br>
<a name="2045565"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hummelpups</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> jep, that html tag is useless <br><br></td></tr></table><br>
<a name="2045591"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes it is useless. i did not do it! I only want to demonstrate in the post, that the answer is like a received html page done with simple "echo" commands on php.<br><br>You can of course return a simple plain text or a XML based lines or whatever you want. <br><br>At the end the bottle neck of this system is not the returned file, because it can be as big as you want. The problem is more to pack all datas into an URL string and keep it valid... <br><br></td></tr></table><br>
<a name="2046504"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sub_Zero</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> tOmzone: what target will you be building to?<br><br>For android, you could use the anet module, or mnet for another target.<br>I haven't tested the build in one, but that should also work.<br><br>Blitzmax will be good as server <br><br></td></tr></table><br>
<a name="2046481"></a>

<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
