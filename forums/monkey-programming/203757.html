<!DOCTYPE html><html lang="en" ><head ><title >Networking architecture for a turn based game</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Networking architecture for a turn based game</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Networking architecture for a turn based game</a><br><br>
<a name="2040214"></a>

<a name="2040215"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rushino</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello,<br><br>I was planning to make a turn based game with PubNub. I am a bit lost now.. i wanted to use a WebAPI to coordinate the requests since i wanted my game to be based on HTML5. However, i feel like doing that over HTTP using GET will be a bottleneck because this protocol will have to establish a new connection each time i make a request and this gateway will be receiving lots of incoming traffic (no outcoming because pubnub is the actual one that sending back data to clients). So i wonder if this gonna be actually a real problem..<br><br>I though i would go HTML 5 since it support Http GET right now rather easily but if HTTP is a bottleneck this probably isnt the way to go. Since HTML 5 doesn't support Async TCP Sockets i can't communicate through a stdcpp console. So there no much options left.. i could go Android or Glfw since it can do tcp but only Android seem to support PubNub right now (API ported to monkey that support pubnub) the funny thing is that i need the server to support pubnub AND the client. So what should i do ?<br><br>Thanks! <br><br></td></tr></table><br>
<a name="2040213"></a>

<a name="2040216"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Pubnub is great for turn based (or non time critical) games when you don't have to send that many messages. Pubnub itselfs runs on all platforms, I still did not have the time to port it for all.<br><br>The plain old HTTP protocol still has this problem that you don't have real client/server connections because it's a connectionless protocol, the server simply can't push messages to the client without tricks.<br><br>This has changed with the introduction of Websockets for HTML5. So I think that's the way to go. HTML5 is able to make non blocking calls.<br><br>If you want to have it easy, use Pubnub. I think the implementation in MNet is already non blocking, so fire and forget. Sure, you have to do some polling in your update sync loop to see if there's something new to get, but this isn't a biggy.<br><br>Main drawback of Pubnub is the price I guess. It's very affordable if you don't have that many messages, so for turn based games it's ok I think. <br><br></td></tr></table><br>
<a name="2040226"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rushino</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah.. but doing my research it seem PubNub is not sufficient alone if you want to handle security that a guy from the support that told me that. He said the prefered method is a client, a server and then pubnub. The server is the only one who get the publish key.. the reason is easy its because the server can handle the requests and validate them otherwise this become an hacker paradise. Furthermore, you probably want to handle a user base or something so you need a database the server is perfect for this task of storing and retrieving stuff. The server is infact your game logic.<br><br>Anyway i asked someone who seem to know well how HTTP work and for turn based game its probably not a problem because you send messages not that often.<br><br>About WebSockets.. i might have a look to this to know how that work. Might be a better solution. <br><br></td></tr></table><br>
<a name="2040225"></a>

<a name="2040235"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rushino</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Alright, did very fast research and ive come up with something in C#.. <br><br>There a WebSocket library for C# (called Alchemy) which you could use to make a server  : <a href="http://olivinelabs.com/Alchemy-Websockets/" target="_blank">http://olivinelabs.com/Alchemy-Websockets/</a> <br><br>I just tried it and it work very good! Only minimal code are needed to connect to it so i think i will start making it a module for Monkey i think this could be pretty useful. <br><br>What do you think ? <br><br></td></tr></table><br>
<a name="2040229"></a>

<a name="2040230"></a>

<a name="2040250"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Why0Why</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Webservices are pretty easy to write in .NET.  Anyone that is proficient enought to write a multiplayer game in Monkey shouldn't have an issue.  You could uses the webservice for secure calls to a local database server for username and login and any other secure information.  Then you could use PubNub for the game data.  PubNub also supports SSL if you need it.  I looked into it for something I was looking at that required security. <br><br></td></tr></table><br>
<a name="2040262"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rushino</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well i think ive got all i need to make this game now. The alchemy server is really answome! I am currently adding features to it. Hopefully i will have something working with websockets pretty soon. <br><br></td></tr></table><br>
<a name="2040331"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage1982</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Did you check RakNet? It's pretty powerful and even got a NAT Punchtrough plugin allowing most users to connect easily while behind a router.<br><br>It's Free for Hobbyist. <br><br></td></tr></table><br>
<a name="2040336"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rone</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> What about Photon Cloud/Server? I'm using PhotonCloud for my rts game. Its pretty fast and very easy to use... <br><br></td></tr></table><br>
<a name="2040358"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rushino</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ive looked at your solution rone and Photon Server seem interesting i will have a look to it. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
