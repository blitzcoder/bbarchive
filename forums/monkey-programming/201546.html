<!DOCTYPE html><html lang="en" ><head ><title >Strict mode and warnings</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Strict mode and warnings</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Strict mode and warnings</a><br><br>
<a name="2014111"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> A few random thoughts about strict mode...<br><br>Strict mode could (and Java/C# users would probably say should) be stricter. Also, the analysis done by strict mode could also be useful to non-strict users.<br><br>In particular, Java doesn't allow ANY unreachable code, and both Java/C# don't allow 'implicit conversion to bool', eg: You can't just go 'If x', you have to go 'If x&lt;&gt;0'. Also, float/int conversion rules are generally stricter in Java/C#.<br><br>When I put some of these ideas to the beta testers back in the day, they were all pretty much against these ideas, considering them too strict I guess. Yet there have been posts here since that suggests not everyone agrees.<br><br>With that in mind, here's an idea:<br><br>1) Introduce 'warnings' to Monkey<br>2) Add syntax, similar to the current 'Strict', that turns warnings into errors on a per source file basis.<br><br>Here are the warnings I'm thinking of:<br><br>1) Implicit int type declared (eg: "Local x")<br>2) Implicit return statement declared (eg: missing return statement)<br>3) Implicit float-&gt;int conversion (eg: Local x:Int=10.0)<br>4) Implicit bool conversion (eg: If x Then...)<br>5) Unreachable code<br><br>One option for converting warnings to errors would be to allow a warning level value after Strict, eg:<br><br>Strict 2   		'Warnings 1..2 are now errors! ie: the current strict mode (and default for Strict with no arg).<br><br>...or...<br><br>Strict 5		'Warnings 1..5 are now errors! SuperStrict!<br><br>Ok, yes, this is very C++ inspired, but it would allow for a wide range of coding preferences while also providing some possibly useful warnings - which should also be disablable via the IDE for slobs like me.<br><br>I've tried to sensibly 'tier' the warnings, but it might also be possible to enable individual errors with different Strict syntax too.<br><br>The numeric scheme is pretty ugly, but is at least brief.<br><br>I'm not actually quite sure what I think of this! <br><br></td></tr></table><br>
<a name="2014113"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Will compliance with strict 5 make code execute quicker? if not then i don't really see the point beyond pandering to the whims of 'geeks'. <br><br></td></tr></table><br>
<a name="2014115"></a>

<a name="2014116"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> IMHO just keep Strict and add SuperStrict which is Strict 5.<br><br>Or just get rid of the keyword Strict and make the language Strict 5 by default &gt;:) <br><br></td></tr></table><br>
<a name="2014121"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @therevills: Or just get rid of the keyword Strict and make the language Strict 5 by default &gt;:) <br></div><br>This. :)<br><br>Mark rather than creating some arbitrary number of warnings, it might be better to assign a numeric severity level to each type of warning, and put it in the trans configuration file.  Then your "strictness level" would cause compile warnings/errors for any conditions with a severity level &lt;= that number.  This way, warnings can share a severity level. <br><br></td></tr></table><br>
<a name="2014133"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> This. :) <br></div>What he said.<br><br>To add to that, while I think that static (and dynamic) code analysis is a valuable tool to identify bugs and performance bottlenecks (and is one of my main reasons for thinking IntelliJ is awesome) I really, really wish you wouldn't write your own software from scratch every time, but maybe instead built it on top of something like [a http://www.scovetta.com/yasca.html]Yasca[a] for example.<br><br><div class="quote"> Will compliance with strict 5 make code execute quicker? <br></div>Yes. One major point of static code analysis is exactly that. Identifying bottlenecks (complex boolean expressions for example) that can be written more elegantly. Whether Mark intends to take it to that level is another matter entirely. Right now it seems (from what I can read) like he mostly wants to make a Monkey version of lint, which won't benefit you much in the performance department. <br><br></td></tr></table><br>
<a name="2014136"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yahfree</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I like having to be forced to write nice code, but it's annoying when the examples, etc.. are not "nice" code.<br><br>That being said, if you haven't looked already I posted an issue in the android forum and the sticky in the new release about Abstract methods not returning anything and Java freaking out because of it.<br><br>One thing that I do wish we had language-wise was php-style arrays, where you can nest multiple types of values as keys, and multiple types of values as values. There are obvious workarounds, but they're still nice!<br><br>I do enjoy the more advanced features/OOP encapsulation like Java/C#.<br><br>I &lt;3 Monkey, keep up the good work! <br><br></td></tr></table><br>
<a name="2014152"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> One thing that I do wish we had language-wise was php-style arrays, <br></div>Please. God. No. <br><br></td></tr></table><br>
<a name="2014162"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shinkiro1</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think adding SuperStrict which represents level-5 of warning should be enough and wil be easy to understand by beginners.<br><br>Strict Mode should really be default imo, maybe introduce the 'Lazy' keyword for those who don't like Strict mode. <br><br></td></tr></table><br>
<a name="2014257"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> wil be easy to understand by beginners. <br></div>How many "beginners" is Monkey really going to appeal to tho'? It ships with a mostly useless IDE virtually no documentation, a handful of examples and forum access to get you started. Additionally you need to have significant knowledge about your target platform(s) if you want to try anything remotely advanced (like SaveState).<br><br>Could we please not dumb down the language for the scores of imaginary beginners Monkey doesn't appeal to anyway? Beginners are going to chose something like Unity3D which holds your hand all the way. Whether you want it to or not.<br><br>I mean seriously look at people here. James Boyd has been programming in all the time I've known him. Which is at least the last 20 years. Back when the Amiga ruled the world and a 56K baud modem was the best Internet connection money could buy. GfK worked for Gremlin Graphics (granted, not as a programmer AFAIK), but how many people even remember Gremlin Graphics (or even Infogrames)?<br><br>Seriously most people here have been programming for longer than their prospective customers have been alive. Mark Sibly wrote his first game nearly 30 years ago. Can we please stop pretending everyone is a beginner? Thank you. <br><br></td></tr></table><br>
<a name="2014287"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wiebow</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Agree. 'Basic' has been left behind by Max and more so by Monkey. Let's not try to go back. <br><br></td></tr></table><br>
<a name="2014289"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shinkiro1</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> What I meant was not to make things unneccessarily complex, for both Mark and the Programmer. Either you get all the warnings or not. So Strict + SuperStrict should do it ... I was more against the Idea of the level of warnings system. <br><br></td></tr></table><br>
<a name="2014314"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @FlameDuck: ...but how many people even remember Gremlin Graphics (or even Infogrames)? <br></div><br>The original Alone in the Dark games were AWESOME! :D <br><br></td></tr></table><br>
<a name="2014868"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have stopped to use strict these days just because it does not do what I want it to.<br><br>I want two things: <br><br>1. That my code can be clear and easy to read<br>2. That the compiler catches 'obvious' misstakes I make<br><br>There is a balance to be struck when debugging time is great in relation to that you need to write to much extra code that does little. <br><br>This just my opinion on it:<br>1) Implicit int type declared (eg: "Local x")<br>I want this rule enforced<br><br>2) Implicit return statement declared (eg: missing return statement)<br>This rule I want, but I feel VOID is the logical thing for method-returns to have if the return type is left-out, not default int. However I can happily live without this rule since it rarely results in complex bugs imo.<br><br>3) Implicit float-&gt;int conversion (eg: Local x:Int=10.0)<br>Unless boxing takes place, I want no warning for this, since it often just results in cluttered casting-code from my experience in C#. I have not found this a source of many errors anyway.<br><br>4) Implicit bool conversion (eg: If x Then...)<br>I want no warning for this. This is one of those very neat things with Monkey. I just love that you can also do this with Objects to see if they are null.<br><br><b>PLEASE:</b><br>However I do not like that Then is allowed to be used when the If-Statement is NOT a one-liner. Also I do not like that Then can be omitted when the if-statement is a one-liner. Not only does it **** up intellisense and syntax parsing, it also makes code LESS clear in my opinion and less consistent - though it seems *most* monkey users use 'Then' on single-liners and not otherwise. So that is why I think enforcing this ALWAYS would not be a pain for many, but it would give the community more readable monkey code.<br><br>5) Unreachable code<br>I want a warning for this, if the compiler is accurate in determining this. It would also be nice if the compiler could generate some optional compiler response on the methods,fields,classes,modules that were actually translated, so that "unused" areas of the code can be highlighted by editors such as Jungle.<br><br>One thing I like very much in Monkey is that parentheses can be omitted. This makes a lot of code super neat, and if any kind of strict would force me to write unnecessary parenthesis again I'm happy to live without strict.<br><br>I like the concept of Warnings. Instead of "errors" I can get info that certain files *might* contain something suspicious or out-of the normal and  if I can toggle them off from the editor (using compiler options) even better. And with warnings everything could still compile - I just get notified of the trespassing - also very easy for an editor to pick up and show these. <br><br></td></tr></table><br>
<a name="2014864"></a>

<a name="2014863"></a>

<a name="2014861"></a>

<a name="2014860"></a>

<a name="2014859"></a>

<a name="2014857"></a>

<a name="2014858"></a>

<a name="2014862"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> GfK worked for Gremlin Graphics (granted, not as a programmer AFAIK), but how many people even remember Gremlin Graphics (or even Infogrames)? <br></div>Correct.  I worked for Gremlin Interactive from 1998, until 2001 when Infogrames bought them out and promptly sacked everybody.<br><br>I did a brief but exhausting stint (6 months or so) in QA, and the rest in motion capture.  I also did some stuff for them in Visual Basic 6 but I'd been programming on the Amiga since the early 1990s and had my first game published in 1994 (which is partly what got me the job in the first place) and Amstrad Locomotive Basic back to 1986.  This is my 25th year of programming (and so far, the best!) <br><br></td></tr></table><br>
<a name="2014871"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> OT: Hmm, I wrote to Gremlin around 1997/1998 over something to do with the MASK game, I imagine, on the Amstrad (I *really* liked Locomotive Basic!) and they sent me a load of free stuff... probably wasn't you, though... <br><br></td></tr></table><br>
<a name="2014872"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nah, we weren't allowed contact with the outside world! <br><br></td></tr></table><br>
<a name="2014885"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> unreachable code warning sounds good, <br>the other warnings I dont mind about really <br><br></td></tr></table><br>
<a name="2014897"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> One thing that I do wish we had language-wise was php-style arrays, <br><br>Please. God. No.  <br></div><br>Please. God. No. +1<br><br>I would love this kind of warnings added to the compiler and, while you're at it (Mark) it would be also absolutelly nice if the compiler does not provide only the first compilation error it gets. A complete list of errors would be much more elegant IMHO.<br><br>And the idea of making it just superstrict with errorlevel 5 or something like this... well, I see no point in giving all warinings the same level of importance. It's not the same to let an implicit bool conversion in a IF sentence than to forget to return a value in a non void function which could mean the function does not provide proper execution results and produce harder to maintain code in the long run. The more flexible and configurable the warnings thing is, the better.<br><br><br>Now, a personal thought (take it or leave it, I'm trying to be constructive):<br><br>I do agree Monkey is not a beginners language but it is high level enough to be sold to beginners with a good IDE or editor, better documentation and more and better examples. <br><br>Maybe it would be a good idea to have a "monkey samples" section in the forums, so we all can contribute and, every once in a while, someone at BRL could collect the best samples and game demos and add them to the Monkey mojo demo, etc. Marketing, you know... :D hehehe By the way, by the best samples I mean the best looking samples, not the best samples to learn the thing (the idea is to sell the Monkey first, and the look and feel in the very first impression is deterministic). <br><br></td></tr></table><br>
<a name="2014894"></a>

<a name="2014896"></a>

<a name="2014919"></a>

<a name="2014920"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> while you're at it (Mark) it would be also absolutelly nice if the compiler does not provide only the first compilation error it gets. A complete list of errors would be much more elegant IMHO. <br></div> Indeed agree on this! <br><br></td></tr></table><br>
<a name="2014932"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Indeed agree on this! <br></div><br>Me too! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
