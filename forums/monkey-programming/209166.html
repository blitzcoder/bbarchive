<!DOCTYPE html><html lang="en" ><head ><title >Experimental v82b now up! [MONKEYNEWS]</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Experimental v82b now up! [MONKEYNEWS]</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Experimental v82b now up! [MONKEYNEWS]</a><br><br>
<a name="2096909"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>[edit] v82b now up! See below for latest tweaks... [/edit]<br><br>Experimental v82a is now available!<br><br>The main tweak with this version is a change to the preprocessor that means import statements are now processed while a source file is preprocessed, not after.<br><br>So this code:<br><br>[code]<br>Import something	'where module something defines #BLAH...<br><br>#If BLAH<br><br>#EndIf<br>[code]<br><br>Will now work as expected.<br><br><div class="quote"> <br>***** v82b *****<br><br>Fixed glfw3 windows/linux gcc builds dumping obj files in same dir.<br><br>Fixed val decls can have void type.<br><br>Upped max debugger array elements dumped from 10 to 100.<br><br>Fixed issue with alias statements confusing/crashing new import handling.<br><br>***** v82a *****<br><br>Fixed some typos in brl.datastream.<br><br>Imports now happen while preprocessing, not after.<br><br>Fixed c++ issue with reflection and recent extends null fixes.<br><br>Fixed html5 webaudio panning issue - panningModel now set to "equalpower".<br> <br></div> <br><br></td></tr></table><br>
<a name="2096908"></a>

<a name="2095989"></a>

<a name="2096054"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImmutableOctet(SKNG)</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is fantastic, thank you, Mark. The preprocessor works exactly how I wanted it to. Even the test files I made work now. Now I just need to fix up a few of my modules, so there's consistency for the preprocessor checks.<br><br><b>EDIT: See below for my detailed post on an issue I found (And unless I'm missing something, I fixed it) with this update to the compiler. My previous comments still apply though, good work, Mark.</b> <br><br></td></tr></table><br>
<a name="2096029"></a>

<a name="2096021"></a>

<a name="2095994"></a>

<a name="2095998"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amon</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, Mark. <br><br></td></tr></table><br>
<a name="2096005"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GW_</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> awesome! <br><br></td></tr></table><br>
<a name="2096006"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Playniax</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Imports now happen while preprocessing, not after. <br></div><br><br>:) <br><br></td></tr></table><br>
<a name="2096007"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Erik</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great, thanks.<br><br>A note about the defines:<br><br>I have just tested GLFW_WINDOW_SAMPLES from the earlier version and it works great, just what I needed. <br>It is however very strange to have these kind of options as defines, in a real game the user should of course be able to change them in an options window or an ini file, so the following defines should imho be changed to functions:<br><br>GLFW_WINDOW_SAMPLES<br>GLFW_WINDOW_WIDTH<br>GLFW_WINDOW_HEIGHT<br>GLFW_WINDOW_FULLSCREEN<br>GLFW_WINDOW_DECORATED<br><br>If it's to much work to be able to set them at runtime, perhaps we could have a #ENGINE_INI_FILE defined instead and have the options read from that ini file at startup.<br><br>As it is right now it's impossible to write a real desktop game without shipping a myriad of exe files for different configurations.<br><br>What every game for desktop need that is missing right now is:<br>- Some defines in an ini file or functions as above.<br>- SetWindowPosition, GLFW_WINDOW_DECORATED is also very commonly used for borderless fullscreen so we need to set the position to 0,0<br>- SetMousePosition, or MouseDeltaX, for any game where you steer something with the mouse, like an fps camera.<br>- MouseZ, for the scrollwheel.<br>- SetMouseVisible(True/False)<br><br>I could of course write it myself but I think it would be a good idea to implement the few missing functions needed for a complete desktop solution in the main release.<br><br>Some functions are very easy to add, here is what I use right now:<br><pre class=code>
 static void SetMousePos(int x, int y){
    GLFWwindow *window=BBGlfwGame::GlfwGame()-&gt;GetGLFWwindow();
    if( window ) glfwSetCursorPos(window,x,y);
  }
  static void SetMouseVisible(bool visible){
    GLFWwindow *window=BBGlfwGame::GlfwGame()-&gt;GetGLFWwindow();
    if( window ) glfwSetInputMode(window, GLFW_CURSOR, visible ? GLFW_CURSOR_NORMAL:GLFW_CURSOR_HIDDEN);
  }       
</pre> <br><br></td></tr></table><br>
<a name="2096011"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leginus</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Excellent Mark Thanks for your continued dedication and hard work! <br><br></td></tr></table><br>
<a name="2096053"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImmutableOctet(SKNG)</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> In hindsight, I have actually found one <i>somewhat small</i> problem with the new version of 'trans'.<br><br><b>It would seem that the 'Alias' keyword can cause the compiler to crash with this version. It seems to be related to <a href="https://github.com/blitz-research/monkey/blob/cda30956cdae33ae0c3a0e46d75fdaab30991e34/modules/trans/parser.monkey#L1633" target="_blank">this line</a>, and especially <a href="https://github.com/blitz-research/monkey/blob/cda30956cdae33ae0c3a0e46d75fdaab30991e34/modules/trans/parser.monkey#L1644" target="_blank">this line</a>.</b><br><br>After a <i>not so quick</i> look at this, I realized the effect you were looking for might be better handled with 'PushEnv' and 'PopEnv'. After testing this, I can confirm that this fixed the problem in the situation I tested. From what I understand, the crash was from a chain of events, which begin at lines <a href="https://github.com/blitz-research/monkey/blob/cda30956cdae33ae0c3a0e46d75fdaab30991e34/modules/trans/parser.monkey#L1633" target="_blank">1633</a> and <a href="https://github.com/blitz-research/monkey/blob/cda30956cdae33ae0c3a0e46d75fdaab30991e34/modules/trans/parser.monkey#L1644" target="_blank">1644</a> of 'trans.parser' (The 'ParseMain' method's 'Alias' code). Basically, the entire issue is that '_env' is being set to 'Null', instead of being restored. So, when '_env' is used later (By the preprocessor), you get a memory access violation. Weirdly enough, this problem can only be seen from the preprocessor of the module doing the importing of the module which has the aliases in question. If the first module / build file has aliases, there's no issue (For that module, I'm pretty sure this will still happen anyway).<br><br>The fix would be something like this (This may require more testing):<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
PushEnv _module	'naughty! Shouldn't be doing GetDecl in parser...

Repeat
	Local id:=ParseIdent()
	decl=scope.FindDecl( id )
	If Not decl Err "Identifier '"+id+"' not found."
	If Not CParse( "." ) Exit
	scope=ScopeDecl( decl )
	If Not scope Or FuncDecl( scope ) Err "Invalid scope '"+id+"'."
Forever

'_env=Null

PopEnv '/naughty
</textarea><br><br>Basically, I just restore the old version of '_env', so we don't have any issues.<br><br><b>Here's an example which will cause this issue:</b><br><br><b>"module01.monkey":</b><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Strict

Public

' Preprocessor related:
#TEST = True

' Imports:

' This will set forth the events that will make the compiler crash without my fix.
' Read through 'module02', then come back here.
Import module02

#Rem
	Since '_env' was modified, if 'EvalBool' is called by the compiler, a memory access violation will occur.
	
	This only happens if this module (The module importing 'module02'; 'module01') tries to
	use anything with the preprocessor which needs 'EvalBool' (Likely others as well).
	
	Oddly enough, it doesn't actually cause an error if you use a literal instead of 'Test',
	but that's not really the point here.
#End

' The compiler will cause a memory access violation here.
#If TEST
	' This point won't be reached currently; my fix will reach here, however.
	#Error "This is a test."
#End

' Functions:
Function Main:Int()
	' Nothing's actually needed here, it'll cause a memory access violation before this.
	
	' Return the default response.
	Return 0
End
</textarea><br><br><b>"module02.monkey":</b><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Strict

Public

' Imports:

' This is just used as an example, I just needed a class to alias.
Import mojo.app

' Aliases:

#Rem
	This won't cause the violation directly, but it will mess with '_env'.
	
	Also note that this has to be an non-target-specific type. If 'Int' or similar is used,
	it'll just continue the routine before even messing with '_env'.
	
	Basically, from here, any modules importing this module ('module02') will be unable to
	pre-process anything without causing an error. See 'module01' for details.
#End

Alias TestAlias = app.App
</textarea><br><br><b>Assuming I understood the point of all of that, my fix should work just fine. It doesn't have any issues with the above example. I had a hell of a time debugging this (And not in a good way), so here's hoping this is the last of that for now.</b> <br><br></td></tr></table><br>
<a name="2096030"></a>

<a name="2096028"></a>

<a name="2096027"></a>

<a name="2096026"></a>

<a name="2096025"></a>

<a name="2096024"></a>

<a name="2096023"></a>

<a name="2096022"></a>

<a name="2096020"></a>

<a name="2096019"></a>

<a name="2096018"></a>

<a name="2096036"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sereschkin</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you Mark. Good job! <br><br></td></tr></table><br>
<a name="2096120"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SGEM</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Mark,<br><br>I'm not certain if this the correct place, but I have a change to the core mojo for Android which I think would be beneficial for everyone - I discuss it in the 2nd post here: <a href="http://www.monkey-x.com/Community/posts.php?topic=9153." target="_blank">http://www.monkey-x.com/Community/posts.php?topic=9153.</a>  In short it makes games on android devices massively more response when loading textures.  The work I did was based upon 79, but I would be happy to port it to any version you nominate.<br><br>Is there any way for me to contribute this as (understandably) the mojo implementation for android etc are not on github.<br><br>By the way thank you for such a fantastic tool.  I am really enjoying working with Monkey.  Keep up the good work! <br><br></td></tr></table><br>
<a name="2096166"></a>

<a name="2096167"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >golomp</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you Mark !<br><br>I use preprocessor commands and import a lot. This evolution give me some ideas.<br><br>Best regards<br>Golomp<br><br>P.S. : +1 for SGEM advice, Monkey is really fabulous. <br><br></td></tr></table><br>
<a name="2096168"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Salmakis</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Dear mark, thanks for your work and upkeeping efford with monkey =) <br><br></td></tr></table><br>
<a name="2096286"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >itto</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks :) <br><br></td></tr></table><br>
<a name="2096364"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pharmhaus</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> @SGEM<br><br>I think it would be best if you create a zip and post it at the bug forums. <br><br></td></tr></table><br>
<a name="2096389"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImmutableOctet(SKNG)</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> @SGEM: DO NOT do what Pharmhaus just said. If you upload any source code or related software from Mojo's Android backend (Excluding the actual target), you will be illegally distributing it. Uploading it to the forums doesn't change it from potentially being illegal distribution.<br><br>You should probably <a href="http://www.monkey-x.com/Account/showuser.php?id=1" target="_blank">email Mark about integrating your changes</a>. That's a lot less shady. <br><br></td></tr></table><br>
<a name="2096439"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; Assuming I understood the point of all of that, my fix should work just fine.<br><br>Yes, this fix looks good to me. The alias code in the parser was overwriting the _env pushed by the preprocessor, which wasn't an issue when preprocessing occured before parsing. Ideally, I think I'd like to see the preprocessor merged with the parser, but that's a job for another day...<br><br>Regarding the android fixes, feel free to email them to me, or to post 'snippets' to the bug reports or programming forum. But please don't just post an entire modified android mojo somewhere!<br><br>Regarding the glfw functions, perhaps the best solution is to just expose all of glfw3, eg:<br><br><pre class=code>
Module brl.glfw3
Extern
Function glfwSetWindowPos( window:GLFWwindow,x:Int,y:Int )...or whatever it's called.
...etc...
</pre><br><br>There's a fair bit in glfw that I don't know about that someone's likely to want sooner or later, so perhaps it's better to throw it all in (or at least make a start).<br><br>Or, the internal glfw game target class could be exposed, extended eg:<br><br><pre class=code>
GlfwGame.GetGlfwGame().SetWindowPos 10,20
</pre><br><br>But I think I prefer the first way - a wee bit messier but you can do whatever you want with it. <br><br></td></tr></table><br>
<a name="2096531"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EdzUp</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well when the gflw adjustments are made so we can make desktop window changes from one exe then we will be a big step nearer to max's functionality.<br><br>Personally i would love a external tool to setup the icons for targets etc this would be brilliant. If it could also be merged in Ted that would make it more nearer a complete solution instead of where we are atm where we have to manually setup everything.<br><br>By rights if the language is perfect we should never need to delve into any part of the files to reconfigure anything it should ALL be done via the IDE or language. <br><br></td></tr></table><br>
<a name="2096549"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Erik</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Regarding the glfw functions, perhaps the best solution is to just expose all of glfw3, eg: <br></div><br><br>Sure, perhaps something similar to the opengl modules.<br><br>Btw, it would be great with an opengl es 3 module so we can use texture arrays. Since the makeglxx program is done perhaps it's not that much work? <br><br></td></tr></table><br>
<a name="2096542"></a>

<a name="2096654"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SGEM</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Regarding the android fixes, feel free to email them to me, or to post 'snippets' to the bug reports or programming forum. But please don't just post an entire modified android mojo somewhere! <br></div><br><br>Thanks Mark.  I am in the final stages of releasing my latest app.  Once I have seen how this change performs in the wild over the Christmas period I'll be confident to submit it to you. <br><br></td></tr></table><br>
<a name="2096719"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi did you take a look at this bug yet?<br><a href="http://www.monkey-x.com/Community/posts.php?topic=9152" target="_blank">http://www.monkey-x.com/Community/posts.php?topic=9152</a><br>thanks <br><br></td></tr></table><br>
<a name="2096802"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pit</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi all.<br><br>something I don't understand: when i look at the "product updates" I still see as last version 0.77A (since month now)<br>and here we spoke about an experimental 0.82A<br><br>there was no 78, 79 80 or 81 version ?<br><br>Pit <br><br></td></tr></table><br>
<a name="2096804"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Volker</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Pit,<br><br>they are all there. Have you registerd your product? Someone else with the same problem wrote:<br>"I'm goob, i forgot to register monkey x pro when i bought it ... now to find my reg code...." <br><br></td></tr></table><br>
<a name="2096806"></a>

<a name="2096807"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImmutableOctet(SKNG)</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> @pit: <b>You should be able to go to the <a href="http://www.monkey-x.com/Account/produpdates.php" target="_blank">"Product Updates" section</a> where the other versions were. On the bottom right, there should be an "Experimental Versions" thing. That's where the main releases have been.</b><br><br>Assuming you don't have that option (I'm not sure if experimental builds are available to free users), you could always clone/download from <a href="https://github.com/blitz-research/monkey" target="_blank">the official GitHub repository</a>. Just note that if you do have the full version of Monkey, you'll want to move over your target-specific Mojo implementations to your <a href="https://github.com/blitz-research/monkey/tree/develop/modules/mojo/native" target="_blank">"modules/mojo/native"</a> folder. There may be version conflicts.<br><br><b>You really should have that experimental builds option, so you shouldn't need to do anything manually.</b><br><br>If this is about owning the full version, and not having it registered to your account, please <a href="http://www.monkey-x.com/Account/regprod.php" target="_blank">enter your product key on this page</a> (Monkey's product registration page). <br><br></td></tr></table><br>
<a name="2096805"></a>

<a name="2096816"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pit</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> H iguys,<br><br>and thanks for your answer.<br>:-)<br><br>I don't see the link to the experimental version.<br><br>But, indeed, I have the FREE version.<br>So, it's probably only available for the PRO version ?<br><br>does it means that 77a version is the only last official version ?<br>Or is there another offcial new version but only for PRO version ?<br><br>Cheers<br><br>Pit <br><br></td></tr></table><br>
<a name="2096818"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> if you want the newest version or the experimental version you need to pay. :) otherwise what you are using is the newest. <br><br></td></tr></table><br>
<a name="2096819"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pit</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok thanks !<br><br>I understand !<br>and what's the newest version (not hte experimental) of the PRO version ?<br><br>Pit <br><br></td></tr></table><br>
<a name="2096824"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> 81b <br><br></td></tr></table><br>
<a name="2096842"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pit</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok<br>So I think I should upgrade to verison PRO <br><br>Thanks<br><br>Pit <br><br></td></tr></table><br>
<a name="2096844"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Steve Ancell</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> @pit:<br><br>You go make that purchase, you'll be glad ya' did. ;) <br><br></td></tr></table><br>
<a name="2096853"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EdzUp</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> Mark I know its been asked for before but could we have '#MONKEY_IMAGEDIRECTORY' and '#MONKEY_SOUNDDIRECTORY' compiler directive so we dont have to have the 'mygame.data' folder we could do things like:<br>MyGame and have Graphics, Sound, LevelData in there and have a<br><br>#MONKEY_IMAGEDIRECTORY = "Graphics"<br>#MONKEY_SOUNDDIRECTORY = "Sound"<br>#MONKEY_DATADIRECTORY = "LevelData"<br><br>this basically would allow us to use whatever directory structure we wanted and with the platform directives we could then have different media for any particular platform not only that we could also have demonstration versions in the same directory etc just with different data. This feature would also bring it closer to max which would be another BIG plus for people migrating from max/blitz3d etc. <br><br></td></tr></table><br>
<a name="2096878"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SLotman</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why? You can as well do<br><br>/data/graphics<br>/data/sound<br>/data/levelData<br><br>At least, It's what I do here. no need for new flags. <br><br></td></tr></table><br>
<a name="2096916"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EdzUp</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> What I meant is the mygame.data directory being got rid of and allowing us to use our own directory structure <br><br></td></tr></table><br>
<a name="2096926"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> v82b is now up... <br><br></td></tr></table><br>
<a name="2096942"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pit</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi guys,<br><br>following your advices, I did it :-)<br>I'm now in pro version, 81b.<br><br>Long life to Monkey !<br><br>Pit <br><br></td></tr></table><br>
<a name="2097072"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you very much for continuing the free bug fixes and small improvements!<br><br>Happy new year to Mark and the Monkey-X community! :) <br><br></td></tr></table><br>
<a name="2097070"></a>

<a name="2097071"></a>

<a name="2097077"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sereschkin</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you for these improvements. It gets better and better. Is there any roadmap / plans / decissions for V83? <br><br></td></tr></table><br>
<a name="2097080"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> ... <br><br></td></tr></table><br>
<a name="2097079"></a>

<a name="2097597"></a>

<a name="2097598"></a>

<a name="2097601"></a>

<a name="2097602"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SLotman</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't understand. Just downloaded 82b, and now I'm getting "Type 'App' not found" on<br><pre class=code>
Class Game Extends App 
</pre><br><br>What is going on....? This code compiles fine in 0.80b...?!<br>(And it happens on all targets, even HTML5!)<br><br><br>Edit: Strange, after I imported mojo, it compiled. But on earlier versions, I have mojo imported in the first lib I import into this code, and didn't need to import it again.<br><br>Something like<br><br>Import mylib<br>Class Game Extends App<br>End Class<br><br>mylib:<br>Import mojo<br>function myfunction()<br>End function <br><br></td></tr></table><br>
<a name="2097603"></a>

<a name="2097604"></a>

<a name="2097605"></a>

<a name="2097606"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> Did you "Import mojo"?<br>Thats where the App definition is.<br><br>Never mind I see you figured it out. <br><br></td></tr></table><br>
<a name="2097617"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImmutableOctet(SKNG)</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> @SLotman: If 'mojo' is imported publicly by any of the modules you import, you will have its functionality. However, if you only import a specific part of Mojo, you might end up not having all of the functionality delegated to you. If you're unsure in a situation like this, just import the modules you need from the original module. Or, you could always use a "common imports" module, but I'm generally against that for less dependent projects like standalone modules. Games shouldn't have too much of a problem with this.<br><br>The 'Import' functionality has not changed its behavior, but the newest versions of Monkey do have a new implementation (Which allows better integration of the preprocessor). But, I've done extensive testing with this, and I can confirm that this change performs as expected.<br><br>The 'App' class is found in 'mojo.app', and you should probably be importing 'mojo' or its sub-modules from the modules which are using Mojo as a crucial portion. Since we're talking about your main 'Game' class, you should definitely have an import for Mojo at the top of that class's module (file). And assuming you want to do more advanced things than just setup an application, you should probably just import 'mojo' to be safe. <br><br></td></tr></table><br>
<a name="2097630"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SLotman</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thing is, the same code compiles at earlier versions of Monkey, and on .82b doesn't until I set "import mojo" in the main code.<br><br>What I have is exactly this:<br><br><pre class=code>
Import iglib

Class Game extends App
End Class

Function Main()
   New Game()
End Function
</pre><br><br>And iglib:<br><pre class=code>
Import mojo.app
Import mojo.graphics
Import mojo.input

(bunch of functions below)
</pre><br><br>That doesn't compile on .82b - but it does on .80 and before. If I add "Import mojo" in the first code, then it compiles.<br>So, it's not 100% compatible with previous code, for sure. <br><br></td></tr></table><br>
<a name="2097642"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImmutableOctet(SKNG)</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> Assuming those imports were public (Which is the default), then it should work without a problem.<br><br>In fact, this code compiles just fine for me (As expected):<br><br>"Main.monkey" (This is the build file; it doesn't matter what you call it):<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Strict

Public

' Imports:
Import test

' Functions:
Function Main:Int()
	' Start the game.
	New Game()
	
	' Return the default response.
	Return 0
End

' Classes:
Class Game Extends App
	' Methods:
	Method OnCreate:Int()
		' Run the 'Test' function; found in the 'test' module.
		Test()
		
		' Close the application.
		OnClose()
		
		' Return the default response.
		Return 0
	End
End
</textarea><br><br>"test.monkey":<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Strict

Public

' Imports:
Import mojo.app
Import mojo.graphics
Import mojo.input

' Functions:
Function Test:Void()
	Print("Hello, world.")
	
	Return
End
</textarea><br><br><b>The above program simply exits and displays "Hello, world." in the console.</b><br><br>That compiles without any errors; I have no idea what's causing your problem. <b>I'm running V82(B) myself, and I'm having no issues compiling this.</b> You're not using a non-game target (Basically just C++ Tool (STDCPP)), are you? Because, the only other explanation I can think of is that you're missing the Mojo implementation for the target you're building for. <br><br></td></tr></table><br>
<a name="2097641"></a>

<a name="2097636"></a>

<a name="2097637"></a>

<a name="2097640"></a>

<a name="2097833"></a>

<a name="2097834"></a>

<a name="2097835"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SLotman</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nope, that happened to me for *all* targets. HTML5, Android, desktop...<br><br>I wasn't using "strict" at the top of the code, maybe that's the difference?<br><br>Edit: The strange thing is that now it is working. Go figure. <br><br></td></tr></table><br>
<a name="2097836"></a>

<a name="2097837"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> it works fine here!<br>have you tried reinstalling Monkey? <br><br></td></tr></table><br>
<a name="2098004"></a>

<a name="2098006"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EdzUp</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can we have 32bit binaries for Linux, before everyone jumps in saying about recompiling the binaries this netbook only has limited space so I don't want to install Qt creator etc just so I can use one system.<br><br>I need the 32bit binaries as the netbook is 32bit there isn't a 64bit cpu in the netbook and due to time constraints and limited coding time I use a netbook. If there isn't gonna be 32bit binaries in future versions of monkey I will have to look to using something else for development like code::blocks and use c++ <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
