<!DOCTYPE html><html lang="en" ><head ><title >Byte types</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Byte types</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Byte types</a><br><br>
<a name="2075480"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>Monkey as i understand it does not support byte types and this is so to stay target compatible. Are byte types still not supported?<br><br>The reason I ask is I use them in my networking code for my Blitz Max game and will have to change things round a bit to support integers where bytes are used. Right now I capture keyboard sequences as bytes and would have to shift this to integers which gets costly for the server with a few hundred clients being supported.<br><br>No biggie just getting up to speed. ;)<br><br>Thanks, <br><br></td></tr></table><br>
<a name="2075481"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >computercoder</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thats right. You can see a list of all the supported types in the documentation as well - Select the "Language" link, then click the "Types" link. :)<br><br>Here's a quick list of what is there:<br>Boolean<br>Integer<br>Floating point<br>String<br>Array<br>Object <br><br></td></tr></table><br>
<a name="2075487"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> another way to use byte types is to use DataBuffers:<br><a href="http://monkeycoder.co.nz/docs/html/Modules_brl.databuffer_DataBuffer.html" target="_blank">http://monkeycoder.co.nz/docs/html/Modules_brl.databuffer_DataBuffer.html</a><br><br>i think every target supports databuffers.  it's not direct access so the implementation is a bit slower (verrrry slow on android, java's fault).<br>otherwise, bitshifting and masking ints is probably what you'll need to do. <br><br></td></tr></table><br>
<a name="2075491"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Galt</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's a shame there's not a 'desktop only' mode that supports more of the stuff Blitzmax did. <br><br></td></tr></table><br>
<a name="2075497"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> ^ It is, but understandable. Marks goal has been to resist this and I think and he is really right about it.<br><br>Really I was checking in to see if this issue had changed. I have been so busy writing Phoenix USC that I am now just getting to the point of looking at a Money port. The last time I really used Monkey was during beta testing and since then a lot has improved. It looks as if UDP networking is getting in place and that's a must for me. <br><br>Small things like byte types are missed here in Monkey and other features as well. But if there is one thing I am good at it's finding cleaver ways to get around limitations. ;)<br><br>- Rich - <br><br></td></tr></table><br>
<a name="2075502"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Galt</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I half agree with you, Rich. I can certainly understand why Mark made that decision. Thing is, I like to write as much reusable code as possible and right now there's always the conundrum of whether to start something in Monkey or Max.<br><br><div class="quote"> I have been so busy writing Phoenix USC that I am now just getting to the point of looking at a Money port <br></div>Ha! Freudian slip? ;) <br><br></td></tr></table><br>
<a name="2075513"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> John,<br><br>"Ha! Freudian slip? ;) "<br>LOL.. more like I need to put on my dam glasses. Twas funny though. :)<br><br>I feel ya. I have written my project with the goal of porting it to Monkey from the start. It is possible to make it easier if you avoid using Bmax specific commands and I have for example taken steps to stay as port friendly as possible really thinning the commands I use and maintaining a structure that ports as well as possible. Even going to the extent of writing my own window based GUI so that I can port it to Monkey. Not an easy task for sure but worth it and if you stick to using commands that cross over to Monkey very doable. A good example of this is the Bananas example simple_vertlet_physics (under my name) which is a straight up port of grable's Blitz Max code (see code archives) and I added it as an example of how easy it can be to port over Blitz Max code. That took less then a day to port over and get running. It really is a matter of resisting the use of Blitz Max specific commands and structure.<br><br>I'll let you know how it goes for me as I will try to port over my GUI code first which is a really good test of how well I've done in making my Blitz Max project Monkey friendly. <br><br></td></tr></table><br>
<a name="2075512"></a>

<a name="2075511"></a>

<a name="2075517"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Galt</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, Rich. Some interesting insight there to mull over on keeping things 'portable'. I'm glad to here porting is not too arduous if you play it right. I've been watching Phoenix with interest as I like what you've been doing with it. Now I have yet another reason to keep an eye one it!<br><br>MonkeyMax looks like a nice option for porting the other way although development seems to have stalled.<br><a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=1647" target="_blank">http://www.monkeycoder.co.nz/Community/posts.php?topic=1647</a> <br><br></td></tr></table><br>
<a name="2088743"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EdzUp</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have never understood why it was never in there tbh, c has char as a byte value (unsigned char for 0-255), iOS has the can as obj c is basically just c with extra stuff. Java has byte too ( <a href="http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html" target="_blank">http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html</a> ) so why is it not in there. It would allow loads of us to do simple file and network stuff. <br><br></td></tr></table><br>
<a name="2088756"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Karja</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> MonkeyMax is still being updated now and then. I used it to release my latest game, so I add features I need and keep it compatible with the latest Monkey releases whenever I upgrade my Monkey installation. Make sure you get it from the Google Code site though: <a href="https://code.google.com/p/monkey-max/wiki/MonkeyMax" target="_blank">https://code.google.com/p/monkey-max/wiki/MonkeyMax</a> <br><br></td></tr></table><br>
<a name="2088759"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Note that all numeric types in Java are signed, so you would need to use char, short or int.  This is why InputStream.read() returns an int instead of a byte.  Also char is two bytes in Java to support wide characters. <br><br></td></tr></table><br>
<a name="2089016"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EdzUp</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there a way to read the bytes of a file (as bytes not ints) and do adjustments on them and get the 0-255 value out. As an example read in a value say character A (ASCII 65) take say 799 from it and get a 0-255 out ie it wraps to byte values?<br><br>With monkey having ints everywhere it does cause a few issues with file access areas. <br><br></td></tr></table><br>
<a name="2089018"></a>

<a name="2089019"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Is there a way to read the bytes of a file (as bytes not ints) and do adjustments on them and get the 0-255 value out. As an example read in a value say character A (ASCII 65) take say 799 from it and get a 0-255 out ie it wraps to byte values? <br></div><br>As a start:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Import brl.databuffer

'   Class Byte
'           Method New()
'               byteBuffer.PokeByte(0,0)
'           End
'           Method New(byteValue:Int)
'               byteBuffer.PokeByte(0,byteValue &amp; $FF)
'           End
'           Method New(byte:Byte)
'               byteBuffer.PokeByte(0,byte.Get() &amp; $FF)
'           End
'   
'           Method Set(byteValue:Int)
'               byteBuffer.PokeByte(0,byteValue &amp; $FF)
'           End
'           Method Set(byte:Byte)
'               byteBuffer.PokeByte(0,byte.Get() &amp; $FF)
'           End
'           Method Get:Int()
'               Return byteBuffer.PeekByte(0) &amp; $FF
'           End
'           'Method Get:Byte()
'           '    Return New Byte(byteBuffer.PeekByte(0) &amp; $FF)
'           'End
'   
'           Method value(byteValue:Int) Property
'               byteBuffer.PokeByte(0,byteValue &amp; $FF)
'           End
'           Method value(byte:Byte) Property
'               byteBuffer.PokeByte(0,byte.Get() &amp; $FF)
'           End
'           Method value:Int() Property
'               Return byteBuffer.PeekByte(0) &amp; $FF
'           End
'           'Method value:Byte() Property
'           '    Return New Byte(byteBuffer.PeekByte(0) &amp; $FF)
'           'End
'       Private
'           Field byteBuffer:DataBuffer = New DataBuffer(1)
'   End

Class Byte
        Method New()
            byteBuffer = 0
        End
        Method New(byteValue:Int)
            byteBuffer = byteValue &amp; $FF
        End
        Method New(byte:Byte)
            byteBuffer = byte.value &amp; $FF
        End

        Method Set(byteValue:Int)
            byteBuffer = byteValue &amp; $FF
        End
        Method Set(byte:Byte)
            byteBuffer = byte.value &amp; $FF
        End
        Method Get:Int()
            Return byteBuffer &amp; $FF
        End
        'Method Get:Byte()
        '    Return New Byte(byteBuffer &amp; $FF)
        'End

        Method value(byteValue:Int) Property
            byteBuffer = byteValue &amp; $FF
        End
        Method value(byte:Byte) Property
            byteBuffer = byte.value &amp; $FF
        End
        Method value:Int() Property
            Return byteBuffer &amp; $FF
        End
        'Method value:Byte() Property
        '    Return New Byte(byteBuffer &amp; $FF)
        'End
    Private
        Field byteBuffer:Int
End

Function Main()
    Local buffer := DataBuffer.Load("/Users/danilo/test.cs")
    If buffer
        Local byte1 := New Byte(buffer.PeekByte(0))
        Print( byte1.value )
        byte1.value = byte1.value - 799
        Print( byte1.value )
        byte1.value = byte1.value + 255
        Print( byte1.value )
        byte1.value = byte1.value + 256
        Print( byte1.value )
        byte1.value = byte1.value + 257
        Print( byte1.value )
        byte1.value -= 255
        Print( byte1.value )
        byte1.value -= 256
        Print( byte1.value )
        byte1.value -= 257
        Print( byte1.value )
    Else
        Print("Can't read file")
    Endif

    Print("----------")

    Local byte2 := New Byte(250)
    For Local i:=0 Until 10
        byte2.value += 1
        Print( byte2.value )
    next

    Print("----------")

    byte2.value = 6
    For Local i:=0 Until 10
        byte2.value -= 1
        Print( byte2.value )
    next

End</textarea> <br><br></td></tr></table><br>
<a name="2089017"></a>

<a name="2089022"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EdzUp</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks will take a look <br><br></td></tr></table><br>
<a name="2089030"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Display all (unsigned) Bytes in a file:<br><pre class=code>Import brl.databuffer

Function Main()
    Local buffer := DataBuffer.Load("/Users/danilo/test.cs")
    If buffer
        For Local i := 0 Until buffer.Length()
            Local byte:Int = buffer.PeekByte(i) &amp; $FF
            Print( byte + " - " + String.FromChar(byte) )
        next
    Endif
End</pre> <br><br></td></tr></table><br>
<a name="2089029"></a>

<a name="2089033"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EdzUp</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> So from what i can gather its the &amp; $FF on the code to get the byte value <br><br></td></tr></table><br>
<a name="2089041"></a>

<a name="2089043"></a>

<a name="2089044"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, it is used to mask out the lowest 8 bits of the int. To convert a 16bit Short, you would take $FFFF.<br>You can take binary numbers if you want:<br><pre class=code>Function Main()

    Local byte1:Int = 250
    For Local i:=0 To 10
        Print( byte1 &amp; $FF )                ' using hex $FF
        byte1 += 1
    Next

    Print("----------")

    Local byte2:Int = 250
    For Local i:=0 To 10
        Print( byte2 &amp; %11111111 )          ' using 8 binary bits
        byte2 += 1
    Next
    
    Print("----------")

    Local short1:Int = $FFFA
        For Local i:=0 To 10
        Print( short1 &amp; $FFFF )             ' using hex $FFFF
        short1 += 1
    next

    Print("----------")

    Local short2:Int = $FFFA
        For Local i:=0 To 10
        Print( short2 &amp; %1111111111111111 ) ' using 16 binary bits
        short2 += 1
    next

End</pre><br>It is the BITWISE AND ('&amp;') operation with 8 or 16 lowest bits, so all other (higher) bits get removed. <br><br></td></tr></table><br>
<a name="2089040"></a>

<a name="2089039"></a>

<a name="2089038"></a>

<a name="2089036"></a>

<a name="2089037"></a>

<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
