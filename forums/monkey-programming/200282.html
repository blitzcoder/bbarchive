<!DOCTYPE html><html lang="en" ><head ><title >Drawing packed sprites</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Drawing packed sprites</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Drawing packed sprites</a><br><br>
<a name="2001824"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raptisoft</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> For speed reasons on iPhone and Android, I group all my images together on one texture using a texture packing tool.<br><br>Like this: <br><img src="http://i.imgur.com/nmjle.png"><br><br>My packer tool can output the coordinates of each sprite on that texture... how can I get to them in Monkey?  I can load the image as a sprite... but how do I draw only from a certain rect on it?<br><br>Thanks,<br>John <br><br></td></tr></table><br>
<a name="2001826"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Indiepath</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> DrawImageRect( image:Image, x#, y#, srcX, srcY, srcWidth, srcHeight, rotation#, scaleX#, scaleY#, frame=0 )<br><br>image - image to draw.<br>x, y - coordinates to draw image at.<br>srcRect - source rectangle.<br>srcX, srcY, srcWidth, srcHeight - source rectangle.<br>rotation - local image rotation in degrees.<br>scaleX, scaleY - local image scale. <br><br></td></tr></table><br>
<a name="2001827"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> From the docs:<br>Function DrawImageRect( image:Image, x#, y#, srcX, srcY, srcWidth, srcHeight, frame=0 )<br><br>Function DrawImageRect( image:Image, x#, y#, srcX, srcY, srcWidth, srcHeight, rotation#, scaleX#, scaleY#, frame=0 ) <br><br></td></tr></table><br>
<a name="2001828"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oops. Beaten to it. <br><br></td></tr></table><br>
<a name="2001831"></a>

<a name="2001832"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raptisoft</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks... I'm having a little trouble quickly getting info out of the docs... used to having "search." :) <br><br></td></tr></table><br>
<a name="2001833"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raptisoft</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> At risk of cluttering the forums, I'll ask this here:<br><br>Is there a way, other than esoteric computation of scale, to draw my image within a quad?<br><br>For instance, is there any kind of DrawImageRect that will draw not with x#,y#, but x#,y#,width#,height#?<br><br>I use this technique in a lot of my special effects, but most important is one of the ways I handle multiresolution.  For instance, the iPhone version will run at 480x320, while the Windows one will run at 1024x768.  The iPhone one will have a MUCH smaller texture resource, but the same coordinate system in-game... so if I simply let Monkey scale things down for me, the smaller texture will mean everything renders very tiny, because I shrunk the texture so much.  But if I can specify a quad to draw the Sprite on, then I can resize that texture with abandon, and it'll always be the same size in-game. <br><br></td></tr></table><br>
<a name="2001852"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Thanks... I'm having a little trouble quickly getting info out of the docs... used to having "search." :)  <br></div><br><br>Look at the top right of the module docs. <br><br></td></tr></table><br>
<a name="2001854"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sknightly</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Raptisoft  You're looking for SetScissors, which does exactly that - clips rendering to a set rectangle. <br><br></td></tr></table><br>
<a name="2001863"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Volker</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Look at the top right of the module docs.  <br></div><br>Nice, haven't seen that. That's the handicap using large widescreen monitors.. <br><br></td></tr></table><br>
<a name="2001864"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raptisoft</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Perturbatio:<br>I still don't see it... I'm also on widescreen.  Top right of "Docs?"  It just has Monkey, centered.  Above it, it looks like something might be cut off in the Windows UI... <br><br></td></tr></table><br>
<a name="2001868"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you open file:///C:/Monkey/docs/modules/index.html#/mojo.graphics/SetBlend in your browser, do you see it? <br><br></td></tr></table><br>
<a name="2001869"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raptisoft</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh, now I do.  Thank you much... I was viewing that through the Monkey IDE itself, and it wasn't wide enough on my screen to show up. <br><br></td></tr></table><br>
<a name="2001873"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's not the width, it's because the Monk IDE is using:<br>file:///C:/Monkey/docs/modules/index_winmonk.html#/mojo.graphics/SetBlend<br><br>instead of:<br>file:///C:/Monkey/docs/modules/index.html#/mojo.graphics/SetBlend<br><br>I only found it because JungleIDE uses the second URL, the search is commented out on the first one. <br><br></td></tr></table><br>
<a name="2002008"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >matt</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> AFAIK Monk on Windows doesn't have Search due to some Internet Explorer issues. <br><br></td></tr></table><br>
<a name="2002009"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raz</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Adding nothing to this at all really, but those sprites are brilliant :) <br><br></td></tr></table><br>
<a name="2002018"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >matt</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I echo what raz says - top quality <br><br></td></tr></table><br>
<a name="2002027"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raptisoft</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh thanks very much... those are from my iPhone game Hoggy.  With luck, Monkey will help me export it to Flash. <br><br></td></tr></table><br>
<a name="2002031"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raz</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just watched a gameplay video of it :) If you can get it going on Android I'll happily buy a copy <br><br></td></tr></table><br>
<a name="2002062"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >filharvey</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey just downloaded you game, nice and cute.<br><br>Phil <br><br></td></tr></table><br>
<a name="2002204"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wagenheimer</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Raptisoft! Congratulations for the nice game! =)<br><br>"The iPhone one will have a MUCH smaller texture resource, but the same coordinate system in-game... "<br><br>Please, could you please explain a bit more this? Do you use the same texture for the Windows and Iphone version? How exactly do you do to keep the same coordinate system in-game using different game resolutions? <br><br></td></tr></table><br>
<a name="2002205"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wagenheimer</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> "For instance, is there any kind of DrawImageRect that will draw not with x#,y#, but x#,y#,width#,height#?"<br><br>Function DrawImageRect( image:Image, x#, y#, srcX, srcY, srcWidth, srcHeight, rotation#, scaleX#, scaleY#, frame=0 ) <br><br>Well, do you have scaleX and scaleY available here, I think you can simulate your need of width#,height# using scales and some math! =) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
