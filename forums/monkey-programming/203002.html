<!DOCTYPE html><html lang="en" ><head ><title >#REFLECTION_FILTER improvement or alternative?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >#REFLECTION_FILTER improvement or alternative?</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >#REFLECTION_FILTER improvement or alternative?</a><br><br>
<a name="2030519"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> EDITED TO ClARIFY THE ISSUE:<br><br>Ok, I've just seen that REFLECTION_FILTER is FILE based, so #REFLECTION_FILTER="main*" reflects everything declared in main.monkey and in any file that is imported by main <b>that is also in the same folder level as main or in a subfolder of the original main.monkey location</b>.<br><br>It would be very nice to have this explained a bit more in the docs. Also, I still think it would be great to be able to add files to the REFLECTION_FILTER from within an imported module. <br><br>Then, the problem I'm facing: I have a module that is a GUI library that is using reflection and it can't set its own filter in case it has been set by the main file, and if it is set in the main file, its own filter fails so the module does not work.<br><br>If we could have a sort of:<br>#REFLECTION_FILER+=<br><br>this would solve any of the potential issues explained here. (I feel a bit like I'm talking to myself in this thread, but just in case this is useful to others...) <br><br><br><div class="quote"> This is the old original post:<br>Am I right to assume it can only appear once in a whole project? I'm designing a framework and I would my module to be able to add some items to whatever reflectionfilter is already set, without resetting it. Something like REFLECTION_FILTER_ADD Is there any way to do this?<br><br>Ok, it seems this is a bug. <br>Example:<br>module:<br>Import reflection<br>#REFLECTION_FILTER="module*"<br><br>Now program using the module:<br>Import reflection<br>#REFLECTION_FILTER="program*"<br><br>Result= a mess. It is not working, or it is working partially, or nothing gets filtered and I get a HUGE application... Not sure it's a bug, but definitivelly this needs clarification and *maybe* a twist.<br><br>If I leave the #REFLECTION_FILTER only in one of the two places (the module of the program file) EVERYTHING is reflected. <br></div> <br><br></td></tr></table><br>
<a name="2030518"></a>

<a name="2030490"></a>

<a name="2030491"></a>

<a name="2030492"></a>

<a name="2030496"></a>

<a name="2030517"></a>

<a name="2030527"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> EDITED: See first post <a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=3002" target="_blank">http://www.monkeycoder.co.nz/Community/posts.php?topic=3002</a> <br><br></td></tr></table><br>
<a name="2030498"></a>

<a name="2030499"></a>

<a name="2030500"></a>

<a name="2030525"></a>

<a name="2030526"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> EDITED: See <a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=3002" target="_blank">http://www.monkeycoder.co.nz/Community/posts.php?topic=3002</a> <br><br></td></tr></table><br>
<a name="2030528"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> EDITED: See <a href="http://monkeycoder.co.nz/Community/posts.php?topic=3002" target="_blank">first post.</a> <br><br></td></tr></table><br>
<a name="2030520"></a>

<a name="2030521"></a>

<a name="2030522"></a>

<a name="2030523"></a>

<a name="2030524"></a>

<a name="2030516"></a>

<a name="2030532"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wiebow</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, this is a little something I had to figure out by experimenting with my unit test module... You can only have one filter per project: wiki entry: <a href="http://code.google.com/p/mutated-monkey/wiki/unittest" target="_blank">http://code.google.com/p/mutated-monkey/wiki/unittest</a><br><br>Being able to add more files to the filter would be really nice to have, indeed and would clear up this messy bit. Maybe Mark had to arrange this a certain way to guarantee certain prerequisites for all target languages. <br><br></td></tr></table><br>
<a name="2030533"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I know you can have just one filter per project. the problem I see is that this filter can only be set at one place. I see this as a problem. I think the reflection filter should be acting like a "concatenation", so any new reflection filter is added to the reflection filter, and affect following imports. <br><br></td></tr></table><br>
<a name="2030537"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wiebow</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I worded myself wrongly. I am aware that you know that there can be only one filter and it can only be in one place, and that concatenation of all the filters in the project files at the start of compilation would be awesome. <br><br></td></tr></table><br>
<a name="2030545"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jpoag</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> +1 agreed.  This would be an awesome addition. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
