<!DOCTYPE html><html lang="en" ><head ><title >MonkeyPro63 now up! [MONKEY NEWS]</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >MonkeyPro63 now up! [MONKEY NEWS]</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >MonkeyPro63 now up! [MONKEY NEWS]</a><br><br>
<a name="2042936"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>MonkeyPro63 is now up complete with new pixel read/write functions:<br><br><div class="quote"> 'create a new image...single frame only?<br>Function CreateImage:Image( width,height,flags )<br><br>'read from 'backbuffer'...<br>Function ReadPixels:Void( pixels:Int[], x:Int, y:Int, width:Int, height:Int,arrayOffset:Int=0, arrayPitch:Int=0 )<br><br>'write to image...must be a CreateImage image.<br>Method Image.WritePixels( pixels:Int[], x:Int, y:Int, width:Int, height:Int, arrayOffset:Int=0, arrayPitch:Int=0 )<br> <br></div><br><br><div class="quote"> <br>Modules:<br><br>mojo.graphics - Added CreateImage, ReadPixels, Image.WritePixels.<br><br>android mojo.graphics - Fixed ancient 'textures doesn't render first time' bug!<br><br><br>Trans (V1.39)<br><br>Removed pss target.<br> <br></div> <br><br></td></tr></table><br>
<a name="2041631"></a>

<a name="2036621"></a>

<a name="2036622"></a>

<a name="2036614"></a>

<a name="2036615"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why was the pss target removed? <br><br></td></tr></table><br>
<a name="2036616"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> And thanks for the read/write pixel functions. <br><br></td></tr></table><br>
<a name="2036617"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sounds cool. Is this like a manual render to texture then? <br><br></td></tr></table><br>
<a name="2036618"></a>

<a name="2036619"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> sexy. might be time to do some ray-tracing.<br><br>pss was removed since sony renamed it to psm. same thing. <br><br></td></tr></table><br>
<a name="2036620"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Updated monkey-ext to v63, although the only real change was removing the pss target and updating the trans version number, since Mojo is not part of monkey-ext. <br><br></td></tr></table><br>
<a name="2036625"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >impixi</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks. Those pixel operations seem to work well in HTML5 (IE9 and Chrome). <br><br></td></tr></table><br>
<a name="2036627"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh, I wasn't aware that we had the PSM and PSS target already. That makes sence to remove the PSS target. <br><br></td></tr></table><br>
<a name="2036628"></a>

<a name="2036629"></a>

<a name="2036630"></a>

<a name="2036635"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neuro</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Edit : nevermind nevermind...wow tonight is just sucking for me lol <br><br></td></tr></table><br>
<a name="2036632"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KaaPex</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Been waiting for. Thank you for this functional. <br><br></td></tr></table><br>
<a name="2036637"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CodeGit</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> WOW...thanks Mark. <br><br></td></tr></table><br>
<a name="2036638"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rumphiz</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> These new functions are very handy thanks.<br><br>Not quite sure I understand how to use them though, a small example would be great. <br><br></td></tr></table><br>
<a name="2036643"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Quick example, which draws a player and applies a mask colour (black) so it has alpha:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Strict

Import mojo

Function Main:Int()
	New MyApp()
	Return 0
End

Class MyApp Extends App
	Field player:Sprite
	Field enemy:Sprite
		
	Method OnCreate:Int()			
		SetUpdateRate(60)
		player = New Sprite
		enemy = New Sprite
		Return 0
	End
	
	Method OnUpdate:Int()
		If player.Collide(enemy) Then
			Print "Collide"
		End
		Return 0
	End
	
	Method OnRender:Int()
		Cls(0, 0, 0)
		player.Draw(MouseX(), MouseY())
		enemy.Draw(400, 300)
		Return 0
	End
End

Class Sprite
	Field image:Image
	Field pixels:Int[]
	Field createImages:Bool
	Field x:Float, y:Float
	
	Method New()
		image = CreateImage(100, 160)
		pixels = New Int[image.Width() * image.Height()]	
		createImages = True
	End
	
	Method Draw:Void(px:Float, py:Float)
		CreateImages()
		x = px
		y = py
		DrawImage(image, x, y)
	End
	
	Method CreateImages:Void()
		If Not createImages Return
		createImages = False
		Cls(0, 0, 0)
		' draw the head
		SetColor(255, 0, 0)
		DrawOval(50 - 15, 30, 30, 30)
		' draw arms
		SetColor(255, 255, 255)
		DrawRect(50 - 50, 60, 100, 20)
		' draw body
		SetColor(255, 255, 0)
		DrawRect(50 - 25, 60, 50, 50)
		' draw legs
		SetColor(0, 255, 255)
		DrawRect(50 - 25, 110, 20, 50)
		SetColor(0, 255, 0)
		DrawRect(50 + 5, 110, 20, 50)

		ReadPixels(pixels, 0, 0, image.Width(), image.Height())
		
		' convert the mask colour (black) to alpha
		For Local i:Int=0 Until image.Width() * image.Height()
			Local argb:Int = pixels[i]
			Local a:Int = (argb Shr 24) &amp; $ff
			Local r:Int = (argb Shr 16) &amp; $ff
			Local g:Int = (argb Shr 8) &amp; $ff
			Local b:Int = argb &amp; $ff

			If a = 255 And r = 0 And g = 0 And b = 0 Then
				a = 0
				argb = (a Shl 24) | (r Shl 16) | (g Shl 8) | b
				pixels[i] = argb
			End
		Next
		
		image.WritePixels(pixels, 0, 0, image.Width(), image.Height())

		image.SetHandle(image.Width() / 2, image.Height() / 2)

		SetColor(255, 255, 255)
		Cls(0, 0, 0)
	End
	
	Method Collide:Bool(sprite:Sprite)
		Local left1:Int = x + image.HandleX()
		Local top1:Int = y + image.HandleY()
		Local right1:Int = image.Width()
		Local bottom1:Int = image.Height()
		
		Local left2:Int = sprite.x + sprite.image.HandleX()
		Local top2:Int = sprite.y + sprite.image.HandleY()
		Local right2:Int = sprite.image.Width()
		Local bottom2:Int = sprite.image.Height()
		
		If RectsOverlap(left1, top1, right1, bottom1, left2, top2, right2, bottom2)
			Return True
		End
		Return False
	End
End

Function RectsOverlap:Bool(x1#, y1#, w1#, h1#, x2#, y2#, w2#, h2#)
	If x1 &gt; (x2 + w2) Or (x1 + w1) &lt; x2 Then Return False
	If y1 &gt; (y2 + h2) Or (y1 + h1) &lt; y2 Then Return False
	Return True
End</textarea> <br><br></td></tr></table><br>
<a name="2036642"></a>

<a name="2036644"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Arggghhh. Monkey is not that portable with TED anymore. Needs a certain Microsoft DLL (MSVCP100.DLL) to work which my work computer has not installed. Hopefully it will work once I copy that DLL at home into the folder were ted.exe is in. <br><br></td></tr></table><br>
<a name="2036645"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jondecker76</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep, same here with the MSVCR100.dll and MSVCP100.dll on my work computer - looks like I won't get to play today! <br><br></td></tr></table><br>
<a name="2036646"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >golomp</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> My god ! Thank you a lot Mark ! <br><br></td></tr></table><br>
<a name="2036648"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jondecker76</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Perhaps we'll be seeing some dynamic image loading soon now :)  Its the only thing keeping me from using monkey for my web design work! <br><br></td></tr></table><br>
<a name="2036647"></a>

<a name="2036650"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is brilliant that monkey is getting the ability to manipulate some pixels but there is one major flaw with the implementation. It is not possible to use the backbuffer or any drawing operations outside of OnRender. Essentially you are going to have to be doing a game "update" inside the render method, which is a bit counter-intuitive.<br><br>So this is not currently possible:<br><pre class=code>Import mojo

Function Main()
	New Game
End

Class Game Extends App
	Field land:Image
	
	Method OnCreate()
		'create land image buffer
		land = CreateImage(320, 240)
		
		'generate new land
		GenerateLand()
	End
	
	Method OnUpdate()
		
	End
	
	Method OnRender()
		Cls(0, 0, 0)
		DrawImage(land, 0, 0)
	End
	
	Method GenerateLand()
		Local pixels:Int[320 * 240]
		land.WritePixels(pixels, 0, 0, 320, 240)
	End Method
End</pre> <br><br></td></tr></table><br>
<a name="2036649"></a>

<a name="2036653"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >vbnz</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Mark for this feature and for the fast update!!!<br><br>Sincerely, vbnz. <br><br></td></tr></table><br>
<a name="2036655"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sub_Zero</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Good Work... more power to monkey <br><br></td></tr></table><br>
<a name="2036656"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Realtime image filtering!<br><br><img src="http://puu.sh/X6rw"><br><br>Notice the FPS... ;D <br><br></td></tr></table><br>
<a name="2036657"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> haha brilliant! <br><br></td></tr></table><br>
<a name="2036660"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> sweeet feature.  Fast enough to do big pixel operations?  Only one way to find out!  I'm excited 8D<br><br>great job ! <br><br></td></tr></table><br>
<a name="2036663"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pierrou</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, <br><br>Thanks for the update!<br><br>Sorry for being an absolute beginner but does that mean we could expect something like the SavePixmap command we had in BlitzMax in the future, or not at all? <br><br></td></tr></table><br>
<a name="2036669"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> does this mean i can draw some images to an image?<br><br>also in the example createimage seems to have more argument than <br>( width:Int, height:Int, flags:Int=image.defaultflags )<br><br>img=CreateImage(w,h,1,Image.MidHandle)<br><br>what does the 1 mean?<br><br>and in the demo, does this code change the colours?<br><div class="quote"> 		For Local i:=0 Until w*h*2<br>				If i&lt;w*h*2/3<br>					buf[i]|=$ff0000<br>				Else If i&lt;w*h*4/3<br>					buf[i]|=$00ff00<br>				Else<br>					buf[i]|=$0000ff<br>				Endif<br>			Next<br>			<br>			For Local i=0 Until h<br>				For Local j=0 Until w*2<br>					buf[i*w*2+j]=buf[i*w*2+j] &amp; $ffffff | (i*255/h) Shl 24<br>				Next<br>			Next <br></div> <br><br></td></tr></table><br>
<a name="2036666"></a>

<a name="2036667"></a>

<a name="2036668"></a>

<a name="2036672"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >benmc</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> The 1 typically refers to frames.  Does CreateImage have frames? <br><br></td></tr></table><br>
<a name="2036677"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>&gt; Yep, same here with the MSVCR100.dll and MSVCP100.dll on my work computer - looks like I won't get to play today! <br><br>These made it into the new demo, just not the main release (next time). You should be able to copy these in from the demo 'bin' directory.<br><br>&gt; Essentially you are going to have to be doing a game "update" inside the render method, which is a bit counter-intuitive.<br><br>Actually, you should be able to safely use Image.WritePixels outside OnRender(), just not ReadPixels - sort of like LoadImage. But yeah, the limitations on when you can render are a bit of a bummer. These are mainly due to android and xna, I'll have a poke around but I'm not sure there's anything I can do.<br><br>&gt; also in the example createimage seems to have more argument than <br>( width:Int, height:Int, flags:Int=image.defaultflags )<br><br>Ah yes, that's 'frameCount' - set to '1' for now! <br><br></td></tr></table><br>
<a name="2036679"></a>

<a name="2036681"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> Any chance in the future could we have: image.ReadPixels? <br><br></td></tr></table><br>
<a name="2036680"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Any chance in the future code we have: image.ReadPixels?  <br></div><br>I would like that too and a way to change the file outputs from the default MonkeyGame/.monkeystate please. <br><br></td></tr></table><br>
<a name="2036684"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >invaderJim</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Any chance in the future could we have: image.ReadPixels?  <br></div><br><br>I'm sure Mark's gonna implement this eventually, but I am just the PSM target away from having a GetImagePixels() function working.<br><br>I will post the module here as soon as I'm finished. <br><br></td></tr></table><br>
<a name="2036691"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> Pixel perfect collisions example using the new commands :)<br><br><a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=3488" target="_blank">http://www.monkeycoder.co.nz/Community/posts.php?topic=3488</a> <br><br></td></tr></table><br>
<a name="2036720"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >invaderJim</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, I've lost the fight against the PSM target.. for now. A nice, simple solution doesn't seem plausible, but I'm not too familiar with the API at all.<br><br>All of the other targets appear to be working.<br><br>It's usage is something like this:<br><br>[monkeycode]<br>Local pixels:Int[] = GetImagePixels(image, x, y, width, height)<br>[/monkeycode]<br><br>And I've included a test project that looks like this:<br><br>[monkeycode]<br>Import mojo<br><br>Import imagesextended<br><br>Class GetPixelsTest Extends App<br>	Field firstRender:Bool = True<br>	Field drawThing:Bool = False<br>	<br>	Field img:Image<br>	Field newImg:Image<br>	Field pixels:Int[]<br>	<br>	Method OnCreate()<br>		SetUpdateRate(60)<br>		<br>		img = LoadImage("numbers.png")<br>		<br>		newImg = CreateImage(128, 128)<br>	End<br>	<br>	Method OnUpdate()<br>		If KeyHit(KEY_SPACE) Or KeyHit(KEY_LMB)<br>			drawThing = True<br>		End<br>	End<br>	<br>	Method OnRender()<br>		Cls(110, 110, 110)<br>		<br>		If firstRender<br>			' I've thrown it in the render cycle here to ensure that the image is loaded, for HTML5.<br>			pixels = GetImagePixels(img, 0, 0, 24, 24)<br>			<br>			firstRender = False<br>		End<br>		<br>		If drawThing<br>			<br>			' I've wrapped Image.WritePixels to prevent nasty errors from drawing outside the image<br>			WriteImagePixels(newImg, pixels, Rnd(128), Rnd(128), 24, 24)<br>			<br>			drawThing = False<br>		End<br>				<br>		DrawImage(newImg, 200, 200)<br>	End<br>End<br><br><br>Function Main()<br>	New GetPixelsTest()<br>End<br>[/monkeycode]<br><br>And you can <a href="http://www.invaderjim.com/imagesextended.zip" target="_blank">download the module here.</a><br><br>Enjoy!<br><br>-Jim <br><br></td></tr></table><br>
<a name="2036727"></a>

<a name="2036728"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anatol</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>something ugly is going on with images that have an alpha channel - and only when you change the colour. SetColor(255, 255, 255) looks as it should.<br><br>Here's the code:<br><pre class=code>
Strict

Import mojo

Function Main:Int()
	New TestApp
	Return 0
End

Class TestApp Extends App
	
	Field testImage:Image
	
	Method OnCreate:Int()
		SetUpdateRate(60)
		testImage = LoadImage("imageWithAlphaTest.png")
		Return 0
	End
	
	Method OnRender:Int()
		Cls(255,255,255)
		SetColor(255,0,0)
		DrawImage(testImage, 50, 100)
		
		SetColor(255,255,255)
		DrawImage(testImage, 350, 100)
		Return 0
	End
	
End
</pre><br><br>Result in Monkey v63 (HTML5):<br><img src="http://content.screencast.com/users/nugob/folders/Jing/media/4de8e99c-fdf6-4359-bc83-c1f3ec979b74/Monkey%20v63%20image%20alpha%20issue.png"><br><br>To compare, result in Monkey v62:<br><img src="http://content.screencast.com/users/nugob/folders/Jing/media/a83b20da-a921-44e6-bbf5-597ea2521b86/monkey%20v62%20image%20with%20alpha.png"><br><br>Looks like a bug. <br><br></td></tr></table><br>
<a name="2036726"></a>

<a name="2036725"></a>

<a name="2036731"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>&gt; something ugly is going on with images that have an alpha channel - and only when you change the colour. SetColor(255, 255, 255) looks as it should.<br><br>Just posted a v63b with a fix for this. <br><br></td></tr></table><br>
<a name="2036732"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anatol</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great, thanks for the quick update! It works perfectly now. <br><br></td></tr></table><br>
<a name="2036736"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Just posted a v63b with a fix for this.  <br></div><br>You might want to update the demo again, Mark ;) <br><br></td></tr></table><br>
<a name="2036759"></a>

<a name="2036760"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AaronK</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi guys. Just upgraded to 63b and am getting these errors:<br><br>2012-08-21 21:49:03.824 xcodebuild[11548:5303]  DVTAssertions: Warning in /SourceCache/IDEXcode3ProjectSupport/IDEXcode3ProjectSupport-1559/Xcode3Sources/XcodeIDE/Frameworks/DevToolsBase/pbxcore/SpecificationTypes/XCGccMakefileDependencies.m:87<br><br>../glfw/lib/internal.h:58:10: fatal error: 'stdlib.h' file not found<br>#include &lt;stdlib.h&gt;<br><br><br>I'm using XCode 4.4.1 <br><br></td></tr></table><br>
<a name="2036758"></a>

<a name="2036757"></a>

<a name="2036756"></a>

<a name="2036765"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> AaronK: Did you delete your build directory? <br><br></td></tr></table><br>
<a name="2036767"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >NoOdle</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> AaronK: Have you installed command line tools? I had to do this before I could compile v63. In Xcode goto XCode-&gt;Preferences-&gt;Downloads and click on this install button. <br><br></td></tr></table><br>
<a name="2036791"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Landon</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> SQUEEEE!! now i can finish my html5 cardgame. <br><br></td></tr></table><br>
<a name="2036793"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> Trans seems quite a bit faster - just my imagination? <br><br></td></tr></table><br>
<a name="2036838"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, much faster here too. <br><br></td></tr></table><br>
<a name="2036839"></a>

<a name="2036840"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's interesting given that the only change to trans since v61b is the version number... <br><br></td></tr></table><br>
<a name="2036841"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >golomp</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Samah<br>Maybe due to binary representation of version number ?<br>:) <br><br></td></tr></table><br>
<a name="2036845"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe the console communication between TED/Trans is faster than Monk/Trans? <br><br></td></tr></table><br>
<a name="2036852"></a>

<a name="2036853"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @MikeHart: Maybe the console communication between TED/Trans is faster than Monk/Trans? <br></div><br>This is more likely.  I use Jungle, so I couldn't comment. :/<br><br><div class="quote"> golomp: Maybe due to binary representation of version number ? <br></div><br>Actually, the version number is stored as a string. <br><br></td></tr></table><br>
<a name="2036880"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzProg</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is going to benefit to my lastest apps. Greatly.<br><br>Before (Blocky shadows):<br><img src="http://www.monkeycoder.co.nz/Apps/screenshots/183-1.jpg"><br><br>After (Filtered shadows):<br><img src="http://familink.blitzspace.com/db/ZETI18JH/shadows.PNG"><br><br>(Made using a 22x18 image then scaling 32x) <br><br></td></tr></table><br>
<a name="2036876"></a>

<a name="2036884"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzProg</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> doublepost, sorry<br>Edit: Oh, and the 2nd was run in debug ^_^ in release, frame render is 14ms<br><br>Rendering something scaled takes a lot of time. I got to check about flash and android, tho.<br><br>Edit2: Actually, firefox is really slow at drawing scaled up images; been trying with chrome and the frame render time drops to only 8ms (from 13), and flash also gains the same speed up.<br><br>I love this update! <br><br></td></tr></table><br>
<a name="2036882"></a>

<a name="2036877"></a>

<a name="2036879"></a>

<a name="2036890"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shanon</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> BlitzProg, for some reason I think the blocky version looks cuter! <br><br></td></tr></table><br>
<a name="2036922"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grant</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm having trouble with the new WritePixels method, basically I just want to draw to a blank image. but how do I go about specifying a colour as a single integer? the examples so far seem to only deal with modification of a grabbed image. and shifting bits.<br><br>I would be very grateful if someone could post a very 'simple' strict example of a flood fill with random colours in a for next loop using CreateImage instead of modifying a grabbed image. just to let me see how its done, as I'm currently pulling my hair out.<br><br>many thanks, grant.<br><br>It's cool, I sussed it out :D<br>/me blames old age! <br><br></td></tr></table><br>
<a name="2036918"></a>

<a name="2036921"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >NoOdle</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#51">[#51]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I'm having trouble with the new WritePixels method, basically I just want to draw to a blank image. but how do I go about specifying a colour as a single integer? <br></div><br>[monkeycode]<br>Local argb : Int = ( alpha Shl 24 ) | ( red Shl 16 ) | ( green Shl 8 ) | blue<br>[/monkeycode]<br>where alpha, red, green and blue are integers in the range 0 - 255. Setting the pixels to the argb value will produce a colour of your choosing. Hope this helps <br><br></td></tr></table><br>
<a name="2036920"></a>

<a name="2036923"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grant</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#52">[#52]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks man, I just sussed that out before I noticed your speedy reply.<br><br>what a community! now to render my metaballs with pixels instead of DrawRects()! <br><br></td></tr></table><br>
<a name="2036929"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grant</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#53">[#53]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmmm, Everything seems to work as its supposed to, only the android performance seems unusually slow compared to html5, usually its android being faster than html5 for me, but this time html is leaving android standing when using write pixels, not just a little slower, painfully slower to the point of being useless for anything in real time on android.<br><br>my excitement is shot down in flames for the moment :(<br><br>has anyone else experienced this? <br><br></td></tr></table><br>
<a name="2037029"></a>

<a name="2037030"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >teremochek</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#54">[#54]</a></td></tr></table></td></tr><tr ><td class="posttext"> android on my game does not work.<br><br><pre class=code>
The application Electromon 
(process com.terem.electromon) 
has stopped unexpectrdly.
Please try again.
</pre> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
