<!DOCTYPE html><html lang="en" ><head ><title >Variable byte sizes</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Variable byte sizes</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Variable byte sizes</a><br><br>
<a name="2099284"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EdzUp</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> What are the size of the variables used by monkey.<br><br>I know that int is 4 bytes (32bit) but what are the others like bool and float etc? <br><br></td></tr></table><br>
<a name="2099285"></a>

<a name="2099286"></a>

<a name="2099287"></a>

<a name="2099288"></a>

<a name="2099289"></a>

<a name="2099296"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImmutableOctet(SKNG)</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> This depends on the target, but generally, 'Int' is going to be a signed 32-bit integer. This does not have to be the case, but it's preferred. The 'Float' type can either be 32-bit (Single precision), or 64-bit (Double precision) depending on the target and settings. On the C++ targets, for example, the 'Float' type can be manually set to double-precision with the preprocessor. This can be done by setting 'CPP_DOUBLE_PRECISION_FLOATS' to 'True' with the preprocessor. The 'Bool' type is generally a byte, however, this is also system specific. For example, some C++ compilers can optimize booleans to take up single bits each. On some platforms (Very rare), booleans take up the default integer size for performance reasons. Most platforms would just make it a byte (Octet), though. The 'String' class is a bit of a <i>special</i> type, as it's basically a consistent interface for many different string implementations on each of the targets. It doesn't work the same way as most external types, as it's partially stack-based on some targets. The 'Array' type works similarly.<br><br>That being said, for portability reasons, Monkey doesn't have actual 'Byte', 'Short', or 'Long' types. All it has is 'Int' and 'Bool' as far as ALU support goes. This can be worked around on <i>some</i> targets by using external classes/other. Some people have already modified 'transcc' (Monkey's compiler) to have smaller integer types on some platforms, though. I did this a long time ago, but I didn't bother uploading or maintaining it. I made a module for abstraction reasons, but that's not really useful for most people.<br><br>The only reason you'd really want smaller integer types is for long-term storage, though. Performance-wise, 'Ints' are generally as fast, if not faster. Having 'Long' would be nice, but I wouldn't hold my breath. It's not really perfect, but I did start a <a href="https://github.com/Regal-Internet-Brothers/sizeof" target="_blank">'sizeof' module</a> before. It's a bit overly complicated, considering the nature of the module.<br><br>It's best not to care about type sizes, though. Well, unless you're writing something which needs to care about it. For example, a hashing algorithm, or perhaps you're dealing with pixel-data in integers.<br><br><b>EDIT 01: Added an extra bit about 'CPP_DOUBLE_PRECISION_FLOATS'.</b><br><b>EDIT 02: I should also mention that types in Monkey are preferred as little-endian. This isn't always the case, though. <a href="http://www.monkey-x.com/Community/posts.php?topic=8703" target="_blank">The Flash target had floating-point problems with this, if I remember right</a>.</b> <br><br></td></tr></table><br>
<a name="2099295"></a>

<a name="2099294"></a>

<a name="2099293"></a>

<a name="2099291"></a>

<a name="2099292"></a>

<a name="2099290"></a>

<a name="2099297"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tiresius</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can you get byte-sized values by indexing a string? <br><br></td></tr></table><br>
<a name="2099303"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @tiresius: Can you get byte-sized values by indexing a string? <br></div><br>No, because strings in Monkey are usually implemented with wide characters.  Otherwise you wouldn't be able to do localisations to languages with non roman characters.<br><br>Also, variable types in Monkey all have set sizes if you're working purely within Monkey. <br><br></td></tr></table><br>
<a name="2099306"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EdzUp</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah I see I was talking about the basic values for each variable type<br><br>Int I know is 4 bytes<br>Bool should be 1 byte (minimum size a value can be allocated by cpu or something to that effect)<br>Float is four bytes<br>String minimum is eight for some reason (according to the docs) <br><br></td></tr></table><br>
<a name="2099367"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can't be sure how Bool in particular is implemented, though I'd guess that on most targets nowadays it's a byte.<br><br>If you are worried about efficiency, you can use flags instead of Bools, and pack 32 into an Int. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
