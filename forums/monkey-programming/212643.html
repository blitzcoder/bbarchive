<!DOCTYPE html><html lang="en" ><head ><title >Async image loading with mojo2</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Async image loading with mojo2</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Async image loading with mojo2</a><br><br>
<a name="2124094"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >itto</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I checked the documentation and the forums and what I understand is that async image loading basically works only for mojo1 images, is that so? If yes, has anyone managed to implement async image loading across all targets with mojo2 images?<br><br>I was thinking about creating a loader class where queued assets would be loaded once at a time synchronously, then delaying the loading of the next item in the queue until the next frame, but was hoping for a cleaner and non-blocking solution. <br><br></td></tr></table><br>
<a name="2124586"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Soap</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Find a solution? <br><br></td></tr></table><br>
<a name="2124587"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >itto</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nope, I didn't want to waste too much time on it.<br><br>I ended up implementing a loading queue and updating the gui the frame after every rrsource loaded. Works ok for a loading screen, but it's extremely limited anyway. <br><br></td></tr></table><br>
<a name="2124635"></a>

<a name="2124636"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Soap</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Anyone willing to do work to make Mojo2 work with the async image loading as a paid commission?<br><br>If not I'll do it myself as soon as I have time and post the changes. <br><br></td></tr></table><br>
<a name="2124638"></a>

<a name="2124639"></a>

<a name="2124640"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImmutableOctet(SKNG)</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I actually added this to '<a href="https://github.com/Regal-Internet-Brothers/mojoinmojo2" target="_blank">regal.mojoinmojo2</a>' last year. <a href="https://github.com/Regal-Internet-Brothers/mojoinmojo2/blob/master/asyncimageloader.monkey" target="_blank">Here's the relevant code</a>. When the operation finishes, <a href="https://github.com/Regal-Internet-Brothers/mojoinmojo2/blob/0c851b5d8fbee9601c47a905510486d036c1628c/graphics.monkey#L150" target="_blank">it constructs an image like this</a>; in other words, it uses 'Image.WritePixels'. <br><br></td></tr></table><br>
<a name="2124641"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImmutableOctet(SKNG)</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I decided to say screw it, and <a href="https://github.com/ImmutableOctet/mojo2_async_loaders-monkey" target="_blank">I wrote a demo</a>. That should do exactly what you're looking for. <br><br></td></tr></table><br>
<a name="2124746"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Soap</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Awesome! I'll take a look soon and report results. <br><br></td></tr></table><br>
<a name="2126621"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Soap</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Think I forgot to report that it worked great.<br><br>I was loading all JPEGs until now. It seems images with transparent backgrounds do not load right? <br><br></td></tr></table><br>
<a name="2126624"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImmutableOctet(SKNG)</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, this should be fixed now. Download the <a href="https://github.com/ImmutableOctet/mojo2_async_loaders-monkey/issues/1#issuecomment-281617265" target="_blank">latest version from GitHub</a>. <br><br></td></tr></table><br>
<a name="2126643"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Soap</td><td align="right"><font class=tiny>(Posted February)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Awesome! Works! Thank you! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
