<!DOCTYPE html><html lang="en" ><head ><title >Baking Tilemaps into Large Images?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Baking Tilemaps into Large Images?</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Baking Tilemaps into Large Images?</a><br><br>
<a name="2080768"></a>

<a name="2080769"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zoqfotpik</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Has anyone experimented with drawing tilemaps onto a large image and then moving that large image around rather than draw individual tiles?  This is an older technique that I've heard about some people using for phones, anyone here have any experience?<br><br>Obviously for a platformer you would need to use transparency in the front bitmap if you want parallax.  I have done this with my backgrounds and it seemed to increase performance mightily even on desktop. <br><br></td></tr></table><br>
<a name="2080789"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was looking into something like this, but haven't bothered making an implementation in monkey, first.  One of the issues that concerns me is the speed at which we'd be able to do something like this.  For scrolling games, you would either have to generate the entire texture at the beginning, (including splitting the textures into sizes the GPU can digest, typically 1024x1024), or come up with a method to dynamically generate larger "tiles" as the scrolling enters the visible area.  The latter is from what I can understand a classic problem for video games -- choosing a proper blit tile size to balance the generating speed vs. the speed the tiles are requested to minimize the perception of thrash and leave as many cycles open as possible for other operations.  <br><br>Maybe we won't be forced to choose, though, as some people are working on hacking a triangle-drawing routine into mojo so that we can have "real" stitched textures, which could get around the seams-in-tilemaps problem.  As it stands, blitting larger tiles in advance has the additional problem of dealing with animations, and you can see where this might start to become problematic.<br><br>One last thing -- for nDrawExts2, I determined that from the CPU on my Nexus S, a 256x256 texture would take about 50ms to generate the blit image.  That's the read speed, 3 frames;  I didn't actually test the write speed, but it means you'd basically have to cache as much source tile data as possible, and you'd be caching it raw into RAM, not VRAM, severely decreasing the amount of heap space you'd be allowed to play with.  These may not be concerns on the Desktop, but I'm guessing your question stems from efficiency on mobile.  Unfortunately, it seems that the hardware on modern devices just aren't made for the same techniques as older ones were.  There are no helpers for fast tile-based blitting, no special tile memory; everything's about blitting textures now.  So this technique of manually baking tiles far ahead of the visible area may in the end be mostly obsolete. <br><br></td></tr></table><br>
<a name="2080863"></a>

<a name="2080866"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zoqfotpik</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's what I suspected.  I got pretty good speed by rendering to a low res image and then scaling that.  Nice thing about it is you get virtual resolution basically free.<br><br>For my application (lots of small levels) four 1024.1024 textures woukd be enough.  Maybe I'll try it and see how it goes.  As for the texture generation, it wouldn't be the first time chugging was happening behind the curtains of a "Get Ready!" Message. <br><br></td></tr></table><br>
<a name="2081135"></a>

<a name="2081136"></a>

<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
