<!DOCTYPE html><html lang="en" ><head ><title >Possible to extend game via downloadable content</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Possible to extend game via downloadable content</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Possible to extend game via downloadable content</a><br><br>
<a name="2101928"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AJStubzy</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am looking into using Monkey to rewrite a game i wrote for Android using Marmalade (as i just can't get my head around native c++)<br><br>One of the features i am looking to implement, if possible, is to extend my game through downloadable levels. However, i need the downloadable content to communicate with the main program and vice versa.<br><br>So the main program loads, then a sub program load's within the main program.<br><br>The main program will control score's, controls and other global stuff, where by the level will just play within the canvas. When certain events trigger on the main program, these need to be passed to the level's and vice-versa.<br><br>Is this possible with Monkey? <br><br></td></tr></table><br>
<a name="2101929"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >k.o.g.</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why you don't create your levels with json or similar? <br><br></td></tr></table><br>
<a name="2101930"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AJStubzy</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Continuity, keeping the whole game designed in one language. Ideally, the levels will be created and compiled to a form of binary file which the main program will load.<br><br>Possible? <br><br></td></tr></table><br>
<a name="2101935"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sicilica</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> What k.o.g. was saying is, you need to separate your levels from the actual code.<br><br>What you are trying to do could work, theoretically, on at least the C++ desktop target. It could MAYBE be done on Android with some really involved hacks and workarounds, but on Android or almost any platform for that matter, the main issue is that your code is always running in a sandbox to keep the device safe, and what you're doing isn't really playing in that sandbox.<br><br>Your program should contain all the logic for how your game runs, but then your levels should be in external files that you use as resources. Think of it as using images, sounds, etc - the actual pixel data isn't a binary program, it's just stored externally and then read from disc by your main program. With your levels, you want to find some way to store them in their own files (say level1.level, level2.level and so on) and teach your main program how to parse those files. JSON and XML are really good examples of formats for storing that kind of arbitrary data in a text file. Personally, I use the open source Tiled editor (available at <a href="http://www.mapeditor.org/)," target="_blank">http://www.mapeditor.org/),</a> which uses an XML based format.<br><br>All your level files contain are the positions of objects - instructions that say, create an enemy here, make the ground solid here, and so on. They don't contain actual program code. Then it's a really simple job to download them from a webserver, store them on the filesystem, and read them later. <br><br></td></tr></table><br>
<a name="2101938"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Soap</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> To be absolutely clear, what OP wants is possible with monkey. <br><br></td></tr></table><br>
<a name="2101940"></a>

<a name="2101941"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> You have two options:<br><br>1:<br>Define your level features and hard code them into your game engine. So for example you would program all of your enemy types, item types, spring boards, platforms, etc. then you create level files that tell the game where to place scenery, enemies and items. If you want to get more complicated you could include things like enemy movement paths, missions and so on. <br><br>To make them downloadable you could do this with the httprequest module. You would need a web server to store your levels. Your best bet would be to write a nodejs/php backend to handle distributing the level files.<br><br>2:<br>If you wanted to have new game elements/behaviours included in your level files then you would have to move into the realm of writing a scripting language. There is minic <a href="http://www.monkey-x.com/Community/posts.php?topic=3616" target="_blank">http://www.monkey-x.com/Community/posts.php?topic=3616</a> hasn't been updated in a while I don't think but it would allow you to add scriptable features. <br><br></td></tr></table><br>
<a name="2101943"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AJStubzy</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Skn3, I’ll take a look at the mentioned add-on.<br><br>However, the 3rd option which I was hoping to do is as follows.<br><br>I write the level file as a monkey file (combination of functions) and compile this out to a binary file (Library)<br><br>The main program can then load this file and I can make call’s to it to run the relevant functions/code, and pass details back to the main program. Ideally, the library can made call’s to functions within the main program also.<br><br>When the level completes or ends, the library is unloaded, and returned to the menu. When a new level is selected, the new library is loaded and the process starts again. <br><br></td></tr></table><br>
<a name="2101945"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> That would be pretty complicated if it is possible at all.<br><br>A pragmatic solution would be to update the main program whenever you release a level that requires new functionality.  Then you can have the level data as separate downloadable content.<br><br>Code is generally small in size anyway - it is assets that take up space,  So your program will not grow huge. <br><br></td></tr></table><br>
<a name="2101946"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tiresius</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> What you want is doable with an interpreted language but Monkey is translated+compiled into separate executable code so this sort of thing would be very hard to do, especially "adding" to the game code via download.  I don't think you would want a copy of code for every level regardless?  If you really need something like this, binding your engine to a scripting language like LUA might be the only way to go.<br><br>As others have suggested, perhaps build up the engine to handle all the features and make separate level data files to activate them. <br><br></td></tr></table><br>
<a name="2101951"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you are compiling a dll/lib then you limit your target platforms. If you are just targeting say windows/Linux/Mac then this is a good (albeit a little heavy handed) approach.<br><br>If you are wanting to target mobile, why would you not want to lean on apple/Google content distribution networks and let them handle downloads of updates via respective app stores. If you host the extra features yourself, and you have a ton of players, your gonna be shelling out for server/bandwidth usage. I guess you avoid waiting for the updates to be approved by apple/google... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
