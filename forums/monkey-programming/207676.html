<!DOCTYPE html><html lang="en" ><head ><title >Loadstate and Savestate weirdness</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Loadstate and Savestate weirdness</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Loadstate and Savestate weirdness</a><br><br>
<a name="2074572"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John McCubbin</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> This just occured to me today (because I was building a game for desktop with the XNA target) that if you move your game to another folder, or rename the .exe the location of your savestate in "...AppData\Local\IsolatedStorage" changes, is that just how XNA does it or is that an inherent problem with LoadState and SaveState? <br><br></td></tr></table><br>
<a name="2074573"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >muddy_shoes</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Mojo uses this call to get the IsolatedStorageFile on Windows:<br><br><pre class=code>IsolatedStorageFile file=IsolatedStorageFile.GetUserStoreForAssembly();</pre><br><br>For an unsigned assembly this probably uses the URL as part of the assembly identification so if you move the executable (or swap from debug to release or vice versa) you may well end up with a different IsolatedStorageFile.<br><br>MSDN suggests using this call for Windows:<br><br><pre class=code>IsolatedStorageFile savegameStorage = IsolatedStorageFile.GetUserStoreForDomain();</pre><br><br>But whether that would resolve the folder issue I have no idea. <br><br></td></tr></table><br>
<a name="2074583"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John McCubbin</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the info muddy_shoes, I went ahead and changed the code in xnagame.cs to use GetUserStoreForDomain rather than GetUserStoreForAssembly but the same problem still persists, after reading this post from someone else it appears that the location and name of the storage file is not something the programmer can change, so thats kind of a pain, but if thats now its meant to work then you can't really argue, just a pity we cant save somewhere like my documents.<br><br><a href="http://go4answers.webhost4life.com/Example/isolated-storage-problem-49301.aspx" target="_blank">http://go4answers.webhost4life.com/Example/isolated-storage-problem-49301.aspx</a> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
