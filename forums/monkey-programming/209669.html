<!DOCTYPE html><html lang="en" ><head ><title >Disambiguating Import</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Disambiguating Import</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Disambiguating Import</a><br><br>
<a name="2101623"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Mark,<br>Say we have this situation:<br><pre class=code>modules\
    foo\
        foo.monkey
    bar\
        bar.monkey
        foo.monkey</pre><br>If in bar.monkey I use "Import foo", I'm pretty sure it's going to import bar.foo, so (as far as I know) there would be no way to import the top level module.<br><br>My suggestion is:<br>1) Make the Import statement always fully qualified, and<br>2) Change Import to allow modules prepended with a period to mean "module at the same level/directory".<br><br>Example:<br><pre class=code>Import foo ' imports the top-level module (foo) as if bar\foo.monkey did not exist
Import .foo ' imports the module from the same level/directory as the current file (bar.foo), as if the top-level module did not exist</pre><br><br>This also prevents you from having to fully qualify your own modules in certain situations (Import bar.foo).  It would break a lot of code, but it would only require developers to put a . at the front of their import to fix it.<br><br>Thoughts?<br><br>Samah <br><br></td></tr></table><br>
<a name="2101624"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not a bad idea, but IMO there are quite a few problems with the module system, to the point where I'd strongly recommend not using duplicate 'leaf' module names in the first place (eg: rename one foo to foo2) in which case this isn't a problem!<br><br>Not much of an answer I know, but I think the first thing to fix re: modules would be the ability to use full module paths in expressions - currently, you can't - there are some nasty parser issues that need fixing.<br><br>I have been giving this some thought recently though and will let you know what I come up with. <br><br></td></tr></table><br>
<a name="2101626"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @marksibly: Not much of an answer I know... <br></div><br>Actually that's kind of the answer I was hoping for! :)<br><br>Let's make the Module keyword more than just a compile error! <br><br></td></tr></table><br>
<a name="2101638"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EdzUp</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> One thing I got from this which is a pain is sometimes when your compiling and it comes up with 'duplicate variable name' and the file its pointing to isnt even imported into the program, surely this could be checked before throwing an error.<br><br>In the example I had StarRogueEditWrecks.monkey and had a class in it called WreckClass this wasnt even used just in the directory so I could cut and paste code etc from it, in my game I had WreckClass which was imported and I got a duplicate error about it which I thought was weird. <br><br></td></tr></table><br>
<a name="2101646"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; In the example I had StarRogueEditWrecks.monkey.,..<br><br>Hmm...have to see some sample code to make sense of that! <br><br></td></tr></table><br>
<a name="2101655"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EdzUp</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Will find the files and send em over <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
