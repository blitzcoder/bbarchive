<!DOCTYPE html><html lang="en" ><head ><title >Joypad not working</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Joypad not working</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Joypad not working</a><br><br>
<a name="2038118"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oddball</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> HI, I decided to give Monkey a go, but I have immediately hit a stumbling block. I don't seem to be able to get any data from my joypad. It's a Xbox 360 pad, and I'm using the GLFW target on a Mac. Here's some code to highlight my problem.<br><pre class=code>Strict

Import Mojo

Class Game Extends App
	Method OnCreate:Int()
		SetUpdateRate 60
		Return 0
	End


	Method OnUpdate:Int()
		Return 0
	End


	Method OnRender:int()
		Cls
		DrawText(JoyX(0,0)+" "+JoyY(0,0),100,100)
		Return 0
	End


End

Function Main:Int()
	New Game
	Return 0
End</pre>What am I doing wrong? <br><br></td></tr></table><br>
<a name="2038122"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Make sure you check for a button be pressed upfront! <br><br></td></tr></table><br>
<a name="2038123"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oddball</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Upfront of what? I've tried all axis and all button, and tried changing the unit number just in case, but nothing works. I've checked that the controller is working, and BlitzMax detects it fine. Does anyone have a simple example that they know works so I can test it? <br><br></td></tr></table><br>
<a name="2038124"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'd also try putting JoyX() in the OnUpdate routine instead of OnRender just in case. <br><br></td></tr></table><br>
<a name="2038125"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oddball</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is anyone trying the code I posted or are you just randomly suggesting things? All the Joy commands were in the OnUpdate when I first tried it. I only put them in the OnRender function to demonstrate my issue visually and give people some code to work with when helping me out. Has anyone successfully used a JoyPad in Monkey on a Mac yet? <br><br></td></tr></table><br>
<a name="2038130"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just tried the joypad on my mac, and it isn't working either. (OSX 10.7.3)<br>If you tap into the mojo source, mojo-&gt;native-&gt;mojo.glfw.cpp  uncomment line 1204 and it will give you direct glfw joy data.<br><br>I don't have a working test case, so I need to check if its the logitech or glfw. <br><br></td></tr></table><br>
<a name="2038127"></a>

<a name="2038128"></a>

<a name="2038132"></a>

<a name="2038133"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oddball</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've just started using monkey today so I have no idea what any of those things are you just said. Are you saying that the joypad functions are borked on Mac? I don't think I'll use monkey if that's the case. I can't use a dev environment where no one has noticed something that major as I can't be sure what else is borked too. <br><br></td></tr></table><br>
<a name="2038134"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I can't be sure what else is borked too.  <br></div><br>very true. there are a lot of things still getting hashed out.<br><br>my test case in blitzmax worked, so it is the glfw target. my guess is that it may never have supported it in the past. Not sure if Mark checked that or not, i'll ask.<br>It looks like the latest GLFW now has joystick support, so i'm trying that now. <br><br></td></tr></table><br>
<a name="2038138"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Oddball: Nothing works at all. Monkey is just a myth. Seriously, chill down and I am sure things will be settled. Post a bug report and Mark will look at it. The reason that it wasn't discover before could be that either noone used a joypad in GLFW on the MAC before or maybe this pad needs different handling in the native section. I know that RAZ created at least on XBOX game with Monkey and there the JOY.. fucntions work. What pad are you using btw? <br><br></td></tr></table><br>
<a name="2038139"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oddball</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hold the phone! Are you say that functions aren't implemented on all possible target before they are added? How am I supposed to know what functions I can use on my current target? The only target specific considerations the joypad docs mention are about the xna needing a button press first. I have to say my first impressions of monkey have been absolutely dreadful. I don't even mean just this issue. First thing I did was read the tutorials and found that half of the code in them was wrong and didn't work. I had to rewrite them as I went through them. I'm currently imagining a nightmare dev process if I switched over to monkey. I think I'm done here. <br><br></td></tr></table><br>
<a name="2038141"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Bye :-) <br><br></td></tr></table><br>
<a name="2038142"></a>

<a name="2038144"></a>

<a name="2038148"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> How am I supposed to know what functions I can use on my current target? <br></div><br>I think this has been the only undocumented function failure so far. Other things (like no opengl on certain targets, no mojo with opengl2.0) are documented.<br><br><div class="quote"> I'm currently imagining a nightmare dev process if I switched over to monkey. <br></div><br>yes, i had a rough time too at the beginning, but now i can't stay away. i was frustrated at how slow android turned out to be, and lack of pixel access. over time, these things have been improved. we now have pixel access and i approach android differently than other targets (because its android, not because of monkey).<br><br>EDIT:<br>glfw was the problem, the latest will fix that, but i found other errors in glfw. <br><br></td></tr></table><br>
<a name="2038149"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tri|Ga|De</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well I also had a few problems when I started, but now I have my first game released and i'm working on the second one.<br><br>I used this forum a lot while making my first game (and will properly also do it on the second one) and people are very helpful. Just don't give up so quickly. <br><br></td></tr></table><br>
<a name="2038160"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skid</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> The fact is OSX doesn't support plug and play of xbox controller.<br><br>To get XBox controller working on Mac for BlitzMax I had to install this driver:<br><br><a href="http://tattiebogle.net/index.php/ProjectRoot/Xbox360Controller/OsxDriver" target="_blank">http://tattiebogle.net/index.php/ProjectRoot/Xbox360Controller/OsxDriver</a> <br><br></td></tr></table><br>
<a name="2038161"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oddball</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> I already have the tattiebogle driver installed. I did state above that the controller is setup and works fine in everything except monkey. Skid are you saying the code above works for you? Adam gave me the impression that it doesn't work, and Mike gave me the impression that no one has ever tried to use a joypad in monkey on OS X. <br><br></td></tr></table><br>
<a name="2038162"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skid</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry, missed your BlitzMax reference. I'm not having much luck with GLFW target on Mac this morning, will reboot and try again. <br><br></td></tr></table><br>
<a name="2038164"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oddball</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok Skid, thanks for clarifying. <br><br></td></tr></table><br>
<a name="2038364"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skid</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've had more luck running GLFW on my Mac with MonkeyPro64b.<br><br>As there is no Mac joystick supported in GLFW I have grafted my freejoy implementation into the target and it seems to be working quite well. Email me if you want a version to test. <br><br></td></tr></table><br>
<a name="2038365"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>Mac Joypad support is apparently in the latest version of GLFW - will upgrade Monkey soon. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
