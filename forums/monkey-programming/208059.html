<!DOCTYPE html><html lang="en" ><head ><title >Monkey + Node-Webkit = fast builds</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Monkey + Node-Webkit = fast builds</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Monkey + Node-Webkit = fast builds</a><br><br>
<a name="2081553"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just discovered this the other day, and it's a nice way to compile quickly on the desktop for quick iterations. The advantage of this is that the HTML5 target doesn't pop up in the browser you're using. it's its own separate window.<br><br><b>1:</b><br>download node-webkit (pre-built binaries, win32, osx32):<br><a href="https://github.com/rogerwang/node-webkit" target="_blank">https://github.com/rogerwang/node-webkit</a><br><br><b>2:</b><br>extract this into Monkey/bin/node-webkit/<br>make a batch file to run, similar to this (win32) "nw_runner.bat":<br><pre class=code>
c:\Monkey\bin\node-webkit\nw.exe .
</pre><br>(don't forget that final ".")<br>if anyone knows a similar OSX batch file, please share!<br><br><b>2b:</b><br>for win32 and webgl, copy D3DCompiler_43.dll into the node-webkit folder. i found a copy with Ted, otherwise, it should be in the system folder.<br><br><b>3:</b><br>modify the config.winnt.txt<br><pre class=code>
HTML_PLAYER="${SYSTEMDRIVE}\Monkey\bin\node-webkit\nw_runner.bat"
</pre><br><br><b>4:</b><br>create this file in monkey/targets/html5/template:<br>"package.json"<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
{
  "name": "MonkeyGame",
  "main": "MonkeyGame.html",
  "window": {
    "width": 800,
    "height": 600
  }
}
</textarea><br>(you can make the width/height larger if you want)<br><br><b>5:</b><br>delete your html5 build folder, or copy the package.json into your old html5 folder, and away we go!<br><br>now when you run an HTML5 build, it pops up in a separate window.<br><br><br><b>notes:</b><br>The biggest problem i had was that Transcc seems to "lock" onto the Node-Webkit app and you need to manually stop it. too bad, as if this were not the case, you could quickly iterate as node-webkit will keep just the single process but reload the new files from your compile.<br><br><br>there are many options, and you get NodeJS commands. pretty snazzy. you could even package this up and distribute if you desire. *OR* you could wrap NodeJS and create a nice cross-platform GUI target.<br><br>for more info and tips, go to the wiki:<br><a href="https://github.com/rogerwang/node-webkit/wiki" target="_blank">https://github.com/rogerwang/node-webkit/wiki</a> <br><br></td></tr></table><br>
<a name="2080464"></a>

<a name="2080463"></a>

<a name="2080462"></a>

<a name="2080461"></a>

<a name="2080460"></a>

<a name="2080458"></a>

<a name="2080466"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> How easy would it be to set this up as an additional target so people can get the best of both worlds. <br><br></td></tr></table><br>
<a name="2080470"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> How easy would it be to set this up as an additional target so people can get the best of both worlds. <br></div><br>not that easy. you'd need to modify Transcc.<br>if BRL is interested, i could set this up as an unsupported "node-webkit" target and include it in the monkey builds.<br><br>I have to say, this has sped up my dev cycle! <br><br></td></tr></table><br>
<a name="2080468"></a>

<a name="2080481"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nikoniko</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>AdamRedwoods wrote:</b><br><div class="quote"> this has sped up my dev cycle! <br></div><br><br>How? By excluding launching of browser? <br><br></td></tr></table><br>
<a name="2080486"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SLotman</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, I don't get it either... what's the advantage of this over the desktop target? There's no browser there either, and you can even debug your program... <br><br></td></tr></table><br>
<a name="2080492"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> How? By excluding launching of browser? <br></div><br>well, generally i have many tabs open in my browser, so having a separate window is faster and more convenient.<br><div class="quote"> what's the advantage of this over the desktop target? <br></div><br>my desktop target is very slow to compile. the html5 is very quick.<br>you can even profile the code execution using the debug console. <br><br></td></tr></table><br>
<a name="2080503"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah my Desktop takes about 15-30 seconds to build but my html5 builds near instantly I always have my browser open so that's less of an issue for me.<br><br>I have another query tho, given the patchy support for audio over html5 there are times when we need to test via the browser to ensure things work as intended how would this webkit handle that, hoes does it handle sound. <br><br></td></tr></table><br>
<a name="2080523"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> audio works fine as far as i can tell.<br><br>maybe it's just a preference thing and how one wants their workflow, but i felt i needed something like this. <br><br></td></tr></table><br>
<a name="2081539"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >werton</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Many thanks for the useful tip.<br><br><div class="quote"> make a batch file to run, similar to this (win32) "<b>nw-runner</b>.bat" <br></div><br><div class="quote"> HTML_PLAYER="${SYSTEMDRIVE}\Monkey\bin\node-webkit\<b>nw_runner</b>.bat" <br></div><br>nw-runner &amp; nw_runner<br>this mistake cost me 15 minutes of my life :) <br><br></td></tr></table><br>
<a name="2081537"></a>

<a name="2081541"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Yeah my Desktop takes about 15-30 seconds to build <br></div>How lucky you are! I can leave the room, take a coffee, and then see whether the compilation was successful or not. <br><br></td></tr></table><br>
<a name="2081702"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Erik</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would recommend XNA, just as fast to compile, as good or better runtime performance as the desktop target and great performance analyzing tools if you install VS 2013, <a href="https://msxna.codeplex.com/releases" target="_blank">https://msxna.codeplex.com/releases</a> and <a href="http://stackoverflow.com/questions/17330810/xna-for-visual-studio-2013" target="_blank">http://stackoverflow.com/questions/17330810/xna-for-visual-studio-2013</a> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
