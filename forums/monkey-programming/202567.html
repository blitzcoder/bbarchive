<!DOCTYPE html><html lang="en" ><head ><title >Diddy virtual Resolution! Example?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Diddy virtual Resolution! Example?</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Diddy virtual Resolution! Example?</a><br><br>
<a name="2025398"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amon</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can someone who is more experienced with Diddy post an example of how to setup and use the virtual resolution commands?<br><br>ta! <br><br></td></tr></table><br>
<a name="2025399"></a>

<a name="2025400"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> There is an example within Diddy and the Spacebugs also uses the VR.<br><br><a href="http://code.google.com/p/diddy/source/browse/trunk/examples/VirtualRes/virtual.monkey" target="_blank">http://code.google.com/p/diddy/source/browse/trunk/examples/VirtualRes/virtual.monkey</a> <br><br></td></tr></table><br>
<a name="2025543"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amon</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks! <br><br></td></tr></table><br>
<a name="2025599"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amon</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Completely failed!<br><br>Say for instance I want to target the resolution for my Samsung Galaxy S2; what then do I do to alter the resolution and graphics to scale for tablets or Desktops?<br><br>Should I target for bigger screen devices first then scale appropriately for smaller screen?<br><br>If so how?<br><br>I noob.....therefore I am! <br><br></td></tr></table><br>
<a name="2028477"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have a few questions about this as well, given that the virtual res will scale rendered stuff, how would this then affect things like positioning and collisions.<br><br>if for example I am using basic rectsoverlap to check if my mouse is clicking in a box how would I adjust this to work at a variable resolution or is that some how handled by diddy. <br><br></td></tr></table><br>
<a name="2028478"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Amon - sorry for the late reply, I didnt see this post until Taiphoz bumped it. To answer your question: Its up to you. ;)<br><br>You set the screen size by: SetScreenSize(480, 320)<br>Then on any target no matter the size of the target's resolution it will be re-sized to fit the screen.<br><br>@Taiphoz - the beauty of the VR stuff is that it doesnt affect the internal coordinates. Normally you would need to "help" the mouse position, but on how Diddy is coded you dont need to worry about it. Go check out SpaceBugs and mess with the VR in that to get an idea on how it works. <br><br></td></tr></table><br>
<a name="2028479"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks therevills, when I get a sec to look at those examples will they show me how to adjust the mousex() touchx() joyx() etc so that it takes into account the screens resolution ?<br><br>if so sweet, will check it in the morning when I have the time. <br><br></td></tr></table><br>
<a name="2028482"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just reference game.mouseX and game.mouseY rather than calling MouseX() and MouseY().  Those variables get updated every loop to take into account the virtual resolution. <br><br></td></tr></table><br>
<a name="2028524"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Samah , any chance you could add support for TouchX,Y as well.<br><br>I checked the mouse stuff, works a treat , I assume adding touch support would be easy bud id rather not fork or alter didy in favour of it being officially supported.<br><br>Also possibly consider Joy support as well <br><br></td></tr></table><br>
<a name="2028522"></a>

<a name="2028526"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I thought MouseX,Y mapped to TouchX,Y anyway?<br><br>Why would JoyX,Y need adding, since the Joy(pad) doesnt depend on the screen coordinates? <br><br></td></tr></table><br>
<a name="2028525"></a>

<a name="2028574"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah.. I tried just plugging this into my game and it failed, I assume the scale stuff only works on game.image and not monkey native images?<br><br>I ask because my game uses an atlas which isnt supported by diddy as I recall so I have a mix of images I use via diddy and then images I just draw and use normally, namely ones coming out of my atlas via grabimage. <br><br></td></tr></table><br>
<a name="2028599"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry, what have you tried plugging into your game?<br><br>The "scale stuff" affects the entire viewport so it will work on everything. <br><br></td></tr></table><br>
<a name="2028615"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah what happened was the view port changed size, but the actual images didnt, so when I tried it on my menu screen I had half my screen size and the ui stayed at full size with only half the ui visible.<br><br>so it didnt scale at all. <br><br></td></tr></table><br>
<a name="2028633"></a>

<a name="2028634"></a>

<a name="2028635"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Heres a quick example, which uses GameImages, Images and Sprites:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Strict

Import diddy

Global gameScreen:GameScreen

Function Main:Int()
	game = New MyGame()
	Return 0
End

Class MyGame Extends DiddyApp
	Method OnCreate:Int()
		Super.OnCreate()
		SetScreenSize(320, 240)
		LoadImages()
		gameScreen = New GameScreen
		gameScreen.PreStart()
		Return 0
	End

	Method LoadImages:Void()
		images.Load("s.png")
	End
End

Class GameScreen Extends Screen
	Field gameImage:GameImage
	Field image:Image
	Field sprite:Sprite

	Method New()
		name = "Game"
	End
	
	Method Start:Void()
		gameImage= game.images.Find("s")
		image = LoadImage("graphics/s.png")
		sprite = New Sprite(gameImage, 50, 100)
		game.screenFade.Start(50, False)
	End
	
	Method Render:Void()
		Cls
		DrawText "GAME SCREEN!", SCREEN_WIDTH2, SCREEN_HEIGHT2, 0.5, 0.5
		FPSCounter.Draw(0,0)
		DrawImage gameImage.image, 100, 100
		DrawImage image, 200, 100
		gameImage.Draw(50,50)
		sprite.Draw()
	End
	
	Method DebugRender:Void()
		Local starty% = 120
		Local height% = 20
		DrawText "Device Width x Height = "+DEVICE_WIDTH+" x "+DEVICE_HEIGHT, 0, DEVICE_HEIGHT - starty
		starty-=height
		DrawText "Virtual Width x Height = "+FormatNumber(SCREEN_WIDTH, 3)+" x "+FormatNumber(SCREEN_HEIGHT,3), 0, DEVICE_HEIGHT - starty
	End
	
	Method Update:Void()
		If KeyHit(KEY_ESCAPE)
			game.screenFade.Start(50, True)
			game.nextScreen = game.exitScreen
		End
		If KeyDown(KEY_LEFT)
			SCREEN_WIDTH-=1*dt.delta
		End
		If KeyDown(KEY_RIGHT)
			SCREEN_WIDTH+=1*dt.delta
		End
		If KeyDown(KEY_UP)
			SCREEN_HEIGHT-=1*dt.delta
		End
		If KeyDown(KEY_DOWN)
			SCREEN_HEIGHT+=1*dt.delta
		End
		If KeyHit(KEY_SPACE)
			SCREEN_WIDTH = 480
			SCREEN_HEIGHT = 320
		End

		game.SetScreenSize(SCREEN_WIDTH, SCREEN_HEIGHT)
	End
End
</textarea><br><br>All 3 "types" of images scale fine...<br><br>How are you drawing your UI? <br><br></td></tr></table><br>
<a name="2028632"></a>

<a name="2028630"></a>

<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
