<!DOCTYPE html><html lang="en" ><head ><title >Exception not being hanlded?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Exception not being hanlded?</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=507" >Monkey Programming</a>/<a href="#bottom" >Exception not being hanlded?</a><br><br>
<a name="2031750"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> This doesn't handle the exception:<br>[monkeycode]Function Main()<br>	try<br>		Local a:List&lt;String&gt;<br>		a.AddLast("Hello!")<br>	Catch err:THROWABLE<br>		Print "Handled!"<br>	End Try<br>End[/monkeycode]<br>I'm posting this here as I'm not sure it's a bug or not, but looks very weird. <br><br></td></tr></table><br>
<a name="2031782"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>In Monkey, null object, array index and int divide by zero errors aren't exceptions, but runtime errors. <br><br>Runtime errors can't be caught - they are bugs in your program that need to be fixed. The Error function also generates such runtime errors.<br><br>I may add an OnError() handler similar to OnCreate() to allow you to execute some last minute cleanup code etc. in case you're writing code for nuclear reactors in Monkey, but in general the above errors should be considered 'irrecoverable'.<br><br>There are several reasons I didn't attempt to convert runtime errors to exceptions...<br><br>* Getting consistent behavior on all targets/all configs would have been difficult. ie: I would have had to enable runtime array index checks on the c++ release target, and added some divide by zero checking to JS/AS. Likely more. But IMO the above errors are programming errors and your app *shouldn't* continue anyway.<br><br>* The monkey modules are not necessarily 'exception safe', and writing exception safe code is not trivial...<br><br><a href="http://en.wikipedia.org/wiki/Exception_safety#Exception_safety" target="_blank">http://en.wikipedia.org/wiki/Exception_safety#Exception_safety</a><br><br>So, if the list or mojo or whatever module were to throw an exception, with the way the code is now, there's just no way your code could assume everything was hunky dory and continue anyway. <br><br></td></tr></table><br>
<a name="2031781"></a>

<a name="2031775"></a>

<a name="2031777"></a>

<a name="2031778"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >muddy_shoes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I may add an OnError() handler similar to OnCreate() to allow you to execute some last minute cleanup code etc. in case you're writing code for nuclear reactors in Monkey <br></div><br><br>Non-safety-critical systems need to catch errors and log failure information too. <br><br></td></tr></table><br>
<a name="2031821"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's ok, just wanted to be sure it was not a bug on the new exceptions implementation.<br><br>EDIT: I'm a bit with muddy-shoes here. Who says a Super Star Soccer match is not critical? hehe. Now, being serious, one of the things I really love about C# or Java is that you can get a lot of information when an exception occurs (call stack as instance) and it can help you a lot narrowing things on complex realtime applications (you know the typical bug that only happens when the user makes a chain of things in an specific order etc.) In this areas, being able to catch exceptions and inspect whatever has gone wrong by inspecting the call stack information that was involved in the exception being thrown can be very useful. I supose it can be way too complex, so maybe it should not be a priority, I don't know... This is just my impression on Monkey exceptions. Maybe it should be left this way, and expect this level of detail to be done into the native languages. I have never touched anything like expections on C++ or ActionScript, so I understand it may not be possible. <br><br></td></tr></table><br>
<a name="2031785"></a>

<a name="2031786"></a>

<a name="2031783"></a>

<a name="2031784"></a>

<a name="2031787"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you seen the mention of BlitzMax on the article about exception safety? It's cool :) <br><br></td></tr></table><br>
<a name="2098031"></a>

<a name="2098057"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sereschkin</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Any news on this? In my code I have to execute foreign Monkey code and this is not always  null-safe. Now I have no chance to catch an error, but modify given code to get around null access, right?<br><br><b>EDIT</b>: I guess not :( <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
